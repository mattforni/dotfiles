function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o.apply(this,arguments)}function s(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}"undefined"!=typeof __webpack_require__&&Object.defineProperty(__webpack_require__,"p",{get:function(){try{if("string"!=typeof webpackResourceBasePath)throw new Error("WebpackRequireFrom: 'webpackResourceBasePath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return webpackResourceBasePath}catch(t){return"#{root}/dist/webviews/"}},set:function(t){}});function r(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var a=r(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=r(/Edge/i),c=r(/firefox/i),h=r(/safari/i)&&!r(/chrome/i)&&!r(/android/i),d=r(/iP(ad|od|hone)/i),u=r(/chrome/i)&&r(/android/i),f={capture:!1,passive:!1};function p(t,e,n){t.addEventListener(e,n,!a&&f)}function g(t,e,n){t.removeEventListener(e,n,!a&&f)}function m(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function v(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function b(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&m(t,e):m(t,e))||i&&t===n)return t;if(t===n)break}while(t=v(t))}return null}var y,w=/\s+/g;function C(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(w," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(w," ")}}function S(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function _(t,e){var n="";if("string"==typeof t)n=t;else do{var i=S(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function x(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,s=i.length;if(n)for(;o<s;o++)n(i[o],o);return i}return[]}function E(){var t=document.scrollingElement;return t||document.documentElement}function T(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var s,r,l,c,h,d,u;if(t!==window&&t.parentNode&&t!==E()?(r=(s=t.getBoundingClientRect()).top,l=s.left,c=s.bottom,h=s.right,d=s.height,u=s.width):(r=0,l=0,c=window.innerHeight,h=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!a))do{if(o&&o.getBoundingClientRect&&("none"!==S(o,"transform")||n&&"static"!==S(o,"position"))){var f=o.getBoundingClientRect();r-=f.top+parseInt(S(o,"border-top-width")),l-=f.left+parseInt(S(o,"border-left-width")),c=r+s.height,h=l+s.width;break}}while(o=o.parentNode);if(i&&t!==window){var p=_(o||t),g=p&&p.a,m=p&&p.d;p&&(c=(r/=m)+(d/=m),h=(l/=g)+(u/=g))}return{top:r,left:l,bottom:c,right:h,width:u,height:d}}}function D(t,e,n){for(var i=O(t,!0),o=T(t)[e];i;){var s=T(i)[n];if(!("top"===n||"left"===n?o>=s:o<=s))return i;if(i===E())break;i=O(i,!1)}return!1}function A(t,e,n,i){for(var o=0,s=0,r=t.children;s<r.length;){if("none"!==r[s].style.display&&r[s]!==Nt.ghost&&(i||r[s]!==Nt.dragged)&&b(r[s],n.draggable,t,!1)){if(o===e)return r[s];o++}s++}return null}function k(t,e){for(var n=t.lastElementChild;n&&(n===Nt.ghost||"none"===S(n,"display")||e&&!m(n,e));)n=n.previousElementSibling;return n||null}function M(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Nt.clone||e&&!m(t,e)||n++;return n}function B(t){var e=0,n=0,i=E();if(t)do{var o=_(t),s=o.a,r=o.d;e+=t.scrollLeft*s,n+=t.scrollTop*r}while(t!==i&&(t=t.parentNode));return[e,n]}function O(t,e){if(!t||!t.getBoundingClientRect)return E();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=S(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return E();if(i||e)return n;i=!0}}}while(n=n.parentNode);return E()}function $(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function I(t,e){return function(){if(!y){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),y=setTimeout((function(){y=void 0}),e)}}}function L(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function N(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var P="Sortable"+(new Date).getTime();function R(){var t,n=[];return{captureAnimationState:function(){(n=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==S(t,"display")&&t!==Nt.ghost){n.push({target:t,rect:T(t)});var i=e({},n[n.length-1].rect);if(t.thisAnimationDuration){var o=_(t,!0);o&&(i.top-=o.f,i.left-=o.e)}t.fromRect=i}}))},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(n,{target:t}),1)},animateAll:function(e){var i=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof e&&e());var o=!1,s=0;n.forEach((function(t){var e=0,n=t.target,r=n.fromRect,a=T(n),l=n.prevFromRect,c=n.prevToRect,h=t.rect,d=_(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&$(l,a)&&!$(r,a)&&(h.top-a.top)/(h.left-a.left)==(r.top-a.top)/(r.left-a.left)&&(e=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(h,l,c,i.options)),$(a,r)||(n.prevFromRect=r,n.prevToRect=a,e||(e=i.options.animation),i.animate(n,h,a,e)),e&&(o=!0,s=Math.max(s,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),o?t=setTimeout((function(){"function"==typeof e&&e()}),s):"function"==typeof e&&e(),n=[]},animate:function(t,e,n,i){if(i){S(t,"transition",""),S(t,"transform","");var o=_(this.el),s=o&&o.a,r=o&&o.d,a=(e.left-n.left)/(s||1),l=(e.top-n.top)/(r||1);t.animatingX=!!a,t.animatingY=!!l,S(t,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),S(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),S(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){S(t,"transition",""),S(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}}var F=[],H={initializeByDefault:!0},z={mount:function(t){for(var e in H)H.hasOwnProperty(e)&&!(e in t)&&(t[e]=H[e]);F.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),F.push(t)},pluginEvent:function(t,n,i){var o=this;this.eventCanceled=!1,i.cancel=function(){o.eventCanceled=!0};var s=t+"Global";F.forEach((function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](e({sortable:n},i)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](e({sortable:n},i)))}))},initializePlugins:function(t,e,n,i){for(var s in F.forEach((function(i){var s=i.pluginName;if(t.options[s]||i.initializeByDefault){var r=new i(t,e,t.options);r.sortable=t,r.options=t.options,t[s]=r,o(n,r.defaults)}})),t.options)if(t.options.hasOwnProperty(s)){var r=this.modifyOption(t,s,t.options[s]);void 0!==r&&(t.options[s]=r)}},getEventProperties:function(t,e){var n={};return F.forEach((function(i){"function"==typeof i.eventProperties&&o(n,i.eventProperties.call(e[i.pluginName],t))})),n},modifyOption:function(t,e,n){var i;return F.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(i=o.optionListeners[e].call(t[o.pluginName],n))})),i}};function j(t){var n=t.sortable,i=t.rootEl,o=t.name,s=t.targetEl,r=t.cloneEl,c=t.toEl,h=t.fromEl,d=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,p=t.newDraggableIndex,g=t.originalEvent,m=t.putSortable,v=t.extraEventProperties;if(n=n||i&&i[P]){var b,y=n.options,w="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||a||l?(b=document.createEvent("Event")).initEvent(o,!0,!0):b=new CustomEvent(o,{bubbles:!0,cancelable:!0}),b.to=c||i,b.from=h||i,b.item=s||i,b.clone=r,b.oldIndex=d,b.newIndex=u,b.oldDraggableIndex=f,b.newDraggableIndex=p,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var C=e(e({},v),z.getEventProperties(o,n));for(var S in C)b[S]=C[S];i&&i.dispatchEvent(b),y[w]&&y[w].call(n,b)}}var U=["evt"],q=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.evt,r=s(i,U);z.pluginEvent.bind(Nt)(t,n,e({dragEl:G,parentEl:X,ghostEl:Y,rootEl:W,nextEl:K,lastDownEl:Q,cloneEl:J,cloneHidden:Z,dragStarted:ut,putSortable:st,activeSortable:Nt.active,originalEvent:o,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it,hideGhostForTarget:Ot,unhideGhostForTarget:$t,cloneNowHidden:function(){Z=!0},cloneNowShown:function(){Z=!1},dispatchSortableEvent:function(t){V({sortable:n,name:t,originalEvent:o})}},r))};function V(t){j(e({putSortable:st,cloneEl:J,targetEl:G,rootEl:W,oldIndex:tt,oldDraggableIndex:nt,newIndex:et,newDraggableIndex:it},t))}var G,X,Y,W,K,Q,J,Z,tt,et,nt,it,ot,st,rt,at,lt,ct,ht,dt,ut,ft,pt,gt,mt,vt=!1,bt=!1,yt=[],wt=!1,Ct=!1,St=[],_t=!1,xt=[],Et="undefined"!=typeof document,Tt=d,Dt=l||a?"cssFloat":"float",At=Et&&!u&&!d&&"draggable"in document.createElement("div"),kt=function(){if(Et){if(a)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Mt=function(t,e){var n=S(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=A(t,0,e),s=A(t,1,e),r=o&&S(o),a=s&&S(s),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+T(o).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+T(s).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&r.float&&"none"!==r.float){var h="left"===r.float?"left":"right";return!s||"both"!==a.clear&&a.clear!==h?"horizontal":"vertical"}return o&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=i&&"none"===n[Dt]||s&&"none"===n[Dt]&&l+c>i)?"vertical":"horizontal"},Bt=function(t){function e(t,n){return function(i,o,s,r){var a=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,o,s,r),n)(i,o,s,r);var l=(n?i:o).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var i={},o=t.group;o&&"object"==n(o)||(o={name:o}),i.name=o.name,i.checkPull=e(o.pull,!0),i.checkPut=e(o.put),i.revertClone=o.revertClone,t.group=i},Ot=function(){!kt&&Y&&S(Y,"display","none")},$t=function(){!kt&&Y&&S(Y,"display","")};Et&&!u&&document.addEventListener("click",(function(t){if(bt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),bt=!1,!1}),!0);var It=function(t){if(G){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,s=t.clientY,yt.some((function(t){var e=t[P].options.emptyInsertThreshold;if(e&&!k(t)){var n=T(t),i=o>=n.left-e&&o<=n.right+e,a=s>=n.top-e&&s<=n.bottom+e;return i&&a?r=t:void 0}})),r);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[P]._onDragOver(n)}}var o,s,r},Lt=function(t){G&&G.parentNode[P]._isOutsideThisEl(t.target)};function Nt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=o({},e),t[P]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Mt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Nt.supportPointer&&"PointerEvent"in window&&!h,emptyInsertThreshold:5};for(var i in z.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var s in Bt(e),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!e.forceFallback&&At,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?p(t,"pointerdown",this._onTapStart):(p(t,"mousedown",this._onTapStart),p(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(p(t,"dragover",this),p(t,"dragenter",this)),yt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),o(this,R())}function Pt(t,e,n,i,o,s,r,c){var h,d,u=t[P],f=u.options.onMove;return!window.CustomEvent||a||l?(h=document.createEvent("Event")).initEvent("move",!0,!0):h=new CustomEvent("move",{bubbles:!0,cancelable:!0}),h.to=e,h.from=t,h.dragged=n,h.draggedRect=i,h.related=o||e,h.relatedRect=s||T(e),h.willInsertAfter=c,h.originalEvent=r,t.dispatchEvent(h),f&&(d=f.call(u,h,r)),d}function Rt(t){t.draggable=!1}function Ft(){_t=!1}function Ht(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function zt(t){return setTimeout(t,0)}function jt(t){return clearTimeout(t)}Nt.prototype={constructor:Nt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ft=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,G):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,o=i.preventOnFilter,s=t.type,r=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(r||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=i.filter;if(function(t){xt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&xt.push(i)}}(n),!G&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!h||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=b(a,i.draggable,n,!1))&&a.animated||Q===a)){if(tt=M(a),nt=M(a,i.draggable),"function"==typeof c){if(c.call(this,t,a,this))return V({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),q("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=b(l,i.trim(),n,!1))return V({sortable:e,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),q("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());i.handle&&!b(l,i.handle,n,!1)||this._prepareDragStart(t,r,a)}}},_prepareDragStart:function(t,e,n){var i,o=this,s=o.el,r=o.options,h=s.ownerDocument;if(n&&!G&&n.parentNode===s){var d=T(n);if(W=s,X=(G=n).parentNode,K=G.nextSibling,Q=n,ot=r.group,Nt.dragged=G,rt={target:G,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=rt.clientX-d.left,dt=rt.clientY-d.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,G.style["will-change"]="all",i=function(){q("delayEnded",o,{evt:t}),Nt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!c&&o.nativeDraggable&&(G.draggable=!0),o._triggerDragStart(t,e),V({sortable:o,name:"choose",originalEvent:t}),C(G,r.chosenClass,!0))},r.ignore.split(",").forEach((function(t){x(G,t.trim(),Rt)})),p(h,"dragover",It),p(h,"mousemove",It),p(h,"touchmove",It),p(h,"mouseup",o._onDrop),p(h,"touchend",o._onDrop),p(h,"touchcancel",o._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),q("delayStart",this,{evt:t}),!r.delay||r.delayOnTouchOnly&&!e||this.nativeDraggable&&(l||a))i();else{if(Nt.eventCanceled)return void this._onDrop();p(h,"mouseup",o._disableDelayedDrag),p(h,"touchend",o._disableDelayedDrag),p(h,"touchcancel",o._disableDelayedDrag),p(h,"mousemove",o._delayedDragTouchMoveHandler),p(h,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&p(h,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,r.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&Rt(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._disableDelayedDrag),g(t,"touchend",this._disableDelayedDrag),g(t,"touchcancel",this._disableDelayedDrag),g(t,"mousemove",this._delayedDragTouchMoveHandler),g(t,"touchmove",this._delayedDragTouchMoveHandler),g(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?p(document,"pointermove",this._onTouchMove):p(document,e?"touchmove":"mousemove",this._onTouchMove):(p(G,"dragend",this),p(W,"dragstart",this._onDragStart));try{document.selection?zt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(vt=!1,W&&G){q("dragStarted",this,{evt:e}),this.nativeDraggable&&p(document,"dragover",Lt);var n=this.options;!t&&C(G,n.dragClass,!1),C(G,n.ghostClass,!0),Nt.active=this,t&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(at){this._lastX=at.clientX,this._lastY=at.clientY,Ot();for(var t=document.elementFromPoint(at.clientX,at.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(at.clientX,at.clientY))!==e;)e=t;if(G.parentNode[P]._isOutsideThisEl(t),e)do{if(e[P]){if(e[P]._onDragOver({clientX:at.clientX,clientY:at.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);$t()}},_onTouchMove:function(t){if(rt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=Y&&_(Y,!0),r=Y&&s&&s.a,a=Y&&s&&s.d,l=Tt&&mt&&B(mt),c=(o.clientX-rt.clientX+i.x)/(r||1)+(l?l[0]-St[0]:0)/(r||1),h=(o.clientY-rt.clientY+i.y)/(a||1)+(l?l[1]-St[1]:0)/(a||1);if(!Nt.active&&!vt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Y){s?(s.e+=c-(lt||0),s.f+=h-(ct||0)):s={a:1,b:0,c:0,d:1,e:c,f:h};var d="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");S(Y,"webkitTransform",d),S(Y,"mozTransform",d),S(Y,"msTransform",d),S(Y,"transform",d),lt=c,ct=h,at=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Y){var t=this.options.fallbackOnBody?document.body:W,e=T(G,!0,Tt,!0,t),n=this.options;if(Tt){for(mt=t;"static"===S(mt,"position")&&"none"===S(mt,"transform")&&mt!==document;)mt=mt.parentNode;mt!==document.body&&mt!==document.documentElement?(mt===document&&(mt=E()),e.top+=mt.scrollTop,e.left+=mt.scrollLeft):mt=E(),St=B(mt)}C(Y=G.cloneNode(!0),n.ghostClass,!1),C(Y,n.fallbackClass,!0),C(Y,n.dragClass,!0),S(Y,"transition",""),S(Y,"transform",""),S(Y,"box-sizing","border-box"),S(Y,"margin",0),S(Y,"top",e.top),S(Y,"left",e.left),S(Y,"width",e.width),S(Y,"height",e.height),S(Y,"opacity","0.8"),S(Y,"position",Tt?"absolute":"fixed"),S(Y,"zIndex","100000"),S(Y,"pointerEvents","none"),Nt.ghost=Y,t.appendChild(Y),S(Y,"transform-origin",ht/parseInt(Y.style.width)*100+"% "+dt/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;q("dragStart",this,{evt:t}),Nt.eventCanceled?this._onDrop():(q("setupClone",this),Nt.eventCanceled||((J=N(G)).removeAttribute("id"),J.draggable=!1,J.style["will-change"]="",this._hideClone(),C(J,this.options.chosenClass,!1),Nt.clone=J),n.cloneId=zt((function(){q("clone",n),Nt.eventCanceled||(n.options.removeCloneOnHide||W.insertBefore(J,G),n._hideClone(),V({sortable:n,name:"clone"}))})),!e&&C(G,o.dragClass,!0),e?(bt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(g(document,"mouseup",n._onDrop),g(document,"touchend",n._onDrop),g(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,G)),p(document,"drop",n),S(G,"transform","translateZ(0)")),vt=!0,n._dragStartId=zt(n._dragStarted.bind(n,e,t)),p(document,"selectstart",n),ut=!0,h&&S(document.body,"user-select","none"))},_onDragOver:function(t){var n,i,o,s,r=this.el,a=t.target,l=this.options,c=l.group,h=Nt.active,d=ot===c,u=l.sort,f=st||h,p=this,g=!1;if(!_t){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=b(a,l.draggable,r,!0),H("dragOver"),Nt.eventCanceled)return g;if(G.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return j(!1);if(bt=!1,h&&!l.disabled&&(d?u||(o=X!==W):st===this||(this.lastPutMode=ot.checkPull(this,h,G,t))&&c.checkPut(this,h,G,t))){if(s="vertical"===this._getDirection(t,a),n=T(G),H("dragOverValid"),Nt.eventCanceled)return g;if(o)return X=W,z(),this._hideClone(),H("revert"),Nt.eventCanceled||(K?W.insertBefore(G,K):W.appendChild(G)),j(!0);var m=k(r,l.draggable);if(!m||function(t,e,n){var i=T(k(n.el,n.options.draggable)),o=10;return e?t.clientX>i.right+o||t.clientX<=i.right&&t.clientY>i.bottom&&t.clientX>=i.left:t.clientX>i.right&&t.clientY>i.top||t.clientX<=i.right&&t.clientY>i.bottom+o}(t,s,this)&&!m.animated){if(m===G)return j(!1);if(m&&r===t.target&&(a=m),a&&(i=T(a)),!1!==Pt(W,r,G,n,a,i,t,!!a))return z(),m&&m.nextSibling?r.insertBefore(G,m.nextSibling):r.appendChild(G),X=r,U(),j(!0)}else if(m&&function(t,e,n){var i=T(A(n.el,0,n.options,!0)),o=10;return e?t.clientX<i.left-o||t.clientY<i.top&&t.clientX<i.right:t.clientY<i.top-o||t.clientY<i.bottom&&t.clientX<i.left}(t,s,this)){var v=A(r,0,l,!0);if(v===G)return j(!1);if(i=T(a=v),!1!==Pt(W,r,G,n,a,i,t,!1))return z(),r.insertBefore(G,v),X=r,U(),j(!0)}else if(a.parentNode===r){i=T(a);var y,w,_,x=G.parentNode!==r,E=!function(t,e,n){var i=n?t.left:t.top,o=n?t.right:t.bottom,s=n?t.width:t.height,r=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return i===r||o===a||i+s/2===r+l/2}(G.animated&&G.toRect||n,a.animated&&a.toRect||i,s),B=s?"top":"left",O=D(a,"top","top")||D(G,"top","top"),$=O?O.scrollTop:void 0;if(ft!==a&&(w=i[B],wt=!1,Ct=!E&&l.invertSwap||x),y=function(t,e,n,i,o,s,r,a){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,h=i?n.top:n.left,d=i?n.bottom:n.right,u=!1;if(!r)if(a&&gt<c*o){if(!wt&&(1===pt?l>h+c*s/2:l<d-c*s/2)&&(wt=!0),wt)u=!0;else if(1===pt?l<h+gt:l>d-gt)return-pt}else if(l>h+c*(1-o)/2&&l<d-c*(1-o)/2)return function(t){return M(G)<M(t)?1:-1}(e);if((u=u||r)&&(l<h+c*s/2||l>d-c*s/2))return l>h+c/2?1:-1;return 0}(t,a,i,s,E?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ct,ft===a),0!==y){var I=M(G);do{I-=y,_=X.children[I]}while(_&&("none"===S(_,"display")||_===Y))}if(0===y||_===a)return j(!1);ft=a,pt=y;var N=a.nextElementSibling,R=!1,F=Pt(W,r,G,n,a,i,t,R=1===y);if(!1!==F)return 1!==F&&-1!==F||(R=1===F),_t=!0,setTimeout(Ft,30),z(),R&&!N?r.appendChild(G):a.parentNode.insertBefore(G,R?N:a),O&&L(O,0,$-O.scrollTop),X=G.parentNode,void 0===w||Ct||(gt=Math.abs(w-T(a)[B])),U(),j(!0)}if(r.contains(G))return j(!1)}return!1}function H(l,c){q(l,p,e({evt:t,isOwner:d,axis:s?"vertical":"horizontal",revert:o,dragRect:n,targetRect:i,canSort:u,fromSortable:f,target:a,completed:j,onMove:function(e,i){return Pt(W,r,G,n,e,T(e),t,i)},changed:U},c))}function z(){H("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function j(e){return H("dragOverCompleted",{insertion:e}),e&&(d?h._hideClone():h._showClone(p),p!==f&&(C(G,st?st.options.ghostClass:h.options.ghostClass,!1),C(G,l.ghostClass,!0)),st!==p&&p!==Nt.active?st=p:p===Nt.active&&st&&(st=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){H("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===G&&!G.animated||a===r&&!a.animated)&&(ft=null),l.dragoverBubble||t.rootEl||a===document||(G.parentNode[P]._isOutsideThisEl(t.target),!e&&It(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function U(){et=M(G),it=M(G,l.draggable),V({sortable:p,name:"change",toEl:r,newIndex:et,newDraggableIndex:it,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){g(document,"mousemove",this._onTouchMove),g(document,"touchmove",this._onTouchMove),g(document,"pointermove",this._onTouchMove),g(document,"dragover",It),g(document,"mousemove",It),g(document,"touchmove",It)},_offUpEvents:function(){var t=this.el.ownerDocument;g(t,"mouseup",this._onDrop),g(t,"touchend",this._onDrop),g(t,"pointerup",this._onDrop),g(t,"touchcancel",this._onDrop),g(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;et=M(G),it=M(G,n.draggable),q("drop",this,{evt:t}),X=G&&G.parentNode,et=M(G),it=M(G,n.draggable),Nt.eventCanceled||(vt=!1,Ct=!1,wt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),jt(this.cloneId),jt(this._dragStartId),this.nativeDraggable&&(g(document,"drop",this),g(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&S(document.body,"user-select",""),S(G,"transform",""),t&&(ut&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(W===X||st&&"clone"!==st.lastPutMode)&&J&&J.parentNode&&J.parentNode.removeChild(J),G&&(this.nativeDraggable&&g(G,"dragend",this),Rt(G),G.style["will-change"]="",ut&&!vt&&C(G,st?st.options.ghostClass:this.options.ghostClass,!1),C(G,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:t}),W!==X?(et>=0&&(V({rootEl:X,name:"add",toEl:X,fromEl:W,originalEvent:t}),V({sortable:this,name:"remove",toEl:X,originalEvent:t}),V({rootEl:X,name:"sort",toEl:X,fromEl:W,originalEvent:t}),V({sortable:this,name:"sort",toEl:X,originalEvent:t})),st&&st.save()):et!==tt&&et>=0&&(V({sortable:this,name:"update",toEl:X,originalEvent:t}),V({sortable:this,name:"sort",toEl:X,originalEvent:t})),Nt.active&&(null!=et&&-1!==et||(et=tt,it=nt),V({sortable:this,name:"end",toEl:X,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){q("nulling",this),W=G=X=Y=K=J=Q=Z=rt=at=ut=et=it=tt=nt=ft=pt=st=ot=Nt.dragged=Nt.ghost=Nt.clone=Nt.active=null,xt.forEach((function(t){t.checked=!0})),xt.length=lt=ct=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":G&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,s=this.options;i<o;i++)b(t=n[i],s.draggable,this.el,!1)&&e.push(t.getAttribute(s.dataIdAttr)||Ht(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach((function(t,e){var o=i.children[e];b(o,this.options.draggable,i,!1)&&(n[t]=o)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return b(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=z.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&Bt(n)},destroy:function(){q("destroy",this);var t=this.el;t[P]=null,g(t,"mousedown",this._onTapStart),g(t,"touchstart",this._onTapStart),g(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(g(t,"dragover",this),g(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),yt.splice(yt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Z){if(q("hideClone",this),Nt.eventCanceled)return;S(J,"display","none"),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),Z=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Z){if(q("showClone",this),Nt.eventCanceled)return;G.parentNode!=W||this.options.group.revertClone?K?W.insertBefore(J,K):W.appendChild(J):W.insertBefore(J,G),this.options.group.revertClone&&this.animate(G,J),S(J,"display",""),Z=!1}}else this._hideClone()}},Et&&p(document,"touchmove",(function(t){(Nt.active||vt)&&t.cancelable&&t.preventDefault()})),Nt.utils={on:p,off:g,css:S,find:x,is:function(t,e){return!!b(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:I,closest:b,toggleClass:C,clone:N,index:M,nextTick:zt,cancelNextTick:jt,detectDirection:Mt,getChild:A},Nt.get=function(t){return t[P]},Nt.mount=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n[0].constructor===Array&&(n=n[0]),n.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Nt.utils=e(e({},Nt.utils),t.utils)),z.mount(t)}))},Nt.create=function(t,e){return new Nt(t,e)},Nt.version="1.15.0";var Ut,qt,Vt,Gt,Xt,Yt,Wt=[],Kt=!1;function Qt(){Wt.forEach((function(t){clearInterval(t.pid)})),Wt=[]}function Jt(){clearInterval(Yt)}var Zt=I((function(t,e,n,i){if(e.scroll){var o,s=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=E(),h=!1;qt!==n&&(qt=n,Qt(),Ut=e.scroll,o=e.scrollFn,!0===Ut&&(Ut=O(n,!0)));var d=0,u=Ut;do{var f=u,p=T(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,C=void 0,_=void 0,x=f.scrollWidth,D=f.scrollHeight,A=S(f),k=f.scrollLeft,M=f.scrollTop;f===c?(C=y<x&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),_=w<D&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(C=y<x&&("auto"===A.overflowX||"scroll"===A.overflowX),_=w<D&&("auto"===A.overflowY||"scroll"===A.overflowY));var B=C&&(Math.abs(b-s)<=a&&k+y<x)-(Math.abs(v-s)<=a&&!!k),$=_&&(Math.abs(m-r)<=a&&M+w<D)-(Math.abs(g-r)<=a&&!!M);if(!Wt[d])for(var I=0;I<=d;I++)Wt[I]||(Wt[I]={});Wt[d].vx==B&&Wt[d].vy==$&&Wt[d].el===f||(Wt[d].el=f,Wt[d].vx=B,Wt[d].vy=$,clearInterval(Wt[d].pid),0==B&&0==$||(h=!0,Wt[d].pid=setInterval(function(){i&&0===this.layer&&Nt.active._onTouchMove(Xt);var e=Wt[this.layer].vy?Wt[this.layer].vy*l:0,n=Wt[this.layer].vx?Wt[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Nt.dragged.parentNode[P],n,e,t,Xt,Wt[this.layer].el)||L(Wt[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&u!==c&&(u=O(u,!1)));Kt=h}}),30),te=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,r=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||o;r();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(h)&&(s("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function ee(){}function ne(){}ee.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=A(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:te},o(ee,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:te},o(ne,{pluginName:"removeOnSpill"});Nt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?p(document,"dragover",this._handleAutoScroll):this.options.supportPointer?p(document,"pointermove",this._handleFallbackAutoScroll):e.touches?p(document,"touchmove",this._handleFallbackAutoScroll):p(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?g(document,"dragover",this._handleAutoScroll):(g(document,"pointermove",this._handleFallbackAutoScroll),g(document,"touchmove",this._handleFallbackAutoScroll),g(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(y),y=void 0},nulling:function(){Xt=qt=Ut=Kt=Yt=Vt=Gt=null,Wt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(i,o);if(Xt=t,e||this.options.forceAutoScrollFallback||l||a||h){Zt(t,this.options,s,e);var r=O(s,!0);!Kt||Yt&&i===Vt&&o===Gt||(Yt&&Jt(),Yt=setInterval((function(){var s=O(document.elementFromPoint(i,o),!0);s!==r&&(r=s,Qt()),Zt(t,n.options,s,e)}),10),Vt=i,Gt=o)}else{if(!this.options.bubbleScroll||O(s,!0)===E())return void Qt();Zt(t,this.options,O(s,!1),!1)}}},o(t,{pluginName:"scroll",initializeByDefault:!0})}),Nt.mount(ne,ee);const ie=Nt;class IpcMessageType{constructor(t,e=!1,n=!1){this.method=t,this.reset=e,this.pack=n}}class IpcCommandType extends IpcMessageType{}class IpcNotificationType extends IpcMessageType{}function oe(t,e,n){t.method===e.method&&n(e.params,t)}const se=new IpcCommandType("webview/ready"),re=new IpcCommandType("webview/focus");new IpcCommandType("command/execute"),new IpcCommandType("configuration/preview"),new IpcCommandType("configuration/update"),new IpcNotificationType("configuration/didChange"),new IpcNotificationType("configuration/didPreview"),new IpcNotificationType("webview/didOpenAnchor");const ae=new IpcCommandType("rebase/abort"),le=new IpcCommandType("rebase/disable"),ce=new IpcCommandType("rebase/search"),he=new IpcCommandType("rebase/start"),de=new IpcCommandType("rebase/switch"),ue=new IpcCommandType("rebase/reorder"),fe=new IpcCommandType("rebase/change/entry"),pe=new IpcCommandType("rebase/move/entry"),ge=new IpcCommandType("rebase/selection/update"),me=new IpcNotificationType("rebase/didChange");function ve(t,e,n){let i,o,s,r,a;function l(t){const n=t-(o??0);return null==o||n>=e||n<0}function c(){const t=Date.now();if(l(t))h();else{a=setTimeout(c,e-(t-(o??0)))}}function h(){return a=void 0,i?function(){const e=i,n=s;return i=s=void 0,r=t.apply(n,e),r}():(i=void 0,s=void 0,r)}function d(...t){const h=Date.now(),d=l(h);return i=null!=n&&i?n(i,t):t,s=this,o=h,d&&null==a?(a=setTimeout(c,e),r):(null==a&&(a=setTimeout(c,e)),r)}return d.cancel=function(){null!=a&&clearTimeout(a),i=void 0,o=void 0,s=void 0,a=void 0},d.flush=function(){return null!=a?h():r},d.pending=function(){return null!=a},d}const be=",",ye="=",we="{",Ce="(",Se=")",_e=/\(([\s\S]*)\)/,xe=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,Ee=/\s?=.*$/;const Te=new class Logger2{constructor(){this._isDebugging=!1,this.level=0,this._logLevel="off"}configure(t,e,n=!1){this.provider=t,this._isDebugging=n,this.logLevel=e}enabled(t){return this.level>=De(t)}get isDebugging(){return this._isDebugging}get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t,this.level=De(this._logLevel),"off"===t?(this.output?.dispose?.(),this.output=void 0):this.output??=this.provider.createChannel(this.provider.name)}get timestamp(){return`[${(new Date).toISOString().replace(/T/," ").slice(0,-1)}]`}debug(t,...e){if(this.level<4&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??""}`)),this.isDebugging,null==this.output||this.level<4||this.output.appendLine(`${this.timestamp} ${n??""}${this.toLoggableParams(!0,e)}`)}error(t,e,...n){if(this.level<1&&!this.isDebugging)return;let i;if(i=null==e||"string"==typeof e?e:`${e.prefix} ${n.shift()??""}`,null==i){const e=t instanceof Error?t.stack:void 0;if(e){const t=/.*\s*?at\s(.+?)\s/.exec(e);null!=t&&(i=t[1])}}this.isDebugging,null==this.output||this.level<1||this.output.appendLine(`${this.timestamp} ${i??""}${this.toLoggableParams(!1,n)}${null!=t?`\n${String(t)}`:""}`)}log(t,...e){if(this.level<3&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??""}`)),this.isDebugging,null==this.output||this.level<3||this.output.appendLine(`${this.timestamp} ${n??""}${this.toLoggableParams(!1,e)}`)}warn(t,...e){if(this.level<2&&!this.isDebugging)return;let n;"string"==typeof t?n=t:(n=e.shift(),null!=t&&(n=`${t.prefix} ${n??""}`)),this.isDebugging,null==this.output||this.level<2||this.output.appendLine(`${this.timestamp} ${n??""}${this.toLoggableParams(!1,e)}`)}showOutputChannel(t){this.output?.show?.(t)}toLoggable(t,e){if("object"!=typeof t)return String(t);if(Array.isArray(t))return`[${t.map((t=>this.toLoggable(t,e))).join(", ")}]`;const n=this.provider.toLoggable?.(t);if(null!=n)return n;try{return JSON.stringify(t,e)}catch{return"<error>"}}toLoggableParams(t,e){if(0===e.length||t&&this.level<4&&!this.isDebugging)return"";const n=e.map((t=>this.toLoggable(t))).join(", ");return 0!==n.length?` â€” ${n}`:""}};function De(t){switch(t){case"off":default:return 0;case"error":return 1;case"warn":return 2;case"info":return 3;case"debug":return 4}}function Ae(t){let e;if("function"==typeof t){if(null==t.prototype?.constructor)return t.name;e=t.prototype.constructor.name??""}else e=t.constructor?.name??"";const n=e.indexOf("_");return-1===n?e:e.substr(n+1)}const ke={enabled:t=>Te.enabled(t)||Te.isDebugging,log:(t,e,n,...i)=>{switch(t){case"error":Te.error("",e,n,...i);break;case"warn":Te.warn(e,n,...i);break;case"info":Te.log(e,n,...i);break;default:Te.debug(e,n,...i)}}};var Me,Be;function Oe(t){const e=.001*performance.now();let n=Math.floor(e),i=Math.floor(e%1*1e9);return void 0!==t&&(n-=t[0],i-=t[1],i<0&&(n--,i+=1e9)),[n,i]}(Be=Me||(Me={})).on=function(t,e,n,i){let o=!1;if("string"==typeof t){const s=function(e){const i=e?.target?.closest(t);null!=i&&n(e,i)};return document.addEventListener(e,s,i??!0),{dispose:()=>{o||(o=!0,document.removeEventListener(e,s,i??!0))}}}const s=function(t){n(t,this)};return t.addEventListener(e,s,i??!1),{dispose:()=>{o||(o=!0,t.removeEventListener(e,s,i??!1))}}},Be.insertTemplate=function(t,e,n){const i=document.getElementById(t);if(e.replaceChildren(i?.content.cloneNode(!0)),e.className=i.className,null!=n?.visible){const t=e.querySelectorAll("[data-visible]");for(const e of t){const t=e.dataset.visible;t&&(n.visible[t]?e.style.display="initial":e.style.display="none")}}if(null!=n?.bindings){const t=e.querySelectorAll("[data-bind]");for(const e of t){const t=e.dataset.bind;if(!t)continue;const i=n.bindings[t];null!=i&&(e.textContent=String(i))}}},Be.resetSlot=function(t){t.replaceChildren(),t.className=""};const $e=500,Ie=2**30,Le=new Map;let Ne=0;function Pe(t){Le.delete(t)}function Re(t,e){if(null!=e)return{scopeId:e.scopeId,prefix:`${e.prefix}${t}`};const n=Fe();return{scopeId:n,prefix:`[${String(n).padStart(5)}] ${t}`}}function Fe(){return Ne===Ie&&(Ne=0),++Ne}Error;Error;var He=(t=>(t[t.Hash=35]="Hash",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Backslash=92]="Backslash",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.Z=90]="Z",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.z=122]="z",t))(He||{});const{fromCharCode:ze}=String;new TextEncoder;function je(t){const[e,n]=Oe(t);return 1e3*e+Math.floor(n/1e6)}const Ue=Symbol("logInstanceNameFn");function qe(t){return function(t,e=!1){let n,i,o,s,r,a=0,l=!1,c=!1,h=!0;null!=t&&({args:n,if:i,enter:o,exit:s,prefix:r,logThreshold:a=0,scoped:l=!0,singleLine:c=!1,timed:h=!0}=t);a>0&&(c=!0,h=!0);h&&(l=!0);const d=Te.isDebugging,u=e?Te.debug:Te.log,f=d?"debug":"info";return(t,e,p)=>{let g,m;if("function"==typeof p.value?(g=p.value,m="value"):"function"==typeof p.get&&(g=p.get,m="get"),null==g||null==m)throw new Error("Not supported");const v=!1!==n?function(t){if("function"!=typeof t)throw new Error("Not supported");if(0===t.length)return[];let e=Function.prototype.toString.call(t);e=e.replace(xe,"")||e,e=e.slice(0,e.indexOf(we));let n=e.indexOf(Ce),i=e.indexOf(Se);n=n>=0?n+1:0,i=i>0?i:e.indexOf(ye),e=e.slice(n,i),e=`(${e})`;const o=_e.exec(e);return null!=o?o[1].split(be).map((t=>t.trim().replace(Ee,""))):[]}(g):[];p[m]=function(...t){if(!d&&!Te.enabled(f)||null!=i&&!i.apply(this,t))return g.apply(this,t);const p=Fe(),m=null!=this?this.constructor?.[Ue]?.(this,Ae(this))??Ae(this):void 0;let b,y=m?l?`[${p.toString(16).padStart(5)}] ${m}.${e}`:`${m}.${e}`:e;null!=r&&(y=r({id:p,instance:this,instanceName:m??"",name:e,prefix:y},...t)),l&&(b={scopeId:p,prefix:y},function(t,e){Le.set(t,e)}(p,b));const w=null!=o?o(...t):"";let C;if(!1===n||0===t.length)C="",c||u.call(Te,`${y}${w}`);else{let e;C="";let i,o,s,r=-1;for(s of t){if(i=v[++r],e=n?.[r],null!=e){if("boolean"==typeof e)continue;if(C.length>0&&(C+=", "),"string"==typeof e){C+=e;continue}o=String(e(s))}else C.length>0&&(C+=", "),o=Te.toLoggable(s);C+=i?`${i}=${o}`:o}c||u.call(Te,C?`${y}${w}(${C})`:`${y}${w}`)}if(c||h||null!=s){const e=h?Oe():void 0,n=t=>{const n=void 0!==e?` [${je(e)}ms]`:"";c?Te.error(t,C?`${y}${w}(${C})`:`${y}${w}`,b?.exitDetails?`failed${b.exitDetails}${n}`:`failed${n}`):Te.error(t,y,b?.exitDetails?`failed${b.exitDetails}${n}`:`failed${n}`),l&&Pe(p)};let i;try{i=g.apply(this,t)}catch(t){throw n(t),t}const o=t=>{let n,i,o,r;if(null!=e?(n=je(e),n>$e?(i=Te.warn,o=` [*${n}ms] (slow)`):(i=u,o=` [${n}ms]`)):(o="",i=u),null!=s)if("function"==typeof s)try{r=s(t)}catch(t){r=`@log.exit error: ${t}`}else!0===s&&(r=`returned ${Te.toLoggable(t)}`);else b?.exitFailed?(r=b.exitFailed,i=Te.error):r="completed";c?(0===a||n>a)&&i.call(Te,C?`${y}${w}(${C}) ${r}${b?.exitDetails||""}${o}`:`${y}${w} ${r}${b?.exitDetails||""}${o}`):i.call(Te,C?`${y}(${C}) ${r}${b?.exitDetails||""}${o}`:`${y} ${r}${b?.exitDetails||""}${o}`),l&&Pe(p)};return null!=i&&(null!=(S=i)&&(S instanceof Promise||"function"==typeof S?.then))?i.then(o,n):o(i),i}var S;return g.apply(this,t)}}}(t,!0)}Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class Stopwatch{constructor(t,e,...n){let i;if(this._stopped=!1,this.logScope=null!=t&&"string"!=typeof t?t:Re(t??""),i="boolean"==typeof e?.log?e.log?{}:void 0:e?.log??{},this.logLevel=e?.logLevel??"info",this.logProvider=e?.provider??ke,this._time=Oe(),null!=i){if(!this.logProvider.enabled(this.logLevel))return;n.length?this.logProvider.log(this.logLevel,this.logScope,`${i.message??""}${i.suffix??""}`,...n):this.logProvider.log(this.logLevel,this.logScope,`${i.message??""}${i.suffix??""}`)}}get startTime(){return this._time}[Symbol.dispose](){this.stop()}elapsed(){const[t,e]=Oe(this._time);return 1e3*t+Math.floor(e/1e6)}log(t){this.logCore(t,!1)}restart(t){this.logCore(t,!0),this._time=Oe(),this._stopped=!1}stop(t){this._stopped||(this.restart(t),this._stopped=!0)}logCore(t,e){if(!this.logProvider.enabled(this.logLevel))return;if(!e)return void this.logProvider.log(this.logLevel,this.logScope,`${t?.message??""}${t?.suffix??""}`);const[n,i]=Oe(this._time),o=1e3*n+Math.floor(i/1e6),s=t?.message??"";this.logProvider.log(o>250?"warn":this.logLevel,this.logScope,`${s?`${s} `:""}[${o}ms]${t?.suffix??""}`)}}const Ve=class _Emitter{constructor(){this._disposed=!1}get event(){return null==this._event&&(this._event=(t,e,n)=>{null==this.listeners&&(this.listeners=new LinkedList);const i=this.listeners.push(null==e?t:[t,e]),o={dispose:()=>{o.dispose=_Emitter._noop,this._disposed||i()}};return Array.isArray(n)&&n.push(o),o}),this._event}fire(t){if(null!=this.listeners){null==this._deliveryQueue&&(this._deliveryQueue=new LinkedList);for(let e=this.listeners.iterator(),n=e.next();!n.done;n=e.next())this._deliveryQueue.push([n.value,t]);for(;this._deliveryQueue.size>0;){const[t,e]=this._deliveryQueue.shift();try{"function"==typeof t?t(e):t[0].call(t[1],e)}catch(t){}}}}dispose(){this.listeners?.clear(),this._deliveryQueue?.clear(),this._disposed=!0}};Ve._noop=function(){};let Ge=Ve;const Xe={done:!0,value:void 0},Ye=class _Node{constructor(t){this.element=t,this.next=_Node.Undefined,this.prev=_Node.Undefined}};Ye.Undefined=new Ye(void 0);let We=Ye;class LinkedList{constructor(){this._first=We.Undefined,this._last=We.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===We.Undefined}clear(){this._first=We.Undefined,this._last=We.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){const n=new We(t);if(this._first===We.Undefined)this._first=n,this._last=n;else if(e){const t=this._last;this._last=n,n.prev=t,t.next=n}else{const t=this._first;this._first=n,n.next=t,t.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first===We.Undefined)return;const t=this._first.element;return this._remove(this._first),t}pop(){if(this._last===We.Undefined)return;const t=this._last.element;return this._remove(this._last),t}_remove(t){if(t.prev!==We.Undefined&&t.next!==We.Undefined){const e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===We.Undefined&&t.next===We.Undefined?(this._first=We.Undefined,this._last=We.Undefined):t.next===We.Undefined?(this._last=this._last.prev,this._last.next=We.Undefined):t.prev===We.Undefined&&(this._first=this._first.next,this._first.prev=We.Undefined);this._size-=1}iterator(){let t,e=this._first;return{next:function(){return e===We.Undefined?Xe:(null==t?t={done:!1,value:e.element}:t.value=e.element,e=e.next,t)}}}toArray(){const t=[];for(let e=this._first;e!==We.Undefined;e=e.next)t.push(e.element);return t}}var Ke=Object.defineProperty,Qe=Object.getOwnPropertyDescriptor,Je=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?Qe(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&Ke(e,n,s),s};let Ze;function tn(){return Ze??=acquireVsCodeApi()}let en=0;function nn(){return 1073741824===en?en=1:en++,`webview:${en}`}let on=class{constructor(t){this.appName=t,this._onReceiveMessage=new Ge,this._api=tn(),this._disposable=Me.on(window,"message",(t=>this.onMessageReceived(t)))}get onReceiveMessage(){return this._onReceiveMessage.event}dispose(){this._disposable.dispose()}onMessageReceived(t){const e=Le.get(Ne),n=t.data;if(n.packed&&n.params instanceof Uint8Array){const i=function(t,e,...n){return(e?.provider??ke).enabled(e?.logLevel??"info")?new Stopwatch(t,e,...n):void 0}(Re(` deserializing msg=${t.data.method}`,e),{log:!1,logLevel:"debug"});this._textDecoder??=new TextDecoder,n.params=JSON.parse(this._textDecoder.decode(n.params)),i?.stop()}this._onReceiveMessage.fire(n)}sendCommand(t,e){const n=nn();this.postMessage({id:n,method:t.method,params:e})}async sendCommandWithCompletion(t,e,n){const i=nn(),o=new Promise(((t,e)=>{let o;const s=[Me.on(window,"message",(e=>{oe(n,e.data,(n=>{e.data.completionId===i&&(s.forEach((t=>t.dispose())),queueMicrotask((()=>t(n))))}))})),{dispose:function(){null!=o&&(clearTimeout(o),o=void 0)}}];o=setTimeout((()=>{o=void 0,s.forEach((t=>t.dispose())),e(new Error(`Timed out waiting for completion of ${n.method}`))}),6e4)}));return this.postMessage({id:i,method:t.method,params:e,completionId:i}),o}setState(t){this._api.setState(t)}postMessage(t){this._api.postMessage(t)}};var sn;function rn(t,e){const n=t+e,i=e<0?n<0?0:n:n>255?255:n;return Math.round(i)}function an(t,e){return ln(t,-e)}function ln(t,e){const n=function(t){const e=bn(t);return null==e?null:[e.rgba.r,e.rgba.g,e.rgba.b,e.rgba.a]}(t);if(null==n)return t;const[i,o,s,r]=n,a=255*e/100;return`rgba(${rn(i,a)}, ${rn(o,a)}, ${rn(s,a)}, ${r})`}function cn(t,e){const n=fn.from(t);return null==n?t:n.transparent(e/100).toString()}Je([qe({args:{0:t=>`${t.data.id}, method=${t.data.method}`}})],on.prototype,"onMessageReceived",1),Je([qe({args:{0:t=>t.method,1:!1}})],on.prototype,"sendCommand",1),Je([qe({args:{0:t=>t.method,1:!1,2:!1}})],on.prototype,"sendCommandWithCompletion",1),Je([qe({args:{0:t=>`${t.id}, method=${t.method}`}})],on.prototype,"postMessage",1),on=Je([(sn=(t,e)=>`${t.appName}(${e})`,t=>{t[Ue]=sn})],on);function hn(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}class RGBA{constructor(t,e,n,i=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,n)),this.a=hn(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}class HSLA{constructor(t,e,n,i){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=hn(Math.max(Math.min(1,e),0),3),this.l=hn(Math.max(Math.min(1,n),0),3),this.a=hn(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,i=t.b/255,o=t.a,s=Math.max(e,n,i),r=Math.min(e,n,i);let a=0,l=0;const c=(r+s)/2,h=s-r;if(h>0){switch(l=Math.min(c<=.5?h/(2*c):h/(2-2*c),1),s){case e:a=(n-i)/h+(n<i?6:0);break;case n:a=(i-e)/h+2;break;case i:a=(e-n)/h+4}a*=60,a=Math.round(a)}return new HSLA(a,l,c,o)}static _hue2rgb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}static toRGBA(t){const e=t.h/360,{s:n,l:i,a:o}=t;let s,r,a;if(0===n)s=r=a=i;else{const t=i<.5?i*(1+n):i+n-i*n,o=2*i-t;s=HSLA._hue2rgb(o,t,e+1/3),r=HSLA._hue2rgb(o,t,e),a=HSLA._hue2rgb(o,t,e-1/3)}return new RGBA(Math.round(255*s),Math.round(255*r),Math.round(255*a),o)}}class HSVA{constructor(t,e,n,i){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=hn(Math.max(Math.min(1,e),0),3),this.v=hn(Math.max(Math.min(1,n),0),3),this.a=hn(Math.max(Math.min(1,i),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,n=t.g/255,i=t.b/255,o=Math.max(e,n,i),s=o-Math.min(e,n,i),r=0===o?0:s/o;let a;return a=0===s?0:o===e?((n-i)/s%6+6)%6:o===n?(i-e)/s+2:(e-n)/s+4,new HSVA(Math.round(60*a),r,o,t.a)}static toRGBA(t){const{h:e,s:n,v:i,a:o}=t,s=i*n,r=s*(1-Math.abs(e/60%2-1)),a=i-s;let[l,c,h]=[0,0,0];return e<60?(l=s,c=r):e<120?(l=r,c=s):e<180?(c=s,h=r):e<240?(c=r,h=s):e<300?(l=r,h=s):e<=360&&(l=s,h=r),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),h=Math.round(255*(h+a)),new RGBA(l,c,h,o)}}function dn(t,e){return e.getPropertyValue(t).trim()}const un=class _Color{static from(t){return t instanceof _Color?t:bn(t)||_Color.red}static fromCssVariable(t,e){return bn(dn(t,e))||_Color.red}static fromHex(t){return yn(t)||_Color.red}static equals(t,e){return!t&&!e||!(!t||!e)&&t.equals(e)}get hsla(){return this._hsla?this._hsla:HSLA.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:HSVA.fromRGBA(this.rgba)}constructor(t){if(!t)throw new Error("Color needs a value");if(t instanceof RGBA)this.rgba=t;else if(t instanceof HSLA)this._hsla=t,this.rgba=HSLA.toRGBA(t);else{if(!(t instanceof HSVA))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=HSVA.toRGBA(t)}}equals(t){return null!=t&&(Boolean(t)&&RGBA.equals(this.rgba,t.rgba)&&HSLA.equals(this.hsla,t.hsla)&&HSVA.equals(this.hsva,t.hsva))}getRelativeLuminance(){return hn(.2126*_Color._relativeLuminanceForComponent(this.rgba.r)+.7152*_Color._relativeLuminanceForComponent(this.rgba.g)+.0722*_Color._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}luminance(t){return function(t,e){if(0===e)return new fn(new RGBA(0,0,0,t.rgba.a));if(1===e)return new fn(new RGBA(255,255,255,t.rgba.a));const n=t.getRelativeLuminance();let i=20;const o=(t,n)=>{const s=t.mix(n,.5),r=s.getRelativeLuminance();return Math.abs(e-r)<1e-7||!i--?s:r>e?o(t,s):o(s,n)},s=(n>e?o(fn.black,t):o(t,fn.white)).rgba;return new fn(new RGBA(s.r,s.g,s.b,t.rgba.a))}(this,t)}getContrastRatio(t){const e=this.getRelativeLuminance(),n=t.getRelativeLuminance();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(t){return this.getRelativeLuminance()>t.getRelativeLuminance()}isDarkerThan(t){return this.getRelativeLuminance()<t.getRelativeLuminance()}lighten(t){return new _Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new _Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:n,b:i,a:o}=this.rgba;return new _Color(new RGBA(e,n,i,o*t))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new _Color(new RGBA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){const e=t.rgba,n=this.rgba.a,i=e.a,o=n+i*(1-n);if(o<1e-6)return _Color.transparent;const s=this.rgba.r*n/o+e.r*i*(1-n)/o,r=this.rgba.g*n/o+e.g*i*(1-n)/o,a=this.rgba.b*n/o+e.b*i*(1-n)/o;return new _Color(new RGBA(s,r,a,o))}mix(t,e){return function(t,e,n){const i=t.rgba,o=e.rgba;return new fn(new RGBA(i.r+n*(o.r-i.r),i.g+n*(o.g-i.g),i.b+n*(o.b-i.b),i.a+n*(o.a-i.a)))}(this,t,e)}makeOpaque(t){if(this.isOpaque()||1!==t.rgba.a)return this;const{r:e,g:n,b:i,a:o}=this.rgba;return new _Color(new RGBA(t.rgba.r-o*(t.rgba.r-e),t.rgba.g-o*(t.rgba.g-n),t.rgba.b-o*(t.rgba.b-i),1))}flatten(...t){const e=t.reduceRight(((t,e)=>_Color._flatten(e,t)));return _Color._flatten(this,e)}static _flatten(t,e){const n=1-t.rgba.a;return new _Color(new RGBA(n*e.rgba.r+t.rgba.a*t.rgba.r,n*e.rgba.g+t.rgba.a*t.rgba.g,n*e.rgba.b+t.rgba.a*t.rgba.b))}toString(){return this._toString||(this._toString=function(t){if(t.isOpaque())return mn(t);return pn(t)}(this)),this._toString}static getLighterColor(t,e,n){if(t.isLighterThan(e))return t;n=n||.5;const i=t.getRelativeLuminance(),o=e.getRelativeLuminance();return n=n*(o-i)/o,t.lighten(n)}static getDarkerColor(t,e,n){if(t.isDarkerThan(e))return t;n=n||.5;const i=t.getRelativeLuminance();return n=n*(i-e.getRelativeLuminance())/i,t.darken(n)}};un.white=new un(new RGBA(255,255,255,1)),un.black=new un(new RGBA(0,0,0,1)),un.red=new un(new RGBA(255,0,0,1)),un.blue=new un(new RGBA(0,0,255,1)),un.green=new un(new RGBA(0,255,0,1)),un.cyan=new un(new RGBA(0,255,255,1)),un.lightgrey=new un(new RGBA(211,211,211,1)),un.transparent=new un(new RGBA(0,0,0,0));let fn=un;function pn(t){return`rgba(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b}, ${Number(t.rgba.a.toFixed(2))})`}function gn(t){const e=t.toString(16);return 2!==e.length?`0${e}`:e}function mn(t){return`#${gn(t.rgba.r)}${gn(t.rgba.g)}${gn(t.rgba.b)}`}const vn=/^((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d.]+%?)?\)$/i;function bn(t){if(0===(t=t.trim()).length)return null;if(t.charCodeAt(0)===He.Hash)return yn(t);const e=vn.exec(t);if(null==e)return null;const n=e[1];let i;switch(n){case"rgb":case"hsl":i=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),1];break;case"rgba":case"hsla":i=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),parseFloat(e[5])];break;default:return null}switch(n){case"rgb":case"rgba":return new fn(new RGBA(i[0],i[1],i[2],i[3]));case"hsl":case"hsla":return new fn(new HSLA(i[0],i[1],i[2],i[3]))}return fn.red}function yn(t){const e=(t=t.trim()).length;if(0===e)return null;if(t.charCodeAt(0)!==He.Hash)return null;switch(e){case 7:{const e=16*wn(t.charCodeAt(1))+wn(t.charCodeAt(2)),n=16*wn(t.charCodeAt(3))+wn(t.charCodeAt(4)),i=16*wn(t.charCodeAt(5))+wn(t.charCodeAt(6));return new fn(new RGBA(e,n,i,1))}case 9:{const e=16*wn(t.charCodeAt(1))+wn(t.charCodeAt(2)),n=16*wn(t.charCodeAt(3))+wn(t.charCodeAt(4)),i=16*wn(t.charCodeAt(5))+wn(t.charCodeAt(6)),o=16*wn(t.charCodeAt(7))+wn(t.charCodeAt(8));return new fn(new RGBA(e,n,i,o/255))}case 4:{const e=wn(t.charCodeAt(1)),n=wn(t.charCodeAt(2)),i=wn(t.charCodeAt(3));return new fn(new RGBA(16*e+e,16*n+n,16*i+i))}case 5:{const e=wn(t.charCodeAt(1)),n=wn(t.charCodeAt(2)),i=wn(t.charCodeAt(3)),o=wn(t.charCodeAt(4));return new fn(new RGBA(16*e+e,16*n+n,16*i+i,(16*o+o)/255))}default:return null}}function wn(t){switch(t){case He.Digit0:return 0;case He.Digit1:return 1;case He.Digit2:return 2;case He.Digit3:return 3;case He.Digit4:return 4;case He.Digit5:return 5;case He.Digit6:return 6;case He.Digit7:return 7;case He.Digit8:return 8;case He.Digit9:return 9;case He.a:case He.A:return 10;case He.b:case He.B:return 11;case He.c:case He.C:return 12;case He.d:case He.D:return 13;case He.e:case He.E:return 14;case He.f:case He.F:return 15}return 0}const Cn=new Ge,Sn=Cn.event;function _n(t){const e=document.documentElement,n=window.getComputedStyle(e),i=document.body.classList,o=i.contains("vscode-light")||i.contains("vscode-high-contrast-light"),s=i.contains("vscode-high-contrast")||i.contains("vscode-high-contrast-light"),r=e.style,a=dn("--vscode-editor-background",n);let l=dn("--vscode-editor-foreground",n);l||(l=dn("--vscode-foreground",n));let c=dn("--color-background",n);return r.setProperty("--color-background--lighten-05",ln(c,5)),r.setProperty("--color-background--darken-05",an(c,5)),r.setProperty("--color-background--lighten-075",ln(c,7.5)),r.setProperty("--color-background--darken-075",an(c,7.5)),r.setProperty("--color-background--lighten-10",ln(c,10)),r.setProperty("--color-background--darken-10",an(c,10)),r.setProperty("--color-background--lighten-15",ln(c,15)),r.setProperty("--color-background--darken-15",an(c,15)),r.setProperty("--color-background--lighten-30",ln(c,30)),r.setProperty("--color-background--darken-30",an(c,30)),r.setProperty("--color-background--lighten-50",ln(c,50)),r.setProperty("--color-background--darken-50",an(c,50)),c=dn("--color-button-background",n),r.setProperty("--color-button-background--darken-30",an(c,30)),c=dn("--color-highlight",n),r.setProperty("--color-highlight--75",cn(c,75)),r.setProperty("--color-highlight--50",cn(c,50)),r.setProperty("--color-highlight--25",cn(c,25)),c=dn("--color-button-secondary-background",n),r.setProperty("--color-button-secondary-background--darken-30",an(c,30)),c=dn("--color-foreground",n),r.setProperty("--color-foreground--85",cn(c,85)),r.setProperty("--color-foreground--75",cn(c,75)),r.setProperty("--color-foreground--65",cn(c,65)),r.setProperty("--color-foreground--50",cn(c,50)),c=dn("--color-link-foreground",n),r.setProperty("--color-link-foreground--darken-20",an(c,20)),r.setProperty("--color-link-foreground--lighten-20",ln(c,20)),c=dn("--color-alert-infoBackground",n),r.setProperty("--color-alert-infoHoverBackground",o?an(c,5):ln(c,5)),c=dn("--color-alert-warningBackground",n),r.setProperty("--color-alert-warningHoverBackground",o?an(c,5):ln(c,5)),c=dn("--color-alert-errorBackground",n),r.setProperty("--color-alert-errorHoverBackground",o?an(c,5):ln(c,5)),c=o?an(a,5):ln(a,5),r.setProperty("--color-alert-neutralBackground",c),r.setProperty("--color-alert-neutralHoverBackground",o?an(c,5):ln(c,5)),{colors:{background:a,foreground:l},computedStyle:n,isLightTheme:o,isHighContrastTheme:s,isInitializing:null==t}}class App{constructor(t){this.appName=t;const e=[],n=_n();if(null!=this.onThemeUpdated&&(this.onThemeUpdated(n),e.push(Sn(this.onThemeUpdated,this))),this.state=window.bootstrap,window.bootstrap=void 0,this.placement=document.body.getAttribute("data-placement")??"editor",Te.configure({name:t,createChannel:function(t){return{name:t,appendLine:function(t){}}}},"off"),this.log(`${t}()`),this._api=tn(),this._hostIpc=new on(this.appName),e.push(this._hostIpc),null!=this.state){const t=this.getState();this.state.timestamp>=(t?.timestamp??0)?this._api.setState(this.state):this.state=t}e.push(function(){const t=new MutationObserver((t=>{Cn.fire(_n(t))}));return t.observe(document.body,{attributeFilter:["class"]}),{dispose:()=>t.disconnect()}}()),requestAnimationFrame((()=>{this.log(`${t}(): initializing...`);try{this.onInitialize?.(),this.bind(),null!=this.onMessageReceived&&e.push(this._hostIpc.onReceiveMessage((t=>this.onMessageReceived(t)))),this.sendCommand(se,void 0),this.onInitialized?.()}finally{document.body.classList.contains("preload")&&setTimeout((()=>{document.body.classList.remove("preload")}),500)}})),e.push(Me.on(window,"pagehide",(()=>{e?.forEach((t=>t.dispose())),this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=void 0})))}bind(){this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=this.onBind?.(),null==this.bindDisposables&&(this.bindDisposables=[]);const t=ve((t=>{this.sendCommand(re,t)}),150);this.bindDisposables.push(Me.on(document,"focusin",(e=>{const n=e.composedPath().some((t=>"INPUT"===t.tagName));!0===this._focused&&this._inputFocused===n||(this._focused=!0,this._inputFocused=n,t({focused:!0,inputFocused:n}))})),Me.on(document,"focusout",(()=>{!1===this._focused&&!1===this._inputFocused||(this._focused=!1,this._inputFocused=!1,t({focused:!1,inputFocused:!1}))})))}log(t,...e){"string"==typeof t?Te.log(t,...e):Te.log(t,e.shift(),...e)}getState(){return this._api.getState()}sendCommand(t,e){this._hostIpc.sendCommand(t,e)}sendCommandWithCompletion(t,e,n){return this._hostIpc.sendCommandWithCompletion(t,e,n)}setState(t){this._api.setState(t)}}const xn=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();void 0===xn.trustedTypes&&(xn.trustedTypes={createPolicy:(t,e)=>e});const En={configurable:!1,enumerable:!1,writable:!1};void 0===xn.FAST&&Reflect.defineProperty(xn,"FAST",Object.assign({value:Object.create(null)},En));const Tn=xn.FAST;if(void 0===Tn.getById){const t=Object.create(null);Reflect.defineProperty(Tn,"getById",Object.assign({value(e,n){let i=t[e];return void 0===i&&(i=n?t[e]=n():null),i}},En))}const Dn=Object.freeze([]);function An(){const t=new WeakMap;return function(e){let n=t.get(e);if(void 0===n){let i=Reflect.getPrototypeOf(e);for(;void 0===n&&null!==i;)n=t.get(i),i=Reflect.getPrototypeOf(i);n=void 0===n?[]:n.slice(0),t.set(e,n)}return n}}const kn=xn.FAST.getById(1,(()=>{const t=[],e=[];function n(){if(e.length)throw e.shift()}function i(t){try{t.call()}catch(t){e.push(t),setTimeout(n,0)}}function o(){let e=0;for(;e<t.length;)if(i(t[e]),e++,e>1024){for(let n=0,i=t.length-e;n<i;n++)t[n]=t[n+e];t.length-=e,e=0}t.length=0}return Object.freeze({enqueue:function(e){t.length<1&&xn.requestAnimationFrame(o),t.push(e)},process:o})})),Mn=xn.trustedTypes.createPolicy("fast-html",{createHTML:t=>t});let Bn=Mn;const On=`fast-${Math.random().toString(36).substring(2,8)}`,$n=`${On}{`,In=`}${On}`,Ln=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(Bn!==Mn)throw new Error("The HTML policy can only be set once.");Bn=t},createHTML:t=>Bn.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(On),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${On}:`,"")),createInterpolationPlaceholder:t=>`${$n}${t}${In}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${On}:${t}--\x3e`,queueUpdate:kn.enqueue,processUpdates:kn.process,nextUpdate:()=>new Promise(kn.enqueue),setAttribute(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)},setBooleanAttribute(t,e,n){n?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)});class SubscriberSet{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return void 0===this.spillover?this.sub1===t||this.sub2===t:-1!==this.spillover.indexOf(t)}subscribe(t){const e=this.spillover;if(void 0===e){if(this.has(t))return;if(void 0===this.sub1)return void(this.sub1=t);if(void 0===this.sub2)return void(this.sub2=t);this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else{-1===e.indexOf(t)&&e.push(t)}}unsubscribe(t){const e=this.spillover;if(void 0===e)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}notify(t){const e=this.spillover,n=this.source;if(void 0===e){const e=this.sub1,i=this.sub2;void 0!==e&&e.handleChange(n,t),void 0!==i&&i.handleChange(n,t)}else for(let i=0,o=e.length;i<o;++i)e[i].handleChange(n,t)}}class PropertyChangeNotifier{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e;const n=this.subscribers[t];void 0!==n&&n.notify(t),null===(e=this.sourceSubscribers)||void 0===e||e.notify(t)}subscribe(t,e){var n;if(e){let n=this.subscribers[e];void 0===n&&(this.subscribers[e]=n=new SubscriberSet(this.source)),n.subscribe(t)}else this.sourceSubscribers=null!==(n=this.sourceSubscribers)&&void 0!==n?n:new SubscriberSet(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var n;if(e){const n=this.subscribers[e];void 0!==n&&n.unsubscribe(t)}else null===(n=this.sourceSubscribers)||void 0===n||n.unsubscribe(t)}}const Nn=Tn.getById(2,(()=>{const t=/(:|&&|\|\||if)/,e=new WeakMap,n=Ln.queueUpdate;let i,o=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function s(t){let n=t.$fastController||e.get(t);return void 0===n&&(Array.isArray(t)?n=o(t):e.set(t,n=new PropertyChangeNotifier(t))),n}const r=An();class DefaultObservableAccessor{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==i&&i.watch(t,this.name),t[this.field]}setValue(t,e){const n=this.field,i=t[n];if(i!==e){t[n]=e;const o=t[this.callback];"function"==typeof o&&o.call(t,i,e),s(t).notify(this.name)}}}class BindingObserverImplementation extends SubscriberSet{constructor(t,e,n=!1){super(t,e),this.binding=t,this.isVolatileBinding=n,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const n=i;i=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const o=this.binding(t,e);return i=n,o}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const n=this.last,o=s(t),r=null===n?this.first:{};if(r.propertySource=t,r.propertyName=e,r.notifier=o,o.subscribe(this,e),null!==n){if(!this.needsRefresh){let e;i=void 0,e=n.propertySource[n.propertyName],i=this,t===e&&(this.needsRefresh=!0)}n.next=r}this.last=r}handleChange(){this.needsQueue&&(this.needsQueue=!1,n(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let t=this.first;return{next:()=>{const e=t;return void 0===e?{value:void 0,done:!0}:(t=t.next,{value:e,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(t){o=t},getNotifier:s,track(t,e){void 0!==i&&i.watch(t,e)},trackVolatile(){void 0!==i&&(i.needsRefresh=!0)},notify(t,e){s(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new DefaultObservableAccessor(e)),r(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors:r,binding(t,e,n=this.isVolatileBinding(t)){return new BindingObserverImplementation(t,e,n)},isVolatileBinding:e=>t.test(e.toString())})}));const Pn=Tn.getById(3,(()=>{let t=null;return{get:()=>t,set(e){t=e}}}));class ExecutionContext{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return Pn.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){Pn.set(t)}}Nn.defineProperty(ExecutionContext.prototype,"index"),Nn.defineProperty(ExecutionContext.prototype,"length");const Rn=Object.seal(new ExecutionContext);class HTMLDirective{constructor(){this.targetIndex=0}}class TargetedHTMLDirective extends HTMLDirective{constructor(){super(...arguments),this.createPlaceholder=Ln.createInterpolationPlaceholder}}class AttachedBehaviorHTMLDirective extends HTMLDirective{constructor(t,e,n){super(),this.name=t,this.behavior=e,this.options=n}createPlaceholder(t){return Ln.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function Fn(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=Nn.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function Hn(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function zn(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function jn(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function Un(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function qn(t){Ln.setAttribute(this.target,this.targetName,t)}function Vn(t){Ln.setBooleanAttribute(this.target,this.targetName,t)}function Gn(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$fastView;void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function Xn(t){this.target[this.targetName]=t}function Yn(t){const e=this.classVersions||Object.create(null),n=this.target;let i=this.version||0;if(null!=t&&t.length){const o=t.split(/\s+/);for(let t=0,s=o.length;t<s;++t){const s=o[t];""!==s&&(e[s]=i,n.classList.add(s))}}if(this.classVersions=e,this.version=i+1,0!==i){i-=1;for(const t in e)e[t]===i&&n.classList.remove(t)}}class HTMLBindingDirective extends TargetedHTMLDirective{constructor(t){super(),this.binding=t,this.bind=Fn,this.unbind=zn,this.updateTarget=qn,this.isBindingVolatile=Nn.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Xn,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,n)=>Ln.createHTML(t(e,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=Vn;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=Hn,this.unbind=Un;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=Yn)}}targetAtContent(){this.updateTarget=Gn,this.unbind=jn}createBehavior(t){return new BindingBehavior(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class BindingBehavior{constructor(t,e,n,i,o,s,r){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=n,this.bind=i,this.unbind=o,this.updateTarget=s,this.targetName=r}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){ExecutionContext.setEvent(t);const e=this.binding(this.source,this.context);ExecutionContext.setEvent(null),!0!==e&&t.preventDefault()}}let Wn=null;class CompilationContext{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){Wn=this}static borrow(t){const e=Wn||new CompilationContext;return e.directives=t,e.reset(),Wn=null,e}}function Kn(t){if(1===t.length)return t[0];let e;const n=t.length,i=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),o=new HTMLBindingDirective(((t,e)=>{let o="";for(let s=0;s<n;++s)o+=i[s](t,e);return o}));return o.targetName=e,o}const Qn=In.length;function Jn(t,e){const n=e.split($n);if(1===n.length)return null;const i=[];for(let e=0,o=n.length;e<o;++e){const o=n[e],s=o.indexOf(In);let r;if(-1===s)r=o;else{const e=parseInt(o.substring(0,s));i.push(t.directives[e]),r=o.substring(s+Qn)}""!==r&&i.push(r)}return i}function Zn(t,e,n=!1){const i=e.attributes;for(let o=0,s=i.length;o<s;++o){const r=i[o],a=r.value,l=Jn(t,a);let c=null;null===l?n&&(c=new HTMLBindingDirective((()=>a)),c.targetName=r.name):c=Kn(l),null!==c&&(e.removeAttributeNode(r),o--,s--,t.addFactory(c))}}function ti(t,e,n){const i=Jn(t,e.textContent);if(null!==i){let o=e;for(let s=0,r=i.length;s<r;++s){const r=i[s],a=0===s?e:o.parentNode.insertBefore(document.createTextNode(""),o.nextSibling);"string"==typeof r?a.textContent=r:(a.textContent=" ",t.captureContentBinding(r)),o=a,t.targetIndex++,a!==e&&n.nextNode()}t.targetIndex--}}const ei=document.createRange();class HTMLView{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=this.lastChild;if(t.previousSibling===e)return;const n=t.parentNode;let i,o=this.firstChild;for(;o!==e;)i=o.nextSibling,n.insertBefore(o,t),o=i;n.insertBefore(e,t)}}remove(){const t=this.fragment,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let n,i=this.firstChild;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const o=this.behaviors,s=this.source;for(let t=0,e=o.length;t<e;++t)o[t].unbind(s)}bind(t,e){const n=this.behaviors;if(this.source!==t)if(null!==this.source){const i=this.source;this.source=t,this.context=e;for(let o=0,s=n.length;o<s;++o){const s=n[o];s.unbind(i),s.bind(t,e)}}else{this.source=t,this.context=e;for(let i=0,o=n.length;i<o;++i)n[i].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let n=0,i=t.length;n<i;++n)t[n].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){ei.setStartBefore(t[0].firstChild),ei.setEndAfter(t[t.length-1].lastChild),ei.deleteContents();for(let e=0,n=t.length;e<n;++e){const n=t[e],i=n.behaviors,o=n.source;for(let t=0,e=i.length;t<e;++t)i[t].unbind(o)}}}}class ViewTemplate{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=Ln.createHTML(e);const n=t.content.firstElementChild;null!==n&&"TEMPLATE"===n.tagName&&(t=n)}else t=e;const n=function(t,e){const n=t.content;document.adoptNode(n);const i=CompilationContext.borrow(e);Zn(i,t,!0);const o=i.behaviorFactories;i.reset();const s=Ln.createTemplateWalker(n);let r;for(;r=s.nextNode();)switch(i.targetIndex++,r.nodeType){case 1:Zn(i,r);break;case 3:ti(i,r,s);break;case 8:Ln.isMarker(r)&&i.addFactory(e[Ln.extractDirectiveIndexFromMarker(r)])}let a=0;(Ln.isMarker(n.firstChild)||1===n.childNodes.length&&e.length)&&(n.insertBefore(document.createComment(""),n.firstChild),a=-1);const l=i.behaviorFactories;return i.release(),{fragment:n,viewBehaviorFactories:l,hostBehaviorFactories:o,targetOffset:a}}(t,this.directives);this.fragment=n.fragment,this.viewBehaviorFactories=n.viewBehaviorFactories,this.hostBehaviorFactories=n.hostBehaviorFactories,this.targetOffset=n.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),n=this.viewBehaviorFactories,i=new Array(this.behaviorCount),o=Ln.createTemplateWalker(e);let s=0,r=this.targetOffset,a=o.nextNode();for(let t=n.length;s<t;++s){const t=n[s],e=t.targetIndex;for(;null!==a;){if(r===e){i[s]=t.createBehavior(a);break}a=o.nextNode(),r++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let n=0,o=e.length;n<o;++n,++s)i[s]=e[n].createBehavior(t)}return new HTMLView(e,i)}render(t,e,n){"string"==typeof e&&(e=document.getElementById(e)),void 0===n&&(n=e);const i=this.create(n);return i.bind(t,Rn),i.appendTo(e),i}}const ni=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function ii(t,...e){const n=[];let i="";for(let o=0,s=t.length-1;o<s;++o){const s=t[o];let r=e[o];if(i+=s,r instanceof ViewTemplate){const t=r;r=()=>t}if("function"==typeof r&&(r=new HTMLBindingDirective(r)),r instanceof TargetedHTMLDirective){const t=ni.exec(s);null!==t&&(r.targetName=t[2])}r instanceof HTMLDirective?(i+=r.createPlaceholder(n.length),n.push(r)):i+=r}return i+=t[t.length-1],new ViewTemplate(i,n)}class CSSDirective{createCSS(){return""}createBehavior(){}}class ElementStyles{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}}function oi(t){return t.map((t=>t instanceof ElementStyles?oi(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function si(t){return t.map((t=>t instanceof ElementStyles?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}ElementStyles.create=(()=>{if(Ln.supportsAdoptedStyleSheets){const t=new Map;return e=>new AdoptedStyleSheetsStyles(e,t)}return t=>new StyleElementStyles(t)})();let ri=(t,e)=>{t.adoptedStyleSheets=[...t.adoptedStyleSheets,...e]},ai=(t,e)=>{t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t)))};if(Ln.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),ri=(t,e)=>{t.adoptedStyleSheets.push(...e)},ai=(t,e)=>{for(const n of e){const e=t.adoptedStyleSheets.indexOf(n);-1!==e&&t.adoptedStyleSheets.splice(e,1)}}}catch(t){}class AdoptedStyleSheetsStyles extends ElementStyles{constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=si(t)}get styleSheets(){if(void 0===this._styleSheets){const t=this.styles,e=this.styleSheetCache;this._styleSheets=oi(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let n=e.get(t);return void 0===n&&(n=new CSSStyleSheet,n.replaceSync(t),e.set(t,n)),n}))}return this._styleSheets}addStylesTo(t){ri(t,this.styleSheets),super.addStylesTo(t)}removeStylesFrom(t){ai(t,this.styleSheets),super.removeStylesFrom(t)}}let li=0;class StyleElementStyles extends ElementStyles{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=si(t),this.styleSheets=oi(t),this.styleClass="fast-style-class-"+ ++li}addStylesTo(t){const e=this.styleSheets,n=this.styleClass;t=this.normalizeTarget(t);for(let i=0;i<e.length;i++){const o=document.createElement("style");o.innerHTML=e[i],o.className=n,t.append(o)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let n=0,i=e.length;n<i;++n)t.removeChild(e[n]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}function ci(t,e){const n=[];let i="";const o=[];for(let s=0,r=t.length-1;s<r;++s){i+=t[s];let r=e[s];if(r instanceof CSSDirective){const t=r.createBehavior();r=r.createCSS(),t&&o.push(t)}r instanceof ElementStyles||r instanceof CSSStyleSheet?(""!==i.trim()&&(n.push(i),i=""),n.push(r)):i+=r}return i+=t[t.length-1],""!==i.trim()&&n.push(i),{styles:n,behaviors:o}}function hi(t,...e){const{styles:n,behaviors:i}=ci(t,e),o=ElementStyles.create(n);return i.length&&o.withBehaviors(...i),o}class CSSPartial extends CSSDirective{constructor(t,e){super(),this.behaviors=e,this.css="";const n=t.reduce(((t,e)=>("string"==typeof e?this.css+=e:t.push(e),t)),[]);n.length&&(this.styles=ElementStyles.create(n))}createBehavior(){return this}createCSS(){return this.css}bind(t){this.styles&&t.$fastController.addStyles(this.styles),this.behaviors.length&&t.$fastController.addBehaviors(this.behaviors)}unbind(t){this.styles&&t.$fastController.removeStyles(this.styles),this.behaviors.length&&t.$fastController.removeBehaviors(this.behaviors)}}const di=Object.freeze({locate:An()}),ui={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t};class AttributeDefinition{constructor(t,e,n=e.toLowerCase(),i="reflect",o){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=n,this.mode=i,this.converter=o,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===i&&void 0===o&&(this.converter=ui)}setValue(t,e){const n=t[this.fieldName],i=this.converter;void 0!==i&&(e=i.fromView(e)),n!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](n,e),t.$fastController.notify(this.name))}getValue(t){return Nn.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,n=this.guards;n.has(t)||"fromView"===e||Ln.queueUpdate((()=>{n.add(t);const i=t[this.fieldName];switch(e){case"reflect":const e=this.converter;Ln.setAttribute(t,this.attribute,void 0!==e?e.toView(i):i);break;case"boolean":Ln.setBooleanAttribute(t,this.attribute,i)}n.delete(t)}))}static collect(t,...e){const n=[];e.push(di.locate(t));for(let i=0,o=e.length;i<o;++i){const o=e[i];if(void 0!==o)for(let e=0,i=o.length;e<i;++e){const i=o[e];"string"==typeof i?n.push(new AttributeDefinition(t,i)):n.push(new AttributeDefinition(t,i.property,i.attribute,i.mode,i.converter))}}return n}}function fi(t,e){let n;function i(t,e){arguments.length>1&&(n.property=e),di.locate(t.constructor).push(n)}return arguments.length>1?(n={},void i(t,e)):(n=void 0===t?{}:t,i)}const pi={mode:"open"},gi={},mi=Tn.getById(4,(()=>{const t=new Map;return Object.freeze({register:e=>!t.has(e.type)&&(t.set(e.type,e),!0),getByType:e=>t.get(e)})}));class FASTElementDefinition{constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const n=AttributeDefinition.collect(t,e.attributes),i=new Array(n.length),o={},s={};for(let t=0,e=n.length;t<e;++t){const e=n[t];i[t]=e.attribute,o[e.name]=e,s[e.attribute]=e}this.attributes=n,this.observedAttributes=i,this.propertyLookup=o,this.attributeLookup=s,this.shadowOptions=void 0===e.shadowOptions?pi:null===e.shadowOptions?void 0:Object.assign(Object.assign({},pi),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?gi:Object.assign(Object.assign({},gi),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?ElementStyles.create(e.styles):e.styles instanceof ElementStyles?e.styles:ElementStyles.create([e.styles])}get isDefined(){return!!mi.getByType(this.type)}define(t=customElements){const e=this.type;if(mi.register(this)){const t=this.attributes,n=e.prototype;for(let e=0,i=t.length;e<i;++e)Nn.defineProperty(n,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}FASTElementDefinition.forType=mi.getByType;const vi=new WeakMap,bi={bubbles:!0,composed:!0,cancelable:!0};function yi(t){return t.shadowRoot||vi.get(t)||null}class Controller extends PropertyChangeNotifier{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=e;const n=e.shadowOptions;if(void 0!==n){const e=t.attachShadow(n);"closed"===n.mode&&vi.set(t,e)}const i=Nn.getAccessors(t);if(i.length>0){const e=this.boundObservables=Object.create(null);for(let n=0,o=i.length;n<o;++n){const o=i[n].name,s=t[o];void 0!==s&&(delete t[o],e[o]=s)}}}get isConnected(){return Nn.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,Nn.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}addStyles(t){const e=yi(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.append(t);else if(!t.isAttachedTo(e)){const n=t.behaviors;t.addStylesTo(e),null!==n&&this.addBehaviors(n)}}removeStyles(t){const e=yi(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const n=t.behaviors;t.removeStylesFrom(e),null!==n&&this.removeBehaviors(n)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),n=t.length,i=[];for(let o=0;o<n;++o){const n=t[o];e.has(n)?e.set(n,e.get(n)+1):(e.set(n,1),i.push(n))}if(this._isConnected){const t=this.element;for(let e=0;e<i.length;++e)i[e].bind(t,Rn)}}removeBehaviors(t,e=!1){const n=this.behaviors;if(null===n)return;const i=t.length,o=[];for(let s=0;s<i;++s){const i=t[s];if(n.has(i)){const t=n.get(i)-1;0===t||e?n.delete(i)&&o.push(i):n.set(i,t)}}if(this._isConnected){const t=this.element;for(let e=0;e<o.length;++e)o[e].unbind(t)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,Rn);const e=this.behaviors;if(null!==e)for(const[n]of e)n.bind(t,Rn);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[n]of e)n.unbind(t)}}onAttributeChangedCallback(t,e,n){const i=this.definition.attributeLookup[t];void 0!==i&&i.onAttributeChangedCallback(this.element,n)}emit(t,e,n){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},bi),n)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const n=Object.keys(e);for(let i=0,o=n.length;i<o;++i){const o=n[i];t[o]=e[o]}this.boundObservables=null}const n=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():n.template&&(this._template=n.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():n.styles&&(this._styles=n.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,n=yi(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||Ln.removeChildNodes(n),t&&(this.view=t.render(e,n,e))}static forCustomElement(t){const e=t.$fastController;if(void 0!==e)return e;const n=FASTElementDefinition.forType(t.constructor);if(void 0===n)throw new Error("Missing FASTElement definition.");return t.$fastController=new Controller(t,n)}}function wi(t){return class extends t{constructor(){super(),Controller.forCustomElement(this)}$emit(t,e,n){return this.$fastController.emit(t,e,n)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,n){this.$fastController.onAttributeChangedCallback(t,e,n)}}}const Ci=Object.assign(wi(HTMLElement),{from:t=>wi(t),define:(t,e)=>new FASTElementDefinition(t,e).define().type});function Si(t){return function(e){new FASTElementDefinition(e,t).define()}}hi`
	.sr-only,
	.sr-only-focusable:not(:active):not(:focus) {
		clip: rect(0 0 0 0);
		clip-path: inset(50%);
		width: 1px;
		height: 1px;
		overflow: hidden;
		position: absolute;
		white-space: nowrap;
	}
`;const _i=(function(t,...e){const{styles:n,behaviors:i}=ci(t,e);return new CSSPartial(n,i)})`
	outline: 1px solid var(--focus-color);
	outline-offset: -1px;
`,xi=hi`
	:host {
		box-sizing: border-box;
	}
	:host *,
	:host *::before,
	:host *::after {
		box-sizing: inherit;
	}
	[hidden] {
		display: none !important;
	}
`;var Ei=Object.defineProperty,Ti=Object.getOwnPropertyDescriptor,Di=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?Ti(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&Ei(e,n,s),s};const Ai=ii`<template role="img" tabindex="${t=>t.tabIndex??"0"}">
	<slot></slot>
</template>`,ki=hi`
	${xi}

	:host {
		display: inline-flex;
		justify-content: center;
		align-items: center;
		width: var(--avatar-size, 2.4rem);
		aspect-ratio: 1 / 1;
		border-radius: 50%;
		border: 1px solid var(--color-background);
		background-color: var(--avatar-bg);
		background-position: center;
		background-repeat: no-repeat;
		background-size: cover;
		transition: all ease 200ms;
		font-size: calc(var(--avatar-size) * 0.42);
	}

	:host(:hover) {
		transform: scale(1.2);
	}

	:host(:focus-visible) {
		${_i}
	}
`;let Mi=class extends Ci{constructor(){super(...arguments),this.media="",this.static=!1}attributeChangedCallback(t,e,n){super.attributeChangedCallback(t,e,n),"media"===t&&e!==n&&(this.style.backgroundImage=`url(${this.media})`)}};Di([fi],Mi.prototype,"media",2),Di([fi({mode:"boolean"})],Mi.prototype,"static",2),Mi=Di([Si({name:"avatar-item",template:Ai,styles:ki})],Mi);class NodeObservationBehavior{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property;this.shouldUpdate=Nn.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(Dn),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}class SlottedBehavior extends NodeObservationBehavior{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}var Bi=Object.defineProperty,Oi=Object.getOwnPropertyDescriptor,$i=(t,e,n,i)=>{for(var o,s=i>1?void 0:i?Oi(e,n):e,r=t.length-1;r>=0;r--)(o=t[r])&&(s=(i?o(e,n,s):o(s))||s);return i&&s&&Bi(e,n,s),s};const Ii=ii`<template>
	<slot ${Li={property:"avatarNodes",filter:(Ni=Node.ELEMENT_NODE,t=>t.nodeType===Ni)},"string"==typeof Li&&(Li={property:Li}),new AttachedBehaviorHTMLDirective("fast-slotted",SlottedBehavior,Li)}></slot>
</template>`;var Li,Ni;const Pi=hi`
	${xi}

	:host {
		display: inline-flex;
		flex-direction: row;
		justify-content: center;
		align-items: center;
	}

	slot::slotted(*:not(:first-child)) {
		margin-left: calc(var(--avatar-size, 2.4rem) * -0.2);
	}

	:host(:focus-within) slot::slotted(*),
	:host(:hover) slot::slotted(*) {
		opacity: 0.5;
	}

	:host(:focus-within) slot::slotted(*:focus),
	:host(:hover) slot::slotted(*:hover) {
		opacity: 1;
		z-index: var(--avatar-selected-zindex, 1) !important;
	}
`;let Ri=class extends Ci{constructor(){super(...arguments),this.zindex=1}avatarNodesChanged(){if(null==this.avatarNodes)return;const t=this.avatarNodes.length;t!==this.zindex-1&&(this.zindex=t+1,this.style.setProperty("--avatar-selected-zindex",this.zindex.toString())),this.avatarNodes.forEach(((e,n)=>{e.style.zIndex=(t-n).toString()}))}};$i([function(t,e){Nn.defineProperty(t,e)}],Ri.prototype,"avatarNodes",2),Ri=$i([Si({name:"avatar-stack",template:Ii,styles:Pi})],Ri);const Fi=["pick","reword","edit","squash","fixup","drop"],Hi=new Map([["p","pick"],["P","pick"],["r","reword"],["R","reword"],["e","edit"],["E","edit"],["s","squash"],["S","squash"],["f","fixup"],["F","fixup"],["d","drop"],["D","drop"]]);new class RebaseEditor extends App{constructor(){super("RebaseEditor"),this.commitTokenRegex=new RegExp(encodeURIComponent("${commit}"))}onInitialize(){this.state=this.getState()??this.state,null!=this.state&&this.refresh(this.state)}onBind(){const t=super.onBind?.()??[],e=document.getElementById("entries");if(ie.create(e,{animation:150,handle:".entry-handle",filter:".entry--base",dragClass:"entry--drag",ghostClass:"entry--dragging",onChange:()=>{let t=!1,e=!1;const n=[...document.querySelectorAll("li[data-sha]")];this.state.ascending&&n.reverse();for(const i of n)e=!1,i.classList.contains("entry--squash")||i.classList.contains("entry--fixup")?t=!0:t&&(i.classList.contains("entry--drop")||(e=!0,t=!1)),i.classList.toggle("entry--squash-to",e&&!i.classList.contains("entry--base"))},onEnd:t=>{if(null==t.newIndex||t.newIndex===t.oldIndex)return;const e=t.item.dataset.sha;if(null!=e){let n=t.newIndex;this.state.ascending&&t.oldIndex&&(n=this.getEntryIndex(e)+-1*(n-t.oldIndex)),this.moveEntry(e,n,!1),this.setSelectedEntry(e)}},onMove:t=>!t.related.classList.contains("entry--base")}),window.navigator.platform.startsWith("Mac")){let t=document.querySelector('[data-action="start"] .shortcut');t.textContent="Cmd+Enter",t=document.querySelector('[data-action="abort"] .shortcut'),t.textContent="Cmd+A"}return t.push(Me.on(window,"keydown",(t=>{t.ctrlKey||t.metaKey?"Enter"===t.key||"r"===t.key?(t.preventDefault(),t.stopPropagation(),this.onStartClicked()):"a"===t.key&&(t.preventDefault(),t.stopPropagation(),this.onAbortClicked()):"/"===t.key&&(t.preventDefault(),t.stopPropagation(),this.onSearch())})),Me.on('[data-action="start"]',"click",(()=>this.onStartClicked())),Me.on('[data-action="abort"]',"click",(()=>this.onAbortClicked())),Me.on('[data-action="disable"]',"click",(()=>this.onDisableClicked())),Me.on('[data-action="switch"]',"click",(()=>this.onSwitchClicked())),Me.on("li[data-sha]","keydown",((t,e)=>{if(t.target?.matches("select[data-sha]"))"Escape"===t.key&&e.focus();else if("Enter"===t.key||" "===t.key){if("Enter"===t.key&&t.target?.matches("a.entry-sha"))return;const n=e.querySelectorAll("select[data-sha]")[0];null!=n&&n.focus()}else if("ArrowUp"===t.key||"ArrowDown"===t.key){if(!t.metaKey&&!t.ctrlKey&&!t.shiftKey){const n="ArrowDown"===t.key&&!this.state.ascending||"ArrowUp"===t.key&&this.state.ascending?1:-1;if(t.altKey){const i=e.dataset.sha;i&&(t.stopPropagation(),this.moveEntry(i,n,!0))}else{if(null==this.state)return;let i=e.dataset.sha;if(null==i)return;t.preventDefault();let o=this.getEntryIndex(i)+n;o<0?o=this.state.entries.length-1:o===this.state.entries.length&&(o=0),i=this.state.entries[o].sha,this.setSelectedEntry(i)}}}else if("j"===t.key||"k"===t.key){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)){if(null==this.state)return;let n=e.dataset.sha;if(null==n)return;t.preventDefault();const i=this.state.ascending?"k"===t.key:"j"===t.key;let o=this.getEntryIndex(n)+(i?1:-1);o<0?o=this.state.entries.length-1:o===this.state.entries.length&&(o=0),n=this.state.entries[o].sha,this.setSelectedEntry(n)}}else if("J"===t.key||"K"===t.key){if(!t.metaKey&&!t.ctrlKey&&!t.altKey&&t.shiftKey){const n=e.dataset.sha;if(n){t.stopPropagation();const e=this.state.ascending?"K"===t.key:"J"===t.key;this.moveEntry(n,e?1:-1,!0)}}}else if(!t.metaKey&&!t.altKey&&!t.ctrlKey){const n=Hi.get(t.key);if(void 0!==n){t.stopPropagation();const i=e.querySelectorAll("select[data-sha]")[0];null==i||i.disabled||(i.value=n,this.onSelectChanged(i))}}})),Me.on("li[data-sha]","focus",((t,e)=>this.onSelectionChanged(e.dataset.sha))),Me.on("select[data-sha]","input",((t,e)=>this.onSelectChanged(e))),Me.on('input[data-action="reorder"]',"input",((t,e)=>this.onOrderChanged(e)))),t}getEntry(t){return this.state?.entries.find((e=>e.sha===t))}getEntryIndex(t){return this.state?.entries.findIndex((e=>e.sha===t))??-1}moveEntry(t,e,n){const i=this.getEntry(t);null!=i&&this.sendCommand(pe,{sha:i.sha,to:e,relative:n})}setEntryAction(t,e){const n=this.getEntry(t);if(null!=n){if(n.action===e)return;this.sendCommand(fe,{sha:n.sha,action:e})}}onAbortClicked(){this.sendCommand(ae,void 0)}onDisableClicked(){this.sendCommand(le,void 0)}onSearch(){this.sendCommand(ce,void 0)}onSelectChanged(t){const e=t.dataset.sha;e&&this.setEntryAction(e,t.options[t.selectedIndex].value)}onStartClicked(){this.sendCommand(he,void 0)}onSwitchClicked(){this.sendCommand(de,void 0)}onOrderChanged(t){const e=t.checked;this.sendCommand(ue,{ascending:e})}onSelectionChanged(t){null!=t&&this.sendCommand(ge,{sha:t})}setSelectedEntry(t,e=!1){window.requestAnimationFrame((()=>{document.querySelectorAll(`${e?"select":"li"}[data-sha="${t}"]`)[0]?.focus()}))}onMessageReceived(t){if(t.method===me.method)oe(me,t,(t=>{this.state=t.state,this.setState(this.state),this.refresh(this.state)}));else super.onMessageReceived?.(t)}refresh(t){const e=document.activeElement?.closest("li[data-sha]")?.dataset.sha;let n=!1;document.activeElement?.matches("select[data-sha]")&&(n=!0);const i=document.getElementById("subhead");i.innerHTML="";let o=document.createElement("span");o.textContent=t.branch,o.classList.add("icon--branch","mr-1"),i.appendChild(o),o=document.createTextNode(`Rebasing ${t.entries.length} commit${1!==t.entries.length?"s":""}${t.onto?" onto":""}`),i.appendChild(o),null!=t.onto&&(o=document.createElement("span"),o.textContent=t.onto.sha,o.classList.add("icon--commit"),i.appendChild(o));const s=document.getElementById("entries");if(s.innerHTML="",0===t.entries.length){s.classList.add("entries--empty");const t=document.querySelector('.button[name="start"]');null!=t&&(t.disabled=!0);const e=document.createElement("li"),n=document.createElement("h3");return n.textContent="No commits to rebase",e.appendChild(n),void s.appendChild(e)}let r=!1,a=!1,l=0;for(const e of t.entries)a=!1,"squash"===e.action||"fixup"===e.action?r=!0:r&&"drop"!==e.action&&(a=!0,r=!1),[o,l]=this.createEntry(e,t,++l,a),t.ascending?s.prepend(o):s.append(o);if(null!=t.onto){const e=t.onto.commit;if(null!=e){const[n]=this.createEntry({action:void 0,index:0,message:e.message,sha:t.onto.sha},t,++l,!1);t.ascending?s.prepend(n):s.appendChild(n),s.classList.add("entries--base")}}s.classList.toggle("entries--ascending",t.ascending);const c=document.getElementById("ordering");null!=c&&(c.checked=t.ascending),this.setSelectedEntry(e??t.entries[0].sha,n)}createEntry(t,e,n,i){const o=document.createElement("li"),s=t.action??"base";o.classList.add("entry",`entry--${s}`),o.classList.toggle("entry--squash-to",i),o.dataset.sha=t.sha;let r=o;if("base"===s&&(r=document.createElement("div"),r.classList.add("entry-blocked"),o.appendChild(r)),null!=t.action){o.tabIndex=0;const e=document.createElement("span");e.classList.add("entry-handle"),o.appendChild(e);const n=document.createElement("div");n.classList.add("entry-action","select-container"),o.appendChild(n);const i=document.createElement("select");i.dataset.sha=t.sha,i.name="action";const s=document.createDocumentFragment();for(const e of Fi){const n=document.createElement("option");n.value=e,n.text=e,t.action===e&&(n.selected=!0),s.appendChild(n)}i.appendChild(s),n.appendChild(i)}const a=t.commit,l=document.createElement("span");l.classList.add("entry-message");const c=a?.message.trim()??t.message.trim();if(l.textContent=c.replace(/\n+(?:\s+\n+)?/g," | "),l.title=c,r.appendChild(l),null!=a){if(a.author){const t=e.authors[a.author],n=e.authors[a.committer];if(null!=t?.avatarUrl||null!=n?.avatarUrl){const e=document.createElement("avatar-stack");e.classList.add("entry-avatar");const i=t?.avatarUrl.length,s=t!==n&&"You"!==t.author&&n?.avatarUrl.length;if(i){const n=document.createElement("avatar-item");n.media=t.avatarUrl,n.ariaLabel=n.title=s?`Authored by: ${t.author}`:t.author,e.appendChild(n)}if(s){const t=document.createElement("avatar-item");t.media=n.avatarUrl,t.ariaLabel=t.title=i?`Committed by: ${n.author}`:n.author,e.appendChild(t)}o.appendChild(e)}}if(a.dateFromNow){const t=document.createElement("span");t.title=a.date??"",t.classList.add("entry-date"),t.textContent=a.dateFromNow,o.appendChild(t)}}const h=document.createElement("a");return h.classList.add("entry-sha","icon--commit"),h.href=e.commands.commit.replace(this.commitTokenRegex,a?.sha??t.sha),h.textContent=t.sha.substr(0,7),r.appendChild(h),[o,n]}};