var t={d:(e,i)=>{for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};void 0!==t&&Object.defineProperty(t,"p",{get:function(){try{if("string"!=typeof webpackResourceBasePath)throw new Error("WebpackRequireFrom: 'webpackResourceBasePath' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return webpackResourceBasePath}catch(t){return"#{root}/dist/webviews/"}},set:function(t){}});var e={};t.d(e,{q:()=>TimelineApp});const i=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof global)return global;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;try{return new Function("return this")()}catch(t){return{}}}();void 0===i.trustedTypes&&(i.trustedTypes={createPolicy:(t,e)=>e});const o={configurable:!1,enumerable:!1,writable:!1};void 0===i.FAST&&Reflect.defineProperty(i,"FAST",Object.assign({value:Object.create(null)},o));const r=i.FAST;if(void 0===r.getById){const t=Object.create(null);Reflect.defineProperty(r,"getById",Object.assign({value(e,i){let o=t[e];return void 0===o&&(o=i?t[e]=i():null),o}},o))}const a=Object.freeze([]);function s(){const t=new WeakMap;return function(e){let i=t.get(e);if(void 0===i){let o=Reflect.getPrototypeOf(e);for(;void 0===i&&null!==o;)i=t.get(o),o=Reflect.getPrototypeOf(o);i=void 0===i?[]:i.slice(0),t.set(e,i)}return i}}const c=i.FAST.getById(1,(()=>{const t=[],e=[];function o(){if(e.length)throw e.shift()}function r(t){try{t.call()}catch(t){e.push(t),setTimeout(o,0)}}function a(){let e=0;for(;e<t.length;)if(r(t[e]),e++,e>1024){for(let i=0,o=t.length-e;i<o;i++)t[i]=t[i+e];t.length-=e,e=0}t.length=0}return Object.freeze({enqueue:function(e){t.length<1&&i.requestAnimationFrame(a),t.push(e)},process:a})})),l=i.trustedTypes.createPolicy("fast-html",{createHTML:t=>t});let u=l;const h=`fast-${Math.random().toString(36).substring(2,8)}`,d=`${h}{`,f=`}${h}`,p=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(t){if(u!==l)throw new Error("The HTML policy can only be set once.");u=t},createHTML:t=>u.createHTML(t),isMarker:t=>t&&8===t.nodeType&&t.data.startsWith(h),extractDirectiveIndexFromMarker:t=>parseInt(t.data.replace(`${h}:`,"")),createInterpolationPlaceholder:t=>`${d}${t}${f}`,createCustomAttributePlaceholder(t,e){return`${t}="${this.createInterpolationPlaceholder(e)}"`},createBlockPlaceholder:t=>`\x3c!--${h}:${t}--\x3e`,queueUpdate:c.enqueue,processUpdates:c.process,nextUpdate:()=>new Promise(c.enqueue),setAttribute(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)},setBooleanAttribute(t,e,i){i?t.setAttribute(e,""):t.removeAttribute(e)},removeChildNodes(t){for(let e=t.firstChild;null!==e;e=t.firstChild)t.removeChild(e)},createTemplateWalker:t=>document.createTreeWalker(t,133,null,!1)});class SubscriberSet{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return void 0===this.spillover?this.sub1===t||this.sub2===t:-1!==this.spillover.indexOf(t)}subscribe(t){const e=this.spillover;if(void 0===e){if(this.has(t))return;if(void 0===this.sub1)return void(this.sub1=t);if(void 0===this.sub2)return void(this.sub2=t);this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else{-1===e.indexOf(t)&&e.push(t)}}unsubscribe(t){const e=this.spillover;if(void 0===e)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}notify(t){const e=this.spillover,i=this.source;if(void 0===e){const e=this.sub1,o=this.sub2;void 0!==e&&e.handleChange(i,t),void 0!==o&&o.handleChange(i,t)}else for(let o=0,r=e.length;o<r;++o)e[o].handleChange(i,t)}}class PropertyChangeNotifier{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e;const i=this.subscribers[t];void 0!==i&&i.notify(t),null===(e=this.sourceSubscribers)||void 0===e||e.notify(t)}subscribe(t,e){var i;if(e){let i=this.subscribers[e];void 0===i&&(this.subscribers[e]=i=new SubscriberSet(this.source)),i.subscribe(t)}else this.sourceSubscribers=null!==(i=this.sourceSubscribers)&&void 0!==i?i:new SubscriberSet(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var i;if(e){const i=this.subscribers[e];void 0!==i&&i.unsubscribe(t)}else null===(i=this.sourceSubscribers)||void 0===i||i.unsubscribe(t)}}const g=r.getById(2,(()=>{const t=/(:|&&|\|\||if)/,e=new WeakMap,i=p.queueUpdate;let o,r=t=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function a(t){let i=t.$fastController||e.get(t);return void 0===i&&(Array.isArray(t)?i=r(t):e.set(t,i=new PropertyChangeNotifier(t))),i}const c=s();class DefaultObservableAccessor{constructor(t){this.name=t,this.field=`_${t}`,this.callback=`${t}Changed`}getValue(t){return void 0!==o&&o.watch(t,this.name),t[this.field]}setValue(t,e){const i=this.field,o=t[i];if(o!==e){t[i]=e;const r=t[this.callback];"function"==typeof r&&r.call(t,o,e),a(t).notify(this.name)}}}class BindingObserverImplementation extends SubscriberSet{constructor(t,e,i=!1){super(t,e),this.binding=t,this.isVolatileBinding=i,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(t,e){this.needsRefresh&&null!==this.last&&this.disconnect();const i=o;o=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const r=this.binding(t,e);return o=i,r}disconnect(){if(null!==this.last){let t=this.first;for(;void 0!==t;)t.notifier.unsubscribe(this,t.propertyName),t=t.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(t,e){const i=this.last,r=a(t),s=null===i?this.first:{};if(s.propertySource=t,s.propertyName=e,s.notifier=r,r.subscribe(this,e),null!==i){if(!this.needsRefresh){let e;o=void 0,e=i.propertySource[i.propertyName],o=this,t===e&&(this.needsRefresh=!0)}i.next=s}this.last=s}handleChange(){this.needsQueue&&(this.needsQueue=!1,i(this))}call(){null!==this.last&&(this.needsQueue=!0,this.notify(this))}records(){let t=this.first;return{next:()=>{const e=t;return void 0===e?{value:void 0,done:!0}:(t=t.next,{value:e,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(t){r=t},getNotifier:a,track(t,e){void 0!==o&&o.watch(t,e)},trackVolatile(){void 0!==o&&(o.needsRefresh=!0)},notify(t,e){a(t).notify(e)},defineProperty(t,e){"string"==typeof e&&(e=new DefaultObservableAccessor(e)),c(t).push(e),Reflect.defineProperty(t,e.name,{enumerable:!0,get:function(){return e.getValue(this)},set:function(t){e.setValue(this,t)}})},getAccessors:c,binding(t,e,i=this.isVolatileBinding(t)){return new BindingObserverImplementation(t,e,i)},isVolatileBinding:e=>t.test(e.toString())})}));function v(t,e){g.defineProperty(t,e)}function m(t,e,i){return Object.assign({},i,{get:function(){return g.trackVolatile(),i.get.apply(this)}})}const y=r.getById(3,(()=>{let t=null;return{get:()=>t,set(e){t=e}}}));class ExecutionContext{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return y.get()}get isEven(){return this.index%2==0}get isOdd(){return this.index%2!=0}get isFirst(){return 0===this.index}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){y.set(t)}}g.defineProperty(ExecutionContext.prototype,"index"),g.defineProperty(ExecutionContext.prototype,"length");const x=Object.seal(new ExecutionContext);class ElementStyles{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=null===this.behaviors?t:this.behaviors.concat(t),this}}function _(t){return t.map((t=>t instanceof ElementStyles?_(t.styles):[t])).reduce(((t,e)=>t.concat(e)),[])}function w(t){return t.map((t=>t instanceof ElementStyles?t.behaviors:null)).reduce(((t,e)=>null===e?t:(null===t&&(t=[]),t.concat(e))),null)}ElementStyles.create=(()=>{if(p.supportsAdoptedStyleSheets){const t=new Map;return e=>new AdoptedStyleSheetsStyles(e,t)}return t=>new StyleElementStyles(t)})();let T=(t,e)=>{t.adoptedStyleSheets=[...t.adoptedStyleSheets,...e]},S=(t,e)=>{t.adoptedStyleSheets=t.adoptedStyleSheets.filter((t=>-1===e.indexOf(t)))};if(p.supportsAdoptedStyleSheets)try{document.adoptedStyleSheets.push(),document.adoptedStyleSheets.splice(),T=(t,e)=>{t.adoptedStyleSheets.push(...e)},S=(t,e)=>{for(const i of e){const e=t.adoptedStyleSheets.indexOf(i);-1!==e&&t.adoptedStyleSheets.splice(e,1)}}}catch(Zv){}class AdoptedStyleSheetsStyles extends ElementStyles{constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=w(t)}get styleSheets(){if(void 0===this._styleSheets){const t=this.styles,e=this.styleSheetCache;this._styleSheets=_(t).map((t=>{if(t instanceof CSSStyleSheet)return t;let i=e.get(t);return void 0===i&&(i=new CSSStyleSheet,i.replaceSync(t),e.set(t,i)),i}))}return this._styleSheets}addStylesTo(t){T(t,this.styleSheets),super.addStylesTo(t)}removeStylesFrom(t){S(t,this.styleSheets),super.removeStylesFrom(t)}}let A=0;class StyleElementStyles extends ElementStyles{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=w(t),this.styleSheets=_(t),this.styleClass="fast-style-class-"+ ++A}addStylesTo(t){const e=this.styleSheets,i=this.styleClass;t=this.normalizeTarget(t);for(let o=0;o<e.length;o++){const r=document.createElement("style");r.innerHTML=e[o],r.className=i,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){const e=(t=this.normalizeTarget(t)).querySelectorAll(`.${this.styleClass}`);for(let i=0,o=e.length;i<o;++i)t.removeChild(e[i]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const C=Object.freeze({locate:s()}),$={toView:t=>t?"true":"false",fromView:t=>null!=t&&"false"!==t&&!1!==t&&0!==t},E={toView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e.toString()},fromView(t){if(null==t)return null;const e=1*t;return isNaN(e)?null:e}};class AttributeDefinition{constructor(t,e,i=e.toLowerCase(),o="reflect",r){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=i,this.mode=o,this.converter=r,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,"boolean"===o&&void 0===r&&(this.converter=$)}setValue(t,e){const i=t[this.fieldName],o=this.converter;void 0!==o&&(e=o.fromView(e)),i!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](i,e),t.$fastController.notify(this.name))}getValue(t){return g.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,i=this.guards;i.has(t)||"fromView"===e||p.queueUpdate((()=>{i.add(t);const o=t[this.fieldName];switch(e){case"reflect":const e=this.converter;p.setAttribute(t,this.attribute,void 0!==e?e.toView(o):o);break;case"boolean":p.setBooleanAttribute(t,this.attribute,o)}i.delete(t)}))}static collect(t,...e){const i=[];e.push(C.locate(t));for(let o=0,r=e.length;o<r;++o){const r=e[o];if(void 0!==r)for(let e=0,o=r.length;e<o;++e){const o=r[e];"string"==typeof o?i.push(new AttributeDefinition(t,o)):i.push(new AttributeDefinition(t,o.property,o.attribute,o.mode,o.converter))}}return i}}function D(t,e){let i;function o(t,e){arguments.length>1&&(i.property=e),C.locate(t.constructor).push(i)}return arguments.length>1?(i={},void o(t,e)):(i=void 0===t?{}:t,o)}const O={mode:"open"},P={},z=r.getById(4,(()=>{const t=new Map;return Object.freeze({register:e=>!t.has(e.type)&&(t.set(e.type,e),!0),getByType:e=>t.get(e)})}));class FASTElementDefinition{constructor(t,e=t.definition){"string"==typeof e&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const i=AttributeDefinition.collect(t,e.attributes),o=new Array(i.length),r={},a={};for(let t=0,e=i.length;t<e;++t){const e=i[t];o[t]=e.attribute,r[e.name]=e,a[e.attribute]=e}this.attributes=i,this.observedAttributes=o,this.propertyLookup=r,this.attributeLookup=a,this.shadowOptions=void 0===e.shadowOptions?O:null===e.shadowOptions?void 0:Object.assign(Object.assign({},O),e.shadowOptions),this.elementOptions=void 0===e.elementOptions?P:Object.assign(Object.assign({},P),e.elementOptions),this.styles=void 0===e.styles?void 0:Array.isArray(e.styles)?ElementStyles.create(e.styles):e.styles instanceof ElementStyles?e.styles:ElementStyles.create([e.styles])}get isDefined(){return!!z.getByType(this.type)}define(t=customElements){const e=this.type;if(z.register(this)){const t=this.attributes,i=e.prototype;for(let e=0,o=t.length;e<o;++e)g.defineProperty(i,t[e]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}FASTElementDefinition.forType=z.getByType;function B(t,e,i,o){var r,a=arguments.length,s=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(a<3?r(s):a>3?r(e,i,s):r(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError;const N=new WeakMap,F={bubbles:!0,composed:!0,cancelable:!0};function X(t){return t.shadowRoot||N.get(t)||null}class Controller extends PropertyChangeNotifier{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=e;const i=e.shadowOptions;if(void 0!==i){const e=t.attachShadow(i);"closed"===i.mode&&N.set(t,e)}const o=g.getAccessors(t);if(o.length>0){const e=this.boundObservables=Object.create(null);for(let i=0,r=o.length;i<r;++i){const r=o[i].name,a=t[r];void 0!==a&&(delete t[r],e[r]=a)}}}get isConnected(){return g.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,g.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(null!==this._styles&&this.removeStyles(this._styles),this._styles=t,this.needsInitialization||null===t||this.addStyles(t))}addStyles(t){const e=X(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.append(t);else if(!t.isAttachedTo(e)){const i=t.behaviors;t.addStylesTo(e),null!==i&&this.addBehaviors(i)}}removeStyles(t){const e=X(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const i=t.behaviors;t.removeStylesFrom(e),null!==i&&this.removeBehaviors(i)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),i=t.length,o=[];for(let r=0;r<i;++r){const i=t[r];e.has(i)?e.set(i,e.get(i)+1):(e.set(i,1),o.push(i))}if(this._isConnected){const t=this.element;for(let e=0;e<o.length;++e)o[e].bind(t,x)}}removeBehaviors(t,e=!1){const i=this.behaviors;if(null===i)return;const o=t.length,r=[];for(let a=0;a<o;++a){const o=t[a];if(i.has(o)){const t=i.get(o)-1;0===t||e?i.delete(o)&&r.push(o):i.set(o,t)}}if(this._isConnected){const t=this.element;for(let e=0;e<r.length;++e)r[e].unbind(t)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():null!==this.view&&this.view.bind(t,x);const e=this.behaviors;if(null!==e)for(const[i]of e)i.bind(t,x);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;null!==t&&t.unbind();const e=this.behaviors;if(null!==e){const t=this.element;for(const[i]of e)i.unbind(t)}}onAttributeChangedCallback(t,e,i){const o=this.definition.attributeLookup[t];void 0!==o&&o.onAttributeChangedCallback(this.element,i)}emit(t,e,i){return!!this._isConnected&&this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},F),i)))}finishInitialization(){const t=this.element,e=this.boundObservables;if(null!==e){const i=Object.keys(e);for(let o=0,r=i.length;o<r;++o){const r=i[o];t[r]=e[r]}this.boundObservables=null}const i=this.definition;null===this._template&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():i.template&&(this._template=i.template||null)),null!==this._template&&this.renderTemplate(this._template),null===this._styles&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():i.styles&&(this._styles=i.styles||null)),null!==this._styles&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,i=X(e)||e;null!==this.view?(this.view.dispose(),this.view=null):this.needsInitialization||p.removeChildNodes(i),t&&(this.view=t.render(e,i,e))}static forCustomElement(t){const e=t.$fastController;if(void 0!==e)return e;const i=FASTElementDefinition.forType(t.constructor);if(void 0===i)throw new Error("Missing FASTElement definition.");return t.$fastController=new Controller(t,i)}}function U(t){return class extends t{constructor(){super(),Controller.forCustomElement(this)}$emit(t,e,i){return this.$fastController.emit(t,e,i)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,i){this.$fastController.onAttributeChangedCallback(t,e,i)}}}const j=Object.assign(U(HTMLElement),{from:t=>U(t),define:(t,e)=>new FASTElementDefinition(t,e).define().type});const Y=new Map;"metadata"in Reflect||(Reflect.metadata=function(t,e){return function(i){Reflect.defineMetadata(t,e,i)}},Reflect.defineMetadata=function(t,e,i){let o=Y.get(i);void 0===o&&Y.set(i,o=new Map),o.set(t,e)},Reflect.getOwnMetadata=function(t,e){const i=Y.get(e);if(void 0!==i)return i.get(t)});class ResolverBuilder{constructor(t,e){this.container=t,this.key=e}instance(t){return this.registerResolver(0,t)}singleton(t){return this.registerResolver(1,t)}transient(t){return this.registerResolver(2,t)}callback(t){return this.registerResolver(3,t)}cachedCallback(t){return this.registerResolver(3,gt(t))}aliasTo(t){return this.registerResolver(5,t)}registerResolver(t,e){const{container:i,key:o}=this;return this.container=this.key=void 0,i.registerResolver(o,new ResolverImpl(o,t,e))}}function G(t){const e=t.slice(),i=Object.keys(t),o=i.length;let r;for(let a=0;a<o;++a)r=i[a],Tt(r)||(e[r]=t[r]);return e}const q=Object.freeze({none(t){throw Error(`${t.toString()} not registered, did you forget to add @singleton()?`)},singleton:t=>new ResolverImpl(t,1,t),transient:t=>new ResolverImpl(t,2,t)}),W=Object.freeze({default:Object.freeze({parentLocator:()=>null,responsibleForOwnerRequests:!1,defaultResolver:q.singleton})}),Z=new Map;function K(t){return e=>Reflect.getOwnMetadata(t,e)}let Q=null;const J=Object.freeze({createContainer:t=>new ContainerImpl(null,Object.assign({},W.default,t)),findResponsibleContainer(t){const e=t.$$container$$;return e&&e.responsibleForOwnerRequests?e:J.findParentContainer(t)},findParentContainer(t){const e=new CustomEvent(dt,{bubbles:!0,composed:!0,cancelable:!0,detail:{container:void 0}});return t.dispatchEvent(e),e.detail.container||J.getOrCreateDOMContainer()},getOrCreateDOMContainer:(t,e)=>t?t.$$container$$||new ContainerImpl(t,Object.assign({},W.default,e,{parentLocator:J.findParentContainer})):Q||(Q=new ContainerImpl(null,Object.assign({},W.default,e,{parentLocator:()=>null}))),getDesignParamtypes:K("design:paramtypes"),getAnnotationParamtypes:K("di:paramtypes"),getOrCreateAnnotationParamTypes(t){let e=this.getAnnotationParamtypes(t);return void 0===e&&Reflect.defineMetadata("di:paramtypes",e=[],t),e},getDependencies(t){let e=Z.get(t);if(void 0===e){const i=t.inject;if(void 0===i){const i=J.getDesignParamtypes(t),o=J.getAnnotationParamtypes(t);if(void 0===i)if(void 0===o){const i=Object.getPrototypeOf(t);e="function"==typeof i&&i!==Function.prototype?G(J.getDependencies(i)):[]}else e=G(o);else if(void 0===o)e=G(i);else{e=G(i);let t,r=o.length;for(let i=0;i<r;++i)t=o[i],void 0!==t&&(e[i]=t);const a=Object.keys(o);let s;r=a.length;for(let t=0;t<r;++t)s=a[t],Tt(s)||(e[s]=o[s])}}else e=G(i);Z.set(t,e)}return e},defineProperty(t,e,i,o=!1){const r=`$di_${e}`;Reflect.defineProperty(t,e,{get:function(){let t=this[r];if(void 0===t){const a=this instanceof HTMLElement?J.findResponsibleContainer(this):J.getOrCreateDOMContainer();if(t=a.get(i),this[r]=t,o&&this instanceof j){const o=this.$fastController,a=()=>{J.findResponsibleContainer(this).get(i)!==this[r]&&(this[r]=t,o.notify(e))};o.subscribe({handleChange:a},"isConnected")}}return t}})},createInterface(t,e){const i="function"==typeof t?t:e,o="string"==typeof t?t:t&&"friendlyName"in t&&t.friendlyName||yt,r="string"!=typeof t&&(t&&"respectConnection"in t&&t.respectConnection||!1),a=function(t,e,i){if(null==t||void 0!==new.target)throw new Error(`No registration for interface: '${a.friendlyName}'`);if(e)J.defineProperty(t,e,a,r);else{J.getOrCreateAnnotationParamTypes(t)[i]=a}};return a.$isInterface=!0,a.friendlyName=o??"(anonymous)",null!=i&&(a.register=function(t,e){return i(new ResolverBuilder(t,null!=e?e:a))}),a.toString=function(){return`InterfaceSymbol<${a.friendlyName}>`},a},inject:(...t)=>function(e,i,o){if("number"==typeof o){const i=J.getOrCreateAnnotationParamTypes(e),r=t[0];void 0!==r&&(i[o]=r)}else if(i)J.defineProperty(e,i,t[0]);else{const i=o?J.getOrCreateAnnotationParamTypes(o.value):J.getOrCreateAnnotationParamTypes(e);let r;for(let e=0;e<t.length;++e)r=t[e],void 0!==r&&(i[e]=r)}},transient:t=>(t.register=function(e){return vt.transient(t,t).register(e)},t.registerInRequestor=!1,t),singleton:(t,e=nt)=>(t.register=function(e){return vt.singleton(t,t).register(e)},t.registerInRequestor=e.scoped,t)}),tt=J.createInterface("Container");function et(t){return function(e){const i=function(t,e,o){J.inject(i)(t,e,o)};return i.$isResolver=!0,i.resolve=function(i,o){return t(e,i,o)},i}}J.inject;const nt={scoped:!1};it=(t,e,i,o)=>i.getAll(t,o);var it;et(((t,e,i)=>()=>i.get(t))),et(((t,e,i)=>i.has(t,!0)?i.get(t):void 0));function ot(t,e,i){J.inject(ot)(t,e,i)}ot.$isResolver=!0,ot.resolve=()=>{};et(((t,e,i)=>{const o=rt(t,e),r=new ResolverImpl(t,0,o);return i.registerResolver(t,r),o})),et(((t,e,i)=>rt(t,e)));function rt(t,e){return e.getFactory(t).construct(e)}class ResolverImpl{constructor(t,e,i){this.key=t,this.strategy=e,this.state=i,this.resolving=!1}get $isResolver(){return!0}register(t){return t.registerResolver(this.key,this)}resolve(t,e){switch(this.strategy){case 0:return this.state;case 1:if(this.resolving)throw new Error(`Cyclic dependency found: ${this.state.name}`);return this.resolving=!0,this.state=t.getFactory(this.state).construct(e),this.strategy=0,this.resolving=!1,this.state;case 2:{const i=t.getFactory(this.state);if(null===i)throw new Error(`Resolver for ${String(this.key)} returned a null factory`);return i.construct(e)}case 3:return this.state(t,e,this);case 4:return this.state[0].resolve(t,e);case 5:return e.get(this.state);default:throw new Error(`Invalid resolver strategy specified: ${this.strategy}.`)}}getFactory(t){var e,i,o;switch(this.strategy){case 1:case 2:return t.getFactory(this.state);case 5:return null!==(o=null===(i=null===(e=t.getResolver(this.state))||void 0===e?void 0:e.getFactory)||void 0===i?void 0:i.call(e,t))&&void 0!==o?o:null;default:return null}}}function at(t){return this.get(t)}function st(t,e){return e(t)}class FactoryImpl{constructor(t,e){this.Type=t,this.dependencies=e,this.transformers=null}construct(t,e){let i;return i=void 0===e?new this.Type(...this.dependencies.map(at,t)):new this.Type(...this.dependencies.map(at,t),...e),null==this.transformers?i:this.transformers.reduce(st,i)}registerTransformer(t){(this.transformers||(this.transformers=[])).push(t)}}const ct={$isResolver:!0,resolve:(t,e)=>e};function lt(t){return"function"==typeof t.register}function ut(t){return function(t){return lt(t)&&"boolean"==typeof t.registerInRequestor}(t)&&t.registerInRequestor}const ht=new Set(["Array","ArrayBuffer","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Number","Object","Promise","RangeError","ReferenceError","RegExp","Set","SharedArrayBuffer","String","SyntaxError","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","WeakMap","WeakSet"]),dt="__DI_LOCATE_PARENT__",ft=new Map;class ContainerImpl{constructor(t,e){this.owner=t,this.config=e,this._parent=void 0,this.registerDepth=0,this.context=null,null!==t&&(t.$$container$$=this),this.resolvers=new Map,this.resolvers.set(tt,ct),t instanceof Node&&t.addEventListener(dt,(t=>{t.composedPath()[0]!==this.owner&&(t.detail.container=this,t.stopImmediatePropagation())}))}get parent(){return void 0===this._parent&&(this._parent=this.config.parentLocator(this.owner)),this._parent}get depth(){return null===this.parent?0:this.parent.depth+1}get responsibleForOwnerRequests(){return this.config.responsibleForOwnerRequests}registerWithContext(t,...e){return this.context=t,this.register(...e),this.context=null,this}register(...t){if(100==++this.registerDepth)throw new Error("Unable to autoregister dependency");let e,i,o,r,a;const s=this.context;for(let c=0,l=t.length;c<l;++c)if(e=t[c],xt(e))if(lt(e))e.register(this,s);else if(void 0!==e.prototype)vt.singleton(e,e).register(this);else for(i=Object.keys(e),r=0,a=i.length;r<a;++r)o=e[i[r]],xt(o)&&(lt(o)?o.register(this,s):this.register(o));return--this.registerDepth,this}registerResolver(t,e){bt(t);const i=this.resolvers,o=i.get(t);return null==o?i.set(t,e):o instanceof ResolverImpl&&4===o.strategy?o.state.push(e):i.set(t,new ResolverImpl(t,4,[o,e])),e}registerTransformer(t,e){const i=this.getResolver(t);if(null==i)return!1;if(i.getFactory){const t=i.getFactory(this);return null!=t&&(t.registerTransformer(e),!0)}return!1}getResolver(t,e=!0){if(bt(t),void 0!==t.resolve)return t;let i,o=this;for(;null!=o;){if(i=o.resolvers.get(t),null!=i)return i;if(null==o.parent){const i=ut(t)?this:o;return e?this.jitRegister(t,i):null}o=o.parent}return null}has(t,e=!1){return!!this.resolvers.has(t)||!(!e||null==this.parent)&&this.parent.has(t,!0)}get(t){if(bt(t),t.$isResolver)return t.resolve(this,this);let e,i=this;for(;null!=i;){if(e=i.resolvers.get(t),null!=e)return e.resolve(i,this);if(null==i.parent){const o=ut(t)?this:i;return e=this.jitRegister(t,o),e.resolve(i,this)}i=i.parent}throw new Error(`Unable to resolve key: ${String(t)}`)}getAll(t,e=!1){bt(t);const i=this;let o,r=i;if(e){let e=a;for(;null!=r;)o=r.resolvers.get(t),null!=o&&(e=e.concat(mt(o,r,i))),r=r.parent;return e}for(;null!=r;){if(o=r.resolvers.get(t),null!=o)return mt(o,r,i);if(r=r.parent,null==r)return a}return a}getFactory(t){let e=ft.get(t);if(void 0===e){if(_t(t))throw new Error(`${t.name} is a native function and therefore cannot be safely constructed by DI. If this is intentional, please use a callback or cachedCallback resolver.`);ft.set(t,e=new FactoryImpl(t,J.getDependencies(t)))}return e}registerFactory(t,e){ft.set(t,e)}createChild(t){return new ContainerImpl(null,Object.assign({},this.config,t,{parentLocator:()=>this}))}jitRegister(t,e){if("function"!=typeof t)throw new Error(`Attempted to jitRegister something that is not a constructor: '${t}'. Did you forget to register this dependency?`);if(ht.has(t.name))throw new Error(`Attempted to jitRegister an intrinsic type: ${t.name}. Did you forget to add @inject(Key)`);if(lt(t)){const i=t.register(e);if(!(i instanceof Object)||null==i.resolve){const i=e.resolvers.get(t);if(null!=i)return i;throw new Error("A valid resolver was not returned from the static register method")}return i}if(t.$isInterface)throw new Error(`Attempted to jitRegister an interface: ${t.friendlyName}`);{const i=this.config.defaultResolver(t,e);return e.resolvers.set(t,i),i}}}const pt=new WeakMap;function gt(t){return function(e,i,o){if(pt.has(o))return pt.get(o);const r=t(e,i,o);return pt.set(o,r),r}}const vt=Object.freeze({instance:(t,e)=>new ResolverImpl(t,0,e),singleton:(t,e)=>new ResolverImpl(t,1,e),transient:(t,e)=>new ResolverImpl(t,2,e),callback:(t,e)=>new ResolverImpl(t,3,e),cachedCallback:(t,e)=>new ResolverImpl(t,3,gt(e)),aliasTo:(t,e)=>new ResolverImpl(e,5,t)});function bt(t){if(null==t)throw new Error("key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?")}function mt(t,e,i){if(t instanceof ResolverImpl&&4===t.strategy){const o=t.state;let r=o.length;const a=new Array(r);for(;r--;)a[r]=o[r].resolve(e,i);return a}return[t.resolve(e,i)]}const yt="(anonymous)";function xt(t){return"object"==typeof t&&null!==t||"function"==typeof t}const _t=function(){const t=new WeakMap;let e=!1,i="",o=0;return function(r){return e=t.get(r),void 0===e&&(i=r.toString(),o=i.length,e=o>=29&&o<=100&&125===i.charCodeAt(o-1)&&i.charCodeAt(o-2)<=32&&93===i.charCodeAt(o-3)&&101===i.charCodeAt(o-4)&&100===i.charCodeAt(o-5)&&111===i.charCodeAt(o-6)&&99===i.charCodeAt(o-7)&&32===i.charCodeAt(o-8)&&101===i.charCodeAt(o-9)&&118===i.charCodeAt(o-10)&&105===i.charCodeAt(o-11)&&116===i.charCodeAt(o-12)&&97===i.charCodeAt(o-13)&&110===i.charCodeAt(o-14)&&88===i.charCodeAt(o-15),t.set(r,e)),e}}(),wt={};function Tt(t){switch(typeof t){case"number":return t>=0&&(0|t)===t;case"string":{const e=wt[t];if(void 0!==e)return e;const i=t.length;if(0===i)return wt[t]=!1;let o=0;for(let e=0;e<i;++e)if(o=t.charCodeAt(e),0===e&&48===o&&i>1||o<48||o>57)return wt[t]=!1;return wt[t]=!0}default:return!1}}function kt(t){return`${t.toLowerCase()}:presentation`}const St=new Map,At=Object.freeze({define(t,e,i){const o=kt(t);void 0===St.get(o)?St.set(o,e):St.set(o,!1),i.register(vt.instance(o,e))},forTag(t,e){const i=kt(t),o=St.get(i);if(!1===o){return J.findResponsibleContainer(e).get(i)}return o||null}});class DefaultComponentPresentation{constructor(t,e){this.template=t||null,this.styles=void 0===e?null:Array.isArray(e)?ElementStyles.create(e):e instanceof ElementStyles?e:ElementStyles.create([e])}applyTo(t){const e=t.$fastController;null===e.template&&(e.template=this.template),null===e.styles&&(e.styles=this.styles)}}class FoundationElement extends j{constructor(){super(...arguments),this._presentation=void 0}get $presentation(){return void 0===this._presentation&&(this._presentation=At.forTag(this.tagName,this)),this._presentation}templateChanged(){void 0!==this.template&&(this.$fastController.template=this.template)}stylesChanged(){void 0!==this.styles&&(this.$fastController.styles=this.styles)}connectedCallback(){null!==this.$presentation&&this.$presentation.applyTo(this),super.connectedCallback()}static compose(t){return(e={})=>new FoundationElementRegistry(this===FoundationElement?class extends FoundationElement{}:this,t,e)}}function Ct(t,e,i){return"function"==typeof t?t(e,i):t}B([v],FoundationElement.prototype,"template",void 0),B([v],FoundationElement.prototype,"styles",void 0);class FoundationElementRegistry{constructor(t,e,i){this.type=t,this.elementDefinition=e,this.overrideDefinition=i,this.definition=Object.assign(Object.assign({},this.elementDefinition),this.overrideDefinition)}register(t,e){const i=this.definition,o=this.overrideDefinition,r=`${i.prefix||e.elementPrefix}-${i.baseName}`;e.tryDefineElement({name:r,type:this.type,baseClass:this.elementDefinition.baseClass,callback:t=>{const e=new DefaultComponentPresentation(Ct(i.template,t,i),Ct(i.styles,t,i));t.definePresentation(e);let r=Ct(i.shadowOptions,t,i);t.shadowRootMode&&(r?o.shadowOptions||(r.mode=t.shadowRootMode):null!==r&&(r={mode:t.shadowRootMode})),t.defineElement({elementOptions:Ct(i.elementOptions,t,i),shadowOptions:r,attributes:Ct(i.attributes,t,i)})}})}}class CSSDirective{createCSS(){return""}createBehavior(){}}function $t(t){const e=t.parentElement;if(e)return e;{const e=t.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}const Et=document.createElement("div");class QueuedStyleSheetTarget{setProperty(t,e){p.queueUpdate((()=>this.target.setProperty(t,e)))}removeProperty(t){p.queueUpdate((()=>this.target.removeProperty(t)))}}class DocumentStyleSheetTarget extends QueuedStyleSheetTarget{constructor(){super();const t=new CSSStyleSheet;this.target=t.cssRules[t.insertRule(":root{}")].style,document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]}}class HeadStyleElementStyleSheetTarget extends QueuedStyleSheetTarget{constructor(){super(),this.style=document.createElement("style"),document.head.appendChild(this.style);const{sheet:t}=this.style;if(t){const e=t.insertRule(":root{}",t.cssRules.length);this.target=t.cssRules[e].style}}}class StyleElementStyleSheetTarget{constructor(t){this.store=new Map,this.target=null;const e=t.$fastController;this.style=document.createElement("style"),e.addStyles(this.style),g.getNotifier(e).subscribe(this,"isConnected"),this.handleChange(e,"isConnected")}targetChanged(){if(null!==this.target)for(const[t,e]of this.store.entries())this.target.setProperty(t,e)}setProperty(t,e){this.store.set(t,e),p.queueUpdate((()=>{null!==this.target&&this.target.setProperty(t,e)}))}removeProperty(t){this.store.delete(t),p.queueUpdate((()=>{null!==this.target&&this.target.removeProperty(t)}))}handleChange(t,e){const{sheet:i}=this.style;if(i){const t=i.insertRule(":host{}",i.cssRules.length);this.target=i.cssRules[t].style}else this.target=null}}B([v],StyleElementStyleSheetTarget.prototype,"target",void 0);class ElementStyleSheetTarget{constructor(t){this.target=t.style}setProperty(t,e){p.queueUpdate((()=>this.target.setProperty(t,e)))}removeProperty(t){p.queueUpdate((()=>this.target.removeProperty(t)))}}class RootStyleSheetTarget{setProperty(t,e){RootStyleSheetTarget.properties[t]=e;for(const i of RootStyleSheetTarget.roots.values())Rt.getOrCreate(RootStyleSheetTarget.normalizeRoot(i)).setProperty(t,e)}removeProperty(t){delete RootStyleSheetTarget.properties[t];for(const e of RootStyleSheetTarget.roots.values())Rt.getOrCreate(RootStyleSheetTarget.normalizeRoot(e)).removeProperty(t)}static registerRoot(t){const{roots:e}=RootStyleSheetTarget;if(!e.has(t)){e.add(t);const i=Rt.getOrCreate(this.normalizeRoot(t));for(const t in RootStyleSheetTarget.properties)i.setProperty(t,RootStyleSheetTarget.properties[t])}}static unregisterRoot(t){const{roots:e}=RootStyleSheetTarget;if(e.has(t)){e.delete(t);const i=Rt.getOrCreate(RootStyleSheetTarget.normalizeRoot(t));for(const t in RootStyleSheetTarget.properties)i.removeProperty(t)}}static normalizeRoot(t){return t===Et?document:t}}RootStyleSheetTarget.roots=new Set,RootStyleSheetTarget.properties={};const Dt=new WeakMap,Mt=p.supportsAdoptedStyleSheets?class ConstructableStyleSheetTarget extends QueuedStyleSheetTarget{constructor(t){super();const e=new CSSStyleSheet;this.target=e.cssRules[e.insertRule(":host{}")].style,t.$fastController.addStyles(ElementStyles.create([e]))}}:StyleElementStyleSheetTarget,Rt=Object.freeze({getOrCreate(t){if(Dt.has(t))return Dt.get(t);let e;return t===Et?e=new RootStyleSheetTarget:t instanceof Document?e=p.supportsAdoptedStyleSheets?new DocumentStyleSheetTarget:new HeadStyleElementStyleSheetTarget:e=t instanceof j?new Mt(t):new ElementStyleSheetTarget(t),Dt.set(t,e),e}});class DesignTokenImpl extends CSSDirective{constructor(t){super(),this.subscribers=new WeakMap,this._appliedTo=new Set,this.name=t.name,null!==t.cssCustomPropertyName&&(this.cssCustomProperty=`--${t.cssCustomPropertyName}`,this.cssVar=`var(${this.cssCustomProperty})`),this.id=DesignTokenImpl.uniqueId(),DesignTokenImpl.tokensById.set(this.id,this)}get appliedTo(){return[...this._appliedTo]}static from(t){return new DesignTokenImpl({name:"string"==typeof t?t:t.name,cssCustomPropertyName:"string"==typeof t?t:void 0===t.cssCustomPropertyName?t.name:t.cssCustomPropertyName})}static isCSSDesignToken(t){return"string"==typeof t.cssCustomProperty}static isDerivedDesignTokenValue(t){return"function"==typeof t}static getTokenById(t){return DesignTokenImpl.tokensById.get(t)}getOrCreateSubscriberSet(t=this){return this.subscribers.get(t)||this.subscribers.set(t,new Set)&&this.subscribers.get(t)}createCSS(){return this.cssVar||""}getValueFor(t){const e=DesignTokenNode.getOrCreate(t).get(this);if(void 0!==e)return e;throw new Error(`Value could not be retrieved for token named "${this.name}". Ensure the value is set for ${t} or an ancestor of ${t}.`)}setValueFor(t,e){return this._appliedTo.add(t),e instanceof DesignTokenImpl&&(e=this.alias(e)),DesignTokenNode.getOrCreate(t).set(this,e),this}deleteValueFor(t){return this._appliedTo.delete(t),DesignTokenNode.existsFor(t)&&DesignTokenNode.getOrCreate(t).delete(this),this}withDefault(t){return this.setValueFor(Et,t),this}subscribe(t,e){const i=this.getOrCreateSubscriberSet(e);e&&!DesignTokenNode.existsFor(e)&&DesignTokenNode.getOrCreate(e),i.has(t)||i.add(t)}unsubscribe(t,e){const i=this.subscribers.get(e||this);i&&i.has(t)&&i.delete(t)}notify(t){const e=Object.freeze({token:this,target:t});this.subscribers.has(this)&&this.subscribers.get(this).forEach((t=>t.handleChange(e))),this.subscribers.has(t)&&this.subscribers.get(t).forEach((t=>t.handleChange(e)))}alias(t){return e=>t.getValueFor(e)}}DesignTokenImpl.uniqueId=(()=>{let t=0;return()=>(t++,t.toString(16))})(),DesignTokenImpl.tokensById=new Map;class DesignTokenBindingObserver{constructor(t,e,i){this.source=t,this.token=e,this.node=i,this.dependencies=new Set,this.observer=g.binding(t,this,!1),this.observer.handleChange=this.observer.call,this.handleChange()}disconnect(){this.observer.disconnect()}handleChange(){this.node.store.set(this.token,this.observer.observe(this.node.target,x))}}class Store{constructor(){this.values=new Map}set(t,e){this.values.get(t)!==e&&(this.values.set(t,e),g.getNotifier(this).notify(t.id))}get(t){return g.track(this,t.id),this.values.get(t)}delete(t){this.values.delete(t)}all(){return this.values.entries()}}const Ot=new WeakMap,It=new WeakMap;class DesignTokenNode{constructor(t){this.target=t,this.store=new Store,this.children=[],this.assignedValues=new Map,this.reflecting=new Set,this.bindingObservers=new Map,this.tokenValueChangeHandler={handleChange:(t,e)=>{const i=DesignTokenImpl.getTokenById(e);i&&(i.notify(this.target),this.updateCSSTokenReflection(t,i))}},Ot.set(t,this),g.getNotifier(this.store).subscribe(this.tokenValueChangeHandler),t instanceof j?t.$fastController.addBehaviors([this]):t.isConnected&&this.bind()}static getOrCreate(t){return Ot.get(t)||new DesignTokenNode(t)}static existsFor(t){return Ot.has(t)}static findParent(t){if(Et!==t.target){let e=$t(t.target);for(;null!==e;){if(Ot.has(e))return Ot.get(e);e=$t(e)}return DesignTokenNode.getOrCreate(Et)}return null}static findClosestAssignedNode(t,e){let i=e;do{if(i.has(t))return i;i=i.parent?i.parent:i.target!==Et?DesignTokenNode.getOrCreate(Et):null}while(null!==i);return null}get parent(){return It.get(this)||null}updateCSSTokenReflection(t,e){if(DesignTokenImpl.isCSSDesignToken(e)){const i=this.parent,o=this.isReflecting(e);if(i){const r=i.get(e),a=t.get(e);r===a||o?r===a&&o&&this.stopReflectToCSS(e):this.reflectToCSS(e)}else o||this.reflectToCSS(e)}}has(t){return this.assignedValues.has(t)}get(t){const e=this.store.get(t);if(void 0!==e)return e;const i=this.getRaw(t);return void 0!==i?(this.hydrate(t,i),this.get(t)):void 0}getRaw(t){var e;return this.assignedValues.has(t)?this.assignedValues.get(t):null===(e=DesignTokenNode.findClosestAssignedNode(t,this))||void 0===e?void 0:e.getRaw(t)}set(t,e){DesignTokenImpl.isDerivedDesignTokenValue(this.assignedValues.get(t))&&this.tearDownBindingObserver(t),this.assignedValues.set(t,e),DesignTokenImpl.isDerivedDesignTokenValue(e)?this.setupBindingObserver(t,e):this.store.set(t,e)}delete(t){this.assignedValues.delete(t),this.tearDownBindingObserver(t);const e=this.getRaw(t);e?this.hydrate(t,e):this.store.delete(t)}bind(){const t=DesignTokenNode.findParent(this);t&&t.appendChild(this);for(const t of this.assignedValues.keys())t.notify(this.target)}unbind(){if(this.parent){It.get(this).removeChild(this)}}appendChild(t){t.parent&&It.get(t).removeChild(t);const e=this.children.filter((e=>t.contains(e)));It.set(t,this),this.children.push(t),e.forEach((e=>t.appendChild(e))),g.getNotifier(this.store).subscribe(t);for(const[e,i]of this.store.all())t.hydrate(e,this.bindingObservers.has(e)?this.getRaw(e):i)}removeChild(t){const e=this.children.indexOf(t);return-1!==e&&this.children.splice(e,1),g.getNotifier(this.store).unsubscribe(t),t.parent===this&&It.delete(t)}contains(t){return function(t,e){let i=e;for(;null!==i;){if(i===t)return!0;i=$t(i)}return!1}(this.target,t.target)}reflectToCSS(t){this.isReflecting(t)||(this.reflecting.add(t),DesignTokenNode.cssCustomPropertyReflector.startReflection(t,this.target))}stopReflectToCSS(t){this.isReflecting(t)&&(this.reflecting.delete(t),DesignTokenNode.cssCustomPropertyReflector.stopReflection(t,this.target))}isReflecting(t){return this.reflecting.has(t)}handleChange(t,e){const i=DesignTokenImpl.getTokenById(e);i&&(this.hydrate(i,this.getRaw(i)),this.updateCSSTokenReflection(this.store,i))}hydrate(t,e){if(!this.has(t)){const i=this.bindingObservers.get(t);DesignTokenImpl.isDerivedDesignTokenValue(e)?i?i.source!==e&&(this.tearDownBindingObserver(t),this.setupBindingObserver(t,e)):this.setupBindingObserver(t,e):(i&&this.tearDownBindingObserver(t),this.store.set(t,e))}}setupBindingObserver(t,e){const i=new DesignTokenBindingObserver(e,t,this);return this.bindingObservers.set(t,i),i}tearDownBindingObserver(t){return!!this.bindingObservers.has(t)&&(this.bindingObservers.get(t).disconnect(),this.bindingObservers.delete(t),!0)}}DesignTokenNode.cssCustomPropertyReflector=new class CustomPropertyReflector{startReflection(t,e){t.subscribe(this,e),this.handleChange({token:t,target:e})}stopReflection(t,e){t.unsubscribe(this,e),this.remove(t,e)}handleChange(t){const{token:e,target:i}=t;this.add(e,i)}add(t,e){Rt.getOrCreate(e).setProperty(t.cssCustomProperty,this.resolveCSSValue(DesignTokenNode.getOrCreate(e).get(t)))}remove(t,e){Rt.getOrCreate(e).removeProperty(t.cssCustomProperty)}resolveCSSValue(t){return t&&"function"==typeof t.createCSS?t.createCSS():t}},B([v],DesignTokenNode.prototype,"children",void 0);const Pt=Object.freeze({create:function(t){return DesignTokenImpl.from(t)},notifyConnection:t=>!(!t.isConnected||!DesignTokenNode.existsFor(t))&&(DesignTokenNode.getOrCreate(t).bind(),!0),notifyDisconnection:t=>!(t.isConnected||!DesignTokenNode.existsFor(t))&&(DesignTokenNode.getOrCreate(t).unbind(),!0),registerRoot(t=Et){RootStyleSheetTarget.registerRoot(t)},unregisterRoot(t=Et){RootStyleSheetTarget.unregisterRoot(t)}}),Lt=Object.freeze({definitionCallbackOnly:null,ignoreDuplicate:Symbol()}),zt=new Map,Bt=new Map;let Nt=null;const Ft=J.createInterface((t=>t.cachedCallback((t=>(null===Nt&&(Nt=new DefaultDesignSystem(null,t)),Nt))))),Xt=Object.freeze({tagFor:t=>Bt.get(t),responsibleFor(t){const e=t.$$designSystem$$;if(e)return e;return J.findResponsibleContainer(t).get(Ft)},getOrCreate(t){if(!t)return null===Nt&&(Nt=J.getOrCreateDOMContainer().get(Ft)),Nt;const e=t.$$designSystem$$;if(e)return e;const i=J.getOrCreateDOMContainer(t);if(i.has(Ft,!1))return i.get(Ft);{const e=new DefaultDesignSystem(t,i);return i.register(vt.instance(Ft,e)),e}}});class DefaultDesignSystem{constructor(t,e){this.owner=t,this.container=e,this.designTokensInitialized=!1,this.prefix="fast",this.shadowRootMode=void 0,this.disambiguate=()=>Lt.definitionCallbackOnly,null!==t&&(t.$$designSystem$$=this)}withPrefix(t){return this.prefix=t,this}withShadowRootMode(t){return this.shadowRootMode=t,this}withElementDisambiguation(t){return this.disambiguate=t,this}withDesignTokenRoot(t){return this.designTokenRoot=t,this}register(...t){const e=this.container,i=[],o=this.disambiguate,r=this.shadowRootMode,a={elementPrefix:this.prefix,tryDefineElement(t,a,s){const c=function(t,e,i){return"string"==typeof t?{name:t,type:e,callback:i}:t}(t,a,s),{name:l,callback:u,baseClass:h}=c;let{type:d}=c,f=l,p=zt.get(f),g=!0;for(;p;){const t=o(f,d,p);switch(t){case Lt.ignoreDuplicate:return;case Lt.definitionCallbackOnly:g=!1,p=void 0;break;default:f=t,p=zt.get(f)}}g&&((Bt.has(d)||d===FoundationElement)&&(d=class extends d{}),zt.set(f,d),Bt.set(d,f),h&&Bt.set(h,f)),i.push(new ElementDefinitionEntry(e,f,d,r,u,g))}};this.designTokensInitialized||(this.designTokensInitialized=!0,null!==this.designTokenRoot&&Pt.registerRoot(this.designTokenRoot)),e.registerWithContext(a,...t);for(const t of i)t.callback(t),t.willDefine&&null!==t.definition&&t.definition.define();return this}}class ElementDefinitionEntry{constructor(t,e,i,o,r,a){this.container=t,this.name=e,this.type=i,this.shadowRootMode=o,this.callback=r,this.willDefine=a,this.definition=null}definePresentation(t){At.define(this.name,t,this.container)}defineElement(t){this.definition=new FASTElementDefinition(this.type,Object.assign(Object.assign({},t),{name:this.name}))}tagFor(t){return Xt.tagFor(t)}}let Vt=0;function Ht(t=""){return`${t}${Vt++}`}var Ut;!function(t){t[t.alt=18]="alt",t[t.arrowDown=40]="arrowDown",t[t.arrowLeft=37]="arrowLeft",t[t.arrowRight=39]="arrowRight",t[t.arrowUp=38]="arrowUp",t[t.back=8]="back",t[t.backSlash=220]="backSlash",t[t.break=19]="break",t[t.capsLock=20]="capsLock",t[t.closeBracket=221]="closeBracket",t[t.colon=186]="colon",t[t.colon2=59]="colon2",t[t.comma=188]="comma",t[t.ctrl=17]="ctrl",t[t.delete=46]="delete",t[t.end=35]="end",t[t.enter=13]="enter",t[t.equals=187]="equals",t[t.equals2=61]="equals2",t[t.equals3=107]="equals3",t[t.escape=27]="escape",t[t.forwardSlash=191]="forwardSlash",t[t.function1=112]="function1",t[t.function10=121]="function10",t[t.function11=122]="function11",t[t.function12=123]="function12",t[t.function2=113]="function2",t[t.function3=114]="function3",t[t.function4=115]="function4",t[t.function5=116]="function5",t[t.function6=117]="function6",t[t.function7=118]="function7",t[t.function8=119]="function8",t[t.function9=120]="function9",t[t.home=36]="home",t[t.insert=45]="insert",t[t.menu=93]="menu",t[t.minus=189]="minus",t[t.minus2=109]="minus2",t[t.numLock=144]="numLock",t[t.numPad0=96]="numPad0",t[t.numPad1=97]="numPad1",t[t.numPad2=98]="numPad2",t[t.numPad3=99]="numPad3",t[t.numPad4=100]="numPad4",t[t.numPad5=101]="numPad5",t[t.numPad6=102]="numPad6",t[t.numPad7=103]="numPad7",t[t.numPad8=104]="numPad8",t[t.numPad9=105]="numPad9",t[t.numPadDivide=111]="numPadDivide",t[t.numPadDot=110]="numPadDot",t[t.numPadMinus=109]="numPadMinus",t[t.numPadMultiply=106]="numPadMultiply",t[t.numPadPlus=107]="numPadPlus",t[t.openBracket=219]="openBracket",t[t.pageDown=34]="pageDown",t[t.pageUp=33]="pageUp",t[t.period=190]="period",t[t.print=44]="print",t[t.quote=222]="quote",t[t.scrollLock=145]="scrollLock",t[t.shift=16]="shift",t[t.space=32]="space",t[t.tab=9]="tab",t[t.tilde=192]="tilde",t[t.windowsLeft=91]="windowsLeft",t[t.windowsOpera=219]="windowsOpera",t[t.windowsRight=92]="windowsRight"}(Ut||(Ut={}));const jt="ArrowDown",Yt="ArrowUp",Gt="Enter",qt="Escape",Wt="Home",Zt="End",Kt="Tab";function Qt(...t){return t.every((t=>t instanceof HTMLElement))}let Jt;class ARIAGlobalStatesAndProperties{}B([D({attribute:"aria-atomic"})],ARIAGlobalStatesAndProperties.prototype,"ariaAtomic",void 0),B([D({attribute:"aria-busy"})],ARIAGlobalStatesAndProperties.prototype,"ariaBusy",void 0),B([D({attribute:"aria-controls"})],ARIAGlobalStatesAndProperties.prototype,"ariaControls",void 0),B([D({attribute:"aria-current"})],ARIAGlobalStatesAndProperties.prototype,"ariaCurrent",void 0),B([D({attribute:"aria-describedby"})],ARIAGlobalStatesAndProperties.prototype,"ariaDescribedby",void 0),B([D({attribute:"aria-details"})],ARIAGlobalStatesAndProperties.prototype,"ariaDetails",void 0),B([D({attribute:"aria-disabled"})],ARIAGlobalStatesAndProperties.prototype,"ariaDisabled",void 0),B([D({attribute:"aria-errormessage"})],ARIAGlobalStatesAndProperties.prototype,"ariaErrormessage",void 0),B([D({attribute:"aria-flowto"})],ARIAGlobalStatesAndProperties.prototype,"ariaFlowto",void 0),B([D({attribute:"aria-haspopup"})],ARIAGlobalStatesAndProperties.prototype,"ariaHaspopup",void 0),B([D({attribute:"aria-hidden"})],ARIAGlobalStatesAndProperties.prototype,"ariaHidden",void 0),B([D({attribute:"aria-invalid"})],ARIAGlobalStatesAndProperties.prototype,"ariaInvalid",void 0),B([D({attribute:"aria-keyshortcuts"})],ARIAGlobalStatesAndProperties.prototype,"ariaKeyshortcuts",void 0),B([D({attribute:"aria-label"})],ARIAGlobalStatesAndProperties.prototype,"ariaLabel",void 0),B([D({attribute:"aria-labelledby"})],ARIAGlobalStatesAndProperties.prototype,"ariaLabelledby",void 0),B([D({attribute:"aria-live"})],ARIAGlobalStatesAndProperties.prototype,"ariaLive",void 0),B([D({attribute:"aria-owns"})],ARIAGlobalStatesAndProperties.prototype,"ariaOwns",void 0),B([D({attribute:"aria-relevant"})],ARIAGlobalStatesAndProperties.prototype,"ariaRelevant",void 0),B([D({attribute:"aria-roledescription"})],ARIAGlobalStatesAndProperties.prototype,"ariaRoledescription",void 0);class HTMLDirective{constructor(){this.targetIndex=0}}class TargetedHTMLDirective extends HTMLDirective{constructor(){super(...arguments),this.createPlaceholder=p.createInterpolationPlaceholder}}class AttachedBehaviorHTMLDirective extends HTMLDirective{constructor(t,e,i){super(),this.name=t,this.behavior=e,this.options=i}createPlaceholder(t){return p.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function te(t,e){this.source=t,this.context=e,null===this.bindingObserver&&(this.bindingObserver=g.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(t,e))}function ee(t,e){this.source=t,this.context=e,this.target.addEventListener(this.targetName,this)}function ne(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function ie(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const t=this.target.$fastView;void 0!==t&&t.isComposed&&(t.unbind(),t.needsBindOnly=!0)}function oe(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function re(t){p.setAttribute(this.target,this.targetName,t)}function ae(t){p.setBooleanAttribute(this.target,this.targetName,t)}function se(t){if(null==t&&(t=""),t.create){this.target.textContent="";let e=this.target.$fastView;void 0===e?e=t.create():this.target.$fastTemplate!==t&&(e.isComposed&&(e.remove(),e.unbind()),e=t.create()),e.isComposed?e.needsBindOnly&&(e.needsBindOnly=!1,e.bind(this.source,this.context)):(e.isComposed=!0,e.bind(this.source,this.context),e.insertBefore(this.target),this.target.$fastView=e,this.target.$fastTemplate=t)}else{const e=this.target.$fastView;void 0!==e&&e.isComposed&&(e.isComposed=!1,e.remove(),e.needsBindOnly?e.needsBindOnly=!1:e.unbind()),this.target.textContent=t}}function ce(t){this.target[this.targetName]=t}function le(t){const e=this.classVersions||Object.create(null),i=this.target;let o=this.version||0;if(null!=t&&t.length){const r=t.split(/\s+/);for(let t=0,a=r.length;t<a;++t){const a=r[t];""!==a&&(e[a]=o,i.classList.add(a))}}if(this.classVersions=e,this.version=o+1,0!==o){o-=1;for(const t in e)e[t]===o&&i.classList.remove(t)}}class HTMLBindingDirective extends TargetedHTMLDirective{constructor(t){super(),this.binding=t,this.bind=te,this.unbind=ne,this.updateTarget=re,this.isBindingVolatile=g.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,void 0!==t)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=ce,"innerHTML"===this.cleanedTargetName){const t=this.binding;this.binding=(e,i)=>p.createHTML(t(e,i))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=ae;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=ee,this.unbind=oe;break;default:this.cleanedTargetName=t,"class"===t&&(this.updateTarget=le)}}targetAtContent(){this.updateTarget=se,this.unbind=ie}createBehavior(t){return new BindingBehavior(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class BindingBehavior{constructor(t,e,i,o,r,a,s){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=i,this.bind=o,this.unbind=r,this.updateTarget=a,this.targetName=s}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){ExecutionContext.setEvent(t);const e=this.binding(this.source,this.context);ExecutionContext.setEvent(null),!0!==e&&t.preventDefault()}}let ue=null;class CompilationContext{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){ue=this}static borrow(t){const e=ue||new CompilationContext;return e.directives=t,e.reset(),ue=null,e}}function he(t){if(1===t.length)return t[0];let e;const i=t.length,o=t.map((t=>"string"==typeof t?()=>t:(e=t.targetName||e,t.binding))),r=new HTMLBindingDirective(((t,e)=>{let r="";for(let a=0;a<i;++a)r+=o[a](t,e);return r}));return r.targetName=e,r}const de=f.length;function fe(t,e){const i=e.split(d);if(1===i.length)return null;const o=[];for(let e=0,r=i.length;e<r;++e){const r=i[e],a=r.indexOf(f);let s;if(-1===a)s=r;else{const e=parseInt(r.substring(0,a));o.push(t.directives[e]),s=r.substring(a+de)}""!==s&&o.push(s)}return o}function pe(t,e,i=!1){const o=e.attributes;for(let r=0,a=o.length;r<a;++r){const s=o[r],c=s.value,l=fe(t,c);let u=null;null===l?i&&(u=new HTMLBindingDirective((()=>c)),u.targetName=s.name):u=he(l),null!==u&&(e.removeAttributeNode(s),r--,a--,t.addFactory(u))}}function ge(t,e,i){const o=fe(t,e.textContent);if(null!==o){let r=e;for(let a=0,s=o.length;a<s;++a){const s=o[a],c=0===a?e:r.parentNode.insertBefore(document.createTextNode(""),r.nextSibling);"string"==typeof s?c.textContent=s:(c.textContent=" ",t.captureContentBinding(s)),r=c,t.targetIndex++,c!==e&&i.nextNode()}t.targetIndex--}}const ve=document.createRange();class HTMLView{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=this.lastChild;if(t.previousSibling===e)return;const i=t.parentNode;let o,r=this.firstChild;for(;r!==e;)o=r.nextSibling,i.insertBefore(r,t),r=o;i.insertBefore(e,t)}}remove(){const t=this.fragment,e=this.lastChild;let i,o=this.firstChild;for(;o!==e;)i=o.nextSibling,t.appendChild(o),o=i;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let i,o=this.firstChild;for(;o!==e;)i=o.nextSibling,t.removeChild(o),o=i;t.removeChild(e);const r=this.behaviors,a=this.source;for(let t=0,e=r.length;t<e;++t)r[t].unbind(a)}bind(t,e){const i=this.behaviors;if(this.source!==t)if(null!==this.source){const o=this.source;this.source=t,this.context=e;for(let r=0,a=i.length;r<a;++r){const a=i[r];a.unbind(o),a.bind(t,e)}}else{this.source=t,this.context=e;for(let o=0,r=i.length;o<r;++o)i[o].bind(t,e)}}unbind(){if(null===this.source)return;const t=this.behaviors,e=this.source;for(let i=0,o=t.length;i<o;++i)t[i].unbind(e);this.source=null}static disposeContiguousBatch(t){if(0!==t.length){ve.setStartBefore(t[0].firstChild),ve.setEndAfter(t[t.length-1].lastChild),ve.deleteContents();for(let e=0,i=t.length;e<i;++e){const i=t[e],o=i.behaviors,r=i.source;for(let t=0,e=o.length;t<e;++t)o[t].unbind(r)}}}}class ViewTemplate{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(null===this.fragment){let t;const e=this.html;if("string"==typeof e){t=document.createElement("template"),t.innerHTML=p.createHTML(e);const i=t.content.firstElementChild;null!==i&&"TEMPLATE"===i.tagName&&(t=i)}else t=e;const i=function(t,e){const i=t.content;document.adoptNode(i);const o=CompilationContext.borrow(e);pe(o,t,!0);const r=o.behaviorFactories;o.reset();const a=p.createTemplateWalker(i);let s;for(;s=a.nextNode();)switch(o.targetIndex++,s.nodeType){case 1:pe(o,s);break;case 3:ge(o,s,a);break;case 8:p.isMarker(s)&&o.addFactory(e[p.extractDirectiveIndexFromMarker(s)])}let c=0;(p.isMarker(i.firstChild)||1===i.childNodes.length&&e.length)&&(i.insertBefore(document.createComment(""),i.firstChild),c=-1);const l=o.behaviorFactories;return o.release(),{fragment:i,viewBehaviorFactories:l,hostBehaviorFactories:r,targetOffset:c}}(t,this.directives);this.fragment=i.fragment,this.viewBehaviorFactories=i.viewBehaviorFactories,this.hostBehaviorFactories=i.hostBehaviorFactories,this.targetOffset=i.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),i=this.viewBehaviorFactories,o=new Array(this.behaviorCount),r=p.createTemplateWalker(e);let a=0,s=this.targetOffset,c=r.nextNode();for(let t=i.length;a<t;++a){const t=i[a],e=t.targetIndex;for(;null!==c;){if(s===e){o[a]=t.createBehavior(c);break}c=r.nextNode(),s++}}if(this.hasHostBehaviors){const e=this.hostBehaviorFactories;for(let i=0,r=e.length;i<r;++i,++a)o[a]=e[i].createBehavior(t)}return new HTMLView(e,o)}render(t,e,i){"string"==typeof e&&(e=document.getElementById(e)),void 0===i&&(i=e);const o=this.create(i);return o.bind(t,x),o.appendTo(e),o}}const be=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function me(t,...e){const i=[];let o="";for(let r=0,a=t.length-1;r<a;++r){const a=t[r];let s=e[r];if(o+=a,s instanceof ViewTemplate){const t=s;s=()=>t}if("function"==typeof s&&(s=new HTMLBindingDirective(s)),s instanceof TargetedHTMLDirective){const t=be.exec(a);null!==t&&(s.targetName=t[2])}s instanceof HTMLDirective?(o+=s.createPlaceholder(i.length),i.push(s)):o+=s}return o+=t[t.length-1],new ViewTemplate(o,i)}class RefBehavior{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function ye(t){return new AttachedBehaviorHTMLDirective("fast-ref",RefBehavior,t)}class StartEnd{handleStartContentChange(){this.startContainer.classList.toggle("start",this.start.assignedNodes().length>0)}handleEndContentChange(){this.endContainer.classList.toggle("end",this.end.assignedNodes().length>0)}}const xe=(t,e)=>me`
    <span
        part="end"
        ${ye("endContainer")}
        class=${t=>e.end?"end":void 0}
    >
        <slot name="end" ${ye("end")} @slotchange="${t=>t.handleEndContentChange()}">
            ${e.end||""}
        </slot>
    </span>
`,_e=(t,e)=>me`
    <span
        part="start"
        ${ye("startContainer")}
        class="${t=>e.start?"start":void 0}"
    >
        <slot
            name="start"
            ${ye("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        >
            ${e.start||""}
        </slot>
    </span>
`;me`
    <span part="end" ${ye("endContainer")}>
        <slot
            name="end"
            ${ye("end")}
            @slotchange="${t=>t.handleEndContentChange()}"
        ></slot>
    </span>
`,me`
    <span part="start" ${ye("startContainer")}>
        <slot
            name="start"
            ${ye("start")}
            @slotchange="${t=>t.handleStartContentChange()}"
        ></slot>
    </span>
`;function we(t,...e){const i=C.locate(t);e.forEach((e=>{Object.getOwnPropertyNames(e.prototype).forEach((i=>{"constructor"!==i&&Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i))}));C.locate(e).forEach((t=>i.push(t)))}))}function Te(t){return Qt(t)&&("option"===t.getAttribute("role")||t instanceof HTMLOptionElement)}class ListboxOption extends FoundationElement{constructor(t,e,i,o){super(),this.defaultSelected=!1,this.dirtySelected=!1,this.selected=this.defaultSelected,this.dirtyValue=!1,t&&(this.textContent=t),e&&(this.initialValue=e),i&&(this.defaultSelected=i),o&&(this.selected=o),this.proxy=new Option(`${this.textContent}`,this.initialValue,this.defaultSelected,this.selected),this.proxy.disabled=this.disabled}checkedChanged(t,e){this.ariaChecked="boolean"!=typeof e?null:e?"true":"false"}contentChanged(t,e){this.proxy instanceof HTMLOptionElement&&(this.proxy.textContent=this.textContent),this.$emit("contentchange",null,{bubbles:!0})}defaultSelectedChanged(){this.dirtySelected||(this.selected=this.defaultSelected,this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.defaultSelected))}disabledChanged(t,e){this.ariaDisabled=this.disabled?"true":"false",this.proxy instanceof HTMLOptionElement&&(this.proxy.disabled=this.disabled)}selectedAttributeChanged(){this.defaultSelected=this.selectedAttribute,this.proxy instanceof HTMLOptionElement&&(this.proxy.defaultSelected=this.defaultSelected)}selectedChanged(){this.ariaSelected=this.selected?"true":"false",this.dirtySelected||(this.dirtySelected=!0),this.proxy instanceof HTMLOptionElement&&(this.proxy.selected=this.selected)}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}get label(){var t;return null!==(t=this.value)&&void 0!==t?t:this.text}get text(){var t,e;return null!==(e=null===(t=this.textContent)||void 0===t?void 0:t.replace(/\s+/g," ").trim())&&void 0!==e?e:""}set value(t){const e=`${null!=t?t:""}`;this._value=e,this.dirtyValue=!0,this.proxy instanceof HTMLOptionElement&&(this.proxy.value=e),g.notify(this,"value")}get value(){var t;return g.track(this,"value"),null!==(t=this._value)&&void 0!==t?t:this.text}get form(){return this.proxy?this.proxy.form:null}}B([v],ListboxOption.prototype,"checked",void 0),B([v],ListboxOption.prototype,"content",void 0),B([v],ListboxOption.prototype,"defaultSelected",void 0),B([D({mode:"boolean"})],ListboxOption.prototype,"disabled",void 0),B([D({attribute:"selected",mode:"boolean"})],ListboxOption.prototype,"selectedAttribute",void 0),B([v],ListboxOption.prototype,"selected",void 0),B([D({attribute:"value",mode:"fromView"})],ListboxOption.prototype,"initialValue",void 0);class DelegatesARIAListboxOption{}B([v],DelegatesARIAListboxOption.prototype,"ariaChecked",void 0),B([v],DelegatesARIAListboxOption.prototype,"ariaPosInSet",void 0),B([v],DelegatesARIAListboxOption.prototype,"ariaSelected",void 0),B([v],DelegatesARIAListboxOption.prototype,"ariaSetSize",void 0),we(DelegatesARIAListboxOption,ARIAGlobalStatesAndProperties),we(ListboxOption,StartEnd,DelegatesARIAListboxOption);class Listbox extends FoundationElement{constructor(){super(...arguments),this._options=[],this.selectedIndex=-1,this.selectedOptions=[],this.shouldSkipFocus=!1,this.typeaheadBuffer="",this.typeaheadExpired=!0,this.typeaheadTimeout=-1}get firstSelectedOption(){var t;return null!==(t=this.selectedOptions[0])&&void 0!==t?t:null}get hasSelectableOptions(){return this.options.length>0&&!this.options.every((t=>t.disabled))}get length(){var t,e;return null!==(e=null===(t=this.options)||void 0===t?void 0:t.length)&&void 0!==e?e:0}get options(){return g.track(this,"options"),this._options}set options(t){this._options=t,g.notify(this,"options")}get typeAheadExpired(){return this.typeaheadExpired}set typeAheadExpired(t){this.typeaheadExpired=t}clickHandler(t){const e=t.target.closest("option,[role=option]");if(e&&!e.disabled)return this.selectedIndex=this.options.indexOf(e),!0}focusAndScrollOptionIntoView(t=this.firstSelectedOption){this.contains(document.activeElement)&&null!==t&&(t.focus(),requestAnimationFrame((()=>{t.scrollIntoView({block:"nearest"})})))}focusinHandler(t){this.shouldSkipFocus||t.target!==t.currentTarget||(this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}getTypeaheadMatches(){const t=this.typeaheadBuffer.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),e=new RegExp(`^${t}`,"gi");return this.options.filter((t=>t.text.trim().match(e)))}getSelectableIndex(t=this.selectedIndex,e){const i=t>e?-1:t<e?1:0,o=t+i;let r=null;switch(i){case-1:r=this.options.reduceRight(((t,e,i)=>!t&&!e.disabled&&i<o?e:t),r);break;case 1:r=this.options.reduce(((t,e,i)=>!t&&!e.disabled&&i>o?e:t),r)}return this.options.indexOf(r)}handleChange(t,e){if("selected"===e)Listbox.slottedOptionFilter(t)&&(this.selectedIndex=this.options.indexOf(t)),this.setSelectedOptions()}handleTypeAhead(t){this.typeaheadTimeout&&window.clearTimeout(this.typeaheadTimeout),this.typeaheadTimeout=window.setTimeout((()=>this.typeaheadExpired=!0),Listbox.TYPE_AHEAD_TIMEOUT_MS),t.length>1||(this.typeaheadBuffer=`${this.typeaheadExpired?"":this.typeaheadBuffer}${t}`)}keydownHandler(t){if(this.disabled)return!0;this.shouldSkipFocus=!1;const e=t.key;switch(e){case Wt:t.shiftKey||(t.preventDefault(),this.selectFirstOption());break;case jt:t.shiftKey||(t.preventDefault(),this.selectNextOption());break;case Yt:t.shiftKey||(t.preventDefault(),this.selectPreviousOption());break;case Zt:t.preventDefault(),this.selectLastOption();break;case Kt:return this.focusAndScrollOptionIntoView(),!0;case Gt:case qt:return!0;case" ":if(this.typeaheadExpired)return!0;default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}mousedownHandler(t){return this.shouldSkipFocus=!this.contains(document.activeElement),!0}multipleChanged(t,e){this.ariaMultiSelectable=e?"true":null}selectedIndexChanged(t,e){var i;if(this.hasSelectableOptions){if((null===(i=this.options[this.selectedIndex])||void 0===i?void 0:i.disabled)&&"number"==typeof t){const i=this.getSelectableIndex(t,e),o=i>-1?i:t;return this.selectedIndex=o,void(e===o&&this.selectedIndexChanged(e,o))}this.setSelectedOptions()}else this.selectedIndex=-1}selectedOptionsChanged(t,e){var i;const o=e.filter(Listbox.slottedOptionFilter);null===(i=this.options)||void 0===i||i.forEach((t=>{const e=g.getNotifier(t);e.unsubscribe(this,"selected"),t.selected=o.includes(t),e.subscribe(this,"selected")}))}selectFirstOption(){var t,e;this.disabled||(this.selectedIndex=null!==(e=null===(t=this.options)||void 0===t?void 0:t.findIndex((t=>!t.disabled)))&&void 0!==e?e:-1)}selectLastOption(){this.disabled||(this.selectedIndex=function(t,e){let i=t.length;for(;i--;)if(e(t[i],i,t))return i;return-1}(this.options,(t=>!t.disabled)))}selectNextOption(){!this.disabled&&this.selectedIndex<this.options.length-1&&(this.selectedIndex+=1)}selectPreviousOption(){!this.disabled&&this.selectedIndex>0&&(this.selectedIndex=this.selectedIndex-1)}setDefaultSelectedOption(){var t,e;this.selectedIndex=null!==(e=null===(t=this.options)||void 0===t?void 0:t.findIndex((t=>t.defaultSelected)))&&void 0!==e?e:-1}setSelectedOptions(){var t,e,i;(null===(t=this.options)||void 0===t?void 0:t.length)&&(this.selectedOptions=[this.options[this.selectedIndex]],this.ariaActiveDescendant=null!==(i=null===(e=this.firstSelectedOption)||void 0===e?void 0:e.id)&&void 0!==i?i:"",this.focusAndScrollOptionIntoView())}slottedOptionsChanged(t,e){this.options=e.reduce(((t,e)=>(Te(e)&&t.push(e),t)),[]);const i=`${this.options.length}`;this.options.forEach(((t,e)=>{t.id||(t.id=Ht("option-")),t.ariaPosInSet=`${e+1}`,t.ariaSetSize=i})),this.$fastController.isConnected&&(this.setSelectedOptions(),this.setDefaultSelectedOption())}typeaheadBufferChanged(t,e){if(this.$fastController.isConnected){const t=this.getTypeaheadMatches();if(t.length){const e=this.options.indexOf(t[0]);e>-1&&(this.selectedIndex=e)}this.typeaheadExpired=!1}}}Listbox.slottedOptionFilter=t=>Te(t)&&!t.hidden,Listbox.TYPE_AHEAD_TIMEOUT_MS=1e3,B([D({mode:"boolean"})],Listbox.prototype,"disabled",void 0),B([v],Listbox.prototype,"selectedIndex",void 0),B([v],Listbox.prototype,"selectedOptions",void 0),B([v],Listbox.prototype,"slottedOptions",void 0),B([v],Listbox.prototype,"typeaheadBuffer",void 0);class DelegatesARIAListbox{}function ke(t,e,i=0){return[e,i]=[e,i].sort(((t,e)=>t-e)),e<=t&&t<i}B([v],DelegatesARIAListbox.prototype,"ariaActiveDescendant",void 0),B([v],DelegatesARIAListbox.prototype,"ariaDisabled",void 0),B([v],DelegatesARIAListbox.prototype,"ariaExpanded",void 0),B([v],DelegatesARIAListbox.prototype,"ariaMultiSelectable",void 0),we(DelegatesARIAListbox,ARIAGlobalStatesAndProperties),we(Listbox,DelegatesARIAListbox);class ListboxElement extends Listbox{constructor(){super(...arguments),this.activeIndex=-1,this.rangeStartIndex=-1}get activeOption(){return this.options[this.activeIndex]}get checkedOptions(){var t;return null===(t=this.options)||void 0===t?void 0:t.filter((t=>t.checked))}get firstSelectedOptionIndex(){return this.options.indexOf(this.firstSelectedOption)}activeIndexChanged(t,e){var i,o;this.ariaActiveDescendant=null!==(o=null===(i=this.options[e])||void 0===i?void 0:i.id)&&void 0!==o?o:"",this.focusAndScrollOptionIntoView()}checkActiveIndex(){if(!this.multiple)return;const t=this.activeOption;t&&(t.checked=!0)}checkFirstOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex+1),this.options.forEach(((t,e)=>{t.checked=ke(e,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex=0,this.checkActiveIndex()}checkLastOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((t,e)=>{t.checked=ke(e,this.rangeStartIndex,this.options.length)}))):this.uncheckAllOptions(),this.activeIndex=this.options.length-1,this.checkActiveIndex()}connectedCallback(){super.connectedCallback(),this.addEventListener("focusout",this.focusoutHandler)}disconnectedCallback(){this.removeEventListener("focusout",this.focusoutHandler),super.disconnectedCallback()}checkNextOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),this.options.forEach(((t,e)=>{t.checked=ke(e,this.rangeStartIndex,this.activeIndex+1)}))):this.uncheckAllOptions(),this.activeIndex+=this.activeIndex<this.options.length-1?1:0,this.checkActiveIndex()}checkPreviousOption(t=!1){t?(-1===this.rangeStartIndex&&(this.rangeStartIndex=this.activeIndex),1===this.checkedOptions.length&&(this.rangeStartIndex+=1),this.options.forEach(((t,e)=>{t.checked=ke(e,this.activeIndex,this.rangeStartIndex)}))):this.uncheckAllOptions(),this.activeIndex-=this.activeIndex>0?1:0,this.checkActiveIndex()}clickHandler(t){var e;if(!this.multiple)return super.clickHandler(t);const i=null===(e=t.target)||void 0===e?void 0:e.closest("[role=option]");return i&&!i.disabled?(this.uncheckAllOptions(),this.activeIndex=this.options.indexOf(i),this.checkActiveIndex(),this.toggleSelectedForAllCheckedOptions(),!0):void 0}focusAndScrollOptionIntoView(){super.focusAndScrollOptionIntoView(this.activeOption)}focusinHandler(t){if(!this.multiple)return super.focusinHandler(t);this.shouldSkipFocus||t.target!==t.currentTarget||(this.uncheckAllOptions(),-1===this.activeIndex&&(this.activeIndex=-1!==this.firstSelectedOptionIndex?this.firstSelectedOptionIndex:0),this.checkActiveIndex(),this.setSelectedOptions(),this.focusAndScrollOptionIntoView()),this.shouldSkipFocus=!1}focusoutHandler(t){this.multiple&&this.uncheckAllOptions()}keydownHandler(t){if(!this.multiple)return super.keydownHandler(t);if(this.disabled)return!0;const{key:e,shiftKey:i}=t;switch(this.shouldSkipFocus=!1,e){case Wt:return void this.checkFirstOption(i);case jt:return void this.checkNextOption(i);case Yt:return void this.checkPreviousOption(i);case Zt:return void this.checkLastOption(i);case Kt:return this.focusAndScrollOptionIntoView(),!0;case qt:return this.uncheckAllOptions(),this.checkActiveIndex(),!0;case" ":if(t.preventDefault(),this.typeAheadExpired)return void this.toggleSelectedForAllCheckedOptions();default:return 1===e.length&&this.handleTypeAhead(`${e}`),!0}}mousedownHandler(t){if(t.offsetX>=0&&t.offsetX<=this.scrollWidth)return super.mousedownHandler(t)}multipleChanged(t,e){var i;this.ariaMultiSelectable=e?"true":null,null===(i=this.options)||void 0===i||i.forEach((t=>{t.checked=!e&&void 0})),this.setSelectedOptions()}setSelectedOptions(){this.multiple?this.$fastController.isConnected&&this.options&&(this.selectedOptions=this.options.filter((t=>t.selected)),this.focusAndScrollOptionIntoView()):super.setSelectedOptions()}sizeChanged(t,e){var i;const o=Math.max(0,parseInt(null!==(i=null==e?void 0:e.toFixed())&&void 0!==i?i:"",10));o!==e&&p.queueUpdate((()=>{this.size=o}))}toggleSelectedForAllCheckedOptions(){const t=this.checkedOptions.filter((t=>!t.disabled)),e=!t.every((t=>t.selected));t.forEach((t=>t.selected=e)),this.selectedIndex=this.options.indexOf(t[t.length-1]),this.setSelectedOptions()}typeaheadBufferChanged(t,e){if(this.multiple){if(this.$fastController.isConnected){const t=this.getTypeaheadMatches(),e=this.options.indexOf(t[0]);e>-1&&(this.activeIndex=e,this.uncheckAllOptions(),this.checkActiveIndex()),this.typeAheadExpired=!1}}else super.typeaheadBufferChanged(t,e)}uncheckAllOptions(t=!1){this.options.forEach((t=>t.checked=!this.multiple&&void 0)),t||(this.rangeStartIndex=-1)}}B([v],ListboxElement.prototype,"activeIndex",void 0),B([D({mode:"boolean"})],ListboxElement.prototype,"multiple",void 0),B([D({converter:E})],ListboxElement.prototype,"size",void 0);const Se="form-associated-proxy",Ae="ElementInternals",Ce=Ae in window&&"setFormValue"in window[Ae].prototype,$e=new WeakMap;function Ee(t){const e=class extends t{constructor(...t){super(...t),this.dirtyValue=!1,this.disabled=!1,this.proxyEventsToBlock=["change","click"],this.proxyInitialized=!1,this.required=!1,this.initialValue=this.initialValue||"",this.elementInternals||(this.formResetCallback=this.formResetCallback.bind(this))}static get formAssociated(){return Ce}get validity(){return this.elementInternals?this.elementInternals.validity:this.proxy.validity}get form(){return this.elementInternals?this.elementInternals.form:this.proxy.form}get validationMessage(){return this.elementInternals?this.elementInternals.validationMessage:this.proxy.validationMessage}get willValidate(){return this.elementInternals?this.elementInternals.willValidate:this.proxy.willValidate}get labels(){if(this.elementInternals)return Object.freeze(Array.from(this.elementInternals.labels));if(this.proxy instanceof HTMLElement&&this.proxy.ownerDocument&&this.id){const t=this.proxy.labels,e=Array.from(this.proxy.getRootNode().querySelectorAll(`[for='${this.id}']`)),i=t?e.concat(Array.from(t)):e;return Object.freeze(i)}return a}valueChanged(t,e){this.dirtyValue=!0,this.proxy instanceof HTMLElement&&(this.proxy.value=this.value),this.currentValue=this.value,this.setFormValue(this.value),this.validate()}currentValueChanged(){this.value=this.currentValue}initialValueChanged(t,e){this.dirtyValue||(this.value=this.initialValue,this.dirtyValue=!1)}disabledChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.disabled=this.disabled),p.queueUpdate((()=>this.classList.toggle("disabled",this.disabled)))}nameChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.name=this.name)}requiredChanged(t,e){this.proxy instanceof HTMLElement&&(this.proxy.required=this.required),p.queueUpdate((()=>this.classList.toggle("required",this.required))),this.validate()}get elementInternals(){if(!Ce)return null;let t=$e.get(this);return t||(t=this.attachInternals(),$e.set(this,t)),t}connectedCallback(){super.connectedCallback(),this.addEventListener("keypress",this._keypressHandler),this.value||(this.value=this.initialValue,this.dirtyValue=!1),this.elementInternals||(this.attachProxy(),this.form&&this.form.addEventListener("reset",this.formResetCallback))}disconnectedCallback(){super.disconnectedCallback(),this.proxyEventsToBlock.forEach((t=>this.proxy.removeEventListener(t,this.stopPropagation))),!this.elementInternals&&this.form&&this.form.removeEventListener("reset",this.formResetCallback)}checkValidity(){return this.elementInternals?this.elementInternals.checkValidity():this.proxy.checkValidity()}reportValidity(){return this.elementInternals?this.elementInternals.reportValidity():this.proxy.reportValidity()}setValidity(t,e,i){this.elementInternals?this.elementInternals.setValidity(t,e,i):"string"==typeof e&&this.proxy.setCustomValidity(e)}formDisabledCallback(t){this.disabled=t}formResetCallback(){this.value=this.initialValue,this.dirtyValue=!1}attachProxy(){var t;this.proxyInitialized||(this.proxyInitialized=!0,this.proxy.style.display="none",this.proxyEventsToBlock.forEach((t=>this.proxy.addEventListener(t,this.stopPropagation))),this.proxy.disabled=this.disabled,this.proxy.required=this.required,"string"==typeof this.name&&(this.proxy.name=this.name),"string"==typeof this.value&&(this.proxy.value=this.value),this.proxy.setAttribute("slot",Se),this.proxySlot=document.createElement("slot"),this.proxySlot.setAttribute("name",Se)),null===(t=this.shadowRoot)||void 0===t||t.appendChild(this.proxySlot),this.appendChild(this.proxy)}detachProxy(){var t;this.removeChild(this.proxy),null===(t=this.shadowRoot)||void 0===t||t.removeChild(this.proxySlot)}validate(t){this.proxy instanceof HTMLElement&&this.setValidity(this.proxy.validity,this.proxy.validationMessage,t)}setFormValue(t,e){this.elementInternals&&this.elementInternals.setFormValue(t,e||t)}_keypressHandler(t){if(t.key===Gt)if(this.form instanceof HTMLFormElement){const t=this.form.querySelector("[type=submit]");null==t||t.click()}}stopPropagation(t){t.stopPropagation()}};return D({mode:"boolean"})(e.prototype,"disabled"),D({mode:"fromView",attribute:"value"})(e.prototype,"initialValue"),D({attribute:"current-value"})(e.prototype,"currentValue"),D(e.prototype,"name"),D({mode:"boolean"})(e.prototype,"required"),v(e.prototype,"value"),e}class _Select extends ListboxElement{}class FormAssociatedSelect extends(Ee(_Select)){constructor(){super(...arguments),this.proxy=document.createElement("select")}}const De="above",Me="below";class Select extends FormAssociatedSelect{constructor(){super(...arguments),this.open=!1,this.forcedPosition=!1,this.listboxId=Ht("listbox-"),this.maxHeight=0}openChanged(t,e){if(this.collapsible){if(this.open)return this.ariaControls=this.listboxId,this.ariaExpanded="true",this.setPositioning(),this.focusAndScrollOptionIntoView(),this.indexWhenOpened=this.selectedIndex,void p.queueUpdate((()=>this.focus()));this.ariaControls="",this.ariaExpanded="false"}}get collapsible(){return!(this.multiple||"number"==typeof this.size)}get value(){return g.track(this,"value"),this._value}set value(t){var e,i,o,r,a,s,c;const l=`${this._value}`;if(null===(e=this._options)||void 0===e?void 0:e.length){const e=this._options.findIndex((e=>e.value===t)),l=null!==(o=null===(i=this._options[this.selectedIndex])||void 0===i?void 0:i.value)&&void 0!==o?o:null,u=null!==(a=null===(r=this._options[e])||void 0===r?void 0:r.value)&&void 0!==a?a:null;-1!==e&&l===u||(t="",this.selectedIndex=e),t=null!==(c=null===(s=this.firstSelectedOption)||void 0===s?void 0:s.value)&&void 0!==c?c:t}l!==t&&(this._value=t,super.valueChanged(l,t),g.notify(this,"value"),this.updateDisplayValue())}updateValue(t){var e,i;this.$fastController.isConnected&&(this.value=null!==(i=null===(e=this.firstSelectedOption)||void 0===e?void 0:e.value)&&void 0!==i?i:""),t&&(this.$emit("input"),this.$emit("change",this,{bubbles:!0,composed:void 0}))}selectedIndexChanged(t,e){super.selectedIndexChanged(t,e),this.updateValue()}positionChanged(t,e){this.positionAttribute=e,this.setPositioning()}setPositioning(){const t=this.getBoundingClientRect(),e=window.innerHeight-t.bottom;this.position=this.forcedPosition?this.positionAttribute:t.top>e?De:Me,this.positionAttribute=this.forcedPosition?this.positionAttribute:this.position,this.maxHeight=this.position===De?~~t.top:~~e}get displayValue(){var t,e;return g.track(this,"displayValue"),null!==(e=null===(t=this.firstSelectedOption)||void 0===t?void 0:t.text)&&void 0!==e?e:""}disabledChanged(t,e){super.disabledChanged&&super.disabledChanged(t,e),this.ariaDisabled=this.disabled?"true":"false"}formResetCallback(){this.setProxyOptions(),super.setDefaultSelectedOption(),-1===this.selectedIndex&&(this.selectedIndex=0)}clickHandler(t){if(!this.disabled){if(this.open){const e=t.target.closest("option,[role=option]");if(e&&e.disabled)return}return super.clickHandler(t),this.open=this.collapsible&&!this.open,this.open||this.indexWhenOpened===this.selectedIndex||this.updateValue(!0),!0}}focusoutHandler(t){var e;if(super.focusoutHandler(t),!this.open)return!0;const i=t.relatedTarget;this.isSameNode(i)?this.focus():(null===(e=this.options)||void 0===e?void 0:e.includes(i))||(this.open=!1,this.indexWhenOpened!==this.selectedIndex&&this.updateValue(!0))}handleChange(t,e){super.handleChange(t,e),"value"===e&&this.updateValue()}slottedOptionsChanged(t,e){this.options.forEach((t=>{g.getNotifier(t).unsubscribe(this,"value")})),super.slottedOptionsChanged(t,e),this.options.forEach((t=>{g.getNotifier(t).subscribe(this,"value")})),this.setProxyOptions(),this.updateValue()}mousedownHandler(t){var e;return t.offsetX>=0&&t.offsetX<=(null===(e=this.listbox)||void 0===e?void 0:e.scrollWidth)?super.mousedownHandler(t):this.collapsible}multipleChanged(t,e){super.multipleChanged(t,e),this.proxy&&(this.proxy.multiple=e)}selectedOptionsChanged(t,e){var i;super.selectedOptionsChanged(t,e),null===(i=this.options)||void 0===i||i.forEach(((t,e)=>{var i;const o=null===(i=this.proxy)||void 0===i?void 0:i.options.item(e);o&&(o.selected=t.selected)}))}setDefaultSelectedOption(){var t;const e=null!==(t=this.options)&&void 0!==t?t:Array.from(this.children).filter(Listbox.slottedOptionFilter),i=null==e?void 0:e.findIndex((t=>t.hasAttribute("selected")||t.selected||t.value===this.value));this.selectedIndex=-1===i?0:i}setProxyOptions(){this.proxy instanceof HTMLSelectElement&&this.options&&(this.proxy.options.length=0,this.options.forEach((t=>{const e=t.proxy||(t instanceof HTMLOptionElement?t.cloneNode():null);e&&this.proxy.options.add(e)})))}keydownHandler(t){super.keydownHandler(t);const e=t.key||t.key.charCodeAt(0);switch(e){case" ":t.preventDefault(),this.collapsible&&this.typeAheadExpired&&(this.open=!this.open);break;case Wt:case Zt:t.preventDefault();break;case Gt:t.preventDefault(),this.open=!this.open;break;case qt:this.collapsible&&this.open&&(t.preventDefault(),this.open=!1);break;case Kt:return this.collapsible&&this.open&&(t.preventDefault(),this.open=!1),!0}return this.open||this.indexWhenOpened===this.selectedIndex||(this.updateValue(!0),this.indexWhenOpened=this.selectedIndex),!(e===jt||e===Yt)}connectedCallback(){super.connectedCallback(),this.forcedPosition=!!this.positionAttribute,this.addEventListener("contentchange",this.updateDisplayValue)}disconnectedCallback(){this.removeEventListener("contentchange",this.updateDisplayValue),super.disconnectedCallback()}sizeChanged(t,e){super.sizeChanged(t,e),this.proxy&&(this.proxy.size=e)}updateDisplayValue(){this.collapsible&&g.notify(this,"displayValue")}}B([D({attribute:"open",mode:"boolean"})],Select.prototype,"open",void 0),B([m],Select.prototype,"collapsible",null),B([v],Select.prototype,"control",void 0),B([D({attribute:"position"})],Select.prototype,"positionAttribute",void 0),B([v],Select.prototype,"position",void 0),B([v],Select.prototype,"maxHeight",void 0);class DelegatesARIASelect{}B([v],DelegatesARIASelect.prototype,"ariaControls",void 0),we(DelegatesARIASelect,DelegatesARIAListbox),we(Select,StartEnd,DelegatesARIASelect);const Re=t=>"function"==typeof t,Oe=()=>null;function Ie(t){return void 0===t?Oe:Re(t)?t:()=>t}function Pe(t,e,i){const o=Re(t)?t:()=>t,r=Ie(e),a=Ie(i);return(t,e)=>o(t,e)?r(t,e):a(t,e)}class NodeObservationBehavior{constructor(t,e){this.target=t,this.options=e,this.source=null}bind(t){const e=this.options.property;this.shouldUpdate=g.getAccessors(t).some((t=>t.name===e)),this.source=t,this.updateTarget(this.computeNodes()),this.shouldUpdate&&this.observe()}unbind(){this.updateTarget(a),this.source=null,this.shouldUpdate&&this.disconnect()}handleEvent(){this.updateTarget(this.computeNodes())}computeNodes(){let t=this.getNodes();return void 0!==this.options.filter&&(t=t.filter(this.options.filter)),t}updateTarget(t){this.source[this.options.property]=t}}class SlottedBehavior extends NodeObservationBehavior{constructor(t,e){super(t,e)}observe(){this.target.addEventListener("slotchange",this)}disconnect(){this.target.removeEventListener("slotchange",this)}getNodes(){return this.target.assignedNodes(this.options)}}function Le(t){return"string"==typeof t&&(t={property:t}),new AttachedBehaviorHTMLDirective("fast-slotted",SlottedBehavior,t)}function ze(t,e){const i=[];let o="";const r=[];for(let a=0,s=t.length-1;a<s;++a){o+=t[a];let s=e[a];if(s instanceof CSSDirective){const t=s.createBehavior();s=s.createCSS(),t&&r.push(t)}s instanceof ElementStyles||s instanceof CSSStyleSheet?(""!==o.trim()&&(i.push(o),o=""),i.push(s)):o+=s}return o+=t[t.length-1],""!==o.trim()&&i.push(o),{styles:i,behaviors:r}}function Be(t,...e){const{styles:i,behaviors:o}=ze(t,e),r=ElementStyles.create(i);return o.length&&r.withBehaviors(...o),r}function Ne(t){return`:host([hidden]){display:none}:host{display:${t}}`}const Fe=function(){if("boolean"==typeof Jt)return Jt;if("undefined"==typeof window||!window.document||!window.document.createElement)return Jt=!1,Jt;const t=document.createElement("style"),e=function(){const t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}();null!==e&&t.setAttribute("nonce",e),document.head.appendChild(t);try{t.sheet.insertRule("foo:focus-visible {color:inherit}",0),Jt=!0}catch(t){Jt=!1}finally{document.head.removeChild(t)}return Jt}()?"focus-visible":"focus",Xe="not-allowed";function Ve(t){const e=getComputedStyle(document.body),i=document.querySelector("body");if(i){const o=i.getAttribute("data-vscode-theme-kind");for(const[r,a]of t){let t=e.getPropertyValue(r).toString();if("vscode-high-contrast"===o)0===t.length&&a.name.includes("background")&&(t="transparent"),"button-icon-hover-background"===a.name&&(t="transparent");else if("vscode-high-contrast-light"===o){if(0===t.length&&a.name.includes("background"))switch(a.name){case"button-primary-hover-background":t="#0F4A85";break;case"button-secondary-hover-background":case"button-icon-hover-background":t="transparent"}}else"contrast-active-border"===a.name&&(t="transparent");a.setValueFor(i,t)}}}const He=new Map;let Ue=!1;function je(t,e){const i=Pt.create(t);if(e){if(e.includes("--fake-vscode-token")){e=`${e}-${"id"+Math.random().toString(16).slice(2)}`}He.set(e,i)}return Ue||(!function(t){window.addEventListener("load",(()=>{new MutationObserver((()=>{Ve(t)})).observe(document.body,{attributes:!0,attributeFilter:["class"]}),Ve(t)}))}(He),Ue=!0),i}je("background","--vscode-editor-background").withDefault("#1e1e1e");const Ye=je("border-width").withDefault(1),Ge=(je("contrast-active-border","--vscode-contrastActiveBorder").withDefault("#f38518"),je("contrast-border","--vscode-contrastBorder").withDefault("#6fc3df"),je("corner-radius").withDefault(0)),qe=je("design-unit").withDefault(4),We=je("disabled-opacity").withDefault(.4),Ze=je("focus-border","--vscode-focusBorder").withDefault("#007fd4"),Ke=je("font-family","--vscode-font-family").withDefault("-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol"),Qe=(je("font-weight","--vscode-font-weight").withDefault("400"),je("foreground","--vscode-foreground").withDefault("#cccccc")),Je=je("input-height").withDefault("26"),tn=je("input-min-width").withDefault("100px"),en=je("type-ramp-base-font-size","--vscode-font-size").withDefault("13px"),nn=je("type-ramp-base-line-height").withDefault("normal"),on=(je("type-ramp-minus1-font-size").withDefault("11px"),je("type-ramp-minus1-line-height").withDefault("16px"),je("type-ramp-minus2-font-size").withDefault("9px"),je("type-ramp-minus2-line-height").withDefault("16px"),je("type-ramp-plus1-font-size").withDefault("16px"),je("type-ramp-plus1-line-height").withDefault("24px"),je("scrollbarWidth").withDefault("10px"),je("scrollbarHeight").withDefault("10px"),je("scrollbar-slider-background","--vscode-scrollbarSlider-background").withDefault("#79797966"),je("scrollbar-slider-hover-background","--vscode-scrollbarSlider-hoverBackground").withDefault("#646464b3"),je("scrollbar-slider-active-background","--vscode-scrollbarSlider-activeBackground").withDefault("#bfbfbf66"),je("badge-background","--vscode-badge-background").withDefault("#4d4d4d"),je("badge-foreground","--vscode-badge-foreground").withDefault("#ffffff"),je("button-border","--vscode-button-border").withDefault("transparent"),je("button-icon-background").withDefault("transparent"),je("button-icon-corner-radius").withDefault("5px"),je("button-icon-outline-offset").withDefault(0),je("button-icon-hover-background","--fake-vscode-token").withDefault("rgba(90, 93, 94, 0.31)"),je("button-icon-padding").withDefault("3px"),je("button-primary-background","--vscode-button-background").withDefault("#0e639c"),je("button-primary-foreground","--vscode-button-foreground").withDefault("#ffffff"),je("button-primary-hover-background","--vscode-button-hoverBackground").withDefault("#1177bb"),je("button-secondary-background","--vscode-button-secondaryBackground").withDefault("#3a3d41"),je("button-secondary-foreground","--vscode-button-secondaryForeground").withDefault("#ffffff"),je("button-secondary-hover-background","--vscode-button-secondaryHoverBackground").withDefault("#45494e"),je("button-padding-horizontal").withDefault("11px"),je("button-padding-vertical").withDefault("4px"),je("checkbox-background","--vscode-checkbox-background").withDefault("#3c3c3c"),je("checkbox-border","--vscode-checkbox-border").withDefault("#3c3c3c"),je("checkbox-corner-radius").withDefault(3),je("checkbox-foreground","--vscode-checkbox-foreground").withDefault("#f0f0f0"),je("list-active-selection-background","--vscode-list-activeSelectionBackground").withDefault("#094771")),rn=je("list-active-selection-foreground","--vscode-list-activeSelectionForeground").withDefault("#ffffff"),an=(je("list-hover-background","--vscode-list-hoverBackground").withDefault("#2a2d2e"),je("divider-background","--vscode-settings-dropdownListBorder").withDefault("#454545"),je("dropdown-background","--vscode-dropdown-background").withDefault("#3c3c3c")),sn=je("dropdown-border","--vscode-dropdown-border").withDefault("#3c3c3c"),cn=(je("dropdown-foreground","--vscode-dropdown-foreground").withDefault("#f0f0f0"),je("dropdown-list-max-height").withDefault("200px"));je("input-background","--vscode-input-background").withDefault("#3c3c3c"),je("input-foreground","--vscode-input-foreground").withDefault("#cccccc"),je("input-placeholder-foreground","--vscode-input-placeholderForeground").withDefault("#cccccc"),je("link-active-foreground","--vscode-textLink-activeForeground").withDefault("#3794ff"),je("link-foreground","--vscode-textLink-foreground").withDefault("#3794ff"),je("progress-background","--vscode-progressBar-background").withDefault("#0e70c0"),je("panel-tab-active-border","--vscode-panelTitle-activeBorder").withDefault("#e7e7e7"),je("panel-tab-active-foreground","--vscode-panelTitle-activeForeground").withDefault("#e7e7e7"),je("panel-tab-foreground","--vscode-panelTitle-inactiveForeground").withDefault("#e7e7e799"),je("panel-view-background","--vscode-panel-background").withDefault("#1e1e1e"),je("panel-view-border","--vscode-panel-border").withDefault("#80808059"),je("tag-corner-radius").withDefault("2px");const ln=class Dropdown extends Select{}.compose({baseName:"dropdown",template:(t,e)=>me`
    <template
        class="${t=>[t.collapsible&&"collapsible",t.collapsible&&t.open&&"open",t.disabled&&"disabled",t.collapsible&&t.position].filter(Boolean).join(" ")}"
        aria-activedescendant="${t=>t.ariaActiveDescendant}"
        aria-controls="${t=>t.ariaControls}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-expanded="${t=>t.ariaExpanded}"
        aria-haspopup="${t=>t.collapsible?"listbox":null}"
        aria-multiselectable="${t=>t.ariaMultiSelectable}"
        ?open="${t=>t.open}"
        role="combobox"
        tabindex="${t=>t.disabled?null:"0"}"
        @click="${(t,e)=>t.clickHandler(e.event)}"
        @focusin="${(t,e)=>t.focusinHandler(e.event)}"
        @focusout="${(t,e)=>t.focusoutHandler(e.event)}"
        @keydown="${(t,e)=>t.keydownHandler(e.event)}"
        @mousedown="${(t,e)=>t.mousedownHandler(e.event)}"
    >
        ${Pe((t=>t.collapsible),me`
                <div
                    class="control"
                    part="control"
                    ?disabled="${t=>t.disabled}"
                    ${ye("control")}
                >
                    ${_e(0,e)}
                    <slot name="button-container">
                        <div class="selected-value" part="selected-value">
                            <slot name="selected-value">${t=>t.displayValue}</slot>
                        </div>
                        <div aria-hidden="true" class="indicator" part="indicator">
                            <slot name="indicator">
                                ${e.indicator||""}
                            </slot>
                        </div>
                    </slot>
                    ${xe(0,e)}
                </div>
            `)}
        <div
            class="listbox"
            id="${t=>t.listboxId}"
            part="listbox"
            role="listbox"
            ?disabled="${t=>t.disabled}"
            ?hidden="${t=>!!t.collapsible&&!t.open}"
            ${ye("listbox")}
        >
            <slot
                ${Le({filter:Listbox.slottedOptionFilter,flatten:!0,property:"slottedOptions"})}
            ></slot>
        </div>
    </template>
`,styles:(t,e)=>Be`
	${Ne("inline-flex")} :host {
		background: ${an};
		box-sizing: border-box;
		color: ${Qe};
		contain: contents;
		font-family: ${Ke};
		height: calc(${Je} * 1px);
		position: relative;
		user-select: none;
		min-width: ${tn};
		outline: none;
		vertical-align: top;
	}
	.control {
		align-items: center;
		box-sizing: border-box;
		border: calc(${Ye} * 1px) solid ${sn};
		border-radius: calc(${Ge} * 1px);
		cursor: pointer;
		display: flex;
		font-family: inherit;
		font-size: ${en};
		line-height: ${nn};
		min-height: 100%;
		padding: 2px 6px 2px 8px;
		width: 100%;
	}
	.listbox {
		background: ${an};
		border: calc(${Ye} * 1px) solid ${Ze};
		border-radius: calc(${Ge} * 1px);
		box-sizing: border-box;
		display: inline-flex;
		flex-direction: column;
		left: 0;
		max-height: ${cn};
		padding: 0 0 calc(${qe} * 1px) 0;
		overflow-y: auto;
		position: absolute;
		width: 100%;
		z-index: 1;
	}
	.listbox[hidden] {
		display: none;
	}
	:host(:${Fe}) .control {
		border-color: ${Ze};
	}
	:host(:not([disabled]):hover) {
		background: ${an};
		border-color: ${sn};
	}
	:host(:${Fe}) ::slotted([aria-selected="true"][role="option"]:not([disabled])) {
		background: ${on};
		border: calc(${Ye} * 1px) solid ${Ze};
		color: ${rn};
	}
	:host([disabled]) {
		cursor: ${Xe};
		opacity: ${We};
	}
	:host([disabled]) .control {
		cursor: ${Xe};
		user-select: none;
	}
	:host([disabled]:hover) {
		background: ${an};
		color: ${Qe};
		fill: currentcolor;
	}
	:host(:not([disabled])) .control:active {
		border-color: ${Ze};
	}
	:host(:empty) .listbox {
		display: none;
	}
	:host([open]) .control {
		border-color: ${Ze};
	}
	:host([open][position='above']) .listbox,
	:host([open][position='below']) .control {
		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;
	}
	:host([open][position='above']) .control,
	:host([open][position='below']) .listbox {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
	:host([open][position='above']) .listbox {
		bottom: calc(${Je} * 1px);
	}
	:host([open][position='below']) .listbox {
		top: calc(${Je} * 1px);
	}
	.selected-value {
		flex: 1 1 auto;
		font-family: inherit;
		overflow: hidden;
		text-align: start;
		text-overflow: ellipsis;
		white-space: nowrap;
	}
	.indicator {
		flex: 0 0 auto;
		margin-inline-start: 1em;
	}
	slot[name='listbox'] {
		display: none;
		width: 100%;
	}
	:host([open]) slot[name='listbox'] {
		display: flex;
		position: absolute;
	}
	.end {
		margin-inline-start: auto;
	}
	.start,
	.end,
	.indicator,
	.select-indicator,
	::slotted(svg),
	::slotted(span) {
		fill: currentcolor;
		height: 1em;
		min-height: calc(${qe} * 4px);
		min-width: calc(${qe} * 4px);
		width: 1em;
	}
	::slotted([role='option']),
	::slotted(option) {
		flex: 0 0 auto;
	}
`,indicator:'\n\t\t<svg \n\t\t\tclass="select-indicator"\n\t\t\tpart="select-indicator"\n\t\t\twidth="16" \n\t\t\theight="16" \n\t\t\tviewBox="0 0 16 16" \n\t\t\txmlns="http://www.w3.org/2000/svg" \n\t\t\tfill="currentColor"\n\t\t>\n\t\t\t<path \n\t\t\t\tfill-rule="evenodd" \n\t\t\t\tclip-rule="evenodd" \n\t\t\t\td="M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"\n\t\t\t/>\n\t\t</svg>\n\t'});const un=class option_Option extends ListboxOption{connectedCallback(){super.connectedCallback(),this.textContent?this.setAttribute("aria-label",this.textContent):this.setAttribute("aria-label","Option")}}.compose({baseName:"option",template:(t,e)=>me`
    <template
        aria-checked="${t=>t.ariaChecked}"
        aria-disabled="${t=>t.ariaDisabled}"
        aria-posinset="${t=>t.ariaPosInSet}"
        aria-selected="${t=>t.ariaSelected}"
        aria-setsize="${t=>t.ariaSetSize}"
        class="${t=>[t.checked&&"checked",t.selected&&"selected",t.disabled&&"disabled"].filter(Boolean).join(" ")}"
        role="option"
    >
        ${_e(0,e)}
        <span class="content" part="content">
            <slot ${Le("content")}></slot>
        </span>
        ${xe(0,e)}
    </template>
`,styles:(t,e)=>Be`
	${Ne("inline-flex")} :host {
		font-family: var(--body-font);
		border-radius: ${Ge};
		border: calc(${Ye} * 1px) solid transparent;
		box-sizing: border-box;
		color: ${Qe};
		cursor: pointer;
		fill: currentcolor;
		font-size: ${en};
		line-height: ${nn};
		margin: 0;
		outline: none;
		overflow: hidden;
		padding: 0 calc((${qe} / 2) * 1px)
			calc((${qe} / 4) * 1px);
		user-select: none;
		white-space: nowrap;
	}
	:host(:${Fe}) {
		border-color: ${Ze};
		background: ${on};
		color: ${Qe};
	}
	:host([aria-selected='true']) {
		background: ${on};
		border: calc(${Ye} * 1px) solid ${Ze};
		color: ${rn};
	}
	:host(:active) {
		background: ${on};
		color: ${rn};
	}
	:host(:not([aria-selected='true']):hover) {
		background: ${on};
		border: calc(${Ye} * 1px) solid ${Ze};
		color: ${rn};
	}
	:host(:not([aria-selected='true']):active) {
		background: ${on};
		color: ${Qe};
	}
	:host([disabled]) {
		cursor: ${Xe};
		opacity: ${We};
	}
	:host([disabled]:hover) {
		background-color: inherit;
	}
	.content {
		grid-column-start: 2;
		justify-self: start;
		overflow: hidden;
		text-overflow: ellipsis;
	}
`});class IpcMessageType{constructor(t,e=!1,i=!1){this.method=t,this.reset=e,this.pack=i}}class IpcCommandType extends IpcMessageType{}class IpcNotificationType extends IpcMessageType{}function hn(t,e,i){t.method===e.method&&i(e.params,t)}const dn=new IpcCommandType("webview/ready"),fn=new IpcCommandType("webview/focus");new IpcCommandType("command/execute"),new IpcCommandType("configuration/preview"),new IpcCommandType("configuration/update"),new IpcNotificationType("configuration/didChange"),new IpcNotificationType("configuration/didPreview"),new IpcNotificationType("webview/didOpenAnchor");const pn=new IpcNotificationType("timeline/didChange"),gn=new IpcCommandType("timeline/point/open"),vn=new IpcCommandType("timeline/period/update");function bn(t,e,i){let o,r,a,s,c;function l(t){const i=t-(r??0);return null==r||i>=e||i<0}function u(){const t=Date.now();if(l(t))h();else{c=setTimeout(u,e-(t-(r??0)))}}function h(){return c=void 0,o?function(){const e=o,i=a;return o=a=void 0,s=t.apply(i,e),s}():(o=void 0,a=void 0,s)}function d(...t){const h=Date.now(),d=l(h);return o=null!=i&&o?i(o,t):t,a=this,r=h,d&&null==c?(c=setTimeout(u,e),s):(null==c&&(c=setTimeout(u,e)),s)}return d.cancel=function(){null!=c&&clearTimeout(c),o=void 0,r=void 0,a=void 0,c=void 0},d.flush=function(){return null!=c?h():s},d.pending=function(){return null!=c},d}const mn=",",yn="=",xn="{",_n="(",wn=")",Tn=/\(([\s\S]*)\)/,kn=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,Sn=/\s?=.*$/;const An=new class Logger2{constructor(){this._isDebugging=!1,this.level=0,this._logLevel="off"}configure(t,e,i=!1){this.provider=t,this._isDebugging=i,this.logLevel=e}enabled(t){return this.level>=Cn(t)}get isDebugging(){return this._isDebugging}get logLevel(){return this._logLevel}set logLevel(t){this._logLevel=t,this.level=Cn(this._logLevel),"off"===t?(this.output?.dispose?.(),this.output=void 0):this.output??=this.provider.createChannel(this.provider.name)}get timestamp(){return`[${(new Date).toISOString().replace(/T/," ").slice(0,-1)}]`}debug(t,...e){if(this.level<4&&!this.isDebugging)return;let i;"string"==typeof t?i=t:(i=e.shift(),null!=t&&(i=`${t.prefix} ${i??""}`)),this.isDebugging,null==this.output||this.level<4||this.output.appendLine(`${this.timestamp} ${i??""}${this.toLoggableParams(!0,e)}`)}error(t,e,...i){if(this.level<1&&!this.isDebugging)return;let o;if(o=null==e||"string"==typeof e?e:`${e.prefix} ${i.shift()??""}`,null==o){const e=t instanceof Error?t.stack:void 0;if(e){const t=/.*\s*?at\s(.+?)\s/.exec(e);null!=t&&(o=t[1])}}this.isDebugging,null==this.output||this.level<1||this.output.appendLine(`${this.timestamp} ${o??""}${this.toLoggableParams(!1,i)}${null!=t?`\n${String(t)}`:""}`)}log(t,...e){if(this.level<3&&!this.isDebugging)return;let i;"string"==typeof t?i=t:(i=e.shift(),null!=t&&(i=`${t.prefix} ${i??""}`)),this.isDebugging,null==this.output||this.level<3||this.output.appendLine(`${this.timestamp} ${i??""}${this.toLoggableParams(!1,e)}`)}warn(t,...e){if(this.level<2&&!this.isDebugging)return;let i;"string"==typeof t?i=t:(i=e.shift(),null!=t&&(i=`${t.prefix} ${i??""}`)),this.isDebugging,null==this.output||this.level<2||this.output.appendLine(`${this.timestamp} ${i??""}${this.toLoggableParams(!1,e)}`)}showOutputChannel(t){this.output?.show?.(t)}toLoggable(t,e){if("object"!=typeof t)return String(t);if(Array.isArray(t))return`[${t.map((t=>this.toLoggable(t,e))).join(", ")}]`;const i=this.provider.toLoggable?.(t);if(null!=i)return i;try{return JSON.stringify(t,e)}catch{return"<error>"}}toLoggableParams(t,e){if(0===e.length||t&&this.level<4&&!this.isDebugging)return"";const i=e.map((t=>this.toLoggable(t))).join(", ");return 0!==i.length?`  ${i}`:""}};function Cn(t){switch(t){case"off":default:return 0;case"error":return 1;case"warn":return 2;case"info":return 3;case"debug":return 4}}function $n(t){let e;if("function"==typeof t){if(null==t.prototype?.constructor)return t.name;e=t.prototype.constructor.name??""}else e=t.constructor?.name??"";const i=e.indexOf("_");return-1===i?e:e.substr(i+1)}const En={enabled:t=>An.enabled(t)||An.isDebugging,log:(t,e,i,...o)=>{switch(t){case"error":An.error("",e,i,...o);break;case"warn":An.warn(e,i,...o);break;case"info":An.log(e,i,...o);break;default:An.debug(e,i,...o)}}};var Dn,Mn;function Rn(t){const e=.001*performance.now();let i=Math.floor(e),o=Math.floor(e%1*1e9);return void 0!==t&&(i-=t[0],o-=t[1],o<0&&(i--,o+=1e9)),[i,o]}(Mn=Dn||(Dn={})).on=function(t,e,i,o){let r=!1;if("string"==typeof t){const a=function(e){const o=e?.target?.closest(t);null!=o&&i(e,o)};return document.addEventListener(e,a,o??!0),{dispose:()=>{r||(r=!0,document.removeEventListener(e,a,o??!0))}}}const a=function(t){i(t,this)};return t.addEventListener(e,a,o??!1),{dispose:()=>{r||(r=!0,t.removeEventListener(e,a,o??!1))}}},Mn.insertTemplate=function(t,e,i){const o=document.getElementById(t);if(e.replaceChildren(o?.content.cloneNode(!0)),e.className=o.className,null!=i?.visible){const t=e.querySelectorAll("[data-visible]");for(const e of t){const t=e.dataset.visible;t&&(i.visible[t]?e.style.display="initial":e.style.display="none")}}if(null!=i?.bindings){const t=e.querySelectorAll("[data-bind]");for(const e of t){const t=e.dataset.bind;if(!t)continue;const o=i.bindings[t];null!=o&&(e.textContent=String(o))}}},Mn.resetSlot=function(t){t.replaceChildren(),t.className=""};const On=500,In=2**30,Pn=new Map;let Ln=0;function zn(t){Pn.delete(t)}function Bn(t,e){if(null!=e)return{scopeId:e.scopeId,prefix:`${e.prefix}${t}`};const i=Nn();return{scopeId:i,prefix:`[${String(i).padStart(5)}] ${t}`}}function Nn(){return Ln===In&&(Ln=0),++Ln}Error;Error;var Fn=(t=>(t[t.Hash=35]="Hash",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Backslash=92]="Backslash",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.Z=90]="Z",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.z=122]="z",t))(Fn||{});const{fromCharCode:Xn}=String;new TextEncoder;function Vn(t){const[e,i]=Rn(t);return 1e3*e+Math.floor(i/1e6)}const Hn=Symbol("logInstanceNameFn");function Un(t){return function(t,e=!1){let i,o,r,a,s,c=0,l=!1,u=!1,h=!0;null!=t&&({args:i,if:o,enter:r,exit:a,prefix:s,logThreshold:c=0,scoped:l=!0,singleLine:u=!1,timed:h=!0}=t);c>0&&(u=!0,h=!0);h&&(l=!0);const d=An.isDebugging,f=e?An.debug:An.log,p=d?"debug":"info";return(t,e,g)=>{let v,m;if("function"==typeof g.value?(v=g.value,m="value"):"function"==typeof g.get&&(v=g.get,m="get"),null==v||null==m)throw new Error("Not supported");const y=!1!==i?function(t){if("function"!=typeof t)throw new Error("Not supported");if(0===t.length)return[];let e=Function.prototype.toString.call(t);e=e.replace(kn,"")||e,e=e.slice(0,e.indexOf(xn));let i=e.indexOf(_n),o=e.indexOf(wn);i=i>=0?i+1:0,o=o>0?o:e.indexOf(yn),e=e.slice(i,o),e=`(${e})`;const r=Tn.exec(e);return null!=r?r[1].split(mn).map((t=>t.trim().replace(Sn,""))):[]}(v):[];g[m]=function(...t){if(!d&&!An.enabled(p)||null!=o&&!o.apply(this,t))return v.apply(this,t);const g=Nn(),m=null!=this?this.constructor?.[Hn]?.(this,$n(this))??$n(this):void 0;let x,_=m?l?`[${g.toString(16).padStart(5)}] ${m}.${e}`:`${m}.${e}`:e;null!=s&&(_=s({id:g,instance:this,instanceName:m??"",name:e,prefix:_},...t)),l&&(x={scopeId:g,prefix:_},function(t,e){Pn.set(t,e)}(g,x));const w=null!=r?r(...t):"";let T;if(!1===i||0===t.length)T="",u||f.call(An,`${_}${w}`);else{let e;T="";let o,r,a,s=-1;for(a of t){if(o=y[++s],e=i?.[s],null!=e){if("boolean"==typeof e)continue;if(T.length>0&&(T+=", "),"string"==typeof e){T+=e;continue}r=String(e(a))}else T.length>0&&(T+=", "),r=An.toLoggable(a);T+=o?`${o}=${r}`:r}u||f.call(An,T?`${_}${w}(${T})`:`${_}${w}`)}if(u||h||null!=a){const e=h?Rn():void 0,i=t=>{const i=void 0!==e?` [${Vn(e)}ms]`:"";u?An.error(t,T?`${_}${w}(${T})`:`${_}${w}`,x?.exitDetails?`failed${x.exitDetails}${i}`:`failed${i}`):An.error(t,_,x?.exitDetails?`failed${x.exitDetails}${i}`:`failed${i}`),l&&zn(g)};let o;try{o=v.apply(this,t)}catch(t){throw i(t),t}const r=t=>{let i,o,r,s;if(null!=e?(i=Vn(e),i>On?(o=An.warn,r=` [*${i}ms] (slow)`):(o=f,r=` [${i}ms]`)):(r="",o=f),null!=a)if("function"==typeof a)try{s=a(t)}catch(t){s=`@log.exit error: ${t}`}else!0===a&&(s=`returned ${An.toLoggable(t)}`);else x?.exitFailed?(s=x.exitFailed,o=An.error):s="completed";u?(0===c||i>c)&&o.call(An,T?`${_}${w}(${T}) ${s}${x?.exitDetails||""}${r}`:`${_}${w} ${s}${x?.exitDetails||""}${r}`):o.call(An,T?`${_}(${T}) ${s}${x?.exitDetails||""}${r}`:`${_} ${s}${x?.exitDetails||""}${r}`),l&&zn(g)};return null!=o&&(null!=(S=o)&&(S instanceof Promise||"function"==typeof S?.then))?o.then(r,i):r(o),o}var S;return v.apply(this,t)}}}(t,!0)}Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class Stopwatch{constructor(t,e,...i){let o;if(this._stopped=!1,this.logScope=null!=t&&"string"!=typeof t?t:Bn(t??""),o="boolean"==typeof e?.log?e.log?{}:void 0:e?.log??{},this.logLevel=e?.logLevel??"info",this.logProvider=e?.provider??En,this._time=Rn(),null!=o){if(!this.logProvider.enabled(this.logLevel))return;i.length?this.logProvider.log(this.logLevel,this.logScope,`${o.message??""}${o.suffix??""}`,...i):this.logProvider.log(this.logLevel,this.logScope,`${o.message??""}${o.suffix??""}`)}}get startTime(){return this._time}[Symbol.dispose](){this.stop()}elapsed(){const[t,e]=Rn(this._time);return 1e3*t+Math.floor(e/1e6)}log(t){this.logCore(t,!1)}restart(t){this.logCore(t,!0),this._time=Rn(),this._stopped=!1}stop(t){this._stopped||(this.restart(t),this._stopped=!0)}logCore(t,e){if(!this.logProvider.enabled(this.logLevel))return;if(!e)return void this.logProvider.log(this.logLevel,this.logScope,`${t?.message??""}${t?.suffix??""}`);const[i,o]=Rn(this._time),r=1e3*i+Math.floor(o/1e6),a=t?.message??"";this.logProvider.log(r>250?"warn":this.logLevel,this.logScope,`${a?`${a} `:""}[${r}ms]${t?.suffix??""}`)}}const jn=class _Emitter{constructor(){this._disposed=!1}get event(){return null==this._event&&(this._event=(t,e,i)=>{null==this.listeners&&(this.listeners=new LinkedList);const o=this.listeners.push(null==e?t:[t,e]),r={dispose:()=>{r.dispose=_Emitter._noop,this._disposed||o()}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(t){if(null!=this.listeners){null==this._deliveryQueue&&(this._deliveryQueue=new LinkedList);for(let e=this.listeners.iterator(),i=e.next();!i.done;i=e.next())this._deliveryQueue.push([i.value,t]);for(;this._deliveryQueue.size>0;){const[t,e]=this._deliveryQueue.shift();try{"function"==typeof t?t(e):t[0].call(t[1],e)}catch(t){}}}}dispose(){this.listeners?.clear(),this._deliveryQueue?.clear(),this._disposed=!0}};jn._noop=function(){};let Yn=jn;const Gn={done:!0,value:void 0},qn=class _Node{constructor(t){this.element=t,this.next=_Node.Undefined,this.prev=_Node.Undefined}};qn.Undefined=new qn(void 0);let Wn=qn;class LinkedList{constructor(){this._first=Wn.Undefined,this._last=Wn.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===Wn.Undefined}clear(){this._first=Wn.Undefined,this._last=Wn.Undefined,this._size=0}unshift(t){return this._insert(t,!1)}push(t){return this._insert(t,!0)}_insert(t,e){const i=new Wn(t);if(this._first===Wn.Undefined)this._first=i,this._last=i;else if(e){const t=this._last;this._last=i,i.prev=t,t.next=i}else{const t=this._first;this._first=i,i.next=t,t.prev=i}this._size+=1;let o=!1;return()=>{o||(o=!0,this._remove(i))}}shift(){if(this._first===Wn.Undefined)return;const t=this._first.element;return this._remove(this._first),t}pop(){if(this._last===Wn.Undefined)return;const t=this._last.element;return this._remove(this._last),t}_remove(t){if(t.prev!==Wn.Undefined&&t.next!==Wn.Undefined){const e=t.prev;e.next=t.next,t.next.prev=e}else t.prev===Wn.Undefined&&t.next===Wn.Undefined?(this._first=Wn.Undefined,this._last=Wn.Undefined):t.next===Wn.Undefined?(this._last=this._last.prev,this._last.next=Wn.Undefined):t.prev===Wn.Undefined&&(this._first=this._first.next,this._first.prev=Wn.Undefined);this._size-=1}iterator(){let t,e=this._first;return{next:function(){return e===Wn.Undefined?Gn:(null==t?t={done:!1,value:e.element}:t.value=e.element,e=e.next,t)}}}toArray(){const t=[];for(let e=this._first;e!==Wn.Undefined;e=e.next)t.push(e.element);return t}}var Zn=Object.defineProperty,Kn=Object.getOwnPropertyDescriptor,Qn=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?Kn(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&Zn(e,i,a),a};let Jn;function ti(){return Jn??=acquireVsCodeApi()}let ei=0;function ni(){return 1073741824===ei?ei=1:ei++,`webview:${ei}`}let ii=class{constructor(t){this.appName=t,this._onReceiveMessage=new Yn,this._api=ti(),this._disposable=Dn.on(window,"message",(t=>this.onMessageReceived(t)))}get onReceiveMessage(){return this._onReceiveMessage.event}dispose(){this._disposable.dispose()}onMessageReceived(t){const e=Pn.get(Ln),i=t.data;if(i.packed&&i.params instanceof Uint8Array){const o=function(t,e,...i){return(e?.provider??En).enabled(e?.logLevel??"info")?new Stopwatch(t,e,...i):void 0}(Bn(` deserializing msg=${t.data.method}`,e),{log:!1,logLevel:"debug"});this._textDecoder??=new TextDecoder,i.params=JSON.parse(this._textDecoder.decode(i.params)),o?.stop()}this._onReceiveMessage.fire(i)}sendCommand(t,e){const i=ni();this.postMessage({id:i,method:t.method,params:e})}async sendCommandWithCompletion(t,e,i){const o=ni(),r=new Promise(((t,e)=>{let r;const a=[Dn.on(window,"message",(e=>{hn(i,e.data,(i=>{e.data.completionId===o&&(a.forEach((t=>t.dispose())),queueMicrotask((()=>t(i))))}))})),{dispose:function(){null!=r&&(clearTimeout(r),r=void 0)}}];r=setTimeout((()=>{r=void 0,a.forEach((t=>t.dispose())),e(new Error(`Timed out waiting for completion of ${i.method}`))}),6e4)}));return this.postMessage({id:o,method:t.method,params:e,completionId:o}),r}setState(t){this._api.setState(t)}postMessage(t){this._api.postMessage(t)}};var oi;function ri(t,e){const i=t+e,o=e<0?i<0?0:i:i>255?255:i;return Math.round(o)}function ai(t,e){return si(t,-e)}function si(t,e){const i=function(t){const e=bi(t);return null==e?null:[e.rgba.r,e.rgba.g,e.rgba.b,e.rgba.a]}(t);if(null==i)return t;const[o,r,a,s]=i,c=255*e/100;return`rgba(${ri(o,c)}, ${ri(r,c)}, ${ri(a,c)}, ${s})`}function ci(t,e){const i=di.from(t);return null==i?t:i.transparent(e/100).toString()}Qn([Un({args:{0:t=>`${t.data.id}, method=${t.data.method}`}})],ii.prototype,"onMessageReceived",1),Qn([Un({args:{0:t=>t.method,1:!1}})],ii.prototype,"sendCommand",1),Qn([Un({args:{0:t=>t.method,1:!1,2:!1}})],ii.prototype,"sendCommandWithCompletion",1),Qn([Un({args:{0:t=>`${t.id}, method=${t.method}`}})],ii.prototype,"postMessage",1),ii=Qn([(oi=(t,e)=>`${t.appName}(${e})`,t=>{t[Hn]=oi})],ii);function li(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}class RGBA{constructor(t,e,i,o=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,t)),this.g=0|Math.min(255,Math.max(0,e)),this.b=0|Math.min(255,Math.max(0,i)),this.a=li(Math.max(Math.min(1,o),0),3)}static equals(t,e){return t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a}}class HSLA{constructor(t,e,i,o){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=li(Math.max(Math.min(1,e),0),3),this.l=li(Math.max(Math.min(1,i),0),3),this.a=li(Math.max(Math.min(1,o),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.l===e.l&&t.a===e.a}static fromRGBA(t){const e=t.r/255,i=t.g/255,o=t.b/255,r=t.a,a=Math.max(e,i,o),s=Math.min(e,i,o);let c=0,l=0;const u=(s+a)/2,h=a-s;if(h>0){switch(l=Math.min(u<=.5?h/(2*u):h/(2-2*u),1),a){case e:c=(i-o)/h+(i<o?6:0);break;case i:c=(o-e)/h+2;break;case o:c=(e-i)/h+4}c*=60,c=Math.round(c)}return new HSLA(c,l,u,r)}static _hue2rgb(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}static toRGBA(t){const e=t.h/360,{s:i,l:o,a:r}=t;let a,s,c;if(0===i)a=s=c=o;else{const t=o<.5?o*(1+i):o+i-o*i,r=2*o-t;a=HSLA._hue2rgb(r,t,e+1/3),s=HSLA._hue2rgb(r,t,e),c=HSLA._hue2rgb(r,t,e-1/3)}return new RGBA(Math.round(255*a),Math.round(255*s),Math.round(255*c),r)}}class HSVA{constructor(t,e,i,o){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,t),0),this.s=li(Math.max(Math.min(1,e),0),3),this.v=li(Math.max(Math.min(1,i),0),3),this.a=li(Math.max(Math.min(1,o),0),3)}static equals(t,e){return t.h===e.h&&t.s===e.s&&t.v===e.v&&t.a===e.a}static fromRGBA(t){const e=t.r/255,i=t.g/255,o=t.b/255,r=Math.max(e,i,o),a=r-Math.min(e,i,o),s=0===r?0:a/r;let c;return c=0===a?0:r===e?((i-o)/a%6+6)%6:r===i?(o-e)/a+2:(e-i)/a+4,new HSVA(Math.round(60*c),s,r,t.a)}static toRGBA(t){const{h:e,s:i,v:o,a:r}=t,a=o*i,s=a*(1-Math.abs(e/60%2-1)),c=o-a;let[l,u,h]=[0,0,0];return e<60?(l=a,u=s):e<120?(l=s,u=a):e<180?(u=a,h=s):e<240?(u=s,h=a):e<300?(l=s,h=a):e<=360&&(l=a,h=s),l=Math.round(255*(l+c)),u=Math.round(255*(u+c)),h=Math.round(255*(h+c)),new RGBA(l,u,h,r)}}function ui(t,e){return e.getPropertyValue(t).trim()}const hi=class _Color{static from(t){return t instanceof _Color?t:bi(t)||_Color.red}static fromCssVariable(t,e){return bi(ui(t,e))||_Color.red}static fromHex(t){return mi(t)||_Color.red}static equals(t,e){return!t&&!e||!(!t||!e)&&t.equals(e)}get hsla(){return this._hsla?this._hsla:HSLA.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:HSVA.fromRGBA(this.rgba)}constructor(t){if(!t)throw new Error("Color needs a value");if(t instanceof RGBA)this.rgba=t;else if(t instanceof HSLA)this._hsla=t,this.rgba=HSLA.toRGBA(t);else{if(!(t instanceof HSVA))throw new Error("Invalid color ctor argument");this._hsva=t,this.rgba=HSVA.toRGBA(t)}}equals(t){return null!=t&&(Boolean(t)&&RGBA.equals(this.rgba,t.rgba)&&HSLA.equals(this.hsla,t.hsla)&&HSVA.equals(this.hsva,t.hsva))}getRelativeLuminance(){return li(.2126*_Color._relativeLuminanceForComponent(this.rgba.r)+.7152*_Color._relativeLuminanceForComponent(this.rgba.g)+.0722*_Color._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(t){const e=t/255;return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}luminance(t){return function(t,e){if(0===e)return new di(new RGBA(0,0,0,t.rgba.a));if(1===e)return new di(new RGBA(255,255,255,t.rgba.a));const i=t.getRelativeLuminance();let o=20;const r=(t,i)=>{const a=t.mix(i,.5),s=a.getRelativeLuminance();return Math.abs(e-s)<1e-7||!o--?a:s>e?r(t,a):r(a,i)},a=(i>e?r(di.black,t):r(t,di.white)).rgba;return new di(new RGBA(a.r,a.g,a.b,t.rgba.a))}(this,t)}getContrastRatio(t){const e=this.getRelativeLuminance(),i=t.getRelativeLuminance();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)}isDarker(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3<128}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(t){return this.getRelativeLuminance()>t.getRelativeLuminance()}isDarkerThan(t){return this.getRelativeLuminance()<t.getRelativeLuminance()}lighten(t){return new _Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))}darken(t){return new _Color(new HSLA(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))}transparent(t){const{r:e,g:i,b:o,a:r}=this.rgba;return new _Color(new RGBA(e,i,o,r*t))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new _Color(new RGBA(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(t){const e=t.rgba,i=this.rgba.a,o=e.a,r=i+o*(1-i);if(r<1e-6)return _Color.transparent;const a=this.rgba.r*i/r+e.r*o*(1-i)/r,s=this.rgba.g*i/r+e.g*o*(1-i)/r,c=this.rgba.b*i/r+e.b*o*(1-i)/r;return new _Color(new RGBA(a,s,c,r))}mix(t,e){return function(t,e,i){const o=t.rgba,r=e.rgba;return new di(new RGBA(o.r+i*(r.r-o.r),o.g+i*(r.g-o.g),o.b+i*(r.b-o.b),o.a+i*(r.a-o.a)))}(this,t,e)}makeOpaque(t){if(this.isOpaque()||1!==t.rgba.a)return this;const{r:e,g:i,b:o,a:r}=this.rgba;return new _Color(new RGBA(t.rgba.r-r*(t.rgba.r-e),t.rgba.g-r*(t.rgba.g-i),t.rgba.b-r*(t.rgba.b-o),1))}flatten(...t){const e=t.reduceRight(((t,e)=>_Color._flatten(e,t)));return _Color._flatten(this,e)}static _flatten(t,e){const i=1-t.rgba.a;return new _Color(new RGBA(i*e.rgba.r+t.rgba.a*t.rgba.r,i*e.rgba.g+t.rgba.a*t.rgba.g,i*e.rgba.b+t.rgba.a*t.rgba.b))}toString(){return this._toString||(this._toString=function(t){if(t.isOpaque())return gi(t);return fi(t)}(this)),this._toString}static getLighterColor(t,e,i){if(t.isLighterThan(e))return t;i=i||.5;const o=t.getRelativeLuminance(),r=e.getRelativeLuminance();return i=i*(r-o)/r,t.lighten(i)}static getDarkerColor(t,e,i){if(t.isDarkerThan(e))return t;i=i||.5;const o=t.getRelativeLuminance();return i=i*(o-e.getRelativeLuminance())/o,t.darken(i)}};hi.white=new hi(new RGBA(255,255,255,1)),hi.black=new hi(new RGBA(0,0,0,1)),hi.red=new hi(new RGBA(255,0,0,1)),hi.blue=new hi(new RGBA(0,0,255,1)),hi.green=new hi(new RGBA(0,255,0,1)),hi.cyan=new hi(new RGBA(0,255,255,1)),hi.lightgrey=new hi(new RGBA(211,211,211,1)),hi.transparent=new hi(new RGBA(0,0,0,0));let di=hi;function fi(t){return`rgba(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b}, ${Number(t.rgba.a.toFixed(2))})`}function pi(t){const e=t.toString(16);return 2!==e.length?`0${e}`:e}function gi(t){return`#${pi(t.rgba.r)}${pi(t.rgba.g)}${pi(t.rgba.b)}`}const vi=/^((?:rgb|hsl)a?)\((-?\d+%?)[,\s]+(-?\d+%?)[,\s]+(-?\d+%?)[,\s]*(-?[\d.]+%?)?\)$/i;function bi(t){if(0===(t=t.trim()).length)return null;if(t.charCodeAt(0)===Fn.Hash)return mi(t);const e=vi.exec(t);if(null==e)return null;const i=e[1];let o;switch(i){case"rgb":case"hsl":o=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),1];break;case"rgba":case"hsla":o=[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4],10),parseFloat(e[5])];break;default:return null}switch(i){case"rgb":case"rgba":return new di(new RGBA(o[0],o[1],o[2],o[3]));case"hsl":case"hsla":return new di(new HSLA(o[0],o[1],o[2],o[3]))}return di.red}function mi(t){const e=(t=t.trim()).length;if(0===e)return null;if(t.charCodeAt(0)!==Fn.Hash)return null;switch(e){case 7:{const e=16*yi(t.charCodeAt(1))+yi(t.charCodeAt(2)),i=16*yi(t.charCodeAt(3))+yi(t.charCodeAt(4)),o=16*yi(t.charCodeAt(5))+yi(t.charCodeAt(6));return new di(new RGBA(e,i,o,1))}case 9:{const e=16*yi(t.charCodeAt(1))+yi(t.charCodeAt(2)),i=16*yi(t.charCodeAt(3))+yi(t.charCodeAt(4)),o=16*yi(t.charCodeAt(5))+yi(t.charCodeAt(6)),r=16*yi(t.charCodeAt(7))+yi(t.charCodeAt(8));return new di(new RGBA(e,i,o,r/255))}case 4:{const e=yi(t.charCodeAt(1)),i=yi(t.charCodeAt(2)),o=yi(t.charCodeAt(3));return new di(new RGBA(16*e+e,16*i+i,16*o+o))}case 5:{const e=yi(t.charCodeAt(1)),i=yi(t.charCodeAt(2)),o=yi(t.charCodeAt(3)),r=yi(t.charCodeAt(4));return new di(new RGBA(16*e+e,16*i+i,16*o+o,(16*r+r)/255))}default:return null}}function yi(t){switch(t){case Fn.Digit0:return 0;case Fn.Digit1:return 1;case Fn.Digit2:return 2;case Fn.Digit3:return 3;case Fn.Digit4:return 4;case Fn.Digit5:return 5;case Fn.Digit6:return 6;case Fn.Digit7:return 7;case Fn.Digit8:return 8;case Fn.Digit9:return 9;case Fn.a:case Fn.A:return 10;case Fn.b:case Fn.B:return 11;case Fn.c:case Fn.C:return 12;case Fn.d:case Fn.D:return 13;case Fn.e:case Fn.E:return 14;case Fn.f:case Fn.F:return 15}return 0}const xi=new Yn,_i=xi.event;function wi(t){const e=document.documentElement,i=window.getComputedStyle(e),o=document.body.classList,r=o.contains("vscode-light")||o.contains("vscode-high-contrast-light"),a=o.contains("vscode-high-contrast")||o.contains("vscode-high-contrast-light"),s=e.style,c=ui("--vscode-editor-background",i);let l=ui("--vscode-editor-foreground",i);l||(l=ui("--vscode-foreground",i));let u=ui("--color-background",i);return s.setProperty("--color-background--lighten-05",si(u,5)),s.setProperty("--color-background--darken-05",ai(u,5)),s.setProperty("--color-background--lighten-075",si(u,7.5)),s.setProperty("--color-background--darken-075",ai(u,7.5)),s.setProperty("--color-background--lighten-10",si(u,10)),s.setProperty("--color-background--darken-10",ai(u,10)),s.setProperty("--color-background--lighten-15",si(u,15)),s.setProperty("--color-background--darken-15",ai(u,15)),s.setProperty("--color-background--lighten-30",si(u,30)),s.setProperty("--color-background--darken-30",ai(u,30)),s.setProperty("--color-background--lighten-50",si(u,50)),s.setProperty("--color-background--darken-50",ai(u,50)),u=ui("--color-button-background",i),s.setProperty("--color-button-background--darken-30",ai(u,30)),u=ui("--color-highlight",i),s.setProperty("--color-highlight--75",ci(u,75)),s.setProperty("--color-highlight--50",ci(u,50)),s.setProperty("--color-highlight--25",ci(u,25)),u=ui("--color-button-secondary-background",i),s.setProperty("--color-button-secondary-background--darken-30",ai(u,30)),u=ui("--color-foreground",i),s.setProperty("--color-foreground--85",ci(u,85)),s.setProperty("--color-foreground--75",ci(u,75)),s.setProperty("--color-foreground--65",ci(u,65)),s.setProperty("--color-foreground--50",ci(u,50)),u=ui("--color-link-foreground",i),s.setProperty("--color-link-foreground--darken-20",ai(u,20)),s.setProperty("--color-link-foreground--lighten-20",si(u,20)),u=ui("--color-alert-infoBackground",i),s.setProperty("--color-alert-infoHoverBackground",r?ai(u,5):si(u,5)),u=ui("--color-alert-warningBackground",i),s.setProperty("--color-alert-warningHoverBackground",r?ai(u,5):si(u,5)),u=ui("--color-alert-errorBackground",i),s.setProperty("--color-alert-errorHoverBackground",r?ai(u,5):si(u,5)),u=r?ai(c,5):si(c,5),s.setProperty("--color-alert-neutralBackground",u),s.setProperty("--color-alert-neutralHoverBackground",r?ai(u,5):si(u,5)),{colors:{background:c,foreground:l},computedStyle:i,isLightTheme:r,isHighContrastTheme:a,isInitializing:null==t}}class App{constructor(t){this.appName=t;const e=[],i=wi();if(null!=this.onThemeUpdated&&(this.onThemeUpdated(i),e.push(_i(this.onThemeUpdated,this))),this.state=window.bootstrap,window.bootstrap=void 0,this.placement=document.body.getAttribute("data-placement")??"editor",An.configure({name:t,createChannel:function(t){return{name:t,appendLine:function(t){}}}},"off"),this.log(`${t}()`),this._api=ti(),this._hostIpc=new ii(this.appName),e.push(this._hostIpc),null!=this.state){const t=this.getState();this.state.timestamp>=(t?.timestamp??0)?this._api.setState(this.state):this.state=t}e.push(function(){const t=new MutationObserver((t=>{xi.fire(wi(t))}));return t.observe(document.body,{attributeFilter:["class"]}),{dispose:()=>t.disconnect()}}()),requestAnimationFrame((()=>{this.log(`${t}(): initializing...`);try{this.onInitialize?.(),this.bind(),null!=this.onMessageReceived&&e.push(this._hostIpc.onReceiveMessage((t=>this.onMessageReceived(t)))),this.sendCommand(dn,void 0),this.onInitialized?.()}finally{document.body.classList.contains("preload")&&setTimeout((()=>{document.body.classList.remove("preload")}),500)}})),e.push(Dn.on(window,"pagehide",(()=>{e?.forEach((t=>t.dispose())),this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=void 0})))}bind(){this.bindDisposables?.forEach((t=>t.dispose())),this.bindDisposables=this.onBind?.(),null==this.bindDisposables&&(this.bindDisposables=[]);const t=bn((t=>{this.sendCommand(fn,t)}),150);this.bindDisposables.push(Dn.on(document,"focusin",(e=>{const i=e.composedPath().some((t=>"INPUT"===t.tagName));!0===this._focused&&this._inputFocused===i||(this._focused=!0,this._inputFocused=i,t({focused:!0,inputFocused:i}))})),Dn.on(document,"focusout",(()=>{!1===this._focused&&!1===this._inputFocused||(this._focused=!1,this._inputFocused=!1,t({focused:!1,inputFocused:!1}))})))}log(t,...e){"string"==typeof t?An.log(t,...e):An.log(t,e.shift(),...e)}getState(){return this._api.getState()}sendCommand(t,e){this._hostIpc.sendCommand(t,e)}sendCommandWithCompletion(t,e,i){return this._hostIpc.sendCommandWithCompletion(t,e,i)}setState(t){this._api.setState(t)}}const Ti=new Date,ki=new Date;function Si(t,e,i,o){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=e=>(t(e=new Date(+e)),e),r.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),r.round=t=>{const e=r(t),i=r.ceil(t);return t-e<i-t?e:i},r.offset=(t,i)=>(e(t=new Date(+t),null==i?1:Math.floor(i)),t),r.range=(i,o,a)=>{const s=[];if(i=r.ceil(i),a=null==a?1:Math.floor(a),!(i<o&&a>0))return s;let c;do{s.push(c=new Date(+i)),e(i,a),t(i)}while(c<i&&i<o);return s},r.filter=i=>Si((e=>{if(e>=e)for(;t(e),!i(e);)e.setTime(e-1)}),((t,o)=>{if(t>=t)if(o<0)for(;++o<=0;)for(;e(t,-1),!i(t););else for(;--o>=0;)for(;e(t,1),!i(t););})),i&&(r.count=(e,o)=>(Ti.setTime(+e),ki.setTime(+o),t(Ti),t(ki),Math.floor(i(Ti,ki))),r.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(o?e=>o(e)%t==0:e=>r.count(0,e)%t==0):r:null)),r}const Ai=1e3,Ci=6e4,$i=36e5,Ei=864e5,Di=6048e5,Mi=2592e6,Ri=31536e6;function Oi(t){return Si((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ci)/Di))}const Ii=Oi(0),Pi=Oi(1),Li=Oi(2),zi=Oi(3),Bi=Oi(4),Ni=Oi(5),Fi=Oi(6);Ii.range,Pi.range,Li.range,zi.range,Bi.range,Ni.range,Fi.range;function Xi(t){return Si((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/Di))}const Vi=Xi(0),Hi=Xi(1),Ui=Xi(2),ji=Xi(3),Yi=Xi(4),Gi=Xi(5),qi=Xi(6),Wi=(Vi.range,Hi.range,Ui.range,ji.range,Yi.range,Gi.range,qi.range,Si((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ci)/Ei),(t=>t.getDate()-1))),Zi=(Wi.range,Si((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Ei),(t=>t.getUTCDate()-1))),Ki=(Zi.range,Si((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/Ei),(t=>Math.floor(t/Ei)))),Qi=(Ki.range,Si((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));Qi.every=t=>isFinite(t=Math.floor(t))&&t>0?Si((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,i)=>{e.setFullYear(e.getFullYear()+i*t)})):null;Qi.range;const Ji=Si((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));Ji.every=t=>isFinite(t=Math.floor(t))&&t>0?Si((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i*t)})):null;Ji.range;function to(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function no(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}var io,oo,ro,ao,so,co={"-":"",_:" ",0:"0"},lo=/^\s*\d+/,uo=/^%/,ho=/[\\^$*+?|[\]().{}]/g;function fo(t,e,i){var o=t<0?"-":"",r=(o?-t:t)+"",a=r.length;return o+(a<i?new Array(i-a+1).join(e)+r:r)}function po(t){return t.replace(ho,"\\$&")}function go(t){return new RegExp("^(?:"+t.map(po).join("|")+")","i")}function vo(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function bo(t,e,i){var o=lo.exec(e.slice(i,i+1));return o?(t.w=+o[0],i+o[0].length):-1}function mo(t,e,i){var o=lo.exec(e.slice(i,i+1));return o?(t.u=+o[0],i+o[0].length):-1}function yo(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.U=+o[0],i+o[0].length):-1}function xo(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.V=+o[0],i+o[0].length):-1}function _o(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.W=+o[0],i+o[0].length):-1}function wo(t,e,i){var o=lo.exec(e.slice(i,i+4));return o?(t.y=+o[0],i+o[0].length):-1}function To(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),i+o[0].length):-1}function ko(t,e,i){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),i+o[0].length):-1}function So(t,e,i){var o=lo.exec(e.slice(i,i+1));return o?(t.q=3*o[0]-3,i+o[0].length):-1}function Ao(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.m=o[0]-1,i+o[0].length):-1}function Co(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.d=+o[0],i+o[0].length):-1}function $o(t,e,i){var o=lo.exec(e.slice(i,i+3));return o?(t.m=0,t.d=+o[0],i+o[0].length):-1}function Eo(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.H=+o[0],i+o[0].length):-1}function Do(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.M=+o[0],i+o[0].length):-1}function Mo(t,e,i){var o=lo.exec(e.slice(i,i+2));return o?(t.S=+o[0],i+o[0].length):-1}function Ro(t,e,i){var o=lo.exec(e.slice(i,i+3));return o?(t.L=+o[0],i+o[0].length):-1}function Oo(t,e,i){var o=lo.exec(e.slice(i,i+6));return o?(t.L=Math.floor(o[0]/1e3),i+o[0].length):-1}function Io(t,e,i){var o=uo.exec(e.slice(i,i+1));return o?i+o[0].length:-1}function Po(t,e,i){var o=lo.exec(e.slice(i));return o?(t.Q=+o[0],i+o[0].length):-1}function Lo(t,e,i){var o=lo.exec(e.slice(i));return o?(t.s=+o[0],i+o[0].length):-1}function zo(t,e){return fo(t.getDate(),e,2)}function Bo(t,e){return fo(t.getHours(),e,2)}function No(t,e){return fo(t.getHours()%12||12,e,2)}function Fo(t,e){return fo(1+Wi.count(Qi(t),t),e,3)}function Xo(t,e){return fo(t.getMilliseconds(),e,3)}function Vo(t,e){return Xo(t,e)+"000"}function Ho(t,e){return fo(t.getMonth()+1,e,2)}function Uo(t,e){return fo(t.getMinutes(),e,2)}function jo(t,e){return fo(t.getSeconds(),e,2)}function Yo(t){var e=t.getDay();return 0===e?7:e}function Go(t,e){return fo(Ii.count(Qi(t)-1,t),e,2)}function qo(t){var e=t.getDay();return e>=4||0===e?Bi(t):Bi.ceil(t)}function Wo(t,e){return t=qo(t),fo(Bi.count(Qi(t),t)+(4===Qi(t).getDay()),e,2)}function Zo(t){return t.getDay()}function Ko(t,e){return fo(Pi.count(Qi(t)-1,t),e,2)}function Qo(t,e){return fo(t.getFullYear()%100,e,2)}function Jo(t,e){return fo((t=qo(t)).getFullYear()%100,e,2)}function tr(t,e){return fo(t.getFullYear()%1e4,e,4)}function er(t,e){var i=t.getDay();return fo((t=i>=4||0===i?Bi(t):Bi.ceil(t)).getFullYear()%1e4,e,4)}function nr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+fo(e/60|0,"0",2)+fo(e%60,"0",2)}function ir(t,e){return fo(t.getUTCDate(),e,2)}function or(t,e){return fo(t.getUTCHours(),e,2)}function rr(t,e){return fo(t.getUTCHours()%12||12,e,2)}function ar(t,e){return fo(1+Zi.count(Ji(t),t),e,3)}function sr(t,e){return fo(t.getUTCMilliseconds(),e,3)}function cr(t,e){return sr(t,e)+"000"}function lr(t,e){return fo(t.getUTCMonth()+1,e,2)}function ur(t,e){return fo(t.getUTCMinutes(),e,2)}function hr(t,e){return fo(t.getUTCSeconds(),e,2)}function dr(t){var e=t.getUTCDay();return 0===e?7:e}function fr(t,e){return fo(Vi.count(Ji(t)-1,t),e,2)}function pr(t){var e=t.getUTCDay();return e>=4||0===e?Yi(t):Yi.ceil(t)}function gr(t,e){return t=pr(t),fo(Yi.count(Ji(t),t)+(4===Ji(t).getUTCDay()),e,2)}function vr(t){return t.getUTCDay()}function br(t,e){return fo(Hi.count(Ji(t)-1,t),e,2)}function mr(t,e){return fo(t.getUTCFullYear()%100,e,2)}function yr(t,e){return fo((t=pr(t)).getUTCFullYear()%100,e,2)}function xr(t,e){return fo(t.getUTCFullYear()%1e4,e,4)}function _r(t,e){var i=t.getUTCDay();return fo((t=i>=4||0===i?Yi(t):Yi.ceil(t)).getUTCFullYear()%1e4,e,4)}function wr(){return"+0000"}function Tr(){return"%"}function kr(t){return+t}function Sr(t){return Math.floor(+t/1e3)}function Ar(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var i=e.ownerSVGElement||e;if(i.createSVGPoint){var o=i.createSVGPoint();return o.x=t.clientX,o.y=t.clientY,[(o=o.matrixTransform(e.getScreenCTM().inverse())).x,o.y]}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]}}return[t.pageX,t.pageY]}function Cr(){}function $r(t){return null==t?Cr:function(){return this.querySelector(t)}}function Er(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Dr(){return[]}function Mr(t){return null==t?Dr:function(){return this.querySelectorAll(t)}}function Rr(t){return function(){return this.matches(t)}}function Or(t){return function(e){return e.matches(t)}}io=function(t){var e=t.dateTime,i=t.date,o=t.time,r=t.periods,a=t.days,s=t.shortDays,c=t.months,l=t.shortMonths,u=go(r),h=vo(r),d=go(a),f=vo(a),p=go(s),g=vo(s),v=go(c),m=vo(c),y=go(l),x=vo(l),_={a:function(t){return s[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return c[t.getMonth()]},c:null,d:zo,e:zo,f:Vo,g:Jo,G:er,H:Bo,I:No,j:Fo,L:Xo,m:Ho,M:Uo,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:kr,s:Sr,S:jo,u:Yo,U:Go,V:Wo,w:Zo,W:Ko,x:null,X:null,y:Qo,Y:tr,Z:nr,"%":Tr},w={a:function(t){return s[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return c[t.getUTCMonth()]},c:null,d:ir,e:ir,f:cr,g:yr,G:_r,H:or,I:rr,j:ar,L:sr,m:lr,M:ur,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:kr,s:Sr,S:hr,u:dr,U:fr,V:gr,w:vr,W:br,x:null,X:null,y:mr,Y:xr,Z:wr,"%":Tr},T={a:function(t,e,i){var o=p.exec(e.slice(i));return o?(t.w=g.get(o[0].toLowerCase()),i+o[0].length):-1},A:function(t,e,i){var o=d.exec(e.slice(i));return o?(t.w=f.get(o[0].toLowerCase()),i+o[0].length):-1},b:function(t,e,i){var o=y.exec(e.slice(i));return o?(t.m=x.get(o[0].toLowerCase()),i+o[0].length):-1},B:function(t,e,i){var o=v.exec(e.slice(i));return o?(t.m=m.get(o[0].toLowerCase()),i+o[0].length):-1},c:function(t,i,o){return C(t,e,i,o)},d:Co,e:Co,f:Oo,g:To,G:wo,H:Eo,I:Eo,j:$o,L:Ro,m:Ao,M:Do,p:function(t,e,i){var o=u.exec(e.slice(i));return o?(t.p=h.get(o[0].toLowerCase()),i+o[0].length):-1},q:So,Q:Po,s:Lo,S:Mo,u:mo,U:yo,V:xo,w:bo,W:_o,x:function(t,e,o){return C(t,i,e,o)},X:function(t,e,i){return C(t,o,e,i)},y:To,Y:wo,Z:ko,"%":Io};function S(t,e){return function(i){var o,r,a,s=[],c=-1,l=0,u=t.length;for(i instanceof Date||(i=new Date(+i));++c<u;)37===t.charCodeAt(c)&&(s.push(t.slice(l,c)),null!=(r=co[o=t.charAt(++c)])?o=t.charAt(++c):r="e"===o?" ":"0",(a=e[o])&&(o=a(i,r)),s.push(o),l=c+1);return s.push(t.slice(l,c)),s.join("")}}function A(t,e){return function(i){var o,r,a=no(1900,void 0,1);if(C(a,t,i+="",0)!=i.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=(o=eo(no(a.y,0,1))).getUTCDay(),o=r>4||0===r?Hi.ceil(o):Hi(o),o=Zi.offset(o,7*(a.V-1)),a.y=o.getUTCFullYear(),a.m=o.getUTCMonth(),a.d=o.getUTCDate()+(a.w+6)%7):(r=(o=to(no(a.y,0,1))).getDay(),o=r>4||0===r?Pi.ceil(o):Pi(o),o=Wi.offset(o,7*(a.V-1)),a.y=o.getFullYear(),a.m=o.getMonth(),a.d=o.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),r="Z"in a?eo(no(a.y,0,1)).getUTCDay():to(no(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(r+5)%7:a.w+7*a.U-(r+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,eo(a)):to(a)}}function C(t,e,i,o){for(var r,a,s=0,c=e.length,l=i.length;s<c;){if(o>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(a=T[r in co?e.charAt(s++):r])||(o=a(t,i,o))<0)return-1}else if(r!=i.charCodeAt(o++))return-1}return o}return _.x=S(i,_),_.X=S(o,_),_.c=S(e,_),w.x=S(i,w),w.X=S(o,w),w.c=S(e,w),{format:function(t){var e=S(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=A(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=S(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=A(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),oo=io.format,ro=io.parse,ao=io.utcFormat,so=io.utcParse;var Ir=Array.prototype.find;function Pr(){return this.firstElementChild}var Lr=Array.prototype.filter;function zr(){return Array.from(this.children)}function Br(t){return new Array(t.length)}function Nr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Fr(t,e,i,o,r,a){for(var s,c=0,l=e.length,u=a.length;c<u;++c)(s=e[c])?(s.__data__=a[c],o[c]=s):i[c]=new Nr(t,a[c]);for(;c<l;++c)(s=e[c])&&(r[c]=s)}function Xr(t,e,i,o,r,a,s){var c,l,u,h=new Map,d=e.length,f=a.length,p=new Array(d);for(c=0;c<d;++c)(l=e[c])&&(p[c]=u=s.call(l,l.__data__,c,e)+"",h.has(u)?r[c]=l:h.set(u,l));for(c=0;c<f;++c)u=s.call(t,a[c],c,a)+"",(l=h.get(u))?(o[c]=l,l.__data__=a[c],h.delete(u)):i[c]=new Nr(t,a[c]);for(c=0;c<d;++c)(l=e[c])&&h.get(p[c])===l&&(r[c]=l)}function Vr(t){return t.__data__}function Hr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Ur(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Nr.prototype={constructor:Nr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var jr="http://www.w3.org/1999/xhtml";const Yr={svg:"http://www.w3.org/2000/svg",xhtml:jr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gr(t){var e=t+="",i=e.indexOf(":");return i>=0&&"xmlns"!==(e=t.slice(0,i))&&(t=t.slice(i+1)),Yr.hasOwnProperty(e)?{space:Yr[e],local:t}:t}function qr(t){return function(){this.removeAttribute(t)}}function Wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zr(t,e){return function(){this.setAttribute(t,e)}}function Kr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qr(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function Jr(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function ta(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ea(t){return function(){this.style.removeProperty(t)}}function na(t,e,i){return function(){this.style.setProperty(t,e,i)}}function ia(t,e,i){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,i)}}function oa(t,e){return t.style.getPropertyValue(e)||ta(t).getComputedStyle(t,null).getPropertyValue(e)}function ra(t){return function(){delete this[t]}}function aa(t,e){return function(){this[t]=e}}function sa(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function ca(t){return t.trim().split(/^|\s+/)}function la(t){return t.classList||new ua(t)}function ua(t){this._node=t,this._names=ca(t.getAttribute("class")||"")}function ha(t,e){for(var i=la(t),o=-1,r=e.length;++o<r;)i.add(e[o])}function da(t,e){for(var i=la(t),o=-1,r=e.length;++o<r;)i.remove(e[o])}function fa(t){return function(){ha(this,t)}}function pa(t){return function(){da(this,t)}}function ga(t,e){return function(){(e.apply(this,arguments)?ha:da)(this,t)}}function va(){this.textContent=""}function ba(t){return function(){this.textContent=t}}function ma(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ya(){this.innerHTML=""}function xa(t){return function(){this.innerHTML=t}}function _a(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function wa(){this.nextSibling&&this.parentNode.appendChild(this)}function Ta(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ka(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===jr&&e.documentElement.namespaceURI===jr?e.createElement(t):e.createElementNS(i,t)}}function Sa(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Aa(t){var e=Gr(t);return(e.local?Sa:ka)(e)}function Ca(){return null}function $a(){var t=this.parentNode;t&&t.removeChild(this)}function Ea(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Da(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ma(t){return function(){var e=this.__on;if(e){for(var i,o=0,r=-1,a=e.length;o<a;++o)i=e[o],t.type&&i.type!==t.type||i.name!==t.name?e[++r]=i:this.removeEventListener(i.type,i.listener,i.options);++r?e.length=r:delete this.__on}}}function Ra(t,e,i){return function(){var o,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var s=0,c=r.length;s<c;++s)if((o=r[s]).type===t.type&&o.name===t.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=i),void(o.value=e);this.addEventListener(t.type,a,i),o={type:t.type,name:t.name,value:e,listener:a,options:i},r?r.push(o):this.__on=[o]}}function Oa(t,e,i){var o=ta(t),r=o.CustomEvent;"function"==typeof r?r=new r(e,i):(r=o.document.createEvent("Event"),i?(r.initEvent(e,i.bubbles,i.cancelable),r.detail=i.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ia(t,e){return function(){return Oa(this,t,e)}}function Pa(t,e){return function(){return Oa(this,t,e.apply(this,arguments))}}ua.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var La=[null];function za(t,e){this._groups=t,this._parents=e}function Ba(){return new za([[document.documentElement]],La)}za.prototype=Ba.prototype={constructor:za,select:function(t){"function"!=typeof t&&(t=$r(t));for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r)for(var a,s,c=e[r],l=c.length,u=o[r]=new Array(l),h=0;h<l;++h)(a=c[h])&&(s=t.call(a,a.__data__,h,c))&&("__data__"in a&&(s.__data__=a.__data__),u[h]=s);return new za(o,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Er(t.apply(this,arguments))}}(t):Mr(t);for(var e=this._groups,i=e.length,o=[],r=[],a=0;a<i;++a)for(var s,c=e[a],l=c.length,u=0;u<l;++u)(s=c[u])&&(o.push(t.call(s,s.__data__,u,c)),r.push(s));return new za(o,r)},selectChild:function(t){return this.select(null==t?Pr:function(t){return function(){return Ir.call(this.children,t)}}("function"==typeof t?t:Or(t)))},selectChildren:function(t){return this.selectAll(null==t?zr:function(t){return function(){return Lr.call(this.children,t)}}("function"==typeof t?t:Or(t)))},filter:function(t){"function"!=typeof t&&(t=Rr(t));for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r)for(var a,s=e[r],c=s.length,l=o[r]=[],u=0;u<c;++u)(a=s[u])&&t.call(a,a.__data__,u,s)&&l.push(a);return new za(o,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Vr);var i=e?Xr:Fr,o=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var a=r.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var h=o[u],d=r[u],f=d.length,p=Hr(t.call(h,h&&h.__data__,u,o)),g=p.length,v=c[u]=new Array(g),m=s[u]=new Array(g);i(h,d,v,m,l[u]=new Array(f),p,e);for(var y,x,_=0,w=0;_<g;++_)if(y=v[_]){for(_>=w&&(w=_+1);!(x=m[w])&&++w<g;);y._next=x||null}}return(s=new za(s,o))._enter=c,s._exit=l,s},enter:function(){return new za(this._enter||this._groups.map(Br),this._parents)},exit:function(){return new za(this._exit||this._groups.map(Br),this._parents)},join:function(t,e,i){var o=this.enter(),r=this,a=this.exit();return"function"==typeof t?(o=t(o))&&(o=o.selection()):o=o.append(t+""),null!=e&&(r=e(r))&&(r=r.selection()),null==i?a.remove():i(a),o&&r?o.merge(r).order():r},merge:function(t){for(var e=t.selection?t.selection():t,i=this._groups,o=e._groups,r=i.length,a=o.length,s=Math.min(r,a),c=new Array(r),l=0;l<s;++l)for(var u,h=i[l],d=o[l],f=h.length,p=c[l]=new Array(f),g=0;g<f;++g)(u=h[g]||d[g])&&(p[g]=u);for(;l<r;++l)c[l]=i[l];return new za(c,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var o,r=t[e],a=r.length-1,s=r[a];--a>=0;)(o=r[a])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=Ur);for(var i=this._groups,o=i.length,r=new Array(o),a=0;a<o;++a){for(var s,c=i[a],l=c.length,u=r[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u[h]=s);u.sort(e)}return new za(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var o=t[e],r=0,a=o.length;r<a;++r){var s=o[r];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,o=e.length;i<o;++i)for(var r,a=e[i],s=0,c=a.length;s<c;++s)(r=a[s])&&t.call(r,r.__data__,s,a);return this},attr:function(t,e){var i=Gr(t);if(arguments.length<2){var o=this.node();return i.local?o.getAttributeNS(i.space,i.local):o.getAttribute(i)}return this.each((null==e?i.local?Wr:qr:"function"==typeof e?i.local?Jr:Qr:i.local?Kr:Zr)(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?ea:"function"==typeof e?ia:na)(t,e,i??"")):oa(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ra:"function"==typeof e?sa:aa)(t,e)):this.node()[t]},classed:function(t,e){var i=ca(t+"");if(arguments.length<2){for(var o=la(this.node()),r=-1,a=i.length;++r<a;)if(!o.contains(i[r]))return!1;return!0}return this.each(("function"==typeof e?ga:e?fa:pa)(i,e))},text:function(t){return arguments.length?this.each(null==t?va:("function"==typeof t?ma:ba)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ya:("function"==typeof t?_a:xa)(t)):this.node().innerHTML},raise:function(){return this.each(wa)},lower:function(){return this.each(Ta)},append:function(t){var e="function"==typeof t?t:Aa(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var i="function"==typeof t?t:Aa(t),o=null==e?Ca:"function"==typeof e?e:$r(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each($a)},clone:function(t){return this.select(t?Da:Ea)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var o,r,a=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}(t+""),s=a.length;if(!(arguments.length<2)){for(c=e?Ra:Ma,o=0;o<s;++o)this.each(c(a[o],e,i));return this}var c=this.node().__on;if(c)for(var l,u=0,h=c.length;u<h;++u)for(o=0,l=c[u];o<s;++o)if((r=a[o]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Pa:Ia)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var o,r=t[e],a=0,s=r.length;a<s;++a)(o=r[a])&&(yield o)}};const Na=Ba;function Fa(t){return"string"==typeof t?new za([[document.querySelector(t)]],[document.documentElement]):new za([[t]],La)}function Xa(t){return"string"==typeof t?new za([document.querySelectorAll(t)],[document.documentElement]):new za([Er(t)],La)}var Va={value:()=>{}};function Ha(){for(var t,e=0,i=arguments.length,o={};e<i;++e){if(!(t=arguments[e]+"")||t in o||/[\s.]/.test(t))throw new Error("illegal type: "+t);o[t]=[]}return new Ua(o)}function Ua(t){this._=t}function ja(t,e){for(var i,o=0,r=t.length;o<r;++o)if((i=t[o]).name===e)return i.value}function Ya(t,e,i){for(var o=0,r=t.length;o<r;++o)if(t[o].name===e){t[o]=Va,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=i&&t.push({name:e,value:i}),t}Ua.prototype=Ha.prototype={constructor:Ua,on:function(t,e){var i,o,r=this._,a=(o=r,(t+"").trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");if(i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),t&&!o.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,c=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<c;)if(i=(t=a[s]).type)r[i]=Ya(r[i],t.name,e);else if(null==e)for(i in r)r[i]=Ya(r[i],t.name,null);return this}for(;++s<c;)if((i=(t=a[s]).type)&&(i=ja(r[i],t.name)))return i},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Ua(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var i,o,r=new Array(i),a=0;a<i;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,i=(o=this._[t]).length;a<i;++a)o[a].value.apply(e,r)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],r=0,a=o.length;r<a;++r)o[r].value.apply(e,i)}};const Ga=Ha,qa={passive:!1},Wa={capture:!0,passive:!1};function Za(t){t.stopImmediatePropagation()}function Ka(t){t.preventDefault(),t.stopImmediatePropagation()}function Qa(t){var e=t.document.documentElement,i=Fa(t).on("dragstart.drag",Ka,Wa);"onselectstart"in e?i.on("selectstart.drag",Ka,Wa):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ja(t,e){var i=t.document.documentElement,o=Fa(t).on("dragstart.drag",null);e&&(o.on("click.drag",Ka,Wa),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in i?o.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}function ts(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function es(t,e){var i=Object.create(t.prototype);for(var o in e)i[o]=e[o];return i}function ns(){}var is=.7,os=1/is,rs="\\s*([+-]?\\d+)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cs=/^#([0-9a-f]{3,8})$/,ls=new RegExp(`^rgb\\(${rs},${rs},${rs}\\)$`),us=new RegExp(`^rgb\\(${ss},${ss},${ss}\\)$`),hs=new RegExp(`^rgba\\(${rs},${rs},${rs},${as}\\)$`),ds=new RegExp(`^rgba\\(${ss},${ss},${ss},${as}\\)$`),fs=new RegExp(`^hsl\\(${as},${ss},${ss}\\)$`),ps=new RegExp(`^hsla\\(${as},${ss},${ss},${as}\\)$`),gs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function vs(){return this.rgb().formatHex()}function bs(){return this.rgb().formatRgb()}function ms(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=cs.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?ys(e):3===i?new ws(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?xs(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?xs(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ls.exec(t))?new ws(e[1],e[2],e[3],1):(e=us.exec(t))?new ws(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=hs.exec(t))?xs(e[1],e[2],e[3],e[4]):(e=ds.exec(t))?xs(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fs.exec(t))?$s(e[1],e[2]/100,e[3]/100,1):(e=ps.exec(t))?$s(e[1],e[2]/100,e[3]/100,e[4]):gs.hasOwnProperty(t)?ys(gs[t]):"transparent"===t?new ws(NaN,NaN,NaN,0):null}function ys(t){return new ws(t>>16&255,t>>8&255,255&t,1)}function xs(t,e,i,o){return o<=0&&(t=e=i=NaN),new ws(t,e,i,o)}function _s(t,e,i,o){return 1===arguments.length?function(t){return t instanceof ns||(t=ms(t)),t?new ws((t=t.rgb()).r,t.g,t.b,t.opacity):new ws}(t):new ws(t,e,i,o??1)}function ws(t,e,i,o){this.r=+t,this.g=+e,this.b=+i,this.opacity=+o}function Ts(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}`}function ks(){const t=Ss(this.opacity);return`${1===t?"rgb(":"rgba("}${As(this.r)}, ${As(this.g)}, ${As(this.b)}${1===t?")":`, ${t})`}`}function Ss(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function As(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Cs(t){return((t=As(t))<16?"0":"")+t.toString(16)}function $s(t,e,i,o){return o<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Ds(t,e,i,o)}function Es(t){if(t instanceof Ds)return new Ds(t.h,t.s,t.l,t.opacity);if(t instanceof ns||(t=ms(t)),!t)return new Ds;if(t instanceof Ds)return t;var e=(t=t.rgb()).r/255,i=t.g/255,o=t.b/255,r=Math.min(e,i,o),a=Math.max(e,i,o),s=NaN,c=a-r,l=(a+r)/2;return c?(s=e===a?(i-o)/c+6*(i<o):i===a?(o-e)/c+2:(e-i)/c+4,c/=l<.5?a+r:2-a-r,s*=60):c=l>0&&l<1?0:s,new Ds(s,c,l,t.opacity)}function Ds(t,e,i,o){this.h=+t,this.s=+e,this.l=+i,this.opacity=+o}function Ms(t){return(t=(t||0)%360)<0?t+360:t}function Rs(t){return Math.max(0,Math.min(1,t||0))}function Os(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}function Is(t,e,i,o,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*i+(1+3*t+3*a-3*s)*o+s*r)/6}ts(ns,ms,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vs,formatHex:vs,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Es(this).formatHsl()},formatRgb:bs,toString:bs}),ts(ws,_s,es(ns,{brighter(t){return t=null==t?os:Math.pow(os,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?is:Math.pow(is,t),new ws(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ws(As(this.r),As(this.g),As(this.b),Ss(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ts,formatHex:Ts,formatHex8:function(){return`#${Cs(this.r)}${Cs(this.g)}${Cs(this.b)}${Cs(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ks,toString:ks})),ts(Ds,(function(t,e,i,o){return 1===arguments.length?Es(t):new Ds(t,e,i,o??1)}),es(ns,{brighter(t){return t=null==t?os:Math.pow(os,t),new Ds(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?is:Math.pow(is,t),new Ds(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,o=i+(i<.5?i:1-i)*e,r=2*i-o;return new ws(Os(t>=240?t-240:t+120,r,o),Os(t,r,o),Os(t<120?t+240:t-120,r,o),this.opacity)},clamp(){return new Ds(Ms(this.h),Rs(this.s),Rs(this.l),Ss(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ss(this.opacity);return`${1===t?"hsl(":"hsla("}${Ms(this.h)}, ${100*Rs(this.s)}%, ${100*Rs(this.l)}%${1===t?")":`, ${t})`}`}}));const Ps=t=>()=>t;function Ls(t,e){return function(i){return t+i*e}}function zs(t){return 1==(t=+t)?Bs:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(o){return Math.pow(t+o*e,i)}}(e,i,t):Ps(isNaN(e)?i:e)}}function Bs(t,e){var i=e-t;return i?Ls(t,i):Ps(isNaN(t)?e:t)}const Ns=function t(e){var i=zs(e);function o(t,e){var o=i((t=_s(t)).r,(e=_s(e)).r),r=i(t.g,e.g),a=i(t.b,e.b),s=Bs(t.opacity,e.opacity);return function(e){return t.r=o(e),t.g=r(e),t.b=a(e),t.opacity=s(e),t+""}}return o.gamma=t,o}(1);function Fs(t){return function(e){var i,o,r=e.length,a=new Array(r),s=new Array(r),c=new Array(r);for(i=0;i<r;++i)o=_s(e[i]),a[i]=o.r||0,s[i]=o.g||0,c[i]=o.b||0;return a=t(a),s=t(s),c=t(c),o.opacity=1,function(t){return o.r=a(t),o.g=s(t),o.b=c(t),o+""}}}Fs((function(t){var e=t.length-1;return function(i){var o=i<=0?i=0:i>=1?(i=1,e-1):Math.floor(i*e),r=t[o],a=t[o+1],s=o>0?t[o-1]:2*r-a,c=o<e-1?t[o+2]:2*a-r;return Is((i-o/e)*e,s,r,a,c)}})),Fs((function(t){var e=t.length;return function(i){var o=Math.floor(((i%=1)<0?++i:i)*e),r=t[(o+e-1)%e],a=t[o%e],s=t[(o+1)%e],c=t[(o+2)%e];return Is((i-o/e)*e,r,a,s,c)}}));function Xs(t,e){var i,o=e?e.length:0,r=t?Math.min(o,t.length):0,a=new Array(r),s=new Array(o);for(i=0;i<r;++i)a[i]=Ws(t[i],e[i]);for(;i<o;++i)s[i]=e[i];return function(t){for(i=0;i<r;++i)s[i]=a[i](t);return s}}function Vs(t,e){var i=new Date;return t=+t,e=+e,function(o){return i.setTime(t*(1-o)+e*o),i}}function Hs(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function Us(t,e){var i,o={},r={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?o[i]=Ws(t[i],e[i]):r[i]=e[i];return function(t){for(i in o)r[i]=o[i](t);return r}}var js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ys=new RegExp(js.source,"g");function Gs(t,e){var i,o,r,a=js.lastIndex=Ys.lastIndex=0,s=-1,c=[],l=[];for(t+="",e+="";(i=js.exec(t))&&(o=Ys.exec(e));)(r=o.index)>a&&(r=e.slice(a,r),c[s]?c[s]+=r:c[++s]=r),(i=i[0])===(o=o[0])?c[s]?c[s]+=o:c[++s]=o:(c[++s]=null,l.push({i:s,x:Hs(i,o)})),a=Ys.lastIndex;return a<e.length&&(r=e.slice(a),c[s]?c[s]+=r:c[++s]=r),c.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var i,o=0;o<e;++o)c[(i=l[o]).i]=i.x(t);return c.join("")})}function qs(t,e){e||(e=[]);var i,o=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(i=0;i<o;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ws(t,e){var i,o=typeof e;return null==e||"boolean"===o?Ps(e):("number"===o?Hs:"string"===o?(i=ms(e))?(e=i,Ns):Gs:e instanceof ms?Ns:e instanceof Date?Vs:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?qs:Array.isArray(e)?Xs:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Us:Hs)(t,e)}var Zs,Ks,Qs=0,Js=0,tc=0,ec=1e3,nc=0,ic=0,oc=0,rc="object"==typeof performance&&performance.now?performance:Date,ac="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sc(){return ic||(ac(cc),ic=rc.now()+oc)}function cc(){ic=0}function lc(){this._call=this._time=this._next=null}function uc(t,e,i){var o=new lc;return o.restart(t,e,i),o}function hc(){ic=(nc=rc.now())+oc,Qs=Js=0;try{!function(){sc(),++Qs;for(var t,e=Zs;e;)(t=ic-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qs}()}finally{Qs=0,function(){var t,e,i=Zs,o=1/0;for(;i;)i._call?(o>i._time&&(o=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:Zs=e);Ks=t,fc(o)}(),ic=0}}function dc(){var t=rc.now(),e=t-nc;e>ec&&(oc-=e,nc=t)}function fc(t){Qs||(Js&&(Js=clearTimeout(Js)),t-ic>24?(t<1/0&&(Js=setTimeout(hc,t-rc.now()-oc)),tc&&(tc=clearInterval(tc))):(tc||(nc=rc.now(),tc=setInterval(dc,ec)),Qs=1,ac(hc)))}function pc(t,e,i){var o=new lc;return e=null==e?0:+e,o.restart((i=>{o.stop(),t(i+e)}),e,i),o}lc.prototype=uc.prototype={constructor:lc,restart:function(t,e,i){if("function"!=typeof t)throw new TypeError("callback is not a function");i=(null==i?sc():+i)+(null==e?0:+e),this._next||Ks===this||(Ks?Ks._next=this:Zs=this,Ks=this),this._call=t,this._time=i,fc()},stop:function(){this._call&&(this._call=null,this._time=1/0,fc())}};var gc=Ga("start","end","cancel","interrupt"),vc=[],bc=0,mc=1,yc=2,xc=3,_c=4,wc=5,Tc=6;function kc(t,e,i,o,r,a){var s=t.__transition;if(s){if(i in s)return}else t.__transition={};!function(t,e,i){var o,r=t.__transition;function a(t){i.state=mc,i.timer.restart(s,i.delay,i.time),i.delay<=t&&s(t-i.delay)}function s(a){var u,h,d,f;if(i.state!==mc)return l();for(u in r)if((f=r[u]).name===i.name){if(f.state===xc)return pc(s);f.state===_c?(f.state=Tc,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Tc,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(pc((function(){i.state===xc&&(i.state=_c,i.timer.restart(c,i.delay,i.time),c(a))})),i.state=yc,i.on.call("start",t,t.__data__,i.index,i.group),i.state===yc){for(i.state=xc,o=new Array(d=i.tween.length),u=0,h=-1;u<d;++u)(f=i.tween[u].value.call(t,t.__data__,i.index,i.group))&&(o[++h]=f);o.length=h+1}}function c(e){for(var r=e<i.duration?i.ease.call(null,e/i.duration):(i.timer.restart(l),i.state=wc,1),a=-1,s=o.length;++a<s;)o[a].call(t,r);i.state===wc&&(i.on.call("end",t,t.__data__,i.index,i.group),l())}function l(){for(var o in i.state=Tc,i.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=i,i.timer=uc(a,0,i.time)}(t,i,{name:e,index:o,group:r,on:gc,tween:vc,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:bc})}function Sc(t,e){var i=Cc(t,e);if(i.state>bc)throw new Error("too late; already scheduled");return i}function Ac(t,e){var i=Cc(t,e);if(i.state>xc)throw new Error("too late; already running");return i}function Cc(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function $c(t,e){var i,o,r,a=t.__transition,s=!0;if(a){for(r in e=null==e?null:e+"",a)(i=a[r]).name===e?(o=i.state>yc&&i.state<wc,i.state=Tc,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete a[r]):s=!1;s&&delete t.__transition}}var Ec,Dc=180/Math.PI,Mc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Rc(t,e,i,o,r,a){var s,c,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*i+e*o)&&(i-=t*l,o-=e*l),(c=Math.sqrt(i*i+o*o))&&(i/=c,o/=c,l/=c),t*o<e*i&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*Dc,skewX:Math.atan(l)*Dc,scaleX:s,scaleY:c}}function Oc(t,e,i,o){function r(t){return t.length?t.pop()+" ":""}return function(a,s){var c=[],l=[];return a=t(a),s=t(s),function(t,o,r,a,s,c){if(t!==r||o!==a){var l=s.push("translate(",null,e,null,i);c.push({i:l-4,x:Hs(t,r)},{i:l-2,x:Hs(o,a)})}else(r||a)&&s.push("translate("+r+e+a+i)}(a.translateX,a.translateY,s.translateX,s.translateY,c,l),function(t,e,i,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:i.push(r(i)+"rotate(",null,o)-2,x:Hs(t,e)})):e&&i.push(r(i)+"rotate("+e+o)}(a.rotate,s.rotate,c,l),function(t,e,i,a){t!==e?a.push({i:i.push(r(i)+"skewX(",null,o)-2,x:Hs(t,e)}):e&&i.push(r(i)+"skewX("+e+o)}(a.skewX,s.skewX,c,l),function(t,e,i,o,a,s){if(t!==i||e!==o){var c=a.push(r(a)+"scale(",null,",",null,")");s.push({i:c-4,x:Hs(t,i)},{i:c-2,x:Hs(e,o)})}else 1===i&&1===o||a.push(r(a)+"scale("+i+","+o+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,c,l),a=s=null,function(t){for(var e,i=-1,o=l.length;++i<o;)c[(e=l[i]).i]=e.x(t);return c.join("")}}}var Ic=Oc((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Mc:Rc(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Pc=Oc((function(t){return null==t?Mc:(Ec||(Ec=document.createElementNS("http://www.w3.org/2000/svg","g")),Ec.setAttribute("transform",t),(t=Ec.transform.baseVal.consolidate())?Rc((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Mc)}),", ",")",")");function Lc(t,e){var i,o;return function(){var r=Ac(this,t),a=r.tween;if(a!==i)for(var s=0,c=(o=i=a).length;s<c;++s)if(o[s].name===e){(o=o.slice()).splice(s,1);break}r.tween=o}}function zc(t,e,i){var o,r;if("function"!=typeof i)throw new Error;return function(){var a=Ac(this,t),s=a.tween;if(s!==o){r=(o=s).slice();for(var c={name:e,value:i},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=c;break}l===u&&r.push(c)}a.tween=r}}function Bc(t,e,i){var o=t._id;return t.each((function(){var t=Ac(this,o);(t.value||(t.value={}))[e]=i.apply(this,arguments)})),function(t){return Cc(t,o).value[e]}}function Nc(t,e){var i;return("number"==typeof e?Hs:e instanceof ms?Ns:(i=ms(e))?(e=i,Ns):Gs)(t,e)}function Fc(t){return function(){this.removeAttribute(t)}}function Xc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vc(t,e,i){var o,r,a=i+"";return function(){var s=this.getAttribute(t);return s===a?null:s===o?r:r=e(o=s,i)}}function Hc(t,e,i){var o,r,a=i+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===o?r:r=e(o=s,i)}}function Uc(t,e,i){var o,r,a;return function(){var s,c,l=i(this);if(null!=l)return(s=this.getAttribute(t))===(c=l+"")?null:s===o&&c===r?a:(r=c,a=e(o=s,l));this.removeAttribute(t)}}function jc(t,e,i){var o,r,a;return function(){var s,c,l=i(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(c=l+"")?null:s===o&&c===r?a:(r=c,a=e(o=s,l));this.removeAttributeNS(t.space,t.local)}}function Yc(t,e){var i,o;function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&function(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}(t,r)),i}return r._value=e,r}function Gc(t,e){var i,o;function r(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&function(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}(t,r)),i}return r._value=e,r}function qc(t,e){return function(){Sc(this,t).delay=+e.apply(this,arguments)}}function Wc(t,e){return e=+e,function(){Sc(this,t).delay=e}}function Zc(t,e){return function(){Ac(this,t).duration=+e.apply(this,arguments)}}function Kc(t,e){return e=+e,function(){Ac(this,t).duration=e}}var Qc=Na.prototype.constructor;function Jc(t){return function(){this.style.removeProperty(t)}}var tl=0;function el(t,e,i,o){this._groups=t,this._parents=e,this._name=i,this._id=o}function nl(t){return Na().transition(t)}function il(){return++tl}var ol=Na.prototype;el.prototype=nl.prototype={constructor:el,select:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=$r(t));for(var o=this._groups,r=o.length,a=new Array(r),s=0;s<r;++s)for(var c,l,u=o[s],h=u.length,d=a[s]=new Array(h),f=0;f<h;++f)(c=u[f])&&(l=t.call(c,c.__data__,f,u))&&("__data__"in c&&(l.__data__=c.__data__),d[f]=l,kc(d[f],e,i,f,d,Cc(c,i)));return new el(a,this._parents,e,i)},selectAll:function(t){var e=this._name,i=this._id;"function"!=typeof t&&(t=Mr(t));for(var o=this._groups,r=o.length,a=[],s=[],c=0;c<r;++c)for(var l,u=o[c],h=u.length,d=0;d<h;++d)if(l=u[d]){for(var f,p=t.call(l,l.__data__,d,u),g=Cc(l,i),v=0,m=p.length;v<m;++v)(f=p[v])&&kc(f,e,i,v,p,g);a.push(p),s.push(l)}return new el(a,s,e,i)},selectChild:ol.selectChild,selectChildren:ol.selectChildren,filter:function(t){"function"!=typeof t&&(t=Rr(t));for(var e=this._groups,i=e.length,o=new Array(i),r=0;r<i;++r)for(var a,s=e[r],c=s.length,l=o[r]=[],u=0;u<c;++u)(a=s[u])&&t.call(a,a.__data__,u,s)&&l.push(a);return new el(o,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,o=e.length,r=i.length,a=Math.min(o,r),s=new Array(o),c=0;c<a;++c)for(var l,u=e[c],h=i[c],d=u.length,f=s[c]=new Array(d),p=0;p<d;++p)(l=u[p]||h[p])&&(f[p]=l);for(;c<o;++c)s[c]=e[c];return new el(s,this._parents,this._name,this._id)},selection:function(){return new Qc(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,i=il(),o=this._groups,r=o.length,a=0;a<r;++a)for(var s,c=o[a],l=c.length,u=0;u<l;++u)if(s=c[u]){var h=Cc(s,e);kc(s,t,i,u,c,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new el(o,this._parents,t,i)},call:ol.call,nodes:ol.nodes,node:ol.node,size:ol.size,empty:ol.empty,each:ol.each,on:function(t,e){var i=this._id;return arguments.length<2?Cc(this.node(),i).on.on(t):this.each(function(t,e,i){var o,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Sc:Ac;return function(){var s=a(this,t),c=s.on;c!==o&&(r=(o=c).copy()).on(e,i),s.on=r}}(i,t,e))},attr:function(t,e){var i=Gr(t),o="transform"===i?Pc:Nc;return this.attrTween(t,"function"==typeof e?(i.local?jc:Uc)(i,o,Bc(this,"attr."+t,e)):null==e?(i.local?Xc:Fc)(i):(i.local?Hc:Vc)(i,o,e))},attrTween:function(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;var o=Gr(t);return this.tween(i,(o.local?Yc:Gc)(o,e))},style:function(t,e,i){var o="transform"==(t+="")?Ic:Nc;return null==e?this.styleTween(t,function(t,e){var i,o,r;return function(){var a=oa(this,t),s=(this.style.removeProperty(t),oa(this,t));return a===s?null:a===i&&s===o?r:r=e(i=a,o=s)}}(t,o)).on("end.style."+t,Jc(t)):"function"==typeof e?this.styleTween(t,function(t,e,i){var o,r,a;return function(){var s=oa(this,t),c=i(this),l=c+"";return null==c&&(this.style.removeProperty(t),l=c=oa(this,t)),s===l?null:s===o&&l===r?a:(r=l,a=e(o=s,c))}}(t,o,Bc(this,"style."+t,e))).each(function(t,e){var i,o,r,a,s="style."+e,c="end."+s;return function(){var l=Ac(this,t),u=l.on,h=null==l.value[s]?a||(a=Jc(e)):void 0;u===i&&r===h||(o=(i=u).copy()).on(c,r=h),l.on=o}}(this._id,t)):this.styleTween(t,function(t,e,i){var o,r,a=i+"";return function(){var s=oa(this,t);return s===a?null:s===o?r:r=e(o=s,i)}}(t,o,e),i).on("end.style."+t,null)},styleTween:function(t,e,i){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,function(t,e,i){var o,r;function a(){var a=e.apply(this,arguments);return a!==r&&(o=(r=a)&&function(t,e,i){return function(o){this.style.setProperty(t,e.call(this,o),i)}}(t,a,i)),o}return a._value=e,a}(t,e,i??""))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=e??""}}(Bc(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,i;function o(){var o=t.apply(this,arguments);return o!==i&&(e=(i=o)&&function(t){return function(e){this.textContent=t.call(this,e)}}(o)),e}return o._value=t,o}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var i=this._id;if(t+="",arguments.length<2){for(var o,r=Cc(this.node(),i).tween,a=0,s=r.length;a<s;++a)if((o=r[a]).name===t)return o.value;return null}return this.each((null==e?Lc:zc)(i,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?qc:Wc)(e,t)):Cc(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zc:Kc)(e,t)):Cc(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Ac(this,t).ease=e}}(e,t)):Cc(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var i=e.apply(this,arguments);if("function"!=typeof i)throw new Error;Ac(this,t).ease=i}}(this._id,t))},end:function(){var t,e,i=this,o=i._id,r=i.size();return new Promise((function(a,s){var c={value:s},l={value:function(){0==--r&&a()}};i.each((function(){var i=Ac(this,o),r=i.on;r!==t&&((e=(t=r).copy())._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),i.on=e})),0===r&&a()}))},[Symbol.iterator]:ol[Symbol.iterator]};var rl={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function al(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}Na.prototype.interrupt=function(t){return this.each((function(){$c(this,t)}))},Na.prototype.transition=function(t){var e,i;t instanceof el?(e=t._id,t=t._name):(e=il(),(i=rl).time=sc(),t=null==t?null:t+"");for(var o=this._groups,r=o.length,a=0;a<r;++a)for(var s,c=o[a],l=c.length,u=0;u<l;++u)(s=c[u])&&kc(s,t,e,u,c,i||al(s,e));return new el(o,this._parents,t,e)};const{abs:sl,max:cl,min:ll}=Math;function ul(t){return[+t[0],+t[1]]}function hl(t){return[ul(t[0]),ul(t[1])]}["w","e"].map(dl),["n","s"].map(dl),["n","w","e","s","nw","ne","sw","se"].map(dl);function dl(t){return{type:t}}function fl(t){var e=t.__brush;return e?e.dim.output(e.selection):null}var pl={},gl={};function vl(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function bl(t){var e=Object.create(null),i=[];return t.forEach((function(t){for(var o in t)o in e||i.push(e[o]=o)})),i}function ml(t,e){var i=t+"",o=i.length;return o<e?new Array(e-o+1).join(0)+i:i}function yl(t){var e,i=t.getUTCHours(),o=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ml(-e,6):e>9999?"+"+ml(e,6):ml(e,4))+"-"+ml(t.getUTCMonth()+1,2)+"-"+ml(t.getUTCDate(),2)+(a?"T"+ml(i,2)+":"+ml(o,2)+":"+ml(r,2)+"."+ml(a,3)+"Z":r?"T"+ml(i,2)+":"+ml(o,2)+":"+ml(r,2)+"Z":o||i?"T"+ml(i,2)+":"+ml(o,2)+"Z":"")}function xl(t){var e=new RegExp('["'+t+"\n\r]"),i=t.charCodeAt(0);function o(t,e){var o,r=[],a=t.length,s=0,c=0,l=a<=0,u=!1;function h(){if(l)return gl;if(u)return u=!1,pl;var e,o,r=s;if(34===t.charCodeAt(r)){for(;s++<a&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=a?l=!0:10===(o=t.charCodeAt(s++))?u=!0:13===o&&(u=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<a;){if(10===(o=t.charCodeAt(e=s++)))u=!0;else if(13===o)u=!0,10===t.charCodeAt(s)&&++s;else if(o!==i)continue;return t.slice(r,e)}return l=!0,t.slice(r,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(o=h())!==gl;){for(var d=[];o!==pl&&o!==gl;)d.push(o),o=h();e&&null==(d=e(d,c++))||r.push(d)}return r}function r(e,i){return e.map((function(e){return i.map((function(t){return s(e[t])})).join(t)}))}function a(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?yl(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var i,r,a=o(t,(function(t,o){if(i)return i(t,o-1);r=t,i=e?function(t,e){var i=vl(t);return function(o,r){return e(i(o),r,t)}}(t,e):vl(t)}));return a.columns=r||[],a},parseRows:o,format:function(e,i){return null==i&&(i=bl(e)),[i.map(s).join(t)].concat(r(e,i)).join("\n")},formatBody:function(t,e){return null==e&&(e=bl(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:s}}var _l=xl(","),wl=_l.parse,Tl=_l.parseRows,kl=(_l.format,_l.formatBody,_l.formatRows,_l.formatRow,_l.formatValue,xl("\t")),Sl=kl.parse,Al=kl.parseRows;kl.format,kl.formatBody,kl.formatRows,kl.formatRow,kl.formatValue;const Cl=t=>()=>t;function $l(t,{sourceEvent:e,subject:i,target:o,identifier:r,active:a,x:s,y:c,dx:l,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}function El(t){return!t.ctrlKey&&!t.button}function Dl(){return this.parentNode}function Ml(t,e){return e??{x:t.x,y:t.y}}function Rl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ol(){var t,e,i,o,r=El,a=Dl,s=Ml,c=Rl,l={},u=Ga("start","drag","end"),h=0,d=0;function f(t){t.on("mousedown.drag",p).filter(c).on("touchstart.drag",m).on("touchmove.drag",y,qa).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,c){if(!o&&r.call(this,s,c)){var l=_(this,a.call(this,s,c),s,c,"mouse");l&&(Fa(s.view).on("mousemove.drag",g,Wa).on("mouseup.drag",v,Wa),Qa(s.view),Za(s),i=!1,t=s.clientX,e=s.clientY,l("start",s))}}function g(o){if(Ka(o),!i){var r=o.clientX-t,a=o.clientY-e;i=r*r+a*a>d}l.mouse("drag",o)}function v(t){Fa(t.view).on("mousemove.drag mouseup.drag",null),Ja(t.view,i),Ka(t),l.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var i,o,s=t.changedTouches,c=a.call(this,t,e),l=s.length;for(i=0;i<l;++i)(o=_(this,c,t,e,s[i].identifier,s[i]))&&(Za(t),o("start",t,s[i]))}}function y(t){var e,i,o=t.changedTouches,r=o.length;for(e=0;e<r;++e)(i=l[o[e].identifier])&&(Ka(t),i("drag",t,o[e]))}function x(t){var e,i,r=t.changedTouches,a=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),e=0;e<a;++e)(i=l[r[e].identifier])&&(Za(t),i("end",t,r[e]))}function _(t,e,i,o,r,a){var c,d,p,g=u.copy(),v=Ar(a||i,e);if(null!=(p=s.call(t,new $l("beforestart",{sourceEvent:i,target:f,identifier:r,active:h,x:v[0],y:v[1],dx:0,dy:0,dispatch:g}),o)))return c=p.x-v[0]||0,d=p.y-v[1]||0,function i(a,s,u){var m,y=v;switch(a){case"start":l[r]=i,m=h++;break;case"end":delete l[r],--h;case"drag":v=Ar(u||s,e),m=h}g.call(a,t,new $l(a,{sourceEvent:s,subject:p,target:f,identifier:r,active:m,x:v[0]+c,y:v[1]+d,dx:v[0]-y[0],dy:v[1]-y[1],dispatch:g}),o)}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:Cl(!!t),f):r},f.container=function(t){return arguments.length?(a="function"==typeof t?t:Cl(t),f):a},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:Cl(t),f):s},f.touchable=function(t){return arguments.length?(c="function"==typeof t?t:Cl(!!t),f):c},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,f):Math.sqrt(d)},f}$l.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};class InternMap extends Map{constructor(t,e=zl){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,i]of t)this.set(e,i)}get(t){return super.get(Il(this,t))}has(t){return super.has(Il(this,t))}set(t,e){return super.set(Pl(this,t),e)}delete(t){return super.delete(Ll(this,t))}}Set;function Il({_intern:t,_key:e},i){const o=e(i);return t.has(o)?t.get(o):i}function Pl({_intern:t,_key:e},i){const o=e(i);return t.has(o)?t.get(o):(t.set(o,i),i)}function Ll({_intern:t,_key:e},i){const o=e(i);return t.has(o)&&(i=t.get(o),t.delete(o)),i}function zl(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Bl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Nl=Symbol("implicit");function Fl(){var t=new InternMap,e=[],i=[],o=Nl;function r(r){let a=t.get(r);if(void 0===a){if(o!==Nl)return o;t.set(r,a=e.push(r)-1)}return i[a%i.length]}return r.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new InternMap;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return r},r.range=function(t){return arguments.length?(i=Array.from(t),r):i.slice()},r.unknown=function(t){return arguments.length?(o=t,r):o},r.copy=function(){return Fl(e,i).unknown(o)},Bl.apply(r,arguments),r}const Xl=Math.sqrt(50),Vl=Math.sqrt(10),Hl=Math.sqrt(2);function Ul(t,e,i){const o=(e-t)/Math.max(0,i),r=Math.floor(Math.log10(o)),a=o/Math.pow(10,r),s=a>=Xl?10:a>=Vl?5:a>=Hl?2:1;let c,l,u;return r<0?(u=Math.pow(10,-r)/s,c=Math.round(t*u),l=Math.round(e*u),c/u<t&&++c,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*s,c=Math.round(t/u),l=Math.round(e/u),c*u<t&&++c,l*u>e&&--l),l<c&&.5<=i&&i<2?Ul(t,e,2*i):[c,l,u]}function jl(t,e,i){if(!((i=+i)>0))return[];if((t=+t)===(e=+e))return[t];const o=e<t,[r,a,s]=o?Ul(e,t,i):Ul(t,e,i);if(!(a>=r))return[];const c=a-r+1,l=new Array(c);if(o)if(s<0)for(let t=0;t<c;++t)l[t]=(a-t)/-s;else for(let t=0;t<c;++t)l[t]=(a-t)*s;else if(s<0)for(let t=0;t<c;++t)l[t]=(r+t)/-s;else for(let t=0;t<c;++t)l[t]=(r+t)*s;return l}function Yl(t,e,i){return Ul(t=+t,e=+e,i=+i)[2]}function Gl(t,e,i){i=+i;const o=(e=+e)<(t=+t),r=o?Yl(e,t,i):Yl(t,e,i);return(o?-1:1)*(r<0?1/-r:r)}function ql(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wl(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zl(t){let e,i,o;function r(t,o,r=0,a=t.length){if(r<a){if(0!==e(o,o))return a;do{const e=r+a>>>1;i(t[e],o)<0?r=e+1:a=e}while(r<a)}return r}return 2!==t.length?(e=ql,i=(e,i)=>ql(t(e),i),o=(e,i)=>t(e)-i):(e=t===ql||t===Wl?t:Kl,i=t,o=t),{left:r,center:function(t,e,i=0,a=t.length){const s=r(t,e,i,a-1);return s>i&&o(t[s-1],e)>-o(t[s],e)?s-1:s},right:function(t,o,r=0,a=t.length){if(r<a){if(0!==e(o,o))return a;do{const e=r+a>>>1;i(t[e],o)<=0?r=e+1:a=e}while(r<a)}return r}}}function Kl(){return 0}const Ql=Zl(ql),Jl=Ql.right,tu=(Ql.left,Zl((function(t){return null===t?NaN:+t})).center,Jl);function eu(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}}function nu(t){return+t}var iu=[0,1];function ou(t){return t}function ru(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function au(t,e,i){var o=t[0],r=t[1],a=e[0],s=e[1];return r<o?(o=ru(r,o),a=i(s,a)):(o=ru(o,r),a=i(a,s)),function(t){return a(o(t))}}function su(t,e,i){var o=Math.min(t.length,e.length)-1,r=new Array(o),a=new Array(o),s=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<o;)r[s]=ru(t[s],t[s+1]),a[s]=i(e[s],e[s+1]);return function(e){var i=tu(t,e,1,o)-1;return a[i](r[i](e))}}function cu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lu(){var t,e,i,o,r,a,s=iu,c=iu,l=Ws,u=ou;function h(){var t=Math.min(s.length,c.length);return u!==ou&&(u=function(t,e){var i;return t>e&&(i=t,t=e,e=i),function(i){return Math.max(t,Math.min(e,i))}}(s[0],s[t-1])),o=t>2?su:au,r=a=null,d}function d(e){return null==e||isNaN(e=+e)?i:(r||(r=o(s.map(t),c,l)))(t(u(e)))}return d.invert=function(i){return u(e((a||(a=o(c,s.map(t),Hs)))(i)))},d.domain=function(t){return arguments.length?(s=Array.from(t,nu),h()):s.slice()},d.range=function(t){return arguments.length?(c=Array.from(t),h()):c.slice()},d.rangeRound=function(t){return c=Array.from(t),l=eu,h()},d.clamp=function(t){return arguments.length?(u=!!t||ou,h()):u!==ou},d.interpolate=function(t){return arguments.length?(l=t,h()):l},d.unknown=function(t){return arguments.length?(i=t,d):i},function(i,o){return t=i,e=o,h()}}function uu(){return lu()(ou,ou)}var hu,du=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fu(t){if(!(e=du.exec(t)))throw new Error("invalid format: "+t);var e;return new pu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function pu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function gu(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,o=t.slice(0,i);return[o.length>1?o[0]+o.slice(2):o,+t.slice(i+1)]}function vu(t){return(t=gu(Math.abs(t)))?t[1]:NaN}function bu(t,e){var i=gu(t,e);if(!i)return t+"";var o=i[0],r=i[1];return r<0?"0."+new Array(-r).join("0")+o:o.length>r+1?o.slice(0,r+1)+"."+o.slice(r+1):o+new Array(r-o.length+2).join("0")}fu.prototype=pu.prototype,pu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const mu={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bu(100*t,e),r:bu,s:function(t,e){var i=gu(t,e);if(!i)return t+"";var o=i[0],r=i[1],a=r-(hu=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=o.length;return a===s?o:a>s?o+new Array(a-s+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+gu(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yu(t){return t}var xu,_u,wu,Tu=Array.prototype.map,ku=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Su(t){var e,i,o=void 0===t.grouping||void 0===t.thousands?yu:(e=Tu.call(t.grouping,Number),i=t.thousands+"",function(t,o){for(var r=t.length,a=[],s=0,c=e[0],l=0;r>0&&c>0&&(l+c+1>o&&(c=Math.max(1,o-l)),a.push(t.substring(r-=c,r+c)),!((l+=c+1)>o));)c=e[s=(s+1)%e.length];return a.reverse().join(i)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",c=void 0===t.numerals?yu:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Tu.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=fu(t)).fill,i=t.align,d=t.sign,f=t.symbol,p=t.zero,g=t.width,v=t.comma,m=t.precision,y=t.trim,x=t.type;"n"===x?(v=!0,x="g"):mu[x]||(void 0===m&&(m=12),y=!0,x="g"),(p||"0"===e&&"="===i)&&(p=!0,e="0",i="=");var _="$"===f?r:"#"===f&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",w="$"===f?a:/[%p]/.test(x)?l:"",T=mu[x],S=/[defgprs%]/.test(x);function A(t){var r,a,l,f=_,A=w;if("c"===x)A=T(t)+A,t="";else{var C=(t=+t)<0||1/t<0;if(t=isNaN(t)?h:T(Math.abs(t),m),y&&(t=function(t){t:for(var e,i=t.length,o=1,r=-1;o<i;++o)switch(t[o]){case".":r=e=o;break;case"0":0===r&&(r=o),e=o;break;default:if(!+t[o])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),C&&0==+t&&"+"!==d&&(C=!1),f=(C?"("===d?d:u:"-"===d||"("===d?"":d)+f,A=("s"===x?ku[8+hu/3]:"")+A+(C&&"("===d?")":""),S)for(r=-1,a=t.length;++r<a;)if(48>(l=t.charCodeAt(r))||l>57){A=(46===l?s+t.slice(r+1):t.slice(r))+A,t=t.slice(0,r);break}}v&&!p&&(t=o(t,1/0));var $=f.length+t.length+A.length,E=$<g?new Array(g-$+1).join(e):"";switch(v&&p&&(t=o(E+t,E.length?g-A.length:1/0),E=""),i){case"<":t=f+t+A+E;break;case"=":t=f+E+t+A;break;case"^":t=E.slice(0,$=E.length>>1)+f+t+A+E.slice($);break;default:t=E+f+t+A}return c(t)}return m=void 0===m?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),A.toString=function(){return t+""},A}return{format:d,formatPrefix:function(t,e){var i=d(((t=fu(t)).type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(vu(e)/3))),r=Math.pow(10,-o),a=ku[8+o/3];return function(t){return i(r*t)+a}}}}function Au(t,e,i,o){var r,a=Gl(t,e,i);switch((o=fu(o??",f")).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=o.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vu(e)/3)))-vu(Math.abs(t)))}(a,s))||(o.precision=r),wu(o,s);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vu(e)-vu(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(o.precision=r-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(r=function(t){return Math.max(0,-vu(Math.abs(t)))}(a))||(o.precision=r-2*("%"===o.type))}return _u(o)}function Cu(t){var e=t.domain;return t.ticks=function(t){var i=e();return jl(i[0],i[i.length-1],t??10)},t.tickFormat=function(t,i){var o=e();return Au(o[0],o[o.length-1],t??10,i)},t.nice=function(i){null==i&&(i=10);var o,r,a=e(),s=0,c=a.length-1,l=a[s],u=a[c],h=10;for(u<l&&(r=l,l=u,u=r,r=s,s=c,c=r);h-- >0;){if((r=Yl(l,u,i))===o)return a[s]=l,a[c]=u,e(a);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}o=r}return t},t}function $u(){var t=uu();return t.copy=function(){return cu(t,$u())},Bl.apply(t,arguments),Cu(t)}function Eu(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Du(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mu(){var t=function(t){var e=1,i=t(Eu(e),Du(e));return i.constant=function(i){return arguments.length?t(Eu(e=+i),Du(e)):e},Cu(i)}(lu());return t.copy=function(){return cu(t,Mu()).constant(t.constant())},Bl.apply(t,arguments)}function Ru(t,e){var i,o=0,r=(t=t.slice()).length-1,a=t[o],s=t[r];return s<a&&(i=o,o=r,r=i,i=a,a=s,s=i),t[o]=e.floor(a),t[r]=e.ceil(s),t}function Ou(t){return Math.log(t)}function Iu(t){return Math.exp(t)}function Pu(t){return-Math.log(-t)}function Lu(t){return-Math.exp(-t)}function zu(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Bu(t){return(e,i)=>-t(-e,i)}function Nu(t){const e=t(Ou,Iu),i=e.domain;let o,r,a=10;function s(){return o=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(a),r=function(t){return 10===t?zu:t===Math.E?Math.exp:e=>Math.pow(t,e)}(a),i()[0]<0?(o=Bu(o),r=Bu(r),t(Pu,Lu)):t(Ou,Iu),e}return e.base=function(t){return arguments.length?(a=+t,s()):a},e.domain=function(t){return arguments.length?(i(t),s()):i()},e.ticks=t=>{const e=i();let s=e[0],c=e[e.length-1];const l=c<s;l&&([s,c]=[c,s]);let u,h,d=o(s),f=o(c);const p=null==t?10:+t;let g=[];if(!(a%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),s>0){for(;d<=f;++d)for(u=1;u<a;++u)if(h=d<0?u/r(-d):u*r(d),!(h<s)){if(h>c)break;g.push(h)}}else for(;d<=f;++d)for(u=a-1;u>=1;--u)if(h=d>0?u/r(-d):u*r(d),!(h<s)){if(h>c)break;g.push(h)}2*g.length<p&&(g=jl(s,c,p))}else g=jl(d,f,Math.min(f-d,p)).map(r);return l?g.reverse():g},e.tickFormat=(t,i)=>{if(null==t&&(t=10),null==i&&(i=10===a?"s":","),"function"!=typeof i&&(a%1||null!=(i=fu(i)).precision||(i.trim=!0),i=_u(i)),t===1/0)return i;const s=Math.max(1,a*t/e.ticks().length);return t=>{let e=t/r(Math.round(o(t)));return e*a<a-.5&&(e*=a),e<=s?i(t):""}},e.nice=()=>i(Ru(i(),{floor:t=>r(Math.floor(o(t))),ceil:t=>r(Math.ceil(o(t)))})),e}function Fu(){const t=Nu(lu()).domain([1,10]);return t.copy=()=>cu(t,Fu()).base(t.base()),Bl.apply(t,arguments),t}!function(t){xu=Su(t),_u=xu.format,wu=xu.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const Xu=Si((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));Xu.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?Si((e=>{e.setTime(Math.floor(e/t)*t)}),((e,i)=>{e.setTime(+e+i*t)}),((e,i)=>(i-e)/t)):Xu:null);Xu.range;const Vu=Si((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*Ai)}),((t,e)=>(e-t)/Ai),(t=>t.getUTCSeconds())),Hu=(Vu.range,Si((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ai)}),((t,e)=>{t.setTime(+t+e*Ci)}),((t,e)=>(e-t)/Ci),(t=>t.getMinutes()))),Uu=(Hu.range,Si((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*Ci)}),((t,e)=>(e-t)/Ci),(t=>t.getUTCMinutes()))),ju=(Uu.range,Si((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ai-t.getMinutes()*Ci)}),((t,e)=>{t.setTime(+t+e*$i)}),((t,e)=>(e-t)/$i),(t=>t.getHours()))),Yu=(ju.range,Si((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*$i)}),((t,e)=>(e-t)/$i),(t=>t.getUTCHours()))),Gu=(Yu.range,Si((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),qu=(Gu.range,Si((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth())));qu.range;function Wu(t,e,i,o,r,a){const s=[[Vu,1,Ai],[Vu,5,5e3],[Vu,15,15e3],[Vu,30,3e4],[a,1,Ci],[a,5,3e5],[a,15,9e5],[a,30,18e5],[r,1,$i],[r,3,108e5],[r,6,216e5],[r,12,432e5],[o,1,Ei],[o,2,1728e5],[i,1,Di],[e,1,Mi],[e,3,7776e6],[t,1,Ri]];function c(e,i,o){const r=Math.abs(i-e)/o,a=Zl((([,,t])=>t)).right(s,r);if(a===s.length)return t.every(Gl(e/Ri,i/Ri,o));if(0===a)return Xu.every(Math.max(Gl(e,i,o),1));const[c,l]=s[r/s[a-1][2]<s[a][2]/r?a-1:a];return c.every(l)}return[function(t,e,i){const o=e<t;o&&([t,e]=[e,t]);const r=i&&"function"==typeof i.range?i:c(t,e,i),a=r?r.range(t,+e+1):[];return o?a.reverse():a},c]}const[Zu,Ku]=Wu(Ji,qu,Vi,Ki,Yu,Uu),[Qu,Ju]=Wu(Qi,Gu,Ii,Wi,ju,Hu);function th(t){return new Date(t)}function eh(t){return t instanceof Date?+t:+new Date(+t)}function nh(t,e,i,o,r,a,s,c,l,u){var h=uu(),d=h.invert,f=h.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),x=u("%b %d"),_=u("%B"),w=u("%Y");function T(t){return(l(t)<t?p:c(t)<t?g:s(t)<t?v:a(t)<t?m:o(t)<t?r(t)<t?y:x:i(t)<t?_:w)(t)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?f(Array.from(t,eh)):f().map(th)},h.ticks=function(e){var i=f();return t(i[0],i[i.length-1],e??10)},h.tickFormat=function(t,e){return null==e?T:u(e)},h.nice=function(t){var i=f();return t&&"function"==typeof t.range||(t=e(i[0],i[i.length-1],t??10)),t?f(Ru(i,t)):h},h.copy=function(){return cu(h,nh(t,e,i,o,r,a,s,c,l,u))},h}function ih(){return Bl.apply(nh(Qu,Ju,Qi,Gu,Ii,Wi,ju,Hu,Vu,oo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oh(){return Bl.apply(nh(Zu,Ku,Ji,qu,Vi,Zi,Yu,Uu,Vu,ao).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rh(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function ah(t){this._context=t}function sh(t){return new ah(t)}function ch(){}function lh(t){this._context=t}function uh(t){return new lh(t)}function hh(t){this._context=t}function dh(t){return new hh(t)}function fh(t,e){this._basis=new ah(t),this._beta=e}ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rh(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lh.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rh(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 3:this._point=4;default:rh(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},fh.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var o,r=t[0],a=e[0],s=t[i]-r,c=e[i]-a,l=-1;++l<=i;)o=l/i,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+o*s),this._beta*e[l]+(1-this._beta)*(a+o*c));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const ph=function t(e){function i(t){return 1===e?new ah(t):new fh(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function gh(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function vh(t,e){this._context=t,this._k=(1-e)/6}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gh(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gh(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bh=function t(e){function i(t){return new vh(t,e)}return i.tension=function(e){return t(+e)},i}(0);function mh(t,e){this._context=t,this._k=(1-e)/6}mh.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gh(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yh=function t(e){function i(t){return new mh(t,e)}return i.tension=function(e){return t(+e)},i}(0);function xh(t,e){this._context=t,this._k=(1-e)/6}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gh(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _h=function t(e){function i(t){return new xh(t,e)}return i.tension=function(e){return t(+e)},i}(0),wh=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12);Math.PI;function Th(t,e,i){var o=t._x1,r=t._y1,a=t._x2,s=t._y2;if(t._l01_a>wh){var c=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*c-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*c-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>wh){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-i*t._l12_2a)/h}t._context.bezierCurveTo(o,r,a,s,t._x2,t._y2)}function kh(t,e){this._context=t,this._alpha=e}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Th(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Sh=function t(e){function i(t){return e?new kh(t,e):new vh(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Ah(t,e){this._context=t,this._alpha=e}Ah.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Th(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ch=function t(e){function i(t){return e?new Ah(t,e):new mh(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function $h(t,e){this._context=t,this._alpha=e}$h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+o*o,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Th(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Eh=function t(e){function i(t){return e?new $h(t,e):new xh(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Dh(t){return t<0?-1:1}function Mh(t,e,i){var o=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(o||r<0&&-0),s=(i-t._y1)/(r||o<0&&-0),c=(a*r+s*o)/(o+r);return(Dh(a)+Dh(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(c))||0}function Rh(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function Oh(t,e,i){var o=t._x0,r=t._y0,a=t._x1,s=t._y1,c=(a-o)/3;t._context.bezierCurveTo(o+c,r+c*e,a-c,s-c*i,a,s)}function Ih(t){this._context=t}function Ph(t){this._context=new Lh(t)}function Lh(t){this._context=t}function zh(t){return new Ih(t)}function Bh(t){return new Ph(t)}function Nh(t){this._context=t}function Fh(t){var e,i,o=t.length-1,r=new Array(o),a=new Array(o),s=new Array(o);for(r[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<o-1;++e)r[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[o-1]=2,a[o-1]=7,s[o-1]=8*t[o-1]+t[o],e=1;e<o;++e)i=r[e]/a[e-1],a[e]-=i,s[e]-=i*s[e-1];for(r[o-1]=s[o-1]/a[o-1],e=o-2;e>=0;--e)r[e]=(s[e]-r[e+1])/a[e];for(a[o-1]=(t[o]+r[o-1])/2,e=0;e<o-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function Xh(t){return new Nh(t)}function Vh(t){this._context=t}function Hh(t){return new Vh(t)}function Uh(t){this._context=t}function jh(t){return new Uh(t)}function Yh(t,e){this._context=t,this._t=e}function Gh(t){return new Yh(t,.5)}function qh(t){return new Yh(t,0)}function Wh(t){return new Yh(t,1)}Ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Oh(this,this._t0,Rh(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Oh(this,Rh(this,i=Mh(this,t,e)),i);break;default:Oh(this,this._t0,i=Mh(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(Ph.prototype=Object.create(Ih.prototype)).point=function(t,e){Ih.prototype.point.call(this,e,t)},Lh.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,o,r,a){this._context.bezierCurveTo(e,t,o,i,a,r)}},Nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var o=Fh(t),r=Fh(e),a=0,s=1;s<i;++a,++s)this._context.bezierCurveTo(o[0][a],r[0][a],o[1][a],r[1][a],t[s],e[s]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Vh.prototype={areaStart:ch,areaEnd:ch,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}};Array.prototype.slice;const Zh=Math.PI,Kh=2*Zh,Qh=1e-6,Jh=Kh-Qh;function td(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?td:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return td;const i=10**e;return function(t){this._+=t[0];for(let e=1,o=t.length;e<o;++e)this._+=Math.round(arguments[e]*i)/i+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,i,o){this._append`Q${+t},${+e},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,e,i,o,r,a){this._append`C${+t},${+e},${+i},${+o},${this._x1=+r},${this._y1=+a}`}arcTo(t,e,i,o,r){if(t=+t,e=+e,i=+i,o=+o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let a=this._x1,s=this._y1,c=i-t,l=o-e,u=a-t,h=s-e,d=u*u+h*h;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(d>Qh)if(Math.abs(h*c-l*u)>Qh&&r){let f=i-a,p=o-s,g=c*c+l*l,v=f*f+p*p,m=Math.sqrt(g),y=Math.sqrt(d),x=r*Math.tan((Zh-Math.acos((g+d-v)/(2*m*y)))/2),_=x/y,w=x/m;Math.abs(_-1)>Qh&&this._append`L${t+_*u},${e+_*h}`,this._append`A${r},${r},0,0,${+(h*f>u*p)},${this._x1=t+w*c},${this._y1=e+w*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,i,o,r,a){if(t=+t,e=+e,a=!!a,(i=+i)<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(o),c=i*Math.sin(o),l=t+s,u=e+c,h=1^a,d=a?o-r:r-o;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>Qh||Math.abs(this._y1-u)>Qh)&&this._append`L${l},${u}`,i&&(d<0&&(d=d%Kh+Kh),d>Jh?this._append`A${i},${i},0,1,${h},${t-s},${e-c}A${i},${i},0,1,${h},${this._x1=l},${this._y1=u}`:d>Qh&&this._append`A${i},${i},0,${+(d>=Zh)},${h},${this._x1=t+i*Math.cos(r)},${this._y1=e+i*Math.sin(r)}`)}rect(t,e,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function ed(t){return t}Path.prototype;var nd=1,id=2,od=3,rd=4,ad=1e-6;function sd(t){return"translate("+t+",0)"}function cd(t){return"translate(0,"+t+")"}function ld(t){return e=>+t(e)}function ud(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function hd(){return!this.__axis}function dd(t,e){var i=[],o=null,r=null,a=6,s=6,c=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=t===nd||t===rd?-1:1,h=t===rd||t===id?"x":"y",d=t===nd||t===od?sd:cd;function f(f){var p=o??(e.ticks?e.ticks.apply(e,i):e.domain()),g=r??(e.tickFormat?e.tickFormat.apply(e,i):ed),v=Math.max(a,0)+c,m=e.range(),y=+m[0]+l,x=+m[m.length-1]+l,_=(e.bandwidth?ud:ld)(e.copy(),l),w=f.selection?f.selection():f,T=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(p,e).order(),A=S.exit(),C=S.enter().append("g").attr("class","tick"),$=S.select("line"),E=S.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(C),$=$.merge(C.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),E=E.merge(C.append("text").attr("fill","currentColor").attr(h,u*v).attr("dy",t===nd?"0em":t===od?"0.71em":"0.32em")),f!==w&&(T=T.transition(f),S=S.transition(f),$=$.transition(f),E=E.transition(f),A=A.transition(f).attr("opacity",ad).attr("transform",(function(t){return isFinite(t=_(t))?d(t+l):this.getAttribute("transform")})),C.attr("opacity",ad).attr("transform",(function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:_(t))+l)}))),A.remove(),T.attr("d",t===rd||t===id?s?"M"+u*s+","+y+"H"+l+"V"+x+"H"+u*s:"M"+l+","+y+"V"+x:s?"M"+y+","+u*s+"V"+l+"H"+x+"V"+u*s:"M"+y+","+l+"H"+x),S.attr("opacity",1).attr("transform",(function(t){return d(_(t)+l)})),$.attr(h+"2",u*a),E.attr(h,u*v).text(g),w.filter(hd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===id?"start":t===rd?"end":"middle"),w.each((function(){this.__axis=_}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return i=Array.from(arguments),f},f.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),f):i.slice()},f.tickValues=function(t){return arguments.length?(o=null==t?null:Array.from(t),f):o&&o.slice()},f.tickFormat=function(t){return arguments.length?(r=t,f):r},f.tickSize=function(t){return arguments.length?(a=s=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(s=+t,f):s},f.tickPadding=function(t){return arguments.length?(c=+t,f):c},f.offset=function(t){return arguments.length?(l=+t,f):l},f}function fd(t){return dd(nd,t)}function pd(t){return dd(id,t)}function gd(t){return dd(od,t)}function vd(t){return dd(rd,t)}const bd=t=>+t;function md(t,e,i,o,r){for(var a,s=t.children,c=-1,l=s.length,u=t.value&&(o-e)/t.value;++c<l;)(a=s[c]).y0=i,a.y1=r,a.x0=e,a.x1=e+=a.value*u}function yd(t,e,i,o,r){for(var a,s=t.children,c=-1,l=s.length,u=t.value&&(r-i)/t.value;++c<l;)(a=s[c]).x0=e,a.x1=o,a.y0=i,a.y1=i+=a.value*u}var xd=(1+Math.sqrt(5))/2;function _d(t,e,i,o,r,a){for(var s,c,l,u,h,d,f,p,g,v,m,y=[],x=e.children,_=0,w=0,T=x.length,S=e.value;_<T;){l=r-i,u=a-o;do{h=x[w++].value}while(!h&&w<T);for(d=f=h,m=h*h*(v=Math.max(u/l,l/u)/(S*t)),g=Math.max(f/m,m/d);w<T;++w){if(h+=c=x[w].value,c<d&&(d=c),c>f&&(f=c),m=h*h*v,(p=Math.max(f/m,m/d))>g){h-=c;break}g=p}y.push(s={value:h,dice:l<u,children:x.slice(_,w)}),s.dice?md(s,i,o,r,S?o+=u*h/S:a):yd(s,i,o,S?i+=l*h/S:r,a),S-=h,_=w}return y}(function t(e){function i(t,i,o,r,a){_d(e,t,i,o,r,a)}return i.ratio=function(e){return t((e=+e)>1?e:1)},i})(xd);function wd(t){var e=0,i=t.children,o=i&&i.length;if(o)for(;--o>=0;)e+=i[o].value;else e=1;t.value=e}function Td(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Sd)):void 0===e&&(e=kd);for(var i,o,r,a,s,c=new $d(t),l=[c];i=l.pop();)if((r=e(i.data))&&(s=(r=Array.from(r)).length))for(i.children=r,a=s-1;a>=0;--a)l.push(o=r[a]=new $d(r[a])),o.parent=i,o.depth=i.depth+1;return c.eachBefore(Cd)}function kd(t){return t.children}function Sd(t){return Array.isArray(t)?t[1]:null}function Ad(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Cd(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function $d(t){this.data=t,this.depth=this.height=0,this.parent=null}$d.prototype=Td.prototype={constructor:$d,count:function(){return this.eachAfter(wd)},each:function(t,e){let i=-1;for(const o of this)t.call(e,o,++i,this);return this},eachAfter:function(t,e){for(var i,o,r,a=this,s=[a],c=[],l=-1;a=s.pop();)if(c.push(a),i=a.children)for(o=0,r=i.length;o<r;++o)s.push(i[o]);for(;a=c.pop();)t.call(e,a,++l,this);return this},eachBefore:function(t,e){for(var i,o,r=this,a=[r],s=-1;r=a.pop();)if(t.call(e,r,++s,this),i=r.children)for(o=i.length-1;o>=0;--o)a.push(i[o]);return this},find:function(t,e){let i=-1;for(const o of this)if(t.call(e,o,++i,this))return o},sum:function(t){return this.eachAfter((function(e){for(var i=+t(e.data)||0,o=e.children,r=o&&o.length;--r>=0;)i+=o[r].value;e.value=i}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,i=function(t,e){if(t===e)return t;var i=t.ancestors(),o=e.ancestors(),r=null;t=i.pop(),e=o.pop();for(;t===e;)r=t,t=i.pop(),e=o.pop();return r}(e,t),o=[e];e!==i;)e=e.parent,o.push(e);for(var r=o.length;t!==i;)o.splice(r,0,t),t=t.parent;return o},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(i){i!==t&&e.push({source:i.parent,target:i})})),e},copy:function(){return Td(this).eachBefore(Ad)},[Symbol.iterator]:function*(){var t,e,i,o,r=this,a=[r];do{for(t=a.reverse(),a=[];r=t.pop();)if(yield r,e=r.children)for(i=0,o=e.length;i<o;++i)a.push(e[i])}while(a.length)}};(function t(e){function i(t,i,o,r,a){if((s=t._squarify)&&s.ratio===e)for(var s,c,l,u,h,d=-1,f=s.length,p=t.value;++d<f;){for(l=(c=s[d]).children,u=c.value=0,h=l.length;u<h;++u)c.value+=l[u].value;c.dice?md(c,i,o,r,p?o+=(a-o)*c.value/p:a):yd(c,i,o,p?i+=(r-i)*c.value/p:r,a),p-=c.value}else t._squarify=s=_d(e,t,i,o,r,a),s.ratio=e}return i.ratio=function(e){return t((e=+e)>1?e:1)},i})(xd);function Ed(t){return((t=Math.exp(t))+1/t)/2}const Dd=function t(e,i,o){function r(t,r){var a,s,c=t[0],l=t[1],u=t[2],h=r[0],d=r[1],f=r[2],p=h-c,g=d-l,v=p*p+g*g;if(v<1e-12)s=Math.log(f/u)/e,a=function(t){return[c+t*p,l+t*g,u*Math.exp(e*t*s)]};else{var m=Math.sqrt(v),y=(f*f-u*u+o*v)/(2*u*i*m),x=(f*f-u*u-o*v)/(2*f*i*m),_=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(x*x+1)-x);s=(w-_)/e,a=function(t){var o=t*s,r=Ed(_),a=u/(i*m)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(e*o+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[c+a*p,l+a*g,u*r/Ed(e*o+_)]}}return a.duration=1e3*s*e/Math.SQRT2,a}return r.rho=function(e){var i=Math.max(.001,+e),o=i*i;return t(i,o,o*o)},r}(Math.SQRT2,2,4),Md=t=>()=>t;function Rd(t,{sourceEvent:e,target:i,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Od(t,e,i){this.k=t,this.x=e,this.y=i}Od.prototype={constructor:Od,scale:function(t){return 1===t?this:new Od(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Od(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Id=new Od(1,0,0);function Pd(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Id;return t.__zoom}function Ld(t){t.stopImmediatePropagation()}function zd(t){t.preventDefault(),t.stopImmediatePropagation()}function Bd(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Nd(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Fd(){return this.__zoom||Id}function Xd(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Vd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hd(t,e,i){var o=t.invertX(e[0][0])-i[0][0],r=t.invertX(e[1][0])-i[1][0],a=t.invertY(e[0][1])-i[0][1],s=t.invertY(e[1][1])-i[1][1];return t.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}Pd.prototype=Od.prototype;var Ud="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")(),jd=null==Ud?void 0:Ud.document,Yd=function(t){var e="function"==typeof(null==t?void 0:t.requestAnimationFrame)&&"function"==typeof(null==t?void 0:t.cancelAnimationFrame),i="function"==typeof(null==t?void 0:t.requestIdleCallback)&&"function"==typeof(null==t?void 0:t.cancelIdleCallback),o=function(t){return setTimeout(t,1)},r=function(t){return clearTimeout(t)};return[e?t.requestAnimationFrame:o,e?t.cancelAnimationFrame:r,i?t.requestIdleCallback:o,i?t.cancelIdleCallback:r]}(Ud),Gd=Yd[0],qd=Yd[2],Wd={AREA:"area",AREA_LINE_RANGE:"area-line-range",AREA_SPLINE:"area-spline",AREA_SPLINE_RANGE:"area-spline-range",AREA_STEP:"area-step",BAR:"bar",BUBBLE:"bubble",CANDLESTICK:"candlestick",DONUT:"donut",GAUGE:"gauge",LINE:"line",PIE:"pie",POLAR:"polar",RADAR:"radar",SCATTER:"scatter",SPLINE:"spline",STEP:"step",TREEMAP:"treemap"},Zd={AREA:"initArea",AREA_LINE_RANGE:"initArea",AREA_SPLINE:"initArea",AREA_SPLINE_RANGE:"initArea",AREA_STEP:"initArea",BAR:"initBar",BUBBLE:"initCircle",CANDLESTICK:"initCandlestick",DONUT:"initArc",GAUGE:"initArc",LINE:"initLine",PIE:"initArc",POLAR:"initPolar",RADAR:"initCircle",SCATTER:"initCircle",SPLINE:"initLine",STEP:"initLine",TREEMAP:"initTreemap"},Kd={Area:[Wd.AREA,Wd.AREA_SPLINE,Wd.AREA_SPLINE_RANGE,Wd.AREA_LINE_RANGE,Wd.AREA_STEP],AreaRange:[Wd.AREA_SPLINE_RANGE,Wd.AREA_LINE_RANGE],Arc:[Wd.PIE,Wd.DONUT,Wd.GAUGE,Wd.POLAR,Wd.RADAR],Line:[Wd.LINE,Wd.SPLINE,Wd.AREA,Wd.AREA_SPLINE,Wd.AREA_SPLINE_RANGE,Wd.AREA_LINE_RANGE,Wd.STEP,Wd.AREA_STEP],Step:[Wd.STEP,Wd.AREA_STEP],Spline:[Wd.SPLINE,Wd.AREA_SPLINE,Wd.AREA_SPLINE_RANGE]},Qd=function(){return Qd=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},Qd.apply(this,arguments)};function Jd(t,e,i){if(i||2===arguments.length)for(var o,r=0,a=e.length;r<a;r++)!o&&r in e||(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var tf=function(t){return t||0===t},ef=function(t){return"function"==typeof t},nf=function(t){return"string"==typeof t},of=function(t){return"number"==typeof t},rf=function(t){return void 0===t},af=function(t){return void 0!==t},sf=function(t){return"boolean"==typeof t},cf=function(t){return Math.ceil(t)+.5},lf=function(t){return t[1]-t[0]},uf=function(t){return"object"==typeof t},hf=function(t){return rf(t)||null===t||nf(t)&&0===t.length||uf(t)&&!(t instanceof Date)&&0===Object.keys(t).length||of(t)&&isNaN(t)},df=function(t){return!hf(t)},ff=function(t){return Array.isArray(t)},pf=function(t){return t&&!(null==t?void 0:t.nodeType)&&uf(t)&&!ff(t)};function gf(t,e,i){return af(t[e])?t[e]:i}function vf(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var r=ef(t);return r&&t.call.apply(t,Jd([e],i,!1)),r}function bf(t,e){var i=0,o=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];! --i&&e.apply.apply(e,Jd([this],t,!1))};"duration"in t?t.each((function(){return++i})).on("end",o):(++i,t.call(o))}function mf(t){return nf(t)?t.replace(/<(script|img)?/gi,"&lt;").replace(/(script)?>/gi,"&gt;"):t}function yf(t,e,i,o){if(void 0===i&&(i=[-1,1]),void 0===o&&(o=!1),t&&nf(e))if(-1===e.indexOf("\n"))t.text(e);else{var r=[t.text(),e].map((function(t){return t.replace(/[\s\n]/g,"")}));if(r[0]!==r[1]){var a=e.split("\n"),s=o?a.length-1:1;t.html(""),a.forEach((function(e,o){t.append("tspan").attr("x",0).attr("dy","".concat(0===o?i[0]*s:i[1],"em")).text(e)}))}}}function xf(t){var e=t.getBBox(),i=e.x,o=e.y,r=e.width,a=e.height;return[{x:i,y:o+a},{x:i,y:o},{x:i+r,y:o},{x:i+r,y:o+a}]}function _f(t,e){var i,o=t&&(null===(i=t.touches||t.sourceEvent&&t.sourceEvent.touches)||void 0===i?void 0:i[0]),r=[0,0];try{r=Ar(o||t,e)}catch(t){}return r.map((function(t){return isNaN(t)?0:t}))}function wf(t){var e,i=t.event,o=t.$el,r=o.subchart.main||o.main;return i&&"brush"===i.type?e=i.selection:r&&(e=r.select(".bb-brush").node())&&(e=fl(e)),e}function Tf(t){return!("rect"in t)||"rect"in t&&t.hasAttribute("width")&&t.rect.width!==+t.getAttribute("width")?t.rect=t.getBoundingClientRect():t.rect}function kf(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=0),void 0===i&&(i=1e4);var o=Ud.crypto||Ud.msCrypto,r=o?e+o.getRandomValues(new Uint32Array(1))[0]%(i-e+1):Math.floor(Math.random()*(i-e)+e);return t?String(r):r}function Sf(t,e,i,o,r){if(i>o)return-1;var a=Math.floor((i+o)/2),s=t[a],c=s.x,l=s.w,u=void 0===l?0:l;return r&&(c=t[a].y,u=t[a].h),e>=c&&e<=c+u?a:e<c?Sf(t,e,i,a-1,r):Sf(t,e,a+1,o,r)}function Af(t){var e=wf(t);return!e||e[0]===e[1]}function Cf(t,e){for(var i in void 0===t&&(t={}),ff(e)&&e.forEach((function(e){return Cf(t,e)})),e)/^\d+$/.test(i)||i in t||(t[i]=e[i]);return t}var $f=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};var Ef=function(t){return[].slice.call(t)};function Df(t){var e=t?t.transform:null,i=e&&e.baseVal;return i&&i.numberOfItems?i.getItem(0).matrix:{a:0,b:0,c:0,d:0,e:0,f:0}}function Mf(t){var e=t[0]instanceof Date,i=(e?t.map(Number):t).filter((function(t,e,i){return i.indexOf(t)===e}));return e?i.map((function(t){return new Date(t)})):i}function Rf(t){return t&&t.length?t.reduce((function(t,e){return t.concat(e)})):[]}function Of(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!e.length||1===e.length&&!e[0])return t;var o=e.shift();return pf(t)&&pf(o)&&Object.keys(o).forEach((function(e){var i=o[e];pf(i)?(!t[e]&&(t[e]={}),t[e]=Of(t[e],i)):t[e]=ff(i)?i.concat():i})),Of.apply(void 0,Jd([t],e,!1))}function If(t,e){var i;return void 0===e&&(e=!0),t[0]instanceof Date?i=e?function(t,e){return t-e}:function(t,e){return e-t}:e&&!t.every(isNaN)?i=function(t,e){return t-e}:e||(i=function(t,e){return(t>e?-1:t<e&&1)||t===e&&0}),t.concat().sort(i)}function Pf(t,e){var i=e.filter((function(t){return df(t)}));return i.length?of(i[0])?i=Math[t].apply(Math,i):i[0]instanceof Date&&(i=If(i,"min"===t)[0]):i=void 0,i}var Lf={mouse:function(){try{return new MouseEvent("t"),function(t,e,i){void 0===i&&(i={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0}),t.dispatchEvent(new MouseEvent(e,i))}}catch(t){return function(t,e,i){void 0===i&&(i={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});var o=jd.createEvent("MouseEvent");o.initMouseEvent(e,i.bubbles,i.cancelable,Ud,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}}(),touch:function(t,e,i){var o=new Touch(Of({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},i));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[o],targetTouches:[],changedTouches:[o]}))}};function zf(t,e){var i=t;for(var o in e)i=i.replace(new RegExp("{=".concat(o,"}"),"g"),e[o]);return i}function Bf(t){var e,i;if(t instanceof Date)i=t;else if(nf(t)){var o=this.config;i=null!==(e=this.format.dataTime(o.data_xFormat)(t))&&void 0!==e?e:new Date(t)}else of(t)&&!isNaN(t)&&(i=new Date(+t));return i&&!isNaN(+i)||console&&console.error,i}function Nf(){return!1===(null==jd?void 0:jd.hidden)||"visible"===(null==jd?void 0:jd.visibilityState)}function Ff(t,e){!1===e()?Gd((function(){return Ff(t,e)})):t()}function Xf(t){var e,i=t,o=i.config,r="";if(hf(o.data_type||o.data_types)&&!i[Zd.LINE])r="line";else for(var a in Zd){var s=Wd[a];if(i.hasType(s)&&!i[Zd[a]]){r=s;break}}r&&function(t,e){var i,o="[billboard.js]";null===(i=Ud.console)||void 0===i||i.error;throw Error("".concat(o," ").concat(t.replace(/\%c([a-z-]+)/i,"'$1' ")," ").concat(e))}("Please, make sure if %c".concat((void 0===e&&(e="-"),r.split(e).map((function(t,e){return e?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()})).join(""))),"module has been imported and specified correctly.")}var Vf={button:"bb-button",chart:"bb-chart",empty:"bb-empty",main:"bb-main",target:"bb-target",EXPANDED:"_expanded_"},Hf={arc:"bb-arc",arcLabelLine:"bb-arc-label-line",arcs:"bb-arcs",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsTitle:"bb-chart-arcs-title",needle:"bb-needle"},Uf={area:"bb-area",areas:"bb-areas"},jf={axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label"},Yf={bar:"bb-bar",bars:"bb-bars",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars"},Gf={candlestick:"bb-candlestick",candlesticks:"bb-candlesticks",chartCandlestick:"bb-chart-candlestick",chartCandlesticks:"bb-chart-candlesticks",valueDown:"bb-value-down",valueUp:"bb-value-up"},qf={chartCircles:"bb-chart-circles",circle:"bb-circle",circles:"bb-circles"},Wf={colorPattern:"bb-color-pattern",colorScale:"bb-colorscale"},Zf={dragarea:"bb-dragarea",INCLUDED:"_included_"},Kf={chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsGaugeTitle:"bb-chart-arcs-gauge-title",gaugeValue:"bb-gauge-value"},Qf={legend:"bb-legend",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile"},Jf={chartLine:"bb-chart-line",chartLines:"bb-chart-lines",line:"bb-line",lines:"bb-lines"},tp={eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single"},ep={focused:"bb-focused",defocused:"bb-defocused",legendItemFocused:"bb-legend-item-focused",xgridFocus:"bb-xgrid-focus",ygridFocus:"bb-ygrid-focus"},np={grid:"bb-grid",gridLines:"bb-grid-lines",xgrid:"bb-xgrid",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids"},ip={chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars"},op={region:"bb-region",regions:"bb-regions"},rp={selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",SELECTED:"_selected_"},ap={shape:"bb-shape",shapes:"bb-shapes"},sp={brush:"bb-brush",subchart:"bb-subchart"},cp={chartText:"bb-chart-text",chartTexts:"bb-chart-texts",text:"bb-text",texts:"bb-texts",title:"bb-title",TextOverlapping:"text-overlapping"},lp={tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name"},up={treemap:"bb-treemap",chartTreemap:"bb-chart-treemap",chartTreemaps:"bb-chart-treemaps"},hp={buttonZoomReset:"bb-zoom-reset",zoomBrush:"bb-zoom-brush"},dp=Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd(Qd({},Vf),Hf),Uf),jf),Yf),Gf),qf),Wf),Zf),Kf),Qf),Jf),tp),ep),np),ip),op),rp),ap),sp),cp),lp),up),hp),fp={element:function(){return{chart:null,main:null,svg:null,axis:{x:null,y:null,y2:null,subX:null},defs:null,tooltip:null,legend:null,title:null,subchart:{main:null,bar:null,line:null,area:null},arcs:null,bar:null,candlestick:null,line:null,area:null,circle:null,radar:null,text:null,grid:{main:null,x:null,y:null},gridLines:{main:null,x:null,y:null},region:{main:null,list:null},eventRect:null,zoomResetBtn:null}},state:function(){return{width:0,width2:0,height:0,height2:0,margin:{top:0,bottom:0,left:0,right:0},margin2:{top:0,bottom:0,left:0,right:0},margin3:{top:0,bottom:0,left:0,right:0},arcWidth:0,arcHeight:0,xAxisHeight:0,hasAxis:!1,hasRadar:!1,hasTreemap:!1,cssRule:{},current:{domain:void 0,width:0,height:0,dataMax:0,maxTickSize:{x:{width:0,height:0,ticks:[],clipPath:0,domain:""},y:{width:0,height:0,domain:""},y2:{width:0,height:0,domain:""}},types:[],needle:void 0},isLegendRight:!1,isLegendInset:!1,isLegendTop:!1,isLegendLeft:!1,legendStep:0,legendItemWidth:0,legendItemHeight:0,legendHasRendered:!1,eventReceiver:{currentIdx:-1,rect:{},data:[],coords:[]},axis:{x:{padding:{left:0,right:0},tickCount:0}},rotatedPadding:{left:30,right:0,top:5},withoutFadeIn:{},inputType:"",datetimeId:"",clip:{id:"",idXAxis:"",idYAxis:"",idXAxisTickTexts:"",idGrid:"",idSubchart:"",path:"",pathXAxis:"",pathYAxis:"",pathXAxisTickTexts:"",pathGrid:""},event:null,dragStart:null,dragging:!1,flowing:!1,cancelClick:!1,mouseover:!1,rendered:!1,transiting:!1,redrawing:!1,resizing:!1,toggling:!1,zooming:!1,hasNegativeValue:!1,hasPositiveValue:!0,orgAreaOpacity:"0.2",orgConfig:{},hiddenTargetIds:[],hiddenLegendIds:[],focusedTargetIds:[],defocusedTargetIds:[],radius:0,innerRadius:0,outerRadius:void 0,innerRadiusRatio:0,gaugeArcWidth:0,radiusExpanded:0,xgridAttr:{x1:null,x2:null,y1:null,y2:null}}}},pp=function(){function t(){var t=this;Object.keys(fp).forEach((function(e){t[e]=new fp[e]}))}return t.prototype.getStore=function(t){return this[t]},t}(),gp={bindto:"#chart",background:{},clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding:!0,padding_mode:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,resize_timer:!0,onclick:void 0,onover:void 0,onout:void 0,onresize:void 0,onresized:void 0,onbeforeinit:void 0,oninit:void 0,onafterinit:void 0,onrendered:void 0,transition_duration:250,plugins:[],render:{},regions:[]},vp={boost_useCssRule:!1,boost_useWorker:!1},bp={data_x:void 0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_type:void 0,data_types:{},data_order:"desc",data_groups:[],data_groupsZeroAs:"positive",data_color:void 0,data_colors:{},data_labels:{},data_labels_backgroundColors:void 0,data_labels_colors:void 0,data_labels_position:{},data_hide:!1,data_filter:void 0,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onshown:void 0,data_onhidden:void 0,data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:"csv",data_keys:void 0,data_empty_label_text:""},mp={color_pattern:[],color_tiles:void 0,color_threshold:{},color_onover:void 0},yp={interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{}},xp={legend_contents_bindto:void 0,legend_contents_template:"<span style='color:#fff;padding:5px;background-color:{=COLOR}'>{=TITLE}</span>",legend_equally:!1,legend_hide:!1,legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_interaction:!0,legend_item_dblclick:!1,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_item_tile_width:10,legend_item_tile_height:10,legend_item_tile_r:5,legend_item_tile_type:"rectangle",legend_padding:0,legend_position:"bottom",legend_show:!0,legend_usePoint:!1},_p={title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"center"},wp={tooltip_show:!0,tooltip_doNotHide:!1,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:{},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:void 0,tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_onshown:function(){},tooltip_onhidden:function(){},tooltip_order:null},Tp=function(){function t(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=function(t){if(pf(t)&&t.constructor){var e=new t.constructor;for(var o in t)e[o]=i(t[o]);return e}return t};return t.map((function(t){return i(t)})).reduce((function(t,e){return Qd(Qd({},t),e)}))}(gp,vp,bp,mp,yp,xp,_p,wp,t.data)}return t.setOptions=function(t){this.data=t.reduce((function(t,e){return Qd(Qd({},t),e)}),this.data)},t.data={},t}(),kp="$baseLength",Sp="__colorPattern__",Ap="$dataMinMax",Cp="$dataTotalSum",$p="$totalPerIndex",Ep="legendItemTextBox",Dp="setOverOut",Mp="callOverOutForTouch",Rp="textRect",Op=function(){function t(){this.cache={}}return t.prototype.add=function(t,e,i){return void 0===i&&(i=!1),this.cache[t]=i?this.cloneTarget(e):e,this.cache[t]},t.prototype.remove=function(t){var e=this;(nf(t)?[t]:t).forEach((function(t){return delete e.cache[t]}))},t.prototype.get=function(t,e){if(void 0===e&&(e=!1),e&&Array.isArray(t)){for(var i=[],o=0,r=void 0;r=t[o];o++)r in this.cache&&i.push(this.cloneTarget(this.cache[r]));return i}var a=this.cache[t];return tf(a)?a:null},t.prototype.reset=function(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},t}(),Ip=Ud.setTimeout,Pp=Ud.clearTimeout;function Lp(){var t=[],e=function(e,i){Ff((function(){null==i||i()}),(function(){for(var e,i=0,o=0,r=void 0;r=t[o];o++)if(!0===r||(null===(e=r.empty)||void 0===e?void 0:e.call(r)))i++;else{if(!1===Nf()){i=t.length;break}try{r.transition()}catch(t){i++}}return i===t.length}))};return e.add=function(e){ff(e)?t=t.concat(e):t.push(e)},e}var zp={};function Bp(t,e,i,o){void 0===t&&(t=!0);var r,a,s=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var r=e.apply(void 0,t);i(r)};if(Ud.Worker&&t){var c=function(t,e){var i,o=t.toString(),r=o.replace(/(function|[\s\W\n])/g,"").substring(0,15);return r in zp||(zp[r]=new Ud.Blob(["".concat(null!==(i=null==e?void 0:e.map(String).join(";"))&&void 0!==i?i:"","\n\n\t\t\tself.onmessage=function({data}) {\n\t\t\t\tconst result = (").concat(o,").apply(null, data);\n\t\t\t\tself.postMessage(result);\n\t\t\t};")],{type:"text/javascript"})),Ud.URL.createObjectURL(zp[r])}(e,o),l=(r=c,(a=new Ud.Worker(r)).onerror=function(t){console.error},a);s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.postMessage(t),l.onmessage=function(t){return Ud.URL.revokeObjectURL(c),i(t.data)}}}return s}function Np(t){var e=[];return t.forEach((function(t,i){var o=t[0];t.forEach((function(t,r){if(r>0){if(void 0===e[r-1]&&(e[r-1]={}),void 0===t)throw new Error("Source data is missing a component at (".concat(i,", ").concat(r,")!"));e[r-1][o]=t}}))})),e}function Fp(t){var e=t[0],i=[];return t.forEach((function(t,o){if(o>0){var r={};t.forEach((function(t,i){if(void 0===t)throw new Error("Source data is missing a component at (".concat(o,", ").concat(i,")!"));r[e[i]]=t})),i.push(r)}})),i}function Xp(t,e){var i,o,r=[];if(Array.isArray(t)){i=e.x?e.value.concat(e.x):e.value,r.push(i),t.forEach((function(t){var e=i.map((function(e){var i=function(t,e){if(void 0!==t[e])return t[e];var i=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),o=t;return i.some((function(t){return!(o=o&&t in o?o[t]:void 0)})),o}(t,e);return void 0===i&&(i=null),i}));r.push(e)})),o=Fp(r)}else Object.keys(t).forEach((function(e){var i,o=t[e].concat();null===(i=o.unshift)||void 0===i||i.call(o,e),r.push(o)})),o=Np(r);return o}function Vp(t,e){var i,o=t.rows(e);return 1===o.length?(i=[{}],o[0].forEach((function(t){i[0][t]=null}))):i=t.parse(e),i}function Hp(t){return Vp({rows:Tl,parse:wl},t)}function Up(t){return Vp({rows:Al,parse:Sl},t)}function jp(t,e){var i=t||(null==e?void 0:e.data_keys);return(null==i?void 0:i.x)&&(e.data_x=i.x),i}var Yp={convertData:function(t,e){var i=this.config,o=i.boost_useWorker,r=t;if(t.bindto&&(r={},["url","mimeType","headers","keys","json","keys","rows","columns"].forEach((function(e){var i="data_".concat(e);i in t&&(r[e]=t[i])}))),r.url&&e)!function(t,e,i,o,r){void 0===e&&(e="csv");var a=new XMLHttpRequest,s={csv:Hp,tsv:Up,json:Xp};a.open("GET",t),i&&Object.keys(i).forEach((function(t){a.setRequestHeader(t,i[t])})),a.onreadystatechange=function(){if(4===a.readyState){if(200!==a.status)throw new Error("".concat(t,": Something went wrong loading!"));var i=a.responseText;i&&r.call(this,s[e]("json"===e?JSON.parse(i):i,o))}},a.send()}(r.url,r.mimeType,r.headers,jp(r.keys,i),e);else if(r.json)Bp(o,Xp,e,[Np,Fp])(r.json,jp(r.keys,i));else if(r.rows)Bp(o,Fp,e)(r.rows);else if(r.columns)Bp(o,Np,e)(r.columns);else if(t.bindto)throw Error("url or json or rows or columns is required.")},convertDataToTargets:function(t,e){var i=this,o=this,r=o.axis,a=o.config,s=o.state,c=a.data_type,l=!1,u=!1,h=!1;r&&(l=r.isCategorized(),u=r.isTimeSeries(),h=r.isCustomX());var d,f=Object.keys(t[0]||{}),p=f.length?f.filter(o.isNotX,o):[],g=f.length?f.filter(o.isX,o):[];p.forEach((function(r){var s=i.getXKey(r);h||u?g.indexOf(s)>=0?d=(e&&o.data.xs[r]||[]).concat(t.map((function(t){return t[s]})).filter(tf).map((function(t,e){return o.generateTargetX(t,r,e)}))):a.data_x?d=i.getOtherTargetXs():df(a.data_xs)&&(d=o.getXValuesOfXKey(s,o.data.targets)):d=t.map((function(t,e){return e})),d&&(i.data.xs[r]=d)})),p.forEach((function(t){if(!i.data.xs[t])throw new Error('x is not defined for id = "'.concat(t,'".'))}));var v=p.map((function(e,i){var r=a.data_idConverter.bind(o.api)(e),c=o.getXKey(e),u=h&&l,d=u&&t.map((function(t){return t.x})).every((function(t){return a.axis_x_categories.indexOf(t)>-1})),f=t.__append__,p=null===c&&f?o.api.data.values(e).length:0;return{id:r,id_org:e,values:t.map((function(t,l){var h,g=t[c],v=t[e];return v=null===v||isNaN(v)||pf(v)?ff(v)||pf(v)?v:null:+v,!u&&!s.hasRadar||0!==i||rf(g)?h=o.generateTargetX(g,e,p+l):(d||0!==i||0!==l||f||(a.axis_x_categories=[]),-1===(h=a.axis_x_categories.indexOf(g))&&(h=a.axis_x_categories.length,a.axis_x_categories.push(g))),(rf(v)||o.data.xs[e].length<=l)&&(h=void 0),{x:h,value:v,id:r,index:-1}})).filter((function(t){return af(t.x)}))}}));if(v.forEach((function(t){var e;a.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),t.values.forEach((function(t,e){return t.index=e})),null===(e=o.data.xs[t.id])||void 0===e||e.sort((function(t,e){return t-e}))})),s.hasNegativeValue=o.hasNegativeValueInTargets(v),s.hasPositiveValue=o.hasPositiveValueInTargets(v),c&&o.isValidChartType(c)){var m=o.mapToIds(v).filter((function(t){return!(t in a.data_types)||!o.isValidChartType(a.data_types[t])}));o.setTargetType(m,c)}return v.forEach((function(t){return o.cache.add(t.id_org,t,!0)})),v}},Gp={isX:function(t){var e=this.config,i=e.data_x&&t===e.data_x,o=df(e.data_xs)&&function(t,e){var i=!1;return Object.keys(t).forEach((function(o){return t[o]===e&&(i=!0)})),i}(e.data_xs,t);return i||o},isNotX:function(t){return!this.isX(t)},isStackNormalized:function(){var t=this.config;return!(!t.data_stack_normalize||!t.data_groups.length)},isGrouped:function(t){var e=this.config.data_groups;return t?e.some((function(e){return e.indexOf(t)>=0&&e.length>1})):e.length>0},getXKey:function(t){var e=this.config;return e.data_x?e.data_x:df(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function(t,e){var i,o=this;return(e&&df(e)?o.mapToIds(e):[]).forEach((function(e){o.getXKey(e)===t&&(i=o.data.xs[e])})),i},getIndexByX:function(t,e){return e?e.indexOf(nf(t)?t:+t):(this.filterByX(this.data.targets,t)[0]||{index:null}).index},getXValue:function(t,e){var i=this;return t in i.data.xs&&i.data.xs[t]&&tf(i.data.xs[t][e])?i.data.xs[t][e]:e},getOtherTargetXs:function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function(t){var e=this.config;Object.keys(t).forEach((function(i){e.data_xs[i]=t[i]}))},isMultipleX:function(){return df(this.config.data_xs)||this.hasType("bubble")||this.hasType("scatter")},addName:function(t){var e,i=this.config;return t&&(e=i.data_names[t.id],t.name=void 0!==e?e:t.id),t},getAllValuesOnIndex:function(t,e){void 0===e&&(e=!1);var i=this,o=i.filterTargetsToShow(i.data.targets).map((function(e){return i.addName(i.getValueOnIndex(e.values,t))}));return e&&(o=o.filter((function(t){return t&&"value"in t&&tf(t.value)}))),o},getValueOnIndex:function(t,e){var i=t.filter((function(t){return t.index===e}));return i.length?i[0]:null},updateTargetX:function(t,e){var i=this;t.forEach((function(t){t.values.forEach((function(o,r){o.x=i.generateTargetX(e[r],t.id,r)})),i.data.xs[t.id]=e}))},updateTargetXs:function(t,e){var i=this;t.forEach((function(t){e[t.id]&&i.updateTargetX([t],e[t.id])}))},generateTargetX:function(t,e,i){var o=this,r=o.axis,a=(null==r?void 0:r.isCategorized())?i:t||i;if(null==r?void 0:r.isTimeSeries()){var s=Bf.bind(o);a=s(t||o.getXValue(e,i))}else(null==r?void 0:r.isCustomX())&&!(null==r?void 0:r.isCategorized())&&(a=tf(t)?+t:o.getXValue(e,i));return a},updateXs:function(t){t.length&&(this.axis.xs=t.map((function(t){return t.x})))},getPrevX:function(t){var e=this.axis.xs[t-1];return af(e)?e:null},getNextX:function(t){var e=this.axis.xs[t+1];return af(e)?e:null},getBaseValue:function(t){var e=this,i=e.state.hasAxis,o=t.value;return o&&i&&(e.isAreaRangeType(t)?o=e.getRangedData(t,"mid"):e.isBubbleZType(t)&&(o=e.getBubbleZData(o,"y"))),o},getMinMaxValue:function(t){var e,i,o=this.getBaseValue.bind(this);return(t||this.data.targets.map((function(t){return t.values}))).forEach((function(t,r){var a=t.map(o).filter(of);e=Math.min.apply(Math,Jd([r?e:1/0],a,!1)),i=Math.max.apply(Math,Jd([r?i:-1/0],a,!1))})),{min:e,max:i}},getMinMaxData:function(){var t=this,e=Ap,i=t.cache.get(e);if(!i){var o=t.data.targets.map((function(t){return t.values})),r=t.getMinMaxValue(o),a=[],s=[];o.forEach((function(e){var i=t.getFilteredDataByValue(e,r.min),o=t.getFilteredDataByValue(e,r.max);i.length&&(a=a.concat(i)),o.length&&(s=s.concat(o))})),t.cache.add(e,i={min:a,max:s})}return i},getTotalPerIndex:function(){var t=this,e=$p,i=t.cache.get(e);return!t.config.data_groups.length&&!t.isStackNormalized()||i||(i=[],t.data.targets.forEach((function(t){t.values.forEach((function(t,e){i[e]||(i[e]=0),i[e]+=of(t.value)?t.value:0}))}))),i},getTotalDataSum:function(t){var e=this,i=Cp,o=e.cache.get(i);if(!of(o)){var r=Rf(e.data.targets.map((function(t){return t.values}))).map((function(t){return t.value}));o=r.length?r.reduce((function(t,e){return t+e})):0,e.cache.add(i,o)}return t&&(o-=e.getHiddenTotalDataSum()),o},getHiddenTotalDataSum:function(){var t=this.api,e=this.state.hiddenTargetIds,i=0;return e.length&&(i=t.data.values.bind(t)(e).reduce((function(t,e){return t+e}))),i},getFilteredDataByValue:function(t,e){var i=this;return t.filter((function(t){return i.getBaseValue(t)===e}))},getMaxDataCount:function(){return Math.max.apply(Math,Jd(Jd([],this.data.targets.map((function(t){return t.values.length})),!1),[0],!1))},getMaxDataCountTarget:function(){var t=this.filterTargetsToShow()||[],e=t.length,i=this.config.axis_x_inverted;return e>1?(t=t.map((function(t){return t.values})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.x})),t=If(Mf(t)).map((function(t,e,o){return{x:t,index:i?o.length-e-1:e}}))):e&&(t=t[0].values.concat()),t},mapToIds:function(t){return t.map((function(t){return t.id}))},mapToTargetIds:function(t){return t?ff(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function(t,e){for(var i=this.mapToIds(t),o=0,r=void 0;r=i[o];o++)if(r===e)return!0;return!1},isTargetToShow:function(t){return this.state.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function(t){return this.state.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function(t){var e=this;return(t||e.data.targets).filter((function(t){return e.isTargetToShow(t.id)}))},mapTargetsToUniqueXs:function(t){var e=this.axis,i=[];return(null==t?void 0:t.length)&&(i=Mf(Rf(t.map((function(t){return t.values.map((function(t){return+t.x}))})))),i=(null==e?void 0:e.isTimeSeries())?i.map((function(t){return new Date(+t)})):i.map(Number)),If(i)},addTargetIds:function(t,e){var i=this.state;(ff(e)?e:[e]).forEach((function(e){i[t].indexOf(e)<0&&i[t].push(e)}))},removeTargetIds:function(t,e){var i=this.state;(ff(e)?e:[e]).forEach((function(e){var o=i[t].indexOf(e);o>=0&&i[t].splice(o,1)}))},addHiddenTargetIds:function(t){this.addTargetIds("hiddenTargetIds",t)},removeHiddenTargetIds:function(t){this.removeTargetIds("hiddenTargetIds",t)},addHiddenLegendIds:function(t){this.addTargetIds("hiddenLegendIds",t)},removeHiddenLegendIds:function(t){this.removeTargetIds("hiddenLegendIds",t)},getValuesAsIdKeyed:function(t){var e=this,i=e.state.hasAxis,o={},r=e.isMultipleX(),a=r?e.mapTargetsToUniqueXs(t).map((function(t){return nf(t)?t:+t})):null;return t.forEach((function(t){var s=[];t.values.filter((function(t){var e=t.value;return tf(e)||null===e})).forEach((function(t){var o=t.value;null!==o&&e.isCandlestickType(t)&&(o=ff(o)?o.slice(0,4):[o.open,o.high,o.low,o.close]),ff(o)?s.push.apply(s,o):pf(o)&&"high"in o?s.push.apply(s,Object.values(o)):e.isBubbleZType(t)?s.push(i&&e.getBubbleZData(o,"y")):r?s[e.getIndexByX(t.x,a)]=o:s.push(o)})),o[t.id]=s})),o},checkValueInTargets:function(t,e){for(var i,o=Object.keys(t),r=0;r<o.length;r++){i=t[o[r]].values;for(var a=0;a<i.length;a++)if(e(i[a].value))return!0}return!1},hasMultiTargets:function(){return this.filterTargetsToShow().length>1},hasNegativeValueInTargets:function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},hasPositiveValueInTargets:function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},orderTargets:function(t){var e=Jd([],t,!0),i=this.getSortCompareFn();return i&&e.sort(i),e},getSortCompareFn:function(t){void 0===t&&(t=!1);var e,i=this.config.data_order,o=/asc/i.test(i),r=/desc/i.test(i);if(o||r){var a=function(t,e){return t+Math.abs(e.value)};e=function(e,i){var r="values"in e?e.values.reduce(a,0):e.value,s="values"in i?i.values.reduce(a,0):i.value;return t?o?r-s:s-r:o?s-r:r-s}}else ef(i)&&(e=i.bind(this.api));return e||null},filterByX:function(t,e){return Rf(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},filterRemoveNull:function(t){var e=this;return t.filter((function(t){return tf(e.getBaseValue(t))}))},filterByXDomain:function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},hasDataLabel:function(){var t=this.config.data_labels;return sf(t)&&t||uf(t)&&df(t)},getDataIndexFromEvent:function(t){var e,i=this.config,o=this.state,r=o.hasRadar,a=o.inputType,s=o.eventReceiver,c=s.coords,l=s.rect;if(r){var u=t.target;/tspan/i.test(u.tagName)&&(u=u.parentNode);var h=Fa(u).datum();e=h&&1===Object.keys(h).length?h.index:void 0}else{var d=i.axis_rotated,f="touch"===a&&t.changedTouches?t.changedTouches[0]:t;e=Sf(c,d?f.clientY-l.top:f.clientX-l.left,0,c.length-1,d)}return e},getDataLabelLength:function(t,e,i){var o=this,r=[0,0];return o.$el.chart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return o.dataLabelFormat(t.id)(t)})).each((function(t,e){r[e]=1.3*this.getBoundingClientRect()[i]})).remove(),r},isNoneArc:function(t){return this.hasTarget(this.data.targets,t.id)},isArc:function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function(t,e){var i,o=t[e].x,r=[];for(i=e-1;i>=0&&o===t[i].x;i--)r.push(t[i]);for(i=e;i<t.length&&o===t[i].x;i++)r.push(t[i]);return r},findClosestFromTargets:function(t,e){var i=this,o=t.map((function(t){return i.findClosest(t.values,e)}));return i.findClosest(o,e)},findClosest:function(t,e){var i,o=this,r=o.$el.main,a=t.filter((function(t){return t&&tf(t.value)}));return a.filter((function(t){return o.isBarType(t.id)||o.isCandlestickType(t.id)})).forEach((function(t){var e=o.isBarType(t.id)?".".concat(Yf.chartBar,".").concat(Vf.target).concat(o.getTargetSelectorSuffix(t.id)," .").concat(Yf.bar,"-").concat(t.index):".".concat(Gf.chartCandlestick,".").concat(Vf.target).concat(o.getTargetSelectorSuffix(t.id)," .").concat(Gf.candlestick,"-").concat(t.index," path");!i&&o.isWithinBar(r.select(e).node())&&(i=t)})),a.filter((function(t){return!o.isBarType(t.id)&&!o.isCandlestickType(t.id)})).forEach((function(t){var r=o.dist(t,e);r<o.getPointSensitivity(t)&&(r,i=t)})),i},dist:function(t,e){var i=this,o=i.config.axis_rotated,r=i.scale,a=+o,s=+!o,c=i.circleY(t,t.index),l=(r.zoom||r.x)(t.x);return Math.sqrt(Math.pow(l-e[a],2)+Math.pow(c-e[s],2))},convertValuesToStep:function(t){var e=this.axis,i=this.config.line_step_type,o=!!e&&e.isCategorized(),r=ff(t)?t.concat():[t];if(!o&&!/step\-(after|before)/.test(i))return t;if(r.length){var a=r[0],s=r[r.length-1],c=a.id,l=a.x;r.unshift({x:--l,value:a.value,id:c}),o&&"step-after"===i&&r.unshift({x:--l,value:a.value,id:c}),l=s.x,r.push({x:++l,value:s.value,id:c}),o&&"step-before"===i&&r.push({x:++l,value:s.value,id:c})}return r},convertValuesToRange:function(t){var e=ff(t)?t.concat():[t],i=[];return e.forEach((function(t){var e=t.x,o=t.id;i.push({x:e,id:o,value:t.value[0]}),i.push({x:e,id:o,value:t.value[2]})})),i},updateDataAttributes:function(t,e){var i=this.config["data_".concat(t)];return rf(e)||(Object.keys(e).forEach((function(t){i[t]=e[t]})),this.redraw({withLegend:!0})),i},getRangedData:function(t,e,i){void 0===e&&(e=""),void 0===i&&(i="areaRange");var o=null==t?void 0:t.value;if(ff(o)){if("bar"===i)return o.reduce((function(t,e){return e-t}));var r={areaRange:["high","mid","low"],candlestick:["open","high","low","close","volume"]}[i].indexOf(e);return r>=0&&o?o[r]:void 0}return o&&e?o[e]:o},setRatioForGroupedData:function(t){var e=this;if(e.config.data_groups.length&&t.some((function(t){return e.isGrouped(t.id)}))){var i=function(t){return e.getRatio("index",t,!0)};t.forEach((function(t){"values"in t?t.values.forEach(i):i(t)}))}},getRatio:function(t,e,i){void 0===i&&(i=!1);var o=this,r=o.config,a=o.state,s=o.api,c=0;if(e&&s.data.shown().length)if(c=e.ratio||e.value,"arc"===t)if(o.pie.padAngle()())c=e.value/o.getTotalDataSum(!0);else{var l=r.gauge_fullCircle?o.getArcLength():-2*o.getGaugeStartAngle(),u=o.hasType("gauge")?l:2*Math.PI;c=(e.endAngle-e.startAngle)/u}else if("index"===t){var h=s.data.values.bind(s),d=this.getTotalPerIndex();if(a.hiddenTargetIds.length){var f=h(a.hiddenTargetIds,!1);f.length&&(f=f.reduce((function(t,e){return t.map((function(t,i){return(of(t)?t:0)+e[i]}))})),d=d.map((function(t,e){return t-f[e]})))}var p=d[e.index];e.ratio=of(e.value)&&d&&p?e.value/p:0,c=e.ratio}else if("radar"===t)c=parseFloat(String(Math.max(e.value,0)))/a.current.dataMax*r.radar_size_ratio;else if("bar"===t){var g=o.getYScaleById.bind(o)(e.id).domain().reduce((function(t,e){return e-t}));c=0===g?0:Math.abs(o.getRangedData(e,null,t)/g)}else"treemap"===t&&(c/=o.getTotalDataSum(!0));return i&&c?100*c:c},updateDataIndexByX:function(t){var e=t.reduce((function(t,e,i){return t[Number(e.x)]=i,t}),{});this.data.targets.forEach((function(t){t.values.forEach((function(t,i){var o=e[Number(t.x)];void 0===o&&(o=i),t.index=o}))}))},isBubbleZType:function(t){return this.isBubbleType(t)&&(pf(t.value)&&("z"in t.value||"y"in t.value)||ff(t.value)&&t.value.length>=2)},isBarRangeType:function(t){var e=t.value;return this.isBarType(t)&&ff(e)&&e.length>=2&&e.every((function(t){return of(t)}))},getDataById:function(t){var e,i=this.cache.get(t)||this.api.data(t);return null!==(e=null==i?void 0:i[0])&&void 0!==e?e:i}};function qp(t,e){void 0===e&&(e=!1);var i=this.api;e&&this.api.flush(!0),null==t||t.call(i)}var Wp={load:function(t,e){var i=this,o=i.data,r=e.append,a=t;a&&(e.filter&&(a=a.filter(e.filter)),(e.type||e.types)&&a.forEach((function(t){var o,r=(null===(o=e.types)||void 0===o?void 0:o[t.id])||e.type;i.setTargetType(t.id,r)})),o.targets.forEach((function(t){for(var e=0;e<a.length;e++)if(t.id===a[e].id){t.values=r?t.values.concat(a[e].values):a[e].values,a.splice(e,1);break}})),o.targets=o.targets.concat(a)),i.updateTargets(o.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.updateTypesElements(),qp.call(i,e.done,e.resizeAfter)},loadFromArgs:function(t){var e=this;e.config&&(e.cache.reset(),e.convertData(t,(function(i){var o=t.data||i;t.append&&(o.__append__=!0),o&&e.load(e.convertDataToTargets(o),t)})))},unload:function(t,e){var i=this,o=i.state,r=i.$el,a=i.$T,s=e,c=t;if(i.cache.reset(),s||(s=function(){}),c=c.filter((function(t){return i.hasTarget(i.data.targets,t)})),c&&0!==c.length){var l=r.svg.selectAll(c.map((function(t){return i.selectorTarget(t)})));a(l).style("opacity","0").remove().call(bf,s),c.forEach((function(t){o.withoutFadeIn[t]=!1,r.legend&&r.legend.selectAll(".".concat(Qf.legendItem).concat(i.getTargetSelectorSuffix(t))).remove(),i.data.targets=i.data.targets.filter((function(e){return e.id!==t}))})),o.hasTreemap&&i.updateTargetsForTreemap(i.data.targets),i.updateTypesElements()}else s()}},Zp={setExpand:function(t,e,i){var o=this,r=o.config;o.$el.circle&&r.point_focus_expand_enabled&&o.expandCircles(t,e,i),o.expandBarTypeShapes(!0,t,e,i)},expandBarTypeShapes:function(t,e,i,o){void 0===t&&(t=!0);var r=this;["bar","candlestick"].filter((function(t){return r.$el[t]})).forEach((function(a){o&&r.$el[a].classed(Vf.EXPANDED,!1),r.getShapeByIndex(a,e,i).classed(Vf.EXPANDED,t)}))},setOverOut:function(t,e){var i=this,o=i.config,r=i.state,a=r.hasRadar,s=r.hasTreemap,c=i.$el.main,l=pf(e);if(l||-1!==e){var u=o[t?"data_onover":"data_onout"].bind(i.api);if(o.color_onover&&i.setOverColor(t,e,l),l){var h=s?up.treemap:Hf.arc;u(e,c.select(".".concat(h).concat(i.getTargetSelectorSuffix(e.id))).node())}else if(o.tooltip_grouped)t&&(a&&i.isPointFocusOnly()?i.showCircleFocus(i.getAllValuesOnIndex(e,!0)):i.setExpand(e,null,!0)),!i.isMultipleX()&&c.selectAll(".".concat(ap.shape,"-").concat(e)).each((function(t){u(t,this)}));else{var d=i.cache.get(Dp)||[],f=c.selectAll(".".concat(ap.shape,"-").concat(e)).filter((function(t){return i.isWithinShape(this,t)})),p=f.filter((function(){var t=this;return d.every((function(e){return e!==t}))}));if(!t||f.empty()||d.length===p.size()&&p.nodes().every((function(t,e){return t!==d[e]})))for(;d.length;){var g=d.pop();o.data_onout.bind(i.api)(Fa(g).datum(),g)}p.each((function(){t&&(u(Fa(this).datum(),this),d.push(this))})),i.cache.add(Dp,d)}}},callOverOutForTouch:function(t){var e=this,i=e.cache.get(Mp);(pf(t)&&i?t.id!==i.id:t!==i)&&((i||of(i))&&e.setOverOut(!1,i),(t||of(t))&&e.setOverOut(!0,t),e.cache.add(Mp,t))},getDraggableSelection:function(){var t=this,e=t.config,i=t.state;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?Ol().on("drag",(function(e){i.event=e,t.drag(_f(e,this))})).on("start",(function(e){i.event=e,t.dragstart(_f(e,this))})).on("end",(function(e){i.event=e,t.dragend()})):function(){}},dispatchEvent:function(t,e,i){var o,r,a=this,s=a.config,c=a.state,l=c.eventReceiver,u=c.hasAxis,h=c.hasRadar,d=c.hasTreemap,f=a.$el,p=f.eventRect,g=f.radar,v=f.treemap,m=null===(r=d&&l.rect||h&&g.axes.select(".".concat(jf.axis,"-").concat(e," text"))||p||(null===(o=a.getArcElementByIdOrIndex)||void 0===o?void 0:o.call(a,e)))||void 0===r?void 0:r.node();if(m){var y=a.isMultipleX(),x=s.axis_rotated,_=m.getBoundingClientRect(),w=_.width,T=_.left,S=_.top;if(u&&!h&&!y){var A=l.coords[e];A?(w=A.w,T+=A.x,S+=A.y):(w=0,T=0,S=0)}var C=T+(i?i[0]:0)+(y||x?0:w/2),$=S+(i?i[1]:0)+(x?4:0),E={screenX:C,screenY:$,clientX:C,clientY:$};Lf[/^(mouse|click)/.test(t)?"mouse":"touch"](d?v.node():m,t,E)}},setDragStatus:function(t){this.state.dragging=t},unbindZoomEvent:function(){var t=this.$el,e=t.eventRect,i=t.zoomResetBtn;null==e||e.on(".zoom wheel.zoom .drag",null),null==i||i.on("click",null).style("display","none")},unbindAllEvents:function(){var t,e=this,i=e.$el,o=i.arcs,r=i.eventRect,a=i.legend,s=i.region,c=i.svg,l=i.treemap,u=e.brush,h=["wheel","click","mouseover","mousemove","mouseout","touchstart","touchmove","touchend","touchstart.eventRect","touchmove.eventRect","touchend.eventRect",".brush",".drag",".zoom","wheel.zoom","dblclick.zoom"].join(" ");[c,r,null==s?void 0:s.list,null==u?void 0:u.getSelection(),null==o?void 0:o.selectAll("path"),null==a?void 0:a.selectAll("g"),l].forEach((function(t){return null==t?void 0:t.on(h,null)})),null===(t=e.unbindZoomEvent)||void 0===t||t.call(e)}},Kp={generateClass:function(t,e){return" ".concat(t," ").concat(t+this.getTargetSelectorSuffix(e))},getClass:function(t,e){var i=this,o=/s$/.test(t),r=/^(area|arc|line|treemap)s?$/.test(t),a=o?"id":"index";return function(s){var c=s.data||s;return((e?i.generateClass(dp[o?"shapes":"shape"],c[a]):"")+i.generateClass(dp[t],c[r?"id":a])).trim()}},getChartClass:function(t){var e=this;return function(i){return dp["chart".concat(t)]+e.classTarget((i.data?i.data:i).id)}},generateExtraLineClass:function(){var t=this.config.line_classes||[],e=[];return function(i){var o,r=i.id||(null===(o=i.data)||void 0===o?void 0:o.id)||i;return e.indexOf(r)<0&&e.push(r),t[e.indexOf(r)%t.length]}},classRegion:function(t,e){return"".concat(this.generateClass(dp.region,e)," ").concat("class"in t?t.class:"")},classTarget:function(t){var e=this.config.data_classes[t],i="";return e&&(i=" ".concat(dp.target,"-").concat(e)),this.generateClass(dp.target,t)+i},classFocus:function(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function(t){return" ".concat(this.state.focusedTargetIds.indexOf(t.id)>=0?dp.focused:"")},classDefocused:function(t){return" ".concat(this.state.defocusedTargetIds.indexOf(t.id)>=0?dp.defocused:"")},getTargetSelectorSuffix:function(t){return(t||0===t?"-".concat(t):"").replace(/([\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\])/g,"-")},selectorTarget:function(t,e,i){void 0===e&&(e=""),void 0===i&&(i="");var o=this.getTargetSelectorSuffix(t);return"".concat(e,".").concat(dp.target+o," ").concat(i,", ").concat(e,".").concat(dp.circles+o," ").concat(i)},selectorTargets:function(t,e){var i=this,o=t||[];return o.length?o.map((function(t){return i.selectorTarget(t,e)})):null},selectorLegend:function(t){return".".concat(dp.legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function(t){var e=this;return(null==t?void 0:t.length)?t.map((function(t){return e.selectorLegend(t)})):null}};var Qp=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Jp={generateColor:function(){var t=this,e=t.$el,i=t.config,o=i.data_colors,r=i.data_color,a=[],s=df(i.color_pattern)?i.color_pattern:Fl(function(t){var e=Sp,i=jd.body,o=i[e];if(!o){var r=t.classed(Wf.colorPattern,!0).style("background-image");t.classed(Wf.colorPattern,!1),r.indexOf(";")>-1&&(o=r.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map((function(t){return t.trim().replace(/[\"'\s]/g,"")})).filter(Boolean),i[e]=o)}return o}(e.chart)||Qp).range(),c=s;if(ef(i.color_tiles)){var l=i.color_tiles.bind(t.api)(),u=s.map((function(e,i){var o=e.replace(/[#\(\)\s,]/g,""),r="".concat(t.state.datetimeId,"-pattern-").concat(o,"-").concat(i);return function(t,e,i){var o=Fa(t.cloneNode(!0));return o.attr("id",i).insert("rect",":first-child").attr("width",o.attr("width")).attr("height",o.attr("height")).style("fill",e),{id:i,node:o.node()}}(l[i%l.length],e,r)}));s=u.map((function(t){return"url(#".concat(t.id,")")})),t.patterns=u}return function(e){var l,u,h=e.id||(null===(l=e.data)||void 0===l?void 0:l.id)||e,d=t.isTypeOf(h,["line","spline","step"])||!i.data_types[h];return ef(o[h])?u=o[h].bind(t.api)(e):o[h]?u=o[h]:(a.indexOf(h)<0&&a.push(h),u=d?c[a.indexOf(h)%c.length]:s[a.indexOf(h)%s.length],o[h]=u),ef(r)?r.bind(t.api)(u,e):u}},generateLevelColor:function(){var t=this.config,e=t.color_pattern,i=t.color_threshold,o="value"===i.unit,r=i.max||100,a=i.values&&i.values.length?i.values:[];return df(i)?function(t){for(var i=o?t:100*t/r,s=e[e.length-1],c=0,l=a.length;c<l;c++)if(i<=a[c]){s=e[c];break}return s}:null},generateDataLabelBackgroundColorFilter:function(t){var e=this,i=e.$el,o=e.config,r=e.state,a=t||o.data_labels_backgroundColors;if(a){var s=[];nf(a)?s.push(""):pf(a)&&(s=Object.keys(a)),s.forEach((function(o){var s="".concat(r.datetimeId,"-labels-bg").concat(e.getTargetSelectorSuffix(o)).concat(t?e.getTargetSelectorSuffix(t):"");i.defs.append("filter").attr("x","0").attr("y","0").attr("width","1").attr("height","1").attr("id",s).html('<feFlood flood-color="'.concat(""===o?a:a[o],'" /><feComposite in="SourceGraphic"/>'))}))}},getGradienColortUrl:function(t){return"url(#".concat(this.state.datetimeId,"-gradient").concat(this.getTargetSelectorSuffix(t),")")},updateLinearGradient:function(){var t=this,e=t.config,i=t.data.targets,o=t.state.datetimeId,r=t.$el.defs;i.forEach((function(i){var a="".concat(o,"-gradient").concat(t.getTargetSelectorSuffix(i.id)),s=t.hasPointType()&&e.point_radialGradient,c=t.isAreaType(i)?"area":t.isBarType(i)&&"bar";if((s||c)&&r.select("#".concat(a)).empty()){var l=t.color(i),u={defs:null,stops:[]};if(s){var h=s.cx,d=void 0===h?.3:h,f=s.cy,p=void 0===f?.3:f,g=s.r,v=void 0===g?.7:g,m=s.stops,y=void 0===m?[[.1,l,0],[.9,l,1]]:m;u.stops=y,u.defs=r.append("radialGradient").attr("id","".concat(a)).attr("cx",d).attr("cy",p).attr("r",v)}else{var x=e.axis_rotated,_=e["".concat(c,"_linearGradient")],w=_.x,T=void 0===w?x?[1,0]:[0,0]:w,S=_.y,A=void 0===S?x?[0,0]:[0,1]:S,C=_.stops;y=void 0===C?[[0,l,1],[1,l,0]]:C;u.stops=y,u.defs=r.append("linearGradient").attr("id","".concat(a)).attr("x1",T[0]).attr("x2",T[1]).attr("y1",A[0]).attr("y2",A[1])}u.stops.forEach((function(e){var o=e[0],r=e[1],a=e[2],s=ef(r)?r.bind(t.api)(i.id):r;u.defs&&u.defs.append("stop").attr("offset",o).attr("stop-color",s||l).attr("stop-opacity",a)}))}}))},setOverColor:function(t,e){var i=this,o=i.config,r=i.$el.main,a=o.color_onover,s=t?a:i.color;pf(s)?s=function(t){var e=t.id;return e in a?a[e]:i.color(e)}:nf(s)?s=function(){return a}:ef(a)&&(s=s.bind(i.api)),r.selectAll(pf(e)?".".concat(Hf.arc).concat(i.getTargetSelectorSuffix(e.id)):".".concat(ap.shape,"-").concat(e)).style("fill",s)}},tg={getYDomainMinMax:function(t,e){var i=this,o=i.axis,r=i.config,a="min"===e,s=r.data_groups,c=i.mapToIds(t),l=i.getValuesAsIdKeyed(t);if(s.length>0){var u=i["has".concat(a?"Negative":"Positive","ValueInTargets")](t);s.forEach((function(t){var e=t.filter((function(t){return c.indexOf(t)>=0}));if(e.length){var i=e[0],r=o.getId(i);u&&l[i]&&(l[i]=l[i].map((function(t){return(a?t<0:t>0)?t:0}))),e.filter((function(t,e){return e>0})).forEach((function(t){if(l[t]){var e=o.getId(t);l[t].forEach((function(t,o){var s=+t;e!==r||u&&(a?s>0:s<0)||(l[i][o]+=s)}))}}))}}))}return Pf(e,Object.keys(l).map((function(t){return Pf(e,l[t])})))},isHiddenTargetWithYDomain:function(t){var e=this;return e.state.hiddenTargetIds.some((function(i){return e.axis.getId(i)===t}))},getYDomain:function(t,e,i){var o=this,r=o.axis,a=o.config,s=o.scale,c="axis_".concat(e);if(o.isStackNormalized())return[0,100];var l=(null==s?void 0:s[e])&&"log"===s[e].type,u=t.filter((function(t){return r.getId(t.id)===e})),h=i?o.filterByXDomain(u,i):u;if(0===h.length)return o.isHiddenTargetWithYDomain(e)?s[e].domain():"y2"===e?s.y.domain():o.getYDomain(t,"y2",i);var d=a["".concat(c,"_min")],f=a["".concat(c,"_max")],p=a["".concat(c,"_center")],g=a["".concat(c,"_inverted")],v=o.hasDataLabel()&&a.axis_rotated,m=o.hasDataLabel()&&!a.axis_rotated,y=o.getYDomainMinMax(h,"min"),x=o.getYDomainMinMax(h,"max"),_=Jd([Wd.BAR,Wd.BUBBLE,Wd.SCATTER],Kd.Line,!0).some((function(t){var e=t.indexOf("area")>-1?"area":t;return o.hasType(t,h,!0)&&a["".concat(e,"_zerobased")]}));y=tf(d)?d:tf(f)?y<=f?y:f-10:y,x=tf(f)?f:tf(d)?d<=x?x:d+10:x,isNaN(y)&&(y=0),isNaN(x)&&(x=y),y===x&&(y<0?x=0:y=0);var w=y>=0&&x>=0,T=y<=0&&x<=0;(tf(d)&&w||tf(f)&&T)&&(_=!1),_&&(w&&(y=0),T&&(x=0));var S=Math.abs(x-y),A={top:.1*S,bottom:.1*S};if(af(p)){var C=Math.max(Math.abs(y),Math.abs(x));x=p+C,y=p-C}if(v){var $=lf(s.y.range()),E=o.getDataLabelLength(y,x,"width").map((function(t){return t/$}));["bottom","top"].forEach((function(t,e){A[t]+=S*(E[e]/(1-E[0]-E[1]))}))}else if(m){var D=o.getDataLabelLength(y,x,"height");["bottom","top"].forEach((function(t,e){A[t]+=o.convertPixelToScale("y",D[e],S)}))}A=o.getResettedPadding(A);var O=a["".concat(c,"_padding")];df(O)&&["bottom","top"].forEach((function(t){A[t]=r.getPadding(O,t,A[t],S)})),_&&(w&&(A.bottom=y),T&&(A.top=-x));var P=l?[y,x].map((function(t){return t<0?0:t})):[y-A.bottom,x+A.top];return g?P.reverse():P},getXDomainMinMax:function(t,e){var i,o=this.config["axis_x_".concat(e)],r=Pf(e,t.map((function(t){return Pf(e,t.values.map((function(t){return t.x})))}))),a=pf(o)?o.value:o;return a=af(a)&&(null===(i=this.axis)||void 0===i?void 0:i.isTimeSeries())?Bf.bind(this)(a):a,pf(o)&&o.fit&&("min"===e&&a<r||"max"===e&&a>r)&&(a=void 0),af(a)?a:r},getXDomainPadding:function(t,e){var i,o=this,r=o.axis,a=o.config.axis_x_padding,s=r.isTimeSeries()&&e,c=lf(t);if(r.isCategorized()||s)i=0;else if(o.hasType("bar")){var l=o.getMaxDataCount();i=l>1?c/(l-1)/2:.5}else i=o.getResettedPadding(.01*c);var u=of(a)?{left:a,right:a}:a,h=u.left,d=void 0===h?i:h,f=u.right,p=void 0===f?i:f;if("px"===a.unit){var g=Math.abs(c+.2*c);d=r.getPadding(a,"left",i,g),p=r.getPadding(a,"right",i,g)}else{var v=c+d+p;if(s&&v){var m=c/e/v;d=d/v/m,p=p/v/m}}return{left:d,right:p}},getXDomain:function(t){var e=this,i=e.axis,o=e.config,r=e.scale.x,a=o.axis_x_inverted,s=[e.getXDomainMinMax(t,"min"),e.getXDomainMinMax(t,"max")],c=s[0],l=void 0===c?0:c,u=s[1],h=void 0===u?0:u;if("log"!==r.type){var d=i.isCategorized(),f=i.isTimeSeries(),p=e.getXDomainPadding(s),g=s[0],v=s[1];g-v!=0||d||(f?(g=new Date(.5*g.getTime()),v=new Date(1.5*v.getTime())):(g=0===g?1:.5*g,v=0===v?-1:1.5*v)),(g||0===g)&&(l=f?new Date(g.getTime()-p.left):g-p.left),(v||0===v)&&(h=f?new Date(v.getTime()+p.right):v+p.right)}return a?[h,l]:[l,h]},updateXDomain:function(t,e,i,o,r){var a,s=this,c=s.config,l=s.org,u=s.scale,h=u.x,d=u.subX,f=c.zoom_enabled;if(i&&(h.domain(r||If(s.getXDomain(t),!c.axis_x_inverted)),l.xDomain=h.domain(),d.domain(h.domain()),null===(a=s.brush)||void 0===a||a.scale(d)),e){var p=r||!s.brush||Af(s)?l.xDomain:wf(s).map(d.invert);h.domain(p)}return(i||e)&&f&&s.zoom.updateScaleExtent(),o&&h.domain(s.trimXDomain(h.orgDomain())),h.domain()},trimXDomain:function(t){var e=this.config.axis_x_inverted,i=this.getZoomDomain(),o=i[0],r=i[1];return(e?t[0]>=o:t[0]<=o)&&(t[1]=+t[1]+(o-t[0]),t[0]=o),(e?t[1]<=r:t[1]>=r)&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},getZoomDomain:function(t,e){void 0===t&&(t="zoom"),void 0===e&&(e=!1);var i=this,o=i.config,r=i.scale,a=i.org,s=e&&r[t]?r[t].domain():a.xDomain,c=s[0],l=s[1];return"zoom"===t&&(af(o.zoom_x_min)&&(c=Pf("min",[c,o.zoom_x_min])),af(o.zoom_x_max)&&(l=Pf("max",[l,o.zoom_x_max]))),[c,l]},convertPixelToScale:function(t,e,i){var o=this.config,r=this.state,a=o.axis_rotated;return i*(e/r["x"===t?a?"height":"width":a?"width":"height"])},withinRange:function(t,e,i){var o=this.config.axis_x_inverted,r=i,a=r[0],s=r[1];if(Array.isArray(t)){var c=Jd([],t,!0);if(o&&c.reverse(),c[0]<c[1])return t.every((function(i,r){return(0===r?o?+i<=a:+i>=a:o?+i>=s:+i<=s)&&!t.every((function(t,i){return t===e[i]}))}))}return!1}};function eg(t,e,i){var o=t.config,r="axis_".concat(e,"_tick_format");return(o[r]?o[r]:t.defaultValueFormat).call(t.api,i)}var ng={yFormat:function(t){return eg(this,"y",t)},y2Format:function(t){return eg(this,"y2",t)},getDefaultValueFormat:function(){var t=this,e=t.defaultArcValueFormat,i=t.yFormat,o=t.y2Format,r=t.hasArcType(null,["gauge","polar","radar"]);return function(a,s,c){return(r?e:t.axis&&"y2"===t.axis.getId(c)?o:i).call(t,a,s)}},defaultValueFormat:function(t){return ff(t)?t.join("~"):tf(t)?+t:""},defaultArcValueFormat:function(t,e){return"".concat((100*e).toFixed(1),"%")},defaultPolarValueFormat:function(t){return"".concat(t)},dataLabelFormat:function(t){var e=this.config.data_labels,i=function(t){var e=t;return ff(t)?e=t.join("~"):pf(t)&&(e=Object.values(t).join("~")),e},o=i;return ef(e.format)?o=e.format:uf(e.format)&&(o=e.format[t]?!0===e.format[t]?i:e.format[t]:function(){return""}),o.bind(this.api)}};function ig(t){var e=this,i=e.getDataById(t);return e.levelColor?e.levelColor(i.values[0].value):e.color(i)}var og={initLegend:function(){var t=this,e=t.config,i=t.$el;t.legendItemTextBox={},t.state.legendHasRendered=!1,e.legend_show?(e.legend_contents_bindto||(i.legend=t.$el.svg.append("g").classed(Qf.legend,!0).attr("transform",t.getTranslate("legend"))),t.updateLegend()):t.state.hiddenLegendIds=t.mapToIds(t.data.targets)},updateLegend:function(t,e,i){var o,r=this,a=r.config,s=r.state,c=r.scale,l=r.$el,u=e||{withTransform:!1,withTransitionForTransform:!1,withTransition:!1};u.withTransition=gf(u,"withTransition",!0),u.withTransitionForTransform=gf(u,"withTransitionForTransform",!0),a.legend_contents_bindto&&a.legend_contents_template?r.updateLegendTemplate():s.hasTreemap||r.updateLegendElement(t||r.mapToIds(r.data.targets),u,i),null===(o=l.legend)||void 0===o||o.selectAll(".".concat(Qf.legendItem)).classed(Qf.legendItemHidden,(function(t){var e=!r.isTargetToShow(t);return e&&(this.style.opacity=null),e})),r.updateScales(!1,!c.zoom),r.updateSvgSize(),r.transformAll(u.withTransitionForTransform,i),s.legendHasRendered=!0},updateLegendTemplate:function(){var t=this,e=t.config,i=t.$el,o=Fa(e.legend_contents_bindto),r=e.legend_contents_template;if(!o.empty()){var a=t.mapToIds(t.data.targets),s=[],c="";a.forEach((function(e){var i=ef(r)?r.bind(t.api)(e,t.color(e),t.api.data(e)[0].values):zf(r,{COLOR:t.color(e),TITLE:e});i&&(s.push(e),c+=i)}));var l=o.html(c).selectAll((function(){return this.childNodes})).data(s);t.setLegendItem(l),i.legend=o}},updateSizeForLegend:function(t){var e=this,i=e.config,o=e.state,r=o.isLegendTop,a=o.isLegendLeft,s=o.isLegendRight,c=o.isLegendInset,l=o.current,u=t.width,h=t.height,d={top:r?e.getCurrentPaddingByDirection("top")+i.legend_inset_y+5.5:l.height-h-e.getCurrentPaddingByDirection("bottom")-i.legend_inset_y,left:a?e.getCurrentPaddingByDirection("left")+i.legend_inset_x+.5:l.width-u-e.getCurrentPaddingByDirection("right")-i.legend_inset_x+.5};e.state.margin3={top:s?0:c?d.top:l.height-h,right:NaN,bottom:0,left:s?l.width-u:c?d.left:0}},transformLegend:function(t){var e=this,i=e.$el.legend;(0,e.$T)(i,t).attr("transform",e.getTranslate("legend"))},updateLegendStep:function(t){this.state.legendStep=t},updateLegendItemWidth:function(t){this.state.legendItemWidth=t},updateLegendItemHeight:function(t){this.state.legendItemHeight=t},updateLegendItemColor:function(t,e){var i=this.$el.legend;i&&i.select(".".concat(Qf.legendItem,"-").concat(t," line")).style("stroke",e)},getLegendWidth:function(){var t=this.state,e=t.current.width,i=t.isLegendRight,o=t.isLegendInset,r=t.legendItemWidth,a=t.legendStep;return this.config.legend_show?i||o?r*(a+1):e:0},getLegendHeight:function(){var t,e=this,i=e.state,o=i.current,r=i.isLegendRight,a=i.legendItemHeight,s=i.legendStep,c="fit"===(null===(t=e.config.padding)||void 0===t?void 0:t.mode);return e.config.legend_show?r?o.height:(c?10:Math.max(20,a))*(s+1):0},opacityForUnfocusedLegend:function(t){return t.classed(Qf.legendItemHidden)?null:"0.3"},toggleFocusLegend:function(t,e){var i=this,o=i.$el.legend,r=i.$T,a=i.mapToTargetIds(t);o&&r(o.selectAll(".".concat(Qf.legendItem)).filter((function(t){return a.indexOf(t)>=0})).classed(ep.legendItemFocused,e)).style("opacity",(function(){return e?null:i.opacityForUnfocusedLegend.call(i,Fa(this))}))},revertLegend:function(){var t=this.$el.legend,e=this.$T;t&&e(t.selectAll(".".concat(Qf.legendItem)).classed(ep.legendItemFocused,!1)).style("opacity",null)},showLegend:function(t){var e=this,i=e.config,o=e.$el,r=e.$T;i.legend_show||(i.legend_show=!0,o.legend?o.legend.style("visibility",null):e.initLegend(),!e.state.legendHasRendered&&e.updateLegend()),e.removeHiddenLegendIds(t),r(o.legend.selectAll(e.selectorLegends(t)).style("visibility",null)).style("opacity",null)},hideLegend:function(t){var e=this,i=e.config,o=e.$el.legend;i.legend_show&&hf(t)&&(i.legend_show=!1,o.style("visibility","hidden")),e.addHiddenLegendIds(t),o.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},getLegendItemTextBox:function(t,e){var i,o=this,r=o.cache,a=o.state,s=Ep;return t&&((i=!a.redrawing&&r.get(s)||{})[t]||(i[t]=o.getTextRect(e,Qf.legendItem),r.add(s,i)),i=i[t]),i},setLegendItem:function(t){var e=this,i=e.$el,o=e.api,r=e.config,a=e.state,s="touch"===a.inputType,c=e.hasType("gauge"),l=r.boost_useCssRule,u=r.legend_item_interaction;t.attr("class",(function(t){var i=Fa(this);return(!i.empty()&&i.attr("class")||"")+e.generateClass(Qf.legendItem,t)})).style("visibility",(function(t){return e.isLegendToShow(t)?null:"hidden"})),r.interaction_enabled&&(l&&[[".".concat(Qf.legendItem),"cursor:pointer"],[".".concat(Qf.legendItem," text"),"pointer-events:none"],[".".concat(Qf.legendItemPoint," text"),"pointer-events:none"],[".".concat(Qf.legendItemTile),"pointer-events:none"],[".".concat(Qf.legendItemEvent),"fill-opacity:0"]].forEach((function(t){var o=t[0],r=t[1];e.setCssRule(!1,o,[r])(i.legend)})),t.on(u.dblclick?"dblclick":"click",u||ef(r.legend_item_onclick)?function(t,i){if(!vf(r.legend_item_onclick,o,i)){var c=t.altKey,l=t.target;"dblclick"===t.type||c?a.hiddenTargetIds.length&&-1===l.parentNode.getAttribute("class").indexOf(Qf.legendItemHidden)?o.show():(o.hide(),o.show(i)):(o.toggle(i),Fa(this).classed(ep.legendItemFocused,!1))}s&&e.hideTooltip()}:null),!s&&t.on("mouseout",u||ef(r.legend_item_onout)?function(t,i){vf(r.legend_item_onout,o,i)||(Fa(this).classed(ep.legendItemFocused,!1),c&&e.undoMarkOverlapped(e,".".concat(Kf.gaugeValue)),e.api.revert())}:null).on("mouseover",u||ef(r.legend_item_onover)?function(t,i){vf(r.legend_item_onover,o,i)||(Fa(this).classed(ep.legendItemFocused,!0),c&&e.markOverlapped(i,e,".".concat(Kf.gaugeValue)),!a.transiting&&e.isTargetToShow(i)&&o.focus(i))}:null),!t.empty()&&t.on("click mouseout mouseover")&&t.style("cursor",e.getStylePropValue("pointer")))},updateLegendElement:function(t,e){var i,o,r,a=this,s=a.config,c=a.state,l=a.$el.legend,u=a.$T,h="circle"!==s.legend_item_tile_type,d=s.legend_item_tile_r,f={width:h?s.legend_item_tile_width:2*d,height:h?s.legend_item_tile_height:2*d},p={padding:{top:4,right:10},max:{width:0,height:0},posMin:10,step:0,tileWidth:f.width+5,totalLength:0},g={offsets:{},widths:{},heights:{},margins:[0],steps:{}},v=t.filter((function(t){return!af(s.data_names[t])||null!==s.data_names[t]})),m=e.withTransition,y=a.getUpdateLegendPositions(v,p,g);c.isLegendInset&&(p.step=s.legend_inset_step?s.legend_inset_step:v.length,a.updateLegendStep(p.step)),c.isLegendRight?(i=function(t){return p.max.width*g.steps[t]},o=function(t){return g.margins[g.steps[t]]+g.offsets[t]}):c.isLegendInset?(i=function(t){return p.max.width*g.steps[t]+10},o=function(t){return g.margins[g.steps[t]]+g.offsets[t]}):(i=function(t){return g.margins[g.steps[t]]+g.offsets[t]},o=function(t){return p.max.height*g.steps[t]});var x={xText:function(t,e){return i(t,e)+4+f.width},xRect:function(t,e){return i(t,e)},x1Tile:function(t,e){return i(t,e)-2},x2Tile:function(t,e){return i(t,e)-2+f.width},yText:function(t,e){return o(t,e)+9},yRect:function(t,e){return o(t,e)-5},yTile:function(t,e){return o(t,e)+4}};a.generateLegendItem(v,f,y,x),r=l.select(".".concat(Qf.legendBackground," rect")),c.isLegendInset&&p.max.width>0&&0===r.size()&&(r=l.insert("g",".".concat(Qf.legendItem)).attr("class",Qf.legendBackground).append("rect"));var _=l.selectAll("text").data(v).text((function(t){return af(s.data_names[t])?s.data_names[t]:t})).each((function(t,e){y(this,t,e)}));u(_,m).attr("x",x.xText).attr("y",x.yText),u(l.selectAll("rect.".concat(Qf.legendItemEvent)).data(v),m).attr("width",(function(t){return g.widths[t]})).attr("height",(function(t){return g.heights[t]})).attr("x",x.xRect).attr("y",x.yRect),a.updateLegendItemPos(v,m,x),r&&u(r,m).attr("height",a.getLegendHeight()-12).attr("width",p.max.width*(p.step+1)+10),a.updateLegendItemWidth(p.max.width),a.updateLegendItemHeight(p.max.height),a.updateLegendStep(p.step)},getUpdateLegendPositions:function(t,e,i){var o=this,r=o.config,a=o.state,s=a.isLegendRight||a.isLegendInset;return function(c,l,u){var h,d=0===u,f=u===t.length-1,p=o.getLegendItemTextBox(l,c),g=p.width+e.tileWidth+(f&&!s?0:e.padding.right)+r.legend_padding,v=p.height+e.padding.top,m=s?v:g,y=s?o.getLegendHeight():o.getLegendWidth(),x=function(t,o){o||(h=(y-e.totalLength-m)/2)<e.posMin&&(h=(y-m)/2,e.totalLength=0,e.step++),i.steps[t]=e.step,i.margins[e.step]=a.isLegendInset?10:h,i.offsets[t]=e.totalLength,e.totalLength+=m};if(d&&(e.totalLength=0,e.step=0,e.max.width=0,e.max.height=0),r.legend_show&&!o.isLegendToShow(l))return i.widths[l]=0,i.heights[l]=0,i.steps[l]=0,void(i.offsets[l]=0);i.widths[l]=g,i.heights[l]=v,(!e.max.width||g>=e.max.width)&&(e.max.width=g),(!e.max.height||v>=e.max.height)&&(e.max.height=v);var _=s?e.max.height:e.max.width;r.legend_equally?(Object.keys(i.widths).forEach((function(t){return i.widths[t]=e.max.width})),Object.keys(i.heights).forEach((function(t){return i.heights[t]=e.max.height})),(h=(y-_*t.length)/2)<e.posMin?(e.totalLength=0,e.step=0,t.forEach((function(t){return x(t)}))):x(l,!0)):x(l)}},generateLegendItem:function(t,e,i,o){var r=this,a=r.config,s=r.state,c=r.$el.legend,l=a.legend_usePoint,u=a.legend_item_tile_r,h=a.legend_item_tile_type,d="circle"!==h,f=s.isLegendRight||s.isLegendInset,p=-200,g=c.selectAll(".".concat(Qf.legendItem)).data(t).enter().append("g");if(r.setLegendItem(g),g.append("text").text((function(t){return af(a.data_names[t])?a.data_names[t]:t})).each((function(t,e){i(this,t,e)})).style("pointer-events",r.getStylePropValue("none")).attr("x",f?o.xText:p).attr("y",f?p:o.yText),g.append("rect").attr("class",Qf.legendItemEvent).style("fill-opacity",r.getStylePropValue("0")).attr("x",f?o.xRect:p).attr("y",f?p:o.yRect),l){var v=[];g.append((function(t){var e=df(a.point_pattern)?a.point_pattern:[a.point_type];-1===v.indexOf(t)&&v.push(t);var i=e[v.indexOf(t)%e.length];return"rectangle"===i&&(i="rect"),jd.createElementNS(Yr.svg,"hasValidPointType"in r&&r.hasValidPointType(i)?i:"use")})).attr("class",Qf.legendItemPoint).style("fill",ig.bind(r)).style("pointer-events",r.getStylePropValue("none")).attr("href",(function(t,e,i){var o=i[e].nodeName.toLowerCase(),a=r.getTargetSelectorSuffix(t);return"use"===o?"#".concat(s.datetimeId,"-point").concat(a):void 0}))}else g.append(d?"line":h).attr("class",Qf.legendItemTile).style("stroke",ig.bind(r)).style("pointer-events",r.getStylePropValue("none")).call((function(t){"circle"===h?t.attr("r",u).style("fill",ig.bind(r)).attr("cx",f?o.x2Tile:p).attr("cy",f?p:o.yTile):d&&t.attr("stroke-width",e.height).attr("x1",f?o.x1Tile:p).attr("y1",f?p:o.yTile).attr("x2",f?o.x2Tile:p).attr("y2",f?p:o.yTile)}))},updateLegendItemPos:function(t,e,i){var o=this,r=o.config,a=o.$el.legend,s=o.$T,c=r.legend_usePoint,l=r.legend_item_tile_type,u="circle"!==l;c?s(a.selectAll(".".concat(Qf.legendItemPoint)).data(t),e).each((function(){var t=this.nodeName.toLowerCase(),e=r.point_r,o="x",a="y",s=2,c=2.5,l=null,u=null,h=null;if("circle"===t)o="cx",a="cy",l=e+(d=.2*e),s=2*e,c=-d;else if("rect"===t){var d;u=d=2.5*e,h=d,c=3}Fa(this).attr(o,(function(t){return i.x1Tile(t)+s})).attr(a,(function(t){return i.yTile(t)-c})).attr("r",l).attr("width",u).attr("height",h)})):s(a.selectAll(".".concat(Qf.legendItemTile)).data(t),e).style("stroke",ig.bind(o)).call((function(t){"circle"===l?t.attr("cx",(function(t){var e=i.x2Tile(t);return e-(e-i.x1Tile(t))/2})).attr("cy",i.yTile):u&&t.attr("x1",i.x1Tile).attr("y1",i.yTile).attr("x2",i.x2Tile).attr("y2",i.yTile)}))}},rg={redraw:function(t){var e,i,o;void 0===t&&(t={});var r=this,a=r.config,s=r.state,c=r.$el,l=c.main,u=c.treemap;s.redrawing=!0;var h=r.filterTargetsToShow(r.data.targets),d=t.flow,f=t.initializing,p=r.getWithOption(t),g=p.Transition?a.transition_duration:0,v=p.TransitionForExit?g:0,m=p.TransitionForAxis?g:0,y=null===(e=r.axis)||void 0===e?void 0:e.generateTransitions(m);r.updateSizes(f),p.Legend&&a.legend_show?(t.withTransition=!!g,!u&&r.updateLegend(r.mapToIds(r.data.targets),t,y)):p.Dimension&&r.updateDimension(!0),a.data_empty_label_text&&l.select("text.".concat(cp.text,".").concat(Vf.empty)).attr("x",s.width/2).attr("y",s.height/2).text(a.data_empty_label_text).style("display",h.length?"none":null),s.hasAxis?(r.axis.redrawAxis(h,p,y,d,f),r.hasGrid()&&r.updateGrid(),a.regions.length&&r.updateRegion(),["bar","candlestick","line","area"].forEach((function(t){var e=$f(t);(/^(line|area)$/.test(t)&&r.hasTypeOf(e)||r.hasType(t))&&r["update".concat(e)](p.TransitionForExit)})),c.text&&l.selectAll(".".concat(rp.selectedCircles)).filter(r.isBarType.bind(r)).selectAll("circle").remove(),a.interaction_enabled&&!d&&p.EventRect&&(r.redrawEventRect(),null===(i=r.bindZoomEvent)||void 0===i||i.call(r))):(c.arcs&&r.redrawArc(g,v,p.Transform),c.radar&&r.redrawRadar(),c.polar&&r.redrawPolar(),u&&r.updateTreemap(v)),s.resizing||u||!r.hasPointType()&&!s.hasRadar||r.updateCircle(),r.hasDataLabel()&&!r.hasArcType(null,["radar"])&&r.updateText(),null===(o=r.redrawTitle)||void 0===o||o.call(r),f&&r.updateTypesElements(),r.generateRedrawList(h,d,g,p.Subchart),r.updateTooltipOnRedraw(),r.callPluginHook("$redraw",t,g)},generateRedrawList:function(t,e,i,o){var r=this,a=r.config,s=r.state,c=r.getDrawShape();s.hasAxis&&a.subchart_show&&r.redrawSubchart(o,i,c);var l=e&&r.generateFlow({targets:t,flow:e,duration:e.duration,shape:c,xv:r.xv.bind(r)}),u=(i||l)&&Nf(),h=r.getRedrawList(c,e,l,u),d=function(){l&&l(),s.redrawing=!1,vf(a.onrendered,r.api)};if(d)if(u&&h.length){var f=Lp();nl().duration(i).each((function(){h.reduce((function(t,e){return t.concat(e)}),[]).forEach((function(t){return f.add(t)}))})).call(f,d)}else s.transiting||d();r.mapToIds(r.data.targets).forEach((function(t){s.withoutFadeIn[t]=!0}))},getRedrawList:function(t,e,i,o){var r=this,a=r.config,s=r.state,c=s.hasAxis,l=s.hasRadar,u=s.hasTreemap,h=r.$el.grid,d=t.pos,f=d.cx,p=d.cy,g=d.xForText,v=d.yForText,m=[];return c&&((a.grid_x_lines.length||a.grid_y_lines.length)&&m.push(r.redrawGrid(o)),a.regions.length&&m.push(r.redrawRegion(o)),Object.keys(t.type).forEach((function(e){var i=$f(e),a=t.type[e];(/^(area|line)$/.test(e)&&r.hasTypeOf(i)||r.hasType(e))&&m.push(r["redraw".concat(i)](a,o))})),!e&&h.main&&m.push(r.updateGridFocus())),r.hasArcType()&&!l||df(a.data_labels)&&!1!==a.data_labels&&m.push(r.redrawText(g,v,e,o)),!r.hasPointType()&&!l||r.isPointFocusOnly()||r.redrawCircle&&m.push(r.redrawCircle(f,p,o,i)),u&&m.push(r.redrawTreemap(o)),m},updateAndRedraw:function(t){void 0===t&&(t={});var e,i=this,o=i.config,r=i.state;t.withTransition=gf(t,"withTransition",!0),t.withTransform=gf(t,"withTransform",!1),t.withLegend=gf(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=gf(t,"withTransitionForTransform",t.withTransition),t.withLegend&&o.legend_show||(r.hasAxis&&(e=i.axis.generateTransitions(t.withTransitionForAxis?o.transition_duration:0)),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)}};function ag(t,e,i){void 0===t&&(t="linear"),void 0===e&&(e=0),void 0===i&&(i=1);var o={linear:$u,log:Mu,_log:Fu,time:ih,utc:oh}[t]();return o.type=t,/_?log/.test(t)&&o.clamp(!0),o.range([e,i])}var sg={getXScale:function(t,e,i,o){var r=this,a=r.scale.zoom||ag(r.axis.getAxisType("x"),t,e);return r.getCustomizedXScale(i?a.domain(i):a,o)},getYScale:function(t,e,i,o){var r=ag(this.axis.getAxisType(t),e,i);return o&&r.domain(o),r},getYScaleById:function(t,e){var i;void 0===e&&(e=!1);var o="y2"===(null===(i=this.axis)||void 0===i?void 0:i.getId(t)),r=e?o?"subY2":"subY":o?"y2":"y";return this.scale[r]},getCustomizedXScale:function(t,e){var i=this,o=e||function(){return i.axis.x.tickOffset()},r=i.config.axis_x_inverted,a=function(e,i){var r=t(e)+o();return i?r:Math.ceil(r)};for(var s in t)a[s]=t[s];return a.orgDomain=function(){return t.domain()},a.orgScale=function(){return t},i.axis.isCategorized()&&(a.domain=function(e){var i=e;return arguments.length?(t.domain(i),a):(i=this.orgDomain(),r?[i[0]+1,i[1]]:[i[0],i[1]+1])}),a},updateScales:function(t,e){var i,o;void 0===e&&(e=!0);var r=this,a=r.axis,s=r.config,c=r.format,l=r.org,u=r.scale,h=r.state,d=h.current,f=h.width,p=h.height,g=h.width2,v=h.height2,m=h.hasAxis,y=h.hasTreemap;if(m){var x=s.axis_rotated,_=r.getResettedPadding(1),w={x:x?_:0,y:x?0:p,subX:x?1:0,subY:x?0:v},T={x:x?p:f,y:x?f:_,subX:x?p:f,subY:x?g:1},S=e&&(null===(i=u.x)||void 0===i?void 0:i.orgDomain()),A=e&&l.xDomain;u.x=r.getXScale(w.x,T.x,S,(function(){return a.x.tickOffset()})),u.subX=r.getXScale(w.x,T.x,A,(function(t){var e;return t%1?0:(null!==(e=a.subX)&&void 0!==e?e:a.x).tickOffset()})),c.xAxisTick=a.getXAxisTickFormat(),c.subXAxisTick=a.getXAxisTickFormat(!0),a.setAxis("x",u.x,s.axis_x_tick_outer,t),s.subchart_show&&a.setAxis("subX",u.subX,s.axis_x_tick_outer,t),u.y=r.getYScale("y",w.y,T.y,u.y?u.y.domain():s.axis_y_default),u.subY=r.getYScale("y",w.subY,T.subY,u.subY?u.subY.domain():s.axis_y_default),a.setAxis("y",u.y,s.axis_y_tick_outer,t),s.axis_y2_show&&(u.y2=r.getYScale("y2",w.y,T.y,u.y2?u.y2.domain():s.axis_y2_default),u.subY2=r.getYScale("y2",w.subY,T.subY,u.subY2?u.subY2.domain():s.axis_y2_default),a.setAxis("y2",u.y2,s.axis_y2_tick_outer,t))}else if(y){var C=r.getCurrentPadding();u.x=$u().rangeRound([C.left,d.width-C.right]),u.y=$u().rangeRound([C.top,d.height-C.bottom])}else null===(o=r.updateArc)||void 0===o||o.call(r)},xx:function(t){var e=this.config,i=this.scale,o=i.x,r=i.zoom,a=e.zoom_enabled&&r?r:o;return t?a(tf(t.x)?t.x:t):null},xv:function(t){var e=this,i=e.axis,o=e.config,r=e.scale,a=r.x,s=r.zoom,c=o.zoom_enabled&&s?s:a,l=e.getBaseValue(t);return i.isTimeSeries()?l=Bf.call(e,l):i.isCategorized()&&nf(l)&&(l=o.axis_x_categories.indexOf(l)),Math.ceil(c(l))},yv:function(t){var e=this.scale,i=e.y,o=e.y2,r=t.axis&&"y2"===t.axis?o:i;return Math.ceil(r(this.getBaseValue(t)))},subxx:function(t){return t?this.scale.subX(t.x):null}};function cg(t){var e,i=this;return i.isLineType(t)?e=i.generateGetLinePoints(i.getShapeIndices(i.isLineType)):i.isBarType(t)&&(e=i.generateGetBarPoints(i.getShapeIndices(i.isBarType))),e}var lg={getDrawShape:function(){var t=this,e=t.config.axis_rotated,i=t.state,o=i.hasRadar,r=i.hasTreemap,a={type:{},indices:{},pos:{}};if(!r&&["bar","candlestick","line","area"].forEach((function(e){var i=$f(/^(bubble|scatter)$/.test(e)?"line":e);if(t.hasType(e)||t.hasTypeOf(i)||"line"===e&&(t.hasType("bubble")||t.hasType("scatter"))){var o=t.getShapeIndices(t["is".concat(i,"Type")]),r=t["generateDraw".concat(i)];a.indices[e]=o,a.type[e]=r?r.bind(t)(o,!1):void 0}})),!t.hasArcType()||o||r){var s=void 0,c=void 0;r||(s=o?t.radarCircleX:e?t.circleY:t.circleX,c=o?t.radarCircleY:e?t.circleX:t.circleY),a.pos={xForText:t.generateXYForText(a.indices,!0),yForText:t.generateXYForText(a.indices,!1),cx:(s||function(){}).bind(t),cy:(c||function(){}).bind(t)}}return a},getShapeIndices:function(t){var e=this,i=e.config,o=i.data_xs,r=df(o),a={},s=r?{}:0;return r&&Mf(Object.keys(o).map((function(t){return o[t]}))).forEach((function(t){s[t]=0,a[t]={}})),e.filterTargetsToShow(e.data.targets.filter(t,e)).forEach((function(t){for(var e,r=(t.id in o?o[t.id]:""),c=r?a[r]:a,l=0,u=void 0;u=i.data_groups[l];l++)if(!(u.indexOf(t.id)<0))for(var h=0,d=void 0;d=u[h];h++){if(d in c){c[t.id]=c[d];break}t.id!==d&&r&&(c[d]=null!==(e=c[t.id])&&void 0!==e?e:s[r])}rf(c[t.id])&&(c[t.id]=r?s[r]++:s++,c.__max__=(r?s[r]:s)-1)})),a},getIndices:function(t,e,i){var o=this,r=o.config,a=r.data_xs,s=r.bar_indices_removeNull,c=e.id,l=e.index;if(o.isBarType(c)&&s){var u={};return o.getAllValuesOnIndex(l,!0).forEach((function(t,e){u[t.id]=e,u.__max__=e})),u}return df(a)?t[a[c]]:t},getIndicesMax:function(t){return df(this.config.data_xs)?Object.keys(t).map((function(e){return t[e].__max__||0})).reduce((function(t,e){return t+e})):t.__max__},getShapeX:function(t,e,i){var o=this,r=o.config,a=o.scale,s=i?a.subX:a.zoom||a.x,c=r.bar_overlap,l=r.bar_padding,u=function(t,e){return t+e},h=uf(t)&&(t._$total.length?t._$total.reduce(u)/2:0);return function(i){var r=o.getIndices(e,i,"getShapeX"),a=i.id in r?r[i.id]:0,d=(r.__max__||0)+1,f=0;if(df(i.x)){var p=s(i.x,!0);if(h){var g=t[i.id]||t._$width;f=c?p-g/2:p-g+t._$total.slice(0,a+1).reduce(u)-h}else f=p-(of(t)?t:t._$width)*(d/2-(c?1:a))}return t&&f&&d>1&&l&&(a&&(f+=l*a),d>2?f-=(d-1)*l/2:2===d&&(f-=l/2)),f}},getShapeY:function(t){var e=this,i=e.isStackNormalized();return function(o){var r=o.value;return of(o)?r=o:e.isAreaRangeType(o)?r=e.getBaseValue(o,"mid"):i?r=e.getRatio("index",o,!0):e.isBubbleZType(o)?r=e.getBubbleZData(o.value,"y"):e.isBarRangeType(o)&&(r=r[1]),e.getYScaleById(o.id,t)(r)}},getShapeYMin:function(t){var e=this,i=e.axis.getId(t),o=e.scale[i].domain()[0],r=e.config["axis_".concat(i,"_inverted")];return!e.isGrouped(t)&&!r&&o>0?o:0},getShapeOffsetData:function(t){var e=this,i=e.orderTargets(e.filterTargetsToShow(e.data.targets.filter(t,e))),o=e.isStackNormalized(),r=i.map((function(t){var i=t.values,r={};e.isStepType(t)&&(i=e.convertValuesToStep(i));var a=i.reduce((function(t,i){var a=Number(i.x);return t[a]=i,r[a]=o?e.getRatio("index",i,!0):i.value,t}),{});return{id:t.id,rowValues:i,rowValueMapByXValue:a,values:r}})),a=i.reduce((function(t,e,i){return t[e.id]=i,t}),{});return{indexMapByTargetId:a,shapeOffsetTargets:r}},getShapeOffset:function(t,e,i){var o=this,r=o.getShapeOffsetData(t),a=r.shapeOffsetTargets,s=r.indexMapByTargetId,c=o.config.data_groupsZeroAs;return function(t,r){var l=t.id,u=t.value,h=t.x,d=o.getIndices(e,t),f=o.getYScaleById(l,i);if(o.isBarRangeType(t))return f(u[0]);var p=Number(h),g=f("zero"===c?0:o.getShapeYMin(l)),v=g;return a.filter((function(t){return t.id!==l&&d[t.id]===d[l]})).forEach((function(t){var e=t.id,i=t.rowValueMapByXValue,o=t.rowValues,a=t.values;if(s[e]<s[l]){var h=a[p],d=o[r];if(d&&Number(d.x)===p||(d=i[p]),(null==d?void 0:d.value)*u>=0&&of(h))(0!==u||("positive"===c&&h>0||"negative"===c&&h<0))&&(v+=f(h)-g)}})),v}},circleY:function(t,e){var i,o=this,r=t.id;return o.isGrouped(r)&&(i=cg.bind(o)(t)),i?i(t,e)[0][1]:o.getYScaleById(r)(o.getBaseValue(t))},getBarW:function(t,e,i){var o=this,r=o.config,a=o.org,s=o.scale,c=o.getMaxDataCount(),l="bar"===t&&r.data_groups.length,u="".concat(t,"_width"),h=s.zoom&&!o.axis.isCategorized()?a.xDomain.map((function(t){return s.zoom(t)})).reduce((function(t,e){return Math.abs(t)+e}))/c:e.tickInterval(c),d=function(t){var e=t?r[u][t]:r[u],o=t?e.ratio:r["".concat(u,"_ratio")],a=t?e.max:r["".concat(u,"_max")],s=of(e)?e:i?h*o/i:0;return a&&s>a?a:s},f=d();return!l&&uf(r[u])&&(f={_$width:f,_$total:[]},o.filterTargetsToShow(o.data.targets).forEach((function(t){r[u][t.id]&&(f[t.id]=d(t.id),f._$total.push(f[t.id]||f._$width))}))),f},getShapeByIndex:function(t,e,i){var o=this.$el,r=tf(e)?"-".concat(e):"",a=o[t];return a=a&&!a.empty()?a.filter((function(t){return!i||t.id===i})).filter((function(t){return!tf(e)||t.index===e})):(i?o.main.selectAll(".".concat(dp["".concat(t,"s")]).concat(this.getTargetSelectorSuffix(i))):o.main).selectAll(".".concat(dp[t]).concat(r)),a},isWithinShape:function(t,e){var i,o,r=this,a=Fa(t);return r.isTargetToShow(e.id)?(null===(i=r.hasValidPointType)||void 0===i?void 0:i.call(r,t.nodeName))?o=r.isStepType(e)?r.isWithinStep(t,r.getYScaleById(e.id)(e.value)):r.isWithinCircle(t,r.isBubbleType(e)?1.5*r.pointSelectR(e):0):"path"===t.nodeName&&(o=!a.classed(dp.bar)||r.isWithinBar(t)):o=!1,o},getInterpolate:function(t){var e=this.getInterpolateType(t);return{basis:sh,"basis-closed":uh,"basis-open":dh,bundle:ph,cardinal:bh,"cardinal-closed":yh,"cardinal-open":_h,"catmull-rom":Sh,"catmull-rom-closed":Ch,"catmull-rom-open":Eh,"monotone-x":zh,"monotone-y":Bh,natural:Xh,"linear-closed":Hh,linear:jh,step:Gh,"step-after":Wh,"step-before":qh}[e]},getInterpolateType:function(t){var e=this,i=e.config,o=i.spline_interpolation_type,r=e.isInterpolationType(o)?o:"cardinal";return e.isSplineType(t)?r:e.isStepType(t)?i.line_step_type:"linear"},isWithinBar:function(t){var e=_f(this.state.event,t),i=xf(t),o=i[0],r=i[1],a=Math.min(o.x,r.x),s=Math.min(o.y,r.y),c=this.config.bar_sensitivity,l=t.getBBox(),u=a+l.width+c,h=s+l.height+c,d=s-c;return a-c<e[0]&&e[0]<u&&d<e[1]&&e[1]<h}},ug={setContainerSize:function(){var t=this,e=t.state;e.current.width=t.getCurrentWidth(),e.current.height=t.getCurrentHeight()},getCurrentWidth:function(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function(){var t=this,e=t.config,i=e.size_height||t.getParentHeight();return i>0?i:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},getParentRectValue:function(t){for(var e="offset".concat($f(t)),i=this.$el.chart.node(),o=0;o<30&&i&&"BODY"!==i.tagName;){try{o=i.getBoundingClientRect()[t]}catch(t){e in i&&(o=i[e])}i=i.parentNode}var r=jd.body[e];return o>r&&(o=r),o},getParentWidth:function(){return this.getParentRectValue("width")},getParentHeight:function(){var t=this.$el.chart.style("height"),e=0;return t&&(e=/px$/.test(t)?parseInt(t,10):this.getParentRectValue("height")),e},getSvgLeft:function(t){var e=this,i=e.config,o=e.state.hasAxis,r=e.$el,a=i.axis_rotated,s=a||!a&&!i.axis_y_inner,c=a?jf.axisX:jf.axisY,l=r.main.select(".".concat(c)).node(),u=o&&i["axis_".concat(a?"x":"y","_label")],h=0;if(o&&(nf(u)||nf(u.text)||/^inner-/.test(null==u?void 0:u.position))){var d=r.main.select(".".concat(c,"-label"));d.empty()||(h=d.node().getBoundingClientRect().left)}var f=l&&s?l.getBoundingClientRect():{right:0},p=r.chart.node().getBoundingClientRect().left+h,g=e.hasArcType(),v=f.right-p-(g?0:e.getCurrentPaddingByDirection("left",t));return v>0?v:0},updateDimension:function(t){var e,i=this,o=i.config,r=i.state.hasAxis,a=i.$el;r&&!t&&i.axis.x&&o.axis_rotated&&(null===(e=i.axis.subX)||void 0===e||e.create(a.axis.subX)),i.updateScales(t),i.updateSvgSize(),i.transformAll(!1)},updateSvgSize:function(){var t=this,e=t.state,i=e.clip,o=e.current,r=e.hasAxis,a=e.width,s=e.height,c=t.$el.svg;if(c.attr("width",o.width).attr("height",o.height),r){var l=c.select(".".concat(sp.brush," .overlay")),u={width:0,height:0};l.size()&&(u.width=+l.attr("width"),u.height=+l.attr("height")),c.selectAll(["#".concat(i.id),"#".concat(i.idGrid)]).select("rect").attr("width",a).attr("height",s),c.select("#".concat(i.idXAxis)).select("rect").call(t.setXAxisClipPath.bind(t)),c.select("#".concat(i.idYAxis)).select("rect").call(t.setYAxisClipPath.bind(t)),i.idSubchart&&c.select("#".concat(i.idSubchart)).select("rect").attr("width",a).attr("height",u.height)}},getCurrentPaddingByDirection:function(t,e,i){var o;void 0===e&&(e=!1),void 0===i&&(i=!1);var r=this,a=r.config,s=r.$el,c=r.state.hasAxis,l=a.axis_rotated,u="fit"===(null===(o=a.padding)||void 0===o?void 0:o.mode),h=of(a["padding_".concat(t)])?a["padding_".concat(t)]:void 0,d=c?{top:l?"y2":null,bottom:l?"y":"x",left:l?"x":"y",right:l?null:"y2"}[t]:null,f=/^(left|right)$/.test(t),p=d&&a["axis_".concat(d,"_inner")],g=d&&a["axis_".concat(d,"_show")],v=d?a["axis_".concat(d,"_axes")].length:0,m=d?f?r.getAxisWidthByAxisId(d,e):r.getHorizontalAxisHeight(d):0,y=0;!u&&f&&(m=function(t){return 10*Math.ceil(t/10)}(m));var x=c&&f&&(p||rf(h)&&!g)?0:u?(g?m:0)+(null!=h?h:0):rf(h)?m:h;return f&&c?(d&&(u||p)&&a["axis_".concat(d,"_label")].text&&(x+=r.axis.getAxisLabelPosition(d).isOuter?20:0),"right"===t?(x+=l?!u&&rf(h)?10:2:!g||p?u?2:1:0,x+=i?r.axis.getXAxisTickTextY2Overflow(20):0):"left"===t&&l&&rf(h)&&(x=a.axis_x_show?u?m:Math.max(m,40):1)):"top"===t?(s.title&&s.title.node()&&(x+=r.getTitlePadding()),y=l&&!p?v:0):"bottom"===t&&c&&l&&!g&&(x+=1),x+m*v-y},getCurrentPadding:function(t){void 0===t&&(t=!1);var e=this,i=["top","bottom","left","right"].map((function(i){return e.getCurrentPaddingByDirection(i,null,t)}));return{top:i[0],bottom:i[1],left:i[2],right:i[3]}},getResettedPadding:function(t){var e=this.config,i=of(t),o=i?0:{};return!1===e.padding?!i&&Object.keys(t).forEach((function(i){o[i]=hf(e.data_labels)||!1===e.data_labels||"top"!==i?0:t[i]})):o=t,o},updateSizes:function(t){var e,i,o,r=this,a=r.config,s=r.state,c=r.$el.legend,l=a.axis_rotated,u=r.hasArcType()||s.hasTreemap,h="fit"===(null===(e=a.padding)||void 0===e?void 0:e.mode);!t&&r.setContainerSize();var d={width:c?r.getLegendWidth():0,height:c?r.getLegendHeight():0};!u&&a.axis_x_show&&a.axis_x_tick_autorotate&&r.updateXAxisTickClip();var f=a.legend_show&&s.isLegendRight?r.getLegendWidth()+(h?0:20):0,p=!a.legend_show||s.isLegendRight||s.isLegendInset?0:d.height,g=l||u?0:r.getHorizontalAxisHeight("x"),v=a.subchart_axis_x_show&&a.subchart_axis_x_tick_text_show?g:30,m=a.subchart_show&&!u?a.subchart_size_height+v:0,y=r.hasType("gauge")&&a.arc_needle_show&&!a.gauge_fullCircle&&!a.gauge_label_show?10:0,x=r.getCurrentPadding(!0);if(s.margin=!u&&l?{top:x.top,right:u?0:x.right+f,bottom:p+x.bottom,left:m+(u?0:x.left)}:{top:(h?0:4)+x.top,right:u?0:x.right+f,bottom:y+m+p+x.bottom,left:u?0:x.left},s.margin=r.getResettedPadding(s.margin),s.margin2=l?{top:s.margin.top,right:NaN,bottom:20+p,left:r.state.rotatedPadding.left}:{top:s.current.height-m-p,right:NaN,bottom:v+p,left:s.margin.left},s.margin3={top:0,right:NaN,bottom:0,left:0},null===(i=r.updateSizeForLegend)||void 0===i||i.call(r,d),s.width=s.current.width-s.margin.left-s.margin.right,s.height=s.current.height-s.margin.top-s.margin.bottom,s.width<0&&(s.width=0),s.height<0&&(s.height=0),s.width2=l?s.margin.left-s.rotatedPadding.left-s.rotatedPadding.right:s.width,s.height2=l?s.height:s.current.height-s.margin2.top-s.margin2.bottom,s.width2<0&&(s.width2=0),s.height2<0&&(s.height2=0),r.hasArcType()){var _=r.hasType("gauge"),w=a.legend_show&&s.isLegendRight;s.arcWidth=s.width-(w?d.width+10:0),s.arcHeight=s.height-(w&&!_?0:10),_&&!a.gauge_fullCircle&&(s.arcHeight+=s.height-r.getPaddingBottomForGauge()),null===(o=r.updateRadius)||void 0===o||o.call(r)}s.isLegendRight&&u&&(s.margin3.left=s.arcWidth/2+1.1*s.radiusExpanded)}},hg={setCssRule:function(t,e,i,o){var r=this,a=r.config,s=r.state,c=s.cssRule,l=s.style;return a.boost_useCssRule?function(a){a.each((function(a){var s=o&&(null==o?void 0:o.call(r,a)),u="".concat(t?".".concat(ap.shapes+r.getTargetSelectorSuffix(a.id)):"").concat(e);e in c&&l.sheet.deleteRule(c[u]),r.state.cssRule[u]=function(t,e,i){var o=t.rootSelctor,r=t.sheet,a="".concat(o," ").concat(function(t){return t.replace(/\s?(bb-)/g,".$1").replace(/\.+/g,".")}(e)," {").concat(i.join(";"),"}");return r[r.insertRule?"insertRule":"addRule"](a,r.cssRules.length)}(l,u,i.filter(Boolean).map((function(t){return nf(s)&&-1===t.indexOf(":")?"".concat(t,": ").concat(s):t||""})))}))}:function(){}},getStylePropValue:function(t){return this.config.boost_useCssRule?null:ef(t)?t.bind(this):t}};function dg(t,e,i,o,r){var a,s=t.value,c=this.isCandlestickType(t),l=of(s)&&s<0||c&&!(null===(a=this.getCandlestickData(t))||void 0===a?void 0:a._isUp),u=e.x,h=e.y;return o?"start"===i?(u+=l?0:8,h+=4):"middle"===i?(u+=8,h-=8):"end"===i&&(l&&(u-=8),h+=4):("start"===i?(u+=4,l&&(h+=16)):"middle"===i?h-=8:"end"===i&&(u-=4,l&&(h+=16)),r&&(h+=l?-17:c?13:7)),{x:u,y:h}}function fg(t,e){var i,o=this.config.data_labels_position,r=t.id,a=t.index,s=t.value;return null!==(i=ef(o)?o.bind(this.api)(e,s,r,a,this.$el.text):(r in o?o[r]:o)[e])&&void 0!==i?i:0}var pg={opacityForText:function(t){var e=this;return e.isBarType(t)&&!e.meetsLabelThreshold(Math.abs(e.getRatio("bar",t)),"bar")?"0":e.hasDataLabel?null:"0"},initText:function(){var t=this.$el;t.main.select(".".concat(Vf.chart)).append("g").attr("class",cp.chartTexts).style("pointer-events",t.treemap?"none":null)},updateTargetsForText:function(t){var e=this,i=e.getChartClass("Text"),o=e.getClass("texts","id"),r=e.classFocus.bind(e),a=e.$el.main.select(".".concat(cp.chartTexts)).selectAll(".".concat(cp.chartText)).data(t).attr("class",(function(t){return"".concat(i(t)).concat(r(t)).trim()}));a.enter().append("g").style("opacity","0").attr("class",i).call(e.setCssRule(!0," .".concat(cp.text),["fill","pointer-events:none"],e.updateTextColor)).append("g").attr("class",o)},updateText:function(){var t=this,e=t.$el,i=t.$T,o=t.config,r=t.axis,a=t.getClass("text","index"),s=o.data_labels.centered,c=e.main.selectAll(".".concat(cp.texts)).selectAll(".".concat(cp.text)).data(t.labelishData.bind(t));i(c.exit()).style("fill-opacity","0").remove(),e.text=c.enter().append("text").merge(c).attr("class",a).attr("text-anchor",(function(e){var i=o["axis_".concat(null==r?void 0:r.getId(e.id),"_inverted")]?e.value>0:e.value<0;if(t.isCandlestickType(e)){var a=t.getCandlestickData(e);i=!(null==a?void 0:a._isUp)}else if(t.isTreemapType(e))return s?"middle":"start";return o.axis_rotated?i?"end":"start":"middle"})).style("fill",t.getStylePropValue(t.updateTextColor)).style("fill-opacity","0").each((function(e,i,o){var r=Fa(this),a=e.value;if(t.isBubbleZType(e))a=t.getBubbleZData(a,"z");else if(t.isCandlestickType(e)){var s=t.getCandlestickData(e);s&&(a=s.close)}a=t.isTreemapType(e)?t.treemapDataLabelFormat(e)(r):t.dataLabelFormat(e.id)(a,e.id,e.index,o),of(a)?this.textContent=a:yf(r,a)}))},updateTextColor:function(t){var e,i=this,o=i.config,r=o.data_labels_colors,a=i.isArcType(t)&&!i.isRadarType(t)||i.isTreemapType(t)?null:i.color(t);if(nf(r))e=r;else if(pf(r)){e=r[(t.data||t).id]}else ef(r)&&(e=r.bind(i.api)(a,t));if(i.isCandlestickType(t)&&!ef(r)){var s=i.getCandlestickData(t);if(!(null==s?void 0:s._isUp)){var c=o.candlestick_color_down;e=pf(c)?c[t.id]:c}}return e||a},updateTextBackgroundColor:function(t){var e=this,i=e.$el,o=e.config.data_labels_backgroundColors,r="";if(nf(o)||pf(o)){var a=nf(o)?"":e.getTargetSelectorSuffix("id"in t?t.id:t.data.id),s=i.defs.select(["filter[id*='labels-bg","']"].join(a));s.size()&&(r="url(#".concat(s.attr("id"),")"))}return r||null},redrawText:function(t,e,i,o){var r=this,a=r.$T,s=r.axis,c=r.config,l=r.state.hasTreemap,u=kf(!0),h=c.axis_rotated,d=c.data_labels.rotate,f=function(t){var e="middle";return t>0&&t<=170?e="end":t>190&&t<=360&&(e="start"),e}(d),p=d?"rotate(".concat(d,")"):"";return r.$el.text.style("fill",r.getStylePropValue(r.updateTextColor)).attr("filter",r.updateTextBackgroundColor.bind(r)).style("fill-opacity",i?0:r.opacityForText.bind(r)).each((function(i,g){var v=a(l&&this.childElementCount?this.parentNode:this,!(!o||!this.getAttribute("x")),u),m=c["axis_".concat(null==s?void 0:s.getId(i.id),"_inverted")],y={x:t.bind(this)(i,g),y:e.bind(this)(i,g)};d&&(y=dg.bind(r)(i,y,f,h,m),v.attr("text-anchor",f)),this.childElementCount||d?v.attr("transform","translate(".concat(y.x," ").concat(y.y,") ").concat(p)):v.attr("x",y.x).attr("y",y.y)})),!0},getTextRect:function(t,e){var i=this,o=t.node?t.node():t;/text/i.test(o.tagName)||(o=o.querySelector("text"));var r=o.textContent,a="".concat(Rp,"-").concat(r.replace(/\W/g,"_")),s=i.cache.get(a);return s||(i.$el.svg.append("text").style("visibility","hidden").style("font",Fa(o).style("font")).classed(e,!0).text(r).call((function(t){s=Tf(t.node())})).remove(),i.cache.add(a,s)),s},generateXYForText:function(t,e){var i=this,o=i.state,r=o.hasRadar,a=o.hasTreemap,s=Object.keys(t),c={},l=e?i.getXForText:i.getYForText;return r&&s.push("radar"),a&&s.push("treemap"),s.forEach((function(e){c[e]=i["generateGet".concat($f(e),"Points")](t[e],!1)})),function(t,e){var o=(i.isAreaType(t)?"area":i.isBarType(t)&&"bar")||i.isCandlestickType(t)&&"candlestick"||i.isRadarType(t)&&"radar"||i.isTreemapType(t)&&"treemap"||"line";return l.call(i,c[o](t,e),t,this)}},getCenteredTextPos:function(t,e,i,o){var r=this,a=r.config,s=a.axis_rotated,c=r.isBarType(t),l=r.isTreemapType(t);if(a.data_labels.centered&&(c||l)){var u=Tf(i);if(c){var h=r.getRangedData(t,null,"bar")>=0;if(s){var d=(h?e[1][1]-e[0][1]:e[0][1]-e[1][1])/2+u.width/2;return h?-d-3:d+2}var f=(h?e[0][1]-e[1][1]:e[1][1]-e[0][1])/2+u.height/2;return h?f:-f-2}if(l)return"x"===o?(e[1][0]-e[0][0])/2:(e[1][1]-e[0][1])/2+u.height/2}return 0},getXForText:function(t,e,i){var o,r=this,a=r.config,s=a.axis_rotated,c=r.isTreemapType(e),l=t[0][0];if(r.isCandlestickType(e))s?l=(null===(o=r.getCandlestickData(e))||void 0===o?void 0:o._isUp)?t[2][2]+4:t[2][1]-4:l+=(t[1][0]-l)/2;else if(c)l+=a.data_labels.centered?0:5;else if(s){var u=a["axis_".concat(r.axis.getId(e.id),"_inverted")],h=r.isBarType(e)?4:6,d=e.value;l=t[2][1],u?l-=h*(d>0?1:-1):l+=h*(d<0?-1:1)}else l=r.hasType("bar")?(t[2][0]+t[0][0])/2:l;return(s||c)&&(l+=r.getCenteredTextPos(e,t,i,"x")),l+fg.call(this,e,"x")},getYForText:function(t,e,i){var o,r=this,a=r.axis,s=r.config,c=r.state,l=s.axis_rotated,u=s["axis_".concat(null==a?void 0:a.getId(e.id),"_inverted")],h=r.isBarType(e),d=r.isTreemapType(e),f=s.point_r,p=Tf(i),g=e.value,v=3;if(r.isCandlestickType(e))g=r.getCandlestickData(e),l?(o=t[0][0],o+=(t[1][0]-o)/2+v):(o=g&&g._isUp?t[2][2]-v:t[2][1]+4*v,u&&(o+=15*(g._isUp?1:-1)));else if(d)o=t[0][1]+(s.data_labels.centered?0:p.height+5);else if(l)o=(t[0][0]+t[2][0]+.6*p.height)/2;else if(o=t[2][1],of(f)&&f>5&&(r.isLineType(e)||r.isScatterType(e))&&(v+=s.point_r/2.3),g<0||0===g&&!c.hasPositiveValue&&c.hasNegativeValue)o+=u?h?-3:-5:p.height+(h?-v:v);else{var m=2*-v;h?m=-v:r.isBubbleType(e)&&(m=v),u&&(m=h?10:15),o+=m}return l&&!d||(o+=r.getCenteredTextPos(e,t,i,"y")),o+fg.call(this,e,"y")},markOverlapped:function(t,e,i){var o=e.$el.arcs.selectAll(i),r=o.filter((function(e){return e.data.id!==t})),a=o.filter((function(e){return e.data.id===t})),s=Df(a.node()),c=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))};a.node()&&r.each((function(){var t=Df(this),e=Fa(this),i=c(s.e,s.f)>c(t.e,t.f)?a:e,o=Math.ceil(Math.abs(s.e-t.e))<Math.ceil(i.node().getComputedTextLength()),r=Math.ceil(Math.abs(s.f-t.f))<parseInt(a.style("font-size"),10);e.classed(cp.TextOverlapping,o&&r)}))},undoMarkOverlapped:function(t,e){t.$el.arcs.selectAll(e).each((function(){Xa([this,this.previousSibling]).classed(cp.TextOverlapping,!1)}))},meetsLabelThreshold:function(t,e){void 0===t&&(t=0);return t>=(this.config["".concat(e,"_label_threshold")]||0)}};function gg(t,e){void 0===t&&(t="left");var i=of(e);return t.indexOf("center")>-1?i?e/2:"middle":t.indexOf("right")>-1?i?e:"end":i?0:"start"}var vg={initTitle:function(){var t=this.config,e=this.$el;t.title_text&&(e.title=e.svg.append("g"),yf(e.title.append("text").style("text-anchor",gg(t.title_position)).attr("class",cp.title),t.title_text,[.3,1.5]))},redrawTitle:function(){var t=this,e=t.config,i=t.state.current,o=t.$el.title;if(o){var r=gg(e.title_position,i.width),a=(e.title_padding.top||0)+t.getTextRect(t.$el.title,cp.title).height;o.attr("transform","translate(".concat(r,", ").concat(a,")"))}},getTitlePadding:function(){var t=this,e=t.$el,i=t.config;return(i.title_padding.top||0)+t.getTextRect(e.title,cp.title).height+(i.title_padding.bottom||0)}},bg={initTooltip:function(){var t=this,e=t.config,i=t.$el;i.tooltip=Fa(e.tooltip_contents.bindto),i.tooltip.empty()&&(i.tooltip=i.chart.append("div").attr("class",lp.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none")),t.bindTooltipResizePos()},initShowTooltip:function(){var t,e,i=this,o=i.config,r=i.$el,a=i.state,s=a.hasAxis,c=a.hasRadar;if(o.tooltip_init_show){var l=!(s||c);(null===(e=i.axis)||void 0===e?void 0:e.isTimeSeries())&&nf(o.tooltip_init_x)&&(o.tooltip_init_x=Bf.call(i,o.tooltip_init_x)),i.api.tooltip.show({data:(t={},t[l?"index":"x"]=o.tooltip_init_x,t)});var u=o.tooltip_init_position;if(!o.tooltip_contents.bindto&&!hf(u)){var h=u.top,d=void 0===h?0:h,f=u.left,p=void 0===f?50:f;r.tooltip.style("top",nf(d)?d:"".concat(d,"px")).style("left",nf(p)?p:"".concat(p,"px")).style("display",null)}}},getTooltipHTML:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this,o=i.api,r=i.config;return ef(r.tooltip_contents)?r.tooltip_contents.bind(o).apply(void 0,t):i.getTooltipContent.apply(i,t)},getTooltipContent:function(t,e,i,o){var r=this,a=r.api,s=r.config,c=r.state,l=r.$el,u=["title","name","value"].map((function(t){var e=s["tooltip_format_".concat(t)];return ef(e)?e.bind(a):e})),h=u[0],d=u[1],f=u[2],p=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mf((d||function(t){return t}).apply(void 0,t))},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mf((f||(c.hasTreemap||r.isStackNormalized()?function(t,e){return"".concat((100*e).toFixed(2),"%")}:i)).apply(void 0,t))},v=s.tooltip_order,m=function(t){return r.axis&&r.isBubbleZType(t)?r.getBubbleZData(t.value,"z"):r.getBaseValue(t)},y=r.levelColor?function(t){return r.levelColor(t.value)}:function(t){return o(t)},x=s.tooltip_contents,_=x.template,w=r.mapToTargetIds();if(null===v&&s.data_groups.length){var T=r.orderTargets(r.data.targets).map((function(t){return t.id})).reverse();t.sort((function(t,e){var i=t?t.value:null,o=e?e.value:null;return i>0&&o>0&&(i=t.id?T.indexOf(t.id):null,o=e.id?T.indexOf(e.id):null),i-o}))}else if(/^(asc|desc)$/.test(v)){var S="asc"===v;t.sort((function(t,e){var i=t?m(t):null,o=e?m(e):null;return S?i-o:o-i}))}else ef(v)&&t.sort(v.bind(a));var A,C,$,E,D,O=r.getTooltipContentTemplate(_),P=t.length,z=function(){if(!(C=t[D])||!m(C)&&0!==m(C))return"continue";if(rf(A)){var i=(c.hasAxis||c.hasRadar)&&function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return mf((h||e).apply(void 0,t))}(C.x);A=zf(O[0],{CLASS_TOOLTIP:lp.tooltip,TITLE:tf(i)?_?i:'<tr><th colspan="2">'.concat(i,"</th></tr>"):""})}if(!C.ratio&&l.arcs&&($=["arc",r.$el.arcs.select("path.".concat(Hf.arc,"-").concat(C.id)).data()[0]],C.ratio=r.getRatio.apply(r,$)),$=[C.ratio,C.id,C.index],r.isAreaRangeType(C)){var o=["high","low"].map((function(t){return g.apply(void 0,Jd([r.getRangedData(C,t)],$,!1))})),a=o[0],s=o[1],u=g.apply(void 0,Jd([m(C)],$,!1));E="<b>Mid:</b> ".concat(u," <b>High:</b> ").concat(a," <b>Low:</b> ").concat(s)}else if(r.isCandlestickType(C)){var d=["open","high","low","close","volume"].map((function(t){return r.getRangedData(C,t,"candlestick")?g.apply(void 0,Jd([r.getRangedData(C,t,"candlestick")],$,!1)):void 0})),f=d[0],v=(a=d[1],s=d[2],d[3]),T=d[4];E="<b>Open:</b> ".concat(f," <b>High:</b> ").concat(a," <b>Low:</b> ").concat(s," <b>Close:</b> ").concat(v).concat(T?" <b>Volume:</b> ".concat(T):"")}else if(r.isBarRangeType(C)){var S=C.value,P=C.id,z=C.index;E="".concat(g(S,void 0,P,z))}else E=g.apply(void 0,Jd([m(C)],$,!1));if(void 0!==E){if(null===C.name)return"continue";var B=p.apply(void 0,Jd([C.name],$,!1)),N=y(C),F={CLASS_TOOLTIP_NAME:lp.tooltipName+r.getTargetSelectorSuffix(C.id),COLOR:_||!r.patterns?N:'<svg><rect style="fill:'.concat(N,'" width="10" height="10"></rect></svg>'),NAME:B,VALUE:E};if(_&&pf(x.text)){var X=w.indexOf(C.id);Object.keys(x.text).forEach((function(t){F[t]=x.text[t][X]}))}A+=zf(O[1],F)}};for(D=0;D<P;D++)z();return"".concat(A,"</table>")},getTooltipContentTemplate:function(t){return(t||'<table class="{=CLASS_TOOLTIP}"><tbody>\n\t\t\t\t{=TITLE}\n\t\t\t\t{{<tr class="{=CLASS_TOOLTIP_NAME}">\n\t\t\t\t\t<td class="name">'.concat(this.patterns?"{=COLOR}":'<span style="background-color:{=COLOR}"></span>','{=NAME}</td>\n\t\t\t\t\t<td class="value">{=VALUE}</td>\n\t\t\t\t</tr>}}\n\t\t\t</tbody></table>')).replace(/(\r?\n|\t)/g,"").split(/{{(.*)}}/)},setTooltipPosition:function(t,e){var i,o,r=this,a=r.config,s=r.scale,c=r.state,l=r.$el,u=l.eventRect,h=l.tooltip,d=a.tooltip_contents.bindto,f=a.axis_rotated,p=null==h?void 0:h.datum();if(!d&&p){var g=null!=t?t:JSON.parse(p.current),v=_f(c.event,null!=e?e:null==u?void 0:u.node()),m={x:v[0],y:v[1]};if(c.hasAxis&&s.x&&p&&"x"in p){var y=function(t,e,i){var o;void 0===t&&(t=0),void 0===i&&(i="y");var a=s[e?null===(o=r.axis)||void 0===o?void 0:o.getId(e):i];return a?a(t)+(f?c.margin.left:c.margin.top):0};m.xAxis=s.x(p.x)+(a.tooltip_position?f?c.margin.top:c.margin.left:0),1===g.length?m.yAxis=y(g[0].value,g[0].id):m.yAxis=y}var x=p.width,_=void 0===x?0:x,w=p.height,T=void 0===w?0:w,S=null!==(o=null===(i=a.tooltip_position)||void 0===i?void 0:i.bind(r.api)(g,_,T,null==u?void 0:u.node(),m))&&void 0!==o?o:r.getTooltipPosition.bind(r)(_,T,m);["top","left"].forEach((function(t){var e=S[t];h.style(t,"".concat(e,"px")),"left"!==t||p.xPosInPercent||(p.xPosInPercent=e/c.current.width*100)}))}},getTooltipPosition:function(t,e,i){var o=this,r=o.config,a=o.scale,s=o.state,c=s.width,l=s.height,u=s.current,h=s.isLegendRight,d=s.inputType,f=o.hasType("gauge")&&!r.gauge_fullCircle,p=s.hasTreemap,g=r.axis_rotated,v=o.hasArcType(),m=o.getSvgLeft(!0),y=m+u.width-o.getCurrentPaddingByDirection("right"),x=i.x,_=i.y;if(v)"touch"===d||o.hasType("radar")||(x+=(c-(h?o.getLegendWidth():0))/2,_+=f?l:l/2);else if(!p){var w={top:o.getCurrentPaddingByDirection("top",!0),left:o.getCurrentPaddingByDirection("left",!0)};g?(x+=m+w.left+20,_=w.top+i.xAxis+20,y-=m):(x=m+w.left+20+(a.zoom?x:i.xAxis),_+=w.top-5)}(x+t+15>y&&(x-=t+(p||v?0:g?40:38)),_+e>u.height)&&(_-=f?3*e:e+(p?0:30));var T={top:_,left:x};return Object.keys(T).forEach((function(t){T[t]<0&&(T[t]=0)})),T},showTooltip:function(t,e){var i=this,o=i.config,r=i.$el.tooltip,a=t.filter((function(t){return t&&tf(i.getBaseValue(t))}));if(r&&0!==a.length&&o.tooltip_show){var s=r.datum(),c=JSON.stringify(t);if(!s||s.current!==c){var l=t.concat().sort()[0],u=l.index,h=l.x;vf(o.tooltip_onshow,i.api,t),r.html(i.getTooltipHTML(t,i.axis?i.axis.getXAxisTickFormat():i.categoryName.bind(i),i.getDefaultValueFormat(),i.color)).style("display",null).style("visibility",null).datum(s={index:u,x:h,current:c,width:r.property("offsetWidth"),height:r.property("offsetHeight")}),vf(o.tooltip_onshown,i.api,t),i._handleLinkedCharts(!0,u)}i.setTooltipPosition(a,e)}},bindTooltipResizePos:function(){var t=this,e=t.resizeFunction,i=t.state,o=t.$el.tooltip;e.add((function(){if("block"===o.style("display")){var t=i.current,e=o.datum(),r=e.width,a=e.xPosInPercent,s=t.width/100*a,c=t.width-(s+r);c<0&&(s+=c),o.style("left","".concat(s,"px"))}}))},hideTooltip:function(t){var e,i=this,o=i.api,r=i.config,a=i.$el.tooltip;if(a&&"none"!==a.style("display")&&(!r.tooltip_doNotHide||t)){var s=JSON.parse(null!==(e=a.datum().current)&&void 0!==e?e:{});vf(r.tooltip_onhide,o,s),a.style("display","none").style("visibility","hidden").datum(null),vf(r.tooltip_onhidden,o,s)}},_handleLinkedCharts:function(t,e){var i=this,o=i.charts,r=i.config,a=i.state.event;if((null==a?void 0:a.isTrusted)&&r.tooltip_linked&&o.length>1){var s=r.tooltip_linked_name;o.filter((function(t){return t!==i.api})).forEach((function(i){var o=i.internal,r=o.config,a=o.$el,c=r.tooltip_linked,l=r.tooltip_linked_name,u=jd.body.contains(a.chart.node());if(c&&s===l&&u){var h=a.tooltip.data()[0],d=e!==(null==h?void 0:h.index);try{i.tooltip[t&&d?"show":"hide"]({index:e})}catch(t){}}}))}},updateTooltipOnRedraw:function(t,e){var i,o=this,r=o.config,a=o.$el,s=a.eventRect,c=a.svg,l=a.tooltip,u=o.state,h=u.event,d=u.hasAxis,f=u.hasRadar,p=u.hasTreemap;if("block"===(null==l?void 0:l.style("display"))&&h){var g=null!=t?t:null===(i=f?c:s)||void 0===i?void 0:i.node();if(d||f)if(o.isMultipleX())o.selectRectForMultipleXs(g,!1);else{var v=null!=e?e:o.getDataIndexFromEvent(h);-1===e?o.api.tooltip.hide():(o.selectRectForSingle(g,v),o.setExpand(v,null,!0))}else{var m=h.clientX,y=h.clientY;setTimeout((function(){var t=jd.elementFromPoint(m,y),e=Fa(t).datum();if(e){var i=o.hasArcType()?o.convertToArcData(o.updateAngle(e)):null==e?void 0:e.data;p&&(t=c.node()),i&&o.showTooltip([i],t)}else o.api.tooltip.hide()}),r.transition_duration)}}}},mg={getTranslate:function(t,e){void 0===e&&(e=0);var i,o,r=this,a=r.config,s=r.state,c=a.axis_rotated,l=0;if(e&&/^(x|y2?)$/.test(t)&&(l=r.getAxisSize(t)*e),"main"===t)i=cf(s.margin.left),o=cf(s.margin.top);else if("context"===t)i=cf(s.margin2.left),o=cf(s.margin2.top);else if("legend"===t)i=s.margin3.left,o=s.margin3.top;else if("x"===t)i=c?-l:0,o=c?0:s.height+l;else if("y"===t)i=c?0:-l,o=c?s.height+l:0;else if("y2"===t)i=c?0:s.width+l,o=c?-l-1:0;else if("subX"===t)i=0,o=c?0:s.height2;else if("arc"===t)i=s.arcWidth/2,o=s.arcHeight/2;else if("polar"===t)i=s.arcWidth/2,o=s.arcHeight/2;else if("radar"===t){var u=r.getRadarSize()[0];i=s.width/2-u,o=cf(s.margin.top)}return"translate(".concat(i,", ").concat(o,")")},transformMain:function(t,e){var i=this,o=i.$el.main,r=i.$T,a=(null==e?void 0:e.axisX)?e.axisX:r(o.select(".".concat(jf.axisX)),t),s=(null==e?void 0:e.axisY)?e.axisY:r(o.select(".".concat(jf.axisY)),t),c=(null==e?void 0:e.axisY2)?e.axisY2:r(o.select(".".concat(jf.axisY2)),t);r(o,t).attr("transform",i.getTranslate("main")),a.attr("transform",i.getTranslate("x")),s.attr("transform",i.getTranslate("y")),c.attr("transform",i.getTranslate("y2")),o.select(".".concat(Hf.chartArcs)).attr("transform",i.getTranslate("arc"))},transformAll:function(t,e){var i=this,o=i.config,r=i.state,a=r.hasAxis,s=r.hasTreemap,c=i.$el;!s&&i.transformMain(t,e),a&&o.subchart_show&&i.transformContext(t,e),c.legend&&i.transformLegend(t)}},yg={isValidChartType:function(t){return!!(t&&Object.values(Wd).indexOf(t)>-1)},setTargetType:function(t,e){var i=this,o=i.config,r=i.state.withoutFadeIn;i.mapToTargetIds(t).forEach((function(t){r[t]=e===o.data_types[t],o.data_types[t]=e})),t||(o.data_type=e)},updateTypesElements:function(){var t=this,e=t.state.current;Object.keys(Wd).forEach((function(i){var o=Wd[i],r=t.hasType(o,null,!0),a=e.types.indexOf(o);-1===a&&r?e.types.push(o):a>-1&&!r&&e.types.splice(a,1)})),t.setChartElements()},hasType:function(t,e,i){var o;void 0===i&&(i=!1);var r=this,a=r.config,s=r.state.current,c=a.data_types,l=e||r.data.targets,u=!1;return!i&&(null===(o=s.types)||void 0===o?void 0:o.indexOf(t))>-1?u=!0:(null==l?void 0:l.length)?l.forEach((function(e){var i=c[e.id];(i===t||!i&&"line"===t)&&(u=!0)})):Object.keys(c).length?Object.keys(c).forEach((function(e){c[e]===t&&(u=!0)})):u=a.data_type===t,u},hasTypeOf:function(t,e,i){var o=this;return void 0===i&&(i=[]),t in Kd&&!Kd[t].filter((function(t){return-1===i.indexOf(t)})).every((function(t){return!o.hasType(t,e)}))},isTypeOf:function(t,e){var i=nf(t)?t:t.id,o=this.config.data_types[i]||this.config.data_type;return ff(e)?e.indexOf(o)>=0:o===e},hasPointType:function(){var t=this;return t.hasTypeOf("Line")||t.hasType("bubble")||t.hasType("scatter")},hasArcType:function(t,e){return this.hasTypeOf("Arc",t,e)},hasMultiArcGauge:function(){return this.hasType("gauge")&&"multi"===this.config.gauge_type},isLineType:function(t){var e=nf(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,Kd.Line)},isStepType:function(t){return this.isTypeOf(t,Kd.Step)},isSplineType:function(t){return this.isTypeOf(t,Kd.Spline)},isAreaType:function(t){return this.isTypeOf(t,Kd.Area)},isAreaRangeType:function(t){return this.isTypeOf(t,Kd.AreaRange)},isBarType:function(t){return this.isTypeOf(t,"bar")},isBubbleType:function(t){return this.isTypeOf(t,"bubble")},isCandlestickType:function(t){return this.isTypeOf(t,"candlestick")},isScatterType:function(t){return this.isTypeOf(t,"scatter")},isTreemapType:function(t){return this.isTypeOf(t,"treemap")},isPieType:function(t){return this.isTypeOf(t,"pie")},isGaugeType:function(t){return this.isTypeOf(t,"gauge")},isDonutType:function(t){return this.isTypeOf(t,"donut")},isPolarType:function(t){return this.isTypeOf(t,"polar")},isRadarType:function(t){return this.isTypeOf(t,"radar")},isArcType:function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isPolarType(t)||this.isRadarType(t)},isCirclePoint:function(t){var e=this.config,i=e.point_pattern;return"circle"===(null==t?void 0:t.tagName)||"circle"===e.point_type&&(!i||ff(i)&&0===i.length)},lineData:function(t){return this.isLineType(t)?[t]:[]},arcData:function(t){return this.isArcType(t.data)?[t]:[]},labelishData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isCandlestickType(t)||this.isRadarType(t)||this.isTreemapType(t)?t.values.filter((function(t){return of(t.value)||Boolean(t.value)})):[]},barLineBubbleData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}},xg=function(){function t(t){this.data={xs:{},targets:[]},this.scale={x:null,y:null,y2:null,subX:null,subY:null,subY2:null,zoom:null},this.org={xScale:null,xDomain:null},this.format={extraLineClasses:null,xAxisTick:null,dataTime:null,defaultAxisTime:null,axisTime:null};var e=this;e.api=t,e.config=new Tp,e.cache=new Op;var i=new pp;e.$el=i.getStore("element"),e.state=i.getStore("state"),e.$T=e.$T.bind(e)}return t.prototype.$T=function(t,e,i){var o=this.config,r=this.state,a=o.transition_duration,s=o.subchart_show,c=t;c&&("tagName"in c&&(c=Fa(c)),c=(!1!==e&&a||e)&&(!r.zooming||r.dragging)&&!r.resizing&&r.rendered&&!s?c.transition(i).duration(a):c);return c},t.prototype.beforeInit=function(){var t=this;t.callPluginHook("$beforeInit"),vf(t.config.onbeforeinit,t.api)},t.prototype.afterInit=function(){var t=this;t.callPluginHook("$afterInit"),vf(t.config.onafterinit,t.api)},t.prototype.init=function(){var t=this,e=t.config,i=t.state,o=t.$el,r=e.boost_useCssRule;if(Xf(t),i.hasRadar=!i.hasAxis&&t.hasType("radar"),i.hasTreemap=!i.hasAxis&&t.hasType("treemap"),i.hasAxis=!t.hasArcType()&&!i.hasTreemap,i.datetimeId="bb-".concat(+new Date*kf()),r){var a=jd.createElement("style");a.type="text/css",jd.head.appendChild(a),i.style={rootSelctor:".".concat(i.datetimeId),sheet:a.sheet},o.style=a}var s={element:e.bindto,classname:"bb"};pf(e.bindto)&&(s.element=e.bindto.element||"#chart",s.classname=e.bindto.classname||s.classname),o.chart=ef(s.element.node)?e.bindto.element:Fa(s.element||[]),o.chart.empty()&&(o.chart=Fa(jd.body.appendChild(jd.createElement("div")))),o.chart.html("").classed(s.classname,!0).classed(i.datetimeId,r).style("position","relative"),t.initParams(),t.initToRender()},t.prototype.initToRender=function(t){var e=this,i=e.config,o=e.state,r=e.$el.chart,a=function(){return"none"===r.style("display")||"hidden"===r.style("visibility")},s=i.render.lazy||a(),c=Ud.MutationObserver;s&&c&&!1!==i.render.observe&&!t&&new c((function(t,i){a()||(i.disconnect(),!o.rendered&&e.initToRender(!0))})).observe(r.node(),{attributes:!0,attributeFilter:["class","style"]}),s&&!t||e.convertData(i,(function(t){e.initWithData(t),e.afterInit()}))},t.prototype.initParams=function(){var t=this,e=t.config,i=t.format,o=t.state,r=e.axis_rotated;if(t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),!1===e.padding&&(e.axis_x_show=!1,e.axis_y_show=!1,e.axis_y2_show=!1,e.subchart_show=!1),t.hasPointType()&&(t.point=t.generatePoint()),o.hasAxis){t.initClip(),i.extraLineClasses=t.generateExtraLineClass(),i.dataTime=e.data_xLocaltime?ro:so,i.axisTime=e.axis_x_localtime?oo:ao;var a=t.config.zoom_enabled&&"drag"===t.config.zoom_type;i.defaultAxisTime=function(e){var o=t.scale,r=o.x,s=o.zoom,c=a?s:s&&r.orgDomain().toString()!==s.domain().toString(),l=(e.getMilliseconds()?".%L":e.getSeconds()&&".:%S")||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||1!==e.getDate()&&"%b %d"||c&&1===e.getDate()&&"%b'%y"||e.getMonth()&&"%-m/%-d"||"%Y";return i.axisTime(l)(e)}}o.isLegendRight="right"===e.legend_position,o.isLegendInset="inset"===e.legend_position,o.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,o.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,o.rotatedPadding.top=t.getResettedPadding(o.rotatedPadding.top),o.rotatedPadding.right=r&&!e.axis_x_show?0:30,o.inputType=function(t,e){var i=Ud.DocumentTouch,o=Ud.matchMedia,r=Ud.navigator,a=!1;if(e)if(r&&"maxTouchPoints"in r)a=r.maxTouchPoints>0;else if("ontouchmove"in Ud||i&&jd instanceof i)a=!0;else if(null==o?void 0:o("(pointer:coarse)").matches)a=!0;else{var s=r.userAgent;a=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(s)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(s)}var c=t&&["any-hover:hover","any-pointer:fine"].some((function(t){return null==o?void 0:o("(".concat(t,")")).matches}));return(c?"mouse":a&&"touch")||"mouse"}(e.interaction_inputType_mouse,e.interaction_inputType_touch)},t.prototype.initWithData=function(t){var e,i,o=this,r=o.config,a=o.scale,s=o.state,c=o.$el,l=o.org,u=s.hasAxis,h=s.hasTreemap,d=r.interaction_enabled,f=o.hasType("polar");if(u&&(o.axis=o.getAxisInstance(),r.zoom_enabled&&o.initZoom()),o.data.xs={},o.data.targets=o.convertDataToTargets(t),r.data_filter&&(o.data.targets=o.data.targets.filter(r.data_filter.bind(o.api))),r.data_hide&&o.addHiddenTargetIds(!0===r.data_hide?o.mapToIds(o.data.targets):r.data_hide),r.legend_hide&&o.addHiddenLegendIds(!0===r.legend_hide?o.mapToIds(o.data.targets):r.legend_hide),o.updateSizes(),o.updateScales(!0),u){var p=a.x,g=a.y,v=a.y2,m=a.subX,y=a.subY,x=a.subY2;p&&(p.domain(If(o.getXDomain(o.data.targets),!r.axis_x_inverted)),m.domain(p.domain()),l.xDomain=p.domain()),g&&(g.domain(o.getYDomain(o.data.targets,"y")),y.domain(g.domain())),v&&(v.domain(o.getYDomain(o.data.targets,"y2")),x&&x.domain(v.domain()))}if(c.svg=c.chart.append("svg").style("overflow","hidden").style("display","block"),d&&s.inputType){var _="touch"===s.inputType,w=r.onclick,T=r.onover,S=r.onout;c.svg.on("click",(null==w?void 0:w.bind(o.api))||null).on(_?"touchstart":"mouseenter",(null==T?void 0:T.bind(o.api))||null).on(_?"touchend":"mouseleave",(null==S?void 0:S.bind(o.api))||null)}r.svg_classname&&c.svg.attr("class",r.svg_classname);var A=ef(r.color_tiles)&&o.patterns;(u||A||f||h||r.data_labels_backgroundColors)&&(c.defs=c.svg.append("defs"),u&&["id","idXAxis","idYAxis","idGrid"].forEach((function(t){o.appendClip(c.defs,s.clip[t])})),o.generateDataLabelBackgroundColorFilter(),A&&o.patterns.forEach((function(t){return c.defs.append((function(){return t.node}))}))),o.updateSvgSize(),o.bindResize();var C=c.svg.append("g").classed(Vf.main,!0).attr("transform",h?null:o.getTranslate("main"));if(c.main=C,r.subchart_show&&o.initSubchart(),r.tooltip_show&&o.initTooltip(),r.title_text&&o.initTitle(),!h&&r.legend_show&&o.initLegend(),r.data_empty_label_text&&C.append("text").attr("class","".concat(cp.text," ").concat(Vf.empty)).attr("text-anchor","middle").attr("dominant-baseline","middle"),u&&(r.regions.length&&o.initRegion(),!r.clipPath&&o.axis.init()),C.append("g").classed(Vf.chart,!0).attr("clip-path",u?s.clip.path:null),o.callPluginHook("$init"),o.initChartElements(),u&&(d&&(null===(e=o.initEventRect)||void 0===e||e.call(o)),o.initGrid(),r.clipPath&&(null===(i=o.axis)||void 0===i||i.init())),o.updateTargets(o.data.targets),o.updateDimension(),vf(r.oninit,o.api),o.setBackground(),o.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),r.data_onmin||r.data_onmax){var $=o.getMinMaxData();vf(r.data_onmin,o.api,$.min),vf(r.data_onmax,o.api,$.max)}r.tooltip_show&&o.initShowTooltip(),s.rendered=!0},t.prototype.initChartElements=function(){var t=this,e=t.state,i=e.hasAxis,o=e.hasRadar,r=e.hasTreemap,a=[];if(i){var s=["bar","bubble","candlestick","line"];t.config.bar_front&&s.push(s.shift()),s.forEach((function(e){var i=$f(e);("line"===e&&t.hasTypeOf(i)||t.hasType(e))&&a.push(i)}))}else if(r)a.push("Treemap");else{var c=t.hasType("polar");o||a.push("Arc","Pie"),t.hasType("gauge")?a.push("Gauge"):o?a.push("Radar"):c&&a.push("Polar")}a.forEach((function(e){t["init".concat(e)]()})),df(t.config.data_labels)&&!t.hasArcType(null,["radar"])&&t.initText()},t.prototype.setChartElements=function(){var t=this.$el,e=t.chart,i=t.svg,o=t.defs,r=t.main,a=t.tooltip,s=t.legend,c=t.title,l=t.grid,u=t.needle,h=t.arcs,d=t.circle,f=t.bar,p=t.candlestick,g=t.line,v=t.area,m=t.text;this.api.$={chart:e,svg:i,defs:o,main:r,tooltip:a,legend:s,title:c,grid:l,arc:h,circles:d,bar:{bars:f},candlestick:p,line:{lines:g,areas:v},needle:u,text:{texts:m}}},t.prototype.setBackground=function(){var t=this,e=t.config.background,i=t.state,o=t.$el.svg;if(df(e)){var r=o.select("g").insert(e.imgUrl?"image":"rect",":first-child");e.imgUrl?r.attr("href",e.imgUrl):e.color&&r.style("fill",e.color).attr("clip-path",i.clip.path),r.attr("class",e.class||null).attr("width","100%").attr("height","100%")}},t.prototype.updateTargets=function(t){var e,i=this,o=i.state,r=o.hasAxis,a=o.hasRadar,s=o.hasTreemap,c=function(e){return i["updateTargetsFor".concat(e)](t.filter(i["is".concat(e,"Type")].bind(i)))};if(i.updateTargetsForText(t),r)["bar","candlestick","line"].forEach((function(t){var e=$f(t);("line"===t&&i.hasTypeOf(e)||i.hasType(t))&&c(e)})),i.updateTargetsForSubchart&&i.updateTargetsForSubchart(t);else if(i.hasArcType(t)){var l="Arc";a?l="Radar":i.hasType("polar")&&(l="Polar"),c(l)}else s&&c("Treemap");var u=i.hasType("bubble")||i.hasType("scatter");u&&(null===(e=i.updateTargetForCircle)||void 0===e||e.call(i)),i.filterTargetsToShowAtInit(u)},t.prototype.filterTargetsToShowAtInit=function(t){void 0===t&&(t=!1);var e=this,i=e.$el.svg,o=e.$T,r=".".concat(Vf.target);t&&(r+=", .".concat(qf.chartCircles," > .").concat(qf.circles)),o(i.selectAll(r).filter((function(t){return e.isTargetToShow(t.id)}))).style("opacity",null)},t.prototype.getWithOption=function(t){var e={Dimension:!0,EventRect:!0,Legend:!1,Subchart:!0,Transform:!1,Transition:!0,TrimXDomain:!0,UpdateXAxis:"UpdateXDomain",UpdateXDomain:!1,UpdateOrgXDomain:!1,TransitionForExit:"Transition",TransitionForAxis:"Transition",Y:!0};return Object.keys(e).forEach((function(i){var o=e[i];nf(o)&&(o=e[o]),e[i]=gf(t,"with".concat(i),o)})),e},t.prototype.initialOpacity=function(t){var e=this.state.withoutFadeIn;return null!==this.getBaseValue(t)&&e[t.id]?null:"0"},t.prototype.bindResize=function(){var t=this,e=t.config,i=t.state,o=function(t){var e,i=[],o=function(){o.clear(),!1===t?qd((function(){i.forEach((function(t){return t()}))}),{timeout:200}):e=Ip((function(){i.forEach((function(t){return t()}))}),of(t)?t:200)};return o.clear=function(){e&&(Pp(e),e=null)},o.add=function(t){return i.push(t)},o.remove=function(t){return i.splice(i.indexOf(t),1)},o}(e.resize_timer),r=[];r.push((function(){return vf(e.onresize,t.api)})),e.resize_auto&&r.push((function(){i.resizing=!0,e.legend_show&&(t.updateSizes(),t.updateLegend()),t.api.flush(!1)})),r.push((function(){vf(e.onresized,t.api),i.resizing=!1})),r.forEach((function(t){return o.add(t)})),t.resizeFunction=o,Ud.addEventListener("resize",t.resizeFunction=o)},t.prototype.callPluginHook=function(t){for(var e=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.config.plugins.forEach((function(o){"$beforeInit"===t&&(o.$$=e,e.api.plugins.push(o)),o[t].apply(o,i)}))},t}();function _g(t){var e,i,o,r=this.config,a=function(){var t=i.shift();return t&&e&&uf(e)&&t in e?(e=e[t],a()):t?void 0:e};Object.keys(r).forEach((function(s){e=t,i=s.split("_"),o=a(),af(o)&&(r[s]=o)})),this.api&&(this.state.orgConfig=t)}Cf(xg.prototype,[Yp,Gp,Wp,{categoryName:function(t){var e,i=this.config.axis_x_categories;return null!==(e=null==i?void 0:i[t])&&void 0!==e?e:t}},Kp,Jp,tg,Zp,ng,og,rg,sg,lg,ug,hg,pg,vg,bg,mg,yg]);var wg={resize:function(t){var e=this.internal,i=e.config,o=e.state;o.rendered&&(i.size_width=t?t.width:null,i.size_height=t?t.height:null,o.resizing=!0,this.flush(!1),e.resizeFunction())},flush:function(t){var e,i,o=this.internal,r=o.state,a=o.$el.zoomResetBtn;r.rendered?(r.resizing?null===(e=o.brush)||void 0===e||e.updateResize():null===(i=o.axis)||void 0===i||i.setOrient(),null==a||a.style("display","none"),o.scale.zoom=null,t?o.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):o.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1}),!r.resizing&&o.brush&&(o.brush.getSelection().call(o.brush.move),o.unselectRect())):o.initToRender(!0)},destroy:function(){var t=this,e=this.internal,i=e.$el,o=i.chart,r=i.style,a=i.svg;if(df(e))for(var s in e.callPluginHook("$willDestroy"),e.charts.splice(e.charts.indexOf(this),1),e.unbindAllEvents(),a.select("*").interrupt(),e.resizeFunction.clear(),Ud.removeEventListener("resize",e.resizeFunction),o.classed("bb",!1).style("position",null).selectChildren().remove(),r&&r.parentNode.removeChild(r),Object.keys(this).forEach((function(i){"internal"===i&&Object.keys(e).forEach((function(t){e[t]=null})),t[i]=null,delete t[i]})),this)this[s]=function(){};return null},config:function(t,e,i){var o,r=this.internal,a=r.config,s=r.state,c=null==t?void 0:t.replace(/\./g,"_");return t&&c in a?af(e)?(a[c]=e,o=e,i&&this.flush()):o=a[c]:(0===arguments.length||hf(t))&&(o=s.orgConfig),o}},Tg=function(t){var e=this.internal.data.targets;if(!rf(t)){var i=ff(t)?t:[t];return e.filter((function(t){return i.some((function(e){return e===t.id}))}))}return e};Cf(Tg,{shown:function(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t,e){void 0===e&&(e=!0);var i=null;if(t){var o=this.data(t);ff(o)&&(i=[],o.forEach((function(t){var o=t.values.map((function(t){return t.value}));e?i=i.concat(o):i.push(o)})))}return i},names:function(t){return this.internal.updateDataAttributes("names",t)},colors:function(t){return this.internal.updateDataAttributes("colors",t)},axes:function(t){return this.internal.updateDataAttributes("axes",t)},min:function(){return this.internal.getMinMaxData().min},max:function(){return this.internal.getMinMaxData().max}});var kg={data:Tg};function Sg(t,e,i){var o,r,a=e||i,s=a.width,c=a.height,l=new XMLSerializer,u=t.cloneNode(!0),h=(o=Ef(jd.styleSheets),r=[],o.forEach((function(t){var e;try{t.cssRules&&t.cssRules.length&&(r=r.concat(Ef(t.cssRules)))}catch(i){null===(e=Ud.console)||void 0===e||e.warn("Error while reading rules from ".concat(t.href,": ").concat(i.toString()))}})),r).filter((function(t){return t.cssText})).map((function(t){return t.cssText}));u.setAttribute("xmlns",Yr.xhtml),u.style.margin="0",u.style.padding="0",e.preserveFontStyle&&u.querySelectorAll("text").forEach((function(t){t.innerHTML=""}));var d=l.serializeToString(u),f=jd.createElement("style");f.appendChild(jd.createTextNode(h.join("\n")));var p=l.serializeToString(f),g='<svg xmlns="'.concat(Yr.svg,'" width="').concat(s,'" height="').concat(c,'" \n\t\tviewBox="0 0 ').concat(i.width," ").concat(i.height,'" \n\t\tpreserveAspectRatio="').concat(!1===(null==e?void 0:e.preserveAspectRatio)?"none":"xMinYMid meet",'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t').concat(p,"\n\t\t\t\t").concat(d.replace(/(url\()[^#]+/g,"$1"),"\n\t\t\t</foreignObject></svg>");return"data:image/svg+xml;base64,".concat(function(t){var e;return null===(e=Ud.btoa)||void 0===e?void 0:e.call(Ud,encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number("0x".concat(e)))})))}(g))}function Ag(t){var e=t.getBoundingClientRect(),i=e.left,o=e.top,r=function(t){return t.textContent||t.childElementCount},a=[];return Ef(t.querySelectorAll("text")).filter(r).forEach((function(t){var e=function(t){var e,r=Ud.getComputedStyle(t),a=r.fill,s=r.fontFamily,c=r.fontSize,l=r.textAnchor,u=r.transform,h=function(t,e){var i=e.top,o=e.left,r=t.getBBox(),a=r.x,s=r.y,c=t.getScreenCTM(),l=c.a,u=c.b,h=c.c,d=c.d,f=c.e,p=c.f,g=t.getBoundingClientRect(),v=g.width,m=g.height;return{x:l*a+h*s+f-o,y:u*a+d*s+p-i+(m-Math.round(m/4)),width:v,height:m}}(t,{left:i,top:o}),d=h.x,f=h.y,p=h.width,g=h.height;return(e={})[t.textContent]={x:d,y:f,width:p,height:g,fill:a,fontFamily:s,fontSize:c,textAnchor:l,transform:u},e};if(t.childElementCount>1){return Ef(t.querySelectorAll("tspan")).filter(r).forEach((function(t){a.push(e(t))})),[]}a.push(e(t))})),a}var Cg={export:function(t,e){var i=this,o=this.internal,r=o.state,a=o.$el,s=a.chart,c=a.svg,l=r.current,u=l.width,h=l.height,d=Of({width:u,height:h,preserveAspectRatio:!0,preserveFontStyle:!1,mimeType:"image/png"},t),f=Sg(s.node(),d,{width:u,height:h}),p=d.preserveFontStyle?Ag(c.node()):[];if(e&&ef(e)){var g=new Image;g.crossOrigin="Anonymous",g.onload=function(){var t=jd.createElement("canvas"),o=t.getContext("2d");t.width=d.width||u,t.height=d.height||h,o.drawImage(g,0,0),p.length&&(!function(t,e){e.forEach((function(e){Object.keys(e).forEach((function(i){var o=e[i],r=o.x,a=o.y,s=o.width,c=o.height,l=o.fill,u=o.fontFamily,h=o.fontSize,d=o.transform;if(t.save(),t.font="".concat(h," ").concat(u),t.fillStyle=l,"none"===d)t.fillText(i,r,a);else{var f=d.replace(/(matrix|\(|\))/g,"").split(",");f.splice(4).every((function(t){return 0==+t}))?(f.push(r+s-s/4),f.push(a-c+c/3)):(f.push(r),f.push(a)),t.transform.apply(t,f),t.fillText(i,0,0)}t.restore()}))}))}(o,p),p.length=0),e.bind(i)(t.toDataURL(d.mimeType))},g.src=f}return f}},$g={focus:function(t){var e=this.internal,i=e.state,o=e.mapToTargetIds(t),r=e.$el.svg.selectAll(e.selectorTargets(o.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),r.classed(ep.focused,!0).classed(ep.defocused,!1),e.hasArcType()&&!i.hasRadar&&(e.expandArc(o),e.hasType("gauge")&&e.markOverlapped(t,e,".".concat(Kf.gaugeValue))),e.toggleFocusLegend(o,!0),i.focusedTargetIds=o,i.defocusedTargetIds=i.defocusedTargetIds.filter((function(t){return o.indexOf(t)<0}))},defocus:function(t){var e=this.internal,i=e.state,o=e.mapToTargetIds(t);e.$el.svg.selectAll(e.selectorTargets(o.filter(e.isTargetToShow,e))).classed(ep.focused,!1).classed(ep.defocused,!0),e.hasArcType(null,["polar"])&&(e.unexpandArc(o),e.hasType("gauge")&&e.undoMarkOverlapped(e,".".concat(Kf.gaugeValue))),e.toggleFocusLegend(o,!1),i.focusedTargetIds=i.focusedTargetIds.filter((function(t){return o.indexOf(t)<0})),i.defocusedTargetIds=o},revert:function(t){var e=this.internal,i=e.config,o=e.state,r=e.$el,a=e.mapToTargetIds(t);r.svg.selectAll(e.selectorTargets(a)).classed(ep.focused,!1).classed(ep.defocused,!1),e.hasArcType(null,["polar"])&&e.unexpandArc(a),i.legend_show&&(e.showLegend(a.filter(e.isLegendToShow.bind(e))),r.legend.selectAll(e.selectorLegends(a)).filter((function(){return Fa(this).classed(ep.legendItemFocused)})).classed(ep.legendItemFocused,!1)),o.focusedTargetIds=[],o.defocusedTargetIds=[]}},Eg={legend:{show:function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}}},Dg={load:function(t){var e=this.internal,i=e.config;t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){i.data_classes[e]=t.classes[e]})),"categories"in t&&e.axis.isCategorized()&&(i.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){i.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){i.data_colors[e]=t.colors[e]})),"unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),(function(){qd((function(){return e.loadFromArgs(t)}))})):e.loadFromArgs(t)},unload:function(t){var e=this.internal,i=t||{};hf(i)&&this.tooltip.hide(),ff(i)?i={ids:i}:nf(i)&&(i={ids:[i]});var o=e.mapToTargetIds(i.ids);e.unload(o,(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.cache.remove(o),qp.call(e,i.done,i.resizeAfter)}))}};function Mg(t,e,i){var o=this,r=this.internal,a=r.mapToTargetIds(e),s=r.state.hiddenTargetIds.map((function(t){return a.indexOf(t)>-1&&t})).filter(Boolean);r.state.toggling=!0,r["".concat(t?"remove":"add","HiddenTargetIds")](a);var c=r.$el.svg.selectAll(r.selectorTargets(a)),l=t?null:"0";t&&s.length&&(c.style("display",null),vf(r.config.data_onshown,this,s)),r.$T(c).style("opacity",l,"important").call(bf,(function(){t||0!==s.length||(c.style("display","none"),vf(r.config.data_onhidden,o,a)),c.style("opacity",l)})),i.withLegend&&r["".concat(t?"show":"hide","Legend")](a),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),r.state.toggling=!1}var Rg={show:function(t,e){void 0===e&&(e={}),Mg.call(this,!0,t,e)},hide:function(t,e){void 0===e&&(e={}),Mg.call(this,!1,t,e)},toggle:function(t,e){var i=this;void 0===e&&(e={});var o=this.internal,r={show:[],hide:[]};o.mapToTargetIds(t).forEach((function(t){return r[o.isTargetToShow(t)?"hide":"show"].push(t)})),r.show.length&&this.show(r.show,e),r.hide.length&&setTimeout((function(){return i.hide(r.hide,e)}),0)}},Og={show:function(t){var e,i,o,r,a,s=this.internal,c=s.$el,l=s.config,u=s.state,h=u.eventReceiver,d=u.hasTreemap,f=u.inputType;if(t.mouse&&(a=t.mouse),t.data){var p=t.data,g=null===(e=s.getYScaleById(p.id))||void 0===e?void 0:e(p.value);d&&p.id?h.rect=c.main.select("".concat(s.selectorTarget(p.id,void 0,"rect"))):s.isMultipleX()?a=[s.xx(p),g]:(l.tooltip_grouped||(a=[0,g]),r=null!==(i=p.index)&&void 0!==i?i:s.hasArcType()&&p.id?null===(o=s.getArcElementByIdOrIndex(p.id))||void 0===o?void 0:o.datum().index:s.getIndexByX(p.x))}else af(t.x)?r=s.getIndexByX(t.x):af(t.index)&&(r=t.index);("mouse"===f?["mouseover","mousemove"]:["touchstart"]).forEach((function(t){s.dispatchEvent(t,r,a)}))},hide:function(){var t,e,i,o=this.internal,r=o.state.inputType,a=o.$el.tooltip,s=null==a?void 0:a.datum();if(s){var c=JSON.parse(s.current)[0].index;("mouse"===r?["mouseout"]:["touchend"]).forEach((function(t){o.dispatchEvent(t,c)}))}"touch"===r&&o.callOverOutForTouch(),o.hideTooltip(!0),null===(t=o.hideGridFocus)||void 0===t||t.call(o),null===(e=o.unexpandCircles)||void 0===e||e.call(o),null===(i=o.expandBarTypeShapes)||void 0===i||i.call(o,!1)}},Ig={tooltip:Og},Pg=function t(e){this.plugins=[];var i=new xg(this);this.internal=i,function t(e,i,o){Object.keys(e).forEach((function(r){var a=ef(e[r]),s=i!==o,c=df(e[r]),l=c&&Object.keys(e[r]).length>0;i[r]=a&&(!s&&l||s)?e[r].bind(o):c&&!a?{}:e[r],l&&t(e[r],i[r],o)}))}(t.prototype,this,this),_g.call(i,e),i.beforeInit(),i.init()};function Lg(t,e,i){var o=t.config,r=function(t,i){var r=of(i)?i:!1===i?void 0:null;null!==r&&(o["axis_".concat(t,"_").concat(e)]=r)};af(i)&&(uf(i)?Object.keys(i).forEach((function(t){r(t,i[t])})):(of(i)||!1===i)&&["y","y2"].forEach((function(t){r(t,i)})),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))}function zg(t,e){var i=t.config;return{x:i["axis_x_".concat(e)],y:i["axis_y_".concat(e)],y2:i["axis_y2_".concat(e)]}}Cf(Pg.prototype,[wg,{color:function(t){return this.internal.color(t)}},kg,Cg,$g,Eg,Dg,Rg,Ig]);var Bg={labels:function(t){var e,i=this.internal;return t&&(Object.keys(t).forEach((function(e){i.axis.setLabelText(e,t[e])})),i.axis.updateLabels()),["x","y","y2"].forEach((function(t){var o=i.axis.getLabelText(t);o&&(!e&&(e={}),e[t]=o)})),e},min:function(t){var e=this.internal;return tf(t)||!1===t?Lg(e,"min",t):zg(e,"min")},max:function(t){var e=this.internal;return tf(t)||!1===t?Lg(e,"max",t):zg(e,"max")},range:function(t){var e=this.axis;if(!arguments.length)return{max:e.max(),min:e.min()};var i=t.min,o=t.max;af(o)&&e.max(o),af(i)&&e.min(i)}},Ng={axis:Bg},Fg={category:function(t,e){var i=this.internal,o=i.config;return arguments.length>1&&(o.axis_x_categories[t]=e,i.redraw()),o.axis_x_categories[t]},categories:function(t){var e=this.internal,i=e.config;if(!t||!Array.isArray(t)){var o=i.axis_x_categories;return hf(o)?Object.values(e.data.xs)[0]:o}return i.axis_x_categories=t,e.redraw(),i.axis_x_categories}};function Xg(t,e){var i=this.internal,o=i.config,r=o.transition_duration&&Nf(),a="grid_".concat(e,"_lines");return t?(o[a]=t,i.updateGrid(),i.redrawGrid(r),o[a]):o[a]}function Vg(t,e){var i="grid_".concat(e,"_lines");return Xg.bind(this)(this.internal.config[i].concat(t||[]),e)}function Hg(t,e){this.internal.removeGridLines(t,e)}var Ug=function(t){return Xg.bind(this)(t,"x")};Cf(Ug,{add:function(t){return Vg.bind(this)(t,"x")},remove:function(t){return Hg.bind(this)(t,!0)}});var jg=function(t){return Xg.bind(this)(t,"y")};Cf(jg,{add:function(t){return Vg.bind(this)(t,"y")},remove:function(t){return Hg.bind(this)(t,!1)}});var Yg={xgrids:Ug,ygrids:jg},Gg={groups:function(t){var e=this.internal,i=e.config;return rf(t)||(i.data_groups=t,e.redraw()),i.data_groups}};function qg(t,e){void 0===e&&(e=!1);var i=this.internal,o=i.config,r=o.transition_duration&&Nf();return t?(o.regions=e?o.regions.concat(t):t,i.updateRegion(),i.redrawRegion(r),e?o.regions:t):o.regions}var Wg=function(t){return qg.bind(this)(t)};Cf(Wg,{add:function(t){return qg.bind(this)(t,!0)},remove:function(t){var e=this.internal,i=e.config,o=e.$T,r=t||{},a=gf(r,"classes",[op.region]),s=e.$el.main.select(".".concat(op.regions)).selectAll(a.map((function(t){return".".concat(t)})));return o(s).style("opacity","0").remove(),s=i.regions,Object.keys(r).length?(s=s.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){a.indexOf(t)>=0&&(e=!0)})),!e)})),i.regions=s):i.regions=[],s}});var Zg={regions:Wg},Kg={x:function(t){var e=this.internal,i=e.axis,o=e.data,r=i.isCustomX()&&i.isCategorized();return ff(t)&&(r?this.categories(t):(e.updateTargetX(o.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))),r?this.categories():o.xs},xs:function(t){var e=this.internal;return pf(t)&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}},Qg={flow:function(t){var e,i=this.internal;(t.json||t.rows||t.columns)&&i.convertData(t,(function(o){e=o,function(){var o,r,a,s=0,c=0;if(i.state.redrawing||!e||!Nf())return;var l=[],u=i.getMaxDataCount(),h=i.convertDataToTargets(e,!0),d=i.axis.isTimeSeries();i.data.targets.forEach((function(t){for(var e=!1,i=0;i<h.length;i++)if(t.id===h[i].id){e=!0,t.values[t.values.length-1]&&(c=t.values[t.values.length-1].index+1),s=h[i].values.length;for(var o=0;o<s;o++)h[i].values[o].index=c+o,d||(h[i].values[o].x=c+o);t.values=t.values.concat(h[i].values),h.splice(i,1);break}!e&&l.push(t.id)})),i.data.targets.forEach((function(t){for(var e=0;e<l.length;e++)if(t.id===l[e]){c=t.values[t.values.length-1].index+1;for(var o=0;o<s;o++)t.values.push({id:t.id,index:c+o,x:d?i.getOtherTargetX(c+o):c+o,value:null})}})),i.data.targets.length&&h.forEach((function(t){for(var e=[],o=i.data.targets[0].values[0].index;o<c;o++)e.push({id:t.id,index:o,x:d?i.getOtherTargetX(o):o,value:null});t.values.forEach((function(t){t.index+=c,d||(t.x+=c)})),t.values=e.concat(t.values)}));i.data.targets=i.data.targets.concat(h);var f=i.data.targets[0],p=f.values[0];af(t.to)?(s=0,a=d?Bf.call(i,t.to):t.to,f.values.forEach((function(t){t.x<a&&s++}))):af(t.length)&&(s=t.length);u?1===u&&d&&(r=(f.values[f.values.length-1].x-p.x)/2,o=[new Date(+p.x-r),new Date(+p.x+r)]):(r=d?f.values.length>1?f.values[f.values.length-1].x-p.x:p.x-i.getXDomain(i.data.targets)[0]:1,o=[p.x-r,p.x]);o&&i.updateXDomain(null,!0,!0,!1,o),i.updateTargets(i.data.targets),i.redraw({flow:{index:p.index,length:s,duration:tf(t.duration)?t.duration:i.config.transition_duration,done:t.done,orgDataCount:u},withLegend:!0,withTransition:u>1,withTrimXDomain:!1,withUpdateXAxis:!0})}()}))}},Jg=function(){function t(t){var e=ag(),i=t.config,o=t.params;this.owner=t,this.config=i,this.scale=e,!i.noTransition&&o.config.transition_duration||(i.withoutTransition=!0),i.range=this.scaleExtent((o.orgXScale||e).range())}return t.getSizeFor1Char=function(t){var e={w:5.5,h:11.5};return!t.empty()&&t.select("text").text("0").call((function(t){try{var i=t.node().getBBox(),o=i.width,r=i.height;o&&r&&(e.w=o,e.h=r)}catch(t){}finally{t.text("")}})),this.getSizeFor1Char=function(){return e},e},t.prototype.getTickTransformSetter=function(t){var e=this.config,i="x"===t?function(t){return"translate(".concat(t+e.tickOffset,",0)")}:function(t){return"translate(0,".concat(t,")")};return function(t,e){t.attr("transform",(function(t){return tf(t)?i(Math.ceil(e(t))):null}))}},t.prototype.scaleExtent=function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]},t.prototype.generateTicks=function(t,e){var i=this.owner.params.tickStepSize,o=t.domain(),r=o[0],a=o[1],s=[];if(e&&i)for(var c=Math.round(r);c<=a;)s.push(c),c+=i;else if(t.ticks){var l=this.config.tickArguments;if("log"!==t.type||l)s=t.ticks.apply(t,this.config.tickArguments||[]);else{var u=ag("_log").domain([r>0?r:1,a]).range(t.range());s=u.ticks();for(var h=a.toFixed().length;s.length>15;h--)s=u.ticks(h);s.splice(0,1,r),s.splice(s.length-1,1,a)}s=s.map((function(t){return nf(t)&&of(t)&&!isNaN(t)&&Math.round(10*t)/10||t}))}return s},t.prototype.copyScale=function(){var t=this.scale.copy();return t.domain().length||t.domain(this.scale.domain()),t.type=this.scale.type,t},t.prototype.textFormatted=function(t){var e=this.config.tickFormat,i=/\d+\.\d+0{5,}\d$/.test(t)?+String(t).replace(/0+\d$/,""):t,o=e?e(i):i;return af(o)?o:""},t.prototype.transitionise=function(t){var e=this.config,i=t;if(e.withoutTransition)i=t.interrupt();else if(e.transition||!this.owner.params.noTransition)try{i=t.transition(e.transition)}catch(t){}return i},t}(),tv=function(){function t(t){void 0===t&&(t={});var e={innerTickSize:6,outerTickSize:t.outerTick?6:0,orient:"bottom",range:[],tickArguments:null,tickCentered:null,tickCulling:!0,tickFormat:null,tickLength:9,tickOffset:0,tickPadding:3,tickValues:null,transition:null,noTransition:t.noTransition};e.tickLength=Math.max(e.innerTickSize,0)+e.tickPadding,this.config=e,this.params=t,this.helper=new Jg(this)}return t.prototype.create=function(t){var e=this,i=e.config,o=e.helper,r=e.params,a=o.scale,s=i.orient,c=this.splitTickText.bind(e),l=/^(left|right)$/.test(s),u=/^(top|bottom)$/.test(s),h=o.getTickTransformSetter(u?"x":"y"),d=h===o.axisX?"y":"x",f=/^(top|left)$/.test(s)?-1:1,p=r.tickTextRotate;this.config.range=a.rangeExtent?a.rangeExtent():o.scaleExtent((r.orgXScale||a).range());var g,v=i.innerTickSize,m=i.tickLength,y=i.range,x=r.id,_=x&&/^(x|y|y2)$/.test(x)?r.config["axis_".concat(x,"_tick_text_position")]:{x:0,y:0},w="subX"===x?"subchart_axis_x":"axis_".concat(x),T=r.config["".concat(w,"_show")],S=!!T&&r.config["".concat(w,"_tick_show")],A=!!T&&r.config["".concat(w,"_tick_text_show")];t.each((function(){var t=Fa(this),x=this.__chart__||a,w=o.copyScale();g=t,this.__chart__=w,i.tickOffset=r.isCategory?Math.ceil((w(1)-w(0))/2):0;var T,C=t.selectAll(".domain").data([0]);if(C.enter().append("path").attr("class","domain").merge(C).attr("d",(function(){var t=i.outerTickSize*f;return u?"M".concat(y[0],",").concat(t,"V0H").concat(y[1],"V").concat(t):"M".concat(t,",").concat(y[0],"H0V").concat(y[1],"H").concat(t)})),S||A){var $=i.tickValues||o.generateTicks(w,l);e.generatedTicks=$;var E=t.selectAll(".tick").data($,w),D=E.enter().insert("g",".domain").attr("class","tick"),O=E.exit().remove();E=D.merge(E),S&&D.append("line"),A&&D.append("text");var P=Jg.getSizeFor1Char(E),z=[],B=E.select("text").selectAll("tspan").data((function(t,e){var i=r.tickMultiline?c(t,w,$,l,P.w):ff(o.textFormatted(t))?o.textFormatted(t).concat():[o.textFormatted(t)];return z[e]=i.length,i.map((function(t){return{index:e,splitted:t}}))}));B.exit().remove(),B=B.enter().append("tspan").merge(B).text((function(t){return t.splitted})),B.attr("x",u?0:m*f).attr("dx",(T=0,/(top|bottom)/.test(s)&&p&&(T=8*Math.sin(Math.PI*(p/180))*("top"===s?-1:1)),T+(_.x||0))).attr("dy",(function(t,e){var i=".71em",o=0;return"top"!==s&&(o=P.h,0===e&&(o=l?-((z[t.index]-1)*(P.h/2)-3):0===_.y?i:0)),of(o)&&_.y?o+_.y:o||i}));var N=E.select("line"),F=E.select("text");if(D.select("line").attr("".concat(d,"2"),v*f),D.select("text").attr(d,m*f),e.setTickLineTextPosition(N,F),r.tickTitle){var X=F.select("title");(X.empty()?F.append("title"):X).text((function(t){return r.tickTitle[t]}))}if(w.bandwidth){var U=w,j=U.bandwidth()/2;x=function(t){return U(t)+j},w=x}else x.bandwidth?x=w:h(O,w);E=r.owner.state.flowing?o.transitionise(E):r.owner.$T(E),h(D,x),h(E.style("opacity",null),w)}})),this.g=g},t.prototype.getGeneratedTicks=function(t){var e,i=(null===(e=this.generatedTicks)||void 0===e?void 0:e.length)-1,o=this.generatedTicks;if(i>t){var r=Math.round(i/t+.1);o=this.generatedTicks.map((function(t,e){return e%r==0?t:null})).filter((function(t){return null!==t})).splice(0,t)}return o},t.prototype.getTickXY=function(){var t=this.config,e={x:0,y:0};return this.params.isCategory&&(e.x=t.tickCentered?0:t.tickOffset,e.y=t.tickCentered?t.tickOffset:0),e},t.prototype.getTickSize=function(t){var e=this.helper.scale,i=this.config,o=i.innerTickSize,r=i.range,a=e(t)+(i.tickCentered?0:i.tickOffset);return r[0]<a&&a<r[1]?o:0},t.prototype.setTickLineTextPosition=function(t,e){var i=this.getTickXY(),o=this.config,r=o.innerTickSize,a=o.orient,s=o.tickLength,c=o.tickOffset,l=this.params.tickTextRotate,u=function(t){var e=["start","end"];return"top"===a&&e.reverse(),t?e[t>0?0:1]:"middle"},h=function(t){return t?"rotate(".concat(t,")"):null},d=function(t){return t?11.5-2.5*(t/("bottom"===a?15:23))*(t>0?1:-1):s};switch(a){case"bottom":t.attr("x1",i.x).attr("x2",i.x).attr("y2",this.getTickSize.bind(this)),e.attr("x",0).attr("y",d(l)).style("text-anchor",u(l)).attr("transform",h(l));break;case"top":t.attr("x2",0).attr("y2",-r),e.attr("x",0).attr("y",2*-d(l)).style("text-anchor",u(l)).attr("transform",h(l));break;case"left":t.attr("x2",-r).attr("y1",i.y).attr("y2",i.y),e.attr("x",-s).attr("y",c).style("text-anchor","end");break;case"right":t.attr("x2",r).attr("y2",0),e.attr("x",s).attr("y",0).style("text-anchor","start")}},t.prototype.splitTickText=function(t,e,i,o,r){var a=this.params,s=this.helper.textFormatted(t),c=nf(s)&&s.indexOf("\n")>-1?s.split("\n"):[];if(c.length)return c;if(ff(s))return s;var l=a.tickWidth;return(!l||l<=0)&&(l=o?95:a.isCategory?Math.ceil(a.isInverted?e(i[0])-e(i[1]):e(i[1])-e(i[0]))-12:110),function t(e,i){for(var o,a,s,c=1;c<i.length;c++)if(" "===i.charAt(c)&&(a=c),o=i.substr(0,c+1),s=r*o.length,l<s)return t(e.concat(i.substr(0,a||c)),i.slice(a?a+1:c));return e.concat(i)}(c,String(s))},t.prototype.scale=function(t){return arguments.length?(this.helper.scale=t,this):this.helper.scale},t.prototype.orient=function(t){return arguments.length?(this.config.orient=t in{top:1,right:1,bottom:1,left:1}?String(t):"bottom",this):this.config.orient},t.prototype.tickFormat=function(t){var e=this.config;return arguments.length?(e.tickFormat=t,this):e.tickFormat},t.prototype.tickCentered=function(t){var e=this.config;return arguments.length?(e.tickCentered=t,this):e.tickCentered},t.prototype.tickOffset=function(){return this.config.tickOffset},t.prototype.tickInterval=function(t){var e,i=this,o=this.config,r=o.outerTickSize,a=o.tickOffset,s=o.tickValues;if(this.params.isCategory)e=2*a;else{e=(this.g.select("path.domain").node().getTotalLength()-2*r)/(t||this.g.selectAll("line").size());var c=s?s.map((function(t,e,o){var r=e+1;return r<o.length?i.helper.scale(o[r])-i.helper.scale(t):null})).filter(Boolean):[];e=Math.min.apply(Math,Jd(Jd([],c,!1),[e],!1))}return e===1/0?0:e},t.prototype.ticks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=this.config;return t.length?(i.tickArguments=Ef(t),this):i.tickArguments},t.prototype.tickCulling=function(t){var e=this.config;return arguments.length?(e.tickCulling=t,this):e.tickCulling},t.prototype.tickValues=function(t){var e=this,i=this.config;if(ef(t))i.tickValues=function(){return t(e.helper.scale.domain())};else{if(!arguments.length)return i.tickValues;i.tickValues=t}return this},t.prototype.setTransition=function(t){return this.config.transition=t,this},t}(),ev={getAxisInstance:function(){return this.axis||new nv(this)}},nv=function(){function t(t){this.axesList={},this.tick={x:null,y:null,y2:null},this.xs=[],this.orient={x:"bottom",y:"left",y2:"right",subX:"bottom"},this.owner=t,this.setOrient()}return t.prototype.getAxisClassName=function(t){return"".concat(jf.axis," ").concat(jf["axis".concat($f(t))])},t.prototype.isHorizontal=function(t,e){var i=t.config.axis_rotated;return e?i:!i},t.prototype.isCategorized=function(){var t=this.owner,e=t.config,i=t.state;return e.axis_x_type.indexOf("category")>=0||i.hasRadar},t.prototype.isCustomX=function(){var t=this.owner.config;return!this.isTimeSeries()&&(t.data_x||df(t.data_xs))},t.prototype.isTimeSeries=function(t){return void 0===t&&(t="x"),"timeseries"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isLog=function(t){return void 0===t&&(t="x"),"log"===this.owner.config["axis_".concat(t,"_type")]},t.prototype.isTimeSeriesY=function(){return this.isTimeSeries("y")},t.prototype.getAxisType=function(t){void 0===t&&(t="x");var e="linear";return this.isTimeSeries(t)?e=this.owner.config.axis_x_localtime?"time":"utc":this.isLog(t)&&(e="log"),e},t.prototype.init=function(){var t=this,e=this.owner,i=e.config,o=e.$el,r=o.main,a=o.axis,s=e.state.clip,c=i.axis_rotated,l=["x","y"];i.axis_y2_show&&l.push("y2"),l.forEach((function(o){var l=t.getAxisClassName(o),u=jf["axis".concat(o.toUpperCase(),"Label")];a[o]=r.append("g").attr("class",l).attr("clip-path",(function(){var t=null;return"x"===o?t=s.pathXAxis:"y"===o&&(t=s.pathYAxis),t})).attr("transform",e.getTranslate(o)).style("visibility",i["axis_".concat(o,"_show")]?null:"hidden"),a[o].append("text").attr("class",u).attr("transform",["rotate(-90)",null]["x"===o?+!c:+c]).style("text-anchor",(function(){return t.textAnchorForAxisLabel(o)})),t.generateAxes(o)}))},t.prototype.setOrient=function(){var t=this.owner.config,e=t.axis_rotated,i=t.axis_y_inner,o=t.axis_y2_inner;this.orient={x:e?"left":"bottom",y:e?i?"top":"bottom":i?"right":"left",y2:e?o?"bottom":"top":o?"left":"right",subX:e?"left":"bottom"}},t.prototype.generateAxes=function(t){var e,i=this.owner,o=i.config,r=[],a=o["axis_".concat(t,"_axes")],s=o.axis_rotated;"x"===t?e=s?vd:gd:"y"===t?e=s?gd:vd:"y2"===t&&(e=s?fd:pd),a.length&&a.forEach((function(o){var a=o.tick||{},s=i.scale[t].copy();o.domain&&s.domain(o.domain),r.push(e(s).ticks(a.count).tickFormat(ef(a.format)?a.format.bind(i.api):function(t){return t}).tickValues(a.values).tickSizeOuter(!1===a.outer?0:6))})),this.axesList[t]=r},t.prototype.updateAxes=function(){var t=this,e=this.owner,i=e.config,o=e.$el.main,r=e.$T;Object.keys(this.axesList).forEach((function(a){var s=i["axis_".concat(a,"_axes")],c=e.scale[a].copy(),l=c.range();t.axesList[a].forEach((function(u,h){var d=u.scale().range();l.every((function(t,e){return t===d[e]}))||u.scale().range(l);var f="".concat(t.getAxisClassName(a),"-").concat(h+1),p=o.select(".".concat(f.replace(/\s/,".")));p.empty()?p=o.append("g").attr("class",f).style("visibility",i["axis_".concat(a,"_show")]?null:"hidden").call(u):(s[h].domain&&c.domain(s[h].domain),r(p).call(u.scale(c))),p.attr("transform",e.getTranslate(a,h+1))}))}))},t.prototype.setAxis=function(t,e,i,o){var r=this.owner;"subX"!==t&&(this.tick[t]=this.getTickValues(t)),this[t]=this.getAxis(t,e,i,!("x"!==t||!(r.scale.zoom||r.config.subchart_show||r.state.resizing))||o)},t.prototype.getAxis=function(t,e,i,o,r){var a,s=this.owner,c=s.config,l=/^(x|subX)$/.test(t),u=l?"x":t,h=l&&this.isCategorized(),d=this.orient[t],f=r?0:s.getAxisTickRotate(u);if(l)a="subX"===t?s.format.subXAxisTick:s.format.xAxisTick;else{var p=c["axis_".concat(t,"_tick_format")];ef(p)&&(a=p.bind(s.api))}var g=this.tick[u],v=Of({outerTick:i,noTransition:o,config:c,id:t,tickTextRotate:f,owner:s},l&&{isCategory:h,isInverted:c.axis_x_inverted,tickMultiline:c.axis_x_tick_multiline,tickWidth:c.axis_x_tick_width,tickTitle:h&&c.axis_x_tick_tooltip&&s.api.categories(),orgXScale:s.scale.x});l||(v.tickStepSize=c["axis_".concat(u,"_tick_stepSize")]);var m=new tv(v).scale(l&&s.scale.zoom||e).orient(d);if(l&&this.isTimeSeries()&&g&&!ef(g)){var y=Bf.bind(s);g=g.map((function(t){return y(t)}))}else!l&&this.isTimeSeriesY()&&(m.ticks(c.axis_y_tick_time_value),g=null);g&&m.tickValues(g),m.tickFormat(a||!l&&s.isStackNormalized()&&function(t){return"".concat(t,"%")}),h&&(m.tickCentered(c.axis_x_tick_centered),hf(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1));var x=c["axis_".concat(u,"_tick_count")];return x&&m.ticks(x),m},t.prototype.updateXAxisTickValues=function(t,e){var i,o,r=this.owner,a=r.config,s=a.axis_x_tick_fit,c=a.axis_x_tick_count;return(s||c&&s)&&(o=r.mapTargetsToUniqueXs(t),this.isCategorized()&&c>o.length&&(c=o.length),o=this.generateTickValues(o,c,this.isTimeSeries())),e?e.tickValues(o):this.x&&(this.x.tickValues(o),null===(i=this.subX)||void 0===i||i.tickValues(o)),o},t.prototype.getId=function(t){var e=this.owner,i=e.config,o=e.scale,r=i.data_axes[t];return r&&o[r]||(r="y"),r},t.prototype.getXAxisTickFormat=function(t){var e,i=this.owner,o=i.config,r=i.format,a=t&&o.subchart_axis_x_tick_format||o.axis_x_tick_format,s=this.isTimeSeries(),c=this.isCategorized();return a?ef(a)?e=a.bind(i.api):s&&(e=function(t){return t?r.axisTime(a)(t):""}):e=s?r.defaultAxisTime:c?i.categoryName:function(t){return t<0?t.toFixed(0):t},ef(e)?function(t){return e.apply(i,c?[t,i.categoryName(t)]:[t])}:e},t.prototype.getTickValues=function(t){var e=this.owner,i=e.config["axis_".concat(t,"_tick_values")],o=e["".concat(t,"Axis")];return(ef(i)?i.call(e.api):i)||(o?o.tickValues():void 0)},t.prototype.getLabelOptionByAxisId=function(t){return this.owner.config["axis_".concat(t,"_label")]},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return nf(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var i=this.owner.config,o=this.getLabelOptionByAxisId(t);nf(o)?i["axis_".concat(t,"_label")]=e:o&&(o.text=e)},t.prototype.getLabelPosition=function(t,e){var i=this.owner.config.axis_rotated,o=this.getLabelOptionByAxisId(t),r=uf(o)&&o.position?o.position:e[+!i],a=function(t){return!!~r.indexOf(t)};return{isInner:a("inner"),isOuter:a("outer"),isLeft:a("left"),isCenter:a("center"),isRight:a("right"),isTop:a("top"),isMiddle:a("middle"),isBottom:a("bottom")}},t.prototype.getAxisLabelPosition=function(t){return this.getLabelPosition(t,"x"===t?["inner-top","inner-right"]:["inner-right","inner-top"])},t.prototype.getLabelPositionById=function(t){return this.getAxisLabelPosition(t)},t.prototype.xForAxisLabel=function(t){var e=this.owner,i=e.state,o=i.width,r=i.height,a=this.getAxisLabelPosition(t),s=a.isMiddle?-r/2:0;return this.isHorizontal(e,"x"!==t)?s=a.isLeft?0:a.isCenter?o/2:o:a.isBottom&&(s=-r),s},t.prototype.dxForAxisLabel=function(t){var e=this.owner,i=this.getAxisLabelPosition(t),o=i.isBottom?"0.5em":"0";return this.isHorizontal(e,"x"!==t)?o=i.isLeft?"0.5em":i.isRight?"-0.5em":"0":i.isTop&&(o="-0.5em"),o},t.prototype.textAnchorForAxisLabel=function(t){var e=this.owner,i=this.getAxisLabelPosition(t),o=i.isMiddle?"middle":"end";return this.isHorizontal(e,"x"!==t)?o=i.isLeft?"start":i.isCenter?"middle":"end":i.isBottom&&(o="start"),o},t.prototype.dyForAxisLabel=function(t){var e,i=this.owner,o=i.config,r=o.axis_rotated,a=this.getAxisLabelPosition(t).isInner,s=o["axis_".concat(t,"_tick_rotate")]?i.getHorizontalAxisHeight(t):0,c=this.getMaxTickSize(t).width;if("x"===t){var l=o.axis_x_height;e=r?a?"1.2em":-25-c:a?"-0.5em":l?l-10:s?s-10:"3em"}else e={y:["-0.5em",10,"3em","1.2em",10],y2:["1.2em",-20,"-2.2em","-0.5em",15]}[t],e=r?a?e[0]:s?s*("y2"===t?-1:1)-e[1]:e[2]:a?e[3]:(e[4]+(o["axis_".concat(t,"_inner")]?0:c+e[4]))*("y"===t?-1:1);return e},t.prototype.getMaxTickSize=function(t,e){var i=this.owner,o=i.config,r=i.state.current,a=i.$el,s=a.svg,c=a.chart,l=r.maxTickSize[t],u="axis_".concat(t),h={width:0,height:0};if(e||!o["".concat(u,"_show")]||l.width>0&&0===i.filterTargetsToShow().length)return l;if(s){var d=/^y2?$/.test(t),f=i.filterTargetsToShow(i.data.targets),p=i.scale[t].copy().domain(i["get".concat(d?"Y":"X","Domain")](f,t)),g=p.domain(),v=g[0]===g[1]&&g.every((function(t){return t>0})),m=ff(l.domain)&&l.domain[0]===l.domain[1]&&l.domain.every((function(t){return t>0}));if(v||m)return l.size;l.domain=g,d||l.ticks.splice(0);var y=this.getAxis(t,p,!1,!1,!0),x=o["".concat(u,"_tick_rotate")],_=o["".concat(u,"_tick_count")];!o["".concat(u,"_tick_values")]&&_&&y.tickValues(this.generateTickValues(g,_,d?this.isTimeSeriesY():this.isTimeSeries())),!d&&this.updateXAxisTickValues(f,y);var w=c.append("svg").style("visibility","hidden").style("position","fixed").style("top","0").style("left","0");y.create(w),w.selectAll("text").attr("transform",of(x)?"rotate(".concat(x,")"):null).each((function(t,e){var i=this.getBoundingClientRect(),o=i.width,r=i.height;h.width=Math.max(h.width,o),h.height=Math.max(h.height,r),d||(l.ticks[e]=o)})),w.remove()}return Object.keys(h).forEach((function(t){h[t]>0&&(l[t]=h[t])})),l},t.prototype.getXAxisTickTextY2Overflow=function(t){var e=this.owner,i=e.axis,o=e.config,r=e.state,a=e.getAxisTickRotate("x"),s=a>0&&a<90;if((i.isCategorized()||i.isTimeSeries())&&o.axis_x_tick_fit&&(!o.axis_x_tick_culling||hf(o.axis_x_tick_culling))&&!o.axis_x_tick_multiline&&s){var c=r.current.width-e.getCurrentPaddingByDirection("left"),l=this.getXAxisTickMaxOverflow(a,c-t),u=Math.max(0,l)+t;return Math.min(u,c/2)}return 0},t.prototype.getXAxisTickMaxOverflow=function(t,e){for(var i=this.owner,o=i.axis,r=i.config,a=i.state,s=o.isTimeSeries(),c=a.current.maxTickSize.x.ticks,l=c.length,u=a.axis.x.padding,h=u.left,d=u.right,f=0,p=l-(s&&r.axis_x_tick_fit?.5:0),g=0;g<l;g++){var v=g+1,m=Math.cos(Math.PI*t/180)*c[g],y=v-(s?1:.5)+h;if(!(y<=0)){var x=(e-m)/y,_=m-x/2-((p-v)*x+d*x);f=Math.max(f,_)}}var w=i.filterTargetsToShow(i.data.targets),T=0;if(!s&&r.axis_x_tick_count<=w.length&&w[0].values.length){var S=ag(i.axis.getAxisType("x"),0,e-f).domain([-1*h,i.getXDomainMax(i.data.targets)+1+d]);T=Math.ceil((S(1)-S(0))/2)}return f+T},t.prototype.updateLabels=function(t){var e=this,i=this.owner,o=i.$el.main,r=i.$T,a={x:o.select(".".concat(jf.axisX," .").concat(jf.axisXLabel)),y:o.select(".".concat(jf.axisY," .").concat(jf.axisYLabel)),y2:o.select(".".concat(jf.axisY2," .").concat(jf.axisY2Label))};Object.keys(a).filter((function(t){return!a[t].empty()})).forEach((function(i){var o=a[i];r(o,t).attr("x",(function(){return e.xForAxisLabel(i)})).attr("dx",(function(){return e.dxForAxisLabel(i)})).attr("dy",(function(){return e.dyForAxisLabel(i)})).text((function(){return e.getLabelText(i)}))}))},t.prototype.getPadding=function(t,e,i,o){var r=of(t)?t:t[e];return tf(r)?this.owner.convertPixelToScale(/(bottom|top)/.test(e)?"y":"x",r,o):i},t.prototype.generateTickValues=function(t,e,i){var o=t;if(e){var r=ef(e)?e():e;if(1===r)o=[t[0]];else if(2===r)o=[t[0],t[t.length-1]];else if(r>2){var a=this.isCategorized(),s=r-2,c=t[0],l=t[t.length-1],u=(l-c)/(s+1),h=void 0;o=[c];for(var d=0;d<s;d++)h=+c+u*(d+1),o.push(i?new Date(h):a?Math.round(h):h);o.push(l)}}return i||(o=o.sort((function(t,e){return t-e}))),o},t.prototype.generateTransitions=function(t){var e=this.owner,i=e.$el.axis,o=e.$T,r=["x","y","y2","subX"].map((function(e){return o(i[e],t)}));return{axisX:r[0],axisY:r[1],axisY2:r[2],axisSubX:r[3]}},t.prototype.redraw=function(t,e,i){var o=this,r=this.owner,a=r.config,s=r.$el,c=e?"0":null;["x","y","y2","subX"].forEach((function(e){var r=o[e],l=s.axis[e];r&&l&&(i||a.transition_duration||(r.config.withoutTransition=!0),l.style("opacity",c),r.create(t["axis".concat($f(e))]))})),this.updateAxes()},t.prototype.redrawAxis=function(t,e,i,o,r){var a,s,c,l,u=this,h=this.owner,d=h.config,f=h.scale,p=h.$el,g=!!f.zoom;!g&&this.isCategorized()&&0===t.length&&f.x.domain([0,p.axis.x.selectAll(".tick").size()]),f.x&&t.length?(!g&&h.updateXDomain(t,e.UpdateXDomain,e.UpdateOrgXDomain,e.TrimXDomain),d.axis_x_tick_values||this.updateXAxisTickValues(t)):this.x&&(this.x.tickValues([]),null===(a=this.subX)||void 0===a||a.tickValues([])),d.zoom_rescale&&!o&&(l=f.x.orgDomain()),["y","y2"].forEach((function(e){var i="axis_".concat(e,"_"),o=f[e];if(o){var r=d["".concat(i,"tick_values")],a=d["".concat(i,"tick_count")];if(o.domain(h.getYDomain(t,e,l)),!r&&a){var s=h.axis[e],c=o.domain();s.tickValues(u.generateTickValues(c,c.every((function(t){return 0===t}))?1:a,u.isTimeSeriesY()))}}})),this.redraw(i,h.hasArcType(),r),this.updateLabels(e.Transition),(e.UpdateXDomain||e.UpdateXAxis||e.Y)&&t.length&&this.setCulling(),e.Y&&(null===(s=f.subY)||void 0===s||s.domain(h.getYDomain(t,"y")),null===(c=f.subY2)||void 0===c||c.domain(h.getYDomain(t,"y2")))},t.prototype.setCulling=function(){var t=this.owner,e=t.config,i=t.state,o=i.clip,r=i.current,a=t.$el;["subX","x","y","y2"].forEach((function(t){var i=a.axis[t],s="axis_".concat("subX"===t?"x":t,"_tick_culling"),c=e[s];if(i&&c){var l,u=i.selectAll(".tick"),h=If(u.data()),d=h.length,f=e["".concat(s,"_max")],p=e["".concat(s,"_lines")];if(d){for(var g=1;g<d;g++)if(d/g<f){l=g;break}u.each((function(t){var e=p?this.querySelector("text"):this;e&&(e.style.display=h.indexOf(t)%l?"none":null)}))}else u.style("display",null);if("x"===t){var v=r.maxTickSize.x.clipPath?o.pathXAxisTickTexts:null;a.svg.selectAll(".".concat(jf.axisX," .tick text")).attr("clip-path",v)}}}))},t}(),iv={initEventRect:function(){this.$el.main.select(".".concat(Vf.chart)).append("g").attr("class",tp.eventRects).style("fill-opacity","0")},redrawEventRect:function(){var t,e=this,i=e.config,o=e.state,r=e.$el,a=e.isMultipleX(),s=i.axis_x_inverted;if(r.eventRect)e.updateEventRect(r.eventRect,!0);else if(e.data.targets.length){var c=e.$el.main.select(".".concat(tp.eventRects)).style("cursor",i.zoom_enabled&&"drag"!==i.zoom_type?i.axis_rotated?"ns-resize":"ew-resize":null).classed(tp.eventRectsMultiple,a).classed(tp.eventRectsSingle,!a).selectAll(".".concat(tp.eventRect)).data([0]).enter().append("rect");e.updateEventRect(c),a?e.generateEventRectsForMultipleXs(c):e.generateEventRectsForSingleX(c),c.call(e.getDraggableSelection()),r.eventRect=c,"touch"!==e.state.inputType||r.svg.on("touchstart.eventRect")||e.hasArcType()||e.bindTouchOnEventRect(),o.rendered&&e.updateEventRect(r.eventRect,!0)}if(!a){var l=e.getMaxDataCountTarget();i.data_xSort&&!s||l.sort((function(t,e){return s?e.x-t.x:t.x-e.x})),e.updateDataIndexByX(l),e.updateXs(l),null===(t=e.updatePointClass)||void 0===t||t.call(e,!0),o.eventReceiver.data=l}e.updateEventRectData()},bindTouchOnEventRect:function(){var t,e=this,i=e.config,o=e.state,r=e.$el,a=r.eventRect,s=r.svg,c=function(){e.unselectRect(),e.callOverOutForTouch()},l=i.interaction_inputType_touch.preventDefault,u=sf(l)&&l||!1,h=!isNaN(l)&&l||null;a.on("touchstart",(function(t){o.event=t,e.updateEventRect()})).on("touchstart.eventRect touchmove.eventRect",(function(r){if(o.event=r,!a.empty()&&a.classed(tp.eventRect)){if(o.dragging||o.flowing||e.hasArcType()||r.touches.length>1)return;!function(e){var o=e.type,r=e.changedTouches[0]["client".concat(i.axis_rotated?"Y":"X")];"touchstart"===o?u?e.preventDefault():null!==h&&(t=r):"touchmove"===o&&(u||!0===t||null!==h&&Math.abs(t-r)>=h)&&(t=!0,e.preventDefault())}(r),function(t){if(e.isMultipleX())e.selectRectForMultipleXs(t);else{var i=e.getDataIndexFromEvent(o.event);e.callOverOutForTouch(i),-1===i?e.unselectRect():e.selectRectForSingle(t,i)}}(a.node())}else c()}),!0).on("touchend.eventRect",(function(t){o.event=t,!a.empty()&&a.classed(tp.eventRect)&&(e.hasArcType()||!e.toggleShape||o.cancelClick)&&o.cancelClick&&(o.cancelClick=!1)}),!0),s.on("touchstart",(function(t){o.event=t;var e=t.target;e&&e!==a.node()&&c()}))},updateEventRect:function(t,e){void 0===e&&(e=!1);var i=this.state,o=this.$el,r=i.eventReceiver,a=i.width,s=i.height,c=i.rendered,l=i.resizing,u=t||o.eventRect;(!c||l||e)&&(u.attr("x",0).attr("y",0).attr("width",a).attr("height",s),c&&!e||u.classed(tp.eventRect,!0)),r&&(r.rect=u.node().getBoundingClientRect())},updateEventRectData:function(){var t,e,i,o,r=this,a=r.config,s=r.scale,c=r.state,l=s.zoom||s.x,u=a.axis_rotated;if(r.isMultipleX())t=0,e=0,i=c.width,o=c.height;else{var h,d=void 0;if(r.axis.isCategorized())h=r.getEventRectWidth(),d=function(t){return l(t.x)-h/2};else{var f=function(t){var e=t.index;return{prev:r.getPrevX(e),next:r.getNextX(e)}};h=function(t){var e,i=f(t),o=l.domain();return null===i.prev&&null===i.next?e=u?c.height:c.width:null===i.prev?e=(l(i.next)+l(t.x))/2:null===i.next?e=l(o[1])-(l(i.prev)+l(t.x))/2:(Object.keys(i).forEach((function(t,e){var r;i[t]=null!==(r=i[t])&&void 0!==r?r:o[e]})),e=Math.max(0,(l(i.next)-l(i.prev))/2)),e},d=function(t){var e=f(t);return null===e.prev&&null===e.next?0:null===e.prev?l(l.domain()[0]):(l(t.x)+l(e.prev))/2}}t=u?0:d,e=u?d:0,i=u?c.width:h,o=u?h:c.height}var p=c.eventReceiver,g=function(t,e){return ef(t)?t(e):t};p.coords.splice(p.data.length),p.data.forEach((function(r,a){p.coords[a]={x:g(t,r),y:g(e,r),w:g(i,r),h:g(o,r)}}))},selectRectForSingle:function(t,e){var i,o,r=this,a=r.config,s=r.$el,c=s.main,l=s.circle,u=a.data_selection_enabled,h=a.data_selection_grouped,d=a.data_selection_isselectable,f=a.tooltip_grouped,p=r.getAllValuesOnIndex(e);if(!f||(r.showTooltip(p,t),null===(i=r.showGridFocus)||void 0===i||i.call(r,p),u&&!h)){!l&&c.selectAll(".".concat(Vf.EXPANDED,":not(.").concat(ap.shape,"-").concat(e,")")).classed(Vf.EXPANDED,!1);var g=c.selectAll(".".concat(ap.shape,"-").concat(e)).classed(Vf.EXPANDED,!0).style("cursor",d?"pointer":null).filter((function(t){return r.isWithinShape(this,t)}));g.empty()&&!f&&(null===(o=r.hideGridFocus)||void 0===o||o.call(r),r.hideTooltip(),!h&&r.setExpand(e)),g.call((function(i){var o,a,s=i.data();u&&(h||(null==d?void 0:d.bind(r.api)(s)))&&(t.style.cursor="pointer"),f||(r.showTooltip(s,t),null===(o=r.showGridFocus)||void 0===o||o.call(r,s),null===(a=r.unexpandCircles)||void 0===a||a.call(r),i.each((function(t){return r.setExpand(e,t.id)})))}))}},selectRectForMultipleXs:function(t,e){void 0===e&&(e=!0);var i=this,o=i.config,r=i.state,a=i.filterTargetsToShow(i.data.targets);if(!r.dragging&&!i.hasArcType(a)){var s=_f(r.event,t),c=i.findClosestFromTargets(a,s);if(!e||!r.mouseover||c&&c.id===r.mouseover.id||(o.data_onout.call(i.api,r.mouseover),r.mouseover=void 0),c){var l=(i.isBubbleType(c)||i.isScatterType(c)||!o.tooltip_grouped?[c]:i.filterByX(a,c.x)).map((function(t){return i.addName(t)}));i.showTooltip(l,t),i.setExpand(c.index,c.id,!0),i.showGridFocus(l);var u=i.dist(c,s);(i.isBarType(c.id)||u<i.getPointSensitivity(c))&&(i.$el.svg.select(".".concat(tp.eventRect)).style("cursor","pointer"),e&&!r.mouseover&&(o.data_onover.call(i.api,c),r.mouseover=c))}else i.unselectRect()}},unselectRect:function(){var t=this,e=t.$el,i=e.circle,o=e.tooltip;t.$el.svg.select(".".concat(tp.eventRect)).style("cursor",null),t.hideGridFocus(),o&&(t.hideTooltip(),t._handleLinkedCharts(!1)),i&&!t.isPointFocusOnly()&&t.unexpandCircles(),t.expandBarTypeShapes(!1)},generateEventRectsForSingleX:function(t){var e=this,i=e.config,o=e.state,r=o.eventReceiver,a=t.style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("click",(function(t){o.event=t;var i=r.currentIdx,a=r.data[-1===i?e.getDataIndexFromEvent(t):i];e.clickHandlerForSingleX.bind(this)(a,e)}));if("mouse"===o.inputType){a.on("mouseover",(function(t){o.event=t,e.updateEventRect()})).on("mousemove",(function(t){var a=function(t){var i=t?e.getDataIndexFromEvent(t):r.currentIdx;return i>-1?r.data[i]:null}(t);if(o.event=t,a){var s=a.index,c=i.line_step_type;if(i.line_step_tooltipMatch&&e.hasType("step")&&/^step\-(before|after)$/.test(c)){var l=e.scale.zoom||e.scale.x,u=e.axis.xs[s],h=l.invert(_f(t,this)[0]);"step-after"===c&&h<u?s-=1:"step-before"===c&&h>u&&(s+=1)}var d=i.tooltip_grouped&&s===r.currentIdx;o.dragging||o.flowing||e.hasArcType()||d?i.tooltip_show&&d&&e.setTooltipPosition():(s!==r.currentIdx&&(e.setOverOut(!1,r.currentIdx),r.currentIdx=s),-1===s?e.unselectRect():e.selectRectForSingle(this,s),e.setOverOut(-1!==s,s))}})).on("mouseout",(function(t){o.event=t,i&&!e.hasArcType()&&-1!==r.currentIdx&&(e.unselectRect(),e.setOverOut(!1,r.currentIdx),r.currentIdx=-1)}))}return a},clickHandlerForSingleX:function(t,e){var i=e,o=i.config,r=i.state,a=i.$el.main;if(!t||i.hasArcType()||r.cancelClick)r.cancelClick&&(r.cancelClick=!1);else{var s=t.index;a.selectAll(".".concat(ap.shape,"-").concat(s)).each((function(t){var e;(o.data_selection_grouped||i.isWithinShape(this,t))&&(null===(e=i.toggleShape)||void 0===e||e.call(i,this,t,s),o.data_onclick.bind(i.api)(t,this))}))}},generateEventRectsForMultipleXs:function(t){var e=this,i=e.state;t.on("click",(function(t){i.event=t,e.clickHandlerForMultipleXS.bind(this)(e)})),"mouse"===i.inputType&&t.on("mouseover mousemove",(function(t){i.event=t,e.selectRectForMultipleXs(this)})).on("mouseout",(function(t){i.event=t,e.config&&!e.hasArcType()&&e.unselectRect()}))},clickHandlerForMultipleXS:function(t){var e=t,i=e.config,o=e.state,r=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(r)){var a=_f(o.event,this),s=e.findClosestFromTargets(r,a),c="radius"===i.point_sensitivity?s.r:i.point_sensitivity;s&&(e.isBarType(s.id)||e.dist(s,a)<c)&&e.$el.main.selectAll(".".concat(ap.shapes).concat(e.getTargetSelectorSuffix(s.id))).selectAll(".".concat(ap.shape,"-").concat(s.index)).each((function(){var t;(i.data_selection_grouped||e.isWithinShape(this,s))&&(null===(t=e.toggleShape)||void 0===t||t.call(e,this,s,s.index),i.data_onclick.bind(e.api)(s,this))}))}}},ov={generateFlow:function(t){var e=this,i=e.data,o=e.state,r=e.$el;return function(){var a=t.flow.length;o.flowing=!0,i.targets.forEach((function(t){t.values.splice(0,a)})),e.updateXGrid&&e.updateXGrid(!0);var s={};["axis.x","grid.x","gridLines.x","region.list","text","bar","line","area","circle"].forEach((function(t){var e=t.split("."),i=r[e[0]];i&&e.length>1&&(i=i[e[1]]),(null==i?void 0:i.size())&&(s[t]=i)})),e.hideGridFocus(),e.setFlowList(s,t)}},setFlowList:function(t,e){var i,o=this,r=e.flow,a=e.targets,s=r.duration,c=void 0===s?e.duration:s,l=r.index,u=r.length,h=r.orgDataCount,d=o.getFlowTransform(a,h,l,u),f=Lp();f.add(Object.keys(t).map((function(e){return i=t[e].transition().ease(bd).duration(c),i="axis.x"===e?i.call((function(t){o.axis.x.setTransition(t).create(t)})):"region.list"===e?i.filter(o.isRegionOnX).attr("transform",d):i.attr("transform",d),i}))),i.call(f,(function(){o.cleanUpFlow(t,e)}))},cleanUpFlow:function(t,e){var i=this,o=i.config,r=i.state,a=i.$el.svg,s=o.axis_rotated,c=e.flow,l=e.shape,u=e.xv,h=l.pos,d=h.cx,f=h.cy,p=h.xForText,g=h.yForText,v=c.done,m=void 0===v?function(){}:v,y=c.length;y&&(["circle","text","shape","eventRect"].forEach((function(t){for(var e=[],i=0;i<y;i++)e.push(".".concat(dp[t],"-").concat(i));a.selectAll(".".concat(dp["".concat(t,"s")])).selectAll(e).remove()})),a.select(".".concat(dp.xgrid)).remove()),Object.keys(t).forEach((function(e){var a=t[e];if("axis.x"!==e&&a.attr("transform",null),"grid.x"===e)a.attr(r.xgridAttr);else if("gridLines.x"===e)a.attr("x1",s?0:u).attr("x2",s?r.width:u),a.select("text").attr("x",s?r.width:0).attr("y",u);else if(/^(area|bar|line)$/.test(e))a.attr("d",l.type[e]);else if("text"===e)a.attr("x",p).attr("y",g).style("fill-opacity",i.opacityForText.bind(i));else if("circle"===e)if(i.isCirclePoint())a.attr("cx",d).attr("cy",f);else{a.attr("x",(function(t){return d(t)-o.point_r})).attr("y",(function(t){return f(t)-o.point_r}))}else"region.list"===e&&a.select("rect").filter(i.isRegionOnX).attr("x",i.regionX.bind(i)).attr("width",i.regionWidth.bind(i))})),o.interaction_enabled&&i.redrawEventRect(),m.call(i.api),r.flowing=!1},getFlowTransform:function(t,e,i,o){var r,a=this,s=a.data,c=a.scale.x,l=s.targets[0].values,u=a.getValueOnIndex(l,i),h=a.getValueOnIndex(l,i+o),d=c.domain(),f=a.updateXDomain(t,!0,!0);e?r=1===e||(null==u?void 0:u.x)===(null==h?void 0:h.x)||a.axis.isTimeSeries()?c(d[0])-c(f[0]):c((null==u?void 0:u.x)||0)-c(h.x):1!==l.length?r=c(d[0])-c(f[0]):a.axis.isTimeSeries()?(u=a.getValueOnIndex(l,0),h=a.getValueOnIndex(l,l.length-1),r=c(u.x)-c(h.x)):r=lf(f)/2;var p=lf(d)/lf(f);return"translate(".concat(r,",0) scale(").concat(p,",1)")}},rv={initClip:function(){var t=this,e=t.state,i=e.clip,o=e.datetimeId;i.id="".concat(o,"-clip"),i.idXAxis="".concat(i.id,"-xaxis"),i.idYAxis="".concat(i.id,"-yaxis"),i.idGrid="".concat(i.id,"-grid"),i.path=t.getClipPath(i.id),i.pathXAxis=t.getClipPath(i.idXAxis),i.pathYAxis=t.getClipPath(i.idYAxis),i.pathGrid=t.getClipPath(i.idGrid)},getClipPath:function(t){var e=this.config;if(!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t))return null;var i=!!Ud.navigator&&Ud.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url(".concat(i?"":jd.URL.split("#")[0],"#").concat(t,")")},appendClip:function(t,e){e&&t.append("clipPath").attr("id",e).append("rect")},setXAxisClipPath:function(t){var e=this.config,i=this.state,o=i.margin,r=i.width,a=i.height,s=e.axis_rotated,c=Math.max(30,o.left)-(s?0:20),l=(s?o.top+a+10:o.bottom)+20,u=s?-(1+c):-(c-1),h=s?o.left+20:r+10+c;t.attr("x",u).attr("y",-15).attr("width",h).attr("height",l)},setYAxisClipPath:function(t){var e=this.config,i=this.state,o=i.margin,r=i.width,a=i.height,s=e.axis_rotated,c=Math.max(30,o.left)-(s?20:0),l=e.axis_y_inner,u=l&&!s?e.axis_y_label.text?-20:-1:s?-(1+c):-(c-1),h=-(s?20:o.top),d=(s?r+15+c:o.left+20)+(l?20:0),f=(s?o.bottom+10:o.top+a)+10;t.attr("x",u).attr("y",h).attr("width",d).attr("height",f)},updateXAxisTickClip:function(){var t=this,e=t.config,i=t.state,o=i.clip,r=i.xAxisHeight,a=t.$el.defs,s=t.getHorizontalAxisHeight("x");if(a&&!o.idXAxisTickTexts){var c="".concat(o.id,"-xaxisticktexts");t.appendClip(a,c),o.pathXAxisTickTexts=t.getClipPath(o.idXAxisTickTexts),o.idXAxisTickTexts=c}!e.axis_x_tick_multiline&&t.getAxisTickRotate("x")&&s!==r&&(t.setXAxisTickClipWidth(),t.setXAxisTickTextClipPathWidth()),t.state.xAxisHeight=s},setXAxisTickClipWidth:function(){var t=this,e=t.config,i=t.state.current.maxTickSize,o=t.getAxisTickRotate("x");if(!e.axis_x_tick_multiline&&o){var r=Math.sin(Math.PI/180*Math.abs(o));i.x.clipPath=(t.getHorizontalAxisHeight("x")-20)/r}else i.x.clipPath=null},setXAxisTickTextClipPathWidth:function(){var t=this.state,e=t.clip,i=t.current,o=this.$el.svg;o&&o.select("#".concat(e.idXAxisTickTexts," rect")).attr("width",i.maxTickSize.x.clipPath).attr("height",30)}},av=function(t){return tf(t.position)||"end"},sv=function(t){return"start"===t.position?4:"middle"===t.position?0:-4};function cv(t,e,i){return function(o){var r=t?0:e;return"start"===o.position?r=t?-i:0:"middle"===o.position&&(r=(t?-i:e)/2),r}}function lv(t,e){"grid"===e&&t.each((function(){var t=Fa(this);["x1","x2","y1","y2"].forEach((function(e){return t.attr(e,Math.ceil(+t.attr(e)))}))}))}var uv={hasGrid:function(){var t=this.config;return["x","y"].some((function(e){return t["grid_".concat(e,"_show")]||t["grid_".concat(e,"_lines")].length}))},initGrid:function(){var t=this;t.hasGrid()&&t.initGridLines(),t.initFocusGrid()},initGridLines:function(){var t=this,e=t.config,i=t.state.clip,o=t.$el;(e.grid_x_lines.length||e.grid_y_lines.length)&&(o.gridLines.main=o.main.insert("g",".".concat(Vf.chart).concat(e.grid_lines_front?" + *":"")).attr("clip-path",i.pathGrid).attr("class","".concat(np.grid," ").concat(np.gridLines)),o.gridLines.main.append("g").attr("class",np.xgridLines),o.gridLines.main.append("g").attr("class",np.ygridLines),o.gridLines.x=Xa([]))},updateXGrid:function(t){var e=this,i=e.config,o=e.scale,r=e.state,a=e.$el,s=a.main,c=a.grid,l=i.axis_rotated,u=e.generateGridData(i.grid_x_type,o.x),h=e.axis.isCategorized()?e.axis.x.tickOffset():0,d=function(t){return(o.zoom||o.x)(t)+h*(l?-1:1)};r.xgridAttr=l?{x1:0,x2:r.width,y1:d,y2:d}:{x1:d,x2:d,y1:0,y2:r.height},c.x=s.select(".".concat(np.xgrids)).selectAll(".".concat(np.xgrid)).data(u),c.x.exit().remove(),c.x=c.x.enter().append("line").attr("class",np.xgrid).merge(c.x),t||c.x.each((function(){var t=Fa(this);Object.keys(r.xgridAttr).forEach((function(e){t.attr(e,r.xgridAttr[e]).style("opacity",(function(){return t.attr(l?"y1":"x1")===(l?r.height:0)?"0":null}))}))}))},updateYGrid:function(){var t=this,e=t.axis,i=t.config,o=t.scale,r=t.state,a=t.$el,s=a.grid,c=a.main,l=i.axis_rotated,u=function(t){return Math.ceil(o.y(t))},h=e.y.getGeneratedTicks(i.grid_y_ticks)||t.scale.y.ticks(i.grid_y_ticks);s.y=c.select(".".concat(np.ygrids)).selectAll(".".concat(np.ygrid)).data(h),s.y.exit().remove(),s.y=s.y.enter().append("line").attr("class",np.ygrid).merge(s.y),s.y.attr("x1",l?u:0).attr("x2",l?u:r.width).attr("y1",l?0:u).attr("y2",l?r.height:u),lv(s.y,"grid")},updateGrid:function(){var t=this,e=t.$el,i=e.grid;!e.gridLines.main&&t.initGridLines(),i.main.style("visibility",t.hasArcType()?"hidden":null),t.hideGridFocus(),t.updateGridLines("x"),t.updateGridLines("y")},updateGridLines:function(t){var e=this,i=e.config,o=e.$el,r=o.gridLines,a=o.main,s=e.$T,c=i.axis_rotated,l="x"===t;i["grid_".concat(t,"_show")]&&e["update".concat(t.toUpperCase(),"Grid")]();var u=a.select(".".concat(np["".concat(t,"gridLines")])).selectAll(".".concat(np["".concat(t,"gridLine")])).data(i["grid_".concat(t,"_lines")]);s(u.exit()).style("opacity","0").remove();var h=u.enter().append("g");h.append("line").style("opacity","0"),(u=h.merge(u)).each((function(t){var e=Fa(this);e.select("text").empty()&&t.text&&e.append("text").style("opacity","0")})),s(u.attr("class",(function(e){return"".concat(np["".concat(t,"gridLine")]," ").concat(e.class||"").trim()})).select("text").attr("text-anchor",av).attr("transform",(function(){return l?c?null:"rotate(-90)":c?"rotate(-90)":null})).attr("dx",sv).attr("dy",-5)).text((function(t){var e;return null!==(e=t.text)&&void 0!==e?e:this.remove()})),r[t]=u},redrawGrid:function(t){var e=this,i=e.config.axis_rotated,o=e.state,r=o.width,a=o.height,s=e.$el.gridLines,c=e.$T,l=e.xv.bind(e),u=e.yv.bind(e),h=s.x.select("line"),d=s.x.select("text"),f=s.y.select("line"),p=s.y.select("text");return h=c(h,t).attr("x1",i?0:l).attr("x2",i?r:l).attr("y1",i?l:0).attr("y2",i?l:a),d=c(d,t).attr("x",cv(!i,r,a)).attr("y",l),f=c(f,t).attr("x1",i?u:0).attr("x2",i?u:r).attr("y1",i?0:u).attr("y2",i?a:u),p=c(p,t).attr("x",cv(i,r,a)).attr("y",u),[h.style("opacity",null),d.style("opacity",null),f.style("opacity",null),p.style("opacity",null)]},initFocusGrid:function(){var t=this,e=t.config,i=t.state.clip,o=t.$el,r=e.grid_front,a=".".concat(r&&o.gridLines.main?np.gridLines:Vf.chart).concat(r?" + *":""),s=o.main.insert("g",a).attr("clip-path",i.pathGrid).attr("class",np.grid);o.grid.main=s,e.grid_x_show&&s.append("g").attr("class",np.xgrids),e.grid_y_show&&s.append("g").attr("class",np.ygrids),e.interaction_enabled&&e.grid_focus_show&&(s.append("g").attr("class",ep.xgridFocus).append("line").attr("class",ep.xgridFocus),e.grid_focus_y&&!e.tooltip_grouped&&s.append("g").attr("class",ep.ygridFocus).append("line").attr("class",ep.ygridFocus))},showGridFocus:function(t){var e,i=this,o=i.config,r=i.state,a=r.width,s=r.height,c=o.axis_rotated,l=i.$el.main.selectAll("line.".concat(ep.xgridFocus,", line.").concat(ep.ygridFocus)),u=(t||[l.datum()]).filter((function(t){return t&&tf(i.getBaseValue(t))}));if(o.tooltip_show&&0!==u.length&&!i.hasType("bubble")&&!i.hasArcType()){var h=o.grid_focus_edge&&!o.tooltip_grouped,d=i.xx.bind(i);l.style("visibility",null).data(u.concat(u)).each((function(t){var e,o=Fa(this),r={x:d(t),y:i.getYScaleById(t.id)(t.value)};if(o.classed(ep.xgridFocus))e=c?[null,r.x,h?r.y:a,r.x]:[r.x,h?r.y:null,r.x,s];else{var l="y2"===i.axis.getId(t.id);e=c?[r.y,h&&!l?r.x:null,r.y,h&&l?r.x:s]:[h&&l?r.x:null,r.y,h&&!l?r.x:a,r.y]}["x1","y1","x2","y2"].forEach((function(t,i){return o.attr(t,e[i])}))})),lv(l,"grid"),null===(e=i.showCircleFocus)||void 0===e||e.call(i,t)}},hideGridFocus:function(){var t,e=this,i=e.state,o=i.inputType,r=i.resizing,a=e.$el.main;"mouse"!==o&&r||(a.selectAll("line.".concat(ep.xgridFocus,", line.").concat(ep.ygridFocus)).style("visibility","hidden"),null===(t=e.hideCircleFocus)||void 0===t||t.call(e))},updateGridFocus:function(){var t,e=this,i=e.state,o=i.inputType,r=i.width,a=i.height,s=i.resizing,c=e.$el.grid.main.select("line.".concat(ep.xgridFocus));if("touch"===o)c.empty()?s&&(null===(t=e.showCircleFocus)||void 0===t||t.call(e)):e.showGridFocus();else{var l=e.config.axis_rotated;c.attr("x1",l?0:-10).attr("x2",l?r:-10).attr("y1",l?-10:0).attr("y2",l?-10:a)}return!0},generateGridData:function(t,e){var i=this.$el.main.select(".".concat(jf.axisX)).selectAll(".tick").size(),o=[];if("year"===t)for(var r=this.getXDomain().map((function(t){return t.getFullYear()})),a=r[0],s=r[1],c=a;c<=s;c++)o.push(new Date("".concat(c,"-01-01 00:00:00")));else(o=e.ticks(10)).length>i&&(o=o.filter((function(t){return String(t).indexOf(".")<0})));return o},getGridFilterToRemove:function(t){return t?function(e){var i=!1;return(ff(t)?t.concat():[t]).forEach((function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)})),i}:function(){return!0}},removeGridLines:function(t,e){var i=this,o=i.config,r=i.$T,a=i.getGridFilterToRemove(t),s=e?np.xgridLines:np.ygridLines,c=e?np.xgridLine:np.ygridLine;r(i.$el.main.select(".".concat(s)).selectAll(".".concat(c)).filter(a)).style("opacity","0").remove();var l="grid_".concat(e?"x":"y","_lines");o[l]=o[l].filter((function(t){return!a(t)}))}},hv={initRegion:function(){var t=this.$el;t.region.main=t.main.insert("g",":first-child").attr("clip-path",this.state.clip.path).attr("class",op.regions)},updateRegion:function(){var t=this,e=t.config,i=t.$el.region,o=t.$T;i.main||t.initRegion(),i.main.style("visibility",t.hasArcType()?"hidden":null);var r=i.main.selectAll(".".concat(op.region)).data(e.regions);o(r.exit()).style("opacity","0").remove();var a=r.enter().append("g");a.append("rect").style("fill-opacity","0"),i.list=a.merge(r).attr("class",t.classRegion.bind(t)),i.list.each((function(t){var e;Fa(this).select("text").empty()&&(null===(e=t.label)||void 0===e?void 0:e.text)&&Fa(this).append("text").style("opacity","0")}))},redrawRegion:function(t){var e=this,i=e.$el.region,o=e.$T,r=i.list.select("rect"),a=i.list.selectAll("text");return r=o(r,t).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)),a=o(a,t).attr("transform",(function(t){var i,o=null!==(i=t.label)&&void 0!==i?i:{},r=o.x,a=void 0===r?0:r,s=o.y,c=void 0===s?0:s,l=o.rotated,u=void 0!==l&&l;return"translate(".concat(e.regionX.bind(e)(t)+a,", ").concat(e.regionY.bind(e)(t)+c,")").concat(u?" rotate(-90)":"")})).attr("text-anchor",(function(t){var e;return(null===(e=t.label)||void 0===e?void 0:e.rotated)?"end":null})).attr("dy","1em").style("fill",(function(t){var e,i;return null!==(i=null===(e=t.label)||void 0===e?void 0:e.color)&&void 0!==i?i:null})).text((function(t){var e;return null===(e=t.label)||void 0===e?void 0:e.text})),[r.style("fill-opacity",(function(t){return tf(t.opacity)?t.opacity:null})).on("end",(function(){Fa(this.parentNode).selectAll("rect:not([x])").remove()})),a.style("opacity",null)]},getRegionXY:function(t,e){var i=this,o=i.config,r=i.scale,a=o.axis_rotated,s="x"===t,c="start",l=0;return"y"===e.axis||"y2"===e.axis?(s||(c="end"),(s?a:!a)&&c in e&&(l=(0,r[e.axis])(e[c]))):(s?!a:a)&&c in e&&(l=(r.zoom||r.x)(i.axis.isTimeSeries()?Bf.call(i,e[c]):e[c])),l},regionX:function(t){return this.getRegionXY("x",t)},regionY:function(t){return this.getRegionXY("y",t)},getRegionSize:function(t,e){var i=this,o=i.config,r=i.scale,a=i.state,s=o.axis_rotated,c="width"===t,l=i[c?"regionX":"regionY"](e),u="end",h=a[t];return"y"===e.axis||"y2"===e.axis?(c||(u="start"),(c?s:!s)&&u in e&&(h=(0,r[e.axis])(e[u]))):(c?!s:s)&&u in e&&(h=(r.zoom||r.x)(i.axis.isTimeSeries()?Bf.call(i,e[u]):e[u])),h<l?0:h-l},regionWidth:function(t){return this.getRegionSize("width",t)},regionHeight:function(t){return this.getRegionSize("height",t)},isRegionOnX:function(t){return!t.axis||"x"===t.axis}},dv={getAxisSize:function(t){var e=this,i=e.config.axis_rotated;return i&&"x"===t||!i&&/y2?/.test(t)?e.getAxisWidthByAxisId(t,!0):e.getHorizontalAxisHeight(t)},getAxisWidthByAxisId:function(t,e){var i,o,r=this;if(r.axis){var a=null===(i=r.axis)||void 0===i?void 0:i.getLabelPositionById(t),s=r.axis.getMaxTickSize(t,e).width,c=0===s?.5:0;return s+("fit"===(null===(o=r.config.padding)||void 0===o?void 0:o.mode)?a.isInner?10+c:10:a.isInner?20+c:40)}return 40},getHorizontalAxisHeight:function(t){var e,i,o=this,r=o.config,a=o.state,s=a.rotatedPadding,c=a.isLegendRight,l=a.isLegendInset,u=r.axis_rotated,h="fit"===(null===(e=r.padding)||void 0===e?void 0:e.mode),d=r["axis_".concat(t,"_inner")],f=r["axis_".concat(t,"_label")].text,p="fit"===(null===(i=r.padding)||void 0===i?void 0:i.mode)?d&&!f?"y"===t?1:0:20:30;if("x"===t&&!r.axis_x_show)return 8;if("x"===t&&of(r.axis_x_height))return r.axis_x_height;if("y"===t&&!r.axis_y_show)return!r.legend_show||c||l?1:10;if("y2"===t&&!r.axis_y2_show)return h?0:s.top;var g=o.axis.getMaxTickSize(t);return g.height>13&&(p+=g.height-13),p+(o.axis.getLabelPositionById(t).isInner?0:10)+("y2"!==t||u?0:-10)},getEventRectWidth:function(){var t=this.config,e=this.axis,i=t.axis_x_inverted,o=e.x.tickInterval();return Math.max(0,i?Math.abs(o):o)},getAxisTickRotate:function(t){var e=this,i=e.axis,o=e.config,r=e.state,a=e.$el,s=o["axis_".concat(t,"_tick_rotate")];if("x"===t){var c=i.isCategorized()||i.isTimeSeries();if(o.axis_x_tick_fit&&c){var l=o.axis_x_tick_count,u=r.current.maxTickSize.x.ticks.length,h=0;if(l?h=l>u?u:l:u&&(h=u),h!==r.axis.x.tickCount){var d=e.data.targets;r.axis.x.padding=e.getXDomainPadding([e.getXDomainMinMax(d,"min"),e.getXDomainMinMax(d,"max")],h)}r.axis.x.tickCount=h}a.svg&&o.axis_x_tick_autorotate&&o.axis_x_tick_fit&&!o.axis_x_tick_multiline&&!o.axis_x_tick_culling&&c&&(s=e.needToRotateXAxisTickTexts()?o.axis_x_tick_rotate:0)}return s},needToRotateXAxisTickTexts:function(){var t=this,e=t.state,i=e.axis,o=e.current.width-t.getCurrentPaddingByDirection("left")-t.getCurrentPaddingByDirection("right"),r=i.x.tickCount+i.x.padding.left+i.x.padding.right;return t.axis.getMaxTickSize("x").width>(r?o/r:0)}},fv={axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:"indexed",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_culling:!1,axis_y_tick_culling_max:5,axis_y_tick_culling_lines:!0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_show:!0,axis_y_tick_stepSize:null,axis_y_tick_text_show:!0,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y_axes:[]},pv={axis_y2_show:!1,axis_y2_type:"indexed",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_culling:!1,axis_y2_tick_culling_max:5,axis_y2_tick_culling_lines:!0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_rotate:0,axis_y2_tick_count:void 0,axis_y2_tick_show:!0,axis_y2_tick_stepSize:null,axis_y2_tick_text_show:!0,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:void 0,axis_y2_axes:[]},gv=Qd(Qd(Qd({axis_rotated:!1},{axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_culling_lines:!0,axis_x_tick_count:void 0,axis_x_tick_show:!0,axis_x_tick_text_show:!0,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_autorotate:!1,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:void 0,axis_x_min:void 0,axis_x_inverted:!1,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_axes:[]}),fv),pv),vv=[Ng,Fg,Qg,Yg,Gg,Zg,Kg],bv=[ev,rv,iv,ov,uv,hv,dv],mv=[{data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_axes:{},data_regions:{},data_stack_normalize:!1},gv,{grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:void 0,grid_focus_edge:!1,grid_focus_show:!0,grid_focus_y:!1,grid_front:!1,grid_lines_front:!0}];var yv={initBar:function(){var t=this,e=t.$el,i=t.config,o=t.state.clip;e.bar=e.main.select(".".concat(Vf.chart)),e.bar=i.bar_front?e.bar.append("g"):e.bar.insert("g",":first-child"),e.bar.attr("class",Yf.chartBars).call(this.setCssRule(!1,".".concat(Yf.chartBars),["pointer-events:none"])),!1===i.clipPath&&(i.bar_radius||i.bar_radius_ratio)&&e.bar.attr("clip-path",o.pathXAxis.replace(/#[^)]*/,"#".concat(o.id)))},updateTargetsForBar:function(t){var e=this,i=e.config,o=e.$el,r=e.getChartClass("Bar"),a=e.getClass("bars",!0),s=e.classFocus.bind(e),c=i.interaction_enabled&&i.data_selection_isselectable;o.bar||e.initBar();var l=o.main.select(".".concat(Yf.chartBars)).selectAll(".".concat(Yf.chartBar)).data(t.filter((function(t){return t.values.some((function(t){return of(t.value)||e.isBarRangeType(t)}))}))).attr("class",(function(t){return r(t)+s(t)}));l.enter().append("g").attr("class",r).style("opacity","0").style("pointer-events",e.getStylePropValue("none")).append("g").attr("class",a).style("cursor",(function(t){var i;return(null===(i=null==c?void 0:c.bind)||void 0===i?void 0:i.call(c,e.api)(t))?"pointer":null})).call(e.setCssRule(!0," .".concat(Yf.bar),["fill"],e.color))},updateBar:function(t,e){void 0===e&&(e=!1);var i=this,o=i.config,r=i.$el,a=i.$T,s=e?r.subchart:r,c=i.getClass("bar",!0),l=i.initialOpacity.bind(i);o.bar_linearGradient&&i.updateLinearGradient();var u=s.main.selectAll(".".concat(Yf.bars)).selectAll(".".concat(Yf.bar)).data(i.labelishData.bind(i));a(u.exit(),t).style("opacity","0").remove(),s.bar=u.enter().append("path").attr("class",c).style("fill",i.updateBarColor.bind(i)).merge(u).style("opacity",l),i.setRatioForGroupedData(s.bar.data())},updateBarColor:function(t){var e=this,i=e.getStylePropValue(e.color);return e.config.bar_linearGradient?e.getGradienColortUrl(t.id):i?i(t):null},redrawBar:function(t,e,i){void 0===i&&(i=!1);var o=this,r=(i?o.$el.subchart:o.$el).bar;return[o.$T(r,e,kf()).attr("d",(function(e){return(of(e.value)||o.isBarRangeType(e))&&t(e)})).style("fill",o.updateBarColor.bind(o)).style("opacity",null)]},generateDrawBar:function(t,e){var i=this,o=i.config,r=i.generateGetBarPoints(t,e),a=o.axis_rotated,s=o.bar_radius,c=o.bar_radius_ratio,l=of(s)&&s>0?function(){return s}:of(c)?function(t){return t*c}:null;return function(t,e){var s=r(t,e),c=+a,u=+!c,h=t.value<0,d=o["axis_".concat(i.axis.getId(t.id),"_inverted")],f=!d&&h||d&&!h,p=["",""],g=0,v=i.isGrouped(t.id),m=!(!l||!v)&&i.isStackingRadiusData(t);if(l){var y=a?u:c,x=s[2][y]-s[0][y];g=!v||m?l(x):0;var _="a".concat(g,",").concat(g," ").concat(f?"1 0 0":"0 0 1"," ");p[+!a]="".concat(_).concat(g,",").concat(g),p[+a]="".concat(_).concat([-g,g][a?"sort":"reverse"]()),f&&p.reverse()}var w=a?"H".concat(s[1][c]+(f?g:-g)," ").concat(p[0],"V").concat(s[2][u]-g," ").concat(p[1],"H").concat(s[3][c]):"V".concat(s[1][u]+(f?-g:g)," ").concat(p[0],"H").concat(s[2][c]-g," ").concat(p[1],"V").concat(s[3][u]);return"M".concat(s[0][c],",").concat(s[0][u]).concat(w,"z")}},isStackingRadiusData:function(t){var e=this,i=e.$el,o=e.config,r=e.data,a=e.state,s=t.id,c=t.index,l=t.value;if(a.hiddenTargetIds.indexOf(s)>-1){var u=i.bar.filter((function(t){return t.id===s&&t.value===l}));return!u.empty()&&/a\d+/i.test(u.attr("d"))}var h=o.data_groups.find((function(t){return t.indexOf(s)>-1})),d=e.orderTargets(e.filterTargetsToShow(r.targets.filter(e.isBarType,e))).filter((function(t){return h.indexOf(t.id)>-1})),f=d.map((function(t){return t.values.filter((function(t){return t.index===c&&(of(l)&&l>0?t.value>0:t.value<0)}))[0]})).filter(Boolean).map((function(t){return t.id}));return 0!==l&&f.indexOf(s)===f.length-1},generateGetBarPoints:function(t,e){var i=this,o=i.config,r=e?i.axis.subX:i.axis.x,a=i.getIndicesMax(t)+1,s=i.getBarW("bar",r,a),c=i.getShapeX(s,t,!!e),l=i.getShapeY(!!e),u=i.getShapeOffset(i.isBarType,t,!!e),h=i.getYScaleById.bind(i);return function(t,r){var a=t.id,d=h.call(i,a,e)(i.getShapeYMin(a)),f=u(t,r)||d,p=of(s)?s:s[t.id]||s._$width,g=o["axis_".concat(i.axis.getId(a),"_inverted")],v=t.value,m=c(t),y=l(t);o.axis_rotated&&!g&&(v>0&&y<d||v<0&&d<y)&&(y=d),i.isBarRangeType(t)||(y-=d-f);var x=m+p;return[[m,f],[m,y],[x,y],[x,f]]}}},xv={initBubble:function(){var t=this.config;this.hasType("bubble")&&(t.point_show=!0,t.point_type="circle")},getBaseLength:function(){var t=this,e=t.state,i=e.width,o=e.height,r=kp,a=t.cache.get(r);return a||t.cache.add(r,a=Pf("min",[i,o])),a},getBubbleR:function(t){var e=this,i=e.config.bubble_maxR;ef(i)?i=i.bind(e.api)(t):of(i)||(i=e.getBaseLength()/(2*e.getMaxDataCount())+12);var o=Pf("max",e.getMinMaxData().max.map((function(t){return e.isBubbleZType(t)?e.getBubbleZData(t.value,"y"):pf(t.value)?t.value.mid:t.value}))),r=i*i*Math.PI,a=(e.isBubbleZType(t)?e.getBubbleZData(t.value,"z"):t.value)*(r/o);return Math.sqrt(a/Math.PI)},getBubbleZData:function(t,e){return pf(t)?t[e]:t["y"===e?0:1]}},_v=function(){return kf()},wv={hasValidPointType:function(t){return/^(circle|rect(angle)?|polygon|ellipse|use)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function(t){var e=t||this.config.point_type;return uf(e)&&ef(e.create)&&ef(e.update)},initialOpacityForCircle:function(t){var e=this.config,i=this.state.withoutFadeIn,o=e.point_opacity;return rf(o)&&(o=null!==this.getBaseValue(t)&&i[t.id]?this.opacityForCircle(t):"0"),o},opacityForCircle:function(t){var e,i=this.config,o=i.point_opacity;return rf(o)&&(o=i.point_show&&!(null===(e=this.isPointFocusOnly)||void 0===e?void 0:e.call(this))?null:"0",o=tf(this.getBaseValue(t))?this.isBubbleType(t)||this.isScatterType(t)?"0.5":o:"0"),o},initCircle:function(){var t=this,e=t.$el.main;t.point=t.generatePoint(),(t.hasType("bubble")||t.hasType("scatter"))&&e.select(".".concat(qf.chartCircles)).empty()&&e.select(".".concat(Vf.chart)).append("g").attr("class",qf.chartCircles)},updateTargetForCircle:function(t,e){var i=this,o=this,r=o.config,a=o.data,s=o.$el,c=r.interaction_enabled&&r.data_selection_enabled,l=c&&r.data_selection_isselectable,u=o.getClass("circles",!0);if(r.point_show){!s.circle&&o.initCircle();var h=t,d=e;if(!h){h=a.targets.filter((function(t){return i.isScatterType(t)||i.isBubbleType(t)}));var f=s.main.select(".".concat(qf.chartCircles)).style("pointer-events","none").selectAll(".".concat(qf.circles)).data(h);f.exit().remove(),d=f.enter()}c&&d.append("g").attr("class",(function(t){return o.generateClass(rp.selectedCircles,t.id)})),d.append("g").attr("class",u).call((function(t){o.setCssRule(!0,".".concat(qf.circles),["cursor:pointer"],l)(t),o.setCssRule(!0," .".concat(qf.circle),["fill","stroke"],o.color)(t)})).style("opacity",(function(){return Fa(this.parentNode).attr("class").indexOf(qf.chartCircles)>-1?"0":null})),c&&h.forEach((function(t){s.main.selectAll(".".concat(rp.selectedCircles).concat(o.getTargetSelectorSuffix(t.id))).selectAll("".concat(rp.selectedCircle)).each((function(e){e.value=t.values[e.index].value}))}))}},updateCircle:function(t){void 0===t&&(t=!1);var e=this,i=e.config,o=e.state,r=e.$el,a=e.isPointFocusOnly(),s=t?r.subchart:r;if(i.point_show&&!o.toggling){i.point_radialGradient&&e.updateLinearGradient();var c=s.main.selectAll(".".concat(qf.circles)).selectAll(".".concat(qf.circle)).data((function(t){return e.isLineType(t)&&e.shouldDrawPointsForLine(t)||e.isBubbleType(t)||e.isRadarType(t)||e.isScatterType(t)?a?[t.values[0]]:t.values:[]}));c.exit().remove(),c.enter().filter(Boolean).append(e.point("create",this,e.pointR.bind(e),e.updateCircleColor.bind(e))),s.circle=s.main.selectAll(".".concat(qf.circles," .").concat(qf.circle)).style("stroke",e.getStylePropValue(e.color)).style("opacity",e.initialOpacityForCircle.bind(e))}},updateCircleColor:function(t){var e=this,i=e.getStylePropValue(e.color);return e.config.point_radialGradient?e.getGradienColortUrl(t.id):i?i(t):null},redrawCircle:function(t,e,i,o,r){void 0===r&&(r=!1);var a=this,s=a.state.rendered,c=a.$el,l=a.$T,u=r?c.subchart:c,h=u.main.selectAll(".".concat(rp.selectedCircle));if(!a.config.point_show)return[];var d=a.point("update",a,t,e,a.updateCircleColor.bind(a),i,o,h),f=a.isCirclePoint()?"c":"",p=kf(),g=a.opacityForCircle.bind(a),v=[];return u.circle.each((function(t){var e=d.bind(this)(t);e=l(e,i||!s,p).style("opacity",g),v.push(e)})),[v,l(h,i).attr("".concat(f,"x"),t).attr("".concat(f,"y"),e)]},showCircleFocus:function(t){var e=this,i=e.state,o=i.hasRadar,r=i.resizing,a=i.toggling,s=i.transiting,c=e.$el.circle;if(!1===s&&c&&e.isPointFocusOnly()){var l=(o?e.radarCircleX:e.circleX).bind(e),u=(o?e.radarCircleY:e.circleY).bind(e),h=a||rf(t),d=e.point("update",e,l,u,e.getStylePropValue(e.color),!r&&h);t&&(c=c.filter((function(e){var i,o=null===(i=t.filter)||void 0===i?void 0:i.call(t,(function(t){return t.id===e.id}));return!!o.length&&Fa(this).datum(o[0])}))),c.attr("class",this.updatePointClass.bind(this)).style("opacity",null).each((function(t){var i=t.id,o=t.index,r=t.value,a="hidden";tf(r)&&(d.bind(this)(t),e.expandCircles(o,i),a=""),this.style.visibility=a}))}},hideCircleFocus:function(){var t=this,e=t.$el.circle;t.isPointFocusOnly()&&e&&(t.unexpandCircles(),e.style("visibility","hidden"))},circleX:function(t){return this.xx(t)},updateCircleY:function(t){void 0===t&&(t=!1);var e=this,i=e.generateGetLinePoints(e.getShapeIndices(e.isLineType),t);return function(o,r){var a=o.id;return e.isGrouped(a)?i(o,r)[0][1]:e.getYScaleById(a,t)(e.getBaseValue(o))}},expandCircles:function(t,e,i){var o=this,r=o.pointExpandedR.bind(o);i&&o.unexpandCircles();var a=o.getShapeByIndex("circle",t,e).classed(Vf.EXPANDED,!0),s=r(a)/o.config.point_r,c=1-s;o.isCirclePoint()?a.attr("r",r):a.each((function(){var t=Fa(this);if("circle"===this.tagName)t.attr("r",r);else{var e=this.getBBox(),i=e.width,o=e.height,a=c*(+t.attr("x")+i/2),l=c*(+t.attr("y")+o/2);t.attr("transform","translate(".concat(a," ").concat(l,") scale(").concat(s,")"))}}))},unexpandCircles:function(t){var e=this,i=e.pointR.bind(e),o=e.getShapeByIndex("circle",t).filter((function(){return Fa(this).classed(Vf.EXPANDED)})).classed(Vf.EXPANDED,!1);if(o.attr("r",i),!e.isCirclePoint()){var r=i(o)/e.config.point_r;o.attr("transform",1!==r?"scale(".concat(r,")"):null)}},pointR:function(t){var e=this,i=e.config.point_r,o=i;return e.isBubbleType(t)?o=e.getBubbleR(t):ef(i)&&(o=i.bind(e.api)(t)),t.r=o,o},pointExpandedR:function(t){var e=this,i=e.config,o=e.isBubbleType(t)?1.15:1.75;return i.point_focus_expand_enabled?i.point_focus_expand_r||e.pointR(t)*o:e.pointR(t)},pointSelectR:function(t){var e=this.config.point_select_r;return ef(e)?e(t):e||4*this.pointR(t)},isPointFocusOnly:function(){var t=this;return t.config.point_focus_only&&!t.hasType("bubble")&&!t.hasType("scatter")&&!t.hasArcType(null,["radar"])},isWithinCircle:function(t,e){var i=this.config,o=_f(this.state.event,t),r=Fa(t),a=this.isCirclePoint(t)?"c":"",s="radius"===i.point_sensitivity?t.getAttribute("r"):i.point_sensitivity,c=+r.attr("".concat(a,"x")),l=+r.attr("".concat(a,"y"));if(!c&&!l&&1===t.nodeType){var u=Tf(t);c=u.x,l=u.y}return Math.sqrt(Math.pow(c-o[0],2)+Math.pow(l-o[1],2))<(e||s)},getPointSensitivity:function(t){var e=this.config.point_sensitivity;return ef(e)?e=e.call(this.api,t):"radius"===e&&(e=t.r),e},insertPointInfoDefs:function(t,e){var i,o=function(t,e){for(var i,o=t.attributes,r=0;i=o[r];r++)i=i.name,e.setAttribute(i,t.getAttribute(i))},r=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement,a=jd.createElementNS(Yr.svg,r.nodeName.toLowerCase());if(a.id=e,a.style.fill="inherit",a.style.stroke="inherit",o(r,a),null===(i=r.childNodes)||void 0===i?void 0:i.length){var s=Fa(a);"innerHTML"in a?s.html(r.innerHTML):Ef(r.childNodes).forEach((function(t){o(t,s.append(t.tagName).node())}))}this.$el.defs.node().appendChild(a)},pointFromDefs:function(t){return this.$el.defs.select("#".concat(t))},updatePointClass:function(t){var e=this,i=e.$el.circle,o=!1;return(pf(t)||i)&&(o=!0===t?i.each((function(t){var i=e.getClass("circle",!0)(t);this.getAttribute("class").indexOf(Vf.EXPANDED)>-1&&(i+=" ".concat(Vf.EXPANDED)),this.setAttribute("class",i)})):e.getClass("circle",!0)(t)),o},generateGetLinePoints:function(t,e){var i=this,o=i.config,r=i.getShapeX(0,t,e),a=i.getShapeY(e),s=i.getShapeOffset(i.isLineType,t,e),c=i.getYScaleById.bind(i);return function(t,l){var u=c.call(i,t.id,e)(i.getShapeYMin(t.id)),h=s(t,l)||u,d=r(t),f=a(t);o.axis_rotated&&(t.value>0&&f<u||t.value<0&&u<f)&&(f=u);var p=[d,f-(u-h)];return[p,p,p,p]}},generatePoint:function(){var t=this,e=t.config,i=t.state.datetimeId,o=[],r=df(e.point_pattern)?e.point_pattern:[e.point_type];return function(e,a){for(var s=[],c=2;c<arguments.length;c++)s[c-2]=arguments[c];return function(c){var l,u=t.getTargetSelectorSuffix(c.id||(null===(l=c.data)||void 0===l?void 0:l.id)||c),h=Fa(this);o.indexOf(u)<0&&o.push(u);var d=r[o.indexOf(u)%r.length];if(t.hasValidPointType(d))d=t[d];else if(!t.hasValidPointDrawMethods(d)){var f="".concat(i,"-point").concat(u);if(t.pointFromDefs(f).size()<1&&t.insertPointInfoDefs(d,f),"create"===e)return t.custom.create.bind(a).apply(void 0,Jd([h,f],s,!1));if("update"===e)return t.custom.update.bind(a).apply(void 0,Jd([h],s,!1))}return d[e].bind(a).apply(void 0,Jd([h],s,!1))}}},custom:{create:function(t,e,i){return t.append("use").attr("xlink:href","#".concat(e)).attr("class",this.updatePointClass.bind(this)).style("fill",i).node()},update:function(t,e,i,o,r,a,s){var c=t.node().getBBox(),l=c.width,u=c.height,h=function(t){return tf(t.value)?e(t)-l/2:0},d=t;return r&&(a&&d.attr("x",h),d=this.$T(d,r,_v()),s&&this.$T(s,r,_v())),d.attr("x",h).attr("y",(function(t){return tf(t.value)?i(t)-u/2:0})).style("fill",o)}},circle:{create:function(t,e,i){return t.append("circle").attr("class",this.updatePointClass.bind(this)).attr("r",e).style("fill",i).node()},update:function(t,e,i,o,r,a,s){var c=this,l=t;return c.hasType("bubble")&&l.attr("r",c.pointR.bind(c)),r&&(a&&l.attr("cx",e),l.attr("cx")&&(l=c.$T(l,r,_v())),s&&c.$T(l,r,_v())),l.attr("cx",e).attr("cy",i).style("fill",o)}},rectangle:{create:function(t,e,i){var o=function(t){return 2*e(t)};return t.append("rect").attr("class",this.updatePointClass.bind(this)).attr("width",o).attr("height",o).style("fill",i).node()},update:function(t,e,i,o,r,a,s){var c=this,l=c.config.point_r,u=function(t){return e(t)-l},h=t;return r&&(a&&h.attr("x",u),h=c.$T(h,r,_v()),s&&c.$T(s,r,_v())),h.attr("x",u).attr("y",(function(t){return i(t)-l})).style("fill",o)}}};var Tv={point_show:!0,point_r:2.5,point_radialGradient:!1,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_focus_only:!1,point_opacity:void 0,point_pattern:[],point_select_r:void 0,point_type:"circle"},kv={bar_front:!1,bar_indices_removeNull:!1,bar_label_threshold:0,bar_linearGradient:!1,bar_overlap:!1,bar_padding:0,bar_radius:void 0,bar_radius_ratio:void 0,bar_sensitivity:2,bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0},Sv={bubble_maxR:35,bubble_zerobased:!1};Math.PI;function Av(t,e){Cf(xg.prototype,bv.concat(t)),Cf(Pg.prototype,vv),Tp.setOptions(mv.concat(e||[]))}var Cv=function(){return Av([yv],kv),(Cv=function(){return Wd.BAR})()},$v=function(){return Av([wv,xv],[Sv,Tv]),($v=function(){return Wd.BUBBLE})()};var Ev=function(t){var e,i,o=this.internal,r=o.axis,a=o.brush,s=o.config,c=o.scale,l=c.x,u=c.subX,h=o.state;s.subchart_show&&(i=t,Array.isArray(i)?(r.isTimeSeries()&&(i=i.map((function(t){return Bf.bind(o)(t)}))),o.withinRange(i,o.getZoomDomain("subX",!0),o.getZoomDomain("subX"))&&(h.domain=i,a.move(a.getSelection(),i.map(u)))):i=null!==(e=h.domain)&&void 0!==e?e:l.orgDomain());return i};Cf(Ev,{show:function(){var t,e,i=this.internal,o=i.$el.subchart,r=i.config,a=r.subchart_show;if(!a){i.unbindZoomEvent(),r.subchart_show=!a,!o.main&&i.initSubchart();var s=o.main.selectAll(".".concat(Vf.target));i.data.targets.length!==s.size()&&(i.updateSizes(),i.updateTargetsForSubchart(i.data.targets),s=null===(t=o.main)||void 0===t?void 0:t.selectAll(".".concat(Vf.target))),null==s||s.style("opacity",null),null===(e=o.main)||void 0===e||e.style("display",null),this.resize()}},hide:function(){var t=this.internal,e=t.$el.subchart.main,i=t.config;i.subchart_show&&"none"!==(null==e?void 0:e.style("display"))&&(i.subchart_show=!1,e.style("display","none"),this.resize())},toggle:function(){var t=this.internal.config;this.subchart[t.subchart_show?"hide":"show"]()},reset:function(){var t=this.internal.brush;t.clear(t.getSelection())}});var Dv=function(t){var e,i,o,r=this.internal,a=r.$el,s=r.axis,c=r.config,l=r.org,u=r.scale,h=r.state,d=c.axis_rotated,f=s.isCategorized();if(c.zoom_enabled)if(o=t,Array.isArray(o)){if(s.isTimeSeries()&&(o=o.map((function(t){return Bf.bind(r)(t)}))),r.withinRange(o,r.getZoomDomain("zoom",!0),r.getZoomDomain("zoom"))){if(h.domain=o,f&&(o=o.map((function(t,e){return Number(t)+(0===e?0:1)}))),r.api.tooltip.hide(),c.subchart_show){var p=u.zoom||u.x;r.brush.getSelection().call(r.brush.move,o.map(p))}else{var g=[-(p=f?u.x.orgScale():l.xScale||u.x)(o[0]),0],v=(e=Id.scale(p.range()[1]/(p(o[1])-p(o[0])))).translate.apply(e,d?g.reverse():g);a.eventRect.call(r.zoom.transform,v)}r.setZoomResetButton()}}else o=r.zoom.getDomain();return null!==(i=h.domain)&&void 0!==i?i:o};Cf(Dv,{enable:function(t){var e=this.internal,i=e.config;/^(drag|wheel)$/.test(t)&&(i.zoom_type=t),i.zoom_enabled=!!t,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.bindZoomEvent()),e.updateAndRedraw()},max:function(t){var e=this.internal,i=e.config,o=e.org.xDomain;return(0===t||t)&&(i.zoom_x_max=Pf("max",[o[1],t])),i.zoom_x_max},min:function(t){var e=this.internal,i=e.config,o=e.org.xDomain;return(0===t||t)&&(i.zoom_x_min=Pf("min",[o[0],t])),i.zoom_x_min},range:function(t){var e=this.zoom;if(pf(t)){var i=t.min,o=t.max;af(i)&&e.min(i),af(o)&&e.max(o)}return{min:e.min(),max:e.max()}}});var Mv={zoom:Dv,unzoom:function(){var t=this.internal,e=t.config,i=t.$el,o=i.eventRect,r=i.zoomResetBtn,a=t.state;t.scale.zoom&&(e.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(Id),t.updateZoom(!0),null==r||r.style("display","none"),Pd(o.node())!==Id&&t.zoom.transform(o,Id),a.domain=void 0)}},Rv={drag:function(t){var e=this,i=e.config,o=e.state,r=e.$el.main,a=i.data_selection_grouped,s=i.interaction_enabled&&i.data_selection_isselectable;if(!e.hasArcType()&&i.data_selection_enabled&&(!i.zoom_enabled||e.zoom.altDomain)&&i.data_selection_multiple){var c=o.dragStart||[0,0],l=c[0],u=c[1],h=t[0],d=t[1],f=Math.min(l,h),p=Math.max(l,h),g=a?o.margin.top:Math.min(u,d),v=a?o.height:Math.max(u,d);r.select(".".concat(Zf.dragarea)).attr("x",f).attr("y",g).attr("width",p-f).attr("height",v-g),r.selectAll(".".concat(ap.shapes)).selectAll(".".concat(ap.shape)).filter((function(t){return null==s?void 0:s.bind(e.api)(t)})).each((function(t,i){var o,r=Fa(this),a=r.classed(rp.SELECTED),s=r.classed(Zf.INCLUDED),c=!1;if(r.classed(qf.circle)){var l=1*+r.attr("cx"),u=1*+r.attr("cy");o=e.togglePoint,c=f<l&&l<p&&g<u&&u<v}else{if(!r.classed(Yf.bar))return;var h=function(t){var e=t.getBoundingClientRect(),i=e.width,o=e.height,r=xf(t);return{x:r[0].x,y:Math.min(r[0].y,r[1].y),width:i,height:o}}(this),d=(l=h.x,u=h.y,h.width),m=h.height;o=e.togglePath,c=!(p<l||l+d<f||v<u||u+m<g)}c^s&&(r.classed(Zf.INCLUDED,!s),r.classed(rp.SELECTED,!a),o.call(e,!a,r,t,i))}))}},dragstart:function(t){var e=this,i=e.config,o=e.state,r=e.$el.main;!e.hasArcType()&&i.data_selection_enabled&&(o.dragStart=t,r.select(".".concat(Vf.chart)).append("rect").attr("class",Zf.dragarea).style("opacity","0.1"),e.setDragStatus(!0))},dragend:function(){var t=this,e=t.config,i=t.$el.main,o=t.$T;!t.hasArcType()&&e.data_selection_enabled&&(o(i.select(".".concat(Zf.dragarea))).style("opacity","0").remove(),i.selectAll(".".concat(ap.shape)).classed(Zf.INCLUDED,!1),t.setDragStatus(!1))}},Ov=(Qd(Qd({},Rv),{selectPoint:function(t,e,i){var o=this,r=o.config,a=o.$el.main,s=o.$T,c=r.axis_rotated,l=(c?o.circleY:o.circleX).bind(o),u=(c?o.circleX:o.circleY).bind(o),h=o.pointSelectR.bind(o);vf(r.data_onselected,o.api,e,t.node()),s(a.select(".".concat(rp.selectedCircles).concat(o.getTargetSelectorSuffix(e.id))).selectAll(".".concat(rp.selectedCircle,"-").concat(i)).data([e]).enter().append("circle").attr("class",(function(){return o.generateClass(rp.selectedCircle,i)})).attr("cx",l).attr("cy",u).attr("stroke",o.color).attr("r",(function(t){return 1.4*o.pointSelectR(t)}))).attr("r",h)},unselectPoint:function(t,e,i){var o=this,r=o.config,a=o.$el.main,s=o.$T;vf(r.data_onunselected,o.api,e,null==t?void 0:t.node()),s(a.select(".".concat(rp.selectedCircles).concat(o.getTargetSelectorSuffix(e.id))).selectAll(".".concat(rp.selectedCircle,"-").concat(i))).attr("r",0).remove()},togglePoint:function(t,e,i,o){this["".concat(t?"":"un","selectPoint")](e,i,o)},selectPath:function(t,e){var i=this.config;vf(i.data_onselected,this.api,e,t.node()),i.interaction_brighten&&t.style("filter","brightness(1.25)")},unselectPath:function(t,e){var i=this.config;vf(i.data_onunselected,this.api,e,t.node()),i.interaction_brighten&&t.style("filter",null)},togglePath:function(t,e,i,o){this["".concat(t?"":"un","selectPath")](e,i,o)},getToggle:function(t,e){var i=this;return"path"===t.nodeName?i.togglePath:i.isStepType(e)?function(){}:i.togglePoint},toggleShape:function(t,e,i){var o,r=this,a=r.config,s=r.$el.main;if(a.data_selection_enabled&&a.data_selection_isselectable.bind(r.api)(e)){var c,l=Fa(t),u=l.classed(rp.SELECTED),h=r.getToggle(t,e).bind(r);if(!a.data_selection_multiple){var d=null===(o=r.isPointFocusOnly)||void 0===o?void 0:o.call(r),f=".".concat(d?rp.selectedCircles:ap.shapes);a.data_selection_grouped&&(f+=r.getTargetSelectorSuffix(e.id)),s.selectAll(f).selectAll(d?".".concat(rp.selectedCircle):".".concat(ap.shape,".").concat(rp.SELECTED)).classed(rp.SELECTED,!1).each((function(t){var e=Fa(this);c=e,h(!1,e,t,t.index)}))}c&&c.node()===l.node()||(l.classed(rp.SELECTED,!u),h(!u,l,e,i))}}}),{initZoom:function(){var t=this;t.scale.zoom=null,t.generateZoom(),t.initZoomBehaviour()},bindZoomEvent:function(t){void 0===t&&(t=!0);var e=this,i=e.config;i.zoom_enabled&&t?!i.subchart_show&&e.bindZoomOnEventRect():!1===t&&(e.api.unzoom(),e.unbindZoomEvent())},generateZoom:function(){var t=this,e=t.config,i=t.org,o=t.scale,r=function(){var t,e,i,o=Bd,r=Nd,a=Hd,s=Xd,c=Vd,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],h=250,d=Dd,f=Ga("start","zoom","end"),p=500,g=150,v=0,m=10;function y(t){t.property("__zoom",Fd).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",E).filter(c).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new Od(e,t.x,t.y)}function _(t,e,i){var o=e[0]-i[0]*t.k,r=e[1]-i[1]*t.k;return o===t.x&&r===t.y?t:new Od(t.k,o,r)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function T(t,e,i,o){t.on("start.zoom",(function(){S(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(o).end()})).tween("zoom",(function(){var t=this,a=arguments,s=S(t,a).event(o),c=r.apply(t,a),l=null==i?w(c):"function"==typeof i?i.apply(t,a):i,u=Math.max(c[1][0]-c[0][0],c[1][1]-c[0][1]),h=t.__zoom,f="function"==typeof e?e.apply(t,a):e,p=d(h.invert(l).concat(u/h.k),f.invert(l).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=p(t),i=u/e[2];t=new Od(i,l[0]-e[0]*i,l[1]-e[1]*i)}s.zoom(null,t)}}))}function S(t,e,i){return!i&&t.__zooming||new A(t,e)}function A(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,e),this.taps=0}function C(t,...e){if(o.apply(this,arguments)){var i=S(this,e).event(t),r=this.__zoom,c=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),h=Ar(t);if(i.wheel)i.mouse[0][0]===h[0]&&i.mouse[0][1]===h[1]||(i.mouse[1]=r.invert(i.mouse[0]=h)),clearTimeout(i.wheel);else{if(r.k===c)return;i.mouse=[h,r.invert(h)],$c(this),i.start()}zd(t),i.wheel=setTimeout((function(){i.wheel=null,i.end()}),g),i.zoom("mouse",a(_(x(r,c),i.mouse[0],i.mouse[1]),i.extent,u))}}function $(t,...e){if(!i&&o.apply(this,arguments)){var r=t.currentTarget,s=S(this,e,!0).event(t),c=Fa(t.view).on("mousemove.zoom",(function(t){if(zd(t),!s.moved){var e=t.clientX-h,i=t.clientY-d;s.moved=e*e+i*i>v}s.event(t).zoom("mouse",a(_(s.that.__zoom,s.mouse[0]=Ar(t,r),s.mouse[1]),s.extent,u))}),!0).on("mouseup.zoom",(function(t){c.on("mousemove.zoom mouseup.zoom",null),Ja(t.view,s.moved),zd(t),s.event(t).end()}),!0),l=Ar(t,r),h=t.clientX,d=t.clientY;Qa(t.view),Ld(t),s.mouse=[l,this.__zoom.invert(l)],$c(this),s.start()}}function E(t,...e){if(o.apply(this,arguments)){var i=this.__zoom,s=Ar(t.changedTouches?t.changedTouches[0]:t,this),c=i.invert(s),l=i.k*(t.shiftKey?.5:2),d=a(_(x(i,l),s,c),r.apply(this,e),u);zd(t),h>0?Fa(this).transition().duration(h).call(T,d,s,t):Fa(this).call(y.transform,d,s,t)}}function D(i,...r){if(o.apply(this,arguments)){var a,s,c,l,u=i.touches,h=u.length,d=S(this,r,i.changedTouches.length===h).event(i);for(Ld(i),s=0;s<h;++s)l=[l=Ar(c=u[s],this),this.__zoom.invert(l),c.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,a=!0,d.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(d.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),p)),$c(this),d.start())}}function O(t,...e){if(this.__zooming){var i,o,r,s,c=S(this,e).event(t),l=t.changedTouches,h=l.length;for(zd(t),i=0;i<h;++i)r=Ar(o=l[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=r:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=r);if(o=c.that.__zoom,c.touch1){var d=c.touch0[0],f=c.touch0[1],p=c.touch1[0],g=c.touch1[1],v=(v=p[0]-d[0])*v+(v=p[1]-d[1])*v,m=(m=g[0]-f[0])*m+(m=g[1]-f[1])*m;o=x(o,Math.sqrt(v/m)),r=[(d[0]+p[0])/2,(d[1]+p[1])/2],s=[(f[0]+g[0])/2,(f[1]+g[1])/2]}else{if(!c.touch0)return;r=c.touch0[0],s=c.touch0[1]}c.zoom("touch",a(_(o,r,s),c.extent,u))}}function P(t,...o){if(this.__zooming){var r,a,s=S(this,o).event(t),c=t.changedTouches,l=c.length;for(Ld(t),i&&clearTimeout(i),i=setTimeout((function(){i=null}),p),r=0;r<l;++r)a=c[r],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=Ar(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<m)){var u=Fa(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return y.transform=function(t,e,i,o){var r=t.selection?t.selection():t;r.property("__zoom",Fd),t!==r?T(t,e,i,o):r.interrupt().each((function(){S(this,arguments).event(o).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,i,o){y.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),i,o)},y.scaleTo=function(t,e,i,o){y.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==i?w(t):"function"==typeof i?i.apply(this,arguments):i,c=o.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return a(_(x(o,l),s,c),t,u)}),i,o)},y.translateBy=function(t,e,i,o){y.transform(t,(function(){return a(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof i?i.apply(this,arguments):i),r.apply(this,arguments),u)}),null,o)},y.translateTo=function(t,e,i,o,s){y.transform(t,(function(){var t=r.apply(this,arguments),s=this.__zoom,c=null==o?w(t):"function"==typeof o?o.apply(this,arguments):o;return a(Id.translate(c[0],c[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof i?-i.apply(this,arguments):-i),t,u)}),o,s)},A.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Fa(this.that).datum();f.call(t,this.that,new Rd(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:f}),e)}},y.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:Md(+t),y):s},y.filter=function(t){return arguments.length?(o="function"==typeof t?t:Md(!!t),y):o},y.touchable=function(t){return arguments.length?(c="function"==typeof t?t:Md(!!t),y):c},y.extent=function(t){return arguments.length?(r="function"==typeof t?t:Md([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):r},y.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],y):[l[0],l[1]]},y.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],y):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},y.constrain=function(t){return arguments.length?(a=t,y):a},y.duration=function(t){return arguments.length?(h=+t,y):h},y.interpolate=function(t){return arguments.length?(d=t,y):d},y.on=function(){var t=f.on.apply(f,arguments);return t===f?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y.tapDistance=function(t){return arguments.length?(m=+t,y):m},y}().duration(0).on("start",t.onZoomStart.bind(t)).on("zoom",t.onZoom.bind(t)).on("end",t.onZoomEnd.bind(t));r.orgScaleExtent=function(){var i=e.zoom_extent||[1,10];return[i[0],Math.max(t.getMaxDataCount()/i[1],i[1])]},r.updateScaleExtent=function(){var e=lf(t.scale.x.orgDomain())/lf(t.getZoomDomain()),i=this.orgScaleExtent();return this.scaleExtent([i[0]*e,i[1]*e]),this},r.updateTransformScale=function(r,a){var s,c=e.axis_rotated;null===(s=i.xScale)||void 0===s||s.range(o.x.range());var l=r[c?"rescaleY":"rescaleX"](i.xScale||o.x),u=t.trimXDomain(l.domain()),h=e.zoom_rescale;if(l.domain(u,i.xDomain),a){var d=l(o.x.domain()[0]),f=c?r.x:d,p=c?d:r.y;t.$el.eventRect.property("__zoom",Id.translate(f,p).scale(r.k))}t.state.xTickOffset||(t.state.xTickOffset=t.axis.x.tickOffset()),o.zoom=t.getCustomizedXScale(l),t.axis.x.scale(o.zoom),h&&(!i.xScale&&(i.xScale=o.x.copy()),o.x.domain(u))},r.getDomain=function(){var e=o[o.zoom?"zoom":"subX"].domain();return t.axis.isCategorized()&&(e[1]-=2),e},t.zoom=r},onZoomStart:function(t){var e=this,i=t.sourceEvent;i&&(e.zoom.startEvent=i,e.state.zooming=!0,vf(e.config.zoom_onzoomstart,e.api,t))},onZoom:function(t){var e,i=this,o=i.config,r=i.scale,a=i.state,s=i.org,c=t.sourceEvent,l=(null==t?void 0:t.transform)===Id;if(!(!o.zoom_enabled||0===i.filterTargetsToShow(i.data.targets).length||!r.zoom&&(null==c?void 0:c.type.indexOf("touch"))>-1&&1===(null==c?void 0:c.touches.length))){t.sourceEvent&&(a.zooming=!0,a.domain=void 0);var u="mousemove"===(null==c?void 0:c.type),h=(null==c?void 0:c.wheelDelta)<0,d=t.transform;!u&&h&&r.x.domain().every((function(t,e){return t!==s.xDomain[e]}))&&r.x.domain(s.xDomain),i.zoom.updateTransformScale(d,"wheel"===o.zoom_type&&c);var f=o.transition_duration>0&&!o.subchart_show&&(a.dragging||l||!t.sourceEvent);i.redraw({withTransition:f,withY:o.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),i.state.cancelClick=u,!l&&vf(o.zoom_onzoom,i.api,null!==(e=i.state.domain)&&void 0!==e?e:i.zoom.getDomain())}},onZoomEnd:function(t){var e,i,o=this,r=o.config,a=o.state,s=o.zoom.startEvent,c=null==t?void 0:t.sourceEvent,l=(null==t?void 0:t.transform)===Id;(null==s?void 0:s.type.indexOf("touch"))>-1&&(s=s.changedTouches[0],c=null===(e=null==c?void 0:c.changedTouches)||void 0===e?void 0:e[0]),"drag"===r.zoom_type&&c&&s.clientX===c.clientX&&s.clientY===c.clientY||(o.redrawEventRect(),o.updateZoom(),a.zooming=!1,!l&&(c||a.dragging)&&vf(r.zoom_onzoomend,o.api,null!==(i=o.state.domain)&&void 0!==i?i:o.zoom.getDomain()))},updateZoom:function(t){var e=this,i=e.scale,o=i.subX,r=i.x,a=i.zoom;if(a){var s=a.domain(),c=o.domain(),l=.015,u=e.config.axis_x_inverted?(s[0]>=c[0]||s[0]+l>=c[0])&&(c[1]>=s[1]||c[1]>=s[1]+l):(s[0]<=c[0]||s[0]-l<=c[0])&&(c[1]<=s[1]||c[1]<=s[1]-l);(t||u)&&(e.axis.x.scale(o),r.domain(o.orgDomain()),e.scale.zoom=null)}},bindZoomOnEventRect:function(){var t=this,e=t.config,i=t.$el.eventRect,o="drag"===e.zoom_type?t.zoomBehaviour:t.zoom;t.$el.svg.on("wheel",(function(){})),null==i||i.call(o).on("dblclick.zoom",null)},initZoomBehaviour:function(){var t,e=this,i=e.config,o=e.state,r=i.axis_rotated,a=0,s=0,c={axis:r?"y":"x",attr:r?"height":"width",index:r?1:0};e.zoomBehaviour=Ol().clickDistance(4).on("start",(function(i){o.event=i,e.setDragStatus(!0),e.unselectRect(),t||(t=e.$el.main.append("rect").attr("clip-path",o.clip.path).attr("class",hp.zoomBrush).attr("width",r?o.width:0).attr("height",r?0:o.height)),a=_f(i,this)[c.index],s=a,t.attr(c.axis,a).attr(c.attr,0),e.onZoomStart(i)})).on("drag",(function(e){s=_f(e,this)[c.index],t.attr(c.axis,Math.min(a,s)).attr(c.attr,Math.abs(s-a))})).on("end",(function(i){var r,l=e.scale.zoom||e.scale.x;o.event=i,t.attr(c.axis,0).attr(c.attr,0),a>s&&(a=(r=[s,a])[0],s=r[1]),a<0&&(s+=Math.abs(a),a=0),a!==s&&e.api.zoom([a,s].map((function(t){return l.invert(t)}))),e.setDragStatus(!1)}))},setZoomResetButton:function(){var t=this,e=t.config,i=t.$el,o=e.zoom_resetButton;o&&"drag"===e.zoom_type&&(i.zoomResetBtn?i.zoomResetBtn.style("display",null):i.zoomResetBtn=t.$el.chart.append("div").classed(Vf.button,!0).append("span").on("click",(function(){ef(o.onclick)&&o.onclick.bind(t.api)(this),t.api.unzoom()})).classed(hp.buttonZoomReset,!0).text(o.text||"Reset Zoom"))}}),Iv={zoom_enabled:!1,zoom_type:"wheel",zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:void 0,zoom_onzoomstart:void 0,zoom_onzoomend:void 0,zoom_resetButton:!0,zoom_x_min:void 0,zoom_x_max:void 0},Pv=function(){return Cf(xg.prototype,Ov),Cf(Pg.prototype,Mv),Tp.setOptions([Iv]),(Pv=function(){return!0})()},Lv={},zv={version:"3.10.3",generate:function(t){var e=Of({},Lv,t),i=new Pg(e);return i.internal.charts=this.instance,this.instance.push(i),i},defaults:function(t){return pf(t)&&(Lv=t),Lv},instance:[],plugin:{}};const Bv=/(?<literal>\[.*?\])|(?<year>YYYY|YY)|(?<month>M{1,4})|(?<day>Do|DD?)|(?<weekday>d{2,4})|(?<hour>HH?|hh?)|(?<minute>mm?)|(?<second>ss?)|(?<fractionalSecond>SSS)|(?<dayPeriod>A|a)|(?<timeZoneName>ZZ?)/g,Nv=/(?<dateStyle>full|long|medium|short)(?:\+(?<timeStyle>full|long|medium|short))?/,Fv=[["year",629856e5,31536e6,"yr"],["month",2628e6,2628e6,"mo"],["week",6048e5,6048e5,"wk"],["day",864e5,864e5,"d"],["hour",36e5,36e5,"h"],["minute",6e4,6e4,"m"],["second",1e3,1e3,"s"]];let Xv;const Vv=new Map;let Hv,Uv,jv;function Yv(t,e,i,o=!0){const r=`${i??""}:${e=e??void 0}`;let a=Vv.get(r);if(null==a){const t=function(t){if(null==t)return{localeMatcher:"best fit",dateStyle:"full",timeStyle:"short"};const e=Nv.exec(t);if(null!=e?.groups){const{dateStyle:t,timeStyle:i}=e.groups;return{localeMatcher:"best fit",dateStyle:t||"full",timeStyle:i||void 0}}const i={localeMatcher:"best fit"};for(const{groups:e}of t.matchAll(Bv))if(null!=e)for(const[t,o]of Object.entries(e))if(null!=o)switch(t){case"year":i.year=4===o.length?"numeric":"2-digit";break;case"month":switch(o.length){case 4:i.month="long";break;case 3:i.month="short";break;case 2:i.month="2-digit";break;case 1:i.month="numeric"}break;case"day":i.day="DD"===o?"2-digit":"numeric";break;case"weekday":switch(o.length){case 4:i.weekday="long";break;case 3:i.weekday="short";break;case 2:i.weekday="narrow"}break;case"hour":i.hour=2===o.length?"2-digit":"numeric",i.hour12="hh"===o||"h"===o;break;case"minute":i.minute=2===o.length?"2-digit":"numeric";break;case"second":i.second=2===o.length?"2-digit":"numeric";break;case"fractionalSecond":i.fractionalSecondDigits=3;break;case"dayPeriod":i.dayPeriod="narrow",i.hour12=!0,i.hourCycle="h12";break;case"timeZoneName":i.timeZoneName=2===o.length?"long":"short"}return i}(e);let s;s=null==i?Hv:"system"===i?void 0:[i],a=new Intl.DateTimeFormat(s,t),o&&Vv.set(r,a)}if(null==e||Nv.test(e))return a.format(t);function s(t){const e=`${i??""}:time:${t}`;let r=Vv.get(e);if(null==r){const a={localeMatcher:"best fit",timeStyle:t};let s;s=null==i?Hv:"system"===i?void 0:[i],r=new Intl.DateTimeFormat(s,a),o&&Vv.set(e,r)}return r}const c=a.formatToParts(t);return e.replace(Bv,((e,i,o,r,a,l,u,h,d,f,p,g,v,m,y)=>{if(null!=i)return i.substring(1,i.length-1);for(const[e,i]of Object.entries(y)){if(null==i)continue;const o=c.find((t=>t.type===e));if("Do"===i&&"day"===o?.type)return qv(Number(o.value));if("a"===i&&"dayPeriod"===o?.type){const e=s("short").formatToParts(t).find((t=>"dayPeriod"===t.type));return` ${(e??o)?.value??""}`}return o?.value??""}return""}))}const Gv=["th","st","nd","rd"];function qv(t){const e=t%100;return`${t}${Gv[(e-20)%10]??Gv[e]??Gv[0]}`}class TimelineChart{constructor(t,e){this.placement=e,this._onDidClickDataPoint=new Yn,this._commitsByTimestamp=new Map,this._authorsByIndex=new Map,this._indexByAuthors=new Map,this._dateFormat=void 0,this._shortDateFormat=void 0,this._selector=t;const i=()=>{const t=this._size;this._chart?.resize({width:t.width,height:t.height})},o=this.compact?32:0,r=this.compact?16:0;this.$container=document.querySelector(t).parentElement,this._resizeObserver=new ResizeObserver((t=>{const e=t[0].borderBoxSize[0],a={width:Math.floor(e.inlineSize)+o,height:Math.floor(e.blockSize)+r};this._size=a,requestAnimationFrame(i)}));const a=this.$container.getBoundingClientRect();this._size={height:Math.floor(a.height)+o,width:Math.floor(a.width)+r},this._resizeObserver.observe(this.$container,{box:"border-box"})}get onDidClickDataPoint(){return this._onDidClickDataPoint.event}get compact(){return"editor"!==this.placement}dispose(){this._resizeObserver.disconnect(),this._chart?.destroy()}reset(){this._chart?.unselect(),this._chart?.unzoom()}setEmptyState(t,e){const i=document.getElementById("empty"),o=document.getElementById("header");null!=e.uri?(0===t?.length?(i.innerHTML="<p>No commits found for the specified time period.</p>",i.removeAttribute("hidden")):i.setAttribute("hidden",""),o.removeAttribute("hidden")):null==t?(i.innerHTML="<p>There are no editors open that can provide file history information.</p>",i.removeAttribute("hidden"),o.setAttribute("hidden","")):(i.setAttribute("hidden",""),o.removeAttribute("hidden"))}async updateChart(t){this._dateFormat=t.dateFormat,this._shortDateFormat=t.shortDateFormat,this._commitsByTimestamp.clear(),this._authorsByIndex.clear(),this._indexByAuthors.clear();let e=t?.dataset;if(null!=e||t.access.allowed||"editor"!==this.placement||(e=function(){const t=[],e=["Eric Amodio","Justin Roberts","Keith Daulton","Ramin Tadayon","Ada Lovelace","Grace Hopper"],i=10;for(let o=0;o<i;o++){const r=new Date((new Date).getTime()-Math.floor(7776e6*Math.random()));t.push({commit:String(o),author:e[Math.floor(Math.random()*e.length)],date:r.toISOString(),message:"",additions:0===o?2:o===i-1?50:Math.floor(20*Math.random())+1,deletions:0===o?1:o===i-1?25:Math.floor(20*Math.random())+1,sort:r.getTime()})}return t.sort(((t,e)=>e.sort-t.sort))}()),this.setEmptyState(e,t),null==e||0===e.length)return this._chart?.destroy(),void(this._chart=void 0);const i={},o={},r={},a={},s={},c=[],l={},u=[];let h,d,f,p,g,v=0;for(h of e){({author:d,date:f,additions:p,deletions:g}=h),this._indexByAuthors.has(d)||(this._indexByAuthors.set(d,v),this._authorsByIndex.set(v,d),v--);const t="time";null==l[t]&&(l[t]=[],l.additions=[],l.deletions=[],i.additions=t,i.deletions=t,a.additions="y2",a.deletions="y2",r.additions="Additions",r.deletions="Deletions",o.additions="rgba(73, 190, 71, 1)",o.deletions="rgba(195, 32, 45, 1)",s.additions=Cv(),s.deletions=Cv(),u.push(t),c.push(["additions","deletions"]));const e=`${t}.${d}`;null==l[e]&&(l[e]=[],l[d]=[],i[d]=e,a[d]="y",r[d]=d,s[d]=$v(),u.push(e)),l[t].push(f),l.additions.push(p??0),l.deletions.push(g??0),l[e].push(f);const m=null==p&&null==g?6:(p??0)+(g??0);l[d].push({y:this._indexByAuthors.get(d),z:m}),this._commitsByTimestamp.set(f,h)}c.push(u);const m=Object.entries(l).map((([t,e])=>[t,...e]));null!=this._chart&&null!=this._loading&&(this._loading.cancel(),this._loading=void 0,this._chart?.destroy(),this._chart=void 0),this._loading=function(){const t={pending:!0,promise:void 0,fulfill:void 0,cancel:void 0};return t.promise=new Promise(((e,i)=>{t.fulfill=function(i){t.pending=!1,e(i)},t.cancel=function(){t.pending=!1,i()}})),t}();try{if(null==this._chart){const t=this.getChartOptions();null==t.axis&&(t.axis={y:{tick:{}}}),null==t.axis.y&&(t.axis.y={tick:{}}),null==t.axis.y.tick&&(t.axis.y.tick={}),t.axis.y.min=v-2,t.axis.y.tick.values=[...this._authorsByIndex.keys()],t.data={...t.data,axes:a,colors:o,columns:m,groups:c,names:r,types:s,xs:i},t.onafterinit=()=>setTimeout((()=>{this._loading?.fulfill(),this._loading=void 0}),250),this._chart=zv.generate(t)}else this._chart.config("axis.y.tick.values",[...this._authorsByIndex.keys()],!1),this._chart.config("axis.y.min",v-2,!1),this._chart.groups(c),this._chart.load({axes:a,colors:o,columns:m,names:r,types:s,xs:i,unload:!0,done:()=>{setTimeout((()=>{this._loading?.fulfill(),this._loading=void 0}),250)}});return this._loading.promise}catch(t){}}getChartOptions(){const t={bindto:this._selector,data:{xFormat:"%Y-%m-%dT%H:%M:%S.%LZ",xLocaltime:!1,onclick:this.onDataPointClicked.bind(this)},axis:{x:{type:"timeseries",clipPath:!1,localtime:!0,show:!0,tick:{centered:!0,culling:!1,fit:!1,format:t=>this.compact?"":"number"==typeof t?t:Yv(t,this._shortDateFormat??"short"),multiline:!1,show:!1,outer:!this.compact}},y:{max:0,padding:{top:75,bottom:100},show:!0,tick:{format:t=>this.compact?"":this._authorsByIndex.get(t)??"",outer:!this.compact,show:this.compact}},y2:{padding:this.compact?{top:0,bottom:0}:void 0,label:this.compact?void 0:{text:"Lines changed",position:"outer-middle"},show:!0,tick:{format:t=>this.compact?"":t,outer:!this.compact}}},bar:{width:2,sensitivity:4,padding:2},bubble:{maxR:100,zerobased:!0},grid:{focus:{edge:!0,show:!0,y:!0},front:!1,lines:{front:!1},x:{show:!1},y:{show:!0}},legend:{show:!this.compact,padding:10},point:{sensitivity:"radius"},resize:{auto:!1},size:this._size,tooltip:{grouped:!0,format:{title:this.getTooltipTitle.bind(this),name:this.getTooltipName.bind(this),value:this.getTooltipValue.bind(this)},show:!0,order:"desc"},zoom:{enabled:Pv(),type:"drag",rescale:!0,resetButton:!0,extent:[1,.01],x:{min:100}}};return t}getTooltipName(t,e,i,o){if("additions"===i||"deletions"===i)return t;const r=new Date(this._chart.data(i)[0].values[o].x),a=this._commitsByTimestamp.get(r.toISOString());return a?.commit.slice(0,8)??"00000000"}getTooltipTitle(t){const e=new Date(t),i=`${function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(function(t,e){const i=("number"==typeof t?t:t.getTime())-(new Date).getTime();for(const[t,o,r,a]of Fv){const s=Math.abs(i);if(s>=o||1e3===o)return e?(null==Xv&&(null!=jv?Xv=jv.resolvedOptions().locale:null!=Uv?Xv=Uv.resolvedOptions().locale:(jv=new Intl.RelativeTimeFormat(Hv,{localeMatcher:"best fit",numeric:"always",style:"narrow"}),Xv=jv.resolvedOptions().locale)),"en"===Xv||Xv?.startsWith("en-")?`${Math.round(s/r)}${a}`:(null==jv&&(jv=new Intl.RelativeTimeFormat(Hv,{localeMatcher:"best fit",numeric:"always",style:"narrow"})),jv.format(Math.round(i/r),t))):(null==Uv&&(Uv=new Intl.RelativeTimeFormat(Hv,{localeMatcher:"best fit",numeric:"auto",style:"long"})),Uv.format(Math.round(i/r),t))}return""}(e))}   (${Yv(e,this._dateFormat)})`,o=this._commitsByTimestamp.get(e.toISOString());return null==o?i:`${o.author}, ${i}`}getTooltipValue(t,e,i,o){if("additions"===i||"deletions"===i)return 0===t?void 0:t;const r=new Date(this._chart.data(i)[0].values[o].x),a=this._commitsByTimestamp.get(r.toISOString());return a?.message??"???"}onDataPointClicked(t,e){const i=this._commitsByTimestamp.get(new Date(t.x).toISOString());null!=i&&this._onDidClickDataPoint.fire({data:{id:i.commit,selected:!0}})}}const Wv=globalThis,Zv=Wv.ShadowRoot&&(void 0===Wv.ShadyCSS||Wv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Kv=Symbol(),Qv=new WeakMap;class n{constructor(t,e,i){if(this._$cssResult$=!0,i!==Kv)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(Zv&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=Qv.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&Qv.set(e,t))}return t}toString(){return this.cssText}}const Jv=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1]),t[0]);return new n(i,t,Kv)},tb=Zv?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new n("string"==typeof t?t:t+"",void 0,Kv))(e)})(t):t,{is:eb,defineProperty:nb,getOwnPropertyDescriptor:ib,getOwnPropertyNames:ob,getOwnPropertySymbols:rb,getPrototypeOf:ab}=Object,sb=globalThis,cb=sb.trustedTypes,lb=cb?cb.emptyScript:"",ub=sb.reactiveElementPolyfillSupport,hb=(t,e)=>t,db={toAttribute(t,e){switch(e){case Boolean:t=t?lb:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},fb=(t,e)=>!eb(t,e),pb={attribute:!0,type:String,converter:db,reflect:!1,hasChanged:fb};Symbol.metadata??=Symbol("metadata"),sb.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=pb){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),o=this.getPropertyDescriptor(t,i,e);void 0!==o&&nb(this.prototype,t,o)}}static getPropertyDescriptor(t,e,i){const{get:o,set:r}=ib(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return o?.call(this)},set(e){const a=o?.call(this);r.call(this,e),this.requestUpdate(t,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??pb}static _$Ei(){if(this.hasOwnProperty(hb("elementProperties")))return;const t=ab(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(hb("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(hb("properties"))){const t=this.properties,e=[...ob(t),...rb(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(tb(t))}else void 0!==t&&e.push(tb(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{if(Zv)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const i of e){const e=document.createElement("style"),o=Wv.litNonce;void 0!==o&&e.setAttribute("nonce",o),e.textContent=i.cssText,t.appendChild(e)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EC(t,e){const i=this.constructor.elementProperties.get(t),o=this.constructor._$Eu(t,i);if(void 0!==o&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:db).toAttribute(e,i.type);this._$Em=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$Em=null}}_$AK(t,e){const i=this.constructor,o=i._$Eh.get(t);if(void 0!==o&&this._$Em!==o){const t=i.getPropertyOptions(o),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:db;this._$Em=o,this[o]=r.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??fb)(this[t],e))return;this.P(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[hb("elementProperties")]=new Map,b[hb("finalized")]=new Map,ub?.({ReactiveElement:b}),(sb.reactiveElementVersions??=[]).push("2.0.4");const gb=globalThis,vb=gb.trustedTypes,bb=vb?vb.createPolicy("lit-html",{createHTML:t=>t}):void 0,mb="$lit$",yb=`lit$${(Math.random()+"").slice(9)}$`,xb="?"+yb,_b=`<${xb}>`,wb=document,Tb=()=>wb.createComment(""),kb=t=>null===t||"object"!=typeof t&&"function"!=typeof t,Sb=Array.isArray,Ab=t=>Sb(t)||"function"==typeof t?.[Symbol.iterator],Cb="[ \t\n\f\r]",$b=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Eb=/-->/g,Db=/>/g,Mb=RegExp(`>|${Cb}(?:([^\\s"'>=/]+)(${Cb}*=${Cb}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),Rb=/'/g,Ob=/"/g,Ib=/^(?:script|style|textarea|title)$/i,Pb=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),Lb=Pb(1),zb=(Pb(2),Symbol.for("lit-noChange")),Bb=Symbol.for("lit-nothing"),Nb=new WeakMap,Fb=wb.createTreeWalker(wb,129);function Xb(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==bb?bb.createHTML(e):e}const Vb=(t,e)=>{const i=t.length-1,o=[];let r,a=2===e?"<svg>":"",s=$b;for(let e=0;e<i;e++){const i=t[e];let c,l,u=-1,h=0;for(;h<i.length&&(s.lastIndex=h,l=s.exec(i),null!==l);)h=s.lastIndex,s===$b?"!--"===l[1]?s=Eb:void 0!==l[1]?s=Db:void 0!==l[2]?(Ib.test(l[2])&&(r=RegExp("</"+l[2],"g")),s=Mb):void 0!==l[3]&&(s=Mb):s===Mb?">"===l[0]?(s=r??$b,u=-1):void 0===l[1]?u=-2:(u=s.lastIndex-l[2].length,c=l[1],s=void 0===l[3]?Mb:'"'===l[3]?Ob:Rb):s===Ob||s===Rb?s=Mb:s===Eb||s===Db?s=$b:(s=Mb,r=void 0);const d=s===Mb&&t[e+1].startsWith("/>")?" ":"";a+=s===$b?i+_b:u>=0?(o.push(c),i.slice(0,u)+mb+i.slice(u)+yb+d):i+yb+(-2===u?e:d)}return[Xb(t,a+(t[i]||"<?>")+(2===e?"</svg>":"")),o]};class V{constructor({strings:t,_$litType$:e},i){let o;this.parts=[];let r=0,a=0;const s=t.length-1,c=this.parts,[l,u]=Vb(t,e);if(this.el=V.createElement(l,i),Fb.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(o=Fb.nextNode())&&c.length<s;){if(1===o.nodeType){if(o.hasAttributes())for(const t of o.getAttributeNames())if(t.endsWith(mb)){const e=u[a++],i=o.getAttribute(t).split(yb),s=/([.?@])?(.*)/.exec(e);c.push({type:1,index:r,name:s[2],strings:i,ctor:"."===s[1]?k:"?"===s[1]?H:"@"===s[1]?I:R}),o.removeAttribute(t)}else t.startsWith(yb)&&(c.push({type:6,index:r}),o.removeAttribute(t));if(Ib.test(o.tagName)){const t=o.textContent.split(yb),e=t.length-1;if(e>0){o.textContent=vb?vb.emptyScript:"";for(let i=0;i<e;i++)o.append(t[i],Tb()),Fb.nextNode(),c.push({type:2,index:++r});o.append(t[e],Tb())}}}else if(8===o.nodeType)if(o.data===xb)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=o.data.indexOf(yb,t+1));)c.push({type:7,index:r}),t+=yb.length-1}r++}}static createElement(t,e){const i=wb.createElement("template");return i.innerHTML=t,i}}function Hb(t,e,i=t,o){if(e===zb)return e;let r=void 0!==o?i._$Co?.[o]:i._$Cl;const a=kb(e)?void 0:e._$litDirective$;return r?.constructor!==a&&(r?._$AO?.(!1),void 0===a?r=void 0:(r=new a(t),r._$AT(t,i,o)),void 0!==o?(i._$Co??=[])[o]=r:i._$Cl=r),void 0!==r&&(e=Hb(t,r._$AS(t,e.values),r,o)),e}class lit_html_S{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,o=(t?.creationScope??wb).importNode(e,!0);Fb.currentNode=o;let r=Fb.nextNode(),a=0,s=0,c=i[0];for(;void 0!==c;){if(a===c.index){let e;2===c.type?e=new M(r,r.nextSibling,this,t):1===c.type?e=new c.ctor(r,c.name,c.strings,this,t):6===c.type&&(e=new L(r,this,t)),this._$AV.push(e),c=i[++s]}a!==c?.index&&(r=Fb.nextNode(),a++)}return Fb.currentNode=wb,o}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,o){this.type=2,this._$AH=Bb,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Hb(this,t,e),kb(t)?t===Bb||null==t||""===t?(this._$AH!==Bb&&this._$AR(),this._$AH=Bb):t!==this._$AH&&t!==zb&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):Ab(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==Bb&&kb(this._$AH)?this._$AA.nextSibling.data=t:this.T(wb.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,o="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=V.createElement(Xb(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===o)this._$AH.p(e);else{const t=new lit_html_S(o,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=Nb.get(t.strings);return void 0===e&&Nb.set(t.strings,e=new V(t)),e}k(t){Sb(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,o=0;for(const r of t)o===e.length?e.push(i=new M(this.S(Tb()),this.S(Tb()),this,this.options)):i=e[o],i._$AI(r),o++;o<e.length&&(this._$AR(i&&i._$AB.nextSibling,o),e.length=o)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,o,r){this.type=1,this._$AH=Bb,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Bb}_$AI(t,e=this,i,o){const r=this.strings;let a=!1;if(void 0===r)t=Hb(this,t,e,0),a=!kb(t)||t!==this._$AH&&t!==zb,a&&(this._$AH=t);else{const o=t;let s,c;for(t=r[0],s=0;s<r.length-1;s++)c=Hb(this,o[i+s],e,s),c===zb&&(c=this._$AH[s]),a||=!kb(c)||c!==this._$AH[s],c===Bb?t=Bb:t!==Bb&&(t+=(c??"")+r[s+1]),this._$AH[s]=c}a&&!o&&this.j(t)}j(t){t===Bb?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class k extends R{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Bb?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Bb)}}class I extends R{constructor(t,e,i,o,r){super(t,e,i,o,r),this.type=5}_$AI(t,e=this){if((t=Hb(this,t,e,0)??Bb)===zb)return;const i=this._$AH,o=t===Bb&&i!==Bb||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==Bb&&(i===Bb||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Hb(this,t)}}const Ub=gb.litHtmlPolyfillSupport;Ub?.(V,M),(gb.litHtmlVersions??=[]).push("3.1.2");class lit_element_s extends b{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const o=i?.renderBefore??e;let r=o._$litPart$;if(void 0===r){const t=i?.renderBefore??null;o._$litPart$=r=new M(e.insertBefore(Tb(),t),t,void 0,i??{})}return r._$AI(t),r})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return zb}}lit_element_s._$litElement$=!0,lit_element_s.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:lit_element_s});const jb=globalThis.litElementPolyfillSupport;jb?.({LitElement:lit_element_s});(globalThis.litElementVersions??=[]).push("4.0.4");const Yb=t=>(e,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)},Gb={attribute:!0,type:String,converter:db,reflect:!1,hasChanged:fb},qb=(t=Gb,e,i)=>{const{kind:o,metadata:r}=i;let a=globalThis.litPropertyMetadata.get(r);if(void 0===a&&globalThis.litPropertyMetadata.set(r,a=new Map),a.set(i.name,t),"accessor"===o){const{name:o}=i;return{set(i){const r=e.get.call(this);e.set.call(this,i),this.requestUpdate(o,r,t)},init(e){return void 0!==e&&this.P(o,void 0,t),e}}}if("setter"===o){const{name:o}=i;return function(i){const r=this[o];e.call(this,i),this.requestUpdate(o,r,t)}}throw Error("Unsupported decorator location: "+o)};function Wb(t){return(e,i)=>"object"==typeof i?qb(t,e,i):((t,e,i)=>{const o=e.hasOwnProperty(i);return e.constructor.createProperty(i,o?{...t,wrapped:!0}:t),o?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)}const Zb=(t,e,i)=>(i.configurable=!0,i.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,i),i);var Kb=Object.defineProperty,Qb=Object.getOwnPropertyDescriptor,Jb=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?Qb(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&Kb(e,i,a),a};let tm=class extends lit_element_s{constructor(){super(...arguments),this.icon="",this.modifier="",this.size=16}updated(t){t.has("size")&&this.style.setProperty("--code-icon-size",`${this.size}px`),super.update(t)}};tm.styles=Jv`
		:host {
			font: normal normal normal var(--code-icon-size, 16px) / 1 codicon;
			display: inline-block;
			text-decoration: none;
			text-rendering: auto;
			text-align: center;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			user-select: none;
			-webkit-user-select: none;
			-ms-user-select: none;
			color: inherit;
			vertical-align: text-bottom;
			letter-spacing: normal;
		}

		:host([icon='add']):before {
			content: '\\ea60';
		}
		:host([icon='plus']):before {
			content: '\\ea60';
		}
		:host([icon='gist-new']):before {
			content: '\\ea60';
		}
		:host([icon='repo-create']):before {
			content: '\\ea60';
		}
		:host([icon='lightbulb']):before {
			content: '\\ea61';
		}
		:host([icon='light-bulb']):before {
			content: '\\ea61';
		}
		:host([icon='repo']):before {
			content: '\\ea62';
		}
		:host([icon='repo-delete']):before {
			content: '\\ea62';
		}
		:host([icon='gist-fork']):before {
			content: '\\ea63';
		}
		:host([icon='repo-forked']):before {
			content: '\\ea63';
		}
		:host([icon='git-pull-request']):before {
			content: '\\ea64';
		}
		:host([icon='git-pull-request-abandoned']):before {
			content: '\\ea64';
		}
		:host([icon='record-keys']):before {
			content: '\\ea65';
		}
		:host([icon='keyboard']):before {
			content: '\\ea65';
		}
		:host([icon='tag']):before {
			content: '\\ea66';
		}
		:host([icon='tag-add']):before {
			content: '\\ea66';
		}
		:host([icon='tag-remove']):before {
			content: '\\ea66';
		}
		:host([icon='person']):before {
			content: '\\ea67';
		}
		:host([icon='person-follow']):before {
			content: '\\ea67';
		}
		:host([icon='person-outline']):before {
			content: '\\ea67';
		}
		:host([icon='person-filled']):before {
			content: '\\ea67';
		}
		:host([icon='git-branch']):before {
			content: '\\ea68';
		}
		:host([icon='git-branch-create']):before {
			content: '\\ea68';
		}
		:host([icon='git-branch-delete']):before {
			content: '\\ea68';
		}
		:host([icon='source-control']):before {
			content: '\\ea68';
		}
		:host([icon='mirror']):before {
			content: '\\ea69';
		}
		:host([icon='mirror-public']):before {
			content: '\\ea69';
		}
		:host([icon='star']):before {
			content: '\\ea6a';
		}
		:host([icon='star-add']):before {
			content: '\\ea6a';
		}
		:host([icon='star-delete']):before {
			content: '\\ea6a';
		}
		:host([icon='star-empty']):before {
			content: '\\ea6a';
		}
		:host([icon='comment']):before {
			content: '\\ea6b';
		}
		:host([icon='comment-add']):before {
			content: '\\ea6b';
		}
		:host([icon='alert']):before {
			content: '\\ea6c';
		}
		:host([icon='warning']):before {
			content: '\\ea6c';
		}
		:host([icon='search']):before {
			content: '\\ea6d';
		}
		:host([icon='search-save']):before {
			content: '\\ea6d';
		}
		:host([icon='log-out']):before {
			content: '\\ea6e';
		}
		:host([icon='sign-out']):before {
			content: '\\ea6e';
		}
		:host([icon='log-in']):before {
			content: '\\ea6f';
		}
		:host([icon='sign-in']):before {
			content: '\\ea6f';
		}
		:host([icon='eye']):before {
			content: '\\ea70';
		}
		:host([icon='eye-unwatch']):before {
			content: '\\ea70';
		}
		:host([icon='eye-watch']):before {
			content: '\\ea70';
		}
		:host([icon='circle-filled']):before {
			content: '\\ea71';
		}
		:host([icon='primitive-dot']):before {
			content: '\\ea71';
		}
		:host([icon='close-dirty']):before {
			content: '\\ea71';
		}
		:host([icon='debug-breakpoint']):before {
			content: '\\ea71';
		}
		:host([icon='debug-breakpoint-disabled']):before {
			content: '\\ea71';
		}
		:host([icon='debug-hint']):before {
			content: '\\ea71';
		}
		:host([icon='primitive-square']):before {
			content: '\\ea72';
		}
		:host([icon='edit']):before {
			content: '\\ea73';
		}
		:host([icon='pencil']):before {
			content: '\\ea73';
		}
		:host([icon='info']):before {
			content: '\\ea74';
		}
		:host([icon='issue-opened']):before {
			content: '\\ea74';
		}
		:host([icon='gist-private']):before {
			content: '\\ea75';
		}
		:host([icon='git-fork-private']):before {
			content: '\\ea75';
		}
		:host([icon='lock']):before {
			content: '\\ea75';
		}
		:host([icon='mirror-private']):before {
			content: '\\ea75';
		}
		:host([icon='close']):before {
			content: '\\ea76';
		}
		:host([icon='remove-close']):before {
			content: '\\ea76';
		}
		:host([icon='x']):before {
			content: '\\ea76';
		}
		:host([icon='repo-sync']):before {
			content: '\\ea77';
		}
		:host([icon='sync']):before {
			content: '\\ea77';
		}
		:host([icon='clone']):before {
			content: '\\ea78';
		}
		:host([icon='desktop-download']):before {
			content: '\\ea78';
		}
		:host([icon='beaker']):before {
			content: '\\ea79';
		}
		:host([icon='microscope']):before {
			content: '\\ea79';
		}
		:host([icon='vm']):before {
			content: '\\ea7a';
		}
		:host([icon='device-desktop']):before {
			content: '\\ea7a';
		}
		:host([icon='file']):before {
			content: '\\ea7b';
		}
		:host([icon='file-text']):before {
			content: '\\ea7b';
		}
		:host([icon='more']):before {
			content: '\\ea7c';
		}
		:host([icon='ellipsis']):before {
			content: '\\ea7c';
		}
		:host([icon='kebab-horizontal']):before {
			content: '\\ea7c';
		}
		:host([icon='mail-reply']):before {
			content: '\\ea7d';
		}
		:host([icon='reply']):before {
			content: '\\ea7d';
		}
		:host([icon='organization']):before {
			content: '\\ea7e';
		}
		:host([icon='organization-filled']):before {
			content: '\\ea7e';
		}
		:host([icon='organization-outline']):before {
			content: '\\ea7e';
		}
		:host([icon='new-file']):before {
			content: '\\ea7f';
		}
		:host([icon='file-add']):before {
			content: '\\ea7f';
		}
		:host([icon='new-folder']):before {
			content: '\\ea80';
		}
		:host([icon='file-directory-create']):before {
			content: '\\ea80';
		}
		:host([icon='trash']):before {
			content: '\\ea81';
		}
		:host([icon='trashcan']):before {
			content: '\\ea81';
		}
		:host([icon='history']):before {
			content: '\\ea82';
		}
		:host([icon='clock']):before {
			content: '\\ea82';
		}
		:host([icon='folder']):before {
			content: '\\ea83';
		}
		:host([icon='file-directory']):before {
			content: '\\ea83';
		}
		:host([icon='symbol-folder']):before {
			content: '\\ea83';
		}
		:host([icon='logo-github']):before {
			content: '\\ea84';
		}
		:host([icon='mark-github']):before {
			content: '\\ea84';
		}
		:host([icon='github']):before {
			content: '\\ea84';
		}
		:host([icon='terminal']):before {
			content: '\\ea85';
		}
		:host([icon='console']):before {
			content: '\\ea85';
		}
		:host([icon='repl']):before {
			content: '\\ea85';
		}
		:host([icon='zap']):before {
			content: '\\ea86';
		}
		:host([icon='symbol-event']):before {
			content: '\\ea86';
		}
		:host([icon='error']):before {
			content: '\\ea87';
		}
		:host([icon='stop']):before {
			content: '\\ea87';
		}
		:host([icon='variable']):before {
			content: '\\ea88';
		}
		:host([icon='symbol-variable']):before {
			content: '\\ea88';
		}
		:host([icon='array']):before {
			content: '\\ea8a';
		}
		:host([icon='symbol-array']):before {
			content: '\\ea8a';
		}
		:host([icon='symbol-module']):before {
			content: '\\ea8b';
		}
		:host([icon='symbol-package']):before {
			content: '\\ea8b';
		}
		:host([icon='symbol-namespace']):before {
			content: '\\ea8b';
		}
		:host([icon='symbol-object']):before {
			content: '\\ea8b';
		}
		:host([icon='symbol-method']):before {
			content: '\\ea8c';
		}
		:host([icon='symbol-function']):before {
			content: '\\ea8c';
		}
		:host([icon='symbol-constructor']):before {
			content: '\\ea8c';
		}
		:host([icon='symbol-boolean']):before {
			content: '\\ea8f';
		}
		:host([icon='symbol-null']):before {
			content: '\\ea8f';
		}
		:host([icon='symbol-numeric']):before {
			content: '\\ea90';
		}
		:host([icon='symbol-number']):before {
			content: '\\ea90';
		}
		:host([icon='symbol-structure']):before {
			content: '\\ea91';
		}
		:host([icon='symbol-struct']):before {
			content: '\\ea91';
		}
		:host([icon='symbol-parameter']):before {
			content: '\\ea92';
		}
		:host([icon='symbol-type-parameter']):before {
			content: '\\ea92';
		}
		:host([icon='symbol-key']):before {
			content: '\\ea93';
		}
		:host([icon='symbol-text']):before {
			content: '\\ea93';
		}
		:host([icon='symbol-reference']):before {
			content: '\\ea94';
		}
		:host([icon='go-to-file']):before {
			content: '\\ea94';
		}
		:host([icon='symbol-enum']):before {
			content: '\\ea95';
		}
		:host([icon='symbol-value']):before {
			content: '\\ea95';
		}
		:host([icon='symbol-ruler']):before {
			content: '\\ea96';
		}
		:host([icon='symbol-unit']):before {
			content: '\\ea96';
		}
		:host([icon='activate-breakpoints']):before {
			content: '\\ea97';
		}
		:host([icon='archive']):before {
			content: '\\ea98';
		}
		:host([icon='arrow-both']):before {
			content: '\\ea99';
		}
		:host([icon='arrow-down']):before {
			content: '\\ea9a';
		}
		:host([icon='arrow-left']):before {
			content: '\\ea9b';
		}
		:host([icon='arrow-right']):before {
			content: '\\ea9c';
		}
		:host([icon='arrow-small-down']):before {
			content: '\\ea9d';
		}
		:host([icon='arrow-small-left']):before {
			content: '\\ea9e';
		}
		:host([icon='arrow-small-right']):before {
			content: '\\ea9f';
		}
		:host([icon='arrow-small-up']):before {
			content: '\\eaa0';
		}
		:host([icon='arrow-up']):before {
			content: '\\eaa1';
		}
		:host([icon='bell']):before {
			content: '\\eaa2';
		}
		:host([icon='bold']):before {
			content: '\\eaa3';
		}
		:host([icon='book']):before {
			content: '\\eaa4';
		}
		:host([icon='bookmark']):before {
			content: '\\eaa5';
		}
		:host([icon='debug-breakpoint-conditional-unverified']):before {
			content: '\\eaa6';
		}
		:host([icon='debug-breakpoint-conditional']):before {
			content: '\\eaa7';
		}
		:host([icon='debug-breakpoint-conditional-disabled']):before {
			content: '\\eaa7';
		}
		:host([icon='debug-breakpoint-data-unverified']):before {
			content: '\\eaa8';
		}
		:host([icon='debug-breakpoint-data']):before {
			content: '\\eaa9';
		}
		:host([icon='debug-breakpoint-data-disabled']):before {
			content: '\\eaa9';
		}
		:host([icon='debug-breakpoint-log-unverified']):before {
			content: '\\eaaa';
		}
		:host([icon='debug-breakpoint-log']):before {
			content: '\\eaab';
		}
		:host([icon='debug-breakpoint-log-disabled']):before {
			content: '\\eaab';
		}
		:host([icon='briefcase']):before {
			content: '\\eaac';
		}
		:host([icon='broadcast']):before {
			content: '\\eaad';
		}
		:host([icon='browser']):before {
			content: '\\eaae';
		}
		:host([icon='bug']):before {
			content: '\\eaaf';
		}
		:host([icon='calendar']):before {
			content: '\\eab0';
		}
		:host([icon='case-sensitive']):before {
			content: '\\eab1';
		}
		:host([icon='check']):before {
			content: '\\eab2';
		}
		:host([icon='checklist']):before {
			content: '\\eab3';
		}
		:host([icon='chevron-down']):before {
			content: '\\eab4';
		}
		:host([icon='chevron-left']):before {
			content: '\\eab5';
		}
		:host([icon='chevron-right']):before {
			content: '\\eab6';
		}
		:host([icon='chevron-up']):before {
			content: '\\eab7';
		}
		:host([icon='chrome-close']):before {
			content: '\\eab8';
		}
		:host([icon='chrome-maximize']):before {
			content: '\\eab9';
		}
		:host([icon='chrome-minimize']):before {
			content: '\\eaba';
		}
		:host([icon='chrome-restore']):before {
			content: '\\eabb';
		}
		:host([icon='circle-outline']):before {
			content: '\\eabc';
		}
		:host([icon='debug-breakpoint-unverified']):before {
			content: '\\eabc';
		}
		:host([icon='circle-slash']):before {
			content: '\\eabd';
		}
		:host([icon='circuit-board']):before {
			content: '\\eabe';
		}
		:host([icon='clear-all']):before {
			content: '\\eabf';
		}
		:host([icon='clippy']):before {
			content: '\\eac0';
		}
		:host([icon='close-all']):before {
			content: '\\eac1';
		}
		:host([icon='cloud-download']):before {
			content: '\\eac2';
		}
		:host([icon='cloud-upload']):before {
			content: '\\eac3';
		}
		:host([icon='code']):before {
			content: '\\eac4';
		}
		:host([icon='collapse-all']):before {
			content: '\\eac5';
		}
		:host([icon='color-mode']):before {
			content: '\\eac6';
		}
		:host([icon='comment-discussion']):before {
			content: '\\eac7';
		}
		:host([icon='credit-card']):before {
			content: '\\eac9';
		}
		:host([icon='dash']):before {
			content: '\\eacc';
		}
		:host([icon='dashboard']):before {
			content: '\\eacd';
		}
		:host([icon='database']):before {
			content: '\\eace';
		}
		:host([icon='debug-continue']):before {
			content: '\\eacf';
		}
		:host([icon='debug-disconnect']):before {
			content: '\\ead0';
		}
		:host([icon='debug-pause']):before {
			content: '\\ead1';
		}
		:host([icon='debug-restart']):before {
			content: '\\ead2';
		}
		:host([icon='debug-start']):before {
			content: '\\ead3';
		}
		:host([icon='debug-step-into']):before {
			content: '\\ead4';
		}
		:host([icon='debug-step-out']):before {
			content: '\\ead5';
		}
		:host([icon='debug-step-over']):before {
			content: '\\ead6';
		}
		:host([icon='debug-stop']):before {
			content: '\\ead7';
		}
		:host([icon='debug']):before {
			content: '\\ead8';
		}
		:host([icon='device-camera-video']):before {
			content: '\\ead9';
		}
		:host([icon='device-camera']):before {
			content: '\\eada';
		}
		:host([icon='device-mobile']):before {
			content: '\\eadb';
		}
		:host([icon='diff-added']):before {
			content: '\\eadc';
		}
		:host([icon='diff-ignored']):before {
			content: '\\eadd';
		}
		:host([icon='diff-modified']):before {
			content: '\\eade';
		}
		:host([icon='diff-removed']):before {
			content: '\\eadf';
		}
		:host([icon='diff-renamed']):before {
			content: '\\eae0';
		}
		:host([icon='diff']):before {
			content: '\\eae1';
		}
		:host([icon='discard']):before {
			content: '\\eae2';
		}
		:host([icon='editor-layout']):before {
			content: '\\eae3';
		}
		:host([icon='empty-window']):before {
			content: '\\eae4';
		}
		:host([icon='exclude']):before {
			content: '\\eae5';
		}
		:host([icon='extensions']):before {
			content: '\\eae6';
		}
		:host([icon='eye-closed']):before {
			content: '\\eae7';
		}
		:host([icon='file-binary']):before {
			content: '\\eae8';
		}
		:host([icon='file-code']):before {
			content: '\\eae9';
		}
		:host([icon='file-media']):before {
			content: '\\eaea';
		}
		:host([icon='file-pdf']):before {
			content: '\\eaeb';
		}
		:host([icon='file-submodule']):before {
			content: '\\eaec';
		}
		:host([icon='file-symlink-directory']):before {
			content: '\\eaed';
		}
		:host([icon='file-symlink-file']):before {
			content: '\\eaee';
		}
		:host([icon='file-zip']):before {
			content: '\\eaef';
		}
		:host([icon='files']):before {
			content: '\\eaf0';
		}
		:host([icon='filter']):before {
			content: '\\eaf1';
		}
		:host([icon='flame']):before {
			content: '\\eaf2';
		}
		:host([icon='fold-down']):before {
			content: '\\eaf3';
		}
		:host([icon='fold-up']):before {
			content: '\\eaf4';
		}
		:host([icon='fold']):before {
			content: '\\eaf5';
		}
		:host([icon='folder-active']):before {
			content: '\\eaf6';
		}
		:host([icon='folder-opened']):before {
			content: '\\eaf7';
		}
		:host([icon='gear']):before {
			content: '\\eaf8';
		}
		:host([icon='gift']):before {
			content: '\\eaf9';
		}
		:host([icon='gist-secret']):before {
			content: '\\eafa';
		}
		:host([icon='gist']):before {
			content: '\\eafb';
		}
		:host([icon='git-commit']):before {
			content: '\\eafc';
		}
		:host([icon='git-compare']):before {
			content: '\\eafd';
		}
		:host([icon='compare-changes']):before {
			content: '\\eafd';
		}
		:host([icon='git-merge']):before {
			content: '\\eafe';
		}
		:host([icon='github-action']):before {
			content: '\\eaff';
		}
		:host([icon='github-alt']):before {
			content: '\\eb00';
		}
		:host([icon='globe']):before {
			content: '\\eb01';
		}
		:host([icon='grabber']):before {
			content: '\\eb02';
		}
		:host([icon='graph']):before {
			content: '\\eb03';
		}
		:host([icon='gripper']):before {
			content: '\\eb04';
		}
		:host([icon='heart']):before {
			content: '\\eb05';
		}
		:host([icon='home']):before {
			content: '\\eb06';
		}
		:host([icon='horizontal-rule']):before {
			content: '\\eb07';
		}
		:host([icon='hubot']):before {
			content: '\\eb08';
		}
		:host([icon='inbox']):before {
			content: '\\eb09';
		}
		:host([icon='issue-reopened']):before {
			content: '\\eb0b';
		}
		:host([icon='issues']):before {
			content: '\\eb0c';
		}
		:host([icon='italic']):before {
			content: '\\eb0d';
		}
		:host([icon='jersey']):before {
			content: '\\eb0e';
		}
		:host([icon='json']):before {
			content: '\\eb0f';
		}
		:host([icon='kebab-vertical']):before {
			content: '\\eb10';
		}
		:host([icon='key']):before {
			content: '\\eb11';
		}
		:host([icon='law']):before {
			content: '\\eb12';
		}
		:host([icon='lightbulb-autofix']):before {
			content: '\\eb13';
		}
		:host([icon='link-external']):before {
			content: '\\eb14';
		}
		:host([icon='link']):before {
			content: '\\eb15';
		}
		:host([icon='list-ordered']):before {
			content: '\\eb16';
		}
		:host([icon='list-unordered']):before {
			content: '\\eb17';
		}
		:host([icon='live-share']):before {
			content: '\\eb18';
		}
		:host([icon='loading']):before {
			content: '\\eb19';
		}
		:host([icon='location']):before {
			content: '\\eb1a';
		}
		:host([icon='mail-read']):before {
			content: '\\eb1b';
		}
		:host([icon='mail']):before {
			content: '\\eb1c';
		}
		:host([icon='markdown']):before {
			content: '\\eb1d';
		}
		:host([icon='megaphone']):before {
			content: '\\eb1e';
		}
		:host([icon='mention']):before {
			content: '\\eb1f';
		}
		:host([icon='milestone']):before {
			content: '\\eb20';
		}
		:host([icon='mortar-board']):before {
			content: '\\eb21';
		}
		:host([icon='move']):before {
			content: '\\eb22';
		}
		:host([icon='multiple-windows']):before {
			content: '\\eb23';
		}
		:host([icon='mute']):before {
			content: '\\eb24';
		}
		:host([icon='no-newline']):before {
			content: '\\eb25';
		}
		:host([icon='note']):before {
			content: '\\eb26';
		}
		:host([icon='octoface']):before {
			content: '\\eb27';
		}
		:host([icon='open-preview']):before {
			content: '\\eb28';
		}
		:host([icon='package']):before {
			content: '\\eb29';
		}
		:host([icon='paintcan']):before {
			content: '\\eb2a';
		}
		:host([icon='pin']):before {
			content: '\\eb2b';
		}
		:host([icon='play']):before {
			content: '\\eb2c';
		}
		:host([icon='run']):before {
			content: '\\eb2c';
		}
		:host([icon='plug']):before {
			content: '\\eb2d';
		}
		:host([icon='preserve-case']):before {
			content: '\\eb2e';
		}
		:host([icon='preview']):before {
			content: '\\eb2f';
		}
		:host([icon='project']):before {
			content: '\\eb30';
		}
		:host([icon='pulse']):before {
			content: '\\eb31';
		}
		:host([icon='question']):before {
			content: '\\eb32';
		}
		:host([icon='quote']):before {
			content: '\\eb33';
		}
		:host([icon='radio-tower']):before {
			content: '\\eb34';
		}
		:host([icon='reactions']):before {
			content: '\\eb35';
		}
		:host([icon='references']):before {
			content: '\\eb36';
		}
		:host([icon='refresh']):before {
			content: '\\eb37';
		}
		:host([icon='regex']):before {
			content: '\\eb38';
		}
		:host([icon='remote-explorer']):before {
			content: '\\eb39';
		}
		:host([icon='remote']):before {
			content: '\\eb3a';
		}
		:host([icon='remove']):before {
			content: '\\eb3b';
		}
		:host([icon='replace-all']):before {
			content: '\\eb3c';
		}
		:host([icon='replace']):before {
			content: '\\eb3d';
		}
		:host([icon='repo-clone']):before {
			content: '\\eb3e';
		}
		:host([icon='repo-force-push']):before {
			content: '\\eb3f';
		}
		:host([icon='repo-pull']):before {
			content: '\\eb40';
		}
		:host([icon='repo-push']):before {
			content: '\\eb41';
		}
		:host([icon='report']):before {
			content: '\\eb42';
		}
		:host([icon='request-changes']):before {
			content: '\\eb43';
		}
		:host([icon='rocket']):before {
			content: '\\eb44';
		}
		:host([icon='root-folder-opened']):before {
			content: '\\eb45';
		}
		:host([icon='root-folder']):before {
			content: '\\eb46';
		}
		:host([icon='rss']):before {
			content: '\\eb47';
		}
		:host([icon='ruby']):before {
			content: '\\eb48';
		}
		:host([icon='save-all']):before {
			content: '\\eb49';
		}
		:host([icon='save-as']):before {
			content: '\\eb4a';
		}
		:host([icon='save']):before {
			content: '\\eb4b';
		}
		:host([icon='screen-full']):before {
			content: '\\eb4c';
		}
		:host([icon='screen-normal']):before {
			content: '\\eb4d';
		}
		:host([icon='search-stop']):before {
			content: '\\eb4e';
		}
		:host([icon='server']):before {
			content: '\\eb50';
		}
		:host([icon='settings-gear']):before {
			content: '\\eb51';
		}
		:host([icon='settings']):before {
			content: '\\eb52';
		}
		:host([icon='shield']):before {
			content: '\\eb53';
		}
		:host([icon='smiley']):before {
			content: '\\eb54';
		}
		:host([icon='sort-precedence']):before {
			content: '\\eb55';
		}
		:host([icon='split-horizontal']):before {
			content: '\\eb56';
		}
		:host([icon='split-vertical']):before {
			content: '\\eb57';
		}
		:host([icon='squirrel']):before {
			content: '\\eb58';
		}
		:host([icon='star-full']):before {
			content: '\\eb59';
		}
		:host([icon='star-half']):before {
			content: '\\eb5a';
		}
		:host([icon='symbol-class']):before {
			content: '\\eb5b';
		}
		:host([icon='symbol-color']):before {
			content: '\\eb5c';
		}
		:host([icon='symbol-constant']):before {
			content: '\\eb5d';
		}
		:host([icon='symbol-enum-member']):before {
			content: '\\eb5e';
		}
		:host([icon='symbol-field']):before {
			content: '\\eb5f';
		}
		:host([icon='symbol-file']):before {
			content: '\\eb60';
		}
		:host([icon='symbol-interface']):before {
			content: '\\eb61';
		}
		:host([icon='symbol-keyword']):before {
			content: '\\eb62';
		}
		:host([icon='symbol-misc']):before {
			content: '\\eb63';
		}
		:host([icon='symbol-operator']):before {
			content: '\\eb64';
		}
		:host([icon='symbol-property']):before {
			content: '\\eb65';
		}
		:host([icon='wrench']):before {
			content: '\\eb65';
		}
		:host([icon='wrench-subaction']):before {
			content: '\\eb65';
		}
		:host([icon='symbol-snippet']):before {
			content: '\\eb66';
		}
		:host([icon='tasklist']):before {
			content: '\\eb67';
		}
		:host([icon='telescope']):before {
			content: '\\eb68';
		}
		:host([icon='text-size']):before {
			content: '\\eb69';
		}
		:host([icon='three-bars']):before {
			content: '\\eb6a';
		}
		:host([icon='thumbsdown']):before {
			content: '\\eb6b';
		}
		:host([icon='thumbsup']):before {
			content: '\\eb6c';
		}
		:host([icon='tools']):before {
			content: '\\eb6d';
		}
		:host([icon='triangle-down']):before {
			content: '\\eb6e';
		}
		:host([icon='triangle-left']):before {
			content: '\\eb6f';
		}
		:host([icon='triangle-right']):before {
			content: '\\eb70';
		}
		:host([icon='triangle-up']):before {
			content: '\\eb71';
		}
		:host([icon='twitter']):before {
			content: '\\eb72';
		}
		:host([icon='unfold']):before {
			content: '\\eb73';
		}
		:host([icon='unlock']):before {
			content: '\\eb74';
		}
		:host([icon='unmute']):before {
			content: '\\eb75';
		}
		:host([icon='unverified']):before {
			content: '\\eb76';
		}
		:host([icon='verified']):before {
			content: '\\eb77';
		}
		:host([icon='versions']):before {
			content: '\\eb78';
		}
		:host([icon='vm-active']):before {
			content: '\\eb79';
		}
		:host([icon='vm-outline']):before {
			content: '\\eb7a';
		}
		:host([icon='vm-running']):before {
			content: '\\eb7b';
		}
		:host([icon='watch']):before {
			content: '\\eb7c';
		}
		:host([icon='whitespace']):before {
			content: '\\eb7d';
		}
		:host([icon='whole-word']):before {
			content: '\\eb7e';
		}
		:host([icon='window']):before {
			content: '\\eb7f';
		}
		:host([icon='word-wrap']):before {
			content: '\\eb80';
		}
		:host([icon='zoom-in']):before {
			content: '\\eb81';
		}
		:host([icon='zoom-out']):before {
			content: '\\eb82';
		}
		:host([icon='list-filter']):before {
			content: '\\eb83';
		}
		:host([icon='list-flat']):before {
			content: '\\eb84';
		}
		:host([icon='list-selection']):before {
			content: '\\eb85';
		}
		:host([icon='selection']):before {
			content: '\\eb85';
		}
		:host([icon='list-tree']):before {
			content: '\\eb86';
		}
		:host([icon='debug-breakpoint-function-unverified']):before {
			content: '\\eb87';
		}
		:host([icon='debug-breakpoint-function']):before {
			content: '\\eb88';
		}
		:host([icon='debug-breakpoint-function-disabled']):before {
			content: '\\eb88';
		}
		:host([icon='debug-stackframe-active']):before {
			content: '\\eb89';
		}
		:host([icon='debug-stackframe-dot']):before {
			content: '\\eb8a';
		}
		:host([icon='debug-stackframe']):before {
			content: '\\eb8b';
		}
		:host([icon='debug-stackframe-focused']):before {
			content: '\\eb8b';
		}
		:host([icon='debug-breakpoint-unsupported']):before {
			content: '\\eb8c';
		}
		:host([icon='symbol-string']):before {
			content: '\\eb8d';
		}
		:host([icon='debug-reverse-continue']):before {
			content: '\\eb8e';
		}
		:host([icon='debug-step-back']):before {
			content: '\\eb8f';
		}
		:host([icon='debug-restart-frame']):before {
			content: '\\eb90';
		}
		:host([icon='debug-alt']):before {
			content: '\\eb91';
		}
		:host([icon='call-incoming']):before {
			content: '\\eb92';
		}
		:host([icon='call-outgoing']):before {
			content: '\\eb93';
		}
		:host([icon='menu']):before {
			content: '\\eb94';
		}
		:host([icon='expand-all']):before {
			content: '\\eb95';
		}
		:host([icon='feedback']):before {
			content: '\\eb96';
		}
		:host([icon='group-by-ref-type']):before {
			content: '\\eb97';
		}
		:host([icon='ungroup-by-ref-type']):before {
			content: '\\eb98';
		}
		:host([icon='account']):before {
			content: '\\eb99';
		}
		:host([icon='bell-dot']):before {
			content: '\\eb9a';
		}
		:host([icon='debug-console']):before {
			content: '\\eb9b';
		}
		:host([icon='library']):before {
			content: '\\eb9c';
		}
		:host([icon='output']):before {
			content: '\\eb9d';
		}
		:host([icon='run-all']):before {
			content: '\\eb9e';
		}
		:host([icon='sync-ignored']):before {
			content: '\\eb9f';
		}
		:host([icon='pinned']):before {
			content: '\\eba0';
		}
		:host([icon='github-inverted']):before {
			content: '\\eba1';
		}
		:host([icon='server-process']):before {
			content: '\\eba2';
		}
		:host([icon='server-environment']):before {
			content: '\\eba3';
		}
		:host([icon='pass']):before {
			content: '\\eba4';
		}
		:host([icon='issue-closed']):before {
			content: '\\eba4';
		}
		:host([icon='stop-circle']):before {
			content: '\\eba5';
		}
		:host([icon='play-circle']):before {
			content: '\\eba6';
		}
		:host([icon='record']):before {
			content: '\\eba7';
		}
		:host([icon='debug-alt-small']):before {
			content: '\\eba8';
		}
		:host([icon='vm-connect']):before {
			content: '\\eba9';
		}
		:host([icon='cloud']):before {
			content: '\\ebaa';
		}
		:host([icon='merge']):before {
			content: '\\ebab';
		}
		:host([icon='export']):before {
			content: '\\ebac';
		}
		:host([icon='graph-left']):before {
			content: '\\ebad';
		}
		:host([icon='magnet']):before {
			content: '\\ebae';
		}
		:host([icon='notebook']):before {
			content: '\\ebaf';
		}
		:host([icon='redo']):before {
			content: '\\ebb0';
		}
		:host([icon='check-all']):before {
			content: '\\ebb1';
		}
		:host([icon='pinned-dirty']):before {
			content: '\\ebb2';
		}
		:host([icon='pass-filled']):before {
			content: '\\ebb3';
		}
		:host([icon='circle-large-filled']):before {
			content: '\\ebb4';
		}
		:host([icon='circle-large-outline']):before {
			content: '\\ebb5';
		}
		:host([icon='combine']):before {
			content: '\\ebb6';
		}
		:host([icon='gather']):before {
			content: '\\ebb6';
		}
		:host([icon='table']):before {
			content: '\\ebb7';
		}
		:host([icon='variable-group']):before {
			content: '\\ebb8';
		}
		:host([icon='type-hierarchy']):before {
			content: '\\ebb9';
		}
		:host([icon='type-hierarchy-sub']):before {
			content: '\\ebba';
		}
		:host([icon='type-hierarchy-super']):before {
			content: '\\ebbb';
		}
		:host([icon='git-pull-request-create']):before {
			content: '\\ebbc';
		}
		:host([icon='run-above']):before {
			content: '\\ebbd';
		}
		:host([icon='run-below']):before {
			content: '\\ebbe';
		}
		:host([icon='notebook-template']):before {
			content: '\\ebbf';
		}
		:host([icon='debug-rerun']):before {
			content: '\\ebc0';
		}
		:host([icon='workspace-trusted']):before {
			content: '\\ebc1';
		}
		:host([icon='workspace-untrusted']):before {
			content: '\\ebc2';
		}
		:host([icon='workspace-unknown']):before {
			content: '\\ebc3';
		}
		:host([icon='terminal-cmd']):before {
			content: '\\ebc4';
		}
		:host([icon='terminal-debian']):before {
			content: '\\ebc5';
		}
		:host([icon='terminal-linux']):before {
			content: '\\ebc6';
		}
		:host([icon='terminal-powershell']):before {
			content: '\\ebc7';
		}
		:host([icon='terminal-tmux']):before {
			content: '\\ebc8';
		}
		:host([icon='terminal-ubuntu']):before {
			content: '\\ebc9';
		}
		:host([icon='terminal-bash']):before {
			content: '\\ebca';
		}
		:host([icon='arrow-swap']):before {
			content: '\\ebcb';
		}
		:host([icon='copy']):before {
			content: '\\ebcc';
		}
		:host([icon='person-add']):before {
			content: '\\ebcd';
		}
		:host([icon='filter-filled']):before {
			content: '\\ebce';
		}
		:host([icon='wand']):before {
			content: '\\ebcf';
		}
		:host([icon='debug-line-by-line']):before {
			content: '\\ebd0';
		}
		:host([icon='inspect']):before {
			content: '\\ebd1';
		}
		:host([icon='layers']):before {
			content: '\\ebd2';
		}
		:host([icon='layers-dot']):before {
			content: '\\ebd3';
		}
		:host([icon='layers-active']):before {
			content: '\\ebd4';
		}
		:host([icon='compass']):before {
			content: '\\ebd5';
		}
		:host([icon='compass-dot']):before {
			content: '\\ebd6';
		}
		:host([icon='compass-active']):before {
			content: '\\ebd7';
		}
		:host([icon='azure']):before {
			content: '\\ebd8';
		}
		:host([icon='issue-draft']):before {
			content: '\\ebd9';
		}
		:host([icon='git-pull-request-closed']):before {
			content: '\\ebda';
		}
		:host([icon='git-pull-request-draft']):before {
			content: '\\ebdb';
		}
		:host([icon='debug-all']):before {
			content: '\\ebdc';
		}
		:host([icon='debug-coverage']):before {
			content: '\\ebdd';
		}
		:host([icon='run-errors']):before {
			content: '\\ebde';
		}
		:host([icon='folder-library']):before {
			content: '\\ebdf';
		}
		:host([icon='debug-continue-small']):before {
			content: '\\ebe0';
		}
		:host([icon='beaker-stop']):before {
			content: '\\ebe1';
		}
		:host([icon='graph-line']):before {
			content: '\\ebe2';
		}
		:host([icon='graph-scatter']):before {
			content: '\\ebe3';
		}
		:host([icon='pie-chart']):before {
			content: '\\ebe4';
		}
		:host([icon='bracket']):before {
			content: '\\eb0f';
		}
		:host([icon='bracket-dot']):before {
			content: '\\ebe5';
		}
		:host([icon='bracket-error']):before {
			content: '\\ebe6';
		}
		:host([icon='lock-small']):before {
			content: '\\ebe7';
		}
		:host([icon='azure-devops']):before {
			content: '\\ebe8';
		}
		:host([icon='verified-filled']):before {
			content: '\\ebe9';
		}
		:host([icon='newline']):before {
			content: '\\ebea';
		}
		:host([icon='layout']):before {
			content: '\\ebeb';
		}
		:host([icon='layout-activitybar-left']):before {
			content: '\\ebec';
		}
		:host([icon='layout-activitybar-right']):before {
			content: '\\ebed';
		}
		:host([icon='layout-panel-left']):before {
			content: '\\ebee';
		}
		:host([icon='layout-panel-center']):before {
			content: '\\ebef';
		}
		:host([icon='layout-panel-justify']):before {
			content: '\\ebf0';
		}
		:host([icon='layout-panel-right']):before {
			content: '\\ebf1';
		}
		:host([icon='layout-panel']):before {
			content: '\\ebf2';
		}
		:host([icon='layout-sidebar-left']):before {
			content: '\\ebf3';
		}
		:host([icon='layout-sidebar-right']):before {
			content: '\\ebf4';
		}
		:host([icon='layout-statusbar']):before {
			content: '\\ebf5';
		}
		:host([icon='layout-menubar']):before {
			content: '\\ebf6';
		}
		:host([icon='layout-centered']):before {
			content: '\\ebf7';
		}
		:host([icon='target']):before {
			content: '\\ebf8';
		}

		:host([icon='indent']):before {
			content: '\\ebf9';
		}
		:host([icon='record-small']):before {
			content: '\\ebfa';
		}
		:host([icon='error-small']):before {
			content: '\\ebfb';
		}
		:host([icon='terminal-decoration-error']):before {
			content: '\\ebfb';
		}
		:host([icon='arrow-circle-down']):before {
			content: '\\ebfc';
		}
		:host([icon='arrow-circle-left']):before {
			content: '\\ebfd';
		}
		:host([icon='arrow-circle-right']):before {
			content: '\\ebfe';
		}
		:host([icon='arrow-circle-up']):before {
			content: '\\ebff';
		}
		:host([icon='layout-sidebar-right-off']):before {
			content: '\\ec00';
		}
		:host([icon='layout-panel-off']):before {
			content: '\\ec01';
		}
		:host([icon='layout-sidebar-left-off']):before {
			content: '\\ec02';
		}
		:host([icon='blank']):before {
			content: '\\ec03';
		}
		:host([icon='heart-filled']):before {
			content: '\\ec04';
		}
		:host([icon='map']):before {
			content: '\\ec05';
		}
		:host([icon='map-filled']):before {
			content: '\\ec06';
		}
		:host([icon='circle-small']):before {
			content: '\\ec07';
		}
		:host([icon='bell-slash']):before {
			content: '\\ec08';
		}
		:host([icon='bell-slash-dot']):before {
			content: '\\ec09';
		}
		:host([icon='comment-unresolved']):before {
			content: '\\ec0a';
		}
		:host([icon='git-pull-request-go-to-changes']):before {
			content: '\\ec0b';
		}
		:host([icon='git-pull-request-new-changes']):before {
			content: '\\ec0c';
		}
		:host([icon='search-fuzzy']):before {
			content: '\\ec0d';
		}
		:host([icon='comment-draft']):before {
			content: '\\ec0e';
		}
		:host([icon='send']):before {
			content: '\\ec0f';
		}
		:host([icon='sparkle']):before {
			content: '\\ec10';
		}
		:host([icon='insert']):before {
			content: '\\ec11';
		}

		:host([icon^='gl-']) {
			font-family: 'glicons';
		}
		:host([icon='gl-commit-horizontal']):before {
			content: '\\f101';
		}
		:host([icon='gl-graph']):before {
			content: '\\f102';
		}
		:host([icon='gl-next-commit']):before {
			content: '\\f103';
		}
		:host([icon='gl-prev-commit-menu']):before {
			content: '\\f104';
		}
		:host([icon='gl-prev-commit']):before {
			content: '\\f105';
		}
		:host([icon='gl-compare-ref-working']):before {
			content: '\\f106';
		}
		:host([icon='gl-branches-view']):before {
			content: '\\f107';
		}
		:host([icon='gl-commit-view']):before {
			content: '\\f108';
		}
		:host([icon='gl-commits-view']):before {
			content: '\\f109';
		}
		:host([icon='gl-compare-view']):before {
			content: '\\f10a';
		}
		:host([icon='gl-contributors-view']):before {
			content: '\\f10b';
		}
		:host([icon='gl-history-view']):before {
			content: '\\f10c';
		}
		:host([icon='gl-remotes-view']):before {
			content: '\\f10d';
		}
		:host([icon='gl-repositories-view']):before {
			content: '\\f10e';
		}
		:host([icon='gl-search-view']):before {
			content: '\\f10f';
		}
		:host([icon='gl-stashes-view']):before {
			content: '\\f110';
		}
		:host([icon='gl-tags-view']):before {
			content: '\\f111';
		}
		:host([icon='gl-worktrees-view']):before {
			content: '\\f112';
		}
		:host([icon='gl-gitlens']):before {
			content: '\\f113';
		}
		:host([icon='gl-stash-pop']):before {
			content: '\\f114';
		}
		:host([icon='gl-stash-save']):before {
			content: '\\f115';
		}
		:host([icon='gl-unplug']):before {
			content: '\\f116';
		}
		:host([icon='gl-open-revision']):before {
			content: '\\f117';
		}
		:host([icon='gl-switch']):before {
			content: '\\f118';
		}
		:host([icon='gl-expand']):before {
			content: '\\f119';
		}
		:host([icon='gl-list-auto']):before {
			content: '\\f11a';
		}
		:host([icon='gl-arrow-up-force']):before {
			content: '\\f11b';
		}
		:host([icon='gl-pinned-filled']):before {
			content: '\\f11c';
			/* TODO: see relative positioning needed in every use-case */
			position: relative;
			left: 1px;
		}
		:host([icon='gl-clock']):before {
			content: '\\f11d';
		}
		:host([icon='gl-provider-azdo']):before {
			content: '\\f11e';
		}
		:host([icon='gl-provider-bitbucket']):before {
			content: '\\f11f';
		}
		:host([icon='gl-provider-gerrit']):before {
			content: '\\f120';
		}
		:host([icon='gl-provider-gitea']):before {
			content: '\\f121';
		}
		:host([icon='gl-provider-github']):before {
			content: '\\f122';
		}
		:host([icon='gl-provider-gitlab']):before {
			content: '\\f123';
		}
		:host([icon='gl-gitlens-inspect']):before {
			content: '\\f124';
		}
		:host([icon='gl-workspaces-view']):before {
			content: '\\f125';
		}
		:host([icon='gl-cloud-patch']):before {
			content: '\\f128';
		}
		:host([icon='gl-cloud-patch-share']):before {
			content: '\\f129';
		}

		@keyframes codicon-spin {
			100% {
				transform: rotate(360deg);
			}
		}

		:host([modifier='spin']) {
			/* Use steps to throttle FPS to reduce CPU usage */
			animation: codicon-spin 1.5s steps(30) infinite;
		}
		:host([icon='loading'][modifier='spin']) {
			/* Use steps to throttle FPS to reduce CPU usage */
			animation: codicon-spin 1.5s steps(30) infinite;

			/* custom speed & easing for loading icon */
			animation-duration: 1s !important;
			animation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;
		}
	`,Jb([Wb()],tm.prototype,"icon",2),Jb([Wb()],tm.prototype,"modifier",2),Jb([Wb({type:Number})],tm.prototype,"size",2),tm=Jb([Yb("code-icon")],tm);var em=Object.defineProperty,nm=Object.getOwnPropertyDescriptor,im=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?nm(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&em(e,i,a),a};let om=class extends lit_element_s{constructor(){super(...arguments),this.mode="infinite",this.active=!1,this.position="bottom"}firstUpdated(){this.setAttribute("role","progressbar")}render(){return Lb`<div class="progress-bar"></div>`}};om.styles=Jv`
		* {
			box-sizing: border-box;
		}

		:host {
			position: absolute;
			left: 0;
			z-index: 5;
			height: 2px;
			width: 100%;
			overflow: hidden;
		}

		:host([position='bottom']) {
			bottom: 0;
		}

		:host([position='top']) {
			top: 0;
		}

		.progress-bar {
			background-color: var(--vscode-progressBar-background);
			display: none;
			position: absolute;
			left: 0;
			width: 2%;
			height: 2px;
		}

		:host([active]:not([active='false'])) .progress-bar {
			display: inherit;
		}

		:host([mode='discrete']) .progress-bar {
			left: 0;
			transition: width 0.1s linear;
		}

		:host([mode='discrete done']) .progress-bar {
			width: 100%;
		}

		:host([mode='infinite']) .progress-bar {
			animation-name: progress;
			animation-duration: 4s;
			animation-iteration-count: infinite;
			animation-timing-function: steps(100);
			transform: translateZ(0);
		}

		@keyframes progress {
			0% {
				transform: translateX(0) scaleX(1);
			}

			50% {
				transform: translateX(2500%) scaleX(3);
			}

			to {
				transform: translateX(4900%) scaleX(1);
			}
		}
	`,im([Wb({reflect:!0})],om.prototype,"mode",2),im([Wb({type:Boolean})],om.prototype,"active",2),im([Wb()],om.prototype,"position",2),om=im([Yb("progress-indicator")],om);Jv`
	.sr-only,
	.sr-only-focusable:not(:active):not(:focus) {
		clip: rect(0 0 0 0);
		clip-path: inset(50%);
		width: 1px;
		height: 1px;
		overflow: hidden;
		position: absolute;
		white-space: nowrap;
	}
`;const rm=Jv`
	outline: 1px solid var(--color-focus-border);
	outline-offset: -1px;
`,am=Jv`
	:host {
		box-sizing: border-box;
	}
	:host *,
	:host *::before,
	:host *::after {
		box-sizing: inherit;
	}
	[hidden] {
		display: none !important;
	}
`;Jv`
	a {
		color: var(--vscode-textLink-foreground);
		text-decoration: none;
	}
	a:focus {
		${rm}
	}
	a:hover {
		text-decoration: underline;
	}
`,Jv`
	::-webkit-scrollbar {
		width: 10px;
		height: 10px;
	}
	::-webkit-scrollbar-corner {
		background-color: transparent;
	}

	::-webkit-scrollbar-thumb {
		background-color: transparent;
		border-color: inherit;
		border-right-style: inset;
		border-right-width: calc(100vw + 100vh);
		border-radius: unset !important;
	}
	::-webkit-scrollbar-thumb:hover {
		border-color: var(--vscode-scrollbarSlider-hoverBackground);
	}
	::-webkit-scrollbar-thumb:active {
		border-color: var(--vscode-scrollbarSlider-activeBackground);
	}

	.scrollable {
		border-color: transparent;
		transition: border-color 1s linear;
	}

	:host(:hover) .scrollable,
	:host(:focus-within) .scrollable {
		border-color: var(--vscode-scrollbarSlider-background);
		transition: none;
	}
`;var sm=Object.defineProperty,cm=Object.getOwnPropertyDescriptor,lm=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?cm(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&sm(e,i,a),a};let um=class extends lit_element_s{constructor(){super(...arguments),this.full=!1,this.disabled=!1}get role(){return this.href?"link":"button"}updated(t){super.updated(t),t.has("disabled")&&this.setAttribute("aria-disabled",this.disabled.toString())}render(){return null!=this.href?Lb`<a class="control" part="base" tabindex="${!1===this.disabled?-1:0}" href=${this.href}
				><slot></slot
			></a>`:Lb`<button class="control" part="base" ?disabled=${this.disabled}><slot></slot></button>`}focus(t){this.control.focus(t)}blur(){this.control.blur()}click(){this.control.click()}};um.shadowRootOptions={...lit_element_s.shadowRootOptions,delegatesFocus:!0},um.styles=[am,Jv`
			:host {
				--button-foreground: var(--color-button-foreground);
				--button-background: var(--color-button-background);
				--button-hover-background: var(--vscode-button-hoverBackground);
				--button-padding: 0.4rem 1.1rem;
				--button-compact-padding: 0.4rem 0.4rem;
				--button-line-height: 1.694;
				--button-border: var(--vscode-button-border, transparent);

				display: inline-block;
				border: none;
				font-family: inherit;
				font-size: inherit;
				line-height: var(--button-line-height);
				text-align: center;
				text-decoration: none;
				user-select: none;
				background: var(--button-background);
				color: var(--button-foreground);
				cursor: pointer;
				border: 1px solid var(--button-border);
				border-radius: var(--gk-action-radius);
			}

			.control {
				display: inline-block;
				padding: var(--button-padding);

				color: inherit;
				text-decoration: none;

				width: 100%;
				height: 100%;
				cursor: pointer;
			}

			button.control {
				appearance: none;
				background: transparent;
				border: none;
			}

			.control:focus {
				outline: none;
			}

			:host(:hover) {
				background: var(--button-hover-background);
			}

			:host(:focus-within) {
				${rm}
			}

			:host([full]) {
				width: 100%;
			}

			:host([appearance='secondary']) {
				--button-background: var(--vscode-button-secondaryBackground);
				--button-foreground: var(--vscode-button-secondaryForeground);
				--button-hover-background: var(--vscode-button-secondaryHoverBackground);
			}

			:host([appearance='toolbar']) {
				--button-background: transparent;
				--button-foreground: var(--vscode-foreground);
				--button-hover-background: var(--vscode-toolbar-hoverBackground);
				--button-padding: 0.4rem;
				--button-line-height: 1.6;
				--button-border: transparent;
			}

			:host([appearance='alert']) {
				--button-background: transparent;
				--button-border: var(--color-alert-infoBorder);
				--button-foreground: var(--color-button-foreground);
				--button-hover-background: var(--color-alert-infoBorder);
				--button-line-height: 1.64;
				width: max-content;
			}

			:host-context(.vscode-light):host([appearance='alert']:not(:hover)),
			:host-context(.vscode-high-contrast-light):host([appearance='alert']:not(:hover)) {
				--button-foreground: var(--color-foreground);
			}

			:host([appearance='toolbar'][href]) > a {
				display: flex;
				align-items: center;
			}

			:host([appearance='alert'][href]) > a {
				display: block;
				width: max-content;
			}

			:host([density='compact']) .control {
				padding: var(--button-compact-padding);
			}

			:host([disabled]) {
				opacity: 0.4;
				cursor: not-allowed;
				pointer-events: none;
			}
		`],lm([function(t,e){return(i,o,r)=>{const a=e=>e.renderRoot?.querySelector(t)??null;if(e){const{get:t,set:e}="object"==typeof o?i:r??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return Zb(i,o,{get(){let i=t.call(this);return void 0===i&&(i=a(this),(null!==i||this.hasUpdated)&&e.call(this,i)),i}})}return Zb(i,o,{get(){return a(this)}})}}(".control")],um.prototype,"control",2),lm([Wb({type:Boolean,reflect:!0})],um.prototype,"full",2),lm([Wb({type:Boolean,reflect:!0})],um.prototype,"disabled",2),lm([Wb({reflect:!0})],um.prototype,"density",2),lm([Wb()],um.prototype,"href",2),lm([Wb({reflect:!0})],um.prototype,"role",1),lm([Wb()],um.prototype,"appearance",2),um=lm([Yb("gl-button")],um);var hm=(t=>(t[t.VerificationRequired=-1]="VerificationRequired",t[t.Free=0]="Free",t[t.FreeInPreviewTrial=1]="FreeInPreviewTrial",t[t.FreePreviewTrialExpired=2]="FreePreviewTrialExpired",t[t.FreePlusInTrial=3]="FreePlusInTrial",t[t.FreePlusTrialExpired=4]="FreePlusTrialExpired",t[t.FreePlusTrialReactivationEligible=5]="FreePlusTrialReactivationEligible",t[t.Paid=6]="Paid",t))(hm||{});function dm(t){switch(t){case"free+":return"GitKraken Free";case"pro":return"GitKraken Pro";case"teams":return"GitKraken Teams";case"enterprise":return"GitKraken Enterprise";default:return"GitKraken"}}function fm(t,e){return pm(t.plan.effective.expiresOn,e)}function pm(t,e){return null!=t?function(t,e,i,o){const r=("number"==typeof e?e:e.getTime())-("number"==typeof t?t:t.getTime()),a=o??Math.floor;switch(i){case"days":return a(r/864e5);case"hours":return a(r/36e5);case"minutes":return a(r/6e4);case"seconds":return a(r/1e3);default:return r}}(Date.now(),new Date(t),e,Math.round):void 0}function gm(t){return null!=t&&(6===t||1===t||3===t)}function vm(t){return null!=t&&(1===t||3===t)}const bm=Jv`
	a {
		color: var(--link-foreground);
		text-decoration: var(--link-decoration-default, none);
	}
	a:focus {
		outline-color: var(--focus-border);
	}
	a:hover {
		color: var(--link-foreground-active);
		text-decoration: underline;
	}
`;var mm=Object.defineProperty,ym=Object.getOwnPropertyDescriptor,xm=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?ym(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&mm(e,i,a),a};let _m=class extends lit_element_s{render(){if(null==this.state)return void(this.hidden=!0);this.hidden=!1;const t="alert"===(this.appearance??"alert")?"alert":Bb,e=new Date("2023-12-31T07:59:00.000Z").getTime(),i=Date.now()<e;switch(this.state){case hm.VerificationRequired:return Lb`
					<gl-button appearance="${t}" href="command:gitlens.plus.resendVerification"
						>Resend verification email</gl-button
					>
					<gl-button appearance="${t}" href="command:gitlens.plus.validate"
						>Refresh verification status</gl-button
					>
					<p>You must verify your email before you can continue.</p>
				`;case hm.Free:return Lb`
					<gl-button appearance="${t}" href="command:gitlens.plus.startPreviewTrial"
						>Preview Pro</gl-button
					>
					<p>
						Preview Pro for 3 days, or
						<a href="command:gitlens.plus.signUp">sign up</a> to start a full 7-day GitLens Pro trial.
					</p>
					<p> A trial or paid plan is required to use this on privately hosted repos.</p>
				`;case hm.FreePreviewTrialExpired:return Lb`
					<gl-button appearance="${t}" href="command:gitlens.plus.signUp">Try Pro</gl-button>
					<p>
						Your 3-day preview has ended. Start a free GitLens Pro trial to get an additional 7 days, or
						<a href="command:gitlens.plus.login">sign in</a>.
					</p>
				`;case hm.FreePlusTrialExpired:return Lb`
					<gl-button appearance="${t}" href="command:gitlens.plus.purchase"
						>Get GitLens Pro</gl-button
					>
					<p>
						Your GitLens Pro trial has ended. Please upgrade to continue to use this on privately hosted
						repos.
					</p>
					${function(t,e,i){return t?e(t):i?.(t)}(i,(()=>Lb`<p style="text-align: center;">
								<a
									href=${"https://www.gitkraken.com/hs23?utm_source=holiday_special&utm_medium=gitlens_banner&utm_campaign=holiday_special_2023"}
									>Holiday Special: <b>50% off first seat of Pro</b>  only $4/month!<br
								/></a>
							</p>`),(()=>Lb`<p style="text-align: center;">
								Special: <b>50% off first seat of Pro</b>  only $4/month!<br />
							</p>`))}
				`;case hm.FreePlusTrialReactivationEligible:return Lb`
					<gl-button appearance="${t}" href="command:gitlens.plus.reactivateProTrial"
						>Try Pro</gl-button
					>
					<p>
						You're eligible to reactivate your GitLens Pro trial and experience all the new Pro features 
						free for another 7 days!
					</p>
				`}}};_m.styles=[bm,Jv`
			:host {
				container-type: inline-size;
			}

			:host([appearance='welcome']) gl-button {
				width: 100%;
				max-width: 300px;
			}

			@container (max-width: 600px) {
				:host([appearance='welcome']) gl-button {
					display: block;
					margin-left: auto;
					margin-right: auto;
				}
			}

			:host([appearance='alert']) gl-button {
				display: block;
				margin-left: auto;
				margin-right: auto;
			}

			:host-context([appearance='alert']) p:first-child {
				margin-top: 0;
			}

			:host-context([appearance='alert']) p:last-child {
				margin-bottom: 0;
			}
		`],xm([Wb({type:String})],_m.prototype,"appearance",2),xm([Wb({attribute:!1,type:Number})],_m.prototype,"state",2),_m=xm([Yb("gk-feature-gate-plus-state")],_m);var wm=Object.defineProperty,Tm=Object.getOwnPropertyDescriptor,km=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?Tm(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&wm(e,i,a),a};let Sm=class extends lit_element_s{render(){if(!this.visible||null!=this.state&&gm(this.state))return void(this.hidden=!0);const t=this.appearance??"editor"===(document.body.getAttribute("data-placement")??"editor")?"alert":"welcome";return this.hidden=!1,Lb`
			<section>
				<slot></slot>
				<slot name="feature"></slot>
				<gk-feature-gate-plus-state appearance=${t} .state=${this.state}></gk-feature-gate-plus-state>
			</section>
		`}};function Am(...t){return t.some((t=>(t?.length??0)>0))}Sm.styles=Jv`
		:host {
			--background: var(--vscode-sideBar-background);
			--foreground: var(--vscode-sideBar-foreground);
			--link-foreground: var(--vscode-textLink-foreground);
			--link-foreground-active: var(--vscode-textLink-activeForeground);

			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
			overflow: auto;
			z-index: 100;

			box-sizing: border-box;
		}

		:host-context(body[data-placement='editor']),
		:host([appearance='alert']) {
			--background: transparent;
			--foreground: var(--vscode-editor-foreground);

			backdrop-filter: blur(3px) saturate(0.8);
			padding: 0 2rem;
		}

		::slotted(p) {
			margin: revert !important;
		}

		::slotted(p:first-child) {
			margin-top: 0 !important;
		}

		section {
			--section-foreground: var(--foreground);
			--section-background: var(--background);
			--section-border-color: transparent;

			display: flex;
			flex-direction: column;
			padding: 0 2rem 1.3rem 2rem;
			background: var(--section-background);
			color: var(--section-foreground);
			border: 1px solid var(--section-border-color);

			height: min-content;
		}

		:host-context(body[data-placement='editor']) section,
		:host([appearance='alert']) section {
			--section-foreground: var(--color-alert-foreground);
			--section-background: var(--color-alert-infoBackground);
			--section-border-color: var(--color-alert-infoBorder);

			--link-decoration-default: underline;
			--link-foreground: var(--vscode-foreground);
			--link-foreground-active: var(--vscode-foreground);

			border-radius: 0.3rem;
			max-width: 600px;
			max-height: min-content;
			margin: 0.2rem auto;
			padding: 1.3rem;
		}

		:host-context(body[data-placement='editor']) section ::slotted(gl-button),
		:host([appearance='alert']) section ::slotted(gl-button) {
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
	`,km([Wb({reflect:!0})],Sm.prototype,"appearance",2),km([Wb({attribute:!1,type:Number})],Sm.prototype,"state",2),km([Wb({type:Boolean})],Sm.prototype,"visible",2),Sm=km([Yb("gk-feature-gate")],Sm);const Cm=Be`
	:host {
		box-sizing: border-box;
	}
	:host *,
	:host *::before,
	:host *::after {
		box-sizing: inherit;
	}
	[hidden] {
		display: none !important;
	}
`;var $m=Object.defineProperty,Em=Object.getOwnPropertyDescriptor,Dm=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?Em(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&$m(e,i,a),a};const Mm=me`
	<template>
		<div class="top" ?hidden="${t=>!t.hasTopNodes}">
			<slot ${Le("typeNodes")} name="type"></slot>
			<slot ${Le("actionsNodes")} name="actions"></slot>
		</div>
		<div class="heading" ?hidden="${t=>!t.hasHeadingNodes}">
			<slot ${Le("headingNodes")} name="heading"></slot>
		</div>
		<div class="content"><slot></slot></div>
		${Pe((t=>t.caret),me`<span class="caret"></span>`)}
	</template>
`,Rm=Be`
	${Cm}

	:host {
		position: absolute;
		width: var(--popover-width, 100%);
		max-width: var(--popover-max-width, 30rem);
		padding: 1.2rem 1.2rem 1.2rem;
		/* update with a standardized z-index */
		z-index: 10;

		background-color: var(--popover-bg);
		box-shadow: 0 0.3rem 0.3rem 0 var(--vscode-widget-shadow);

		display: flex;
		flex-direction: column;
		gap: 0.4rem;
	}

	:host([caret]:not([placement~='bottom'])) {
		transform: translateY(0.8rem);
	}

	:host([caret][placement~='bottom']) {
		transform: translateY(-0.8rem);
	}

	.top {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
		align-items: center;
		opacity: 0.5;
		margin-top: -0.4rem;
	}

	.heading {
		font-weight: 600;
	}

	.caret {
		position: absolute;
		width: 0;
		height: 0;
		border-left: 0.8rem solid transparent;
		border-right: 0.8rem solid transparent;
		border-bottom: 0.8rem solid var(--popover-bg);
	}

	:host(:not([placement~='bottom'])) .caret {
		bottom: 100%;
	}

	:host([placement~='bottom']) .caret {
		top: 100%;
		transform: rotate(180deg);
	}

	:host(:not([placement~='end'])) .caret {
		left: 1.2rem;
	}

	:host([placement~='end']) .caret {
		right: 1.2rem;
	}
`;let Om=class extends j{constructor(){super(...arguments),this.open=!1,this.caret=!0}get hasTopNodes(){return Am(this.typeNodes,this.actionsNodes)}get hasHeadingNodes(){return Am(this.headingNodes)}};var Im;Dm([D({mode:"boolean"})],Om.prototype,"open",2),Dm([D({mode:"boolean"})],Om.prototype,"caret",2),Dm([D],Om.prototype,"placement",2),Dm([v],Om.prototype,"typeNodes",2),Dm([v],Om.prototype,"actionsNodes",2),Dm([v],Om.prototype,"headingNodes",2),Dm([m],Om.prototype,"hasTopNodes",1),Dm([m],Om.prototype,"hasHeadingNodes",1),Om=Dm([(Im={name:"pop-over",template:Mm,styles:Rm},function(t){new FASTElementDefinition(t,Im).define()})],Om);var Pm=Object.defineProperty,Lm=Object.getOwnPropertyDescriptor,zm=(t,e,i,o)=>{for(var r,a=o>1?void 0:o?Lm(e,i):e,s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o?r(e,i,a):r(a))||a);return o&&a&&Pm(e,i,a),a};let Bm=class extends lit_element_s{constructor(){super(...arguments),this.placement="top end"}render(){const t=gm(this.subscription?.state),e=vm(this.subscription?.state);return Lb`
			<span class="badge-container">
				<span class="badge ${t?"active":"inactive"}"
					>${e?Lb`<span class="badge-trial">Trial</span>`:""}</span
				>
				<pop-over .placement=${this.placement} class="badge-popover">
					<span slot="heading"
						>${function(t,e){switch(t){case 4:case 5:return dm("free+");case 1:return`${dm("pro")} (Trial)`;case 3:return`${dm(e??"pro")} (Trial)`;case-1:return"GitKraken (Unverified)";case 6:return dm(e??"pro");default:return"GitKraken"}}(this.subscription?.state,this.subscription?.plan.effective.id)}${this.trialHtml}</span
					>
					${this.footnoteHtml}
				</pop-over>
			</span>
		`}get trialHtml(){if(!vm(this.subscription?.state))return Bb;const t=fm(this.subscription,"days")??0;return Lb`<span class="badge-trial-left">${t<1?"<1 day":function(t,e,i){if(null==i)return`${e} ${t}${1===e?"":"s"}`;const o=1===e?t:i.plural??`${t}s`;return i.only?o:`${0===e?i.zero??e:i.format?.(e)??e}${i.infix??" "}${o}`}("day",t)} left</span>`}get footnoteHtml(){switch(this.subscription?.state){case hm.VerificationRequired:case hm.Free:case hm.FreePreviewTrialExpired:return Lb`<span class="badge-footnote"
					> Requires a trial or paid plan for use on privately hosted repos.</span
				>`;case hm.FreePlusTrialExpired:case hm.FreeInPreviewTrial:case hm.FreePlusInTrial:case hm.FreePlusTrialReactivationEligible:return Lb`<span class="badge-footnote"
					> Requires a paid plan for use on privately hosted repos.</span
				>`;case hm.Paid:return Lb`<span class="badge-footnote"
					>You have access to  features on privately hosted repos and  features based on your plan.</span
				>`;default:return Bb}}};Bm.styles=[am,Jv`
			:host {
				position: relative;
			}

			:host(:focus) {
				${rm}
			}

			.badge-container {
				position: relative;
			}

			.badge {
				cursor: help;
			}

			.badge.inactive {
				filter: grayscale(100%);
			}

			.badge-popover {
				width: max-content;
				top: 100%;
				text-align: left;
			}

			.badge-footnote {
				white-space: break-spaces;
			}

			.badge-trial {
				font-size: smaller;
				font-weight: 700;
				margin-right: 0.5rem;
				text-transform: uppercase;
				white-space: nowrap;
			}

			.badge-trial-left {
				font-weight: 400;
				opacity: 0.6;
				margin-left: 1rem;
			}

			.badge:not(:hover) ~ .badge-popover {
				display: none;
			}

			:host(:not([placement~='end'])) .badge-popover {
				left: 0;
			}

			:host([placement~='end']) .badge-popover {
				right: 0;
			}
		`],zm([Wb({reflect:!0})],Bm.prototype,"placement",2),zm([Wb({attribute:!1})],Bm.prototype,"subscription",2),Bm=zm([Yb("gk-feature-gate-badge")],Bm);class TimelineApp extends App{constructor(){super("TimelineApp")}onInitialize(){var t;Xt.getOrCreate(t).withPrefix("vscode").register(ln(),un()),this.updateState()}onBind(){const t=super.onBind?.()??[];return t.push(Dn.on(document,"keydown",(t=>this.onKeyDown(t))),Dn.on(document.getElementById("periods"),"change",((t,e)=>this.onPeriodChanged(t,e))),{dispose:()=>this._chart?.dispose()}),t}onMessageReceived(t){if(t.method===pn.method)hn(pn,t,(t=>{this.state=t.state,this.setState(this.state),this.updateState()}));else super.onMessageReceived?.(t)}onChartDataPointClicked(t){this.sendCommand(gn,t)}onKeyDown(t){"Escape"!==t.key&&"Esc"!==t.key||this._chart?.reset()}onPeriodChanged(t,e){const i=e.options[e.selectedIndex].value;!function(t){if("all"===t)return;const[e,i]=t.split("|");if(isNaN(Number(e))||"D"!==i&&"M"!==i&&"Y"!==i)throw new Error(`Invalid period: ${t}`)}(i),this.log(`onPeriodChanged(): name=${e.name}, value=${i}`),this.updateLoading(!0),this.sendCommand(vn,{period:i})}updateState(){const t=document.getElementById("subscription-gate");null!=t&&(t.state=this.state.access.subscription.current.state,t.visible=!0!==this.state.access.allowed&&null!=this.state.uri);const e=document.getElementById("subscription-gate-badge");e.subscription=this.state.access.subscription.current,e.placement="view"===this.placement?"top start":"top end",null==this._chart&&(this._chart=new TimelineChart("#chart",this.placement),this._chart.onDidClickDataPoint(this.onChartDataPointClicked,this));let{title:i,sha:o}=this.state,r="";if(null!=i){const t=i.lastIndexOf("/");if(t>=0){const e=i.substring(t+1);r=i.substring(0,t),i=e}}else"editor"!==this.placement||null!=this.state.dataset||this.state.access.allowed||(i="index.ts",r="src/app");function a(t,e,i){const o=document.querySelector(`[data-bind="${t}"]`);null!=o&&(i?.html?o.innerHTML=e??"":o.textContent=e??"")}a("title",i),a("description",r),a("sha",o?`<code-icon icon="git-commit" size="16"></code-icon><span class="sha">${o}</span>`:void 0,{html:!0});const s=document.getElementById("periods");if(null!=s){const t=this.state?.period,e=s.getElementsByTagName("vscode-option");for(const i of e)t===i.getAttribute("value")?i.setAttribute("selected",""):i.removeAttribute("selected")}this._chart.updateChart(this.state).finally((()=>this.updateLoading(!1)))}updateLoading(t){document.getElementById("spinner")?.setAttribute("active",t?"true":"false")}}new TimelineApp;var Nm=e.q;export{Nm as TimelineApp};