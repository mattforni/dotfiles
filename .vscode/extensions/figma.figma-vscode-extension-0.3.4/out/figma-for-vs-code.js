"use strict";var sxe=Object.create;var Ig=Object.defineProperty,oxe=Object.defineProperties,axe=Object.getOwnPropertyDescriptor,lxe=Object.getOwnPropertyDescriptors,dxe=Object.getOwnPropertyNames,sB=Object.getOwnPropertySymbols,uxe=Object.getPrototypeOf,aB=Object.prototype.hasOwnProperty,cxe=Object.prototype.propertyIsEnumerable;var oB=(t,e,r)=>e in t?Ig(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,He=(t,e)=>{for(var r in e||={})aB.call(e,r)&&oB(t,r,e[r]);if(sB)for(var r of sB(e))cxe.call(e,r)&&oB(t,r,e[r]);return t},Kt=(t,e)=>oxe(t,lxe(e));var O=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ZO=(t,e)=>{for(var r in e)Ig(t,r,{get:e[r],enumerable:!0})},lB=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of dxe(e))!aB.call(t,o)&&o!==r&&Ig(t,o,{get:()=>e[o],enumerable:!(i=axe(e,o))||i.enumerable});return t};var ke=(t,e,r)=>(r=t!=null?sxe(uxe(t)):{},lB(e||!t||!t.__esModule?Ig(r,"default",{value:t,enumerable:!0}):r,t)),pxe=t=>lB(Ig({},"__esModule",{value:!0}),t);var qn=(t,e,r)=>new Promise((i,o)=>{var s=c=>{try{u(r.next(c))}catch(g){o(g)}},l=c=>{try{u(r.throw(c))}catch(g){o(g)}},u=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,l);u((r=r.apply(t,e)).next())});var AB=O((mze,CB)=>{var xB=require("stream").Stream,qxe=require("util");CB.exports=ds;function ds(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}qxe.inherits(ds,xB);ds.create=function(t,e){var r=new this;e=e||{};for(var i in e)r[i]=e[i];r.source=t;var o=t.emit;return t.emit=function(){return r._handleEmit(arguments),o.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ds.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ds.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ds.prototype.resume=function(){this._released||this.release(),this.source.resume()};ds.prototype.pause=function(){this.source.pause()};ds.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ds.prototype.pipe=function(){var t=xB.prototype.pipe.apply(this,arguments);return this.resume(),t};ds.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ds.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var FB=O((bze,OB)=>{var Yxe=require("util"),SB=require("stream").Stream,vB=AB();OB.exports=xr;function xr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Yxe.inherits(xr,SB);xr.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};xr.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};xr.prototype.append=function(t){var e=xr.isStreamLike(t);if(e){if(!(t instanceof vB)){var r=vB.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};xr.prototype.pipe=function(t,e){return SB.prototype.pipe.call(this,t,e),this.resume(),t};xr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};xr.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var i=xr.isStreamLike(r);i&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};xr.prototype._pipeNext=function(t){this._currentStream=t;var e=xr.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};xr.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};xr.prototype.write=function(t){this.emit("data",t)};xr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};xr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};xr.prototype.end=function(){this._reset(),this.emit("end")};xr.prototype.destroy=function(){this._reset(),this.emit("close")};xr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};xr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};xr.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};xr.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var DB=O((fze,Xxe)=>{Xxe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var jB=O((yze,RB)=>{RB.exports=DB()});var TB=O(Yn=>{"use strict";var rI=jB(),zxe=require("path").extname,PB=/^\s*([^;\s]*)(?:;|\s|$)/,Jxe=/^text\//i;Yn.charset=_B;Yn.charsets={lookup:_B};Yn.contentType=Qxe;Yn.extension=$xe;Yn.extensions=Object.create(null);Yn.lookup=eCe;Yn.types=Object.create(null);tCe(Yn.extensions,Yn.types);function _B(t){if(!t||typeof t!="string")return!1;var e=PB.exec(t),r=e&&rI[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&Jxe.test(e[1])?"UTF-8":!1}function Qxe(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Yn.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Yn.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function $xe(t){if(!t||typeof t!="string")return!1;var e=PB.exec(t),r=e&&Yn.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function eCe(t){if(!t||typeof t!="string")return!1;var e=zxe("x."+t).toLowerCase().substr(1);return e&&Yn.types[e]||!1}function tCe(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(rI).forEach(function(o){var s=rI[o],l=s.extensions;if(!(!l||!l.length)){t[o]=l;for(var u=0;u<l.length;u++){var c=l[u];if(e[c]){var g=r.indexOf(rI[e[c]].source),p=r.indexOf(s.source);if(e[c]!=="application/octet-stream"&&(g>p||g===p&&e[c].substr(0,12)==="application/"))continue}e[c]=o}}})}});var wB=O((hze,kB)=>{kB.exports=rCe;function rCe(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var YO=O((xze,UB)=>{var EB=wB();UB.exports=nCe;function nCe(t){var e=!1;return EB(function(){e=!0}),function(i,o){e?t(i,o):EB(function(){t(i,o)})}}});var XO=O((Cze,MB)=>{MB.exports=iCe;function iCe(t){Object.keys(t.jobs).forEach(sCe.bind(t)),t.jobs={}}function sCe(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var zO=O((Aze,VB)=>{var LB=YO(),oCe=XO();VB.exports=aCe;function aCe(t,e,r,i){var o=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[o]=lCe(e,o,t[o],function(s,l){o in r.jobs&&(delete r.jobs[o],s?oCe(r):r.results[o]=l,i(s,r.results))})}function lCe(t,e,r,i){var o;return t.length==2?o=t(r,LB(i)):o=t(r,e,LB(i)),o}});var JO=O((vze,BB)=>{BB.exports=dCe;function dCe(t,e){var r=!Array.isArray(t),i={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&i.keyedList.sort(r?e:function(o,s){return e(t[o],t[s])}),i}});var QO=O((Sze,NB)=>{var uCe=XO(),cCe=YO();NB.exports=pCe;function pCe(t){Object.keys(this.jobs).length&&(this.index=this.size,uCe(this),cCe(t)(null,this.results))}});var GB=O((Oze,WB)=>{var gCe=zO(),mCe=JO(),bCe=QO();WB.exports=fCe;function fCe(t,e,r){for(var i=mCe(t);i.index<(i.keyedList||t).length;)gCe(t,e,i,function(o,s){if(o){r(o,s);return}if(Object.keys(i.jobs).length===0){r(null,i.results);return}}),i.index++;return bCe.bind(i,r)}});var $O=O((Fze,nI)=>{var ZB=zO(),yCe=JO(),ICe=QO();nI.exports=hCe;nI.exports.ascending=HB;nI.exports.descending=xCe;function hCe(t,e,r,i){var o=yCe(t,r);return ZB(t,e,o,function s(l,u){if(l){i(l,u);return}if(o.index++,o.index<(o.keyedList||t).length){ZB(t,e,o,s);return}i(null,o.results)}),ICe.bind(o,i)}function HB(t,e){return t<e?-1:t>e?1:0}function xCe(t,e){return-1*HB(t,e)}});var qB=O((Dze,KB)=>{var CCe=$O();KB.exports=ACe;function ACe(t,e,r){return CCe(t,e,null,r)}});var XB=O((Rze,YB)=>{YB.exports={parallel:GB(),serial:qB(),serialOrdered:$O()}});var JB=O((jze,zB)=>{zB.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var eN=O((Pze,$B)=>{var nF=FB(),QB=require("util"),eF=require("path"),vCe=require("http"),SCe=require("https"),OCe=require("url").parse,FCe=require("fs"),DCe=require("stream").Stream,tF=TB(),RCe=XB(),rF=JB();$B.exports=St;QB.inherits(St,nF);function St(t){if(!(this instanceof St))return new St(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],nF.call(this),t=t||{};for(var e in t)this[e]=t[e]}St.LINE_BREAK=`\r
`;St.DEFAULT_CONTENT_TYPE="application/octet-stream";St.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var i=nF.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),QB.isArray(e)){this._error(new Error("Arrays are not supported."));return}var o=this._multiPartHeader(t,e,r),s=this._multiPartFooter();i(o),i(e),i(s),this._trackLength(o,e,r)};St.prototype._trackLength=function(t,e,r){var i=0;r.knownLength!=null?i+=+r.knownLength:Buffer.isBuffer(e)?i=e.length:typeof e=="string"&&(i=Buffer.byteLength(e)),this._valueLength+=i,this._overheadLength+=Buffer.byteLength(t)+St.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof DCe))&&(r.knownLength||this._valuesToMeasure.push(e))};St.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):FCe.stat(t.path,function(r,i){var o;if(r){e(r);return}o=i.size-(t.start?t.start:0),e(null,o)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};St.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var i=this._getContentDisposition(e,r),o=this._getContentType(e,r),s="",l={"Content-Disposition":["form-data",'name="'+t+'"'].concat(i||[]),"Content-Type":[].concat(o||[])};typeof r.header=="object"&&rF(l,r.header);var u;for(var c in l)l.hasOwnProperty(c)&&(u=l[c],u!=null&&(Array.isArray(u)||(u=[u]),u.length&&(s+=c+": "+u.join("; ")+St.LINE_BREAK)));return"--"+this.getBoundary()+St.LINE_BREAK+s+St.LINE_BREAK};St.prototype._getContentDisposition=function(t,e){var r,i;return typeof e.filepath=="string"?r=eF.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=eF.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=eF.basename(t.client._httpMessage.path||"")),r&&(i='filename="'+r+'"'),i};St.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=tF.lookup(t.name)),!r&&t.path&&(r=tF.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=tF.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=St.DEFAULT_CONTENT_TYPE),r};St.prototype._multiPartFooter=function(){return function(t){var e=St.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};St.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+St.LINE_BREAK};St.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};St.prototype.setBoundary=function(t){this._boundary=t};St.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};St.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,i=this._streams.length;r<i;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(St.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};St.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};St.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};St.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};St.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}RCe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,i){if(r){t(r);return}i.forEach(function(o){e+=o}),t(null,e)})};St.prototype.submit=function(t,e){var r,i,o={method:"post"};return typeof t=="string"?(t=OCe(t),i=rF({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},o)):(i=rF(t,o),i.port||(i.port=i.protocol=="https:"?443:80)),i.headers=this.getHeaders(t.headers),i.protocol=="https:"?r=SCe.request(i):r=vCe.request(i),this.getLength(function(s,l){if(s&&s!=="Unknown stream"){this._error(s);return}if(l&&r.setHeader("Content-Length",l),this.pipe(r),e){var u,c=function(g,p){return r.removeListener("error",c),r.removeListener("response",u),e.call(this,g,p)};u=c.bind(this,null),r.on("error",c),r.on("response",u)}}.bind(this)),r};St.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};St.prototype.toString=function(){return"[object FormData]"}});var fN=O(bN=>{"use strict";var ZCe=require("url").parse,HCe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},KCe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function qCe(t){var e=typeof t=="string"?ZCe(t):t||{},r=e.protocol,i=e.host,o=e.port;if(typeof i!="string"||!i||typeof r!="string"||(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),o=parseInt(o)||HCe[r]||0,!YCe(i,o)))return"";var s=Xu("npm_config_"+r+"_proxy")||Xu(r+"_proxy")||Xu("npm_config_proxy")||Xu("all_proxy");return s&&s.indexOf("://")===-1&&(s=r+"://"+s),s}function YCe(t,e){var r=(Xu("npm_config_no_proxy")||Xu("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var o=i.match(/^(.+):(\d+)$/),s=o?o[1]:i,l=o?parseInt(o[2]):0;return l&&l!==e?!0:/^[.*]/.test(s)?(s.charAt(0)==="*"&&(s=s.slice(1)),!KCe.call(t,s)):t!==s}):!0}function Xu(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}bN.getProxyForUrl=qCe});var IN=O((_4e,yN)=>{var Og;yN.exports=function(){if(!Og){try{Og=require("debug")("follow-redirects")}catch{}typeof Og!="function"&&(Og=function(){})}Og.apply(null,arguments)}});var FN=O((T4e,yF)=>{var rd=require("url"),gF=rd.URL,XCe=require("http"),zCe=require("https"),CN=require("stream").Writable,AN=require("assert"),vN=IN(),bF=["abort","aborted","connect","error","socket","timeout"],fF=Object.create(null);bF.forEach(function(t){fF[t]=function(e,r,i){this._redirectable.emit(t,e,r,i)}});var JCe=Dg("ERR_INVALID_URL","Invalid URL",TypeError),hN=Dg("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),QCe=Dg("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),$Ce=Dg("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),eAe=Dg("ERR_STREAM_WRITE_AFTER_END","write after end");function mi(t,e){CN.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(i){r._processResponse(i)},this._performRequest()}mi.prototype=Object.create(CN.prototype);mi.prototype.abort=function(){ON(this._currentRequest),this.emit("abort")};mi.prototype.write=function(t,e,r){if(this._ending)throw new eAe;if(!nd(t)&&!nAe(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Fg(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new $Ce),this.abort())};mi.prototype.end=function(t,e,r){if(Fg(t)?(r=t,t=e=null):Fg(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var i=this,o=this._currentRequest;this.write(t,e,function(){i._ended=!0,o.end(null,null,r)}),this._ending=!0}};mi.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};mi.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};mi.prototype.setTimeout=function(t,e){var r=this;function i(l){l.setTimeout(t),l.removeListener("timeout",l.destroy),l.addListener("timeout",l.destroy)}function o(l){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),s()},t),i(l)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",o)}return e&&this.on("timeout",e),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",i),this.on("abort",s),this.on("error",s),this.on("response",s),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){mi.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(mi.prototype,t,{get:function(){return this._currentRequest[t]}})});mi.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};mi.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);i._redirectable=this;for(var o of bF)i.on(o,fF[o]);if(this._currentUrl=/^\//.test(this._options.path)?rd.format(this._options):this._options.path,this._isRedirect){var s=0,l=this,u=this._requestBodyBuffers;(function c(g){if(i===l._currentRequest)if(g)l.emit("error",g);else if(s<u.length){var p=u[s++];i.finished||i.write(p.data,p.encoding,c)}else l._ended&&i.end()})()}};mi.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(ON(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new QCe);return}var i,o=this._options.beforeRedirect;o&&(i=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var s=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],mF(/^content-/i,this._options.headers));var l=mF(/^host$/i,this._options.headers),u=rd.parse(this._currentUrl),c=l||u.host,g=/^\w+:/.test(r)?this._currentUrl:rd.format(Object.assign(u,{host:c})),p;try{p=rd.resolve(g,r)}catch(C){this.emit("error",new hN({cause:C}));return}vN("redirecting to",p),this._isRedirect=!0;var f=rd.parse(p);if(Object.assign(this._options,f),(f.protocol!==u.protocol&&f.protocol!=="https:"||f.host!==c&&!rAe(f.host,c))&&mF(/^(?:authorization|cookie)$/i,this._options.headers),Fg(o)){var I={headers:t.headers,statusCode:e},v={url:g,method:s,headers:i};try{o(this._options,I,v)}catch(C){this.emit("error",C);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(C){this.emit("error",new hN({cause:C}))}};function SN(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(i){var o=i+":",s=r[o]=t[i],l=e[i]=Object.create(s);function u(g,p,f){if(nd(g)){var I;try{I=xN(new gF(g))}catch{I=rd.parse(g)}if(!nd(I.protocol))throw new JCe({input:g});g=I}else gF&&g instanceof gF?g=xN(g):(f=p,p=g,g={protocol:o});return Fg(p)&&(f=p,p=null),p=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},g,p),p.nativeProtocols=r,!nd(p.host)&&!nd(p.hostname)&&(p.hostname="::1"),AN.equal(p.protocol,o,"protocol mismatch"),vN("options",p),new mi(p,f)}function c(g,p,f){var I=l.request(g,p,f);return I.end(),I}Object.defineProperties(l,{request:{value:u,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function tAe(){}function xN(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function mF(t,e){var r;for(var i in e)t.test(i)&&(r=e[i],delete e[i]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Dg(t,e,r){function i(o){Error.captureStackTrace(this,this.constructor),Object.assign(this,o||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return i.prototype=new(r||Error),i.prototype.constructor=i,i.prototype.name="Error ["+t+"]",i}function ON(t){for(var e of bF)t.removeListener(e,fF[e]);t.on("error",tAe),t.abort()}function rAe(t,e){AN(nd(t)&&nd(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function nd(t){return typeof t=="string"||t instanceof String}function Fg(t){return typeof t=="function"}function nAe(t){return typeof t=="object"&&"length"in t}yF.exports=SN({http:XCe,https:zCe});yF.exports.wrap=SN});var sW=O((X8e,iW)=>{"use strict";var SAe=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);iW.exports=t=>!SAe.has(t&&t.code)});var bW=O((J8e,Tg)=>{"use strict";var Ju={decodeValues:!0,map:!1,silent:!1};function PF(t){return typeof t=="string"&&!!t.trim()}function _F(t,e){var r=t.split(";").filter(PF),i=r.shift(),o=kAe(i),s=o.name,l=o.value;e=e?Object.assign({},Ju,e):Ju;try{l=e.decodeValues?decodeURIComponent(l):l}catch(c){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+l+"'. Set options.decodeValues to false to disable this feature.",c)}var u={name:s,value:l};return r.forEach(function(c){var g=c.split("="),p=g.shift().trimLeft().toLowerCase(),f=g.join("=");p==="expires"?u.expires=new Date(f):p==="max-age"?u.maxAge=parseInt(f,10):p==="secure"?u.secure=!0:p==="httponly"?u.httpOnly=!0:p==="samesite"?u.sameSite=f:u[p]=f}),u}function kAe(t){var e="",r="",i=t.split("=");return i.length>1?(e=i.shift(),r=i.join("=")):r=t,{name:e,value:r}}function mW(t,e){if(e=e?Object.assign({},Ju,e):Ju,!t)return e.map?{}:[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var r=t.headers[Object.keys(t.headers).find(function(o){return o.toLowerCase()==="set-cookie"})];!r&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=r}if(Array.isArray(t)||(t=[t]),e=e?Object.assign({},Ju,e):Ju,e.map){var i={};return t.filter(PF).reduce(function(o,s){var l=_F(s,e);return o[l.name]=l,o},i)}else return t.filter(PF).map(function(o){return _F(o,e)})}function wAe(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],r=0,i,o,s,l,u;function c(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function g(){return o=t.charAt(r),o!=="="&&o!==";"&&o!==","}for(;r<t.length;){for(i=r,u=!1;c();)if(o=t.charAt(r),o===","){for(s=r,r+=1,c(),l=r;r<t.length&&g();)r+=1;r<t.length&&t.charAt(r)==="="?(u=!0,r=l,e.push(t.substring(i,s)),i=r):r=s+1}else r+=1;(!u||r>=t.length)&&e.push(t.substring(i,t.length))}return e}Tg.exports=mW;Tg.exports.parse=mW;Tg.exports.parseString=_F;Tg.exports.splitCookiesString=wAe});var EW=O((OI,wW)=>{"use strict";Object.defineProperty(OI,"__esModule",{value:!0});var UAe=function(){function t(e,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),MAe=LAe(["",""],["",""]);function LAe(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function VAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var BAe=function(){function t(){for(var e=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return VAe(this,t),this.tag=function(s){for(var l=arguments.length,u=Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];return typeof s=="function"?e.interimTag.bind(e,s):typeof s=="string"?e.transformEndResult(s):(s=s.map(e.transformString.bind(e)),e.transformEndResult(s.reduce(e.processSubstitutions.bind(e,u))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map(function(s){return typeof s=="function"?s():s}),this.tag}return UAe(t,[{key:"interimTag",value:function(r,i){for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];return this.tag(MAe,r.apply(void 0,[i].concat(s)))}},{key:"processSubstitutions",value:function(r,i,o){var s=this.transformSubstitution(r.shift(),i);return"".concat(i,s,o)}},{key:"transformString",value:function(r){var i=function(s,l){return l.onString?l.onString(s):s};return this.transformers.reduce(i,r)}},{key:"transformSubstitution",value:function(r,i){var o=function(l,u){return u.onSubstitution?u.onSubstitution(l,i):l};return this.transformers.reduce(o,r)}},{key:"transformEndResult",value:function(r){var i=function(s,l){return l.onEndResult?l.onEndResult(s):s};return this.transformers.reduce(i,r)}}]),t}();OI.default=BAe;wW.exports=OI.default});var In=O((Mg,UW)=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=void 0;var NAe=EW(),WAe=GAe(NAe);function GAe(t){return t&&t.__esModule?t:{default:t}}Mg.default=WAe.default;UW.exports=Mg.default});var LW=O((FI,MW)=>{"use strict";Object.defineProperty(FI,"__esModule",{value:!0});var ZAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{onEndResult:function(i){if(e==="")return i.trim();if(e=e.toLowerCase(),e==="start"||e==="left")return i.replace(/^\s*/,"");if(e==="end"||e==="right")return i.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};FI.default=ZAe;MW.exports=FI.default});var hn=O((Lg,VW)=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.default=void 0;var HAe=LW(),KAe=qAe(HAe);function qAe(t){return t&&t.__esModule?t:{default:t}}Lg.default=KAe.default;VW.exports=Lg.default});var NW=O((DI,BW)=>{"use strict";Object.defineProperty(DI,"__esModule",{value:!0});function YAe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var XAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";return{onEndResult:function(i){if(e==="initial"){var o=i.match(/^[^\S\n]*(?=\S)/gm),s=o&&Math.min.apply(Math,YAe(o.map(function(u){return u.length})));if(s){var l=new RegExp("^.{"+s+"}","gm");return i.replace(l,"")}return i}if(e==="all")return i.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}};DI.default=XAe;BW.exports=DI.default});var ws=O((Vg,WW)=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.default=void 0;var zAe=NW(),JAe=QAe(zAe);function QAe(t){return t&&t.__esModule?t:{default:t}}Vg.default=JAe.default;WW.exports=Vg.default});var ZW=O((RI,GW)=>{"use strict";Object.defineProperty(RI,"__esModule",{value:!0});var $Ae=function(e,r){return{onEndResult:function(o){if(e==null||r==null)throw new Error("replaceResultTransformer requires at least 2 arguments.");return o.replace(e,r)}}};RI.default=$Ae;GW.exports=RI.default});var Ya=O((Bg,HW)=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.default=void 0;var eve=ZW(),tve=rve(eve);function rve(t){return t&&t.__esModule?t:{default:t}}Bg.default=tve.default;HW.exports=Bg.default});var qW=O((jI,KW)=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0});var nve=function(e,r){return{onSubstitution:function(o,s){if(e==null||r==null)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return o==null?o:o.toString().replace(e,r)}}};jI.default=nve;KW.exports=jI.default});var NF=O((Ng,YW)=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.default=void 0;var ive=qW(),sve=ove(ive);function ove(t){return t&&t.__esModule?t:{default:t}}Ng.default=sve.default;YW.exports=Ng.default});var zW=O((PI,XW)=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0});var ave=function(e,r){return{onString:function(o){if(e==null||r==null)throw new Error("replaceStringTransformer requires at least 2 arguments.");return o.replace(e,r)}}};PI.default=ave;XW.exports=PI.default});var QW=O((Wg,JW)=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.default=void 0;var lve=zW(),dve=uve(lve);function uve(t){return t&&t.__esModule?t:{default:t}}Wg.default=dve.default;JW.exports=Wg.default});var eG=O((_I,$W)=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0});var cve={separator:"",conjunction:"",serial:!1},pve=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cve;return{onSubstitution:function(i,o){if(Array.isArray(i)){var s=i.length,l=e.separator,u=e.conjunction,c=e.serial,g=o.match(/(\n?[^\S\n]+)$/);if(g?i=i.join(l+g[1]):i=i.join(l+" "),u&&s>1){var p=i.lastIndexOf(l);i=i.slice(0,p)+(c?l:"")+" "+u+i.slice(p+1)}}return i}}};_I.default=pve;$W.exports=_I.default});var Mi=O((Gg,tG)=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=void 0;var gve=eG(),mve=bve(gve);function bve(t){return t&&t.__esModule?t:{default:t}}Gg.default=mve.default;tG.exports=Gg.default});var nG=O((TI,rG)=>{"use strict";Object.defineProperty(TI,"__esModule",{value:!0});var fve=function(e){return{onSubstitution:function(i,o){if(e!=null&&typeof e=="string")typeof i=="string"&&i.includes(e)&&(i=i.split(e));else throw new Error("You need to specify a string character to split by.");return i}}};TI.default=fve;rG.exports=TI.default});var kI=O((Zg,iG)=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});Zg.default=void 0;var yve=nG(),Ive=hve(yve);function hve(t){return t&&t.__esModule?t:{default:t}}Zg.default=Ive.default;iG.exports=Zg.default});var aG=O((wI,oG)=>{"use strict";Object.defineProperty(wI,"__esModule",{value:!0});var sG=function(e){return e!=null&&!Number.isNaN(e)&&typeof e!="boolean"},xve=function(){return{onSubstitution:function(r){return Array.isArray(r)?r.filter(sG):sG(r)?r:""}}};wI.default=xve;oG.exports=wI.default});var WF=O((Hg,lG)=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.default=void 0;var Cve=aG(),Ave=vve(Cve);function vve(t){return t&&t.__esModule?t:{default:t}}Hg.default=Ave.default;lG.exports=Hg.default});var uG=O((UI,dG)=>{"use strict";Object.defineProperty(UI,"__esModule",{value:!0});var Sve=In(),Ove=EI(Sve),Fve=ws(),Dve=EI(Fve),Rve=Mi(),jve=EI(Rve),Pve=hn(),_ve=EI(Pve);function EI(t){return t&&t.__esModule?t:{default:t}}var Tve=new Ove.default((0,jve.default)({separator:","}),Dve.default,_ve.default);UI.default=Tve;dG.exports=UI.default});var pG=O((Kg,cG)=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.default=void 0;var kve=uG(),wve=Eve(kve);function Eve(t){return t&&t.__esModule?t:{default:t}}Kg.default=wve.default;cG.exports=Kg.default});var mG=O((LI,gG)=>{"use strict";Object.defineProperty(LI,"__esModule",{value:!0});var Uve=In(),Mve=MI(Uve),Lve=ws(),Vve=MI(Lve),Bve=Mi(),Nve=MI(Bve),Wve=hn(),Gve=MI(Wve);function MI(t){return t&&t.__esModule?t:{default:t}}var Zve=new Mve.default((0,Nve.default)({separator:",",conjunction:"and"}),Vve.default,Gve.default);LI.default=Zve;gG.exports=LI.default});var fG=O((qg,bG)=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.default=void 0;var Hve=mG(),Kve=qve(Hve);function qve(t){return t&&t.__esModule?t:{default:t}}qg.default=Kve.default;bG.exports=qg.default});var IG=O((BI,yG)=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0});var Yve=In(),Xve=VI(Yve),zve=ws(),Jve=VI(zve),Qve=Mi(),$ve=VI(Qve),eSe=hn(),tSe=VI(eSe);function VI(t){return t&&t.__esModule?t:{default:t}}var rSe=new Xve.default((0,$ve.default)({separator:",",conjunction:"or"}),Jve.default,tSe.default);BI.default=rSe;yG.exports=BI.default});var xG=O((Yg,hG)=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0});Yg.default=void 0;var nSe=IG(),iSe=sSe(nSe);function sSe(t){return t&&t.__esModule?t:{default:t}}Yg.default=iSe.default;hG.exports=Yg.default});var AG=O((NI,CG)=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});var oSe=In(),aSe=ec(oSe),lSe=ws(),dSe=ec(lSe),uSe=Mi(),cSe=ec(uSe),pSe=hn(),gSe=ec(pSe),mSe=kI(),bSe=ec(mSe),fSe=WF(),ySe=ec(fSe);function ec(t){return t&&t.__esModule?t:{default:t}}var ISe=new aSe.default((0,bSe.default)(`
`),ySe.default,cSe.default,dSe.default,gSe.default);NI.default=ISe;CG.exports=NI.default});var WI=O((Xg,vG)=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});Xg.default=void 0;var hSe=AG(),xSe=CSe(hSe);function CSe(t){return t&&t.__esModule?t:{default:t}}Xg.default=xSe.default;vG.exports=Xg.default});var OG=O((zg,SG)=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.default=void 0;var ASe=WI(),vSe=SSe(ASe);function SSe(t){return t&&t.__esModule?t:{default:t}}zg.default=vSe.default;SG.exports=zg.default});var DG=O((Jg,FG)=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.default=void 0;var OSe=WI(),FSe=DSe(OSe);function DSe(t){return t&&t.__esModule?t:{default:t}}Jg.default=FSe.default;FG.exports=Jg.default});var jG=O((GI,RG)=>{"use strict";Object.defineProperty(GI,"__esModule",{value:!0});var RSe=In(),jSe=rc(RSe),PSe=ws(),_Se=rc(PSe),TSe=Mi(),kSe=rc(TSe),wSe=hn(),ESe=rc(wSe),USe=kI(),MSe=rc(USe),LSe=NF(),tc=rc(LSe);function rc(t){return t&&t.__esModule?t:{default:t}}var VSe=new jSe.default((0,MSe.default)(`
`),kSe.default,_Se.default,ESe.default,(0,tc.default)(/&/g,"&amp;"),(0,tc.default)(/</g,"&lt;"),(0,tc.default)(/>/g,"&gt;"),(0,tc.default)(/"/g,"&quot;"),(0,tc.default)(/'/g,"&#x27;"),(0,tc.default)(/`/g,"&#x60;"));GI.default=VSe;RG.exports=GI.default});var _G=O((Qg,PG)=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.default=void 0;var BSe=jG(),NSe=WSe(BSe);function WSe(t){return t&&t.__esModule?t:{default:t}}Qg.default=NSe.default;PG.exports=Qg.default});var kG=O((ZI,TG)=>{"use strict";Object.defineProperty(ZI,"__esModule",{value:!0});var GSe=In(),ZSe=GF(GSe),HSe=hn(),KSe=GF(HSe),qSe=Ya(),YSe=GF(qSe);function GF(t){return t&&t.__esModule?t:{default:t}}var XSe=new ZSe.default((0,YSe.default)(/(?:\n(?:\s*))+/g," "),KSe.default);ZI.default=XSe;TG.exports=ZI.default});var EG=O(($g,wG)=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var zSe=kG(),JSe=QSe(zSe);function QSe(t){return t&&t.__esModule?t:{default:t}}$g.default=JSe.default;wG.exports=$g.default});var MG=O((HI,UG)=>{"use strict";Object.defineProperty(HI,"__esModule",{value:!0});var $Se=In(),eOe=ZF($Se),tOe=hn(),rOe=ZF(tOe),nOe=Ya(),iOe=ZF(nOe);function ZF(t){return t&&t.__esModule?t:{default:t}}var sOe=new eOe.default((0,iOe.default)(/(?:\n\s*)/g,""),rOe.default);HI.default=sOe;UG.exports=HI.default});var VG=O((em,LG)=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});em.default=void 0;var oOe=MG(),aOe=lOe(oOe);function lOe(t){return t&&t.__esModule?t:{default:t}}em.default=aOe.default;LG.exports=em.default});var NG=O((qI,BG)=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});var dOe=In(),uOe=KI(dOe),cOe=Mi(),pOe=KI(cOe),gOe=hn(),mOe=KI(gOe),bOe=Ya(),fOe=KI(bOe);function KI(t){return t&&t.__esModule?t:{default:t}}var yOe=new uOe.default((0,pOe.default)({separator:","}),(0,fOe.default)(/(?:\s+)/g," "),mOe.default);qI.default=yOe;BG.exports=qI.default});var GG=O((tm,WG)=>{"use strict";Object.defineProperty(tm,"__esModule",{value:!0});tm.default=void 0;var IOe=NG(),hOe=xOe(IOe);function xOe(t){return t&&t.__esModule?t:{default:t}}tm.default=hOe.default;WG.exports=tm.default});var HG=O((XI,ZG)=>{"use strict";Object.defineProperty(XI,"__esModule",{value:!0});var COe=In(),AOe=YI(COe),vOe=Mi(),SOe=YI(vOe),OOe=hn(),FOe=YI(OOe),DOe=Ya(),ROe=YI(DOe);function YI(t){return t&&t.__esModule?t:{default:t}}var jOe=new AOe.default((0,SOe.default)({separator:",",conjunction:"or"}),(0,ROe.default)(/(?:\s+)/g," "),FOe.default);XI.default=jOe;ZG.exports=XI.default});var qG=O((rm,KG)=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});rm.default=void 0;var POe=HG(),_Oe=TOe(POe);function TOe(t){return t&&t.__esModule?t:{default:t}}rm.default=_Oe.default;KG.exports=rm.default});var XG=O((JI,YG)=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0});var kOe=In(),wOe=zI(kOe),EOe=Mi(),UOe=zI(EOe),MOe=hn(),LOe=zI(MOe),VOe=Ya(),BOe=zI(VOe);function zI(t){return t&&t.__esModule?t:{default:t}}var NOe=new wOe.default((0,UOe.default)({separator:",",conjunction:"and"}),(0,BOe.default)(/(?:\s+)/g," "),LOe.default);JI.default=NOe;YG.exports=JI.default});var JG=O((nm,zG)=>{"use strict";Object.defineProperty(nm,"__esModule",{value:!0});nm.default=void 0;var WOe=XG(),GOe=ZOe(WOe);function ZOe(t){return t&&t.__esModule?t:{default:t}}nm.default=GOe.default;zG.exports=nm.default});var $G=O(($I,QG)=>{"use strict";Object.defineProperty($I,"__esModule",{value:!0});var HOe=In(),KOe=QI(HOe),qOe=ws(),YOe=QI(qOe),XOe=Mi(),zOe=QI(XOe),JOe=hn(),QOe=QI(JOe);function QI(t){return t&&t.__esModule?t:{default:t}}var $Oe=new KOe.default(zOe.default,YOe.default,QOe.default);$I.default=$Oe;QG.exports=$I.default});var t2=O((im,e2)=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.default=void 0;var eFe=$G(),tFe=rFe(eFe);function rFe(t){return t&&t.__esModule?t:{default:t}}im.default=tFe.default;e2.exports=im.default});var n2=O((th,r2)=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var nFe=In(),iFe=eh(nFe),sFe=Mi(),oFe=eh(sFe),aFe=hn(),lFe=eh(aFe),dFe=Ya(),uFe=eh(dFe);function eh(t){return t&&t.__esModule?t:{default:t}}var cFe=new iFe.default(oFe.default,(0,uFe.default)(/(?:\s+)/g," "),lFe.default);th.default=cFe;r2.exports=th.default});var s2=O((sm,i2)=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.default=void 0;var pFe=n2(),gFe=mFe(pFe);function mFe(t){return t&&t.__esModule?t:{default:t}}sm.default=gFe.default;i2.exports=sm.default});var a2=O((rh,o2)=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var bFe=In(),fFe=HF(bFe),yFe=ws(),IFe=HF(yFe),hFe=hn(),xFe=HF(hFe);function HF(t){return t&&t.__esModule?t:{default:t}}var CFe=new fFe.default(IFe.default,xFe.default);rh.default=CFe;o2.exports=rh.default});var d2=O((om,l2)=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.default=void 0;var AFe=a2(),vFe=SFe(AFe);function SFe(t){return t&&t.__esModule?t:{default:t}}om.default=vFe.default;l2.exports=om.default});var c2=O((nh,u2)=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var OFe=In(),FFe=KF(OFe),DFe=ws(),RFe=KF(DFe),jFe=hn(),PFe=KF(jFe);function KF(t){return t&&t.__esModule?t:{default:t}}var _Fe=new FFe.default((0,RFe.default)("all"),PFe.default);nh.default=_Fe;u2.exports=nh.default});var g2=O((am,p2)=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.default=void 0;var TFe=c2(),kFe=wFe(TFe);function wFe(t){return t&&t.__esModule?t:{default:t}}am.default=kFe.default;p2.exports=am.default});var ud=O(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.stripIndents=Xe.stripIndent=Xe.oneLineInlineLists=Xe.inlineLists=Xe.oneLineCommaListsAnd=Xe.oneLineCommaListsOr=Xe.oneLineCommaLists=Xe.oneLineTrim=Xe.oneLine=Xe.safeHtml=Xe.source=Xe.codeBlock=Xe.html=Xe.commaListsOr=Xe.commaListsAnd=Xe.commaLists=Xe.removeNonPrintingValuesTransformer=Xe.splitStringTransformer=Xe.inlineArrayTransformer=Xe.replaceStringTransformer=Xe.replaceSubstitutionTransformer=Xe.replaceResultTransformer=Xe.stripIndentTransformer=Xe.trimResultTransformer=Xe.TemplateTag=void 0;var EFe=In(),UFe=$t(EFe),MFe=hn(),LFe=$t(MFe),VFe=ws(),BFe=$t(VFe),NFe=Ya(),WFe=$t(NFe),GFe=NF(),ZFe=$t(GFe),HFe=QW(),KFe=$t(HFe),qFe=Mi(),YFe=$t(qFe),XFe=kI(),zFe=$t(XFe),JFe=WF(),QFe=$t(JFe),$Fe=pG(),eDe=$t($Fe),tDe=fG(),rDe=$t(tDe),nDe=xG(),iDe=$t(nDe),sDe=WI(),oDe=$t(sDe),aDe=OG(),lDe=$t(aDe),dDe=DG(),uDe=$t(dDe),cDe=_G(),pDe=$t(cDe),gDe=EG(),mDe=$t(gDe),bDe=VG(),fDe=$t(bDe),yDe=GG(),IDe=$t(yDe),hDe=qG(),xDe=$t(hDe),CDe=JG(),ADe=$t(CDe),vDe=t2(),SDe=$t(vDe),ODe=s2(),FDe=$t(ODe),DDe=d2(),RDe=$t(DDe),jDe=g2(),PDe=$t(jDe);function $t(t){return t&&t.__esModule?t:{default:t}}Xe.TemplateTag=UFe.default;Xe.trimResultTransformer=LFe.default;Xe.stripIndentTransformer=BFe.default;Xe.replaceResultTransformer=WFe.default;Xe.replaceSubstitutionTransformer=ZFe.default;Xe.replaceStringTransformer=KFe.default;Xe.inlineArrayTransformer=YFe.default;Xe.splitStringTransformer=zFe.default;Xe.removeNonPrintingValuesTransformer=QFe.default;Xe.commaLists=eDe.default;Xe.commaListsAnd=rDe.default;Xe.commaListsOr=iDe.default;Xe.html=oDe.default;Xe.codeBlock=lDe.default;Xe.source=uDe.default;Xe.safeHtml=pDe.default;Xe.oneLine=mDe.default;Xe.oneLineTrim=fDe.default;Xe.oneLineCommaLists=IDe.default;Xe.oneLineCommaListsOr=xDe.default;Xe.oneLineCommaListsAnd=ADe.default;Xe.inlineLists=SDe.default;Xe.oneLineInlineLists=FDe.default;Xe.stripIndent=RDe.default;Xe.stripIndents=PDe.default});var u9=O((Bft,d9)=>{var fRe=typeof global=="object"&&global&&global.Object===Object&&global;d9.exports=fRe});var p9=O((Nft,c9)=>{var yRe=u9(),IRe=typeof self=="object"&&self&&self.Object===Object&&self,hRe=yRe||IRe||Function("return this")();c9.exports=hRe});var Lm=O((Wft,g9)=>{var xRe=p9(),CRe=xRe.Symbol;g9.exports=CRe});var b9=O((Gft,m9)=>{function ARe(t,e){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=e(t[r],r,t);return o}m9.exports=ARe});var mD=O((Zft,f9)=>{var vRe=Array.isArray;f9.exports=vRe});var x9=O((Hft,h9)=>{var y9=Lm(),I9=Object.prototype,SRe=I9.hasOwnProperty,ORe=I9.toString,Vm=y9?y9.toStringTag:void 0;function FRe(t){var e=SRe.call(t,Vm),r=t[Vm];try{t[Vm]=void 0;var i=!0}catch{}var o=ORe.call(t);return i&&(e?t[Vm]=r:delete t[Vm]),o}h9.exports=FRe});var A9=O((Kft,C9)=>{var DRe=Object.prototype,RRe=DRe.toString;function jRe(t){return RRe.call(t)}C9.exports=jRe});var Th=O((qft,O9)=>{var v9=Lm(),PRe=x9(),_Re=A9(),TRe="[object Null]",kRe="[object Undefined]",S9=v9?v9.toStringTag:void 0;function wRe(t){return t==null?t===void 0?kRe:TRe:S9&&S9 in Object(t)?PRe(t):_Re(t)}O9.exports=wRe});var Bm=O((Yft,F9)=>{function ERe(t){return t!=null&&typeof t=="object"}F9.exports=ERe});var R9=O((Xft,D9)=>{var URe=Th(),MRe=Bm(),LRe="[object Symbol]";function VRe(t){return typeof t=="symbol"||MRe(t)&&URe(t)==LRe}D9.exports=VRe});var w9=O((zft,k9)=>{var j9=Lm(),BRe=b9(),NRe=mD(),WRe=R9(),GRe=1/0,P9=j9?j9.prototype:void 0,_9=P9?P9.toString:void 0;function T9(t){if(typeof t=="string")return t;if(NRe(t))return BRe(t,T9)+"";if(WRe(t))return _9?_9.call(t):"";var e=t+"";return e=="0"&&1/t==-GRe?"-0":e}k9.exports=T9});var Nm=O((Jft,E9)=>{var ZRe=w9();function HRe(t){return t==null?"":ZRe(t)}E9.exports=HRe});var M9=O((Qft,U9)=>{function KRe(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=t[i+e];return s}U9.exports=KRe});var V9=O(($ft,L9)=>{var qRe=M9();function YRe(t,e,r){var i=t.length;return r=r===void 0?i:r,!e&&r>=i?t:qRe(t,e,r)}L9.exports=YRe});var bD=O((eyt,B9)=>{var XRe="\\ud800-\\udfff",zRe="\\u0300-\\u036f",JRe="\\ufe20-\\ufe2f",QRe="\\u20d0-\\u20ff",$Re=zRe+JRe+QRe,eje="\\ufe0e\\ufe0f",tje="\\u200d",rje=RegExp("["+tje+XRe+$Re+eje+"]");function nje(t){return rje.test(t)}B9.exports=nje});var W9=O((tyt,N9)=>{function ije(t){return t.split("")}N9.exports=ije});var z9=O((ryt,X9)=>{var G9="\\ud800-\\udfff",sje="\\u0300-\\u036f",oje="\\ufe20-\\ufe2f",aje="\\u20d0-\\u20ff",lje=sje+oje+aje,dje="\\ufe0e\\ufe0f",uje="["+G9+"]",fD="["+lje+"]",yD="\\ud83c[\\udffb-\\udfff]",cje="(?:"+fD+"|"+yD+")",Z9="[^"+G9+"]",H9="(?:\\ud83c[\\udde6-\\uddff]){2}",K9="[\\ud800-\\udbff][\\udc00-\\udfff]",pje="\\u200d",q9=cje+"?",Y9="["+dje+"]?",gje="(?:"+pje+"(?:"+[Z9,H9,K9].join("|")+")"+Y9+q9+")*",mje=Y9+q9+gje,bje="(?:"+[Z9+fD+"?",fD,H9,K9,uje].join("|")+")",fje=RegExp(yD+"(?="+yD+")|"+bje+mje,"g");function yje(t){return t.match(fje)||[]}X9.exports=yje});var Q9=O((nyt,J9)=>{var Ije=W9(),hje=bD(),xje=z9();function Cje(t){return hje(t)?xje(t):Ije(t)}J9.exports=Cje});var eq=O((iyt,$9)=>{var Aje=V9(),vje=bD(),Sje=Q9(),Oje=Nm();function Fje(t){return function(e){e=Oje(e);var r=vje(e)?Sje(e):void 0,i=r?r[0]:e.charAt(0),o=r?Aje(r,1).join(""):e.slice(1);return i[t]()+o}}$9.exports=Fje});var rq=O((syt,tq)=>{var Dje=eq(),Rje=Dje("toUpperCase");tq.exports=Rje});var iq=O((oyt,nq)=>{var jje=Nm(),Pje=rq();function _je(t){return Pje(jje(t).toLowerCase())}nq.exports=_je});var oq=O((ayt,sq)=>{function Tje(t,e,r,i){var o=-1,s=t==null?0:t.length;for(i&&s&&(r=t[++o]);++o<s;)r=e(r,t[o],o,t);return r}sq.exports=Tje});var lq=O((lyt,aq)=>{function kje(t){return function(e){return t?.[e]}}aq.exports=kje});var uq=O((dyt,dq)=>{var wje=lq(),Eje={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Uje=wje(Eje);dq.exports=Uje});var pq=O((uyt,cq)=>{var Mje=uq(),Lje=Nm(),Vje=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bje="\\u0300-\\u036f",Nje="\\ufe20-\\ufe2f",Wje="\\u20d0-\\u20ff",Gje=Bje+Nje+Wje,Zje="["+Gje+"]",Hje=RegExp(Zje,"g");function Kje(t){return t=Lje(t),t&&t.replace(Vje,Mje).replace(Hje,"")}cq.exports=Kje});var mq=O((cyt,gq)=>{var qje=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Yje(t){return t.match(qje)||[]}gq.exports=Yje});var fq=O((pyt,bq)=>{var Xje=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function zje(t){return Xje.test(t)}bq.exports=zje});var Eq=O((gyt,wq)=>{var Cq="\\ud800-\\udfff",Jje="\\u0300-\\u036f",Qje="\\ufe20-\\ufe2f",$je="\\u20d0-\\u20ff",ePe=Jje+Qje+$je,Aq="\\u2700-\\u27bf",vq="a-z\\xdf-\\xf6\\xf8-\\xff",tPe="\\xac\\xb1\\xd7\\xf7",rPe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",nPe="\\u2000-\\u206f",iPe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sq="A-Z\\xc0-\\xd6\\xd8-\\xde",sPe="\\ufe0e\\ufe0f",Oq=tPe+rPe+nPe+iPe,Fq="['\u2019]",yq="["+Oq+"]",oPe="["+ePe+"]",Dq="\\d+",aPe="["+Aq+"]",Rq="["+vq+"]",jq="[^"+Cq+Oq+Dq+Aq+vq+Sq+"]",lPe="\\ud83c[\\udffb-\\udfff]",dPe="(?:"+oPe+"|"+lPe+")",uPe="[^"+Cq+"]",Pq="(?:\\ud83c[\\udde6-\\uddff]){2}",_q="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+Sq+"]",cPe="\\u200d",Iq="(?:"+Rq+"|"+jq+")",pPe="(?:"+xc+"|"+jq+")",hq="(?:"+Fq+"(?:d|ll|m|re|s|t|ve))?",xq="(?:"+Fq+"(?:D|LL|M|RE|S|T|VE))?",Tq=dPe+"?",kq="["+sPe+"]?",gPe="(?:"+cPe+"(?:"+[uPe,Pq,_q].join("|")+")"+kq+Tq+")*",mPe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bPe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",fPe=kq+Tq+gPe,yPe="(?:"+[aPe,Pq,_q].join("|")+")"+fPe,IPe=RegExp([xc+"?"+Rq+"+"+hq+"(?="+[yq,xc,"$"].join("|")+")",pPe+"+"+xq+"(?="+[yq,xc+Iq,"$"].join("|")+")",xc+"?"+Iq+"+"+hq,xc+"+"+xq,bPe,mPe,Dq,yPe].join("|"),"g");function hPe(t){return t.match(IPe)||[]}wq.exports=hPe});var Mq=O((myt,Uq)=>{var xPe=mq(),CPe=fq(),APe=Nm(),vPe=Eq();function SPe(t,e,r){return t=APe(t),e=r?void 0:e,e===void 0?CPe(t)?vPe(t):xPe(t):t.match(e)||[]}Uq.exports=SPe});var Vq=O((byt,Lq)=>{var OPe=oq(),FPe=pq(),DPe=Mq(),RPe="['\u2019]",jPe=RegExp(RPe,"g");function PPe(t){return function(e){return OPe(DPe(FPe(e).replace(jPe,"")),t,"")}}Lq.exports=PPe});var Nq=O((fyt,Bq)=>{var _Pe=iq(),TPe=Vq(),kPe=TPe(function(t,e,r){return e=e.toLowerCase(),t+(r?_Pe(e):e)});Bq.exports=kPe});var mY=O((Fht,gY)=>{function C_e(t,e){for(var r=-1,i=e.length,o=t.length;++r<i;)t[o+r]=e[r];return t}gY.exports=C_e});var fY=O((Dht,bY)=>{var A_e=Th(),v_e=Bm(),S_e="[object Arguments]";function O_e(t){return v_e(t)&&A_e(t)==S_e}bY.exports=O_e});var xY=O((Rht,hY)=>{var yY=fY(),F_e=Bm(),IY=Object.prototype,D_e=IY.hasOwnProperty,R_e=IY.propertyIsEnumerable,j_e=yY(function(){return arguments}())?yY:function(t){return F_e(t)&&D_e.call(t,"callee")&&!R_e.call(t,"callee")};hY.exports=j_e});var SY=O((jht,vY)=>{var CY=Lm(),P_e=xY(),__e=mD(),AY=CY?CY.isConcatSpreadable:void 0;function T_e(t){return __e(t)||P_e(t)||!!(AY&&t&&t[AY])}vY.exports=T_e});var DY=O((Pht,FY)=>{var k_e=mY(),w_e=SY();function OY(t,e,r,i,o){var s=-1,l=t.length;for(r||(r=w_e),o||(o=[]);++s<l;){var u=t[s];e>0&&r(u)?e>1?OY(u,e-1,r,i,o):k_e(o,u):i||(o[o.length]=u)}return o}FY.exports=OY});var jY=O((_ht,RY)=>{var E_e=DY();function U_e(t){var e=t==null?0:t.length;return e?E_e(t,1):[]}RY.exports=U_e});var _Y=O((Tht,PY)=>{function M_e(t,e){return function(r){return t(e(r))}}PY.exports=M_e});var kY=O((kht,TY)=>{var L_e=_Y(),V_e=L_e(Object.getPrototypeOf,Object);TY.exports=V_e});var ax=O((wht,EY)=>{var B_e=Th(),N_e=kY(),W_e=Bm(),G_e="[object Object]",Z_e=Function.prototype,H_e=Object.prototype,wY=Z_e.toString,K_e=H_e.hasOwnProperty,q_e=wY.call(Object);function Y_e(t){if(!W_e(t)||B_e(t)!=G_e)return!1;var e=N_e(t);if(e===null)return!0;var r=K_e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wY.call(r)==q_e}EY.exports=Y_e});var N4=O((OKt,B4)=>{"use strict";var{Duplex:UTe}=require("stream");function L4(t){t.emit("close")}function MTe(){!this.destroyed&&this._writableState.finished&&this.destroy()}function V4(t){this.removeListener("error",V4),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function LTe(t,e){let r=!0,i=new UTe({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(s,l){let u=!l&&i._readableState.objectMode?s.toString():s;i.push(u)||t.pause()}),t.once("error",function(s){i.destroyed||(r=!1,i.destroy(s))}),t.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(o,s){if(t.readyState===t.CLOSED){s(o),process.nextTick(L4,i);return}let l=!1;t.once("error",function(c){l=!0,s(c)}),t.once("close",function(){l||s(o),process.nextTick(L4,i)}),r&&t.terminate()},i._final=function(o){if(t.readyState===t.CONNECTING){t.once("open",function(){i._final(o)});return}t._socket!==null&&(t._socket._writableState.finished?(o(),i._readableState.endEmitted&&i.destroy()):(t._socket.once("finish",function(){o()}),t.close()))},i._read=function(){t.isPaused&&t.resume()},i._write=function(o,s,l){if(t.readyState===t.CONNECTING){t.once("open",function(){i._write(o,s,l)});return}t.send(o,l)},i.on("end",MTe),i.on("error",V4),i}B4.exports=LTe});var pl=O((FKt,W4)=>{"use strict";W4.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var rb=O((DKt,Rx)=>{"use strict";var{EMPTY_BUFFER:VTe}=pl(),P_=Buffer[Symbol.species];function BTe(t,e){if(t.length===0)return VTe;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let o=0;o<t.length;o++){let s=t[o];r.set(s,i),i+=s.length}return i<e?new P_(r.buffer,r.byteOffset,i):r}function G4(t,e,r,i,o){for(let s=0;s<o;s++)r[i+s]=t[s]^e[s&3]}function Z4(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function NTe(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function __(t){if(__.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new P_(t):ArrayBuffer.isView(t)?e=new P_(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),__.readOnly=!1),e}Rx.exports={concat:BTe,mask:G4,toArrayBuffer:NTe,toBuffer:__,unmask:Z4};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Rx.exports.mask=function(e,r,i,o,s){s<48?G4(e,r,i,o,s):t.mask(e,r,i,o,s)},Rx.exports.unmask=function(e,r){e.length<32?Z4(e,r):t.unmask(e,r)}}catch{}});var q4=O((RKt,K4)=>{"use strict";var H4=Symbol("kDone"),T_=Symbol("kRun"),k_=class{constructor(e){this[H4]=()=>{this.pending--,this[T_]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[T_]()}[T_](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[H4])}}};K4.exports=k_});var sb=O((jKt,J4)=>{"use strict";var nb=require("zlib"),Y4=rb(),WTe=q4(),{kStatusCode:X4}=pl(),GTe=Buffer[Symbol.species],ZTe=Buffer.from([0,0,255,255]),_x=Symbol("permessage-deflate"),Qo=Symbol("total-length"),ib=Symbol("callback"),gl=Symbol("buffers"),Px=Symbol("error"),jx,w_=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!jx){let o=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;jx=new WTe(o)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[ib];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(o=>!(r.serverNoContextTakeover===!1&&o.server_no_context_takeover||o.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>o.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!o.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let o=r[i];if(o.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(o=o[0],i==="client_max_window_bits"){if(o!==!0){let s=+o;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${o}`);o=s}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${o}`)}else if(i==="server_max_window_bits"){let s=+o;if(!Number.isInteger(s)||s<8||s>15)throw new TypeError(`Invalid value for parameter "${i}": ${o}`);o=s}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(o!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${o}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=o})}),e}decompress(e,r,i){jx.add(o=>{this._decompress(e,r,(s,l)=>{o(),i(s,l)})})}compress(e,r,i){jx.add(o=>{this._compress(e,r,(s,l)=>{o(),i(s,l)})})}_decompress(e,r,i){let o=this._isServer?"client":"server";if(!this._inflate){let s=`${o}_max_window_bits`,l=typeof this.params[s]!="number"?nb.Z_DEFAULT_WINDOWBITS:this.params[s];this._inflate=nb.createInflateRaw({...this._options.zlibInflateOptions,windowBits:l}),this._inflate[_x]=this,this._inflate[Qo]=0,this._inflate[gl]=[],this._inflate.on("error",KTe),this._inflate.on("data",z4)}this._inflate[ib]=i,this._inflate.write(e),r&&this._inflate.write(ZTe),this._inflate.flush(()=>{let s=this._inflate[Px];if(s){this._inflate.close(),this._inflate=null,i(s);return}let l=Y4.concat(this._inflate[gl],this._inflate[Qo]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Qo]=0,this._inflate[gl]=[],r&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),i(null,l)})}_compress(e,r,i){let o=this._isServer?"server":"client";if(!this._deflate){let s=`${o}_max_window_bits`,l=typeof this.params[s]!="number"?nb.Z_DEFAULT_WINDOWBITS:this.params[s];this._deflate=nb.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:l}),this._deflate[Qo]=0,this._deflate[gl]=[],this._deflate.on("data",HTe)}this._deflate[ib]=i,this._deflate.write(e),this._deflate.flush(nb.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let s=Y4.concat(this._deflate[gl],this._deflate[Qo]);r&&(s=new GTe(s.buffer,s.byteOffset,s.length-4)),this._deflate[ib]=null,this._deflate[Qo]=0,this._deflate[gl]=[],r&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),i(null,s)})}};J4.exports=w_;function HTe(t){this[gl].push(t),this[Qo]+=t.length}function z4(t){if(this[Qo]+=t.length,this[_x]._maxPayload<1||this[Qo]<=this[_x]._maxPayload){this[gl].push(t);return}this[Px]=new RangeError("Max payload size exceeded"),this[Px].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Px][X4]=1009,this.removeListener("data",z4),this.reset()}function KTe(t){this[_x]._inflate=null,t[X4]=1007,this[ib](t)}});var ob=O((PKt,Tx)=>{"use strict";var{isUtf8:Q4}=require("buffer"),qTe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function YTe(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function E_(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}Tx.exports={isValidStatusCode:YTe,isValidUTF8:E_,tokenChars:qTe};if(Q4)Tx.exports.isValidUTF8=function(t){return t.length<24?E_(t):Q4(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");Tx.exports.isValidUTF8=function(e){return e.length<32?E_(e):t(e)}}catch{}});var B_=O((_Kt,sJ)=>{"use strict";var{Writable:XTe}=require("stream"),$4=sb(),{BINARY_TYPES:zTe,EMPTY_BUFFER:eJ,kStatusCode:JTe,kWebSocket:QTe}=pl(),{concat:U_,toArrayBuffer:$Te,unmask:eke}=rb(),{isValidStatusCode:tke,isValidUTF8:tJ}=ob(),kx=Buffer[Symbol.species],rke=Promise.resolve(),M_=typeof queueMicrotask=="function"?queueMicrotask:nke,Ki=0,rJ=1,nJ=2,iJ=3,L_=4,wx=5,Ex=6,V_=class extends XTe{constructor(e={}){super(),this._allowSynchronousEvents=!!e.allowSynchronousEvents,this._binaryType=e.binaryType||zTe[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[QTe]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Ki}_write(e,r,i){if(this._opcode===8&&this._state==Ki)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=new kx(i.buffer,i.byteOffset+e,i.length-e),new kx(i.buffer,i.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],o=r.length-e;e>=i.length?r.set(this._buffers.shift(),o):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),o),this._buffers[0]=new kx(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Ki:this.getInfo(e);break;case rJ:this.getPayloadLength16(e);break;case nJ:this.getPayloadLength64(e);break;case iJ:this.getMask();break;case L_:this.getData(e);break;case wx:case Ex:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if(r[0]&48){let o=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(o);return}let i=(r[0]&64)===64;if(i&&!this._extensions[$4.extensionName]){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(i){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(!this._fragmented){let o=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let o=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(o);return}if(i){let o=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(o);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let o=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(o);return}}else{let o=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(o);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let o=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(o);return}}else if(this._masked){let o=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(o);return}this._payloadLength===126?this._state=rJ:this._payloadLength===127?this._state=nJ:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),i=r.readUInt32BE(0);if(i>Math.pow(2,53-32)-1){let o=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(o);return}this._payloadLength=i*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=iJ:this._state=L_}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=L_}getData(e){let r=eJ;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&eke(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=wx,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[$4.extensionName].decompress(e,this._fin,(o,s)=>{if(o)return r(o);if(s.length){if(this._messageLength+=s.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let l=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(l);return}this._fragments.push(s)}this.dataMessage(r),this._state===Ki&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Ki;return}let r=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let o;this._binaryType==="nodebuffer"?o=U_(i,r):this._binaryType==="arraybuffer"?o=$Te(U_(i,r)):o=i,this._state===wx||this._allowSynchronousEvents?(this.emit("message",o,!0),this._state=Ki):(this._state=Ex,M_(()=>{this.emit("message",o,!0),this._state=Ki,this.startLoop(e)}))}else{let o=U_(i,r);if(!this._skipUTF8Validation&&!tJ(o)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(s);return}this._state===wx||this._allowSynchronousEvents?(this.emit("message",o,!1),this._state=Ki):(this._state=Ex,M_(()=>{this.emit("message",o,!1),this._state=Ki,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,eJ),this.end();else{let i=e.readUInt16BE(0);if(!tke(i)){let s=this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(s);return}let o=new kx(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!tJ(o)){let s=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(s);return}this._loop=!1,this.emit("conclude",i,o),this.end()}this._state=Ki;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Ki):(this._state=Ex,M_(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Ki,this.startLoop(r)}))}createError(e,r,i,o,s){this._loop=!1,this._errored=!0;let l=new e(i?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(l,this.createError),l.code=s,l[JTe]=o,l}};sJ.exports=V_;function nke(t){rke.then(t).catch(ske)}function ike(t){throw t}function ske(t){process.nextTick(ike,t)}});var N_=O((kKt,lJ)=>{"use strict";var{Duplex:TKt}=require("stream"),{randomFillSync:oke}=require("crypto"),oJ=sb(),{EMPTY_BUFFER:ake}=pl(),{isValidStatusCode:lke}=ob(),{mask:aJ,toBuffer:wc}=rb(),ys=Symbol("kByteLength"),dke=Buffer.alloc(4),Ks=class{constructor(e,r,i){this._extensions=r||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i,o=!1,s=2,l=!1;r.mask&&(i=r.maskBuffer||dke,r.generateMask?r.generateMask(i):oke(i,0,4),l=(i[0]|i[1]|i[2]|i[3])===0,s=6);let u;typeof e=="string"?(!r.mask||l)&&r[ys]!==void 0?u=r[ys]:(e=Buffer.from(e),u=e.length):(u=e.length,o=r.mask&&r.readOnly&&!l);let c=u;u>=65536?(s+=8,c=127):u>125&&(s+=2,c=126);let g=Buffer.allocUnsafe(o?u+s:s);return g[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(g[0]|=64),g[1]=c,c===126?g.writeUInt16BE(u,2):c===127&&(g[2]=g[3]=0,g.writeUIntBE(u,4,6)),r.mask?(g[1]|=128,g[s-4]=i[0],g[s-3]=i[1],g[s-2]=i[2],g[s-1]=i[3],l?[g,e]:o?(aJ(e,i,g,s,u),[g]):(aJ(e,i,e,0,u),[g,e])):[g,e]}close(e,r,i,o){let s;if(e===void 0)s=ake;else{if(typeof e!="number"||!lke(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)s=Buffer.allocUnsafe(2),s.writeUInt16BE(e,0);else{let u=Buffer.byteLength(r);if(u>123)throw new RangeError("The message must not be greater than 123 bytes");s=Buffer.allocUnsafe(2+u),s.writeUInt16BE(e,0),typeof r=="string"?s.write(r,2):s.set(r,2)}}let l={[ys]:s.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,s,!1,l,o]):this.sendFrame(Ks.frame(s,l),o)}ping(e,r,i){let o,s;if(typeof e=="string"?(o=Buffer.byteLength(e),s=!1):(e=wc(e),o=e.length,s=wc.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[ys]:o,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,l,i]):this.sendFrame(Ks.frame(e,l),i)}pong(e,r,i){let o,s;if(typeof e=="string"?(o=Buffer.byteLength(e),s=!1):(e=wc(e),o=e.length,s=wc.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");let l={[ys]:o,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:s,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,l,i]):this.sendFrame(Ks.frame(e,l),i)}send(e,r,i){let o=this._extensions[oJ.extensionName],s=r.binary?2:1,l=r.compress,u,c;if(typeof e=="string"?(u=Buffer.byteLength(e),c=!1):(e=wc(e),u=e.length,c=wc.readOnly),this._firstFragment?(this._firstFragment=!1,l&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(l=u>=o._threshold),this._compress=l):(l=!1,s=0),r.fin&&(this._firstFragment=!0),o){let g={[ys]:u,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:c,rsv1:l};this._deflating?this.enqueue([this.dispatch,e,this._compress,g,i]):this.dispatch(e,this._compress,g,i)}else this.sendFrame(Ks.frame(e,{[ys]:u,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:c,rsv1:!1}),i)}dispatch(e,r,i,o){if(!r){this.sendFrame(Ks.frame(e,i),o);return}let s=this._extensions[oJ.extensionName];this._bufferedBytes+=i[ys],this._deflating=!0,s.compress(e,i.fin,(l,u)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof o=="function"&&o(c);for(let g=0;g<this._queue.length;g++){let p=this._queue[g],f=p[p.length-1];typeof f=="function"&&f(c)}return}this._bufferedBytes-=i[ys],this._deflating=!1,i.readOnly=!1,this.sendFrame(Ks.frame(u,i),o),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][ys],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][ys],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};lJ.exports=Ks});var yJ=O((wKt,fJ)=>{"use strict";var{kForOnEventAttribute:ab,kListener:W_}=pl(),dJ=Symbol("kCode"),uJ=Symbol("kData"),cJ=Symbol("kError"),pJ=Symbol("kMessage"),gJ=Symbol("kReason"),Ec=Symbol("kTarget"),mJ=Symbol("kType"),bJ=Symbol("kWasClean"),$o=class{constructor(e){this[Ec]=null,this[mJ]=e}get target(){return this[Ec]}get type(){return this[mJ]}};Object.defineProperty($o.prototype,"target",{enumerable:!0});Object.defineProperty($o.prototype,"type",{enumerable:!0});var jd=class extends $o{constructor(e,r={}){super(e),this[dJ]=r.code===void 0?0:r.code,this[gJ]=r.reason===void 0?"":r.reason,this[bJ]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[dJ]}get reason(){return this[gJ]}get wasClean(){return this[bJ]}};Object.defineProperty(jd.prototype,"code",{enumerable:!0});Object.defineProperty(jd.prototype,"reason",{enumerable:!0});Object.defineProperty(jd.prototype,"wasClean",{enumerable:!0});var Uc=class extends $o{constructor(e,r={}){super(e),this[cJ]=r.error===void 0?null:r.error,this[pJ]=r.message===void 0?"":r.message}get error(){return this[cJ]}get message(){return this[pJ]}};Object.defineProperty(Uc.prototype,"error",{enumerable:!0});Object.defineProperty(Uc.prototype,"message",{enumerable:!0});var lb=class extends $o{constructor(e,r={}){super(e),this[uJ]=r.data===void 0?null:r.data}get data(){return this[uJ]}};Object.defineProperty(lb.prototype,"data",{enumerable:!0});var uke={addEventListener(t,e,r={}){for(let o of this.listeners(t))if(!r[ab]&&o[W_]===e&&!o[ab])return;let i;if(t==="message")i=function(s,l){let u=new lb("message",{data:l?s:s.toString()});u[Ec]=this,Ux(e,this,u)};else if(t==="close")i=function(s,l){let u=new jd("close",{code:s,reason:l.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});u[Ec]=this,Ux(e,this,u)};else if(t==="error")i=function(s){let l=new Uc("error",{error:s,message:s.message});l[Ec]=this,Ux(e,this,l)};else if(t==="open")i=function(){let s=new $o("open");s[Ec]=this,Ux(e,this,s)};else return;i[ab]=!!r[ab],i[W_]=e,r.once?this.once(t,i):this.on(t,i)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[W_]===e&&!r[ab]){this.removeListener(t,r);break}}};fJ.exports={CloseEvent:jd,ErrorEvent:Uc,Event:$o,EventTarget:uke,MessageEvent:lb};function Ux(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var G_=O((EKt,IJ)=>{"use strict";var{tokenChars:db}=ob();function qs(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function cke(t){let e=Object.create(null),r=Object.create(null),i=!1,o=!1,s=!1,l,u,c=-1,g=-1,p=-1,f=0;for(;f<t.length;f++)if(g=t.charCodeAt(f),l===void 0)if(p===-1&&db[g]===1)c===-1&&(c=f);else if(f!==0&&(g===32||g===9))p===-1&&c!==-1&&(p=f);else if(g===59||g===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);p===-1&&(p=f);let v=t.slice(c,p);g===44?(qs(e,v,r),r=Object.create(null)):l=v,c=p=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(u===void 0)if(p===-1&&db[g]===1)c===-1&&(c=f);else if(g===32||g===9)p===-1&&c!==-1&&(p=f);else if(g===59||g===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);p===-1&&(p=f),qs(r,t.slice(c,p),!0),g===44&&(qs(e,l,r),r=Object.create(null),l=void 0),c=p=-1}else if(g===61&&c!==-1&&p===-1)u=t.slice(c,f),c=p=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(o){if(db[g]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);c===-1?c=f:i||(i=!0),o=!1}else if(s)if(db[g]===1)c===-1&&(c=f);else if(g===34&&c!==-1)s=!1,p=f;else if(g===92)o=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(g===34&&t.charCodeAt(f-1)===61)s=!0;else if(p===-1&&db[g]===1)c===-1&&(c=f);else if(c!==-1&&(g===32||g===9))p===-1&&(p=f);else if(g===59||g===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${f}`);p===-1&&(p=f);let v=t.slice(c,p);i&&(v=v.replace(/\\/g,""),i=!1),qs(r,u,v),g===44&&(qs(e,l,r),r=Object.create(null),l=void 0),u=void 0,c=p=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(c===-1||s||g===32||g===9)throw new SyntaxError("Unexpected end of input");p===-1&&(p=f);let I=t.slice(c,p);return l===void 0?qs(e,I,r):(u===void 0?qs(r,I,!0):i?qs(r,u,I.replace(/\\/g,"")):qs(r,u,I),qs(e,l,r)),e}function pke(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(o=>{let s=i[o];return Array.isArray(s)||(s=[s]),s.map(l=>l===!0?o:`${o}=${l}`).join("; ")})).join("; ")).join(", ")}).join(", ")}IJ.exports={format:pke,parse:cke}});var Y_=O((LKt,jJ)=>{"use strict";var gke=require("events"),mke=require("https"),bke=require("http"),CJ=require("net"),fke=require("tls"),{randomBytes:yke,createHash:Ike}=require("crypto"),{Duplex:UKt,Readable:MKt}=require("stream"),{URL:Z_}=require("url"),ml=sb(),hke=B_(),xke=N_(),{BINARY_TYPES:hJ,EMPTY_BUFFER:Mx,GUID:Cke,kForOnEventAttribute:H_,kListener:Ake,kStatusCode:vke,kWebSocket:xn,NOOP:AJ}=pl(),{EventTarget:{addEventListener:Ske,removeEventListener:Oke}}=yJ(),{format:Fke,parse:Dke}=G_(),{toBuffer:Rke}=rb(),jke=30*1e3,vJ=Symbol("kAborted"),K_=[8,13],ea=["CONNECTING","OPEN","CLOSING","CLOSED"],Pke=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,gt=class extends gke{constructor(e,r,i){super(),this._binaryType=hJ[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Mx,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=gt.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(i=r,r=[]):r=[r]),SJ(this,e,r,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){hJ.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let o=new hke({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new xke(e,this._extensions,i.generateMask),this._receiver=o,this._socket=e,o[xn]=this,e[xn]=this,o.on("conclude",kke),o.on("drain",wke),o.on("error",Eke),o.on("message",Uke),o.on("ping",Mke),o.on("pong",Lke),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",FJ),e.on("data",Vx),e.on("end",DJ),e.on("error",RJ),this._readyState=gt.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=gt.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[ml.extensionName]&&this._extensions[ml.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=gt.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==gt.CLOSED){if(this.readyState===gt.CONNECTING){let i="WebSocket was closed before the connection was established";hi(this,this._req,i);return}if(this.readyState===gt.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=gt.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),jke)}}pause(){this.readyState===gt.CONNECTING||this.readyState===gt.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,i){if(this.readyState===gt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==gt.OPEN){q_(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Mx,r,i)}pong(e,r,i){if(this.readyState===gt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==gt.OPEN){q_(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Mx,r,i)}resume(){this.readyState===gt.CONNECTING||this.readyState===gt.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,i){if(this.readyState===gt.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==gt.OPEN){q_(this,e,i);return}let o={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[ml.extensionName]||(o.compress=!1),this._sender.send(e||Mx,o,i)}terminate(){if(this.readyState!==gt.CLOSED){if(this.readyState===gt.CONNECTING){let e="WebSocket was closed before the connection was established";hi(this,this._req,e);return}this._socket&&(this._readyState=gt.CLOSING,this._socket.destroy())}}};Object.defineProperty(gt,"CONNECTING",{enumerable:!0,value:ea.indexOf("CONNECTING")});Object.defineProperty(gt.prototype,"CONNECTING",{enumerable:!0,value:ea.indexOf("CONNECTING")});Object.defineProperty(gt,"OPEN",{enumerable:!0,value:ea.indexOf("OPEN")});Object.defineProperty(gt.prototype,"OPEN",{enumerable:!0,value:ea.indexOf("OPEN")});Object.defineProperty(gt,"CLOSING",{enumerable:!0,value:ea.indexOf("CLOSING")});Object.defineProperty(gt.prototype,"CLOSING",{enumerable:!0,value:ea.indexOf("CLOSING")});Object.defineProperty(gt,"CLOSED",{enumerable:!0,value:ea.indexOf("CLOSED")});Object.defineProperty(gt.prototype,"CLOSED",{enumerable:!0,value:ea.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(gt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(gt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[H_])return e[Ake];return null},set(e){for(let r of this.listeners(t))if(r[H_]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[H_]:!0})}})});gt.prototype.addEventListener=Ske;gt.prototype.removeEventListener=Oke;jJ.exports=gt;function SJ(t,e,r,i){let o={allowSynchronousEvents:!1,autoPong:!0,protocolVersion:K_[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=o.autoPong,!K_.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${K_.join(", ")})`);let s;if(e instanceof Z_)s=e;else try{s=new Z_(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}s.protocol==="http:"?s.protocol="ws:":s.protocol==="https:"&&(s.protocol="wss:"),t._url=s.href;let l=s.protocol==="wss:",u=s.protocol==="ws+unix:",c;if(s.protocol!=="ws:"&&!l&&!u?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:u&&!s.pathname?c="The URL's pathname is empty":s.hash&&(c="The URL contains a fragment identifier"),c){let F=new SyntaxError(c);if(t._redirects===0)throw F;Lx(t,F);return}let g=l?443:80,p=yke(16).toString("base64"),f=l?mke.request:bke.request,I=new Set,v;if(o.createConnection=l?Tke:_ke,o.defaultPort=o.defaultPort||g,o.port=s.port||g,o.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,o.headers={...o.headers,"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":p,Connection:"Upgrade",Upgrade:"websocket"},o.path=s.pathname+s.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(v=new ml(o.perMessageDeflate!==!0?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=Fke({[ml.extensionName]:v.offer()})),r.length){for(let F of r){if(typeof F!="string"||!Pke.test(F)||I.has(F))throw new SyntaxError("An invalid or duplicated subprotocol was specified");I.add(F)}o.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(s.username||s.password)&&(o.auth=`${s.username}:${s.password}`),u){let F=o.path.split(":");o.socketPath=F[0],o.path=F[1]}let C;if(o.followRedirects){if(t._redirects===0){t._originalIpc=u,t._originalSecure=l,t._originalHostOrSocketPath=u?o.socketPath:s.host;let F=i&&i.headers;if(i={...i,headers:{}},F)for(let[P,E]of Object.entries(F))i.headers[P.toLowerCase()]=E}else if(t.listenerCount("redirect")===0){let F=u?t._originalIpc?o.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:s.host===t._originalHostOrSocketPath;(!F||t._originalSecure&&!l)&&(delete o.headers.authorization,delete o.headers.cookie,F||delete o.headers.host,o.auth=void 0)}o.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64")),C=t._req=f(o),t._redirects&&t.emit("redirect",t.url,C)}else C=t._req=f(o);o.timeout&&C.on("timeout",()=>{hi(t,C,"Opening handshake has timed out")}),C.on("error",F=>{C===null||C[vJ]||(C=t._req=null,Lx(t,F))}),C.on("response",F=>{let P=F.headers.location,E=F.statusCode;if(P&&o.followRedirects&&E>=300&&E<400){if(++t._redirects>o.maxRedirects){hi(t,C,"Maximum redirects exceeded");return}C.abort();let J;try{J=new Z_(P,e)}catch{let ee=new SyntaxError(`Invalid URL: ${P}`);Lx(t,ee);return}SJ(t,J,r,i)}else t.emit("unexpected-response",C,F)||hi(t,C,`Unexpected server response: ${F.statusCode}`)}),C.on("upgrade",(F,P,E)=>{if(t.emit("upgrade",F),t.readyState!==gt.CONNECTING)return;if(C=t._req=null,F.headers.upgrade.toLowerCase()!=="websocket"){hi(t,P,"Invalid Upgrade header");return}let J=Ike("sha1").update(p+Cke).digest("base64");if(F.headers["sec-websocket-accept"]!==J){hi(t,P,"Invalid Sec-WebSocket-Accept header");return}let k=F.headers["sec-websocket-protocol"],ee;if(k!==void 0?I.size?I.has(k)||(ee="Server sent an invalid subprotocol"):ee="Server sent a subprotocol but none was requested":I.size&&(ee="Server sent no subprotocol"),ee){hi(t,P,ee);return}k&&(t._protocol=k);let ce=F.headers["sec-websocket-extensions"];if(ce!==void 0){if(!v){hi(t,P,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let Q;try{Q=Dke(ce)}catch{hi(t,P,"Invalid Sec-WebSocket-Extensions header");return}let he=Object.keys(Q);if(he.length!==1||he[0]!==ml.extensionName){hi(t,P,"Server indicated an extension that was not requested");return}try{v.accept(Q[ml.extensionName])}catch{hi(t,P,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[ml.extensionName]=v}t.setSocket(P,E,{allowSynchronousEvents:o.allowSynchronousEvents,generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})}),o.finishRequest?o.finishRequest(C,t):C.end()}function Lx(t,e){t._readyState=gt.CLOSING,t.emit("error",e),t.emitClose()}function _ke(t){return t.path=t.socketPath,CJ.connect(t)}function Tke(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=CJ.isIP(t.host)?"":t.host),fke.connect(t)}function hi(t,e,r){t._readyState=gt.CLOSING;let i=new Error(r);Error.captureStackTrace(i,hi),e.setHeader?(e[vJ]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Lx,t,i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function q_(t,e,r){if(e){let i=Rke(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${ea[t.readyState]})`);process.nextTick(r,i)}}function kke(t,e){let r=this[xn];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[xn]!==void 0&&(r._socket.removeListener("data",Vx),process.nextTick(OJ,r._socket),t===1005?r.close():r.close(t,e))}function wke(){let t=this[xn];t.isPaused||t._socket.resume()}function Eke(t){let e=this[xn];e._socket[xn]!==void 0&&(e._socket.removeListener("data",Vx),process.nextTick(OJ,e._socket),e.close(t[vke])),e.emit("error",t)}function xJ(){this[xn].emitClose()}function Uke(t,e){this[xn].emit("message",t,e)}function Mke(t){let e=this[xn];e._autoPong&&e.pong(t,!this._isServer,AJ),e.emit("ping",t)}function Lke(t){this[xn].emit("pong",t)}function OJ(t){t.resume()}function FJ(){let t=this[xn];this.removeListener("close",FJ),this.removeListener("data",Vx),this.removeListener("end",DJ),t._readyState=gt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[xn]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",xJ),t._receiver.on("finish",xJ))}function Vx(t){this[xn]._receiver.write(t)||this.pause()}function DJ(){let t=this[xn];t._readyState=gt.CLOSING,t._receiver.end(),this.end()}function RJ(){let t=this[xn];this.removeListener("error",RJ),this.on("error",AJ),t&&(t._readyState=gt.CLOSING,this.destroy())}});var _J=O((VKt,PJ)=>{"use strict";var{tokenChars:Vke}=ob();function Bke(t){let e=new Set,r=-1,i=-1,o=0;for(o;o<t.length;o++){let l=t.charCodeAt(o);if(i===-1&&Vke[l]===1)r===-1&&(r=o);else if(o!==0&&(l===32||l===9))i===-1&&r!==-1&&(i=o);else if(l===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${o}`);i===-1&&(i=o);let u=t.slice(r,i);if(e.has(u))throw new SyntaxError(`The "${u}" subprotocol is duplicated`);e.add(u),r=i=-1}else throw new SyntaxError(`Unexpected character at index ${o}`)}if(r===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let s=t.slice(r,o);if(e.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return e.add(s),e}PJ.exports={parse:Bke}});var LJ=O((NKt,MJ)=>{"use strict";var Nke=require("events"),Bx=require("http"),{Duplex:BKt}=require("stream"),{createHash:Wke}=require("crypto"),TJ=G_(),Pd=sb(),Gke=_J(),Zke=Y_(),{GUID:Hke,kWebSocket:Kke}=pl(),qke=/^[+/0-9A-Za-z]{22}==$/,kJ=0,wJ=1,UJ=2,X_=class extends Nke{constructor(e,r){if(super(),e={allowSynchronousEvents:!1,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Zke,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Bx.createServer((i,o)=>{let s=Bx.STATUS_CODES[426];o.writeHead(426,{"Content-Length":s.length,"Content-Type":"text/plain"}),o.end(s)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=Yke(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(o,s,l)=>{this.handleUpgrade(o,s,l,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=kJ}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===UJ){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(ub,this);return}if(e&&this.once("close",e),this._state!==wJ)if(this._state=wJ,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(ub,this):process.nextTick(ub,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{ub(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,o){r.on("error",EJ);let s=e.headers["sec-websocket-key"],l=+e.headers["sec-websocket-version"];if(e.method!=="GET"){_d(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){_d(this,e,r,400,"Invalid Upgrade header");return}if(!s||!qke.test(s)){_d(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(l!==8&&l!==13){_d(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){cb(r,400);return}let u=e.headers["sec-websocket-protocol"],c=new Set;if(u!==void 0)try{c=Gke.parse(u)}catch{_d(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let g=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&g!==void 0){let f=new Pd(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let I=TJ.parse(g);I[Pd.extensionName]&&(f.accept(I[Pd.extensionName]),p[Pd.extensionName]=f)}catch{_d(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:e.headers[`${l===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(I,v,C,F)=>{if(!I)return cb(r,v||401,C,F);this.completeUpgrade(p,s,c,e,r,i,o)});return}if(!this.options.verifyClient(f))return cb(r,401)}this.completeUpgrade(p,s,c,e,r,i,o)}completeUpgrade(e,r,i,o,s,l,u){if(!s.readable||!s.writable)return s.destroy();if(s[Kke])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>kJ)return cb(s,503);let g=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Wke("sha1").update(r+Hke).digest("base64")}`],p=new this.options.WebSocket(null,void 0,this.options);if(i.size){let f=this.options.handleProtocols?this.options.handleProtocols(i,o):i.values().next().value;f&&(g.push(`Sec-WebSocket-Protocol: ${f}`),p._protocol=f)}if(e[Pd.extensionName]){let f=e[Pd.extensionName].params,I=TJ.format({[Pd.extensionName]:[f]});g.push(`Sec-WebSocket-Extensions: ${I}`),p._extensions=e}this.emit("headers",g,o),s.write(g.concat(`\r
`).join(`\r
`)),s.removeListener("error",EJ),p.setSocket(s,l,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(p),p.on("close",()=>{this.clients.delete(p),this._shouldEmitClose&&!this.clients.size&&process.nextTick(ub,this)})),u(p,o)}};MJ.exports=X_;function Yke(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function ub(t){t._state=UJ,t.emit("close")}function EJ(){this.destroy()}function cb(t,e,r,i){r=r||Bx.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Bx.STATUS_CODES[e]}\r
`+Object.keys(i).map(o=>`${o}: ${i[o]}`).join(`\r
`)+`\r
\r
`+r)}function _d(t,e,r,i,o){if(t.listenerCount("wsClientError")){let s=new Error(o);Error.captureStackTrace(s,_d),t.emit("wsClientError",s,r,e)}else cb(r,i,o)}});var qi=O(Qr=>{Object.defineProperty(Qr,"__esModule",{value:!0});var K$=Object.prototype.toString;function $ke(t){switch(K$.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Kx(t,Error)}}function Mc(t,e){return K$.call(t)===`[object ${e}]`}function ewe(t){return Mc(t,"ErrorEvent")}function twe(t){return Mc(t,"DOMError")}function rwe(t){return Mc(t,"DOMException")}function nwe(t){return Mc(t,"String")}function q$(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function iwe(t){return t===null||q$(t)||typeof t!="object"&&typeof t!="function"}function Y$(t){return Mc(t,"Object")}function swe(t){return typeof Event<"u"&&Kx(t,Event)}function owe(t){return typeof Element<"u"&&Kx(t,Element)}function awe(t){return Mc(t,"RegExp")}function lwe(t){return Boolean(t&&t.then&&typeof t.then=="function")}function dwe(t){return Y$(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function uwe(t){return typeof t=="number"&&t!==t}function Kx(t,e){try{return t instanceof e}catch{return!1}}function cwe(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}Qr.isDOMError=twe;Qr.isDOMException=rwe;Qr.isElement=owe;Qr.isError=$ke;Qr.isErrorEvent=ewe;Qr.isEvent=swe;Qr.isInstanceOf=Kx;Qr.isNaN=uwe;Qr.isParameterizedString=q$;Qr.isPlainObject=Y$;Qr.isPrimitive=iwe;Qr.isRegExp=awe;Qr.isString=nwe;Qr.isSyntheticEvent=dwe;Qr.isThenable=lwe;Qr.isVueViewModel=cwe});var pb=O(Td=>{Object.defineProperty(Td,"__esModule",{value:!0});var qx=qi();function pwe(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function gwe(t,e){let r=t,i=r.length;if(i<=150)return r;e>i&&(e=i);let o=Math.max(e-60,0);o<5&&(o=0);let s=Math.min(o+140,i);return s>i-5&&(s=i),s===i&&(o=Math.max(s-140,0)),r=r.slice(o,s),o>0&&(r=`'{snip} ${r}`),s<i&&(r+=" {snip}"),r}function mwe(t,e){if(!Array.isArray(t))return"";let r=[];for(let i=0;i<t.length;i++){let o=t[i];try{qx.isVueViewModel(o)?r.push("[VueViewModel]"):r.push(String(o))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function X$(t,e,r=!1){return qx.isString(t)?qx.isRegExp(e)?e.test(t):qx.isString(e)?r?t===e:t.includes(e):!1:!1}function bwe(t,e=[],r=!1){return e.some(i=>X$(t,i,r))}Td.isMatchingPattern=X$;Td.safeJoin=mwe;Td.snipLine=gwe;Td.stringMatchesSomePattern=bwe;Td.truncate=pwe});var Q$=O($_=>{Object.defineProperty($_,"__esModule",{value:!0});var J_=qi(),fwe=pb();function ywe(t,e,r=250,i,o,s,l){if(!s.exception||!s.exception.values||!l||!J_.isInstanceOf(l.originalException,Error))return;let u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;u&&(s.exception.values=Iwe(Q_(t,e,o,l.originalException,i,s.exception.values,u,0),r))}function Q_(t,e,r,i,o,s,l,u){if(s.length>=r+1)return s;let c=[...s];if(J_.isInstanceOf(i[o],Error)){z$(l,u);let g=t(e,i[o]),p=c.length;J$(g,o,p,u),c=Q_(t,e,r,i[o],o,[g,...c],g,p)}return Array.isArray(i.errors)&&i.errors.forEach((g,p)=>{if(J_.isInstanceOf(g,Error)){z$(l,u);let f=t(e,g),I=c.length;J$(f,`errors[${p}]`,I,u),c=Q_(t,e,r,g,o,[f,...c],f,I)}}),c}function z$(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function J$(t,e,r,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:r,parent_id:i}}function Iwe(t,e){return t.map(r=>(r.value&&(r.value=fwe.truncate(r.value,e)),r))}$_.applyAggregateErrorsToEvent=ywe});var Cn=O(gb=>{Object.defineProperty(gb,"__esModule",{value:!0});function Yx(t){return t&&t.Math==Math?t:void 0}var eT=typeof globalThis=="object"&&Yx(globalThis)||typeof window=="object"&&Yx(window)||typeof self=="object"&&Yx(self)||typeof global=="object"&&Yx(global)||function(){return this}()||{};function hwe(){return eT}function xwe(t,e,r){let i=r||eT,o=i.__SENTRY__=i.__SENTRY__||{};return o[t]||(o[t]=e())}gb.GLOBAL_OBJ=eT;gb.getGlobalObject=hwe;gb.getGlobalSingleton=xwe});var tT=O(Vc=>{Object.defineProperty(Vc,"__esModule",{value:!0});var Cwe=qi(),Awe=Cn(),Lc=Awe.getGlobalObject(),vwe=80;function Swe(t,e={}){if(!t)return"<unknown>";try{let r=t,i=5,o=[],s=0,l=0,u=" > ",c=u.length,g,p=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||vwe;for(;r&&s++<i&&(g=Owe(r,p),!(g==="html"||s>1&&l+o.length*c+g.length>=f));)o.push(g),l+=g.length,r=r.parentNode;return o.reverse().join(u)}catch{return"<unknown>"}}function Owe(t,e){let r=t,i=[],o,s,l,u,c;if(!r||!r.tagName)return"";if(Lc.HTMLElement&&r instanceof HTMLElement&&r.dataset&&r.dataset.sentryComponent)return r.dataset.sentryComponent;i.push(r.tagName.toLowerCase());let g=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(g&&g.length)g.forEach(f=>{i.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&i.push(`#${r.id}`),o=r.className,o&&Cwe.isString(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)i.push(`.${s[c]}`);let p=["aria-label","type","name","title","alt"];for(c=0;c<p.length;c++)l=p[c],u=r.getAttribute(l),u&&i.push(`[${l}="${u}"]`);return i.join("")}function Fwe(){try{return Lc.document.location.href}catch{return""}}function Dwe(t){return Lc.document&&Lc.document.querySelector?Lc.document.querySelector(t):null}function Rwe(t){if(!Lc.HTMLElement)return null;let e=t,r=5;for(let i=0;i<r;i++){if(!e)return null;if(e instanceof HTMLElement&&e.dataset.sentryComponent)return e.dataset.sentryComponent;e=e.parentNode}return null}Vc.getComponentName=Rwe;Vc.getDomElement=Dwe;Vc.getLocationHref=Fwe;Vc.htmlTreeAsString=Swe});var Ys=O(rT=>{Object.defineProperty(rT,"__esModule",{value:!0});var jwe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;rT.DEBUG_BUILD=jwe});var Is=O(Bc=>{Object.defineProperty(Bc,"__esModule",{value:!0});var Pwe=Ys(),nT=Cn(),_we="Sentry Logger ",iT=["debug","info","warn","error","log","assert","trace"],sT={};function $$(t){if(!("console"in nT.GLOBAL_OBJ))return t();let e=nT.GLOBAL_OBJ.console,r={},i=Object.keys(sT);i.forEach(o=>{let s=sT[o];r[o]=e[o],e[o]=s});try{return t()}finally{i.forEach(o=>{e[o]=r[o]})}}function Twe(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return Pwe.DEBUG_BUILD?iT.forEach(r=>{e[r]=(...i)=>{t&&$$(()=>{nT.GLOBAL_OBJ.console[r](`${_we}[${r}]:`,...i)})}}):iT.forEach(r=>{e[r]=()=>{}}),e}var kwe=Twe();Bc.CONSOLE_LEVELS=iT;Bc.consoleSandbox=$$;Bc.logger=kwe;Bc.originalConsoleMethods=sT});var oT=O(bb=>{Object.defineProperty(bb,"__esModule",{value:!0});var wwe=Ys(),mb=Is(),Ewe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Uwe(t){return t==="http"||t==="https"}function Mwe(t,e=!1){let{host:r,path:i,pass:o,port:s,projectId:l,protocol:u,publicKey:c}=t;return`${u}://${c}${e&&o?`:${o}`:""}@${r}${s?`:${s}`:""}/${i&&`${i}/`}${l}`}function eee(t){let e=Ewe.exec(t);if(!e){mb.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}let[r,i,o="",s,l="",u]=e.slice(1),c="",g=u,p=g.split("/");if(p.length>1&&(c=p.slice(0,-1).join("/"),g=p.pop()),g){let f=g.match(/^\d+/);f&&(g=f[0])}return tee({host:s,pass:o,path:c,projectId:g,port:l,protocol:r,publicKey:i})}function tee(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Lwe(t){if(!wwe.DEBUG_BUILD)return!0;let{port:e,projectId:r,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(l=>t[l]?!1:(mb.logger.error(`Invalid Sentry Dsn: ${l} missing`),!0))?!1:r.match(/^\d+$/)?Uwe(i)?e&&isNaN(parseInt(e,10))?(mb.logger.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(mb.logger.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(mb.logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function Vwe(t){let e=typeof t=="string"?eee(t):tee(t);if(!(!e||!Lwe(e)))return e}bb.dsnFromString=eee;bb.dsnToString=Mwe;bb.makeDsn=Vwe});var dT=O(lT=>{Object.defineProperty(lT,"__esModule",{value:!0});var aT=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};lT.SentryError=aT});var Yi=O(hs=>{Object.defineProperty(hs,"__esModule",{value:!0});var Bwe=tT(),Nwe=Ys(),Nc=qi(),Wwe=Is(),ree=pb();function Gwe(t,e,r){if(!(e in t))return;let i=t[e],o=r(i);typeof o=="function"&&oee(o,i),t[e]=o}function see(t,e,r){try{Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}catch{Nwe.DEBUG_BUILD&&Wwe.logger.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function oee(t,e){try{let r=e.prototype||{};t.prototype=e.prototype=r,see(t,"__sentry_original__",e)}catch{}}function Zwe(t){return t.__sentry_original__}function Hwe(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function aee(t){if(Nc.isError(t))return{message:t.message,name:t.name,stack:t.stack,...iee(t)};if(Nc.isEvent(t)){let e={type:t.type,target:nee(t.target),currentTarget:nee(t.currentTarget),...iee(t)};return typeof CustomEvent<"u"&&Nc.isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function nee(t){try{return Nc.isElement(t)?Bwe.htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function iee(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function Kwe(t,e=40){let r=Object.keys(aee(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return ree.truncate(r[0],e);for(let i=r.length;i>0;i--){let o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length?o:ree.truncate(o,e)}return""}function qwe(t){return uT(t,new Map)}function uT(t,e){if(Ywe(t)){let r=e.get(t);if(r!==void 0)return r;let i={};e.set(t,i);for(let o of Object.keys(t))typeof t[o]<"u"&&(i[o]=uT(t[o],e));return i}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let i=[];return e.set(t,i),t.forEach(o=>{i.push(uT(o,e))}),i}return t}function Ywe(t){if(!Nc.isPlainObject(t))return!1;try{let e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}function Xwe(t){let e;switch(!0){case t==null:e=new String(t);break;case(typeof t=="symbol"||typeof t=="bigint"):e=Object(t);break;case Nc.isPrimitive(t):e=new t.constructor(t);break;default:e=t;break}return e}hs.addNonEnumerableProperty=see;hs.convertToPlainObject=aee;hs.dropUndefinedKeys=qwe;hs.extractExceptionKeysForMessage=Kwe;hs.fill=Gwe;hs.getOriginalFunction=Zwe;hs.markFunctionWrapped=oee;hs.objectify=Xwe;hs.urlEncode=Hwe});var zx=O(Xx=>{Object.defineProperty(Xx,"__esModule",{value:!0});function lee(t,e=!1){return!(e||t&&!t.startsWith("/")&&!t.match(/^[A-Z]:/)&&!t.startsWith(".")&&!t.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&t!==void 0&&!t.includes("node_modules/")}function zwe(t){let e=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return i=>{let o=i.match(r);if(o){let s,l,u,c,g;if(o[1]){u=o[1];let I=u.lastIndexOf(".");if(u[I-1]==="."&&I--,I>0){s=u.slice(0,I),l=u.slice(I+1);let v=s.indexOf(".Module");v>0&&(u=u.slice(v+1),s=s.slice(0,v))}c=void 0}l&&(c=s,g=l),l==="<anonymous>"&&(g=void 0,u=void 0),u===void 0&&(g=g||"<anonymous>",u=c?`${c}.${g}`:g);let p=o[2]&&o[2].startsWith("file://")?o[2].slice(7):o[2],f=o[5]==="native";return p&&p.match(/\/[A-Z]:/)&&(p=p.slice(1)),!p&&o[5]&&!f&&(p=o[5]),{filename:p,module:t?t(p):void 0,function:u,lineno:parseInt(o[3],10)||void 0,colno:parseInt(o[4],10)||void 0,in_app:lee(p,f)}}if(i.match(e))return{filename:i}}}Xx.filenameIsInApp=lee;Xx.node=zwe});var Jx=O(bl=>{Object.defineProperty(bl,"__esModule",{value:!0});var cee=zx(),pee=50,dee=/\(error: (.*)\)/,uee=/captureMessage|captureException/;function gee(...t){let e=t.sort((r,i)=>r[0]-i[0]).map(r=>r[1]);return(r,i=0)=>{let o=[],s=r.split(`
`);for(let l=i;l<s.length;l++){let u=s[l];if(u.length>1024)continue;let c=dee.test(u)?u.replace(dee,"$1"):u;if(!c.match(/\S*Error: /)){for(let g of e){let p=g(c);if(p){o.push(p);break}}if(o.length>=pee)break}}return mee(o)}}function Jwe(t){return Array.isArray(t)?gee(...t):t}function mee(t){if(!t.length)return[];let e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),uee.test(e[e.length-1].function||"")&&(e.pop(),uee.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,pee).map(r=>({...r,filename:r.filename||e[e.length-1].filename,function:r.function||"?"}))}var cT="<anonymous>";function Qwe(t){try{return!t||typeof t!="function"?cT:t.name||cT}catch{return cT}}function $we(t){return[90,cee.node(t)]}bl.filenameIsInApp=cee.filenameIsInApp;bl.createStackParser=gee;bl.getFunctionName=Qwe;bl.nodeStackLineParser=$we;bl.stackParserFromStackParserOptions=Jwe;bl.stripSentryFramesAndReverse=mee});var ta=O(Gc=>{Object.defineProperty(Gc,"__esModule",{value:!0});var eEe=Ys(),tEe=Is(),rEe=Jx(),Wc={},bee={};function nEe(t,e){Wc[t]=Wc[t]||[],Wc[t].push(e)}function iEe(){Object.keys(Wc).forEach(t=>{Wc[t]=void 0})}function sEe(t,e){bee[t]||(e(),bee[t]=!0)}function oEe(t,e){let r=t&&Wc[t];if(r)for(let i of r)try{i(e)}catch(o){eEe.DEBUG_BUILD&&tEe.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${rEe.getFunctionName(i)}
Error:`,o)}}Gc.addHandler=nEe;Gc.maybeInstrument=sEe;Gc.resetInstrumentationHandlers=iEe;Gc.triggerHandlers=oEe});var bT=O(mT=>{Object.defineProperty(mT,"__esModule",{value:!0});var pT=Is(),aEe=Yi(),Qx=Cn(),gT=ta();function lEe(t){let e="console";gT.addHandler(e,t),gT.maybeInstrument(e,dEe)}function dEe(){"console"in Qx.GLOBAL_OBJ&&pT.CONSOLE_LEVELS.forEach(function(t){t in Qx.GLOBAL_OBJ.console&&aEe.fill(Qx.GLOBAL_OBJ.console,t,function(e){return pT.originalConsoleMethods[t]=e,function(...r){let i={args:r,level:t};gT.triggerHandlers("console",i);let o=pT.originalConsoleMethods[t];o&&o.apply(Qx.GLOBAL_OBJ.console,r)}})})}mT.addConsoleInstrumentationHandler=lEe});var fb=O(Xs=>{Object.defineProperty(Xs,"__esModule",{value:!0});var uEe=Yi(),fT=pb(),cEe=Cn();function pEe(){let t=cEe.GLOBAL_OBJ,e=t.crypto||t.msCrypto,r=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(r=()=>{let i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(r()&15)>>i/4).toString(16))}function fee(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function gEe(t){let{message:e,event_id:r}=t;if(e)return e;let i=fee(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function mEe(t,e,r){let i=t.exception=t.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{};s.value||(s.value=e||""),s.type||(s.type=r||"Error")}function bEe(t,e){let r=fee(t);if(!r)return;let i={type:"generic",handled:!0},o=r.mechanism;if(r.mechanism={...i,...o,...e},e&&"data"in e){let s={...o&&o.data,...e.data};r.mechanism.data=s}}var fEe=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function yEe(t){let e=t.match(fEe)||[],r=parseInt(e[1],10),i=parseInt(e[2],10),o=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(i)?void 0:i,patch:isNaN(o)?void 0:o,prerelease:e[4]}}function IEe(t,e,r=5){if(e.lineno===void 0)return;let i=t.length,o=Math.max(Math.min(i-1,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,o-r),o).map(s=>fT.snipLine(s,0)),e.context_line=fT.snipLine(t[Math.min(i-1,o)],e.colno||0),e.post_context=t.slice(Math.min(o+1,i),o+1+r).map(s=>fT.snipLine(s,0))}function hEe(t){if(t&&t.__sentry_captured__)return!0;try{uEe.addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function xEe(t){return Array.isArray(t)?t:[t]}Xs.addContextToFrame=IEe;Xs.addExceptionMechanism=bEe;Xs.addExceptionTypeValue=mEe;Xs.arrayify=xEe;Xs.checkOrSetAlreadyCaught=hEe;Xs.getEventDescription=gEe;Xs.parseSemver=yEe;Xs.uuid4=pEe});var xT=O(eC=>{Object.defineProperty(eC,"__esModule",{value:!0});var CEe=fb(),$x=Yi(),AEe=Cn(),yT=ta(),Zc=AEe.GLOBAL_OBJ,vEe=1e3,yee,IT,hT;function SEe(t){let e="dom";yT.addHandler(e,t),yT.maybeInstrument(e,hee)}function hee(){if(!Zc.document)return;let t=yT.triggerHandlers.bind(null,"dom"),e=Iee(t,!0);Zc.document.addEventListener("click",e,!1),Zc.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=Zc[r]&&Zc[r].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||($x.fill(i,"addEventListener",function(o){return function(s,l,u){if(s==="click"||s=="keypress")try{let c=this,g=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},p=g[s]=g[s]||{refCount:0};if(!p.handler){let f=Iee(t);p.handler=f,o.call(this,s,f,u)}p.refCount++}catch{}return o.call(this,s,l,u)}}),$x.fill(i,"removeEventListener",function(o){return function(s,l,u){if(s==="click"||s=="keypress")try{let c=this,g=c.__sentry_instrumentation_handlers__||{},p=g[s];p&&(p.refCount--,p.refCount<=0&&(o.call(this,s,p.handler,u),p.handler=void 0,delete g[s]),Object.keys(g).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return o.call(this,s,l,u)}}))})}function OEe(t){if(t.type!==IT)return!1;try{if(!t.target||t.target._sentryId!==hT)return!1}catch{}return!0}function FEe(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}function Iee(t,e=!1){return r=>{if(!r||r._sentryCaptured)return;let i=DEe(r);if(FEe(r.type,i))return;$x.addNonEnumerableProperty(r,"_sentryCaptured",!0),i&&!i._sentryId&&$x.addNonEnumerableProperty(i,"_sentryId",CEe.uuid4());let o=r.type==="keypress"?"input":r.type;OEe(r)||(t({event:r,name:o,global:e}),IT=r.type,hT=i?i._sentryId:void 0),clearTimeout(yee),yee=Zc.setTimeout(()=>{hT=void 0,IT=void 0},vEe)}}function DEe(t){try{return t.target}catch{return null}}eC.addClickKeypressInstrumentationHandler=SEe;eC.instrumentDOM=hee});var vT=O(zs=>{Object.defineProperty(zs,"__esModule",{value:!0});var REe=Ys(),jEe=Is(),PEe=Cn(),tC=PEe.getGlobalObject();function _Ee(){try{return new ErrorEvent(""),!0}catch{return!1}}function TEe(){try{return new DOMError(""),!0}catch{return!1}}function kEe(){try{return new DOMException(""),!0}catch{return!1}}function AT(){if(!("fetch"in tC))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function CT(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function wEe(){if(typeof EdgeRuntime=="string")return!0;if(!AT())return!1;if(CT(tC.fetch))return!0;let t=!1,e=tC.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=CT(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){REe.DEBUG_BUILD&&jEe.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function EEe(){return"ReportingObserver"in tC}function UEe(){if(!AT())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}zs.isNativeFetch=CT;zs.supportsDOMError=TEe;zs.supportsDOMException=kEe;zs.supportsErrorEvent=_Ee;zs.supportsFetch=AT;zs.supportsNativeFetch=wEe;zs.supportsReferrerPolicy=UEe;zs.supportsReportingObserver=EEe});var OT=O(rC=>{Object.defineProperty(rC,"__esModule",{value:!0});var MEe=Yi(),LEe=vT(),xee=Cn(),yb=ta();function VEe(t){let e="fetch";yb.addHandler(e,t),yb.maybeInstrument(e,BEe)}function BEe(){LEe.supportsNativeFetch()&&MEe.fill(xee.GLOBAL_OBJ,"fetch",function(t){return function(...e){let{method:r,url:i}=Aee(e),o={args:e,fetchData:{method:r,url:i},startTimestamp:Date.now()};return yb.triggerHandlers("fetch",{...o}),t.apply(xee.GLOBAL_OBJ,e).then(s=>{let l={...o,endTimestamp:Date.now(),response:s};return yb.triggerHandlers("fetch",l),s},s=>{let l={...o,endTimestamp:Date.now(),error:s};throw yb.triggerHandlers("fetch",l),s})}})}function ST(t,e){return!!t&&typeof t=="object"&&!!t[e]}function Cee(t){return typeof t=="string"?t:t?ST(t,"url")?t.url:t.toString?t.toString():"":""}function Aee(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,i]=t;return{url:Cee(r),method:ST(i,"method")?String(i.method).toUpperCase():"GET"}}let e=t[0];return{url:Cee(e),method:ST(e,"method")?String(e.method).toUpperCase():"GET"}}rC.addFetchInstrumentationHandler=VEe;rC.parseFetchArgs=Aee});var jT=O(RT=>{Object.defineProperty(RT,"__esModule",{value:!0});var FT=Cn(),DT=ta(),nC=null;function NEe(t){let e="error";DT.addHandler(e,t),DT.maybeInstrument(e,WEe)}function WEe(){nC=FT.GLOBAL_OBJ.onerror,FT.GLOBAL_OBJ.onerror=function(t,e,r,i,o){let s={column:i,error:o,line:r,msg:t,url:e};return DT.triggerHandlers("error",s),nC&&!nC.__SENTRY_LOADER__?nC.apply(this,arguments):!1},FT.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}RT.addGlobalErrorInstrumentationHandler=NEe});var kT=O(TT=>{Object.defineProperty(TT,"__esModule",{value:!0});var PT=Cn(),_T=ta(),iC=null;function GEe(t){let e="unhandledrejection";_T.addHandler(e,t),_T.maybeInstrument(e,ZEe)}function ZEe(){iC=PT.GLOBAL_OBJ.onunhandledrejection,PT.GLOBAL_OBJ.onunhandledrejection=function(t){let e=t;return _T.triggerHandlers("unhandledrejection",e),iC&&!iC.__SENTRY_LOADER__?iC.apply(this,arguments):!0},PT.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}TT.addGlobalUnhandledRejectionInstrumentationHandler=GEe});var ET=O(wT=>{Object.defineProperty(wT,"__esModule",{value:!0});var HEe=Cn(),sC=HEe.getGlobalObject();function KEe(){let t=sC.chrome,e=t&&t.app&&t.app.runtime,r="history"in sC&&!!sC.history.pushState&&!!sC.history.replaceState;return!e&&r}wT.supportsHistory=KEe});var MT=O(UT=>{Object.defineProperty(UT,"__esModule",{value:!0});var vee=Yi();Ys();Is();var qEe=Cn(),YEe=ET(),aC=ta(),Ib=qEe.GLOBAL_OBJ,oC;function XEe(t){let e="history";aC.addHandler(e,t),aC.maybeInstrument(e,zEe)}function zEe(){if(!YEe.supportsHistory())return;let t=Ib.onpopstate;Ib.onpopstate=function(...r){let i=Ib.location.href,o=oC;oC=i;let s={from:o,to:i};if(aC.triggerHandlers("history",s),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...i){let o=i.length>2?i[2]:void 0;if(o){let s=oC,l=String(o);oC=l;let u={from:s,to:l};aC.triggerHandlers("history",u)}return r.apply(this,i)}}vee.fill(Ib.history,"pushState",e),vee.fill(Ib.history,"replaceState",e)}UT.addHistoryInstrumentationHandler=XEe});var LT=O(xb=>{Object.defineProperty(xb,"__esModule",{value:!0});var dC=qi(),lC=Yi(),JEe=Cn(),uC=ta(),QEe=JEe.GLOBAL_OBJ,hb="__sentry_xhr_v3__";function $Ee(t){let e="xhr";uC.addHandler(e,t),uC.maybeInstrument(e,See)}function See(){if(!QEe.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;lC.fill(t,"open",function(e){return function(...r){let i=Date.now(),o=dC.isString(r[0])?r[0].toUpperCase():void 0,s=eUe(r[1]);if(!o||!s)return e.apply(this,r);this[hb]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let l=()=>{let u=this[hb];if(u&&this.readyState===4){try{u.status_code=this.status}catch{}let c={args:[o,s],endTimestamp:Date.now(),startTimestamp:i,xhr:this};uC.triggerHandlers("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?lC.fill(this,"onreadystatechange",function(u){return function(...c){return l(),u.apply(this,c)}}):this.addEventListener("readystatechange",l),lC.fill(this,"setRequestHeader",function(u){return function(...c){let[g,p]=c,f=this[hb];return f&&dC.isString(g)&&dC.isString(p)&&(f.request_headers[g.toLowerCase()]=p),u.apply(this,c)}}),e.apply(this,r)}}),lC.fill(t,"send",function(e){return function(...r){let i=this[hb];if(!i)return e.apply(this,r);r[0]!==void 0&&(i.body=r[0]);let o={args:[i.method,i.url],startTimestamp:Date.now(),xhr:this};return uC.triggerHandlers("xhr",o),e.apply(this,r)}})}function eUe(t){if(dC.isString(t))return t;try{return t.toString()}catch{}}xb.SENTRY_XHR_DATA_KEY=hb;xb.addXhrInstrumentationHandler=$Ee;xb.instrumentXHR=See});var _ee=O(xs=>{Object.defineProperty(xs,"__esModule",{value:!0});var tUe=Ys(),rUe=Is(),Oee=bT(),Fee=xT(),Dee=OT(),Ree=jT(),jee=kT(),Pee=MT(),VT=LT();function nUe(t,e){switch(t){case"console":return Oee.addConsoleInstrumentationHandler(e);case"dom":return Fee.addClickKeypressInstrumentationHandler(e);case"xhr":return VT.addXhrInstrumentationHandler(e);case"fetch":return Dee.addFetchInstrumentationHandler(e);case"history":return Pee.addHistoryInstrumentationHandler(e);case"error":return Ree.addGlobalErrorInstrumentationHandler(e);case"unhandledrejection":return jee.addGlobalUnhandledRejectionInstrumentationHandler(e);default:tUe.DEBUG_BUILD&&rUe.logger.warn("unknown instrumentation type:",t)}}xs.addConsoleInstrumentationHandler=Oee.addConsoleInstrumentationHandler;xs.addClickKeypressInstrumentationHandler=Fee.addClickKeypressInstrumentationHandler;xs.addFetchInstrumentationHandler=Dee.addFetchInstrumentationHandler;xs.addGlobalErrorInstrumentationHandler=Ree.addGlobalErrorInstrumentationHandler;xs.addGlobalUnhandledRejectionInstrumentationHandler=jee.addGlobalUnhandledRejectionInstrumentationHandler;xs.addHistoryInstrumentationHandler=Pee.addHistoryInstrumentationHandler;xs.SENTRY_XHR_DATA_KEY=VT.SENTRY_XHR_DATA_KEY;xs.addXhrInstrumentationHandler=VT.addXhrInstrumentationHandler;xs.addInstrumentationHandler=nUe});var BT=O(cC=>{Object.defineProperty(cC,"__esModule",{value:!0});function iUe(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function sUe(){return"npm"}cC.getSDKSource=sUe;cC.isBrowserBundle=iUe});var NT=O((Cb,gC)=>{Object.defineProperty(Cb,"__esModule",{value:!0});var oUe=BT();function aUe(){return!oUe.isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function pC(t,e){return t.require(e)}function lUe(t){let e;try{e=pC(gC,t)}catch{}try{let{cwd:r}=pC(gC,"process");e=pC(gC,`${r()}/node_modules/${t}`)}catch{}return e}Cb.dynamicRequire=pC;Cb.isNodeEnv=aUe;Cb.loadModule=lUe});var kee=O(WT=>{Object.defineProperty(WT,"__esModule",{value:!0});var dUe=NT(),Tee=Cn();function uUe(){return typeof window<"u"&&(!dUe.isNodeEnv()||cUe())}function cUe(){return Tee.GLOBAL_OBJ.process!==void 0&&Tee.GLOBAL_OBJ.process.type==="renderer"}WT.isBrowser=uUe});var ZT=O(GT=>{Object.defineProperty(GT,"__esModule",{value:!0});function pUe(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(o){if(t)return e.has(o)?!0:(e.add(o),!1);for(let s=0;s<e.length;s++)if(e[s]===o)return!0;return e.push(o),!1}function i(o){if(t)e.delete(o);else for(let s=0;s<e.length;s++)if(e[s]===o){e.splice(s,1);break}}return[r,i]}GT.memoBuilder=pUe});var Ab=O(Hc=>{Object.defineProperty(Hc,"__esModule",{value:!0});var HT=qi(),gUe=ZT(),mUe=Yi(),bUe=Jx();function wee(t,e=100,r=1/0){try{return mC("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Eee(t,e=3,r=100*1024){let i=wee(t,e);return hUe(i)>r?Eee(t,e-1,r):i}function mC(t,e,r=1/0,i=1/0,o=gUe.memoBuilder()){let[s,l]=o;if(e==null||["number","boolean","string"].includes(typeof e)&&!HT.isNaN(e))return e;let u=fUe(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;let c=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(c===0)return u.replace("object ","");if(s(e))return"[Circular ~]";let g=e;if(g&&typeof g.toJSON=="function")try{let v=g.toJSON();return mC("",v,c-1,i,o)}catch{}let p=Array.isArray(e)?[]:{},f=0,I=mUe.convertToPlainObject(e);for(let v in I){if(!Object.prototype.hasOwnProperty.call(I,v))continue;if(f>=i){p[v]="[MaxProperties ~]";break}let C=I[v];p[v]=mC(v,C,c-1,i,o),f++}return l(e),p}function fUe(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(HT.isVueViewModel(e))return"[VueViewModel]";if(HT.isSyntheticEvent(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${bUe.getFunctionName(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=yUe(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function yUe(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function IUe(t){return~-encodeURI(t).split(/%..|./).length}function hUe(t){return IUe(JSON.stringify(t))}function xUe(t,e){let r=e.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"),i=t;try{i=decodeURI(t)}catch{}return i.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${r}/*`,"ig"),"app:///")}Hc.normalize=wee;Hc.normalizeToSize=Eee;Hc.normalizeUrlToBase=xUe;Hc.walk=mC});var Nee=O(ra=>{Object.defineProperty(ra,"__esModule",{value:!0});function Mee(t,e){let r=0;for(let i=t.length-1;i>=0;i--){let o=t[i];o==="."?t.splice(i,1):o===".."?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var CUe=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Lee(t){let e=t.length>1024?`<truncated>${t.slice(-1024)}`:t,r=CUe.exec(e);return r?r.slice(1):[]}function KT(...t){let e="",r=!1;for(let i=t.length-1;i>=-1&&!r;i--){let o=i>=0?t[i]:"/";o&&(e=`${o}/${e}`,r=o.charAt(0)==="/")}return e=Mee(e.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+e||"."}function Uee(t){let e=0;for(;e<t.length&&t[e]==="";e++);let r=t.length-1;for(;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}function AUe(t,e){t=KT(t).slice(1),e=KT(e).slice(1);let r=Uee(t.split("/")),i=Uee(e.split("/")),o=Math.min(r.length,i.length),s=o;for(let u=0;u<o;u++)if(r[u]!==i[u]){s=u;break}let l=[];for(let u=s;u<r.length;u++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")}function Vee(t){let e=Bee(t),r=t.slice(-1)==="/",i=Mee(t.split("/").filter(o=>!!o),!e).join("/");return!i&&!e&&(i="."),i&&r&&(i+="/"),(e?"/":"")+i}function Bee(t){return t.charAt(0)==="/"}function vUe(...t){return Vee(t.join("/"))}function SUe(t){let e=Lee(t),r=e[0],i=e[1];return!r&&!i?".":(i&&(i=i.slice(0,i.length-1)),r+i)}function OUe(t,e){let r=Lee(t)[2];return e&&r.slice(e.length*-1)===e&&(r=r.slice(0,r.length-e.length)),r}ra.basename=OUe;ra.dirname=SUe;ra.isAbsolute=Bee;ra.join=vUe;ra.normalizePath=Vee;ra.relative=AUe;ra.resolve=KT});var qT=O(vb=>{Object.defineProperty(vb,"__esModule",{value:!0});var FUe=qi(),na;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let i=2;t[t.REJECTED=i]="REJECTED"})(na||(na={}));function DUe(t){return new Xi(e=>{e(t)})}function RUe(t){return new Xi((e,r)=>{r(t)})}var Xi=class{constructor(e){Xi.prototype.__init.call(this),Xi.prototype.__init2.call(this),Xi.prototype.__init3.call(this),Xi.prototype.__init4.call(this),this._state=na.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new Xi((i,o)=>{this._handlers.push([!1,s=>{if(!e)i(s);else try{i(e(s))}catch(l){o(l)}},s=>{if(!r)o(s);else try{i(r(s))}catch(l){o(l)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new Xi((r,i)=>{let o,s;return this.then(l=>{s=!1,o=l,e&&e()},l=>{s=!0,o=l,e&&e()}).then(()=>{if(s){i(o);return}r(o)})})}__init(){this._resolve=e=>{this._setResult(na.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(na.REJECTED,e)}}__init3(){this._setResult=(e,r)=>{if(this._state===na.PENDING){if(FUe.isThenable(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===na.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===na.RESOLVED&&r[1](this._value),this._state===na.REJECTED&&r[2](this._value),r[0]=!0)})}}};vb.SyncPromise=Xi;vb.rejectedSyncPromise=RUe;vb.resolvedSyncPromise=DUe});var Wee=O(XT=>{Object.defineProperty(XT,"__esModule",{value:!0});var jUe=dT(),YT=qT();function PUe(t){let e=[];function r(){return t===void 0||e.length<t}function i(l){return e.splice(e.indexOf(l),1)[0]}function o(l){if(!r())return YT.rejectedSyncPromise(new jUe.SentryError("Not adding Promise because buffer limit was reached."));let u=l();return e.indexOf(u)===-1&&e.push(u),u.then(()=>i(u)).then(null,()=>i(u).then(null,()=>{})),u}function s(l){return new YT.SyncPromise((u,c)=>{let g=e.length;if(!g)return u(!0);let p=setTimeout(()=>{l&&l>0&&u(!1)},l);e.forEach(f=>{YT.resolvedSyncPromise(f).then(()=>{--g||(clearTimeout(p),u(!0))},c)})})}return{$:e,add:o,drain:s}}XT.makePromiseBuffer=PUe});var Gee=O(zT=>{Object.defineProperty(zT,"__esModule",{value:!0});function _Ue(t){let e={},r=0;for(;r<t.length;){let i=t.indexOf("=",r);if(i===-1)break;let o=t.indexOf(";",r);if(o===-1)o=t.length;else if(o<i){r=t.lastIndexOf(";",i-1)+1;continue}let s=t.slice(r,i).trim();if(e[s]===void 0){let l=t.slice(i+1,o).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1));try{e[s]=l.indexOf("%")!==-1?decodeURIComponent(l):l}catch{e[s]=l}}r=o+1}return e}zT.parseCookie=_Ue});var JT=O(Kc=>{Object.defineProperty(Kc,"__esModule",{value:!0});function TUe(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function kUe(t){return t.split(/[\?#]/,1)[0]}function wUe(t){return t.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function EUe(t){let{protocol:e,host:r,path:i}=t,o=r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${e?`${e}://`:""}${o}${i}`}Kc.getNumberOfUrlSegments=wUe;Kc.getSanitizedUrlString=EUe;Kc.parseUrl=TUe;Kc.stripUrlQueryAndFragment=kUe});var Yee=O(ia=>{Object.defineProperty(ia,"__esModule",{value:!0});var UUe=Gee(),MUe=Ys(),Zee=qi(),LUe=Is(),VUe=Ab(),BUe=JT(),NUe={ip:!1,request:!0,transaction:!0,user:!0},WUe=["cookies","data","headers","method","query_string","url"],Hee=["id","username","email"];function GUe(t,e,r){if(t){if(!t.metadata.source||t.metadata.source==="url"){let[i,o]=bC(e,{path:!0,method:!0});t.updateName(i),t.setMetadata({source:o})}t.setAttribute("url",e.originalUrl||e.url),e.baseUrl&&t.setAttribute("baseUrl",e.baseUrl),t.setData("query",Kee(e,r))}}function bC(t,e={}){let r=t.method&&t.method.toUpperCase(),i="",o="url";e.customRoute||t.route?(i=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,o="route"):(t.originalUrl||t.url)&&(i=BUe.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let s="";return e.method&&r&&(s+=r),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),[s,o]}function ZUe(t,e){switch(e){case"path":return bC(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:{let r=t._reconstructedRoute?t._reconstructedRoute:void 0;return bC(t,{path:!0,method:!0,customRoute:r})[0]}}}function HUe(t,e){let r={};return(Array.isArray(e)?e:Hee).forEach(o=>{t&&o in t&&(r[o]=t[o])}),r}function QT(t,e){let{include:r=WUe,deps:i}=e||{},o={},s=t.headers||{},l=t.method,u=s.host||t.hostname||t.host||"<no host>",c=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",g=t.originalUrl||t.url||"",p=g.startsWith(c)?g:`${c}://${u}${g}`;return r.forEach(f=>{switch(f){case"headers":{o.headers=s,r.includes("cookies")||delete o.headers.cookie;break}case"method":{o.method=l;break}case"url":{o.url=p;break}case"cookies":{o.cookies=t.cookies||s.cookie&&UUe.parseCookie(s.cookie)||{};break}case"query_string":{o.query_string=Kee(t,i);break}case"data":{if(l==="GET"||l==="HEAD")break;t.body!==void 0&&(o.data=Zee.isString(t.body)?t.body:JSON.stringify(VUe.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,f)&&(o[f]=t[f])}}),o}function KUe(t,e,r){let i={...NUe,...r&&r.include};if(i.request){let o=Array.isArray(i.request)?QT(e,{include:i.request,deps:r&&r.deps}):QT(e,{deps:r&&r.deps});t.request={...t.request,...o}}if(i.user){let o=e.user&&Zee.isPlainObject(e.user)?HUe(e.user,i.user):{};Object.keys(o).length&&(t.user={...t.user,...o})}if(i.ip){let o=e.ip||e.socket&&e.socket.remoteAddress;o&&(t.user={...t.user,ip_address:o})}return i.transaction&&!t.transaction&&(t.transaction=ZUe(e,i.transaction)),t}function Kee(t,e){let r=t.originalUrl||t.url||"";if(r){r.startsWith("/")&&(r=`http://dogs.are.great${r}`);try{return t.query||typeof URL<"u"&&new URL(r).search.slice(1)||e&&e.url&&e.url.parse(r).query||void 0}catch{return}}}function qee(t){let e={};try{t.forEach((r,i)=>{typeof r=="string"&&(e[i]=r)})}catch{MUe.DEBUG_BUILD&&LUe.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return e}function qUe(t){let e=qee(t.headers);return{method:t.method,url:t.url,headers:e}}ia.DEFAULT_USER_INCLUDES=Hee;ia.addRequestDataToEvent=KUe;ia.addRequestDataToTransaction=GUe;ia.extractPathForTransaction=bC;ia.extractRequestData=QT;ia.winterCGHeadersToDict=qee;ia.winterCGRequestToRequestData=qUe});var Jee=O(Sb=>{Object.defineProperty(Sb,"__esModule",{value:!0});var Xee=["fatal","error","warning","log","info","debug"];function YUe(t){return zee(t)}function zee(t){return t==="warn"?"warning":Xee.includes(t)?t:"log"}Sb.severityFromString=YUe;Sb.severityLevelFromString=zee;Sb.validSeverityLevels=Xee});var $T=O(Cs=>{Object.defineProperty(Cs,"__esModule",{value:!0});var Qee=Cn(),$ee=1e3;function ete(){return Date.now()/$ee}function XUe(){let{performance:t}=Qee.GLOBAL_OBJ;if(!t||!t.now)return ete;let e=Date.now()-t.now(),r=t.timeOrigin==null?e:t.timeOrigin;return()=>(r+t.now())/$ee}var tte=XUe(),zUe=tte;Cs._browserPerformanceTimeOriginMode=void 0;var JUe=(()=>{let{performance:t}=Qee.GLOBAL_OBJ;if(!t||!t.now){Cs._browserPerformanceTimeOriginMode="none";return}let e=3600*1e3,r=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+r-i):e,s=o<e,l=t.timing&&t.timing.navigationStart,c=typeof l=="number"?Math.abs(l+r-i):e,g=c<e;return s||g?o<=c?(Cs._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(Cs._browserPerformanceTimeOriginMode="navigationStart",l):(Cs._browserPerformanceTimeOriginMode="dateNow",i)})();Cs.browserPerformanceTimeOrigin=JUe;Cs.dateTimestampInSeconds=ete;Cs.timestampInSeconds=tte;Cs.timestampWithMs=zUe});var tk=O(fl=>{Object.defineProperty(fl,"__esModule",{value:!0});var QUe=Ys(),$Ue=qi(),eMe=Is(),tMe="baggage",ek="sentry-",nte=/^sentry-/,ite=8192;function rMe(t){if(!$Ue.isString(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((i,o)=>{let s=rte(o);for(let l of Object.keys(s))i[l]=s[l];return i},{});else{if(!t)return;e=rte(t)}let r=Object.entries(e).reduce((i,[o,s])=>{if(o.match(nte)){let l=o.slice(ek.length);i[l]=s}return i},{});if(Object.keys(r).length>0)return r}function nMe(t){if(!t)return;let e=Object.entries(t).reduce((r,[i,o])=>(o&&(r[`${ek}${i}`]=o),r),{});return iMe(e)}function rte(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,i])=>(e[r]=i,e),{})}function iMe(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,i],o)=>{let s=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,l=o===0?s:`${e},${s}`;return l.length>ite?(QUe.DEBUG_BUILD&&eMe.logger.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):l},"")}fl.BAGGAGE_HEADER_NAME=tMe;fl.MAX_BAGGAGE_STRING_LENGTH=ite;fl.SENTRY_BAGGAGE_KEY_PREFIX=ek;fl.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=nte;fl.baggageHeaderToDynamicSamplingContext=rMe;fl.dynamicSamplingContextToSentryBaggageHeader=nMe});var ate=O(qc=>{Object.defineProperty(qc,"__esModule",{value:!0});var sMe=tk(),fC=fb(),ste=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ote(t){if(!t)return;let e=t.match(ste);if(!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function oMe(t,e){let r=ote(t),i=sMe.baggageHeaderToDynamicSamplingContext(e),{traceId:o,parentSpanId:s,parentSampled:l}=r||{},u={traceId:o||fC.uuid4(),spanId:fC.uuid4().substring(16),sampled:l};return s&&(u.parentSpanId=s),i&&(u.dsc=i),{traceparentData:r,dynamicSamplingContext:i,propagationContext:u}}function aMe(t=fC.uuid4(),e=fC.uuid4().substring(16),r){let i="";return r!==void 0&&(i=r?"-1":"-0"),`${t}-${e}${i}`}qc.TRACEPARENT_REGEXP=ste;qc.extractTraceparentData=ote;qc.generateSentryTraceHeader=aMe;qc.tracingContextFromHeaders=oMe});var nk=O(zi=>{Object.defineProperty(zi,"__esModule",{value:!0});var lMe=oT(),dMe=Ab(),lte=Yi();function uMe(t,e=[]){return[t,e]}function cMe(t,e){let[r,i]=t;return[r,[...i,e]]}function dte(t,e){let r=t[1];for(let i of r){let o=i[0].type;if(e(i,o))return!0}return!1}function pMe(t,e){return dte(t,(r,i)=>e.includes(i))}function rk(t,e){return(e||new TextEncoder).encode(t)}function gMe(t,e){let[r,i]=t,o=JSON.stringify(r);function s(l){typeof o=="string"?o=typeof l=="string"?o+l:[rk(o,e),l]:o.push(typeof l=="string"?rk(l,e):l)}for(let l of i){let[u,c]=l;if(s(`
${JSON.stringify(u)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let g;try{g=JSON.stringify(c)}catch{g=JSON.stringify(dMe.normalize(c))}s(g)}}return typeof o=="string"?o:mMe(o)}function mMe(t){let e=t.reduce((o,s)=>o+s.length,0),r=new Uint8Array(e),i=0;for(let o of t)r.set(o,i),i+=o.length;return r}function bMe(t,e,r){let i=typeof t=="string"?e.encode(t):t;function o(c){let g=i.subarray(0,c);return i=i.subarray(c+1),g}function s(){let c=i.indexOf(10);return c<0&&(c=i.length),JSON.parse(r.decode(o(c)))}let l=s(),u=[];for(;i.length;){let c=s(),g=typeof c.length=="number"?c.length:void 0;u.push([c,g?o(g):s()])}return[l,u]}function fMe(t,e){let r=typeof t.data=="string"?rk(t.data,e):t.data;return[lte.dropUndefinedKeys({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var yMe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function IMe(t){return yMe[t]}function hMe(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function xMe(t,e,r,i){let o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&i&&{dsn:lMe.dsnToString(i)},...o&&{trace:lte.dropUndefinedKeys({...o})}}}zi.addItemToEnvelope=cMe;zi.createAttachmentEnvelopeItem=fMe;zi.createEnvelope=uMe;zi.createEventEnvelopeHeaders=xMe;zi.envelopeContainsItemType=pMe;zi.envelopeItemTypeToDataCategory=IMe;zi.forEachEnvelopeItem=dte;zi.getSdkMetadataForEnvelopeHeader=hMe;zi.parseEnvelope=bMe;zi.serializeEnvelope=gMe});var ute=O(ik=>{Object.defineProperty(ik,"__esModule",{value:!0});var CMe=nk(),AMe=$T();function vMe(t,e,r){let i=[{type:"client_report"},{timestamp:r||AMe.dateTimestampInSeconds(),discarded_events:t}];return CMe.createEnvelope(e?{dsn:e}:{},[i])}ik.createClientReportEnvelope=vMe});var mte=O(kd=>{Object.defineProperty(kd,"__esModule",{value:!0});var cte=60*1e3;function pte(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let i=Date.parse(`${t}`);return isNaN(i)?cte:i-e}function gte(t,e){return t[e]||t.all||0}function SMe(t,e,r=Date.now()){return gte(t,e)>r}function OMe(t,{statusCode:e,headers:r},i=Date.now()){let o={...t},s=r&&r["x-sentry-rate-limits"],l=r&&r["retry-after"];if(s)for(let u of s.trim().split(",")){let[c,g]=u.split(":",2),p=parseInt(c,10),f=(isNaN(p)?60:p)*1e3;if(!g)o.all=i+f;else for(let I of g.split(";"))o[I]=i+f}else l?o.all=i+pte(l,i):e===429&&(o.all=i+60*1e3);return o}kd.DEFAULT_RETRY_AFTER=cte;kd.disabledUntil=gte;kd.isRateLimited=SMe;kd.parseRetryAfterHeader=pte;kd.updateRateLimits=OMe});var yte=O(sk=>{Object.defineProperty(sk,"__esModule",{value:!0});function bte(t,e,r){let i=e.match(/([a-z_]+)\.(.*)/i);if(i===null)t[e]=r;else{let o=t[i[1]];bte(o,i[2],r)}}function FMe(t,e,r={}){return Array.isArray(e)?fte(t,e,r):DMe(t,e,r)}function fte(t,e,r){let i=e.find(o=>o.name===t.name);if(i){for(let[o,s]of Object.entries(r))bte(i,o,s);return e}return[...e,t]}function DMe(t,e,r){return o=>{let s=e(o);return t.allowExclusionByUser&&!s.find(u=>u.name===t.name)?s:fte(t,s,r)}}sk.addOrUpdateIntegration=FMe});var Ite=O(ok=>{Object.defineProperty(ok,"__esModule",{value:!0});function RMe(t){let e=[],r={};return{add(i,o){for(;e.length>=t;){let s=e.shift();s!==void 0&&delete r[s]}r[i]&&this.delete(i),e.push(i),r[i]=o},clear(){r={},e=[]},get(i){return r[i]},size(){return e.length},delete(i){if(!r[i])return!1;delete r[i];for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}return!0}}}ok.makeFifoCache=RMe});var Cte=O(Yc=>{Object.defineProperty(Yc,"__esModule",{value:!0});var ak=qi(),hte=fb(),jMe=Ab(),PMe=Yi();function lk(t,e){return t(e.stack||"",1)}function xte(t,e){let r={type:e.name||e.constructor.name,value:e.message},i=lk(t,e);return i.length&&(r.stacktrace={frames:i}),r}function _Me(t){if("name"in t&&typeof t.name=="string"){let e=`'${t.name}' captured as exception`;return"message"in t&&typeof t.message=="string"&&(e+=` with message '${t.message}'`),e}else return"message"in t&&typeof t.message=="string"?t.message:`Object captured as exception with keys: ${PMe.extractExceptionKeysForMessage(t)}`}function TMe(t,e,r,i){let o=typeof t=="function"?t().getClient():t,s=r,u=i&&i.data&&i.data.mechanism||{handled:!0,type:"generic"},c;if(!ak.isError(r)){if(ak.isPlainObject(r)){let p=o&&o.getOptions().normalizeDepth;c={__serialized__:jMe.normalizeToSize(r,p)};let f=_Me(r);s=i&&i.syntheticException||new Error(f),s.message=f}else s=i&&i.syntheticException||new Error(r),s.message=r;u.synthetic=!0}let g={exception:{values:[xte(e,s)]}};return c&&(g.extra=c),hte.addExceptionTypeValue(g,void 0,void 0),hte.addExceptionMechanism(g,u),{...g,event_id:i&&i.event_id}}function kMe(t,e,r="info",i,o){let s={event_id:i&&i.event_id,level:r};if(o&&i&&i.syntheticException){let l=lk(t,i.syntheticException);l.length&&(s.exception={values:[{value:e,stacktrace:{frames:l}}]})}if(ak.isParameterizedString(e)){let{__sentry_template_string__:l,__sentry_template_values__:u}=e;return s.logentry={message:l,params:u},s}return s.message=e,s}Yc.eventFromMessage=kMe;Yc.eventFromUnknownInput=TMe;Yc.exceptionFromError=xte;Yc.parseStackFrames=lk});var Ate=O(dk=>{Object.defineProperty(dk,"__esModule",{value:!0});function wMe(t,...e){let r=new String(String.raw(t,...e));return r.__sentry_template_string__=t.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),r.__sentry_template_values__=e,r}dk.parameterize=wMe});var vte=O(yC=>{Object.defineProperty(yC,"__esModule",{value:!0});var EMe=Yi(),UMe=zx();function MMe(t,e,r,i){let o=t(),s=!1,l=!0;return setInterval(()=>{let u=o.getTimeMs();s===!1&&u>e+r&&(s=!0,l&&i()),u<e+r&&(s=!1)},20),{poll:()=>{o.reset()},enabled:u=>{l=u}}}function LMe(t,e,r){let i=e?e.replace(/^file:\/\//,""):void 0,o=t.location.columnNumber?t.location.columnNumber+1:void 0,s=t.location.lineNumber?t.location.lineNumber+1:void 0;return EMe.dropUndefinedKeys({filename:i,module:r(i),function:t.functionName||"?",colno:o,lineno:s,in_app:i?UMe.filenameIsInApp(i):void 0})}yC.callFrameToStackFrame=LMe;yC.watchdogTimer=MMe});var Ste=O(ck=>{Object.defineProperty(ck,"__esModule",{value:!0});var uk=class{constructor(e){this._maxSize=e,this._cache=new Map}get size(){return this._cache.size}get(e){let r=this._cache.get(e);if(r!==void 0)return this._cache.delete(e),this._cache.set(e,r),r}set(e,r){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,r)}remove(e){let r=this._cache.get(e);return r&&this._cache.delete(e),r}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){let e=[];return this._cache.forEach(r=>e.push(r)),e}};ck.LRUMap=uk});var gk=O(pk=>{Object.defineProperty(pk,"__esModule",{value:!0});function VMe(t,e){return t??e()}pk._nullishCoalesce=VMe});var Ote=O(mk=>{Object.defineProperty(mk,"__esModule",{value:!0});var BMe=gk();async function NMe(t,e){return BMe._nullishCoalesce(t,e)}mk._asyncNullishCoalesce=NMe});var fk=O(bk=>{Object.defineProperty(bk,"__esModule",{value:!0});async function WMe(t){let e,r=t[0],i=1;for(;i<t.length;){let o=t[i],s=t[i+1];if(i+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(e=r,r=await s(r)):(o==="call"||o==="optionalCall")&&(r=await s((...l)=>r.call(e,...l)),e=void 0)}return r}bk._asyncOptionalChain=WMe});var Fte=O(yk=>{Object.defineProperty(yk,"__esModule",{value:!0});var GMe=fk();async function ZMe(t){let e=await GMe._asyncOptionalChain(t);return e??!0}yk._asyncOptionalChainDelete=ZMe});var hk=O(Ik=>{Object.defineProperty(Ik,"__esModule",{value:!0});function HMe(t){let e,r=t[0],i=1;for(;i<t.length;){let o=t[i],s=t[i+1];if(i+=2,(o==="optionalAccess"||o==="optionalCall")&&r==null)return;o==="access"||o==="optionalAccess"?(e=r,r=s(r)):(o==="call"||o==="optionalCall")&&(r=s((...l)=>r.call(e,...l)),e=void 0)}return r}Ik._optionalChain=HMe});var Dte=O(xk=>{Object.defineProperty(xk,"__esModule",{value:!0});var KMe=hk();function qMe(t){let e=KMe._optionalChain(t);return e??!0}xk._optionalChainDelete=qMe});var Rte=O(Ck=>{Object.defineProperty(Ck,"__esModule",{value:!0});function YMe(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Ck.escapeStringForRegex=YMe});var ge=O(X=>{Object.defineProperty(X,"__esModule",{value:!0});var XMe=Q$(),IC=tT(),Ak=oT(),zMe=dT(),vk=Cn(),JMe=_ee(),An=qi(),QMe=kee(),hC=Is(),$Me=ZT(),yl=fb(),Sk=NT(),xC=Ab(),sa=Yi(),wd=Nee(),eLe=Wee(),Ed=Yee(),Ok=Jee(),Ob=Jx(),Fb=pb(),Il=vT(),Fk=qT(),Db=$T(),CC=ate(),jte=BT(),Js=nk(),tLe=ute(),Rb=mte(),Xc=tk(),AC=JT(),rLe=yte(),nLe=Ite(),vC=Cte(),iLe=Ate(),Pte=vte(),sLe=Ste(),oLe=Ote(),aLe=fk(),lLe=Fte(),dLe=gk(),uLe=hk(),cLe=Dte(),pLe=bT(),gLe=xT(),_te=LT(),mLe=OT(),bLe=MT(),fLe=jT(),yLe=kT(),ILe=ta(),hLe=zx(),xLe=Rte(),CLe=ET();X.applyAggregateErrorsToEvent=XMe.applyAggregateErrorsToEvent;X.getComponentName=IC.getComponentName;X.getDomElement=IC.getDomElement;X.getLocationHref=IC.getLocationHref;X.htmlTreeAsString=IC.htmlTreeAsString;X.dsnFromString=Ak.dsnFromString;X.dsnToString=Ak.dsnToString;X.makeDsn=Ak.makeDsn;X.SentryError=zMe.SentryError;X.GLOBAL_OBJ=vk.GLOBAL_OBJ;X.getGlobalObject=vk.getGlobalObject;X.getGlobalSingleton=vk.getGlobalSingleton;X.addInstrumentationHandler=JMe.addInstrumentationHandler;X.isDOMError=An.isDOMError;X.isDOMException=An.isDOMException;X.isElement=An.isElement;X.isError=An.isError;X.isErrorEvent=An.isErrorEvent;X.isEvent=An.isEvent;X.isInstanceOf=An.isInstanceOf;X.isNaN=An.isNaN;X.isParameterizedString=An.isParameterizedString;X.isPlainObject=An.isPlainObject;X.isPrimitive=An.isPrimitive;X.isRegExp=An.isRegExp;X.isString=An.isString;X.isSyntheticEvent=An.isSyntheticEvent;X.isThenable=An.isThenable;X.isVueViewModel=An.isVueViewModel;X.isBrowser=QMe.isBrowser;X.CONSOLE_LEVELS=hC.CONSOLE_LEVELS;X.consoleSandbox=hC.consoleSandbox;X.logger=hC.logger;X.originalConsoleMethods=hC.originalConsoleMethods;X.memoBuilder=$Me.memoBuilder;X.addContextToFrame=yl.addContextToFrame;X.addExceptionMechanism=yl.addExceptionMechanism;X.addExceptionTypeValue=yl.addExceptionTypeValue;X.arrayify=yl.arrayify;X.checkOrSetAlreadyCaught=yl.checkOrSetAlreadyCaught;X.getEventDescription=yl.getEventDescription;X.parseSemver=yl.parseSemver;X.uuid4=yl.uuid4;X.dynamicRequire=Sk.dynamicRequire;X.isNodeEnv=Sk.isNodeEnv;X.loadModule=Sk.loadModule;X.normalize=xC.normalize;X.normalizeToSize=xC.normalizeToSize;X.normalizeUrlToBase=xC.normalizeUrlToBase;X.walk=xC.walk;X.addNonEnumerableProperty=sa.addNonEnumerableProperty;X.convertToPlainObject=sa.convertToPlainObject;X.dropUndefinedKeys=sa.dropUndefinedKeys;X.extractExceptionKeysForMessage=sa.extractExceptionKeysForMessage;X.fill=sa.fill;X.getOriginalFunction=sa.getOriginalFunction;X.markFunctionWrapped=sa.markFunctionWrapped;X.objectify=sa.objectify;X.urlEncode=sa.urlEncode;X.basename=wd.basename;X.dirname=wd.dirname;X.isAbsolute=wd.isAbsolute;X.join=wd.join;X.normalizePath=wd.normalizePath;X.relative=wd.relative;X.resolve=wd.resolve;X.makePromiseBuffer=eLe.makePromiseBuffer;X.DEFAULT_USER_INCLUDES=Ed.DEFAULT_USER_INCLUDES;X.addRequestDataToEvent=Ed.addRequestDataToEvent;X.addRequestDataToTransaction=Ed.addRequestDataToTransaction;X.extractPathForTransaction=Ed.extractPathForTransaction;X.extractRequestData=Ed.extractRequestData;X.winterCGHeadersToDict=Ed.winterCGHeadersToDict;X.winterCGRequestToRequestData=Ed.winterCGRequestToRequestData;X.severityFromString=Ok.severityFromString;X.severityLevelFromString=Ok.severityLevelFromString;X.validSeverityLevels=Ok.validSeverityLevels;X.createStackParser=Ob.createStackParser;X.getFunctionName=Ob.getFunctionName;X.nodeStackLineParser=Ob.nodeStackLineParser;X.stackParserFromStackParserOptions=Ob.stackParserFromStackParserOptions;X.stripSentryFramesAndReverse=Ob.stripSentryFramesAndReverse;X.isMatchingPattern=Fb.isMatchingPattern;X.safeJoin=Fb.safeJoin;X.snipLine=Fb.snipLine;X.stringMatchesSomePattern=Fb.stringMatchesSomePattern;X.truncate=Fb.truncate;X.isNativeFetch=Il.isNativeFetch;X.supportsDOMError=Il.supportsDOMError;X.supportsDOMException=Il.supportsDOMException;X.supportsErrorEvent=Il.supportsErrorEvent;X.supportsFetch=Il.supportsFetch;X.supportsNativeFetch=Il.supportsNativeFetch;X.supportsReferrerPolicy=Il.supportsReferrerPolicy;X.supportsReportingObserver=Il.supportsReportingObserver;X.SyncPromise=Fk.SyncPromise;X.rejectedSyncPromise=Fk.rejectedSyncPromise;X.resolvedSyncPromise=Fk.resolvedSyncPromise;Object.defineProperty(X,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>Db._browserPerformanceTimeOriginMode});X.browserPerformanceTimeOrigin=Db.browserPerformanceTimeOrigin;X.dateTimestampInSeconds=Db.dateTimestampInSeconds;X.timestampInSeconds=Db.timestampInSeconds;X.timestampWithMs=Db.timestampWithMs;X.TRACEPARENT_REGEXP=CC.TRACEPARENT_REGEXP;X.extractTraceparentData=CC.extractTraceparentData;X.generateSentryTraceHeader=CC.generateSentryTraceHeader;X.tracingContextFromHeaders=CC.tracingContextFromHeaders;X.getSDKSource=jte.getSDKSource;X.isBrowserBundle=jte.isBrowserBundle;X.addItemToEnvelope=Js.addItemToEnvelope;X.createAttachmentEnvelopeItem=Js.createAttachmentEnvelopeItem;X.createEnvelope=Js.createEnvelope;X.createEventEnvelopeHeaders=Js.createEventEnvelopeHeaders;X.envelopeContainsItemType=Js.envelopeContainsItemType;X.envelopeItemTypeToDataCategory=Js.envelopeItemTypeToDataCategory;X.forEachEnvelopeItem=Js.forEachEnvelopeItem;X.getSdkMetadataForEnvelopeHeader=Js.getSdkMetadataForEnvelopeHeader;X.parseEnvelope=Js.parseEnvelope;X.serializeEnvelope=Js.serializeEnvelope;X.createClientReportEnvelope=tLe.createClientReportEnvelope;X.DEFAULT_RETRY_AFTER=Rb.DEFAULT_RETRY_AFTER;X.disabledUntil=Rb.disabledUntil;X.isRateLimited=Rb.isRateLimited;X.parseRetryAfterHeader=Rb.parseRetryAfterHeader;X.updateRateLimits=Rb.updateRateLimits;X.BAGGAGE_HEADER_NAME=Xc.BAGGAGE_HEADER_NAME;X.MAX_BAGGAGE_STRING_LENGTH=Xc.MAX_BAGGAGE_STRING_LENGTH;X.SENTRY_BAGGAGE_KEY_PREFIX=Xc.SENTRY_BAGGAGE_KEY_PREFIX;X.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Xc.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;X.baggageHeaderToDynamicSamplingContext=Xc.baggageHeaderToDynamicSamplingContext;X.dynamicSamplingContextToSentryBaggageHeader=Xc.dynamicSamplingContextToSentryBaggageHeader;X.getNumberOfUrlSegments=AC.getNumberOfUrlSegments;X.getSanitizedUrlString=AC.getSanitizedUrlString;X.parseUrl=AC.parseUrl;X.stripUrlQueryAndFragment=AC.stripUrlQueryAndFragment;X.addOrUpdateIntegration=rLe.addOrUpdateIntegration;X.makeFifoCache=nLe.makeFifoCache;X.eventFromMessage=vC.eventFromMessage;X.eventFromUnknownInput=vC.eventFromUnknownInput;X.exceptionFromError=vC.exceptionFromError;X.parseStackFrames=vC.parseStackFrames;X.parameterize=iLe.parameterize;X.callFrameToStackFrame=Pte.callFrameToStackFrame;X.watchdogTimer=Pte.watchdogTimer;X.LRUMap=sLe.LRUMap;X._asyncNullishCoalesce=oLe._asyncNullishCoalesce;X._asyncOptionalChain=aLe._asyncOptionalChain;X._asyncOptionalChainDelete=lLe._asyncOptionalChainDelete;X._nullishCoalesce=dLe._nullishCoalesce;X._optionalChain=uLe._optionalChain;X._optionalChainDelete=cLe._optionalChainDelete;X.addConsoleInstrumentationHandler=pLe.addConsoleInstrumentationHandler;X.addClickKeypressInstrumentationHandler=gLe.addClickKeypressInstrumentationHandler;X.SENTRY_XHR_DATA_KEY=_te.SENTRY_XHR_DATA_KEY;X.addXhrInstrumentationHandler=_te.addXhrInstrumentationHandler;X.addFetchInstrumentationHandler=mLe.addFetchInstrumentationHandler;X.addHistoryInstrumentationHandler=bLe.addHistoryInstrumentationHandler;X.addGlobalErrorInstrumentationHandler=fLe.addGlobalErrorInstrumentationHandler;X.addGlobalUnhandledRejectionInstrumentationHandler=yLe.addGlobalUnhandledRejectionInstrumentationHandler;X.resetInstrumentationHandlers=ILe.resetInstrumentationHandlers;X.filenameIsInApp=hLe.filenameIsInApp;X.escapeStringForRegex=xLe.escapeStringForRegex;X.supportsHistory=CLe.supportsHistory});var qr=O(Dk=>{Object.defineProperty(Dk,"__esModule",{value:!0});var ALe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;Dk.DEBUG_BUILD=ALe});var zc=O(Rk=>{Object.defineProperty(Rk,"__esModule",{value:!0});var vLe="production";Rk.DEFAULT_ENVIRONMENT=vLe});var Pb=O(jb=>{Object.defineProperty(jb,"__esModule",{value:!0});var SC=ge(),SLe=qr();function Tte(){return SC.getGlobalSingleton("globalEventProcessors",()=>[])}function OLe(t){Tte().push(t)}function jk(t,e,r,i=0){return new SC.SyncPromise((o,s)=>{let l=t[i];if(e===null||typeof l!="function")o(e);else{let u=l({...e},r);SLe.DEBUG_BUILD&&l.id&&u===null&&SC.logger.log(`Event processor "${l.id}" dropped event`),SC.isThenable(u)?u.then(c=>jk(t,c,r,i+1).then(o)).then(null,s):jk(t,u,r,i+1).then(o).then(null,s)}})}jb.addGlobalEventProcessor=OLe;jb.getGlobalEventProcessors=Tte;jb.notifyEventProcessors=jk});var Jc=O(Tb=>{Object.defineProperty(Tb,"__esModule",{value:!0});var _b=ge();function FLe(t){let e=_b.timestampInSeconds(),r={sid:_b.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>RLe(r)};return t&&Pk(r,t),r}function Pk(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||_b.timestampInSeconds(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:_b.uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function DLe(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),Pk(t,r)}function RLe(t){return _b.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}Tb.closeSession=DLe;Tb.makeSession=FLe;Tb.updateSession=Pk});var Qn=O(oa=>{Object.defineProperty(oa,"__esModule",{value:!0});var _k=ge(),jLe=0,wte=1;function PLe(t){let{spanId:e,traceId:r}=t.spanContext(),{data:i,op:o,parent_span_id:s,status:l,tags:u,origin:c}=Ete(t);return _k.dropUndefinedKeys({data:i,op:o,parent_span_id:s,span_id:e,status:l,tags:u,trace_id:r,origin:c})}function _Le(t){let{traceId:e,spanId:r}=t.spanContext(),i=Ute(t);return _k.generateSentryTraceHeader(e,r,i)}function TLe(t){return typeof t=="number"?kte(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?kte(t.getTime()):_k.timestampInSeconds()}function kte(t){return t>9999999999?t/1e3:t}function Ete(t){return kLe(t)?t.getSpanJSON():typeof t.toJSON=="function"?t.toJSON():{}}function kLe(t){return typeof t.getSpanJSON=="function"}function Ute(t){let{traceFlags:e}=t.spanContext();return Boolean(e&wte)}oa.TRACE_FLAG_NONE=jLe;oa.TRACE_FLAG_SAMPLED=wte;oa.spanIsSampled=Ute;oa.spanTimeInputToSeconds=TLe;oa.spanToJSON=Ete;oa.spanToTraceContext=PLe;oa.spanToTraceHeader=_Le});var OC=O(Qc=>{Object.defineProperty(Qc,"__esModule",{value:!0});var xi=ge(),wLe=zc(),Mte=Pb(),kk=DC(),Tk=FC(),ELe=Qn();function ULe(t,e,r,i,o,s){let{normalizeDepth:l=3,normalizeMaxBreadth:u=1e3}=t,c={...e,event_id:e.event_id||r.event_id||xi.uuid4(),timestamp:e.timestamp||xi.dateTimestampInSeconds()},g=r.integrations||t.integrations.map(P=>P.name);MLe(c,t),LLe(c,g),e.type===void 0&&Vte(c,t.stackParser);let p=BLe(i,r.captureContext);r.mechanism&&xi.addExceptionMechanism(c,r.mechanism);let f=o&&o.getEventProcessors?o.getEventProcessors():[],I=kk.getGlobalScope().getScopeData();if(s){let P=s.getScopeData();Tk.mergeScopeData(I,P)}if(p){let P=p.getScopeData();Tk.mergeScopeData(I,P)}let v=[...r.attachments||[],...I.attachments];v.length&&(r.attachments=v),Tk.applyScopeDataToEvent(c,I);let C=[...f,...Mte.getGlobalEventProcessors(),...I.eventProcessors];return Mte.notifyEventProcessors(C,c,r).then(P=>(P&&Bte(P),typeof l=="number"&&l>0?VLe(P,l,u):P))}function MLe(t,e){let{environment:r,release:i,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?r:wLe.DEFAULT_ENVIRONMENT),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&o!==void 0&&(t.dist=o),t.message&&(t.message=xi.truncate(t.message,s));let l=t.exception&&t.exception.values&&t.exception.values[0];l&&l.value&&(l.value=xi.truncate(l.value,s));let u=t.request;u&&u.url&&(u.url=xi.truncate(u.url,s))}var Lte=new WeakMap;function Vte(t,e){let r=xi.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let i,o=Lte.get(e);o?i=o:(i=new Map,Lte.set(e,i));let s=Object.keys(r).reduce((l,u)=>{let c,g=i.get(u);g?c=g:(c=e(u),i.set(u,c));for(let p=c.length-1;p>=0;p--){let f=c[p];if(f.filename){l[f.filename]=r[u];break}}return l},{});try{t.exception.values.forEach(l=>{l.stacktrace.frames.forEach(u=>{u.filename&&(u.debug_id=s[u.filename])})})}catch{}}function Bte(t){let e={};try{t.exception.values.forEach(i=>{i.stacktrace.frames.forEach(o=>{o.debug_id&&(o.abs_path?e[o.abs_path]=o.debug_id:o.filename&&(e[o.filename]=o.debug_id),delete o.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.keys(e).forEach(i=>{r.push({type:"sourcemap",code_file:i,debug_id:e[i]})})}function LLe(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function VLe(t,e,r){if(!t)return null;let i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>({...o,...o.data&&{data:xi.normalize(o.data,e,r)}}))},...t.user&&{user:xi.normalize(t.user,e,r)},...t.contexts&&{contexts:xi.normalize(t.contexts,e,r)},...t.extra&&{extra:xi.normalize(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=xi.normalize(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(o=>{let s=ELe.spanToJSON(o).data;return s&&(o.data=xi.normalize(s,e,r)),o})),i}function BLe(t,e){if(!e)return t;let r=t?t.clone():new kk.Scope;return r.update(e),r}function NLe(t){if(t)return WLe(t)?{captureContext:t}:ZLe(t)?{captureContext:t}:t}function WLe(t){return t instanceof kk.Scope||typeof t=="function"}var GLe=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ZLe(t){return Object.keys(t).some(e=>GLe.includes(e))}Qc.applyDebugIds=Vte;Qc.applyDebugMeta=Bte;Qc.parseEventHintOrCaptureContext=NLe;Qc.prepareEvent=ULe});var As=O(Xt=>{Object.defineProperty(Xt,"__esModule",{value:!0});var aa=ge(),HLe=zc(),RC=qr(),Tr=Qs(),wk=Jc(),KLe=OC();function qLe(t,e){return Tr.getCurrentHub().captureException(t,KLe.parseEventHintOrCaptureContext(e))}function YLe(t,e){let r=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return Tr.getCurrentHub().captureMessage(t,r,i)}function XLe(t,e){return Tr.getCurrentHub().captureEvent(t,e)}function zLe(t){Tr.getCurrentHub().configureScope(t)}function JLe(t,e){Tr.getCurrentHub().addBreadcrumb(t,e)}function QLe(t,e){Tr.getCurrentHub().setContext(t,e)}function $Le(t){Tr.getCurrentHub().setExtras(t)}function e0e(t,e){Tr.getCurrentHub().setExtra(t,e)}function t0e(t){Tr.getCurrentHub().setTags(t)}function r0e(t,e){Tr.getCurrentHub().setTag(t,e)}function n0e(t){Tr.getCurrentHub().setUser(t)}function Nte(...t){let e=Tr.getCurrentHub();if(t.length===2){let[r,i]=t;return r?e.withScope(()=>(e.getStackTop().scope=r,i(r))):e.withScope(i)}return e.withScope(t[0])}function i0e(t){return Tr.runWithAsyncContext(()=>t(Tr.getIsolationScope()))}function s0e(t,e){return Nte(r=>(r.setSpan(t),e(r)))}function o0e(t,e){return Tr.getCurrentHub().startTransaction({...t},e)}function Ek(t,e){let r=kb(),i=$c();if(!i)RC.DEBUG_BUILD&&aa.logger.warn("Cannot capture check-in. No client defined.");else if(!i.captureCheckIn)RC.DEBUG_BUILD&&aa.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return i.captureCheckIn(t,e,r);return aa.uuid4()}function a0e(t,e,r){let i=Ek({monitorSlug:t,status:"in_progress"},r),o=aa.timestampInSeconds();function s(u){Ek({monitorSlug:t,status:u,checkInId:i,duration:aa.timestampInSeconds()-o})}let l;try{l=e()}catch(u){throw s("error"),u}return aa.isThenable(l)?Promise.resolve(l).then(()=>{s("ok")},()=>{s("error")}):s("ok"),l}async function l0e(t){let e=$c();return e?e.flush(t):(RC.DEBUG_BUILD&&aa.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function d0e(t){let e=$c();return e?e.close(t):(RC.DEBUG_BUILD&&aa.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function u0e(){return Tr.getCurrentHub().lastEventId()}function $c(){return Tr.getCurrentHub().getClient()}function kb(){return Tr.getCurrentHub().getScope()}function c0e(t){let e=$c(),r=Tr.getIsolationScope(),i=kb(),{release:o,environment:s=HLe.DEFAULT_ENVIRONMENT}=e&&e.getOptions()||{},{userAgent:l}=aa.GLOBAL_OBJ.navigator||{},u=wk.makeSession({release:o,environment:s,user:i.getUser()||r.getUser(),...l&&{userAgent:l},...t}),c=r.getSession();return c&&c.status==="ok"&&wk.updateSession(c,{status:"exited"}),Uk(),r.setSession(u),i.setSession(u),u}function Uk(){let t=Tr.getIsolationScope(),e=kb(),r=e.getSession()||t.getSession();r&&wk.closeSession(r),Wte(),t.setSession(),e.setSession()}function Wte(){let t=Tr.getIsolationScope(),e=kb(),r=$c(),i=e.getSession()||t.getSession();i&&r&&r.captureSession&&r.captureSession(i)}function p0e(t=!1){if(t){Uk();return}Wte()}Xt.addBreadcrumb=JLe;Xt.captureCheckIn=Ek;Xt.captureEvent=XLe;Xt.captureException=qLe;Xt.captureMessage=YLe;Xt.captureSession=p0e;Xt.close=d0e;Xt.configureScope=zLe;Xt.endSession=Uk;Xt.flush=l0e;Xt.getClient=$c;Xt.getCurrentScope=kb;Xt.lastEventId=u0e;Xt.setContext=QLe;Xt.setExtra=e0e;Xt.setExtras=$Le;Xt.setTag=r0e;Xt.setTags=t0e;Xt.setUser=n0e;Xt.startSession=c0e;Xt.startTransaction=o0e;Xt.withActiveSpan=s0e;Xt.withIsolationScope=i0e;Xt.withMonitor=a0e;Xt.withScope=Nte});var ep=O(Mk=>{Object.defineProperty(Mk,"__esModule",{value:!0});function g0e(t){return t.transaction}Mk.getRootSpan=g0e});var tp=O(jC=>{Object.defineProperty(jC,"__esModule",{value:!0});var m0e=ge(),b0e=zc(),Gte=As(),f0e=ep(),Lk=Qn();function Zte(t,e,r){let i=e.getOptions(),{publicKey:o}=e.getDsn()||{},{segment:s}=r&&r.getUser()||{},l=m0e.dropUndefinedKeys({environment:i.environment||b0e.DEFAULT_ENVIRONMENT,release:i.release,user_segment:s,public_key:o,trace_id:t});return e.emit&&e.emit("createDsc",l),l}function y0e(t){let e=Gte.getClient();if(!e)return{};let r=Zte(Lk.spanToJSON(t).trace_id||"",e,Gte.getCurrentScope()),i=f0e.getRootSpan(t);if(!i)return r;let o=i&&i._frozenDynamicSamplingContext;if(o)return o;let{sampleRate:s,source:l}=i.metadata;s!=null&&(r.sample_rate=`${s}`);let u=Lk.spanToJSON(i);return l&&l!=="url"&&(r.transaction=u.description),r.sampled=String(Lk.spanIsSampled(i)),e.emit&&e.emit("createDsc",r),r}jC.getDynamicSamplingContextFromClient=Zte;jC.getDynamicSamplingContextFromSpan=y0e});var FC=O(Eb=>{Object.defineProperty(Eb,"__esModule",{value:!0});var wb=ge(),I0e=tp(),h0e=ep(),Hte=Qn();function x0e(t,e){let{fingerprint:r,span:i,breadcrumbs:o,sdkProcessingMetadata:s,propagationContext:l}=e;A0e(t,e),i&&O0e(t,i),F0e(t,r),v0e(t,o),S0e(t,s,l)}function C0e(t,e){let{extra:r,tags:i,user:o,contexts:s,level:l,sdkProcessingMetadata:u,breadcrumbs:c,fingerprint:g,eventProcessors:p,attachments:f,propagationContext:I,transactionName:v,span:C}=e;rp(t,"extra",r),rp(t,"tags",i),rp(t,"user",o),rp(t,"contexts",s),rp(t,"sdkProcessingMetadata",u),l&&(t.level=l),v&&(t.transactionName=v),C&&(t.span=C),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),g.length&&(t.fingerprint=[...t.fingerprint,...g]),p.length&&(t.eventProcessors=[...t.eventProcessors,...p]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...I}}function rp(t,e,r){if(r&&Object.keys(r).length){t[e]={...t[e]};for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[e][i]=r[i])}}function A0e(t,e){let{extra:r,tags:i,user:o,contexts:s,level:l,transactionName:u}=e,c=wb.dropUndefinedKeys(r);c&&Object.keys(c).length&&(t.extra={...c,...t.extra});let g=wb.dropUndefinedKeys(i);g&&Object.keys(g).length&&(t.tags={...g,...t.tags});let p=wb.dropUndefinedKeys(o);p&&Object.keys(p).length&&(t.user={...p,...t.user});let f=wb.dropUndefinedKeys(s);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts}),l&&(t.level=l),u&&(t.transaction=u)}function v0e(t,e){let r=[...t.breadcrumbs||[],...e];t.breadcrumbs=r.length?r:void 0}function S0e(t,e,r){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e,propagationContext:r}}function O0e(t,e){t.contexts={trace:Hte.spanToTraceContext(e),...t.contexts};let r=h0e.getRootSpan(e);if(r){t.sdkProcessingMetadata={dynamicSamplingContext:I0e.getDynamicSamplingContextFromSpan(e),...t.sdkProcessingMetadata};let i=Hte.spanToJSON(r).description;i&&(t.tags={transaction:i,...t.tags})}}function F0e(t,e){t.fingerprint=t.fingerprint?wb.arrayify(t.fingerprint):[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}Eb.applyScopeDataToEvent=x0e;Eb.mergeAndOverwriteScopeData=rp;Eb.mergeScopeData=C0e});var DC=O(Ub=>{Object.defineProperty(Ub,"__esModule",{value:!0});var $s=ge(),Kte=Pb(),D0e=Jc(),R0e=FC(),j0e=100,PC,la=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=qte()}static clone(e){return e?e.clone():new la}clone(){let e=new la;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&D0e.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof la?r:this}return e instanceof la?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):$s.isPlainObject(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=qte(),this}addBreadcrumb(e,r){let i=typeof r=="number"?r:j0e;if(i<=0)return this;let o={timestamp:$s.dateTimestampInSeconds(),...e},s=this._breadcrumbs;return s.push(o),this._breadcrumbs=s.length>i?s.slice(-i):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){let{_breadcrumbs:e,_attachments:r,_contexts:i,_tags:o,_extra:s,_user:l,_level:u,_fingerprint:c,_eventProcessors:g,_propagationContext:p,_sdkProcessingMetadata:f,_transactionName:I,_span:v}=this;return{breadcrumbs:e,attachments:r,contexts:i,tags:o,extra:s,user:l,level:u,fingerprint:c||[],eventProcessors:g,propagationContext:p,sdkProcessingMetadata:f,transactionName:I,span:v}}applyToEvent(e,r={},i=[]){R0e.applyScopeDataToEvent(e,this.getScopeData());let o=[...i,...Kte.getGlobalEventProcessors(),...this._eventProcessors];return Kte.notifyEventProcessors(o,e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,r){let i=r&&r.event_id?r.event_id:$s.uuid4();if(!this._client)return $s.logger.warn("No client configured on scope - will not capture exception!"),i;let o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...r,event_id:i},this),i}captureMessage(e,r,i){let o=i&&i.event_id?i.event_id:$s.uuid4();if(!this._client)return $s.logger.warn("No client configured on scope - will not capture message!"),o;let s=new Error(e);return this._client.captureMessage(e,r,{originalException:e,syntheticException:s,...i,event_id:o},this),o}captureEvent(e,r){let i=r&&r.event_id?r.event_id:$s.uuid4();return this._client?(this._client.captureEvent(e,{...r,event_id:i},this),i):($s.logger.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}};function P0e(){return PC||(PC=new la),PC}function _0e(t){PC=t}function qte(){return{traceId:$s.uuid4(),spanId:$s.uuid4().substring(16)}}Ub.Scope=la;Ub.getGlobalScope=P0e;Ub.setGlobalScope=_0e});var Bk=O(Vk=>{Object.defineProperty(Vk,"__esModule",{value:!0});var T0e="7.94.1";Vk.SDK_VERSION=T0e});var Qs=O(Ci=>{Object.defineProperty(Ci,"__esModule",{value:!0});var Un=ge(),k0e=zc(),Nk=qr(),Yte=DC(),Wk=Jc(),w0e=Bk(),_C=parseFloat(w0e.SDK_VERSION),E0e=100,np=class{constructor(e,r,i,o=_C){this._version=o;let s;r?s=r:(s=new Yte.Scope,s.setClient(e));let l;i?l=i:(l=new Yte.Scope,l.setClient(e)),this._stack=[{scope:s}],e&&this.bindClient(e),this._isolationScope=l}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,r.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope(),i;try{i=e(r)}catch(o){throw this.popScope(),o}return Un.isThenable(i)?i.then(o=>(this.popScope(),o),o=>{throw this.popScope(),o}):(this.popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let i=this._lastEventId=r&&r.event_id?r.event_id:Un.uuid4(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...r,event_id:i}),i}captureMessage(e,r,i){let o=this._lastEventId=i&&i.event_id?i.event_id:Un.uuid4(),s=new Error(e);return this.getScope().captureMessage(e,r,{originalException:e,syntheticException:s,...i,event_id:o}),o}captureEvent(e,r){let i=r&&r.event_id?r.event_id:Un.uuid4();return e.type||(this._lastEventId=i),this.getScope().captureEvent(e,{...r,event_id:i}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:i,client:o}=this.getStackTop();if(!o)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:l=E0e}=o.getOptions&&o.getOptions()||{};if(l<=0)return;let c={timestamp:Un.dateTimestampInSeconds(),...e},g=s?Un.consoleSandbox(()=>s(c,r)):c;g!==null&&(o.emit&&o.emit("beforeAddBreadcrumb",g,r),i.addBreadcrumb(g,l))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r),this.getIsolationScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r),this.getIsolationScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r),this.getIsolationScope().setContext(e,r)}configureScope(e){let{scope:r,client:i}=this.getStackTop();i&&e(r)}run(e){let r=Gk(this);try{e(this)}finally{Gk(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return Nk.DEBUG_BUILD&&Un.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let i=this._callExtensionMethod("startTransaction",e,r);return Nk.DEBUG_BUILD&&!i&&(this.getClient()?Un.logger.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):Un.logger.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,i=r.getSession();i&&Wk.closeSession(i),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:i}=this.getStackTop(),{release:o,environment:s=k0e.DEFAULT_ENVIRONMENT}=i&&i.getOptions()||{},{userAgent:l}=Un.GLOBAL_OBJ.navigator||{},u=Wk.makeSession({release:o,environment:s,user:r.getUser(),...l&&{userAgent:l},...e}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&Wk.updateSession(c,{status:"exited"}),this.endSession(),r.setSession(u),u}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return Boolean(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),i=e.getSession();i&&r&&r.captureSession&&r.captureSession(i)}_callExtensionMethod(e,...r){let o=Ud().__SENTRY__;if(o&&o.extensions&&typeof o.extensions[e]=="function")return o.extensions[e].apply(this,r);Nk.DEBUG_BUILD&&Un.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Ud(){return Un.GLOBAL_OBJ.__SENTRY__=Un.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},Un.GLOBAL_OBJ}function Gk(t){let e=Ud(),r=Mb(e);return TC(e,t),r}function Xte(){let t=Ud();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return zte(t)}function U0e(){return Xte().getIsolationScope()}function zte(t=Ud()){return(!Jte(t)||Mb(t).isOlderThan(_C))&&TC(t,new np),Mb(t)}function M0e(t,e=zte()){if(!Jte(t)||Mb(t).isOlderThan(_C)){let r=e.getClient(),i=e.getScope(),o=e.getIsolationScope();TC(t,new np(r,i.clone(),o.clone()))}}function L0e(t){let e=Ud();e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.acs=t}function V0e(t,e={}){let r=Ud();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(t,e):t()}function Jte(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Mb(t){return Un.getGlobalSingleton("hub",()=>new np,t)}function TC(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}Ci.API_VERSION=_C;Ci.Hub=np;Ci.ensureHubOnCarrier=M0e;Ci.getCurrentHub=Xte;Ci.getHubFromCarrier=Mb;Ci.getIsolationScope=U0e;Ci.getMainCarrier=Ud;Ci.makeMain=Gk;Ci.runWithAsyncContext=V0e;Ci.setAsyncContextStrategy=L0e;Ci.setHubOnCarrier=TC});var kC=O(Lb=>{Object.defineProperty(Lb,"__esModule",{value:!0});var Qte=ge(),B0e=Qs();function N0e(t){return(t||B0e.getCurrentHub()).getScope().getTransaction()}var W0e=Qte.extractTraceparentData;Lb.stripUrlQueryAndFragment=Qte.stripUrlQueryAndFragment;Lb.extractTraceparentData=W0e;Lb.getActiveTransaction=N0e});var ere=O(Kk=>{Object.defineProperty(Kk,"__esModule",{value:!0});var Zk=ge(),G0e=qr(),Z0e=kC(),$te=!1;function H0e(){$te||($te=!0,Zk.addGlobalErrorInstrumentationHandler(Hk),Zk.addGlobalUnhandledRejectionInstrumentationHandler(Hk))}function Hk(){let t=Z0e.getActiveTransaction();if(t){let e="internal_error";G0e.DEBUG_BUILD&&Zk.logger.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Hk.tag="sentry_tracingErrorCallback";Kk.registerErrorInstrumentation=H0e});var Bb=O(Vb=>{Object.defineProperty(Vb,"__esModule",{value:!0});var K0e="sentry.source",q0e="sentry.sample_rate",Y0e="sentry.op";Vb.SEMANTIC_ATTRIBUTE_SENTRY_OP=Y0e;Vb.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=q0e;Vb.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=K0e});var EC=O(Wb=>{Object.defineProperty(Wb,"__esModule",{value:!0});var Md=ge(),tre=qr(),wC=Bb(),rre=ep(),ip=Qn(),qk=class{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},Nb=class{constructor(e={}){this._traceId=e.traceId||Md.uuid4(),this._spanId=e.spanId||Md.uuid4().substring(16),this._startTime=e.startTimestamp||Md.timestampInSeconds(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this._attributes=e.attributes?{...e.attributes}:{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",this._name=e.name||e.description,e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.op&&this.setAttribute(wC.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.op),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp)}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[wC.SEMANTIC_ATTRIBUTE_SENTRY_OP]}set op(e){this.setAttribute(wC.SEMANTIC_ATTRIBUTE_SENTRY_OP,e)}spanContext(){let{_spanId:e,_traceId:r,_sampled:i}=this;return{spanId:e,traceId:r,traceFlags:i?ip.TRACE_FLAG_SAMPLED:ip.TRACE_FLAG_NONE}}startChild(e){let r=new Nb({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r);let i=rre.getRootSpan(this);if(r.transaction=i,tre.DEBUG_BUILD&&i){let o=e&&e.op||"< unknown op >",s=ip.spanToJSON(r).description||"< unknown name >",l=i.spanContext().spanId,u=`[Tracing] Starting '${o}' span on transaction '${s}' (${l}).`;Md.logger.log(u),this._logMessage=u}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setAttribute(e,r){r===void 0?delete this._attributes[e]:this._attributes[e]=r}setAttributes(e){Object.keys(e).forEach(r=>this.setAttribute(r,e[r]))}setStatus(e){return this._status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);let r=nre(e);return r!=="unknown_error"&&this.setStatus(r),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return this._status==="ok"}finish(e){return this.end(e)}end(e){if(this._endTime)return;let r=rre.getRootSpan(this);if(tre.DEBUG_BUILD&&r&&r.spanContext().spanId!==this._spanId){let i=this._logMessage;i&&Md.logger.log(i.replace("Starting","Finishing"))}this._endTime=ip.spanTimeInputToSeconds(e)}toTraceparent(){return ip.spanToTraceHeader(this)}toContext(){return Md.dropUndefinedKeys({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this.parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return ip.spanToTraceContext(this)}getSpanJSON(){return Md.dropUndefinedKeys({data:this._getData(),description:this._name,op:this._attributes[wC.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this.parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this.origin})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){let{data:e,_attributes:r}=this,i=Object.keys(e).length>0,o=Object.keys(r).length>0;if(!(!i&&!o))return i&&o?{...e,...r}:i?e:r}};function nre(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}Wb.Span=Nb;Wb.SpanRecorder=qk;Wb.spanStatusfromHttpCode=nre});var LC=O(Xk=>{Object.defineProperty(Xk,"__esModule",{value:!0});var Gb=ge(),UC=qr(),X0e=Qs(),Zb=Bb(),MC=Qn(),ire=tp(),sre=EC(),Yk=class extends sre.Span{constructor(e,r){super(e),this._measurements={},this._contexts={},this._hub=r||X0e.getCurrentHub(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;let i=this._metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Zb.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]&&{source:this._attributes[Zb.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]},...this._attributes[Zb.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]&&{sampleRate:this._attributes[Zb.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE]}}}set metadata(e){this._metadata=e}setName(e,r="custom"){this._name=e,this.setAttribute(Zb.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,r)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new sre.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,i=""){this._measurements[e]={value:r,unit:i}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){let r=MC.spanTimeInputToSeconds(e),i=this._finishTransaction(r);if(i)return this._hub.captureEvent(i)}toContext(){let e=super.toContext();return Gb.dropUndefinedKeys({...e,name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return ire.getDynamicSamplingContextFromSpan(this)}setHub(e){this._hub=e}_finishTransaction(e){if(this._endTime!==void 0)return;this._name||(UC.DEBUG_BUILD&&Gb.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this._sampled!==!0){UC.DEBUG_BUILD&&Gb.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let i=this.spanRecorder?this.spanRecorder.spans.filter(c=>c!==this&&MC.spanToJSON(c).timestamp):[];if(this._trimEnd&&i.length>0){let c=i.map(g=>MC.spanToJSON(g).timestamp).filter(Boolean);this._endTime=c.reduce((g,p)=>g>p?g:p)}let{metadata:o}=this,{source:s}=o,l={contexts:{...this._contexts,trace:MC.spanToTraceContext(this)},spans:i,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...o,dynamicSamplingContext:ire.getDynamicSamplingContextFromSpan(this)},...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(UC.DEBUG_BUILD&&Gb.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),l.measurements=this._measurements),UC.DEBUG_BUILD&&Gb.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),l}};Xk.Transaction=Yk});var Jk=O(Hb=>{Object.defineProperty(Hb,"__esModule",{value:!0});var vn=ge(),$n=qr(),VC=Qn(),z0e=EC(),J0e=LC(),BC={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Q0e="finishReason",sp=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],NC=class extends z0e.SpanRecorder{constructor(e,r,i,o){super(o),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=i}add(e){if(e.spanContext().spanId!==this.transactionSpanId){let r=e.end;e.end=(...i)=>(this._popActivity(e.spanContext().spanId),r.apply(e,i)),VC.spanToJSON(e).timestamp===void 0&&this._pushActivity(e.spanContext().spanId)}super.add(e)}},zk=class extends J0e.Transaction{constructor(e,r,i=BC.idleTimeout,o=BC.finalTimeout,s=BC.heartbeatInterval,l=!1,u=!1){super(e,r),this._idleHub=r,this._idleTimeout=i,this._finalTimeout=o,this._heartbeatInterval=s,this._onScope=l,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=sp[4],this._autoFinishAllowed=!u,l&&($n.DEBUG_BUILD&&vn.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),r.getScope().setSpan(this)),u||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=sp[3],this.end())},this._finalTimeout)}end(e){let r=VC.spanTimeInputToSeconds(e);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(Q0e,this._finishReason),this.spanRecorder){$n.DEBUG_BUILD&&vn.logger.log("[Tracing] finishing IdleTransaction",new Date(r*1e3).toISOString(),this.op);for(let i of this._beforeFinishCallbacks)i(this,r);this.spanRecorder.spans=this.spanRecorder.spans.filter(i=>{if(i.spanContext().spanId===this.spanContext().spanId)return!0;VC.spanToJSON(i).timestamp||(i.setStatus("cancelled"),i.end(r),$n.DEBUG_BUILD&&vn.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(i,void 0,2)));let{start_timestamp:o,timestamp:s}=VC.spanToJSON(i),l=o&&o<r,u=(this._finalTimeout+this._idleTimeout)/1e3,c=s&&o&&s-o<u;if($n.DEBUG_BUILD){let g=JSON.stringify(i,void 0,2);l?c||vn.logger.log("[Tracing] discarding Span since it finished after Transaction final timeout",g):vn.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",g)}return l&&c}),$n.DEBUG_BUILD&&vn.logger.log("[Tracing] flushing IdleTransaction")}else $n.DEBUG_BUILD&&vn.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){let i=this._idleHub.getScope();i.getTransaction()===this&&i.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=o=>{this._finished||this._pushActivity(o)},i=o=>{this._finished||this._popActivity(o)};this.spanRecorder=new NC(r,i,this.spanContext().spanId,e),$n.DEBUG_BUILD&&vn.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=sp[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||($n.DEBUG_BUILD&&vn.logger.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=sp[1],this.end(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),$n.DEBUG_BUILD&&vn.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,$n.DEBUG_BUILD&&vn.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&($n.DEBUG_BUILD&&vn.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],$n.DEBUG_BUILD&&vn.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=vn.timestampInSeconds();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=sp[5],this.end(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&($n.DEBUG_BUILD&&vn.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=sp[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){$n.DEBUG_BUILD&&vn.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};Hb.IdleTransaction=zk;Hb.IdleTransactionSpanRecorder=NC;Hb.TRACING_DEFAULTS=BC});var WC=O(Qk=>{Object.defineProperty(Qk,"__esModule",{value:!0});var $0e=As();function eVe(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=$0e.getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}Qk.hasTracingEnabled=eVe});var ore=O($k=>{Object.defineProperty($k,"__esModule",{value:!0});var Ld=ge(),op=qr(),GC=Bb(),tVe=WC(),rVe=Qn();function nVe(t,e,r){if(!tVe.hasTracingEnabled(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setAttribute(GC.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(t.sampled)),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(r),t.setAttribute(GC.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(i))):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setAttribute(GC.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Number(i))):(i=1,t.setAttribute(GC.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,i)),iVe(i)?i?(t.sampled=Math.random()<i,t.sampled?(op.DEBUG_BUILD&&Ld.logger.log(`[Tracing] starting ${t.op} transaction - ${rVe.spanToJSON(t).description}`),t):(op.DEBUG_BUILD&&Ld.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):(op.DEBUG_BUILD&&Ld.logger.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):(op.DEBUG_BUILD&&Ld.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function iVe(t){return Ld.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?(op.DEBUG_BUILD&&Ld.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?(op.DEBUG_BUILD&&Ld.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}$k.sampleTransaction=nVe});var ew=O(ZC=>{Object.defineProperty(ZC,"__esModule",{value:!0});var sVe=ge(),oVe=qr(),aVe=Qs(),lVe=Qn(),dVe=ere(),uVe=Jk(),are=ore(),cVe=LC();function pVe(){let e=this.getScope().getSpan();return e?{"sentry-trace":lVe.spanToTraceHeader(e)}:{}}function gVe(t,e){let r=this.getClient(),i=r&&r.getOptions()||{},o=i.instrumenter||"sentry",s=t.instrumenter||"sentry";o!==s&&(oVe.DEBUG_BUILD&&sVe.logger.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.
The transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),t.sampled=!1);let l=new cVe.Transaction(t,this);return l=are.sampleTransaction(l,i,{parentSampled:t.parentSampled,transactionContext:t,...e}),l.isRecording()&&l.initSpanRecorder(i._experiments&&i._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",l),l}function mVe(t,e,r,i,o,s,l,u=!1){let c=t.getClient(),g=c&&c.getOptions()||{},p=new uVe.IdleTransaction(e,t,r,i,l,o,u);return p=are.sampleTransaction(p,g,{parentSampled:e.parentSampled,transactionContext:e,...s}),p.isRecording()&&p.initSpanRecorder(g._experiments&&g._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",p),p}function bVe(){let t=aVe.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=gVe),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=pVe),dVe.registerErrorInstrumentation())}ZC.addTracingExtensions=bVe;ZC.startIdleTransaction=mVe});var tw=O(Kb=>{Object.defineProperty(Kb,"__esModule",{value:!0});Kb.SpanStatus=void 0;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let i="unauthenticated";t.Unauthenticated=i;let o="permission_denied";t.PermissionDenied=o;let s="not_found";t.NotFound=s;let l="resource_exhausted";t.ResourceExhausted=l;let u="invalid_argument";t.InvalidArgument=u;let c="unimplemented";t.Unimplemented=c;let g="unavailable";t.Unavailable=g;let p="internal_error";t.InternalError=p;let f="unknown_error";t.UnknownError=f;let I="cancelled";t.Cancelled=I;let v="already_exists";t.AlreadyExists=v;let C="failed_precondition";t.FailedPrecondition=C;let F="aborted";t.Aborted=F;let P="out_of_range";t.OutOfRange=P;let E="data_loss";t.DataLoss=E})(Kb.SpanStatus||(Kb.SpanStatus={}))});var nw=O(rw=>{Object.defineProperty(rw,"__esModule",{value:!0});var fVe=ge();function yVe(t,e,r=()=>{}){let i;try{i=t()}catch(o){throw e(o),r(),o}return IVe(i,e,r)}function IVe(t,e,r){return fVe.isThenable(t)?t.then(i=>(r(),i),i=>{throw e(i),r(),i}):(r(),t)}rw.handleCallbackErrors=yVe});var cre=O(da=>{Object.defineProperty(da,"__esModule",{value:!0});var iw=ge(),hVe=qr(),qb=As(),HC=Qs(),sw=nw(),lre=WC(),ow=Qn();function xVe(t,e,r=()=>{},i=()=>{}){let o=HC.getCurrentHub(),s=qb.getCurrentScope(),l=s.getSpan(),u=KC(t),c=aw(o,l,u);return s.setSpan(c),sw.handleCallbackErrors(()=>e(c),g=>{c&&c.setStatus("internal_error"),r(g,c)},()=>{c&&c.end(),s.setSpan(l),i()})}function dre(t,e){let r=KC(t);return qb.withScope(t.scope,i=>{let o=HC.getCurrentHub(),s=i.getSpan(),l=aw(o,s,r);return i.setSpan(l),sw.handleCallbackErrors(()=>e(l),()=>{if(l){let{status:u}=ow.spanToJSON(l);(!u||u==="ok")&&l.setStatus("internal_error")}},()=>l&&l.end())})}var CVe=dre;function AVe(t,e){let r=KC(t);return qb.withScope(t.scope,i=>{let o=HC.getCurrentHub(),s=i.getSpan(),l=aw(o,s,r);i.setSpan(l);function u(){l&&l.end()}return sw.handleCallbackErrors(()=>e(l,u),()=>{if(l&&l.isRecording()){let{status:c}=ow.spanToJSON(l);(!c||c==="ok")&&l.setStatus("internal_error")}})})}function vVe(t){if(!lre.hasTracingEnabled())return;let e=KC(t),r=HC.getCurrentHub(),i=t.scope?t.scope.getSpan():ure();return i?i.startChild(e):r.startTransaction(e)}function ure(){return qb.getCurrentScope().getSpan()}function SVe({sentryTrace:t,baggage:e},r){let i=qb.getCurrentScope(),{traceparentData:o,dynamicSamplingContext:s,propagationContext:l}=iw.tracingContextFromHeaders(t,e);i.setPropagationContext(l),hVe.DEBUG_BUILD&&o&&iw.logger.log(`[Tracing] Continuing trace ${o.traceId}.`);let u={...o,metadata:iw.dropUndefinedKeys({dynamicSamplingContext:o&&!s?{}:s})};return r?r(u):u}function aw(t,e,r){if(lre.hasTracingEnabled())return e?e.startChild(r):t.startTransaction(r)}function KC(t){if(t.startTime){let e={...t};return e.startTimestamp=ow.spanTimeInputToSeconds(t.startTime),delete e.startTime,e}return t}da.continueTrace=SVe;da.getActiveSpan=ure;da.startActiveSpan=CVe;da.startInactiveSpan=vVe;da.startSpan=dre;da.startSpanManual=AVe;da.trace=xVe});var pre=O(lw=>{Object.defineProperty(lw,"__esModule",{value:!0});var OVe=kC();function FVe(t,e,r){let i=OVe.getActiveTransaction();i&&i.setMeasurement(t,e,r)}lw.setMeasurement=FVe});var dw=O(qC=>{Object.defineProperty(qC,"__esModule",{value:!0});var ap=ge();function DVe(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function RVe(t,e,r,i){let o=ap.getSdkMetadataForEnvelopeHeader(r),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!i&&e&&{dsn:ap.dsnToString(e)}},l="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ap.createEnvelope(s,[l])}function jVe(t,e,r,i){let o=ap.getSdkMetadataForEnvelopeHeader(r),s=t.type&&t.type!=="replay_event"?t.type:"event";DVe(t,r&&r.sdk);let l=ap.createEventEnvelopeHeaders(t,o,i,e);delete t.sdkProcessingMetadata;let u=[{type:s},t];return ap.createEnvelope(l,[u])}qC.createEventEnvelope=jVe;qC.createSessionEnvelope=RVe});var pw=O(cw=>{Object.defineProperty(cw,"__esModule",{value:!0});var PVe=ge(),_Ve=As(),uw=class{constructor(e,r){this._client=e,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._sessionAttrs=r}flush(){let e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){let e=Object.keys(this._pendingAggregates).map(i=>this._pendingAggregates[parseInt(i)]),r={attrs:this._sessionAttrs,aggregates:e};return PVe.dropUndefinedKeys(r)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=_Ve.getCurrentScope(),r=e.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,r){let i=new Date(r).setSeconds(0,0);this._pendingAggregates[i]=this._pendingAggregates[i]||{};let o=this._pendingAggregates[i];switch(o.started||(o.started=new Date(i).toISOString()),e){case"errored":return o.errored=(o.errored||0)+1,o.errored;case"ok":return o.exited=(o.exited||0)+1,o.exited;default:return o.crashed=(o.crashed||0)+1,o.crashed}}};cw.SessionFlusher=uw});var XC=O(YC=>{Object.defineProperty(YC,"__esModule",{value:!0});var gw=ge(),TVe="7";function gre(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function kVe(t){return`${gre(t)}${t.projectId}/envelope/`}function wVe(t,e){return gw.urlEncode({sentry_key:t.publicKey,sentry_version:TVe,...e&&{sentry_client:`${e.name}/${e.version}`}})}function EVe(t,e={}){let r=typeof e=="string"?e:e.tunnel,i=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${kVe(t)}?${wVe(t,i)}`}function UVe(t,e){let r=gw.makeDsn(t);if(!r)return"";let i=`${gre(r)}embed/error-page/`,o=`dsn=${gw.dsnToString(r)}`;for(let s in e)if(s!=="dsn"&&s!=="onClose")if(s==="user"){let l=e.user;if(!l)continue;l.name&&(o+=`&name=${encodeURIComponent(l.name)}`),l.email&&(o+=`&email=${encodeURIComponent(l.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${i}?${o}`}YC.getEnvelopeEndpointWithUrlEncodedAuth=EVe;YC.getReportDialogEndpoint=UVe});var ca=O(ua=>{Object.defineProperty(ua,"__esModule",{value:!0});var zC=ge(),mw=qr(),MVe=Pb(),LVe=As(),VVe=Qs(),bw=[];function BVe(t){let e={};return t.forEach(r=>{let{name:i}=r,o=e[i];o&&!o.isDefaultInstance&&r.isDefaultInstance||(e[i]=r)}),Object.keys(e).map(r=>e[r])}function NVe(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(l=>{l.isDefaultInstance=!0});let i;Array.isArray(r)?i=[...e,...r]:typeof r=="function"?i=zC.arrayify(r(e)):i=e;let o=BVe(i),s=ZVe(o,l=>l.name==="Debug");if(s!==-1){let[l]=o.splice(s,1);o.push(l)}return o}function WVe(t,e){let r={};return e.forEach(i=>{i&&mre(t,i,r)}),r}function mre(t,e,r){if(r[e.name]){mw.DEBUG_BUILD&&zC.logger.log(`Integration skipped because it was already installed: ${e.name}`);return}if(r[e.name]=e,bw.indexOf(e.name)===-1&&(e.setupOnce(MVe.addGlobalEventProcessor,VVe.getCurrentHub),bw.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),t.on&&typeof e.preprocessEvent=="function"){let i=e.preprocessEvent.bind(e);t.on("preprocessEvent",(o,s)=>i(o,s,t))}if(t.addEventProcessor&&typeof e.processEvent=="function"){let i=e.processEvent.bind(e),o=Object.assign((s,l)=>i(s,l,t),{id:e.name});t.addEventProcessor(o)}mw.DEBUG_BUILD&&zC.logger.log(`Integration installed: ${e.name}`)}function GVe(t){let e=LVe.getClient();if(!e||!e.addIntegration){mw.DEBUG_BUILD&&zC.logger.warn(`Cannot add integration "${t.name}" because no SDK Client is available.`);return}e.addIntegration(t)}function ZVe(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}function HVe(t,e){return Object.assign(function(...i){return e(...i)},{id:t})}function KVe(t){return t}ua.addIntegration=GVe;ua.convertIntegrationFnToClass=HVe;ua.defineIntegration=KVe;ua.getIntegrationsToSetup=NVe;ua.installedIntegrations=bw;ua.setupIntegration=mre;ua.setupIntegrations=WVe});var lp=O(vs=>{Object.defineProperty(vs,"__esModule",{value:!0});var qVe="c",YVe="g",XVe="s",zVe="d",JVe=/[^a-zA-Z0-9_/.-]+/g,QVe=/[^\w\d_:/@.{}[\]$-]+/g,$Ve=5e3,eBe=1e4,tBe=1e4;vs.COUNTER_METRIC_TYPE=qVe;vs.DEFAULT_BROWSER_FLUSH_INTERVAL=$Ve;vs.DEFAULT_FLUSH_INTERVAL=eBe;vs.DISTRIBUTION_METRIC_TYPE=zVe;vs.GAUGE_METRIC_TYPE=YVe;vs.MAX_WEIGHT=tBe;vs.NAME_AND_TAG_KEY_NORMALIZATION_REGEX=JVe;vs.SET_METRIC_TYPE=XVe;vs.TAG_VALUE_NORMALIZATION_REGEX=QVe});var Yb=O(dp=>{Object.defineProperty(dp,"__esModule",{value:!0});var rBe=ge(),bre=lp();function nBe(t,e,r,i){let o=Object.entries(rBe.dropUndefinedKeys(i)).sort((s,l)=>s[0].localeCompare(l[0]));return`${t}${e}${r}${o}`}function iBe(t){let e=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);e=(e<<5)-e+i,e&=e}return e>>>0}function sBe(t){let e="";for(let r of t){let i=Object.entries(r.tags),o=i.length>0?`|#${i.map(([s,l])=>`${s}:${l}`).join(",")}`:"";e+=`${r.name}@${r.unit}:${r.metric}|${r.metricType}${o}|T${r.timestamp}
`}return e}function oBe(t){let e={};for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let i=r.replace(bre.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_");e[i]=String(t[r]).replace(bre.TAG_VALUE_NORMALIZATION_REGEX,"_")}return e}dp.getBucketKey=nBe;dp.sanitizeTags=oBe;dp.serializeMetricBuckets=sBe;dp.simpleHash=iBe});var yre=O(fw=>{Object.defineProperty(fw,"__esModule",{value:!0});var fre=ge(),aBe=Yb();function lBe(t,e,r,i){let o={sent_at:new Date().toISOString()};r&&r.sdk&&(o.sdk={name:r.sdk.name,version:r.sdk.version}),i&&e&&(o.dsn=fre.dsnToString(e));let s=dBe(t);return fre.createEnvelope(o,[s])}function dBe(t){let e=aBe.serializeMetricBuckets(t);return[{type:"statsd",length:e.length},e]}fw.createMetricEnvelope=lBe});var Iw=O(JC=>{Object.defineProperty(JC,"__esModule",{value:!0});var Pt=ge(),uBe=XC(),eo=qr(),Ire=dw(),cBe=As(),pBe=Qs(),hre=ca(),gBe=yre(),xre=Jc(),mBe=tp(),bBe=OC(),Cre="Not capturing exception because it's already been captured.",yw=class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Pt.makeDsn(e.dsn):eo.DEBUG_BUILD&&Pt.logger.warn("No DSN provided, client will not send events."),this._dsn){let r=uBe.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,i){if(Pt.checkOrSetAlreadyCaught(e)){eo.DEBUG_BUILD&&Pt.logger.log(Cre);return}let o=r&&r.event_id;return this._process(this.eventFromException(e,r).then(s=>this._captureEvent(s,r,i)).then(s=>{o=s})),o}captureMessage(e,r,i,o){let s=i&&i.event_id,l=Pt.isParameterizedString(e)?e:String(e),u=Pt.isPrimitive(e)?this.eventFromMessage(l,r,i):this.eventFromException(e,i);return this._process(u.then(c=>this._captureEvent(c,i,o)).then(c=>{s=c})),s}captureEvent(e,r,i){if(r&&r.originalException&&Pt.checkOrSetAlreadyCaught(r.originalException)){eo.DEBUG_BUILD&&Pt.logger.log(Cre);return}let o=r&&r.event_id;return this._process(this._captureEvent(e,r,i).then(s=>{o=s})),o}captureSession(e){typeof e.release!="string"?eo.DEBUG_BUILD&&Pt.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),xre.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then(i=>r.flush(e).then(o=>i&&o))):Pt.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return eo.DEBUG_BUILD&&Pt.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){hre.setupIntegration(this,e,this._integrations)}sendEvent(e,r={}){this.emit("beforeSendEvent",e,r);let i=Ire.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of r.attachments||[])i=Pt.addItemToEnvelope(i,Pt.createAttachmentEnvelopeItem(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let o=this._sendEnvelope(i);o&&o.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){let r=Ire.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}recordDroppedEvent(e,r,i){if(this._options.sendClientReports){let o=`${e}:${r}`;eo.DEBUG_BUILD&&Pt.logger.log(`Adding outcome: "${o}"`),this._outcomes[o]=this._outcomes[o]+1||1}}captureAggregateMetrics(e){eo.DEBUG_BUILD&&Pt.logger.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);let r=gBe.createMetricEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(i=>i(...r))}_setupIntegrations(){this._integrations=hre.setupIntegrations(this,this._options.integrations),this._integrationsInitialized=!0}_updateSessionFromEvent(e,r){let i=!1,o=!1,s=r.exception&&r.exception.values;if(s){o=!0;for(let c of s){let g=c.mechanism;if(g&&g.handled===!1){i=!0;break}}}let l=e.status==="ok";(l&&e.errors===0||l&&i)&&(xre.updateSession(e,{...i&&{status:"crashed"},errors:e.errors||Number(o||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Pt.SyncPromise(r=>{let i=0,o=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(i+=o,e&&i>=e&&(clearInterval(s),r(!1)))},o)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,r,i,o=pBe.getIsolationScope()){let s=this.getOptions(),l=Object.keys(this._integrations);return!r.integrations&&l.length>0&&(r.integrations=l),this.emit("preprocessEvent",e,r),bBe.prepareEvent(s,e,r,i,this,o).then(u=>{if(u===null)return u;let{propagationContext:c}=u.sdkProcessingMetadata||{};if(!(u.contexts&&u.contexts.trace)&&c){let{traceId:p,spanId:f,parentSpanId:I,dsc:v}=c;u.contexts={trace:{trace_id:p,span_id:f,parent_span_id:I},...u.contexts};let C=v||mBe.getDynamicSamplingContextFromClient(p,this,i);u.sdkProcessingMetadata={dynamicSamplingContext:C,...u.sdkProcessingMetadata}}return u})}_captureEvent(e,r={},i){return this._processEvent(e,r,i).then(o=>o.event_id,o=>{if(eo.DEBUG_BUILD){let s=o;s.logLevel==="log"?Pt.logger.log(s.message):Pt.logger.warn(s)}})}_processEvent(e,r,i){let o=this.getOptions(),{sampleRate:s}=o,l=vre(e),u=Are(e),c=e.type||"error",g=`before send for type \`${c}\``;if(u&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),Pt.rejectedSyncPromise(new Pt.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let p=c==="replay_event"?"replay":c;return this._prepareEvent(e,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p,e),new Pt.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;let v=yBe(o,f,r);return fBe(v,g)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",p,e),new Pt.SentryError(`${g} returned \`null\`, will not send event.`,"log");let I=i&&i.getSession();!l&&I&&this._updateSessionFromEvent(I,f);let v=f.transaction_info;if(l&&v&&f.transaction!==e.transaction){let C="custom";f.transaction_info={...v,source:C}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof Pt.SentryError?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Pt.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,r=>{eo.DEBUG_BUILD&&Pt.logger.error("Error while sending event:",r)});eo.DEBUG_BUILD&&Pt.logger.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[i,o]=r.split(":");return{reason:i,category:o,quantity:e[r]}})}};function fBe(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Pt.isThenable(t))return t.then(i=>{if(!Pt.isPlainObject(i)&&i!==null)throw new Pt.SentryError(r);return i},i=>{throw new Pt.SentryError(`${e} rejected with ${i}`)});if(!Pt.isPlainObject(t)&&t!==null)throw new Pt.SentryError(r);return t}function yBe(t,e,r){let{beforeSend:i,beforeSendTransaction:o}=t;return Are(e)&&i?i(e,r):vre(e)&&o?o(e,r):e}function Are(t){return t.type===void 0}function vre(t){return t.type==="transaction"}function IBe(t){let e=cBe.getClient();!e||!e.addEventProcessor||e.addEventProcessor(t)}JC.BaseClient=yw;JC.addEventProcessor=IBe});var Cw=O(xw=>{Object.defineProperty(xw,"__esModule",{value:!0});var hw=ge();function hBe(t,e,r,i,o){let s={sent_at:new Date().toISOString()};r&&r.sdk&&(s.sdk={name:r.sdk.name,version:r.sdk.version}),i&&o&&(s.dsn=hw.dsnToString(o)),e&&(s.trace=hw.dropUndefinedKeys(e));let l=xBe(t);return hw.createEnvelope(s,[l])}function xBe(t){return[{type:"check_in"},t]}xw.createCheckInEnvelope=hBe});var Aw=O(Vd=>{Object.defineProperty(Vd,"__esModule",{value:!0});var QC=lp(),CBe=Yb(),$C=class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},eA=class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},tA=class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},rA=class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map(e=>typeof e=="string"?CBe.simpleHash(e):e).join(":")}},ABe={[QC.COUNTER_METRIC_TYPE]:$C,[QC.GAUGE_METRIC_TYPE]:eA,[QC.DISTRIBUTION_METRIC_TYPE]:tA,[QC.SET_METRIC_TYPE]:rA};Vd.CounterMetric=$C;Vd.DistributionMetric=tA;Vd.GaugeMetric=eA;Vd.METRIC_MAP=ABe;Vd.SetMetric=rA});var Fre=O(Sw=>{Object.defineProperty(Sw,"__esModule",{value:!0});var Sre=ge(),Xb=lp(),vBe=Aw(),Ore=Yb(),vw=class{constructor(e){this._client=e,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),Xb.DEFAULT_FLUSH_INTERVAL),this._flushShift=Math.floor(Math.random()*Xb.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(e,r,i,o="none",s={},l=Sre.timestampInSeconds()){let u=Math.floor(l),c=r.replace(Xb.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_"),g=Ore.sanitizeTags(s),p=Ore.getBucketKey(e,c,o,g),f=this._buckets.get(p);f?(f.metric.add(i),f.timestamp<u&&(f.timestamp=u)):(f={metric:new vBe.METRIC_MAP[e](i),timestamp:u,metricType:e,name:c,unit:o,tags:g},this._buckets.set(p,f)),this._bucketsTotalWeight+=f.metric.weight,this._bucketsTotalWeight>=Xb.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}let e=Math.floor(Sre.timestampInSeconds())-Xb.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,r=new Map;for(let[i,o]of this._buckets)o.timestamp<=e&&(r.set(i,o),this._bucketsTotalWeight-=o.metric.weight);for(let[i]of r)this._buckets.delete(i);this._captureMetrics(r)}_captureMetrics(e){if(e.size>0&&this._client.captureAggregateMetrics){let r=Array.from(e).map(([,i])=>i);this._client.captureAggregateMetrics(r)}}};Sw.MetricsAggregator=vw});var Rre=O(Fw=>{Object.defineProperty(Fw,"__esModule",{value:!0});var pa=ge(),SBe=Iw(),OBe=Cw(),nA=qr(),FBe=As(),DBe=Fre(),RBe=pw(),jBe=ew(),PBe=Qn(),_Be=ep(),Dre=tp();tw();var Ow=class extends SBe.BaseClient{constructor(e){jBe.addTracingExtensions(),super(e),e._experiments&&e._experiments.metricsAggregator&&(this.metricsAggregator=new DBe.MetricsAggregator(this))}eventFromException(e,r){return pa.resolvedSyncPromise(pa.eventFromUnknownInput(FBe.getClient(),this._options.stackParser,e,r))}eventFromMessage(e,r="info",i){return pa.resolvedSyncPromise(pa.eventFromMessage(this._options.stackParser,e,r,i,this._options.attachStacktrace))}captureException(e,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){let o=i.getRequestSession();o&&o.status==="ok"&&(o.status="errored")}return super.captureException(e,r,i)}captureEvent(e,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i&&(e.type||"exception")==="exception"&&e.exception&&e.exception.values&&e.exception.values.length>0){let l=i.getRequestSession();l&&l.status==="ok"&&(l.status="errored")}return super.captureEvent(e,r,i)}close(e){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(e)}initSessionFlusher(){let{release:e,environment:r}=this._options;e?this._sessionFlusher=new RBe.SessionFlusher(this,{release:e,environment:r}):nA.DEBUG_BUILD&&pa.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(e,r,i){let o="checkInId"in e&&e.checkInId?e.checkInId:pa.uuid4();if(!this._isEnabled())return nA.DEBUG_BUILD&&pa.logger.warn("SDK not enabled, will not capture checkin."),o;let s=this.getOptions(),{release:l,environment:u,tunnel:c}=s,g={check_in_id:o,monitor_slug:e.monitorSlug,status:e.status,release:l,environment:u};"duration"in e&&(g.duration=e.duration),r&&(g.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let[p,f]=this._getTraceInfoFromScope(i);f&&(g.contexts={trace:f});let I=OBe.createCheckInEnvelope(g,p,this.getSdkMetadata(),c,this.getDsn());return nA.DEBUG_BUILD&&pa.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(I),o}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():nA.DEBUG_BUILD&&pa.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(e,r,i,o){return this._options.platform&&(e.platform=e.platform||this._options.platform),this._options.runtime&&(e.contexts={...e.contexts,runtime:(e.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(e.server_name=e.server_name||this._options.serverName),super._prepareEvent(e,r,i,o)}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];let r=e.getSpan();if(r)return[_Be.getRootSpan(r)?Dre.getDynamicSamplingContextFromSpan(r):void 0,PBe.spanToTraceContext(r)];let{traceId:i,spanId:o,parentSpanId:s,dsc:l}=e.getPropagationContext(),u={trace_id:i,span_id:o,parent_span_id:s};return l?[l,u]:[Dre.getDynamicSamplingContextFromClient(i,this,e),u]}};Fw.ServerRuntimeClient=Ow});var _re=O(iA=>{Object.defineProperty(iA,"__esModule",{value:!0});var jre=ge(),TBe=qr(),kBe=As(),wBe=Qs();function EBe(t,e){e.debug===!0&&(TBe.DEBUG_BUILD?jre.logger.enable():jre.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),kBe.getCurrentScope().update(e.initialScope);let i=new t(e);Pre(i),UBe(i)}function Pre(t){let r=wBe.getCurrentHub().getStackTop();r.client=t,r.scope.setClient(t)}function UBe(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}iA.initAndBind=EBe;iA.setCurrentClient=Pre});var Ere=O(sA=>{Object.defineProperty(sA,"__esModule",{value:!0});var ei=ge(),Tre=qr(),wre=30;function MBe(t,e,r=ei.makePromiseBuffer(t.bufferSize||wre)){let i={},o=l=>r.drain(l);function s(l){let u=[];if(ei.forEachEnvelopeItem(l,(f,I)=>{let v=ei.envelopeItemTypeToDataCategory(I);if(ei.isRateLimited(i,v)){let C=kre(f,I);t.recordDroppedEvent("ratelimit_backoff",v,C)}else u.push(f)}),u.length===0)return ei.resolvedSyncPromise();let c=ei.createEnvelope(l[0],u),g=f=>{ei.forEachEnvelopeItem(c,(I,v)=>{let C=kre(I,v);t.recordDroppedEvent(f,ei.envelopeItemTypeToDataCategory(v),C)})},p=()=>e({body:ei.serializeEnvelope(c,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&Tre.DEBUG_BUILD&&ei.logger.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),i=ei.updateRateLimits(i,f),f),f=>{throw g("network_error"),f});return r.add(p).then(f=>f,f=>{if(f instanceof ei.SentryError)return Tre.DEBUG_BUILD&&ei.logger.error("Skipped sending event because buffer is full."),g("queue_overflow"),ei.resolvedSyncPromise();throw f})}return s.__sentry__baseTransport__=!0,{send:s,flush:o}}function kre(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}sA.DEFAULT_TRANSPORT_BUFFER_SIZE=wre;sA.createTransport=MBe});var Mre=O(zb=>{Object.defineProperty(zb,"__esModule",{value:!0});var Rw=ge(),LBe=qr(),Ure=100,jw=5e3,VBe=36e5;function Dw(t,e){LBe.DEBUG_BUILD&&Rw.logger.info(`[Offline]: ${t}`,e)}function BBe(t){return e=>{let r=t(e),i=e.createStore?e.createStore(e):void 0,o=jw,s;function l(p,f,I){return Rw.envelopeContainsItemType(p,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(p,f,I):!0}function u(p){i&&(s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let f=await i.pop();f&&(Dw("Attempting to send previously queued event"),g(f).catch(I=>{Dw("Failed to retry sending",I)}))},p),typeof s!="number"&&s.unref&&s.unref())}function c(){s||(u(o),o=Math.min(o*2,VBe))}async function g(p){try{let f=await r.send(p),I=Ure;if(f){if(f.headers&&f.headers["retry-after"])I=Rw.parseRetryAfterHeader(f.headers["retry-after"]);else if((f.statusCode||0)>=400)return f}return u(I),o=jw,f}catch(f){if(i&&await l(p,f,o))return await i.insert(p),c(),Dw("Error sending. Event queued",f),{};throw f}}return e.flushAtStartup&&c(),{send:g,flush:p=>r.flush(p)}}}zb.MIN_DELAY=Ure;zb.START_DELAY=jw;zb.makeOfflineTransport=BBe});var Vre=O(oA=>{Object.defineProperty(oA,"__esModule",{value:!0});var Lre=ge(),NBe=XC();function Pw(t,e){let r;return Lre.forEachEnvelopeItem(t,(i,o)=>(e.includes(o)&&(r=Array.isArray(i)?i[1]:void 0),!!r)),r}function WBe(t,e){return r=>{let i=t(r);return{send:async o=>{let s=Pw(o,["event","transaction","profile","replay_event"]);return s&&(s.release=e),i.send(o)},flush:o=>i.flush(o)}}}function GBe(t,e){return r=>{let i=t(r),o={};function s(c,g){let p=g?`${c}:${g}`:c;if(!o[p]){let f=Lre.dsnFromString(c);if(!f)return;let I=NBe.getEnvelopeEndpointWithUrlEncodedAuth(f);o[p]=g?WBe(t,g)({...r,url:I}):t({...r,url:I})}return o[p]}async function l(c){function g(I){let v=I&&I.length?I:["event"];return Pw(c,v)}let p=e({envelope:c,getEvent:g}).map(I=>typeof I=="string"?s(I,void 0):s(I.dsn,I.release)).filter(I=>!!I);return p.length===0&&p.push(i),(await Promise.all(p.map(I=>I.send(c))))[0]}async function u(c){let g=[...Object.keys(o).map(f=>o[f]),i];return(await Promise.all(g.map(f=>f.flush(c)))).every(f=>f)}return{send:l,flush:u}}}oA.eventFromEnvelope=Pw;oA.makeMultiplexedTransport=GBe});var Nre=O(_w=>{Object.defineProperty(_w,"__esModule",{value:!0});function ZBe(t,e){let r=e&&qBe(e)?e.getClient():e,i=r&&r.getDsn(),o=r&&r.getOptions().tunnel;return KBe(t,i)||HBe(t,o)}function HBe(t,e){return e?Bre(t)===Bre(e):!1}function KBe(t,e){return e?t.includes(e.host):!1}function Bre(t){return t[t.length-1]==="/"?t.slice(0,-1):t}function qBe(t){return t.getClient!==void 0}_w.isSentryRequestUrl=ZBe});var Hre=O(Jb=>{Object.defineProperty(Jb,"__esModule",{value:!0});var Tw=ge(),Gre=new Map,Wre=new Set;function YBe(t){if(Tw.GLOBAL_OBJ._sentryModuleMetadata)for(let e of Object.keys(Tw.GLOBAL_OBJ._sentryModuleMetadata)){let r=Tw.GLOBAL_OBJ._sentryModuleMetadata[e];if(Wre.has(e))continue;Wre.add(e);let i=t(e);for(let o of i.reverse())if(o.filename){Gre.set(o.filename,r);break}}}function Zre(t,e){return YBe(t),Gre.get(e)}function XBe(t,e){try{e.exception.values.forEach(r=>{if(r.stacktrace)for(let i of r.stacktrace.frames||[]){if(!i.filename)continue;let o=Zre(t,i.filename);o&&(i.module_metadata=o)}})}catch{}}function zBe(t){try{t.exception.values.forEach(e=>{if(e.stacktrace)for(let r of e.stacktrace.frames||[])delete r.module_metadata})}catch{}}Jb.addMetadataToStackFrames=XBe;Jb.getMetadataForUrl=Zre;Jb.stripMetadataFromStackFrames=zBe});var zre=O(aA=>{Object.defineProperty(aA,"__esModule",{value:!0});var JBe=ge(),qre=ca(),Kre=Hre(),Yre="ModuleMetadata",QBe=()=>({name:Yre,setupOnce(){},setup(t){typeof t.on=="function"&&t.on("beforeEnvelope",e=>{JBe.forEachEnvelopeItem(e,(r,i)=>{if(i==="event"){let o=Array.isArray(r)?r[1]:void 0;o&&(Kre.stripMetadataFromStackFrames(o),r[1]=o)}})})},processEvent(t,e,r){let i=r.getOptions().stackParser;return Kre.addMetadataToStackFrames(i,t),t}}),Xre=qre.defineIntegration(QBe),$Be=qre.convertIntegrationFnToClass(Yre,Xre);aA.ModuleMetadata=$Be;aA.moduleMetadataIntegration=Xre});var tne=O(lA=>{Object.defineProperty(lA,"__esModule",{value:!0});var Jre=ge(),Qre=ca(),eNe=Qn(),kw={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},$re="RequestData",tNe=(t={})=>{let e=Jre.addRequestDataToEvent,r={...kw,...t,include:{method:!0,...kw.include,...t.include,user:t.include&&typeof t.include.user=="boolean"?t.include.user:{...kw.include.user,...(t.include||{}).user}}};return{name:$re,setupOnce(){},processEvent(i,o,s){let{transactionNamingScheme:l}=r,{sdkProcessingMetadata:u={}}=i,c=u.request;if(!c)return i;let g=u.requestDataOptionsFromExpressHandler||u.requestDataOptionsFromGCPWrapper||nNe(r),p=e(i,c,g);if(i.type==="transaction"||l==="handler")return p;let I=c._sentryTransaction;if(I){let v=eNe.spanToJSON(I).description||"",C=iNe(s)==="sentry.javascript.nextjs"?v.startsWith("/api"):l!=="path",[F]=Jre.extractPathForTransaction(c,{path:!0,method:C,customRoute:v});p.transaction=F}return p}}},ene=Qre.defineIntegration(tNe),rNe=Qre.convertIntegrationFnToClass($re,ene);function nNe(t){let{transactionNamingScheme:e,include:{ip:r,user:i,...o}}=t,s=[];for(let[u,c]of Object.entries(o))c&&s.push(u);let l;if(i===void 0)l=!0;else if(typeof i=="boolean")l=i;else{let u=[];for(let[c,g]of Object.entries(i))g&&u.push(c);l=u}return{include:{ip:r,user:l,request:s.length!==0?s:void 0,transaction:e}}}function iNe(t){try{return t.getOptions()._metadata.sdk.name}catch{return}}lA.RequestData=rNe;lA.requestDataIntegration=ene});var ww=O(uA=>{Object.defineProperty(uA,"__esModule",{value:!0});var $r=ge(),Bd=qr(),rne=ca(),sNe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],oNe=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],nne="InboundFilters",aNe=(t={})=>({name:nne,setupOnce(){},processEvent(e,r,i){let o=i.getOptions(),s=dNe(t,o);return uNe(e,s)?null:e}}),ine=rne.defineIntegration(aNe),lNe=rne.convertIntegrationFnToClass(nne,ine);function dNe(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:sNe],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:oNe],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function uNe(t,e){return e.ignoreInternal&&fNe(t)?(Bd.DEBUG_BUILD&&$r.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${$r.getEventDescription(t)}`),!0):cNe(t,e.ignoreErrors)?(Bd.DEBUG_BUILD&&$r.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$r.getEventDescription(t)}`),!0):pNe(t,e.ignoreTransactions)?(Bd.DEBUG_BUILD&&$r.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$r.getEventDescription(t)}`),!0):gNe(t,e.denyUrls)?(Bd.DEBUG_BUILD&&$r.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$r.getEventDescription(t)}.
Url: ${dA(t)}`),!0):mNe(t,e.allowUrls)?!1:(Bd.DEBUG_BUILD&&$r.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$r.getEventDescription(t)}.
Url: ${dA(t)}`),!0)}function cNe(t,e){return t.type||!e||!e.length?!1:bNe(t).some(r=>$r.stringMatchesSomePattern(r,e))}function pNe(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?$r.stringMatchesSomePattern(r,e):!1}function gNe(t,e){if(!e||!e.length)return!1;let r=dA(t);return r?$r.stringMatchesSomePattern(r,e):!1}function mNe(t,e){if(!e||!e.length)return!0;let r=dA(t);return r?$r.stringMatchesSomePattern(r,e):!0}function bNe(t){let e=[];t.message&&e.push(t.message);let r;try{r=t.exception.values[t.exception.values.length-1]}catch{}return r&&r.value&&(e.push(r.value),r.type&&e.push(`${r.type}: ${r.value}`)),Bd.DEBUG_BUILD&&e.length===0&&$r.logger.error(`Could not extract message for event ${$r.getEventDescription(t)}`),e}function fNe(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function yNe(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function dA(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?yNe(e):null}catch{return Bd.DEBUG_BUILD&&$r.logger.error(`Cannot extract url for event ${$r.getEventDescription(t)}`),null}}uA.InboundFilters=lNe;uA.inboundFiltersIntegration=ine});var Ew=O(cA=>{Object.defineProperty(cA,"__esModule",{value:!0});var INe=ge(),one=ca(),sne,ane="FunctionToString",hNe=()=>({name:ane,setupOnce(){sne=Function.prototype.toString;try{Function.prototype.toString=function(...t){let e=INe.getOriginalFunction(this)||this;return sne.apply(e,t)}}catch{}}}),lne=one.defineIntegration(hNe),xNe=one.convertIntegrationFnToClass(ane,lne);cA.FunctionToString=xNe;cA.functionToStringIntegration=lne});var Uw=O(pA=>{Object.defineProperty(pA,"__esModule",{value:!0});var dne=ge(),une=ca(),CNe="cause",ANe=5,cne="LinkedErrors",vNe=(t={})=>{let e=t.limit||ANe,r=t.key||CNe;return{name:cne,setupOnce(){},preprocessEvent(i,o,s){let l=s.getOptions();dne.applyAggregateErrorsToEvent(dne.exceptionFromError,l.stackParser,l.maxValueLength,r,e,i,o)}}},pne=une.defineIntegration(vNe),SNe=une.convertIntegrationFnToClass(cne,pne);pA.LinkedErrors=SNe;pA.linkedErrorsIntegration=pne});var gne=O(Qb=>{Object.defineProperty(Qb,"__esModule",{value:!0});var ONe=Ew(),FNe=ww(),DNe=Uw();Qb.FunctionToString=ONe.FunctionToString;Qb.InboundFilters=FNe.InboundFilters;Qb.LinkedErrors=DNe.LinkedErrors});var fne=O(Lw=>{Object.defineProperty(Lw,"__esModule",{value:!0});var RNe=ge(),mne=lp(),jNe=Aw(),bne=Yb(),Mw=class{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),mne.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(e,r,i,o="none",s={},l=RNe.timestampInSeconds()){let u=Math.floor(l),c=r.replace(mne.NAME_AND_TAG_KEY_NORMALIZATION_REGEX,"_"),g=bne.sanitizeTags(s),p=bne.getBucketKey(e,c,o,g),f=this._buckets.get(p);f?(f.metric.add(i),f.timestamp<u&&(f.timestamp=u)):this._buckets.set(p,{metric:new jNe.METRIC_MAP[e](i),timestamp:u,metricType:e,name:c,unit:o,tags:g})}flush(){if(this._buckets.size!==0){if(this._client.captureAggregateMetrics){let e=Array.from(this._buckets).map(([,r])=>r);this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}};Lw.BrowserMetricsAggregator=Mw});var xne=O(gA=>{Object.defineProperty(gA,"__esModule",{value:!0});var yne=ca(),PNe=fne(),Ine="MetricsAggregator",_Ne=()=>({name:Ine,setupOnce(){},setup(t){t.metricsAggregator=new PNe.BrowserMetricsAggregator(t)}}),hne=yne.defineIntegration(_Ne),TNe=yne.convertIntegrationFnToClass(Ine,hne);gA.MetricsAggregator=TNe;gA.metricsAggregatorIntegration=hne});var jne=O(Nd=>{Object.defineProperty(Nd,"__esModule",{value:!0});var Cne=ge(),Ane=qr(),vne=As(),kNe=Qn(),mA=lp(),Sne=xne();function bA(t,e,r,i={}){let o=vne.getClient(),s=vne.getCurrentScope();if(o){if(!o.metricsAggregator){Ane.DEBUG_BUILD&&Cne.logger.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs");return}let{unit:l,tags:u,timestamp:c}=i,{release:g,environment:p}=o.getOptions(),f=s.getTransaction(),I={};g&&(I.release=g),p&&(I.environment=p),f&&(I.transaction=kNe.spanToJSON(f).description||""),Ane.DEBUG_BUILD&&Cne.logger.log(`Adding value of ${r} to ${t} metric ${e}`),o.metricsAggregator.add(t,e,r,l,{...I,...u},c)}}function One(t,e=1,r){bA(mA.COUNTER_METRIC_TYPE,t,e,r)}function Fne(t,e,r){bA(mA.DISTRIBUTION_METRIC_TYPE,t,e,r)}function Dne(t,e,r){bA(mA.SET_METRIC_TYPE,t,e,r)}function Rne(t,e,r){bA(mA.GAUGE_METRIC_TYPE,t,e,r)}var wNe={increment:One,distribution:Fne,set:Dne,gauge:Rne,MetricsAggregator:Sne.MetricsAggregator,metricsAggregatorIntegration:Sne.metricsAggregatorIntegration};Nd.distribution=Fne;Nd.gauge=Rne;Nd.increment=One;Nd.metrics=wNe;Nd.set=Dne});var lt=O(be=>{Object.defineProperty(be,"__esModule",{value:!0});var Pne=ew(),_ne=Jk(),Tne=EC(),ENe=LC(),kne=kC(),UNe=tw(),Wd=cre(),wne=tp(),MNe=pre(),Vw=Bb(),Ene=dw(),er=As(),to=Qs(),Bw=Jc(),LNe=pw(),Nw=DC(),Une=Pb(),Mne=XC(),Lne=Iw(),VNe=Rre(),Vne=_re(),BNe=Ere(),NNe=Mre(),WNe=Vre(),GNe=Bk(),fA=ca(),Bne=FC(),ZNe=OC(),HNe=Cw(),KNe=WC(),qNe=Nre(),YNe=nw(),Ww=Qn(),XNe=ep(),zNe=zc(),Nne=zre(),Wne=tne(),Gne=ww(),Zne=Ew(),Hne=Uw(),JNe=gne(),QNe=jne(),$Ne=JNe;be.addTracingExtensions=Pne.addTracingExtensions;be.startIdleTransaction=Pne.startIdleTransaction;be.IdleTransaction=_ne.IdleTransaction;be.TRACING_DEFAULTS=_ne.TRACING_DEFAULTS;be.Span=Tne.Span;be.spanStatusfromHttpCode=Tne.spanStatusfromHttpCode;be.Transaction=ENe.Transaction;be.extractTraceparentData=kne.extractTraceparentData;be.getActiveTransaction=kne.getActiveTransaction;Object.defineProperty(be,"SpanStatus",{enumerable:!0,get:()=>UNe.SpanStatus});be.continueTrace=Wd.continueTrace;be.getActiveSpan=Wd.getActiveSpan;be.startActiveSpan=Wd.startActiveSpan;be.startInactiveSpan=Wd.startInactiveSpan;be.startSpan=Wd.startSpan;be.startSpanManual=Wd.startSpanManual;be.trace=Wd.trace;be.getDynamicSamplingContextFromClient=wne.getDynamicSamplingContextFromClient;be.getDynamicSamplingContextFromSpan=wne.getDynamicSamplingContextFromSpan;be.setMeasurement=MNe.setMeasurement;be.SEMANTIC_ATTRIBUTE_SENTRY_OP=Vw.SEMANTIC_ATTRIBUTE_SENTRY_OP;be.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=Vw.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE;be.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=Vw.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE;be.createEventEnvelope=Ene.createEventEnvelope;be.createSessionEnvelope=Ene.createSessionEnvelope;be.addBreadcrumb=er.addBreadcrumb;be.captureCheckIn=er.captureCheckIn;be.captureEvent=er.captureEvent;be.captureException=er.captureException;be.captureMessage=er.captureMessage;be.captureSession=er.captureSession;be.close=er.close;be.configureScope=er.configureScope;be.endSession=er.endSession;be.flush=er.flush;be.getClient=er.getClient;be.getCurrentScope=er.getCurrentScope;be.lastEventId=er.lastEventId;be.setContext=er.setContext;be.setExtra=er.setExtra;be.setExtras=er.setExtras;be.setTag=er.setTag;be.setTags=er.setTags;be.setUser=er.setUser;be.startSession=er.startSession;be.startTransaction=er.startTransaction;be.withActiveSpan=er.withActiveSpan;be.withIsolationScope=er.withIsolationScope;be.withMonitor=er.withMonitor;be.withScope=er.withScope;be.Hub=to.Hub;be.ensureHubOnCarrier=to.ensureHubOnCarrier;be.getCurrentHub=to.getCurrentHub;be.getHubFromCarrier=to.getHubFromCarrier;be.getIsolationScope=to.getIsolationScope;be.getMainCarrier=to.getMainCarrier;be.makeMain=to.makeMain;be.runWithAsyncContext=to.runWithAsyncContext;be.setAsyncContextStrategy=to.setAsyncContextStrategy;be.setHubOnCarrier=to.setHubOnCarrier;be.closeSession=Bw.closeSession;be.makeSession=Bw.makeSession;be.updateSession=Bw.updateSession;be.SessionFlusher=LNe.SessionFlusher;be.Scope=Nw.Scope;be.getGlobalScope=Nw.getGlobalScope;be.setGlobalScope=Nw.setGlobalScope;be.addGlobalEventProcessor=Une.addGlobalEventProcessor;be.notifyEventProcessors=Une.notifyEventProcessors;be.getEnvelopeEndpointWithUrlEncodedAuth=Mne.getEnvelopeEndpointWithUrlEncodedAuth;be.getReportDialogEndpoint=Mne.getReportDialogEndpoint;be.BaseClient=Lne.BaseClient;be.addEventProcessor=Lne.addEventProcessor;be.ServerRuntimeClient=VNe.ServerRuntimeClient;be.initAndBind=Vne.initAndBind;be.setCurrentClient=Vne.setCurrentClient;be.createTransport=BNe.createTransport;be.makeOfflineTransport=NNe.makeOfflineTransport;be.makeMultiplexedTransport=WNe.makeMultiplexedTransport;be.SDK_VERSION=GNe.SDK_VERSION;be.addIntegration=fA.addIntegration;be.convertIntegrationFnToClass=fA.convertIntegrationFnToClass;be.defineIntegration=fA.defineIntegration;be.getIntegrationsToSetup=fA.getIntegrationsToSetup;be.applyScopeDataToEvent=Bne.applyScopeDataToEvent;be.mergeScopeData=Bne.mergeScopeData;be.prepareEvent=ZNe.prepareEvent;be.createCheckInEnvelope=HNe.createCheckInEnvelope;be.hasTracingEnabled=KNe.hasTracingEnabled;be.isSentryRequestUrl=qNe.isSentryRequestUrl;be.handleCallbackErrors=YNe.handleCallbackErrors;be.spanIsSampled=Ww.spanIsSampled;be.spanToJSON=Ww.spanToJSON;be.spanToTraceHeader=Ww.spanToTraceHeader;be.getRootSpan=XNe.getRootSpan;be.DEFAULT_ENVIRONMENT=zNe.DEFAULT_ENVIRONMENT;be.ModuleMetadata=Nne.ModuleMetadata;be.moduleMetadataIntegration=Nne.moduleMetadataIntegration;be.RequestData=Wne.RequestData;be.requestDataIntegration=Wne.requestDataIntegration;be.InboundFilters=Gne.InboundFilters;be.inboundFiltersIntegration=Gne.inboundFiltersIntegration;be.FunctionToString=Zne.FunctionToString;be.functionToStringIntegration=Zne.functionToStringIntegration;be.LinkedErrors=Hne.LinkedErrors;be.linkedErrorsIntegration=Hne.linkedErrorsIntegration;be.metrics=QNe.metrics;be.Integrations=$Ne});var Ai=O(Gw=>{Object.defineProperty(Gw,"__esModule",{value:!0});var eWe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;Gw.DEBUG_BUILD=eWe});var hl=O(Zw=>{var{_optionalChain:Kne}=ge();Object.defineProperty(Zw,"__esModule",{value:!0});function tWe(t){let e=Kne([t,"call",i=>i(),"access",i=>i.getClient,"call",i=>i(),"optionalAccess",i=>i.getOptions,"call",i=>i()]);return(Kne([e,"optionalAccess",i=>i.instrumenter])||"sentry")!=="sentry"}Zw.shouldDisableAutoInstrumentation=tWe});var zne=O($b=>{var{_optionalChain:ro}=ge();Object.defineProperty($b,"__esModule",{value:!0});var Hw=lt(),ti=ge(),yA=Ai(),rWe=hl(),up=class{static __initStatic(){this.id="Express"}constructor(e={}){this.name=up.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,r){if(!this._router){yA.DEBUG_BUILD&&ti.logger.error("ExpressIntegration is missing an Express instance");return}if(rWe.shouldDisableAutoInstrumentation(r)){yA.DEBUG_BUILD&&ti.logger.log("Express Integration is skipped because of instrumenter configuration.");return}sWe(this._router,this._methods),oWe(this._router)}};up.__initStatic();function qne(t,e){let r=t.length;switch(r){case 2:return function(i,o){let s=o.__sentry_transaction;if(s){let l=s.startChild({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"});o.once("finish",()=>{l.end()})}return t.call(this,i,o)};case 3:return function(i,o,s){let l=o.__sentry_transaction,u=ro([l,"optionalAccess",c=>c.startChild,"call",c=>c({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,i,o,function(...c){ro([u,"optionalAccess",g=>g.end,"call",g=>g()]),s.call(this,...c)})};case 4:return function(i,o,s,l){let u=s.__sentry_transaction,c=ro([u,"optionalAccess",g=>g.startChild,"call",g=>g({description:t.name,op:`middleware.express.${e}`,origin:"auto.middleware.express"})]);t.call(this,i,o,s,function(...g){ro([c,"optionalAccess",p=>p.end,"call",p=>p()]),l.call(this,...g)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${r}`)}}function nWe(t,e){return t.map(r=>typeof r=="function"?qne(r,e):Array.isArray(r)?r.map(i=>typeof i=="function"?qne(i,e):i):r)}function iWe(t,e){let r=t[e];return t[e]=function(...i){return r.call(this,...nWe(i,e))},t}function sWe(t,e=[]){e.forEach(r=>iWe(t,r))}function oWe(t){let e="settings"in t;e&&t._router===void 0&&t.lazyrouter&&t.lazyrouter();let r=e?t._router:t;if(!r){yA.DEBUG_BUILD&&ti.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),yA.DEBUG_BUILD&&ti.logger.debug("Routing instrumentation is currently only supported in Express 4.");return}let i=Object.getPrototypeOf(r),o=i.process_params;i.process_params=function(l,u,c,g,p){c._reconstructedRoute||(c._reconstructedRoute="");let{layerRoutePath:f,isRegex:I,isArray:v,numExtraSegments:C}=aWe(l);(f||I||v)&&(c._hasParameters=!0);let F;f?F=f:F=Xne(c.originalUrl,c._reconstructedRoute,l.path)||"";let P=F.split("/").filter(k=>k.length>0&&(I||v||!k.includes("*"))).join("/");P&&P.length>0&&(c._reconstructedRoute+=`/${P}${I?"/":""}`);let E=ti.getNumberOfUrlSegments(ti.stripUrlQueryAndFragment(c.originalUrl||""))+C,J=ti.getNumberOfUrlSegments(c._reconstructedRoute);if(E===J){c._hasParameters||c._reconstructedRoute!==c.originalUrl&&(c._reconstructedRoute=c.originalUrl?ti.stripUrlQueryAndFragment(c.originalUrl):c.originalUrl);let k=g.__sentry_transaction,ee=k&&Hw.spanToJSON(k).data||{};if(k&&ee[Hw.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]!=="custom"){let ce=c._reconstructedRoute||"/",[Q,he]=ti.extractPathForTransaction(c,{path:!0,method:!0,customRoute:ce});k.updateName(Q),k.setAttribute(Hw.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,he)}}return o.call(this,l,u,c,g,p)}}var Yne=(t,e,r)=>{if(!t||!e||!r||Object.keys(r).length===0||!ro([r,"access",g=>g[0],"optionalAccess",g=>g.offset]))return;let i=r.sort((g,p)=>g.offset-p.offset),s=new RegExp(e,`${e.flags}d`).exec(t);if(!s||!s.indices)return;let[,...l]=s.indices;if(l.length!==i.length)return;let u=t,c=0;return l.forEach((g,p)=>{if(g){let[f,I]=g,v=u.substring(0,f-c),C=`:${i[p].name}`,F=u.substring(I-c);u=v+C+F,c=c+(I-f-C.length)}}),u};function aWe(t){let e=ro([t,"access",l=>l.route,"optionalAccess",l=>l.path]),r=ti.isRegExp(e),i=Array.isArray(e);if(!e){let[l]=ti.GLOBAL_OBJ.process.versions.node.split(".").map(Number);l>=16&&(e=Yne(t.path,t.regexp,t.keys))}if(!e)return{isRegex:r,isArray:i,numExtraSegments:0};let o=i?Math.max(lWe(e)-ti.getNumberOfUrlSegments(t.path||""),0):0;return{layerRoutePath:dWe(i,e),isRegex:r,isArray:i,numExtraSegments:o}}function lWe(t){return t.reduce((e,r)=>e+ti.getNumberOfUrlSegments(r.toString()),0)}function dWe(t,e){return t?e.map(r=>r.toString()).join(","):e&&e.toString()}function Xne(t,e,r){let i=ti.stripUrlQueryAndFragment(t||""),o=ro([i,"optionalAccess",c=>c.split,"call",c=>c("/"),"access",c=>c.filter,"call",c=>c(g=>!!g)]),s=0,l=ro([e,"optionalAccess",c=>c.split,"call",c=>c("/"),"access",c=>c.filter,"call",c=>c(g=>!!g),"access",c=>c.length])||0;return ro([r,"optionalAccess",c=>c.split,"call",c=>c("/"),"access",c=>c.filter,"call",c=>c(g=>ro([o,"optionalAccess",p=>p[l+s]])===g?(s+=1,!0):!1),"access",c=>c.join,"call",c=>c("/")])}$b.Express=up;$b.extractOriginalRoute=Yne;$b.preventDuplicateSegments=Xne});var Jne=O(qw=>{var{_optionalChain:cp}=ge();Object.defineProperty(qw,"__esModule",{value:!0});var pp=ge(),Kw=Ai(),uWe=hl(),gp=class{static __initStatic(){this.id="Postgres"}constructor(e={}){this.name=gp.id,this._usePgNative=!!e.usePgNative,this._module=e.module}loadDependency(){return this._module=this._module||pp.loadModule("pg")}setupOnce(e,r){if(uWe.shouldDisableAutoInstrumentation(r)){Kw.DEBUG_BUILD&&pp.logger.log("Postgres Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){Kw.DEBUG_BUILD&&pp.logger.error("Postgres Integration was unable to require `pg` package.");return}let o=this._usePgNative?cp([i,"access",s=>s.native,"optionalAccess",s=>s.Client]):i.Client;if(!o){Kw.DEBUG_BUILD&&pp.logger.error("Postgres Integration was unable to access 'pg-native' bindings.");return}pp.fill(o.prototype,"query",function(s){return function(l,u,c){let p=r().getScope().getSpan(),f={"db.system":"postgresql"};try{this.database&&(f["db.name"]=this.database),this.host&&(f["server.address"]=this.host),this.port&&(f["server.port"]=this.port),this.user&&(f["db.user"]=this.user)}catch{}let I=cp([p,"optionalAccess",C=>C.startChild,"call",C=>C({description:typeof l=="string"?l:l.text,op:"db",origin:"auto.db.postgres",data:f})]);if(typeof c=="function")return s.call(this,l,u,function(C,F){cp([I,"optionalAccess",P=>P.end,"call",P=>P()]),c(C,F)});if(typeof u=="function")return s.call(this,l,function(C,F){cp([I,"optionalAccess",P=>P.end,"call",P=>P()]),u(C,F)});let v=typeof u<"u"?s.call(this,l,u):s.call(this,l);return pp.isThenable(v)?v.then(C=>(cp([I,"optionalAccess",F=>F.end,"call",F=>F()]),C)):(cp([I,"optionalAccess",C=>C.end,"call",C=>C()]),v)}})}};gp.__initStatic();qw.Postgres=gp});var Qne=O(Xw=>{var{_optionalChain:cWe}=ge();Object.defineProperty(Xw,"__esModule",{value:!0});var ef=ge(),Yw=Ai(),pWe=hl(),mp=class{static __initStatic(){this.id="Mysql"}constructor(){this.name=mp.id}loadDependency(){return this._module=this._module||ef.loadModule("mysql/lib/Connection.js")}setupOnce(e,r){if(pWe.shouldDisableAutoInstrumentation(r)){Yw.DEBUG_BUILD&&ef.logger.log("Mysql Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){Yw.DEBUG_BUILD&&ef.logger.error("Mysql Integration was unable to require `mysql` package.");return}let o;try{i.prototype.connect=new Proxy(i.prototype.connect,{apply(u,c,g){return o||(o=c.config),u.apply(c,g)}})}catch{Yw.DEBUG_BUILD&&ef.logger.error("Mysql Integration was unable to instrument `mysql` config.")}function s(){return o?{"server.address":o.host,"server.port":o.port,"db.user":o.user}:{}}function l(u){if(!u)return;let c=s();Object.keys(c).forEach(g=>{u.setAttribute(g,c[g])}),u.end()}ef.fill(i,"createQuery",function(u){return function(c,g,p){let I=r().getScope().getSpan(),v=cWe([I,"optionalAccess",F=>F.startChild,"call",F=>F({description:typeof c=="string"?c:c.sql,op:"db",origin:"auto.db.mysql",data:{"db.system":"mysql"}})]);if(typeof p=="function")return u.call(this,c,g,function(F,P,E){l(v),p(F,P,E)});if(typeof g=="function")return u.call(this,c,function(F,P,E){l(v),g(F,P,E)});let C=u.call(this,c,g);return C.on("end",()=>{l(v)}),C}})}};mp.__initStatic();Xw.Mysql=mp});var eie=O(zw=>{var{_optionalChain:xl}=ge();Object.defineProperty(zw,"__esModule",{value:!0});var tf=ge(),$ne=Ai(),gWe=hl(),mWe=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],bWe={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function fWe(t){return t&&typeof t=="object"&&t.once&&typeof t.once=="function"}var bp=class{static __initStatic(){this.id="Mongo"}constructor(e={}){this.name=bp.id,this._operations=Array.isArray(e.operations)?e.operations:mWe,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){let e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||tf.loadModule(e)}setupOnce(e,r){if(gWe.shouldDisableAutoInstrumentation(r)){$ne.DEBUG_BUILD&&tf.logger.log("Mongo Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){let o=this._useMongoose?"mongoose":"mongodb";$ne.DEBUG_BUILD&&tf.logger.error(`Mongo Integration was unable to require \`${o}\` package.`);return}this._instrumentOperations(i.Collection,this._operations,r)}_instrumentOperations(e,r,i){r.forEach(o=>this._patchOperation(e,o,i))}_patchOperation(e,r,i){if(!(r in e.prototype))return;let o=this._getSpanContextFromOperationArguments.bind(this);tf.fill(e.prototype,r,function(s){return function(...l){let u=l[l.length-1],c=i(),g=c.getScope(),p=c.getClient(),f=g.getSpan(),I=xl([p,"optionalAccess",C=>C.getOptions,"call",C=>C(),"access",C=>C.sendDefaultPii]);if(typeof u!="function"||r==="mapReduce"&&l.length===2){let C=xl([f,"optionalAccess",P=>P.startChild,"call",P=>P(o(this,r,l,I))]),F=s.call(this,...l);if(tf.isThenable(F))return F.then(P=>(xl([C,"optionalAccess",E=>E.end,"call",E=>E()]),P));if(fWe(F)){let P=F;try{P.once("close",()=>{xl([C,"optionalAccess",E=>E.end,"call",E=>E()])})}catch{xl([C,"optionalAccess",J=>J.end,"call",J=>J()])}return P}else return xl([C,"optionalAccess",P=>P.end,"call",P=>P()]),F}let v=xl([f,"optionalAccess",C=>C.startChild,"call",C=>C(o(this,r,l.slice(0,-1)))]);return s.call(this,...l.slice(0,-1),function(C,F){xl([v,"optionalAccess",P=>P.end,"call",P=>P()]),u(C,F)})}})}_getSpanContextFromOperationArguments(e,r,i,o=!1){let s={"db.system":"mongodb","db.name":e.dbName,"db.operation":r,"db.mongodb.collection":e.collectionName},l={op:"db",origin:"auto.db.mongo",description:r,data:s},u=bWe[r],c=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!u||!c||!o)return l;try{if(r==="mapReduce"){let[g,p]=i;s[u[0]]=typeof g=="string"?g:g.name||"<anonymous>",s[u[1]]=typeof p=="string"?p:p.name||"<anonymous>"}else for(let g=0;g<u.length;g++)s[`db.mongodb.${u[g]}`]=JSON.stringify(i[g])}catch{}return l}};bp.__initStatic();zw.Mongo=bp});var nie=O(Jw=>{Object.defineProperty(Jw,"__esModule",{value:!0});var tie=lt(),rie=ge(),yWe=Ai(),IWe=hl();function hWe(t){return!!t&&!!t.$use}var fp=class{static __initStatic(){this.id="Prisma"}constructor(e={}){if(this.name=fp.id,hWe(e.client)&&!e.client._sentryInstrumented){rie.addNonEnumerableProperty(e.client,"_sentryInstrumented",!0);let r={};try{let i=e.client._engineConfig;if(i){let{activeProvider:o,clientVersion:s}=i;o&&(r["db.system"]=o),s&&(r["db.prisma.version"]=s)}}catch{}e.client.$use((i,o)=>{if(IWe.shouldDisableAutoInstrumentation(tie.getCurrentHub))return o(i);let s=i.action,l=i.model;return tie.startSpan({name:l?`${l} ${s}`:s,op:"db.prisma",origin:"auto.db.prisma",data:{...r,"db.operation":s}},()=>o(i))})}else yWe.DEBUG_BUILD&&rie.logger.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",e.client)}setupOnce(){}};fp.__initStatic();Jw.Prisma=fp});var sie=O(Qw=>{var{_optionalChain:yp}=ge();Object.defineProperty(Qw,"__esModule",{value:!0});var rf=ge(),iie=Ai(),xWe=hl(),Ip=class{static __initStatic(){this.id="GraphQL"}constructor(){this.name=Ip.id}loadDependency(){return this._module=this._module||rf.loadModule("graphql/execution/execute.js")}setupOnce(e,r){if(xWe.shouldDisableAutoInstrumentation(r)){iie.DEBUG_BUILD&&rf.logger.log("GraphQL Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){iie.DEBUG_BUILD&&rf.logger.error("GraphQL Integration was unable to require graphql/execution package.");return}rf.fill(i,"execute",function(o){return function(...s){let l=r().getScope(),u=l.getSpan(),c=yp([u,"optionalAccess",p=>p.startChild,"call",p=>p({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);yp([l,"optionalAccess",p=>p.setSpan,"call",p=>p(c)]);let g=o.call(this,...s);return rf.isThenable(g)?g.then(p=>(yp([c,"optionalAccess",f=>f.end,"call",f=>f()]),yp([l,"optionalAccess",f=>f.setSpan,"call",f=>f(u)]),p)):(yp([c,"optionalAccess",p=>p.end,"call",p=>p()]),yp([l,"optionalAccess",p=>p.setSpan,"call",p=>p(u)]),g)}})}};Ip.__initStatic();Qw.GraphQL=Ip});var aie=O(eE=>{var{_optionalChain:$w}=ge();Object.defineProperty(eE,"__esModule",{value:!0});var Sn=ge(),IA=Ai(),CWe=hl(),hp=class{static __initStatic(){this.id="Apollo"}constructor(e={useNestjs:!1}){this.name=hp.id,this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||Sn.loadModule("@nestjs/graphql"):this._module=this._module||Sn.loadModule("apollo-server-core"),this._module}setupOnce(e,r){if(CWe.shouldDisableAutoInstrumentation(r)){IA.DEBUG_BUILD&&Sn.logger.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){let i=this.loadDependency();if(!i){IA.DEBUG_BUILD&&Sn.logger.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}Sn.fill(i.GraphQLFactory.prototype,"mergeWithSchema",function(o){return function(...s){return Sn.fill(this.resolversExplorerService,"explore",function(l){return function(){let u=Sn.arrayify(l.call(this));return oie(u,r)}}),o.call(this,...s)}})}else{let i=this.loadDependency();if(!i){IA.DEBUG_BUILD&&Sn.logger.error("Apollo Integration was unable to require apollo-server-core package.");return}Sn.fill(i.ApolloServerBase.prototype,"constructSchema",function(o){return function(){if(!this.config.resolvers)return IA.DEBUG_BUILD&&(this.config.schema?(Sn.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),Sn.logger.warn()):this.config.modules&&Sn.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),Sn.logger.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),o.call(this);let s=Sn.arrayify(this.config.resolvers);return this.config.resolvers=oie(s,r),o.call(this)}})}}};hp.__initStatic();function oie(t,e){return t.map(r=>(Object.keys(r).forEach(i=>{Object.keys(r[i]).forEach(o=>{typeof r[i][o]=="function"&&AWe(r,i,o,e)})}),r))}function AWe(t,e,r,i){Sn.fill(t[e],r,function(o){return function(...s){let u=i().getScope().getSpan(),c=$w([u,"optionalAccess",p=>p.startChild,"call",p=>p({description:`${e}.${r}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),g=o.call(this,...s);return Sn.isThenable(g)?g.then(p=>($w([c,"optionalAccess",f=>f.end,"call",f=>f()]),p)):($w([c,"optionalAccess",p=>p.end,"call",p=>p()]),g)}})}eE.Apollo=hp});var lie=O((tE,Cl)=>{Object.defineProperty(tE,"__esModule",{value:!0});var Gd=ge(),vWe=[()=>{let t=Gd.dynamicRequire(Cl,"./apollo");return new t.Apollo},()=>{let t=Gd.dynamicRequire(Cl,"./apollo");return new t.Apollo({useNestjs:!0})},()=>{let t=Gd.dynamicRequire(Cl,"./graphql");return new t.GraphQL},()=>{let t=Gd.dynamicRequire(Cl,"./mongo");return new t.Mongo},()=>{let t=Gd.dynamicRequire(Cl,"./mongo");return new t.Mongo({mongoose:!0})},()=>{let t=Gd.dynamicRequire(Cl,"./mysql");return new t.Mysql},()=>{let t=Gd.dynamicRequire(Cl,"./postgres");return new t.Postgres}];tE.lazyLoadedNodePerformanceMonitoringIntegrations=vWe});var ga=O(rE=>{Object.defineProperty(rE,"__esModule",{value:!0});var SWe=ge(),OWe=SWe.GLOBAL_OBJ;rE.WINDOW=OWe});var pie=O(nE=>{Object.defineProperty(nE,"__esModule",{value:!0});var die=lt(),uie=ge(),cie=Ai(),hA=ga();function FWe(){hA.WINDOW&&hA.WINDOW.document?hA.WINDOW.document.addEventListener("visibilitychange",()=>{let t=die.getActiveTransaction();if(hA.WINDOW.document.hidden&&t){let e="cancelled",{op:r,status:i}=die.spanToJSON(t);cie.DEBUG_BUILD&&uie.logger.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r}`),i||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.end()}}):cie.DEBUG_BUILD&&uie.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}nE.registerBackgroundTabDetection=FWe});var xA=O(iE=>{Object.defineProperty(iE,"__esModule",{value:!0});var DWe=(t,e,r)=>{let i,o;return s=>{e.value>=0&&(s||r)&&(o=e.value-(i||0),(o||i===void 0)&&(i=e.value,e.delta=o,t(e)))}};iE.bindReporter=DWe});var gie=O(sE=>{Object.defineProperty(sE,"__esModule",{value:!0});var RWe=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;sE.generateUniqueID=RWe});var aE=O(oE=>{Object.defineProperty(oE,"__esModule",{value:!0});var nf=ga(),jWe=()=>{let t=nf.WINDOW.performance.timing,e=nf.WINDOW.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let i in t)i!=="navigationStart"&&i!=="toJSON"&&(r[i]=Math.max(t[i]-t.navigationStart,0));return r},PWe=()=>nf.WINDOW.__WEB_VITALS_POLYFILL__?nf.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||jWe()):nf.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];oE.getNavigationEntry=PWe});var dE=O(lE=>{Object.defineProperty(lE,"__esModule",{value:!0});var _We=aE(),TWe=()=>{let t=_We.getNavigationEntry();return t&&t.activationStart||0};lE.getActivationStart=TWe});var CA=O(uE=>{Object.defineProperty(uE,"__esModule",{value:!0});var kWe=ga(),wWe=gie(),EWe=dE(),UWe=aE(),MWe=(t,e)=>{let r=UWe.getNavigationEntry(),i="navigate";return r&&(kWe.WINDOW.document.prerendering||EWe.getActivationStart()>0?i="prerender":i=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:wWe.generateUniqueID(),navigationType:i}};uE.initMetric=MWe});var sf=O(cE=>{Object.defineProperty(cE,"__esModule",{value:!0});var LWe=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let i=new PerformanceObserver(o=>{e(o.getEntries())});return i.observe(Object.assign({type:t,buffered:!0},r||{})),i}}catch{}};cE.observe=LWe});var of=O(pE=>{Object.defineProperty(pE,"__esModule",{value:!0});var VWe=ga(),BWe=(t,e)=>{let r=i=>{(i.type==="pagehide"||VWe.WINDOW.document.visibilityState==="hidden")&&(t(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};pE.onHidden=BWe});var mie=O(gE=>{Object.defineProperty(gE,"__esModule",{value:!0});var NWe=xA(),WWe=CA(),GWe=sf(),ZWe=of(),HWe=t=>{let e=WWe.initMetric("CLS",0),r,i=0,o=[],s=u=>{u.forEach(c=>{if(!c.hadRecentInput){let g=o[0],p=o[o.length-1];i&&o.length!==0&&c.startTime-p.startTime<1e3&&c.startTime-g.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c]),i>e.value&&(e.value=i,e.entries=o,r&&r())}})},l=GWe.observe("layout-shift",s);if(l){r=NWe.bindReporter(t,e);let u=()=>{s(l.takeRecords()),r(!0)};return ZWe.onHidden(u),u}};gE.onCLS=HWe});var vA=O(mE=>{Object.defineProperty(mE,"__esModule",{value:!0});var bie=ga(),KWe=of(),AA=-1,qWe=()=>bie.WINDOW.document.visibilityState==="hidden"&&!bie.WINDOW.document.prerendering?0:1/0,YWe=()=>{KWe.onHidden(({timeStamp:t})=>{AA=t},!0)},XWe=()=>(AA<0&&(AA=qWe(),YWe()),{get firstHiddenTime(){return AA}});mE.getVisibilityWatcher=XWe});var fie=O(bE=>{Object.defineProperty(bE,"__esModule",{value:!0});var zWe=xA(),JWe=vA(),QWe=CA(),$We=sf(),eGe=of(),tGe=t=>{let e=JWe.getVisibilityWatcher(),r=QWe.initMetric("FID"),i,o=u=>{u.startTime<e.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),i(!0))},s=u=>{u.forEach(o)},l=$We.observe("first-input",s);i=zWe.bindReporter(t,r),l&&eGe.onHidden(()=>{s(l.takeRecords()),l.disconnect()},!0)};bE.onFID=tGe});var Iie=O(fE=>{Object.defineProperty(fE,"__esModule",{value:!0});var rGe=xA(),nGe=dE(),iGe=vA(),sGe=CA(),oGe=sf(),aGe=of(),yie={},lGe=t=>{let e=iGe.getVisibilityWatcher(),r=sGe.initMetric("LCP"),i,o=l=>{let u=l[l.length-1];if(u){let c=Math.max(u.startTime-nGe.getActivationStart(),0);c<e.firstHiddenTime&&(r.value=c,r.entries=[u],i())}},s=oGe.observe("largest-contentful-paint",o);if(s){i=rGe.bindReporter(t,r);let l=()=>{yie[r.id]||(o(s.takeRecords()),s.disconnect(),yie[r.id]=!0,i(!0))};return["keydown","click"].forEach(u=>{addEventListener(u,l,{once:!0,capture:!0})}),aGe.onHidden(l,!0),l}};fE.onLCP=lGe});var FA=O(xp=>{Object.defineProperty(xp,"__esModule",{value:!0});var hie=ge(),dGe=Ai(),uGe=mie(),cGe=fie(),pGe=Iie(),gGe=sf(),af={},SA={},xie,Cie,Aie;function mGe(t){return yE("cls",t,IGe,xie)}function bGe(t){return yE("lcp",t,xGe,Aie)}function fGe(t){return yE("fid",t,hGe,Cie)}function yGe(t,e){return vie(t,e),SA[t]||(CGe(t),SA[t]=!0),Sie(t,e)}function OA(t,e){let r=af[t];if(!(!r||!r.length))for(let i of r)try{i(e)}catch(o){dGe.DEBUG_BUILD&&hie.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${hie.getFunctionName(i)}
Error:`,o)}}function IGe(){uGe.onCLS(t=>{OA("cls",{metric:t}),xie=t})}function hGe(){cGe.onFID(t=>{OA("fid",{metric:t}),Cie=t})}function xGe(){pGe.onLCP(t=>{OA("lcp",{metric:t}),Aie=t})}function yE(t,e,r,i){return vie(t,e),SA[t]||(r(),SA[t]=!0),i&&e({metric:i}),Sie(t,e)}function CGe(t){let e={};t==="event"&&(e.durationThreshold=0),gGe.observe(t,r=>{OA(t,{entries:r})},e)}function vie(t,e){af[t]=af[t]||[],af[t].push(e)}function Sie(t,e){return()=>{let r=af[t];if(!r)return;let i=r.indexOf(e);i!==-1&&r.splice(i,1)}}xp.addClsInstrumentationHandler=mGe;xp.addFidInstrumentationHandler=fGe;xp.addLcpInstrumentationHandler=bGe;xp.addPerformanceInstrumentationHandler=yGe});var Oie=O(DA=>{Object.defineProperty(DA,"__esModule",{value:!0});function AGe(t){return typeof t=="number"&&isFinite(t)}function vGe(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}DA._startChild=vGe;DA.isMeasurementValue=AGe});var Pie=O(vl=>{Object.defineProperty(vl,"__esModule",{value:!0});var jA=lt(),kr=ge(),io=Ai(),df=FA(),Al=ga(),SGe=vA(),ma=Oie(),OGe=2147483647;function Yr(t){return t/1e3}function Die(){return Al.WINDOW&&Al.WINDOW.addEventListener&&Al.WINDOW.performance}var Fie=0,vr={},no,lf;function FGe(){let t=Die();if(t&&kr.browserPerformanceTimeOrigin){t.mark&&Al.WINDOW.performance.mark("sentry-tracing-init");let e=_Ge(),r=jGe(),i=PGe();return()=>{e(),r(),i()}}return()=>{}}function DGe(){df.addPerformanceInstrumentationHandler("longtask",({entries:t})=>{for(let e of t){let r=jA.getActiveTransaction();if(!r)return;let i=Yr(kr.browserPerformanceTimeOrigin+e.startTime),o=Yr(e.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+o})}})}function RGe(){df.addPerformanceInstrumentationHandler("event",({entries:t})=>{for(let e of t){let r=jA.getActiveTransaction();if(!r)return;if(e.name==="click"){let i=Yr(kr.browserPerformanceTimeOrigin+e.startTime),o=Yr(e.duration),s={description:kr.htmlTreeAsString(e.target),op:`ui.interaction.${e.name}`,origin:"auto.ui.browser.metrics",startTimestamp:i,endTimestamp:i+o},l=kr.getComponentName(e.target);l&&(s.attributes={"ui.component_name":l}),r.startChild(s)}}})}function jGe(){return df.addClsInstrumentationHandler(({metric:t})=>{let e=t.entries.pop();e&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding CLS"),vr.cls={value:t.value,unit:""},lf=e)})}function PGe(){return df.addLcpInstrumentationHandler(({metric:t})=>{let e=t.entries.pop();e&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding LCP"),vr.lcp={value:t.value,unit:"millisecond"},no=e)})}function _Ge(){return df.addFidInstrumentationHandler(({metric:t})=>{let e=t.entries.pop();if(!e)return;let r=Yr(kr.browserPerformanceTimeOrigin),i=Yr(e.startTime);io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding FID"),vr.fid={value:t.value,unit:"millisecond"},vr["mark.fid"]={value:r+i,unit:"second"}})}function TGe(t){let e=Die();if(!e||!Al.WINDOW.performance.getEntries||!kr.browserPerformanceTimeOrigin)return;io.DEBUG_BUILD&&kr.logger.log("[Tracing] Adding & adjusting spans using Performance API");let r=Yr(kr.browserPerformanceTimeOrigin),i=e.getEntries(),o,s,{op:l,start_timestamp:u}=jA.spanToJSON(t);if(i.slice(Fie).forEach(c=>{let g=Yr(c.startTime),p=Yr(c.duration);if(!(t.op==="navigation"&&u&&r+g<u))switch(c.entryType){case"navigation":{kGe(t,c,r),o=r+Yr(c.responseStart),s=r+Yr(c.requestStart);break}case"mark":case"paint":case"measure":{Rie(t,c,g,p,r);let f=SGe.getVisibilityWatcher(),I=c.startTime<f.firstHiddenTime;c.name==="first-paint"&&I&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding FP"),vr.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&I&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding FCP"),vr.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{jie(t,c,c.name,g,p,r);break}}}),Fie=Math.max(i.length-1,0),EGe(t),l==="pageload"){typeof o=="number"&&u&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding TTFB"),vr.ttfb={value:(o-u)*1e3,unit:"millisecond"},typeof s=="number"&&s<=o&&(vr["ttfb.requestTime"]={value:(o-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(g=>{if(!vr[g]||!u||r>=u)return;let p=vr[g].value,f=r+Yr(p),I=Math.abs((f-u)*1e3),v=I-p;io.DEBUG_BUILD&&kr.logger.log(`[Measurements] Normalized ${g} from ${p} to ${I} (${v})`),vr[g].value=I});let c=vr["mark.fid"];c&&vr.fid&&(ma._startChild(t,{description:"first input delay",endTimestamp:c.value+Yr(vr.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:c.value}),delete vr["mark.fid"]),"fcp"in vr||delete vr.cls,Object.keys(vr).forEach(g=>{jA.setMeasurement(g,vr[g].value,vr[g].unit)}),UGe(t)}no=void 0,lf=void 0,vr={}}function Rie(t,e,r,i,o){let s=o+r,l=s+i;return ma._startChild(t,{description:e.name,endTimestamp:l,op:e.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function kGe(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{RA(t,e,i,r)}),RA(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),RA(t,e,"fetch",r,"cache","domainLookupStart"),RA(t,e,"domainLookup",r,"DNS"),wGe(t,e,r)}function RA(t,e,r,i,o,s){let l=s?e[s]:e[`${r}End`],u=e[`${r}Start`];!u||!l||ma._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:o||r,startTimestamp:i+Yr(u),endTimestamp:i+Yr(l)})}function wGe(t,e,r){e.responseEnd&&(ma._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:r+Yr(e.requestStart),endTimestamp:r+Yr(e.responseEnd)}),ma._startChild(t,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:r+Yr(e.responseStart),endTimestamp:r+Yr(e.responseEnd)}))}function jie(t,e,r,i,o,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let l=kr.parseUrl(r),u={};IE(u,e,"transferSize","http.response_transfer_size"),IE(u,e,"encodedBodySize","http.response_content_length"),IE(u,e,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in e&&(u["resource.render_blocking_status"]=e.renderBlockingStatus),l.protocol&&(u["url.scheme"]=l.protocol.split(":").pop()),l.host&&(u["server.address"]=l.host),u["url.same_origin"]=r.includes(Al.WINDOW.location.origin);let c=s+i,g=c+o;ma._startChild(t,{description:r.replace(Al.WINDOW.location.origin,""),endTimestamp:g,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:u})}function EGe(t){let e=Al.WINDOW.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),ma.isMeasurementValue(r.rtt)&&(vr["connection.rtt"]={value:r.rtt,unit:"millisecond"})),ma.isMeasurementValue(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),ma.isMeasurementValue(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function UGe(t){no&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding LCP Data"),no.element&&t.setTag("lcp.element",kr.htmlTreeAsString(no.element)),no.id&&t.setTag("lcp.id",no.id),no.url&&t.setTag("lcp.url",no.url.trim().slice(0,200)),t.setTag("lcp.size",no.size)),lf&&lf.sources&&(io.DEBUG_BUILD&&kr.logger.log("[Measurements] Adding CLS Data"),lf.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,kr.htmlTreeAsString(e.node))))}function IE(t,e,r,i){let o=e[r];o!=null&&o<OGe&&(t[i]=o)}vl._addMeasureSpans=Rie;vl._addResourceSpans=jie;vl.addPerformanceEntries=TGe;vl.startTrackingInteractions=RGe;vl.startTrackingLongTasks=DGe;vl.startTrackingWebVitals=FGe});var hE=O(PA=>{Object.defineProperty(PA,"__esModule",{value:!0});var Sl=lt(),Cp=ge();function MGe(t,e,r,i,o="auto.http.browser"){if(!Sl.hasTracingEnabled()||!t.fetchData)return;let s=e(t.fetchData.url);if(t.endTimestamp&&s){let I=t.fetchData.__span;if(!I)return;let v=i[I];if(v){if(t.response){v.setHttpStatus(t.response.status);let C=t.response&&t.response.headers&&t.response.headers.get("content-length");if(C){let F=parseInt(C);F>0&&v.setAttribute("http.response_content_length",F)}}else t.error&&v.setStatus("internal_error");v.end(),delete i[I]}return}let l=Sl.getCurrentScope(),u=Sl.getClient(),c=Sl.getActiveSpan(),{method:g,url:p}=t.fetchData,f=s&&c?c.startChild({data:{url:p,type:"fetch","http.method":g},description:`${g} ${p}`,op:"http.client",origin:o}):void 0;if(f&&(t.fetchData.__span=f.spanContext().spanId,i[f.spanContext().spanId]=f),r(t.fetchData.url)&&u){let I=t.args[0];t.args[1]=t.args[1]||{};let v=t.args[1];v.headers=_ie(I,u,l,v,f)}return f}function _ie(t,e,r,i,o){let s=o||r.getSpan(),l=s&&Sl.getRootSpan(s),{traceId:u,sampled:c,dsc:g}=r.getPropagationContext(),p=s?Sl.spanToTraceHeader(s):Cp.generateSentryTraceHeader(u,void 0,c),f=l?Sl.getDynamicSamplingContextFromSpan(l):g||Sl.getDynamicSamplingContextFromClient(u,e,r),I=Cp.dynamicSamplingContextToSentryBaggageHeader(f),v=i.headers||(typeof Request<"u"&&Cp.isInstanceOf(t,Request)?t.headers:void 0);if(v)if(typeof Headers<"u"&&Cp.isInstanceOf(v,Headers)){let C=new Headers(v);return C.append("sentry-trace",p),I&&C.append(Cp.BAGGAGE_HEADER_NAME,I),C}else if(Array.isArray(v)){let C=[...v,["sentry-trace",p]];return I&&C.push([Cp.BAGGAGE_HEADER_NAME,I]),C}else{let C="baggage"in v?v.baggage:void 0,F=[];return Array.isArray(C)?F.push(...C):C&&F.push(C),I&&F.push(I),{...v,"sentry-trace":p,baggage:F.length>0?F.join(","):void 0}}else return{"sentry-trace":p,baggage:I}}PA.addTracingHeadersToFetchRequest=_ie;PA.instrumentFetchRequest=MGe});var CE=O(Ol=>{Object.defineProperty(Ol,"__esModule",{value:!0});var ba=lt(),oo=ge(),LGe=hE(),VGe=FA(),_A=["localhost",/^\/(?!\/)/],xE={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:_A,tracePropagationTargets:_A};function BGe(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:i,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:l}={traceFetch:xE.traceFetch,traceXHR:xE.traceXHR,...t},u=typeof s=="function"?s:p=>!0,c=p=>Eie(p,i||o),g={};e&&oo.addFetchInstrumentationHandler(p=>{let f=LGe.instrumentFetchRequest(p,u,c,g);l&&f&&Tie(f)}),r&&oo.addXhrInstrumentationHandler(p=>{let f=Uie(p,u,c,g);l&&f&&Tie(f)})}function NGe(t){return t.entryType==="resource"&&"initiatorType"in t&&typeof t.nextHopProtocol=="string"&&(t.initiatorType==="fetch"||t.initiatorType==="xmlhttprequest")}function Tie(t){let{url:e}=ba.spanToJSON(t).data||{};if(!e||typeof e!="string")return;let r=VGe.addPerformanceInstrumentationHandler("resource",({entries:i})=>{i.forEach(o=>{NGe(o)&&o.name.endsWith(e)&&(WGe(o).forEach(l=>t.setAttribute(...l)),setTimeout(r))})})}function wie(t){let e="unknown",r="unknown",i="";for(let o of t){if(o==="/"){[e,r]=t.split("/");break}if(!isNaN(Number(o))){e=i==="h"?"http":i,r=t.split(i)[1];break}i+=o}return i===t&&(e=i),{name:e,version:r}}function so(t=0){return((oo.browserPerformanceTimeOrigin||performance.timeOrigin)+t)/1e3}function WGe(t){let{name:e,version:r}=wie(t.nextHopProtocol),i=[];return i.push(["network.protocol.version",r],["network.protocol.name",e]),oo.browserPerformanceTimeOrigin?[...i,["http.request.redirect_start",so(t.redirectStart)],["http.request.fetch_start",so(t.fetchStart)],["http.request.domain_lookup_start",so(t.domainLookupStart)],["http.request.domain_lookup_end",so(t.domainLookupEnd)],["http.request.connect_start",so(t.connectStart)],["http.request.secure_connection_start",so(t.secureConnectionStart)],["http.request.connection_end",so(t.connectEnd)],["http.request.request_start",so(t.requestStart)],["http.request.response_start",so(t.responseStart)],["http.request.response_end",so(t.responseEnd)]]:i}function Eie(t,e){return oo.stringMatchesSomePattern(t,e||_A)}function Uie(t,e,r,i){let o=t.xhr,s=o&&o[oo.SENTRY_XHR_DATA_KEY];if(!ba.hasTracingEnabled()||!o||o.__sentry_own_request__||!s)return;let l=e(s.url);if(t.endTimestamp&&l){let p=o.__sentry_xhr_span_id__;if(!p)return;let f=i[p];f&&s.status_code!==void 0&&(f.setHttpStatus(s.status_code),f.end(),delete i[p]);return}let u=ba.getCurrentScope(),c=ba.getActiveSpan(),g=l&&c?c.startChild({data:{type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(g&&(o.__sentry_xhr_span_id__=g.spanContext().spanId,i[o.__sentry_xhr_span_id__]=g),o.setRequestHeader&&r(s.url))if(g){let p=g&&ba.getRootSpan(g),f=p&&ba.getDynamicSamplingContextFromSpan(p),I=oo.dynamicSamplingContextToSentryBaggageHeader(f);kie(o,ba.spanToTraceHeader(g),I)}else{let p=ba.getClient(),{traceId:f,sampled:I,dsc:v}=u.getPropagationContext(),C=oo.generateSentryTraceHeader(f,void 0,I),F=v||(p?ba.getDynamicSamplingContextFromClient(f,p,u):void 0),P=oo.dynamicSamplingContextToSentryBaggageHeader(F);kie(o,C,P)}return g}function kie(t,e,r){try{t.setRequestHeader("sentry-trace",e),r&&t.setRequestHeader(oo.BAGGAGE_HEADER_NAME,r)}catch{}}Ol.DEFAULT_TRACE_PROPAGATION_TARGETS=_A;Ol.defaultRequestInstrumentationOptions=xE;Ol.extractNetworkProtocol=wie;Ol.instrumentOutgoingRequests=BGe;Ol.shouldAttachHeaders=Eie;Ol.xhrCallback=Uie});var Lie=O(AE=>{Object.defineProperty(AE,"__esModule",{value:!0});var uf=ge(),Mie=Ai(),cf=ga();function GGe(t,e=!0,r=!0){if(!cf.WINDOW||!cf.WINDOW.location){Mie.DEBUG_BUILD&&uf.logger.warn("Could not initialize routing instrumentation due to invalid location");return}let i=cf.WINDOW.location.href,o;e&&(o=t({name:cf.WINDOW.location.pathname,startTimestamp:uf.browserPerformanceTimeOrigin?uf.browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),r&&uf.addHistoryInstrumentationHandler(({to:s,from:l})=>{if(l===void 0&&i&&i.indexOf(s)!==-1){i=void 0;return}l!==s&&(i=void 0,o&&(Mie.DEBUG_BUILD&&uf.logger.log(`[Tracing] Finishing current transaction with op: ${o.op}`),o.end()),o=t({name:cf.WINDOW.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}AE.instrumentRoutingWithDefaults=GGe});var Nie=O(gf=>{Object.defineProperty(gf,"__esModule",{value:!0});var Dl=lt(),fa=ge(),Fl=Ai(),ZGe=pie(),TA=Pie(),Vie=CE(),HGe=Lie(),pf=ga(),Bie="BrowserTracing",KGe={...Dl.TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:HGe.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Vie.defaultRequestInstrumentationOptions},vE=class{constructor(e){this.name=Bie,this._hasSetTracePropagationTargets=!1,Dl.addTracingExtensions(),Fl.DEBUG_BUILD&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...KGe,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=TA.startTrackingWebVitals(),this.options.enableLongTask&&TA.startTrackingLongTasks(),this.options._experiments.enableInteractions&&TA.startTrackingInteractions()}setupOnce(e,r){this._getCurrentHub=r;let o=r().getClient(),s=o&&o.getOptions(),{routingInstrumentation:l,startTransactionOnLocationChange:u,startTransactionOnPageLoad:c,markBackgroundTransactions:g,traceFetch:p,traceXHR:f,shouldCreateSpanForRequest:I,enableHTTPTimings:v,_experiments:C}=this.options,F=s&&s.tracePropagationTargets,P=F||this.options.tracePropagationTargets;Fl.DEBUG_BUILD&&this._hasSetTracePropagationTargets&&F&&fa.logger.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),l(E=>{let J=this._createRouteTransaction(E);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(J,E,r),J},c,u),g&&ZGe.registerBackgroundTabDetection(),C.enableInteractions&&this._registerInteractionListener(),Vie.instrumentOutgoingRequests({traceFetch:p,traceXHR:f,tracePropagationTargets:P,shouldCreateSpanForRequest:I,enableHTTPTimings:v})}_createRouteTransaction(e){if(!this._getCurrentHub){Fl.DEBUG_BUILD&&fa.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let r=this._getCurrentHub(),{beforeNavigate:i,idleTimeout:o,finalTimeout:s,heartbeatInterval:l}=this.options,u=e.op==="pageload",c=u?SE("sentry-trace"):"",g=u?SE("baggage"):"",{traceparentData:p,dynamicSamplingContext:f,propagationContext:I}=fa.tracingContextFromHeaders(c,g),v={...e,...p,metadata:{...e.metadata,dynamicSamplingContext:p&&!f?{}:f},trimEnd:!0},C=typeof i=="function"?i(v):v,F=C===void 0?{...v,sampled:!1}:C;F.metadata=F.name!==v.name?{...F.metadata,source:"custom"}:F.metadata,this._latestRouteName=F.name;let P=e.data&&e.data[Dl.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],E=F.metadata&&F.metadata.source;this._latestRouteSource=P||E,F.sampled===!1&&Fl.DEBUG_BUILD&&fa.logger.log(`[Tracing] Will not send ${F.op} transaction because of beforeNavigate.`),Fl.DEBUG_BUILD&&fa.logger.log(`[Tracing] Starting ${F.op} transaction on scope`);let{location:J}=pf.WINDOW,k=Dl.startIdleTransaction(r,F,o,s,!0,{location:J},l,u);u&&(pf.WINDOW.document.addEventListener("readystatechange",()=>{["interactive","complete"].includes(pf.WINDOW.document.readyState)&&k.sendAutoFinishSignal()}),["interactive","complete"].includes(pf.WINDOW.document.readyState)&&k.sendAutoFinishSignal());let ee=r.getScope();return u&&p?ee.setPropagationContext(I):ee.setPropagationContext({traceId:k.spanContext().traceId,spanId:k.spanContext().spanId,parentSpanId:k.parentSpanId,sampled:Dl.spanIsSampled(k)}),k.registerBeforeFinishCallback(ce=>{this._collectWebVitals(),TA.addPerformanceEntries(ce)}),k}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:i,finalTimeout:o,heartbeatInterval:s}=this.options,l="ui.action.click",u=Dl.getActiveTransaction();if(u&&u.op&&["navigation","pageload"].includes(u.op)){Fl.DEBUG_BUILD&&fa.logger.warn(`[Tracing] Did not create ${l} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub){Fl.DEBUG_BUILD&&fa.logger.warn(`[Tracing] Did not create ${l} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){Fl.DEBUG_BUILD&&fa.logger.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:g}=pf.WINDOW,p={name:this._latestRouteName,op:l,trimEnd:!0,data:{[Dl.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:this._latestRouteSource||"url"}};e=Dl.startIdleTransaction(c,p,i,o,!0,{location:g},s)};["click"].forEach(i=>{addEventListener(i,r,{once:!1,capture:!0})})}};function SE(t){let e=fa.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}gf.BROWSER_TRACING_INTEGRATION_ID=Bie;gf.BrowserTracing=vE;gf.getMetaContent=SE});var Gie=O((OE,mf)=>{Object.defineProperty(OE,"__esModule",{value:!0});var Wie=lt(),Ap=ge();function qGe(){let t=Wie.getMainCarrier();if(!t.__SENTRY__)return;let e={mongodb(){let i=Ap.dynamicRequire(mf,"./node/integrations/mongo");return new i.Mongo},mongoose(){let i=Ap.dynamicRequire(mf,"./node/integrations/mongo");return new i.Mongo},mysql(){let i=Ap.dynamicRequire(mf,"./node/integrations/mysql");return new i.Mysql},pg(){let i=Ap.dynamicRequire(mf,"./node/integrations/postgres");return new i.Postgres}},r=Object.keys(e).filter(i=>!!Ap.loadModule(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function YGe(){Wie.addTracingExtensions(),Ap.isNodeEnv()&&qGe()}OE.addExtensionMethods=YGe});var FE=O(_t=>{Object.defineProperty(_t,"__esModule",{value:!0});var ya=lt(),Zie=ge(),XGe=zne(),zGe=Jne(),JGe=Qne(),QGe=eie(),$Ge=nie(),e2e=sie(),t2e=aie(),r2e=lie(),Hie=Nie(),Kie=CE(),kA=FA(),qie=hE(),n2e=Gie();_t.IdleTransaction=ya.IdleTransaction;_t.Span=ya.Span;_t.SpanStatus=ya.SpanStatus;_t.Transaction=ya.Transaction;_t.extractTraceparentData=ya.extractTraceparentData;_t.getActiveTransaction=ya.getActiveTransaction;_t.hasTracingEnabled=ya.hasTracingEnabled;_t.spanStatusfromHttpCode=ya.spanStatusfromHttpCode;_t.startIdleTransaction=ya.startIdleTransaction;_t.TRACEPARENT_REGEXP=Zie.TRACEPARENT_REGEXP;_t.stripUrlQueryAndFragment=Zie.stripUrlQueryAndFragment;_t.Express=XGe.Express;_t.Postgres=zGe.Postgres;_t.Mysql=JGe.Mysql;_t.Mongo=QGe.Mongo;_t.Prisma=$Ge.Prisma;_t.GraphQL=e2e.GraphQL;_t.Apollo=t2e.Apollo;_t.lazyLoadedNodePerformanceMonitoringIntegrations=r2e.lazyLoadedNodePerformanceMonitoringIntegrations;_t.BROWSER_TRACING_INTEGRATION_ID=Hie.BROWSER_TRACING_INTEGRATION_ID;_t.BrowserTracing=Hie.BrowserTracing;_t.defaultRequestInstrumentationOptions=Kie.defaultRequestInstrumentationOptions;_t.instrumentOutgoingRequests=Kie.instrumentOutgoingRequests;_t.addClsInstrumentationHandler=kA.addClsInstrumentationHandler;_t.addFidInstrumentationHandler=kA.addFidInstrumentationHandler;_t.addLcpInstrumentationHandler=kA.addLcpInstrumentationHandler;_t.addPerformanceInstrumentationHandler=kA.addPerformanceInstrumentationHandler;_t.addTracingHeadersToFetchRequest=qie.addTracingHeadersToFetchRequest;_t.instrumentFetchRequest=qie.instrumentFetchRequest;_t.addExtensionMethods=n2e.addExtensionMethods});var Yie=O(DE=>{Object.defineProperty(DE,"__esModule",{value:!0});var i2e=FE(),s2e=ge();function o2e(){let t=i2e.lazyLoadedNodePerformanceMonitoringIntegrations.map(e=>{try{return e()}catch{return}}).filter(e=>!!e);return t.length===0&&s2e.logger.warn("Performance monitoring integrations could not be automatically loaded."),t.filter(e=>!!e.loadDependency())}DE.autoDiscoverNodePerformanceMonitoringIntegrations=o2e});var _E=O(PE=>{Object.defineProperty(PE,"__esModule",{value:!0});var a2e=require("os"),l2e=require("util"),RE=lt(),jE=class extends RE.ServerRuntimeClient{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:RE.SDK_VERSION}],version:RE.SDK_VERSION},e.transportOptions={textEncoder:new l2e.TextEncoder,...e.transportOptions};let r={...e,platform:"node",runtime:{name:"node",version:global.process.version},serverName:e.serverName||global.process.env.SENTRY_NAME||a2e.hostname()};super(r)}};PE.NodeClient=jE});var Jie=O(kE=>{var{_nullishCoalesce:Xie}=ge();Object.defineProperty(kE,"__esModule",{value:!0});var zie=require("http");require("https");var ao=Symbol("AgentBaseInternalState"),TE=class extends zie.Agent{constructor(e){super(e),this[ao]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:r}=new Error;return typeof r!="string"?!1:r.split(`
`).some(i=>i.indexOf("(https.js:")!==-1||i.indexOf("node:https:")!==-1)}createSocket(e,r,i){let o={...r,secureEndpoint:this.isSecureEndpoint(r)};Promise.resolve().then(()=>this.connect(e,o)).then(s=>{if(s instanceof zie.Agent)return s.addRequest(e,o);this[ao].currentSocket=s,super.createSocket(e,r,i)},i)}createConnection(){let e=this[ao].currentSocket;if(this[ao].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return Xie(this[ao].defaultPort,()=>this.protocol==="https:"?443:80)}set defaultPort(e){this[ao]&&(this[ao].defaultPort=e)}get protocol(){return Xie(this[ao].protocol,()=>this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[ao]&&(this[ao].protocol=e)}};kE.Agent=TE});var Qie=O(wE=>{Object.defineProperty(wE,"__esModule",{value:!0});var d2e=ge();function wA(...t){d2e.logger.log("[https-proxy-agent:parse-proxy-response]",...t)}function u2e(t){return new Promise((e,r)=>{let i=0,o=[];function s(){let p=t.read();p?g(p):t.once("readable",s)}function l(){t.removeListener("end",u),t.removeListener("error",c),t.removeListener("readable",s)}function u(){l(),wA("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function c(p){l(),wA("onerror %o",p),r(p)}function g(p){o.push(p),i+=p.length;let f=Buffer.concat(o,i),I=f.indexOf(`\r
\r
`);if(I===-1){wA("have not received end of HTTP headers yet..."),s();return}let v=f.slice(0,I).toString("ascii").split(`\r
`),C=v.shift();if(!C)return t.destroy(),r(new Error("No header received from proxy CONNECT response"));let F=C.split(" "),P=+F[1],E=F.slice(2).join(" "),J={};for(let k of v){if(!k)continue;let ee=k.indexOf(":");if(ee===-1)return t.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${k}"`));let ce=k.slice(0,ee).toLowerCase(),Q=k.slice(ee+1).trimStart(),he=J[ce];typeof he=="string"?J[ce]=[he,Q]:Array.isArray(he)?he.push(Q):J[ce]=Q}wA("got proxy server response: %o %o",C,J),l(),e({connect:{statusCode:P,statusText:E,headers:J},buffered:f})}t.on("error",c),t.on("end",u),s()})}wE.parseProxyResponse=u2e});var tse=O(EE=>{var{_nullishCoalesce:c2e,_optionalChain:p2e}=ge();Object.defineProperty(EE,"__esModule",{value:!0});var g2e=require("assert"),bf=require("net"),$ie=require("tls"),m2e=require("url"),b2e=ge(),f2e=Jie(),y2e=Qie();function ff(...t){b2e.logger.log("[https-proxy-agent]",...t)}var EA=class extends f2e.Agent{static __initStatic(){this.protocols=["http","https"]}constructor(e,r){super(r),this.options={},this.proxy=typeof e=="string"?new m2e.URL(e):e,this.proxyHeaders=c2e(p2e([r,"optionalAccess",s=>s.headers]),()=>({})),ff("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let i=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),o=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...r?ese(r,"headers"):null,host:i,port:o}}async connect(e,r){let{proxy:i}=this;if(!r.host)throw new TypeError('No "host" provided');let o;if(i.protocol==="https:"){ff("Creating `tls.Socket`: %o",this.connectOpts);let I=this.connectOpts.servername||this.connectOpts.host;o=$ie.connect({...this.connectOpts,servername:I&&bf.isIP(I)?void 0:I})}else ff("Creating `net.Socket`: %o",this.connectOpts),o=bf.connect(this.connectOpts);let s=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},l=bf.isIPv6(r.host)?`[${r.host}]`:r.host,u=`CONNECT ${l}:${r.port} HTTP/1.1\r
`;if(i.username||i.password){let I=`${decodeURIComponent(i.username)}:${decodeURIComponent(i.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(I).toString("base64")}`}s.Host=`${l}:${r.port}`,s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let I of Object.keys(s))u+=`${I}: ${s[I]}\r
`;let c=y2e.parseProxyResponse(o);o.write(`${u}\r
`);let{connect:g,buffered:p}=await c;if(e.emit("proxyConnect",g),this.emit("proxyConnect",g,e),g.statusCode===200){if(e.once("socket",I2e),r.secureEndpoint){ff("Upgrading socket connection to TLS");let I=r.servername||r.host;return $ie.connect({...ese(r,"host","path","port"),socket:o,servername:bf.isIP(I)?void 0:I})}return o}o.destroy();let f=new bf.Socket({writable:!1});return f.readable=!0,e.once("socket",I=>{ff("Replaying proxy buffer for failed request"),g2e.default(I.listenerCount("data")>0),I.push(p),I.push(null)}),f}};EA.__initStatic();function I2e(t){t.resume()}function ese(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}EE.HttpsProxyAgent=EA});var LE=O(ME=>{var{_nullishCoalesce:UE}=ge();Object.defineProperty(ME,"__esModule",{value:!0});var h2e=require("http"),x2e=require("https"),C2e=require("stream"),nse=require("url"),A2e=require("zlib"),rse=lt(),v2e=ge(),S2e=tse(),O2e=1024*32;function F2e(t){return new C2e.Readable({read(){this.push(t),this.push(null)}})}function D2e(t){let e;try{e=new nse.URL(t.url)}catch{return v2e.consoleSandbox(()=>{console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used.")}),rse.createTransport(t,()=>Promise.resolve({}))}let r=e.protocol==="https:",i=R2e(e,t.proxy||(r?process.env.https_proxy:void 0)||process.env.http_proxy),o=r?x2e:h2e,s=t.keepAlive===void 0?!1:t.keepAlive,l=i?new S2e.HttpsProxyAgent(i):new o.Agent({keepAlive:s,maxSockets:30,timeout:2e3}),u=j2e(t,UE(t.httpModule,()=>o),l);return rse.createTransport(t,u)}function R2e(t,e){let{no_proxy:r}=process.env;if(!(r&&r.split(",").some(o=>t.host.endsWith(o)||t.hostname.endsWith(o))))return e}function j2e(t,e,r){let{hostname:i,pathname:o,port:s,protocol:l,search:u}=new nse.URL(t.url);return function(g){return new Promise((p,f)=>{let I=F2e(g.body),v={...t.headers};g.body.length>O2e&&(v["content-encoding"]="gzip",I=I.pipe(A2e.createGzip()));let C=e.request({method:"POST",agent:r,headers:v,hostname:i,path:`${o}${u}`,port:s,protocol:l,ca:t.caCerts},F=>{F.on("data",()=>{}),F.on("end",()=>{}),F.setEncoding("utf8");let P=UE(F.headers["retry-after"],()=>null),E=UE(F.headers["x-sentry-rate-limits"],()=>null);p({statusCode:F.statusCode,headers:{"retry-after":P,"x-sentry-rate-limits":Array.isArray(E)?E[0]:E}})});C.on("error",f),I.pipe(C)})}}ME.makeNodeTransport=D2e});var Zd=O(VE=>{Object.defineProperty(VE,"__esModule",{value:!0});var P2e=ge(),_2e=P2e.parseSemver(process.versions.node);VE.NODE_VERSION=_2e});var ose=O(BE=>{var{_optionalChain:T2e}=ge();Object.defineProperty(BE,"__esModule",{value:!0});var ise=require("domain"),Hd=lt();function sse(){return ise.active}function k2e(){let t=sse();if(t)return Hd.ensureHubOnCarrier(t),Hd.getHubFromCarrier(t)}function w2e(t){let e={};return Hd.ensureHubOnCarrier(e,t),Hd.getHubFromCarrier(e)}function E2e(t,e){let r=sse();if(r&&T2e([e,"optionalAccess",l=>l.reuseExisting]))return t();let i=ise.create(),o=r?Hd.getHubFromCarrier(r):void 0,s=w2e(o);return Hd.setHubOnCarrier(i,s),i.bind(()=>t())()}function U2e(){Hd.setAsyncContextStrategy({getCurrentHub:k2e,runWithAsyncContext:E2e})}BE.setDomainAsyncContextStrategy=U2e});var ase=O(WE=>{var{_optionalChain:M2e}=ge();Object.defineProperty(WE,"__esModule",{value:!0});var NE=lt(),L2e=require("async_hooks"),UA;function V2e(){UA||(UA=new L2e.AsyncLocalStorage);function t(){return UA.getStore()}function e(i){let o={};return NE.ensureHubOnCarrier(o,i),NE.getHubFromCarrier(o)}function r(i,o){let s=t();if(s&&M2e([o,"optionalAccess",u=>u.reuseExisting]))return i();let l=e(s);return UA.run(l,()=>i())}NE.setAsyncContextStrategy({getCurrentHub:t,runWithAsyncContext:r})}WE.setHooksAsyncContextStrategy=V2e});var lse=O(GE=>{Object.defineProperty(GE,"__esModule",{value:!0});var B2e=Zd(),N2e=ose(),W2e=ase();function G2e(){B2e.NODE_VERSION.major>=14?W2e.setHooksAsyncContextStrategy():N2e.setDomainAsyncContextStrategy()}GE.setNodeAsyncContextStrategy=G2e});var KE=O(HE=>{Object.defineProperty(HE,"__esModule",{value:!0});var Z2e=require("util"),ZE=lt(),dse=ge(),use="Console",H2e=()=>({name:use,setupOnce(){},setup(t){dse.addConsoleInstrumentationHandler(({args:e,level:r})=>{ZE.getClient()===t&&ZE.addBreadcrumb({category:"console",level:dse.severityLevelFromString(r),message:Z2e.format.apply(void 0,e)},{input:[...e],level:r})})}}),K2e=ZE.convertIntegrationFnToClass(use,H2e);HE.Console=K2e});var yf=O(qE=>{Object.defineProperty(qE,"__esModule",{value:!0});var q2e=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;qE.DEBUG_BUILD=q2e});var gse=O(Kd=>{var{_optionalChain:lo}=ge();Object.defineProperty(Kd,"__esModule",{value:!0});var YE=require("url"),Y2e=Zd();function X2e(t){let{protocol:e,hostname:r,port:i}=pse(t),o=t.path?t.path:"/";return`${e}//${r}${i}${o}`}function cse(t){let{protocol:e,hostname:r,port:i}=pse(t),o=t.pathname||"/",s=t.auth?z2e(t.auth):"";return`${e}//${s}${r}${i}${o}`}function z2e(t){let[e,r]=t.split(":");return`${e?"[Filtered]":""}:${r?"[Filtered]":""}@`}function J2e(t,e,r){if(!t)return t;let[i,o]=t.split(" ");return e.host&&!e.protocol&&(e.protocol=lo([r,"optionalAccess",s=>s.agent,"optionalAccess",s=>s.protocol]),o=cse(e)),lo([o,"optionalAccess",s=>s.startsWith,"call",s=>s("///")])&&(o=o.slice(2)),`${i} ${o}`}function XE(t){let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}function Q2e(t,e){let r,i;if(typeof e[e.length-1]=="function"&&(r=e.pop()),typeof e[0]=="string")i=XE(new YE.URL(e[0]));else if(e[0]instanceof YE.URL)i=XE(e[0]);else{i=e[0];try{let o=new YE.URL(i.path||"",`${i.protocol||"http:"}//${i.hostname}`);i={pathname:o.pathname,search:o.search,hash:o.hash,...i}}catch{}}return e.length===2&&(i={...i,...e[1]}),i.protocol===void 0&&(Y2e.NODE_VERSION.major>8?i.protocol=lo([lo([t,"optionalAccess",o=>o.globalAgent]),"optionalAccess",o=>o.protocol])||lo([i.agent,"optionalAccess",o=>o.protocol])||lo([i._defaultAgent,"optionalAccess",o=>o.protocol]):i.protocol=lo([i.agent,"optionalAccess",o=>o.protocol])||lo([i._defaultAgent,"optionalAccess",o=>o.protocol])||lo([lo([t,"optionalAccess",o=>o.globalAgent]),"optionalAccess",o=>o.protocol])),r?[i,r]:[i]}function pse(t){let e=t.protocol||"",r=t.hostname||t.host||"",i=!t.port||t.port===80||t.port===443||/^(.*):(\d+)$/.test(r)?"":`:${t.port}`;return{protocol:e,hostname:r,port:i}}Kd.cleanSpanDescription=J2e;Kd.extractRawUrl=X2e;Kd.extractUrl=cse;Kd.normalizeRequestArgs=Q2e;Kd.urlToOptions=XE});var QE=O(JE=>{var{_optionalChain:vp}=ge();Object.defineProperty(JE,"__esModule",{value:!0});var Ji=lt(),Qi=ge(),zE=yf(),$2e=Zd(),If=gse(),Rl=class{static __initStatic(){this.id="Http"}__init(){this.name=Rl.id}constructor(e={}){Rl.prototype.__init.call(this),this._breadcrumbs=typeof e.breadcrumbs>"u"?!0:e.breadcrumbs,this._tracing=e.tracing?e.tracing===!0?{}:e.tracing:void 0}setupOnce(e,r){if(!this._breadcrumbs&&!this._tracing)return;let i=vp([r,"call",c=>c(),"access",c=>c.getClient,"call",c=>c(),"optionalAccess",c=>c.getOptions,"call",c=>c()]);if(i&&i.instrumenter!=="sentry"){zE.DEBUG_BUILD&&Qi.logger.log("HTTP Integration is skipped because of instrumenter configuration.");return}let o=vp([this,"access",c=>c._tracing,"optionalAccess",c=>c.shouldCreateSpanForRequest])||vp([i,"optionalAccess",c=>c.shouldCreateSpanForRequest]),s=vp([i,"optionalAccess",c=>c.tracePropagationTargets])||vp([this,"access",c=>c._tracing,"optionalAccess",c=>c.tracePropagationTargets]),l=require("http"),u=mse(l,this._breadcrumbs,o,s);if(Qi.fill(l,"get",u),Qi.fill(l,"request",u),$2e.NODE_VERSION.major>8){let c=require("https"),g=mse(c,this._breadcrumbs,o,s);Qi.fill(c,"get",g),Qi.fill(c,"request",g)}}};Rl.__initStatic();function mse(t,e,r,i){let o=new Qi.LRUMap(100),s=new Qi.LRUMap(100),l=g=>{if(r===void 0)return!0;let p=o.get(g);if(p!==void 0)return p;let f=r(g);return o.set(g,f),f},u=g=>{if(i===void 0)return!0;let p=s.get(g);if(p!==void 0)return p;let f=Qi.stringMatchesSomePattern(g,i);return s.set(g,f),f};function c(g,p,f,I){Ji.getCurrentHub().getIntegration(Rl)&&Ji.addBreadcrumb({category:"http",data:{status_code:I&&I.statusCode,...p},type:"http"},{event:g,request:f,response:I})}return function(p){return function(...I){let v=If.normalizeRequestArgs(t,I),C=v[0],F=If.extractRawUrl(C),P=If.extractUrl(C);if(Ji.isSentryRequestUrl(P,Ji.getClient()))return p.apply(t,v);let E=Ji.getCurrentScope(),J=Ji.getActiveSpan(),k=e1e(P,C),ee=l(F)?vp([J,"optionalAccess",ce=>ce.startChild,"call",ce=>ce({op:"http.client",origin:"auto.http.node.http",description:`${k["http.method"]} ${k.url}`,data:k})]):void 0;if(u(F))if(ee){let ce=Ji.spanToTraceHeader(ee),Q=Ji.getDynamicSamplingContextFromSpan(ee);bse(C,P,ce,Q)}else{let ce=Ji.getClient(),{traceId:Q,sampled:he,dsc:me}=E.getPropagationContext(),z=Qi.generateSentryTraceHeader(Q,void 0,he),fe=me||(ce?Ji.getDynamicSamplingContextFromClient(Q,ce,E):void 0);bse(C,P,z,fe)}else zE.DEBUG_BUILD&&Qi.logger.log(`[Tracing] Not adding sentry-trace header to outgoing request (${P}) due to mismatching tracePropagationTargets option.`);return p.apply(t,v).once("response",function(ce){let Q=this;e&&c("response",k,Q,ce),ee&&(ce.statusCode&&ee.setHttpStatus(ce.statusCode),ee.updateName(If.cleanSpanDescription(Ji.spanToJSON(ee).description||"",C,Q)||""),ee.end())}).once("error",function(){let ce=this;e&&c("error",k,ce),ee&&(ee.setHttpStatus(500),ee.updateName(If.cleanSpanDescription(Ji.spanToJSON(ee).description||"",C,ce)||""),ee.end())})}}}function bse(t,e,r,i){if((t.headers||{})["sentry-trace"])return;zE.DEBUG_BUILD&&Qi.logger.log(`[Tracing] Adding sentry-trace header ${r} to outgoing request to "${e}": `);let s=Qi.dynamicSamplingContextToSentryBaggageHeader(i),l=s&&s.length>0?t1e(t,s):void 0;t.headers={...t.headers,"sentry-trace":r,...l&&{baggage:l}}}function e1e(t,e){let r=e.method||"GET",i={url:t,"http.method":r};return e.hash&&(i["http.fragment"]=e.hash.substring(1)),e.search&&(i["http.query"]=e.search.substring(1)),i}function t1e(t,e){if(!t.headers||!t.headers.baggage)return e;if(e){if(Array.isArray(t.headers.baggage))return[...t.headers.baggage,e]}else return t.headers.baggage;return[t.headers.baggage,e]}JE.Http=Rl});var tU=O(eU=>{Object.defineProperty(eU,"__esModule",{value:!0});var r1e=lt(),MA=ge(),$E=yf(),n1e=2e3;function i1e(t){MA.consoleSandbox(()=>{console.error(t)});let e=r1e.getClient();e===void 0&&($E.DEBUG_BUILD&&MA.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));let r=e.getOptions(),i=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||n1e;e.close(i).then(o=>{o||$E.DEBUG_BUILD&&MA.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},o=>{$E.DEBUG_BUILD&&MA.logger.error(o)})}eU.logAndExitProcess=i1e});var nU=O(LA=>{Object.defineProperty(LA,"__esModule",{value:!0});var rU=lt(),s1e=ge(),o1e=yf(),fse=tU(),yse="OnUncaughtException",a1e=(t={})=>{let e={exitEvenIfOtherHandlersAreRegistered:!0,...t};return{name:yse,setupOnce(){},setup(r){global.process.on("uncaughtException",Ise(r,e))}}},l1e=rU.convertIntegrationFnToClass(yse,a1e);function Ise(t,e){let i=!1,o=!1,s=!1,l,u=t.getOptions();return Object.assign(c=>{let g=fse.logAndExitProcess;e.onFatalError?g=e.onFatalError:u.onFatalError&&(g=u.onFatalError);let f=global.process.listeners("uncaughtException").reduce((v,C)=>C.name==="domainUncaughtExceptionClear"||C.tag&&C.tag==="sentry_tracingErrorCallback"||C._errorHandler?v:v+1,0)===0,I=e.exitEvenIfOtherHandlersAreRegistered||f;i?I&&(s?(o1e.DEBUG_BUILD&&s1e.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),fse.logAndExitProcess(c)):o||(o=!0,setTimeout(()=>{s||(s=!0,g(l,c))},2e3))):(l=c,i=!0,rU.getClient()===t&&rU.captureException(c,{originalException:c,captureContext:{level:"fatal"},mechanism:{handled:!1,type:"onuncaughtexception"}}),!s&&I&&(s=!0,g(c)))},{_errorHandler:!0})}LA.OnUncaughtException=l1e;LA.makeErrorHandler=Ise});var sU=O(VA=>{Object.defineProperty(VA,"__esModule",{value:!0});var iU=lt(),hse=ge(),d1e=tU(),xse="OnUnhandledRejection",u1e=(t={})=>{let e=t.mode||"warn";return{name:xse,setupOnce(){},setup(r){global.process.on("unhandledRejection",Cse(r,{mode:e}))}}},c1e=iU.convertIntegrationFnToClass(xse,u1e);function Cse(t,e){return function(i,o){iU.getClient()===t&&(iU.captureException(i,{originalException:o,captureContext:{extra:{unhandledPromiseRejection:!0}},mechanism:{handled:!1,type:"onunhandledrejection"}}),p1e(i,e))}}function p1e(t,e){let r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";e.mode==="warn"?hse.consoleSandbox(()=>{console.warn(r),console.error(t&&t.stack?t.stack:t)}):e.mode==="strict"&&(hse.consoleSandbox(()=>{console.warn(r)}),d1e.logAndExitProcess(t))}VA.OnUnhandledRejection=c1e;VA.makeUnhandledPromiseHandler=Cse});var lU=O(aU=>{Object.defineProperty(aU,"__esModule",{value:!0});var Ase=require("fs"),vse=require("path"),g1e=lt(),oU,Sse="Modules";function m1e(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function b1e(){let t=require.main&&require.main.paths||[],e=m1e(),r={},i={};return e.forEach(o=>{let s=o,l=()=>{let u=s;if(s=vse.dirname(u),!s||u===s||i[u])return;if(t.indexOf(s)<0)return l();let c=vse.join(u,"package.json");if(i[u]=!0,!Ase.existsSync(c))return l();try{let g=JSON.parse(Ase.readFileSync(c,"utf8"));r[g.name]=g.version}catch{}};l()}),r}function f1e(){return oU||(oU=b1e()),oU}var y1e=()=>({name:Sse,setupOnce(){},processEvent(t){return t.modules={...t.modules,...f1e()},t}}),I1e=g1e.convertIntegrationFnToClass(Sse,y1e);aU.Modules=I1e});var cU=O(uU=>{var{_optionalChain:dU}=ge();Object.defineProperty(uU,"__esModule",{value:!0});var h1e=require("fs"),x1e=lt(),Ose=ge(),BA=new Ose.LRUMap(100),C1e=7,Fse="ContextLines";function A1e(t){return new Promise((e,r)=>{h1e.readFile(t,"utf8",(i,o)=>{i?r(i):e(o)})})}var v1e=(t={})=>{let e=t.frameContextLines!==void 0?t.frameContextLines:C1e;return{name:Fse,setupOnce(){},processEvent(r){return O1e(r,e)}}},S1e=x1e.convertIntegrationFnToClass(Fse,v1e);async function O1e(t,e){let r={},i=[];if(e>0&&dU([t,"access",o=>o.exception,"optionalAccess",o=>o.values])){for(let o of t.exception.values)if(dU([o,"access",s=>s.stacktrace,"optionalAccess",s=>s.frames]))for(let s=o.stacktrace.frames.length-1;s>=0;s--){let l=o.stacktrace.frames[s];l.filename&&!r[l.filename]&&!BA.get(l.filename)&&(i.push(D1e(l.filename)),r[l.filename]=1)}}if(i.length>0&&await Promise.all(i),e>0&&dU([t,"access",o=>o.exception,"optionalAccess",o=>o.values]))for(let o of t.exception.values)o.stacktrace&&o.stacktrace.frames&&await F1e(o.stacktrace.frames,e);return t}function F1e(t,e){for(let r of t)if(r.filename&&r.context_line===void 0){let i=BA.get(r.filename);if(i)try{Ose.addContextToFrame(i,r,e)}catch{}}}async function D1e(t){let e=BA.get(t);if(e===null)return null;if(e!==void 0)return e;let r=null;try{r=(await A1e(t)).split(`
`)}catch{}return BA.set(t,r),r}uU.ContextLines=S1e});var pU=O(Sp=>{var{_optionalChain:qd}=ge();Object.defineProperty(Sp,"__esModule",{value:!0});var R1e=require("child_process"),Rse=require("fs"),$i=require("os"),j1e=require("path"),jse=require("util"),P1e=lt(),Pse=jse.promisify(Rse.readFile),_se=jse.promisify(Rse.readdir),Tse="Context",_1e=(t={})=>{let e,r={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0,...t};async function i(s){e===void 0&&(e=o());let l=k1e(await e);return s.contexts={...s.contexts,app:{...l.app,...qd([s,"access",u=>u.contexts,"optionalAccess",u=>u.app])},os:{...l.os,...qd([s,"access",u=>u.contexts,"optionalAccess",u=>u.os])},device:{...l.device,...qd([s,"access",u=>u.contexts,"optionalAccess",u=>u.device])},culture:{...l.culture,...qd([s,"access",u=>u.contexts,"optionalAccess",u=>u.culture])},cloud_resource:{...l.cloud_resource,...qd([s,"access",u=>u.contexts,"optionalAccess",u=>u.cloud_resource])}},s}async function o(){let s={};if(r.os&&(s.os=await w1e()),r.app&&(s.app=U1e()),r.device&&(s.device=kse(r.device)),r.culture){let l=E1e();l&&(s.culture=l)}return r.cloudResource&&(s.cloud_resource=W1e()),s}return{name:Tse,setupOnce(){},processEvent(s){return i(s)}}},T1e=P1e.convertIntegrationFnToClass(Tse,_1e);function k1e(t){return qd([t,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(t.app.app_memory=process.memoryUsage().rss),qd([t,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(t.device.free_memory=$i.freemem()),t}async function w1e(){let t=$i.platform();switch(t){case"darwin":return B1e();case"linux":return N1e();default:return{name:M1e[t]||t,version:$i.release()}}}function E1e(){try{if(typeof process.versions.icu!="string")return;let t=new Date(9e8);if(new Intl.DateTimeFormat("es",{month:"long"}).format(t)==="enero"){let r=Intl.DateTimeFormat().resolvedOptions();return{locale:r.locale,timezone:r.timeZone}}}catch{}}function U1e(){let t=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1e3).toISOString(),app_memory:t}}function kse(t){let e={},r;try{r=$i.uptime&&$i.uptime()}catch{}if(typeof r=="number"&&(e.boot_time=new Date(Date.now()-r*1e3).toISOString()),e.arch=$i.arch(),(t===!0||t.memory)&&(e.memory_size=$i.totalmem(),e.free_memory=$i.freemem()),t===!0||t.cpu){let i=$i.cpus();if(i&&i.length){let o=i[0];e.processor_count=i.length,e.cpu_description=o.model,e.processor_frequency=o.speed}}return e}var M1e={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},L1e=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],V1e={alpine:t=>t,arch:t=>uo(/distrib_release=(.*)/,t),centos:t=>uo(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>uo(/release (..)/,t),mint:t=>uo(/distrib_release=(.*)/,t),red:t=>uo(/release ([^ ]+)/,t),suse:t=>uo(/VERSION = (.*)\n/,t),ubuntu:t=>uo(/distrib_release=(.*)/,t)};function uo(t,e){let r=t.exec(e);return r?r[1]:void 0}async function B1e(){let t={kernel_version:$i.release(),name:"Mac OS X",version:`10.${Number($i.release().split(".")[0])-4}`};try{let e=await new Promise((r,i)=>{R1e.execFile("/usr/bin/sw_vers",(o,s)=>{if(o){i(o);return}r(s)})});t.name=uo(/^ProductName:\s+(.*)$/m,e),t.version=uo(/^ProductVersion:\s+(.*)$/m,e),t.build=uo(/^BuildVersion:\s+(.*)$/m,e)}catch{}return t}function Dse(t){return t.split(" ")[0].toLowerCase()}async function N1e(){let t={kernel_version:$i.release(),name:"Linux"};try{let e=await _se("/etc"),r=L1e.find(u=>e.includes(u.name));if(!r)return t;let i=j1e.join("/etc",r.name),o=(await Pse(i,{encoding:"utf-8"})).toLowerCase(),{distros:s}=r;t.name=s.find(u=>o.indexOf(Dse(u))>=0)||s[0];let l=Dse(t.name);t.version=V1e[l](o)}catch{}return t}function W1e(){return process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0}Sp.Context=T1e;Sp.getDeviceContext=kse;Sp.readDirAsync=_se;Sp.readFileAsync=Pse});var Ese=O(Yd=>{Object.defineProperty(Yd,"__esModule",{value:!0});function G1e(t,e,r){let i=0,o=5,s=0;return setInterval(()=>{s===0?i>t&&(o*=2,r(o),o>86400&&(o=86400),s=o):(s-=1,s===0&&e()),i=0},1e3).unref(),()=>{i+=1}}function gU(t){return t!==void 0&&(t.length===0||t==="?"||t==="<anonymous>")}function Z1e(t,e){return t===e||gU(t)&&gU(e)}function wse(t){if(t!==void 0)return t.slice(-10).reduce((e,r)=>`${e},${r.function},${r.lineno},${r.colno}`,"")}function H1e(t,e){if(e!==void 0)return wse(t(e,1))}Yd.createRateLimiter=G1e;Yd.functionNamesMatch=Z1e;Yd.hashFrames=wse;Yd.hashFromStack=H1e;Yd.isAnonymous=gU});var Mse=O(GA=>{var{_optionalChain:wr}=ge();Object.defineProperty(GA,"__esModule",{value:!0});var K1e=lt(),NA=ge(),q1e=Zd(),WA=Ese();function bU(t){let e=[],r=!1;function i(l){e=[],!r&&(r=!0,t(l))}e.push(i);function o(l){e.push(l)}function s(l){let u=e.pop()||i;try{u(l)}catch{i(l)}}return{add:o,next:s}}var mU=class{constructor(){let{Session:e}=require("inspector");this._session=new e}configureAndConnect(e,r){this._session.connect(),this._session.on("Debugger.paused",i=>{e(i,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:r?"all":"uncaught"})}setPauseOnExceptions(e){this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}getLocalVariables(e,r){this._getProperties(e,i=>{let{add:o,next:s}=bU(r);for(let l of i)if(wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.objectId])&&wr([l,"optionalAccess",u=>u.value,"access",u=>u.className])==="Array"){let u=l.value.objectId;o(c=>this._unrollArray(u,l.name,c,s))}else if(wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.objectId])&&wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.className])==="Object"){let u=l.value.objectId;o(c=>this._unrollObject(u,l.name,c,s))}else(wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])||wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.description]))&&o(u=>this._unrollOther(l,u,s));s({})})}_getProperties(e,r){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},(i,o)=>{r(i?[]:o.result)})}_unrollArray(e,r,i,o){this._getProperties(e,s=>{i[r]=s.filter(l=>l.name!=="length"&&!isNaN(parseInt(l.name,10))).sort((l,u)=>parseInt(l.name,10)-parseInt(u.name,10)).map(l=>wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])),o(i)})}_unrollObject(e,r,i,o){this._getProperties(e,s=>{i[r]=s.map(l=>[l.name,wr([l,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])]).reduce((l,[u,c])=>(l[u]=c,l),{}),o(i)})}_unrollOther(e,r,i){wr([e,"optionalAccess",o=>o.value,"optionalAccess",o=>o.value])?r[e.name]=e.value.value:wr([e,"optionalAccess",o=>o.value,"optionalAccess",o=>o.description])&&wr([e,"optionalAccess",o=>o.value,"optionalAccess",o=>o.type])!=="function"&&(r[e.name]=`<${e.value.description}>`),i(r)}};function Y1e(){try{return new mU}catch{return}}var Use="LocalVariables",X1e=(t={},e=Y1e())=>{let r=new NA.LRUMap(20),i,o=!1;function s(c,{params:{reason:g,data:p,callFrames:f}},I){if(g!=="exception"&&g!=="promiseRejection"){I();return}wr([i,"optionalCall",P=>P()]);let v=WA.hashFromStack(c,wr([p,"optionalAccess",P=>P.description]));if(v==null){I();return}let{add:C,next:F}=bU(P=>{r.set(v,P),I()});for(let P=0;P<Math.min(f.length,5);P++){let{scopeChain:E,functionName:J,this:k}=f[P],ee=E.find(Q=>Q.type==="local"),ce=k.className==="global"||!k.className?J:`${k.className}.${J}`;if(wr([ee,"optionalAccess",Q=>Q.object,"access",Q=>Q.objectId])===void 0)C(Q=>{Q[P]={function:ce},F(Q)});else{let Q=ee.object.objectId;C(he=>wr([e,"optionalAccess",me=>me.getLocalVariables,"call",me=>me(Q,z=>{he[P]={function:ce,vars:z},F(he)})]))}}F([])}function l(c){let g=WA.hashFrames(wr([c,"optionalAccess",I=>I.stacktrace,"optionalAccess",I=>I.frames]));if(g===void 0)return;let p=r.remove(g);if(p===void 0)return;let f=wr([c,"access",I=>I.stacktrace,"optionalAccess",I=>I.frames,"optionalAccess",I=>I.length])||0;for(let I=0;I<f;I++){let v=f-I-1;if(!wr([c,"optionalAccess",C=>C.stacktrace,"optionalAccess",C=>C.frames,"optionalAccess",C=>C[v]])||!p[I])break;p[I].vars===void 0||c.stacktrace.frames[v].in_app===!1||!WA.functionNamesMatch(c.stacktrace.frames[v].function,p[I].function)||(c.stacktrace.frames[v].vars=p[I].vars)}}function u(c){for(let g of wr([c,"optionalAccess",p=>p.exception,"optionalAccess",p=>p.values])||[])l(g);return c}return{name:Use,setupOnce(){},setup(c){let g=c.getOptions();if(e&&g.includeLocalVariables){if(q1e.NODE_VERSION.major<18){NA.logger.log("The `LocalVariables` integration is only supported on Node >= v18.");return}let f=t.captureAllExceptions!==!1;if(e.configureAndConnect((I,v)=>s(g.stackParser,I,v),f),f){let I=t.maxExceptionsPerSecond||50;i=WA.createRateLimiter(I,()=>{NA.logger.log("Local variables rate-limit lifted."),wr([e,"optionalAccess",v=>v.setPauseOnExceptions,"call",v=>v(!0)])},v=>{NA.logger.log(`Local variables rate-limit exceeded. Disabling capturing of caught exceptions for ${v} seconds.`),wr([e,"optionalAccess",C=>C.setPauseOnExceptions,"call",C=>C(!1)])})}o=!0}},processEvent(c){return o?u(c):c},_getCachedFramesCount(){return r.size},_getFirstCachedFrame(){return r.values()[0]}}},z1e=K1e.convertIntegrationFnToClass(Use,X1e);GA.LocalVariablesSync=z1e;GA.createCallbackList=bU});var yU=O(fU=>{Object.defineProperty(fU,"__esModule",{value:!0});var J1e=Mse(),Q1e=J1e.LocalVariablesSync;fU.LocalVariables=Q1e});var IU=O((ha,Vse)=>{var{_optionalChain:ZA}=ge();Object.defineProperty(ha,"__esModule",{value:!0});var On=lt(),Ia=ge(),$1e=Zd();ha.ChannelName=void 0;(function(t){let e="undici:request:create";t.RequestCreate=e;let r="undici:request:headers";t.RequestEnd=r;let i="undici:request:error";t.RequestError=i})(ha.ChannelName||(ha.ChannelName={}));var Mn=class{static __initStatic(){this.id="Undici"}__init(){this.name=Mn.id}__init2(){this._createSpanUrlMap=new Ia.LRUMap(100)}__init3(){this._headersUrlMap=new Ia.LRUMap(100)}constructor(e={}){Mn.prototype.__init.call(this),Mn.prototype.__init2.call(this),Mn.prototype.__init3.call(this),Mn.prototype.__init4.call(this),Mn.prototype.__init5.call(this),Mn.prototype.__init6.call(this),this._options={breadcrumbs:e.breadcrumbs===void 0?!0:e.breadcrumbs,shouldCreateSpanForRequest:e.shouldCreateSpanForRequest}}setupOnce(e){if($1e.NODE_VERSION.major<16)return;let r;try{r=Ia.dynamicRequire(Vse,"diagnostics_channel")}catch{}!r||!r.subscribe||(r.subscribe(ha.ChannelName.RequestCreate,this._onRequestCreate),r.subscribe(ha.ChannelName.RequestEnd,this._onRequestEnd),r.subscribe(ha.ChannelName.RequestError,this._onRequestError))}_shouldCreateSpan(e){if(this._options.shouldCreateSpanForRequest===void 0)return!0;let r=this._createSpanUrlMap.get(e);if(r!==void 0)return r;let i=this._options.shouldCreateSpanForRequest(e);return this._createSpanUrlMap.set(e,i),i}__init4(){this._onRequestCreate=e=>{if(!ZA([On.getClient,"call",p=>p(),"optionalAccess",p=>p.getIntegration,"call",p=>p(Mn)]))return;let{request:r}=e,i=r.origin?r.origin.toString()+r.path:r.path,o=On.getClient();if(!o||On.isSentryRequestUrl(i,o)||r.__sentry_span__!==void 0)return;let s=o.getOptions(),l=On.getCurrentScope(),u=On.getActiveSpan(),c=this._shouldCreateSpan(i)?eZe(u,r,i):void 0;if(c&&(r.__sentry_span__=c),(p=>{if(s.tracePropagationTargets===void 0)return!0;let f=this._headersUrlMap.get(p);if(f!==void 0)return f;let I=Ia.stringMatchesSomePattern(p,s.tracePropagationTargets);return this._headersUrlMap.set(p,I),I})(i))if(c){let p=On.getDynamicSamplingContextFromSpan(c),f=Ia.dynamicSamplingContextToSentryBaggageHeader(p);Lse(r,On.spanToTraceHeader(c),f)}else{let{traceId:p,sampled:f,dsc:I}=l.getPropagationContext(),v=Ia.generateSentryTraceHeader(p,void 0,f),C=I||On.getDynamicSamplingContextFromClient(p,o,l),F=Ia.dynamicSamplingContextToSentryBaggageHeader(C);Lse(r,v,F)}}}__init5(){this._onRequestEnd=e=>{if(!ZA([On.getClient,"call",l=>l(),"optionalAccess",l=>l.getIntegration,"call",l=>l(Mn)]))return;let{request:r,response:i}=e,o=r.origin?r.origin.toString()+r.path:r.path;if(On.isSentryRequestUrl(o,On.getClient()))return;let s=r.__sentry_span__;s&&(s.setHttpStatus(i.statusCode),s.end()),this._options.breadcrumbs&&On.addBreadcrumb({category:"http",data:{method:r.method,status_code:i.statusCode,url:o},type:"http"},{event:"response",request:r,response:i})}}__init6(){this._onRequestError=e=>{if(!ZA([On.getClient,"call",s=>s(),"optionalAccess",s=>s.getIntegration,"call",s=>s(Mn)]))return;let{request:r}=e,i=r.origin?r.origin.toString()+r.path:r.path;if(On.isSentryRequestUrl(i,On.getClient()))return;let o=r.__sentry_span__;o&&(o.setStatus("internal_error"),o.end()),this._options.breadcrumbs&&On.addBreadcrumb({category:"http",data:{method:r.method,url:i},level:"error",type:"http"},{event:"error",request:r})}}};Mn.__initStatic();function Lse(t,e,r){t.headers.split(`\r
`).some(s=>s.startsWith("sentry-trace:"))||(t.addHeader("sentry-trace",e),r&&t.addHeader("baggage",r))}function eZe(t,e,r){let i=Ia.parseUrl(r),o=e.method||"GET",s={"http.method":o};return i.search&&(s["http.query"]=i.search),i.hash&&(s["http.fragment"]=i.hash),ZA([t,"optionalAccess",l=>l.startChild,"call",l=>l({op:"http.client",origin:"auto.http.node.undici",description:`${o} ${Ia.getSanitizedUrlString(i)}`,data:s})])}ha.Undici=Mn});var xU=O(hU=>{Object.defineProperty(hU,"__esModule",{value:!0});var tZe=require("http"),rZe=require("url"),nZe=lt(),Op=ge(),Bse="Spotlight",iZe=(t={})=>{let e={sidecarUrl:t.sidecarUrl||"http://localhost:8969/stream"};return{name:Bse,setupOnce(){},setup(r){typeof process=="object"&&process.env&&process.env.NODE_ENV!=="development"&&Op.logger.warn("[Spotlight] It seems you're not in dev mode. Do you really want to have Spotlight enabled?"),oZe(r,e)}}},sZe=nZe.convertIntegrationFnToClass(Bse,iZe);function oZe(t,e){let r=aZe(e.sidecarUrl);if(!r)return;let i=0;if(typeof t.on!="function"){Op.logger.warn("[Spotlight] Cannot connect to spotlight due to missing method on SDK client (`client.on`)");return}t.on("beforeEnvelope",o=>{if(i>3){Op.logger.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests");return}let s=Op.serializeEnvelope(o),l=tZe.request({method:"POST",path:r.pathname,hostname:r.hostname,port:r.port,headers:{"Content-Type":"application/x-sentry-envelope"}},u=>{u.on("data",()=>{}),u.on("end",()=>{}),u.setEncoding("utf8")});l.on("error",()=>{i++,Op.logger.warn("[Spotlight] Failed to send envelope to Spotlight Sidecar")}),l.write(s),l.end()})}function aZe(t){try{return new rZe.URL(`${t}`)}catch{Op.logger.warn(`[Spotlight] Invalid sidecar URL: ${t}`);return}}hU.Spotlight=sZe});var Wse=O(Nse=>{Nse.base64WorkerScript="aW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJ2luc3BlY3Rvcic7CmltcG9ydCB7IHdvcmtlckRhdGEsIHBhcmVudFBvcnQgfSBmcm9tICd3b3JrZXJfdGhyZWFkcyc7CmltcG9ydCB7IHBvc2l4LCBzZXAgfSBmcm9tICdwYXRoJzsKaW1wb3J0ICogYXMgaHR0cCBmcm9tICdodHRwJzsKaW1wb3J0ICogYXMgaHR0cHMgZnJvbSAnaHR0cHMnOwppbXBvcnQgeyBSZWFkYWJsZSB9IGZyb20gJ3N0cmVhbSc7CmltcG9ydCB7IFVSTCB9IGZyb20gJ3VybCc7CmltcG9ydCB7IGNyZWF0ZUd6aXAgfSBmcm9tICd6bGliJzsKaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnOwppbXBvcnQgKiBhcyBuZXQgZnJvbSAnbmV0JzsKaW1wb3J0ICogYXMgdGxzIGZyb20gJ3Rscyc7CgovLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kCmNvbnN0IG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsKCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgb25lIG9mIGEgZmV3IEVycm9yIG9yIEVycm9yLWxpa2UKICoge0BsaW5rIGlzRXJyb3J9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNFcnJvcih3YXQpIHsKICBzd2l0Y2ggKG9iamVjdFRvU3RyaW5nLmNhbGwod2F0KSkgewogICAgY2FzZSAnW29iamVjdCBFcnJvcl0nOgogICAgY2FzZSAnW29iamVjdCBFeGNlcHRpb25dJzoKICAgIGNhc2UgJ1tvYmplY3QgRE9NRXhjZXB0aW9uXSc6CiAgICAgIHJldHVybiB0cnVlOwogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIGlzSW5zdGFuY2VPZih3YXQsIEVycm9yKTsKICB9Cn0KLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIHRoZSBnaXZlbiBidWlsdC1pbiBjbGFzcy4KICoKICogQHBhcmFtIHdhdCBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZAogKiBAcGFyYW0gY2xhc3NOYW1lCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzQnVpbHRpbih3YXQsIGNsYXNzTmFtZSkgewogIHJldHVybiBvYmplY3RUb1N0cmluZy5jYWxsKHdhdCkgPT09IGBbb2JqZWN0ICR7Y2xhc3NOYW1lfV1gOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgc3RyaW5nCiAqIHtAbGluayBpc1N0cmluZ30uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1N0cmluZyh3YXQpIHsKICByZXR1cm4gaXNCdWlsdGluKHdhdCwgJ1N0cmluZycpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIG9iamVjdCBsaXRlcmFsLCBvciBhIGNsYXNzIGluc3RhbmNlLgogKiB7QGxpbmsgaXNQbGFpbk9iamVjdH0uCiAqCiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHdhdCkgewogIHJldHVybiBpc0J1aWx0aW4od2F0LCAnT2JqZWN0Jyk7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRXZlbnQgaW5zdGFuY2UKICoge0BsaW5rIGlzRXZlbnR9LgogKgogKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC4KICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LgogKi8KZnVuY3Rpb24gaXNFdmVudCh3YXQpIHsKICByZXR1cm4gdHlwZW9mIEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2Yod2F0LCBFdmVudCk7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRWxlbWVudCBpbnN0YW5jZQogKiB7QGxpbmsgaXNFbGVtZW50fS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzRWxlbWVudCh3YXQpIHsKICByZXR1cm4gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih3YXQsIEVsZW1lbnQpOwp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUgaGFzIGEgdGhlbiBmdW5jdGlvbi4KICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqLwpmdW5jdGlvbiBpc1RoZW5hYmxlKHdhdCkgewogIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MKICByZXR1cm4gQm9vbGVhbih3YXQgJiYgd2F0LnRoZW4gJiYgdHlwZW9mIHdhdC50aGVuID09PSAnZnVuY3Rpb24nKTsKfQoKLyoqCiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhIFN5bnRoZXRpY0V2ZW50CiAqIHtAbGluayBpc1N5bnRoZXRpY0V2ZW50fS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQod2F0KSB7CiAgcmV0dXJuIGlzUGxhaW5PYmplY3Qod2F0KSAmJiAnbmF0aXZlRXZlbnQnIGluIHdhdCAmJiAncHJldmVudERlZmF1bHQnIGluIHdhdCAmJiAnc3RvcFByb3BhZ2F0aW9uJyBpbiB3YXQ7Cn0KCi8qKgogKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSBpcyBOYU4KICoge0BsaW5rIGlzTmFOfS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzTmFOJDEod2F0KSB7CiAgcmV0dXJuIHR5cGVvZiB3YXQgPT09ICdudW1iZXInICYmIHdhdCAhPT0gd2F0Owp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIGluc3RhbmNlIG9mIHByb3ZpZGVkIGNvbnN0cnVjdG9yLgogKiB7QGxpbmsgaXNJbnN0YW5jZU9mfS4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEBwYXJhbSBiYXNlIEEgY29uc3RydWN0b3IgdG8gYmUgdXNlZCBpbiBhIGNoZWNrLgogKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuCiAqLwpmdW5jdGlvbiBpc0luc3RhbmNlT2Yod2F0LCBiYXNlKSB7CiAgdHJ5IHsKICAgIHJldHVybiB3YXQgaW5zdGFuY2VvZiBiYXNlOwogIH0gY2F0Y2ggKF9lKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQp9CgovKioKICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgVnVlIFZpZXdNb2RlbC4KICoKICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuCiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC4KICovCmZ1bmN0aW9uIGlzVnVlVmlld01vZGVsKHdhdCkgewogIC8vIE5vdCB1c2luZyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nIGJlY2F1c2UgaW4gVnVlIDMgaXQgd291bGQgcmVhZCB0aGUgaW5zdGFuY2UncyBTeW1ib2woU3ltYm9sLnRvU3RyaW5nVGFnKSBwcm9wZXJ0eS4KICByZXR1cm4gISEodHlwZW9mIHdhdCA9PT0gJ29iamVjdCcgJiYgd2F0ICE9PSBudWxsICYmICgod2F0ICkuX19pc1Z1ZSB8fCAod2F0ICkuX2lzVnVlKSk7Cn0KCi8qKiBJbnRlcm5hbCBnbG9iYWwgd2l0aCBjb21tb24gcHJvcGVydGllcyBhbmQgU2VudHJ5IGV4dGVuc2lvbnMgICovCgovLyBUaGUgY29kZSBiZWxvdyBmb3IgJ2lzR2xvYmFsT2JqJyBhbmQgJ0dMT0JBTF9PQkonIHdhcyBjb3BpZWQgZnJvbSBjb3JlLWpzIGJlZm9yZSBtb2RpZmljYXRpb24KLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi8xYjk0NGRmNTUyODJjZGM5OWM5MGRiNWY0OWViMGI2ZWRhMmNjMGEzL3BhY2thZ2VzL2NvcmUtanMvaW50ZXJuYWxzL2dsb2JhbC5qcwovLyBjb3JlLWpzIGhhcyB0aGUgZm9sbG93aW5nIGxpY2VuY2U6Ci8vCi8vIENvcHlyaWdodCAoYykgMjAxNC0yMDIyIERlbmlzIFB1c2hrYXJldgovLwovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Ci8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAovLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8KLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi8vCi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAovLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgovLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLAovLyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOCi8vIFRIRSBTT0ZUV0FSRS4KCi8qKiBSZXR1cm5zICdvYmonIGlmIGl0J3MgdGhlIGdsb2JhbCBvYmplY3QsIG90aGVyd2lzZSByZXR1cm5zIHVuZGVmaW5lZCAqLwpmdW5jdGlvbiBpc0dsb2JhbE9iaihvYmopIHsKICByZXR1cm4gb2JqICYmIG9iai5NYXRoID09IE1hdGggPyBvYmogOiB1bmRlZmluZWQ7Cn0KCi8qKiBHZXQncyB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBydW50aW1lICovCmNvbnN0IEdMT0JBTF9PQkogPQogICh0eXBlb2YgZ2xvYmFsVGhpcyA9PSAnb2JqZWN0JyAmJiBpc0dsb2JhbE9iaihnbG9iYWxUaGlzKSkgfHwKICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgKHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmood2luZG93KSkgfHwKICAodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmooc2VsZikpIHx8CiAgKHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgaXNHbG9iYWxPYmooZ2xvYmFsKSkgfHwKICAoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXM7CiAgfSkoKSB8fAogIHt9OwoKLyoqCiAqIEBkZXByZWNhdGVkIFVzZSBHTE9CQUxfT0JKIGluc3RlYWQgb3IgV0lORE9XIGZyb20gQHNlbnRyeS9icm93c2VyLiBUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OAogKi8KZnVuY3Rpb24gZ2V0R2xvYmFsT2JqZWN0KCkgewogIHJldHVybiBHTE9CQUxfT0JKIDsKfQoKLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCmNvbnN0IFdJTkRPVyA9IGdldEdsb2JhbE9iamVjdCgpOwoKY29uc3QgREVGQVVMVF9NQVhfU1RSSU5HX0xFTkdUSCA9IDgwOwoKLyoqCiAqIEdpdmVuIGEgY2hpbGQgRE9NIGVsZW1lbnQsIHJldHVybnMgYSBxdWVyeS1zZWxlY3RvciBzdGF0ZW1lbnQgZGVzY3JpYmluZyB0aGF0CiAqIGFuZCBpdHMgYW5jZXN0b3JzCiAqIGUuZy4gW0hUTUxFbGVtZW50XSA9PiBib2R5ID4gZGl2ID4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel0KICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoCiAqLwpmdW5jdGlvbiBodG1sVHJlZUFzU3RyaW5nKAogIGVsZW0sCiAgb3B0aW9ucyA9IHt9LAopIHsKICBpZiAoIWVsZW0pIHsKICAgIHJldHVybiAnPHVua25vd24+JzsKICB9CgogIC8vIHRyeS9jYXRjaCBib3RoOgogIC8vIC0gYWNjZXNzaW5nIGV2ZW50LnRhcmdldCAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpCiAgLy8gLSBgaHRtbFRyZWVBc1N0cmluZ2AgYmVjYXVzZSBpdCdzIGNvbXBsZXgsIGFuZCBqdXN0IGFjY2Vzc2luZyB0aGUgRE9NIGluY29ycmVjdGx5CiAgLy8gLSBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4KICB0cnkgewogICAgbGV0IGN1cnJlbnRFbGVtID0gZWxlbSA7CiAgICBjb25zdCBNQVhfVFJBVkVSU0VfSEVJR0hUID0gNTsKICAgIGNvbnN0IG91dCA9IFtdOwogICAgbGV0IGhlaWdodCA9IDA7CiAgICBsZXQgbGVuID0gMDsKICAgIGNvbnN0IHNlcGFyYXRvciA9ICcgPiAnOwogICAgY29uc3Qgc2VwTGVuZ3RoID0gc2VwYXJhdG9yLmxlbmd0aDsKICAgIGxldCBuZXh0U3RyOwogICAgY29uc3Qga2V5QXR0cnMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMpID8gb3B0aW9ucyA6IG9wdGlvbnMua2V5QXR0cnM7CiAgICBjb25zdCBtYXhTdHJpbmdMZW5ndGggPSAoIUFycmF5LmlzQXJyYXkob3B0aW9ucykgJiYgb3B0aW9ucy5tYXhTdHJpbmdMZW5ndGgpIHx8IERFRkFVTFRfTUFYX1NUUklOR19MRU5HVEg7CgogICAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkgewogICAgICBuZXh0U3RyID0gX2h0bWxFbGVtZW50QXNTdHJpbmcoY3VycmVudEVsZW0sIGtleUF0dHJzKTsKICAgICAgLy8gYmFpbCBvdXQgaWYKICAgICAgLy8gLSBuZXh0U3RyIGlzIHRoZSAnaHRtbCcgZWxlbWVudAogICAgICAvLyAtIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZyB0aGF0IHdvdWxkIGJlIGNyZWF0ZWQgZXhjZWVkcyBtYXhTdHJpbmdMZW5ndGgKICAgICAgLy8gICAoaWdub3JlIHRoaXMgbGltaXQgaWYgd2UgYXJlIG9uIHRoZSBmaXJzdCBpdGVyYXRpb24pCiAgICAgIGlmIChuZXh0U3RyID09PSAnaHRtbCcgfHwgKGhlaWdodCA+IDEgJiYgbGVuICsgb3V0Lmxlbmd0aCAqIHNlcExlbmd0aCArIG5leHRTdHIubGVuZ3RoID49IG1heFN0cmluZ0xlbmd0aCkpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgb3V0LnB1c2gobmV4dFN0cik7CgogICAgICBsZW4gKz0gbmV4dFN0ci5sZW5ndGg7CiAgICAgIGN1cnJlbnRFbGVtID0gY3VycmVudEVsZW0ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gb3V0LnJldmVyc2UoKS5qb2luKHNlcGFyYXRvcik7CiAgfSBjYXRjaCAoX29PKSB7CiAgICByZXR1cm4gJzx1bmtub3duPic7CiAgfQp9CgovKioKICogUmV0dXJucyBhIHNpbXBsZSwgcXVlcnktc2VsZWN0b3IgcmVwcmVzZW50YXRpb24gb2YgYSBET00gZWxlbWVudAogKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel0KICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoCiAqLwpmdW5jdGlvbiBfaHRtbEVsZW1lbnRBc1N0cmluZyhlbCwga2V5QXR0cnMpIHsKICBjb25zdCBlbGVtID0gZWwKCjsKCiAgY29uc3Qgb3V0ID0gW107CiAgbGV0IGNsYXNzTmFtZTsKICBsZXQgY2xhc3NlczsKICBsZXQga2V5OwogIGxldCBhdHRyOwogIGxldCBpOwoKICBpZiAoIWVsZW0gfHwgIWVsZW0udGFnTmFtZSkgewogICAgcmV0dXJuICcnOwogIH0KCiAgLy8gQHRzLWV4cGVjdC1lcnJvciBXSU5ET1cgaGFzIEhUTUxFbGVtZW50CiAgaWYgKFdJTkRPVy5IVE1MRWxlbWVudCkgewogICAgLy8gSWYgdXNpbmcgdGhlIGNvbXBvbmVudCBuYW1lIGFubm90YXRpb24gcGx1Z2luLCB0aGlzIHZhbHVlIG1heSBiZSBhdmFpbGFibGUgb24gdGhlIERPTSBub2RlCiAgICBpZiAoZWxlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmIGVsZW0uZGF0YXNldCAmJiBlbGVtLmRhdGFzZXRbJ3NlbnRyeUNvbXBvbmVudCddKSB7CiAgICAgIHJldHVybiBlbGVtLmRhdGFzZXRbJ3NlbnRyeUNvbXBvbmVudCddOwogICAgfQogIH0KCiAgb3V0LnB1c2goZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpOwoKICAvLyBQYWlycyBvZiBhdHRyaWJ1dGUga2V5cyBkZWZpbmVkIGluIGBzZXJpYWxpemVBdHRyaWJ1dGVgIGFuZCB0aGVpciB2YWx1ZXMgb24gZWxlbWVudC4KICBjb25zdCBrZXlBdHRyUGFpcnMgPQogICAga2V5QXR0cnMgJiYga2V5QXR0cnMubGVuZ3RoCiAgICAgID8ga2V5QXR0cnMuZmlsdGVyKGtleUF0dHIgPT4gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5QXR0cikpLm1hcChrZXlBdHRyID0+IFtrZXlBdHRyLCBlbGVtLmdldEF0dHJpYnV0ZShrZXlBdHRyKV0pCiAgICAgIDogbnVsbDsKCiAgaWYgKGtleUF0dHJQYWlycyAmJiBrZXlBdHRyUGFpcnMubGVuZ3RoKSB7CiAgICBrZXlBdHRyUGFpcnMuZm9yRWFjaChrZXlBdHRyUGFpciA9PiB7CiAgICAgIG91dC5wdXNoKGBbJHtrZXlBdHRyUGFpclswXX09IiR7a2V5QXR0clBhaXJbMV19Il1gKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBpZiAoZWxlbS5pZCkgewogICAgICBvdXQucHVzaChgIyR7ZWxlbS5pZH1gKTsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0CiAgICBjbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZTsKICAgIGlmIChjbGFzc05hbWUgJiYgaXNTdHJpbmcoY2xhc3NOYW1lKSkgewogICAgICBjbGFzc2VzID0gY2xhc3NOYW1lLnNwbGl0KC9ccysvKTsKICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBvdXQucHVzaChgLiR7Y2xhc3Nlc1tpXX1gKTsKICAgICAgfQogICAgfQogIH0KICBjb25zdCBhbGxvd2VkQXR0cnMgPSBbJ2FyaWEtbGFiZWwnLCAndHlwZScsICduYW1lJywgJ3RpdGxlJywgJ2FsdCddOwogIGZvciAoaSA9IDA7IGkgPCBhbGxvd2VkQXR0cnMubGVuZ3RoOyBpKyspIHsKICAgIGtleSA9IGFsbG93ZWRBdHRyc1tpXTsKICAgIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShrZXkpOwogICAgaWYgKGF0dHIpIHsKICAgICAgb3V0LnB1c2goYFske2tleX09IiR7YXR0cn0iXWApOwogICAgfQogIH0KICByZXR1cm4gb3V0LmpvaW4oJycpOwp9CgovKioKICogVGhpcyBzZXJ2ZXMgYXMgYSBidWlsZCB0aW1lIGZsYWcgdGhhdCB3aWxsIGJlIHRydWUgYnkgZGVmYXVsdCwgYnV0IGZhbHNlIGluIG5vbi1kZWJ1ZyBidWlsZHMgb3IgaWYgdXNlcnMgcmVwbGFjZSBgX19TRU5UUllfREVCVUdfX2AgaW4gdGhlaXIgZ2VuZXJhdGVkIGNvZGUuCiAqCiAqIEFUVEVOVElPTjogVGhpcyBjb25zdGFudCBtdXN0IG5ldmVyIGNyb3NzIHBhY2thZ2UgYm91bmRhcmllcyAoaS5lLiBiZSBleHBvcnRlZCkgdG8gZ3VhcmFudGVlIHRoYXQgaXQgY2FuIGJlIHVzZWQgZm9yIHRyZWUgc2hha2luZy4KICovCmNvbnN0IERFQlVHX0JVSUxEJDEgPSAodHlwZW9mIF9fU0VOVFJZX0RFQlVHX18gPT09ICd1bmRlZmluZWQnIHx8IF9fU0VOVFJZX0RFQlVHX18pOwoKLyoqIFByZWZpeCBmb3IgbG9nZ2luZyBzdHJpbmdzICovCmNvbnN0IFBSRUZJWCA9ICdTZW50cnkgTG9nZ2VyICc7Cgpjb25zdCBDT05TT0xFX0xFVkVMUyA9IFsKICAnZGVidWcnLAogICdpbmZvJywKICAnd2FybicsCiAgJ2Vycm9yJywKICAnbG9nJywKICAnYXNzZXJ0JywKICAndHJhY2UnLApdIDsKCi8qKiBUaGlzIG1heSBiZSBtdXRhdGVkIGJ5IHRoZSBjb25zb2xlIGluc3RydW1lbnRhdGlvbi4gKi8KY29uc3Qgb3JpZ2luYWxDb25zb2xlTWV0aG9kcwoKID0ge307CgovKiogSlNEb2MgKi8KCi8qKgogKiBUZW1wb3JhcmlseSBkaXNhYmxlIHNlbnRyeSBjb25zb2xlIGluc3RydW1lbnRhdGlvbnMuCiAqCiAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gcnVuIGFnYWluc3QgdGhlIG9yaWdpbmFsIGBjb25zb2xlYCBtZXNzYWdlcwogKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBvZiB0aGUgY2FsbGJhY2sKICovCmZ1bmN0aW9uIGNvbnNvbGVTYW5kYm94KGNhbGxiYWNrKSB7CiAgaWYgKCEoJ2NvbnNvbGUnIGluIEdMT0JBTF9PQkopKSB7CiAgICByZXR1cm4gY2FsbGJhY2soKTsKICB9CgogIGNvbnN0IGNvbnNvbGUgPSBHTE9CQUxfT0JKLmNvbnNvbGUgOwogIGNvbnN0IHdyYXBwZWRGdW5jcyA9IHt9OwoKICBjb25zdCB3cmFwcGVkTGV2ZWxzID0gT2JqZWN0LmtleXMob3JpZ2luYWxDb25zb2xlTWV0aG9kcykgOwoKICAvLyBSZXN0b3JlIGFsbCB3cmFwcGVkIGNvbnNvbGUgbWV0aG9kcwogIHdyYXBwZWRMZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7CiAgICBjb25zdCBvcmlnaW5hbENvbnNvbGVNZXRob2QgPSBvcmlnaW5hbENvbnNvbGVNZXRob2RzW2xldmVsXSA7CiAgICB3cmFwcGVkRnVuY3NbbGV2ZWxdID0gY29uc29sZVtsZXZlbF0gOwogICAgY29uc29sZVtsZXZlbF0gPSBvcmlnaW5hbENvbnNvbGVNZXRob2Q7CiAgfSk7CgogIHRyeSB7CiAgICByZXR1cm4gY2FsbGJhY2soKTsKICB9IGZpbmFsbHkgewogICAgLy8gUmV2ZXJ0IHJlc3RvcmF0aW9uIHRvIHdyYXBwZWQgc3RhdGUKICAgIHdyYXBwZWRMZXZlbHMuZm9yRWFjaChsZXZlbCA9PiB7CiAgICAgIGNvbnNvbGVbbGV2ZWxdID0gd3JhcHBlZEZ1bmNzW2xldmVsXSA7CiAgICB9KTsKICB9Cn0KCmZ1bmN0aW9uIG1ha2VMb2dnZXIoKSB7CiAgbGV0IGVuYWJsZWQgPSBmYWxzZTsKICBjb25zdCBsb2dnZXIgPSB7CiAgICBlbmFibGU6ICgpID0+IHsKICAgICAgZW5hYmxlZCA9IHRydWU7CiAgICB9LAogICAgZGlzYWJsZTogKCkgPT4gewogICAgICBlbmFibGVkID0gZmFsc2U7CiAgICB9LAogICAgaXNFbmFibGVkOiAoKSA9PiBlbmFibGVkLAogIH07CgogIGlmIChERUJVR19CVUlMRCQxKSB7CiAgICBDT05TT0xFX0xFVkVMUy5mb3JFYWNoKG5hbWUgPT4gewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueQogICAgICBsb2dnZXJbbmFtZV0gPSAoLi4uYXJncykgPT4gewogICAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgICBjb25zb2xlU2FuZGJveCgoKSA9PiB7CiAgICAgICAgICAgIEdMT0JBTF9PQkouY29uc29sZVtuYW1lXShgJHtQUkVGSVh9WyR7bmFtZX1dOmAsIC4uLmFyZ3MpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9OwogICAgfSk7CiAgfSBlbHNlIHsKICAgIENPTlNPTEVfTEVWRUxTLmZvckVhY2gobmFtZSA9PiB7CiAgICAgIGxvZ2dlcltuYW1lXSA9ICgpID0+IHVuZGVmaW5lZDsKICAgIH0pOwogIH0KCiAgcmV0dXJuIGxvZ2dlciA7Cn0KCmNvbnN0IGxvZ2dlciA9IG1ha2VMb2dnZXIoKTsKCi8qKgogKiBSZW5kZXJzIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBEc24uCiAqCiAqIEJ5IGRlZmF1bHQsIHRoaXMgd2lsbCByZW5kZXIgdGhlIHB1YmxpYyByZXByZXNlbnRhdGlvbiB3aXRob3V0IHRoZSBwYXNzd29yZAogKiBjb21wb25lbnQuIFRvIGdldCB0aGUgZGVwcmVjYXRlZCBwcml2YXRlIHJlcHJlc2VudGF0aW9uLCBzZXQgYHdpdGhQYXNzd29yZGAKICogdG8gdHJ1ZS4KICoKICogQHBhcmFtIHdpdGhQYXNzd29yZCBXaGVuIHNldCB0byB0cnVlLCB0aGUgcGFzc3dvcmQgd2lsbCBiZSBpbmNsdWRlZC4KICovCmZ1bmN0aW9uIGRzblRvU3RyaW5nKGRzbiwgd2l0aFBhc3N3b3JkID0gZmFsc2UpIHsKICBjb25zdCB7IGhvc3QsIHBhdGgsIHBhc3MsIHBvcnQsIHByb2plY3RJZCwgcHJvdG9jb2wsIHB1YmxpY0tleSB9ID0gZHNuOwogIHJldHVybiAoCiAgICBgJHtwcm90b2NvbH06Ly8ke3B1YmxpY0tleX0ke3dpdGhQYXNzd29yZCAmJiBwYXNzID8gYDoke3Bhc3N9YCA6ICcnfWAgKwogICAgYEAke2hvc3R9JHtwb3J0ID8gYDoke3BvcnR9YCA6ICcnfS8ke3BhdGggPyBgJHtwYXRofS9gIDogcGF0aH0ke3Byb2plY3RJZH1gCiAgKTsKfQoKLyoqIEFuIGVycm9yIGVtaXR0ZWQgYnkgU2VudHJ5IFNES3MgYW5kIHJlbGF0ZWQgdXRpbGl0aWVzLiAqLwpjbGFzcyBTZW50cnlFcnJvciBleHRlbmRzIEVycm9yIHsKICAvKiogRGlzcGxheSBuYW1lIG9mIHRoaXMgZXJyb3IgaW5zdGFuY2UuICovCgogICBjb25zdHJ1Y3RvciggbWVzc2FnZSwgbG9nTGV2ZWwgPSAnd2FybicpIHsKICAgIHN1cGVyKG1lc3NhZ2UpO3RoaXMubWVzc2FnZSA9IG1lc3NhZ2U7CiAgICB0aGlzLm5hbWUgPSBuZXcudGFyZ2V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5uYW1lOwogICAgLy8gVGhpcyBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgYEVycm9yYCwgbm90IGBTZW50cnlFcnJvcmAuIEl0J3MgdW5jbGVhciB3aHkgd2UgZG8gdGhpcywgYnV0IGNvbW1lbnRpbmcgdGhpcyBsaW5lCiAgICAvLyBvdXQgY2F1c2VzIHZhcmlvdXMgKHNlZW1pbmdseSB0b3RhbGx5IHVucmVsYXRlZCkgcGxheXdyaWdodCB0ZXN0cyBjb25zaXN0ZW50bHkgdGltZSBvdXQuIEZZSSwgdGhpcyBtYWtlcwogICAgLy8gaW5zdGFuY2VzIG9mIGBTZW50cnlFcnJvcmAgZmFpbCBgb2JqIGluc3RhbmNlb2YgU2VudHJ5RXJyb3JgIGNoZWNrcy4KICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7CiAgICB0aGlzLmxvZ0xldmVsID0gbG9nTGV2ZWw7CiAgfQp9CgovKioKICogRW5jb2RlcyBnaXZlbiBvYmplY3QgaW50byB1cmwtZnJpZW5kbHkgZm9ybWF0CiAqCiAqIEBwYXJhbSBvYmplY3QgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgc2VyaWFsaXphYmxlIHZhbHVlcwogKiBAcmV0dXJucyBzdHJpbmcgRW5jb2RlZAogKi8KZnVuY3Rpb24gdXJsRW5jb2RlKG9iamVjdCkgewogIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpCiAgICAubWFwKGtleSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQob2JqZWN0W2tleV0pfWApCiAgICAuam9pbignJicpOwp9CgovKioKICogVHJhbnNmb3JtcyBhbnkgYEVycm9yYCBvciBgRXZlbnRgIGludG8gYSBwbGFpbiBvYmplY3Qgd2l0aCBhbGwgb2YgdGhlaXIgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLCBhbmQgc29tZSBvZiB0aGVpcgogKiBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGF0dGFjaGVkLgogKgogKiBAcGFyYW0gdmFsdWUgSW5pdGlhbCBzb3VyY2UgdGhhdCB3ZSBoYXZlIHRvIHRyYW5zZm9ybSBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdXNhYmxlIGJ5IHRoZSBzZXJpYWxpemVyCiAqIEByZXR1cm5zIEFuIEV2ZW50IG9yIEVycm9yIHR1cm5lZCBpbnRvIGFuIG9iamVjdCAtIG9yIHRoZSB2YWx1ZSBhcmd1cm1lbnQgaXRzZWxmLCB3aGVuIHZhbHVlIGlzIG5laXRoZXIgYW4gRXZlbnQgbm9yCiAqICBhbiBFcnJvci4KICovCmZ1bmN0aW9uIGNvbnZlcnRUb1BsYWluT2JqZWN0KAogIHZhbHVlLAopCgogewogIGlmIChpc0Vycm9yKHZhbHVlKSkgewogICAgcmV0dXJuIHsKICAgICAgbWVzc2FnZTogdmFsdWUubWVzc2FnZSwKICAgICAgbmFtZTogdmFsdWUubmFtZSwKICAgICAgc3RhY2s6IHZhbHVlLnN0YWNrLAogICAgICAuLi5nZXRPd25Qcm9wZXJ0aWVzKHZhbHVlKSwKICAgIH07CiAgfSBlbHNlIGlmIChpc0V2ZW50KHZhbHVlKSkgewogICAgY29uc3QgbmV3T2JqCgogPSB7CiAgICAgIHR5cGU6IHZhbHVlLnR5cGUsCiAgICAgIHRhcmdldDogc2VyaWFsaXplRXZlbnRUYXJnZXQodmFsdWUudGFyZ2V0KSwKICAgICAgY3VycmVudFRhcmdldDogc2VyaWFsaXplRXZlbnRUYXJnZXQodmFsdWUuY3VycmVudFRhcmdldCksCiAgICAgIC4uLmdldE93blByb3BlcnRpZXModmFsdWUpLAogICAgfTsKCiAgICBpZiAodHlwZW9mIEN1c3RvbUV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2YodmFsdWUsIEN1c3RvbUV2ZW50KSkgewogICAgICBuZXdPYmouZGV0YWlsID0gdmFsdWUuZGV0YWlsOwogICAgfQoKICAgIHJldHVybiBuZXdPYmo7CiAgfSBlbHNlIHsKICAgIHJldHVybiB2YWx1ZTsKICB9Cn0KCi8qKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0YXJnZXQgb2YgYW4gYEV2ZW50YCBvYmplY3QgKi8KZnVuY3Rpb24gc2VyaWFsaXplRXZlbnRUYXJnZXQodGFyZ2V0KSB7CiAgdHJ5IHsKICAgIHJldHVybiBpc0VsZW1lbnQodGFyZ2V0KSA/IGh0bWxUcmVlQXNTdHJpbmcodGFyZ2V0KSA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0YXJnZXQpOwogIH0gY2F0Y2ggKF9vTykgewogICAgcmV0dXJuICc8dW5rbm93bj4nOwogIH0KfQoKLyoqIEZpbHRlcnMgb3V0IGFsbCBidXQgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMgKi8KZnVuY3Rpb24gZ2V0T3duUHJvcGVydGllcyhvYmopIHsKICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7CiAgICBjb25zdCBleHRyYWN0ZWRQcm9wcyA9IHt9OwogICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmopIHsKICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3BlcnR5KSkgewogICAgICAgIGV4dHJhY3RlZFByb3BzW3Byb3BlcnR5XSA9IChvYmogKVtwcm9wZXJ0eV07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBleHRyYWN0ZWRQcm9wczsKICB9IGVsc2UgewogICAgcmV0dXJuIHt9OwogIH0KfQoKLyoqCiAqIEdpdmVuIGFueSBvYmplY3QsIHJldHVybiBhIG5ldyBvYmplY3QgaGF2aW5nIHJlbW92ZWQgYWxsIGZpZWxkcyB3aG9zZSB2YWx1ZSB3YXMgYHVuZGVmaW5lZGAuCiAqIFdvcmtzIHJlY3Vyc2l2ZWx5IG9uIG9iamVjdHMgYW5kIGFycmF5cy4KICoKICogQXR0ZW50aW9uOiBUaGlzIGZ1bmN0aW9uIGtlZXBzIGNpcmN1bGFyIHJlZmVyZW5jZXMgaW4gdGhlIHJldHVybmVkIG9iamVjdC4KICovCmZ1bmN0aW9uIGRyb3BVbmRlZmluZWRLZXlzKGlucHV0VmFsdWUpIHsKICAvLyBUaGlzIG1hcCBrZWVwcyB0cmFjayBvZiB3aGF0IGFscmVhZHkgdmlzaXRlZCBub2RlcyBtYXAgdG8uCiAgLy8gT3VyIFNldCAtIGJhc2VkIG1lbW9CdWlsZGVyIGRvZXNuJ3Qgd29yayBoZXJlIGJlY2F1c2Ugd2Ugd2FudCB0byB0aGUgb3V0cHV0IG9iamVjdCB0byBoYXZlIHRoZSBzYW1lIGNpcmN1bGFyCiAgLy8gcmVmZXJlbmNlcyBhcyB0aGUgaW5wdXQgb2JqZWN0LgogIGNvbnN0IG1lbW9pemF0aW9uTWFwID0gbmV3IE1hcCgpOwoKICAvLyBUaGlzIGZ1bmN0aW9uIGp1c3QgcHJveGllcyBgX2Ryb3BVbmRlZmluZWRLZXlzYCB0byBrZWVwIHRoZSBgbWVtb0J1aWxkZXJgIG91dCBvZiB0aGlzIGZ1bmN0aW9uJ3MgQVBJCiAgcmV0dXJuIF9kcm9wVW5kZWZpbmVkS2V5cyhpbnB1dFZhbHVlLCBtZW1vaXphdGlvbk1hcCk7Cn0KCmZ1bmN0aW9uIF9kcm9wVW5kZWZpbmVkS2V5cyhpbnB1dFZhbHVlLCBtZW1vaXphdGlvbk1hcCkgewogIGlmIChpc1Bvam8oaW5wdXRWYWx1ZSkpIHsKICAgIC8vIElmIHRoaXMgbm9kZSBoYXMgYWxyZWFkeSBiZWVuIHZpc2l0ZWQgZHVlIHRvIGEgY2lyY3VsYXIgcmVmZXJlbmNlLCByZXR1cm4gdGhlIG9iamVjdCBpdCB3YXMgbWFwcGVkIHRvIGluIHRoZSBuZXcgb2JqZWN0CiAgICBjb25zdCBtZW1vVmFsID0gbWVtb2l6YXRpb25NYXAuZ2V0KGlucHV0VmFsdWUpOwogICAgaWYgKG1lbW9WYWwgIT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gbWVtb1ZhbCA7CiAgICB9CgogICAgY29uc3QgcmV0dXJuVmFsdWUgPSB7fTsKICAgIC8vIFN0b3JlIHRoZSBtYXBwaW5nIG9mIHRoaXMgdmFsdWUgaW4gY2FzZSB3ZSB2aXNpdCBpdCBhZ2FpbiwgaW4gY2FzZSBvZiBjaXJjdWxhciBkYXRhCiAgICBtZW1vaXphdGlvbk1hcC5zZXQoaW5wdXRWYWx1ZSwgcmV0dXJuVmFsdWUpOwoKICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGlucHV0VmFsdWUpKSB7CiAgICAgIGlmICh0eXBlb2YgaW5wdXRWYWx1ZVtrZXldICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIHJldHVyblZhbHVlW2tleV0gPSBfZHJvcFVuZGVmaW5lZEtleXMoaW5wdXRWYWx1ZVtrZXldLCBtZW1vaXphdGlvbk1hcCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmV0dXJuVmFsdWUgOwogIH0KCiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXRWYWx1ZSkpIHsKICAgIC8vIElmIHRoaXMgbm9kZSBoYXMgYWxyZWFkeSBiZWVuIHZpc2l0ZWQgZHVlIHRvIGEgY2lyY3VsYXIgcmVmZXJlbmNlLCByZXR1cm4gdGhlIGFycmF5IGl0IHdhcyBtYXBwZWQgdG8gaW4gdGhlIG5ldyBvYmplY3QKICAgIGNvbnN0IG1lbW9WYWwgPSBtZW1vaXphdGlvbk1hcC5nZXQoaW5wdXRWYWx1ZSk7CiAgICBpZiAobWVtb1ZhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIHJldHVybiBtZW1vVmFsIDsKICAgIH0KCiAgICBjb25zdCByZXR1cm5WYWx1ZSA9IFtdOwogICAgLy8gU3RvcmUgdGhlIG1hcHBpbmcgb2YgdGhpcyB2YWx1ZSBpbiBjYXNlIHdlIHZpc2l0IGl0IGFnYWluLCBpbiBjYXNlIG9mIGNpcmN1bGFyIGRhdGEKICAgIG1lbW9pemF0aW9uTWFwLnNldChpbnB1dFZhbHVlLCByZXR1cm5WYWx1ZSk7CgogICAgaW5wdXRWYWx1ZS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgIHJldHVyblZhbHVlLnB1c2goX2Ryb3BVbmRlZmluZWRLZXlzKGl0ZW0sIG1lbW9pemF0aW9uTWFwKSk7CiAgICB9KTsKCiAgICByZXR1cm4gcmV0dXJuVmFsdWUgOwogIH0KCiAgcmV0dXJuIGlucHV0VmFsdWU7Cn0KCmZ1bmN0aW9uIGlzUG9qbyhpbnB1dCkgewogIGlmICghaXNQbGFpbk9iamVjdChpbnB1dCkpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIHRyeSB7CiAgICBjb25zdCBuYW1lID0gKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgKS5jb25zdHJ1Y3Rvci5uYW1lOwogICAgcmV0dXJuICFuYW1lIHx8IG5hbWUgPT09ICdPYmplY3QnOwogIH0gY2F0Y2ggKGUpIHsKICAgIHJldHVybiB0cnVlOwogIH0KfQoKLyoqCiAqIERvZXMgdGhpcyBmaWxlbmFtZSBsb29rIGxpa2UgaXQncyBwYXJ0IG9mIHRoZSBhcHAgY29kZT8KICovCmZ1bmN0aW9uIGZpbGVuYW1lSXNJbkFwcChmaWxlbmFtZSwgaXNOYXRpdmUgPSBmYWxzZSkgewogIGNvbnN0IGlzSW50ZXJuYWwgPQogICAgaXNOYXRpdmUgfHwKICAgIChmaWxlbmFtZSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiBpdCdzIGFuIGFic29sdXRlIGxpbnV4IHBhdGgKICAgICAgIWZpbGVuYW1lLnN0YXJ0c1dpdGgoJy8nKSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiBpdCdzIGFuIGFic29sdXRlIHdpbmRvd3MgcGF0aAogICAgICAhZmlsZW5hbWUubWF0Y2goL15bQS1aXTovKSAmJgogICAgICAvLyBJdCdzIG5vdCBpbnRlcm5hbCBpZiB0aGUgcGF0aCBpcyBzdGFydGluZyB3aXRoIGEgZG90CiAgICAgICFmaWxlbmFtZS5zdGFydHNXaXRoKCcuJykgJiYKICAgICAgLy8gSXQncyBub3QgaW50ZXJuYWwgaWYgdGhlIGZyYW1lIGhhcyBhIHByb3RvY29sLiBJbiBub2RlLCB0aGlzIGlzIHVzdWFsbHkgdGhlIGNhc2UgaWYgdGhlIGZpbGUgZ290IHByZS1wcm9jZXNzZWQgd2l0aCBhIGJ1bmRsZXIgbGlrZSB3ZWJwYWNrCiAgICAgICFmaWxlbmFtZS5tYXRjaCgvXlthLXpBLVpdKFthLXpBLVowLTkuXC0rXSkqOlwvXC8vKSk7IC8vIFNjaGVtYSBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzY0MTc4MgoKICAvLyBpbl9hcHAgaXMgYWxsIHRoYXQncyBub3QgYW4gaW50ZXJuYWwgTm9kZSBmdW5jdGlvbiBvciBhIG1vZHVsZSB3aXRoaW4gbm9kZV9tb2R1bGVzCiAgLy8gbm90ZSB0aGF0IGlzTmF0aXZlIGFwcGVhcnMgdG8gcmV0dXJuIHRydWUgZXZlbiBmb3Igbm9kZSBjb3JlIGxpYnJhcmllcwogIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3JhdmVuLW5vZGUvaXNzdWVzLzE3NgoKICByZXR1cm4gIWlzSW50ZXJuYWwgJiYgZmlsZW5hbWUgIT09IHVuZGVmaW5lZCAmJiAhZmlsZW5hbWUuaW5jbHVkZXMoJ25vZGVfbW9kdWxlcy8nKTsKfQoKY29uc3QgU1RBQ0tUUkFDRV9GUkFNRV9MSU1JVCA9IDUwOwpjb25zdCBTVFJJUF9GUkFNRV9SRUdFWFAgPSAvY2FwdHVyZU1lc3NhZ2V8Y2FwdHVyZUV4Y2VwdGlvbi87CgovKioKICogUmVtb3ZlcyBTZW50cnkgZnJhbWVzIGZyb20gdGhlIHRvcCBhbmQgYm90dG9tIG9mIHRoZSBzdGFjayBpZiBwcmVzZW50IGFuZCBlbmZvcmNlcyBhIGxpbWl0IG9mIG1heCBudW1iZXIgb2YgZnJhbWVzLgogKiBBc3N1bWVzIHN0YWNrIGlucHV0IGlzIG9yZGVyZWQgZnJvbSB0b3AgdG8gYm90dG9tIGFuZCByZXR1cm5zIHRoZSByZXZlcnNlIHJlcHJlc2VudGF0aW9uIHNvIGNhbGwgc2l0ZSBvZiB0aGUKICogZnVuY3Rpb24gdGhhdCBjYXVzZWQgdGhlIGNyYXNoIGlzIHRoZSBsYXN0IGZyYW1lIGluIHRoZSBhcnJheS4KICogQGhpZGRlbgogKi8KZnVuY3Rpb24gc3RyaXBTZW50cnlGcmFtZXNBbmRSZXZlcnNlKHN0YWNrKSB7CiAgaWYgKCFzdGFjay5sZW5ndGgpIHsKICAgIHJldHVybiBbXTsKICB9CgogIGNvbnN0IGxvY2FsU3RhY2sgPSBBcnJheS5mcm9tKHN0YWNrKTsKCiAgLy8gSWYgc3RhY2sgc3RhcnRzIHdpdGggb25lIG9mIG91ciBBUEkgY2FsbHMsIHJlbW92ZSBpdCAoc3RhcnRzLCBtZWFuaW5nIGl0J3MgdGhlIHRvcCBvZiB0aGUgc3RhY2sgLSBha2EgbGFzdCBjYWxsKQogIGlmICgvc2VudHJ5V3JhcHBlZC8udGVzdChsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZnVuY3Rpb24gfHwgJycpKSB7CiAgICBsb2NhbFN0YWNrLnBvcCgpOwogIH0KCiAgLy8gUmV2ZXJzaW5nIGluIHRoZSBtaWRkbGUgb2YgdGhlIHByb2NlZHVyZSBhbGxvd3MgdXMgdG8ganVzdCBwb3AgdGhlIHZhbHVlcyBvZmYgdGhlIHN0YWNrCiAgbG9jYWxTdGFjay5yZXZlcnNlKCk7CgogIC8vIElmIHN0YWNrIGVuZHMgd2l0aCBvbmUgb2Ygb3VyIGludGVybmFsIEFQSSBjYWxscywgcmVtb3ZlIGl0IChlbmRzLCBtZWFuaW5nIGl0J3MgdGhlIGJvdHRvbSBvZiB0aGUgc3RhY2sgLSBha2EgdG9wLW1vc3QgY2FsbCkKICBpZiAoU1RSSVBfRlJBTUVfUkVHRVhQLnRlc3QobG9jYWxTdGFja1tsb2NhbFN0YWNrLmxlbmd0aCAtIDFdLmZ1bmN0aW9uIHx8ICcnKSkgewogICAgbG9jYWxTdGFjay5wb3AoKTsKCiAgICAvLyBXaGVuIHVzaW5nIHN5bnRoZXRpYyBldmVudHMsIHdlIHdpbGwgaGF2ZSBhIDIgbGV2ZWxzIGRlZXAgc3RhY2ssIGFzIGBuZXcgRXJyb3IoJ1NlbnRyeSBzeW50aGV0aWNFeGNlcHRpb24nKWAKICAgIC8vIGlzIHByb2R1Y2VkIHdpdGhpbiB0aGUgaHViIGl0c2VsZiwgbWFraW5nIGl0OgogICAgLy8KICAgIC8vICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24oKQogICAgLy8gICBnZXRDdXJyZW50SHViKCkuY2FwdHVyZUV4Y2VwdGlvbigpCiAgICAvLwogICAgLy8gaW5zdGVhZCBvZiBqdXN0IHRoZSB0b3AgYFNlbnRyeWAgY2FsbCBpdHNlbGYuCiAgICAvLyBUaGlzIGZvcmNlcyB1cyB0byBwb3NzaWJseSBzdHJpcCBhbiBhZGRpdGlvbmFsIGZyYW1lIGluIHRoZSBleGFjdCBzYW1lIHdhcyBhcyBhYm92ZS4KICAgIGlmIChTVFJJUF9GUkFNRV9SRUdFWFAudGVzdChsb2NhbFN0YWNrW2xvY2FsU3RhY2subGVuZ3RoIC0gMV0uZnVuY3Rpb24gfHwgJycpKSB7CiAgICAgIGxvY2FsU3RhY2sucG9wKCk7CiAgICB9CiAgfQoKICByZXR1cm4gbG9jYWxTdGFjay5zbGljZSgwLCBTVEFDS1RSQUNFX0ZSQU1FX0xJTUlUKS5tYXAoZnJhbWUgPT4gKHsKICAgIC4uLmZyYW1lLAogICAgZmlsZW5hbWU6IGZyYW1lLmZpbGVuYW1lIHx8IGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5maWxlbmFtZSwKICAgIGZ1bmN0aW9uOiBmcmFtZS5mdW5jdGlvbiB8fCAnPycsCiAgfSkpOwp9Cgpjb25zdCBkZWZhdWx0RnVuY3Rpb25OYW1lID0gJzxhbm9ueW1vdXM+JzsKCi8qKgogKiBTYWZlbHkgZXh0cmFjdCBmdW5jdGlvbiBuYW1lIGZyb20gaXRzZWxmCiAqLwpmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoZm4pIHsKICB0cnkgewogICAgaWYgKCFmbiB8fCB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7CiAgICB9CiAgICByZXR1cm4gZm4ubmFtZSB8fCBkZWZhdWx0RnVuY3Rpb25OYW1lOwogIH0gY2F0Y2ggKGUpIHsKICAgIC8vIEp1c3QgYWNjZXNzaW5nIGN1c3RvbSBwcm9wcyBpbiBzb21lIFNlbGVuaXVtIGVudmlyb25tZW50cwogICAgLy8gY2FuIGNhdXNlIGEgIlBlcm1pc3Npb24gZGVuaWVkIiBleGNlcHRpb24gKHNlZSByYXZlbi1qcyM0OTUpLgogICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7CiAgfQp9CgovKioKICogVVVJRDQgZ2VuZXJhdG9yCiAqCiAqIEByZXR1cm5zIHN0cmluZyBHZW5lcmF0ZWQgVVVJRDQuCiAqLwpmdW5jdGlvbiB1dWlkNCgpIHsKICBjb25zdCBnYmwgPSBHTE9CQUxfT0JKIDsKICBjb25zdCBjcnlwdG8gPSBnYmwuY3J5cHRvIHx8IGdibC5tc0NyeXB0bzsKCiAgbGV0IGdldFJhbmRvbUJ5dGUgPSAoKSA9PiBNYXRoLnJhbmRvbSgpICogMTY7CiAgdHJ5IHsKICAgIGlmIChjcnlwdG8gJiYgY3J5cHRvLnJhbmRvbVVVSUQpIHsKICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21VVUlEKCkucmVwbGFjZSgvLS9nLCAnJyk7CiAgICB9CiAgICBpZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHsKICAgICAgZ2V0UmFuZG9tQnl0ZSA9ICgpID0+IHsKICAgICAgICAvLyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzIG1pZ2h0IHJldHVybiB1bmRlZmluZWQgaW5zdGVhZCBvZiB0aGUgdHlwZWQgYXJyYXkKICAgICAgICAvLyBpbiBvbGQgQ2hyb21pdW0gdmVyc2lvbnMgKGUuZy4gMjMuMC4xMjM1LjAgKDE1MTQyMikpCiAgICAgICAgLy8gSG93ZXZlciwgYHR5cGVkQXJyYXlgIGlzIHN0aWxsIGZpbGxlZCBpbi1wbGFjZS4KICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DcnlwdG8vZ2V0UmFuZG9tVmFsdWVzI3R5cGVkYXJyYXkKICAgICAgICBjb25zdCB0eXBlZEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMSk7CiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0eXBlZEFycmF5KTsKICAgICAgICByZXR1cm4gdHlwZWRBcnJheVswXTsKICAgICAgfTsKICAgIH0KICB9IGNhdGNoIChfKSB7CiAgICAvLyBzb21lIHJ1bnRpbWVzIGNhbiBjcmFzaCBpbnZva2luZyBjcnlwdG8KICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzg5MzUKICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTE3NTIzIzIxMTc1MjMKICAvLyBDb25jYXRlbmF0aW5nIHRoZSBmb2xsb3dpbmcgbnVtYmVycyBhcyBzdHJpbmdzIHJlc3VsdHMgaW4gJzEwMDAwMDAwMTAwMDQwMDA4MDAwMTAwMDAwMDAwMDAwJwogIHJldHVybiAoKFsxZTddICkgKyAxZTMgKyA0ZTMgKyA4ZTMgKyAxZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZQogICAgKChjICkgXiAoKGdldFJhbmRvbUJ5dGUoKSAmIDE1KSA+PiAoKGMgKSAvIDQpKSkudG9TdHJpbmcoMTYpLAogICk7Cn0KCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqLwovKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovCgovKioKICogSGVscGVyIHRvIGRlY3ljbGUganNvbiBvYmplY3RzCiAqLwpmdW5jdGlvbiBtZW1vQnVpbGRlcigpIHsKICBjb25zdCBoYXNXZWFrU2V0ID0gdHlwZW9mIFdlYWtTZXQgPT09ICdmdW5jdGlvbic7CiAgY29uc3QgaW5uZXIgPSBoYXNXZWFrU2V0ID8gbmV3IFdlYWtTZXQoKSA6IFtdOwogIGZ1bmN0aW9uIG1lbW9pemUob2JqKSB7CiAgICBpZiAoaGFzV2Vha1NldCkgewogICAgICBpZiAoaW5uZXIuaGFzKG9iaikpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICBpbm5lci5hZGQob2JqKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItZm9yLW9mCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlubmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gaW5uZXJbaV07CiAgICAgIGlmICh2YWx1ZSA9PT0gb2JqKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIGlubmVyLnB1c2gob2JqKTsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIHVubWVtb2l6ZShvYmopIHsKICAgIGlmIChoYXNXZWFrU2V0KSB7CiAgICAgIGlubmVyLmRlbGV0ZShvYmopOwogICAgfSBlbHNlIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbm5lci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChpbm5lcltpXSA9PT0gb2JqKSB7CiAgICAgICAgICBpbm5lci5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIFttZW1vaXplLCB1bm1lbW9pemVdOwp9CgovKioKICogUmVjdXJzaXZlbHkgbm9ybWFsaXplcyB0aGUgZ2l2ZW4gb2JqZWN0LgogKgogKiAtIENyZWF0ZXMgYSBjb3B5IHRvIHByZXZlbnQgb3JpZ2luYWwgaW5wdXQgbXV0YXRpb24KICogLSBTa2lwcyBub24tZW51bWVyYWJsZSBwcm9wZXJ0aWVzCiAqIC0gV2hlbiBzdHJpbmdpZnlpbmcsIGNhbGxzIGB0b0pTT05gIGlmIGltcGxlbWVudGVkCiAqIC0gUmVtb3ZlcyBjaXJjdWxhciByZWZlcmVuY2VzCiAqIC0gVHJhbnNsYXRlcyBub24tc2VyaWFsaXphYmxlIHZhbHVlcyAoYHVuZGVmaW5lZGAvYE5hTmAvZnVuY3Rpb25zKSB0byBzZXJpYWxpemFibGUgZm9ybWF0CiAqIC0gVHJhbnNsYXRlcyBrbm93biBnbG9iYWwgb2JqZWN0cy9jbGFzc2VzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9ucwogKiAtIFRha2VzIGNhcmUgb2YgYEVycm9yYCBvYmplY3Qgc2VyaWFsaXphdGlvbgogKiAtIE9wdGlvbmFsbHkgbGltaXRzIGRlcHRoIG9mIGZpbmFsIG91dHB1dAogKiAtIE9wdGlvbmFsbHkgbGltaXRzIG51bWJlciBvZiBwcm9wZXJ0aWVzL2VsZW1lbnRzIGluY2x1ZGVkIGluIGFueSBzaW5nbGUgb2JqZWN0L2FycmF5CiAqCiAqIEBwYXJhbSBpbnB1dCBUaGUgb2JqZWN0IHRvIGJlIG5vcm1hbGl6ZWQuCiAqIEBwYXJhbSBkZXB0aCBUaGUgbWF4IGRlcHRoIHRvIHdoaWNoIHRvIG5vcm1hbGl6ZSB0aGUgb2JqZWN0LiAoQW55dGhpbmcgZGVlcGVyIHN0cmluZ2lmaWVkIHdob2xlLikKICogQHBhcmFtIG1heFByb3BlcnRpZXMgVGhlIG1heCBudW1iZXIgb2YgZWxlbWVudHMgb3IgcHJvcGVydGllcyB0byBiZSBpbmNsdWRlZCBpbiBhbnkgc2luZ2xlIGFycmF5IG9yCiAqIG9iamVjdCBpbiB0aGUgbm9ybWFsbGl6ZWQgb3V0cHV0LgogKiBAcmV0dXJucyBBIG5vcm1hbGl6ZWQgdmVyc2lvbiBvZiB0aGUgb2JqZWN0LCBvciBgIioqbm9uLXNlcmlhbGl6YWJsZSoqImAgaWYgYW55IGVycm9ycyBhcmUgdGhyb3duIGR1cmluZyBub3JtYWxpemF0aW9uLgogKi8KLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkKZnVuY3Rpb24gbm9ybWFsaXplKGlucHV0LCBkZXB0aCA9IDEwMCwgbWF4UHJvcGVydGllcyA9ICtJbmZpbml0eSkgewogIHRyeSB7CiAgICAvLyBzaW5jZSB3ZSdyZSBhdCB0aGUgb3V0ZXJtb3N0IGxldmVsLCB3ZSBkb24ndCBwcm92aWRlIGEga2V5CiAgICByZXR1cm4gdmlzaXQoJycsIGlucHV0LCBkZXB0aCwgbWF4UHJvcGVydGllcyk7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICByZXR1cm4geyBFUlJPUjogYCoqbm9uLXNlcmlhbGl6YWJsZSoqICgke2Vycn0pYCB9OwogIH0KfQoKLyoqCiAqIFZpc2l0cyBhIG5vZGUgdG8gcGVyZm9ybSBub3JtYWxpemF0aW9uIG9uIGl0CiAqCiAqIEBwYXJhbSBrZXkgVGhlIGtleSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBub2RlCiAqIEBwYXJhbSB2YWx1ZSBUaGUgbm9kZSB0byBiZSB2aXNpdGVkCiAqIEBwYXJhbSBkZXB0aCBPcHRpb25hbCBudW1iZXIgaW5kaWNhdGluZyB0aGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGgKICogQHBhcmFtIG1heFByb3BlcnRpZXMgT3B0aW9uYWwgbWF4aW11bSBudW1iZXIgb2YgcHJvcGVydGllcy9lbGVtZW50cyBpbmNsdWRlZCBpbiBhbnkgc2luZ2xlIG9iamVjdC9hcnJheQogKiBAcGFyYW0gbWVtbyBPcHRpb25hbCBNZW1vIGNsYXNzIGhhbmRsaW5nIGRlY3ljbGluZwogKi8KZnVuY3Rpb24gdmlzaXQoCiAga2V5LAogIHZhbHVlLAogIGRlcHRoID0gK0luZmluaXR5LAogIG1heFByb3BlcnRpZXMgPSArSW5maW5pdHksCiAgbWVtbyA9IG1lbW9CdWlsZGVyKCksCikgewogIGNvbnN0IFttZW1vaXplLCB1bm1lbW9pemVdID0gbWVtbzsKCiAgLy8gR2V0IHRoZSBzaW1wbGUgY2FzZXMgb3V0IG9mIHRoZSB3YXkgZmlyc3QKICBpZiAoCiAgICB2YWx1ZSA9PSBudWxsIHx8IC8vIHRoaXMgbWF0Y2hlcyBudWxsIGFuZCB1bmRlZmluZWQgLT4gZXFlcSBub3QgZXFlcWVxCiAgICAoWydudW1iZXInLCAnYm9vbGVhbicsICdzdHJpbmcnXS5pbmNsdWRlcyh0eXBlb2YgdmFsdWUpICYmICFpc05hTiQxKHZhbHVlKSkKICApIHsKICAgIHJldHVybiB2YWx1ZSA7CiAgfQoKICBjb25zdCBzdHJpbmdpZmllZCA9IHN0cmluZ2lmeVZhbHVlKGtleSwgdmFsdWUpOwoKICAvLyBBbnl0aGluZyB3ZSBjb3VsZCBwb3RlbnRpYWxseSBkaWcgaW50byBtb3JlIChvYmplY3RzIG9yIGFycmF5cykgd2lsbCBoYXZlIGNvbWUgYmFjayBhcyBgIltvYmplY3QgWFhYWF0iYC4KICAvLyBFdmVyeXRoaW5nIGVsc2Ugd2lsbCBoYXZlIGFscmVhZHkgYmVlbiBzZXJpYWxpemVkLCBzbyBpZiB3ZSBkb24ndCBzZWUgdGhhdCBwYXR0ZXJuLCB3ZSdyZSBkb25lLgogIGlmICghc3RyaW5naWZpZWQuc3RhcnRzV2l0aCgnW29iamVjdCAnKSkgewogICAgcmV0dXJuIHN0cmluZ2lmaWVkOwogIH0KCiAgLy8gRnJvbSBoZXJlIG9uLCB3ZSBjYW4gYXNzZXJ0IHRoYXQgYHZhbHVlYCBpcyBlaXRoZXIgYW4gb2JqZWN0IG9yIGFuIGFycmF5LgoKICAvLyBEbyBub3Qgbm9ybWFsaXplIG9iamVjdHMgdGhhdCB3ZSBrbm93IGhhdmUgYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQuIEFzIGEgZ2VuZXJhbCBydWxlLCB0aGUKICAvLyAiX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18iIHByb3BlcnR5IHNob3VsZCBvbmx5IGJlIHVzZWQgc3BhcmluZ2x5IGFuZCBvbmx5IHNob3VsZCBvbmx5IGJlIHNldCBvbiBvYmplY3RzIHRoYXQKICAvLyBoYXZlIGFscmVhZHkgYmVlbiBub3JtYWxpemVkLgogIGlmICgodmFsdWUgKVsnX19zZW50cnlfc2tpcF9ub3JtYWxpemF0aW9uX18nXSkgewogICAgcmV0dXJuIHZhbHVlIDsKICB9CgogIC8vIFdlIGNhbiBzZXQgYF9fc2VudHJ5X292ZXJyaWRlX25vcm1hbGl6YXRpb25fZGVwdGhfX2Agb24gYW4gb2JqZWN0IHRvIGVuc3VyZSB0aGF0IGZyb20gdGhlcmUKICAvLyBXZSBrZWVwIGEgY2VydGFpbiBhbW91bnQgb2YgZGVwdGguCiAgLy8gVGhpcyBzaG91bGQgYmUgdXNlZCBzcGFyaW5nbHksIGUuZy4gd2UgdXNlIGl0IGZvciB0aGUgcmVkdXggaW50ZWdyYXRpb24gdG8gZW5zdXJlIHdlIGdldCBhIGNlcnRhaW4gYW1vdW50IG9mIHN0YXRlLgogIGNvbnN0IHJlbWFpbmluZ0RlcHRoID0KICAgIHR5cGVvZiAodmFsdWUgKVsnX19zZW50cnlfb3ZlcnJpZGVfbm9ybWFsaXphdGlvbl9kZXB0aF9fJ10gPT09ICdudW1iZXInCiAgICAgID8gKCh2YWx1ZSApWydfX3NlbnRyeV9vdmVycmlkZV9ub3JtYWxpemF0aW9uX2RlcHRoX18nXSApCiAgICAgIDogZGVwdGg7CgogIC8vIFdlJ3JlIGFsc28gZG9uZSBpZiB3ZSd2ZSByZWFjaGVkIHRoZSBtYXggZGVwdGgKICBpZiAocmVtYWluaW5nRGVwdGggPT09IDApIHsKICAgIC8vIEF0IHRoaXMgcG9pbnQgd2Uga25vdyBgc2VyaWFsaXplZGAgaXMgYSBzdHJpbmcgb2YgdGhlIGZvcm0gYCJbb2JqZWN0IFhYWFhdImAuIENsZWFuIGl0IHVwIHNvIGl0J3MganVzdCBgIltYWFhYXSJgLgogICAgcmV0dXJuIHN0cmluZ2lmaWVkLnJlcGxhY2UoJ29iamVjdCAnLCAnJyk7CiAgfQoKICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHZpc2l0ZWQgdGhpcyBicmFuY2gsIGJhaWwgb3V0LCBhcyBpdCdzIGNpcmN1bGFyIHJlZmVyZW5jZS4gSWYgbm90LCBub3RlIHRoYXQgd2UncmUgc2VlaW5nIGl0IG5vdy4KICBpZiAobWVtb2l6ZSh2YWx1ZSkpIHsKICAgIHJldHVybiAnW0NpcmN1bGFyIH5dJzsKICB9CgogIC8vIElmIHRoZSB2YWx1ZSBoYXMgYSBgdG9KU09OYCBtZXRob2QsIHdlIGNhbGwgaXQgdG8gZXh0cmFjdCBtb3JlIGluZm9ybWF0aW9uCiAgY29uc3QgdmFsdWVXaXRoVG9KU09OID0gdmFsdWUgOwogIGlmICh2YWx1ZVdpdGhUb0pTT04gJiYgdHlwZW9mIHZhbHVlV2l0aFRvSlNPTi50b0pTT04gPT09ICdmdW5jdGlvbicpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGpzb25WYWx1ZSA9IHZhbHVlV2l0aFRvSlNPTi50b0pTT04oKTsKICAgICAgLy8gV2UgbmVlZCB0byBub3JtYWxpemUgdGhlIHJldHVybiB2YWx1ZSBvZiBgLnRvSlNPTigpYCBpbiBjYXNlIGl0IGhhcyBjaXJjdWxhciByZWZlcmVuY2VzCiAgICAgIHJldHVybiB2aXNpdCgnJywganNvblZhbHVlLCByZW1haW5pbmdEZXB0aCAtIDEsIG1heFByb3BlcnRpZXMsIG1lbW8pOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIC8vIHBhc3MgKFRoZSBidWlsdC1pbiBgdG9KU09OYCBmYWlsZWQsIGJ1dCB3ZSBjYW4gc3RpbGwgdHJ5IHRvIGRvIGl0IG91cnNlbHZlcykKICAgIH0KICB9CgogIC8vIEF0IHRoaXMgcG9pbnQgd2Uga25vdyB3ZSBlaXRoZXIgaGF2ZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXksIHdlIGhhdmVuJ3Qgc2VlbiBpdCBiZWZvcmUsIGFuZCB3ZSdyZSBnb2luZyB0byByZWN1cnNlCiAgLy8gYmVjYXVzZSB3ZSBoYXZlbid0IHlldCByZWFjaGVkIHRoZSBtYXggZGVwdGguIENyZWF0ZSBhbiBhY2N1bXVsYXRvciB0byBob2xkIHRoZSByZXN1bHRzIG9mIHZpc2l0aW5nIGVhY2gKICAvLyBwcm9wZXJ0eS9lbnRyeSwgYW5kIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBpdGVtcyB3ZSBhZGQgdG8gaXQuCiAgY29uc3Qgbm9ybWFsaXplZCA9IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IFtdIDoge30pIDsKICBsZXQgbnVtQWRkZWQgPSAwOwoKICAvLyBCZWZvcmUgd2UgYmVnaW4sIGNvbnZlcnRgRXJyb3JgIGFuZGBFdmVudGAgaW5zdGFuY2VzIGludG8gcGxhaW4gb2JqZWN0cywgc2luY2Ugc29tZSBvZiBlYWNoIG9mIHRoZWlyIHJlbGV2YW50CiAgLy8gcHJvcGVydGllcyBhcmUgbm9uLWVudW1lcmFibGUgYW5kIG90aGVyd2lzZSB3b3VsZCBnZXQgbWlzc2VkLgogIGNvbnN0IHZpc2l0YWJsZSA9IGNvbnZlcnRUb1BsYWluT2JqZWN0KHZhbHVlICk7CgogIGZvciAoY29uc3QgdmlzaXRLZXkgaW4gdmlzaXRhYmxlKSB7CiAgICAvLyBBdm9pZCBpdGVyYXRpbmcgb3ZlciBmaWVsZHMgaW4gdGhlIHByb3RvdHlwZSBpZiB0aGV5J3ZlIHNvbWVob3cgYmVlbiBleHBvc2VkIHRvIGVudW1lcmF0aW9uLgogICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmlzaXRhYmxlLCB2aXNpdEtleSkpIHsKICAgICAgY29udGludWU7CiAgICB9CgogICAgaWYgKG51bUFkZGVkID49IG1heFByb3BlcnRpZXMpIHsKICAgICAgbm9ybWFsaXplZFt2aXNpdEtleV0gPSAnW01heFByb3BlcnRpZXMgfl0nOwogICAgICBicmVhazsKICAgIH0KCiAgICAvLyBSZWN1cnNpdmVseSB2aXNpdCBhbGwgdGhlIGNoaWxkIG5vZGVzCiAgICBjb25zdCB2aXNpdFZhbHVlID0gdmlzaXRhYmxlW3Zpc2l0S2V5XTsKICAgIG5vcm1hbGl6ZWRbdmlzaXRLZXldID0gdmlzaXQodmlzaXRLZXksIHZpc2l0VmFsdWUsIHJlbWFpbmluZ0RlcHRoIC0gMSwgbWF4UHJvcGVydGllcywgbWVtbyk7CgogICAgbnVtQWRkZWQrKzsKICB9CgogIC8vIE9uY2Ugd2UndmUgdmlzaXRlZCBhbGwgdGhlIGJyYW5jaGVzLCByZW1vdmUgdGhlIHBhcmVudCBmcm9tIG1lbW8gc3RvcmFnZQogIHVubWVtb2l6ZSh2YWx1ZSk7CgogIC8vIFJldHVybiBhY2N1bXVsYXRlZCB2YWx1ZXMKICByZXR1cm4gbm9ybWFsaXplZDsKfQoKLyogZXNsaW50LWRpc2FibGUgY29tcGxleGl0eSAqLwovKioKICogU3RyaW5naWZ5IHRoZSBnaXZlbiB2YWx1ZS4gSGFuZGxlcyB2YXJpb3VzIGtub3duIHNwZWNpYWwgdmFsdWVzIGFuZCB0eXBlcy4KICoKICogTm90IG1lYW50IHRvIGJlIHVzZWQgb24gc2ltcGxlIHByaW1pdGl2ZXMgd2hpY2ggYWxyZWFkeSBoYXZlIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLCBhcyBpdCB3aWxsLCBmb3IgZXhhbXBsZSwgdHVybgogKiB0aGUgbnVtYmVyIDEyMzEgaW50byAiW09iamVjdCBOdW1iZXJdIiwgbm9yIG9uIGBudWxsYCwgYXMgaXQgd2lsbCB0aHJvdy4KICoKICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzdHJpbmdpZnkKICogQHJldHVybnMgQSBzdHJpbmdpZmllZCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gdmFsdWUKICovCmZ1bmN0aW9uIHN0cmluZ2lmeVZhbHVlKAogIGtleSwKICAvLyB0aGlzIHR5cGUgaXMgYSB0aW55IGJpdCBvZiBhIGNoZWF0LCBzaW5jZSB0aGlzIGZ1bmN0aW9uIGRvZXMgaGFuZGxlIE5hTiAod2hpY2ggaXMgdGVjaG5pY2FsbHkgYSBudW1iZXIpLCBidXQgZm9yCiAgLy8gb3VyIGludGVybmFsIHVzZSwgaXQnbGwgZG8KICB2YWx1ZSwKKSB7CiAgdHJ5IHsKICAgIGlmIChrZXkgPT09ICdkb21haW4nICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgKHZhbHVlICkuX2V2ZW50cykgewogICAgICByZXR1cm4gJ1tEb21haW5dJzsKICAgIH0KCiAgICBpZiAoa2V5ID09PSAnZG9tYWluRW1pdHRlcicpIHsKICAgICAgcmV0dXJuICdbRG9tYWluRW1pdHRlcl0nOwogICAgfQoKICAgIC8vIEl0J3Mgc2FmZSB0byB1c2UgYGdsb2JhbGAsIGB3aW5kb3dgLCBhbmQgYGRvY3VtZW50YCBoZXJlIGluIHRoaXMgbWFubmVyLCBhcyB3ZSBhcmUgYXNzZXJ0aW5nIHVzaW5nIGB0eXBlb2ZgIGZpcnN0CiAgICAvLyB3aGljaCB3b24ndCB0aHJvdyBpZiB0aGV5IGFyZSBub3QgcHJlc2VudC4KCiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IGdsb2JhbCkgewogICAgICByZXR1cm4gJ1tHbG9iYWxdJzsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IHdpbmRvdykgewogICAgICByZXR1cm4gJ1tXaW5kb3ddJzsKICAgIH0KCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gZG9jdW1lbnQpIHsKICAgICAgcmV0dXJuICdbRG9jdW1lbnRdJzsKICAgIH0KCiAgICBpZiAoaXNWdWVWaWV3TW9kZWwodmFsdWUpKSB7CiAgICAgIHJldHVybiAnW1Z1ZVZpZXdNb2RlbF0nOwogICAgfQoKICAgIC8vIFJlYWN0J3MgU3ludGhldGljRXZlbnQgdGhpbmd5CiAgICBpZiAoaXNTeW50aGV0aWNFdmVudCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuICdbU3ludGhldGljRXZlbnRdJzsKICAgIH0KCiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gdmFsdWUpIHsKICAgICAgcmV0dXJuICdbTmFOXSc7CiAgICB9CgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICByZXR1cm4gYFtGdW5jdGlvbjogJHtnZXRGdW5jdGlvbk5hbWUodmFsdWUpfV1gOwogICAgfQoKICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzeW1ib2wnKSB7CiAgICAgIHJldHVybiBgWyR7U3RyaW5nKHZhbHVlKX1dYDsKICAgIH0KCiAgICAvLyBzdHJpbmdpZmllZCBCaWdJbnRzIGFyZSBpbmRpc3Rpbmd1aXNoYWJsZSBmcm9tIHJlZ3VsYXIgbnVtYmVycywgc28gd2UgbmVlZCB0byBsYWJlbCB0aGVtIHRvIGF2b2lkIGNvbmZ1c2lvbgogICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2JpZ2ludCcpIHsKICAgICAgcmV0dXJuIGBbQmlnSW50OiAke1N0cmluZyh2YWx1ZSl9XWA7CiAgICB9CgogICAgLy8gTm93IHRoYXQgd2UndmUga25vY2tlZCBvdXQgYWxsIHRoZSBzcGVjaWFsIGNhc2VzIGFuZCB0aGUgcHJpbWl0aXZlcywgYWxsIHdlIGhhdmUgbGVmdCBhcmUgb2JqZWN0cy4gU2ltcGx5IGNhc3RpbmcKICAgIC8vIHRoZW0gdG8gc3RyaW5ncyBtZWFucyB0aGF0IGluc3RhbmNlcyBvZiBjbGFzc2VzIHdoaWNoIGhhdmVuJ3QgZGVmaW5lZCB0aGVpciBgdG9TdHJpbmdUYWdgIHdpbGwganVzdCBjb21lIG91dCBhcwogICAgLy8gYCJbb2JqZWN0IE9iamVjdF0iYC4gSWYgd2UgaW5zdGVhZCBsb29rIGF0IHRoZSBjb25zdHJ1Y3RvcidzIG5hbWUgKHdoaWNoIGlzIHRoZSBzYW1lIGFzIHRoZSBuYW1lIG9mIHRoZSBjbGFzcyksCiAgICAvLyB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgb25seSBwbGFpbiBvYmplY3RzIGNvbWUgb3V0IHRoYXQgd2F5LgogICAgY29uc3Qgb2JqTmFtZSA9IGdldENvbnN0cnVjdG9yTmFtZSh2YWx1ZSk7CgogICAgLy8gSGFuZGxlIEhUTUwgRWxlbWVudHMKICAgIGlmICgvXkhUTUwoXHcqKUVsZW1lbnQkLy50ZXN0KG9iak5hbWUpKSB7CiAgICAgIHJldHVybiBgW0hUTUxFbGVtZW50OiAke29iak5hbWV9XWA7CiAgICB9CgogICAgcmV0dXJuIGBbb2JqZWN0ICR7b2JqTmFtZX1dYDsKICB9IGNhdGNoIChlcnIpIHsKICAgIHJldHVybiBgKipub24tc2VyaWFsaXphYmxlKiogKCR7ZXJyfSlgOwogIH0KfQovKiBlc2xpbnQtZW5hYmxlIGNvbXBsZXhpdHkgKi8KCmZ1bmN0aW9uIGdldENvbnN0cnVjdG9yTmFtZSh2YWx1ZSkgewogIGNvbnN0IHByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7CgogIHJldHVybiBwcm90b3R5cGUgPyBwcm90b3R5cGUuY29uc3RydWN0b3IubmFtZSA6ICdudWxsIHByb3RvdHlwZSc7Cn0KCi8qKgogKiBOb3JtYWxpemVzIFVSTHMgaW4gZXhjZXB0aW9ucyBhbmQgc3RhY2t0cmFjZXMgdG8gYSBiYXNlIHBhdGggc28gU2VudHJ5IGNhbiBmaW5nZXJwcmludAogKiBhY3Jvc3MgcGxhdGZvcm1zIGFuZCB3b3JraW5nIGRpcmVjdG9yeS4KICoKICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIGJlIG5vcm1hbGl6ZWQuCiAqIEBwYXJhbSBiYXNlUGF0aCBUaGUgYXBwbGljYXRpb24gYmFzZSBwYXRoLgogKiBAcmV0dXJucyBUaGUgbm9ybWFsaXplZCBVUkwuCiAqLwpmdW5jdGlvbiBub3JtYWxpemVVcmxUb0Jhc2UodXJsLCBiYXNlUGF0aCkgewogIGNvbnN0IGVzY2FwZWRCYXNlID0gYmFzZVBhdGgKICAgIC8vIEJhY2tzbGFzaCB0byBmb3J3YXJkCiAgICAucmVwbGFjZSgvXFwvZywgJy8nKQogICAgLy8gRXNjYXBlIFJlZ0V4cCBzcGVjaWFsIGNoYXJhY3RlcnMKICAgIC5yZXBsYWNlKC9bfFxce30oKVtcXV4kKyo/Ll0vZywgJ1xcJCYnKTsKCiAgbGV0IG5ld1VybCA9IHVybDsKICB0cnkgewogICAgbmV3VXJsID0gZGVjb2RlVVJJKHVybCk7CiAgfSBjYXRjaCAoX09vKSB7CiAgICAvLyBTb21ldGltZSB0aGlzIGJyZWFrcwogIH0KICByZXR1cm4gKAogICAgbmV3VXJsCiAgICAgIC5yZXBsYWNlKC9cXC9nLCAnLycpCiAgICAgIC5yZXBsYWNlKC93ZWJwYWNrOlwvPy9nLCAnJykgLy8gUmVtb3ZlIGludGVybWVkaWF0ZSBiYXNlIHBhdGgKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBzZW50cnktaW50ZXJuYWwvc2RrL25vLXJlZ2V4cC1jb25zdHJ1Y3RvcgogICAgICAucmVwbGFjZShuZXcgUmVnRXhwKGAoZmlsZTovLyk/Lyoke2VzY2FwZWRCYXNlfS8qYCwgJ2lnJyksICdhcHA6Ly8vJykKICApOwp9CgovLyBTbGlnaHRseSBtb2RpZmllZCAobm8gSUU4IHN1cHBvcnQsIEVTNikgYW5kIHRyYW5zY3JpYmVkIHRvIFR5cGVTY3JpcHQKCi8vIFNwbGl0IGEgZmlsZW5hbWUgaW50byBbcm9vdCwgZGlyLCBiYXNlbmFtZSwgZXh0XSwgdW5peCB2ZXJzaW9uCi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuCmNvbnN0IHNwbGl0UGF0aFJlID0gL14oXFMrOlxcfFwvPykoW1xzXFNdKj8pKCg/OlwuezEsMn18W14vXFxdKz98KShcLlteLi9cXF0qfCkpKD86Wy9cXF0qKSQvOwovKiogSlNEb2MgKi8KZnVuY3Rpb24gc3BsaXRQYXRoKGZpbGVuYW1lKSB7CiAgLy8gVHJ1bmNhdGUgZmlsZXMgbmFtZXMgZ3JlYXRlciB0aGFuIDEwMjQgY2hhcmFjdGVycyB0byBhdm9pZCByZWdleCBkb3MKICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L3B1bGwvODczNyNkaXNjdXNzaW9uX3IxMjg1NzE5MTcyCiAgY29uc3QgdHJ1bmNhdGVkID0gZmlsZW5hbWUubGVuZ3RoID4gMTAyNCA/IGA8dHJ1bmNhdGVkPiR7ZmlsZW5hbWUuc2xpY2UoLTEwMjQpfWAgOiBmaWxlbmFtZTsKICBjb25zdCBwYXJ0cyA9IHNwbGl0UGF0aFJlLmV4ZWModHJ1bmNhdGVkKTsKICByZXR1cm4gcGFydHMgPyBwYXJ0cy5zbGljZSgxKSA6IFtdOwp9CgovKiogSlNEb2MgKi8KZnVuY3Rpb24gZGlybmFtZShwYXRoKSB7CiAgY29uc3QgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpOwogIGNvbnN0IHJvb3QgPSByZXN1bHRbMF07CiAgbGV0IGRpciA9IHJlc3VsdFsxXTsKCiAgaWYgKCFyb290ICYmICFkaXIpIHsKICAgIC8vIE5vIGRpcm5hbWUgd2hhdHNvZXZlcgogICAgcmV0dXJuICcuJzsKICB9CgogIGlmIChkaXIpIHsKICAgIC8vIEl0IGhhcyBhIGRpcm5hbWUsIHN0cmlwIHRyYWlsaW5nIHNsYXNoCiAgICBkaXIgPSBkaXIuc2xpY2UoMCwgZGlyLmxlbmd0aCAtIDEpOwogIH0KCiAgcmV0dXJuIHJvb3QgKyBkaXI7Cn0KCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqLwoKLyoqIFN5bmNQcm9taXNlIGludGVybmFsIHN0YXRlcyAqLwp2YXIgU3RhdGVzOyAoZnVuY3Rpb24gKFN0YXRlcykgewogIC8qKiBQZW5kaW5nICovCiAgY29uc3QgUEVORElORyA9IDA7IFN0YXRlc1tTdGF0ZXNbIlBFTkRJTkciXSA9IFBFTkRJTkddID0gIlBFTkRJTkciOwogIC8qKiBSZXNvbHZlZCAvIE9LICovCiAgY29uc3QgUkVTT0xWRUQgPSAxOyBTdGF0ZXNbU3RhdGVzWyJSRVNPTFZFRCJdID0gUkVTT0xWRURdID0gIlJFU09MVkVEIjsKICAvKiogUmVqZWN0ZWQgLyBFcnJvciAqLwogIGNvbnN0IFJFSkVDVEVEID0gMjsgU3RhdGVzW1N0YXRlc1siUkVKRUNURUQiXSA9IFJFSkVDVEVEXSA9ICJSRUpFQ1RFRCI7Cn0pKFN0YXRlcyB8fCAoU3RhdGVzID0ge30pKTsKCi8vIE92ZXJsb2FkcyBzbyB3ZSBjYW4gY2FsbCByZXNvbHZlZFN5bmNQcm9taXNlIHdpdGhvdXQgYXJndW1lbnRzIGFuZCBnZW5lcmljIGFyZ3VtZW50CgovKioKICogQ3JlYXRlcyBhIHJlc29sdmVkIHN5bmMgcHJvbWlzZS4KICoKICogQHBhcmFtIHZhbHVlIHRoZSB2YWx1ZSB0byByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGgKICogQHJldHVybnMgdGhlIHJlc29sdmVkIHN5bmMgcHJvbWlzZQogKi8KZnVuY3Rpb24gcmVzb2x2ZWRTeW5jUHJvbWlzZSh2YWx1ZSkgewogIHJldHVybiBuZXcgU3luY1Byb21pc2UocmVzb2x2ZSA9PiB7CiAgICByZXNvbHZlKHZhbHVlKTsKICB9KTsKfQoKLyoqCiAqIENyZWF0ZXMgYSByZWplY3RlZCBzeW5jIHByb21pc2UuCiAqCiAqIEBwYXJhbSB2YWx1ZSB0aGUgdmFsdWUgdG8gcmVqZWN0IHRoZSBwcm9taXNlIHdpdGgKICogQHJldHVybnMgdGhlIHJlamVjdGVkIHN5bmMgcHJvbWlzZQogKi8KZnVuY3Rpb24gcmVqZWN0ZWRTeW5jUHJvbWlzZShyZWFzb24pIHsKICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKChfLCByZWplY3QpID0+IHsKICAgIHJlamVjdChyZWFzb24pOwogIH0pOwp9CgovKioKICogVGhlbmFibGUgY2xhc3MgdGhhdCBiZWhhdmVzIGxpa2UgYSBQcm9taXNlIGFuZCBmb2xsb3dzIGl0J3MgaW50ZXJmYWNlCiAqIGJ1dCBpcyBub3QgYXN5bmMgaW50ZXJuYWxseQogKi8KY2xhc3MgU3luY1Byb21pc2UgewoKICAgY29uc3RydWN0b3IoCiAgICBleGVjdXRvciwKICApIHtTeW5jUHJvbWlzZS5wcm90b3R5cGUuX19pbml0LmNhbGwodGhpcyk7U3luY1Byb21pc2UucHJvdG90eXBlLl9faW5pdDIuY2FsbCh0aGlzKTtTeW5jUHJvbWlzZS5wcm90b3R5cGUuX19pbml0My5jYWxsKHRoaXMpO1N5bmNQcm9taXNlLnByb3RvdHlwZS5fX2luaXQ0LmNhbGwodGhpcyk7CiAgICB0aGlzLl9zdGF0ZSA9IFN0YXRlcy5QRU5ESU5HOwogICAgdGhpcy5faGFuZGxlcnMgPSBbXTsKCiAgICB0cnkgewogICAgICBleGVjdXRvcih0aGlzLl9yZXNvbHZlLCB0aGlzLl9yZWplY3QpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLl9yZWplY3QoZSk7CiAgICB9CiAgfQoKICAvKiogSlNEb2MgKi8KICAgdGhlbigKICAgIG9uZnVsZmlsbGVkLAogICAgb25yZWplY3RlZCwKICApIHsKICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICB0aGlzLl9oYW5kbGVycy5wdXNoKFsKICAgICAgICBmYWxzZSwKICAgICAgICByZXN1bHQgPT4gewogICAgICAgICAgaWYgKCFvbmZ1bGZpbGxlZCkgewogICAgICAgICAgICAvLyBUT0RPOiDCr1xfKOODhClfL8KvCiAgICAgICAgICAgIC8vIFRPRE86IEZJWE1FCiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0ICk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJlc29sdmUob25mdWxmaWxsZWQocmVzdWx0KSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZWplY3QoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlYXNvbiA9PiB7CiAgICAgICAgICBpZiAoIW9ucmVqZWN0ZWQpIHsKICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIHJlc29sdmUob25yZWplY3RlZChyZWFzb24pKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHJlamVjdChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgIF0pOwogICAgICB0aGlzLl9leGVjdXRlSGFuZGxlcnMoKTsKICAgIH0pOwogIH0KCiAgLyoqIEpTRG9jICovCiAgIGNhdGNoKAogICAgb25yZWplY3RlZCwKICApIHsKICAgIHJldHVybiB0aGlzLnRoZW4odmFsID0+IHZhbCwgb25yZWplY3RlZCk7CiAgfQoKICAvKiogSlNEb2MgKi8KICAgZmluYWxseShvbmZpbmFsbHkpIHsKICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICBsZXQgdmFsOwogICAgICBsZXQgaXNSZWplY3RlZDsKCiAgICAgIHJldHVybiB0aGlzLnRoZW4oCiAgICAgICAgdmFsdWUgPT4gewogICAgICAgICAgaXNSZWplY3RlZCA9IGZhbHNlOwogICAgICAgICAgdmFsID0gdmFsdWU7CiAgICAgICAgICBpZiAob25maW5hbGx5KSB7CiAgICAgICAgICAgIG9uZmluYWxseSgpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVhc29uID0+IHsKICAgICAgICAgIGlzUmVqZWN0ZWQgPSB0cnVlOwogICAgICAgICAgdmFsID0gcmVhc29uOwogICAgICAgICAgaWYgKG9uZmluYWxseSkgewogICAgICAgICAgICBvbmZpbmFsbHkoKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICApLnRoZW4oKCkgPT4gewogICAgICAgIGlmIChpc1JlamVjdGVkKSB7CiAgICAgICAgICByZWplY3QodmFsKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUodmFsICk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICAvKiogSlNEb2MgKi8KICAgIF9faW5pdCgpIHt0aGlzLl9yZXNvbHZlID0gKHZhbHVlKSA9PiB7CiAgICB0aGlzLl9zZXRSZXN1bHQoU3RhdGVzLlJFU09MVkVELCB2YWx1ZSk7CiAgfTt9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0MigpIHt0aGlzLl9yZWplY3QgPSAocmVhc29uKSA9PiB7CiAgICB0aGlzLl9zZXRSZXN1bHQoU3RhdGVzLlJFSkVDVEVELCByZWFzb24pOwogIH07fQoKICAvKiogSlNEb2MgKi8KICAgIF9faW5pdDMoKSB7dGhpcy5fc2V0UmVzdWx0ID0gKHN0YXRlLCB2YWx1ZSkgPT4gewogICAgaWYgKHRoaXMuX3N0YXRlICE9PSBTdGF0ZXMuUEVORElORykgewogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKGlzVGhlbmFibGUodmFsdWUpKSB7CiAgICAgIHZvaWQgKHZhbHVlICkudGhlbih0aGlzLl9yZXNvbHZlLCB0aGlzLl9yZWplY3QpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTsKICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7CgogICAgdGhpcy5fZXhlY3V0ZUhhbmRsZXJzKCk7CiAgfTt9CgogIC8qKiBKU0RvYyAqLwogICAgX19pbml0NCgpIHt0aGlzLl9leGVjdXRlSGFuZGxlcnMgPSAoKSA9PiB7CiAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlcy5QRU5ESU5HKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBjb25zdCBjYWNoZWRIYW5kbGVycyA9IHRoaXMuX2hhbmRsZXJzLnNsaWNlKCk7CiAgICB0aGlzLl9oYW5kbGVycyA9IFtdOwoKICAgIGNhY2hlZEhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiB7CiAgICAgIGlmIChoYW5kbGVyWzBdKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5fc3RhdGUgPT09IFN0YXRlcy5SRVNPTFZFRCkgewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXMKICAgICAgICBoYW5kbGVyWzFdKHRoaXMuX3ZhbHVlICk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlJFSkVDVEVEKSB7CiAgICAgICAgaGFuZGxlclsyXSh0aGlzLl92YWx1ZSk7CiAgICAgIH0KCiAgICAgIGhhbmRsZXJbMF0gPSB0cnVlOwogICAgfSk7CiAgfTt9Cn0KCi8qKgogKiBDcmVhdGVzIGFuIG5ldyBQcm9taXNlQnVmZmVyIG9iamVjdCB3aXRoIHRoZSBzcGVjaWZpZWQgbGltaXQKICogQHBhcmFtIGxpbWl0IG1heCBudW1iZXIgb2YgcHJvbWlzZXMgdGhhdCBjYW4gYmUgc3RvcmVkIGluIHRoZSBidWZmZXIKICovCmZ1bmN0aW9uIG1ha2VQcm9taXNlQnVmZmVyKGxpbWl0KSB7CiAgY29uc3QgYnVmZmVyID0gW107CgogIGZ1bmN0aW9uIGlzUmVhZHkoKSB7CiAgICByZXR1cm4gbGltaXQgPT09IHVuZGVmaW5lZCB8fCBidWZmZXIubGVuZ3RoIDwgbGltaXQ7CiAgfQoKICAvKioKICAgKiBSZW1vdmUgYSBwcm9taXNlIGZyb20gdGhlIHF1ZXVlLgogICAqCiAgICogQHBhcmFtIHRhc2sgQ2FuIGJlIGFueSBQcm9taXNlTGlrZTxUPgogICAqIEByZXR1cm5zIFJlbW92ZWQgcHJvbWlzZS4KICAgKi8KICBmdW5jdGlvbiByZW1vdmUodGFzaykgewogICAgcmV0dXJuIGJ1ZmZlci5zcGxpY2UoYnVmZmVyLmluZGV4T2YodGFzayksIDEpWzBdOwogIH0KCiAgLyoqCiAgICogQWRkIGEgcHJvbWlzZSAocmVwcmVzZW50aW5nIGFuIGluLWZsaWdodCBhY3Rpb24pIHRvIHRoZSBxdWV1ZSwgYW5kIHNldCBpdCB0byByZW1vdmUgaXRzZWxmIG9uIGZ1bGZpbGxtZW50LgogICAqCiAgICogQHBhcmFtIHRhc2tQcm9kdWNlciBBIGZ1bmN0aW9uIHByb2R1Y2luZyBhbnkgUHJvbWlzZUxpa2U8VD47IEluIHByZXZpb3VzIHZlcnNpb25zIHRoaXMgdXNlZCB0byBiZSBgdGFzazoKICAgKiAgICAgICAgUHJvbWlzZUxpa2U8VD5gLCBidXQgdW5kZXIgdGhhdCBtb2RlbCwgUHJvbWlzZXMgd2VyZSBpbnN0YW50bHkgY3JlYXRlZCBvbiB0aGUgY2FsbC1zaXRlIGFuZCB0aGVpciBleGVjdXRvcgogICAqICAgICAgICBmdW5jdGlvbnMgdGhlcmVmb3JlIHJhbiBpbW1lZGlhdGVseS4gVGh1cywgZXZlbiBpZiB0aGUgYnVmZmVyIHdhcyBmdWxsLCB0aGUgYWN0aW9uIHN0aWxsIGhhcHBlbmVkLiBCeQogICAqICAgICAgICByZXF1aXJpbmcgdGhlIHByb21pc2UgdG8gYmUgd3JhcHBlZCBpbiBhIGZ1bmN0aW9uLCB3ZSBjYW4gZGVmZXIgcHJvbWlzZSBjcmVhdGlvbiB1bnRpbCBhZnRlciB0aGUgYnVmZmVyCiAgICogICAgICAgIGxpbWl0IGNoZWNrLgogICAqIEByZXR1cm5zIFRoZSBvcmlnaW5hbCBwcm9taXNlLgogICAqLwogIGZ1bmN0aW9uIGFkZCh0YXNrUHJvZHVjZXIpIHsKICAgIGlmICghaXNSZWFkeSgpKSB7CiAgICAgIHJldHVybiByZWplY3RlZFN5bmNQcm9taXNlKG5ldyBTZW50cnlFcnJvcignTm90IGFkZGluZyBQcm9taXNlIGJlY2F1c2UgYnVmZmVyIGxpbWl0IHdhcyByZWFjaGVkLicpKTsKICAgIH0KCiAgICAvLyBzdGFydCB0aGUgdGFzayBhbmQgYWRkIGl0cyBwcm9taXNlIHRvIHRoZSBxdWV1ZQogICAgY29uc3QgdGFzayA9IHRhc2tQcm9kdWNlcigpOwogICAgaWYgKGJ1ZmZlci5pbmRleE9mKHRhc2spID09PSAtMSkgewogICAgICBidWZmZXIucHVzaCh0YXNrKTsKICAgIH0KICAgIHZvaWQgdGFzawogICAgICAudGhlbigoKSA9PiByZW1vdmUodGFzaykpCiAgICAgIC8vIFVzZSBgdGhlbihudWxsLCByZWplY3Rpb25IYW5kbGVyKWAgcmF0aGVyIHRoYW4gYGNhdGNoKHJlamVjdGlvbkhhbmRsZXIpYCBzbyB0aGF0IHdlIGNhbiB1c2UgYFByb21pc2VMaWtlYAogICAgICAvLyByYXRoZXIgdGhhbiBgUHJvbWlzZWAuIGBQcm9taXNlTGlrZWAgZG9lc24ndCBoYXZlIGEgYC5jYXRjaGAgbWV0aG9kLCBtYWtpbmcgaXRzIHBvbHlmaWxsIHNtYWxsZXIuIChFUzUgZGlkbid0CiAgICAgIC8vIGhhdmUgcHJvbWlzZXMsIHNvIFRTIGhhcyB0byBwb2x5ZmlsbCB3aGVuIGRvd24tY29tcGlsaW5nLikKICAgICAgLnRoZW4obnVsbCwgKCkgPT4KICAgICAgICByZW1vdmUodGFzaykudGhlbihudWxsLCAoKSA9PiB7CiAgICAgICAgICAvLyBXZSBoYXZlIHRvIGFkZCBhbm90aGVyIGNhdGNoIGhlcmUgYmVjYXVzZSBgcmVtb3ZlKClgIHN0YXJ0cyBhIG5ldyBwcm9taXNlIGNoYWluLgogICAgICAgIH0pLAogICAgICApOwogICAgcmV0dXJuIHRhc2s7CiAgfQoKICAvKioKICAgKiBXYWl0IGZvciBhbGwgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlIHRvIHJlc29sdmUgb3IgZm9yIHRpbWVvdXQgdG8gZXhwaXJlLCB3aGljaGV2ZXIgY29tZXMgZmlyc3QuCiAgICoKICAgKiBAcGFyYW0gdGltZW91dCBUaGUgdGltZSwgaW4gbXMsIGFmdGVyIHdoaWNoIHRvIHJlc29sdmUgdG8gYGZhbHNlYCBpZiB0aGUgcXVldWUgaXMgc3RpbGwgbm9uLWVtcHR5LiBQYXNzaW5nIGAwYCAob3IKICAgKiBub3QgcGFzc2luZyBhbnl0aGluZykgd2lsbCBtYWtlIHRoZSBwcm9taXNlIHdhaXQgYXMgbG9uZyBhcyBpdCB0YWtlcyBmb3IgdGhlIHF1ZXVlIHRvIGRyYWluIGJlZm9yZSByZXNvbHZpbmcgdG8KICAgKiBgdHJ1ZWAuCiAgICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHdpbGwgcmVzb2x2ZSB0byBgdHJ1ZWAgaWYgdGhlIHF1ZXVlIGlzIGFscmVhZHkgZW1wdHkgb3IgZHJhaW5zIGJlZm9yZSB0aGUgdGltZW91dCwgYW5kCiAgICogYGZhbHNlYCBvdGhlcndpc2UKICAgKi8KICBmdW5jdGlvbiBkcmFpbih0aW1lb3V0KSB7CiAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgbGV0IGNvdW50ZXIgPSBidWZmZXIubGVuZ3RoOwoKICAgICAgaWYgKCFjb3VudGVyKSB7CiAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7CiAgICAgIH0KCiAgICAgIC8vIHdhaXQgZm9yIGB0aW1lb3V0YCBtcyBhbmQgdGhlbiByZXNvbHZlIHRvIGBmYWxzZWAgKGlmIG5vdCBjYW5jZWxsZWQgZmlyc3QpCiAgICAgIGNvbnN0IGNhcHR1cmVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmICh0aW1lb3V0ICYmIHRpbWVvdXQgPiAwKSB7CiAgICAgICAgICByZXNvbHZlKGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0sIHRpbWVvdXQpOwoKICAgICAgLy8gaWYgYWxsIHByb21pc2VzIHJlc29sdmUgaW4gdGltZSwgY2FuY2VsIHRoZSB0aW1lciBhbmQgcmVzb2x2ZSB0byBgdHJ1ZWAKICAgICAgYnVmZmVyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgdm9pZCByZXNvbHZlZFN5bmNQcm9taXNlKGl0ZW0pLnRoZW4oKCkgPT4gewogICAgICAgICAgaWYgKCEtLWNvdW50ZXIpIHsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNhcHR1cmVkU2V0VGltZW91dCk7CiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwgcmVqZWN0KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIHJldHVybiB7CiAgICAkOiBidWZmZXIsCiAgICBhZGQsCiAgICBkcmFpbiwKICB9Owp9Cgpjb25zdCBPTkVfU0VDT05EX0lOX01TID0gMTAwMDsKCi8qKgogKiBBIHBhcnRpYWwgZGVmaW5pdGlvbiBvZiB0aGUgW1BlcmZvcm1hbmNlIFdlYiBBUElde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZX0KICogZm9yIGFjY2Vzc2luZyBhIGhpZ2gtcmVzb2x1dGlvbiBtb25vdG9uaWMgY2xvY2suCiAqLwoKLyoqCiAqIFJldHVybnMgYSB0aW1lc3RhbXAgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaCB1c2luZyB0aGUgRGF0ZSBBUEkuCiAqCiAqIFRPRE8odjgpOiBSZXR1cm4gdHlwZSBzaG91bGQgYmUgcm91bmRlZC4KICovCmZ1bmN0aW9uIGRhdGVUaW1lc3RhbXBJblNlY29uZHMoKSB7CiAgcmV0dXJuIERhdGUubm93KCkgLyBPTkVfU0VDT05EX0lOX01TOwp9CgovKioKICogUmV0dXJucyBhIHdyYXBwZXIgYXJvdW5kIHRoZSBuYXRpdmUgUGVyZm9ybWFuY2UgQVBJIGJyb3dzZXIgaW1wbGVtZW50YXRpb24sIG9yIHVuZGVmaW5lZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QKICogc3VwcG9ydCB0aGUgQVBJLgogKgogKiBXcmFwcGluZyB0aGUgbmF0aXZlIEFQSSB3b3JrcyBhcm91bmQgZGlmZmVyZW5jZXMgaW4gYmVoYXZpb3IgZnJvbSBkaWZmZXJlbnQgYnJvd3NlcnMuCiAqLwpmdW5jdGlvbiBjcmVhdGVVbml4VGltZXN0YW1wSW5TZWNvbmRzRnVuYygpIHsKICBjb25zdCB7IHBlcmZvcm1hbmNlIH0gPSBHTE9CQUxfT0JKIDsKICBpZiAoIXBlcmZvcm1hbmNlIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHsKICAgIHJldHVybiBkYXRlVGltZXN0YW1wSW5TZWNvbmRzOwogIH0KCiAgLy8gU29tZSBicm93c2VyIGFuZCBlbnZpcm9ubWVudHMgZG9uJ3QgaGF2ZSBhIHRpbWVPcmlnaW4sIHNvIHdlIGZhbGxiYWNrIHRvCiAgLy8gdXNpbmcgRGF0ZS5ub3coKSB0byBjb21wdXRlIHRoZSBzdGFydGluZyB0aW1lLgogIGNvbnN0IGFwcHJveFN0YXJ0aW5nVGltZU9yaWdpbiA9IERhdGUubm93KCkgLSBwZXJmb3JtYW5jZS5ub3coKTsKICBjb25zdCB0aW1lT3JpZ2luID0gcGVyZm9ybWFuY2UudGltZU9yaWdpbiA9PSB1bmRlZmluZWQgPyBhcHByb3hTdGFydGluZ1RpbWVPcmlnaW4gOiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luOwoKICAvLyBwZXJmb3JtYW5jZS5ub3coKSBpcyBhIG1vbm90b25pYyBjbG9jaywgd2hpY2ggbWVhbnMgaXQgc3RhcnRzIGF0IDAgd2hlbiB0aGUgcHJvY2VzcyBiZWdpbnMuIFRvIGdldCB0aGUgY3VycmVudAogIC8vIHdhbGwgY2xvY2sgdGltZSAoYWN0dWFsIFVOSVggdGltZXN0YW1wKSwgd2UgbmVlZCB0byBhZGQgdGhlIHN0YXJ0aW5nIHRpbWUgb3JpZ2luIGFuZCB0aGUgY3VycmVudCB0aW1lIGVsYXBzZWQuCiAgLy8KICAvLyBUT0RPOiBUaGlzIGRvZXMgbm90IGFjY291bnQgZm9yIHRoZSBjYXNlIHdoZXJlIHRoZSBtb25vdG9uaWMgY2xvY2sgdGhhdCBwb3dlcnMgcGVyZm9ybWFuY2Uubm93KCkgZHJpZnRzIGZyb20gdGhlCiAgLy8gd2FsbCBjbG9jayB0aW1lLCB3aGljaCBjYXVzZXMgdGhlIHJldHVybmVkIHRpbWVzdGFtcCB0byBiZSBpbmFjY3VyYXRlLiBXZSBzaG91bGQgaW52ZXN0aWdhdGUgaG93IHRvIGRldGVjdCBhbmQKICAvLyBjb3JyZWN0IGZvciB0aGlzLgogIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MAogIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21kbi9jb250ZW50L2lzc3Vlcy80NzEzCiAgLy8gU2VlOiBodHRwczovL2Rldi50by9ub2Ftci93aGVuLWEtbWlsbGlzZWNvbmQtaXMtbm90LWEtbWlsbGlzZWNvbmQtM2g2CiAgcmV0dXJuICgpID0+IHsKICAgIHJldHVybiAodGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpKSAvIE9ORV9TRUNPTkRfSU5fTVM7CiAgfTsKfQoKLyoqCiAqIFJldHVybnMgYSB0aW1lc3RhbXAgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaCB1c2luZyBlaXRoZXIgdGhlIFBlcmZvcm1hbmNlIG9yIERhdGUgQVBJcywgZGVwZW5kaW5nIG9uIHRoZQogKiBhdmFpbGFiaWxpdHkgb2YgdGhlIFBlcmZvcm1hbmNlIEFQSS4KICoKICogQlVHOiBOb3RlIHRoYXQgYmVjYXVzZSBvZiBob3cgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEksIHRoZSBjbG9jayBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzCiAqIGFzbGVlcC4gVGhpcyBjcmVhdGVzIGEgc2tldyBiZXR3ZWVuIGBkYXRlVGltZXN0YW1wSW5TZWNvbmRzYCBhbmQgYHRpbWVzdGFtcEluU2Vjb25kc2AuIFRoZQogKiBza2V3IGNhbiBncm93IHRvIGFyYml0cmFyeSBhbW91bnRzIGxpa2UgZGF5cywgd2Vla3Mgb3IgbW9udGhzLgogKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC4KICovCmNvbnN0IHRpbWVzdGFtcEluU2Vjb25kcyA9IGNyZWF0ZVVuaXhUaW1lc3RhbXBJblNlY29uZHNGdW5jKCk7CgovKioKICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2guIFRoaXMgdmFsdWUgaXMgb25seSB1c2FibGUgaW4gYSBicm93c2VyLCBhbmQgb25seSB3aGVuIHRoZQogKiBwZXJmb3JtYW5jZSBBUEkgaXMgYXZhaWxhYmxlLgogKi8KKCgpID0+IHsKICAvLyBVbmZvcnR1bmF0ZWx5IGJyb3dzZXJzIG1heSByZXBvcnQgYW4gaW5hY2N1cmF0ZSB0aW1lIG9yaWdpbiBkYXRhLCB0aHJvdWdoIGVpdGhlciBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIG9yCiAgLy8gcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCwgd2hpY2ggcmVzdWx0cyBpbiBwb29yIHJlc3VsdHMgaW4gcGVyZm9ybWFuY2UgZGF0YS4gV2Ugb25seSB0cmVhdCB0aW1lIG9yaWdpbgogIC8vIGRhdGEgYXMgcmVsaWFibGUgaWYgdGhleSBhcmUgd2l0aGluIGEgcmVhc29uYWJsZSB0aHJlc2hvbGQgb2YgdGhlIGN1cnJlbnQgdGltZS4KCiAgY29uc3QgeyBwZXJmb3JtYW5jZSB9ID0gR0xPQkFMX09CSiA7CiAgaWYgKCFwZXJmb3JtYW5jZSB8fCAhcGVyZm9ybWFuY2Uubm93KSB7CiAgICByZXR1cm4gdW5kZWZpbmVkOwogIH0KCiAgY29uc3QgdGhyZXNob2xkID0gMzYwMCAqIDEwMDA7CiAgY29uc3QgcGVyZm9ybWFuY2VOb3cgPSBwZXJmb3JtYW5jZS5ub3coKTsKICBjb25zdCBkYXRlTm93ID0gRGF0ZS5ub3coKTsKCiAgLy8gaWYgdGltZU9yaWdpbiBpc24ndCBhdmFpbGFibGUgc2V0IGRlbHRhIHRvIHRocmVzaG9sZCBzbyBpdCBpc24ndCB1c2VkCiAgY29uc3QgdGltZU9yaWdpbkRlbHRhID0gcGVyZm9ybWFuY2UudGltZU9yaWdpbgogICAgPyBNYXRoLmFicyhwZXJmb3JtYW5jZS50aW1lT3JpZ2luICsgcGVyZm9ybWFuY2VOb3cgLSBkYXRlTm93KQogICAgOiB0aHJlc2hvbGQ7CiAgY29uc3QgdGltZU9yaWdpbklzUmVsaWFibGUgPSB0aW1lT3JpZ2luRGVsdGEgPCB0aHJlc2hvbGQ7CgogIC8vIFdoaWxlIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luLCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luCiAgLy8gaXMgbm90IGFzIHdpZGVseSBzdXBwb3J0ZWQuIE5hbWVseSwgcGVyZm9ybWFuY2UudGltZU9yaWdpbiBpcyB1bmRlZmluZWQgaW4gU2FmYXJpIGFzIG9mIHdyaXRpbmcuCiAgLy8gQWxzbyBhcyBvZiB3cml0aW5nLCBwZXJmb3JtYW5jZS50aW1pbmcgaXMgbm90IGF2YWlsYWJsZSBpbiBXZWIgV29ya2VycyBpbiBtYWluc3RyZWFtIGJyb3dzZXJzLCBzbyBpdCBpcyBub3QgYWx3YXlzCiAgLy8gYSB2YWxpZCBmYWxsYmFjay4gSW4gdGhlIGFic2VuY2Ugb2YgYW4gaW5pdGlhbCB0aW1lIHByb3ZpZGVkIGJ5IHRoZSBicm93c2VyLCBmYWxsYmFjayB0byB0aGUgY3VycmVudCB0aW1lIGZyb20gdGhlCiAgLy8gRGF0ZSBBUEkuCiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uCiAgY29uc3QgbmF2aWdhdGlvblN0YXJ0ID0gcGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQ7CiAgY29uc3QgaGFzTmF2aWdhdGlvblN0YXJ0ID0gdHlwZW9mIG5hdmlnYXRpb25TdGFydCA9PT0gJ251bWJlcic7CiAgLy8gaWYgbmF2aWdhdGlvblN0YXJ0IGlzbid0IGF2YWlsYWJsZSBzZXQgZGVsdGEgdG8gdGhyZXNob2xkIHNvIGl0IGlzbid0IHVzZWQKICBjb25zdCBuYXZpZ2F0aW9uU3RhcnREZWx0YSA9IGhhc05hdmlnYXRpb25TdGFydCA/IE1hdGguYWJzKG5hdmlnYXRpb25TdGFydCArIHBlcmZvcm1hbmNlTm93IC0gZGF0ZU5vdykgOiB0aHJlc2hvbGQ7CiAgY29uc3QgbmF2aWdhdGlvblN0YXJ0SXNSZWxpYWJsZSA9IG5hdmlnYXRpb25TdGFydERlbHRhIDwgdGhyZXNob2xkOwoKICBpZiAodGltZU9yaWdpbklzUmVsaWFibGUgfHwgbmF2aWdhdGlvblN0YXJ0SXNSZWxpYWJsZSkgewogICAgLy8gVXNlIHRoZSBtb3JlIHJlbGlhYmxlIHRpbWUgb3JpZ2luCiAgICBpZiAodGltZU9yaWdpbkRlbHRhIDw9IG5hdmlnYXRpb25TdGFydERlbHRhKSB7CiAgICAgIHJldHVybiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5hdmlnYXRpb25TdGFydDsKICAgIH0KICB9CiAgcmV0dXJuIGRhdGVOb3c7Cn0pKCk7CgovKioKICogQ3JlYXRlcyBhbiBlbnZlbG9wZS4KICogTWFrZSBzdXJlIHRvIGFsd2F5cyBleHBsaWNpdGx5IHByb3ZpZGUgdGhlIGdlbmVyaWMgdG8gdGhpcyBmdW5jdGlvbgogKiBzbyB0aGF0IHRoZSBlbnZlbG9wZSB0eXBlcyByZXNvbHZlIGNvcnJlY3RseS4KICovCmZ1bmN0aW9uIGNyZWF0ZUVudmVsb3BlKGhlYWRlcnMsIGl0ZW1zID0gW10pIHsKICByZXR1cm4gW2hlYWRlcnMsIGl0ZW1zXSA7Cn0KCi8qKgogKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBsb29wIHRocm91Z2ggdGhlIGl0ZW1zIGFuZCBpdGVtIHR5cGVzIG9mIGFuIGVudmVsb3BlLgogKiAoVGhpcyBmdW5jdGlvbiB3YXMgbW9zdGx5IGNyZWF0ZWQgYmVjYXVzZSB3b3JraW5nIHdpdGggZW52ZWxvcGUgdHlwZXMgaXMgcGFpbmZ1bCBhdCB0aGUgbW9tZW50KQogKgogKiBJZiB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVlLCB0aGUgcmVzdCBvZiB0aGUgaXRlbXMgd2lsbCBiZSBza2lwcGVkLgogKi8KZnVuY3Rpb24gZm9yRWFjaEVudmVsb3BlSXRlbSgKICBlbnZlbG9wZSwKICBjYWxsYmFjaywKKSB7CiAgY29uc3QgZW52ZWxvcGVJdGVtcyA9IGVudmVsb3BlWzFdOwoKICBmb3IgKGNvbnN0IGVudmVsb3BlSXRlbSBvZiBlbnZlbG9wZUl0ZW1zKSB7CiAgICBjb25zdCBlbnZlbG9wZUl0ZW1UeXBlID0gZW52ZWxvcGVJdGVtWzBdLnR5cGU7CiAgICBjb25zdCByZXN1bHQgPSBjYWxsYmFjayhlbnZlbG9wZUl0ZW0sIGVudmVsb3BlSXRlbVR5cGUpOwoKICAgIGlmIChyZXN1bHQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KCi8qKgogKiBFbmNvZGUgYSBzdHJpbmcgdG8gVVRGOC4KICovCmZ1bmN0aW9uIGVuY29kZVVURjgoaW5wdXQsIHRleHRFbmNvZGVyKSB7CiAgY29uc3QgdXRmOCA9IHRleHRFbmNvZGVyIHx8IG5ldyBUZXh0RW5jb2RlcigpOwogIHJldHVybiB1dGY4LmVuY29kZShpbnB1dCk7Cn0KCi8qKgogKiBTZXJpYWxpemVzIGFuIGVudmVsb3BlLgogKi8KZnVuY3Rpb24gc2VyaWFsaXplRW52ZWxvcGUoZW52ZWxvcGUsIHRleHRFbmNvZGVyKSB7CiAgY29uc3QgW2VudkhlYWRlcnMsIGl0ZW1zXSA9IGVudmVsb3BlOwoKICAvLyBJbml0aWFsbHkgd2UgY29uc3RydWN0IG91ciBlbnZlbG9wZSBhcyBhIHN0cmluZyBhbmQgb25seSBjb252ZXJ0IHRvIGJpbmFyeSBjaHVua3MgaWYgd2UgZW5jb3VudGVyIGJpbmFyeSBkYXRhCiAgbGV0IHBhcnRzID0gSlNPTi5zdHJpbmdpZnkoZW52SGVhZGVycyk7CgogIGZ1bmN0aW9uIGFwcGVuZChuZXh0KSB7CiAgICBpZiAodHlwZW9mIHBhcnRzID09PSAnc3RyaW5nJykgewogICAgICBwYXJ0cyA9IHR5cGVvZiBuZXh0ID09PSAnc3RyaW5nJyA/IHBhcnRzICsgbmV4dCA6IFtlbmNvZGVVVEY4KHBhcnRzLCB0ZXh0RW5jb2RlciksIG5leHRdOwogICAgfSBlbHNlIHsKICAgICAgcGFydHMucHVzaCh0eXBlb2YgbmV4dCA9PT0gJ3N0cmluZycgPyBlbmNvZGVVVEY4KG5leHQsIHRleHRFbmNvZGVyKSA6IG5leHQpOwogICAgfQogIH0KCiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7CiAgICBjb25zdCBbaXRlbUhlYWRlcnMsIHBheWxvYWRdID0gaXRlbTsKCiAgICBhcHBlbmQoYFxuJHtKU09OLnN0cmluZ2lmeShpdGVtSGVhZGVycyl9XG5gKTsKCiAgICBpZiAodHlwZW9mIHBheWxvYWQgPT09ICdzdHJpbmcnIHx8IHBheWxvYWQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7CiAgICAgIGFwcGVuZChwYXlsb2FkKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBzdHJpbmdpZmllZFBheWxvYWQ7CiAgICAgIHRyeSB7CiAgICAgICAgc3RyaW5naWZpZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBJbiBjYXNlLCBkZXNwaXRlIGFsbCBvdXIgZWZmb3J0cyB0byBrZWVwIGBwYXlsb2FkYCBjaXJjdWxhci1kZXBlbmRlbmN5LWZyZWUsIGBKU09OLnN0cmluaWZ5KClgIHN0aWxsCiAgICAgICAgLy8gZmFpbHMsIHdlIHRyeSBhZ2FpbiBhZnRlciBub3JtYWxpemluZyBpdCBhZ2FpbiB3aXRoIGluZmluaXRlIG5vcm1hbGl6YXRpb24gZGVwdGguIFRoaXMgb2YgY291cnNlIGhhcyBhCiAgICAgICAgLy8gcGVyZm9ybWFuY2UgaW1wYWN0IGJ1dCBpbiB0aGlzIGNhc2UgYSBwZXJmb3JtYW5jZSBoaXQgaXMgYmV0dGVyIHRoYW4gdGhyb3dpbmcuCiAgICAgICAgc3RyaW5naWZpZWRQYXlsb2FkID0gSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplKHBheWxvYWQpKTsKICAgICAgfQogICAgICBhcHBlbmQoc3RyaW5naWZpZWRQYXlsb2FkKTsKICAgIH0KICB9CgogIHJldHVybiB0eXBlb2YgcGFydHMgPT09ICdzdHJpbmcnID8gcGFydHMgOiBjb25jYXRCdWZmZXJzKHBhcnRzKTsKfQoKZnVuY3Rpb24gY29uY2F0QnVmZmVycyhidWZmZXJzKSB7CiAgY29uc3QgdG90YWxMZW5ndGggPSBidWZmZXJzLnJlZHVjZSgoYWNjLCBidWYpID0+IGFjYyArIGJ1Zi5sZW5ndGgsIDApOwoKICBjb25zdCBtZXJnZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7CiAgbGV0IG9mZnNldCA9IDA7CiAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykgewogICAgbWVyZ2VkLnNldChidWZmZXIsIG9mZnNldCk7CiAgICBvZmZzZXQgKz0gYnVmZmVyLmxlbmd0aDsKICB9CgogIHJldHVybiBtZXJnZWQ7Cn0KCmNvbnN0IElURU1fVFlQRV9UT19EQVRBX0NBVEVHT1JZX01BUCA9IHsKICBzZXNzaW9uOiAnc2Vzc2lvbicsCiAgc2Vzc2lvbnM6ICdzZXNzaW9uJywKICBhdHRhY2htZW50OiAnYXR0YWNobWVudCcsCiAgdHJhbnNhY3Rpb246ICd0cmFuc2FjdGlvbicsCiAgZXZlbnQ6ICdlcnJvcicsCiAgY2xpZW50X3JlcG9ydDogJ2ludGVybmFsJywKICB1c2VyX3JlcG9ydDogJ2RlZmF1bHQnLAogIHByb2ZpbGU6ICdwcm9maWxlJywKICByZXBsYXlfZXZlbnQ6ICdyZXBsYXknLAogIHJlcGxheV9yZWNvcmRpbmc6ICdyZXBsYXknLAogIGNoZWNrX2luOiAnbW9uaXRvcicsCiAgZmVlZGJhY2s6ICdmZWVkYmFjaycsCiAgLy8gVE9ETzogVGhpcyBpcyBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIHVudGlsIHdlIGhhdmUgYSBwcm9wZXIgZGF0YSBjYXRlZ29yeSBmb3IgbWV0cmljcwogIHN0YXRzZDogJ3Vua25vd24nLAp9OwoKLyoqCiAqIE1hcHMgdGhlIHR5cGUgb2YgYW4gZW52ZWxvcGUgaXRlbSB0byBhIGRhdGEgY2F0ZWdvcnkuCiAqLwpmdW5jdGlvbiBlbnZlbG9wZUl0ZW1UeXBlVG9EYXRhQ2F0ZWdvcnkodHlwZSkgewogIHJldHVybiBJVEVNX1RZUEVfVE9fREFUQV9DQVRFR09SWV9NQVBbdHlwZV07Cn0KCi8qKiBFeHRyYWN0cyB0aGUgbWluaW1hbCBTREsgaW5mbyBmcm9tIGZyb20gdGhlIG1ldGFkYXRhIG9yIGFuIGV2ZW50cyAqLwpmdW5jdGlvbiBnZXRTZGtNZXRhZGF0YUZvckVudmVsb3BlSGVhZGVyKG1ldGFkYXRhT3JFdmVudCkgewogIGlmICghbWV0YWRhdGFPckV2ZW50IHx8ICFtZXRhZGF0YU9yRXZlbnQuc2RrKSB7CiAgICByZXR1cm47CiAgfQogIGNvbnN0IHsgbmFtZSwgdmVyc2lvbiB9ID0gbWV0YWRhdGFPckV2ZW50LnNkazsKICByZXR1cm4geyBuYW1lLCB2ZXJzaW9uIH07Cn0KCi8qKgogKiBDcmVhdGVzIGV2ZW50IGVudmVsb3BlIGhlYWRlcnMsIGJhc2VkIG9uIGV2ZW50LCBzZGsgaW5mbyBhbmQgdHVubmVsCiAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBmcm9tIHRoZSBjb3JlIHBhY2thZ2UgdG8gbWFrZSBpdCBhdmFpbGFibGUgaW4gUmVwbGF5CiAqLwpmdW5jdGlvbiBjcmVhdGVFdmVudEVudmVsb3BlSGVhZGVycygKICBldmVudCwKICBzZGtJbmZvLAogIHR1bm5lbCwKICBkc24sCikgewogIGNvbnN0IGR5bmFtaWNTYW1wbGluZ0NvbnRleHQgPSBldmVudC5zZGtQcm9jZXNzaW5nTWV0YWRhdGEgJiYgZXZlbnQuc2RrUHJvY2Vzc2luZ01ldGFkYXRhLmR5bmFtaWNTYW1wbGluZ0NvbnRleHQ7CiAgcmV0dXJuIHsKICAgIGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCAsCiAgICBzZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksCiAgICAuLi4oc2RrSW5mbyAmJiB7IHNkazogc2RrSW5mbyB9KSwKICAgIC4uLighIXR1bm5lbCAmJiBkc24gJiYgeyBkc246IGRzblRvU3RyaW5nKGRzbikgfSksCiAgICAuLi4oZHluYW1pY1NhbXBsaW5nQ29udGV4dCAmJiB7CiAgICAgIHRyYWNlOiBkcm9wVW5kZWZpbmVkS2V5cyh7IC4uLmR5bmFtaWNTYW1wbGluZ0NvbnRleHQgfSksCiAgICB9KSwKICB9Owp9CgovLyBJbnRlbnRpb25hbGx5IGtlZXBpbmcgdGhlIGtleSBicm9hZCwgYXMgd2UgZG9uJ3Qga25vdyBmb3Igc3VyZSB3aGF0IHJhdGUgbGltaXQgaGVhZGVycyBnZXQgcmV0dXJuZWQgZnJvbSBiYWNrZW5kCgpjb25zdCBERUZBVUxUX1JFVFJZX0FGVEVSID0gNjAgKiAxMDAwOyAvLyA2MCBzZWNvbmRzCgovKioKICogRXh0cmFjdHMgUmV0cnktQWZ0ZXIgdmFsdWUgZnJvbSB0aGUgcmVxdWVzdCBoZWFkZXIgb3IgcmV0dXJucyBkZWZhdWx0IHZhbHVlCiAqIEBwYXJhbSBoZWFkZXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mICdSZXRyeS1BZnRlcicgaGVhZGVyCiAqIEBwYXJhbSBub3cgY3VycmVudCB1bml4IHRpbWVzdGFtcAogKgogKi8KZnVuY3Rpb24gcGFyc2VSZXRyeUFmdGVySGVhZGVyKGhlYWRlciwgbm93ID0gRGF0ZS5ub3coKSkgewogIGNvbnN0IGhlYWRlckRlbGF5ID0gcGFyc2VJbnQoYCR7aGVhZGVyfWAsIDEwKTsKICBpZiAoIWlzTmFOKGhlYWRlckRlbGF5KSkgewogICAgcmV0dXJuIGhlYWRlckRlbGF5ICogMTAwMDsKICB9CgogIGNvbnN0IGhlYWRlckRhdGUgPSBEYXRlLnBhcnNlKGAke2hlYWRlcn1gKTsKICBpZiAoIWlzTmFOKGhlYWRlckRhdGUpKSB7CiAgICByZXR1cm4gaGVhZGVyRGF0ZSAtIG5vdzsKICB9CgogIHJldHVybiBERUZBVUxUX1JFVFJZX0FGVEVSOwp9CgovKioKICogR2V0cyB0aGUgdGltZSB0aGF0IHRoZSBnaXZlbiBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBmb3IgcmF0ZSBsaW1pdGluZy4KICogSW4gY2FzZSBubyBjYXRlZ29yeS1zcGVjaWZpYyBsaW1pdCBpcyBzZXQgYnV0IGEgZ2VuZXJhbCByYXRlIGxpbWl0IGFjcm9zcyBhbGwgY2F0ZWdvcmllcyBpcyBhY3RpdmUsCiAqIHRoYXQgdGltZSBpcyByZXR1cm5lZC4KICoKICogQHJldHVybiB0aGUgdGltZSBpbiBtcyB0aGF0IHRoZSBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBvciAwIGlmIHRoZXJlJ3Mgbm8gYWN0aXZlIHJhdGUgbGltaXQuCiAqLwpmdW5jdGlvbiBkaXNhYmxlZFVudGlsKGxpbWl0cywgY2F0ZWdvcnkpIHsKICByZXR1cm4gbGltaXRzW2NhdGVnb3J5XSB8fCBsaW1pdHMuYWxsIHx8IDA7Cn0KCi8qKgogKiBDaGVja3MgaWYgYSBjYXRlZ29yeSBpcyByYXRlIGxpbWl0ZWQKICovCmZ1bmN0aW9uIGlzUmF0ZUxpbWl0ZWQobGltaXRzLCBjYXRlZ29yeSwgbm93ID0gRGF0ZS5ub3coKSkgewogIHJldHVybiBkaXNhYmxlZFVudGlsKGxpbWl0cywgY2F0ZWdvcnkpID4gbm93Owp9CgovKioKICogVXBkYXRlIHJhdGVsaW1pdHMgZnJvbSBpbmNvbWluZyBoZWFkZXJzLgogKgogKiBAcmV0dXJuIHRoZSB1cGRhdGVkIFJhdGVMaW1pdHMgb2JqZWN0LgogKi8KZnVuY3Rpb24gdXBkYXRlUmF0ZUxpbWl0cygKICBsaW1pdHMsCiAgeyBzdGF0dXNDb2RlLCBoZWFkZXJzIH0sCiAgbm93ID0gRGF0ZS5ub3coKSwKKSB7CiAgY29uc3QgdXBkYXRlZFJhdGVMaW1pdHMgPSB7CiAgICAuLi5saW1pdHMsCiAgfTsKCiAgLy8gIlRoZSBuYW1lIGlzIGNhc2UtaW5zZW5zaXRpdmUuIgogIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IZWFkZXJzL2dldAogIGNvbnN0IHJhdGVMaW1pdEhlYWRlciA9IGhlYWRlcnMgJiYgaGVhZGVyc1sneC1zZW50cnktcmF0ZS1saW1pdHMnXTsKICBjb25zdCByZXRyeUFmdGVySGVhZGVyID0gaGVhZGVycyAmJiBoZWFkZXJzWydyZXRyeS1hZnRlciddOwoKICBpZiAocmF0ZUxpbWl0SGVhZGVyKSB7CiAgICAvKioKICAgICAqIHJhdGUgbGltaXQgaGVhZGVycyBhcmUgb2YgdGhlIGZvcm0KICAgICAqICAgICA8aGVhZGVyPiw8aGVhZGVyPiwuLgogICAgICogd2hlcmUgZWFjaCA8aGVhZGVyPiBpcyBvZiB0aGUgZm9ybQogICAgICogICAgIDxyZXRyeV9hZnRlcj46IDxjYXRlZ29yaWVzPjogPHNjb3BlPjogPHJlYXNvbl9jb2RlPgogICAgICogd2hlcmUKICAgICAqICAgICA8cmV0cnlfYWZ0ZXI+IGlzIGEgZGVsYXkgaW4gc2Vjb25kcwogICAgICogICAgIDxjYXRlZ29yaWVzPiBpcyB0aGUgZXZlbnQgdHlwZShzKSAoZXJyb3IsIHRyYW5zYWN0aW9uLCBldGMpIGJlaW5nIHJhdGUgbGltaXRlZCBhbmQgaXMgb2YgdGhlIGZvcm0KICAgICAqICAgICAgICAgPGNhdGVnb3J5Pjs8Y2F0ZWdvcnk+Oy4uLgogICAgICogICAgIDxzY29wZT4gaXMgd2hhdCdzIGJlaW5nIGxpbWl0ZWQgKG9yZywgcHJvamVjdCwgb3Iga2V5KSAtIGlnbm9yZWQgYnkgU0RLCiAgICAgKiAgICAgPHJlYXNvbl9jb2RlPiBpcyBhbiBhcmJpdHJhcnkgc3RyaW5nIGxpa2UgIm9yZ19xdW90YSIgLSBpZ25vcmVkIGJ5IFNESwogICAgICovCiAgICBmb3IgKGNvbnN0IGxpbWl0IG9mIHJhdGVMaW1pdEhlYWRlci50cmltKCkuc3BsaXQoJywnKSkgewogICAgICBjb25zdCBbcmV0cnlBZnRlciwgY2F0ZWdvcmllc10gPSBsaW1pdC5zcGxpdCgnOicsIDIpOwogICAgICBjb25zdCBoZWFkZXJEZWxheSA9IHBhcnNlSW50KHJldHJ5QWZ0ZXIsIDEwKTsKICAgICAgY29uc3QgZGVsYXkgPSAoIWlzTmFOKGhlYWRlckRlbGF5KSA/IGhlYWRlckRlbGF5IDogNjApICogMTAwMDsgLy8gNjBzZWMgZGVmYXVsdAogICAgICBpZiAoIWNhdGVnb3JpZXMpIHsKICAgICAgICB1cGRhdGVkUmF0ZUxpbWl0cy5hbGwgPSBub3cgKyBkZWxheTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKGNvbnN0IGNhdGVnb3J5IG9mIGNhdGVnb3JpZXMuc3BsaXQoJzsnKSkgewogICAgICAgICAgdXBkYXRlZFJhdGVMaW1pdHNbY2F0ZWdvcnldID0gbm93ICsgZGVsYXk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSBlbHNlIGlmIChyZXRyeUFmdGVySGVhZGVyKSB7CiAgICB1cGRhdGVkUmF0ZUxpbWl0cy5hbGwgPSBub3cgKyBwYXJzZVJldHJ5QWZ0ZXJIZWFkZXIocmV0cnlBZnRlckhlYWRlciwgbm93KTsKICB9IGVsc2UgaWYgKHN0YXR1c0NvZGUgPT09IDQyOSkgewogICAgdXBkYXRlZFJhdGVMaW1pdHMuYWxsID0gbm93ICsgNjAgKiAxMDAwOwogIH0KCiAgcmV0dXJuIHVwZGF0ZWRSYXRlTGltaXRzOwp9CgovKioKICogQSBub2RlLmpzIHdhdGNoZG9nIHRpbWVyCiAqIEBwYXJhbSBwb2xsSW50ZXJ2YWwgVGhlIGludGVydmFsIHRoYXQgd2UgZXhwZWN0IHRvIGdldCBwb2xsZWQgYXQKICogQHBhcmFtIGFuclRocmVzaG9sZCBUaGUgdGhyZXNob2xkIGZvciB3aGVuIHdlIGNvbnNpZGVyIEFOUgogKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGNhbGwgZm9yIEFOUgogKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCBgcG9sbGAgYW5kIGBlbmFibGVkYCBmdW5jdGlvbnMge0BsaW5rIFdhdGNoZG9nUmV0dXJufQogKi8KZnVuY3Rpb24gd2F0Y2hkb2dUaW1lcigKICBjcmVhdGVUaW1lciwKICBwb2xsSW50ZXJ2YWwsCiAgYW5yVGhyZXNob2xkLAogIGNhbGxiYWNrLAopIHsKICBjb25zdCB0aW1lciA9IGNyZWF0ZVRpbWVyKCk7CiAgbGV0IHRyaWdnZXJlZCA9IGZhbHNlOwogIGxldCBlbmFibGVkID0gdHJ1ZTsKCiAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgY29uc3QgZGlmZk1zID0gdGltZXIuZ2V0VGltZU1zKCk7CgogICAgaWYgKHRyaWdnZXJlZCA9PT0gZmFsc2UgJiYgZGlmZk1zID4gcG9sbEludGVydmFsICsgYW5yVGhyZXNob2xkKSB7CiAgICAgIHRyaWdnZXJlZCA9IHRydWU7CiAgICAgIGlmIChlbmFibGVkKSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfQoKICAgIGlmIChkaWZmTXMgPCBwb2xsSW50ZXJ2YWwgKyBhbnJUaHJlc2hvbGQpIHsKICAgICAgdHJpZ2dlcmVkID0gZmFsc2U7CiAgICB9CiAgfSwgMjApOwoKICByZXR1cm4gewogICAgcG9sbDogKCkgPT4gewogICAgICB0aW1lci5yZXNldCgpOwogICAgfSwKICAgIGVuYWJsZWQ6IChzdGF0ZSkgPT4gewogICAgICBlbmFibGVkID0gc3RhdGU7CiAgICB9LAogIH07Cn0KCi8vIHR5cGVzIGNvcGllZCBmcm9tIGluc3BlY3Rvci5kLnRzCgovKioKICogQ29udmVydHMgRGVidWdnZXIuQ2FsbEZyYW1lIHRvIFNlbnRyeSBTdGFja0ZyYW1lCiAqLwpmdW5jdGlvbiBjYWxsRnJhbWVUb1N0YWNrRnJhbWUoCiAgZnJhbWUsCiAgdXJsLAogIGdldE1vZHVsZUZyb21GaWxlbmFtZSwKKSB7CiAgY29uc3QgZmlsZW5hbWUgPSB1cmwgPyB1cmwucmVwbGFjZSgvXmZpbGU6XC9cLy8sICcnKSA6IHVuZGVmaW5lZDsKCiAgLy8gQ2FsbEZyYW1lIHJvdy9jb2wgYXJlIDAgYmFzZWQsIHdoZXJlYXMgU3RhY2tGcmFtZSBhcmUgMSBiYXNlZAogIGNvbnN0IGNvbG5vID0gZnJhbWUubG9jYXRpb24uY29sdW1uTnVtYmVyID8gZnJhbWUubG9jYXRpb24uY29sdW1uTnVtYmVyICsgMSA6IHVuZGVmaW5lZDsKICBjb25zdCBsaW5lbm8gPSBmcmFtZS5sb2NhdGlvbi5saW5lTnVtYmVyID8gZnJhbWUubG9jYXRpb24ubGluZU51bWJlciArIDEgOiB1bmRlZmluZWQ7CgogIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7CiAgICBmaWxlbmFtZSwKICAgIG1vZHVsZTogZ2V0TW9kdWxlRnJvbUZpbGVuYW1lKGZpbGVuYW1lKSwKICAgIGZ1bmN0aW9uOiBmcmFtZS5mdW5jdGlvbk5hbWUgfHwgJz8nLAogICAgY29sbm8sCiAgICBsaW5lbm8sCiAgICBpbl9hcHA6IGZpbGVuYW1lID8gZmlsZW5hbWVJc0luQXBwKGZpbGVuYW1lKSA6IHVuZGVmaW5lZCwKICB9KTsKfQoKLyoqCiAqIFRoaXMgc2VydmVzIGFzIGEgYnVpbGQgdGltZSBmbGFnIHRoYXQgd2lsbCBiZSB0cnVlIGJ5IGRlZmF1bHQsIGJ1dCBmYWxzZSBpbiBub24tZGVidWcgYnVpbGRzIG9yIGlmIHVzZXJzIHJlcGxhY2UgYF9fU0VOVFJZX0RFQlVHX19gIGluIHRoZWlyIGdlbmVyYXRlZCBjb2RlLgogKgogKiBBVFRFTlRJT046IFRoaXMgY29uc3RhbnQgbXVzdCBuZXZlciBjcm9zcyBwYWNrYWdlIGJvdW5kYXJpZXMgKGkuZS4gYmUgZXhwb3J0ZWQpIHRvIGd1YXJhbnRlZSB0aGF0IGl0IGNhbiBiZSB1c2VkIGZvciB0cmVlIHNoYWtpbmcuCiAqLwpjb25zdCBERUJVR19CVUlMRCA9ICh0eXBlb2YgX19TRU5UUllfREVCVUdfXyA9PT0gJ3VuZGVmaW5lZCcgfHwgX19TRU5UUllfREVCVUdfXyk7CgovKioKICogQ3JlYXRlcyBhIG5ldyBgU2Vzc2lvbmAgb2JqZWN0IGJ5IHNldHRpbmcgY2VydGFpbiBkZWZhdWx0IHBhcmFtZXRlcnMuIElmIG9wdGlvbmFsIEBwYXJhbSBjb250ZXh0CiAqIGlzIHBhc3NlZCwgdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIGFyZSBhcHBsaWVkIHRvIHRoZSBzZXNzaW9uIG9iamVjdC4KICoKICogQHBhcmFtIGNvbnRleHQgKG9wdGlvbmFsKSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgcmV0dXJuZWQgc2Vzc2lvbiBvYmplY3QKICoKICogQHJldHVybnMgYSBuZXcgYFNlc3Npb25gIG9iamVjdAogKi8KZnVuY3Rpb24gbWFrZVNlc3Npb24oY29udGV4dCkgewogIC8vIEJvdGggdGltZXN0YW1wIGFuZCBzdGFydGVkIGFyZSBpbiBzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoLgogIGNvbnN0IHN0YXJ0aW5nVGltZSA9IHRpbWVzdGFtcEluU2Vjb25kcygpOwoKICBjb25zdCBzZXNzaW9uID0gewogICAgc2lkOiB1dWlkNCgpLAogICAgaW5pdDogdHJ1ZSwKICAgIHRpbWVzdGFtcDogc3RhcnRpbmdUaW1lLAogICAgc3RhcnRlZDogc3RhcnRpbmdUaW1lLAogICAgZHVyYXRpb246IDAsCiAgICBzdGF0dXM6ICdvaycsCiAgICBlcnJvcnM6IDAsCiAgICBpZ25vcmVEdXJhdGlvbjogZmFsc2UsCiAgICB0b0pTT046ICgpID0+IHNlc3Npb25Ub0pTT04oc2Vzc2lvbiksCiAgfTsKCiAgaWYgKGNvbnRleHQpIHsKICAgIHVwZGF0ZVNlc3Npb24oc2Vzc2lvbiwgY29udGV4dCk7CiAgfQoKICByZXR1cm4gc2Vzc2lvbjsKfQoKLyoqCiAqIFVwZGF0ZXMgYSBzZXNzaW9uIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHBhc3NlZCBpbiB0aGUgY29udGV4dC4KICoKICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gbXV0YXRlcyB0aGUgcGFzc2VkIG9iamVjdCBhbmQgcmV0dXJucyB2b2lkLgogKiAoSGFkIHRvIGRvIHRoaXMgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgYW5kIHVwZGF0ZWQgc2Vzc2lvbiBiZWNhdXNlIGNsb3NpbmcgYW5kIHNlbmRpbmcgYSBzZXNzaW9uCiAqIG1ha2VzIGFuIHVwZGF0ZSB0byB0aGUgc2Vzc2lvbiBhZnRlciBpdCB3YXMgcGFzc2VkIHRvIHRoZSBzZW5kaW5nIGxvZ2ljLgogKiBAc2VlIEJhc2VDbGllbnQuY2FwdHVyZVNlc3Npb24gKQogKgogKiBAcGFyYW0gc2Vzc2lvbiB0aGUgYFNlc3Npb25gIHRvIHVwZGF0ZQogKiBAcGFyYW0gY29udGV4dCB0aGUgYFNlc3Npb25Db250ZXh0YCBob2xkaW5nIHRoZSBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIGJlIHVwZGF0ZWQgaW4gQHBhcmFtIHNlc3Npb24KICovCi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5CmZ1bmN0aW9uIHVwZGF0ZVNlc3Npb24oc2Vzc2lvbiwgY29udGV4dCA9IHt9KSB7CiAgaWYgKGNvbnRleHQudXNlcikgewogICAgaWYgKCFzZXNzaW9uLmlwQWRkcmVzcyAmJiBjb250ZXh0LnVzZXIuaXBfYWRkcmVzcykgewogICAgICBzZXNzaW9uLmlwQWRkcmVzcyA9IGNvbnRleHQudXNlci5pcF9hZGRyZXNzOwogICAgfQoKICAgIGlmICghc2Vzc2lvbi5kaWQgJiYgIWNvbnRleHQuZGlkKSB7CiAgICAgIHNlc3Npb24uZGlkID0gY29udGV4dC51c2VyLmlkIHx8IGNvbnRleHQudXNlci5lbWFpbCB8fCBjb250ZXh0LnVzZXIudXNlcm5hbWU7CiAgICB9CiAgfQoKICBzZXNzaW9uLnRpbWVzdGFtcCA9IGNvbnRleHQudGltZXN0YW1wIHx8IHRpbWVzdGFtcEluU2Vjb25kcygpOwoKICBpZiAoY29udGV4dC5hYm5vcm1hbF9tZWNoYW5pc20pIHsKICAgIHNlc3Npb24uYWJub3JtYWxfbWVjaGFuaXNtID0gY29udGV4dC5hYm5vcm1hbF9tZWNoYW5pc207CiAgfQoKICBpZiAoY29udGV4dC5pZ25vcmVEdXJhdGlvbikgewogICAgc2Vzc2lvbi5pZ25vcmVEdXJhdGlvbiA9IGNvbnRleHQuaWdub3JlRHVyYXRpb247CiAgfQogIGlmIChjb250ZXh0LnNpZCkgewogICAgLy8gR29vZCBlbm91Z2ggdXVpZCB2YWxpZGF0aW9uLiDigJQgS2FtaWwKICAgIHNlc3Npb24uc2lkID0gY29udGV4dC5zaWQubGVuZ3RoID09PSAzMiA/IGNvbnRleHQuc2lkIDogdXVpZDQoKTsKICB9CiAgaWYgKGNvbnRleHQuaW5pdCAhPT0gdW5kZWZpbmVkKSB7CiAgICBzZXNzaW9uLmluaXQgPSBjb250ZXh0LmluaXQ7CiAgfQogIGlmICghc2Vzc2lvbi5kaWQgJiYgY29udGV4dC5kaWQpIHsKICAgIHNlc3Npb24uZGlkID0gYCR7Y29udGV4dC5kaWR9YDsKICB9CiAgaWYgKHR5cGVvZiBjb250ZXh0LnN0YXJ0ZWQgPT09ICdudW1iZXInKSB7CiAgICBzZXNzaW9uLnN0YXJ0ZWQgPSBjb250ZXh0LnN0YXJ0ZWQ7CiAgfQogIGlmIChzZXNzaW9uLmlnbm9yZUR1cmF0aW9uKSB7CiAgICBzZXNzaW9uLmR1cmF0aW9uID0gdW5kZWZpbmVkOwogIH0gZWxzZSBpZiAodHlwZW9mIGNvbnRleHQuZHVyYXRpb24gPT09ICdudW1iZXInKSB7CiAgICBzZXNzaW9uLmR1cmF0aW9uID0gY29udGV4dC5kdXJhdGlvbjsKICB9IGVsc2UgewogICAgY29uc3QgZHVyYXRpb24gPSBzZXNzaW9uLnRpbWVzdGFtcCAtIHNlc3Npb24uc3RhcnRlZDsKICAgIHNlc3Npb24uZHVyYXRpb24gPSBkdXJhdGlvbiA+PSAwID8gZHVyYXRpb24gOiAwOwogIH0KICBpZiAoY29udGV4dC5yZWxlYXNlKSB7CiAgICBzZXNzaW9uLnJlbGVhc2UgPSBjb250ZXh0LnJlbGVhc2U7CiAgfQogIGlmIChjb250ZXh0LmVudmlyb25tZW50KSB7CiAgICBzZXNzaW9uLmVudmlyb25tZW50ID0gY29udGV4dC5lbnZpcm9ubWVudDsKICB9CiAgaWYgKCFzZXNzaW9uLmlwQWRkcmVzcyAmJiBjb250ZXh0LmlwQWRkcmVzcykgewogICAgc2Vzc2lvbi5pcEFkZHJlc3MgPSBjb250ZXh0LmlwQWRkcmVzczsKICB9CiAgaWYgKCFzZXNzaW9uLnVzZXJBZ2VudCAmJiBjb250ZXh0LnVzZXJBZ2VudCkgewogICAgc2Vzc2lvbi51c2VyQWdlbnQgPSBjb250ZXh0LnVzZXJBZ2VudDsKICB9CiAgaWYgKHR5cGVvZiBjb250ZXh0LmVycm9ycyA9PT0gJ251bWJlcicpIHsKICAgIHNlc3Npb24uZXJyb3JzID0gY29udGV4dC5lcnJvcnM7CiAgfQogIGlmIChjb250ZXh0LnN0YXR1cykgewogICAgc2Vzc2lvbi5zdGF0dXMgPSBjb250ZXh0LnN0YXR1czsKICB9Cn0KCi8qKgogKiBTZXJpYWxpemVzIGEgcGFzc2VkIHNlc3Npb24gb2JqZWN0IHRvIGEgSlNPTiBvYmplY3Qgd2l0aCBhIHNsaWdodGx5IGRpZmZlcmVudCBzdHJ1Y3R1cmUuCiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgdGhlIFNlbnRyeSBiYWNrZW5kIHJlcXVpcmVzIGEgc2xpZ2h0bHkgZGlmZmVyZW50IHNjaGVtYSBvZiBhIHNlc3Npb24KICogdGhhbiB0aGUgb25lIHRoZSBKUyBTREtzIHVzZSBpbnRlcm5hbGx5LgogKgogKiBAcGFyYW0gc2Vzc2lvbiB0aGUgc2Vzc2lvbiB0byBiZSBjb252ZXJ0ZWQKICoKICogQHJldHVybnMgYSBKU09OIG9iamVjdCBvZiB0aGUgcGFzc2VkIHNlc3Npb24KICovCmZ1bmN0aW9uIHNlc3Npb25Ub0pTT04oc2Vzc2lvbikgewogIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7CiAgICBzaWQ6IGAke3Nlc3Npb24uc2lkfWAsCiAgICBpbml0OiBzZXNzaW9uLmluaXQsCiAgICAvLyBNYWtlIHN1cmUgdGhhdCBzZWMgaXMgY29udmVydGVkIHRvIG1zIGZvciBkYXRlIGNvbnN0cnVjdG9yCiAgICBzdGFydGVkOiBuZXcgRGF0ZShzZXNzaW9uLnN0YXJ0ZWQgKiAxMDAwKS50b0lTT1N0cmluZygpLAogICAgdGltZXN0YW1wOiBuZXcgRGF0ZShzZXNzaW9uLnRpbWVzdGFtcCAqIDEwMDApLnRvSVNPU3RyaW5nKCksCiAgICBzdGF0dXM6IHNlc3Npb24uc3RhdHVzLAogICAgZXJyb3JzOiBzZXNzaW9uLmVycm9ycywKICAgIGRpZDogdHlwZW9mIHNlc3Npb24uZGlkID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygc2Vzc2lvbi5kaWQgPT09ICdzdHJpbmcnID8gYCR7c2Vzc2lvbi5kaWR9YCA6IHVuZGVmaW5lZCwKICAgIGR1cmF0aW9uOiBzZXNzaW9uLmR1cmF0aW9uLAogICAgYWJub3JtYWxfbWVjaGFuaXNtOiBzZXNzaW9uLmFibm9ybWFsX21lY2hhbmlzbSwKICAgIGF0dHJzOiB7CiAgICAgIHJlbGVhc2U6IHNlc3Npb24ucmVsZWFzZSwKICAgICAgZW52aXJvbm1lbnQ6IHNlc3Npb24uZW52aXJvbm1lbnQsCiAgICAgIGlwX2FkZHJlc3M6IHNlc3Npb24uaXBBZGRyZXNzLAogICAgICB1c2VyX2FnZW50OiBzZXNzaW9uLnVzZXJBZ2VudCwKICAgIH0sCiAgfSk7Cn0KCi8qKgogKiBBcHBseSBTZGtJbmZvIChuYW1lLCB2ZXJzaW9uLCBwYWNrYWdlcywgaW50ZWdyYXRpb25zKSB0byB0aGUgY29ycmVzcG9uZGluZyBldmVudCBrZXkuCiAqIE1lcmdlIHdpdGggZXhpc3RpbmcgZGF0YSBpZiBhbnkuCiAqKi8KZnVuY3Rpb24gZW5oYW5jZUV2ZW50V2l0aFNka0luZm8oZXZlbnQsIHNka0luZm8pIHsKICBpZiAoIXNka0luZm8pIHsKICAgIHJldHVybiBldmVudDsKICB9CiAgZXZlbnQuc2RrID0gZXZlbnQuc2RrIHx8IHt9OwogIGV2ZW50LnNkay5uYW1lID0gZXZlbnQuc2RrLm5hbWUgfHwgc2RrSW5mby5uYW1lOwogIGV2ZW50LnNkay52ZXJzaW9uID0gZXZlbnQuc2RrLnZlcnNpb24gfHwgc2RrSW5mby52ZXJzaW9uOwogIGV2ZW50LnNkay5pbnRlZ3JhdGlvbnMgPSBbLi4uKGV2ZW50LnNkay5pbnRlZ3JhdGlvbnMgfHwgW10pLCAuLi4oc2RrSW5mby5pbnRlZ3JhdGlvbnMgfHwgW10pXTsKICBldmVudC5zZGsucGFja2FnZXMgPSBbLi4uKGV2ZW50LnNkay5wYWNrYWdlcyB8fCBbXSksIC4uLihzZGtJbmZvLnBhY2thZ2VzIHx8IFtdKV07CiAgcmV0dXJuIGV2ZW50Owp9CgovKiogQ3JlYXRlcyBhbiBlbnZlbG9wZSBmcm9tIGEgU2Vzc2lvbiAqLwpmdW5jdGlvbiBjcmVhdGVTZXNzaW9uRW52ZWxvcGUoCiAgc2Vzc2lvbiwKICBkc24sCiAgbWV0YWRhdGEsCiAgdHVubmVsLAopIHsKICBjb25zdCBzZGtJbmZvID0gZ2V0U2RrTWV0YWRhdGFGb3JFbnZlbG9wZUhlYWRlcihtZXRhZGF0YSk7CiAgY29uc3QgZW52ZWxvcGVIZWFkZXJzID0gewogICAgc2VudF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLAogICAgLi4uKHNka0luZm8gJiYgeyBzZGs6IHNka0luZm8gfSksCiAgICAuLi4oISF0dW5uZWwgJiYgZHNuICYmIHsgZHNuOiBkc25Ub1N0cmluZyhkc24pIH0pLAogIH07CgogIGNvbnN0IGVudmVsb3BlSXRlbSA9CiAgICAnYWdncmVnYXRlcycgaW4gc2Vzc2lvbiA/IFt7IHR5cGU6ICdzZXNzaW9ucycgfSwgc2Vzc2lvbl0gOiBbeyB0eXBlOiAnc2Vzc2lvbicgfSwgc2Vzc2lvbi50b0pTT04oKV07CgogIHJldHVybiBjcmVhdGVFbnZlbG9wZShlbnZlbG9wZUhlYWRlcnMsIFtlbnZlbG9wZUl0ZW1dKTsKfQoKLyoqCiAqIENyZWF0ZSBhbiBFbnZlbG9wZSBmcm9tIGFuIGV2ZW50LgogKi8KZnVuY3Rpb24gY3JlYXRlRXZlbnRFbnZlbG9wZSgKICBldmVudCwKICBkc24sCiAgbWV0YWRhdGEsCiAgdHVubmVsLAopIHsKICBjb25zdCBzZGtJbmZvID0gZ2V0U2RrTWV0YWRhdGFGb3JFbnZlbG9wZUhlYWRlcihtZXRhZGF0YSk7CgogIC8qCiAgICBOb3RlOiBEdWUgdG8gVFMsIGV2ZW50LnR5cGUgbWF5IGJlIGByZXBsYXlfZXZlbnRgLCB0aGVvcmV0aWNhbGx5LgogICAgSW4gcHJhY3RpY2UsIHdlIG5ldmVyIGNhbGwgYGNyZWF0ZUV2ZW50RW52ZWxvcGVgIHdpdGggYHJlcGxheV9ldmVudGAgdHlwZSwKICAgIGFuZCB3ZSdkIGhhdmUgdG8gYWRqdXQgYSBsb29vdCBvZiB0eXBlcyB0byBtYWtlIHRoaXMgd29yayBwcm9wZXJseS4KICAgIFdlIHdhbnQgdG8gYXZvaWQgY2FzdGluZyB0aGlzIGFyb3VuZCwgYXMgdGhhdCBjb3VsZCBsZWFkIHRvIGJ1Z3MgKGUuZy4gd2hlbiB3ZSBhZGQgYW5vdGhlciB0eXBlKQogICAgU28gdGhlIHNhZmUgY2hvaWNlIGlzIHRvIHJlYWxseSBndWFyZCBhZ2FpbnN0IHRoZSByZXBsYXlfZXZlbnQgdHlwZSBoZXJlLgogICovCiAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQudHlwZSAmJiBldmVudC50eXBlICE9PSAncmVwbGF5X2V2ZW50JyA/IGV2ZW50LnR5cGUgOiAnZXZlbnQnOwoKICBlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyhldmVudCwgbWV0YWRhdGEgJiYgbWV0YWRhdGEuc2RrKTsKCiAgY29uc3QgZW52ZWxvcGVIZWFkZXJzID0gY3JlYXRlRXZlbnRFbnZlbG9wZUhlYWRlcnMoZXZlbnQsIHNka0luZm8sIHR1bm5lbCwgZHNuKTsKCiAgLy8gUHJldmVudCB0aGlzIGRhdGEgKHdoaWNoLCBpZiBpdCBleGlzdHMsIHdhcyB1c2VkIGluIGVhcmxpZXIgc3RlcHMgaW4gdGhlIHByb2Nlc3NpbmcgcGlwZWxpbmUpIGZyb20gYmVpbmcgc2VudCB0bwogIC8vIHNlbnRyeS4gKE5vdGU6IE91ciB1c2Ugb2YgdGhpcyBwcm9wZXJ0eSBjb21lcyBhbmQgZ29lcyB3aXRoIHdoYXRldmVyIHdlIG1pZ2h0IGJlIGRlYnVnZ2luZywgd2hhdGV2ZXIgaGFja3Mgd2UgbWF5CiAgLy8gaGF2ZSB0ZW1wb3JhcmlseSBhZGRlZCwgZXRjLiBFdmVuIGlmIHdlIGRvbid0IGhhcHBlbiB0byBiZSB1c2luZyBpdCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUsIGxldCdzIG5vdCBnZXQgcmlkCiAgLy8gb2YgdGhpcyBgZGVsZXRlYCwgbGVzdCB3ZSBtaXNzIHB1dHRpbmcgaXQgYmFjayBpbiB0aGUgbmV4dCB0aW1lIHRoZSBwcm9wZXJ0eSBpcyBpbiB1c2UuKQogIGRlbGV0ZSBldmVudC5zZGtQcm9jZXNzaW5nTWV0YWRhdGE7CgogIGNvbnN0IGV2ZW50SXRlbSA9IFt7IHR5cGU6IGV2ZW50VHlwZSB9LCBldmVudF07CiAgcmV0dXJuIGNyZWF0ZUVudmVsb3BlKGVudmVsb3BlSGVhZGVycywgW2V2ZW50SXRlbV0pOwp9Cgpjb25zdCBTRU5UUllfQVBJX1ZFUlNJT04gPSAnNyc7CgovKiogUmV0dXJucyB0aGUgcHJlZml4IHRvIGNvbnN0cnVjdCBTZW50cnkgaW5nZXN0aW9uIEFQSSBlbmRwb2ludHMuICovCmZ1bmN0aW9uIGdldEJhc2VBcGlFbmRwb2ludChkc24pIHsKICBjb25zdCBwcm90b2NvbCA9IGRzbi5wcm90b2NvbCA/IGAke2Rzbi5wcm90b2NvbH06YCA6ICcnOwogIGNvbnN0IHBvcnQgPSBkc24ucG9ydCA/IGA6JHtkc24ucG9ydH1gIDogJyc7CiAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtkc24uaG9zdH0ke3BvcnR9JHtkc24ucGF0aCA/IGAvJHtkc24ucGF0aH1gIDogJyd9L2FwaS9gOwp9CgovKiogUmV0dXJucyB0aGUgaW5nZXN0IEFQSSBlbmRwb2ludCBmb3IgdGFyZ2V0LiAqLwpmdW5jdGlvbiBfZ2V0SW5nZXN0RW5kcG9pbnQoZHNuKSB7CiAgcmV0dXJuIGAke2dldEJhc2VBcGlFbmRwb2ludChkc24pfSR7ZHNuLnByb2plY3RJZH0vZW52ZWxvcGUvYDsKfQoKLyoqIFJldHVybnMgYSBVUkwtZW5jb2RlZCBzdHJpbmcgd2l0aCBhdXRoIGNvbmZpZyBzdWl0YWJsZSBmb3IgYSBxdWVyeSBzdHJpbmcuICovCmZ1bmN0aW9uIF9lbmNvZGVkQXV0aChkc24sIHNka0luZm8pIHsKICByZXR1cm4gdXJsRW5jb2RlKHsKICAgIC8vIFdlIHNlbmQgb25seSB0aGUgbWluaW11bSBzZXQgb2YgcmVxdWlyZWQgaW5mb3JtYXRpb24uIFNlZQogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU3Mi4KICAgIHNlbnRyeV9rZXk6IGRzbi5wdWJsaWNLZXksCiAgICBzZW50cnlfdmVyc2lvbjogU0VOVFJZX0FQSV9WRVJTSU9OLAogICAgLi4uKHNka0luZm8gJiYgeyBzZW50cnlfY2xpZW50OiBgJHtzZGtJbmZvLm5hbWV9LyR7c2RrSW5mby52ZXJzaW9ufWAgfSksCiAgfSk7Cn0KCi8qKgogKiBSZXR1cm5zIHRoZSBlbnZlbG9wZSBlbmRwb2ludCBVUkwgd2l0aCBhdXRoIGluIHRoZSBxdWVyeSBzdHJpbmcuCiAqCiAqIFNlbmRpbmcgYXV0aCBhcyBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmcgYW5kIG5vdCBhcyBjdXN0b20gSFRUUCBoZWFkZXJzIGF2b2lkcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cy4KICovCmZ1bmN0aW9uIGdldEVudmVsb3BlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGgoCiAgZHNuLAogIC8vIFRPRE8gKHY4KTogUmVtb3ZlIGB0dW5uZWxPck9wdGlvbnNgIGluIGZhdm9yIG9mIGBvcHRpb25zYCwgYW5kIHVzZSB0aGUgc3Vic3RpdHV0ZSBjb2RlIGJlbG93CiAgLy8gb3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHt9IGFzIENsaWVudE9wdGlvbnMsCiAgdHVubmVsT3JPcHRpb25zID0ge30gLAopIHsKICAvLyBUT0RPICh2OCk6IFVzZSB0aGlzIGNvZGUgaW5zdGVhZAogIC8vIGNvbnN0IHsgdHVubmVsLCBfbWV0YWRhdGEgPSB7fSB9ID0gb3B0aW9uczsKICAvLyByZXR1cm4gdHVubmVsID8gdHVubmVsIDogYCR7X2dldEluZ2VzdEVuZHBvaW50KGRzbil9PyR7X2VuY29kZWRBdXRoKGRzbiwgX21ldGFkYXRhLnNkayl9YDsKCiAgY29uc3QgdHVubmVsID0gdHlwZW9mIHR1bm5lbE9yT3B0aW9ucyA9PT0gJ3N0cmluZycgPyB0dW5uZWxPck9wdGlvbnMgOiB0dW5uZWxPck9wdGlvbnMudHVubmVsOwogIGNvbnN0IHNka0luZm8gPQogICAgdHlwZW9mIHR1bm5lbE9yT3B0aW9ucyA9PT0gJ3N0cmluZycgfHwgIXR1bm5lbE9yT3B0aW9ucy5fbWV0YWRhdGEgPyB1bmRlZmluZWQgOiB0dW5uZWxPck9wdGlvbnMuX21ldGFkYXRhLnNkazsKCiAgcmV0dXJuIHR1bm5lbCA/IHR1bm5lbCA6IGAke19nZXRJbmdlc3RFbmRwb2ludChkc24pfT8ke19lbmNvZGVkQXV0aChkc24sIHNka0luZm8pfWA7Cn0KCmNvbnN0IERFRkFVTFRfVFJBTlNQT1JUX0JVRkZFUl9TSVpFID0gMzA7CgovKioKICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFNlbnRyeSBgVHJhbnNwb3J0YAogKgogKiBAcGFyYW0gb3B0aW9ucwogKiBAcGFyYW0gbWFrZVJlcXVlc3QKICovCmZ1bmN0aW9uIGNyZWF0ZVRyYW5zcG9ydCgKICBvcHRpb25zLAogIG1ha2VSZXF1ZXN0LAogIGJ1ZmZlciA9IG1ha2VQcm9taXNlQnVmZmVyKAogICAgb3B0aW9ucy5idWZmZXJTaXplIHx8IERFRkFVTFRfVFJBTlNQT1JUX0JVRkZFUl9TSVpFLAogICksCikgewogIGxldCByYXRlTGltaXRzID0ge307CiAgY29uc3QgZmx1c2ggPSAodGltZW91dCkgPT4gYnVmZmVyLmRyYWluKHRpbWVvdXQpOwoKICBmdW5jdGlvbiBzZW5kKGVudmVsb3BlKSB7CiAgICBjb25zdCBmaWx0ZXJlZEVudmVsb3BlSXRlbXMgPSBbXTsKCiAgICAvLyBEcm9wIHJhdGUgbGltaXRlZCBpdGVtcyBmcm9tIGVudmVsb3BlCiAgICBmb3JFYWNoRW52ZWxvcGVJdGVtKGVudmVsb3BlLCAoaXRlbSwgdHlwZSkgPT4gewogICAgICBjb25zdCBlbnZlbG9wZUl0ZW1EYXRhQ2F0ZWdvcnkgPSBlbnZlbG9wZUl0ZW1UeXBlVG9EYXRhQ2F0ZWdvcnkodHlwZSk7CiAgICAgIGlmIChpc1JhdGVMaW1pdGVkKHJhdGVMaW1pdHMsIGVudmVsb3BlSXRlbURhdGFDYXRlZ29yeSkpIHsKICAgICAgICBjb25zdCBldmVudCA9IGdldEV2ZW50Rm9yRW52ZWxvcGVJdGVtKGl0ZW0sIHR5cGUpOwogICAgICAgIG9wdGlvbnMucmVjb3JkRHJvcHBlZEV2ZW50KCdyYXRlbGltaXRfYmFja29mZicsIGVudmVsb3BlSXRlbURhdGFDYXRlZ29yeSwgZXZlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIGZpbHRlcmVkRW52ZWxvcGVJdGVtcy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9KTsKCiAgICAvLyBTa2lwIHNlbmRpbmcgaWYgZW52ZWxvcGUgaXMgZW1wdHkgYWZ0ZXIgZmlsdGVyaW5nIG91dCByYXRlIGxpbWl0ZWQgZXZlbnRzCiAgICBpZiAoZmlsdGVyZWRFbnZlbG9wZUl0ZW1zLmxlbmd0aCA9PT0gMCkgewogICAgICByZXR1cm4gcmVzb2x2ZWRTeW5jUHJvbWlzZSgpOwogICAgfQoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55CiAgICBjb25zdCBmaWx0ZXJlZEVudmVsb3BlID0gY3JlYXRlRW52ZWxvcGUoZW52ZWxvcGVbMF0sIGZpbHRlcmVkRW52ZWxvcGVJdGVtcyApOwoKICAgIC8vIENyZWF0ZXMgY2xpZW50IHJlcG9ydCBmb3IgZWFjaCBpdGVtIGluIGFuIGVudmVsb3BlCiAgICBjb25zdCByZWNvcmRFbnZlbG9wZUxvc3MgPSAocmVhc29uKSA9PiB7CiAgICAgIGZvckVhY2hFbnZlbG9wZUl0ZW0oZmlsdGVyZWRFbnZlbG9wZSwgKGl0ZW0sIHR5cGUpID0+IHsKICAgICAgICBjb25zdCBldmVudCA9IGdldEV2ZW50Rm9yRW52ZWxvcGVJdGVtKGl0ZW0sIHR5cGUpOwogICAgICAgIG9wdGlvbnMucmVjb3JkRHJvcHBlZEV2ZW50KHJlYXNvbiwgZW52ZWxvcGVJdGVtVHlwZVRvRGF0YUNhdGVnb3J5KHR5cGUpLCBldmVudCk7CiAgICAgIH0pOwogICAgfTsKCiAgICBjb25zdCByZXF1ZXN0VGFzayA9ICgpID0+CiAgICAgIG1ha2VSZXF1ZXN0KHsgYm9keTogc2VyaWFsaXplRW52ZWxvcGUoZmlsdGVyZWRFbnZlbG9wZSwgb3B0aW9ucy50ZXh0RW5jb2RlcikgfSkudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIHRocm93IG9uIE5PSyByZXNwb25zZXMsIGJ1dCB3ZSB3YW50IHRvIGF0IGxlYXN0IGxvZyB0aGVtCiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSAhPT0gdW5kZWZpbmVkICYmIChyZXNwb25zZS5zdGF0dXNDb2RlIDwgMjAwIHx8IHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gMzAwKSkgewogICAgICAgICAgICBERUJVR19CVUlMRCAmJiBsb2dnZXIud2FybihgU2VudHJ5IHJlc3BvbmRlZCB3aXRoIHN0YXR1cyBjb2RlICR7cmVzcG9uc2Uuc3RhdHVzQ29kZX0gdG8gc2VudCBldmVudC5gKTsKICAgICAgICAgIH0KCiAgICAgICAgICByYXRlTGltaXRzID0gdXBkYXRlUmF0ZUxpbWl0cyhyYXRlTGltaXRzLCByZXNwb25zZSk7CiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgfSwKICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICByZWNvcmRFbnZlbG9wZUxvc3MoJ25ldHdvcmtfZXJyb3InKTsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0sCiAgICAgICk7CgogICAgcmV0dXJuIGJ1ZmZlci5hZGQocmVxdWVzdFRhc2spLnRoZW4oCiAgICAgIHJlc3VsdCA9PiByZXN1bHQsCiAgICAgIGVycm9yID0+IHsKICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBTZW50cnlFcnJvcikgewogICAgICAgICAgREVCVUdfQlVJTEQgJiYgbG9nZ2VyLmVycm9yKCdTa2lwcGVkIHNlbmRpbmcgZXZlbnQgYmVjYXVzZSBidWZmZXIgaXMgZnVsbC4nKTsKICAgICAgICAgIHJlY29yZEVudmVsb3BlTG9zcygncXVldWVfb3ZlcmZsb3cnKTsKICAgICAgICAgIHJldHVybiByZXNvbHZlZFN5bmNQcm9taXNlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRocm93IGVycm9yOwogICAgICAgIH0KICAgICAgfSwKICAgICk7CiAgfQoKICAvLyBXZSB1c2UgdGhpcyB0byBpZGVudGlmaWZ5IGlmIHRoZSB0cmFuc3BvcnQgaXMgdGhlIGJhc2UgdHJhbnNwb3J0CiAgLy8gVE9ETyAodjgpOiBSZW1vdmUgdGhpcyBhZ2FpbiBhcyB3ZSdsbCBubyBsb25nZXIgbmVlZCBpdAogIHNlbmQuX19zZW50cnlfX2Jhc2VUcmFuc3BvcnRfXyA9IHRydWU7CgogIHJldHVybiB7CiAgICBzZW5kLAogICAgZmx1c2gsCiAgfTsKfQoKZnVuY3Rpb24gZ2V0RXZlbnRGb3JFbnZlbG9wZUl0ZW0oaXRlbSwgdHlwZSkgewogIGlmICh0eXBlICE9PSAnZXZlbnQnICYmIHR5cGUgIT09ICd0cmFuc2FjdGlvbicpIHsKICAgIHJldHVybiB1bmRlZmluZWQ7CiAgfQoKICByZXR1cm4gQXJyYXkuaXNBcnJheShpdGVtKSA/IChpdGVtIClbMV0gOiB1bmRlZmluZWQ7Cn0KCi8qKiBub3JtYWxpemVzIFdpbmRvd3MgcGF0aHMgKi8KZnVuY3Rpb24gbm9ybWFsaXplV2luZG93c1BhdGgocGF0aCkgewogIHJldHVybiBwYXRoCiAgICAucmVwbGFjZSgvXltBLVpdOi8sICcnKSAvLyByZW1vdmUgV2luZG93cy1zdHlsZSBwcmVmaXgKICAgIC5yZXBsYWNlKC9cXC9nLCAnLycpOyAvLyByZXBsYWNlIGFsbCBgXGAgaW5zdGFuY2VzIHdpdGggYC9gCn0KCi8qKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBtb2R1bGUgbmFtZSBmcm9tIGEgZmlsZW5hbWUgKi8KZnVuY3Rpb24gY3JlYXRlR2V0TW9kdWxlRnJvbUZpbGVuYW1lKAogIGJhc2VQYXRoID0gcHJvY2Vzcy5hcmd2WzFdID8gZGlybmFtZShwcm9jZXNzLmFyZ3ZbMV0pIDogcHJvY2Vzcy5jd2QoKSwKICBpc1dpbmRvd3MgPSBzZXAgPT09ICdcXCcsCikgewogIGNvbnN0IG5vcm1hbGl6ZWRCYXNlID0gaXNXaW5kb3dzID8gbm9ybWFsaXplV2luZG93c1BhdGgoYmFzZVBhdGgpIDogYmFzZVBhdGg7CgogIHJldHVybiAoZmlsZW5hbWUpID0+IHsKICAgIGlmICghZmlsZW5hbWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWxlbmFtZSA9IGlzV2luZG93cyA/IG5vcm1hbGl6ZVdpbmRvd3NQYXRoKGZpbGVuYW1lKSA6IGZpbGVuYW1lOwoKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3QKICAgIGxldCB7IGRpciwgYmFzZTogZmlsZSwgZXh0IH0gPSBwb3NpeC5wYXJzZShub3JtYWxpemVkRmlsZW5hbWUpOwoKICAgIGlmIChleHQgPT09ICcuanMnIHx8IGV4dCA9PT0gJy5tanMnIHx8IGV4dCA9PT0gJy5janMnKSB7CiAgICAgIGZpbGUgPSBmaWxlLnNsaWNlKDAsIGV4dC5sZW5ndGggKiAtMSk7CiAgICB9CgogICAgaWYgKCFkaXIpIHsKICAgICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyCiAgICAgIGRpciA9ICcuJzsKICAgIH0KCiAgICBjb25zdCBuID0gZGlyLmxhc3RJbmRleE9mKCcvbm9kZV9tb2R1bGVzJyk7CiAgICBpZiAobiA+IC0xKSB7CiAgICAgIHJldHVybiBgJHtkaXIuc2xpY2UobiArIDE0KS5yZXBsYWNlKC9cLy9nLCAnLicpfToke2ZpbGV9YDsKICAgIH0KCiAgICAvLyBMZXQncyBzZWUgaWYgaXQncyBhIHBhcnQgb2YgdGhlIG1haW4gbW9kdWxlCiAgICAvLyBUbyBiZSBhIHBhcnQgb2YgbWFpbiBtb2R1bGUsIGl0IGhhcyB0byBzaGFyZSB0aGUgc2FtZSBiYXNlCiAgICBpZiAoZGlyLnN0YXJ0c1dpdGgobm9ybWFsaXplZEJhc2UpKSB7CiAgICAgIGxldCBtb2R1bGVOYW1lID0gZGlyLnNsaWNlKG5vcm1hbGl6ZWRCYXNlLmxlbmd0aCArIDEpLnJlcGxhY2UoL1wvL2csICcuJyk7CgogICAgICBpZiAobW9kdWxlTmFtZSkgewogICAgICAgIG1vZHVsZU5hbWUgKz0gJzonOwogICAgICB9CiAgICAgIG1vZHVsZU5hbWUgKz0gZmlsZTsKCiAgICAgIHJldHVybiBtb2R1bGVOYW1lOwogICAgfQoKICAgIHJldHVybiBmaWxlOwogIH07Cn0KCmZ1bmN0aW9uIF9udWxsaXNoQ29hbGVzY2UkMihsaHMsIHJoc0ZuKSB7IGlmIChsaHMgIT0gbnVsbCkgeyByZXR1cm4gbGhzOyB9IGVsc2UgeyByZXR1cm4gcmhzRm4oKTsgfSB9LyoqCiAqIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSBmb3JrZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vVG9vVGFsbE5hdGUvcHJveHktYWdlbnRzL3RyZWUvYjEzMzI5NWZkMTZmNjQ3NTU3OGI2YjE1YmQ5YjRlMzNlY2IwZDBiNwogKiBXaXRoIHRoZSBmb2xsb3dpbmcgbGljZW5jZToKICoKICogKFRoZSBNSVQgTGljZW5zZSkKICoKICogQ29weXJpZ2h0IChjKSAyMDEzIE5hdGhhbiBSYWpsaWNoIDxuYXRoYW5AdG9vdGFsbG5hdGUubmV0PioKICoKICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nCiAqIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZQogKiAnU29mdHdhcmUnKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCiAqIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwKICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvCiAqIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0bwogKiB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6KgogKgogKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZQogKiBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4qCiAqCiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELAogKiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULgogKiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWQogKiBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULAogKiBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRQogKiBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KICovCgpjb25zdCBJTlRFUk5BTCA9IFN5bWJvbCgnQWdlbnRCYXNlSW50ZXJuYWxTdGF0ZScpOwoKY2xhc3MgQWdlbnQgZXh0ZW5kcyBodHRwLkFnZW50IHsKCiAgLy8gU2V0IGJ5IGBodHRwLkFnZW50YCAtIG1pc3NpbmcgZnJvbSBgQHR5cGVzL25vZGVgCgogIGNvbnN0cnVjdG9yKG9wdHMpIHsKICAgIHN1cGVyKG9wdHMpOwogICAgdGhpc1tJTlRFUk5BTF0gPSB7fTsKICB9CgogIC8qKgogICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgaXMgYW4gYGh0dHBgIG9yIGBodHRwc2AgcmVxdWVzdC4KICAgKi8KICBpc1NlY3VyZUVuZHBvaW50KG9wdGlvbnMpIHsKICAgIGlmIChvcHRpb25zKSB7CiAgICAgIC8vIEZpcnN0IGNoZWNrIHRoZSBgc2VjdXJlRW5kcG9pbnRgIHByb3BlcnR5IGV4cGxpY2l0bHksIHNpbmNlIHRoaXMKICAgICAgLy8gbWVhbnMgdGhhdCBhIHBhcmVudCBgQWdlbnRgIGlzICJwYXNzaW5nIHRocm91Z2giIHRvIHRoaXMgaW5zdGFuY2UuCiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MKICAgICAgaWYgKHR5cGVvZiAob3B0aW9ucyApLnNlY3VyZUVuZHBvaW50ID09PSAnYm9vbGVhbicpIHsKICAgICAgICByZXR1cm4gb3B0aW9ucy5zZWN1cmVFbmRwb2ludDsKICAgICAgfQoKICAgICAgLy8gSWYgbm8gZXhwbGljaXQgYHNlY3VyZWAgZW5kcG9pbnQsIGNoZWNrIGlmIGBwcm90b2NvbGAgcHJvcGVydHkgaXMKICAgICAgLy8gc2V0LiBUaGlzIHdpbGwgdXN1YWxseSBiZSB0aGUgY2FzZSBzaW5jZSB1c2luZyBhIGZ1bGwgc3RyaW5nIFVSTAogICAgICAvLyBvciBgVVJMYCBpbnN0YW5jZSBzaG91bGQgYmUgdGhlIG1vc3QgY29tbW9uIHVzYWdlLgogICAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbnMucHJvdG9jb2wgPT09ICdodHRwczonOwogICAgICB9CiAgICB9CgogICAgLy8gRmluYWxseSwgaWYgbm8gYHByb3RvY29sYCBwcm9wZXJ0eSB3YXMgc2V0LCB0aGVuIGZhbGwgYmFjayB0bwogICAgLy8gY2hlY2tpbmcgdGhlIHN0YWNrIHRyYWNlIG9mIHRoZSBjdXJyZW50IGNhbGwgc3RhY2ssIGFuZCB0cnkgdG8KICAgIC8vIGRldGVjdCB0aGUgImh0dHBzIiBtb2R1bGUuCiAgICBjb25zdCB7IHN0YWNrIH0gPSBuZXcgRXJyb3IoKTsKICAgIGlmICh0eXBlb2Ygc3RhY2sgIT09ICdzdHJpbmcnKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gc3RhY2suc3BsaXQoJ1xuJykuc29tZShsID0+IGwuaW5kZXhPZignKGh0dHBzLmpzOicpICE9PSAtMSB8fCBsLmluZGV4T2YoJ25vZGU6aHR0cHM6JykgIT09IC0xKTsKICB9CgogIGNyZWF0ZVNvY2tldChyZXEsIG9wdGlvbnMsIGNiKSB7CiAgICBjb25zdCBjb25uZWN0T3B0cyA9IHsKICAgICAgLi4ub3B0aW9ucywKICAgICAgc2VjdXJlRW5kcG9pbnQ6IHRoaXMuaXNTZWN1cmVFbmRwb2ludChvcHRpb25zKSwKICAgIH07CiAgICBQcm9taXNlLnJlc29sdmUoKQogICAgICAudGhlbigoKSA9PiB0aGlzLmNvbm5lY3QocmVxLCBjb25uZWN0T3B0cykpCiAgICAgIC50aGVuKHNvY2tldCA9PiB7CiAgICAgICAgaWYgKHNvY2tldCBpbnN0YW5jZW9mIGh0dHAuQWdlbnQpIHsKICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYGFkZFJlcXVlc3QoKWAgaXNuJ3QgZGVmaW5lZCBpbiBgQHR5cGVzL25vZGVgCiAgICAgICAgICByZXR1cm4gc29ja2V0LmFkZFJlcXVlc3QocmVxLCBjb25uZWN0T3B0cyk7CiAgICAgICAgfQogICAgICAgIHRoaXNbSU5URVJOQUxdLmN1cnJlbnRTb2NrZXQgPSBzb2NrZXQ7CiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBgY3JlYXRlU29ja2V0KClgIGlzbid0IGRlZmluZWQgaW4gYEB0eXBlcy9ub2RlYAogICAgICAgIHN1cGVyLmNyZWF0ZVNvY2tldChyZXEsIG9wdGlvbnMsIGNiKTsKICAgICAgfSwgY2IpOwogIH0KCiAgY3JlYXRlQ29ubmVjdGlvbigpIHsKICAgIGNvbnN0IHNvY2tldCA9IHRoaXNbSU5URVJOQUxdLmN1cnJlbnRTb2NrZXQ7CiAgICB0aGlzW0lOVEVSTkFMXS5jdXJyZW50U29ja2V0ID0gdW5kZWZpbmVkOwogICAgaWYgKCFzb2NrZXQpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzb2NrZXQgd2FzIHJldHVybmVkIGluIHRoZSBgY29ubmVjdCgpYCBmdW5jdGlvbicpOwogICAgfQogICAgcmV0dXJuIHNvY2tldDsKICB9CgogIGdldCBkZWZhdWx0UG9ydCgpIHsKICAgIHJldHVybiBfbnVsbGlzaENvYWxlc2NlJDIodGhpc1tJTlRFUk5BTF0uZGVmYXVsdFBvcnQsICgpID0+ICggKHRoaXMucHJvdG9jb2wgPT09ICdodHRwczonID8gNDQzIDogODApKSk7CiAgfQoKICBzZXQgZGVmYXVsdFBvcnQodikgewogICAgaWYgKHRoaXNbSU5URVJOQUxdKSB7CiAgICAgIHRoaXNbSU5URVJOQUxdLmRlZmF1bHRQb3J0ID0gdjsKICAgIH0KICB9CgogIGdldCBwcm90b2NvbCgpIHsKICAgIHJldHVybiBfbnVsbGlzaENvYWxlc2NlJDIodGhpc1tJTlRFUk5BTF0ucHJvdG9jb2wsICgpID0+ICggKHRoaXMuaXNTZWN1cmVFbmRwb2ludCgpID8gJ2h0dHBzOicgOiAnaHR0cDonKSkpOwogIH0KCiAgc2V0IHByb3RvY29sKHYpIHsKICAgIGlmICh0aGlzW0lOVEVSTkFMXSkgewogICAgICB0aGlzW0lOVEVSTkFMXS5wcm90b2NvbCA9IHY7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBkZWJ1ZyQxKC4uLmFyZ3MpIHsKICBsb2dnZXIubG9nKCdbaHR0cHMtcHJveHktYWdlbnQ6cGFyc2UtcHJveHktcmVzcG9uc2VdJywgLi4uYXJncyk7Cn0KCmZ1bmN0aW9uIHBhcnNlUHJveHlSZXNwb25zZShzb2NrZXQpIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgLy8gd2UgbmVlZCB0byBidWZmZXIgYW55IEhUVFAgdHJhZmZpYyB0aGF0IGhhcHBlbnMgd2l0aCB0aGUgcHJveHkgYmVmb3JlIHdlIGdldAogICAgLy8gdGhlIENPTk5FQ1QgcmVzcG9uc2UsIHNvIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGFueXRoaW5nIG90aGVyIHRoYW4gYW4gIjIwMCIKICAgIC8vIHJlc3BvbnNlIGNvZGUsIHRoZW4gd2UgY2FuIHJlLXBsYXkgdGhlICJkYXRhIiBldmVudHMgb24gdGhlIHNvY2tldCBvbmNlIHRoZQogICAgLy8gSFRUUCBwYXJzZXIgaXMgaG9va2VkIHVwLi4uCiAgICBsZXQgYnVmZmVyc0xlbmd0aCA9IDA7CiAgICBjb25zdCBidWZmZXJzID0gW107CgogICAgZnVuY3Rpb24gcmVhZCgpIHsKICAgICAgY29uc3QgYiA9IHNvY2tldC5yZWFkKCk7CiAgICAgIGlmIChiKSBvbmRhdGEoYik7CiAgICAgIGVsc2Ugc29ja2V0Lm9uY2UoJ3JlYWRhYmxlJywgcmVhZCk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7CiAgICAgIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKICAgICAgc29ja2V0LnJlbW92ZUxpc3RlbmVyKCdyZWFkYWJsZScsIHJlYWQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uZW5kKCkgewogICAgICBjbGVhbnVwKCk7CiAgICAgIGRlYnVnJDEoJ29uZW5kJyk7CiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1Byb3h5IGNvbm5lY3Rpb24gZW5kZWQgYmVmb3JlIHJlY2VpdmluZyBDT05ORUNUIHJlc3BvbnNlJykpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uZXJyb3IoZXJyKSB7CiAgICAgIGNsZWFudXAoKTsKICAgICAgZGVidWckMSgnb25lcnJvciAlbycsIGVycik7CiAgICAgIHJlamVjdChlcnIpOwogICAgfQoKICAgIGZ1bmN0aW9uIG9uZGF0YShiKSB7CiAgICAgIGJ1ZmZlcnMucHVzaChiKTsKICAgICAgYnVmZmVyc0xlbmd0aCArPSBiLmxlbmd0aDsKCiAgICAgIGNvbnN0IGJ1ZmZlcmVkID0gQnVmZmVyLmNvbmNhdChidWZmZXJzLCBidWZmZXJzTGVuZ3RoKTsKICAgICAgY29uc3QgZW5kT2ZIZWFkZXJzID0gYnVmZmVyZWQuaW5kZXhPZignXHJcblxyXG4nKTsKCiAgICAgIGlmIChlbmRPZkhlYWRlcnMgPT09IC0xKSB7CiAgICAgICAgLy8ga2VlcCBidWZmZXJpbmcKICAgICAgICBkZWJ1ZyQxKCdoYXZlIG5vdCByZWNlaXZlZCBlbmQgb2YgSFRUUCBoZWFkZXJzIHlldC4uLicpOwogICAgICAgIHJlYWQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGhlYWRlclBhcnRzID0gYnVmZmVyZWQuc2xpY2UoMCwgZW5kT2ZIZWFkZXJzKS50b1N0cmluZygnYXNjaWknKS5zcGxpdCgnXHJcbicpOwogICAgICBjb25zdCBmaXJzdExpbmUgPSBoZWFkZXJQYXJ0cy5zaGlmdCgpOwogICAgICBpZiAoIWZpcnN0TGluZSkgewogICAgICAgIHNvY2tldC5kZXN0cm95KCk7CiAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ05vIGhlYWRlciByZWNlaXZlZCBmcm9tIHByb3h5IENPTk5FQ1QgcmVzcG9uc2UnKSk7CiAgICAgIH0KICAgICAgY29uc3QgZmlyc3RMaW5lUGFydHMgPSBmaXJzdExpbmUuc3BsaXQoJyAnKTsKICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9ICtmaXJzdExpbmVQYXJ0c1sxXTsKICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IGZpcnN0TGluZVBhcnRzLnNsaWNlKDIpLmpvaW4oJyAnKTsKICAgICAgY29uc3QgaGVhZGVycyA9IHt9OwogICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBoZWFkZXJQYXJ0cykgewogICAgICAgIGlmICghaGVhZGVyKSBjb250aW51ZTsKICAgICAgICBjb25zdCBmaXJzdENvbG9uID0gaGVhZGVyLmluZGV4T2YoJzonKTsKICAgICAgICBpZiAoZmlyc3RDb2xvbiA9PT0gLTEpIHsKICAgICAgICAgIHNvY2tldC5kZXN0cm95KCk7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihgSW52YWxpZCBoZWFkZXIgZnJvbSBwcm94eSBDT05ORUNUIHJlc3BvbnNlOiAiJHtoZWFkZXJ9ImApKTsKICAgICAgICB9CiAgICAgICAgY29uc3Qga2V5ID0gaGVhZGVyLnNsaWNlKDAsIGZpcnN0Q29sb24pLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgY29uc3QgdmFsdWUgPSBoZWFkZXIuc2xpY2UoZmlyc3RDb2xvbiArIDEpLnRyaW1TdGFydCgpOwogICAgICAgIGNvbnN0IGN1cnJlbnQgPSBoZWFkZXJzW2tleV07CiAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnc3RyaW5nJykgewogICAgICAgICAgaGVhZGVyc1trZXldID0gW2N1cnJlbnQsIHZhbHVlXTsKICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudCkpIHsKICAgICAgICAgIGN1cnJlbnQucHVzaCh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGhlYWRlcnNba2V5XSA9IHZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICBkZWJ1ZyQxKCdnb3QgcHJveHkgc2VydmVyIHJlc3BvbnNlOiAlbyAlbycsIGZpcnN0TGluZSwgaGVhZGVycyk7CiAgICAgIGNsZWFudXAoKTsKICAgICAgcmVzb2x2ZSh7CiAgICAgICAgY29ubmVjdDogewogICAgICAgICAgc3RhdHVzQ29kZSwKICAgICAgICAgIHN0YXR1c1RleHQsCiAgICAgICAgICBoZWFkZXJzLAogICAgICAgIH0sCiAgICAgICAgYnVmZmVyZWQsCiAgICAgIH0pOwogICAgfQoKICAgIHNvY2tldC5vbignZXJyb3InLCBvbmVycm9yKTsKICAgIHNvY2tldC5vbignZW5kJywgb25lbmQpOwoKICAgIHJlYWQoKTsKICB9KTsKfQoKZnVuY3Rpb24gX251bGxpc2hDb2FsZXNjZSQxKGxocywgcmhzRm4pIHsgaWYgKGxocyAhPSBudWxsKSB7IHJldHVybiBsaHM7IH0gZWxzZSB7IHJldHVybiByaHNGbigpOyB9IH0gZnVuY3Rpb24gX29wdGlvbmFsQ2hhaW4kMShvcHMpIHsgbGV0IGxhc3RBY2Nlc3NMSFMgPSB1bmRlZmluZWQ7IGxldCB2YWx1ZSA9IG9wc1swXTsgbGV0IGkgPSAxOyB3aGlsZSAoaSA8IG9wcy5sZW5ndGgpIHsgY29uc3Qgb3AgPSBvcHNbaV07IGNvbnN0IGZuID0gb3BzW2kgKyAxXTsgaSArPSAyOyBpZiAoKG9wID09PSAnb3B0aW9uYWxBY2Nlc3MnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgJiYgdmFsdWUgPT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGlmIChvcCA9PT0gJ2FjY2VzcycgfHwgb3AgPT09ICdvcHRpb25hbEFjY2VzcycpIHsgbGFzdEFjY2Vzc0xIUyA9IHZhbHVlOyB2YWx1ZSA9IGZuKHZhbHVlKTsgfSBlbHNlIGlmIChvcCA9PT0gJ2NhbGwnIHx8IG9wID09PSAnb3B0aW9uYWxDYWxsJykgeyB2YWx1ZSA9IGZuKCguLi5hcmdzKSA9PiB2YWx1ZS5jYWxsKGxhc3RBY2Nlc3NMSFMsIC4uLmFyZ3MpKTsgbGFzdEFjY2Vzc0xIUyA9IHVuZGVmaW5lZDsgfSB9IHJldHVybiB2YWx1ZTsgfS8qKgogKiBUaGlzIGNvZGUgd2FzIG9yaWdpbmFsbHkgZm9ya2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Rvb1RhbGxOYXRlL3Byb3h5LWFnZW50cy90cmVlL2IxMzMyOTVmZDE2ZjY0NzU1NzhiNmIxNWJkOWI0ZTMzZWNiMGQwYjcKICogV2l0aCB0aGUgZm9sbG93aW5nIGxpY2VuY2U6CiAqCiAqIChUaGUgTUlUIExpY2Vuc2UpCiAqCiAqIENvcHlyaWdodCAoYykgMjAxMyBOYXRoYW4gUmFqbGljaCA8bmF0aGFuQHRvb3RhbGxuYXRlLm5ldD4qCiAqCiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZwogKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKICogJ1NvZnR3YXJlJyksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwogKiB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCiAqIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0bwogKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8KICogdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOioKICoKICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUKICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuKgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgJ0FTIElTJywgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwKICogRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCiAqIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4KICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkKICogQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwKICogVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUKICogU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAqLwoKZnVuY3Rpb24gZGVidWcoLi4uYXJncykgewogIGxvZ2dlci5sb2coJ1todHRwcy1wcm94eS1hZ2VudF0nLCAuLi5hcmdzKTsKfQoKLyoqCiAqIFRoZSBgSHR0cHNQcm94eUFnZW50YCBpbXBsZW1lbnRzIGFuIEhUVFAgQWdlbnQgc3ViY2xhc3MgdGhhdCBjb25uZWN0cyB0bwogKiB0aGUgc3BlY2lmaWVkICJIVFRQKHMpIHByb3h5IHNlcnZlciIgaW4gb3JkZXIgdG8gcHJveHkgSFRUUFMgcmVxdWVzdHMuCiAqCiAqIE91dGdvaW5nIEhUVFAgcmVxdWVzdHMgYXJlIGZpcnN0IHR1bm5lbGVkIHRocm91Z2ggdGhlIHByb3h5IHNlcnZlciB1c2luZyB0aGUKICogYENPTk5FQ1RgIEhUVFAgcmVxdWVzdCBtZXRob2QgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB0byB0aGUgcHJveHkgc2VydmVyLAogKiBhbmQgdGhlbiB0aGUgcHJveHkgc2VydmVyIGNvbm5lY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiB0YXJnZXQgYW5kIGlzc3VlcyB0aGUKICogSFRUUCByZXF1ZXN0IGZyb20gdGhlIHByb3h5IHNlcnZlci4KICoKICogYGh0dHBzOmAgcmVxdWVzdHMgaGF2ZSB0aGVpciBzb2NrZXQgY29ubmVjdGlvbiB1cGdyYWRlZCB0byBUTFMgb25jZQogKiB0aGUgY29ubmVjdGlvbiB0byB0aGUgcHJveHkgc2VydmVyIGhhcyBiZWVuIGVzdGFibGlzaGVkLgogKi8KY2xhc3MgSHR0cHNQcm94eUFnZW50IGV4dGVuZHMgQWdlbnQgewogIHN0YXRpYyBfX2luaXRTdGF0aWMoKSB7dGhpcy5wcm90b2NvbHMgPSBbJ2h0dHAnLCAnaHR0cHMnXTsgfQoKICBjb25zdHJ1Y3Rvcihwcm94eSwgb3B0cykgewogICAgc3VwZXIob3B0cyk7CiAgICB0aGlzLm9wdGlvbnMgPSB7fTsKICAgIHRoaXMucHJveHkgPSB0eXBlb2YgcHJveHkgPT09ICdzdHJpbmcnID8gbmV3IFVSTChwcm94eSkgOiBwcm94eTsKICAgIHRoaXMucHJveHlIZWFkZXJzID0gX251bGxpc2hDb2FsZXNjZSQxKF9vcHRpb25hbENoYWluJDEoW29wdHMsICdvcHRpb25hbEFjY2VzcycsIF8yID0+IF8yLmhlYWRlcnNdKSwgKCkgPT4gKCB7fSkpOwogICAgZGVidWcoJ0NyZWF0aW5nIG5ldyBIdHRwc1Byb3h5QWdlbnQgaW5zdGFuY2U6ICVvJywgdGhpcy5wcm94eS5ocmVmKTsKCiAgICAvLyBUcmltIG9mZiB0aGUgYnJhY2tldHMgZnJvbSBJUHY2IGFkZHJlc3NlcwogICAgY29uc3QgaG9zdCA9ICh0aGlzLnByb3h5Lmhvc3RuYW1lIHx8IHRoaXMucHJveHkuaG9zdCkucmVwbGFjZSgvXlxbfFxdJC9nLCAnJyk7CiAgICBjb25zdCBwb3J0ID0gdGhpcy5wcm94eS5wb3J0ID8gcGFyc2VJbnQodGhpcy5wcm94eS5wb3J0LCAxMCkgOiB0aGlzLnByb3h5LnByb3RvY29sID09PSAnaHR0cHM6JyA/IDQ0MyA6IDgwOwogICAgdGhpcy5jb25uZWN0T3B0cyA9IHsKICAgICAgLy8gQXR0ZW1wdCB0byBuZWdvdGlhdGUgaHR0cC8xLjEgZm9yIHByb3h5IHNlcnZlcnMgdGhhdCBzdXBwb3J0IGh0dHAvMgogICAgICBBTFBOUHJvdG9jb2xzOiBbJ2h0dHAvMS4xJ10sCiAgICAgIC4uLihvcHRzID8gb21pdChvcHRzLCAnaGVhZGVycycpIDogbnVsbCksCiAgICAgIGhvc3QsCiAgICAgIHBvcnQsCiAgICB9OwogIH0KCiAgLyoqCiAgICogQ2FsbGVkIHdoZW4gdGhlIG5vZGUtY29yZSBIVFRQIGNsaWVudCBsaWJyYXJ5IGlzIGNyZWF0aW5nIGEKICAgKiBuZXcgSFRUUCByZXF1ZXN0LgogICAqLwogIGFzeW5jIGNvbm5lY3QocmVxLCBvcHRzKSB7CiAgICBjb25zdCB7IHByb3h5IH0gPSB0aGlzOwoKICAgIGlmICghb3B0cy5ob3N0KSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vICJob3N0IiBwcm92aWRlZCcpOwogICAgfQoKICAgIC8vIENyZWF0ZSBhIHNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwcm94eSBzZXJ2ZXIuCiAgICBsZXQgc29ja2V0OwogICAgaWYgKHByb3h5LnByb3RvY29sID09PSAnaHR0cHM6JykgewogICAgICBkZWJ1ZygnQ3JlYXRpbmcgYHRscy5Tb2NrZXRgOiAlbycsIHRoaXMuY29ubmVjdE9wdHMpOwogICAgICBjb25zdCBzZXJ2ZXJuYW1lID0gdGhpcy5jb25uZWN0T3B0cy5zZXJ2ZXJuYW1lIHx8IHRoaXMuY29ubmVjdE9wdHMuaG9zdDsKICAgICAgc29ja2V0ID0gdGxzLmNvbm5lY3QoewogICAgICAgIC4uLnRoaXMuY29ubmVjdE9wdHMsCiAgICAgICAgc2VydmVybmFtZTogc2VydmVybmFtZSAmJiBuZXQuaXNJUChzZXJ2ZXJuYW1lKSA/IHVuZGVmaW5lZCA6IHNlcnZlcm5hbWUsCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgZGVidWcoJ0NyZWF0aW5nIGBuZXQuU29ja2V0YDogJW8nLCB0aGlzLmNvbm5lY3RPcHRzKTsKICAgICAgc29ja2V0ID0gbmV0LmNvbm5lY3QodGhpcy5jb25uZWN0T3B0cyk7CiAgICB9CgogICAgY29uc3QgaGVhZGVycyA9CiAgICAgIHR5cGVvZiB0aGlzLnByb3h5SGVhZGVycyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucHJveHlIZWFkZXJzKCkgOiB7IC4uLnRoaXMucHJveHlIZWFkZXJzIH07CiAgICBjb25zdCBob3N0ID0gbmV0LmlzSVB2NihvcHRzLmhvc3QpID8gYFske29wdHMuaG9zdH1dYCA6IG9wdHMuaG9zdDsKICAgIGxldCBwYXlsb2FkID0gYENPTk5FQ1QgJHtob3N0fToke29wdHMucG9ydH0gSFRUUC8xLjFcclxuYDsKCiAgICAvLyBJbmplY3QgdGhlIGBQcm94eS1BdXRob3JpemF0aW9uYCBoZWFkZXIgaWYgbmVjZXNzYXJ5LgogICAgaWYgKHByb3h5LnVzZXJuYW1lIHx8IHByb3h5LnBhc3N3b3JkKSB7CiAgICAgIGNvbnN0IGF1dGggPSBgJHtkZWNvZGVVUklDb21wb25lbnQocHJveHkudXNlcm5hbWUpfToke2RlY29kZVVSSUNvbXBvbmVudChwcm94eS5wYXNzd29yZCl9YDsKICAgICAgaGVhZGVyc1snUHJveHktQXV0aG9yaXphdGlvbiddID0gYEJhc2ljICR7QnVmZmVyLmZyb20oYXV0aCkudG9TdHJpbmcoJ2Jhc2U2NCcpfWA7CiAgICB9CgogICAgaGVhZGVycy5Ib3N0ID0gYCR7aG9zdH06JHtvcHRzLnBvcnR9YDsKCiAgICBpZiAoIWhlYWRlcnNbJ1Byb3h5LUNvbm5lY3Rpb24nXSkgewogICAgICBoZWFkZXJzWydQcm94eS1Db25uZWN0aW9uJ10gPSB0aGlzLmtlZXBBbGl2ZSA/ICdLZWVwLUFsaXZlJyA6ICdjbG9zZSc7CiAgICB9CiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHsKICAgICAgcGF5bG9hZCArPSBgJHtuYW1lfTogJHtoZWFkZXJzW25hbWVdfVxyXG5gOwogICAgfQoKICAgIGNvbnN0IHByb3h5UmVzcG9uc2VQcm9taXNlID0gcGFyc2VQcm94eVJlc3BvbnNlKHNvY2tldCk7CgogICAgc29ja2V0LndyaXRlKGAke3BheWxvYWR9XHJcbmApOwoKICAgIGNvbnN0IHsgY29ubmVjdCwgYnVmZmVyZWQgfSA9IGF3YWl0IHByb3h5UmVzcG9uc2VQcm9taXNlOwogICAgcmVxLmVtaXQoJ3Byb3h5Q29ubmVjdCcsIGNvbm5lY3QpOwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudAogICAgLy8gQHRzLWlnbm9yZSBOb3QgRXZlbnRFbWl0dGVyIGluIE5vZGUgdHlwZXMKICAgIHRoaXMuZW1pdCgncHJveHlDb25uZWN0JywgY29ubmVjdCwgcmVxKTsKCiAgICBpZiAoY29ubmVjdC5zdGF0dXNDb2RlID09PSAyMDApIHsKICAgICAgcmVxLm9uY2UoJ3NvY2tldCcsIHJlc3VtZSk7CgogICAgICBpZiAob3B0cy5zZWN1cmVFbmRwb2ludCkgewogICAgICAgIC8vIFRoZSBwcm94eSBpcyBjb25uZWN0aW5nIHRvIGEgVExTIHNlcnZlciwgc28gdXBncmFkZQogICAgICAgIC8vIHRoaXMgc29ja2V0IGNvbm5lY3Rpb24gdG8gYSBUTFMgY29ubmVjdGlvbi4KICAgICAgICBkZWJ1ZygnVXBncmFkaW5nIHNvY2tldCBjb25uZWN0aW9uIHRvIFRMUycpOwogICAgICAgIGNvbnN0IHNlcnZlcm5hbWUgPSBvcHRzLnNlcnZlcm5hbWUgfHwgb3B0cy5ob3N0OwogICAgICAgIHJldHVybiB0bHMuY29ubmVjdCh7CiAgICAgICAgICAuLi5vbWl0KG9wdHMsICdob3N0JywgJ3BhdGgnLCAncG9ydCcpLAogICAgICAgICAgc29ja2V0LAogICAgICAgICAgc2VydmVybmFtZTogbmV0LmlzSVAoc2VydmVybmFtZSkgPyB1bmRlZmluZWQgOiBzZXJ2ZXJuYW1lLAogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gc29ja2V0OwogICAgfQoKICAgIC8vIFNvbWUgb3RoZXIgc3RhdHVzIGNvZGUgdGhhdCdzIG5vdCAyMDAuLi4gbmVlZCB0byByZS1wbGF5IHRoZSBIVFRQCiAgICAvLyBoZWFkZXIgImRhdGEiIGV2ZW50cyBvbnRvIHRoZSBzb2NrZXQgb25jZSB0aGUgSFRUUCBtYWNoaW5lcnkgaXMKICAgIC8vIGF0dGFjaGVkIHNvIHRoYXQgdGhlIG5vZGUgY29yZSBgaHR0cGAgY2FuIHBhcnNlIGFuZCBoYW5kbGUgdGhlCiAgICAvLyBlcnJvciBzdGF0dXMgY29kZS4KCiAgICAvLyBDbG9zZSB0aGUgb3JpZ2luYWwgc29ja2V0LCBhbmQgYSBuZXcgImZha2UiIHNvY2tldCBpcyByZXR1cm5lZAogICAgLy8gaW5zdGVhZCwgc28gdGhhdCB0aGUgcHJveHkgZG9lc24ndCBnZXQgdGhlIEhUVFAgcmVxdWVzdAogICAgLy8gd3JpdHRlbiB0byBpdCAod2hpY2ggbWF5IGNvbnRhaW4gYEF1dGhvcml6YXRpb25gIGhlYWRlcnMgb3Igb3RoZXIKICAgIC8vIHNlbnNpdGl2ZSBkYXRhKS4KICAgIC8vCiAgICAvLyBTZWU6IGh0dHBzOi8vaGFja2Vyb25lLmNvbS9yZXBvcnRzLzU0MTUwMgogICAgc29ja2V0LmRlc3Ryb3koKTsKCiAgICBjb25zdCBmYWtlU29ja2V0ID0gbmV3IG5ldC5Tb2NrZXQoeyB3cml0YWJsZTogZmFsc2UgfSk7CiAgICBmYWtlU29ja2V0LnJlYWRhYmxlID0gdHJ1ZTsKCiAgICAvLyBOZWVkIHRvIHdhaXQgZm9yIHRoZSAic29ja2V0IiBldmVudCB0byByZS1wbGF5IHRoZSAiZGF0YSIgZXZlbnRzLgogICAgcmVxLm9uY2UoJ3NvY2tldCcsIChzKSA9PiB7CiAgICAgIGRlYnVnKCdSZXBsYXlpbmcgcHJveHkgYnVmZmVyIGZvciBmYWlsZWQgcmVxdWVzdCcpOwogICAgICBhc3NlcnQocy5saXN0ZW5lckNvdW50KCdkYXRhJykgPiAwKTsKCiAgICAgIC8vIFJlcGxheSB0aGUgImJ1ZmZlcmVkIiBCdWZmZXIgb250byB0aGUgZmFrZSBgc29ja2V0YCwgc2luY2UgYXQKICAgICAgLy8gdGhpcyBwb2ludCB0aGUgSFRUUCBtb2R1bGUgbWFjaGluZXJ5IGhhcyBiZWVuIGhvb2tlZCB1cCBmb3IKICAgICAgLy8gdGhlIHVzZXIuCiAgICAgIHMucHVzaChidWZmZXJlZCk7CiAgICAgIHMucHVzaChudWxsKTsKICAgIH0pOwoKICAgIHJldHVybiBmYWtlU29ja2V0OwogIH0KfSBIdHRwc1Byb3h5QWdlbnQuX19pbml0U3RhdGljKCk7CgpmdW5jdGlvbiByZXN1bWUoc29ja2V0KSB7CiAgc29ja2V0LnJlc3VtZSgpOwp9CgpmdW5jdGlvbiBvbWl0KAogIG9iaiwKICAuLi5rZXlzCikKCiB7CiAgY29uc3QgcmV0ID0ge30KCjsKICBsZXQga2V5OwogIGZvciAoa2V5IGluIG9iaikgewogICAgaWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHsKICAgICAgcmV0W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gX251bGxpc2hDb2FsZXNjZShsaHMsIHJoc0ZuKSB7IGlmIChsaHMgIT0gbnVsbCkgeyByZXR1cm4gbGhzOyB9IGVsc2UgeyByZXR1cm4gcmhzRm4oKTsgfSB9Ci8vIEVzdGltYXRlZCBtYXhpbXVtIHNpemUgZm9yIHJlYXNvbmFibGUgc3RhbmRhbG9uZSBldmVudApjb25zdCBHWklQX1RIUkVTSE9MRCA9IDEwMjQgKiAzMjsKCi8qKgogKiBHZXRzIGEgc3RyZWFtIGZyb20gYSBVaW50OEFycmF5IG9yIHN0cmluZwogKiBSZWFkYWJsZS5mcm9tIGlzIGlkZWFsIGJ1dCB3YXMgYWRkZWQgaW4gbm9kZS5qcyB2MTIuMy4wIGFuZCB2MTAuMTcuMAogKi8KZnVuY3Rpb24gc3RyZWFtRnJvbUJvZHkoYm9keSkgewogIHJldHVybiBuZXcgUmVhZGFibGUoewogICAgcmVhZCgpIHsKICAgICAgdGhpcy5wdXNoKGJvZHkpOwogICAgICB0aGlzLnB1c2gobnVsbCk7CiAgICB9LAogIH0pOwp9CgovKioKICogQ3JlYXRlcyBhIFRyYW5zcG9ydCB0aGF0IHVzZXMgbmF0aXZlIHRoZSBuYXRpdmUgJ2h0dHAnIGFuZCAnaHR0cHMnIG1vZHVsZXMgdG8gc2VuZCBldmVudHMgdG8gU2VudHJ5LgogKi8KZnVuY3Rpb24gbWFrZU5vZGVUcmFuc3BvcnQob3B0aW9ucykgewogIGxldCB1cmxTZWdtZW50czsKCiAgdHJ5IHsKICAgIHVybFNlZ21lbnRzID0gbmV3IFVSTChvcHRpb25zLnVybCk7CiAgfSBjYXRjaCAoZSkgewogICAgY29uc29sZVNhbmRib3goKCkgPT4gewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICBjb25zb2xlLndhcm4oCiAgICAgICAgJ1tAc2VudHJ5L25vZGVdOiBJbnZhbGlkIGRzbiBvciB0dW5uZWwgb3B0aW9uLCB3aWxsIG5vdCBzZW5kIGFueSBldmVudHMuIFRoZSB0dW5uZWwgb3B0aW9uIG11c3QgYmUgYSBmdWxsIFVSTCB3aGVuIHVzZWQuJywKICAgICAgKTsKICAgIH0pOwogICAgcmV0dXJuIGNyZWF0ZVRyYW5zcG9ydChvcHRpb25zLCAoKSA9PiBQcm9taXNlLnJlc29sdmUoe30pKTsKICB9CgogIGNvbnN0IGlzSHR0cHMgPSB1cmxTZWdtZW50cy5wcm90b2NvbCA9PT0gJ2h0dHBzOic7CgogIC8vIFByb3h5IHByaW9yaXRpemF0aW9uOiBodHRwID0+IGBvcHRpb25zLnByb3h5YCB8IGBwcm9jZXNzLmVudi5odHRwX3Byb3h5YAogIC8vIFByb3h5IHByaW9yaXRpemF0aW9uOiBodHRwcyA9PiBgb3B0aW9ucy5wcm94eWAgfCBgcHJvY2Vzcy5lbnYuaHR0cHNfcHJveHlgIHwgYHByb2Nlc3MuZW52Lmh0dHBfcHJveHlgCiAgY29uc3QgcHJveHkgPSBhcHBseU5vUHJveHlPcHRpb24oCiAgICB1cmxTZWdtZW50cywKICAgIG9wdGlvbnMucHJveHkgfHwgKGlzSHR0cHMgPyBwcm9jZXNzLmVudi5odHRwc19wcm94eSA6IHVuZGVmaW5lZCkgfHwgcHJvY2Vzcy5lbnYuaHR0cF9wcm94eSwKICApOwoKICBjb25zdCBuYXRpdmVIdHRwTW9kdWxlID0gaXNIdHRwcyA/IGh0dHBzIDogaHR0cDsKICBjb25zdCBrZWVwQWxpdmUgPSBvcHRpb25zLmtlZXBBbGl2ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBvcHRpb25zLmtlZXBBbGl2ZTsKCiAgLy8gVE9ETyh2Nyk6IEV2YWx1YXRlIGlmIHdlIGNhbiBzZXQga2VlcEFsaXZlIHRvIHRydWUuIFRoaXMgd291bGQgaW52b2x2ZSB0ZXN0aW5nIGZvciBtZW1vcnkgbGVha3MgaW4gb2xkZXIgbm9kZQogIC8vIHZlcnNpb25zKD49IDgpIGFzIHRoZXkgaGFkIG1lbW9yeSBsZWFrcyB3aGVuIHVzaW5nIGl0OiAjMjU1NQogIGNvbnN0IGFnZW50ID0gcHJveHkKICAgID8gKG5ldyBIdHRwc1Byb3h5QWdlbnQocHJveHkpICkKICAgIDogbmV3IG5hdGl2ZUh0dHBNb2R1bGUuQWdlbnQoeyBrZWVwQWxpdmUsIG1heFNvY2tldHM6IDMwLCB0aW1lb3V0OiAyMDAwIH0pOwoKICBjb25zdCByZXF1ZXN0RXhlY3V0b3IgPSBjcmVhdGVSZXF1ZXN0RXhlY3V0b3Iob3B0aW9ucywgX251bGxpc2hDb2FsZXNjZShvcHRpb25zLmh0dHBNb2R1bGUsICgpID0+ICggbmF0aXZlSHR0cE1vZHVsZSkpLCBhZ2VudCk7CiAgcmV0dXJuIGNyZWF0ZVRyYW5zcG9ydChvcHRpb25zLCByZXF1ZXN0RXhlY3V0b3IpOwp9CgovKioKICogSG9ub3JzIHRoZSBgbm9fcHJveHlgIGVudiB2YXJpYWJsZSB3aXRoIHRoZSBoaWdoZXN0IHByaW9yaXR5IHRvIGFsbG93IGZvciBob3N0cyBleGNsdXNpb24uCiAqCiAqIEBwYXJhbSB0cmFuc3BvcnRVcmwgVGhlIFVSTCB0aGUgdHJhbnNwb3J0IGludGVuZHMgdG8gc2VuZCBldmVudHMgdG8uCiAqIEBwYXJhbSBwcm94eSBUaGUgY2xpZW50IGNvbmZpZ3VyZWQgcHJveHkuCiAqIEByZXR1cm5zIEEgcHJveHkgdGhlIHRyYW5zcG9ydCBzaG91bGQgdXNlLgogKi8KZnVuY3Rpb24gYXBwbHlOb1Byb3h5T3B0aW9uKHRyYW5zcG9ydFVybFNlZ21lbnRzLCBwcm94eSkgewogIGNvbnN0IHsgbm9fcHJveHkgfSA9IHByb2Nlc3MuZW52OwoKICBjb25zdCB1cmxJc0V4ZW1wdEZyb21Qcm94eSA9CiAgICBub19wcm94eSAmJgogICAgbm9fcHJveHkKICAgICAgLnNwbGl0KCcsJykKICAgICAgLnNvbWUoCiAgICAgICAgZXhlbXB0aW9uID0+IHRyYW5zcG9ydFVybFNlZ21lbnRzLmhvc3QuZW5kc1dpdGgoZXhlbXB0aW9uKSB8fCB0cmFuc3BvcnRVcmxTZWdtZW50cy5ob3N0bmFtZS5lbmRzV2l0aChleGVtcHRpb24pLAogICAgICApOwoKICBpZiAodXJsSXNFeGVtcHRGcm9tUHJveHkpIHsKICAgIHJldHVybiB1bmRlZmluZWQ7CiAgfSBlbHNlIHsKICAgIHJldHVybiBwcm94eTsKICB9Cn0KCi8qKgogKiBDcmVhdGVzIGEgUmVxdWVzdEV4ZWN1dG9yIHRvIGJlIHVzZWQgd2l0aCBgY3JlYXRlVHJhbnNwb3J0YC4KICovCmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RFeGVjdXRvcigKICBvcHRpb25zLAogIGh0dHBNb2R1bGUsCiAgYWdlbnQsCikgewogIGNvbnN0IHsgaG9zdG5hbWUsIHBhdGhuYW1lLCBwb3J0LCBwcm90b2NvbCwgc2VhcmNoIH0gPSBuZXcgVVJMKG9wdGlvbnMudXJsKTsKICByZXR1cm4gZnVuY3Rpb24gbWFrZVJlcXVlc3QocmVxdWVzdCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgbGV0IGJvZHkgPSBzdHJlYW1Gcm9tQm9keShyZXF1ZXN0LmJvZHkpOwoKICAgICAgY29uc3QgaGVhZGVycyA9IHsgLi4ub3B0aW9ucy5oZWFkZXJzIH07CgogICAgICBpZiAocmVxdWVzdC5ib2R5Lmxlbmd0aCA+IEdaSVBfVEhSRVNIT0xEKSB7CiAgICAgICAgaGVhZGVyc1snY29udGVudC1lbmNvZGluZyddID0gJ2d6aXAnOwogICAgICAgIGJvZHkgPSBib2R5LnBpcGUoY3JlYXRlR3ppcCgpKTsKICAgICAgfQoKICAgICAgY29uc3QgcmVxID0gaHR0cE1vZHVsZS5yZXF1ZXN0KAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgYWdlbnQsCiAgICAgICAgICBoZWFkZXJzLAogICAgICAgICAgaG9zdG5hbWUsCiAgICAgICAgICBwYXRoOiBgJHtwYXRobmFtZX0ke3NlYXJjaH1gLAogICAgICAgICAgcG9ydCwKICAgICAgICAgIHByb3RvY29sLAogICAgICAgICAgY2E6IG9wdGlvbnMuY2FDZXJ0cywKICAgICAgICB9LAogICAgICAgIHJlcyA9PiB7CiAgICAgICAgICByZXMub24oJ2RhdGEnLCAoKSA9PiB7CiAgICAgICAgICAgIC8vIERyYWluIHNvY2tldAogICAgICAgICAgfSk7CgogICAgICAgICAgcmVzLm9uKCdlbmQnLCAoKSA9PiB7CiAgICAgICAgICAgIC8vIERyYWluIHNvY2tldAogICAgICAgICAgfSk7CgogICAgICAgICAgcmVzLnNldEVuY29kaW5nKCd1dGY4Jyk7CgogICAgICAgICAgLy8gIktleS12YWx1ZSBwYWlycyBvZiBoZWFkZXIgbmFtZXMgYW5kIHZhbHVlcy4gSGVhZGVyIG5hbWVzIGFyZSBsb3dlci1jYXNlZC4iCiAgICAgICAgICAvLyBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVycwogICAgICAgICAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IF9udWxsaXNoQ29hbGVzY2UocmVzLmhlYWRlcnNbJ3JldHJ5LWFmdGVyJ10sICgpID0+ICggbnVsbCkpOwogICAgICAgICAgY29uc3QgcmF0ZUxpbWl0c0hlYWRlciA9IF9udWxsaXNoQ29hbGVzY2UocmVzLmhlYWRlcnNbJ3gtc2VudHJ5LXJhdGUtbGltaXRzJ10sICgpID0+ICggbnVsbCkpOwoKICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSwKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICdyZXRyeS1hZnRlcic6IHJldHJ5QWZ0ZXJIZWFkZXIsCiAgICAgICAgICAgICAgJ3gtc2VudHJ5LXJhdGUtbGltaXRzJzogQXJyYXkuaXNBcnJheShyYXRlTGltaXRzSGVhZGVyKSA/IHJhdGVMaW1pdHNIZWFkZXJbMF0gOiByYXRlTGltaXRzSGVhZGVyLAogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgKTsKCiAgICAgIHJlcS5vbignZXJyb3InLCByZWplY3QpOwogICAgICBib2R5LnBpcGUocmVxKTsKICAgIH0pOwogIH07Cn0KCmZ1bmN0aW9uIF9vcHRpb25hbENoYWluKG9wcykgeyBsZXQgbGFzdEFjY2Vzc0xIUyA9IHVuZGVmaW5lZDsgbGV0IHZhbHVlID0gb3BzWzBdOyBsZXQgaSA9IDE7IHdoaWxlIChpIDwgb3BzLmxlbmd0aCkgeyBjb25zdCBvcCA9IG9wc1tpXTsgY29uc3QgZm4gPSBvcHNbaSArIDFdOyBpICs9IDI7IGlmICgob3AgPT09ICdvcHRpb25hbEFjY2VzcycgfHwgb3AgPT09ICdvcHRpb25hbENhbGwnKSAmJiB2YWx1ZSA9PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gaWYgKG9wID09PSAnYWNjZXNzJyB8fCBvcCA9PT0gJ29wdGlvbmFsQWNjZXNzJykgeyBsYXN0QWNjZXNzTEhTID0gdmFsdWU7IHZhbHVlID0gZm4odmFsdWUpOyB9IGVsc2UgaWYgKG9wID09PSAnY2FsbCcgfHwgb3AgPT09ICdvcHRpb25hbENhbGwnKSB7IHZhbHVlID0gZm4oKC4uLmFyZ3MpID0+IHZhbHVlLmNhbGwobGFzdEFjY2Vzc0xIUywgLi4uYXJncykpOyBsYXN0QWNjZXNzTEhTID0gdW5kZWZpbmVkOyB9IH0gcmV0dXJuIHZhbHVlOyB9CmNvbnN0IG9wdGlvbnMgPSB3b3JrZXJEYXRhOwpsZXQgc2Vzc2lvbjsKbGV0IGhhc1NlbnRBbnJFdmVudCA9IGZhbHNlOwoKZnVuY3Rpb24gbG9nKG1zZykgewogIGlmIChvcHRpb25zLmRlYnVnKSB7CiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgY29uc29sZS5sb2coYFtBTlIgV29ya2VyXSAke21zZ31gKTsKICB9Cn0KCmNvbnN0IHVybCA9IGdldEVudmVsb3BlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGgob3B0aW9ucy5kc24pOwpjb25zdCB0cmFuc3BvcnQgPSBtYWtlTm9kZVRyYW5zcG9ydCh7CiAgdXJsLAogIHJlY29yZERyb3BwZWRFdmVudDogKCkgPT4gewogICAgLy8KICB9LAp9KTsKCmFzeW5jIGZ1bmN0aW9uIHNlbmRBYm5vcm1hbFNlc3Npb24oKSB7CiAgLy8gb2Ygd2UgaGF2ZSBhbiBleGlzdGluZyBzZXNzaW9uIHBhc3NlZCBmcm9tIHRoZSBtYWluIHRocmVhZCwgc2VuZCBpdCBhcyBhYm5vcm1hbAogIGlmIChzZXNzaW9uKSB7CiAgICBsb2coJ1NlbmRpbmcgYWJub3JtYWwgc2Vzc2lvbicpOwogICAgdXBkYXRlU2Vzc2lvbihzZXNzaW9uLCB7IHN0YXR1czogJ2Fibm9ybWFsJywgYWJub3JtYWxfbWVjaGFuaXNtOiAnYW5yX2ZvcmVncm91bmQnIH0pOwoKICAgIGNvbnN0IGVudmVsb3BlID0gY3JlYXRlU2Vzc2lvbkVudmVsb3BlKHNlc3Npb24sIG9wdGlvbnMuZHNuLCBvcHRpb25zLnNka01ldGFkYXRhKTsKICAgIC8vIExvZyB0aGUgZW52ZWxvcGUgc28gdG8gYWlkIGluIHRlc3RpbmcKICAgIGxvZyhKU09OLnN0cmluZ2lmeShlbnZlbG9wZSkpOwoKICAgIGF3YWl0IHRyYW5zcG9ydC5zZW5kKGVudmVsb3BlKTsKCiAgICB0cnkgewogICAgICAvLyBOb3RpZnkgdGhlIG1haW4gcHJvY2VzcyB0aGF0IHRoZSBzZXNzaW9uIGhhcyBlbmRlZCBzbyB0aGUgc2Vzc2lvbiBjYW4gYmUgY2xlYXJlZCBmcm9tIHRoZSBzY29wZQogICAgICBfb3B0aW9uYWxDaGFpbihbcGFyZW50UG9ydCwgJ29wdGlvbmFsQWNjZXNzJywgXzIgPT4gXzIucG9zdE1lc3NhZ2UsICdjYWxsJywgXzMgPT4gXzMoJ3Nlc3Npb24tZW5kZWQnKV0pOwogICAgfSBjYXRjaCAoXykgewogICAgICAvLyBpZ25vcmUKICAgIH0KICB9Cn0KCmxvZygnU3RhcnRlZCcpOwoKZnVuY3Rpb24gcHJlcGFyZVN0YWNrRnJhbWVzKHN0YWNrRnJhbWVzKSB7CiAgaWYgKCFzdGFja0ZyYW1lcykgewogICAgcmV0dXJuIHVuZGVmaW5lZDsKICB9CgogIC8vIFN0cmlwIFNlbnRyeSBmcmFtZXMgYW5kIHJldmVyc2UgdGhlIHN0YWNrIGZyYW1lcyBzbyB0aGV5IGFyZSBpbiB0aGUgY29ycmVjdCBvcmRlcgogIGNvbnN0IHN0cmlwcGVkRnJhbWVzID0gc3RyaXBTZW50cnlGcmFtZXNBbmRSZXZlcnNlKHN0YWNrRnJhbWVzKTsKCiAgLy8gSWYgd2UgaGF2ZSBhbiBhcHAgcm9vdCBwYXRoLCByZXdyaXRlIHRoZSBmaWxlbmFtZXMgdG8gYmUgcmVsYXRpdmUgdG8gdGhlIGFwcCByb290CiAgaWYgKG9wdGlvbnMuYXBwUm9vdFBhdGgpIHsKICAgIGZvciAoY29uc3QgZnJhbWUgb2Ygc3RyaXBwZWRGcmFtZXMpIHsKICAgICAgaWYgKCFmcmFtZS5maWxlbmFtZSkgewogICAgICAgIGNvbnRpbnVlOwogICAgICB9CgogICAgICBmcmFtZS5maWxlbmFtZSA9IG5vcm1hbGl6ZVVybFRvQmFzZShmcmFtZS5maWxlbmFtZSwgb3B0aW9ucy5hcHBSb290UGF0aCk7CiAgICB9CiAgfQoKICByZXR1cm4gc3RyaXBwZWRGcmFtZXM7Cn0KCmFzeW5jIGZ1bmN0aW9uIHNlbmRBbnJFdmVudChmcmFtZXMsIHRyYWNlQ29udGV4dCkgewogIGlmIChoYXNTZW50QW5yRXZlbnQpIHsKICAgIHJldHVybjsKICB9CgogIGhhc1NlbnRBbnJFdmVudCA9IHRydWU7CgogIGF3YWl0IHNlbmRBYm5vcm1hbFNlc3Npb24oKTsKCiAgbG9nKCdTZW5kaW5nIGV2ZW50Jyk7CgogIGNvbnN0IGV2ZW50ID0gewogICAgZXZlbnRfaWQ6IHV1aWQ0KCksCiAgICBjb250ZXh0czogeyAuLi5vcHRpb25zLmNvbnRleHRzLCB0cmFjZTogdHJhY2VDb250ZXh0IH0sCiAgICByZWxlYXNlOiBvcHRpb25zLnJlbGVhc2UsCiAgICBlbnZpcm9ubWVudDogb3B0aW9ucy5lbnZpcm9ubWVudCwKICAgIGRpc3Q6IG9wdGlvbnMuZGlzdCwKICAgIHBsYXRmb3JtOiAnbm9kZScsCiAgICBsZXZlbDogJ2Vycm9yJywKICAgIGV4Y2VwdGlvbjogewogICAgICB2YWx1ZXM6IFsKICAgICAgICB7CiAgICAgICAgICB0eXBlOiAnQXBwbGljYXRpb25Ob3RSZXNwb25kaW5nJywKICAgICAgICAgIHZhbHVlOiBgQXBwbGljYXRpb24gTm90IFJlc3BvbmRpbmcgZm9yIGF0IGxlYXN0ICR7b3B0aW9ucy5hbnJUaHJlc2hvbGR9IG1zYCwKICAgICAgICAgIHN0YWNrdHJhY2U6IHsgZnJhbWVzOiBwcmVwYXJlU3RhY2tGcmFtZXMoZnJhbWVzKSB9LAogICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSBVSSBkb2Vzbid0IHNheSAnQ3Jhc2hlZCBpbicgZm9yIHRoZSBzdGFjayB0cmFjZQogICAgICAgICAgbWVjaGFuaXNtOiB7IHR5cGU6ICdBTlInIH0sCiAgICAgICAgfSwKICAgICAgXSwKICAgIH0sCiAgICB0YWdzOiBvcHRpb25zLnN0YXRpY1RhZ3MsCiAgfTsKCiAgY29uc3QgZW52ZWxvcGUgPSBjcmVhdGVFdmVudEVudmVsb3BlKGV2ZW50LCBvcHRpb25zLmRzbiwgb3B0aW9ucy5zZGtNZXRhZGF0YSk7CiAgLy8gTG9nIHRoZSBlbnZlbG9wZSBzbyB0byBhaWQgaW4gdGVzdGluZwogIGxvZyhKU09OLnN0cmluZ2lmeShlbnZlbG9wZSkpOwoKICBhd2FpdCB0cmFuc3BvcnQuc2VuZChlbnZlbG9wZSk7CiAgYXdhaXQgdHJhbnNwb3J0LmZsdXNoKDIwMDApOwoKICAvLyBEZWxheSBmb3IgNSBzZWNvbmRzIHNvIHRoYXQgc3RkaW8gY2FuIGZsdXNoIGluIHRoZSBtYWluIGV2ZW50IGxvb3AgZXZlciByZXN0YXJ0cy4KICAvLyBUaGlzIGlzIG1haW5seSBmb3IgdGhlIGJlbmVmaXQgb2YgbG9nZ2luZy9kZWJ1Z2dpbmcgaXNzdWVzLgogIHNldFRpbWVvdXQoKCkgPT4gewogICAgcHJvY2Vzcy5leGl0KDApOwogIH0sIDUwMDApOwp9CgpsZXQgZGVidWdnZXJQYXVzZTsKCmlmIChvcHRpb25zLmNhcHR1cmVTdGFja1RyYWNlKSB7CiAgbG9nKCdDb25uZWN0aW5nIHRvIGRlYnVnZ2VyJyk7CgogIGNvbnN0IHNlc3Npb24gPSBuZXcgU2Vzc2lvbigpIDsKICBzZXNzaW9uLmNvbm5lY3RUb01haW5UaHJlYWQoKTsKCiAgbG9nKCdDb25uZWN0ZWQgdG8gZGVidWdnZXInKTsKCiAgLy8gQ29sbGVjdCBzY3JpcHRJZCAtPiB1cmwgbWFwIHNvIHdlIGNhbiBsb29rIHVwIHRoZSBmaWxlbmFtZXMgbGF0ZXIKICBjb25zdCBzY3JpcHRzID0gbmV3IE1hcCgpOwoKICBzZXNzaW9uLm9uKCdEZWJ1Z2dlci5zY3JpcHRQYXJzZWQnLCBldmVudCA9PiB7CiAgICBzY3JpcHRzLnNldChldmVudC5wYXJhbXMuc2NyaXB0SWQsIGV2ZW50LnBhcmFtcy51cmwpOwogIH0pOwoKICBzZXNzaW9uLm9uKCdEZWJ1Z2dlci5wYXVzZWQnLCBldmVudCA9PiB7CiAgICBpZiAoZXZlbnQucGFyYW1zLnJlYXNvbiAhPT0gJ290aGVyJykgewogICAgICByZXR1cm47CiAgICB9CgogICAgdHJ5IHsKICAgICAgbG9nKCdEZWJ1Z2dlciBwYXVzZWQnKTsKCiAgICAgIC8vIGNvcHkgdGhlIGZyYW1lcwogICAgICBjb25zdCBjYWxsRnJhbWVzID0gWy4uLmV2ZW50LnBhcmFtcy5jYWxsRnJhbWVzXTsKCiAgICAgIGNvbnN0IGdldE1vZHVsZU5hbWUgPSBvcHRpb25zLmFwcFJvb3RQYXRoID8gY3JlYXRlR2V0TW9kdWxlRnJvbUZpbGVuYW1lKG9wdGlvbnMuYXBwUm9vdFBhdGgpIDogKCkgPT4gdW5kZWZpbmVkOwogICAgICBjb25zdCBzdGFja0ZyYW1lcyA9IGNhbGxGcmFtZXMubWFwKGZyYW1lID0+CiAgICAgICAgY2FsbEZyYW1lVG9TdGFja0ZyYW1lKGZyYW1lLCBzY3JpcHRzLmdldChmcmFtZS5sb2NhdGlvbi5zY3JpcHRJZCksIGdldE1vZHVsZU5hbWUpLAogICAgICApOwoKICAgICAgLy8gRXZhbHVhdGUgYSBzY3JpcHQgaW4gdGhlIGN1cnJlbnRseSBwYXVzZWQgY29udGV4dAogICAgICBzZXNzaW9uLnBvc3QoCiAgICAgICAgJ1J1bnRpbWUuZXZhbHVhdGUnLAogICAgICAgIHsKICAgICAgICAgIC8vIEdyYWIgdGhlIHRyYWNlIGNvbnRleHQgZnJvbSB0aGUgY3VycmVudCBzY29wZQogICAgICAgICAgZXhwcmVzc2lvbjoKICAgICAgICAgICAgJ2NvbnN0IGN0eCA9IF9fU0VOVFJZX18uaHViLmdldFNjb3BlKCkuZ2V0UHJvcGFnYXRpb25Db250ZXh0KCk7IGN0eC50cmFjZUlkICsgIi0iICsgY3R4LnNwYW5JZCArICItIiArIGN0eC5wYXJlbnRTcGFuSWQnLAogICAgICAgICAgLy8gRG9uJ3QgcmUtdHJpZ2dlciB0aGUgZGVidWdnZXIgaWYgdGhpcyBjYXVzZXMgYW4gZXJyb3IKICAgICAgICAgIHNpbGVudDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIChfLCBwYXJhbSkgPT4gewogICAgICAgICAgY29uc3QgdHJhY2VJZCA9IHBhcmFtICYmIHBhcmFtLnJlc3VsdCA/IChwYXJhbS5yZXN1bHQudmFsdWUgKSA6ICctLSc7CiAgICAgICAgICBjb25zdCBbdHJhY2VfaWQsIHNwYW5faWQsIHBhcmVudF9zcGFuX2lkXSA9IHRyYWNlSWQuc3BsaXQoJy0nKSA7CgogICAgICAgICAgc2Vzc2lvbi5wb3N0KCdEZWJ1Z2dlci5yZXN1bWUnKTsKICAgICAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIuZGlzYWJsZScpOwoKICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSBfb3B0aW9uYWxDaGFpbihbdHJhY2VfaWQsICdvcHRpb25hbEFjY2VzcycsIF80ID0+IF80Lmxlbmd0aF0pICYmIF9vcHRpb25hbENoYWluKFtzcGFuX2lkLCAnb3B0aW9uYWxBY2Nlc3MnLCBfNSA9PiBfNS5sZW5ndGhdKSA/IHsgdHJhY2VfaWQsIHNwYW5faWQsIHBhcmVudF9zcGFuX2lkIH0gOiB1bmRlZmluZWQ7CiAgICAgICAgICBzZW5kQW5yRXZlbnQoc3RhY2tGcmFtZXMsIGNvbnRleHQpLnRoZW4obnVsbCwgKCkgPT4gewogICAgICAgICAgICBsb2coJ1NlbmRpbmcgQU5SIGV2ZW50IGZhaWxlZC4nKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIucmVzdW1lJyk7CiAgICAgIHNlc3Npb24ucG9zdCgnRGVidWdnZXIuZGlzYWJsZScpOwogICAgICB0aHJvdyBlOwogICAgfQogIH0pOwoKICBkZWJ1Z2dlclBhdXNlID0gKCkgPT4gewogICAgdHJ5IHsKICAgICAgc2Vzc2lvbi5wb3N0KCdEZWJ1Z2dlci5lbmFibGUnLCAoKSA9PiB7CiAgICAgICAgc2Vzc2lvbi5wb3N0KCdEZWJ1Z2dlci5wYXVzZScpOwogICAgICB9KTsKICAgIH0gY2F0Y2ggKF8pIHsKICAgICAgLy8KICAgIH0KICB9Owp9CgpmdW5jdGlvbiBjcmVhdGVIclRpbWVyKCkgewogIC8vIFRPRE8gKHY4KTogV2UgY2FuIHVzZSBwcm9jZXNzLmhydGltZS5iaWdpbnQoKSBhZnRlciB3ZSBkcm9wIG5vZGUgdjgKICBsZXQgbGFzdFBvbGwgPSBwcm9jZXNzLmhydGltZSgpOwoKICByZXR1cm4gewogICAgZ2V0VGltZU1zOiAoKSA9PiB7CiAgICAgIGNvbnN0IFtzZWNvbmRzLCBuYW5vU2Vjb25kc10gPSBwcm9jZXNzLmhydGltZShsYXN0UG9sbCk7CiAgICAgIHJldHVybiBNYXRoLmZsb29yKHNlY29uZHMgKiAxZTMgKyBuYW5vU2Vjb25kcyAvIDFlNik7CiAgICB9LAogICAgcmVzZXQ6ICgpID0+IHsKICAgICAgbGFzdFBvbGwgPSBwcm9jZXNzLmhydGltZSgpOwogICAgfSwKICB9Owp9CgpmdW5jdGlvbiB3YXRjaGRvZ1RpbWVvdXQoKSB7CiAgbG9nKCdXYXRjaGRvZyB0aW1lb3V0Jyk7CgogIGlmIChkZWJ1Z2dlclBhdXNlKSB7CiAgICBsb2coJ1BhdXNpbmcgZGVidWdnZXIgdG8gY2FwdHVyZSBzdGFjayB0cmFjZScpOwogICAgZGVidWdnZXJQYXVzZSgpOwogIH0gZWxzZSB7CiAgICBsb2coJ0NhcHR1cmluZyBldmVudCB3aXRob3V0IGEgc3RhY2sgdHJhY2UnKTsKICAgIHNlbmRBbnJFdmVudCgpLnRoZW4obnVsbCwgKCkgPT4gewogICAgICBsb2coJ1NlbmRpbmcgQU5SIGV2ZW50IGZhaWxlZCBvbiB3YXRjaGRvZyB0aW1lb3V0LicpOwogICAgfSk7CiAgfQp9Cgpjb25zdCB7IHBvbGwgfSA9IHdhdGNoZG9nVGltZXIoY3JlYXRlSHJUaW1lciwgb3B0aW9ucy5wb2xsSW50ZXJ2YWwsIG9wdGlvbnMuYW5yVGhyZXNob2xkLCB3YXRjaGRvZ1RpbWVvdXQpOwoKX29wdGlvbmFsQ2hhaW4oW3BhcmVudFBvcnQsICdvcHRpb25hbEFjY2VzcycsIF82ID0+IF82Lm9uLCAnY2FsbCcsIF83ID0+IF83KCdtZXNzYWdlJywgKG1zZykgPT4gewogIGlmIChtc2cuc2Vzc2lvbikgewogICAgc2Vzc2lvbiA9IG1ha2VTZXNzaW9uKG1zZy5zZXNzaW9uKTsKICB9CgogIHBvbGwoKTsKfSldKTs="});var HA=O((OU,Hse)=>{var{_optionalChain:lZe,_optionalChainDelete:Gse}=ge();Object.defineProperty(OU,"__esModule",{value:!0});var dZe=require("url"),vU=lt(),SU=ge(),CU=Zd(),uZe=Wse(),cZe=50,pZe=5e3;function AU(t,...e){SU.logger.log(`[ANR] ${t}`,...e)}function gZe(){return SU.dynamicRequire(Hse,"worker_threads")}async function mZe(t){let e={message:"ANR"},r={};for(let i of t.getEventProcessors()){if(e===null)break;e=await i(e,r)}return lZe([e,"optionalAccess",i=>i.contexts])||{}}var Zse="Anr",bZe=(t={})=>({name:Zse,setupOnce(){},setup(e){if(CU.NODE_VERSION.major<16||CU.NODE_VERSION.major===16&&CU.NODE_VERSION.minor<17)throw new Error("ANR detection requires Node 16.17.0 or later");setImmediate(()=>yZe(e,t))}}),fZe=vU.convertIntegrationFnToClass(Zse,bZe);async function yZe(t,e){let r=await mZe(t),i=t.getDsn();if(!i)return;Gse([r,"access",p=>p.app,"optionalAccess",p=>delete p.app_memory]),Gse([r,"access",p=>p.device,"optionalAccess",p=>delete p.free_memory]);let o=t.getOptions(),s=t.getSdkMetadata()||{};s.sdk&&(s.sdk.integrations=o.integrations.map(p=>p.name));let l={debug:SU.logger.isEnabled(),dsn:i,environment:o.environment||"production",release:o.release,dist:o.dist,sdkMetadata:s,appRootPath:e.appRootPath,pollInterval:e.pollInterval||cZe,anrThreshold:e.anrThreshold||pZe,captureStackTrace:!!e.captureStackTrace,staticTags:e.staticTags||{},contexts:r};if(l.captureStackTrace){let p=require("inspector");p.url()||p.open(0)}let{Worker:u}=gZe(),c=new u(new dZe.URL(`data:application/javascript;base64,${uZe.base64WorkerScript}`),{workerData:l});process.on("exit",()=>{c.terminate()});let g=setInterval(()=>{try{let p=vU.getCurrentScope().getSession(),f=p?{...p,toJSON:void 0}:void 0;c.postMessage({session:f})}catch{}},l.pollInterval);g.unref(),c.on("message",p=>{p==="session-ended"&&(AU("ANR event sent from ANR worker. Clearing session in this thread."),vU.getCurrentScope().setSession(void 0))}),c.once("error",p=>{clearInterval(g),AU("ANR worker error",p)}),c.once("exit",p=>{clearInterval(g),AU("ANR worker exit",p)}),c.unref()}OU.Anr=fZe});var KA=O(hf=>{Object.defineProperty(hf,"__esModule",{value:!0});var es=lt(),Yse=ge();function Kse(t){return t&&t.statusCode!==void 0}function IZe(t){return t&&t.isBoom!==void 0}function hZe(t){return t&&t.error!==void 0}function qse(t){es.captureException(t,{mechanism:{type:"hapi",handled:!1,data:{function:"hapiErrorPlugin"}}})}var Xse={name:"SentryHapiErrorPlugin",version:es.SDK_VERSION,register:async function(t){t.events.on("request",(r,i)=>{let o=es.getActiveTransaction();r.response&&IZe(r.response)?qse(r.response):hZe(i)&&qse(i.error),o&&(o.setStatus("internal_error"),o.end())})}},zse={name:"SentryHapiTracingPlugin",version:es.SDK_VERSION,register:async function(t){let e=t;e.ext("onPreHandler",(r,i)=>{let o=es.continueTrace({sentryTrace:r.headers["sentry-trace"]||void 0,baggage:r.headers.baggage||void 0},s=>es.startTransaction({...s,op:"hapi.request",name:r.route.path,description:`${r.route.method} ${r.path}`}));return es.getCurrentScope().setSpan(o),i.continue}),e.ext("onPreResponse",(r,i)=>{let o=es.getActiveTransaction();if(r.response&&Kse(r.response)&&o){let s=r.response;s.header("sentry-trace",es.spanToTraceHeader(o));let l=Yse.dynamicSamplingContextToSentryBaggageHeader(es.getDynamicSamplingContextFromSpan(o));l&&s.header("baggage",l)}return i.continue}),e.ext("onPostHandler",(r,i)=>{let o=es.getActiveTransaction();return r.response&&Kse(r.response)&&o&&o.setHttpStatus(r.response.statusCode),o&&o.end(),i.continue})}},Jse="Hapi",xZe=(t={})=>{let e=t.server;return{name:Jse,setupOnce(){e&&Yse.fill(e,"start",r=>async function(){return await this.register(zse),await this.register(Xse),r.apply(this)})}}},CZe=es.convertIntegrationFnToClass(Jse,xZe);hf.Hapi=CZe;hf.hapiErrorPlugin=Xse;hf.hapiTracingPlugin=zse});var DU=O(FU=>{Object.defineProperty(FU,"__esModule",{value:!0});var Qse=require("path"),AZe=ge();function $se(t){return t.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function vZe(t=process.argv[1]?AZe.dirname(process.argv[1]):process.cwd(),e=Qse.sep==="\\"){let r=e?$se(t):t;return i=>{if(!i)return;let o=e?$se(i):i,{dir:s,base:l,ext:u}=Qse.posix.parse(o);(u===".js"||u===".mjs"||u===".cjs")&&(l=l.slice(0,u.length*-1)),s||(s=".");let c=s.lastIndexOf("/node_modules");if(c>-1)return`${s.slice(c+14).replace(/\//g,".")}:${l}`;if(s.startsWith(r)){let g=s.slice(r.length+1).replace(/\//g,".");return g&&(g+=":"),g+=l,g}return l}}FU.createGetModuleFromFilename=vZe});var RU=O(zd=>{var{_optionalChain:SZe}=ge();Object.defineProperty(zd,"__esModule",{value:!0});var ts=lt(),Xd=ge(),OZe=lse(),FZe=_E(),DZe=KE(),RZe=QE(),jZe=nU(),PZe=sU(),_Ze=lU(),TZe=cU(),kZe=pU(),wZe=yU(),EZe=IU(),UZe=xU();HA();KA();var MZe=DU(),LZe=LE(),eoe=[new ts.InboundFilters,new ts.FunctionToString,new ts.LinkedErrors,new DZe.Console,new RZe.Http,new EZe.Undici,new jZe.OnUncaughtException,new PZe.OnUnhandledRejection,new TZe.ContextLines,new wZe.LocalVariables,new kZe.Context,new _Ze.Modules,new ts.RequestData];function VZe(t={}){let e=ts.getMainCarrier();OZe.setNodeAsyncContextStrategy();let r=SZe([e,"access",s=>s.__SENTRY__,"optionalAccess",s=>s.integrations])||[];t.defaultIntegrations=t.defaultIntegrations===!1?[]:[...Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:eoe,...r],t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN);let i=process.env.SENTRY_TRACES_SAMPLE_RATE;if(t.tracesSampleRate===void 0&&i){let s=parseFloat(i);isFinite(s)&&(t.tracesSampleRate=s)}if(t.release===void 0){let s=toe();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&t.dsn!==void 0&&(t.autoSessionTracking=!0),t.instrumenter===void 0&&(t.instrumenter="sentry");let o={...t,stackParser:Xd.stackParserFromStackParserOptions(t.stackParser||roe),integrations:ts.getIntegrationsToSetup(t),transport:t.transport||LZe.makeNodeTransport};if(ts.initAndBind(t.clientClass||FZe.NodeClient,o),t.autoSessionTracking&&NZe(),WZe(),t.spotlight){let s=ts.getClient();if(s&&s.addIntegration){let l=s.getOptions().integrations;for(let u of l)s.addIntegration(u);s.addIntegration(new UZe.Spotlight({sidecarUrl:typeof t.spotlight=="string"?t.spotlight:void 0}))}}}function BZe(t){if(t===void 0)return!1;let e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}function toe(t){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:Xd.GLOBAL_OBJ.SENTRY_RELEASE&&Xd.GLOBAL_OBJ.SENTRY_RELEASE.id?Xd.GLOBAL_OBJ.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||process.env.CF_PAGES_COMMIT_SHA||t}var roe=Xd.createStackParser(Xd.nodeStackLineParser(MZe.createGetModuleFromFilename()));function NZe(){ts.startSession(),process.on("beforeExit",()=>{let t=ts.getIsolationScope().getSession();t&&!["exited","crashed"].includes(t.status)&&ts.endSession()})}function WZe(){let t=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(t)){let e=process.env.SENTRY_TRACE,r=process.env.SENTRY_BAGGAGE,{propagationContext:i}=Xd.tracingContextFromHeaders(e,r);ts.getCurrentScope().setPropagationContext(i)}}zd.defaultIntegrations=eoe;zd.defaultStackParser=roe;zd.getSentryRelease=toe;zd.init=VZe;zd.isAutoSessionTrackingEnabled=BZe});var noe=O(PU=>{Object.defineProperty(PU,"__esModule",{value:!0});var qA=require("fs"),jU=require("path");function GZe(t){let e=jU.resolve(t);if(!qA.existsSync(e))throw new Error(`Cannot read contents of ${e}. Directory does not exist.`);if(!qA.statSync(e).isDirectory())throw new Error(`Cannot read contents of ${e}, because it is not a directory.`);let r=i=>qA.readdirSync(i).reduce((o,s)=>{let l=jU.join(i,s);return qA.statSync(l).isDirectory()?o.concat(r(l)):(o.push(l),o)},[]);return r(e).map(i=>jU.relative(e,i))}PU.deepReadDirSync=GZe});var ioe=O(_U=>{Object.defineProperty(_U,"__esModule",{value:!0});var ZZe=lt(),HZe=HA();function KZe(t){let e=ZZe.getClient();return new HZe.Anr(t).setup(e),Promise.resolve()}_U.enableAnrDetection=KZe});var ooe=O(YA=>{Object.defineProperty(YA,"__esModule",{value:!0});var soe=ge();function qZe(t,e){return soe.extractRequestData(t,{include:e})}function YZe(t,e,r={}){return soe.addRequestDataToEvent(t,e,{include:r})}YA.extractRequestData=qZe;YA.parseRequest=YZe});var loe=O(Pl=>{var{_optionalChain:Fp}=ge();Object.defineProperty(Pl,"__esModule",{value:!0});var mr=lt(),jl=ge(),XZe=yf(),XA=RU(),aoe=ooe();function zZe(){return function(e,r,i){let o=Fp([mr.getClient,"call",p=>p(),"optionalAccess",p=>p.getOptions,"call",p=>p()]);if(!o||o.instrumenter!=="sentry"||Fp([e,"access",p=>p.method,"optionalAccess",p=>p.toUpperCase,"call",p=>p()])==="OPTIONS"||Fp([e,"access",p=>p.method,"optionalAccess",p=>p.toUpperCase,"call",p=>p()])==="HEAD")return i();let s=e.headers&&jl.isString(e.headers["sentry-trace"])?e.headers["sentry-trace"]:void 0,l=Fp([e,"access",p=>p.headers,"optionalAccess",p=>p.baggage]);if(!mr.hasTracingEnabled(o))return i();let[u,c]=jl.extractPathForTransaction(e,{path:!0,method:!0}),g=mr.continueTrace({sentryTrace:s,baggage:l},p=>mr.startTransaction({name:u,op:"http.server",origin:"auto.http.node.tracingHandler",...p,data:{[mr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:c},metadata:{...p.metadata,request:e}},{request:jl.extractRequestData(e)}));mr.getCurrentScope().setSpan(g),r.__sentry_transaction=g,r.once("finish",()=>{setImmediate(()=>{jl.addRequestDataToTransaction(g,e),g.setHttpStatus(r.statusCode),g.end()})}),i()}}function JZe(t={}){let e;if("include"in t)e={include:t.include};else{let{ip:r,request:i,transaction:o,user:s}=t;(r||i||o||s)&&(e={include:jl.dropUndefinedKeys({ip:r,request:i,transaction:o,user:s})})}return e}function QZe(t){let e=JZe(t),r=mr.getClient();if(r&&XA.isAutoSessionTrackingEnabled(r)){r.initSessionFlusher();let i=mr.getCurrentScope();i.getSession()&&i.setSession()}return function(o,s,l){if(t&&t.flushTimeout&&t.flushTimeout>0){let u=s.end;s.end=function(c,g,p){mr.flush(t.flushTimeout).then(()=>{u.call(this,c,g,p)}).then(null,f=>{XZe.DEBUG_BUILD&&jl.logger.error(f),u.call(this,c,g,p)})}}mr.runWithAsyncContext(()=>{let u=mr.getCurrentScope();u.setSDKProcessingMetadata({request:o,requestDataOptionsFromExpressHandler:e});let c=mr.getClient();XA.isAutoSessionTrackingEnabled(c)&&u.setRequestSession({status:"ok"}),s.once("finish",()=>{let g=mr.getClient();XA.isAutoSessionTrackingEnabled(g)&&setImmediate(()=>{g&&g._captureRequestSession&&g._captureRequestSession()})}),l()})}}function $Ze(t){let e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}function eHe(t){return $Ze(t)>=500}function tHe(t){return function(r,i,o,s){if((t&&t.shouldHandleError||eHe)(r)){mr.withScope(u=>{u.setSDKProcessingMetadata({request:i});let c=o.__sentry_transaction;c&&!mr.getActiveSpan()&&u.setSpan(c);let g=mr.getClient();if(g&&XA.isAutoSessionTrackingEnabled(g)&&g._sessionFlusher!==void 0){let I=u.getRequestSession();I&&I.status!==void 0&&(I.status="crashed")}let p=mr.captureException(r,{mechanism:{type:"middleware",handled:!1}});o.sentry=p,s(r)});return}s(r)}}function rHe(t={}){return function({path:e,type:r,next:i,rawInput:o}){let s=Fp([mr.getClient,"call",g=>g(),"optionalAccess",g=>g.getOptions,"call",g=>g()]),l=mr.getCurrentScope().getTransaction();if(l){l.updateName(`trpc/${e}`),l.setAttribute(mr.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,"route"),l.op="rpc.server";let g={procedure_type:r};(t.attachRpcInput!==void 0?t.attachRpcInput:Fp([s,"optionalAccess",p=>p.sendDefaultPii]))&&(g.input=jl.normalize(o)),l.setContext("trpc",g)}function u(g){g.ok||mr.captureException(g.error,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}})}let c;try{c=i()}catch(g){throw mr.captureException(g,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}}),g}return jl.isThenable(c)?Promise.resolve(c).then(g=>{u(g)},g=>{mr.captureException(g,{mechanism:{handled:!1,data:{function:"trpcMiddleware"}}})}):u(c),c}}Pl.extractRequestData=aoe.extractRequestData;Pl.parseRequest=aoe.parseRequest;Pl.errorHandler=tHe;Pl.requestHandler=QZe;Pl.tracingHandler=zZe;Pl.trpcMiddleware=rHe});var doe=O(Ln=>{Object.defineProperty(Ln,"__esModule",{value:!0});var nHe=KE(),iHe=QE(),sHe=nU(),oHe=sU(),aHe=lU(),lHe=cU(),dHe=pU(),uHe=lt(),cHe=yU(),pHe=IU(),gHe=xU(),mHe=HA(),bHe=KA();Ln.Console=nHe.Console;Ln.Http=iHe.Http;Ln.OnUncaughtException=sHe.OnUncaughtException;Ln.OnUnhandledRejection=oHe.OnUnhandledRejection;Ln.Modules=aHe.Modules;Ln.ContextLines=lHe.ContextLines;Ln.Context=dHe.Context;Ln.RequestData=uHe.RequestData;Ln.LocalVariables=cHe.LocalVariables;Ln.Undici=pHe.Undici;Ln.Spotlight=gHe.Spotlight;Ln.Anr=mHe.Anr;Ln.Hapi=bHe.Hapi});var uoe=O(xa=>{Object.defineProperty(xa,"__esModule",{value:!0});var Jd=FE();xa.Apollo=Jd.Apollo;xa.Express=Jd.Express;xa.GraphQL=Jd.GraphQL;xa.Mongo=Jd.Mongo;xa.Mysql=Jd.Mysql;xa.Postgres=Jd.Postgres;xa.Prisma=Jd.Prisma});var zA=O(TU=>{Object.defineProperty(TU,"__esModule",{value:!0});var fHe=[["january","1"],["february","2"],["march","3"],["april","4"],["may","5"],["june","6"],["july","7"],["august","8"],["september","9"],["october","10"],["november","11"],["december","12"],["jan","1"],["feb","2"],["mar","3"],["apr","4"],["may","5"],["jun","6"],["jul","7"],["aug","8"],["sep","9"],["oct","10"],["nov","11"],["dec","12"],["sunday","0"],["monday","1"],["tuesday","2"],["wednesday","3"],["thursday","4"],["friday","5"],["saturday","6"],["sun","0"],["mon","1"],["tue","2"],["wed","3"],["thu","4"],["fri","5"],["sat","6"]];function yHe(t){return fHe.reduce((e,[r,i])=>e.replace(new RegExp(r,"gi"),i),t)}TU.replaceCronNames=yHe});var moe=O(kU=>{Object.defineProperty(kU,"__esModule",{value:!0});var coe=lt(),poe=zA(),goe="Automatic instrumentation of CronJob only supports crontab string";function IHe(t,e){let r=!1;return new Proxy(t,{construct(i,o){let[s,l,u,c,g,...p]=o;if(typeof s!="string")throw new Error(goe);if(r)throw new Error(`A job named '${e}' has already been scheduled`);r=!0;let f=poe.replaceCronNames(s);function I(v,C){return coe.withMonitor(e,()=>l(v,C),{schedule:{type:"crontab",value:f},...g?{timeZone:g}:{}})}return new i(s,I,u,c,g,...p)},get(i,o){return o==="from"?s=>{let{cronTime:l,onTick:u,timeZone:c}=s;if(typeof l!="string")throw new Error(goe);if(r)throw new Error(`A job named '${e}' has already been scheduled`);r=!0;let g=poe.replaceCronNames(l);return s.onTick=(p,f)=>coe.withMonitor(e,()=>u(p,f),{schedule:{type:"crontab",value:g},...c?{timeZone:c}:{}}),i.from(s)}:i[o]}})}kU.instrumentCron=IHe});var foe=O(wU=>{var{_optionalChain:boe}=ge();Object.defineProperty(wU,"__esModule",{value:!0});var hHe=lt(),xHe=zA();function CHe(t){return new Proxy(t,{get(e,r){return r==="schedule"&&e.schedule?new Proxy(e.schedule,{apply(i,o,s){let[l,,u]=s;if(!boe([u,"optionalAccess",c=>c.name]))throw new Error('Missing "name" for scheduled job. A name is required for Sentry check-in monitoring.');return hHe.withMonitor(u.name,()=>i.apply(o,s),{schedule:{type:"crontab",value:xHe.replaceCronNames(l)},timezone:boe([u,"optionalAccess",c=>c.timezone])})}}):e[r]}})}wU.instrumentNodeCron=CHe});var yoe=O(EU=>{Object.defineProperty(EU,"__esModule",{value:!0});var AHe=lt(),vHe=zA();function SHe(t){return new Proxy(t,{get(e,r){return r==="scheduleJob"?new Proxy(e.scheduleJob,{apply(i,o,s){let[l,u]=s;if(typeof l!="string"||typeof u!="string")throw new Error("Automatic instrumentation of 'node-schedule' requires the first parameter of 'scheduleJob' to be a job name string and the second parameter to be a crontab string");let c=l,g=u;return AHe.withMonitor(c,()=>i.apply(o,s),{schedule:{type:"crontab",value:vHe.replaceCronNames(g)}})}}):e[r]}})}EU.instrumentNodeSchedule=SHe});var xf=O(Te=>{Object.defineProperty(Te,"__esModule",{value:!0});var Je=lt(),OHe=Yie(),FHe=_E(),DHe=LE(),JA=RU(),UU=ge(),RHe=noe(),Ioe=DU(),jHe=ioe(),PHe=loe(),_He=doe(),THe=uoe(),kHe=KA(),wHe=moe(),EHe=foe(),UHe=yoe(),MHe=Ioe.createGetModuleFromFilename(),LHe={...Je.Integrations,..._He,...THe},VHe={instrumentCron:wHe.instrumentCron,instrumentNodeCron:EHe.instrumentNodeCron,instrumentNodeSchedule:UHe.instrumentNodeSchedule};Te.Hub=Je.Hub;Te.SDK_VERSION=Je.SDK_VERSION;Te.Scope=Je.Scope;Te.addBreadcrumb=Je.addBreadcrumb;Te.addEventProcessor=Je.addEventProcessor;Te.addGlobalEventProcessor=Je.addGlobalEventProcessor;Te.addIntegration=Je.addIntegration;Te.captureCheckIn=Je.captureCheckIn;Te.captureEvent=Je.captureEvent;Te.captureException=Je.captureException;Te.captureMessage=Je.captureMessage;Te.close=Je.close;Te.configureScope=Je.configureScope;Te.continueTrace=Je.continueTrace;Te.createTransport=Je.createTransport;Te.extractTraceparentData=Je.extractTraceparentData;Te.flush=Je.flush;Te.functionToStringIntegration=Je.functionToStringIntegration;Te.getActiveSpan=Je.getActiveSpan;Te.getActiveTransaction=Je.getActiveTransaction;Te.getClient=Je.getClient;Te.getCurrentHub=Je.getCurrentHub;Te.getCurrentScope=Je.getCurrentScope;Te.getGlobalScope=Je.getGlobalScope;Te.getHubFromCarrier=Je.getHubFromCarrier;Te.getIsolationScope=Je.getIsolationScope;Te.inboundFiltersIntegration=Je.inboundFiltersIntegration;Te.lastEventId=Je.lastEventId;Te.linkedErrorsIntegration=Je.linkedErrorsIntegration;Te.makeMain=Je.makeMain;Te.metrics=Je.metrics;Te.requestDataIntegration=Je.requestDataIntegration;Te.runWithAsyncContext=Je.runWithAsyncContext;Te.setContext=Je.setContext;Te.setCurrentClient=Je.setCurrentClient;Te.setExtra=Je.setExtra;Te.setExtras=Je.setExtras;Te.setMeasurement=Je.setMeasurement;Te.setTag=Je.setTag;Te.setTags=Je.setTags;Te.setUser=Je.setUser;Te.spanStatusfromHttpCode=Je.spanStatusfromHttpCode;Te.startActiveSpan=Je.startActiveSpan;Te.startInactiveSpan=Je.startInactiveSpan;Te.startSpan=Je.startSpan;Te.startSpanManual=Je.startSpanManual;Te.startTransaction=Je.startTransaction;Te.trace=Je.trace;Te.withIsolationScope=Je.withIsolationScope;Te.withMonitor=Je.withMonitor;Te.withScope=Je.withScope;Te.autoDiscoverNodePerformanceMonitoringIntegrations=OHe.autoDiscoverNodePerformanceMonitoringIntegrations;Te.NodeClient=FHe.NodeClient;Te.makeNodeTransport=DHe.makeNodeTransport;Te.defaultIntegrations=JA.defaultIntegrations;Te.defaultStackParser=JA.defaultStackParser;Te.getSentryRelease=JA.getSentryRelease;Te.init=JA.init;Te.DEFAULT_USER_INCLUDES=UU.DEFAULT_USER_INCLUDES;Te.addRequestDataToEvent=UU.addRequestDataToEvent;Te.extractRequestData=UU.extractRequestData;Te.deepReadDirSync=RHe.deepReadDirSync;Te.createGetModuleFromFilename=Ioe.createGetModuleFromFilename;Te.enableAnrDetection=jHe.enableAnrDetection;Te.Handlers=PHe;Te.hapiErrorPlugin=kHe.hapiErrorPlugin;Te.Integrations=LHe;Te.cron=VHe;Te.getModuleFromFilename=MHe});var Aoe=O($A=>{Object.defineProperty($A,"__esModule",{value:!0});var Qd=lt(),$d=ge(),xoe="CaptureConsole",BHe=(t={})=>{let e=t.levels||$d.CONSOLE_LEVELS;return{name:xoe,setupOnce(){},setup(r){"console"in $d.GLOBAL_OBJ&&$d.addConsoleInstrumentationHandler(({args:i,level:o})=>{Qd.getClient()!==r||!e.includes(o)||WHe(i,o)})}}},Coe=Qd.defineIntegration(BHe),NHe=Qd.convertIntegrationFnToClass(xoe,Coe);function WHe(t,e){let r={level:$d.severityLevelFromString(e),extra:{arguments:t}};Qd.withScope(i=>{if(i.addEventProcessor(l=>(l.logger="console",$d.addExceptionMechanism(l,{handled:!1,type:"console"}),l)),e==="assert"&&t[0]===!1){let l=`Assertion failed: ${$d.safeJoin(t.slice(1)," ")||"console.assert"}`;i.setExtra("arguments",t.slice(1)),Qd.captureMessage(l,r);return}let o=t.find(l=>l instanceof Error);if(e==="error"&&o){Qd.captureException(o,r);return}let s=$d.safeJoin(t," ");Qd.captureMessage(s,r)})}$A.CaptureConsole=NHe;$A.captureConsoleIntegration=Coe});var Foe=O(ev=>{Object.defineProperty(ev,"__esModule",{value:!0});var voe=lt(),GHe=ge(),Soe="Debug",ZHe=(t={})=>{let e={debugger:!1,stringify:!1,...t};return{name:Soe,setupOnce(){},setup(r){r.on&&r.on("beforeSendEvent",(i,o)=>{if(e.debugger)debugger;GHe.consoleSandbox(()=>{e.stringify?(console.log(JSON.stringify(i,null,2)),o&&Object.keys(o).length&&console.log(JSON.stringify(o,null,2))):(console.log(i),o&&Object.keys(o).length&&console.log(o))})})}}},Ooe=voe.defineIntegration(ZHe),HHe=voe.convertIntegrationFnToClass(Soe,Ooe);ev.Debug=HHe;ev.debugIntegration=Ooe});var Cf=O(MU=>{Object.defineProperty(MU,"__esModule",{value:!0});var KHe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;MU.DEBUG_BUILD=KHe});var Eoe=O(Af=>{Object.defineProperty(Af,"__esModule",{value:!0});var joe=lt(),qHe=ge(),YHe=Cf(),Poe="Dedupe",XHe=()=>{let t;return{name:Poe,setupOnce(){},processEvent(e){if(e.type)return e;try{if(Toe(e,t))return YHe.DEBUG_BUILD&&qHe.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},_oe=joe.defineIntegration(XHe),zHe=joe.convertIntegrationFnToClass(Poe,_oe);function Toe(t,e){return e?!!(JHe(t,e)||QHe(t,e)):!1}function JHe(t,e){let r=t.message,i=e.message;return!(!r&&!i||r&&!i||!r&&i||r!==i||!woe(t,e)||!koe(t,e))}function QHe(t,e){let r=Doe(e),i=Doe(t);return!(!r||!i||r.type!==i.type||r.value!==i.value||!woe(t,e)||!koe(t,e))}function koe(t,e){let r=Roe(t),i=Roe(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||(r=r,i=i,i.length!==r.length))return!1;for(let o=0;o<i.length;o++){let s=i[o],l=r[o];if(s.filename!==l.filename||s.lineno!==l.lineno||s.colno!==l.colno||s.function!==l.function)return!1}return!0}function woe(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;r=r,i=i;try{return r.join("")===i.join("")}catch{return!1}}function Doe(t){return t.exception&&t.exception.values&&t.exception.values[0]}function Roe(t){let e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}Af.Dedupe=zHe;Af._shouldDropEvent=Toe;Af.dedupeIntegration=_oe});var Voe=O(tv=>{Object.defineProperty(tv,"__esModule",{value:!0});var Uoe=lt(),Tl=ge(),$He=Cf(),Moe="ExtraErrorData",eKe=(t={})=>{let e=t.depth||3,r=t.captureErrorCause||!1;return{name:Moe,setupOnce(){},processEvent(i,o){return rKe(i,o,e,r)}}},Loe=Uoe.defineIntegration(eKe),tKe=Uoe.convertIntegrationFnToClass(Moe,Loe);function rKe(t,e={},r,i){if(!e.originalException||!Tl.isError(e.originalException))return t;let o=e.originalException.name||e.originalException.constructor.name,s=nKe(e.originalException,i);if(s){let l={...t.contexts},u=Tl.normalize(s,r);return Tl.isPlainObject(u)&&(Tl.addNonEnumerableProperty(u,"__sentry_skip_normalization__",!0),l[o]=u),{...t,contexts:l}}return t}function nKe(t,e){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(let o of Object.keys(t)){if(r.indexOf(o)!==-1)continue;let s=t[o];i[o]=Tl.isError(s)?s.toString():s}if(e&&t.cause!==void 0&&(i.cause=Tl.isError(t.cause)?t.cause.toString():t.cause),typeof t.toJSON=="function"){let o=t.toJSON();for(let s of Object.keys(o)){let l=o[s];i[s]=Tl.isError(l)?l.toString():l}}return i}catch(r){$He.DEBUG_BUILD&&Tl.logger.error("Unable to extract extra data from the Error object:",r)}return null}tv.ExtraErrorData=tKe;tv.extraErrorDataIntegration=Loe});var Noe=O((Boe,LU)=>{(function(t){if(typeof Boe=="object"&&typeof LU<"u")LU.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=t()}})(function(){var t,e,r;return function i(o,s,l){function u(p,f){if(!s[p]){if(!o[p]){var I=typeof require=="function"&&require;if(!f&&I)return I(p,!0);if(c)return c(p,!0);var v=new Error("Cannot find module '"+p+"'");throw v.code="MODULE_NOT_FOUND",v}var C=s[p]={exports:{}};o[p][0].call(C.exports,function(F){var P=o[p][1][F];return u(P||F)},C,C.exports,i,o,s,l)}return s[p].exports}for(var c=typeof require=="function"&&require,g=0;g<l.length;g++)u(l[g]);return u}({1:[function(i,o,s){(function(l){"use strict";var u=l.MutationObserver||l.WebKitMutationObserver,c;if(u){var g=0,p=new u(F),f=l.document.createTextNode("");p.observe(f,{characterData:!0}),c=function(){f.data=g=++g%2}}else if(!l.setImmediate&&typeof l.MessageChannel<"u"){var I=new l.MessageChannel;I.port1.onmessage=F,c=function(){I.port2.postMessage(0)}}else"document"in l&&"onreadystatechange"in l.document.createElement("script")?c=function(){var E=l.document.createElement("script");E.onreadystatechange=function(){F(),E.onreadystatechange=null,E.parentNode.removeChild(E),E=null},l.document.documentElement.appendChild(E)}:c=function(){setTimeout(F,0)};var v,C=[];function F(){v=!0;for(var E,J,k=C.length;k;){for(J=C,C=[],E=-1;++E<k;)J[E]();k=C.length}v=!1}o.exports=P;function P(E){C.push(E)===1&&!v&&c()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,o,s){"use strict";var l=i(1);function u(){}var c={},g=["REJECTED"],p=["FULFILLED"],f=["PENDING"];o.exports=I;function I(Q){if(typeof Q!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,Q!==u&&P(this,Q)}I.prototype.catch=function(Q){return this.then(null,Q)},I.prototype.then=function(Q,he){if(typeof Q!="function"&&this.state===p||typeof he!="function"&&this.state===g)return this;var me=new this.constructor(u);if(this.state!==f){var z=this.state===p?Q:he;C(me,z,this.outcome)}else this.queue.push(new v(me,Q,he));return me};function v(Q,he,me){this.promise=Q,typeof he=="function"&&(this.onFulfilled=he,this.callFulfilled=this.otherCallFulfilled),typeof me=="function"&&(this.onRejected=me,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(Q){c.resolve(this.promise,Q)},v.prototype.otherCallFulfilled=function(Q){C(this.promise,this.onFulfilled,Q)},v.prototype.callRejected=function(Q){c.reject(this.promise,Q)},v.prototype.otherCallRejected=function(Q){C(this.promise,this.onRejected,Q)};function C(Q,he,me){l(function(){var z;try{z=he(me)}catch(fe){return c.reject(Q,fe)}z===Q?c.reject(Q,new TypeError("Cannot resolve promise with itself")):c.resolve(Q,z)})}c.resolve=function(Q,he){var me=E(F,he);if(me.status==="error")return c.reject(Q,me.value);var z=me.value;if(z)P(Q,z);else{Q.state=p,Q.outcome=he;for(var fe=-1,N=Q.queue.length;++fe<N;)Q.queue[fe].callFulfilled(he)}return Q},c.reject=function(Q,he){Q.state=g,Q.outcome=he;for(var me=-1,z=Q.queue.length;++me<z;)Q.queue[me].callRejected(he);return Q};function F(Q){var he=Q&&Q.then;if(Q&&(typeof Q=="object"||typeof Q=="function")&&typeof he=="function")return function(){he.apply(Q,arguments)}}function P(Q,he){var me=!1;function z(Re){me||(me=!0,c.reject(Q,Re))}function fe(Re){me||(me=!0,c.resolve(Q,Re))}function N(){he(fe,z)}var Fe=E(N);Fe.status==="error"&&z(Fe.value)}function E(Q,he){var me={};try{me.value=Q(he),me.status="success"}catch(z){me.status="error",me.value=z}return me}I.resolve=J;function J(Q){return Q instanceof this?Q:c.resolve(new this(u),Q)}I.reject=k;function k(Q){var he=new this(u);return c.reject(he,Q)}I.all=ee;function ee(Q){var he=this;if(Object.prototype.toString.call(Q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var me=Q.length,z=!1;if(!me)return this.resolve([]);for(var fe=new Array(me),N=0,Fe=-1,Re=new this(u);++Fe<me;)_e(Q[Fe],Fe);return Re;function _e(W,Z){he.resolve(W).then(ae,function(se){z||(z=!0,c.reject(Re,se))});function ae(se){fe[Z]=se,++N===me&&!z&&(z=!0,c.resolve(Re,fe))}}}I.race=ce;function ce(Q){var he=this;if(Object.prototype.toString.call(Q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var me=Q.length,z=!1;if(!me)return this.resolve([]);for(var fe=-1,N=new this(u);++fe<me;)Fe(Q[fe]);return N;function Fe(Re){he.resolve(Re).then(function(_e){z||(z=!0,c.resolve(N,_e))},function(_e){z||(z=!0,c.reject(N,_e))})}}},{1:1}],3:[function(i,o,s){(function(l){"use strict";typeof l.Promise!="function"&&(l.Promise=i(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,o,s){"use strict";var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function u(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var g=c();function p(){try{if(!g||!g.open)return!1;var R=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!R||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(R,M){R=R||[],M=M||{};try{return new Blob(R,M)}catch(V){if(V.name!=="TypeError")throw V;for(var _=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,B=new _,K=0;K<R.length;K+=1)B.append(R[K]);return B.getBlob(M.type)}}typeof Promise>"u"&&i(3);var I=Promise;function v(R,M){M&&R.then(function(_){M(null,_)},function(_){M(_)})}function C(R,M,_){typeof M=="function"&&R.then(M),typeof _=="function"&&R.catch(_)}function F(R){return typeof R!="string"&&(console.warn(R+" used as a key, but it is not a string."),R=String(R)),R}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var E="local-forage-detect-blob-support",J=void 0,k={},ee=Object.prototype.toString,ce="readonly",Q="readwrite";function he(R){for(var M=R.length,_=new ArrayBuffer(M),B=new Uint8Array(_),K=0;K<M;K++)B[K]=R.charCodeAt(K);return _}function me(R){return new I(function(M){var _=R.transaction(E,Q),B=f([""]);_.objectStore(E).put(B,"key"),_.onabort=function(K){K.preventDefault(),K.stopPropagation(),M(!1)},_.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),V=navigator.userAgent.match(/Edge\//);M(V||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function z(R){return typeof J=="boolean"?I.resolve(J):me(R).then(function(M){return J=M,J})}function fe(R){var M=k[R.name],_={};_.promise=new I(function(B,K){_.resolve=B,_.reject=K}),M.deferredOperations.push(_),M.dbReady?M.dbReady=M.dbReady.then(function(){return _.promise}):M.dbReady=_.promise}function N(R){var M=k[R.name],_=M.deferredOperations.pop();if(_)return _.resolve(),_.promise}function Fe(R,M){var _=k[R.name],B=_.deferredOperations.pop();if(B)return B.reject(M),B.promise}function Re(R,M){return new I(function(_,B){if(k[R.name]=k[R.name]||Ge(),R.db)if(M)fe(R),R.db.close();else return _(R.db);var K=[R.name];M&&K.push(R.version);var V=g.open.apply(g,K);M&&(V.onupgradeneeded=function(le){var Ie=V.result;try{Ie.createObjectStore(R.storeName),le.oldVersion<=1&&Ie.createObjectStore(E)}catch(xe){if(xe.name==="ConstraintError")console.warn('The database "'+R.name+'" has been upgraded from version '+le.oldVersion+" to version "+le.newVersion+', but the storage "'+R.storeName+'" already exists.');else throw xe}}),V.onerror=function(le){le.preventDefault(),B(V.error)},V.onsuccess=function(){var le=V.result;le.onversionchange=function(Ie){Ie.target.close()},_(le),N(R)}})}function _e(R){return Re(R,!1)}function W(R){return Re(R,!0)}function Z(R,M){if(!R.db)return!0;var _=!R.db.objectStoreNames.contains(R.storeName),B=R.version<R.db.version,K=R.version>R.db.version;if(B&&(R.version!==M&&console.warn('The database "'+R.name+`" can't be downgraded from version `+R.db.version+" to version "+R.version+"."),R.version=R.db.version),K||_){if(_){var V=R.db.version+1;V>R.version&&(R.version=V)}return!0}return!1}function ae(R){return new I(function(M,_){var B=new FileReader;B.onerror=_,B.onloadend=function(K){var V=btoa(K.target.result||"");M({__local_forage_encoded_blob:!0,data:V,type:R.type})},B.readAsBinaryString(R)})}function se(R){var M=he(atob(R.data));return f([M],{type:R.type})}function Ae(R){return R&&R.__local_forage_encoded_blob}function or(R){var M=this,_=M._initReady().then(function(){var B=k[M._dbInfo.name];if(B&&B.dbReady)return B.dbReady});return C(_,R,R),_}function vt(R){fe(R);for(var M=k[R.name],_=M.forages,B=0;B<_.length;B++){var K=_[B];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return R.db=null,_e(R).then(function(V){return R.db=V,Z(R)?W(R):V}).then(function(V){R.db=M.db=V;for(var le=0;le<_.length;le++)_[le]._dbInfo.db=V}).catch(function(V){throw Fe(R,V),V})}function Jt(R,M,_,B){B===void 0&&(B=1);try{var K=R.db.transaction(R.storeName,M);_(null,K)}catch(V){if(B>0&&(!R.db||V.name==="InvalidStateError"||V.name==="NotFoundError"))return I.resolve().then(function(){if(!R.db||V.name==="NotFoundError"&&!R.db.objectStoreNames.contains(R.storeName)&&R.version<=R.db.version)return R.db&&(R.version=R.db.version+1),W(R)}).then(function(){return vt(R).then(function(){Jt(R,M,_,B-1)})}).catch(_);_(V)}}function Ge(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ir(R){var M=this,_={db:null};if(R)for(var B in R)_[B]=R[B];var K=k[_.name];K||(K=Ge(),k[_.name]=K),K.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=or);var V=[];function le(){return I.resolve()}for(var Ie=0;Ie<K.forages.length;Ie++){var xe=K.forages[Ie];xe!==M&&V.push(xe._initReady().catch(le))}var ve=K.forages.slice(0);return I.all(V).then(function(){return _.db=K.db,_e(_)}).then(function(Se){return _.db=Se,Z(_,M._defaultConfig.version)?W(_):Se}).then(function(Se){_.db=K.db=Se,M._dbInfo=_;for(var Me=0;Me<ve.length;Me++){var mt=ve[Me];mt!==M&&(mt._dbInfo.db=_.db,mt._dbInfo.version=_.version)}})}function ar(R,M){var _=this;R=F(R);var B=new I(function(K,V){_.ready().then(function(){Jt(_._dbInfo,ce,function(le,Ie){if(le)return V(le);try{var xe=Ie.objectStore(_._dbInfo.storeName),ve=xe.get(R);ve.onsuccess=function(){var Se=ve.result;Se===void 0&&(Se=null),Ae(Se)&&(Se=se(Se)),K(Se)},ve.onerror=function(){V(ve.error)}}catch(Se){V(Se)}})}).catch(V)});return v(B,M),B}function it(R,M){var _=this,B=new I(function(K,V){_.ready().then(function(){Jt(_._dbInfo,ce,function(le,Ie){if(le)return V(le);try{var xe=Ie.objectStore(_._dbInfo.storeName),ve=xe.openCursor(),Se=1;ve.onsuccess=function(){var Me=ve.result;if(Me){var mt=Me.value;Ae(mt)&&(mt=se(mt));var ht=R(mt,Me.key,Se++);ht!==void 0?K(ht):Me.continue()}else K()},ve.onerror=function(){V(ve.error)}}catch(Me){V(Me)}})}).catch(V)});return v(B,M),B}function mn(R,M,_){var B=this;R=F(R);var K=new I(function(V,le){var Ie;B.ready().then(function(){return Ie=B._dbInfo,ee.call(M)==="[object Blob]"?z(Ie.db).then(function(xe){return xe?M:ae(M)}):M}).then(function(xe){Jt(B._dbInfo,Q,function(ve,Se){if(ve)return le(ve);try{var Me=Se.objectStore(B._dbInfo.storeName);xe===null&&(xe=void 0);var mt=Me.put(xe,R);Se.oncomplete=function(){xe===void 0&&(xe=null),V(xe)},Se.onabort=Se.onerror=function(){var ht=mt.error?mt.error:mt.transaction.error;le(ht)}}catch(ht){le(ht)}})}).catch(le)});return v(K,_),K}function Fr(R,M){var _=this;R=F(R);var B=new I(function(K,V){_.ready().then(function(){Jt(_._dbInfo,Q,function(le,Ie){if(le)return V(le);try{var xe=Ie.objectStore(_._dbInfo.storeName),ve=xe.delete(R);Ie.oncomplete=function(){K()},Ie.onerror=function(){V(ve.error)},Ie.onabort=function(){var Se=ve.error?ve.error:ve.transaction.error;V(Se)}}catch(Se){V(Se)}})}).catch(V)});return v(B,M),B}function je(R){var M=this,_=new I(function(B,K){M.ready().then(function(){Jt(M._dbInfo,Q,function(V,le){if(V)return K(V);try{var Ie=le.objectStore(M._dbInfo.storeName),xe=Ie.clear();le.oncomplete=function(){B()},le.onabort=le.onerror=function(){var ve=xe.error?xe.error:xe.transaction.error;K(ve)}}catch(ve){K(ve)}})}).catch(K)});return v(_,R),_}function Ft(R){var M=this,_=new I(function(B,K){M.ready().then(function(){Jt(M._dbInfo,ce,function(V,le){if(V)return K(V);try{var Ie=le.objectStore(M._dbInfo.storeName),xe=Ie.count();xe.onsuccess=function(){B(xe.result)},xe.onerror=function(){K(xe.error)}}catch(ve){K(ve)}})}).catch(K)});return v(_,R),_}function Oe(R,M){var _=this,B=new I(function(K,V){if(R<0){K(null);return}_.ready().then(function(){Jt(_._dbInfo,ce,function(le,Ie){if(le)return V(le);try{var xe=Ie.objectStore(_._dbInfo.storeName),ve=!1,Se=xe.openKeyCursor();Se.onsuccess=function(){var Me=Se.result;if(!Me){K(null);return}R===0||ve?K(Me.key):(ve=!0,Me.advance(R))},Se.onerror=function(){V(Se.error)}}catch(Me){V(Me)}})}).catch(V)});return v(B,M),B}function Ye(R){var M=this,_=new I(function(B,K){M.ready().then(function(){Jt(M._dbInfo,ce,function(V,le){if(V)return K(V);try{var Ie=le.objectStore(M._dbInfo.storeName),xe=Ie.openKeyCursor(),ve=[];xe.onsuccess=function(){var Se=xe.result;if(!Se){B(ve);return}ve.push(Se.key),Se.continue()},xe.onerror=function(){K(xe.error)}}catch(Se){K(Se)}})}).catch(K)});return v(_,R),_}function Tt(R,M){M=P.apply(this,arguments);var _=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||_.name,R.storeName=R.storeName||_.storeName);var B=this,K;if(!R.name)K=I.reject("Invalid arguments");else{var V=R.name===_.name&&B._dbInfo.db,le=V?I.resolve(B._dbInfo.db):_e(R).then(function(Ie){var xe=k[R.name],ve=xe.forages;xe.db=Ie;for(var Se=0;Se<ve.length;Se++)ve[Se]._dbInfo.db=Ie;return Ie});R.storeName?K=le.then(function(Ie){if(Ie.objectStoreNames.contains(R.storeName)){var xe=Ie.version+1;fe(R);var ve=k[R.name],Se=ve.forages;Ie.close();for(var Me=0;Me<Se.length;Me++){var mt=Se[Me];mt._dbInfo.db=null,mt._dbInfo.version=xe}var ht=new I(function(Dt,lr){var dr=g.open(R.name,xe);dr.onerror=function(Rn){var Ta=dr.result;Ta.close(),lr(Rn)},dr.onupgradeneeded=function(){var Rn=dr.result;Rn.deleteObjectStore(R.storeName)},dr.onsuccess=function(){var Rn=dr.result;Rn.close(),Dt(Rn)}});return ht.then(function(Dt){ve.db=Dt;for(var lr=0;lr<Se.length;lr++){var dr=Se[lr];dr._dbInfo.db=Dt,N(dr._dbInfo)}}).catch(function(Dt){throw(Fe(R,Dt)||I.resolve()).catch(function(){}),Dt})}}):K=le.then(function(Ie){fe(R);var xe=k[R.name],ve=xe.forages;Ie.close();for(var Se=0;Se<ve.length;Se++){var Me=ve[Se];Me._dbInfo.db=null}var mt=new I(function(ht,Dt){var lr=g.deleteDatabase(R.name);lr.onerror=function(){var dr=lr.result;dr&&dr.close(),Dt(lr.error)},lr.onblocked=function(){console.warn('dropInstance blocked for database "'+R.name+'" until all open connections are closed')},lr.onsuccess=function(){var dr=lr.result;dr&&dr.close(),ht(dr)}});return mt.then(function(ht){xe.db=ht;for(var Dt=0;Dt<ve.length;Dt++){var lr=ve[Dt];N(lr._dbInfo)}}).catch(function(ht){throw(Fe(R,ht)||I.resolve()).catch(function(){}),ht})})}return v(K,M),K}var Br={_driver:"asyncStorage",_initStorage:Ir,_support:p(),iterate:it,getItem:ar,setItem:mn,removeItem:Fr,clear:je,length:Ft,key:Oe,keys:Ye,dropInstance:Tt};function kt(){return typeof openDatabase=="function"}var Dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Da="~~local_forage_type~",Ra=/^~~local_forage_type~([^~]+)~/,bn="__lfsc__:",Io=bn.length,ja="arbf",Xp="blob",Pa="si08",ey="ui08",_a="uic8",ho="si16",hu="si32",xu="ur16",Cu="ui32",Au="fl32",vu="fl64",Su=Io+ja.length,Ou=Object.prototype.toString;function Fu(R){var M=R.length*.75,_=R.length,B,K=0,V,le,Ie,xe;R[R.length-1]==="="&&(M--,R[R.length-2]==="="&&M--);var ve=new ArrayBuffer(M),Se=new Uint8Array(ve);for(B=0;B<_;B+=4)V=Dn.indexOf(R[B]),le=Dn.indexOf(R[B+1]),Ie=Dn.indexOf(R[B+2]),xe=Dn.indexOf(R[B+3]),Se[K++]=V<<2|le>>4,Se[K++]=(le&15)<<4|Ie>>2,Se[K++]=(Ie&3)<<6|xe&63;return ve}function Gl(R){var M=new Uint8Array(R),_="",B;for(B=0;B<M.length;B+=3)_+=Dn[M[B]>>2],_+=Dn[(M[B]&3)<<4|M[B+1]>>4],_+=Dn[(M[B+1]&15)<<2|M[B+2]>>6],_+=Dn[M[B+2]&63];return M.length%3===2?_=_.substring(0,_.length-1)+"=":M.length%3===1&&(_=_.substring(0,_.length-2)+"=="),_}function pS(R,M){var _="";if(R&&(_=Ou.call(R)),R&&(_==="[object ArrayBuffer]"||R.buffer&&Ou.call(R.buffer)==="[object ArrayBuffer]")){var B,K=bn;R instanceof ArrayBuffer?(B=R,K+=ja):(B=R.buffer,_==="[object Int8Array]"?K+=Pa:_==="[object Uint8Array]"?K+=ey:_==="[object Uint8ClampedArray]"?K+=_a:_==="[object Int16Array]"?K+=ho:_==="[object Uint16Array]"?K+=xu:_==="[object Int32Array]"?K+=hu:_==="[object Uint32Array]"?K+=Cu:_==="[object Float32Array]"?K+=Au:_==="[object Float64Array]"?K+=vu:M(new Error("Failed to get type for BinaryArray"))),M(K+Gl(B))}else if(_==="[object Blob]"){var V=new FileReader;V.onload=function(){var le=Da+R.type+"~"+Gl(this.result);M(bn+Xp+le)},V.readAsArrayBuffer(R)}else try{M(JSON.stringify(R))}catch(le){console.error("Couldn't convert value into a JSON string: ",R),M(null,le)}}function gS(R){if(R.substring(0,Io)!==bn)return JSON.parse(R);var M=R.substring(Su),_=R.substring(Io,Su),B;if(_===Xp&&Ra.test(M)){var K=M.match(Ra);B=K[1],M=M.substring(K[0].length)}var V=Fu(M);switch(_){case ja:return V;case Xp:return f([V],{type:B});case Pa:return new Int8Array(V);case ey:return new Uint8Array(V);case _a:return new Uint8ClampedArray(V);case ho:return new Int16Array(V);case xu:return new Uint16Array(V);case hu:return new Int32Array(V);case Cu:return new Uint32Array(V);case Au:return new Float32Array(V);case vu:return new Float64Array(V);default:throw new Error("Unkown type: "+_)}}var zp={serialize:pS,deserialize:gS,stringToBuffer:Fu,bufferToString:Gl};function Jp(R,M,_,B){R.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],_,B)}function ty(R){var M=this,_={db:null};if(R)for(var B in R)_[B]=typeof R[B]!="string"?R[B].toString():R[B];var K=new I(function(V,le){try{_.db=openDatabase(_.name,String(_.version),_.description,_.size)}catch(Ie){return le(Ie)}_.db.transaction(function(Ie){Jp(Ie,_,function(){M._dbInfo=_,V()},function(xe,ve){le(ve)})},le)});return _.serializer=zp,K}function Rs(R,M,_,B,K,V){R.executeSql(_,B,K,function(le,Ie){Ie.code===Ie.SYNTAX_ERR?le.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(xe,ve){ve.rows.length?V(xe,Ie):Jp(xe,M,function(){xe.executeSql(_,B,K,V)},V)},V):V(le,Ie)},V)}function mS(R,M){var _=this;R=F(R);var B=new I(function(K,V){_.ready().then(function(){var le=_._dbInfo;le.db.transaction(function(Ie){Rs(Ie,le,"SELECT * FROM "+le.storeName+" WHERE key = ? LIMIT 1",[R],function(xe,ve){var Se=ve.rows.length?ve.rows.item(0).value:null;Se&&(Se=le.serializer.deserialize(Se)),K(Se)},function(xe,ve){V(ve)})})}).catch(V)});return v(B,M),B}function bS(R,M){var _=this,B=new I(function(K,V){_.ready().then(function(){var le=_._dbInfo;le.db.transaction(function(Ie){Rs(Ie,le,"SELECT * FROM "+le.storeName,[],function(xe,ve){for(var Se=ve.rows,Me=Se.length,mt=0;mt<Me;mt++){var ht=Se.item(mt),Dt=ht.value;if(Dt&&(Dt=le.serializer.deserialize(Dt)),Dt=R(Dt,ht.key,mt+1),Dt!==void 0){K(Dt);return}}K()},function(xe,ve){V(ve)})})}).catch(V)});return v(B,M),B}function ry(R,M,_,B){var K=this;R=F(R);var V=new I(function(le,Ie){K.ready().then(function(){M===void 0&&(M=null);var xe=M,ve=K._dbInfo;ve.serializer.serialize(M,function(Se,Me){Me?Ie(Me):ve.db.transaction(function(mt){Rs(mt,ve,"INSERT OR REPLACE INTO "+ve.storeName+" (key, value) VALUES (?, ?)",[R,Se],function(){le(xe)},function(ht,Dt){Ie(Dt)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(B>0){le(ry.apply(K,[R,xe,_,B-1]));return}Ie(mt)}})})}).catch(Ie)});return v(V,_),V}function ny(R,M,_){return ry.apply(this,[R,M,_,1])}function fS(R,M){var _=this;R=F(R);var B=new I(function(K,V){_.ready().then(function(){var le=_._dbInfo;le.db.transaction(function(Ie){Rs(Ie,le,"DELETE FROM "+le.storeName+" WHERE key = ?",[R],function(){K()},function(xe,ve){V(ve)})})}).catch(V)});return v(B,M),B}function yS(R){var M=this,_=new I(function(B,K){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(le){Rs(le,V,"DELETE FROM "+V.storeName,[],function(){B()},function(Ie,xe){K(xe)})})}).catch(K)});return v(_,R),_}function IS(R){var M=this,_=new I(function(B,K){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(le){Rs(le,V,"SELECT COUNT(key) as c FROM "+V.storeName,[],function(Ie,xe){var ve=xe.rows.item(0).c;B(ve)},function(Ie,xe){K(xe)})})}).catch(K)});return v(_,R),_}function Qp(R,M){var _=this,B=new I(function(K,V){_.ready().then(function(){var le=_._dbInfo;le.db.transaction(function(Ie){Rs(Ie,le,"SELECT key FROM "+le.storeName+" WHERE id = ? LIMIT 1",[R+1],function(xe,ve){var Se=ve.rows.length?ve.rows.item(0).key:null;K(Se)},function(xe,ve){V(ve)})})}).catch(V)});return v(B,M),B}function hS(R){var M=this,_=new I(function(B,K){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(le){Rs(le,V,"SELECT key FROM "+V.storeName,[],function(Ie,xe){for(var ve=[],Se=0;Se<xe.rows.length;Se++)ve.push(xe.rows.item(Se).key);B(ve)},function(Ie,xe){K(xe)})})}).catch(K)});return v(_,R),_}function $p(R){return new I(function(M,_){R.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,V){for(var le=[],Ie=0;Ie<V.rows.length;Ie++)le.push(V.rows.item(Ie).name);M({db:R,storeNames:le})},function(K,V){_(V)})},function(B){_(B)})})}function xS(R,M){M=P.apply(this,arguments);var _=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||_.name,R.storeName=R.storeName||_.storeName);var B=this,K;return R.name?K=new I(function(V){var le;R.name===_.name?le=B._dbInfo.db:le=openDatabase(R.name,"","",0),R.storeName?V({db:le,storeNames:[R.storeName]}):V($p(le))}).then(function(V){return new I(function(le,Ie){V.db.transaction(function(xe){function ve(ht){return new I(function(Dt,lr){xe.executeSql("DROP TABLE IF EXISTS "+ht,[],function(){Dt()},function(dr,Rn){lr(Rn)})})}for(var Se=[],Me=0,mt=V.storeNames.length;Me<mt;Me++)Se.push(ve(V.storeNames[Me]));I.all(Se).then(function(){le()}).catch(function(ht){Ie(ht)})},function(xe){Ie(xe)})})}):K=I.reject("Invalid arguments"),v(K,M),K}var CS={_driver:"webSQLStorage",_initStorage:ty,_support:kt(),iterate:bS,getItem:mS,setItem:ny,removeItem:fS,clear:yS,length:IS,key:Qp,keys:hS,dropInstance:xS};function AS(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function iy(R,M){var _=R.name+"/";return R.storeName!==M.storeName&&(_+=R.storeName+"/"),_}function vS(){var R="_localforage_support_test";try{return localStorage.setItem(R,!0),localStorage.removeItem(R),!1}catch{return!0}}function SS(){return!vS()||localStorage.length>0}function OS(R){var M=this,_={};if(R)for(var B in R)_[B]=R[B];return _.keyPrefix=iy(R,M._defaultConfig),SS()?(M._dbInfo=_,_.serializer=zp,I.resolve()):I.reject()}function FS(R){var M=this,_=M.ready().then(function(){for(var B=M._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var V=localStorage.key(K);V.indexOf(B)===0&&localStorage.removeItem(V)}});return v(_,R),_}function sy(R,M){var _=this;R=F(R);var B=_.ready().then(function(){var K=_._dbInfo,V=localStorage.getItem(K.keyPrefix+R);return V&&(V=K.serializer.deserialize(V)),V});return v(B,M),B}function DS(R,M){var _=this,B=_.ready().then(function(){for(var K=_._dbInfo,V=K.keyPrefix,le=V.length,Ie=localStorage.length,xe=1,ve=0;ve<Ie;ve++){var Se=localStorage.key(ve);if(Se.indexOf(V)===0){var Me=localStorage.getItem(Se);if(Me&&(Me=K.serializer.deserialize(Me)),Me=R(Me,Se.substring(le),xe++),Me!==void 0)return Me}}});return v(B,M),B}function RS(R,M){var _=this,B=_.ready().then(function(){var K=_._dbInfo,V;try{V=localStorage.key(R)}catch{V=null}return V&&(V=V.substring(K.keyPrefix.length)),V});return v(B,M),B}function jS(R){var M=this,_=M.ready().then(function(){for(var B=M._dbInfo,K=localStorage.length,V=[],le=0;le<K;le++){var Ie=localStorage.key(le);Ie.indexOf(B.keyPrefix)===0&&V.push(Ie.substring(B.keyPrefix.length))}return V});return v(_,R),_}function PS(R){var M=this,_=M.keys().then(function(B){return B.length});return v(_,R),_}function _S(R,M){var _=this;R=F(R);var B=_.ready().then(function(){var K=_._dbInfo;localStorage.removeItem(K.keyPrefix+R)});return v(B,M),B}function TS(R,M,_){var B=this;R=F(R);var K=B.ready().then(function(){M===void 0&&(M=null);var V=M;return new I(function(le,Ie){var xe=B._dbInfo;xe.serializer.serialize(M,function(ve,Se){if(Se)Ie(Se);else try{localStorage.setItem(xe.keyPrefix+R,ve),le(V)}catch(Me){(Me.name==="QuotaExceededError"||Me.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ie(Me),Ie(Me)}})})});return v(K,_),K}function Du(R,M){if(M=P.apply(this,arguments),R=typeof R!="function"&&R||{},!R.name){var _=this.config();R.name=R.name||_.name,R.storeName=R.storeName||_.storeName}var B=this,K;return R.name?K=new I(function(V){R.storeName?V(iy(R,B._defaultConfig)):V(R.name+"/")}).then(function(V){for(var le=localStorage.length-1;le>=0;le--){var Ie=localStorage.key(le);Ie.indexOf(V)===0&&localStorage.removeItem(Ie)}}):K=I.reject("Invalid arguments"),v(K,M),K}var kS={_driver:"localStorageWrapper",_initStorage:OS,_support:AS(),iterate:DS,getItem:sy,setItem:TS,removeItem:_S,clear:FS,length:PS,key:RS,keys:jS,dropInstance:Du},Ru=function(M,_){return M===_||typeof M=="number"&&typeof _=="number"&&isNaN(M)&&isNaN(_)},wS=function(M,_){for(var B=M.length,K=0;K<B;){if(Ru(M[K],_))return!0;K++}return!1},oy=Array.isArray||function(R){return Object.prototype.toString.call(R)==="[object Array]"},Zl={},eg={},xo={INDEXEDDB:Br,WEBSQL:CS,LOCALSTORAGE:kS},ay=[xo.INDEXEDDB._driver,xo.WEBSQL._driver,xo.LOCALSTORAGE._driver],ju=["dropInstance"],tg=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ju),ES={description:"",driver:ay.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function US(R,M){R[M]=function(){var _=arguments;return R.ready().then(function(){return R[M].apply(R,_)})}}function Pu(){for(var R=1;R<arguments.length;R++){var M=arguments[R];if(M)for(var _ in M)M.hasOwnProperty(_)&&(oy(M[_])?arguments[0][_]=M[_].slice():arguments[0][_]=M[_])}return arguments[0]}var ly=function(){function R(M){u(this,R);for(var _ in xo)if(xo.hasOwnProperty(_)){var B=xo[_],K=B._driver;this[_]=K,Zl[K]||this.defineDriver(B)}this._defaultConfig=Pu({},ES),this._config=Pu({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return R.prototype.config=function(_){if((typeof _>"u"?"undefined":l(_))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var B in _){if(B==="storeName"&&(_[B]=_[B].replace(/\W/g,"_")),B==="version"&&typeof _[B]!="number")return new Error("Database version must be a number.");this._config[B]=_[B]}return"driver"in _&&_.driver?this.setDriver(this._config.driver):!0}else return typeof _=="string"?this._config[_]:this._config},R.prototype.defineDriver=function(_,B,K){var V=new I(function(le,Ie){try{var xe=_._driver,ve=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!_._driver){Ie(ve);return}for(var Se=tg.concat("_initStorage"),Me=0,mt=Se.length;Me<mt;Me++){var ht=Se[Me],Dt=!wS(ju,ht);if((Dt||_[ht])&&typeof _[ht]!="function"){Ie(ve);return}}var lr=function(){for(var Ta=function(MS){return function(){var cy=new Error("Method "+MS+" is not implemented by the current driver"),py=I.reject(cy);return v(py,arguments[arguments.length-1]),py}},_u=0,uy=ju.length;_u<uy;_u++){var rg=ju[_u];_[rg]||(_[rg]=Ta(rg))}};lr();var dr=function(Ta){Zl[xe]&&console.info("Redefining LocalForage driver: "+xe),Zl[xe]=_,eg[xe]=Ta,le()};"_support"in _?_._support&&typeof _._support=="function"?_._support().then(dr,Ie):dr(!!_._support):dr(!0)}catch(Rn){Ie(Rn)}});return C(V,B,K),V},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(_,B,K){var V=Zl[_]?I.resolve(Zl[_]):I.reject(new Error("Driver not found."));return C(V,B,K),V},R.prototype.getSerializer=function(_){var B=I.resolve(zp);return C(B,_),B},R.prototype.ready=function(_){var B=this,K=B._driverSet.then(function(){return B._ready===null&&(B._ready=B._initDriver()),B._ready});return C(K,_,_),K},R.prototype.setDriver=function(_,B,K){var V=this;oy(_)||(_=[_]);var le=this._getSupportedDrivers(_);function Ie(){V._config.driver=V.driver()}function xe(Me){return V._extend(Me),Ie(),V._ready=V._initStorage(V._config),V._ready}function ve(Me){return function(){var mt=0;function ht(){for(;mt<Me.length;){var Dt=Me[mt];return mt++,V._dbInfo=null,V._ready=null,V.getDriver(Dt).then(xe).catch(ht)}Ie();var lr=new Error("No available storage method found.");return V._driverSet=I.reject(lr),V._driverSet}return ht()}}var Se=this._driverSet!==null?this._driverSet.catch(function(){return I.resolve()}):I.resolve();return this._driverSet=Se.then(function(){var Me=le[0];return V._dbInfo=null,V._ready=null,V.getDriver(Me).then(function(mt){V._driver=mt._driver,Ie(),V._wrapLibraryMethodsWithReady(),V._initDriver=ve(le)})}).catch(function(){Ie();var Me=new Error("No available storage method found.");return V._driverSet=I.reject(Me),V._driverSet}),C(this._driverSet,B,K),this._driverSet},R.prototype.supports=function(_){return!!eg[_]},R.prototype._extend=function(_){Pu(this,_)},R.prototype._getSupportedDrivers=function(_){for(var B=[],K=0,V=_.length;K<V;K++){var le=_[K];this.supports(le)&&B.push(le)}return B},R.prototype._wrapLibraryMethodsWithReady=function(){for(var _=0,B=tg.length;_<B;_++)US(this,tg[_])},R.prototype.createInstance=function(_){return new R(_)},R}(),dy=new ly;o.exports=dy},{3:3}]},{},[4])(4)})});var Woe=O(VU=>{Object.defineProperty(VU,"__esModule",{value:!0});var co=ge(),iKe=Noe(),eu=Cf(),kl=co.GLOBAL_OBJ,tu=class{static __initStatic(){this.id="Offline"}constructor(e={}){this.name=tu.id,this.maxStoredEvents=e.maxStoredEvents||30,this.offlineEventStore=iKe.default.createInstance({name:"sentry/offlineEventStore"})}setupOnce(e,r){this.hub=r(),"addEventListener"in kl&&kl.addEventListener("online",()=>{this._sendEvents().catch(()=>{eu.DEBUG_BUILD&&co.logger.warn("could not send cached events")})});let i=o=>this.hub&&this.hub.getIntegration(tu)&&"navigator"in kl&&"onLine"in kl.navigator&&!kl.navigator.onLine?(eu.DEBUG_BUILD&&co.logger.log("Event dropped due to being a offline - caching instead"),this._cacheEvent(o).then(s=>this._enforceMaxEvents()).catch(s=>{eu.DEBUG_BUILD&&co.logger.warn("could not cache event while offline")}),null):o;i.id=this.name,e(i),"navigator"in kl&&"onLine"in kl.navigator&&kl.navigator.onLine&&this._sendEvents().catch(()=>{eu.DEBUG_BUILD&&co.logger.warn("could not send cached events")})}async _cacheEvent(e){return this.offlineEventStore.setItem(co.uuid4(),co.normalize(e))}async _enforceMaxEvents(){let e=[];return this.offlineEventStore.iterate((r,i,o)=>{e.push({cacheKey:i,event:r})}).then(()=>this._purgeEvents(e.sort((r,i)=>(i.event.timestamp||0)-(r.event.timestamp||0)).slice(this.maxStoredEvents<e.length?this.maxStoredEvents:e.length).map(r=>r.cacheKey))).catch(r=>{eu.DEBUG_BUILD&&co.logger.warn("could not enforce max events")})}async _purgeEvent(e){return this.offlineEventStore.removeItem(e)}async _purgeEvents(e){return Promise.all(e.map(r=>this._purgeEvent(r))).then()}async _sendEvents(){return this.offlineEventStore.iterate((e,r,i)=>{this.hub?(this.hub.captureEvent(e),this._purgeEvent(r).catch(o=>{eu.DEBUG_BUILD&&co.logger.warn("could not purge event from cache")})):eu.DEBUG_BUILD&&co.logger.warn("no hub found - could not send cached event")})}};tu.__initStatic();VU.Offline=tu});var qoe=O(rv=>{Object.defineProperty(rv,"__esModule",{value:!0});var vf=lt(),Zoe=ge(),sKe=Zoe.GLOBAL_OBJ,Hoe="ReportingObserver",Goe=new WeakMap,oKe=(t={})=>{let e=t.types||["crash","deprecation","intervention"];function r(i){if(Goe.has(vf.getClient()))for(let o of i)vf.withScope(s=>{s.setExtra("url",o.url);let l=`ReportingObserver [${o.type}]`,u="No details available";if(o.body){let c={};for(let g in o.body)c[g]=o.body[g];if(s.setExtra("body",c),o.type==="crash"){let g=o.body;u=[g.crashId||"",g.reason||""].join(" ").trim()||u}else u=o.body.message||u}vf.captureMessage(`${l}: ${u}`)})}return{name:Hoe,setupOnce(){if(!Zoe.supportsReportingObserver())return;new sKe.ReportingObserver(r,{buffered:!0,types:e}).observe()},setup(i){Goe.set(i,!0)}}},Koe=vf.defineIntegration(oKe),aKe=vf.convertIntegrationFnToClass(Hoe,Koe);rv.ReportingObserver=aKe;rv.reportingObserverIntegration=Koe});var Qoe=O(nv=>{Object.defineProperty(nv,"__esModule",{value:!0});var Xoe=lt(),Yoe=ge(),zoe="RewriteFrames",lKe=(t={})=>{let e=t.root,r=t.prefix||"app:///",i=t.iteratee||(l=>{if(!l.filename)return l;let u=/^[a-zA-Z]:\\/.test(l.filename)||l.filename.includes("\\")&&!l.filename.includes("/"),c=/^\//.test(l.filename);if(u||c){let g=u?l.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):l.filename,p=e?Yoe.relative(e,g):Yoe.basename(g);l.filename=`${r}${p}`}return l});function o(l){try{return{...l,exception:{...l.exception,values:l.exception.values.map(u=>({...u,...u.stacktrace&&{stacktrace:s(u.stacktrace)}}))}}}catch{return l}}function s(l){return{...l,frames:l&&l.frames&&l.frames.map(u=>i(u))}}return{name:zoe,setupOnce(){},processEvent(l){let u=l;return l.exception&&Array.isArray(l.exception.values)&&(u=o(u)),u}}},Joe=Xoe.defineIntegration(lKe),dKe=Xoe.convertIntegrationFnToClass(zoe,Joe);nv.RewriteFrames=dKe;nv.rewriteFramesIntegration=Joe});var rae=O(iv=>{Object.defineProperty(iv,"__esModule",{value:!0});var $oe=lt(),eae="SessionTiming",uKe=()=>{let t=Date.now();return{name:eae,setupOnce(){},processEvent(e){let r=Date.now();return{...e,extra:{...e.extra,["session:start"]:t,["session:duration"]:r-t,["session:end"]:r}}}}},tae=$oe.defineIntegration(uKe),cKe=$oe.convertIntegrationFnToClass(eae,tae);iv.SessionTiming=cKe;iv.sessionTimingIntegration=tae});var iae=O(BU=>{Object.defineProperty(BU,"__esModule",{value:!0});var pKe=lt(),nae="Transaction",gKe=()=>({name:nae,setupOnce(){},processEvent(t){let e=bKe(t);for(let r=e.length-1;r>=0;r--){let i=e[r];if(i.in_app===!0){t.transaction=fKe(i);break}}return t}}),mKe=pKe.convertIntegrationFnToClass(nae,gKe);function bKe(t){let e=t.exception&&t.exception.values&&t.exception.values[0];return e&&e.stacktrace&&e.stacktrace.frames||[]}function fKe(t){return t.module||t.function?`${t.module||"?"}/${t.function||"?"}`:"<unknown>"}BU.Transaction=mKe});var cae=O(ov=>{Object.defineProperty(ov,"__esModule",{value:!0});var Ca=lt(),po=ge(),sv=Cf(),sae="HttpClient",yKe=(t={})=>{let e={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...t};return{name:sae,setupOnce(){},setup(r){FKe(r,e),DKe(r,e)}}},oae=Ca.defineIntegration(yKe),IKe=Ca.convertIntegrationFnToClass(sae,oae);function hKe(t,e,r,i){if(lae(t,r.status,r.url)){let o=RKe(e,i),s,l,u,c;uae()&&([{headers:s,cookies:u},{headers:l,cookies:c}]=[{cookieHeader:"Cookie",obj:o},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:p,obj:f})=>{let I=AKe(f.headers),v;try{let C=I[p]||I[p.toLowerCase()]||void 0;C&&(v=aae(C))}catch{sv.DEBUG_BUILD&&po.logger.log(`Could not extract cookies from header ${p}`)}return{headers:I,cookies:v}}));let g=dae({url:o.url,method:o.method,status:r.status,requestHeaders:s,responseHeaders:l,requestCookies:u,responseCookies:c});Ca.captureEvent(g)}}function xKe(t,e,r,i){if(lae(t,e.status,e.responseURL)){let o,s,l;if(uae()){try{let c=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;c&&(s=aae(c))}catch{sv.DEBUG_BUILD&&po.logger.log("Could not extract cookies from response headers")}try{l=vKe(e)}catch{sv.DEBUG_BUILD&&po.logger.log("Could not extract headers from response")}o=i}let u=dae({url:e.responseURL,method:r,status:e.status,requestHeaders:o,responseHeaders:l,responseCookies:s});Ca.captureEvent(u)}}function CKe(t){if(t){let e=t["Content-Length"]||t["content-length"];if(e)return parseInt(e,10)}}function aae(t){return t.split("; ").reduce((e,r)=>{let[i,o]=r.split("=");return e[i]=o,e},{})}function AKe(t){let e={};return t.forEach((r,i)=>{e[i]=r}),e}function vKe(t){let e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((r,i)=>{let[o,s]=i.split(": ");return r[o]=s,r},{}):{}}function SKe(t,e){return t.some(r=>typeof r=="string"?e.includes(r):r.test(e))}function OKe(t,e){return t.some(r=>typeof r=="number"?r===e:e>=r[0]&&e<=r[1])}function FKe(t,e){po.supportsNativeFetch()&&po.addFetchInstrumentationHandler(r=>{if(Ca.getClient()!==t)return;let{response:i,args:o}=r,[s,l]=o;i&&hKe(e,s,i,l)})}function DKe(t,e){"XMLHttpRequest"in po.GLOBAL_OBJ&&po.addXhrInstrumentationHandler(r=>{if(Ca.getClient()!==t)return;let i=r.xhr,o=i[po.SENTRY_XHR_DATA_KEY];if(!o)return;let{method:s,request_headers:l}=o;try{xKe(e,i,s,l)}catch(u){sv.DEBUG_BUILD&&po.logger.warn("Error while extracting response event form XHR response",u)}})}function lae(t,e,r){return OKe(t.failedRequestStatusCodes,e)&&SKe(t.failedRequestTargets,r)&&!Ca.isSentryRequestUrl(r,Ca.getClient())}function dae(t){let e=`HTTP Client Error with status code: ${t.status}`,r={message:e,exception:{values:[{type:"Error",value:e}]},request:{url:t.url,method:t.method,headers:t.requestHeaders,cookies:t.requestCookies},contexts:{response:{status_code:t.status,headers:t.responseHeaders,cookies:t.responseCookies,body_size:CKe(t.responseHeaders)}}};return po.addExceptionMechanism(r,{type:"http.client",handled:!1}),r}function RKe(t,e){return!e&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,e)}function uae(){let t=Ca.getClient();return t?Boolean(t.getOptions().sendDefaultPii):!1}ov.HttpClient=IKe;ov.httpClientIntegration=oae});var fae=O(Sf=>{Object.defineProperty(Sf,"__esModule",{value:!0});var pae=lt(),WU=ge(),NU=WU.GLOBAL_OBJ,jKe=7,gae="ContextLines",PKe=(t={})=>{let e=t.frameContextLines!=null?t.frameContextLines:jKe;return{name:gae,setupOnce(){},processEvent(r){return TKe(r,e)}}},mae=pae.defineIntegration(PKe),_Ke=pae.convertIntegrationFnToClass(gae,mae);function TKe(t,e){let r=NU.document,i=NU.location&&WU.stripUrlQueryAndFragment(NU.location.href);if(!r||!i)return t;let o=t.exception&&t.exception.values;if(!o||!o.length)return t;let s=r.documentElement.innerHTML;if(!s)return t;let l=["<!DOCTYPE html>","<html>",...s.split(`
`),"</html>"];return o.forEach(u=>{let c=u.stacktrace;c&&c.frames&&(c.frames=c.frames.map(g=>bae(g,l,i,e)))}),t}function bae(t,e,r,i){return t.filename!==r||!t.lineno||!e.length||WU.addContextToFrame(e,t,i),t}Sf.ContextLines=_Ke;Sf.applySourceContextToFrame=bae;Sf.contextLinesIntegration=mae});var Fae=O(Sr=>{Object.defineProperty(Sr,"__esModule",{value:!0});var yae=Aoe(),Iae=Foe(),hae=Eoe(),xae=Voe(),kKe=Woe(),Cae=qoe(),Aae=Qoe(),vae=rae(),wKe=iae(),Sae=cae(),Oae=fae();Sr.CaptureConsole=yae.CaptureConsole;Sr.captureConsoleIntegration=yae.captureConsoleIntegration;Sr.Debug=Iae.Debug;Sr.debugIntegration=Iae.debugIntegration;Sr.Dedupe=hae.Dedupe;Sr.dedupeIntegration=hae.dedupeIntegration;Sr.ExtraErrorData=xae.ExtraErrorData;Sr.extraErrorDataIntegration=xae.extraErrorDataIntegration;Sr.Offline=kKe.Offline;Sr.ReportingObserver=Cae.ReportingObserver;Sr.reportingObserverIntegration=Cae.reportingObserverIntegration;Sr.RewriteFrames=Aae.RewriteFrames;Sr.rewriteFramesIntegration=Aae.rewriteFramesIntegration;Sr.SessionTiming=vae.SessionTiming;Sr.sessionTimingIntegration=vae.sessionTimingIntegration;Sr.Transaction=wKe.Transaction;Sr.HttpClient=Sae.HttpClient;Sr.httpClientIntegration=Sae.httpClientIntegration;Sr.ContextLines=Oae.ContextLines;Sr.contextLinesIntegration=Oae.contextLinesIntegration});var jf=O((tXt,Ile)=>{"use strict";var n9e=require("path"),bo="\\\\/",mle=`[^${bo}]`,Aa="\\.",i9e="\\+",s9e="\\?",xv="\\/",o9e="(?=.)",ble="[^/]",gM=`(?:${xv}|$)`,fle=`(?:^|${xv})`,mM=`${Aa}{1,2}${gM}`,a9e=`(?!${Aa})`,l9e=`(?!${fle}${mM})`,d9e=`(?!${Aa}{0,1}${gM})`,u9e=`(?!${mM})`,c9e=`[^.${xv}]`,p9e=`${ble}*?`,yle={DOT_LITERAL:Aa,PLUS_LITERAL:i9e,QMARK_LITERAL:s9e,SLASH_LITERAL:xv,ONE_CHAR:o9e,QMARK:ble,END_ANCHOR:gM,DOTS_SLASH:mM,NO_DOT:a9e,NO_DOTS:l9e,NO_DOT_SLASH:d9e,NO_DOTS_SLASH:u9e,QMARK_NO_DOT:c9e,STAR:p9e,START_ANCHOR:fle},g9e={...yle,SLASH_LITERAL:`[${bo}]`,QMARK:mle,STAR:`${mle}*?`,DOTS_SLASH:`${Aa}{1,2}(?:[${bo}]|$)`,NO_DOT:`(?!${Aa})`,NO_DOTS:`(?!(?:^|[${bo}])${Aa}{1,2}(?:[${bo}]|$))`,NO_DOT_SLASH:`(?!${Aa}{0,1}(?:[${bo}]|$))`,NO_DOTS_SLASH:`(?!${Aa}{1,2}(?:[${bo}]|$))`,QMARK_NO_DOT:`[^.${bo}]`,START_ANCHOR:`(?:^|[${bo}])`,END_ANCHOR:`(?:[${bo}]|$)`},m9e={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ile.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:m9e,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n9e.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?g9e:yle}}});var Cv=O(ii=>{"use strict";var b9e=require("path"),f9e=process.platform==="win32",{REGEX_BACKSLASH:y9e,REGEX_REMOVE_BACKSLASH:I9e,REGEX_SPECIAL_CHARS:h9e,REGEX_SPECIAL_CHARS_GLOBAL:x9e}=jf();ii.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);ii.hasRegexChars=t=>h9e.test(t);ii.isRegexChar=t=>t.length===1&&ii.hasRegexChars(t);ii.escapeRegex=t=>t.replace(x9e,"\\$1");ii.toPosixSlashes=t=>t.replace(y9e,"/");ii.removeBackslashes=t=>t.replace(I9e,e=>e==="\\"?"":e);ii.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};ii.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:f9e===!0||b9e.sep==="\\";ii.escapeLast=(t,e,r)=>{let i=t.lastIndexOf(e,r);return i===-1?t:t[i-1]==="\\"?ii.escapeLast(t,e,i-1):`${t.slice(0,i)}\\${t.slice(i)}`};ii.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};ii.wrapOutput=(t,e={},r={})=>{let i=r.contains?"":"^",o=r.contains?"":"$",s=`${i}(?:${t})${o}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Fle=O((nXt,Ole)=>{"use strict";var hle=Cv(),{CHAR_ASTERISK:bM,CHAR_AT:C9e,CHAR_BACKWARD_SLASH:Pf,CHAR_COMMA:A9e,CHAR_DOT:fM,CHAR_EXCLAMATION_MARK:yM,CHAR_FORWARD_SLASH:Sle,CHAR_LEFT_CURLY_BRACE:IM,CHAR_LEFT_PARENTHESES:hM,CHAR_LEFT_SQUARE_BRACKET:v9e,CHAR_PLUS:S9e,CHAR_QUESTION_MARK:xle,CHAR_RIGHT_CURLY_BRACE:O9e,CHAR_RIGHT_PARENTHESES:Cle,CHAR_RIGHT_SQUARE_BRACKET:F9e}=jf(),Ale=t=>t===Sle||t===Pf,vle=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},D9e=(t,e)=>{let r=e||{},i=t.length-1,o=r.parts===!0||r.scanToEnd===!0,s=[],l=[],u=[],c=t,g=-1,p=0,f=0,I=!1,v=!1,C=!1,F=!1,P=!1,E=!1,J=!1,k=!1,ee=!1,ce=!1,Q=0,he,me,z={value:"",depth:0,isGlob:!1},fe=()=>g>=i,N=()=>c.charCodeAt(g+1),Fe=()=>(he=me,c.charCodeAt(++g));for(;g<i;){me=Fe();let ae;if(me===Pf){J=z.backslashes=!0,me=Fe(),me===IM&&(E=!0);continue}if(E===!0||me===IM){for(Q++;fe()!==!0&&(me=Fe());){if(me===Pf){J=z.backslashes=!0,Fe();continue}if(me===IM){Q++;continue}if(E!==!0&&me===fM&&(me=Fe())===fM){if(I=z.isBrace=!0,C=z.isGlob=!0,ce=!0,o===!0)continue;break}if(E!==!0&&me===A9e){if(I=z.isBrace=!0,C=z.isGlob=!0,ce=!0,o===!0)continue;break}if(me===O9e&&(Q--,Q===0)){E=!1,I=z.isBrace=!0,ce=!0;break}}if(o===!0)continue;break}if(me===Sle){if(s.push(g),l.push(z),z={value:"",depth:0,isGlob:!1},ce===!0)continue;if(he===fM&&g===p+1){p+=2;continue}f=g+1;continue}if(r.noext!==!0&&(me===S9e||me===C9e||me===bM||me===xle||me===yM)===!0&&N()===hM){if(C=z.isGlob=!0,F=z.isExtglob=!0,ce=!0,me===yM&&g===p&&(ee=!0),o===!0){for(;fe()!==!0&&(me=Fe());){if(me===Pf){J=z.backslashes=!0,me=Fe();continue}if(me===Cle){C=z.isGlob=!0,ce=!0;break}}continue}break}if(me===bM){if(he===bM&&(P=z.isGlobstar=!0),C=z.isGlob=!0,ce=!0,o===!0)continue;break}if(me===xle){if(C=z.isGlob=!0,ce=!0,o===!0)continue;break}if(me===v9e){for(;fe()!==!0&&(ae=Fe());){if(ae===Pf){J=z.backslashes=!0,Fe();continue}if(ae===F9e){v=z.isBracket=!0,C=z.isGlob=!0,ce=!0;break}}if(o===!0)continue;break}if(r.nonegate!==!0&&me===yM&&g===p){k=z.negated=!0,p++;continue}if(r.noparen!==!0&&me===hM){if(C=z.isGlob=!0,o===!0){for(;fe()!==!0&&(me=Fe());){if(me===hM){J=z.backslashes=!0,me=Fe();continue}if(me===Cle){ce=!0;break}}continue}break}if(C===!0){if(ce=!0,o===!0)continue;break}}r.noext===!0&&(F=!1,C=!1);let Re=c,_e="",W="";p>0&&(_e=c.slice(0,p),c=c.slice(p),f-=p),Re&&C===!0&&f>0?(Re=c.slice(0,f),W=c.slice(f)):C===!0?(Re="",W=c):Re=c,Re&&Re!==""&&Re!=="/"&&Re!==c&&Ale(Re.charCodeAt(Re.length-1))&&(Re=Re.slice(0,-1)),r.unescape===!0&&(W&&(W=hle.removeBackslashes(W)),Re&&J===!0&&(Re=hle.removeBackslashes(Re)));let Z={prefix:_e,input:t,start:p,base:Re,glob:W,isBrace:I,isBracket:v,isGlob:C,isExtglob:F,isGlobstar:P,negated:k,negatedExtglob:ee};if(r.tokens===!0&&(Z.maxDepth=0,Ale(me)||l.push(z),Z.tokens=l),r.parts===!0||r.tokens===!0){let ae;for(let se=0;se<s.length;se++){let Ae=ae?ae+1:p,or=s[se],vt=t.slice(Ae,or);r.tokens&&(se===0&&p!==0?(l[se].isPrefix=!0,l[se].value=_e):l[se].value=vt,vle(l[se]),Z.maxDepth+=l[se].depth),(se!==0||vt!=="")&&u.push(vt),ae=or}if(ae&&ae+1<t.length){let se=t.slice(ae+1);u.push(se),r.tokens&&(l[l.length-1].value=se,vle(l[l.length-1]),Z.maxDepth+=l[l.length-1].depth)}Z.slashes=s,Z.parts=u}return Z};Ole.exports=D9e});var jle=O((iXt,Rle)=>{"use strict";var Av=jf(),Oi=Cv(),{MAX_LENGTH:vv,POSIX_REGEX_SOURCE:R9e,REGEX_NON_SPECIAL_CHARS:j9e,REGEX_SPECIAL_CHARS_BACKREF:P9e,REPLACEMENTS:Dle}=Av,_9e=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(o=>Oi.escapeRegex(o)).join("..")}return r},kp=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,xM=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Dle[t]||t;let r={...e},i=typeof r.maxLength=="number"?Math.min(vv,r.maxLength):vv,o=t.length;if(o>i)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${i}`);let s={type:"bos",value:"",output:r.prepend||""},l=[s],u=r.capture?"":"?:",c=Oi.isWindows(e),g=Av.globChars(c),p=Av.extglobChars(g),{DOT_LITERAL:f,PLUS_LITERAL:I,SLASH_LITERAL:v,ONE_CHAR:C,DOTS_SLASH:F,NO_DOT:P,NO_DOT_SLASH:E,NO_DOTS_SLASH:J,QMARK:k,QMARK_NO_DOT:ee,STAR:ce,START_ANCHOR:Q}=g,he=je=>`(${u}(?:(?!${Q}${je.dot?F:f}).)*?)`,me=r.dot?"":P,z=r.dot?k:ee,fe=r.bash===!0?he(r):ce;r.capture&&(fe=`(${fe})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let N={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:l};t=Oi.removePrefix(t,N),o=t.length;let Fe=[],Re=[],_e=[],W=s,Z,ae=()=>N.index===o-1,se=N.peek=(je=1)=>t[N.index+je],Ae=N.advance=()=>t[++N.index]||"",or=()=>t.slice(N.index+1),vt=(je="",Ft=0)=>{N.consumed+=je,N.index+=Ft},Jt=je=>{N.output+=je.output!=null?je.output:je.value,vt(je.value)},Ge=()=>{let je=1;for(;se()==="!"&&(se(2)!=="("||se(3)==="?");)Ae(),N.start++,je++;return je%2===0?!1:(N.negated=!0,N.start++,!0)},Ir=je=>{N[je]++,_e.push(je)},ar=je=>{N[je]--,_e.pop()},it=je=>{if(W.type==="globstar"){let Ft=N.braces>0&&(je.type==="comma"||je.type==="brace"),Oe=je.extglob===!0||Fe.length&&(je.type==="pipe"||je.type==="paren");je.type!=="slash"&&je.type!=="paren"&&!Ft&&!Oe&&(N.output=N.output.slice(0,-W.output.length),W.type="star",W.value="*",W.output=fe,N.output+=W.output)}if(Fe.length&&je.type!=="paren"&&(Fe[Fe.length-1].inner+=je.value),(je.value||je.output)&&Jt(je),W&&W.type==="text"&&je.type==="text"){W.value+=je.value,W.output=(W.output||"")+je.value;return}je.prev=W,l.push(je),W=je},mn=(je,Ft)=>{let Oe={...p[Ft],conditions:1,inner:""};Oe.prev=W,Oe.parens=N.parens,Oe.output=N.output;let Ye=(r.capture?"(":"")+Oe.open;Ir("parens"),it({type:je,value:Ft,output:N.output?"":C}),it({type:"paren",extglob:!0,value:Ae(),output:Ye}),Fe.push(Oe)},Fr=je=>{let Ft=je.close+(r.capture?")":""),Oe;if(je.type==="negate"){let Ye=fe;if(je.inner&&je.inner.length>1&&je.inner.includes("/")&&(Ye=he(r)),(Ye!==fe||ae()||/^\)+$/.test(or()))&&(Ft=je.close=`)$))${Ye}`),je.inner.includes("*")&&(Oe=or())&&/^\.[^\\/.]+$/.test(Oe)){let Tt=xM(Oe,{...e,fastpaths:!1}).output;Ft=je.close=`)${Tt})${Ye})`}je.prev.type==="bos"&&(N.negatedExtglob=!0)}it({type:"paren",extglob:!0,value:Z,output:Ft}),ar("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let je=!1,Ft=t.replace(P9e,(Oe,Ye,Tt,Br,kt,Dn)=>Br==="\\"?(je=!0,Oe):Br==="?"?Ye?Ye+Br+(kt?k.repeat(kt.length):""):Dn===0?z+(kt?k.repeat(kt.length):""):k.repeat(Tt.length):Br==="."?f.repeat(Tt.length):Br==="*"?Ye?Ye+Br+(kt?fe:""):fe:Ye?Oe:`\\${Oe}`);return je===!0&&(r.unescape===!0?Ft=Ft.replace(/\\/g,""):Ft=Ft.replace(/\\+/g,Oe=>Oe.length%2===0?"\\\\":Oe?"\\":"")),Ft===t&&r.contains===!0?(N.output=t,N):(N.output=Oi.wrapOutput(Ft,N,e),N)}for(;!ae();){if(Z=Ae(),Z==="\0")continue;if(Z==="\\"){let Oe=se();if(Oe==="/"&&r.bash!==!0||Oe==="."||Oe===";")continue;if(!Oe){Z+="\\",it({type:"text",value:Z});continue}let Ye=/^\\+/.exec(or()),Tt=0;if(Ye&&Ye[0].length>2&&(Tt=Ye[0].length,N.index+=Tt,Tt%2!==0&&(Z+="\\")),r.unescape===!0?Z=Ae():Z+=Ae(),N.brackets===0){it({type:"text",value:Z});continue}}if(N.brackets>0&&(Z!=="]"||W.value==="["||W.value==="[^")){if(r.posix!==!1&&Z===":"){let Oe=W.value.slice(1);if(Oe.includes("[")&&(W.posix=!0,Oe.includes(":"))){let Ye=W.value.lastIndexOf("["),Tt=W.value.slice(0,Ye),Br=W.value.slice(Ye+2),kt=R9e[Br];if(kt){W.value=Tt+kt,N.backtrack=!0,Ae(),!s.output&&l.indexOf(W)===1&&(s.output=C);continue}}}(Z==="["&&se()!==":"||Z==="-"&&se()==="]")&&(Z=`\\${Z}`),Z==="]"&&(W.value==="["||W.value==="[^")&&(Z=`\\${Z}`),r.posix===!0&&Z==="!"&&W.value==="["&&(Z="^"),W.value+=Z,Jt({value:Z});continue}if(N.quotes===1&&Z!=='"'){Z=Oi.escapeRegex(Z),W.value+=Z,Jt({value:Z});continue}if(Z==='"'){N.quotes=N.quotes===1?0:1,r.keepQuotes===!0&&it({type:"text",value:Z});continue}if(Z==="("){Ir("parens"),it({type:"paren",value:Z});continue}if(Z===")"){if(N.parens===0&&r.strictBrackets===!0)throw new SyntaxError(kp("opening","("));let Oe=Fe[Fe.length-1];if(Oe&&N.parens===Oe.parens+1){Fr(Fe.pop());continue}it({type:"paren",value:Z,output:N.parens?")":"\\)"}),ar("parens");continue}if(Z==="["){if(r.nobracket===!0||!or().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(kp("closing","]"));Z=`\\${Z}`}else Ir("brackets");it({type:"bracket",value:Z});continue}if(Z==="]"){if(r.nobracket===!0||W&&W.type==="bracket"&&W.value.length===1){it({type:"text",value:Z,output:`\\${Z}`});continue}if(N.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(kp("opening","["));it({type:"text",value:Z,output:`\\${Z}`});continue}ar("brackets");let Oe=W.value.slice(1);if(W.posix!==!0&&Oe[0]==="^"&&!Oe.includes("/")&&(Z=`/${Z}`),W.value+=Z,Jt({value:Z}),r.literalBrackets===!1||Oi.hasRegexChars(Oe))continue;let Ye=Oi.escapeRegex(W.value);if(N.output=N.output.slice(0,-W.value.length),r.literalBrackets===!0){N.output+=Ye,W.value=Ye;continue}W.value=`(${u}${Ye}|${W.value})`,N.output+=W.value;continue}if(Z==="{"&&r.nobrace!==!0){Ir("braces");let Oe={type:"brace",value:Z,output:"(",outputIndex:N.output.length,tokensIndex:N.tokens.length};Re.push(Oe),it(Oe);continue}if(Z==="}"){let Oe=Re[Re.length-1];if(r.nobrace===!0||!Oe){it({type:"text",value:Z,output:Z});continue}let Ye=")";if(Oe.dots===!0){let Tt=l.slice(),Br=[];for(let kt=Tt.length-1;kt>=0&&(l.pop(),Tt[kt].type!=="brace");kt--)Tt[kt].type!=="dots"&&Br.unshift(Tt[kt].value);Ye=_9e(Br,r),N.backtrack=!0}if(Oe.comma!==!0&&Oe.dots!==!0){let Tt=N.output.slice(0,Oe.outputIndex),Br=N.tokens.slice(Oe.tokensIndex);Oe.value=Oe.output="\\{",Z=Ye="\\}",N.output=Tt;for(let kt of Br)N.output+=kt.output||kt.value}it({type:"brace",value:Z,output:Ye}),ar("braces"),Re.pop();continue}if(Z==="|"){Fe.length>0&&Fe[Fe.length-1].conditions++,it({type:"text",value:Z});continue}if(Z===","){let Oe=Z,Ye=Re[Re.length-1];Ye&&_e[_e.length-1]==="braces"&&(Ye.comma=!0,Oe="|"),it({type:"comma",value:Z,output:Oe});continue}if(Z==="/"){if(W.type==="dot"&&N.index===N.start+1){N.start=N.index+1,N.consumed="",N.output="",l.pop(),W=s;continue}it({type:"slash",value:Z,output:v});continue}if(Z==="."){if(N.braces>0&&W.type==="dot"){W.value==="."&&(W.output=f);let Oe=Re[Re.length-1];W.type="dots",W.output+=Z,W.value+=Z,Oe.dots=!0;continue}if(N.braces+N.parens===0&&W.type!=="bos"&&W.type!=="slash"){it({type:"text",value:Z,output:f});continue}it({type:"dot",value:Z,output:f});continue}if(Z==="?"){if(!(W&&W.value==="(")&&r.noextglob!==!0&&se()==="("&&se(2)!=="?"){mn("qmark",Z);continue}if(W&&W.type==="paren"){let Ye=se(),Tt=Z;if(Ye==="<"&&!Oi.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(W.value==="("&&!/[!=<:]/.test(Ye)||Ye==="<"&&!/<([!=]|\w+>)/.test(or()))&&(Tt=`\\${Z}`),it({type:"text",value:Z,output:Tt});continue}if(r.dot!==!0&&(W.type==="slash"||W.type==="bos")){it({type:"qmark",value:Z,output:ee});continue}it({type:"qmark",value:Z,output:k});continue}if(Z==="!"){if(r.noextglob!==!0&&se()==="("&&(se(2)!=="?"||!/[!=<:]/.test(se(3)))){mn("negate",Z);continue}if(r.nonegate!==!0&&N.index===0){Ge();continue}}if(Z==="+"){if(r.noextglob!==!0&&se()==="("&&se(2)!=="?"){mn("plus",Z);continue}if(W&&W.value==="("||r.regex===!1){it({type:"plus",value:Z,output:I});continue}if(W&&(W.type==="bracket"||W.type==="paren"||W.type==="brace")||N.parens>0){it({type:"plus",value:Z});continue}it({type:"plus",value:I});continue}if(Z==="@"){if(r.noextglob!==!0&&se()==="("&&se(2)!=="?"){it({type:"at",extglob:!0,value:Z,output:""});continue}it({type:"text",value:Z});continue}if(Z!=="*"){(Z==="$"||Z==="^")&&(Z=`\\${Z}`);let Oe=j9e.exec(or());Oe&&(Z+=Oe[0],N.index+=Oe[0].length),it({type:"text",value:Z});continue}if(W&&(W.type==="globstar"||W.star===!0)){W.type="star",W.star=!0,W.value+=Z,W.output=fe,N.backtrack=!0,N.globstar=!0,vt(Z);continue}let je=or();if(r.noextglob!==!0&&/^\([^?]/.test(je)){mn("star",Z);continue}if(W.type==="star"){if(r.noglobstar===!0){vt(Z);continue}let Oe=W.prev,Ye=Oe.prev,Tt=Oe.type==="slash"||Oe.type==="bos",Br=Ye&&(Ye.type==="star"||Ye.type==="globstar");if(r.bash===!0&&(!Tt||je[0]&&je[0]!=="/")){it({type:"star",value:Z,output:""});continue}let kt=N.braces>0&&(Oe.type==="comma"||Oe.type==="brace"),Dn=Fe.length&&(Oe.type==="pipe"||Oe.type==="paren");if(!Tt&&Oe.type!=="paren"&&!kt&&!Dn){it({type:"star",value:Z,output:""});continue}for(;je.slice(0,3)==="/**";){let Da=t[N.index+4];if(Da&&Da!=="/")break;je=je.slice(3),vt("/**",3)}if(Oe.type==="bos"&&ae()){W.type="globstar",W.value+=Z,W.output=he(r),N.output=W.output,N.globstar=!0,vt(Z);continue}if(Oe.type==="slash"&&Oe.prev.type!=="bos"&&!Br&&ae()){N.output=N.output.slice(0,-(Oe.output+W.output).length),Oe.output=`(?:${Oe.output}`,W.type="globstar",W.output=he(r)+(r.strictSlashes?")":"|$)"),W.value+=Z,N.globstar=!0,N.output+=Oe.output+W.output,vt(Z);continue}if(Oe.type==="slash"&&Oe.prev.type!=="bos"&&je[0]==="/"){let Da=je[1]!==void 0?"|$":"";N.output=N.output.slice(0,-(Oe.output+W.output).length),Oe.output=`(?:${Oe.output}`,W.type="globstar",W.output=`${he(r)}${v}|${v}${Da})`,W.value+=Z,N.output+=Oe.output+W.output,N.globstar=!0,vt(Z+Ae()),it({type:"slash",value:"/",output:""});continue}if(Oe.type==="bos"&&je[0]==="/"){W.type="globstar",W.value+=Z,W.output=`(?:^|${v}|${he(r)}${v})`,N.output=W.output,N.globstar=!0,vt(Z+Ae()),it({type:"slash",value:"/",output:""});continue}N.output=N.output.slice(0,-W.output.length),W.type="globstar",W.output=he(r),W.value+=Z,N.output+=W.output,N.globstar=!0,vt(Z);continue}let Ft={type:"star",value:Z,output:fe};if(r.bash===!0){Ft.output=".*?",(W.type==="bos"||W.type==="slash")&&(Ft.output=me+Ft.output),it(Ft);continue}if(W&&(W.type==="bracket"||W.type==="paren")&&r.regex===!0){Ft.output=Z,it(Ft);continue}(N.index===N.start||W.type==="slash"||W.type==="dot")&&(W.type==="dot"?(N.output+=E,W.output+=E):r.dot===!0?(N.output+=J,W.output+=J):(N.output+=me,W.output+=me),se()!=="*"&&(N.output+=C,W.output+=C)),it(Ft)}for(;N.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(kp("closing","]"));N.output=Oi.escapeLast(N.output,"["),ar("brackets")}for(;N.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(kp("closing",")"));N.output=Oi.escapeLast(N.output,"("),ar("parens")}for(;N.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(kp("closing","}"));N.output=Oi.escapeLast(N.output,"{"),ar("braces")}if(r.strictSlashes!==!0&&(W.type==="star"||W.type==="bracket")&&it({type:"maybe_slash",value:"",output:`${v}?`}),N.backtrack===!0){N.output="";for(let je of N.tokens)N.output+=je.output!=null?je.output:je.value,je.suffix&&(N.output+=je.suffix)}return N};xM.fastpaths=(t,e)=>{let r={...e},i=typeof r.maxLength=="number"?Math.min(vv,r.maxLength):vv,o=t.length;if(o>i)throw new SyntaxError(`Input length: ${o}, exceeds maximum allowed length: ${i}`);t=Dle[t]||t;let s=Oi.isWindows(e),{DOT_LITERAL:l,SLASH_LITERAL:u,ONE_CHAR:c,DOTS_SLASH:g,NO_DOT:p,NO_DOTS:f,NO_DOTS_SLASH:I,STAR:v,START_ANCHOR:C}=Av.globChars(s),F=r.dot?f:p,P=r.dot?I:p,E=r.capture?"":"?:",J={negated:!1,prefix:""},k=r.bash===!0?".*?":v;r.capture&&(k=`(${k})`);let ee=me=>me.noglobstar===!0?k:`(${E}(?:(?!${C}${me.dot?g:l}).)*?)`,ce=me=>{switch(me){case"*":return`${F}${c}${k}`;case".*":return`${l}${c}${k}`;case"*.*":return`${F}${k}${l}${c}${k}`;case"*/*":return`${F}${k}${u}${c}${P}${k}`;case"**":return F+ee(r);case"**/*":return`(?:${F}${ee(r)}${u})?${P}${c}${k}`;case"**/*.*":return`(?:${F}${ee(r)}${u})?${P}${k}${l}${c}${k}`;case"**/.*":return`(?:${F}${ee(r)}${u})?${l}${c}${k}`;default:{let z=/^(.*?)\.(\w+)$/.exec(me);if(!z)return;let fe=ce(z[1]);return fe?fe+l+z[2]:void 0}}},Q=Oi.removePrefix(t,J),he=ce(Q);return he&&r.strictSlashes!==!0&&(he+=`${u}?`),he};Rle.exports=xM});var _le=O((sXt,Ple)=>{"use strict";var T9e=require("path"),k9e=Fle(),CM=jle(),AM=Cv(),w9e=jf(),E9e=t=>t&&typeof t=="object"&&!Array.isArray(t),Er=(t,e,r=!1)=>{if(Array.isArray(t)){let p=t.map(I=>Er(I,e,r));return I=>{for(let v of p){let C=v(I);if(C)return C}return!1}}let i=E9e(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");let o=e||{},s=AM.isWindows(e),l=i?Er.compileRe(t,e):Er.makeRe(t,e,!1,!0),u=l.state;delete l.state;let c=()=>!1;if(o.ignore){let p={...e,ignore:null,onMatch:null,onResult:null};c=Er(o.ignore,p,r)}let g=(p,f=!1)=>{let{isMatch:I,match:v,output:C}=Er.test(p,l,e,{glob:t,posix:s}),F={glob:t,state:u,regex:l,posix:s,input:p,output:C,match:v,isMatch:I};return typeof o.onResult=="function"&&o.onResult(F),I===!1?(F.isMatch=!1,f?F:!1):c(p)?(typeof o.onIgnore=="function"&&o.onIgnore(F),F.isMatch=!1,f?F:!1):(typeof o.onMatch=="function"&&o.onMatch(F),f?F:!0)};return r&&(g.state=u),g};Er.test=(t,e,r,{glob:i,posix:o}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},l=s.format||(o?AM.toPosixSlashes:null),u=t===i,c=u&&l?l(t):t;return u===!1&&(c=l?l(t):t,u=c===i),(u===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?u=Er.matchBase(t,e,r,o):u=e.exec(c)),{isMatch:Boolean(u),match:u,output:c}};Er.matchBase=(t,e,r,i=AM.isWindows(r))=>(e instanceof RegExp?e:Er.makeRe(e,r)).test(T9e.basename(t));Er.isMatch=(t,e,r)=>Er(e,r)(t);Er.parse=(t,e)=>Array.isArray(t)?t.map(r=>Er.parse(r,e)):CM(t,{...e,fastpaths:!1});Er.scan=(t,e)=>k9e(t,e);Er.compileRe=(t,e,r=!1,i=!1)=>{if(r===!0)return t.output;let o=e||{},s=o.contains?"":"^",l=o.contains?"":"$",u=`${s}(?:${t.output})${l}`;t&&t.negated===!0&&(u=`^(?!${u}).*$`);let c=Er.toRegex(u,e);return i===!0&&(c.state=t),c};Er.makeRe=(t,e={},r=!1,i=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let o={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(o.output=CM.fastpaths(t,e)),o.output||(o=CM(t,e)),Er.compileRe(o,e,r,i)};Er.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Er.constants=w9e;Ple.exports=Er});var vM=O((oXt,Tle)=>{"use strict";Tle.exports=_le()});var Ble=O((aXt,Vle)=>{"use strict";var Tf=require("fs"),{Readable:U9e}=require("stream"),_f=require("path"),{promisify:Fv}=require("util"),SM=vM(),M9e=Fv(Tf.readdir),L9e=Fv(Tf.stat),kle=Fv(Tf.lstat),V9e=Fv(Tf.realpath),B9e="!",Mle="READDIRP_RECURSIVE_ERROR",N9e=new Set(["ENOENT","EPERM","EACCES","ELOOP",Mle]),OM="files",Lle="directories",Ov="files_directories",Sv="all",wle=[OM,Lle,Ov,Sv],W9e=t=>N9e.has(t.code),[Ele,G9e]=process.versions.node.split(".").slice(0,2).map(t=>Number.parseInt(t,10)),Z9e=process.platform==="win32"&&(Ele>10||Ele===10&&G9e>=5),Ule=t=>{if(t!==void 0){if(typeof t=="function")return t;if(typeof t=="string"){let e=SM(t.trim());return r=>e(r.basename)}if(Array.isArray(t)){let e=[],r=[];for(let i of t){let o=i.trim();o.charAt(0)===B9e?r.push(SM(o.slice(1))):e.push(SM(o))}return r.length>0?e.length>0?i=>e.some(o=>o(i.basename))&&!r.some(o=>o(i.basename)):i=>!r.some(o=>o(i.basename)):i=>e.some(o=>o(i.basename))}}},wp=class extends U9e{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:OM,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let r={...wp.defaultOptions,...e},{root:i,type:o}=r;this._fileFilter=Ule(r.fileFilter),this._directoryFilter=Ule(r.directoryFilter);let s=r.lstat?kle:L9e;Z9e?this._stat=l=>s(l,{bigint:!0}):this._stat=s,this._maxDepth=r.depth,this._wantsDir=[Lle,Ov,Sv].includes(o),this._wantsFile=[OM,Ov,Sv].includes(o),this._wantsEverything=o===Sv,this._root=_f.resolve(i),this._isDirent="Dirent"in Tf&&!r.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(i,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:r,depth:i,files:o=[]}=this.parent||{};if(o.length>0){let s=o.splice(0,e).map(l=>this._formatEntry(l,r));for(let l of await Promise.all(s)){if(this.destroyed)return;let u=await this._getEntryType(l);u==="directory"&&this._directoryFilter(l)?(i<=this._maxDepth&&this.parents.push(this._exploreDir(l.fullPath,i+1)),this._wantsDir&&(this.push(l),e--)):(u==="file"||this._includeAsFile(l))&&this._fileFilter(l)&&this._wantsFile&&(this.push(l),e--)}}else{let s=this.parents.pop();if(!s){this.push(null);break}if(this.parent=await s,this.destroyed)return}}}catch(r){this.destroy(r)}finally{this.reading=!1}}}async _exploreDir(e,r){let i;try{i=await M9e(e,this._rdOptions)}catch(o){this._onError(o)}return{files:i,depth:r,path:e}}async _formatEntry(e,r){let i;try{let o=this._isDirent?e.name:e,s=_f.resolve(_f.join(r,o));i={path:_f.relative(this._root,s),fullPath:s,basename:o},i[this._statsProp]=this._isDirent?e:await this._stat(s)}catch(o){this._onError(o)}return i}_onError(e){W9e(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let r=e&&e[this._statsProp];if(r){if(r.isFile())return"file";if(r.isDirectory())return"directory";if(r&&r.isSymbolicLink()){let i=e.fullPath;try{let o=await V9e(i),s=await kle(o);if(s.isFile())return"file";if(s.isDirectory()){let l=o.length;if(i.startsWith(o)&&i.substr(l,1)===_f.sep){let u=new Error(`Circular symlink detected: "${i}" points to "${o}"`);return u.code=Mle,this._onError(u)}return"directory"}}catch(o){this._onError(o)}}}}_includeAsFile(e){let r=e&&e[this._statsProp];return r&&this._wantsEverything&&!r.isDirectory()}},Ep=(t,e={})=>{let r=e.entryType||e.type;if(r==="both"&&(r=Ov),r&&(e.type=r),t){if(typeof t!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!wle.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${wle.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=t,new wp(e)},H9e=(t,e={})=>new Promise((r,i)=>{let o=[];Ep(t,e).on("data",s=>o.push(s)).on("end",()=>r(o)).on("error",s=>i(s))});Ep.promise=H9e;Ep.ReaddirpStream=wp;Ep.default=Ep;Vle.exports=Ep});var FM=O((lXt,Nle)=>{Nle.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var i="";if(r>4&&t[3]==="\\"){var o=t[2];(o==="?"||o===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),i="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),i+s.join("/")}});var qle=O((Hle,Kle)=>{"use strict";Object.defineProperty(Hle,"__esModule",{value:!0});var Zle=vM(),K9e=FM(),Wle="!",q9e={returnIndex:!1},Y9e=t=>Array.isArray(t)?t:[t],X9e=(t,e)=>{if(typeof t=="function")return t;if(typeof t=="string"){let r=Zle(t,e);return i=>t===i||r(i)}return t instanceof RegExp?r=>t.test(r):r=>!1},Gle=(t,e,r,i)=>{let o=Array.isArray(r),s=o?r[0]:r;if(!o&&typeof s!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(s));let l=K9e(s);for(let c=0;c<e.length;c++){let g=e[c];if(g(l))return i?-1:!1}let u=o&&[l].concat(r.slice(1));for(let c=0;c<t.length;c++){let g=t[c];if(o?g(...u):g(l))return i?c:!0}return i?-1:!1},DM=(t,e,r=q9e)=>{if(t==null)throw new TypeError("anymatch: specify first argument");let i=typeof r=="boolean"?{returnIndex:r}:r,o=i.returnIndex||!1,s=Y9e(t),l=s.filter(c=>typeof c=="string"&&c.charAt(0)===Wle).map(c=>c.slice(1)).map(c=>Zle(c,i)),u=s.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==Wle).map(c=>X9e(c,i));return e==null?(c,g=!1)=>Gle(u,l,c,typeof g=="boolean"?g:!1):Gle(u,l,e,o)};DM.default=DM;Kle.exports=DM});var Xle=O((dXt,Yle)=>{Yle.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var RM=O((uXt,Jle)=>{var z9e=Xle(),zle={"{":"}","(":")","[":"]"},J9e=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,i=-2,o=-2,s=-2,l=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||i!==-1&&t[e]==="["&&t[e+1]!=="]"&&(i<e&&(i=t.indexOf("]",e)),i>e&&(l===-1||l>i||(l=t.indexOf("\\",e),l===-1||l>i)))||o!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(o=t.indexOf("}",e),o>e&&(l=t.indexOf("\\",e),l===-1||l>o))||s!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(s=t.indexOf(")",e),s>e&&(l=t.indexOf("\\",e),l===-1||l>s))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(s=t.indexOf(")",r),s>r&&(l=t.indexOf("\\",r),l===-1||l>s))))return!0;if(t[e]==="\\"){var u=t[e+1];e+=2;var c=zle[u];if(c){var g=t.indexOf(c,e);g!==-1&&(e=g+1)}if(t[e]==="!")return!0}else e++}return!1},Q9e=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var i=zle[r];if(i){var o=t.indexOf(i,e);o!==-1&&(e=o+1)}if(t[e]==="!")return!0}else e++}return!1};Jle.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(z9e(e))return!0;var i=J9e;return r&&r.strict===!1&&(i=Q9e),i(e)}});var $le=O((cXt,Qle)=>{"use strict";var $9e=RM(),eqe=require("path").posix.dirname,tqe=require("os").platform()==="win32",jM="/",rqe=/\\/g,nqe=/[\{\[].*[\}\]]$/,iqe=/(^|[^\\])([\{\[]|\([^\)]+$)/,sqe=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Qle.exports=function(e,r){var i=Object.assign({flipBackslashes:!0},r);i.flipBackslashes&&tqe&&e.indexOf(jM)<0&&(e=e.replace(rqe,jM)),nqe.test(e)&&(e+=jM),e+="a";do e=eqe(e);while($9e(e)||iqe.test(e));return e.replace(sqe,"$1")}});var Dv=O(rs=>{"use strict";rs.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;rs.find=(t,e)=>t.nodes.find(r=>r.type===e);rs.exceedsLimit=(t,e,r=1,i)=>i===!1||!rs.isInteger(t)||!rs.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=i;rs.escapeNode=(t,e=0,r)=>{let i=t.nodes[e];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)};rs.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);rs.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;rs.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;rs.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);rs.flatten=(...t)=>{let e=[],r=i=>{for(let o=0;o<i.length;o++){let s=i[o];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var Rv=O((gXt,tde)=>{"use strict";var ede=Dv();tde.exports=(t,e={})=>{let r=(i,o={})=>{let s=e.escapeInvalid&&ede.isInvalidBrace(o),l=i.invalid===!0&&e.escapeInvalid===!0,u="";if(i.value)return(s||l)&&ede.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let c of i.nodes)u+=r(c);return u};return r(t)}});var nde=O((mXt,rde)=>{"use strict";rde.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var pde=O((bXt,cde)=>{"use strict";var ide=nde(),au=(t,e,r)=>{if(ide(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(ide(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let o=String(i.relaxZeros),s=String(i.shorthand),l=String(i.capture),u=String(i.wrap),c=t+":"+e+"="+o+s+l+u;if(au.cache.hasOwnProperty(c))return au.cache[c].result;let g=Math.min(t,e),p=Math.max(t,e);if(Math.abs(g-p)===1){let F=t+"|"+e;return i.capture?`(${F})`:i.wrap===!1?F:`(?:${F})`}let f=ude(t)||ude(e),I={min:t,max:e,a:g,b:p},v=[],C=[];if(f&&(I.isPadded=f,I.maxLen=String(I.max).length),g<0){let F=p<0?Math.abs(p):1;C=sde(F,Math.abs(g),I,i),g=I.a=0}return p>=0&&(v=sde(g,p,I,i)),I.negatives=C,I.positives=v,I.result=oqe(C,v,i),i.capture===!0?I.result=`(${I.result})`:i.wrap!==!1&&v.length+C.length>1&&(I.result=`(?:${I.result})`),au.cache[c]=I,I.result};function oqe(t,e,r){let i=PM(t,e,"-",!1,r)||[],o=PM(e,t,"",!1,r)||[],s=PM(t,e,"-?",!0,r)||[];return i.concat(s).concat(o).join("|")}function aqe(t,e){let r=1,i=1,o=ade(t,r),s=new Set([e]);for(;t<=o&&o<=e;)s.add(o),r+=1,o=ade(t,r);for(o=lde(e+1,i)-1;t<o&&o<=e;)s.add(o),i+=1,o=lde(e+1,i)-1;return s=[...s],s.sort(uqe),s}function lqe(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let i=dqe(t,e),o=i.length,s="",l=0;for(let u=0;u<o;u++){let[c,g]=i[u];c===g?s+=c:c!=="0"||g!=="9"?s+=cqe(c,g,r):l++}return l&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[l],digits:o}}function sde(t,e,r,i){let o=aqe(t,e),s=[],l=t,u;for(let c=0;c<o.length;c++){let g=o[c],p=lqe(String(l),String(g),i),f="";if(!r.isPadded&&u&&u.pattern===p.pattern){u.count.length>1&&u.count.pop(),u.count.push(p.count[0]),u.string=u.pattern+dde(u.count),l=g+1;continue}r.isPadded&&(f=pqe(g,r,i)),p.string=f+p.pattern+dde(p.count),s.push(p),l=g+1,u=p}return s}function PM(t,e,r,i,o){let s=[];for(let l of t){let{string:u}=l;!i&&!ode(e,"string",u)&&s.push(r+u),i&&ode(e,"string",u)&&s.push(r+u)}return s}function dqe(t,e){let r=[];for(let i=0;i<t.length;i++)r.push([t[i],e[i]]);return r}function uqe(t,e){return t>e?1:e>t?-1:0}function ode(t,e,r){return t.some(i=>i[e]===r)}function ade(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function lde(t,e){return t-t%Math.pow(10,e)}function dde(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function cqe(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function ude(t){return/^-?(0+)\d/.test(t)}function pqe(t,e,r){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),o=r.relaxZeros!==!1;switch(i){case 0:return"";case 1:return o?"0?":"0";case 2:return o?"0{0,2}":"00";default:return o?`0{0,${i}}`:`0{${i}}`}}au.cache={};au.clearCache=()=>au.cache={};cde.exports=au});var kM=O((fXt,xde)=>{"use strict";var gqe=require("util"),bde=pde(),gde=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),mqe=t=>e=>t===!0?Number(e):String(e),_M=t=>typeof t=="number"||typeof t=="string"&&t!=="",kf=t=>Number.isInteger(+t),TM=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},bqe=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,fqe=(t,e,r)=>{if(e>0){let i=t[0]==="-"?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return r===!1?String(t):t},mde=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},yqe=(t,e)=>{t.negatives.sort((l,u)=>l<u?-1:l>u?1:0),t.positives.sort((l,u)=>l<u?-1:l>u?1:0);let r=e.capture?"":"?:",i="",o="",s;return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(o=`-(${r}${t.negatives.join("|")})`),i&&o?s=`${i}|${o}`:s=i||o,e.wrap?`(${r}${s})`:s},fde=(t,e,r,i)=>{if(r)return bde(t,e,{wrap:!1,...i});let o=String.fromCharCode(t);if(t===e)return o;let s=String.fromCharCode(e);return`[${o}-${s}]`},yde=(t,e,r)=>{if(Array.isArray(t)){let i=r.wrap===!0,o=r.capture?"":"?:";return i?`(${o}${t.join("|")})`:t.join("|")}return bde(t,e,r)},Ide=(...t)=>new RangeError("Invalid range arguments: "+gqe.inspect(...t)),hde=(t,e,r)=>{if(r.strictRanges===!0)throw Ide([t,e]);return[]},Iqe=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},hqe=(t,e,r=1,i={})=>{let o=Number(t),s=Number(e);if(!Number.isInteger(o)||!Number.isInteger(s)){if(i.strictRanges===!0)throw Ide([t,e]);return[]}o===0&&(o=0),s===0&&(s=0);let l=o>s,u=String(t),c=String(e),g=String(r);r=Math.max(Math.abs(r),1);let p=TM(u)||TM(c)||TM(g),f=p?Math.max(u.length,c.length,g.length):0,I=p===!1&&bqe(t,e,i)===!1,v=i.transform||mqe(I);if(i.toRegex&&r===1)return fde(mde(t,f),mde(e,f),!0,i);let C={negatives:[],positives:[]},F=J=>C[J<0?"negatives":"positives"].push(Math.abs(J)),P=[],E=0;for(;l?o>=s:o<=s;)i.toRegex===!0&&r>1?F(o):P.push(fqe(v(o,E),f,I)),o=l?o-r:o+r,E++;return i.toRegex===!0?r>1?yqe(C,i):yde(P,null,{wrap:!1,...i}):P},xqe=(t,e,r=1,i={})=>{if(!kf(t)&&t.length>1||!kf(e)&&e.length>1)return hde(t,e,i);let o=i.transform||(I=>String.fromCharCode(I)),s=`${t}`.charCodeAt(0),l=`${e}`.charCodeAt(0),u=s>l,c=Math.min(s,l),g=Math.max(s,l);if(i.toRegex&&r===1)return fde(c,g,!1,i);let p=[],f=0;for(;u?s>=l:s<=l;)p.push(o(s,f)),s=u?s-r:s+r,f++;return i.toRegex===!0?yde(p,null,{wrap:!1,options:i}):p},jv=(t,e,r,i={})=>{if(e==null&&_M(t))return[t];if(!_M(t)||!_M(e))return hde(t,e,i);if(typeof r=="function")return jv(t,e,1,{transform:r});if(gde(r))return jv(t,e,0,r);let o={...i};return o.capture===!0&&(o.wrap=!0),r=r||o.step||1,kf(r)?kf(t)&&kf(e)?hqe(t,e,r,o):xqe(t,e,Math.max(Math.abs(r),1),o):r!=null&&!gde(r)?Iqe(r,o):jv(t,e,1,r)};xde.exports=jv});var vde=O((yXt,Ade)=>{"use strict";var Cqe=kM(),Cde=Dv(),Aqe=(t,e={})=>{let r=(i,o={})=>{let s=Cde.isInvalidBrace(o),l=i.invalid===!0&&e.escapeInvalid===!0,u=s===!0||l===!0,c=e.escapeInvalid===!0?"\\":"",g="";if(i.isOpen===!0||i.isClose===!0)return c+i.value;if(i.type==="open")return u?c+i.value:"(";if(i.type==="close")return u?c+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":u?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let p=Cde.reduce(i.nodes),f=Cqe(...p,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return p.length>1&&f.length>1?`(${f})`:f}if(i.nodes)for(let p of i.nodes)g+=r(p,i);return g};return r(t)};Ade.exports=Aqe});var Fde=O((IXt,Ode)=>{"use strict";var vqe=kM(),Sde=Rv(),Up=Dv(),lu=(t="",e="",r=!1)=>{let i=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Up.flatten(e).map(o=>`{${o}}`):e;for(let o of t)if(Array.isArray(o))for(let s of o)i.push(lu(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),i.push(Array.isArray(s)?lu(o,s,r):o+s);return Up.flatten(i)},Sqe=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,i=(o,s={})=>{o.queue=[];let l=s,u=s.queue;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;if(o.invalid||o.dollar){u.push(lu(u.pop(),Sde(o,e)));return}if(o.type==="brace"&&o.invalid!==!0&&o.nodes.length===2){u.push(lu(u.pop(),["{}"]));return}if(o.nodes&&o.ranges>0){let f=Up.reduce(o.nodes);if(Up.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let I=vqe(...f,e);I.length===0&&(I=Sde(o,e)),u.push(lu(u.pop(),I)),o.nodes=[];return}let c=Up.encloseBrace(o),g=o.queue,p=o;for(;p.type!=="brace"&&p.type!=="root"&&p.parent;)p=p.parent,g=p.queue;for(let f=0;f<o.nodes.length;f++){let I=o.nodes[f];if(I.type==="comma"&&o.type==="brace"){f===1&&g.push(""),g.push("");continue}if(I.type==="close"){u.push(lu(u.pop(),g,c));continue}if(I.value&&I.type!=="open"){g.push(lu(g.pop(),I.value));continue}I.nodes&&i(I,o)}return g};return Up.flatten(i(t))};Ode.exports=Sqe});var Rde=O((hXt,Dde)=>{"use strict";Dde.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var kde=O((xXt,Tde)=>{"use strict";var Oqe=Rv(),{MAX_LENGTH:jde,CHAR_BACKSLASH:wM,CHAR_BACKTICK:Fqe,CHAR_COMMA:Dqe,CHAR_DOT:Rqe,CHAR_LEFT_PARENTHESES:jqe,CHAR_RIGHT_PARENTHESES:Pqe,CHAR_LEFT_CURLY_BRACE:_qe,CHAR_RIGHT_CURLY_BRACE:Tqe,CHAR_LEFT_SQUARE_BRACKET:Pde,CHAR_RIGHT_SQUARE_BRACKET:_de,CHAR_DOUBLE_QUOTE:kqe,CHAR_SINGLE_QUOTE:wqe,CHAR_NO_BREAK_SPACE:Eqe,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Uqe}=Rde(),Mqe=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},i=typeof r.maxLength=="number"?Math.min(jde,r.maxLength):jde;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let o={type:"root",input:t,nodes:[]},s=[o],l=o,u=o,c=0,g=t.length,p=0,f=0,I,v={},C=()=>t[p++],F=P=>{if(P.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&P.type==="text"){u.value+=P.value;return}return l.nodes.push(P),P.parent=l,P.prev=u,u=P,P};for(F({type:"bos"});p<g;)if(l=s[s.length-1],I=C(),!(I===Uqe||I===Eqe)){if(I===wM){F({type:"text",value:(e.keepEscaping?I:"")+C()});continue}if(I===_de){F({type:"text",value:"\\"+I});continue}if(I===Pde){c++;let P=!0,E;for(;p<g&&(E=C());){if(I+=E,E===Pde){c++;continue}if(E===wM){I+=C();continue}if(E===_de&&(c--,c===0))break}F({type:"text",value:I});continue}if(I===jqe){l=F({type:"paren",nodes:[]}),s.push(l),F({type:"text",value:I});continue}if(I===Pqe){if(l.type!=="paren"){F({type:"text",value:I});continue}l=s.pop(),F({type:"text",value:I}),l=s[s.length-1];continue}if(I===kqe||I===wqe||I===Fqe){let P=I,E;for(e.keepQuotes!==!0&&(I="");p<g&&(E=C());){if(E===wM){I+=E+C();continue}if(E===P){e.keepQuotes===!0&&(I+=E);break}I+=E}F({type:"text",value:I});continue}if(I===_qe){f++;let E={type:"brace",open:!0,close:!1,dollar:u.value&&u.value.slice(-1)==="$"||l.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};l=F(E),s.push(l),F({type:"open",value:I});continue}if(I===Tqe){if(l.type!=="brace"){F({type:"text",value:I});continue}let P="close";l=s.pop(),l.close=!0,F({type:P,value:I}),f--,l=s[s.length-1];continue}if(I===Dqe&&f>0){if(l.ranges>0){l.ranges=0;let P=l.nodes.shift();l.nodes=[P,{type:"text",value:Oqe(l)}]}F({type:"comma",value:I}),l.commas++;continue}if(I===Rqe&&f>0&&l.commas===0){let P=l.nodes;if(f===0||P.length===0){F({type:"text",value:I});continue}if(u.type==="dot"){if(l.range=[],u.value+=I,u.type="range",l.nodes.length!==3&&l.nodes.length!==5){l.invalid=!0,l.ranges=0,u.type="text";continue}l.ranges++,l.args=[];continue}if(u.type==="range"){P.pop();let E=P[P.length-1];E.value+=u.value+I,u=E,l.ranges--;continue}F({type:"dot",value:I});continue}F({type:"text",value:I})}do if(l=s.pop(),l.type!=="root"){l.nodes.forEach(J=>{J.nodes||(J.type==="open"&&(J.isOpen=!0),J.type==="close"&&(J.isClose=!0),J.nodes||(J.type="text"),J.invalid=!0)});let P=s[s.length-1],E=P.nodes.indexOf(l);P.nodes.splice(E,1,...l.nodes)}while(s.length>0);return F({type:"eos"}),o};Tde.exports=Mqe});var Ude=O((CXt,Ede)=>{"use strict";var wde=Rv(),Lqe=vde(),Vqe=Fde(),Bqe=kde(),Fi=(t,e={})=>{let r=[];if(Array.isArray(t))for(let i of t){let o=Fi.create(i,e);Array.isArray(o)?r.push(...o):r.push(o)}else r=[].concat(Fi.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Fi.parse=(t,e={})=>Bqe(t,e);Fi.stringify=(t,e={})=>wde(typeof t=="string"?Fi.parse(t,e):t,e);Fi.compile=(t,e={})=>(typeof t=="string"&&(t=Fi.parse(t,e)),Lqe(t,e));Fi.expand=(t,e={})=>{typeof t=="string"&&(t=Fi.parse(t,e));let r=Vqe(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Fi.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Fi.compile(t,e):Fi.expand(t,e);Ede.exports=Fi});var Mde=O((AXt,Nqe)=>{Nqe.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var Vde=O((vXt,Lde)=>{Lde.exports=Mde()});var Nde=O((SXt,Bde)=>{"use strict";var Wqe=require("path"),Gqe=Vde(),Zqe=new Set(Gqe);Bde.exports=t=>Zqe.has(Wqe.extname(t).slice(1).toLowerCase())});var Pv=O(We=>{"use strict";var{sep:Hqe}=require("path"),{platform:EM}=process,Kqe=require("os");We.EV_ALL="all";We.EV_READY="ready";We.EV_ADD="add";We.EV_CHANGE="change";We.EV_ADD_DIR="addDir";We.EV_UNLINK="unlink";We.EV_UNLINK_DIR="unlinkDir";We.EV_RAW="raw";We.EV_ERROR="error";We.STR_DATA="data";We.STR_END="end";We.STR_CLOSE="close";We.FSEVENT_CREATED="created";We.FSEVENT_MODIFIED="modified";We.FSEVENT_DELETED="deleted";We.FSEVENT_MOVED="moved";We.FSEVENT_CLONED="cloned";We.FSEVENT_UNKNOWN="unknown";We.FSEVENT_TYPE_FILE="file";We.FSEVENT_TYPE_DIRECTORY="directory";We.FSEVENT_TYPE_SYMLINK="symlink";We.KEY_LISTENERS="listeners";We.KEY_ERR="errHandlers";We.KEY_RAW="rawEmitters";We.HANDLER_KEYS=[We.KEY_LISTENERS,We.KEY_ERR,We.KEY_RAW];We.DOT_SLASH=`.${Hqe}`;We.BACK_SLASH_RE=/\\/g;We.DOUBLE_SLASH_RE=/\/\//;We.SLASH_OR_BACK_SLASH_RE=/[/\\]/;We.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;We.REPLACER_RE=/^\.[/\\]/;We.SLASH="/";We.SLASH_SLASH="//";We.BRACE_START="{";We.BANG="!";We.ONE_DOT=".";We.TWO_DOTS="..";We.STAR="*";We.GLOBSTAR="**";We.ROOT_GLOBSTAR="/**/*";We.SLASH_GLOBSTAR="/**";We.DIR_SUFFIX="Dir";We.ANYMATCH_OPTS={dot:!0};We.STRING_TYPE="string";We.FUNCTION_TYPE="function";We.EMPTY_STR="";We.EMPTY_FN=()=>{};We.IDENTITY_FN=t=>t;We.isWindows=EM==="win32";We.isMacos=EM==="darwin";We.isLinux=EM==="linux";We.isIBMi=Kqe.type()==="OS400"});var qde=O((FXt,Kde)=>{"use strict";var va=require("fs"),en=require("path"),{promisify:Mf}=require("util"),qqe=Nde(),{isWindows:Yqe,isLinux:Xqe,EMPTY_FN:zqe,EMPTY_STR:Jqe,KEY_LISTENERS:Mp,KEY_ERR:UM,KEY_RAW:wf,HANDLER_KEYS:Qqe,EV_CHANGE:Tv,EV_ADD:_v,EV_ADD_DIR:$qe,EV_ERROR:Gde,STR_DATA:eYe,STR_END:tYe,BRACE_START:rYe,STAR:nYe}=Pv(),iYe="watch",sYe=Mf(va.open),Zde=Mf(va.stat),oYe=Mf(va.lstat),aYe=Mf(va.close),MM=Mf(va.realpath),lYe={lstat:oYe,stat:Zde},VM=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},Ef=(t,e,r)=>{let i=t[e];i instanceof Set||(t[e]=i=new Set([i])),i.add(r)},dYe=t=>e=>{let r=t[e];r instanceof Set?r.clear():delete t[e]},Uf=(t,e,r)=>{let i=t[e];i instanceof Set?i.delete(r):i===r&&delete t[e]},Hde=t=>t instanceof Set?t.size===0:!t,kv=new Map;function Wde(t,e,r,i,o){let s=(l,u)=>{r(t),o(l,u,{watchedPath:t}),u&&t!==u&&wv(en.resolve(t,u),Mp,en.join(t,u))};try{return va.watch(t,e,s)}catch(l){i(l)}}var wv=(t,e,r,i,o)=>{let s=kv.get(t);s&&VM(s[e],l=>{l(r,i,o)})},uYe=(t,e,r,i)=>{let{listener:o,errHandler:s,rawEmitter:l}=i,u=kv.get(e),c;if(!r.persistent)return c=Wde(t,r,o,s,l),c.close.bind(c);if(u)Ef(u,Mp,o),Ef(u,UM,s),Ef(u,wf,l);else{if(c=Wde(t,r,wv.bind(null,e,Mp),s,wv.bind(null,e,wf)),!c)return;c.on(Gde,async g=>{let p=wv.bind(null,e,UM);if(u.watcherUnusable=!0,Yqe&&g.code==="EPERM")try{let f=await sYe(t,"r");await aYe(f),p(g)}catch{}else p(g)}),u={listeners:o,errHandlers:s,rawEmitters:l,watcher:c},kv.set(e,u)}return()=>{Uf(u,Mp,o),Uf(u,UM,s),Uf(u,wf,l),Hde(u.listeners)&&(u.watcher.close(),kv.delete(e),Qqe.forEach(dYe(u)),u.watcher=void 0,Object.freeze(u))}},LM=new Map,cYe=(t,e,r,i)=>{let{listener:o,rawEmitter:s}=i,l=LM.get(e),u=new Set,c=new Set,g=l&&l.options;return g&&(g.persistent<r.persistent||g.interval>r.interval)&&(u=l.listeners,c=l.rawEmitters,va.unwatchFile(e),l=void 0),l?(Ef(l,Mp,o),Ef(l,wf,s)):(l={listeners:o,rawEmitters:s,options:r,watcher:va.watchFile(e,r,(p,f)=>{VM(l.rawEmitters,v=>{v(Tv,e,{curr:p,prev:f})});let I=p.mtimeMs;(p.size!==f.size||I>f.mtimeMs||I===0)&&VM(l.listeners,v=>v(t,p))})},LM.set(e,l)),()=>{Uf(l,Mp,o),Uf(l,wf,s),Hde(l.listeners)&&(LM.delete(e),va.unwatchFile(e),l.options=l.watcher=void 0,Object.freeze(l))}},BM=class{constructor(e){this.fsw=e,this._boundHandleError=r=>e._handleError(r)}_watchWithNodeFs(e,r){let i=this.fsw.options,o=en.dirname(e),s=en.basename(e);this.fsw._getWatchedDir(o).add(s);let u=en.resolve(e),c={persistent:i.persistent};r||(r=zqe);let g;return i.usePolling?(c.interval=i.enableBinaryInterval&&qqe(s)?i.binaryInterval:i.interval,g=cYe(e,u,c,{listener:r,rawEmitter:this.fsw._emitRaw})):g=uYe(e,u,c,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),g}_handleFile(e,r,i){if(this.fsw.closed)return;let o=en.dirname(e),s=en.basename(e),l=this.fsw._getWatchedDir(o),u=r;if(l.has(s))return;let c=async(p,f)=>{if(this.fsw._throttle(iYe,e,5)){if(!f||f.mtimeMs===0)try{let I=await Zde(e);if(this.fsw.closed)return;let v=I.atimeMs,C=I.mtimeMs;(!v||v<=C||C!==u.mtimeMs)&&this.fsw._emit(Tv,e,I),Xqe&&u.ino!==I.ino?(this.fsw._closeFile(p),u=I,this.fsw._addPathCloser(p,this._watchWithNodeFs(e,c))):u=I}catch{this.fsw._remove(o,s)}else if(l.has(s)){let I=f.atimeMs,v=f.mtimeMs;(!I||I<=v||v!==u.mtimeMs)&&this.fsw._emit(Tv,e,f),u=f}}},g=this._watchWithNodeFs(e,c);if(!(i&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(_v,e,0))return;this.fsw._emit(_v,e,r)}return g}async _handleSymlink(e,r,i,o){if(this.fsw.closed)return;let s=e.fullPath,l=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let u;try{u=await MM(i)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(l.has(o)?this.fsw._symlinkPaths.get(s)!==u&&(this.fsw._symlinkPaths.set(s,u),this.fsw._emit(Tv,i,e.stats)):(l.add(o),this.fsw._symlinkPaths.set(s,u),this.fsw._emit(_v,i,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(e,r,i,o,s,l,u){if(e=en.join(e,Jqe),!i.hasGlob&&(u=this.fsw._throttle("readdir",e,1e3),!u))return;let c=this.fsw._getWatchedDir(i.path),g=new Set,p=this.fsw._readdirp(e,{fileFilter:f=>i.filterPath(f),directoryFilter:f=>i.filterDir(f),depth:0}).on(eYe,async f=>{if(this.fsw.closed){p=void 0;return}let I=f.path,v=en.join(e,I);if(g.add(I),!(f.stats.isSymbolicLink()&&await this._handleSymlink(f,e,v,I))){if(this.fsw.closed){p=void 0;return}(I===o||!o&&!c.has(I))&&(this.fsw._incrReadyCount(),v=en.join(s,en.relative(s,v)),this._addToNodeFs(v,r,i,l+1))}}).on(Gde,this._boundHandleError);return new Promise(f=>p.once(tYe,()=>{if(this.fsw.closed){p=void 0;return}let I=u?u.clear():!1;f(),c.getChildren().filter(v=>v!==e&&!g.has(v)&&(!i.hasGlob||i.filterPath({fullPath:en.resolve(e,v)}))).forEach(v=>{this.fsw._remove(e,v)}),p=void 0,I&&this._handleRead(e,!1,i,o,s,l,u)}))}async _handleDir(e,r,i,o,s,l,u){let c=this.fsw._getWatchedDir(en.dirname(e)),g=c.has(en.basename(e));!(i&&this.fsw.options.ignoreInitial)&&!s&&!g&&(!l.hasGlob||l.globFilter(e))&&this.fsw._emit($qe,e,r),c.add(en.basename(e)),this.fsw._getWatchedDir(e);let p,f,I=this.fsw.options.depth;if((I==null||o<=I)&&!this.fsw._symlinkPaths.has(u)){if(!s&&(await this._handleRead(e,i,l,s,e,o,p),this.fsw.closed))return;f=this._watchWithNodeFs(e,(v,C)=>{C&&C.mtimeMs===0||this._handleRead(v,!1,l,s,e,o,p)})}return f}async _addToNodeFs(e,r,i,o,s){let l=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return l(),!1;let u=this.fsw._getWatchHelpers(e,o);!u.hasGlob&&i&&(u.hasGlob=i.hasGlob,u.globFilter=i.globFilter,u.filterPath=c=>i.filterPath(c),u.filterDir=c=>i.filterDir(c));try{let c=await lYe[u.statMethod](u.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(u.watchPath,c))return l(),!1;let g=this.fsw.options.followSymlinks&&!e.includes(nYe)&&!e.includes(rYe),p;if(c.isDirectory()){let f=en.resolve(e),I=g?await MM(e):e;if(this.fsw.closed||(p=await this._handleDir(u.watchPath,c,r,o,s,u,I),this.fsw.closed))return;f!==I&&I!==void 0&&this.fsw._symlinkPaths.set(f,I)}else if(c.isSymbolicLink()){let f=g?await MM(e):e;if(this.fsw.closed)return;let I=en.dirname(u.watchPath);if(this.fsw._getWatchedDir(I).add(u.watchPath),this.fsw._emit(_v,u.watchPath,c),p=await this._handleDir(I,c,r,o,e,u,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(en.resolve(e),f)}else p=this._handleFile(u.watchPath,c,r);return l(),this.fsw._addPathCloser(e,p),!1}catch(c){if(this.fsw._handleError(c))return l(),e}}};Kde.exports=BM});var eue=O((DXt,YM)=>{"use strict";var KM=require("fs"),tn=require("path"),{promisify:qM}=require("util"),Lp;try{Lp=require("fsevents")}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if(Lp){let t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){let e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10);e===8&&r<16&&(Lp=void 0)}}var{EV_ADD:NM,EV_CHANGE:pYe,EV_ADD_DIR:Yde,EV_UNLINK:Ev,EV_ERROR:gYe,STR_DATA:mYe,STR_END:bYe,FSEVENT_CREATED:fYe,FSEVENT_MODIFIED:yYe,FSEVENT_DELETED:IYe,FSEVENT_MOVED:hYe,FSEVENT_UNKNOWN:xYe,FSEVENT_TYPE_FILE:CYe,FSEVENT_TYPE_DIRECTORY:Lf,FSEVENT_TYPE_SYMLINK:$de,ROOT_GLOBSTAR:Xde,DIR_SUFFIX:AYe,DOT_SLASH:zde,FUNCTION_TYPE:WM,EMPTY_FN:vYe,IDENTITY_FN:SYe}=Pv(),OYe=t=>isNaN(t)?{}:{depth:t},ZM=qM(KM.stat),FYe=qM(KM.lstat),Jde=qM(KM.realpath),DYe={stat:ZM,lstat:FYe},du=new Map,RYe=10,jYe=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),PYe=(t,e)=>({stop:Lp.watch(t,e)});function _Ye(t,e,r,i){let o=tn.extname(e)?tn.dirname(e):e,s=tn.dirname(o),l=du.get(o);TYe(s)&&(o=s);let u=tn.resolve(t),c=u!==e,g=(f,I,v)=>{c&&(f=f.replace(e,u)),(f===u||!f.indexOf(u+tn.sep))&&r(f,I,v)},p=!1;for(let f of du.keys())if(e.indexOf(tn.resolve(f)+tn.sep)===0){o=f,l=du.get(o),p=!0;break}return l||p?l.listeners.add(g):(l={listeners:new Set([g]),rawEmitter:i,watcher:PYe(o,(f,I)=>{if(!l.listeners.size)return;let v=Lp.getInfo(f,I);l.listeners.forEach(C=>{C(f,I,v)}),l.rawEmitter(v.event,f,v)})},du.set(o,l)),()=>{let f=l.listeners;if(f.delete(g),!f.size&&(du.delete(o),l.watcher))return l.watcher.stop().then(()=>{l.rawEmitter=l.watcher=void 0,Object.freeze(l)})}}var TYe=t=>{let e=0;for(let r of du.keys())if(r.indexOf(t)===0&&(e++,e>=RYe))return!0;return!1},kYe=()=>Lp&&du.size<128,GM=(t,e)=>{let r=0;for(;!t.indexOf(e)&&(t=tn.dirname(t))!==e;)r++;return r},Qde=(t,e)=>t.type===Lf&&e.isDirectory()||t.type===$de&&e.isSymbolicLink()||t.type===CYe&&e.isFile(),HM=class{constructor(e){this.fsw=e}checkIgnored(e,r){let i=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,r))return i.add(e),r&&r.isDirectory()&&i.add(e+Xde),!0;i.delete(e),i.delete(e+Xde)}addOrChange(e,r,i,o,s,l,u,c){let g=s.has(l)?pYe:NM;this.handleEvent(g,e,r,i,o,s,l,u,c)}async checkExists(e,r,i,o,s,l,u,c){try{let g=await ZM(e);if(this.fsw.closed)return;Qde(u,g)?this.addOrChange(e,r,i,o,s,l,u,c):this.handleEvent(Ev,e,r,i,o,s,l,u,c)}catch(g){g.code==="EACCES"?this.addOrChange(e,r,i,o,s,l,u,c):this.handleEvent(Ev,e,r,i,o,s,l,u,c)}}handleEvent(e,r,i,o,s,l,u,c,g){if(!(this.fsw.closed||this.checkIgnored(r)))if(e===Ev){let p=c.type===Lf;(p||l.has(u))&&this.fsw._remove(s,u,p)}else{if(e===NM){if(c.type===Lf&&this.fsw._getWatchedDir(r),c.type===$de&&g.followSymlinks){let f=g.depth===void 0?void 0:GM(i,o)+1;return this._addToFsEvents(r,!1,!0,f)}this.fsw._getWatchedDir(s).add(u)}let p=c.type===Lf?e+AYe:e;this.fsw._emit(p,r),p===Yde&&this._addToFsEvents(r,!1,!0)}}_watchWithFsEvents(e,r,i,o){if(this.fsw.closed||this.fsw._isIgnored(e))return;let s=this.fsw.options,u=_Ye(e,r,async(c,g,p)=>{if(this.fsw.closed||s.depth!==void 0&&GM(c,r)>s.depth)return;let f=i(tn.join(e,tn.relative(e,c)));if(o&&!o(f))return;let I=tn.dirname(f),v=tn.basename(f),C=this.fsw._getWatchedDir(p.type===Lf?f:I);if(jYe.has(g)||p.event===xYe)if(typeof s.ignored===WM){let F;try{F=await ZM(f)}catch{}if(this.fsw.closed||this.checkIgnored(f,F))return;Qde(p,F)?this.addOrChange(f,c,r,I,C,v,p,s):this.handleEvent(Ev,f,c,r,I,C,v,p,s)}else this.checkExists(f,c,r,I,C,v,p,s);else switch(p.event){case fYe:case yYe:return this.addOrChange(f,c,r,I,C,v,p,s);case IYe:case hYe:return this.checkExists(f,c,r,I,C,v,p,s)}},this.fsw._emitRaw);return this.fsw._emitReady(),u}async _handleFsEventsSymlink(e,r,i,o){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(r))){this.fsw._symlinkPaths.set(r,!0),this.fsw._incrReadyCount();try{let s=await Jde(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(s))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(s||e,l=>{let u=e;return s&&s!==zde?u=l.replace(s,e):l!==zde&&(u=tn.join(e,l)),i(u)},!1,o)}catch(s){if(this.fsw._handleError(s))return this.fsw._emitReady()}}}emitAdd(e,r,i,o,s){let l=i(e),u=r.isDirectory(),c=this.fsw._getWatchedDir(tn.dirname(l)),g=tn.basename(l);u&&this.fsw._getWatchedDir(l),!c.has(g)&&(c.add(g),(!o.ignoreInitial||s===!0)&&this.fsw._emit(u?Yde:NM,l,r))}initWatch(e,r,i,o){if(this.fsw.closed)return;let s=this._watchWithFsEvents(i.watchPath,tn.resolve(e||i.watchPath),o,i.globFilter);this.fsw._addPathCloser(r,s)}async _addToFsEvents(e,r,i,o){if(this.fsw.closed)return;let s=this.fsw.options,l=typeof r===WM?r:SYe,u=this.fsw._getWatchHelpers(e);try{let c=await DYe[u.statMethod](u.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(u.watchPath,c))throw null;if(c.isDirectory()){if(u.globFilter||this.emitAdd(l(e),c,l,s,i),o&&o>s.depth)return;this.fsw._readdirp(u.watchPath,{fileFilter:g=>u.filterPath(g),directoryFilter:g=>u.filterDir(g),...OYe(s.depth-(o||0))}).on(mYe,g=>{if(this.fsw.closed||g.stats.isDirectory()&&!u.filterPath(g))return;let p=tn.join(u.watchPath,g.path),{fullPath:f}=g;if(u.followSymlinks&&g.stats.isSymbolicLink()){let I=s.depth===void 0?void 0:GM(p,tn.resolve(u.watchPath))+1;this._handleFsEventsSymlink(p,f,l,I)}else this.emitAdd(p,g.stats,l,s,i)}).on(gYe,vYe).on(bYe,()=>{this.fsw._emitReady()})}else this.emitAdd(u.watchPath,c,l,s,i),this.fsw._emitReady()}catch(c){(!c||this.fsw._handleError(c))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(s.persistent&&i!==!0)if(typeof r===WM)this.initWatch(void 0,e,u,l);else{let c;try{c=await Jde(u.watchPath)}catch{}this.initWatch(c,e,u,l)}}};YM.exports=HM;YM.exports.canUse=kYe});var cue=O(dL=>{"use strict";var{EventEmitter:wYe}=require("events"),aL=require("fs"),Nt=require("path"),{promisify:aue}=require("util"),EYe=Ble(),eL=qle().default,UYe=$le(),XM=RM(),MYe=Ude(),LYe=FM(),VYe=qde(),tue=eue(),{EV_ALL:zM,EV_READY:BYe,EV_ADD:Uv,EV_CHANGE:Vf,EV_UNLINK:rue,EV_ADD_DIR:NYe,EV_UNLINK_DIR:WYe,EV_RAW:GYe,EV_ERROR:JM,STR_CLOSE:ZYe,STR_END:HYe,BACK_SLASH_RE:KYe,DOUBLE_SLASH_RE:nue,SLASH_OR_BACK_SLASH_RE:qYe,DOT_RE:YYe,REPLACER_RE:XYe,SLASH:QM,SLASH_SLASH:zYe,BRACE_START:JYe,BANG:tL,ONE_DOT:lue,TWO_DOTS:QYe,GLOBSTAR:$Ye,SLASH_GLOBSTAR:$M,ANYMATCH_OPTS:rL,STRING_TYPE:lL,FUNCTION_TYPE:e3e,EMPTY_STR:nL,EMPTY_FN:t3e,isWindows:r3e,isMacos:n3e,isIBMi:i3e}=Pv(),s3e=aue(aL.stat),o3e=aue(aL.readdir),iL=(t=[])=>Array.isArray(t)?t:[t],due=(t,e=[])=>(t.forEach(r=>{Array.isArray(r)?due(r,e):e.push(r)}),e),iue=t=>{let e=due(iL(t));if(!e.every(r=>typeof r===lL))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(uue)},sue=t=>{let e=t.replace(KYe,QM),r=!1;for(e.startsWith(zYe)&&(r=!0);e.match(nue);)e=e.replace(nue,QM);return r&&(e=QM+e),e},uue=t=>sue(Nt.normalize(sue(t))),oue=(t=nL)=>e=>typeof e!==lL?e:uue(Nt.isAbsolute(e)?e:Nt.join(t,e)),a3e=(t,e)=>Nt.isAbsolute(t)?t:t.startsWith(tL)?tL+Nt.join(e,t.slice(1)):Nt.join(e,t),Ss=(t,e)=>t[e]===void 0,sL=class{constructor(e,r){this.path=e,this._removeWatcher=r,this.items=new Set}add(e){let{items:r}=this;r&&e!==lue&&e!==QYe&&r.add(e)}async remove(e){let{items:r}=this;if(!r||(r.delete(e),r.size>0))return;let i=this.path;try{await o3e(i)}catch{this._removeWatcher&&this._removeWatcher(Nt.dirname(i),Nt.basename(i))}}has(e){let{items:r}=this;if(r)return r.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},l3e="stat",d3e="lstat",oL=class{constructor(e,r,i,o){this.fsw=o,this.path=e=e.replace(XYe,nL),this.watchPath=r,this.fullWatchPath=Nt.resolve(r),this.hasGlob=r!==e,e===nL&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&i?void 0:!1,this.globFilter=this.hasGlob?eL(e,void 0,rL):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(s=>{s.length>1&&s.pop()}),this.followSymlinks=i,this.statMethod=i?l3e:d3e}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return Nt.join(this.watchPath,Nt.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:r}=e;if(r&&r.isSymbolicLink())return this.filterDir(e);let i=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===e3e?this.globFilter(i):!0)&&this.fsw._isntIgnored(i,r)&&this.fsw._hasReadPermissions(r)}getDirParts(e){if(!this.hasGlob)return[];let r=[];return(e.includes(JYe)?MYe.expand(e):[e]).forEach(o=>{r.push(Nt.relative(this.watchPath,o).split(qYe))}),r}filterDir(e){if(this.hasGlob){let r=this.getDirParts(this.checkGlobSymlink(e)),i=!1;this.unmatchedGlob=!this.dirParts.some(o=>o.every((s,l)=>(s===$Ye&&(i=!0),i||!r[0][l]||eL(s,r[0][l],rL))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},Mv=class extends wYe{constructor(e){super();let r={};e&&Object.assign(r,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,Ss(r,"persistent")&&(r.persistent=!0),Ss(r,"ignoreInitial")&&(r.ignoreInitial=!1),Ss(r,"ignorePermissionErrors")&&(r.ignorePermissionErrors=!1),Ss(r,"interval")&&(r.interval=100),Ss(r,"binaryInterval")&&(r.binaryInterval=300),Ss(r,"disableGlobbing")&&(r.disableGlobbing=!1),r.enableBinaryInterval=r.binaryInterval!==r.interval,Ss(r,"useFsEvents")&&(r.useFsEvents=!r.usePolling),tue.canUse()||(r.useFsEvents=!1),Ss(r,"usePolling")&&!r.useFsEvents&&(r.usePolling=n3e),i3e&&(r.usePolling=!0);let o=process.env.CHOKIDAR_USEPOLLING;if(o!==void 0){let c=o.toLowerCase();c==="false"||c==="0"?r.usePolling=!1:c==="true"||c==="1"?r.usePolling=!0:r.usePolling=!!c}let s=process.env.CHOKIDAR_INTERVAL;s&&(r.interval=Number.parseInt(s,10)),Ss(r,"atomic")&&(r.atomic=!r.usePolling&&!r.useFsEvents),r.atomic&&(this._pendingUnlinks=new Map),Ss(r,"followSymlinks")&&(r.followSymlinks=!0),Ss(r,"awaitWriteFinish")&&(r.awaitWriteFinish=!1),r.awaitWriteFinish===!0&&(r.awaitWriteFinish={});let l=r.awaitWriteFinish;l&&(l.stabilityThreshold||(l.stabilityThreshold=2e3),l.pollInterval||(l.pollInterval=100),this._pendingWrites=new Map),r.ignored&&(r.ignored=iL(r.ignored));let u=0;this._emitReady=()=>{u++,u>=this._readyCount&&(this._emitReady=t3e,this._readyEmitted=!0,process.nextTick(()=>this.emit(BYe)))},this._emitRaw=(...c)=>this.emit(GYe,...c),this._readyEmitted=!1,this.options=r,r.useFsEvents?this._fsEventsHandler=new tue(this):this._nodeFsHandler=new VYe(this),Object.freeze(r)}add(e,r,i){let{cwd:o,disableGlobbing:s}=this.options;this.closed=!1;let l=iue(e);return o&&(l=l.map(u=>{let c=a3e(u,o);return s||!XM(u)?c:LYe(c)})),l=l.filter(u=>u.startsWith(tL)?(this._ignoredPaths.add(u.slice(1)),!1):(this._ignoredPaths.delete(u),this._ignoredPaths.delete(u+$M),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=l.length),this.options.persistent&&(this._readyCount*=2),l.forEach(u=>this._fsEventsHandler._addToFsEvents(u))):(this._readyCount||(this._readyCount=0),this._readyCount+=l.length,Promise.all(l.map(async u=>{let c=await this._nodeFsHandler._addToNodeFs(u,!i,0,0,r);return c&&this._emitReady(),c})).then(u=>{this.closed||u.filter(c=>c).forEach(c=>{this.add(Nt.dirname(c),Nt.basename(r||c))})})),this}unwatch(e){if(this.closed)return this;let r=iue(e),{cwd:i}=this.options;return r.forEach(o=>{!Nt.isAbsolute(o)&&!this._closers.has(o)&&(i&&(o=Nt.join(i,o)),o=Nt.resolve(o)),this._closePath(o),this._ignoredPaths.add(o),this._watched.has(o)&&this._ignoredPaths.add(o+$M),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(r=>r.forEach(i=>{let o=i();o instanceof Promise&&e.push(o)})),this._streams.forEach(r=>r.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(r=>r.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(r=>{this[`_${r}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((r,i)=>{let o=this.options.cwd?Nt.relative(this.options.cwd,i):i;e[o||lue]=r.getChildren().sort()}),e}emitWithAll(e,r){this.emit(...r),e!==JM&&this.emit(zM,...r)}async _emit(e,r,i,o,s){if(this.closed)return;let l=this.options;r3e&&(r=Nt.normalize(r)),l.cwd&&(r=Nt.relative(l.cwd,r));let u=[e,r];s!==void 0?u.push(i,o,s):o!==void 0?u.push(i,o):i!==void 0&&u.push(i);let c=l.awaitWriteFinish,g;if(c&&(g=this._pendingWrites.get(r)))return g.lastChange=new Date,this;if(l.atomic){if(e===rue)return this._pendingUnlinks.set(r,u),setTimeout(()=>{this._pendingUnlinks.forEach((p,f)=>{this.emit(...p),this.emit(zM,...p),this._pendingUnlinks.delete(f)})},typeof l.atomic=="number"?l.atomic:100),this;e===Uv&&this._pendingUnlinks.has(r)&&(e=u[0]=Vf,this._pendingUnlinks.delete(r))}if(c&&(e===Uv||e===Vf)&&this._readyEmitted){let p=(f,I)=>{f?(e=u[0]=JM,u[1]=f,this.emitWithAll(e,u)):I&&(u.length>2?u[2]=I:u.push(I),this.emitWithAll(e,u))};return this._awaitWriteFinish(r,c.stabilityThreshold,e,p),this}if(e===Vf&&!this._throttle(Vf,r,50))return this;if(l.alwaysStat&&i===void 0&&(e===Uv||e===NYe||e===Vf)){let p=l.cwd?Nt.join(l.cwd,r):r,f;try{f=await s3e(p)}catch{}if(!f||this.closed)return;u.push(f)}return this.emitWithAll(e,u),this}_handleError(e){let r=e&&e.code;return e&&r!=="ENOENT"&&r!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||r!=="EPERM"&&r!=="EACCES")&&this.emit(JM,e),e||this.closed}_throttle(e,r,i){this._throttled.has(e)||this._throttled.set(e,new Map);let o=this._throttled.get(e),s=o.get(r);if(s)return s.count++,!1;let l,u=()=>{let g=o.get(r),p=g?g.count:0;return o.delete(r),clearTimeout(l),g&&clearTimeout(g.timeoutObject),p};l=setTimeout(u,i);let c={timeoutObject:l,clear:u,count:0};return o.set(r,c),c}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,r,i,o){let s,l=e;this.options.cwd&&!Nt.isAbsolute(e)&&(l=Nt.join(this.options.cwd,e));let u=new Date,c=g=>{aL.stat(l,(p,f)=>{if(p||!this._pendingWrites.has(e)){p&&p.code!=="ENOENT"&&o(p);return}let I=Number(new Date);g&&f.size!==g.size&&(this._pendingWrites.get(e).lastChange=I);let v=this._pendingWrites.get(e);I-v.lastChange>=r?(this._pendingWrites.delete(e),o(void 0,f)):s=setTimeout(c,this.options.awaitWriteFinish.pollInterval,f)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:u,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(s),i)}),s=setTimeout(c,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,r){if(this.options.atomic&&YYe.test(e))return!0;if(!this._userIgnored){let{cwd:i}=this.options,o=this.options.ignored,s=o&&o.map(oue(i)),l=iL(s).filter(c=>typeof c===lL&&!XM(c)).map(c=>c+$M),u=this._getGlobIgnored().map(oue(i)).concat(s,l);this._userIgnored=eL(u,void 0,rL)}return this._userIgnored([e,r])}_isntIgnored(e,r){return!this._isIgnored(e,r)}_getWatchHelpers(e,r){let i=r||this.options.disableGlobbing||!XM(e)?e:UYe(e),o=this.options.followSymlinks;return new oL(e,i,o,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let r=Nt.resolve(e);return this._watched.has(r)||this._watched.set(r,new sL(r,this._boundRemove)),this._watched.get(r)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let i=(e&&Number.parseInt(e.mode,10))&511,o=Number.parseInt(i.toString(8)[0],10);return Boolean(4&o)}_remove(e,r,i){let o=Nt.join(e,r),s=Nt.resolve(o);if(i=i??(this._watched.has(o)||this._watched.has(s)),!this._throttle("remove",o,100))return;!i&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,r,!0),this._getWatchedDir(o).getChildren().forEach(I=>this._remove(o,I));let c=this._getWatchedDir(e),g=c.has(r);c.remove(r),this._symlinkPaths.has(s)&&this._symlinkPaths.delete(s);let p=o;if(this.options.cwd&&(p=Nt.relative(this.options.cwd,o)),this.options.awaitWriteFinish&&this._pendingWrites.has(p)&&this._pendingWrites.get(p).cancelWait()===Uv)return;this._watched.delete(o),this._watched.delete(s);let f=i?WYe:rue;g&&!this._isIgnored(o)&&this._emit(f,o),this.options.useFsEvents||this._closePath(o)}_closePath(e){this._closeFile(e);let r=Nt.dirname(e);this._getWatchedDir(r).remove(Nt.basename(e))}_closeFile(e){let r=this._closers.get(e);r&&(r.forEach(i=>i()),this._closers.delete(e))}_addPathCloser(e,r){if(!r)return;let i=this._closers.get(e);i||(i=[],this._closers.set(e,i)),i.push(r)}_readdirp(e,r){if(this.closed)return;let i={type:zM,alwaysStat:!0,lstat:!0,...r},o=EYe(e,i);return this._streams.add(o),o.once(ZYe,()=>{o=void 0}),o.once(HYe,()=>{o&&(this._streams.delete(o),o=void 0)}),o}};dL.FSWatcher=Mv;var u3e=(t,e)=>{let r=new Mv(e);return r.add(t),r};dL.watch=u3e});var si=O(uL=>{"use strict";uL.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((r,i)=>{t.call(this,...e,(o,s)=>o!=null?i(o):r(s))})},"name",{value:t.name})};uL.fromPromise=function(t){return Object.defineProperty(function(...e){let r=e[e.length-1];if(typeof r!="function")return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(i=>r(null,i),r)},"name",{value:t.name})}});var gue=O((PXt,pue)=>{var El=require("constants"),c3e=process.cwd,Lv=null,p3e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Lv||(Lv=c3e.call(process)),Lv};try{process.cwd()}catch{}typeof process.chdir=="function"&&(cL=process.chdir,process.chdir=function(t){Lv=null,cL.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,cL));var cL;pue.exports=g3e;function g3e(t){El.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=l(t.chownSync),t.fchownSync=l(t.fchownSync),t.lchownSync=l(t.lchownSync),t.chmodSync=o(t.chmodSync),t.fchmodSync=o(t.fchmodSync),t.lchmodSync=o(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(p,f,I){I&&process.nextTick(I)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(p,f,I,v){v&&process.nextTick(v)},t.lchownSync=function(){}),p3e==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(p){function f(I,v,C){var F=Date.now(),P=0;p(I,v,function E(J){if(J&&(J.code==="EACCES"||J.code==="EPERM")&&Date.now()-F<6e4){setTimeout(function(){t.stat(v,function(k,ee){k&&k.code==="ENOENT"?p(I,v,E):C(J)})},P),P<100&&(P+=10);return}C&&C(J)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,p),f}(t.rename)),t.read=typeof t.read!="function"?t.read:function(p){function f(I,v,C,F,P,E){var J;if(E&&typeof E=="function"){var k=0;J=function(ee,ce,Q){if(ee&&ee.code==="EAGAIN"&&k<10)return k++,p.call(t,I,v,C,F,P,J);E.apply(this,arguments)}}return p.call(t,I,v,C,F,P,J)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,p),f}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(p){return function(f,I,v,C,F){for(var P=0;;)try{return p.call(t,f,I,v,C,F)}catch(E){if(E.code==="EAGAIN"&&P<10){P++;continue}throw E}}}(t.readSync);function e(p){p.lchmod=function(f,I,v){p.open(f,El.O_WRONLY|El.O_SYMLINK,I,function(C,F){if(C){v&&v(C);return}p.fchmod(F,I,function(P){p.close(F,function(E){v&&v(P||E)})})})},p.lchmodSync=function(f,I){var v=p.openSync(f,El.O_WRONLY|El.O_SYMLINK,I),C=!0,F;try{F=p.fchmodSync(v,I),C=!1}finally{if(C)try{p.closeSync(v)}catch{}else p.closeSync(v)}return F}}function r(p){El.hasOwnProperty("O_SYMLINK")&&p.futimes?(p.lutimes=function(f,I,v,C){p.open(f,El.O_SYMLINK,function(F,P){if(F){C&&C(F);return}p.futimes(P,I,v,function(E){p.close(P,function(J){C&&C(E||J)})})})},p.lutimesSync=function(f,I,v){var C=p.openSync(f,El.O_SYMLINK),F,P=!0;try{F=p.futimesSync(C,I,v),P=!1}finally{if(P)try{p.closeSync(C)}catch{}else p.closeSync(C)}return F}):p.futimes&&(p.lutimes=function(f,I,v,C){C&&process.nextTick(C)},p.lutimesSync=function(){})}function i(p){return p&&function(f,I,v){return p.call(t,f,I,function(C){g(C)&&(C=null),v&&v.apply(this,arguments)})}}function o(p){return p&&function(f,I){try{return p.call(t,f,I)}catch(v){if(!g(v))throw v}}}function s(p){return p&&function(f,I,v,C){return p.call(t,f,I,v,function(F){g(F)&&(F=null),C&&C.apply(this,arguments)})}}function l(p){return p&&function(f,I,v){try{return p.call(t,f,I,v)}catch(C){if(!g(C))throw C}}}function u(p){return p&&function(f,I,v){typeof I=="function"&&(v=I,I=null);function C(F,P){P&&(P.uid<0&&(P.uid+=4294967296),P.gid<0&&(P.gid+=4294967296)),v&&v.apply(this,arguments)}return I?p.call(t,f,I,C):p.call(t,f,C)}}function c(p){return p&&function(f,I){var v=I?p.call(t,f,I):p.call(t,f);return v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),v}}function g(p){if(!p||p.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(p.code==="EINVAL"||p.code==="EPERM"))}}});var fue=O((_Xt,bue)=>{var mue=require("stream").Stream;bue.exports=m3e;function m3e(t){return{ReadStream:e,WriteStream:r};function e(i,o){if(!(this instanceof e))return new e(i,o);mue.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,o=o||{};for(var l=Object.keys(o),u=0,c=l.length;u<c;u++){var g=l[u];this[g]=o[g]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(p,f){if(p){s.emit("error",p),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(i,o){if(!(this instanceof r))return new r(i,o);mue.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var s=Object.keys(o),l=0,u=s.length;l<u;l++){var c=s[l];this[c]=o[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Iue=O((TXt,yue)=>{"use strict";yue.exports=f3e;var b3e=Object.getPrototypeOf||function(t){return t.__proto__};function f3e(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:b3e(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Di=O((kXt,mL)=>{var br=require("fs"),y3e=gue(),I3e=fue(),h3e=Iue(),Vv=require("util"),pn,Nv;typeof Symbol=="function"&&typeof Symbol.for=="function"?(pn=Symbol.for("graceful-fs.queue"),Nv=Symbol.for("graceful-fs.previous")):(pn="___graceful-fs.queue",Nv="___graceful-fs.previous");function x3e(){}function Cue(t,e){Object.defineProperty(t,pn,{get:function(){return e}})}var uu=x3e;Vv.debuglog?uu=Vv.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(uu=function(){var t=Vv.format.apply(Vv,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});br[pn]||(hue=global[pn]||[],Cue(br,hue),br.close=function(t){function e(r,i){return t.call(br,r,function(o){o||xue(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(e,Nv,{value:t}),e}(br.close),br.closeSync=function(t){function e(r){t.apply(br,arguments),xue()}return Object.defineProperty(e,Nv,{value:t}),e}(br.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){uu(br[pn]),require("assert").equal(br[pn].length,0)}));var hue;global[pn]||Cue(global,br[pn]);mL.exports=pL(h3e(br));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!br.__patched&&(mL.exports=pL(br),br.__patched=!0);function pL(t){y3e(t),t.gracefulify=pL,t.createReadStream=ce,t.createWriteStream=Q;var e=t.readFile;t.readFile=r;function r(z,fe,N){return typeof fe=="function"&&(N=fe,fe=null),Fe(z,fe,N);function Fe(Re,_e,W,Z){return e(Re,_e,function(ae){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?Vp([Fe,[Re,_e,W],ae,Z||Date.now(),Date.now()]):typeof W=="function"&&W.apply(this,arguments)})}}var i=t.writeFile;t.writeFile=o;function o(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return i(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Vp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=l);function l(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return s(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Vp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var u=t.copyFile;u&&(t.copyFile=c);function c(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=0),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return u(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Vp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var g=t.readdir;t.readdir=f;var p=/^v[0-5]\./;function f(z,fe,N){typeof fe=="function"&&(N=fe,fe=null);var Fe=p.test(process.version)?function(W,Z,ae,se){return g(W,Re(W,Z,ae,se))}:function(W,Z,ae,se){return g(W,Z,Re(W,Z,ae,se))};return Fe(z,fe,N);function Re(_e,W,Z,ae){return function(se,Ae){se&&(se.code==="EMFILE"||se.code==="ENFILE")?Vp([Fe,[_e,W,Z],se,ae||Date.now(),Date.now()]):(Ae&&Ae.sort&&Ae.sort(),typeof Z=="function"&&Z.call(this,se,Ae))}}}if(process.version.substr(0,4)==="v0.8"){var I=I3e(t);E=I.ReadStream,k=I.WriteStream}var v=t.ReadStream;v&&(E.prototype=Object.create(v.prototype),E.prototype.open=J);var C=t.WriteStream;C&&(k.prototype=Object.create(C.prototype),k.prototype.open=ee),Object.defineProperty(t,"ReadStream",{get:function(){return E},set:function(z){E=z},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return k},set:function(z){k=z},enumerable:!0,configurable:!0});var F=E;Object.defineProperty(t,"FileReadStream",{get:function(){return F},set:function(z){F=z},enumerable:!0,configurable:!0});var P=k;Object.defineProperty(t,"FileWriteStream",{get:function(){return P},set:function(z){P=z},enumerable:!0,configurable:!0});function E(z,fe){return this instanceof E?(v.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function J(){var z=this;me(z.path,z.flags,z.mode,function(fe,N){fe?(z.autoClose&&z.destroy(),z.emit("error",fe)):(z.fd=N,z.emit("open",N),z.read())})}function k(z,fe){return this instanceof k?(C.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function ee(){var z=this;me(z.path,z.flags,z.mode,function(fe,N){fe?(z.destroy(),z.emit("error",fe)):(z.fd=N,z.emit("open",N))})}function ce(z,fe){return new t.ReadStream(z,fe)}function Q(z,fe){return new t.WriteStream(z,fe)}var he=t.open;t.open=me;function me(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return he(_e,W,Z,function(Ae,or){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Vp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}return t}function Vp(t){uu("ENQUEUE",t[0].name,t[1]),br[pn].push(t),gL()}var Bv;function xue(){for(var t=Date.now(),e=0;e<br[pn].length;++e)br[pn][e].length>2&&(br[pn][e][3]=t,br[pn][e][4]=t);gL()}function gL(){if(clearTimeout(Bv),Bv=void 0,br[pn].length!==0){var t=br[pn].shift(),e=t[0],r=t[1],i=t[2],o=t[3],s=t[4];if(o===void 0)uu("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-o>=6e4){uu("TIMEOUT",e.name,r);var l=r.pop();typeof l=="function"&&l.call(null,i)}else{var u=Date.now()-s,c=Math.max(s-o,1),g=Math.min(c*1.2,100);u>=g?(uu("RETRY",e.name,r),e.apply(null,r.concat([o]))):br[pn].push(t)}Bv===void 0&&(Bv=setTimeout(gL,0))}}});var cu=O(Sa=>{"use strict";var Aue=si().fromCallback,Vn=Di(),C3e=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Vn[t]=="function");Object.assign(Sa,Vn);C3e.forEach(t=>{Sa[t]=Aue(Vn[t])});Sa.exists=function(t,e){return typeof e=="function"?Vn.exists(t,e):new Promise(r=>Vn.exists(t,r))};Sa.read=function(t,e,r,i,o,s){return typeof s=="function"?Vn.read(t,e,r,i,o,s):new Promise((l,u)=>{Vn.read(t,e,r,i,o,(c,g,p)=>{if(c)return u(c);l({bytesRead:g,buffer:p})})})};Sa.write=function(t,e,...r){return typeof r[r.length-1]=="function"?Vn.write(t,e,...r):new Promise((i,o)=>{Vn.write(t,e,...r,(s,l,u)=>{if(s)return o(s);i({bytesWritten:l,buffer:u})})})};Sa.readv=function(t,e,...r){return typeof r[r.length-1]=="function"?Vn.readv(t,e,...r):new Promise((i,o)=>{Vn.readv(t,e,...r,(s,l,u)=>{if(s)return o(s);i({bytesRead:l,buffers:u})})})};Sa.writev=function(t,e,...r){return typeof r[r.length-1]=="function"?Vn.writev(t,e,...r):new Promise((i,o)=>{Vn.writev(t,e,...r,(s,l,u)=>{if(s)return o(s);i({bytesWritten:l,buffers:u})})})};typeof Vn.realpath.native=="function"?Sa.realpath.native=Aue(Vn.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var Sue=O((EXt,vue)=>{"use strict";var A3e=require("path");vue.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(A3e.parse(e).root,""))){let i=new Error(`Path contains invalid characters: ${e}`);throw i.code="EINVAL",i}}});var Rue=O((UXt,bL)=>{"use strict";var Oue=cu(),{checkPath:Fue}=Sue(),Due=t=>{let e={mode:511};return typeof t=="number"?t:{...e,...t}.mode};bL.exports.makeDir=async(t,e)=>(Fue(t),Oue.mkdir(t,{mode:Due(e),recursive:!0}));bL.exports.makeDirSync=(t,e)=>(Fue(t),Oue.mkdirSync(t,{mode:Due(e),recursive:!0}))});var Os=O((MXt,jue)=>{"use strict";var v3e=si().fromPromise,{makeDir:S3e,makeDirSync:fL}=Rue(),yL=v3e(S3e);jue.exports={mkdirs:yL,mkdirsSync:fL,mkdirp:yL,mkdirpSync:fL,ensureDir:yL,ensureDirSync:fL}});var Ul=O((LXt,_ue)=>{"use strict";var O3e=si().fromPromise,Pue=cu();function F3e(t){return Pue.access(t).then(()=>!0).catch(()=>!1)}_ue.exports={pathExists:O3e(F3e),pathExistsSync:Pue.existsSync}});var IL=O((VXt,Tue)=>{"use strict";var Bp=Di();function D3e(t,e,r,i){Bp.open(t,"r+",(o,s)=>{if(o)return i(o);Bp.futimes(s,e,r,l=>{Bp.close(s,u=>{i&&i(l||u)})})})}function R3e(t,e,r){let i=Bp.openSync(t,"r+");return Bp.futimesSync(i,e,r),Bp.closeSync(i)}Tue.exports={utimesMillis:D3e,utimesMillisSync:R3e}});var pu=O((BXt,Eue)=>{"use strict";var Np=cu(),rn=require("path"),j3e=require("util");function P3e(t,e,r){let i=r.dereference?o=>Np.stat(o,{bigint:!0}):o=>Np.lstat(o,{bigint:!0});return Promise.all([i(t),i(e).catch(o=>{if(o.code==="ENOENT")return null;throw o})]).then(([o,s])=>({srcStat:o,destStat:s}))}function _3e(t,e,r){let i,o=r.dereference?l=>Np.statSync(l,{bigint:!0}):l=>Np.lstatSync(l,{bigint:!0}),s=o(t);try{i=o(e)}catch(l){if(l.code==="ENOENT")return{srcStat:s,destStat:null};throw l}return{srcStat:s,destStat:i}}function T3e(t,e,r,i,o){j3e.callbackify(P3e)(t,e,i,(s,l)=>{if(s)return o(s);let{srcStat:u,destStat:c}=l;if(c){if(Bf(u,c)){let g=rn.basename(t),p=rn.basename(e);return r==="move"&&g!==p&&g.toLowerCase()===p.toLowerCase()?o(null,{srcStat:u,destStat:c,isChangingCase:!0}):o(new Error("Source and destination must not be the same."))}if(u.isDirectory()&&!c.isDirectory())return o(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!u.isDirectory()&&c.isDirectory())return o(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return u.isDirectory()&&hL(t,e)?o(new Error(Wv(t,e,r))):o(null,{srcStat:u,destStat:c})})}function k3e(t,e,r,i){let{srcStat:o,destStat:s}=_3e(t,e,i);if(s){if(Bf(o,s)){let l=rn.basename(t),u=rn.basename(e);if(r==="move"&&l!==u&&l.toLowerCase()===u.toLowerCase())return{srcStat:o,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(o.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!o.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(o.isDirectory()&&hL(t,e))throw new Error(Wv(t,e,r));return{srcStat:o,destStat:s}}function kue(t,e,r,i,o){let s=rn.resolve(rn.dirname(t)),l=rn.resolve(rn.dirname(r));if(l===s||l===rn.parse(l).root)return o();Np.stat(l,{bigint:!0},(u,c)=>u?u.code==="ENOENT"?o():o(u):Bf(e,c)?o(new Error(Wv(t,r,i))):kue(t,e,l,i,o))}function wue(t,e,r,i){let o=rn.resolve(rn.dirname(t)),s=rn.resolve(rn.dirname(r));if(s===o||s===rn.parse(s).root)return;let l;try{l=Np.statSync(s,{bigint:!0})}catch(u){if(u.code==="ENOENT")return;throw u}if(Bf(e,l))throw new Error(Wv(t,r,i));return wue(t,e,s,i)}function Bf(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function hL(t,e){let r=rn.resolve(t).split(rn.sep).filter(o=>o),i=rn.resolve(e).split(rn.sep).filter(o=>o);return r.reduce((o,s,l)=>o&&i[l]===s,!0)}function Wv(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}Eue.exports={checkPaths:T3e,checkPathsSync:k3e,checkParentPaths:kue,checkParentPathsSync:wue,isSrcSubdir:hL,areIdentical:Bf}});var Nue=O((NXt,Bue)=>{"use strict";var oi=Di(),Nf=require("path"),w3e=Os().mkdirs,E3e=Ul().pathExists,U3e=IL().utimesMillis,Wf=pu();function M3e(t,e,r,i){typeof r=="function"&&!i?(i=r,r={}):typeof r=="function"&&(r={filter:r}),i=i||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Wf.checkPaths(t,e,"copy",r,(o,s)=>{if(o)return i(o);let{srcStat:l,destStat:u}=s;Wf.checkParentPaths(t,l,e,"copy",c=>{if(c)return i(c);Mue(t,e,r,(g,p)=>{if(g)return i(g);if(!p)return i();L3e(u,t,e,r,i)})})})}function L3e(t,e,r,i,o){let s=Nf.dirname(r);E3e(s,(l,u)=>{if(l)return o(l);if(u)return xL(t,e,r,i,o);w3e(s,c=>c?o(c):xL(t,e,r,i,o))})}function Mue(t,e,r,i){if(!r.filter)return i(null,!0);Promise.resolve(r.filter(t,e)).then(o=>i(null,o),o=>i(o))}function xL(t,e,r,i,o){(i.dereference?oi.stat:oi.lstat)(e,(l,u)=>l?o(l):u.isDirectory()?H3e(u,t,e,r,i,o):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?V3e(u,t,e,r,i,o):u.isSymbolicLink()?Y3e(t,e,r,i,o):u.isSocket()?o(new Error(`Cannot copy a socket file: ${e}`)):u.isFIFO()?o(new Error(`Cannot copy a FIFO pipe: ${e}`)):o(new Error(`Unknown file: ${e}`)))}function V3e(t,e,r,i,o,s){return e?B3e(t,r,i,o,s):Lue(t,r,i,o,s)}function B3e(t,e,r,i,o){if(i.overwrite)oi.unlink(r,s=>s?o(s):Lue(t,e,r,i,o));else return i.errorOnExist?o(new Error(`'${r}' already exists`)):o()}function Lue(t,e,r,i,o){oi.copyFile(e,r,s=>s?o(s):i.preserveTimestamps?N3e(t.mode,e,r,o):Gv(r,t.mode,o))}function N3e(t,e,r,i){return W3e(t)?G3e(r,t,o=>o?i(o):Uue(t,e,r,i)):Uue(t,e,r,i)}function W3e(t){return(t&128)===0}function G3e(t,e,r){return Gv(t,e|128,r)}function Uue(t,e,r,i){Z3e(e,r,o=>o?i(o):Gv(r,t,i))}function Gv(t,e,r){return oi.chmod(t,e,r)}function Z3e(t,e,r){oi.stat(t,(i,o)=>i?r(i):U3e(e,o.atime,o.mtime,r))}function H3e(t,e,r,i,o,s){return e?Vue(r,i,o,s):K3e(t.mode,r,i,o,s)}function K3e(t,e,r,i,o){oi.mkdir(r,s=>{if(s)return o(s);Vue(e,r,i,l=>l?o(l):Gv(r,t,o))})}function Vue(t,e,r,i){oi.readdir(t,(o,s)=>o?i(o):CL(s,t,e,r,i))}function CL(t,e,r,i,o){let s=t.pop();return s?q3e(t,s,e,r,i,o):o()}function q3e(t,e,r,i,o,s){let l=Nf.join(r,e),u=Nf.join(i,e);Mue(l,u,o,(c,g)=>{if(c)return s(c);if(!g)return CL(t,r,i,o,s);Wf.checkPaths(l,u,"copy",o,(p,f)=>{if(p)return s(p);let{destStat:I}=f;xL(I,l,u,o,v=>v?s(v):CL(t,r,i,o,s))})})}function Y3e(t,e,r,i,o){oi.readlink(e,(s,l)=>{if(s)return o(s);if(i.dereference&&(l=Nf.resolve(process.cwd(),l)),t)oi.readlink(r,(u,c)=>u?u.code==="EINVAL"||u.code==="UNKNOWN"?oi.symlink(l,r,o):o(u):(i.dereference&&(c=Nf.resolve(process.cwd(),c)),Wf.isSrcSubdir(l,c)?o(new Error(`Cannot copy '${l}' to a subdirectory of itself, '${c}'.`)):Wf.isSrcSubdir(c,l)?o(new Error(`Cannot overwrite '${c}' with '${l}'.`)):X3e(l,r,o)));else return oi.symlink(l,r,o)})}function X3e(t,e,r){oi.unlink(e,i=>i?r(i):oi.symlink(t,e,r))}Bue.exports=M3e});var Kue=O((WXt,Hue)=>{"use strict";var Bn=Di(),Gf=require("path"),z3e=Os().mkdirsSync,J3e=IL().utimesMillisSync,Zf=pu();function Q3e(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:o}=Zf.checkPathsSync(t,e,"copy",r);if(Zf.checkParentPathsSync(t,i,e,"copy"),r.filter&&!r.filter(t,e))return;let s=Gf.dirname(e);return Bn.existsSync(s)||z3e(s),Wue(o,t,e,r)}function Wue(t,e,r,i){let s=(i.dereference?Bn.statSync:Bn.lstatSync)(e);if(s.isDirectory())return s5e(s,t,e,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return $3e(s,t,e,r,i);if(s.isSymbolicLink())return l5e(t,e,r,i);throw s.isSocket()?new Error(`Cannot copy a socket file: ${e}`):s.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function $3e(t,e,r,i,o){return e?e5e(t,r,i,o):Gue(t,r,i,o)}function e5e(t,e,r,i){if(i.overwrite)return Bn.unlinkSync(r),Gue(t,e,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function Gue(t,e,r,i){return Bn.copyFileSync(e,r),i.preserveTimestamps&&t5e(t.mode,e,r),AL(r,t.mode)}function t5e(t,e,r){return r5e(t)&&n5e(r,t),i5e(e,r)}function r5e(t){return(t&128)===0}function n5e(t,e){return AL(t,e|128)}function AL(t,e){return Bn.chmodSync(t,e)}function i5e(t,e){let r=Bn.statSync(t);return J3e(e,r.atime,r.mtime)}function s5e(t,e,r,i,o){return e?Zue(r,i,o):o5e(t.mode,r,i,o)}function o5e(t,e,r,i){return Bn.mkdirSync(r),Zue(e,r,i),AL(r,t)}function Zue(t,e,r){Bn.readdirSync(t).forEach(i=>a5e(i,t,e,r))}function a5e(t,e,r,i){let o=Gf.join(e,t),s=Gf.join(r,t);if(i.filter&&!i.filter(o,s))return;let{destStat:l}=Zf.checkPathsSync(o,s,"copy",i);return Wue(l,o,s,i)}function l5e(t,e,r,i){let o=Bn.readlinkSync(e);if(i.dereference&&(o=Gf.resolve(process.cwd(),o)),t){let s;try{s=Bn.readlinkSync(r)}catch(l){if(l.code==="EINVAL"||l.code==="UNKNOWN")return Bn.symlinkSync(o,r);throw l}if(i.dereference&&(s=Gf.resolve(process.cwd(),s)),Zf.isSrcSubdir(o,s))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${s}'.`);if(Zf.isSrcSubdir(s,o))throw new Error(`Cannot overwrite '${s}' with '${o}'.`);return d5e(o,r)}else return Bn.symlinkSync(o,r)}function d5e(t,e){return Bn.unlinkSync(e),Bn.symlinkSync(t,e)}Hue.exports=Q3e});var Zv=O((GXt,que)=>{"use strict";var u5e=si().fromCallback;que.exports={copy:u5e(Nue()),copySync:Kue()}});var Hf=O((ZXt,Xue)=>{"use strict";var Yue=Di(),c5e=si().fromCallback;function p5e(t,e){Yue.rm(t,{recursive:!0,force:!0},e)}function g5e(t){Yue.rmSync(t,{recursive:!0,force:!0})}Xue.exports={remove:c5e(p5e),removeSync:g5e}});var nce=O((HXt,rce)=>{"use strict";var m5e=si().fromPromise,Que=cu(),$ue=require("path"),ece=Os(),tce=Hf(),zue=m5e(async function(e){let r;try{r=await Que.readdir(e)}catch{return ece.mkdirs(e)}return Promise.all(r.map(i=>tce.remove($ue.join(e,i))))});function Jue(t){let e;try{e=Que.readdirSync(t)}catch{return ece.mkdirsSync(t)}e.forEach(r=>{r=$ue.join(t,r),tce.removeSync(r)})}rce.exports={emptyDirSync:Jue,emptydirSync:Jue,emptyDir:zue,emptydir:zue}});var ace=O((KXt,oce)=>{"use strict";var b5e=si().fromCallback,ice=require("path"),Ml=Di(),sce=Os();function f5e(t,e){function r(){Ml.writeFile(t,"",i=>{if(i)return e(i);e()})}Ml.stat(t,(i,o)=>{if(!i&&o.isFile())return e();let s=ice.dirname(t);Ml.stat(s,(l,u)=>{if(l)return l.code==="ENOENT"?sce.mkdirs(s,c=>{if(c)return e(c);r()}):e(l);u.isDirectory()?r():Ml.readdir(s,c=>{if(c)return e(c)})})})}function y5e(t){let e;try{e=Ml.statSync(t)}catch{}if(e&&e.isFile())return;let r=ice.dirname(t);try{Ml.statSync(r).isDirectory()||Ml.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")sce.mkdirsSync(r);else throw i}Ml.writeFileSync(t,"")}oce.exports={createFile:b5e(f5e),createFileSync:y5e}});var pce=O((qXt,cce)=>{"use strict";var I5e=si().fromCallback,lce=require("path"),Ll=Di(),dce=Os(),h5e=Ul().pathExists,{areIdentical:uce}=pu();function x5e(t,e,r){function i(o,s){Ll.link(o,s,l=>{if(l)return r(l);r(null)})}Ll.lstat(e,(o,s)=>{Ll.lstat(t,(l,u)=>{if(l)return l.message=l.message.replace("lstat","ensureLink"),r(l);if(s&&uce(u,s))return r(null);let c=lce.dirname(e);h5e(c,(g,p)=>{if(g)return r(g);if(p)return i(t,e);dce.mkdirs(c,f=>{if(f)return r(f);i(t,e)})})})})}function C5e(t,e){let r;try{r=Ll.lstatSync(e)}catch{}try{let s=Ll.lstatSync(t);if(r&&uce(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let i=lce.dirname(e);return Ll.existsSync(i)||dce.mkdirsSync(i),Ll.linkSync(t,e)}cce.exports={createLink:I5e(x5e),createLinkSync:C5e}});var mce=O((YXt,gce)=>{"use strict";var Vl=require("path"),Kf=Di(),A5e=Ul().pathExists;function v5e(t,e,r){if(Vl.isAbsolute(t))return Kf.lstat(t,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),r(i)):r(null,{toCwd:t,toDst:t}));{let i=Vl.dirname(e),o=Vl.join(i,t);return A5e(o,(s,l)=>s?r(s):l?r(null,{toCwd:o,toDst:t}):Kf.lstat(t,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),r(u)):r(null,{toCwd:t,toDst:Vl.relative(i,t)})))}}function S5e(t,e){let r;if(Vl.isAbsolute(t)){if(r=Kf.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let i=Vl.dirname(e),o=Vl.join(i,t);if(r=Kf.existsSync(o),r)return{toCwd:o,toDst:t};if(r=Kf.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:Vl.relative(i,t)}}}gce.exports={symlinkPaths:v5e,symlinkPathsSync:S5e}});var yce=O((XXt,fce)=>{"use strict";var bce=Di();function O5e(t,e,r){if(r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,e)return r(null,e);bce.lstat(t,(i,o)=>{if(i)return r(null,"file");e=o&&o.isDirectory()?"dir":"file",r(null,e)})}function F5e(t,e){let r;if(e)return e;try{r=bce.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}fce.exports={symlinkType:O5e,symlinkTypeSync:F5e}});var Oce=O((zXt,Sce)=>{"use strict";var D5e=si().fromCallback,hce=require("path"),Fs=cu(),xce=Os(),R5e=xce.mkdirs,j5e=xce.mkdirsSync,Cce=mce(),P5e=Cce.symlinkPaths,_5e=Cce.symlinkPathsSync,Ace=yce(),T5e=Ace.symlinkType,k5e=Ace.symlinkTypeSync,w5e=Ul().pathExists,{areIdentical:vce}=pu();function E5e(t,e,r,i){i=typeof r=="function"?r:i,r=typeof r=="function"?!1:r,Fs.lstat(e,(o,s)=>{!o&&s.isSymbolicLink()?Promise.all([Fs.stat(t),Fs.stat(e)]).then(([l,u])=>{if(vce(l,u))return i(null);Ice(t,e,r,i)}):Ice(t,e,r,i)})}function Ice(t,e,r,i){P5e(t,e,(o,s)=>{if(o)return i(o);t=s.toDst,T5e(s.toCwd,r,(l,u)=>{if(l)return i(l);let c=hce.dirname(e);w5e(c,(g,p)=>{if(g)return i(g);if(p)return Fs.symlink(t,e,u,i);R5e(c,f=>{if(f)return i(f);Fs.symlink(t,e,u,i)})})})})}function U5e(t,e,r){let i;try{i=Fs.lstatSync(e)}catch{}if(i&&i.isSymbolicLink()){let u=Fs.statSync(t),c=Fs.statSync(e);if(vce(u,c))return}let o=_5e(t,e);t=o.toDst,r=k5e(o.toCwd,r);let s=hce.dirname(e);return Fs.existsSync(s)||j5e(s),Fs.symlinkSync(t,e,r)}Sce.exports={createSymlink:D5e(E5e),createSymlinkSync:U5e}});var kce=O((JXt,Tce)=>{"use strict";var{createFile:Fce,createFileSync:Dce}=ace(),{createLink:Rce,createLinkSync:jce}=pce(),{createSymlink:Pce,createSymlinkSync:_ce}=Oce();Tce.exports={createFile:Fce,createFileSync:Dce,ensureFile:Fce,ensureFileSync:Dce,createLink:Rce,createLinkSync:jce,ensureLink:Rce,ensureLinkSync:jce,createSymlink:Pce,createSymlinkSync:_ce,ensureSymlink:Pce,ensureSymlinkSync:_ce}});var Ece=O((QXt,wce)=>{var Bl=require("constants"),M5e=process.cwd,Hv=null,L5e=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Hv||(Hv=M5e.call(process)),Hv};try{process.cwd()}catch{}typeof process.chdir=="function"&&(vL=process.chdir,process.chdir=function(t){Hv=null,vL.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,vL));var vL;wce.exports=V5e;function V5e(t){Bl.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=l(t.chownSync),t.fchownSync=l(t.fchownSync),t.lchownSync=l(t.lchownSync),t.chmodSync=o(t.chmodSync),t.fchmodSync=o(t.fchmodSync),t.lchmodSync=o(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(p,f,I){I&&process.nextTick(I)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(p,f,I,v){v&&process.nextTick(v)},t.lchownSync=function(){}),L5e==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(p){function f(I,v,C){var F=Date.now(),P=0;p(I,v,function E(J){if(J&&(J.code==="EACCES"||J.code==="EPERM"||J.code==="EBUSY")&&Date.now()-F<6e4){setTimeout(function(){t.stat(v,function(k,ee){k&&k.code==="ENOENT"?p(I,v,E):C(J)})},P),P<100&&(P+=10);return}C&&C(J)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,p),f}(t.rename)),t.read=typeof t.read!="function"?t.read:function(p){function f(I,v,C,F,P,E){var J;if(E&&typeof E=="function"){var k=0;J=function(ee,ce,Q){if(ee&&ee.code==="EAGAIN"&&k<10)return k++,p.call(t,I,v,C,F,P,J);E.apply(this,arguments)}}return p.call(t,I,v,C,F,P,J)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,p),f}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(p){return function(f,I,v,C,F){for(var P=0;;)try{return p.call(t,f,I,v,C,F)}catch(E){if(E.code==="EAGAIN"&&P<10){P++;continue}throw E}}}(t.readSync);function e(p){p.lchmod=function(f,I,v){p.open(f,Bl.O_WRONLY|Bl.O_SYMLINK,I,function(C,F){if(C){v&&v(C);return}p.fchmod(F,I,function(P){p.close(F,function(E){v&&v(P||E)})})})},p.lchmodSync=function(f,I){var v=p.openSync(f,Bl.O_WRONLY|Bl.O_SYMLINK,I),C=!0,F;try{F=p.fchmodSync(v,I),C=!1}finally{if(C)try{p.closeSync(v)}catch{}else p.closeSync(v)}return F}}function r(p){Bl.hasOwnProperty("O_SYMLINK")&&p.futimes?(p.lutimes=function(f,I,v,C){p.open(f,Bl.O_SYMLINK,function(F,P){if(F){C&&C(F);return}p.futimes(P,I,v,function(E){p.close(P,function(J){C&&C(E||J)})})})},p.lutimesSync=function(f,I,v){var C=p.openSync(f,Bl.O_SYMLINK),F,P=!0;try{F=p.futimesSync(C,I,v),P=!1}finally{if(P)try{p.closeSync(C)}catch{}else p.closeSync(C)}return F}):p.futimes&&(p.lutimes=function(f,I,v,C){C&&process.nextTick(C)},p.lutimesSync=function(){})}function i(p){return p&&function(f,I,v){return p.call(t,f,I,function(C){g(C)&&(C=null),v&&v.apply(this,arguments)})}}function o(p){return p&&function(f,I){try{return p.call(t,f,I)}catch(v){if(!g(v))throw v}}}function s(p){return p&&function(f,I,v,C){return p.call(t,f,I,v,function(F){g(F)&&(F=null),C&&C.apply(this,arguments)})}}function l(p){return p&&function(f,I,v){try{return p.call(t,f,I,v)}catch(C){if(!g(C))throw C}}}function u(p){return p&&function(f,I,v){typeof I=="function"&&(v=I,I=null);function C(F,P){P&&(P.uid<0&&(P.uid+=4294967296),P.gid<0&&(P.gid+=4294967296)),v&&v.apply(this,arguments)}return I?p.call(t,f,I,C):p.call(t,f,C)}}function c(p){return p&&function(f,I){var v=I?p.call(t,f,I):p.call(t,f);return v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),v}}function g(p){if(!p||p.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(p.code==="EINVAL"||p.code==="EPERM"))}}});var Lce=O(($Xt,Mce)=>{var Uce=require("stream").Stream;Mce.exports=B5e;function B5e(t){return{ReadStream:e,WriteStream:r};function e(i,o){if(!(this instanceof e))return new e(i,o);Uce.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,o=o||{};for(var l=Object.keys(o),u=0,c=l.length;u<c;u++){var g=l[u];this[g]=o[g]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(p,f){if(p){s.emit("error",p),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(i,o){if(!(this instanceof r))return new r(i,o);Uce.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var s=Object.keys(o),l=0,u=s.length;l<u;l++){var c=s[l];this[c]=o[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Bce=O((ezt,Vce)=>{"use strict";Vce.exports=W5e;var N5e=Object.getPrototypeOf||function(t){return t.__proto__};function W5e(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:N5e(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var Zce=O((tzt,FL)=>{var fr=require("fs"),G5e=Ece(),Z5e=Lce(),H5e=Bce(),Kv=require("util"),gn,Yv;typeof Symbol=="function"&&typeof Symbol.for=="function"?(gn=Symbol.for("graceful-fs.queue"),Yv=Symbol.for("graceful-fs.previous")):(gn="___graceful-fs.queue",Yv="___graceful-fs.previous");function K5e(){}function Gce(t,e){Object.defineProperty(t,gn,{get:function(){return e}})}var gu=K5e;Kv.debuglog?gu=Kv.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(gu=function(){var t=Kv.format.apply(Kv,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});fr[gn]||(Nce=global[gn]||[],Gce(fr,Nce),fr.close=function(t){function e(r,i){return t.call(fr,r,function(o){o||Wce(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(e,Yv,{value:t}),e}(fr.close),fr.closeSync=function(t){function e(r){t.apply(fr,arguments),Wce()}return Object.defineProperty(e,Yv,{value:t}),e}(fr.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){gu(fr[gn]),require("assert").equal(fr[gn].length,0)}));var Nce;global[gn]||Gce(global,fr[gn]);FL.exports=SL(H5e(fr));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!fr.__patched&&(FL.exports=SL(fr),fr.__patched=!0);function SL(t){G5e(t),t.gracefulify=SL,t.createReadStream=ce,t.createWriteStream=Q;var e=t.readFile;t.readFile=r;function r(z,fe,N){return typeof fe=="function"&&(N=fe,fe=null),Fe(z,fe,N);function Fe(Re,_e,W,Z){return e(Re,_e,function(ae){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?Wp([Fe,[Re,_e,W],ae,Z||Date.now(),Date.now()]):typeof W=="function"&&W.apply(this,arguments)})}}var i=t.writeFile;t.writeFile=o;function o(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return i(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Wp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=l);function l(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return s(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Wp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var u=t.copyFile;u&&(t.copyFile=c);function c(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=0),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return u(_e,W,Z,function(Ae){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Wp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}var g=t.readdir;t.readdir=f;var p=/^v[0-5]\./;function f(z,fe,N){typeof fe=="function"&&(N=fe,fe=null);var Fe=p.test(process.version)?function(W,Z,ae,se){return g(W,Re(W,Z,ae,se))}:function(W,Z,ae,se){return g(W,Z,Re(W,Z,ae,se))};return Fe(z,fe,N);function Re(_e,W,Z,ae){return function(se,Ae){se&&(se.code==="EMFILE"||se.code==="ENFILE")?Wp([Fe,[_e,W,Z],se,ae||Date.now(),Date.now()]):(Ae&&Ae.sort&&Ae.sort(),typeof Z=="function"&&Z.call(this,se,Ae))}}}if(process.version.substr(0,4)==="v0.8"){var I=Z5e(t);E=I.ReadStream,k=I.WriteStream}var v=t.ReadStream;v&&(E.prototype=Object.create(v.prototype),E.prototype.open=J);var C=t.WriteStream;C&&(k.prototype=Object.create(C.prototype),k.prototype.open=ee),Object.defineProperty(t,"ReadStream",{get:function(){return E},set:function(z){E=z},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return k},set:function(z){k=z},enumerable:!0,configurable:!0});var F=E;Object.defineProperty(t,"FileReadStream",{get:function(){return F},set:function(z){F=z},enumerable:!0,configurable:!0});var P=k;Object.defineProperty(t,"FileWriteStream",{get:function(){return P},set:function(z){P=z},enumerable:!0,configurable:!0});function E(z,fe){return this instanceof E?(v.apply(this,arguments),this):E.apply(Object.create(E.prototype),arguments)}function J(){var z=this;me(z.path,z.flags,z.mode,function(fe,N){fe?(z.autoClose&&z.destroy(),z.emit("error",fe)):(z.fd=N,z.emit("open",N),z.read())})}function k(z,fe){return this instanceof k?(C.apply(this,arguments),this):k.apply(Object.create(k.prototype),arguments)}function ee(){var z=this;me(z.path,z.flags,z.mode,function(fe,N){fe?(z.destroy(),z.emit("error",fe)):(z.fd=N,z.emit("open",N))})}function ce(z,fe){return new t.ReadStream(z,fe)}function Q(z,fe){return new t.WriteStream(z,fe)}var he=t.open;t.open=me;function me(z,fe,N,Fe){return typeof N=="function"&&(Fe=N,N=null),Re(z,fe,N,Fe);function Re(_e,W,Z,ae,se){return he(_e,W,Z,function(Ae,or){Ae&&(Ae.code==="EMFILE"||Ae.code==="ENFILE")?Wp([Re,[_e,W,Z,ae],Ae,se||Date.now(),Date.now()]):typeof ae=="function"&&ae.apply(this,arguments)})}}return t}function Wp(t){gu("ENQUEUE",t[0].name,t[1]),fr[gn].push(t),OL()}var qv;function Wce(){for(var t=Date.now(),e=0;e<fr[gn].length;++e)fr[gn][e].length>2&&(fr[gn][e][3]=t,fr[gn][e][4]=t);OL()}function OL(){if(clearTimeout(qv),qv=void 0,fr[gn].length!==0){var t=fr[gn].shift(),e=t[0],r=t[1],i=t[2],o=t[3],s=t[4];if(o===void 0)gu("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-o>=6e4){gu("TIMEOUT",e.name,r);var l=r.pop();typeof l=="function"&&l.call(null,i)}else{var u=Date.now()-s,c=Math.max(s-o,1),g=Math.min(c*1.2,100);u>=g?(gu("RETRY",e.name,r),e.apply(null,r.concat([o]))):fr[gn].push(t)}qv===void 0&&(qv=setTimeout(OL,0))}}});var Xv=O((rzt,Hce)=>{function q5e(t,{EOL:e=`
`,finalEOL:r=!0,replacer:i=null,spaces:o}={}){let s=r?e:"";return JSON.stringify(t,i,o).replace(/\n/g,e)+s}function Y5e(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}Hce.exports={stringify:q5e,stripBom:Y5e}});var Xce=O((nzt,Yce)=>{var Gp;try{Gp=Zce()}catch{Gp=require("fs")}var zv=si(),{stringify:Kce,stripBom:qce}=Xv();async function X5e(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||Gp,i="throws"in e?e.throws:!0,o=await zv.fromCallback(r.readFile)(t,e);o=qce(o);let s;try{s=JSON.parse(o,e?e.reviver:null)}catch(l){if(i)throw l.message=`${t}: ${l.message}`,l;return null}return s}var z5e=zv.fromPromise(X5e);function J5e(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||Gp,i="throws"in e?e.throws:!0;try{let o=r.readFileSync(t,e);return o=qce(o),JSON.parse(o,e.reviver)}catch(o){if(i)throw o.message=`${t}: ${o.message}`,o;return null}}async function Q5e(t,e,r={}){let i=r.fs||Gp,o=Kce(e,r);await zv.fromCallback(i.writeFile)(t,o,r)}var $5e=zv.fromPromise(Q5e);function eXe(t,e,r={}){let i=r.fs||Gp,o=Kce(e,r);return i.writeFileSync(t,o,r)}var tXe={readFile:z5e,readFileSync:J5e,writeFile:$5e,writeFileSync:eXe};Yce.exports=tXe});var Jce=O((izt,zce)=>{"use strict";var Jv=Xce();zce.exports={readJson:Jv.readFile,readJsonSync:Jv.readFileSync,writeJson:Jv.writeFile,writeJsonSync:Jv.writeFileSync}});var Qv=O((szt,epe)=>{"use strict";var rXe=si().fromCallback,qf=Di(),Qce=require("path"),$ce=Os(),nXe=Ul().pathExists;function iXe(t,e,r,i){typeof r=="function"&&(i=r,r="utf8");let o=Qce.dirname(t);nXe(o,(s,l)=>{if(s)return i(s);if(l)return qf.writeFile(t,e,r,i);$ce.mkdirs(o,u=>{if(u)return i(u);qf.writeFile(t,e,r,i)})})}function sXe(t,...e){let r=Qce.dirname(t);if(qf.existsSync(r))return qf.writeFileSync(t,...e);$ce.mkdirsSync(r),qf.writeFileSync(t,...e)}epe.exports={outputFile:rXe(iXe),outputFileSync:sXe}});var rpe=O((ozt,tpe)=>{"use strict";var{stringify:oXe}=Xv(),{outputFile:aXe}=Qv();async function lXe(t,e,r={}){let i=oXe(e,r);await aXe(t,i,r)}tpe.exports=lXe});var ipe=O((azt,npe)=>{"use strict";var{stringify:dXe}=Xv(),{outputFileSync:uXe}=Qv();function cXe(t,e,r){let i=dXe(e,r);uXe(t,i,r)}npe.exports=cXe});var ope=O((lzt,spe)=>{"use strict";var pXe=si().fromPromise,Nn=Jce();Nn.outputJson=pXe(rpe());Nn.outputJsonSync=ipe();Nn.outputJSON=Nn.outputJson;Nn.outputJSONSync=Nn.outputJsonSync;Nn.writeJSON=Nn.writeJson;Nn.writeJSONSync=Nn.writeJsonSync;Nn.readJSON=Nn.readJson;Nn.readJSONSync=Nn.readJsonSync;spe.exports=Nn});var cpe=O((dzt,upe)=>{"use strict";var gXe=Di(),RL=require("path"),mXe=Zv().copy,dpe=Hf().remove,bXe=Os().mkdirp,fXe=Ul().pathExists,ape=pu();function yXe(t,e,r,i){typeof r=="function"&&(i=r,r={}),r=r||{};let o=r.overwrite||r.clobber||!1;ape.checkPaths(t,e,"move",r,(s,l)=>{if(s)return i(s);let{srcStat:u,isChangingCase:c=!1}=l;ape.checkParentPaths(t,u,e,"move",g=>{if(g)return i(g);if(IXe(e))return lpe(t,e,o,c,i);bXe(RL.dirname(e),p=>p?i(p):lpe(t,e,o,c,i))})})}function IXe(t){let e=RL.dirname(t);return RL.parse(e).root===e}function lpe(t,e,r,i,o){if(i)return DL(t,e,r,o);if(r)return dpe(e,s=>s?o(s):DL(t,e,r,o));fXe(e,(s,l)=>s?o(s):l?o(new Error("dest already exists.")):DL(t,e,r,o))}function DL(t,e,r,i){gXe.rename(t,e,o=>o?o.code!=="EXDEV"?i(o):hXe(t,e,r,i):i())}function hXe(t,e,r,i){mXe(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0},s=>s?i(s):dpe(t,i))}upe.exports=yXe});var fpe=O((uzt,bpe)=>{"use strict";var gpe=Di(),PL=require("path"),xXe=Zv().copySync,mpe=Hf().removeSync,CXe=Os().mkdirpSync,ppe=pu();function AXe(t,e,r){r=r||{};let i=r.overwrite||r.clobber||!1,{srcStat:o,isChangingCase:s=!1}=ppe.checkPathsSync(t,e,"move",r);return ppe.checkParentPathsSync(t,o,e,"move"),vXe(e)||CXe(PL.dirname(e)),SXe(t,e,i,s)}function vXe(t){let e=PL.dirname(t);return PL.parse(e).root===e}function SXe(t,e,r,i){if(i)return jL(t,e,r);if(r)return mpe(e),jL(t,e,r);if(gpe.existsSync(e))throw new Error("dest already exists.");return jL(t,e,r)}function jL(t,e,r){try{gpe.renameSync(t,e)}catch(i){if(i.code!=="EXDEV")throw i;return OXe(t,e,r)}}function OXe(t,e,r){return xXe(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),mpe(t)}bpe.exports=AXe});var Ipe=O((czt,ype)=>{"use strict";var FXe=si().fromCallback;ype.exports={move:FXe(cpe()),moveSync:fpe()}});var xpe=O((pzt,hpe)=>{"use strict";hpe.exports={...cu(),...Zv(),...nce(),...kce(),...ope(),...Os(),...Ipe(),...Qv(),...Ul(),...Hf()}});var Cpe=O($v=>{"use strict";Object.defineProperty($v,"__esModule",{value:!0});$v.assertNever=void 0;function DXe(t,e){throw new Error(e!=null?e:`Uncaught type ${JSON.stringify(t)}`)}$v.assertNever=DXe});var EL=O(ns=>{"use strict";var RXe=ns&&ns.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,o)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),jXe=ns&&ns.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wL=ns&&ns.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RXe(e,t,r);return jXe(e,t),e};Object.defineProperty(ns,"__esModule",{value:!0});ns.LocalFileExtensionRegistry=ns.ExtensionFileType=void 0;var _L=wL(cue()),fo=wL(xpe()),ai=wL(require("path")),TL=Cpe(),PXe=require("child_process"),Zt;(function(t){t.CODE="code",t.MANIFEST="manifest",t.UI="ui"})(Zt||(ns.ExtensionFileType=Zt={}));var kL=class{constructor(e,r){this.extensionMap=new Map,this.manifestObservers=[],this.fileObservers=[],this.MANIFEST_FILE_NAME="manifest.json",this.fileExtensionAllowlist=[".css",".html",".js",".json",".jsx",".md",".ts",".tsx"],this.fileNameAllowList=[".gitignore"],this.log=e,this.save=r}generateFileId(){let e=1;for(;this.extensionMap.has(e);)e++;return e}attachObserverToFile(e,r,i){let{type:o}=i;if(o===Zt.MANIFEST&&this.manifestObservers.length||(o===Zt.CODE||o===Zt.UI)&&this.fileObservers.length){let s=_L.watch(r,void 0);o===Zt.CODE||o===Zt.UI?s.on("all",()=>this.fileWatcher(e,i.manifestFileId,o)):o===Zt.MANIFEST?s.on("all",()=>this.manifestFileWatcher(e)):(0,TL.assertNever)(o),s.on("error",l=>{this.log.error(`chokidar error for ${r}: ${l.name}: ${l.message}`)}),this.extensionMap.set(e,{path:r,watcher:s,fileMetadata:i}),o===Zt.CODE||o===Zt.UI?this.notifyFileObservers({type:"added",id:e,manifestFileId:i.manifestFileId},o):o===Zt.MANIFEST?this.loadExtensionManifest(e).then(l=>{this.notifyManifestObservers({type:"added",id:e,localLoadResult:l})}):(0,TL.assertNever)(o)}else this.extensionMap.set(e,{path:r,fileMetadata:i})}addManifestPath(e){for(let[o,s]of this.extensionMap.entries())if(s.path===e)return{id:o,existed:!0};let r=this.generateFileId(),i={type:Zt.MANIFEST,codeFileId:null,uiFileIds:null};return this.attachObserverToFile(r,e,i),this.addOrUpdateFileEntryForManifest(r,i).then(()=>this.save()),{id:r,existed:!1}}getPath(e){let r=this.extensionMap.get(e);if(!r)throw new Error("Unknown plugin");return r.path}removePath(e){let r=this.extensionMap.get(e);if(r&&r.watcher)try{r.watcher.close()}catch(o){}let i=r==null?void 0:r.fileMetadata.type;if(this.extensionMap.delete(e),this.save(),i)if(i===Zt.CODE||i===Zt.UI){let o=r==null?void 0:r.fileMetadata.manifestFileId;this.notifyFileObservers({id:e,type:"removed",manifestFileId:o},i)}else i===Zt.MANIFEST?this.notifyManifestObservers({id:e,type:"removed"}):(0,TL.assertNever)(i)}getCachedMetadata(e){let r=this.extensionMap.get(e);if(r){let{cachedContainsWidget:i,lastKnownName:o,lastKnownPluginId:s}=r;return{cachedContainsWidget:i,lastKnownName:o,lastKnownPluginId:s}}}getOrUpdateCachedMetadataFromManifest(e,r){let i=this.extensionMap.get(e);if(i){let o=this.parseManifestString(r);return i.lastKnownName=typeof(o==null?void 0:o.name)=="string"?o.name:void 0,i.lastKnownPluginId=(o==null?void 0:o.id)||"",i.cachedContainsWidget=o==null?void 0:o.containsWidget,{lastKnownName:i.lastKnownName,lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:i.cachedContainsWidget}}}async loadExtensionManifest(e){let r=this.getPath(e),i={lastKnownPluginId:void 0,lastKnownName:void 0,cachedContainsWidget:void 0};try{let o=await fo.readFile(r,{encoding:"utf8"}),s=this.getOrUpdateCachedMetadataFromManifest(e,o)||i,{lastKnownName:l,lastKnownPluginId:u,cachedContainsWidget:c}=s;return{path:r,lastKnownName:l,lastKnownPluginId:u,manifest:o,cachedContainsWidget:c}}catch(o){let s=this.getCachedMetadata(e)||i,{lastKnownName:l,lastKnownPluginId:u,cachedContainsWidget:c}=s;return{path:r,lastKnownName:l,lastKnownPluginId:u,cachedContainsWidget:c,error:String(o)}}}getAllManifestIds(){return Array.from(this.extensionMap.keys()).filter(r=>{var i;return((i=this.extensionMap.get(r))===null||i===void 0?void 0:i.fileMetadata.type)===Zt.MANIFEST})}getManifestIdsToCachedContainsWidgetMap(){let e={};return Array.from(this.extensionMap.keys()).forEach(r=>{let i=this.extensionMap.get(r);i&&i.fileMetadata.type===Zt.MANIFEST&&(e[r]=!!i.cachedContainsWidget)}),e}getManifestIdsToCachedMetadataMap(){let e={};return Array.from(this.extensionMap.keys()).forEach(r=>{let i=this.extensionMap.get(r);if(i&&i.fileMetadata.type===Zt.MANIFEST){let o={lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:!!i.cachedContainsWidget};e[r]=o}}),e}updateCachedContainsWidget(e,r){let i=this.extensionMap.get(e);i&&(i.cachedContainsWidget=r),this.extensionMap.set(e,i)}addManifestObserver(e){this.manifestObservers.push(e),this.manifestObservers.length===1&&this.extensionMap.forEach((r,i)=>{!r.watcher&&r.fileMetadata.type===Zt.MANIFEST&&(r.watcher=_L.watch(r.path,void 0),r.watcher.on("all",()=>this.manifestFileWatcher(i)),r.watcher.on("error",o=>{this.log.error(`chokidar error for ${r.path}: ${o.name}: ${o.message}`)}))})}removeManifestObserver(e){let r=this.manifestObservers.indexOf(e);r!==-1&&(this.manifestObservers.splice(r,1),this.manifestObservers.length||this.extensionMap.forEach(i=>{i.watcher&&i.fileMetadata.type===Zt.MANIFEST&&(i.watcher.close(),delete i.watcher)}))}addFileObserver(e,r){this.fileObservers.push(r),this.fileObservers.length<=2&&this.extensionMap.forEach((i,o)=>{!i.watcher&&i.fileMetadata.type===e&&(i.watcher=_L.watch(i.path,void 0),i.watcher.on("all",()=>{this.fileWatcher(o,i.fileMetadata.manifestFileId,e)}),i.watcher.on("error",s=>{this.log.error(`chokidar error for ${i.path}: ${s.name}: ${s.message}`)}))})}removeFileObserver(e,r){let i=this.fileObservers.indexOf(r);i!==-1&&(this.fileObservers.splice(i,1),this.fileObservers.length||this.extensionMap.forEach(o=>{o.watcher&&o.fileMetadata.type===e&&(o.watcher.close(),delete o.watcher)}))}saveToJson(){return Array.from(this.extensionMap.entries()).map(([e,{path:r,lastKnownName:i,lastKnownPluginId:o,fileMetadata:s,cachedContainsWidget:l}])=>({id:e,manifestPath:r,lastKnownName:i,lastKnownPluginId:o,fileMetadata:s,cachedContainsWidget:l}))}loadFromJson(e){let r=[];if(Array.isArray(e))for(let i of e){let o={type:Zt.MANIFEST,codeFileId:null,uiFileIds:null};Object.prototype.hasOwnProperty.call(i,"fileMetadata")?i.fileMetadata.type===Zt.CODE||i.fileMetadata.type===Zt.UI||i.fileMetadata.type===Zt.MANIFEST&&i.fileMetadata.codeFileId?o=i.fileMetadata:(i.fileMetadata.type===Zt.MANIFEST&&!i.fileMetadata.codeFileId||i.fileMetadata.type===Zt.MANIFEST&&!i.fileMetadata.uiFileIds)&&r.push(i.id):r.push(i.id),typeof i.id=="number"&&Math.trunc(i.id)===i.id&&typeof i.manifestPath=="string"&&this.extensionMap.set(i.id,{path:i.manifestPath,lastKnownName:i.lastKnownName,lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:i.cachedContainsWidget,fileMetadata:o})}r.forEach(i=>{let o=this.extensionMap.get(i);if(o){let s=o.fileMetadata;this.addOrUpdateFileEntryForManifest(i,s)}})}parseManifestString(e){try{return JSON.parse(e)}catch(r){return this.log.error(`Unable to parse manifest string: ${r}`),null}}removeFileEntry(e){let r=this.extensionMap.get(e);r&&(r.watcher&&(r.watcher.close(),delete r.watcher),this.extensionMap.delete(e))}addOrUpdateFileEntry(e,r,i,o){return r?this.removeFileEntry(r):r=this.generateFileId(),this.attachObserverToFile(r,e,{type:i,manifestFileId:o}),r}addOrUpdateFileEntryForManifest(e,r){return this.loadExtensionManifest(e).then(i=>{var o,s,l;try{if(Object.prototype.hasOwnProperty.call(i,"manifest")){let u=this.extensionMap.get(e),c=this.parseManifestString(i.manifest);if(c){let g=ai.join(ai.dirname(u.path),c.main),p=u.fileMetadata.codeFileId;p=this.addOrUpdateFileEntry(g,p,Zt.CODE,e);let f=(o=u.fileMetadata.uiFileIds)!==null&&o!==void 0?o:[],I=typeof c.ui=="string"?[c.ui]:Object.values((s=c.ui)!==null&&s!==void 0?s:{});if(f.length>I.length)for(let F=I.length;F<f.length;F++)this.removeFileEntry(f[F]);let v=[];for(let F=0;F<I.length;F++){let P=I[F],E=ai.join(ai.dirname(u.path),P),J=(l=f[F])!==null&&l!==void 0?l:null;J=this.addOrUpdateFileEntry(E,J,Zt.UI,e),v.push(J)}let C=this.extensionMap.get(e);r.codeFileId=p,r.uiFileIds=v,this.extensionMap.set(e,{fileMetadata:r,...C})}}}catch(u){this.log.error(`Received an invalid manifest when loading manifest: ${u}`)}})}notifyManifestObservers(e){this.manifestObservers.forEach(r=>{try{r(e)}catch(i){this.log.error(i)}})}manifestFileWatcher(e){this.loadExtensionManifest(e).then(r=>{if(this.notifyManifestObservers({type:"changed",id:e,localLoadResult:r}),Object.prototype.hasOwnProperty.call(r,"manifest")){let o=this.extensionMap.get(e).fileMetadata;this.addOrUpdateFileEntryForManifest(e,o)}})}notifyFileObservers(e,r){this.fileObservers.forEach(i=>{try{i(e)}catch(o){this.log.error(o)}})}fileWatcher(e,r,i){this.notifyFileObservers({type:"changed",id:e,manifestFileId:r},i)}async processEntry({entryPath:e,depth:r,topLevel:i,added:o,existed:s}){if((await fo.stat(e)).isDirectory()&&r>0){let u=await fo.readdir(e);u=u.filter(c=>c[0]!=="."),await Promise.all(u.map(c=>this.processEntry({entryPath:ai.resolve(e,c),depth:r-1,topLevel:!1,added:o,existed:s})))}else if(ai.basename(e)===this.MANIFEST_FILE_NAME){let u=this.addManifestPath(e);u.existed?s.push(u.id):o.push(u.id)}else if(i)throw new Error("Manifest must be named 'manifest.json'")}isSubdirOf(e,r){let i=ai.relative(e,r);return i&&!i.startsWith("..")&&!ai.isAbsolute(i)}async getLocalFileExtensionSource(e,r){let i=this.getPath(e),o=JSON.parse(await fo.readFile(i,{encoding:"utf8"})),s=ai.dirname(i),l={stdout:"",stderr:"",path:""};if(o.build&&typeof o.build=="string"&&(l.path=process.env.PATH||"",await new Promise(p=>{(0,PXe.exec)(o.build,{cwd:s},(f,I,v)=>{l.stdout=I,l.stderr=v,f&&(l.buildErrCode=f.code),p()})}),l.buildErrCode))return l;let u=async(p,f)=>{let I=f?o[p][f]:o[p],v=f?p+"."+f:p;if(!I)return;if(typeof I!="string")throw new Error(`Manifest "${v}" property must be a string`);let C=ai.resolve(s,I);if(r&&(await fo.lstat(C)).isSymbolicLink())throw new Error(`Manifest "${v}" file must not be a symlink`);if(!this.isSubdirOf(s,C))throw new Error(`Manifest "${v}" file must be located in same directory, or a subdirectory, as manifest`);return fo.readFile(C,{encoding:"utf8"})},c=async p=>{if(!o[p])return;if(typeof o[p]!="object")throw new Error(`Manifest "${p}" property must be an object`);let f={},I=[],v=Object.keys(o[p]);for(let C of v)I.push(u(p,C));return await Promise.all(I).then(C=>{for(let F=0;F<v.length;F++){let P=v[F],E=C[F];E&&(f[P]=E)}}),f};if(l.source=await u("main"),l.source||(l.source=await u("script")),!l.source)throw new Error("Missing or empty script");let g;return typeof o.ui=="string"?g=await u("ui"):g=await c("ui"),g||(g=await u("html")),g&&(l.html=g),l}async writeExtensionDirectory(e,r,i,o){let s=ai.basename(e);if(!s)throw new Error("Invalid directory name");if(i.name||(i.name=s,o.content=JSON.stringify(i,void 0,2)),await fo.pathExists(e))throw new Error("Overwriting existing files or directories not supported");await fo.ensureDir(e),r.name=e;let l=[["",r]];for(;l.length!==0;){let u=l.pop(),c=ai.join(u[0],u[1].name);await fo.ensureDir(c),u[1].dirs.forEach(g=>{l.push([c,g])}),await Promise.all(u[1].files.map(g=>fo.writeFile(ai.join(c,g.name),g.content,{encoding:"utf8"})))}}sanitizeFileName(e){let r=/[/?<>\\:*|":]/g,i=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,s=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,l=/[. ]+$/;return e.replace(r,"").replace(i,"").replace(o,"").replace(s,"").replace(l,"")}validateManifestOrThrow(e){if(typeof e.content!="string")throw new Error("Manifest must be a string");let r=JSON.parse(e.content);if(typeof r!="object"||r===null)throw new Error("Manifest must be a JSON object");if(r.build)throw new Error(`Manifest 'build' value "${r.build}" not allowed`);return{manifest:r,manifestFile:e}}fileNameAllowed(e){return this.fileNameAllowList.includes(e)?!0:this.fileExtensionAllowlist.includes(ai.extname(e))&&/^\w+(?:\.\w+)*\.\w+/.test(e)&&e===this.sanitizeFileName(e)}validateExtensionDirectory(e){let r=null,i=null,o=new Set,s=new Set;for(let u of e.files)u.name===this.MANIFEST_FILE_NAME&&({manifest:r,manifestFile:i}=this.validateManifestOrThrow(u));let l=[e];for(;l.length!==0;){let u=l.pop();s.add(u.name),u.files.forEach(c=>o.add(c.name)),l.push(...u.dirs)}for(let u of o)if(!this.fileNameAllowed(u))throw new Error(`Filename "${u}" not allowed`);for(let u of s)if(u!==this.sanitizeFileName(u))throw new Error(`Dirname "${u}" not allowed`);if(r==null||i==null)throw new Error("No manifest found");return{manifest:r,manifestFile:i}}};ns.LocalFileExtensionRegistry=kL});var Ape=O(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.LocalFileExtensionRegistry=void 0;var _Xe=EL();Object.defineProperty(eS,"LocalFileExtensionRegistry",{enumerable:!0,get:function(){return _Xe.LocalFileExtensionRegistry}})});var Wpe=O((Kp,zf)=>{(function(){var t,e="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",g=1,p=2,f=4,I=1,v=2,C=1,F=2,P=4,E=8,J=16,k=32,ee=64,ce=128,Q=256,he=512,me=30,z="...",fe=800,N=16,Fe=1,Re=2,_e=3,W=1/0,Z=9007199254740991,ae=17976931348623157e292,se=0/0,Ae=4294967295,or=Ae-1,vt=Ae>>>1,Jt=[["ary",ce],["bind",C],["bindKey",F],["curry",E],["curryRight",J],["flip",he],["partial",k],["partialRight",ee],["rearg",Q]],Ge="[object Arguments]",Ir="[object Array]",ar="[object AsyncFunction]",it="[object Boolean]",mn="[object Date]",Fr="[object DOMException]",je="[object Error]",Ft="[object Function]",Oe="[object GeneratorFunction]",Ye="[object Map]",Tt="[object Number]",Br="[object Null]",kt="[object Object]",Dn="[object Promise]",Da="[object Proxy]",Ra="[object RegExp]",bn="[object Set]",Io="[object String]",ja="[object Symbol]",Xp="[object Undefined]",Pa="[object WeakMap]",ey="[object WeakSet]",_a="[object ArrayBuffer]",ho="[object DataView]",hu="[object Float32Array]",xu="[object Float64Array]",Cu="[object Int8Array]",Au="[object Int16Array]",vu="[object Int32Array]",Su="[object Uint8Array]",Ou="[object Uint8ClampedArray]",Fu="[object Uint16Array]",Gl="[object Uint32Array]",pS=/\b__p \+= '';/g,gS=/\b(__p \+=) '' \+/g,zp=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jp=/&(?:amp|lt|gt|quot|#39);/g,ty=/[&<>"']/g,Rs=RegExp(Jp.source),mS=RegExp(ty.source),bS=/<%-([\s\S]+?)%>/g,ry=/<%([\s\S]+?)%>/g,ny=/<%=([\s\S]+?)%>/g,fS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yS=/^\w*$/,IS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qp=/[\\^$.*+?()[\]{}|]/g,hS=RegExp(Qp.source),$p=/^\s+/,xS=/\s/,CS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,AS=/\{\n\/\* \[wrapped with (.+)\] \*/,iy=/,? & /,vS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,SS=/[()=,{}\[\]\/\s]/,OS=/\\(\\)?/g,FS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sy=/\w*$/,DS=/^[-+]0x[0-9a-f]+$/i,RS=/^0b[01]+$/i,jS=/^\[object .+?Constructor\]$/,PS=/^0o[0-7]+$/i,_S=/^(?:0|[1-9]\d*)$/,TS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Du=/($^)/,kS=/['\n\r\u2028\u2029\\]/g,Ru="\\ud800-\\udfff",wS="\\u0300-\\u036f",oy="\\ufe20-\\ufe2f",Zl="\\u20d0-\\u20ff",eg=wS+oy+Zl,xo="\\u2700-\\u27bf",ay="a-z\\xdf-\\xf6\\xf8-\\xff",ju="\\xac\\xb1\\xd7\\xf7",tg="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ES="\\u2000-\\u206f",US=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pu="A-Z\\xc0-\\xd6\\xd8-\\xde",ly="\\ufe0e\\ufe0f",dy=ju+tg+ES+US,R="['\u2019]",M="["+Ru+"]",_="["+dy+"]",B="["+eg+"]",K="\\d+",V="["+xo+"]",le="["+ay+"]",Ie="[^"+Ru+dy+K+xo+ay+Pu+"]",xe="\\ud83c[\\udffb-\\udfff]",ve="(?:"+B+"|"+xe+")",Se="[^"+Ru+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="["+Pu+"]",Dt="\\u200d",lr="(?:"+le+"|"+Ie+")",dr="(?:"+ht+"|"+Ie+")",Rn="(?:"+R+"(?:d|ll|m|re|s|t|ve))?",Ta="(?:"+R+"(?:D|LL|M|RE|S|T|VE))?",_u=ve+"?",uy="["+ly+"]?",rg="(?:"+Dt+"(?:"+[Se,Me,mt].join("|")+")"+uy+_u+")*",JL="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MS="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cy=uy+_u+rg,py="(?:"+[V,Me,mt].join("|")+")"+cy,gge="(?:"+[Se+B+"?",B,Me,mt,M].join("|")+")",mge=RegExp(R,"g"),bge=RegExp(B,"g"),LS=RegExp(xe+"(?="+xe+")|"+gge+cy,"g"),fge=RegExp([ht+"?"+le+"+"+Rn+"(?="+[_,ht,"$"].join("|")+")",dr+"+"+Ta+"(?="+[_,ht+lr,"$"].join("|")+")",ht+"?"+lr+"+"+Rn,ht+"+"+Ta,MS,JL,K,py].join("|"),"g"),yge=RegExp("["+Dt+Ru+eg+ly+"]"),Ige=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xge=-1,Qt={};Qt[hu]=Qt[xu]=Qt[Cu]=Qt[Au]=Qt[vu]=Qt[Su]=Qt[Ou]=Qt[Fu]=Qt[Gl]=!0,Qt[Ge]=Qt[Ir]=Qt[_a]=Qt[it]=Qt[ho]=Qt[mn]=Qt[je]=Qt[Ft]=Qt[Ye]=Qt[Tt]=Qt[kt]=Qt[Ra]=Qt[bn]=Qt[Io]=Qt[Pa]=!1;var zt={};zt[Ge]=zt[Ir]=zt[_a]=zt[ho]=zt[it]=zt[mn]=zt[hu]=zt[xu]=zt[Cu]=zt[Au]=zt[vu]=zt[Ye]=zt[Tt]=zt[kt]=zt[Ra]=zt[bn]=zt[Io]=zt[ja]=zt[Su]=zt[Ou]=zt[Fu]=zt[Gl]=!0,zt[je]=zt[Ft]=zt[Pa]=!1;var Cge={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Age={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oge=parseFloat,Fge=parseInt,QL=typeof global=="object"&&global&&global.Object===Object&&global,Dge=typeof self=="object"&&self&&self.Object===Object&&self,Xr=QL||Dge||Function("return this")(),VS=typeof Kp=="object"&&Kp&&!Kp.nodeType&&Kp,Hl=VS&&typeof zf=="object"&&zf&&!zf.nodeType&&zf,$L=Hl&&Hl.exports===VS,BS=$L&&QL.process,Ri=function(){try{var G=Hl&&Hl.require&&Hl.require("util").types;return G||BS&&BS.binding&&BS.binding("util")}catch{}}(),e0=Ri&&Ri.isArrayBuffer,t0=Ri&&Ri.isDate,r0=Ri&&Ri.isMap,n0=Ri&&Ri.isRegExp,i0=Ri&&Ri.isSet,s0=Ri&&Ri.isTypedArray;function li(G,oe,te){switch(te.length){case 0:return G.call(oe);case 1:return G.call(oe,te[0]);case 2:return G.call(oe,te[0],te[1]);case 3:return G.call(oe,te[0],te[1],te[2])}return G.apply(oe,te)}function Rge(G,oe,te,we){for(var dt=-1,wt=G==null?0:G.length;++dt<wt;){var Nr=G[dt];oe(we,Nr,te(Nr),G)}return we}function ji(G,oe){for(var te=-1,we=G==null?0:G.length;++te<we&&oe(G[te],te,G)!==!1;);return G}function jge(G,oe){for(var te=G==null?0:G.length;te--&&oe(G[te],te,G)!==!1;);return G}function o0(G,oe){for(var te=-1,we=G==null?0:G.length;++te<we;)if(!oe(G[te],te,G))return!1;return!0}function ka(G,oe){for(var te=-1,we=G==null?0:G.length,dt=0,wt=[];++te<we;){var Nr=G[te];oe(Nr,te,G)&&(wt[dt++]=Nr)}return wt}function gy(G,oe){var te=G==null?0:G.length;return!!te&&Tu(G,oe,0)>-1}function NS(G,oe,te){for(var we=-1,dt=G==null?0:G.length;++we<dt;)if(te(oe,G[we]))return!0;return!1}function rr(G,oe){for(var te=-1,we=G==null?0:G.length,dt=Array(we);++te<we;)dt[te]=oe(G[te],te,G);return dt}function wa(G,oe){for(var te=-1,we=oe.length,dt=G.length;++te<we;)G[dt+te]=oe[te];return G}function WS(G,oe,te,we){var dt=-1,wt=G==null?0:G.length;for(we&&wt&&(te=G[++dt]);++dt<wt;)te=oe(te,G[dt],dt,G);return te}function Pge(G,oe,te,we){var dt=G==null?0:G.length;for(we&&dt&&(te=G[--dt]);dt--;)te=oe(te,G[dt],dt,G);return te}function GS(G,oe){for(var te=-1,we=G==null?0:G.length;++te<we;)if(oe(G[te],te,G))return!0;return!1}var _ge=ZS("length");function Tge(G){return G.split("")}function kge(G){return G.match(vS)||[]}function a0(G,oe,te){var we;return te(G,function(dt,wt,Nr){if(oe(dt,wt,Nr))return we=wt,!1}),we}function my(G,oe,te,we){for(var dt=G.length,wt=te+(we?1:-1);we?wt--:++wt<dt;)if(oe(G[wt],wt,G))return wt;return-1}function Tu(G,oe,te){return oe===oe?Hge(G,oe,te):my(G,l0,te)}function wge(G,oe,te,we){for(var dt=te-1,wt=G.length;++dt<wt;)if(we(G[dt],oe))return dt;return-1}function l0(G){return G!==G}function d0(G,oe){var te=G==null?0:G.length;return te?KS(G,oe)/te:se}function ZS(G){return function(oe){return oe==null?t:oe[G]}}function HS(G){return function(oe){return G==null?t:G[oe]}}function u0(G,oe,te,we,dt){return dt(G,function(wt,Nr,Ht){te=we?(we=!1,wt):oe(te,wt,Nr,Ht)}),te}function Ege(G,oe){var te=G.length;for(G.sort(oe);te--;)G[te]=G[te].value;return G}function KS(G,oe){for(var te,we=-1,dt=G.length;++we<dt;){var wt=oe(G[we]);wt!==t&&(te=te===t?wt:te+wt)}return te}function qS(G,oe){for(var te=-1,we=Array(G);++te<G;)we[te]=oe(te);return we}function Uge(G,oe){return rr(oe,function(te){return[te,G[te]]})}function c0(G){return G&&G.slice(0,b0(G)+1).replace($p,"")}function di(G){return function(oe){return G(oe)}}function YS(G,oe){return rr(oe,function(te){return G[te]})}function ng(G,oe){return G.has(oe)}function p0(G,oe){for(var te=-1,we=G.length;++te<we&&Tu(oe,G[te],0)>-1;);return te}function g0(G,oe){for(var te=G.length;te--&&Tu(oe,G[te],0)>-1;);return te}function Mge(G,oe){for(var te=G.length,we=0;te--;)G[te]===oe&&++we;return we}var Lge=HS(Cge),Vge=HS(Age);function Bge(G){return"\\"+Sge[G]}function Nge(G,oe){return G==null?t:G[oe]}function ku(G){return yge.test(G)}function Wge(G){return Ige.test(G)}function Gge(G){for(var oe,te=[];!(oe=G.next()).done;)te.push(oe.value);return te}function XS(G){var oe=-1,te=Array(G.size);return G.forEach(function(we,dt){te[++oe]=[dt,we]}),te}function m0(G,oe){return function(te){return G(oe(te))}}function Ea(G,oe){for(var te=-1,we=G.length,dt=0,wt=[];++te<we;){var Nr=G[te];(Nr===oe||Nr===c)&&(G[te]=c,wt[dt++]=te)}return wt}function by(G){var oe=-1,te=Array(G.size);return G.forEach(function(we){te[++oe]=we}),te}function Zge(G){var oe=-1,te=Array(G.size);return G.forEach(function(we){te[++oe]=[we,we]}),te}function Hge(G,oe,te){for(var we=te-1,dt=G.length;++we<dt;)if(G[we]===oe)return we;return-1}function Kge(G,oe,te){for(var we=te+1;we--;)if(G[we]===oe)return we;return we}function wu(G){return ku(G)?Yge(G):_ge(G)}function ss(G){return ku(G)?Xge(G):Tge(G)}function b0(G){for(var oe=G.length;oe--&&xS.test(G.charAt(oe)););return oe}var qge=HS(vge);function Yge(G){for(var oe=LS.lastIndex=0;LS.test(G);)++oe;return oe}function Xge(G){return G.match(LS)||[]}function zge(G){return G.match(fge)||[]}var Jge=function G(oe){oe=oe==null?Xr:Ua.defaults(Xr.Object(),oe,Ua.pick(Xr,hge));var te=oe.Array,we=oe.Date,dt=oe.Error,wt=oe.Function,Nr=oe.Math,Ht=oe.Object,zS=oe.RegExp,Qge=oe.String,Pi=oe.TypeError,fy=te.prototype,$ge=wt.prototype,Eu=Ht.prototype,yy=oe["__core-js_shared__"],Iy=$ge.toString,Lt=Eu.hasOwnProperty,eme=0,f0=function(){var a=/[^.]+$/.exec(yy&&yy.keys&&yy.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),hy=Eu.toString,tme=Iy.call(Ht),rme=Xr._,nme=zS("^"+Iy.call(Lt).replace(Qp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xy=$L?oe.Buffer:t,Ma=oe.Symbol,Cy=oe.Uint8Array,y0=xy?xy.allocUnsafe:t,Ay=m0(Ht.getPrototypeOf,Ht),I0=Ht.create,h0=Eu.propertyIsEnumerable,vy=fy.splice,x0=Ma?Ma.isConcatSpreadable:t,ig=Ma?Ma.iterator:t,Kl=Ma?Ma.toStringTag:t,Sy=function(){try{var a=Jl(Ht,"defineProperty");return a({},"",{}),a}catch{}}(),ime=oe.clearTimeout!==Xr.clearTimeout&&oe.clearTimeout,sme=we&&we.now!==Xr.Date.now&&we.now,ome=oe.setTimeout!==Xr.setTimeout&&oe.setTimeout,Oy=Nr.ceil,Fy=Nr.floor,JS=Ht.getOwnPropertySymbols,ame=xy?xy.isBuffer:t,C0=oe.isFinite,lme=fy.join,dme=m0(Ht.keys,Ht),Wr=Nr.max,fn=Nr.min,ume=we.now,cme=oe.parseInt,A0=Nr.random,pme=fy.reverse,QS=Jl(oe,"DataView"),sg=Jl(oe,"Map"),$S=Jl(oe,"Promise"),Uu=Jl(oe,"Set"),og=Jl(oe,"WeakMap"),ag=Jl(Ht,"create"),Dy=og&&new og,Mu={},gme=Ql(QS),mme=Ql(sg),bme=Ql($S),fme=Ql(Uu),yme=Ql(og),Ry=Ma?Ma.prototype:t,lg=Ry?Ry.valueOf:t,v0=Ry?Ry.toString:t;function D(a){if(hr(a)&&!ut(a)&&!(a instanceof Ct)){if(a instanceof _i)return a;if(Lt.call(a,"__wrapped__"))return SV(a)}return new _i(a)}var Lu=function(){function a(){}return function(d){if(!ur(d))return{};if(I0)return I0(d);a.prototype=d;var m=new a;return a.prototype=t,m}}();function jy(){}function _i(a,d){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}D.templateSettings={escape:bS,evaluate:ry,interpolate:ny,variable:"",imports:{_:D}},D.prototype=jy.prototype,D.prototype.constructor=D,_i.prototype=Lu(jy.prototype),_i.prototype.constructor=_i;function Ct(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ae,this.__views__=[]}function Ime(){var a=new Ct(this.__wrapped__);return a.__actions__=Gn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Gn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Gn(this.__views__),a}function hme(){if(this.__filtered__){var a=new Ct(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function xme(){var a=this.__wrapped__.value(),d=this.__dir__,m=ut(a),x=d<0,S=m?a.length:0,j=Tbe(0,S,this.__views__),w=j.start,L=j.end,H=L-w,de=x?L:w-1,ue=this.__iteratees__,ye=ue.length,Pe=0,Ve=fn(H,this.__takeCount__);if(!m||!x&&S==H&&Ve==H)return q0(a,this.__actions__);var tt=[];e:for(;H--&&Pe<Ve;){de+=d;for(var yt=-1,rt=a[de];++yt<ye;){var xt=ue[yt],At=xt.iteratee,pi=xt.type,_n=At(rt);if(pi==Re)rt=_n;else if(!_n){if(pi==Fe)continue e;break e}}tt[Pe++]=rt}return tt}Ct.prototype=Lu(jy.prototype),Ct.prototype.constructor=Ct;function ql(a){var d=-1,m=a==null?0:a.length;for(this.clear();++d<m;){var x=a[d];this.set(x[0],x[1])}}function Cme(){this.__data__=ag?ag(null):{},this.size=0}function Ame(a){var d=this.has(a)&&delete this.__data__[a];return this.size-=d?1:0,d}function vme(a){var d=this.__data__;if(ag){var m=d[a];return m===l?t:m}return Lt.call(d,a)?d[a]:t}function Sme(a){var d=this.__data__;return ag?d[a]!==t:Lt.call(d,a)}function Ome(a,d){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=ag&&d===t?l:d,this}ql.prototype.clear=Cme,ql.prototype.delete=Ame,ql.prototype.get=vme,ql.prototype.has=Sme,ql.prototype.set=Ome;function Co(a){var d=-1,m=a==null?0:a.length;for(this.clear();++d<m;){var x=a[d];this.set(x[0],x[1])}}function Fme(){this.__data__=[],this.size=0}function Dme(a){var d=this.__data__,m=Py(d,a);if(m<0)return!1;var x=d.length-1;return m==x?d.pop():vy.call(d,m,1),--this.size,!0}function Rme(a){var d=this.__data__,m=Py(d,a);return m<0?t:d[m][1]}function jme(a){return Py(this.__data__,a)>-1}function Pme(a,d){var m=this.__data__,x=Py(m,a);return x<0?(++this.size,m.push([a,d])):m[x][1]=d,this}Co.prototype.clear=Fme,Co.prototype.delete=Dme,Co.prototype.get=Rme,Co.prototype.has=jme,Co.prototype.set=Pme;function Ao(a){var d=-1,m=a==null?0:a.length;for(this.clear();++d<m;){var x=a[d];this.set(x[0],x[1])}}function _me(){this.size=0,this.__data__={hash:new ql,map:new(sg||Co),string:new ql}}function Tme(a){var d=Wy(this,a).delete(a);return this.size-=d?1:0,d}function kme(a){return Wy(this,a).get(a)}function wme(a){return Wy(this,a).has(a)}function Eme(a,d){var m=Wy(this,a),x=m.size;return m.set(a,d),this.size+=m.size==x?0:1,this}Ao.prototype.clear=_me,Ao.prototype.delete=Tme,Ao.prototype.get=kme,Ao.prototype.has=wme,Ao.prototype.set=Eme;function Yl(a){var d=-1,m=a==null?0:a.length;for(this.__data__=new Ao;++d<m;)this.add(a[d])}function Ume(a){return this.__data__.set(a,l),this}function Mme(a){return this.__data__.has(a)}Yl.prototype.add=Yl.prototype.push=Ume,Yl.prototype.has=Mme;function os(a){var d=this.__data__=new Co(a);this.size=d.size}function Lme(){this.__data__=new Co,this.size=0}function Vme(a){var d=this.__data__,m=d.delete(a);return this.size=d.size,m}function Bme(a){return this.__data__.get(a)}function Nme(a){return this.__data__.has(a)}function Wme(a,d){var m=this.__data__;if(m instanceof Co){var x=m.__data__;if(!sg||x.length<r-1)return x.push([a,d]),this.size=++m.size,this;m=this.__data__=new Ao(x)}return m.set(a,d),this.size=m.size,this}os.prototype.clear=Lme,os.prototype.delete=Vme,os.prototype.get=Bme,os.prototype.has=Nme,os.prototype.set=Wme;function S0(a,d){var m=ut(a),x=!m&&$l(a),S=!m&&!x&&Wa(a),j=!m&&!x&&!S&&Wu(a),w=m||x||S||j,L=w?qS(a.length,Qge):[],H=L.length;for(var de in a)(d||Lt.call(a,de))&&!(w&&(de=="length"||S&&(de=="offset"||de=="parent")||j&&(de=="buffer"||de=="byteLength"||de=="byteOffset")||Fo(de,H)))&&L.push(de);return L}function O0(a){var d=a.length;return d?a[uO(0,d-1)]:t}function Gme(a,d){return Gy(Gn(a),Xl(d,0,a.length))}function Zme(a){return Gy(Gn(a))}function eO(a,d,m){(m!==t&&!as(a[d],m)||m===t&&!(d in a))&&vo(a,d,m)}function dg(a,d,m){var x=a[d];(!(Lt.call(a,d)&&as(x,m))||m===t&&!(d in a))&&vo(a,d,m)}function Py(a,d){for(var m=a.length;m--;)if(as(a[m][0],d))return m;return-1}function Hme(a,d,m,x){return La(a,function(S,j,w){d(x,S,m(S),w)}),x}function F0(a,d){return a&&Ps(d,zr(d),a)}function Kme(a,d){return a&&Ps(d,Hn(d),a)}function vo(a,d,m){d=="__proto__"&&Sy?Sy(a,d,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[d]=m}function tO(a,d){for(var m=-1,x=d.length,S=te(x),j=a==null;++m<x;)S[m]=j?t:EO(a,d[m]);return S}function Xl(a,d,m){return a===a&&(m!==t&&(a=a<=m?a:m),d!==t&&(a=a>=d?a:d)),a}function Ti(a,d,m,x,S,j){var w,L=d&g,H=d&p,de=d&f;if(m&&(w=S?m(a,x,S,j):m(a)),w!==t)return w;if(!ur(a))return a;var ue=ut(a);if(ue){if(w=wbe(a),!L)return Gn(a,w)}else{var ye=yn(a),Pe=ye==Ft||ye==Oe;if(Wa(a))return z0(a,L);if(ye==kt||ye==Ge||Pe&&!S){if(w=H||Pe?{}:bV(a),!L)return H?vbe(a,Kme(w,a)):Abe(a,F0(w,a))}else{if(!zt[ye])return S?a:{};w=Ebe(a,ye,L)}}j||(j=new os);var Ve=j.get(a);if(Ve)return Ve;j.set(a,w),ZV(a)?a.forEach(function(rt){w.add(Ti(rt,d,m,rt,a,j))}):WV(a)&&a.forEach(function(rt,xt){w.set(xt,Ti(rt,d,m,xt,a,j))});var tt=de?H?CO:xO:H?Hn:zr,yt=ue?t:tt(a);return ji(yt||a,function(rt,xt){yt&&(xt=rt,rt=a[xt]),dg(w,xt,Ti(rt,d,m,xt,a,j))}),w}function qme(a){var d=zr(a);return function(m){return D0(m,a,d)}}function D0(a,d,m){var x=m.length;if(a==null)return!x;for(a=Ht(a);x--;){var S=m[x],j=d[S],w=a[S];if(w===t&&!(S in a)||!j(w))return!1}return!0}function R0(a,d,m){if(typeof a!="function")throw new Pi(o);return fg(function(){a.apply(t,m)},d)}function ug(a,d,m,x){var S=-1,j=gy,w=!0,L=a.length,H=[],de=d.length;if(!L)return H;m&&(d=rr(d,di(m))),x?(j=NS,w=!1):d.length>=r&&(j=ng,w=!1,d=new Yl(d));e:for(;++S<L;){var ue=a[S],ye=m==null?ue:m(ue);if(ue=x||ue!==0?ue:0,w&&ye===ye){for(var Pe=de;Pe--;)if(d[Pe]===ye)continue e;H.push(ue)}else j(d,ye,x)||H.push(ue)}return H}var La=tV(js),j0=tV(nO,!0);function Yme(a,d){var m=!0;return La(a,function(x,S,j){return m=!!d(x,S,j),m}),m}function _y(a,d,m){for(var x=-1,S=a.length;++x<S;){var j=a[x],w=d(j);if(w!=null&&(L===t?w===w&&!ci(w):m(w,L)))var L=w,H=j}return H}function Xme(a,d,m,x){var S=a.length;for(m=ft(m),m<0&&(m=-m>S?0:S+m),x=x===t||x>S?S:ft(x),x<0&&(x+=S),x=m>x?0:KV(x);m<x;)a[m++]=d;return a}function P0(a,d){var m=[];return La(a,function(x,S,j){d(x,S,j)&&m.push(x)}),m}function nn(a,d,m,x,S){var j=-1,w=a.length;for(m||(m=Mbe),S||(S=[]);++j<w;){var L=a[j];d>0&&m(L)?d>1?nn(L,d-1,m,x,S):wa(S,L):x||(S[S.length]=L)}return S}var rO=rV(),_0=rV(!0);function js(a,d){return a&&rO(a,d,zr)}function nO(a,d){return a&&_0(a,d,zr)}function Ty(a,d){return ka(d,function(m){return Do(a[m])})}function zl(a,d){d=Ba(d,a);for(var m=0,x=d.length;a!=null&&m<x;)a=a[_s(d[m++])];return m&&m==x?a:t}function T0(a,d,m){var x=d(a);return ut(a)?x:wa(x,m(a))}function jn(a){return a==null?a===t?Xp:Br:Kl&&Kl in Ht(a)?_be(a):Zbe(a)}function iO(a,d){return a>d}function zme(a,d){return a!=null&&Lt.call(a,d)}function Jme(a,d){return a!=null&&d in Ht(a)}function Qme(a,d,m){return a>=fn(d,m)&&a<Wr(d,m)}function sO(a,d,m){for(var x=m?NS:gy,S=a[0].length,j=a.length,w=j,L=te(j),H=1/0,de=[];w--;){var ue=a[w];w&&d&&(ue=rr(ue,di(d))),H=fn(ue.length,H),L[w]=!m&&(d||S>=120&&ue.length>=120)?new Yl(w&&ue):t}ue=a[0];var ye=-1,Pe=L[0];e:for(;++ye<S&&de.length<H;){var Ve=ue[ye],tt=d?d(Ve):Ve;if(Ve=m||Ve!==0?Ve:0,!(Pe?ng(Pe,tt):x(de,tt,m))){for(w=j;--w;){var yt=L[w];if(!(yt?ng(yt,tt):x(a[w],tt,m)))continue e}Pe&&Pe.push(tt),de.push(Ve)}}return de}function $me(a,d,m,x){return js(a,function(S,j,w){d(x,m(S),j,w)}),x}function cg(a,d,m){d=Ba(d,a),a=hV(a,d);var x=a==null?a:a[_s(wi(d))];return x==null?t:li(x,a,m)}function k0(a){return hr(a)&&jn(a)==Ge}function ebe(a){return hr(a)&&jn(a)==_a}function tbe(a){return hr(a)&&jn(a)==mn}function pg(a,d,m,x,S){return a===d?!0:a==null||d==null||!hr(a)&&!hr(d)?a!==a&&d!==d:rbe(a,d,m,x,pg,S)}function rbe(a,d,m,x,S,j){var w=ut(a),L=ut(d),H=w?Ir:yn(a),de=L?Ir:yn(d);H=H==Ge?kt:H,de=de==Ge?kt:de;var ue=H==kt,ye=de==kt,Pe=H==de;if(Pe&&Wa(a)){if(!Wa(d))return!1;w=!0,ue=!1}if(Pe&&!ue)return j||(j=new os),w||Wu(a)?pV(a,d,m,x,S,j):jbe(a,d,H,m,x,S,j);if(!(m&I)){var Ve=ue&&Lt.call(a,"__wrapped__"),tt=ye&&Lt.call(d,"__wrapped__");if(Ve||tt){var yt=Ve?a.value():a,rt=tt?d.value():d;return j||(j=new os),S(yt,rt,m,x,j)}}return Pe?(j||(j=new os),Pbe(a,d,m,x,S,j)):!1}function nbe(a){return hr(a)&&yn(a)==Ye}function oO(a,d,m,x){var S=m.length,j=S,w=!x;if(a==null)return!j;for(a=Ht(a);S--;){var L=m[S];if(w&&L[2]?L[1]!==a[L[0]]:!(L[0]in a))return!1}for(;++S<j;){L=m[S];var H=L[0],de=a[H],ue=L[1];if(w&&L[2]){if(de===t&&!(H in a))return!1}else{var ye=new os;if(x)var Pe=x(de,ue,H,a,d,ye);if(!(Pe===t?pg(ue,de,I|v,x,ye):Pe))return!1}}return!0}function w0(a){if(!ur(a)||Vbe(a))return!1;var d=Do(a)?nme:jS;return d.test(Ql(a))}function ibe(a){return hr(a)&&jn(a)==Ra}function sbe(a){return hr(a)&&yn(a)==bn}function obe(a){return hr(a)&&Xy(a.length)&&!!Qt[jn(a)]}function E0(a){return typeof a=="function"?a:a==null?Kn:typeof a=="object"?ut(a)?L0(a[0],a[1]):M0(a):nB(a)}function aO(a){if(!bg(a))return dme(a);var d=[];for(var m in Ht(a))Lt.call(a,m)&&m!="constructor"&&d.push(m);return d}function abe(a){if(!ur(a))return Gbe(a);var d=bg(a),m=[];for(var x in a)x=="constructor"&&(d||!Lt.call(a,x))||m.push(x);return m}function lO(a,d){return a<d}function U0(a,d){var m=-1,x=Zn(a)?te(a.length):[];return La(a,function(S,j,w){x[++m]=d(S,j,w)}),x}function M0(a){var d=vO(a);return d.length==1&&d[0][2]?yV(d[0][0],d[0][1]):function(m){return m===a||oO(m,a,d)}}function L0(a,d){return OO(a)&&fV(d)?yV(_s(a),d):function(m){var x=EO(m,a);return x===t&&x===d?UO(m,a):pg(d,x,I|v)}}function ky(a,d,m,x,S){a!==d&&rO(d,function(j,w){if(S||(S=new os),ur(j))lbe(a,d,w,m,ky,x,S);else{var L=x?x(DO(a,w),j,w+"",a,d,S):t;L===t&&(L=j),eO(a,w,L)}},Hn)}function lbe(a,d,m,x,S,j,w){var L=DO(a,m),H=DO(d,m),de=w.get(H);if(de){eO(a,m,de);return}var ue=j?j(L,H,m+"",a,d,w):t,ye=ue===t;if(ye){var Pe=ut(H),Ve=!Pe&&Wa(H),tt=!Pe&&!Ve&&Wu(H);ue=H,Pe||Ve||tt?ut(L)?ue=L:Dr(L)?ue=Gn(L):Ve?(ye=!1,ue=z0(H,!0)):tt?(ye=!1,ue=J0(H,!0)):ue=[]:yg(H)||$l(H)?(ue=L,$l(L)?ue=qV(L):(!ur(L)||Do(L))&&(ue=bV(H))):ye=!1}ye&&(w.set(H,ue),S(ue,H,x,j,w),w.delete(H)),eO(a,m,ue)}function V0(a,d){var m=a.length;if(m)return d+=d<0?m:0,Fo(d,m)?a[d]:t}function B0(a,d,m){d.length?d=rr(d,function(j){return ut(j)?function(w){return zl(w,j.length===1?j[0]:j)}:j}):d=[Kn];var x=-1;d=rr(d,di($e()));var S=U0(a,function(j,w,L){var H=rr(d,function(de){return de(j)});return{criteria:H,index:++x,value:j}});return Ege(S,function(j,w){return Cbe(j,w,m)})}function dbe(a,d){return N0(a,d,function(m,x){return UO(a,x)})}function N0(a,d,m){for(var x=-1,S=d.length,j={};++x<S;){var w=d[x],L=zl(a,w);m(L,w)&&gg(j,Ba(w,a),L)}return j}function ube(a){return function(d){return zl(d,a)}}function dO(a,d,m,x){var S=x?wge:Tu,j=-1,w=d.length,L=a;for(a===d&&(d=Gn(d)),m&&(L=rr(a,di(m)));++j<w;)for(var H=0,de=d[j],ue=m?m(de):de;(H=S(L,ue,H,x))>-1;)L!==a&&vy.call(L,H,1),vy.call(a,H,1);return a}function W0(a,d){for(var m=a?d.length:0,x=m-1;m--;){var S=d[m];if(m==x||S!==j){var j=S;Fo(S)?vy.call(a,S,1):gO(a,S)}}return a}function uO(a,d){return a+Fy(A0()*(d-a+1))}function cbe(a,d,m,x){for(var S=-1,j=Wr(Oy((d-a)/(m||1)),0),w=te(j);j--;)w[x?j:++S]=a,a+=m;return w}function cO(a,d){var m="";if(!a||d<1||d>Z)return m;do d%2&&(m+=a),d=Fy(d/2),d&&(a+=a);while(d);return m}function It(a,d){return RO(IV(a,d,Kn),a+"")}function pbe(a){return O0(Gu(a))}function gbe(a,d){var m=Gu(a);return Gy(m,Xl(d,0,m.length))}function gg(a,d,m,x){if(!ur(a))return a;d=Ba(d,a);for(var S=-1,j=d.length,w=j-1,L=a;L!=null&&++S<j;){var H=_s(d[S]),de=m;if(H==="__proto__"||H==="constructor"||H==="prototype")return a;if(S!=w){var ue=L[H];de=x?x(ue,H,L):t,de===t&&(de=ur(ue)?ue:Fo(d[S+1])?[]:{})}dg(L,H,de),L=L[H]}return a}var G0=Dy?function(a,d){return Dy.set(a,d),a}:Kn,mbe=Sy?function(a,d){return Sy(a,"toString",{configurable:!0,enumerable:!1,value:LO(d),writable:!0})}:Kn;function bbe(a){return Gy(Gu(a))}function ki(a,d,m){var x=-1,S=a.length;d<0&&(d=-d>S?0:S+d),m=m>S?S:m,m<0&&(m+=S),S=d>m?0:m-d>>>0,d>>>=0;for(var j=te(S);++x<S;)j[x]=a[x+d];return j}function fbe(a,d){var m;return La(a,function(x,S,j){return m=d(x,S,j),!m}),!!m}function wy(a,d,m){var x=0,S=a==null?x:a.length;if(typeof d=="number"&&d===d&&S<=vt){for(;x<S;){var j=x+S>>>1,w=a[j];w!==null&&!ci(w)&&(m?w<=d:w<d)?x=j+1:S=j}return S}return pO(a,d,Kn,m)}function pO(a,d,m,x){var S=0,j=a==null?0:a.length;if(j===0)return 0;d=m(d);for(var w=d!==d,L=d===null,H=ci(d),de=d===t;S<j;){var ue=Fy((S+j)/2),ye=m(a[ue]),Pe=ye!==t,Ve=ye===null,tt=ye===ye,yt=ci(ye);if(w)var rt=x||tt;else de?rt=tt&&(x||Pe):L?rt=tt&&Pe&&(x||!Ve):H?rt=tt&&Pe&&!Ve&&(x||!yt):Ve||yt?rt=!1:rt=x?ye<=d:ye<d;rt?S=ue+1:j=ue}return fn(j,or)}function Z0(a,d){for(var m=-1,x=a.length,S=0,j=[];++m<x;){var w=a[m],L=d?d(w):w;if(!m||!as(L,H)){var H=L;j[S++]=w===0?0:w}}return j}function H0(a){return typeof a=="number"?a:ci(a)?se:+a}function ui(a){if(typeof a=="string")return a;if(ut(a))return rr(a,ui)+"";if(ci(a))return v0?v0.call(a):"";var d=a+"";return d=="0"&&1/a==-W?"-0":d}function Va(a,d,m){var x=-1,S=gy,j=a.length,w=!0,L=[],H=L;if(m)w=!1,S=NS;else if(j>=r){var de=d?null:Dbe(a);if(de)return by(de);w=!1,S=ng,H=new Yl}else H=d?[]:L;e:for(;++x<j;){var ue=a[x],ye=d?d(ue):ue;if(ue=m||ue!==0?ue:0,w&&ye===ye){for(var Pe=H.length;Pe--;)if(H[Pe]===ye)continue e;d&&H.push(ye),L.push(ue)}else S(H,ye,m)||(H!==L&&H.push(ye),L.push(ue))}return L}function gO(a,d){return d=Ba(d,a),a=hV(a,d),a==null||delete a[_s(wi(d))]}function K0(a,d,m,x){return gg(a,d,m(zl(a,d)),x)}function Ey(a,d,m,x){for(var S=a.length,j=x?S:-1;(x?j--:++j<S)&&d(a[j],j,a););return m?ki(a,x?0:j,x?j+1:S):ki(a,x?j+1:0,x?S:j)}function q0(a,d){var m=a;return m instanceof Ct&&(m=m.value()),WS(d,function(x,S){return S.func.apply(S.thisArg,wa([x],S.args))},m)}function mO(a,d,m){var x=a.length;if(x<2)return x?Va(a[0]):[];for(var S=-1,j=te(x);++S<x;)for(var w=a[S],L=-1;++L<x;)L!=S&&(j[S]=ug(j[S]||w,a[L],d,m));return Va(nn(j,1),d,m)}function Y0(a,d,m){for(var x=-1,S=a.length,j=d.length,w={};++x<S;){var L=x<j?d[x]:t;m(w,a[x],L)}return w}function bO(a){return Dr(a)?a:[]}function fO(a){return typeof a=="function"?a:Kn}function Ba(a,d){return ut(a)?a:OO(a,d)?[a]:vV(Ut(a))}var ybe=It;function Na(a,d,m){var x=a.length;return m=m===t?x:m,!d&&m>=x?a:ki(a,d,m)}var X0=ime||function(a){return Xr.clearTimeout(a)};function z0(a,d){if(d)return a.slice();var m=a.length,x=y0?y0(m):new a.constructor(m);return a.copy(x),x}function yO(a){var d=new a.constructor(a.byteLength);return new Cy(d).set(new Cy(a)),d}function Ibe(a,d){var m=d?yO(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.byteLength)}function hbe(a){var d=new a.constructor(a.source,sy.exec(a));return d.lastIndex=a.lastIndex,d}function xbe(a){return lg?Ht(lg.call(a)):{}}function J0(a,d){var m=d?yO(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}function Q0(a,d){if(a!==d){var m=a!==t,x=a===null,S=a===a,j=ci(a),w=d!==t,L=d===null,H=d===d,de=ci(d);if(!L&&!de&&!j&&a>d||j&&w&&H&&!L&&!de||x&&w&&H||!m&&H||!S)return 1;if(!x&&!j&&!de&&a<d||de&&m&&S&&!x&&!j||L&&m&&S||!w&&S||!H)return-1}return 0}function Cbe(a,d,m){for(var x=-1,S=a.criteria,j=d.criteria,w=S.length,L=m.length;++x<w;){var H=Q0(S[x],j[x]);if(H){if(x>=L)return H;var de=m[x];return H*(de=="desc"?-1:1)}}return a.index-d.index}function $0(a,d,m,x){for(var S=-1,j=a.length,w=m.length,L=-1,H=d.length,de=Wr(j-w,0),ue=te(H+de),ye=!x;++L<H;)ue[L]=d[L];for(;++S<w;)(ye||S<j)&&(ue[m[S]]=a[S]);for(;de--;)ue[L++]=a[S++];return ue}function eV(a,d,m,x){for(var S=-1,j=a.length,w=-1,L=m.length,H=-1,de=d.length,ue=Wr(j-L,0),ye=te(ue+de),Pe=!x;++S<ue;)ye[S]=a[S];for(var Ve=S;++H<de;)ye[Ve+H]=d[H];for(;++w<L;)(Pe||S<j)&&(ye[Ve+m[w]]=a[S++]);return ye}function Gn(a,d){var m=-1,x=a.length;for(d||(d=te(x));++m<x;)d[m]=a[m];return d}function Ps(a,d,m,x){var S=!m;m||(m={});for(var j=-1,w=d.length;++j<w;){var L=d[j],H=x?x(m[L],a[L],L,m,a):t;H===t&&(H=a[L]),S?vo(m,L,H):dg(m,L,H)}return m}function Abe(a,d){return Ps(a,SO(a),d)}function vbe(a,d){return Ps(a,gV(a),d)}function Uy(a,d){return function(m,x){var S=ut(m)?Rge:Hme,j=d?d():{};return S(m,a,$e(x,2),j)}}function Vu(a){return It(function(d,m){var x=-1,S=m.length,j=S>1?m[S-1]:t,w=S>2?m[2]:t;for(j=a.length>3&&typeof j=="function"?(S--,j):t,w&&Pn(m[0],m[1],w)&&(j=S<3?t:j,S=1),d=Ht(d);++x<S;){var L=m[x];L&&a(d,L,x,j)}return d})}function tV(a,d){return function(m,x){if(m==null)return m;if(!Zn(m))return a(m,x);for(var S=m.length,j=d?S:-1,w=Ht(m);(d?j--:++j<S)&&x(w[j],j,w)!==!1;);return m}}function rV(a){return function(d,m,x){for(var S=-1,j=Ht(d),w=x(d),L=w.length;L--;){var H=w[a?L:++S];if(m(j[H],H,j)===!1)break}return d}}function Sbe(a,d,m){var x=d&C,S=mg(a);function j(){var w=this&&this!==Xr&&this instanceof j?S:a;return w.apply(x?m:this,arguments)}return j}function nV(a){return function(d){d=Ut(d);var m=ku(d)?ss(d):t,x=m?m[0]:d.charAt(0),S=m?Na(m,1).join(""):d.slice(1);return x[a]()+S}}function Bu(a){return function(d){return WS(tB(eB(d).replace(mge,"")),a,"")}}function mg(a){return function(){var d=arguments;switch(d.length){case 0:return new a;case 1:return new a(d[0]);case 2:return new a(d[0],d[1]);case 3:return new a(d[0],d[1],d[2]);case 4:return new a(d[0],d[1],d[2],d[3]);case 5:return new a(d[0],d[1],d[2],d[3],d[4]);case 6:return new a(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new a(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=Lu(a.prototype),x=a.apply(m,d);return ur(x)?x:m}}function Obe(a,d,m){var x=mg(a);function S(){for(var j=arguments.length,w=te(j),L=j,H=Nu(S);L--;)w[L]=arguments[L];var de=j<3&&w[0]!==H&&w[j-1]!==H?[]:Ea(w,H);if(j-=de.length,j<m)return lV(a,d,My,S.placeholder,t,w,de,t,t,m-j);var ue=this&&this!==Xr&&this instanceof S?x:a;return li(ue,this,w)}return S}function iV(a){return function(d,m,x){var S=Ht(d);if(!Zn(d)){var j=$e(m,3);d=zr(d),m=function(L){return j(S[L],L,S)}}var w=a(d,m,x);return w>-1?S[j?d[w]:w]:t}}function sV(a){return Oo(function(d){var m=d.length,x=m,S=_i.prototype.thru;for(a&&d.reverse();x--;){var j=d[x];if(typeof j!="function")throw new Pi(o);if(S&&!w&&Ny(j)=="wrapper")var w=new _i([],!0)}for(x=w?x:m;++x<m;){j=d[x];var L=Ny(j),H=L=="wrapper"?AO(j):t;H&&FO(H[0])&&H[1]==(ce|E|k|Q)&&!H[4].length&&H[9]==1?w=w[Ny(H[0])].apply(w,H[3]):w=j.length==1&&FO(j)?w[L]():w.thru(j)}return function(){var de=arguments,ue=de[0];if(w&&de.length==1&&ut(ue))return w.plant(ue).value();for(var ye=0,Pe=m?d[ye].apply(this,de):ue;++ye<m;)Pe=d[ye].call(this,Pe);return Pe}})}function My(a,d,m,x,S,j,w,L,H,de){var ue=d&ce,ye=d&C,Pe=d&F,Ve=d&(E|J),tt=d&he,yt=Pe?t:mg(a);function rt(){for(var xt=arguments.length,At=te(xt),pi=xt;pi--;)At[pi]=arguments[pi];if(Ve)var _n=Nu(rt),gi=Mge(At,_n);if(x&&(At=$0(At,x,S,Ve)),j&&(At=eV(At,j,w,Ve)),xt-=gi,Ve&&xt<de){var Rr=Ea(At,_n);return lV(a,d,My,rt.placeholder,m,At,Rr,L,H,de-xt)}var ls=ye?m:this,jo=Pe?ls[a]:a;return xt=At.length,L?At=Hbe(At,L):tt&&xt>1&&At.reverse(),ue&&H<xt&&(At.length=H),this&&this!==Xr&&this instanceof rt&&(jo=yt||mg(jo)),jo.apply(ls,At)}return rt}function oV(a,d){return function(m,x){return $me(m,a,d(x),{})}}function Ly(a,d){return function(m,x){var S;if(m===t&&x===t)return d;if(m!==t&&(S=m),x!==t){if(S===t)return x;typeof m=="string"||typeof x=="string"?(m=ui(m),x=ui(x)):(m=H0(m),x=H0(x)),S=a(m,x)}return S}}function IO(a){return Oo(function(d){return d=rr(d,di($e())),It(function(m){var x=this;return a(d,function(S){return li(S,x,m)})})})}function Vy(a,d){d=d===t?" ":ui(d);var m=d.length;if(m<2)return m?cO(d,a):d;var x=cO(d,Oy(a/wu(d)));return ku(d)?Na(ss(x),0,a).join(""):x.slice(0,a)}function Fbe(a,d,m,x){var S=d&C,j=mg(a);function w(){for(var L=-1,H=arguments.length,de=-1,ue=x.length,ye=te(ue+H),Pe=this&&this!==Xr&&this instanceof w?j:a;++de<ue;)ye[de]=x[de];for(;H--;)ye[de++]=arguments[++L];return li(Pe,S?m:this,ye)}return w}function aV(a){return function(d,m,x){return x&&typeof x!="number"&&Pn(d,m,x)&&(m=x=t),d=Ro(d),m===t?(m=d,d=0):m=Ro(m),x=x===t?d<m?1:-1:Ro(x),cbe(d,m,x,a)}}function By(a){return function(d,m){return typeof d=="string"&&typeof m=="string"||(d=Ei(d),m=Ei(m)),a(d,m)}}function lV(a,d,m,x,S,j,w,L,H,de){var ue=d&E,ye=ue?w:t,Pe=ue?t:w,Ve=ue?j:t,tt=ue?t:j;d|=ue?k:ee,d&=~(ue?ee:k),d&P||(d&=~(C|F));var yt=[a,d,S,Ve,ye,tt,Pe,L,H,de],rt=m.apply(t,yt);return FO(a)&&xV(rt,yt),rt.placeholder=x,CV(rt,a,d)}function hO(a){var d=Nr[a];return function(m,x){if(m=Ei(m),x=x==null?0:fn(ft(x),292),x&&C0(m)){var S=(Ut(m)+"e").split("e"),j=d(S[0]+"e"+(+S[1]+x));return S=(Ut(j)+"e").split("e"),+(S[0]+"e"+(+S[1]-x))}return d(m)}}var Dbe=Uu&&1/by(new Uu([,-0]))[1]==W?function(a){return new Uu(a)}:NO;function dV(a){return function(d){var m=yn(d);return m==Ye?XS(d):m==bn?Zge(d):Uge(d,a(d))}}function So(a,d,m,x,S,j,w,L){var H=d&F;if(!H&&typeof a!="function")throw new Pi(o);var de=x?x.length:0;if(de||(d&=~(k|ee),x=S=t),w=w===t?w:Wr(ft(w),0),L=L===t?L:ft(L),de-=S?S.length:0,d&ee){var ue=x,ye=S;x=S=t}var Pe=H?t:AO(a),Ve=[a,d,m,x,S,ue,ye,j,w,L];if(Pe&&Wbe(Ve,Pe),a=Ve[0],d=Ve[1],m=Ve[2],x=Ve[3],S=Ve[4],L=Ve[9]=Ve[9]===t?H?0:a.length:Wr(Ve[9]-de,0),!L&&d&(E|J)&&(d&=~(E|J)),!d||d==C)var tt=Sbe(a,d,m);else d==E||d==J?tt=Obe(a,d,L):(d==k||d==(C|k))&&!S.length?tt=Fbe(a,d,m,x):tt=My.apply(t,Ve);var yt=Pe?G0:xV;return CV(yt(tt,Ve),a,d)}function uV(a,d,m,x){return a===t||as(a,Eu[m])&&!Lt.call(x,m)?d:a}function cV(a,d,m,x,S,j){return ur(a)&&ur(d)&&(j.set(d,a),ky(a,d,t,cV,j),j.delete(d)),a}function Rbe(a){return yg(a)?t:a}function pV(a,d,m,x,S,j){var w=m&I,L=a.length,H=d.length;if(L!=H&&!(w&&H>L))return!1;var de=j.get(a),ue=j.get(d);if(de&&ue)return de==d&&ue==a;var ye=-1,Pe=!0,Ve=m&v?new Yl:t;for(j.set(a,d),j.set(d,a);++ye<L;){var tt=a[ye],yt=d[ye];if(x)var rt=w?x(yt,tt,ye,d,a,j):x(tt,yt,ye,a,d,j);if(rt!==t){if(rt)continue;Pe=!1;break}if(Ve){if(!GS(d,function(xt,At){if(!ng(Ve,At)&&(tt===xt||S(tt,xt,m,x,j)))return Ve.push(At)})){Pe=!1;break}}else if(!(tt===yt||S(tt,yt,m,x,j))){Pe=!1;break}}return j.delete(a),j.delete(d),Pe}function jbe(a,d,m,x,S,j,w){switch(m){case ho:if(a.byteLength!=d.byteLength||a.byteOffset!=d.byteOffset)return!1;a=a.buffer,d=d.buffer;case _a:return!(a.byteLength!=d.byteLength||!j(new Cy(a),new Cy(d)));case it:case mn:case Tt:return as(+a,+d);case je:return a.name==d.name&&a.message==d.message;case Ra:case Io:return a==d+"";case Ye:var L=XS;case bn:var H=x&I;if(L||(L=by),a.size!=d.size&&!H)return!1;var de=w.get(a);if(de)return de==d;x|=v,w.set(a,d);var ue=pV(L(a),L(d),x,S,j,w);return w.delete(a),ue;case ja:if(lg)return lg.call(a)==lg.call(d)}return!1}function Pbe(a,d,m,x,S,j){var w=m&I,L=xO(a),H=L.length,de=xO(d),ue=de.length;if(H!=ue&&!w)return!1;for(var ye=H;ye--;){var Pe=L[ye];if(!(w?Pe in d:Lt.call(d,Pe)))return!1}var Ve=j.get(a),tt=j.get(d);if(Ve&&tt)return Ve==d&&tt==a;var yt=!0;j.set(a,d),j.set(d,a);for(var rt=w;++ye<H;){Pe=L[ye];var xt=a[Pe],At=d[Pe];if(x)var pi=w?x(At,xt,Pe,d,a,j):x(xt,At,Pe,a,d,j);if(!(pi===t?xt===At||S(xt,At,m,x,j):pi)){yt=!1;break}rt||(rt=Pe=="constructor")}if(yt&&!rt){var _n=a.constructor,gi=d.constructor;_n!=gi&&"constructor"in a&&"constructor"in d&&!(typeof _n=="function"&&_n instanceof _n&&typeof gi=="function"&&gi instanceof gi)&&(yt=!1)}return j.delete(a),j.delete(d),yt}function Oo(a){return RO(IV(a,t,DV),a+"")}function xO(a){return T0(a,zr,SO)}function CO(a){return T0(a,Hn,gV)}var AO=Dy?function(a){return Dy.get(a)}:NO;function Ny(a){for(var d=a.name+"",m=Mu[d],x=Lt.call(Mu,d)?m.length:0;x--;){var S=m[x],j=S.func;if(j==null||j==a)return S.name}return d}function Nu(a){var d=Lt.call(D,"placeholder")?D:a;return d.placeholder}function $e(){var a=D.iteratee||VO;return a=a===VO?E0:a,arguments.length?a(arguments[0],arguments[1]):a}function Wy(a,d){var m=a.__data__;return Lbe(d)?m[typeof d=="string"?"string":"hash"]:m.map}function vO(a){for(var d=zr(a),m=d.length;m--;){var x=d[m],S=a[x];d[m]=[x,S,fV(S)]}return d}function Jl(a,d){var m=Nge(a,d);return w0(m)?m:t}function _be(a){var d=Lt.call(a,Kl),m=a[Kl];try{a[Kl]=t;var x=!0}catch{}var S=hy.call(a);return x&&(d?a[Kl]=m:delete a[Kl]),S}var SO=JS?function(a){return a==null?[]:(a=Ht(a),ka(JS(a),function(d){return h0.call(a,d)}))}:WO,gV=JS?function(a){for(var d=[];a;)wa(d,SO(a)),a=Ay(a);return d}:WO,yn=jn;(QS&&yn(new QS(new ArrayBuffer(1)))!=ho||sg&&yn(new sg)!=Ye||$S&&yn($S.resolve())!=Dn||Uu&&yn(new Uu)!=bn||og&&yn(new og)!=Pa)&&(yn=function(a){var d=jn(a),m=d==kt?a.constructor:t,x=m?Ql(m):"";if(x)switch(x){case gme:return ho;case mme:return Ye;case bme:return Dn;case fme:return bn;case yme:return Pa}return d});function Tbe(a,d,m){for(var x=-1,S=m.length;++x<S;){var j=m[x],w=j.size;switch(j.type){case"drop":a+=w;break;case"dropRight":d-=w;break;case"take":d=fn(d,a+w);break;case"takeRight":a=Wr(a,d-w);break}}return{start:a,end:d}}function kbe(a){var d=a.match(AS);return d?d[1].split(iy):[]}function mV(a,d,m){d=Ba(d,a);for(var x=-1,S=d.length,j=!1;++x<S;){var w=_s(d[x]);if(!(j=a!=null&&m(a,w)))break;a=a[w]}return j||++x!=S?j:(S=a==null?0:a.length,!!S&&Xy(S)&&Fo(w,S)&&(ut(a)||$l(a)))}function wbe(a){var d=a.length,m=new a.constructor(d);return d&&typeof a[0]=="string"&&Lt.call(a,"index")&&(m.index=a.index,m.input=a.input),m}function bV(a){return typeof a.constructor=="function"&&!bg(a)?Lu(Ay(a)):{}}function Ebe(a,d,m){var x=a.constructor;switch(d){case _a:return yO(a);case it:case mn:return new x(+a);case ho:return Ibe(a,m);case hu:case xu:case Cu:case Au:case vu:case Su:case Ou:case Fu:case Gl:return J0(a,m);case Ye:return new x;case Tt:case Io:return new x(a);case Ra:return hbe(a);case bn:return new x;case ja:return xbe(a)}}function Ube(a,d){var m=d.length;if(!m)return a;var x=m-1;return d[x]=(m>1?"& ":"")+d[x],d=d.join(m>2?", ":" "),a.replace(CS,`{
/* [wrapped with `+d+`] */
`)}function Mbe(a){return ut(a)||$l(a)||!!(x0&&a&&a[x0])}function Fo(a,d){var m=typeof a;return d=d??Z,!!d&&(m=="number"||m!="symbol"&&_S.test(a))&&a>-1&&a%1==0&&a<d}function Pn(a,d,m){if(!ur(m))return!1;var x=typeof d;return(x=="number"?Zn(m)&&Fo(d,m.length):x=="string"&&d in m)?as(m[d],a):!1}function OO(a,d){if(ut(a))return!1;var m=typeof a;return m=="number"||m=="symbol"||m=="boolean"||a==null||ci(a)?!0:yS.test(a)||!fS.test(a)||d!=null&&a in Ht(d)}function Lbe(a){var d=typeof a;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?a!=="__proto__":a===null}function FO(a){var d=Ny(a),m=D[d];if(typeof m!="function"||!(d in Ct.prototype))return!1;if(a===m)return!0;var x=AO(m);return!!x&&a===x[0]}function Vbe(a){return!!f0&&f0 in a}var Bbe=yy?Do:GO;function bg(a){var d=a&&a.constructor,m=typeof d=="function"&&d.prototype||Eu;return a===m}function fV(a){return a===a&&!ur(a)}function yV(a,d){return function(m){return m==null?!1:m[a]===d&&(d!==t||a in Ht(m))}}function Nbe(a){var d=qy(a,function(x){return m.size===u&&m.clear(),x}),m=d.cache;return d}function Wbe(a,d){var m=a[1],x=d[1],S=m|x,j=S<(C|F|ce),w=x==ce&&m==E||x==ce&&m==Q&&a[7].length<=d[8]||x==(ce|Q)&&d[7].length<=d[8]&&m==E;if(!(j||w))return a;x&C&&(a[2]=d[2],S|=m&C?0:P);var L=d[3];if(L){var H=a[3];a[3]=H?$0(H,L,d[4]):L,a[4]=H?Ea(a[3],c):d[4]}return L=d[5],L&&(H=a[5],a[5]=H?eV(H,L,d[6]):L,a[6]=H?Ea(a[5],c):d[6]),L=d[7],L&&(a[7]=L),x&ce&&(a[8]=a[8]==null?d[8]:fn(a[8],d[8])),a[9]==null&&(a[9]=d[9]),a[0]=d[0],a[1]=S,a}function Gbe(a){var d=[];if(a!=null)for(var m in Ht(a))d.push(m);return d}function Zbe(a){return hy.call(a)}function IV(a,d,m){return d=Wr(d===t?a.length-1:d,0),function(){for(var x=arguments,S=-1,j=Wr(x.length-d,0),w=te(j);++S<j;)w[S]=x[d+S];S=-1;for(var L=te(d+1);++S<d;)L[S]=x[S];return L[d]=m(w),li(a,this,L)}}function hV(a,d){return d.length<2?a:zl(a,ki(d,0,-1))}function Hbe(a,d){for(var m=a.length,x=fn(d.length,m),S=Gn(a);x--;){var j=d[x];a[x]=Fo(j,m)?S[j]:t}return a}function DO(a,d){if(!(d==="constructor"&&typeof a[d]=="function")&&d!="__proto__")return a[d]}var xV=AV(G0),fg=ome||function(a,d){return Xr.setTimeout(a,d)},RO=AV(mbe);function CV(a,d,m){var x=d+"";return RO(a,Ube(x,Kbe(kbe(x),m)))}function AV(a){var d=0,m=0;return function(){var x=ume(),S=N-(x-m);if(m=x,S>0){if(++d>=fe)return arguments[0]}else d=0;return a.apply(t,arguments)}}function Gy(a,d){var m=-1,x=a.length,S=x-1;for(d=d===t?x:d;++m<d;){var j=uO(m,S),w=a[j];a[j]=a[m],a[m]=w}return a.length=d,a}var vV=Nbe(function(a){var d=[];return a.charCodeAt(0)===46&&d.push(""),a.replace(IS,function(m,x,S,j){d.push(S?j.replace(OS,"$1"):x||m)}),d});function _s(a){if(typeof a=="string"||ci(a))return a;var d=a+"";return d=="0"&&1/a==-W?"-0":d}function Ql(a){if(a!=null){try{return Iy.call(a)}catch{}try{return a+""}catch{}}return""}function Kbe(a,d){return ji(Jt,function(m){var x="_."+m[0];d&m[1]&&!gy(a,x)&&a.push(x)}),a.sort()}function SV(a){if(a instanceof Ct)return a.clone();var d=new _i(a.__wrapped__,a.__chain__);return d.__actions__=Gn(a.__actions__),d.__index__=a.__index__,d.__values__=a.__values__,d}function qbe(a,d,m){(m?Pn(a,d,m):d===t)?d=1:d=Wr(ft(d),0);var x=a==null?0:a.length;if(!x||d<1)return[];for(var S=0,j=0,w=te(Oy(x/d));S<x;)w[j++]=ki(a,S,S+=d);return w}function Ybe(a){for(var d=-1,m=a==null?0:a.length,x=0,S=[];++d<m;){var j=a[d];j&&(S[x++]=j)}return S}function Xbe(){var a=arguments.length;if(!a)return[];for(var d=te(a-1),m=arguments[0],x=a;x--;)d[x-1]=arguments[x];return wa(ut(m)?Gn(m):[m],nn(d,1))}var zbe=It(function(a,d){return Dr(a)?ug(a,nn(d,1,Dr,!0)):[]}),Jbe=It(function(a,d){var m=wi(d);return Dr(m)&&(m=t),Dr(a)?ug(a,nn(d,1,Dr,!0),$e(m,2)):[]}),Qbe=It(function(a,d){var m=wi(d);return Dr(m)&&(m=t),Dr(a)?ug(a,nn(d,1,Dr,!0),t,m):[]});function $be(a,d,m){var x=a==null?0:a.length;return x?(d=m||d===t?1:ft(d),ki(a,d<0?0:d,x)):[]}function efe(a,d,m){var x=a==null?0:a.length;return x?(d=m||d===t?1:ft(d),d=x-d,ki(a,0,d<0?0:d)):[]}function tfe(a,d){return a&&a.length?Ey(a,$e(d,3),!0,!0):[]}function rfe(a,d){return a&&a.length?Ey(a,$e(d,3),!0):[]}function nfe(a,d,m,x){var S=a==null?0:a.length;return S?(m&&typeof m!="number"&&Pn(a,d,m)&&(m=0,x=S),Xme(a,d,m,x)):[]}function OV(a,d,m){var x=a==null?0:a.length;if(!x)return-1;var S=m==null?0:ft(m);return S<0&&(S=Wr(x+S,0)),my(a,$e(d,3),S)}function FV(a,d,m){var x=a==null?0:a.length;if(!x)return-1;var S=x-1;return m!==t&&(S=ft(m),S=m<0?Wr(x+S,0):fn(S,x-1)),my(a,$e(d,3),S,!0)}function DV(a){var d=a==null?0:a.length;return d?nn(a,1):[]}function ife(a){var d=a==null?0:a.length;return d?nn(a,W):[]}function sfe(a,d){var m=a==null?0:a.length;return m?(d=d===t?1:ft(d),nn(a,d)):[]}function ofe(a){for(var d=-1,m=a==null?0:a.length,x={};++d<m;){var S=a[d];x[S[0]]=S[1]}return x}function RV(a){return a&&a.length?a[0]:t}function afe(a,d,m){var x=a==null?0:a.length;if(!x)return-1;var S=m==null?0:ft(m);return S<0&&(S=Wr(x+S,0)),Tu(a,d,S)}function lfe(a){var d=a==null?0:a.length;return d?ki(a,0,-1):[]}var dfe=It(function(a){var d=rr(a,bO);return d.length&&d[0]===a[0]?sO(d):[]}),ufe=It(function(a){var d=wi(a),m=rr(a,bO);return d===wi(m)?d=t:m.pop(),m.length&&m[0]===a[0]?sO(m,$e(d,2)):[]}),cfe=It(function(a){var d=wi(a),m=rr(a,bO);return d=typeof d=="function"?d:t,d&&m.pop(),m.length&&m[0]===a[0]?sO(m,t,d):[]});function pfe(a,d){return a==null?"":lme.call(a,d)}function wi(a){var d=a==null?0:a.length;return d?a[d-1]:t}function gfe(a,d,m){var x=a==null?0:a.length;if(!x)return-1;var S=x;return m!==t&&(S=ft(m),S=S<0?Wr(x+S,0):fn(S,x-1)),d===d?Kge(a,d,S):my(a,l0,S,!0)}function mfe(a,d){return a&&a.length?V0(a,ft(d)):t}var bfe=It(jV);function jV(a,d){return a&&a.length&&d&&d.length?dO(a,d):a}function ffe(a,d,m){return a&&a.length&&d&&d.length?dO(a,d,$e(m,2)):a}function yfe(a,d,m){return a&&a.length&&d&&d.length?dO(a,d,t,m):a}var Ife=Oo(function(a,d){var m=a==null?0:a.length,x=tO(a,d);return W0(a,rr(d,function(S){return Fo(S,m)?+S:S}).sort(Q0)),x});function hfe(a,d){var m=[];if(!(a&&a.length))return m;var x=-1,S=[],j=a.length;for(d=$e(d,3);++x<j;){var w=a[x];d(w,x,a)&&(m.push(w),S.push(x))}return W0(a,S),m}function jO(a){return a==null?a:pme.call(a)}function xfe(a,d,m){var x=a==null?0:a.length;return x?(m&&typeof m!="number"&&Pn(a,d,m)?(d=0,m=x):(d=d==null?0:ft(d),m=m===t?x:ft(m)),ki(a,d,m)):[]}function Cfe(a,d){return wy(a,d)}function Afe(a,d,m){return pO(a,d,$e(m,2))}function vfe(a,d){var m=a==null?0:a.length;if(m){var x=wy(a,d);if(x<m&&as(a[x],d))return x}return-1}function Sfe(a,d){return wy(a,d,!0)}function Ofe(a,d,m){return pO(a,d,$e(m,2),!0)}function Ffe(a,d){var m=a==null?0:a.length;if(m){var x=wy(a,d,!0)-1;if(as(a[x],d))return x}return-1}function Dfe(a){return a&&a.length?Z0(a):[]}function Rfe(a,d){return a&&a.length?Z0(a,$e(d,2)):[]}function jfe(a){var d=a==null?0:a.length;return d?ki(a,1,d):[]}function Pfe(a,d,m){return a&&a.length?(d=m||d===t?1:ft(d),ki(a,0,d<0?0:d)):[]}function _fe(a,d,m){var x=a==null?0:a.length;return x?(d=m||d===t?1:ft(d),d=x-d,ki(a,d<0?0:d,x)):[]}function Tfe(a,d){return a&&a.length?Ey(a,$e(d,3),!1,!0):[]}function kfe(a,d){return a&&a.length?Ey(a,$e(d,3)):[]}var wfe=It(function(a){return Va(nn(a,1,Dr,!0))}),Efe=It(function(a){var d=wi(a);return Dr(d)&&(d=t),Va(nn(a,1,Dr,!0),$e(d,2))}),Ufe=It(function(a){var d=wi(a);return d=typeof d=="function"?d:t,Va(nn(a,1,Dr,!0),t,d)});function Mfe(a){return a&&a.length?Va(a):[]}function Lfe(a,d){return a&&a.length?Va(a,$e(d,2)):[]}function Vfe(a,d){return d=typeof d=="function"?d:t,a&&a.length?Va(a,t,d):[]}function PO(a){if(!(a&&a.length))return[];var d=0;return a=ka(a,function(m){if(Dr(m))return d=Wr(m.length,d),!0}),qS(d,function(m){return rr(a,ZS(m))})}function PV(a,d){if(!(a&&a.length))return[];var m=PO(a);return d==null?m:rr(m,function(x){return li(d,t,x)})}var Bfe=It(function(a,d){return Dr(a)?ug(a,d):[]}),Nfe=It(function(a){return mO(ka(a,Dr))}),Wfe=It(function(a){var d=wi(a);return Dr(d)&&(d=t),mO(ka(a,Dr),$e(d,2))}),Gfe=It(function(a){var d=wi(a);return d=typeof d=="function"?d:t,mO(ka(a,Dr),t,d)}),Zfe=It(PO);function Hfe(a,d){return Y0(a||[],d||[],dg)}function Kfe(a,d){return Y0(a||[],d||[],gg)}var qfe=It(function(a){var d=a.length,m=d>1?a[d-1]:t;return m=typeof m=="function"?(a.pop(),m):t,PV(a,m)});function _V(a){var d=D(a);return d.__chain__=!0,d}function Yfe(a,d){return d(a),a}function Zy(a,d){return d(a)}var Xfe=Oo(function(a){var d=a.length,m=d?a[0]:0,x=this.__wrapped__,S=function(j){return tO(j,a)};return d>1||this.__actions__.length||!(x instanceof Ct)||!Fo(m)?this.thru(S):(x=x.slice(m,+m+(d?1:0)),x.__actions__.push({func:Zy,args:[S],thisArg:t}),new _i(x,this.__chain__).thru(function(j){return d&&!j.length&&j.push(t),j}))});function zfe(){return _V(this)}function Jfe(){return new _i(this.value(),this.__chain__)}function Qfe(){this.__values__===t&&(this.__values__=HV(this.value()));var a=this.__index__>=this.__values__.length,d=a?t:this.__values__[this.__index__++];return{done:a,value:d}}function $fe(){return this}function eye(a){for(var d,m=this;m instanceof jy;){var x=SV(m);x.__index__=0,x.__values__=t,d?S.__wrapped__=x:d=x;var S=x;m=m.__wrapped__}return S.__wrapped__=a,d}function tye(){var a=this.__wrapped__;if(a instanceof Ct){var d=a;return this.__actions__.length&&(d=new Ct(this)),d=d.reverse(),d.__actions__.push({func:Zy,args:[jO],thisArg:t}),new _i(d,this.__chain__)}return this.thru(jO)}function rye(){return q0(this.__wrapped__,this.__actions__)}var nye=Uy(function(a,d,m){Lt.call(a,m)?++a[m]:vo(a,m,1)});function iye(a,d,m){var x=ut(a)?o0:Yme;return m&&Pn(a,d,m)&&(d=t),x(a,$e(d,3))}function sye(a,d){var m=ut(a)?ka:P0;return m(a,$e(d,3))}var oye=iV(OV),aye=iV(FV);function lye(a,d){return nn(Hy(a,d),1)}function dye(a,d){return nn(Hy(a,d),W)}function uye(a,d,m){return m=m===t?1:ft(m),nn(Hy(a,d),m)}function TV(a,d){var m=ut(a)?ji:La;return m(a,$e(d,3))}function kV(a,d){var m=ut(a)?jge:j0;return m(a,$e(d,3))}var cye=Uy(function(a,d,m){Lt.call(a,m)?a[m].push(d):vo(a,m,[d])});function pye(a,d,m,x){a=Zn(a)?a:Gu(a),m=m&&!x?ft(m):0;var S=a.length;return m<0&&(m=Wr(S+m,0)),zy(a)?m<=S&&a.indexOf(d,m)>-1:!!S&&Tu(a,d,m)>-1}var gye=It(function(a,d,m){var x=-1,S=typeof d=="function",j=Zn(a)?te(a.length):[];return La(a,function(w){j[++x]=S?li(d,w,m):cg(w,d,m)}),j}),mye=Uy(function(a,d,m){vo(a,m,d)});function Hy(a,d){var m=ut(a)?rr:U0;return m(a,$e(d,3))}function bye(a,d,m,x){return a==null?[]:(ut(d)||(d=d==null?[]:[d]),m=x?t:m,ut(m)||(m=m==null?[]:[m]),B0(a,d,m))}var fye=Uy(function(a,d,m){a[m?0:1].push(d)},function(){return[[],[]]});function yye(a,d,m){var x=ut(a)?WS:u0,S=arguments.length<3;return x(a,$e(d,4),m,S,La)}function Iye(a,d,m){var x=ut(a)?Pge:u0,S=arguments.length<3;return x(a,$e(d,4),m,S,j0)}function hye(a,d){var m=ut(a)?ka:P0;return m(a,Yy($e(d,3)))}function xye(a){var d=ut(a)?O0:pbe;return d(a)}function Cye(a,d,m){(m?Pn(a,d,m):d===t)?d=1:d=ft(d);var x=ut(a)?Gme:gbe;return x(a,d)}function Aye(a){var d=ut(a)?Zme:bbe;return d(a)}function vye(a){if(a==null)return 0;if(Zn(a))return zy(a)?wu(a):a.length;var d=yn(a);return d==Ye||d==bn?a.size:aO(a).length}function Sye(a,d,m){var x=ut(a)?GS:fbe;return m&&Pn(a,d,m)&&(d=t),x(a,$e(d,3))}var Oye=It(function(a,d){if(a==null)return[];var m=d.length;return m>1&&Pn(a,d[0],d[1])?d=[]:m>2&&Pn(d[0],d[1],d[2])&&(d=[d[0]]),B0(a,nn(d,1),[])}),Ky=sme||function(){return Xr.Date.now()};function Fye(a,d){if(typeof d!="function")throw new Pi(o);return a=ft(a),function(){if(--a<1)return d.apply(this,arguments)}}function wV(a,d,m){return d=m?t:d,d=a&&d==null?a.length:d,So(a,ce,t,t,t,t,d)}function EV(a,d){var m;if(typeof d!="function")throw new Pi(o);return a=ft(a),function(){return--a>0&&(m=d.apply(this,arguments)),a<=1&&(d=t),m}}var _O=It(function(a,d,m){var x=C;if(m.length){var S=Ea(m,Nu(_O));x|=k}return So(a,x,d,m,S)}),UV=It(function(a,d,m){var x=C|F;if(m.length){var S=Ea(m,Nu(UV));x|=k}return So(d,x,a,m,S)});function MV(a,d,m){d=m?t:d;var x=So(a,E,t,t,t,t,t,d);return x.placeholder=MV.placeholder,x}function LV(a,d,m){d=m?t:d;var x=So(a,J,t,t,t,t,t,d);return x.placeholder=LV.placeholder,x}function VV(a,d,m){var x,S,j,w,L,H,de=0,ue=!1,ye=!1,Pe=!0;if(typeof a!="function")throw new Pi(o);d=Ei(d)||0,ur(m)&&(ue=!!m.leading,ye="maxWait"in m,j=ye?Wr(Ei(m.maxWait)||0,d):j,Pe="trailing"in m?!!m.trailing:Pe);function Ve(Rr){var ls=x,jo=S;return x=S=t,de=Rr,w=a.apply(jo,ls),w}function tt(Rr){return de=Rr,L=fg(xt,d),ue?Ve(Rr):w}function yt(Rr){var ls=Rr-H,jo=Rr-de,iB=d-ls;return ye?fn(iB,j-jo):iB}function rt(Rr){var ls=Rr-H,jo=Rr-de;return H===t||ls>=d||ls<0||ye&&jo>=j}function xt(){var Rr=Ky();if(rt(Rr))return At(Rr);L=fg(xt,yt(Rr))}function At(Rr){return L=t,Pe&&x?Ve(Rr):(x=S=t,w)}function pi(){L!==t&&X0(L),de=0,x=H=S=L=t}function _n(){return L===t?w:At(Ky())}function gi(){var Rr=Ky(),ls=rt(Rr);if(x=arguments,S=this,H=Rr,ls){if(L===t)return tt(H);if(ye)return X0(L),L=fg(xt,d),Ve(H)}return L===t&&(L=fg(xt,d)),w}return gi.cancel=pi,gi.flush=_n,gi}var Dye=It(function(a,d){return R0(a,1,d)}),Rye=It(function(a,d,m){return R0(a,Ei(d)||0,m)});function jye(a){return So(a,he)}function qy(a,d){if(typeof a!="function"||d!=null&&typeof d!="function")throw new Pi(o);var m=function(){var x=arguments,S=d?d.apply(this,x):x[0],j=m.cache;if(j.has(S))return j.get(S);var w=a.apply(this,x);return m.cache=j.set(S,w)||j,w};return m.cache=new(qy.Cache||Ao),m}qy.Cache=Ao;function Yy(a){if(typeof a!="function")throw new Pi(o);return function(){var d=arguments;switch(d.length){case 0:return!a.call(this);case 1:return!a.call(this,d[0]);case 2:return!a.call(this,d[0],d[1]);case 3:return!a.call(this,d[0],d[1],d[2])}return!a.apply(this,d)}}function Pye(a){return EV(2,a)}var _ye=ybe(function(a,d){d=d.length==1&&ut(d[0])?rr(d[0],di($e())):rr(nn(d,1),di($e()));var m=d.length;return It(function(x){for(var S=-1,j=fn(x.length,m);++S<j;)x[S]=d[S].call(this,x[S]);return li(a,this,x)})}),TO=It(function(a,d){var m=Ea(d,Nu(TO));return So(a,k,t,d,m)}),BV=It(function(a,d){var m=Ea(d,Nu(BV));return So(a,ee,t,d,m)}),Tye=Oo(function(a,d){return So(a,Q,t,t,t,d)});function kye(a,d){if(typeof a!="function")throw new Pi(o);return d=d===t?d:ft(d),It(a,d)}function wye(a,d){if(typeof a!="function")throw new Pi(o);return d=d==null?0:Wr(ft(d),0),It(function(m){var x=m[d],S=Na(m,0,d);return x&&wa(S,x),li(a,this,S)})}function Eye(a,d,m){var x=!0,S=!0;if(typeof a!="function")throw new Pi(o);return ur(m)&&(x="leading"in m?!!m.leading:x,S="trailing"in m?!!m.trailing:S),VV(a,d,{leading:x,maxWait:d,trailing:S})}function Uye(a){return wV(a,1)}function Mye(a,d){return TO(fO(d),a)}function Lye(){if(!arguments.length)return[];var a=arguments[0];return ut(a)?a:[a]}function Vye(a){return Ti(a,f)}function Bye(a,d){return d=typeof d=="function"?d:t,Ti(a,f,d)}function Nye(a){return Ti(a,g|f)}function Wye(a,d){return d=typeof d=="function"?d:t,Ti(a,g|f,d)}function Gye(a,d){return d==null||D0(a,d,zr(d))}function as(a,d){return a===d||a!==a&&d!==d}var Zye=By(iO),Hye=By(function(a,d){return a>=d}),$l=k0(function(){return arguments}())?k0:function(a){return hr(a)&&Lt.call(a,"callee")&&!h0.call(a,"callee")},ut=te.isArray,Kye=e0?di(e0):ebe;function Zn(a){return a!=null&&Xy(a.length)&&!Do(a)}function Dr(a){return hr(a)&&Zn(a)}function qye(a){return a===!0||a===!1||hr(a)&&jn(a)==it}var Wa=ame||GO,Yye=t0?di(t0):tbe;function Xye(a){return hr(a)&&a.nodeType===1&&!yg(a)}function zye(a){if(a==null)return!0;if(Zn(a)&&(ut(a)||typeof a=="string"||typeof a.splice=="function"||Wa(a)||Wu(a)||$l(a)))return!a.length;var d=yn(a);if(d==Ye||d==bn)return!a.size;if(bg(a))return!aO(a).length;for(var m in a)if(Lt.call(a,m))return!1;return!0}function Jye(a,d){return pg(a,d)}function Qye(a,d,m){m=typeof m=="function"?m:t;var x=m?m(a,d):t;return x===t?pg(a,d,t,m):!!x}function kO(a){if(!hr(a))return!1;var d=jn(a);return d==je||d==Fr||typeof a.message=="string"&&typeof a.name=="string"&&!yg(a)}function $ye(a){return typeof a=="number"&&C0(a)}function Do(a){if(!ur(a))return!1;var d=jn(a);return d==Ft||d==Oe||d==ar||d==Da}function NV(a){return typeof a=="number"&&a==ft(a)}function Xy(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=Z}function ur(a){var d=typeof a;return a!=null&&(d=="object"||d=="function")}function hr(a){return a!=null&&typeof a=="object"}var WV=r0?di(r0):nbe;function eIe(a,d){return a===d||oO(a,d,vO(d))}function tIe(a,d,m){return m=typeof m=="function"?m:t,oO(a,d,vO(d),m)}function rIe(a){return GV(a)&&a!=+a}function nIe(a){if(Bbe(a))throw new dt(i);return w0(a)}function iIe(a){return a===null}function sIe(a){return a==null}function GV(a){return typeof a=="number"||hr(a)&&jn(a)==Tt}function yg(a){if(!hr(a)||jn(a)!=kt)return!1;var d=Ay(a);if(d===null)return!0;var m=Lt.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&Iy.call(m)==tme}var wO=n0?di(n0):ibe;function oIe(a){return NV(a)&&a>=-Z&&a<=Z}var ZV=i0?di(i0):sbe;function zy(a){return typeof a=="string"||!ut(a)&&hr(a)&&jn(a)==Io}function ci(a){return typeof a=="symbol"||hr(a)&&jn(a)==ja}var Wu=s0?di(s0):obe;function aIe(a){return a===t}function lIe(a){return hr(a)&&yn(a)==Pa}function dIe(a){return hr(a)&&jn(a)==ey}var uIe=By(lO),cIe=By(function(a,d){return a<=d});function HV(a){if(!a)return[];if(Zn(a))return zy(a)?ss(a):Gn(a);if(ig&&a[ig])return Gge(a[ig]());var d=yn(a),m=d==Ye?XS:d==bn?by:Gu;return m(a)}function Ro(a){if(!a)return a===0?a:0;if(a=Ei(a),a===W||a===-W){var d=a<0?-1:1;return d*ae}return a===a?a:0}function ft(a){var d=Ro(a),m=d%1;return d===d?m?d-m:d:0}function KV(a){return a?Xl(ft(a),0,Ae):0}function Ei(a){if(typeof a=="number")return a;if(ci(a))return se;if(ur(a)){var d=typeof a.valueOf=="function"?a.valueOf():a;a=ur(d)?d+"":d}if(typeof a!="string")return a===0?a:+a;a=c0(a);var m=RS.test(a);return m||PS.test(a)?Fge(a.slice(2),m?2:8):DS.test(a)?se:+a}function qV(a){return Ps(a,Hn(a))}function pIe(a){return a?Xl(ft(a),-Z,Z):a===0?a:0}function Ut(a){return a==null?"":ui(a)}var gIe=Vu(function(a,d){if(bg(d)||Zn(d)){Ps(d,zr(d),a);return}for(var m in d)Lt.call(d,m)&&dg(a,m,d[m])}),YV=Vu(function(a,d){Ps(d,Hn(d),a)}),Jy=Vu(function(a,d,m,x){Ps(d,Hn(d),a,x)}),mIe=Vu(function(a,d,m,x){Ps(d,zr(d),a,x)}),bIe=Oo(tO);function fIe(a,d){var m=Lu(a);return d==null?m:F0(m,d)}var yIe=It(function(a,d){a=Ht(a);var m=-1,x=d.length,S=x>2?d[2]:t;for(S&&Pn(d[0],d[1],S)&&(x=1);++m<x;)for(var j=d[m],w=Hn(j),L=-1,H=w.length;++L<H;){var de=w[L],ue=a[de];(ue===t||as(ue,Eu[de])&&!Lt.call(a,de))&&(a[de]=j[de])}return a}),IIe=It(function(a){return a.push(t,cV),li(XV,t,a)});function hIe(a,d){return a0(a,$e(d,3),js)}function xIe(a,d){return a0(a,$e(d,3),nO)}function CIe(a,d){return a==null?a:rO(a,$e(d,3),Hn)}function AIe(a,d){return a==null?a:_0(a,$e(d,3),Hn)}function vIe(a,d){return a&&js(a,$e(d,3))}function SIe(a,d){return a&&nO(a,$e(d,3))}function OIe(a){return a==null?[]:Ty(a,zr(a))}function FIe(a){return a==null?[]:Ty(a,Hn(a))}function EO(a,d,m){var x=a==null?t:zl(a,d);return x===t?m:x}function DIe(a,d){return a!=null&&mV(a,d,zme)}function UO(a,d){return a!=null&&mV(a,d,Jme)}var RIe=oV(function(a,d,m){d!=null&&typeof d.toString!="function"&&(d=hy.call(d)),a[d]=m},LO(Kn)),jIe=oV(function(a,d,m){d!=null&&typeof d.toString!="function"&&(d=hy.call(d)),Lt.call(a,d)?a[d].push(m):a[d]=[m]},$e),PIe=It(cg);function zr(a){return Zn(a)?S0(a):aO(a)}function Hn(a){return Zn(a)?S0(a,!0):abe(a)}function _Ie(a,d){var m={};return d=$e(d,3),js(a,function(x,S,j){vo(m,d(x,S,j),x)}),m}function TIe(a,d){var m={};return d=$e(d,3),js(a,function(x,S,j){vo(m,S,d(x,S,j))}),m}var kIe=Vu(function(a,d,m){ky(a,d,m)}),XV=Vu(function(a,d,m,x){ky(a,d,m,x)}),wIe=Oo(function(a,d){var m={};if(a==null)return m;var x=!1;d=rr(d,function(j){return j=Ba(j,a),x||(x=j.length>1),j}),Ps(a,CO(a),m),x&&(m=Ti(m,g|p|f,Rbe));for(var S=d.length;S--;)gO(m,d[S]);return m});function EIe(a,d){return zV(a,Yy($e(d)))}var UIe=Oo(function(a,d){return a==null?{}:dbe(a,d)});function zV(a,d){if(a==null)return{};var m=rr(CO(a),function(x){return[x]});return d=$e(d),N0(a,m,function(x,S){return d(x,S[0])})}function MIe(a,d,m){d=Ba(d,a);var x=-1,S=d.length;for(S||(S=1,a=t);++x<S;){var j=a==null?t:a[_s(d[x])];j===t&&(x=S,j=m),a=Do(j)?j.call(a):j}return a}function LIe(a,d,m){return a==null?a:gg(a,d,m)}function VIe(a,d,m,x){return x=typeof x=="function"?x:t,a==null?a:gg(a,d,m,x)}var JV=dV(zr),QV=dV(Hn);function BIe(a,d,m){var x=ut(a),S=x||Wa(a)||Wu(a);if(d=$e(d,4),m==null){var j=a&&a.constructor;S?m=x?new j:[]:ur(a)?m=Do(j)?Lu(Ay(a)):{}:m={}}return(S?ji:js)(a,function(w,L,H){return d(m,w,L,H)}),m}function NIe(a,d){return a==null?!0:gO(a,d)}function WIe(a,d,m){return a==null?a:K0(a,d,fO(m))}function GIe(a,d,m,x){return x=typeof x=="function"?x:t,a==null?a:K0(a,d,fO(m),x)}function Gu(a){return a==null?[]:YS(a,zr(a))}function ZIe(a){return a==null?[]:YS(a,Hn(a))}function HIe(a,d,m){return m===t&&(m=d,d=t),m!==t&&(m=Ei(m),m=m===m?m:0),d!==t&&(d=Ei(d),d=d===d?d:0),Xl(Ei(a),d,m)}function KIe(a,d,m){return d=Ro(d),m===t?(m=d,d=0):m=Ro(m),a=Ei(a),Qme(a,d,m)}function qIe(a,d,m){if(m&&typeof m!="boolean"&&Pn(a,d,m)&&(d=m=t),m===t&&(typeof d=="boolean"?(m=d,d=t):typeof a=="boolean"&&(m=a,a=t)),a===t&&d===t?(a=0,d=1):(a=Ro(a),d===t?(d=a,a=0):d=Ro(d)),a>d){var x=a;a=d,d=x}if(m||a%1||d%1){var S=A0();return fn(a+S*(d-a+Oge("1e-"+((S+"").length-1))),d)}return uO(a,d)}var YIe=Bu(function(a,d,m){return d=d.toLowerCase(),a+(m?$V(d):d)});function $V(a){return MO(Ut(a).toLowerCase())}function eB(a){return a=Ut(a),a&&a.replace(TS,Lge).replace(bge,"")}function XIe(a,d,m){a=Ut(a),d=ui(d);var x=a.length;m=m===t?x:Xl(ft(m),0,x);var S=m;return m-=d.length,m>=0&&a.slice(m,S)==d}function zIe(a){return a=Ut(a),a&&mS.test(a)?a.replace(ty,Vge):a}function JIe(a){return a=Ut(a),a&&hS.test(a)?a.replace(Qp,"\\$&"):a}var QIe=Bu(function(a,d,m){return a+(m?"-":"")+d.toLowerCase()}),$Ie=Bu(function(a,d,m){return a+(m?" ":"")+d.toLowerCase()}),ehe=nV("toLowerCase");function the(a,d,m){a=Ut(a),d=ft(d);var x=d?wu(a):0;if(!d||x>=d)return a;var S=(d-x)/2;return Vy(Fy(S),m)+a+Vy(Oy(S),m)}function rhe(a,d,m){a=Ut(a),d=ft(d);var x=d?wu(a):0;return d&&x<d?a+Vy(d-x,m):a}function nhe(a,d,m){a=Ut(a),d=ft(d);var x=d?wu(a):0;return d&&x<d?Vy(d-x,m)+a:a}function ihe(a,d,m){return m||d==null?d=0:d&&(d=+d),cme(Ut(a).replace($p,""),d||0)}function she(a,d,m){return(m?Pn(a,d,m):d===t)?d=1:d=ft(d),cO(Ut(a),d)}function ohe(){var a=arguments,d=Ut(a[0]);return a.length<3?d:d.replace(a[1],a[2])}var ahe=Bu(function(a,d,m){return a+(m?"_":"")+d.toLowerCase()});function lhe(a,d,m){return m&&typeof m!="number"&&Pn(a,d,m)&&(d=m=t),m=m===t?Ae:m>>>0,m?(a=Ut(a),a&&(typeof d=="string"||d!=null&&!wO(d))&&(d=ui(d),!d&&ku(a))?Na(ss(a),0,m):a.split(d,m)):[]}var dhe=Bu(function(a,d,m){return a+(m?" ":"")+MO(d)});function uhe(a,d,m){return a=Ut(a),m=m==null?0:Xl(ft(m),0,a.length),d=ui(d),a.slice(m,m+d.length)==d}function che(a,d,m){var x=D.templateSettings;m&&Pn(a,d,m)&&(d=t),a=Ut(a),d=Jy({},d,x,uV);var S=Jy({},d.imports,x.imports,uV),j=zr(S),w=YS(S,j),L,H,de=0,ue=d.interpolate||Du,ye="__p += '",Pe=zS((d.escape||Du).source+"|"+ue.source+"|"+(ue===ny?FS:Du).source+"|"+(d.evaluate||Du).source+"|$","g"),Ve="//# sourceURL="+(Lt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xge+"]")+`
`;a.replace(Pe,function(rt,xt,At,pi,_n,gi){return At||(At=pi),ye+=a.slice(de,gi).replace(kS,Bge),xt&&(L=!0,ye+=`' +
__e(`+xt+`) +
'`),_n&&(H=!0,ye+=`';
`+_n+`;
__p += '`),At&&(ye+=`' +
((__t = (`+At+`)) == null ? '' : __t) +
'`),de=gi+rt.length,rt}),ye+=`';
`;var tt=Lt.call(d,"variable")&&d.variable;if(!tt)ye=`with (obj) {
`+ye+`
}
`;else if(SS.test(tt))throw new dt(s);ye=(H?ye.replace(pS,""):ye).replace(gS,"$1").replace(zp,"$1;"),ye="function("+(tt||"obj")+`) {
`+(tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var yt=rB(function(){return wt(j,Ve+"return "+ye).apply(t,w)});if(yt.source=ye,kO(yt))throw yt;return yt}function phe(a){return Ut(a).toLowerCase()}function ghe(a){return Ut(a).toUpperCase()}function mhe(a,d,m){if(a=Ut(a),a&&(m||d===t))return c0(a);if(!a||!(d=ui(d)))return a;var x=ss(a),S=ss(d),j=p0(x,S),w=g0(x,S)+1;return Na(x,j,w).join("")}function bhe(a,d,m){if(a=Ut(a),a&&(m||d===t))return a.slice(0,b0(a)+1);if(!a||!(d=ui(d)))return a;var x=ss(a),S=g0(x,ss(d))+1;return Na(x,0,S).join("")}function fhe(a,d,m){if(a=Ut(a),a&&(m||d===t))return a.replace($p,"");if(!a||!(d=ui(d)))return a;var x=ss(a),S=p0(x,ss(d));return Na(x,S).join("")}function yhe(a,d){var m=me,x=z;if(ur(d)){var S="separator"in d?d.separator:S;m="length"in d?ft(d.length):m,x="omission"in d?ui(d.omission):x}a=Ut(a);var j=a.length;if(ku(a)){var w=ss(a);j=w.length}if(m>=j)return a;var L=m-wu(x);if(L<1)return x;var H=w?Na(w,0,L).join(""):a.slice(0,L);if(S===t)return H+x;if(w&&(L+=H.length-L),wO(S)){if(a.slice(L).search(S)){var de,ue=H;for(S.global||(S=zS(S.source,Ut(sy.exec(S))+"g")),S.lastIndex=0;de=S.exec(ue);)var ye=de.index;H=H.slice(0,ye===t?L:ye)}}else if(a.indexOf(ui(S),L)!=L){var Pe=H.lastIndexOf(S);Pe>-1&&(H=H.slice(0,Pe))}return H+x}function Ihe(a){return a=Ut(a),a&&Rs.test(a)?a.replace(Jp,qge):a}var hhe=Bu(function(a,d,m){return a+(m?" ":"")+d.toUpperCase()}),MO=nV("toUpperCase");function tB(a,d,m){return a=Ut(a),d=m?t:d,d===t?Wge(a)?zge(a):kge(a):a.match(d)||[]}var rB=It(function(a,d){try{return li(a,t,d)}catch(m){return kO(m)?m:new dt(m)}}),xhe=Oo(function(a,d){return ji(d,function(m){m=_s(m),vo(a,m,_O(a[m],a))}),a});function Che(a){var d=a==null?0:a.length,m=$e();return a=d?rr(a,function(x){if(typeof x[1]!="function")throw new Pi(o);return[m(x[0]),x[1]]}):[],It(function(x){for(var S=-1;++S<d;){var j=a[S];if(li(j[0],this,x))return li(j[1],this,x)}})}function Ahe(a){return qme(Ti(a,g))}function LO(a){return function(){return a}}function vhe(a,d){return a==null||a!==a?d:a}var She=sV(),Ohe=sV(!0);function Kn(a){return a}function VO(a){return E0(typeof a=="function"?a:Ti(a,g))}function Fhe(a){return M0(Ti(a,g))}function Dhe(a,d){return L0(a,Ti(d,g))}var Rhe=It(function(a,d){return function(m){return cg(m,a,d)}}),jhe=It(function(a,d){return function(m){return cg(a,m,d)}});function BO(a,d,m){var x=zr(d),S=Ty(d,x);m==null&&!(ur(d)&&(S.length||!x.length))&&(m=d,d=a,a=this,S=Ty(d,zr(d)));var j=!(ur(m)&&"chain"in m)||!!m.chain,w=Do(a);return ji(S,function(L){var H=d[L];a[L]=H,w&&(a.prototype[L]=function(){var de=this.__chain__;if(j||de){var ue=a(this.__wrapped__),ye=ue.__actions__=Gn(this.__actions__);return ye.push({func:H,args:arguments,thisArg:a}),ue.__chain__=de,ue}return H.apply(a,wa([this.value()],arguments))})}),a}function Phe(){return Xr._===this&&(Xr._=rme),this}function NO(){}function _he(a){return a=ft(a),It(function(d){return V0(d,a)})}var The=IO(rr),khe=IO(o0),whe=IO(GS);function nB(a){return OO(a)?ZS(_s(a)):ube(a)}function Ehe(a){return function(d){return a==null?t:zl(a,d)}}var Uhe=aV(),Mhe=aV(!0);function WO(){return[]}function GO(){return!1}function Lhe(){return{}}function Vhe(){return""}function Bhe(){return!0}function Nhe(a,d){if(a=ft(a),a<1||a>Z)return[];var m=Ae,x=fn(a,Ae);d=$e(d),a-=Ae;for(var S=qS(x,d);++m<a;)d(m);return S}function Whe(a){return ut(a)?rr(a,_s):ci(a)?[a]:Gn(vV(Ut(a)))}function Ghe(a){var d=++eme;return Ut(a)+d}var Zhe=Ly(function(a,d){return a+d},0),Hhe=hO("ceil"),Khe=Ly(function(a,d){return a/d},1),qhe=hO("floor");function Yhe(a){return a&&a.length?_y(a,Kn,iO):t}function Xhe(a,d){return a&&a.length?_y(a,$e(d,2),iO):t}function zhe(a){return d0(a,Kn)}function Jhe(a,d){return d0(a,$e(d,2))}function Qhe(a){return a&&a.length?_y(a,Kn,lO):t}function $he(a,d){return a&&a.length?_y(a,$e(d,2),lO):t}var exe=Ly(function(a,d){return a*d},1),txe=hO("round"),rxe=Ly(function(a,d){return a-d},0);function nxe(a){return a&&a.length?KS(a,Kn):0}function ixe(a,d){return a&&a.length?KS(a,$e(d,2)):0}return D.after=Fye,D.ary=wV,D.assign=gIe,D.assignIn=YV,D.assignInWith=Jy,D.assignWith=mIe,D.at=bIe,D.before=EV,D.bind=_O,D.bindAll=xhe,D.bindKey=UV,D.castArray=Lye,D.chain=_V,D.chunk=qbe,D.compact=Ybe,D.concat=Xbe,D.cond=Che,D.conforms=Ahe,D.constant=LO,D.countBy=nye,D.create=fIe,D.curry=MV,D.curryRight=LV,D.debounce=VV,D.defaults=yIe,D.defaultsDeep=IIe,D.defer=Dye,D.delay=Rye,D.difference=zbe,D.differenceBy=Jbe,D.differenceWith=Qbe,D.drop=$be,D.dropRight=efe,D.dropRightWhile=tfe,D.dropWhile=rfe,D.fill=nfe,D.filter=sye,D.flatMap=lye,D.flatMapDeep=dye,D.flatMapDepth=uye,D.flatten=DV,D.flattenDeep=ife,D.flattenDepth=sfe,D.flip=jye,D.flow=She,D.flowRight=Ohe,D.fromPairs=ofe,D.functions=OIe,D.functionsIn=FIe,D.groupBy=cye,D.initial=lfe,D.intersection=dfe,D.intersectionBy=ufe,D.intersectionWith=cfe,D.invert=RIe,D.invertBy=jIe,D.invokeMap=gye,D.iteratee=VO,D.keyBy=mye,D.keys=zr,D.keysIn=Hn,D.map=Hy,D.mapKeys=_Ie,D.mapValues=TIe,D.matches=Fhe,D.matchesProperty=Dhe,D.memoize=qy,D.merge=kIe,D.mergeWith=XV,D.method=Rhe,D.methodOf=jhe,D.mixin=BO,D.negate=Yy,D.nthArg=_he,D.omit=wIe,D.omitBy=EIe,D.once=Pye,D.orderBy=bye,D.over=The,D.overArgs=_ye,D.overEvery=khe,D.overSome=whe,D.partial=TO,D.partialRight=BV,D.partition=fye,D.pick=UIe,D.pickBy=zV,D.property=nB,D.propertyOf=Ehe,D.pull=bfe,D.pullAll=jV,D.pullAllBy=ffe,D.pullAllWith=yfe,D.pullAt=Ife,D.range=Uhe,D.rangeRight=Mhe,D.rearg=Tye,D.reject=hye,D.remove=hfe,D.rest=kye,D.reverse=jO,D.sampleSize=Cye,D.set=LIe,D.setWith=VIe,D.shuffle=Aye,D.slice=xfe,D.sortBy=Oye,D.sortedUniq=Dfe,D.sortedUniqBy=Rfe,D.split=lhe,D.spread=wye,D.tail=jfe,D.take=Pfe,D.takeRight=_fe,D.takeRightWhile=Tfe,D.takeWhile=kfe,D.tap=Yfe,D.throttle=Eye,D.thru=Zy,D.toArray=HV,D.toPairs=JV,D.toPairsIn=QV,D.toPath=Whe,D.toPlainObject=qV,D.transform=BIe,D.unary=Uye,D.union=wfe,D.unionBy=Efe,D.unionWith=Ufe,D.uniq=Mfe,D.uniqBy=Lfe,D.uniqWith=Vfe,D.unset=NIe,D.unzip=PO,D.unzipWith=PV,D.update=WIe,D.updateWith=GIe,D.values=Gu,D.valuesIn=ZIe,D.without=Bfe,D.words=tB,D.wrap=Mye,D.xor=Nfe,D.xorBy=Wfe,D.xorWith=Gfe,D.zip=Zfe,D.zipObject=Hfe,D.zipObjectDeep=Kfe,D.zipWith=qfe,D.entries=JV,D.entriesIn=QV,D.extend=YV,D.extendWith=Jy,BO(D,D),D.add=Zhe,D.attempt=rB,D.camelCase=YIe,D.capitalize=$V,D.ceil=Hhe,D.clamp=HIe,D.clone=Vye,D.cloneDeep=Nye,D.cloneDeepWith=Wye,D.cloneWith=Bye,D.conformsTo=Gye,D.deburr=eB,D.defaultTo=vhe,D.divide=Khe,D.endsWith=XIe,D.eq=as,D.escape=zIe,D.escapeRegExp=JIe,D.every=iye,D.find=oye,D.findIndex=OV,D.findKey=hIe,D.findLast=aye,D.findLastIndex=FV,D.findLastKey=xIe,D.floor=qhe,D.forEach=TV,D.forEachRight=kV,D.forIn=CIe,D.forInRight=AIe,D.forOwn=vIe,D.forOwnRight=SIe,D.get=EO,D.gt=Zye,D.gte=Hye,D.has=DIe,D.hasIn=UO,D.head=RV,D.identity=Kn,D.includes=pye,D.indexOf=afe,D.inRange=KIe,D.invoke=PIe,D.isArguments=$l,D.isArray=ut,D.isArrayBuffer=Kye,D.isArrayLike=Zn,D.isArrayLikeObject=Dr,D.isBoolean=qye,D.isBuffer=Wa,D.isDate=Yye,D.isElement=Xye,D.isEmpty=zye,D.isEqual=Jye,D.isEqualWith=Qye,D.isError=kO,D.isFinite=$ye,D.isFunction=Do,D.isInteger=NV,D.isLength=Xy,D.isMap=WV,D.isMatch=eIe,D.isMatchWith=tIe,D.isNaN=rIe,D.isNative=nIe,D.isNil=sIe,D.isNull=iIe,D.isNumber=GV,D.isObject=ur,D.isObjectLike=hr,D.isPlainObject=yg,D.isRegExp=wO,D.isSafeInteger=oIe,D.isSet=ZV,D.isString=zy,D.isSymbol=ci,D.isTypedArray=Wu,D.isUndefined=aIe,D.isWeakMap=lIe,D.isWeakSet=dIe,D.join=pfe,D.kebabCase=QIe,D.last=wi,D.lastIndexOf=gfe,D.lowerCase=$Ie,D.lowerFirst=ehe,D.lt=uIe,D.lte=cIe,D.max=Yhe,D.maxBy=Xhe,D.mean=zhe,D.meanBy=Jhe,D.min=Qhe,D.minBy=$he,D.stubArray=WO,D.stubFalse=GO,D.stubObject=Lhe,D.stubString=Vhe,D.stubTrue=Bhe,D.multiply=exe,D.nth=mfe,D.noConflict=Phe,D.noop=NO,D.now=Ky,D.pad=the,D.padEnd=rhe,D.padStart=nhe,D.parseInt=ihe,D.random=qIe,D.reduce=yye,D.reduceRight=Iye,D.repeat=she,D.replace=ohe,D.result=MIe,D.round=txe,D.runInContext=G,D.sample=xye,D.size=vye,D.snakeCase=ahe,D.some=Sye,D.sortedIndex=Cfe,D.sortedIndexBy=Afe,D.sortedIndexOf=vfe,D.sortedLastIndex=Sfe,D.sortedLastIndexBy=Ofe,D.sortedLastIndexOf=Ffe,D.startCase=dhe,D.startsWith=uhe,D.subtract=rxe,D.sum=nxe,D.sumBy=ixe,D.template=che,D.times=Nhe,D.toFinite=Ro,D.toInteger=ft,D.toLength=KV,D.toLower=phe,D.toNumber=Ei,D.toSafeInteger=pIe,D.toString=Ut,D.toUpper=ghe,D.trim=mhe,D.trimEnd=bhe,D.trimStart=fhe,D.truncate=yhe,D.unescape=Ihe,D.uniqueId=Ghe,D.upperCase=hhe,D.upperFirst=MO,D.each=TV,D.eachRight=kV,D.first=RV,BO(D,function(){var a={};return js(D,function(d,m){Lt.call(D.prototype,m)||(a[m]=d)}),a}(),{chain:!1}),D.VERSION=e,ji(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){D[a].placeholder=D}),ji(["drop","take"],function(a,d){Ct.prototype[a]=function(m){m=m===t?1:Wr(ft(m),0);var x=this.__filtered__&&!d?new Ct(this):this.clone();return x.__filtered__?x.__takeCount__=fn(m,x.__takeCount__):x.__views__.push({size:fn(m,Ae),type:a+(x.__dir__<0?"Right":"")}),x},Ct.prototype[a+"Right"]=function(m){return this.reverse()[a](m).reverse()}}),ji(["filter","map","takeWhile"],function(a,d){var m=d+1,x=m==Fe||m==_e;Ct.prototype[a]=function(S){var j=this.clone();return j.__iteratees__.push({iteratee:$e(S,3),type:m}),j.__filtered__=j.__filtered__||x,j}}),ji(["head","last"],function(a,d){var m="take"+(d?"Right":"");Ct.prototype[a]=function(){return this[m](1).value()[0]}}),ji(["initial","tail"],function(a,d){var m="drop"+(d?"":"Right");Ct.prototype[a]=function(){return this.__filtered__?new Ct(this):this[m](1)}}),Ct.prototype.compact=function(){return this.filter(Kn)},Ct.prototype.find=function(a){return this.filter(a).head()},Ct.prototype.findLast=function(a){return this.reverse().find(a)},Ct.prototype.invokeMap=It(function(a,d){return typeof a=="function"?new Ct(this):this.map(function(m){return cg(m,a,d)})}),Ct.prototype.reject=function(a){return this.filter(Yy($e(a)))},Ct.prototype.slice=function(a,d){a=ft(a);var m=this;return m.__filtered__&&(a>0||d<0)?new Ct(m):(a<0?m=m.takeRight(-a):a&&(m=m.drop(a)),d!==t&&(d=ft(d),m=d<0?m.dropRight(-d):m.take(d-a)),m)},Ct.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Ct.prototype.toArray=function(){return this.take(Ae)},js(Ct.prototype,function(a,d){var m=/^(?:filter|find|map|reject)|While$/.test(d),x=/^(?:head|last)$/.test(d),S=D[x?"take"+(d=="last"?"Right":""):d],j=x||/^find/.test(d);S&&(D.prototype[d]=function(){var w=this.__wrapped__,L=x?[1]:arguments,H=w instanceof Ct,de=L[0],ue=H||ut(w),ye=function(xt){var At=S.apply(D,wa([xt],L));return x&&Pe?At[0]:At};ue&&m&&typeof de=="function"&&de.length!=1&&(H=ue=!1);var Pe=this.__chain__,Ve=!!this.__actions__.length,tt=j&&!Pe,yt=H&&!Ve;if(!j&&ue){w=yt?w:new Ct(this);var rt=a.apply(w,L);return rt.__actions__.push({func:Zy,args:[ye],thisArg:t}),new _i(rt,Pe)}return tt&&yt?a.apply(this,L):(rt=this.thru(ye),tt?x?rt.value()[0]:rt.value():rt)})}),ji(["pop","push","shift","sort","splice","unshift"],function(a){var d=fy[a],m=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",x=/^(?:pop|shift)$/.test(a);D.prototype[a]=function(){var S=arguments;if(x&&!this.__chain__){var j=this.value();return d.apply(ut(j)?j:[],S)}return this[m](function(w){return d.apply(ut(w)?w:[],S)})}}),js(Ct.prototype,function(a,d){var m=D[d];if(m){var x=m.name+"";Lt.call(Mu,x)||(Mu[x]=[]),Mu[x].push({name:d,func:m})}}),Mu[My(t,F).name]=[{name:"wrapper",func:t}],Ct.prototype.clone=Ime,Ct.prototype.reverse=hme,Ct.prototype.value=xme,D.prototype.at=Xfe,D.prototype.chain=zfe,D.prototype.commit=Jfe,D.prototype.next=Qfe,D.prototype.plant=eye,D.prototype.reverse=tye,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=rye,D.prototype.first=D.prototype.head,ig&&(D.prototype[ig]=$fe),D},Ua=Jge();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Xr._=Ua,define(function(){return Ua})):Hl?((Hl.exports=Ua)._=Ua,VS._=Ua):Xr._=Ua}).call(Kp)});var aze={};ZO(aze,{activate:()=>ize,deactivate:()=>oze,extensionContext:()=>Wl,figmaState:()=>tr});module.exports=pxe(aze);var Ee=ke(require("vscode"));var Tp=ke(require("vscode"));function hg(t,e){return function(){return t.apply(e,arguments)}}var{toString:gxe}=Object.prototype,{getPrototypeOf:qO}=Object,$y=(t=>e=>{let r=gxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ts=t=>(t=t.toLowerCase(),e=>$y(e)===t),eI=t=>e=>typeof e===t,{isArray:Zu}=Array,xg=eI("undefined");function mxe(t){return t!==null&&!xg(t)&&t.constructor!==null&&!xg(t.constructor)&&Ui(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var cB=Ts("ArrayBuffer");function bxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cB(t.buffer),e}var fxe=eI("string"),Ui=eI("function"),pB=eI("number"),tI=t=>t!==null&&typeof t=="object",yxe=t=>t===!0||t===!1,Qy=t=>{if($y(t)!=="object")return!1;let e=qO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ixe=Ts("Date"),hxe=Ts("File"),xxe=Ts("Blob"),Cxe=Ts("FileList"),Axe=t=>tI(t)&&Ui(t.pipe),vxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ui(t.append)&&((e=$y(t))==="formdata"||e==="object"&&Ui(t.toString)&&t.toString()==="[object FormData]"))},Sxe=Ts("URLSearchParams"),Oxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,o;if(typeof t!="object"&&(t=[t]),Zu(t))for(i=0,o=t.length;i<o;i++)e.call(null,t[i],i,t);else{let s=r?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length,u;for(i=0;i<l;i++)u=s[i],e.call(null,t[u],u,t)}}function gB(t,e){e=e.toLowerCase();let r=Object.keys(t),i=r.length,o;for(;i-- >0;)if(o=r[i],e===o.toLowerCase())return o;return null}var mB=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),bB=t=>!xg(t)&&t!==mB;function KO(){let{caseless:t}=bB(this)&&this||{},e={},r=(i,o)=>{let s=t&&gB(e,o)||o;Qy(e[s])&&Qy(i)?e[s]=KO(e[s],i):Qy(i)?e[s]=KO({},i):Zu(i)?e[s]=i.slice():e[s]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Cg(arguments[i],r);return e}var Fxe=(t,e,r,{allOwnKeys:i}={})=>(Cg(e,(o,s)=>{r&&Ui(o)?t[s]=hg(o,r):t[s]=o},{allOwnKeys:i}),t),Dxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Rxe=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},jxe=(t,e,r,i)=>{let o,s,l,u={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)l=o[s],(!i||i(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&qO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Pxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let i=t.indexOf(e,r);return i!==-1&&i===r},_xe=t=>{if(!t)return null;if(Zu(t))return t;let e=t.length;if(!pB(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Txe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qO(Uint8Array)),kxe=(t,e)=>{let i=(t&&t[Symbol.iterator]).call(t),o;for(;(o=i.next())&&!o.done;){let s=o.value;e.call(t,s[0],s[1])}},wxe=(t,e)=>{let r,i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},Exe=Ts("HTMLFormElement"),Uxe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,o){return i.toUpperCase()+o}),dB=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Mxe=Ts("RegExp"),fB=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),i={};Cg(r,(o,s)=>{let l;(l=e(o,s,t))!==!1&&(i[s]=l||o)}),Object.defineProperties(t,i)},Lxe=t=>{fB(t,(e,r)=>{if(Ui(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let i=t[r];if(Ui(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Vxe=(t,e)=>{let r={},i=o=>{o.forEach(s=>{r[s]=!0})};return Zu(t)?i(t):i(String(t).split(e)),r},Bxe=()=>{},Nxe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),HO="abcdefghijklmnopqrstuvwxyz",uB="0123456789",yB={DIGIT:uB,ALPHA:HO,ALPHA_DIGIT:HO+HO.toUpperCase()+uB},Wxe=(t=16,e=yB.ALPHA_DIGIT)=>{let r="",{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function Gxe(t){return!!(t&&Ui(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var Zxe=t=>{let e=new Array(10),r=(i,o)=>{if(tI(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[o]=i;let s=Zu(i)?[]:{};return Cg(i,(l,u)=>{let c=r(l,o+1);!xg(c)&&(s[u]=c)}),e[o]=void 0,s}}return i};return r(t,0)},Hxe=Ts("AsyncFunction"),Kxe=t=>t&&(tI(t)||Ui(t))&&Ui(t.then)&&Ui(t.catch),q={isArray:Zu,isArrayBuffer:cB,isBuffer:mxe,isFormData:vxe,isArrayBufferView:bxe,isString:fxe,isNumber:pB,isBoolean:yxe,isObject:tI,isPlainObject:Qy,isUndefined:xg,isDate:Ixe,isFile:hxe,isBlob:xxe,isRegExp:Mxe,isFunction:Ui,isStream:Axe,isURLSearchParams:Sxe,isTypedArray:Txe,isFileList:Cxe,forEach:Cg,merge:KO,extend:Fxe,trim:Oxe,stripBOM:Dxe,inherits:Rxe,toFlatObject:jxe,kindOf:$y,kindOfTest:Ts,endsWith:Pxe,toArray:_xe,forEachEntry:kxe,matchAll:wxe,isHTMLForm:Exe,hasOwnProperty:dB,hasOwnProp:dB,reduceDescriptors:fB,freezeMethods:Lxe,toObjectSet:Vxe,toCamelCase:Uxe,noop:Bxe,toFiniteNumber:Nxe,findKey:gB,global:mB,isContextDefined:bB,ALPHABET:yB,generateString:Wxe,isSpecCompliantForm:Gxe,toJSONObject:Zxe,isAsyncFn:Hxe,isThenable:Kxe};function Hu(t,e,r,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o)}q.inherits(Hu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var IB=Hu.prototype,hB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hB[t]={value:t}});Object.defineProperties(Hu,hB);Object.defineProperty(IB,"isAxiosError",{value:!0});Hu.from=(t,e,r,i,o,s)=>{let l=Object.create(IB);return q.toFlatObject(t,l,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),Hu.call(l,t.message,e,r,i,o),l.cause=t,l.name=t.name,s&&Object.assign(l,s),l};var Ue=Hu;var tN=ke(eN(),1),iI=tN.default;function iF(t){return q.isPlainObject(t)||q.isArray(t)}function nN(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function rN(t,e,r){return t?t.concat(e).map(function(o,s){return o=nN(o),!r&&s?"["+o+"]":o}).join(r?".":""):e}function jCe(t){return q.isArray(t)&&!t.some(iF)}var PCe=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function _Ce(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new(iI||FormData),r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,P){return!q.isUndefined(P[F])});let i=r.metaTokens,o=r.visitor||p,s=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(o))throw new TypeError("visitor must be a function");function g(C){if(C===null)return"";if(q.isDate(C))return C.toISOString();if(!c&&q.isBlob(C))throw new Ue("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(C)||q.isTypedArray(C)?c&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,F,P){let E=C;if(C&&!P&&typeof C=="object"){if(q.endsWith(F,"{}"))F=i?F:F.slice(0,-2),C=JSON.stringify(C);else if(q.isArray(C)&&jCe(C)||(q.isFileList(C)||q.endsWith(F,"[]"))&&(E=q.toArray(C)))return F=nN(F),E.forEach(function(k,ee){!(q.isUndefined(k)||k===null)&&e.append(l===!0?rN([F],ee,s):l===null?F:F+"[]",g(k))}),!1}return iF(C)?!0:(e.append(rN(P,F,s),g(C)),!1)}let f=[],I=Object.assign(PCe,{defaultVisitor:p,convertValue:g,isVisitable:iF});function v(C,F){if(!q.isUndefined(C)){if(f.indexOf(C)!==-1)throw Error("Circular reference detected in "+F.join("."));f.push(C),q.forEach(C,function(E,J){(!(q.isUndefined(E)||E===null)&&o.call(e,E,q.isString(J)?J.trim():J,F,I))===!0&&v(E,F?F.concat(J):[J])}),f.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return v(t),e}var Ga=_Ce;function iN(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function sN(t,e){this._pairs=[],t&&Ga(t,this,e)}var oN=sN.prototype;oN.append=function(e,r){this._pairs.push([e,r])};oN.toString=function(e){let r=e?function(i){return e.call(this,i,iN)}:iN;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};var aN=sN;function TCe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ed(t,e,r){if(!e)return t;let i=r&&r.encode||TCe,o=r&&r.serialize,s;if(o?s=o(e,r):s=q.isURLSearchParams(e)?e.toString():new aN(e,r).toString(i),s){let l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}var sF=class{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(i){i!==null&&e(i)})}},oF=sF;var Ku={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var lN=ke(require("url"),1),dN=lN.default.URLSearchParams;var uN={isNode:!0,classes:{URLSearchParams:dN,FormData:iI,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};var aF={};ZO(aF,{hasBrowserEnv:()=>cN,hasStandardBrowserEnv:()=>kCe,hasStandardBrowserWebWorkerEnv:()=>wCe});var cN=typeof window<"u"&&typeof document<"u",kCe=(t=>cN&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),wCe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var Gr={...aF,...uN};function lF(t,e){return Ga(t,new Gr.classes.URLSearchParams,Object.assign({visitor:function(r,i,o,s){return Gr.isNode&&q.isBuffer(r)?(this.append(i,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function ECe(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function UCe(t){let e={},r=Object.keys(t),i,o=r.length,s;for(i=0;i<o;i++)s=r[i],e[s]=t[s];return e}function MCe(t){function e(r,i,o,s){let l=r[s++],u=Number.isFinite(+l),c=s>=r.length;return l=!l&&q.isArray(o)?o.length:l,c?(q.hasOwnProp(o,l)?o[l]=[o[l],i]:o[l]=i,!u):((!o[l]||!q.isObject(o[l]))&&(o[l]=[]),e(r,i,o[l],s)&&q.isArray(o[l])&&(o[l]=UCe(o[l])),!u)}if(q.isFormData(t)&&q.isFunction(t.entries)){let r={};return q.forEachEntry(t,(i,o)=>{e(ECe(i),o,r,0)}),r}return null}var sI=MCe;function LCe(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}var dF={transitional:Ku,adapter:["xhr","http"],transformRequest:[function(e,r){let i=r.getContentType()||"",o=i.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return o&&o?JSON.stringify(sI(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return lF(e,this.formSerializer).toString();if((u=q.isFileList(e))||i.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return Ga(u?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),LCe(e)):e}],transformResponse:[function(e){let r=this.transitional||dF.transitional,i=r&&r.forcedJSONParsing,o=this.responseType==="json";if(e&&q.isString(e)&&(i&&!this.responseType||o)){let l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gr.classes.FormData,Blob:Gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{dF.headers[t]={}});var qu=dF;var VCe=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pN=t=>{let e={},r,i,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),i=l.substring(o+1).trim(),!(!r||e[r]&&VCe[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e};var gN=Symbol("internals");function Ag(t){return t&&String(t).trim().toLowerCase()}function oI(t){return t===!1||t==null?t:q.isArray(t)?t.map(oI):String(t)}function BCe(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}var NCe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function uF(t,e,r,i,o){if(q.isFunction(i))return i.call(this,e,r);if(o&&(e=r),!!q.isString(e)){if(q.isString(i))return e.indexOf(i)!==-1;if(q.isRegExp(i))return i.test(e)}}function WCe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function GCe(t,e){let r=q.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(o,s,l){return this[i].call(this,e,o,s,l)},configurable:!0})})}var Yu=class{constructor(e){e&&this.set(e)}set(e,r,i){let o=this;function s(u,c,g){let p=Ag(c);if(!p)throw new Error("header name must be a non-empty string");let f=q.findKey(o,p);(!f||o[f]===void 0||g===!0||g===void 0&&o[f]!==!1)&&(o[f||c]=oI(u))}let l=(u,c)=>q.forEach(u,(g,p)=>s(g,p,c));return q.isPlainObject(e)||e instanceof this.constructor?l(e,r):q.isString(e)&&(e=e.trim())&&!NCe(e)?l(pN(e),r):e!=null&&s(r,e,i),this}get(e,r){if(e=Ag(e),e){let i=q.findKey(this,e);if(i){let o=this[i];if(!r)return o;if(r===!0)return BCe(o);if(q.isFunction(r))return r.call(this,o,i);if(q.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ag(e),e){let i=q.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||uF(this,this[i],i,r)))}return!1}delete(e,r){let i=this,o=!1;function s(l){if(l=Ag(l),l){let u=q.findKey(i,l);u&&(!r||uF(i,i[u],u,r))&&(delete i[u],o=!0)}}return q.isArray(e)?e.forEach(s):s(e),o}clear(e){let r=Object.keys(this),i=r.length,o=!1;for(;i--;){let s=r[i];(!e||uF(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){let r=this,i={};return q.forEach(this,(o,s)=>{let l=q.findKey(i,s);if(l){r[l]=oI(o),delete r[s];return}let u=e?WCe(s):String(s).trim();u!==s&&delete r[s],r[u]=oI(o),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return q.forEach(this,(i,o)=>{i!=null&&i!==!1&&(r[o]=e&&q.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let i=new this(e);return r.forEach(o=>i.set(o)),i}static accessor(e){let i=(this[gN]=this[gN]={accessors:{}}).accessors,o=this.prototype;function s(l){let u=Ag(l);i[u]||(GCe(o,l),i[u]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}};Yu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(Yu.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});q.freezeMethods(Yu);var Zr=Yu;function vg(t,e){let r=this||qu,i=e||r,o=Zr.from(i.headers),s=i.data;return q.forEach(t,function(u){s=u.call(r,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function Sg(t){return!!(t&&t.__CANCEL__)}function mN(t,e,r){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits(mN,Ue,{__CANCEL__:!0});var us=mN;function Za(t,e,r){let i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new Ue("Request failed with status code "+r.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function pF(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function td(t,e){return t&&!cF(e)?pF(t,e):e}var BN=ke(fN(),1),NN=ke(require("http"),1),WN=ke(require("https"),1),GN=ke(require("util"),1),ZN=ke(FN(),1),Po=ke(require("zlib"),1);var id="1.6.2";function Rg(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var iAe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function IF(t,e,r){let i=r&&r.Blob||Gr.classes.Blob,o=Rg(t);if(e===void 0&&i&&(e=!0),o==="data"){t=o.length?t.slice(o.length+1):t;let s=iAe.exec(t);if(!s)throw new Ue("Invalid URL",Ue.ERR_INVALID_URL);let l=s[1],u=s[2],c=s[3],g=Buffer.from(decodeURIComponent(c),u?"base64":"utf8");if(e){if(!i)throw new Ue("Blob is not supported",Ue.ERR_NOT_SUPPORT);return new i([g],{type:l})}return g}throw new Ue("Unsupported protocol "+o,Ue.ERR_NOT_SUPPORT)}var sd=ke(require("stream"),1);var RN=ke(require("stream"),1);function sAe(t,e){let r=0,i=1e3/e,o=null;return function(l,u){let c=Date.now();if(l||c-r>i)return o&&(clearTimeout(o),o=null),r=c,t.apply(null,u);o||(o=setTimeout(()=>(o=null,r=Date.now(),t.apply(null,u)),i-(c-r)))}}var DN=sAe;function oAe(t,e){t=t||10;let r=new Array(t),i=new Array(t),o=0,s=0,l;return e=e!==void 0?e:1e3,function(c){let g=Date.now(),p=i[s];l||(l=g),r[o]=c,i[o]=g;let f=s,I=0;for(;f!==o;)I+=r[f++],f=f%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),g-l<e)return;let v=p&&g-p;return v?Math.round(I*1e3/v):void 0}}var aI=oAe;var lI=Symbol("internals"),hF=class extends RN.default.Transform{constructor(e){e=q.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(u,c)=>!q.isUndefined(c[u])),super({readableHighWaterMark:e.chunkSize});let r=this,i=this[lI]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},o=aI(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",u=>{u==="progress"&&(i.isCaptured||(i.isCaptured=!0))});let s=0;i.updateProgress=DN(function(){let c=i.length,g=i.bytesSeen,p=g-s;if(!p||r.destroyed)return;let f=o(p);s=g,process.nextTick(()=>{r.emit("progress",{loaded:g,total:c,progress:c?g/c:void 0,bytes:p,rate:f||void 0,estimated:f&&c&&g<=c?(c-g)/f:void 0})})},i.ticksRate);let l=()=>{i.updateProgress(!0)};this.once("end",l),this.once("error",l)}_read(e){let r=this[lI];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,i){let o=this,s=this[lI],l=s.maxRate,u=this.readableHighWaterMark,c=s.timeWindow,g=1e3/c,p=l/g,f=s.minChunkSize!==!1?Math.max(s.minChunkSize,p*.01):0;function I(C,F){let P=Buffer.byteLength(C);s.bytesSeen+=P,s.bytes+=P,s.isCaptured&&s.updateProgress(),o.push(C)?process.nextTick(F):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(F)}}let v=(C,F)=>{let P=Buffer.byteLength(C),E=null,J=u,k,ee=0;if(l){let ce=Date.now();(!s.ts||(ee=ce-s.ts)>=c)&&(s.ts=ce,k=p-s.bytes,s.bytes=k<0?-k:0,ee=0),k=p-s.bytes}if(l){if(k<=0)return setTimeout(()=>{F(null,C)},c-ee);k<J&&(J=k)}J&&P>J&&P-J>f&&(E=C.subarray(J),C=C.subarray(0,J)),I(C,E?()=>{process.nextTick(F,null,E)}:F)};v(e,function C(F,P){if(F)return i(F);P?v(P,C):i(null)})}setLength(e){return this[lI].length=+e,this}},xF=hF;var HN=ke(require("events"),1);var PN=require("util"),_N=require("stream");var{asyncIterator:jN}=Symbol,aAe=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[jN]?yield*t[jN]():yield t},dI=aAe;var lAe=q.ALPHABET.ALPHA_DIGIT+"-_",jg=new PN.TextEncoder,Ha=`\r
`,dAe=jg.encode(Ha),uAe=2,CF=class{constructor(e,r){let{escapeName:i}=this.constructor,o=q.isString(r),s=`Content-Disposition: form-data; name="${i(e)}"${!o&&r.name?`; filename="${i(r.name)}"`:""}${Ha}`;o?r=jg.encode(String(r).replace(/\r?\n|\r\n?/g,Ha)):s+=`Content-Type: ${r.type||"application/octet-stream"}${Ha}`,this.headers=jg.encode(s+Ha),this.contentLength=o?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+uAe,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;q.isTypedArray(e)?yield e:yield*dI(e),yield dAe}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},cAe=(t,e,r)=>{let{tag:i="form-data-boundary",size:o=25,boundary:s=i+"-"+q.generateString(o,lAe)}=r||{};if(!q.isFormData(t))throw TypeError("FormData instance required");if(s.length<1||s.length>70)throw Error("boundary must be 10-70 characters long");let l=jg.encode("--"+s+Ha),u=jg.encode("--"+s+"--"+Ha+Ha),c=u.byteLength,g=Array.from(t.entries()).map(([f,I])=>{let v=new CF(f,I);return c+=v.size,v});c+=l.byteLength*g.length,c=q.toFiniteNumber(c);let p={"Content-Type":`multipart/form-data; boundary=${s}`};return Number.isFinite(c)&&(p["Content-Length"]=c),e&&e(p),_N.Readable.from(async function*(){for(let f of g)yield l,yield*f.encode();yield u}())},TN=cAe;var kN=ke(require("stream"),1),AF=class extends kN.default.Transform{__transform(e,r,i){this.push(e),i()}_transform(e,r,i){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let o=Buffer.alloc(2);o[0]=120,o[1]=156,this.push(o,r)}this.__transform(e,r,i)}},wN=AF;var pAe=(t,e)=>q.isAsyncFn(t)?function(...r){let i=r.pop();t.apply(this,r).then(o=>{try{e?i(null,...e(o)):i(null,o)}catch(s){i(s)}},i)}:t,EN=pAe;var UN={flush:Po.default.constants.Z_SYNC_FLUSH,finishFlush:Po.default.constants.Z_SYNC_FLUSH},gAe={flush:Po.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Po.default.constants.BROTLI_OPERATION_FLUSH},MN=q.isFunction(Po.default.createBrotliDecompress),{http:mAe,https:bAe}=ZN.default,fAe=/https:?/,LN=Gr.protocols.map(t=>t+":");function yAe(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function KN(t,e,r){let i=e;if(!i&&i!==!1){let o=(0,BN.getProxyForUrl)(r);o&&(i=new URL(o))}if(i){if(i.username&&(i.auth=(i.username||"")+":"+(i.password||"")),i.auth){(i.auth.username||i.auth.password)&&(i.auth=(i.auth.username||"")+":"+(i.auth.password||""));let s=Buffer.from(i.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+s}t.headers.host=t.hostname+(t.port?":"+t.port:"");let o=i.hostname||i.host;t.hostname=o,t.host=o,t.port=i.port,t.path=r,i.protocol&&(t.protocol=i.protocol.includes(":")?i.protocol:`${i.protocol}:`)}t.beforeRedirects.proxy=function(s){KN(s,e,s.href)}}var IAe=typeof process<"u"&&q.kindOf(process)==="process",hAe=t=>new Promise((e,r)=>{let i,o,s=(c,g)=>{o||(o=!0,i&&i(c,g))},l=c=>{s(c),e(c)},u=c=>{s(c,!0),r(c)};t(l,u,c=>i=c).catch(u)}),xAe=({address:t,family:e})=>{if(!q.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},VN=(t,e)=>xAe(q.isObject(t)?t:{address:t,family:e}),qN=IAe&&function(e){return hAe(async function(i,o,s){let{data:l,lookup:u,family:c}=e,{responseType:g,responseEncoding:p}=e,f=e.method.toUpperCase(),I,v=!1,C;if(u){let ae=EN(u,se=>q.isArray(se)?se:[se]);u=(se,Ae,or)=>{ae(se,Ae,(vt,Jt,Ge)=>{let Ir=q.isArray(Jt)?Jt.map(ar=>VN(ar)):[VN(Jt,Ge)];Ae.all?or(vt,Ir):or(vt,Ir[0].address,Ir[0].family)})}}let F=new HN.default,P=()=>{e.cancelToken&&e.cancelToken.unsubscribe(E),e.signal&&e.signal.removeEventListener("abort",E),F.removeAllListeners()};s((ae,se)=>{I=!0,se&&(v=!0,P())});function E(ae){F.emit("abort",!ae||ae.type?new us(null,e,C):ae)}F.once("abort",o),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(E),e.signal&&(e.signal.aborted?E():e.signal.addEventListener("abort",E)));let J=td(e.baseURL,e.url),k=new URL(J,"http://localhost"),ee=k.protocol||LN[0];if(ee==="data:"){let ae;if(f!=="GET")return Za(i,o,{status:405,statusText:"method not allowed",headers:{},config:e});try{ae=IF(e.url,g==="blob",{Blob:e.env&&e.env.Blob})}catch(se){throw Ue.from(se,Ue.ERR_BAD_REQUEST,e)}return g==="text"?(ae=ae.toString(p),(!p||p==="utf8")&&(ae=q.stripBOM(ae))):g==="stream"&&(ae=sd.default.Readable.from(ae)),Za(i,o,{data:ae,status:200,statusText:"OK",headers:new Zr,config:e})}if(LN.indexOf(ee)===-1)return o(new Ue("Unsupported protocol "+ee,Ue.ERR_BAD_REQUEST,e));let ce=Zr.from(e.headers).normalize();ce.set("User-Agent","axios/"+id,!1);let Q=e.onDownloadProgress,he=e.onUploadProgress,me=e.maxRate,z,fe;if(q.isSpecCompliantForm(l)){let ae=ce.getContentType(/boundary=([-_\w\d]{10,70})/i);l=TN(l,se=>{ce.set(se)},{tag:`axios-${id}-boundary`,boundary:ae&&ae[1]||void 0})}else if(q.isFormData(l)&&q.isFunction(l.getHeaders)){if(ce.set(l.getHeaders()),!ce.hasContentLength())try{let ae=await GN.default.promisify(l.getLength).call(l);Number.isFinite(ae)&&ae>=0&&ce.setContentLength(ae)}catch{}}else if(q.isBlob(l))l.size&&ce.setContentType(l.type||"application/octet-stream"),ce.setContentLength(l.size||0),l=sd.default.Readable.from(dI(l));else if(l&&!q.isStream(l)){if(!Buffer.isBuffer(l))if(q.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(q.isString(l))l=Buffer.from(l,"utf-8");else return o(new Ue("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Ue.ERR_BAD_REQUEST,e));if(ce.setContentLength(l.length,!1),e.maxBodyLength>-1&&l.length>e.maxBodyLength)return o(new Ue("Request body larger than maxBodyLength limit",Ue.ERR_BAD_REQUEST,e))}let N=q.toFiniteNumber(ce.getContentLength());q.isArray(me)?(z=me[0],fe=me[1]):z=fe=me,l&&(he||z)&&(q.isStream(l)||(l=sd.default.Readable.from(l,{objectMode:!1})),l=sd.default.pipeline([l,new xF({length:N,maxRate:q.toFiniteNumber(z)})],q.noop),he&&l.on("progress",ae=>{he(Object.assign(ae,{upload:!0}))}));let Fe;if(e.auth){let ae=e.auth.username||"",se=e.auth.password||"";Fe=ae+":"+se}if(!Fe&&k.username){let ae=k.username,se=k.password;Fe=ae+":"+se}Fe&&ce.delete("authorization");let Re;try{Re=ed(k.pathname+k.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(ae){let se=new Error(ae.message);return se.config=e,se.url=e.url,se.exists=!0,o(se)}ce.set("Accept-Encoding","gzip, compress, deflate"+(MN?", br":""),!1);let _e={path:Re,method:f,headers:ce.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:Fe,protocol:ee,family:c,beforeRedirect:yAe,beforeRedirects:{}};!q.isUndefined(u)&&(_e.lookup=u),e.socketPath?_e.socketPath=e.socketPath:(_e.hostname=k.hostname,_e.port=k.port,KN(_e,e.proxy,ee+"//"+k.hostname+(k.port?":"+k.port:"")+_e.path));let W,Z=fAe.test(_e.protocol);if(_e.agent=Z?e.httpsAgent:e.httpAgent,e.transport?W=e.transport:e.maxRedirects===0?W=Z?WN.default:NN.default:(e.maxRedirects&&(_e.maxRedirects=e.maxRedirects),e.beforeRedirect&&(_e.beforeRedirects.config=e.beforeRedirect),W=Z?bAe:mAe),e.maxBodyLength>-1?_e.maxBodyLength=e.maxBodyLength:_e.maxBodyLength=1/0,e.insecureHTTPParser&&(_e.insecureHTTPParser=e.insecureHTTPParser),C=W.request(_e,function(se){if(C.destroyed)return;let Ae=[se],or=+se.headers["content-length"];if(Q){let ar=new xF({length:q.toFiniteNumber(or),maxRate:q.toFiniteNumber(fe)});Q&&ar.on("progress",it=>{Q(Object.assign(it,{download:!0}))}),Ae.push(ar)}let vt=se,Jt=se.req||C;if(e.decompress!==!1&&se.headers["content-encoding"])switch((f==="HEAD"||se.statusCode===204)&&delete se.headers["content-encoding"],(se.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Ae.push(Po.default.createUnzip(UN)),delete se.headers["content-encoding"];break;case"deflate":Ae.push(new wN),Ae.push(Po.default.createUnzip(UN)),delete se.headers["content-encoding"];break;case"br":MN&&(Ae.push(Po.default.createBrotliDecompress(gAe)),delete se.headers["content-encoding"])}vt=Ae.length>1?sd.default.pipeline(Ae,q.noop):Ae[0];let Ge=sd.default.finished(vt,()=>{Ge(),P()}),Ir={status:se.statusCode,statusText:se.statusMessage,headers:new Zr(se.headers),config:e,request:Jt};if(g==="stream")Ir.data=vt,Za(i,o,Ir);else{let ar=[],it=0;vt.on("data",function(Fr){ar.push(Fr),it+=Fr.length,e.maxContentLength>-1&&it>e.maxContentLength&&(v=!0,vt.destroy(),o(new Ue("maxContentLength size of "+e.maxContentLength+" exceeded",Ue.ERR_BAD_RESPONSE,e,Jt)))}),vt.on("aborted",function(){if(v)return;let Fr=new Ue("maxContentLength size of "+e.maxContentLength+" exceeded",Ue.ERR_BAD_RESPONSE,e,Jt);vt.destroy(Fr),o(Fr)}),vt.on("error",function(Fr){C.destroyed||o(Ue.from(Fr,null,e,Jt))}),vt.on("end",function(){try{let Fr=ar.length===1?ar[0]:Buffer.concat(ar);g!=="arraybuffer"&&(Fr=Fr.toString(p),(!p||p==="utf8")&&(Fr=q.stripBOM(Fr))),Ir.data=Fr}catch(Fr){return o(Ue.from(Fr,null,e,Ir.request,Ir))}Za(i,o,Ir)})}F.once("abort",ar=>{vt.destroyed||(vt.emit("error",ar),vt.destroy())})}),F.once("abort",ae=>{o(ae),C.destroy(ae)}),C.on("error",function(se){o(Ue.from(se,null,e,C))}),C.on("socket",function(se){se.setKeepAlive(!0,1e3*60)}),e.timeout){let ae=parseInt(e.timeout,10);if(Number.isNaN(ae)){o(new Ue("error trying to parse `config.timeout` to int",Ue.ERR_BAD_OPTION_VALUE,e,C));return}C.setTimeout(ae,function(){if(I)return;let Ae=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",or=e.transitional||Ku;e.timeoutErrorMessage&&(Ae=e.timeoutErrorMessage),o(new Ue(Ae,or.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,e,C)),E()})}if(q.isStream(l)){let ae=!1,se=!1;l.on("end",()=>{ae=!0}),l.once("error",Ae=>{se=!0,C.destroy(Ae)}),l.on("close",()=>{!ae&&!se&&E(new us("Request stream has been aborted",e,C))}),l.pipe(C)}else C.end(l)})};var YN=Gr.hasStandardBrowserEnv?{write(t,e,r,i,o,s){let l=[t+"="+encodeURIComponent(e)];q.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),q.isString(i)&&l.push("path="+i),q.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var XN=Gr.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function o(s){let l=s;return e&&(r.setAttribute("href",l),l=r.href),r.setAttribute("href",l),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=o(window.location.href),function(l){let u=q.isString(l)?o(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function zN(t,e){let r=0,i=aI(50,250);return o=>{let s=o.loaded,l=o.lengthComputable?o.total:void 0,u=s-r,c=i(u),g=s<=l;r=s;let p={loaded:s,total:l,progress:l?s/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&g?(l-s)/c:void 0,event:o};p[e?"download":"upload"]=!0,t(p)}}var CAe=typeof XMLHttpRequest<"u",JN=CAe&&function(t){return new Promise(function(r,i){let o=t.data,s=Zr.from(t.headers).normalize(),{responseType:l,withXSRFToken:u}=t,c;function g(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let p;if(q.isFormData(o)){if(Gr.hasStandardBrowserEnv||Gr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((p=s.getContentType())!==!1){let[F,...P]=p?p.split(";").map(E=>E.trim()).filter(Boolean):[];s.setContentType([F||"multipart/form-data",...P].join("; "))}}let f=new XMLHttpRequest;if(t.auth){let F=t.auth.username||"",P=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(F+":"+P))}let I=td(t.baseURL,t.url);f.open(t.method.toUpperCase(),ed(I,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function v(){if(!f)return;let F=Zr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:F,config:t,request:f};Za(function(k){r(k),g()},function(k){i(k),g()},E),f=null}if("onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(v)},f.onabort=function(){f&&(i(new Ue("Request aborted",Ue.ECONNABORTED,t,f)),f=null)},f.onerror=function(){i(new Ue("Network Error",Ue.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let P=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",E=t.transitional||Ku;t.timeoutErrorMessage&&(P=t.timeoutErrorMessage),i(new Ue(P,E.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,f)),f=null},Gr.hasStandardBrowserEnv&&(u&&q.isFunction(u)&&(u=u(t)),u||u!==!1&&XN(I))){let F=t.xsrfHeaderName&&t.xsrfCookieName&&YN.read(t.xsrfCookieName);F&&s.set(t.xsrfHeaderName,F)}o===void 0&&s.setContentType(null),"setRequestHeader"in f&&q.forEach(s.toJSON(),function(P,E){f.setRequestHeader(E,P)}),q.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),l&&l!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",zN(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",zN(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=F=>{f&&(i(!F||F.type?new us(null,t,f):F),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));let C=Rg(I);if(C&&Gr.protocols.indexOf(C)===-1){i(new Ue("Unsupported protocol "+C+":",Ue.ERR_BAD_REQUEST,t));return}f.send(o||null)})};var vF={http:qN,xhr:JN};q.forEach(vF,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var QN=t=>`- ${t}`,AAe=t=>q.isFunction(t)||t===null||t===!1,uI={getAdapter:t=>{t=q.isArray(t)?t:[t];let{length:e}=t,r,i,o={};for(let s=0;s<e;s++){r=t[s];let l;if(i=r,!AAe(r)&&(i=vF[(l=String(r)).toLowerCase()],i===void 0))throw new Ue(`Unknown adapter '${l}'`);if(i)break;o[l||"#"+s]=i}if(!i){let s=Object.entries(o).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build")),l=e?s.length>1?`since :
`+s.map(QN).join(`
`):" "+QN(s[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:vF};function SF(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new us(null,t)}function cI(t){return SF(t),t.headers=Zr.from(t.headers),t.data=vg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uI.getAdapter(t.adapter||qu.adapter)(t).then(function(i){return SF(t),i.data=vg.call(t,t.transformResponse,i),i.headers=Zr.from(i.headers),i},function(i){return Sg(i)||(SF(t),i&&i.response&&(i.response.data=vg.call(t,t.transformResponse,i.response),i.response.headers=Zr.from(i.response.headers))),Promise.reject(i)})}var $N=t=>t instanceof Zr?t.toJSON():t;function _o(t,e){e=e||{};let r={};function i(g,p,f){return q.isPlainObject(g)&&q.isPlainObject(p)?q.merge.call({caseless:f},g,p):q.isPlainObject(p)?q.merge({},p):q.isArray(p)?p.slice():p}function o(g,p,f){if(q.isUndefined(p)){if(!q.isUndefined(g))return i(void 0,g,f)}else return i(g,p,f)}function s(g,p){if(!q.isUndefined(p))return i(void 0,p)}function l(g,p){if(q.isUndefined(p)){if(!q.isUndefined(g))return i(void 0,g)}else return i(void 0,p)}function u(g,p,f){if(f in e)return i(g,p);if(f in t)return i(void 0,g)}let c={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(g,p)=>o($N(g),$N(p),!0)};return q.forEach(Object.keys(Object.assign({},t,e)),function(p){let f=c[p]||o,I=f(t[p],e[p],p);q.isUndefined(I)&&f!==u||(r[p]=I)}),r}var OF={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{OF[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var eW={};OF.transitional=function(e,r,i){function o(s,l){return"[Axios v"+id+"] Transitional option '"+s+"'"+l+(i?". "+i:"")}return(s,l,u)=>{if(e===!1)throw new Ue(o(l," has been removed"+(r?" in "+r:"")),Ue.ERR_DEPRECATED);return r&&!eW[l]&&(eW[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,l,u):!0}};function vAe(t,e,r){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);let i=Object.keys(t),o=i.length;for(;o-- >0;){let s=i[o],l=e[s];if(l){let u=t[s],c=u===void 0||l(u,s,t);if(c!==!0)throw new Ue("option "+s+" must be "+c,Ue.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ue("Unknown option "+s,Ue.ERR_BAD_OPTION)}}var pI={assertOptions:vAe,validators:OF};var Ka=pI.validators,zu=class{constructor(e){this.defaults=e,this.interceptors={request:new oF,response:new oF}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_o(this.defaults,r);let{transitional:i,paramsSerializer:o,headers:s}=r;i!==void 0&&pI.assertOptions(i,{silentJSONParsing:Ka.transitional(Ka.boolean),forcedJSONParsing:Ka.transitional(Ka.boolean),clarifyTimeoutError:Ka.transitional(Ka.boolean)},!1),o!=null&&(q.isFunction(o)?r.paramsSerializer={serialize:o}:pI.assertOptions(o,{encode:Ka.function,serialize:Ka.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&q.merge(s.common,s[r.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],C=>{delete s[C]}),r.headers=Zr.concat(l,s);let u=[],c=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(r)===!1||(c=c&&F.synchronous,u.unshift(F.fulfilled,F.rejected))});let g=[];this.interceptors.response.forEach(function(F){g.push(F.fulfilled,F.rejected)});let p,f=0,I;if(!c){let C=[cI.bind(this),void 0];for(C.unshift.apply(C,u),C.push.apply(C,g),I=C.length,p=Promise.resolve(r);f<I;)p=p.then(C[f++],C[f++]);return p}I=u.length;let v=r;for(f=0;f<I;){let C=u[f++],F=u[f++];try{v=C(v)}catch(P){F.call(this,P);break}}try{p=cI.call(this,v)}catch(C){return Promise.reject(C)}for(f=0,I=g.length;f<I;)p=p.then(g[f++],g[f++]);return p}getUri(e){e=_o(this.defaults,e);let r=td(e.baseURL,e.url);return ed(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){zu.prototype[e]=function(r,i){return this.request(_o(i||{},{method:e,url:r,data:(i||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(i){return function(s,l,u){return this.request(_o(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}zu.prototype[e]=r(),zu.prototype[e+"Form"]=r(!0)});var Pg=zu;var _g=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});let i=this;this.promise.then(o=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](o);i._listeners=null}),this.promise.then=o=>{let s,l=new Promise(u=>{i.subscribe(u),s=u}).then(o);return l.cancel=function(){i.unsubscribe(s)},l},e(function(s,l,u){i.reason||(i.reason=new us(s,l,u),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new _g(function(o){e=o}),cancel:e}}},tW=_g;function FF(t){return function(r){return t.apply(null,r)}}function DF(t){return q.isObject(t)&&t.isAxiosError===!0}var RF={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RF).forEach(([t,e])=>{RF[e]=t});var rW=RF;function nW(t){let e=new Pg(t),r=hg(Pg.prototype.request,e);return q.extend(r,Pg.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return nW(_o(t,o))},r}var Ur=nW(qu);Ur.Axios=Pg;Ur.CanceledError=us;Ur.CancelToken=tW;Ur.isCancel=Sg;Ur.VERSION=id;Ur.toFormData=Ga;Ur.AxiosError=Ue;Ur.Cancel=Ur.CanceledError;Ur.all=function(e){return Promise.all(e)};Ur.spread=FF;Ur.isAxiosError=DF;Ur.mergeConfig=_o;Ur.AxiosHeaders=Zr;Ur.formToJSON=t=>sI(q.isHTMLForm(t)?new FormData(t):t);Ur.getAdapter=uI.getAdapter;Ur.HttpStatusCode=rW;Ur.default=Ur;var cs=Ur;var{Axios:k8e,AxiosError:w8e,CanceledError:E8e,isCancel:U8e,CancelToken:M8e,VERSION:L8e,all:V8e,Cancel:B8e,isAxiosError:gI,spread:N8e,toFormData:W8e,AxiosHeaders:G8e,HttpStatusCode:Z8e,formToJSON:H8e,getAdapter:K8e,mergeConfig:q8e}=cs;var aW=ke(sW(),1),lW="axios-retry";function dW(t){let e=["ERR_CANCELED","ECONNABORTED"];return t.response||!t.code||e.includes(t.code)?!1:(0,aW.default)(t)}var uW=["get","head","options"],OAe=uW.concat(["put","delete"]);function jF(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function FAe(t){return t.config?.method?jF(t)&&uW.indexOf(t.config.method)!==-1:!1}function cW(t){return t.config?.method?jF(t)&&OAe.indexOf(t.config.method)!==-1:!1}function pW(t){return dW(t)||cW(t)}function DAe(){return 0}function RAe(t=0,e=void 0,r=100){let i=2**t*r,o=i*.2*Math.random();return i+o}var jAe={retries:3,retryCondition:pW,retryDelay:DAe,shouldResetTimeout:!1,onRetry:()=>{}};function PAe(t,e){return{...jAe,...e,...t[lW]}}function oW(t,e){let r=PAe(t,e||{});return r.retryCount=r.retryCount||0,r.lastRequestTime=r.lastRequestTime||Date.now(),t[lW]=r,r}function _Ae(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}async function TAe(t,e){let{retries:r,retryCondition:i}=t,o=(t.retryCount||0)<r&&i(e);if(typeof o=="object")try{return await o!==!1}catch{return!1}return o}var od=(t,e)=>{let r=t.interceptors.request.use(o=>(oW(o,e),o)),i=t.interceptors.response.use(null,async o=>{let{config:s}=o;if(!s)return Promise.reject(o);let l=oW(s,e);if(await TAe(l,o)){l.retryCount+=1;let{retryDelay:u,shouldResetTimeout:c,onRetry:g}=l,p=u(l.retryCount,o);if(_Ae(t,s),!c&&s.timeout&&l.lastRequestTime){let f=Date.now()-l.lastRequestTime,I=s.timeout-f-p;if(I<=0)return Promise.reject(o);s.timeout=I}return s.transformRequest=[f=>f],await g(l.retryCount,o,s),new Promise(f=>{setTimeout(()=>f(t(s)),p)})}return Promise.reject(o)});return{requestInterceptorId:r,responseInterceptorId:i}};od.isNetworkError=dW;od.isSafeRequestError=FAe;od.isIdempotentRequestError=cW;od.isNetworkOrIdempotentRequestError=pW;od.exponentialDelay=RAe;od.isRetryableError=jF;var gW=od;var ni=ke(require("vscode"));var sM=ke(bW());var cr={prod:"https://www.figma.com",staging:"https://staging.figma.com",dev:"https://local.figma.engineering:8443"},kg={prod:"__Host-figma.integ",staging:"__Host-figma.integ",dev:"figma.integ"},TF={prod:"__Host-figma.integ.mac",staging:"__Host-figma.integ.mac",dev:"figma.integ.mac"};var ad=class extends Error{},Qu=class extends Error{constructor(e,r){r?(super(`${e}: ${r.message??"no message"}`),this.stack=`${this.stack||""}
Caused by:
${r.stack||""}`):super(e)}},mI=class extends Qu{},wg=class extends Qu{},To=class extends Qu{},bI=class extends Qu{};var qa=ke(require("vscode"));var Wt=class{constructor(){this.listeners=[]}add(e){return this.listeners.push(e),{dispose:()=>this.remove(e)}}remove(e){let r=this.listeners.indexOf(e);r>-1&&this.listeners.splice(r,1)}invoke(...e){this.listeners.forEach(r=>{r(...e)})}isEmpty(){return this.listeners.length===0}dispose(){this.listeners=[]}};var yW={key:"loggedIn"},IW={key:"selectedOrgId"},EAe={key:"featureFlags"},fW="fileState",hW="SEEN_UNSUPPORTED_VERSION_DIALOG",kF="autoOpenFile";function Vt(t){return void 0||"prod"}async function xW(t,e){return t.globalState.update("environmentOverride",e)}function jr(t,e){return`${e.key}.${Vt(t)}`}function fI(){return qa.workspace.getConfiguration("figma").get("autocompleteBlocks")}function yI(){return qa.workspace.getConfiguration("figma").get("autocompleteProperties")}function CW(){return qa.workspace.getConfiguration("figma").get("assetExportDirectory")}function AW(){return qa.workspace.getConfiguration("figma").get("assetPublicDirectory")}var Eg=new Wt;function ld(t){return t.globalState.get(jr(t,IW))||null}async function wF(t,e){await t.globalState.update(jr(t,IW),e),Eg.invoke(e)}async function EF(t,e){return t.globalState.update(jr(t,yW),e)}function Xn(t){return Boolean(t.globalState.get(jr(t,yW)))}async function II(t,e){await t.globalState.update(jr(t,EAe),e)}async function UF(t,e,r){let i=t.globalState.get(fW)??{};i[e]=r,await t.globalState.update(fW,i)}async function vW(t,e){return t?.globalState.update(kF,e)}function hI(t){return t?.globalState.get(kF)}async function SW(t){return t?.globalState.update(kF,void 0)}async function OW(t){return t.globalState.update(hW,qa.version)}function FW(t){return qa.version===t.globalState.get(hW)}function Bt(t){return t!==null&&typeof t=="object"&&"type"in t}function sn(t,e){if(t){for(let r of t)if(r.name===e)return r}return null}var xI=class extends Error{};var CI=class extends Error{constructor(r){super();this.errorCode=r}};function dd(){let t,e;return[new Promise((i,o)=>{t=i,e=o}),t,e]}function ks(t,e){if(!Boolean(t)){let r=new Error(e);setTimeout(()=>{throw r})}}function Et(t,e){if(!Boolean(t))throw new Error(e||"assertion failure")}function DW(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(r){return ks(!1,"Comparison of embedded objects failed"),!1}}function RW(t,e,r){var i,o;for(let s of r){let l=s[0];if(s[1].def.type.kind==="datetime"){if(((i=t[l])==null?void 0:i.getTime())!==((o=e[l])==null?void 0:o.getTime()))return!1}else if(t[l]!==e[l])return!1}return!0}function jW(t,e){if(t.length!==e.length)return!1;let r=!0;return t.forEach(i=>{e.find(o=>o.fieldName===i.fieldName&&o.info===i.info)||(r=!1)}),r}function PW(t){let e=!1;return function(){e||(e=!0,t())}}function VF(t){return new Promise(e=>setTimeout(e,t))}function _W(t,e){let r=new Error;setTimeout(()=>{try{t()}catch(i){throw i.cause=r,i}},e)}var MF=class extends Error{},$u=class{constructor(e){this.config=e;$u.validateConfig(e),this.timeoutMs=e.backoffInitialMs*(1+this.jitter()),this.count=0}nextBackoffMs(){if(!this.shouldAttempt())throw new MF("Max attempt exhausted");let e=this.timeoutMs;return this.timeoutMs*=this.config.backoffMultiplier+this.jitter(),this.timeoutMs=Math.min(this.timeoutMs,this.config.backoffMaxMs),this.count+=1,e}shouldAttempt(){return this.config.maxAttempt===void 0||this.config.maxAttempt>this.count}reset(){this.timeoutMs=this.config.backoffInitialMs,this.count=0}attemptsSoFar(){return this.count}jitter(){return(Math.random()-.5)*this.config.spreadMultiplier}static validateConfig(e){if(e.backoffInitialMs<=0)throw new Error("backoffInitialMs must be > 0");if(e.backoffMaxMs<=0)throw new Error("backoffMaxMs must be > 0");if(e.backoffMultiplier<1)throw new Error("backoffMultiplier must be >= 1");if(e.spreadMultiplier<0||e.spreadMultiplier>=2)throw new Error("To ensure positive initial timeout, spreadMultiplier must be between 0 (inclusive) and 2 (exclusive)");if(e.backoffMultiplier-.5*e.spreadMultiplier<1)throw new Error("To ensure positive and non-shrinking exponential timeout, increase backoffMultiplier or decrease spreadMultiplier such that (backoffMultiplier - 0.5 * spreadMultiplier) >= 1")}};function TW(t){let e=new Set,r=i=>{switch(i.type){case"binary":case"in":e.add(i.left);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}function Ug(t){let e=[],r=i=>{switch(i.type){case"binary":case"in":Bt(i.right)&&e.push(i.right);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}var n=null;function AI(t){return!!t&&"fields"in t}function kW(t){return t.type.kind==="object"||t.type.kind==="objects"}function vI(t){return"embedded"in t&&t.embedded}function BF(t){return"computed"in t}var A=t=>({type:"field",ref:t}),h=t=>({type:"view",ref:t}),b=t=>({type:"session",ref:t}),y=t=>({type:"parent",ref:t});function $(t,e){return e&&AI(e)?{aliasedField:t,optional:e.optional,fields:e.fields}:{aliasedField:t,fields:e}}function U(t){return t?AI(t)?t.aliasedField?{aliasedField:t.aliasedField,optional:!0,fields:t.fields}:{optional:!0,fields:t.fields}:{optional:!0,fields:t}:{optional:!0,fields:null}}var Ne=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}};var nc=ke(ud());function Xa(t,e,r,i=!0){let{type:o,name:s}=e,l=s;if(r===void 0)return{argName:l,type:"error",msg:"must not be undefined"};if(r===null){if(!e.nullable)return{argName:l,type:"error",msg:"must not be null"}}else if(o.kind==="list"){if(!(r instanceof Array))return{argName:l,type:"error",msg:"expected an array"};let u=[];for(let c in r){let g=Xa(t,{name:`${s}[${c}]`,type:o.ofType},r[c],i);if(g.type==="error")return g;u.push(g.parsedValue)}return{argName:l,type:"parsing",value:r,parsedValue:u}}else if(o.kind==="map"){if(typeof r!="object"||r instanceof Array||r instanceof Date)return{argName:l,type:"error",msg:"expected a map"};let u={};for(let c in r){let g=Xa(t,{name:`${s}["${c}"]`,type:o.valueType},r[c],i);if(g.type==="error")return g;u[c]=g.parsedValue}return{argName:l,type:"parsing",value:r,parsedValue:u}}else if(o.kind==="enum"){let u=t.enumDef(o);if(typeof r!="string"||!u.isValidValue(r))return{argName:l,type:"error",msg:`expected one of: ${u.values.join(", ")}`}}else{let u,c;switch(o.kind){case"datetime":case"date":i?(u=`string representation of ${o.kind}`,c=p=>{if(typeof p!="string")return null;let f=Date.parse(p);return Number.isNaN(f)?null:new Date(f)}):(u="Date",c=p=>p instanceof Date?p:null);break;case"bigint":u="string representation of bigint",c=p=>typeof p!="string"?null:/^-?[0-9]+$/.test(p)?p:null;break;case"uuid":u="string representation of uuid",c=p=>typeof p!="string"?null:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(p)?p:null;break;case"string":u="string",c=p=>typeof p=="string"?p:null;break;case"int":case"float":u="number",c=p=>typeof p=="number"?p:null;break;case"bool":u="boolean",c=p=>typeof p=="boolean"?p:null;break}let g=c(r);return g===null?{argName:l,type:"error",msg:`expected ${u}, got ${typeof r} from ${JSON.stringify(r)}`}:{argName:l,type:"parsing",value:r,parsedValue:g}}return{argName:l,type:"parsing",value:r,parsedValue:r}}function Es(t,e){return new Ne(`${t.join(".")} - ${e}`)}function ih(t,e,r,i,o,s){for(let l in e){let u=e[l],c=sn(r,l);if(!c)throw Es(t,nc.oneLine`
        Found arg with name '${l}', but the field doesn't accept an
        arg with this name`);if(Bt(u)){let g=sn(u.type==="session"?s.session.args:i,u.ref);if(!g)throw Es(t,nc.oneLine`
          Found arg with name '${u.ref}', but there isn't a declaration of
          an arg with this name`);if(g.nullable&&!c.nullable)throw Es(t,nc.oneLine`
          Query arg '${u.ref}' is nullable but used as a field argument that
          is not nullable`);if(!ic(g.type,c.type)&&!s.legacyConfig.isTypeConversionExempted(o?"computedFieldArg":"viewArg",g.type.kind,c.type.kind,t.join(".")+"."+g.name))throw Es(t,nc.oneLine`
          Query arg '${g.name}' of type ${g.type.kind} is being
          used for field argument '${c.name}' of type
          ${c.type.kind}`)}else{let g=Xa(s,c,u);if(g.type==="error")throw Es(t,`Arg '${g.argName}': ${g.msg}`)}}for(let{name:l}of r)if(e[l]===void 0)throw Es(t,`Argument '${l}' is required`)}function za(t,e){let r=new Set;for(let{name:i}of e){if(r.has(i))throw new Ne(nc.oneLine`
        ${t} declares multiple arguments named '${i}'
      `);r.add(i)}}function ic(t,e){return t.kind==="map"&&e.kind==="map"?ic(t.valueType,e.valueType):t.kind==="list"&&e.kind==="list"?ic(t.ofType,e.ofType):t.kind==="object"&&e.kind==="object"||t.kind==="objects"&&e.kind==="objects"?t.name===e.name:t.kind===e.kind||t.kind==="date"&&e.kind==="datetime"||t.kind==="bigint"&&e.kind==="string"||t.kind==="uuid"&&e.kind==="string"}var pr=ke(ud());var m2=ke(ud());var cd=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated,this.bannedFromViews=e.bannedFromViews}validate(e,r){if(this.type.kind==="enum"&&!e.enums.has(this.type.name))throw new Ne(m2.oneLine`
        field '${this.name}' of object type '${r.name}' refers to undefined
        enum type '${this.type.name}'`)}};function b2(t){return!f2(t)&&!pd(t)}var lm=ke(ud()),Ja=class{constructor(e){this.queriedFields=[];this.pendingComputedFields=new Set;this.name=e.name,this.fields=new Map,this.embedded=e.embedded,this.naturalKey=e.naturalKey,this.annotations=e.annotations,this.deprecated=e.deprecated;for(let r of e.fields)kW(r)?(this.fields.set(r.name,new bi(r)),vI(r)&&this.queriedFields.push(r.name)):BF(r)?this.pendingComputedFields.add(r.name):(this.fields.set(r.name,new cd(r)),this.queriedFields.push(r.name));this.needsTransform=e.fields.some(({type:r})=>sh(r)||r.kind==="list"&&sh(r.ofType))}constructComputedFields(e,r){for(let i of e.fields)BF(i)&&(this.fields.set(i.name,new gd(i,this,r)),this.pendingComputedFields.delete(i.name))}validate(e){if(this.name==="root")for(let r of this.fields.values())if(r instanceof bi){if(r.embedded)throw new Ne(lm.oneLine`
               root fields cannot be embedded type, but '${r.name}'
               is embedded`)}else throw new Ne(lm.oneLine`
            root fields must be of object type, but '${r.name}' is
            '${r.type.kind}'`);else this.embedded||this.fieldDef("id");for(let r of this.fields.values())r.validate(e,this)}fieldDef(e){let r=this.fields.get(e);if(r)return r;throw this.pendingComputedFields.has(e)?new Ne(lm.oneLine`
        field '${e}' is a computed field of '${this.name}', but computed fields haven't yet been constructed.
        You may need to re-order objects in the Schema definition.
      `):new Ne(lm.oneLine`
      field '${e}' isn't present in object type '${this.name}'`)}readPlainObject(e){if(!this.needsTransform)return e;let r={id:e.id};for(let[i,{type:o}]of this.fields.entries()){if(!(i in e))continue;let s=e[i];r[i]=this.readPlainObjectField(i,s,o)}return r}readPlainObjectField(e,r,i){if(!this.needsTransform)return r;if(i||(i=this.fields.get(e).type),r!==null){if(sh(i))return y2(r);if(i.kind==="list"&&sh(i.ofType))return r.map(y2)}return r}};function sh(t){return t.kind==="date"||t.kind==="datetime"}function y2(t){return Et(typeof t=="string"),new Date(t)}var YF=ke(ud());var qF=t=>({type:"ok",value:t,unwrap(){return t},unwrapErr(){throw new Error(`Expected Err, found Ok(${t})`)}}),dm=t=>({type:"err",error:t,unwrap(){throw t instanceof Error?t:new Error(`Expected Ok, found Err(${t})`)},unwrapErr(){return t}});var Qa=class{constructor(e,r,i,o,s,l,u){this.name=e;this.metadata=s;this.context=l;this.rootShapeOverride=u;this.annotations=r.annotations,this.dslDef=Object.freeze(JSON.parse(JSON.stringify(r))),this.fields=r.fields,this.root=new Us({parent:this,objectDef:i,objectFieldDef:new bi({name:e,type:{kind:"object",name:i.name}}),fieldArgs:{},fields:r.fields,viewArgs:r.args||[],schema:o,metadata:{shouldValidateDeprecated:!!(s!=null&&s.shouldValidateDeprecated),shouldUseMissingFields:!!(s!=null&&s.shouldUseMissingFields)},context:l,shapeOverride:u}),this.args=r.args||[],this.props=r.props,this.schema=o,za(`View '${e}'`,this.args)}get path(){var e;return this.isComputedFieldDependency?[(e=this.metadata)==null?void 0:e.computedObjectName]:[]}get isComputedFieldDependency(){var e;return!!((e=this.metadata)!=null&&e.isComputedFieldDependency)}_parseAndValidateArguments(e,r){let i={};for(let o in e){if(o==="__requestId"){i[o]=e[o];continue}let s=e[o],l=sn(this.args,o);if(l){let u=Xa(this.schema,l,s,r);if(u.type==="error")return dm(new Ne(YF.oneLine`
View '${this.name}': argument error: '${u.argName}' '${u.msg}'`));i[o]=u.parsedValue}else return dm(new Ne(YF.oneLine`
View '${this.name}': argument error: '${o}' is not a valid argument
`))}for(let{name:o}of this.args)if(e[o]===void 0)return dm(new Ne(`View '${this.name}': Missing argument '${o}'`));return qF(i)}parseAndValidateArguments(e){return this._parseAndValidateArguments(e,!0)}validateArguments(e){let r=this._parseAndValidateArguments(e,!1);return r.type==="ok"?qF(void 0):dm(r.error)}hasStaticQueries(){let e=[this.root];for(;e.length;){let r=e.pop();if(r.hasStaticQueries())return!0;for(let i of r.queries.values()||[])e.push(i)}return!1}};var gd=class{constructor(e,r,i){this.objectDef=r;if(this.name=e.name,this.type=e.type,this.nullable=!1,this.deprecated=e.deprecated,this.dependencies=e.dependencies,!r.naturalKey){this.args=(e.args||[]).concat([{name:"_rootId",type:{kind:"string"}}]),this.view=new Qa(this.name,{fields:{root:[{_rootId:h("_rootId")},e.dependencies]},args:this.args},new Ja({name:"root",fields:[{name:"root",args:[{name:"_rootId",type:{kind:"string"}}],type:{kind:"object",name:r.name},filter:["id","=",A("_rootId")]}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0});return}let o=[],s={};Array.from(r.naturalKey).forEach(c=>{let g=r.fields.get(c);if(!g)throw new Error(`cannot create computed field def for ${e.name}; natural key ${c} is not found on object def for ${r.name}`);if(!b2(g))throw new Error(`cannot create computed field def for ${e.name}; natural key ${g.name} is not of scalar type on object def for ${r.name}`);o.push({name:"_nk_"+c,type:g.type}),s["_nk_"+c]=h("_nk_"+c)}),this.args=(e.args||[]).concat(...o);let l,u=[];Array.from(r.naturalKey).forEach(c=>{u.push([c,"=",A("_nk_"+c)])}),u.length>1?l={and:u}:l=u[0],this.view=new Qa(this.name,{fields:{root:[s,e.dependencies]},args:this.args},new Ja({name:"root",fields:[{name:"root",args:o,type:{kind:"object",name:r.name},filter:l}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0},void 0,i.scopedQueryShapeFromRoot(r.name))}get displayName(){return`${this.objectDef.name}.${this.name}`}validate(e,r){za(`Computed field '${this.name}' of object type '${r.name}'`,this.args)}};function pd(t){return typeof t.view=="object"}var I2=new Map([["root",["latestClipboardData","lastFrameSelection","userNotificationBell"]],["file",["presenter"]]]),bi=class{constructor(e){if(this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated,this.bannedFromViews=e.bannedFromViews,vI(e))this.embedded=!0,this.args=[],this.checkCanRead=void 0;else{if(this.embedded=!1,this.args=e.args||[],this.expectedMaxCount=e.expectedMaxCount,this.filter=e.filter?XF(e.filter):void 0,e.neverCheckCanRead&&e.checkCanRead)throw new Error("neverCheckCanRead: true cannot be declared alongside checkCanRead.");this.neverCheckCanRead=e.neverCheckCanRead||!1,this.checkCanRead=e.checkCanRead||void 0,this.pagination=e.pagination,this.resolver=e.resolver}this.orderBy=_De(e.orderBy)}isNullable(){return this.nullable}isList(){return this.type.kind==="objects"}get filterFields(){let e=new Set;for(let{type:r,ref:i}of Ug(this.filter))r==="parent"&&e.add(i);return e}get dependentFields(){let e=new Set;if(this.orderBy&&this.orderBy!=="Unordered")for(let[r]of this.orderBy)e.add(r);for(let r of TW(this.filter))e.add(r);return e}validate(e,r){var c,g;e.objects.has(this.type.name)||this.throwFieldError(r,`refers to undefined object type '${this.type.name}'`);let i=new Set;if(this.checkCanRead){Object.keys(this.checkCanRead).length===0&&this.throwFieldError(r,"uses checkCanRead attribute and it doesn't take any arguments. checkCanRead must take arguments such as { userId: fieldArg('userId') } or { userId: session('userId') }. This also means the corresponding canRead field must take these arguments as well.");for(let p in this.checkCanRead){let f=this.checkCanRead[p];Bt(f)&&(!sn(this.args,f.ref)&&!sn(e.session.args,f.ref)?this.throwFieldError(r,`uses argument '${f.ref}' in its checkCanRead call but does not declare it`):i.add(f.ref))}}let o=e.objectDef(this.type);this.embedded&&!o.embedded&&this.throwFieldError(r,`refers to object '${this.type.name}' as an embedded field, but object '${this.type.name}' is not marked as embedded`),o.embedded&&!this.embedded&&this.throwFieldError(r,`refers to embedded object type '${this.type.name}' without marking as embedded. Add embedded: true`),this.isResolvable(r)||this.throwFieldError(r,"does not contain a filter or resolver and is not embedded"),this.checkCanRead&&(!this.checkCanRead.fieldName&&!o.fields.has("canRead")&&this.throwFieldError(r,`has checkCanRead set to true but '${o.name}' does not have a 'canRead' field`),this.checkCanRead.fieldName&&!o.fields.has(this.checkCanRead.fieldName.toString())&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${o.name}' does not have a this field`),this.checkCanRead.fieldName&&o.fields.get(this.checkCanRead.fieldName.toString()).type.kind!=="bool"&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${this.checkCanRead.fieldName.toString()}' return type is not bool`)),za(`field '${this.name}' of object type '${r.name}'`,this.args);let s=p=>{let f=o.fields.get(p.left);return f||this.throwFilterError(r,`refers to field '${p.left}', which does not exist on object '${this.type.name}'`),f},l=p=>{if(Bt(p.right)&&p.right.type==="field"){let f=sn(this.args,p.right.ref);return f||this.throwFieldError(r,`uses argument '${p.right.ref}' in its filter but does not declare it`),i.add(p.right.ref),f}if(Bt(p.right)&&p.right.type==="parent"){let f=r.fields.get(p.right.ref);return f||this.throwFieldError(r,`refers to unknown parent field '${p.right.ref}' in its filter`),f}throw new Ne(pr.oneLine`
        Filter condition of '${this.name}' in object type ${r.name} expects an argument or parent field,
        but is a ${typeof p.right} with the value '${p.right}'`)},u=p=>{if(!p)return;let f=null,I=null;switch(p.type){case"binary":if(f=s(p),["list","map","object","objects"].indexOf(f.type.kind)>-1)throw new Ne(pr.oneLine`
              Cannot filter on field '${p.left}' in object type '${r.name}'. Filter on type
              '${f.type.kind}' is not supported.`);if((f.type.kind==="date"||f.type.kind==="datetime")&&(p.op==="="||p.op==="<>")&&p.right!==null)throw new Ne(pr.oneLine`
              Cannot filter on field '${p.left}' in object type '${r.name}'. '${p.op}' filter
              on type '${f.type.kind}' is not is not supported for non-null values.`);if(pd(f))throw new Ne(pr.oneLine`
              Cannot filter on field '${p.left}' in object type '${r.name}'. Filters on computed fields
              are not supported since filter conditions get translated directly to SQL queries and there are no
              column in the database corresponding directly to the computed field.`);if(Bt(p.right)){if(I=l(p),!ic(I.type,f.type)&&!e.legacyConfig.isTypeConversionExempted("filterArg",I.type.kind,f.type.kind,`${r.name}.${this.name}.${p.left}`))throw new Ne(pr.oneLine`
                Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${f.type.kind}' but RHS is a '${I.type.kind}'`)}else if(p.right!==null)switch(f.type.kind){case"int":case"float":if(typeof p.right!="number")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a '${typeof p.right}'`);break;case"string":case"bigint":case"uuid":if(typeof p.right!="string")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof p.right}'`);break;case"enum":if(typeof p.right!="string")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof p.right}'`);let v=e.enumDef(f.type);if(!v.isValidValue(p.right))throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to invalid enum value '${p.right}'.
                      Expecting one of ${v.values.join(", ")}`);break;case"bool":if(typeof p.right!="boolean")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a '${typeof p.right}'`);break;case"datetime":case"date":if(!(p.right instanceof Date))throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a date but RHS is a '${typeof p.right}'`);break;default:throw new Ne(pr.oneLine`
                    Filter on field '${p.left}' in object type '${r.name}' has unexpected type ${f.type.kind}`)}else if([">","<",">=","<="].indexOf(p.op)>-1)throw new Ne(pr.oneLine`
                  Cannot filter on field '${p.left}' in object type '${r.name}'. '${p.op}' filter
                  on type '${f.type.kind}' is not is not supported for null values.`);break;case"in":if(f=s(p),["list","map","object","objects","date","datetime"].indexOf(f.type.kind)>-1)throw new Ne(pr.oneLine`
              Cannot filter on field '${p.left}' in object type '${r.name}'. Filter on type
              ${f.type.kind} is not supported.`);if(Bt(p.right)){if(I=l(p),I.type.kind!=="list")throw new Ne(pr.oneLine`
                Cannot filter on field '${p.left}' in object type '${r.name}' because
                argument ${p.right.ref} has invalid type ${I.type.kind}`);if(!ic(I.type.ofType,f.type))throw new Ne(pr.oneLine`
                Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${f.type.kind}' but RHS is a list of '${I.type.ofType.kind}'`)}else if(p.right.length>0)switch(f.type.kind){case"int":case"float":if(typeof p.right[0]!="number")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a list of ${typeof p.right[0]}`);break;case"string":if(typeof p.right[0]!="string")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof p.right[0]}`);break;case"enum":if(typeof p.right[0]!="string")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof p.right[0]}`);let v=e.enumDef(f.type);for(let C of p.right)if(!v.isValidValue(C))throw new Ne(pr.oneLine`
                        Cannot filter on field '${p.left}' in object type '${r.name}' due to invalid enum value '${C}'.
                        Expecting one of ${v.values.join(", ")}`);break;case"bool":if(typeof p.right[0]!="boolean")throw new Ne(pr.oneLine`
                      Cannot filter on field '${p.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a list of ${typeof p.right[0]}`);break;default:throw new Ne(pr.oneLine`
                    Filter on field '${p.left}' in object type '${r.name}' has unexpected type ${f.type.kind}`)}break;case"or":case"and":p.expressions.map(v=>u(v))}};if(u(this.filter),((c=this.resolver)==null?void 0:c.type)==="HTTP"&&this.validateHttpResolver(this.resolver,r,i),((g=this.resolver)==null?void 0:g.type)==="Redis"){let p=I2.has(r.name)&&I2.get(r.name).includes(this.name);!this.nullable&&!p&&this.throwFieldError(r,"uses redis resolver and is non-nullable. Object fields powered by Redis resolvers must be nullable."),this.validateRedisResolver(this.resolver,r,i)}this.pagination&&this.validatePaginationConfig(this.pagination,r,i);for(let p of this.args)if(!i.has(p.name)){if(p.name==="initialPageSize")continue;this.throwFieldError(r,`declares argument '${p.name}' but does not use it`)}}validateHttpResolver(e,r,i){e.queryParams.userId&&Bt(e.queryParams.userId)||this.throwFieldError(r,`uses resolver and it doesn't define userId in its queryParams attribute.
      This is required. Please choose one of the following options and add to queryParams:
      1. If current userId comes from viewArgs, e.g. session('userId'):
         queryParams: { userId: fieldArg('userId') }
         and add an field arg to ${this.name} object field. When using it in views, fill the arg with session('userId').
      2. If current userId can come from parent object:
         queryParams: { userId: parent('the_user_id_field_name') }
      `);for(let o in e.queryParams||{}){let s=e.queryParams[o];!s||!Bt(s)||(s.type==="field"&&(sn(this.args,s.ref)||this.throwFieldError(r,`uses argument ${s.ref}' in its resolver config but does not declare it`),i.add(s.ref)),s.type==="parent"&&!r.fields.get(s.ref)&&this.throwFieldError(r,`refers to unknown parent field '${s.ref}' in its resolver config`))}if(e.realtimePolicy.type==="RedisPubsub")for(let o of e.realtimePolicy.channelPostfix||[])Bt(o)&&(o.type==="field"&&(sn(this.args,o.ref)||this.throwFieldError(r,`uses argument '${o.ref}' in its resolver config but does not declare it`),i.add(o.ref)),o.type==="parent"&&!r.fields.get(o.ref)&&this.throwFieldError(r,`refers to unknown parent field '${o.ref}' in its resolver config`))}validateRedisResolver(e,r,i){e.keyPrefix.length===0&&this.throwFieldError(r,"No key postfix defined in redis resolver config");for(let o of e.keyPostfix)Bt(o)&&(o.type==="field"&&(sn(this.args,o.ref)||this.throwFieldError(r,`uses argument '${o.ref}' in its resolver config but does not declare it`),i.add(o.ref)),o.type==="parent"&&!r.fields.get(o.ref)&&this.throwFieldError(r,`refers to unknown parent field '${o.ref}' in its resolver config`))}validatePaginationConfig(e,r,i){if(e.firstPageSize&&Bt(e.firstPageSize)){let o=sn(this.args,e.firstPageSize.ref);o||this.throwFieldError(r,`uses argument '${e.firstPageSize.ref}' in its pagination config but does not declare it`),o.type.kind!=="int"&&this.throwFieldError(r,`uses argument '${e.firstPageSize.ref}' in its pagination config but it's not int type. It's ${o.type.kind}`),i.add(e.firstPageSize.ref)}if(e.selectedCursorColumn&&Bt(e.selectedCursorColumn)){let o=sn(this.args,e.selectedCursorColumn.ref);o||this.throwFieldError(r,`uses argument '${e.selectedCursorColumn.ref}' in its pagination cursor column config but does not declare it`),o.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${e.selectedCursorColumn.ref}' in its pagination cursor column config but it's not string type. It's ${o.type.kind}`),i.add(e.selectedCursorColumn.ref)}if(e.sortOrder&&Bt(e.sortOrder)){let o=sn(this.args,e.sortOrder.ref);o||this.throwFieldError(r,`uses argument '${e.sortOrder.ref}' in its pagination sort order config but does not declare it`),o.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${e.sortOrder.ref}' in its pagination sort order config but it's not string type. It's ${o.type.kind}`),i.add(e.sortOrder.ref)}}throwFilterError(e,r){throw new Ne(`filter condition of '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}throwFieldError(e,r){throw new Ne(`field '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}isResolvable(e){return this.filter||this.resolver||this.embedded&&e.name!=="root"}};function f2(t){return typeof t.embedded=="boolean"}function _De(t){if(t)return t==="Unordered"?"Unordered":t.map(e=>e instanceof Array?e:[e,"ASC"])}function XF(t){if("or"in t)return{type:"or",expressions:t.or.map(XF)};if("and"in t)return{type:"and",expressions:t.and.map(XF)};let[e,r,i]=t;switch(r){case"in":return{type:"in",left:e,right:i};default:return{type:"binary",left:e,op:r,right:i}}}var ko=class{constructor(e={},r={},i){this.sessionArgs=e;this.viewArgs=r;this.options=i;this.statsCollector={queryNodes:0,instanceNodes:0,computations:0,queriesSubscribed:0,hiddenInstances:0,errorsNullableSoaked:0};this.overrides=null;var o;(o=this.options)!=null&&o.inheritedStats&&(this.statsCollector=this.options.inheritedStats)}get tracingContext(){var e;return(e=this.options)==null?void 0:e.tracingContext}get isContextForComputedField(){var e;return(e=this.options)==null?void 0:e.isContextForComputedField}substituteFieldArgument(e){return Bt(e)?e.type==="session"?this.sessionArgs[e.ref]:this.viewArgs[e.ref]:e}substituteExpressionArgument(e,r,i){return Bt(e)?e.type==="parent"?i[e.ref]:this.substituteFieldArgument(r[e.ref]):e}substituteExpression(e,r,i){let o=s=>{switch(s.type){case"binary":return Kt(He({},s),{right:this.substituteExpressionArgument(s.right,r,i)});case"in":return Kt(He({},s),{right:this.substituteExpressionArgument(s.right,r,i)});case"or":case"and":return Kt(He({},s),{expressions:s.expressions.map(o)})}};return e?o(e):void 0}substituteIndexingHint(e,r,i){if(!e)return null;if(Array.isArray(e.values))return e;let o=this.substituteExpressionArgument(e.values,r,i);return!Array.isArray(o)&&typeof o=="object"&&o!==null?null:{field:e.field,values:Array.isArray(o)?o:[o]}}};var um=class{constructor(e,r,i,o){this.computationDef=e;this.context=r;this.parentLiveViewSpan=o;let s={};for(let l in r.viewArgs){let u=r.viewArgs[l];l.startsWith("_nk_")||(s[l]=u)}this.computationId=JSON.stringify([this.objectName,this.fieldName,i,s])}get fieldDef(){return this.computationDef.computedFieldDef}get objectName(){return this.fieldDef.objectDef.name}get fieldName(){return this.fieldDef.name}trackEvent(e,r){var i;(i=this.context.tracingContext)==null||i.trackComputationEvent(this,e,r)}};var sc=class{constructor(e,r,i,o,s,l,u){this.parent=e;this.computedFieldDef=r;this.fieldArgs=i;this.viewArgs=o;this.optional=u;let c=this.computedFieldDef.name;ih([...l,c],He(He({},this.fieldArgs),this.dummyArgs(e.objectDef)),this.computedFieldDef.args,this.viewArgs,!0,s)}dummyArgs(e){if(e.naturalKey){let r={};return Array.from(e.naturalKey).forEach(i=>{switch(e.fields.get(i).type.kind){case"string":r["_nk_"+i]="";break;case"bigint":r["_nk_"+i]="0";break;case"uuid":r["_nk_"+i]="00000000-0000-0000-0000-000000000000";break;case"int":case"float":r["_nk_"+i]=0;break;case"bool":r["_nk_"+i]=!1;break;case"enum":case"list":case"map":r["_nk_"+i]=[];break;default:throw new Error("this natural key type is unsupported, add a dummy type to this switch for computed fields to work")}}),r}return{_rootId:""}}parameterizedComputation(e,r,i,o){var l;let s={_rootId:r.id};Array.from(i||[]).forEach(u=>{s["_nk_"+u]=r[u]});for(let u in this.fieldArgs){let c=this.fieldArgs[u];s[u]=e.substituteFieldArgument(c)}return new um(this,new ko(e.sessionArgs,s,{logger:(l=e.options)==null?void 0:l.logger,tracingContext:e.tracingContext,isContextForComputedField:!0,inheritedStats:e.statsCollector}),r.id,o)}};var cm=class{constructor(e,r){this.def=e;this.optional=r}};var Us=class{constructor({parent:e,objectDef:r,objectFieldDef:i,fieldArgs:o,fields:s,viewArgs:l,schema:u,metadata:c,optional:g,context:p,shapeOverride:f}){this.queries=new Map;this.computations=new Map;this.projectedFields=new Map;this.transmittedFields=new Set;this.aliasMappings=new Map;this.optionalFields=new Set;this._missingOptionalFields=new Map;var v,C,F;this.parent=e,this.objectDef=r,this.objectFieldDef=i,this.fieldArgs=o,this.optional=g,this.context=p,this.metadata=c,this.shape=f!=null?f:u.scopedQueryShape(this.parent.name,this.objectFieldDef.name);for(let P of i.args)P.name in this.fieldArgs||(P.defaultValue!==void 0?this.fieldArgs=Kt(He({},this.fieldArgs),{[P.name]:P.defaultValue}):P.name==="initialPageSize"&&(this.fieldArgs=Kt(He({},this.fieldArgs),{initialPageSize:0})));if(c!=null&&c.shouldValidateDeprecated&&this.objectDef.deprecated&&!this.objectDef.deprecated.skipValidation){let P=this.path[0];throw new Ne(`Object ${this.objectDef.name} was deprecated on ${this.objectDef.deprecated.date} and cannot be used in views. Found in view ${P}. Reason: ${this.objectDef.deprecated.reason}`)}ih(this.path,this.fieldArgs,i.args,l,this.isComputedFieldDependency,u);for(let P in s){let E=P,J=s[P],k=!1;J&&AI(J)&&(J.aliasedField&&(E=J.aliasedField,this.aliasMappings.set(E,P)),k=!!J.optional,k&&this.optionalFields.add(E),J=J.fields);let[ee,ce]=Array.isArray(J)?J:[{},J],Q;try{Q=this.objectDef.fieldDef(E)}catch(he){if(he instanceof Ne)if(k&&(c!=null&&c.shouldUseMissingFields)){this._missingOptionalFields.set(E,{fieldName:E,info:he.message}),this.transmittedFields.add(E);continue}else throw he}if(Q){if((Q instanceof bi||Q instanceof cd)&&!this.isComputedFieldDependency&&Q.bannedFromViews)throw new Ne(`The field ${E} should not be selected on views and queried on client side because it's marked with bannedFromViews attribute on the object graph. It can only be used as part of computed field dependency.`);if(c!=null&&c.shouldValidateDeprecated&&Q.deprecated&&!Q.deprecated.skipValidation){let he=this.path[0];throw new Ne(`The field ${E} was deprecated on ${Q.deprecated.date} and cannot be used in views. Found in view ${he}. Reason: ${Q.deprecated.reason}`)}if(Q instanceof bi){if(ce===n)throw Es(this.path,`expected nested fields for '${E}' but got '_'`);try{let he=this.isComputedFieldDependency&&this.name==="root"&&Q.name==="root";this.queries.set(E,new Us({parent:this,objectDef:u.objectDef(Q.type),objectFieldDef:Q,fieldArgs:ee,fields:ce,viewArgs:l,schema:u,metadata:c,optional:k,shapeOverride:he?f:void 0}))}catch(he){if(k&&he instanceof Ne&&(c!=null&&c.shouldUseMissingFields)){this._missingOptionalFields.set(E,{fieldName:E,info:he.message}),this.transmittedFields.add(E);continue}else throw he}Q.embedded&&this.transmittedFields.add(E);for(let he of Q.filterFields)this.transmittedFields.add(he)}else if(Q instanceof gd){if(ce!==n)throw Es(this.path,`cannot query field '${E}'`);this.computations.set(E,new sc(this,Q,ee,l,u,this.path,k))}else{if(ce!==n)throw Es(this.path,`cannot query field '${E}'`);this.projectedFields.set(E,new cm(Q,k)),this.transmittedFields.add(E)}}}r.name!=="root"&&this.transmittedFields.add("id");let{checkCanRead:I}=this.objectFieldDef;if(I){let P={};for(let J in I){if(J==="fieldName")continue;let k=I[J];Bt(k)&&this.fieldArgs[k.ref]?P[J]=this.fieldArgs[k.ref]:P[J]=k}let E="canRead";I.fieldName&&(E=I.fieldName.toString()),this.permissionComputation=new sc(this,this.objectDef.fieldDef(E),P,l,u,this.path)}for(let P of this.objectFieldDef.dependentFields)this.transmittedFields.add(P);(F=(C=(v=this.context)==null?void 0:v.options)==null?void 0:C.logger)==null||F.debug("VIEW_QUERY_DEF.CREATE",this.debugFields)}isNullable(){return this.objectFieldDef.isNullable()}isList(){return this.objectFieldDef.isList()}get path(){return[...this.parent.path,this.objectFieldDef.name]}get name(){return this.objectDef.name}get missingOptionalFields(){var e;if(!((e=this.metadata)!=null&&e.shouldUseMissingFields))throw new Error("invalid missingOptionalFields access with shouldUseMissingFields=false, are you trying to call missingOptionalFields from the Livegraph client? The client should only inspect missing fields via a QueryObserver.");return Array.from(this._missingOptionalFields.values())}hasStaticQueries(){var e,r;return((e=this.objectFieldDef.resolver)==null?void 0:e.type)==="HTTP"&&((r=this.objectFieldDef.resolver)==null?void 0:r.realtimePolicy.type)==="Static"}get debugFields(){var e;return{parent:this.parent.name,queryReturnType:this.objectDef.name,field:this.objectFieldDef.name,optional:this.optional,queryFields:JSON.stringify(Array.from(this.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.projectedFields.keys())),canonicalShapeID:(e=this.shape)==null?void 0:e.id}}dealias(e){return this.aliasMappings.get(e)||e}missingOptionalFieldsForEmbeddedInstance(e){let r=[];for(let i of this.optionalFields.values())e[i]===void 0&&r.push({fieldName:i,info:`optional field '${i}' was missing in instance of object '${this.objectDef.name}'`});return r}projectInstance(e){let r={};if(this.objectFieldDef.embedded)for(let i of this.projectedFields.keys())r[this.dealias(i)]=i in e?e[i]:null;else for(let i of this.projectedFields.keys())r[this.dealias(i)]=e[i];for(let i of this.projectedFields.keys())this.optionalFields.has(i)&&(r[this.dealias(i)]={status:"loaded",data:r[this.dealias(i)]});return r}projectResults(e){let r={},i=[...this.projectedFields.keys(),...this.computations.keys(),...this.queries.keys()];for(let o of i){let s=this.dealias(o);s in e?r[s]=e[s]:this.objectFieldDef.embedded&&(r[s]=null)}return r}getMissingProjectedFields(e){let r=[...this.projectedFields.keys(),...this.computations.keys(),...this.queries.keys()],i=[];for(let o of r){let s=this.dealias(o);e[s]===void 0&&i.push(s)}return i}get indexingHint(){if(this._indexingHint!==void 0)return this._indexingHint;if(!this.objectFieldDef.filter)return this._indexingHint=null,null;let e=(i,o)=>{let s=[c=>!!c&&c.field==="id",c=>!!c&&this.objectDef.fieldDef(c.field).type.kind==="string",c=>c!==null,c=>!0],l=s.findIndex(c=>c(i)),u=s.findIndex(c=>c(o));return l<=u?i:o},r=i=>i.type==="or"?null:i.type==="and"?i.expressions.map(r).reduce((o,s)=>e(o,s)):i.type==="in"?{field:i.left,values:i.right}:i.op==="="?{field:i.left,values:Bt(i.right)?i.right:[i.right]}:null;return this._indexingHint=r(this.objectFieldDef.filter)||null,this._indexingHint}get isComputedFieldDependency(){return this.parent.isComputedFieldDependency}};var pm=class{constructor({fields:e,filter:r,limit:i}){this.fields=e,this.limit=i,this.filter=r}matches(e){if(!this.filter)return!0;let r=i=>{switch(i.type){case"binary":let o=e[i.left],s=i.right;switch(i.op){case"=":return o===s;case"<>":return o!==s}if(o===null||s===null)return!1;switch(i.op){case">":return o>s;case">=":return o>=s;case"<":return o<s;case"<=":return o<=s}case"in":let l=e[i.left];return i.right.some(c=>c===l);case"or":return i.expressions.some(r);case"and":return i.expressions.every(r)}};return r(this.filter)}singleMatchingId(){if(this.filter&&this.filter.type==="binary"){let{left:e,right:r}=this.filter;if(e==="id"&&typeof r=="string")return r}return null}};var TDe=200,$a=class{constructor(e,r,i,o){this.queryDef=e;this.context=r;this.parent=i;this.paginationArgs=o;var u;let s=[];for(let c of this.queryDef.objectFieldDef.args){let g=this.queryDef.fieldArgs[c.name];Bt(g)?g.type==="session"?s.push(this.context.sessionArgs[g.ref]):s.push(this.context.viewArgs[g.ref]):s.push(g)}this.usedResolverValues=Ug(this.filter).filter(({type:c})=>c==="parent").map(({ref:c})=>i[c]),this.usedResolverValues.push(...this.getUsedHttpResolverValues()),this.usedResolverValues.push(...this.getUsedRedisResolverValues());let l=[s,this.usedResolverValues];this.isStaticHttpQuery()&&r.viewArgs.__requestId&&l.push(r.viewArgs.__requestId),this.isPaginationQuery()&&l.push(o),this.queryId=kDe(this.queryDef,l),this._substituted=new pm({fields:this.queryDef.objectDef.queriedFields,filter:this.context.substituteExpression(this.filter,this.queryDef.fieldArgs,i)||null,limit:(u=this.queryDef.objectFieldDef.expectedMaxCount)!=null?u:TDe})}queryInfo(){return{objectName:this.queryDef.objectDef.name,parent:{objectName:this.queryDef.parent instanceof Us?this.queryDef.parent.objectDef.name:null,fieldName:this.queryDef.objectFieldDef.name}}}get indexingHint(){return this.context.substituteIndexingHint(this.queryDef.indexingHint,this.queryDef.fieldArgs,this.parent)}get objectName(){return this.queryDef.objectFieldDef.type.name}get filter(){return this.queryDef.objectFieldDef.filter}get orderBy(){return this.queryDef.objectFieldDef.orderBy}substituted(){return this._substituted}getResolvedHttpResolverConfig(){let e=this.queryDef.objectFieldDef.resolver;if((e==null?void 0:e.type)!=="HTTP")return null;let r={};for(let o in e.queryParams){let s=e.queryParams[o],l=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);r[o]=l}let i=[];if(e.realtimePolicy.type==="RedisPubsub"){let o=e.realtimePolicy.channelPostfix;for(let s of o){let l=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);i.push(l)}}return Kt(He({},e),{queryParams:r,realtimePolicy:e.realtimePolicy.type==="RedisPubsub"?Kt(He({},e.realtimePolicy),{channelPostfix:i}):e.realtimePolicy})}getUsedHttpResolverValues(){let e=this.queryDef.objectFieldDef.resolver;if((e==null?void 0:e.type)!=="HTTP")return[];let r=[];for(let i of Object.keys(e.queryParams).sort()){let o=e.queryParams[i];if(!Bt(o)||o.type!=="parent")continue;let s=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);r.push(s)}if(e.realtimePolicy.type==="RedisPubsub"){let i=e.realtimePolicy.channelPostfix;for(let o of i){if(!Bt(o)||o.type!=="parent")continue;let s=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);r.push(s)}}return r}getResolvedRedisResolverConfig(){let e=this.queryDef.objectFieldDef.resolver;if((e==null?void 0:e.type)!=="Redis")return null;let r=[];for(let i of e.keyPostfix){let o=this.context.substituteExpressionArgument(i,this.queryDef.fieldArgs,this.parent);r.push(o)}return Kt(He({},e),{keyPostfix:r})}getUsedRedisResolverValues(){let e=this.queryDef.objectFieldDef.resolver;if((e==null?void 0:e.type)!=="Redis")return[];let r=[];for(let i of e.keyPostfix){if(!Bt(i)||i.type!=="parent")continue;let o=this.context.substituteExpressionArgument(i,this.queryDef.fieldArgs,this.parent);r.push(o)}return r}isContextStale(e){return Ug(this.filter).filter(({type:r})=>r==="parent").some(({ref:r},i)=>this.usedResolverValues[i]!==e[r])}isPaginationQuery(){return this.paginationArgs!==void 0}isStaticHttpQuery(){var e,r;return((e=this.queryDef.objectFieldDef.resolver)==null?void 0:e.type)==="HTTP"&&((r=this.queryDef.objectFieldDef.resolver)==null?void 0:r.realtimePolicy.type)==="Static"}getBinaryFilterResolvedParentValue(e){return!this.filter||this.filter.type!=="binary"||!Bt(this.filter.right)||this.filter.left!==e||this.filter.right.type!=="parent"?null:this.parent[this.filter.right.ref]}getFirstPageSizeOrDefault(e){var o;let r=(o=this.queryDef.objectFieldDef.pagination)==null?void 0:o.firstPageSize;if(!r)return e;let i=this.context.substituteFieldArgument(r);return typeof i=="number"?i:e}getSelectedCursorColumns(){var o,s;let e=(o=this.queryDef.objectFieldDef.pagination)==null?void 0:o.selectedCursorColumn;if(!e)return null;let r=this.context.substituteFieldArgument(e),i=(s=this.queryDef.objectFieldDef.pagination)==null?void 0:s.cursorColumnSet;return typeof r=="string"&&i&&i[r]||null}getPaginationSortOrder(){var i;let e=(i=this.queryDef.objectFieldDef.pagination)==null?void 0:i.sortOrder;if(!e)return null;let r=this.context.substituteFieldArgument(e);return r==="ASC"||r==="DESC"?r:null}order(){let e=this.orderBy;return e==="Unordered"?null:(r,i)=>{for(let[o,s]of[...e||[],["id","ASC"]]){let l=r[o],u=i[o];if(!(l===null&&u===null)){if(l===null)return s==="ASC"?1:-1;if(u===null||l<u)return s==="ASC"?-1:1;if(l>u)return s==="ASC"?1:-1}}return 0}}};function kDe(t,e){let r=t.parent instanceof Us?t.parent.objectDef.name:null;return t.isComputedFieldDependency&&r==="root"&&t.objectFieldDef.name==="root"?JSON.stringify(["computed","root",t.objectDef.name].concat(e)):JSON.stringify([r,t.objectFieldDef.name].concat(e))}function h2(t,e){let r=JSON.parse(e);if(r[0]==="computed")return{kind:"object",name:r[2]};let i=r[0],o=r[1],l=t.objectDef({kind:"object",name:i}).fieldDef(o);if(!(l instanceof bi))throw new Error(`queryId ${e} references a non-object field`);return l.type}function oc(t,e){e&&(t.queryNodes+=e.queryNodes,t.instanceNodes+=e.instanceNodes,t.maxDepth=Math.max(t.maxDepth,e.maxDepth+1),t.computations+=e.computations,t.failedQueries+=e.failedQueries)}var zF=class{constructor({parent:e,queryDef:r,observable:i,context:o}){this.children=[];this._status={type:"loading"};this.initStats=null;this._isLoaded=!1;this.nextCursor={start:null,end:null};this.previousPageCountsForReconnection=null;this.isPaginatedNodeFetching=!1;this.clientIsFetching=!1;var c,g,p;this.parent=e,this.queryDef=r,this.observable=i,this.context=o,this.query=new $a(r,o,e.instance);let s=(c=o.tracingContext)==null?void 0:c.tracer,l=e.queryDef.objectDef.name==="root"?"root":e.queryDef.objectDef.name;this.loadSpan=s==null?void 0:s.startSpan(zF.SPAN_TAG,{childOf:e.loadSpan,tags:{"resource.name":l+"."+r.objectFieldDef.name,queryId:this.query.queryId}}),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0;let u=Tn.DEFAULT_INITIAL_COUNT;this.children.push(new Tn({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:u}})),(p=(g=this.context.options)==null?void 0:g.paginationQueryNodeMap)==null||p.set(this.query.queryId,this)}get fieldName(){return this.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,"pagination-"+this.fieldName]}result(){var s,l;if(this._status.type==="loading")return{status:"loading",data:null,errors:null};if(this._status.type==="failed"){(s=this.loadSpan)==null||s.finish();let u=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:u,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let e=[],r=[],i=!0;for(let u of this.children){let c=u.result();switch(c.status){case"loading":return this._result=c,this._result;case"errors":{i=!1;for(let g of c.errors)r.push(Kt(He({},g),{path:[this.fieldName,...g.path]}));break}case"loaded":{for(let g of c.errors)r.push(Kt(He({},g),{path:[this.fieldName,...g.path]}));Array.isArray(c.data)?e.push(...c.data):c.data&&e.push(c.data);break}}}if(!i)return this._result={status:"errors",data:null,errors:r},this.clientIsFetching=!1,this._result;let o=Object.assign(e,{loadNext:u=>{var c,g;(c=this._result)!=null&&c.data&&(this._result=He({},this._result),((g=this._result.data)==null?void 0:g.isLoadingNextPage)!==void 0&&(this._result.data.isLoadingNextPage=!0),this.parent.resetResult(),this.parent.resultsUpdated(),this.loadNextPage(u))},hasNextPage:()=>this.hasNextPage(),isLoadingNextPage:!1});return(l=this.loadSpan)==null||l.finish(),this._result={status:"loaded",errors:r,data:o},this.clientIsFetching=!1,this._result}resultsUpdated(){this.children.every(e=>e.isLoaded())&&(this._status.type="loaded"),this._status.type!=="loading"&&this.parent.resultsUpdated()}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs,queryId:this.query.queryId}}onError(e){this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated(),this.isPaginatedNodeFetching=!1}hasNextPage(){return!!this.nextCursor.end}isLoadingNextPage(){return this.clientIsFetching}loadNextPage(e){var i,o,s,l;if(this.isPaginatedNodeFetching){(o=(i=this.context.options)==null?void 0:i.logger)==null||o.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there is an ongoing fetch more request.`));return}if(this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0,!this.hasNextPage()){(l=(s=this.context.options)==null?void 0:s.logger)==null||l.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there are no more pages left`));return}let r={before:this.nextCursor.start,after:this.nextCursor.end,count:e};this.children.push(new Tn({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:r})),this.observable.requestPaginationChange(this.query,r)}destroy(){var e,r;for(let i of this.children)i.destroy();(r=(e=this.context.options)==null?void 0:e.paginationQueryNodeMap)==null||r.delete(this.query.queryId)}recreateIfStale(e,r){for(let i=0;i<this.children.length;i++){let o=this.children[i],s=o.recreateIfStale(e,r);s&&(o.destroy(),this.children[i]=s)}}onPaginationResults(e){if(this.isPaginatedNodeFetching=!1,this.nextCursor=e,this.previousPageCountsForReconnection)if(this.previousPageCountsForReconnection.length&&this.nextCursor.end){let r=this.previousPageCountsForReconnection.shift();this.loadNextPage(r)}else this.previousPageCountsForReconnection=null}isLoaded(){if(this._status.type==="loading")return!1;if(this._isLoaded)return!0;for(let e of this.children.values())if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children.values())oc(this.initStats,e.getInitStats());return this.initStats}startReconnectionState(){this.previousPageCountsForReconnection=this.children.map(r=>r.paginationArgs.count);for(let r of this.children)r.destroy();this.children=[],this.nextCursor={start:null,end:null};let e=this.previousPageCountsForReconnection.shift();this.children.push(new Tn({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:e}})),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0}onInitialResults(e,r,i){throw new Error("PaginationNode should never directly receive results.")}onAddResult(e){throw new Error("Method not implemented.")}onRemoveResult(e,r){throw new Error("Method not implemented.")}onUpdateResult(e){throw new Error("Method not implemented.")}detachChild(e){throw new Error("Method not implemented.")}restoreChild(e){throw new Error("Method not implemented.")}overridesChanged(){throw new Error("Method not implemented.")}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);for(let r of this.children.values())e.push(...r.getLoadingPathsForDebugging());return e}resultWithLoadingStates(){throw new Error("Method not implemented.")}},wo=zF;wo.SPAN_TAG="LiveViewPaginationQueryNode";var x2=Object.freeze({status:"loading",data:null,errors:null}),VQe=Object.freeze({status:"disabled",data:null,errors:null}),wDe=new Map;var oh=class{constructor({parent:e,queryDef:r,observable:i,context:o,paginationData:s}){this.children=new Map;this.detachedChildren=new Set;this._isLoaded=!1;this._status={type:"loading"};this.initStats=null;var p;this.parent=e,this.observable=i,this.context=o,this.unsubscribe=()=>{};let l;e instanceof wo&&s?(l=this.parent.parent.instance,this.paginationArgs=s,this.query=new $a(r,o,l,{before:s.before,after:s.after,count:s.count})):(Et(e instanceof Li),l=e.instance,this.query=new $a(r,o,l));let u=(p=o.tracingContext)==null?void 0:p.tracer,c=e.queryDef.objectDef.name==="root"?"root":e.queryDef.objectDef.name;this.loadSpan=u==null?void 0:u.startSpan(oh.SPAN_TAG,{childOf:e.loadSpan,tags:{"resource.name":c+"."+r.objectFieldDef.name,queryId:this.query.queryId}}),o.statsCollector.queryNodes++;let{objectFieldDef:g}=r;if(this.isEmbedded||g.name in l){let f=l[g.name],I=l.id;if(!f)this.onInitialResults({},!1,void 0,[]);else if(Array.isArray(f)){let v={};f.forEach((F,P)=>{var J,k;let E=`${I}-${P.toString().padStart(10,"0")}`;F instanceof Object?v[E]=He({id:E},F):typeof F=="string"?v[E]={id:F}:(k=(J=this.context.options)==null?void 0:J.logger)==null||k.warn("EMBEDDED_INSTANCE_INVALID_TYPE",this.query.queryId,F)});let C=[];for(let F in l){C=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(v[F]);break}this.onInitialResults(v,!1,void 0,C)}else{let v=`${I}-${0}`,C=He({id:v},f),F=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(C);this.onInitialResults({[v]:C},!1,void 0,F)}}else this.unsubscribe=this.observable.subscribeQuery(this.query,this)}get isEmbedded(){return this.query.queryDef.objectFieldDef.embedded}get fieldName(){return this.query.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,this.fieldName]}get debugFields(){var e;return{query:this.query.queryId,canonicalShapeID:(e=this.query.queryDef.shape)==null?void 0:e.id,path:this.path,embedded:this.isEmbedded}}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs}}overridesChanged(){var e;(e=this.context.overrides)!=null&&e.has(this.query.objectName)&&this.resetResult();for(let[r,i]of this.children)i.overridesChanged()}destroy(){for(let e of this.children.values())e.destroy();this.unsubscribe()}onError(e){var r;(r=this.loadSpan)==null||r.finish(),this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated()}onInitialResults(e,r,i,o){var s,l,u;i&&(Et(this.parent instanceof wo),this.parent.onPaginationResults(i)),(l=(s=this.context.options)==null?void 0:s.logger)==null||l.debug("VIEW_QUERY_NODE.INITIAL_RESULT",this.query.queryId,e),r&&this.context.statsCollector.queriesSubscribed++,Et(this._status.type!=="loaded","Unexpected initial results on already loaded node");for(let c in e)this.children.set(c,new Li(this,this.context,e[c],this.query.queryDef,o||[]));this._status={type:"loaded"},(u=this.loadSpan)==null||u.finish(),this.resetResult(),this.parent.resultsUpdated()}onAddResult(e,r){var i,o;(o=(i=this.context.options)==null?void 0:i.logger)==null||o.debug("VIEW_QUERY_NODE.ADD_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),this.children.set(e.id,new Li(this,this.context,e,this.query.queryDef,r||[])),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e,r){var i,o;if((o=(i=this.context.options)==null?void 0:i.logger)==null||o.debug("VIEW_QUERY_NODE.UPDATE_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),Et(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onUpdateResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let s=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,s)}this.children.get(e.id).onUpdateResult(e,r||[])&&this.parent.resultsUpdated()}onRemoveResult(e){var i,o;let{id:r}=e;if((o=(i=this.context.options)==null?void 0:i.logger)==null||o.debug("VIEW_QUERY_NODE.REMOVE_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),Et(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onRemoveResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let s=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,s)}this.children.get(r).destroy(),this.children.delete(r),this.detachedChildren.delete(r),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.children.delete(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild(e){this.detachedChildren.delete(e.id),this.onAddResult(e),this.resetResult()}resultsUpdated(){this._status.type!=="loading"&&this.parent.resultsUpdated()}recreateIfStale(e,r){if(this.isEmbedded){if(DW(e[this.query.queryDef.objectFieldDef.name],r[this.query.queryDef.objectFieldDef.name]))return}else if(!this.query.isContextStale(r))return;return new oh({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context})}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);let r=[...this.children.values()],i=this.query.order();i&&r.sort(({instance:o},{instance:s})=>i(o,s));for(let o of r){let s=o.getLoadingPathsForDebugging();e.push(...s.map(l=>`${this.fieldName}["${o.instance.id}"].${l}`))}return e}result(){var c,g,p,f,I,v,C,F;if(this._status.type==="loading")return x2;if(this._status.type==="failed"){let P=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:P,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let e=((c=this.context.overrides)==null?void 0:c.get(this.query.objectName))||wDe,r=[];for(let P of this.children.values()){let E=P.instance,J=P.result();if(J.status==="loaded"){let k=e.get(P.instance.id);if(k){if(k.type==="delete")continue;if(k.type==="create")continue;if(k.type==="update")if(E=He(He({},E),k.delta),this.query.substituted().matches(E))J.data=this.query.queryDef.projectResults(He(He({},J.data),k.delta));else continue}}r.push({instance:E,result:J})}for(let[P,E]of e)E.type==="create"&&this.query.substituted().matches(E.instance)&&r.push({instance:E.instance,result:{status:"loaded",data:this.query.queryDef.projectResults(E.instance),errors:[]}});let i=this.query.order();i&&r.sort(({instance:P},{instance:E})=>i(P,E));let{fieldName:o}=this,s=[],l=[],u=!0;for(let{result:P}of r)switch(P.status){case"loading":return this._result=P,this._result;case"errors":u=!1;for(let E of P.errors)s.push(Kt(He({},E),{path:[o,...E.path]}));break;case"loaded":for(let E of P.errors)s.push(Kt(He({},E),{path:[o,...E.path]}));l.push(P.data);break}if(!u)return this.query.queryDef.isNullable()?(this.context.statsCollector.errorsNullableSoaked++,(p=(g=this.context.options)==null?void 0:g.logger)==null||p.info("VIEW_QUERY_NODE.NULLABLE_ERROR_SOAK",He({errors:s},this.debugFields)),this._result={status:"loaded",errors:s,data:null}):this._result={status:"errors",data:null,errors:s},this._result;if(l.length){let P=this.query.queryDef.getMissingProjectedFields(l[0]);if(P.length&&((f=this.context.options)!=null&&f.enableCrossViewIncompleteInstanceCheck))return(v=(I=this.context.options)==null?void 0:I.logger)==null||v.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),P,"ff_enabled_and_set_loading"),this._result=x2,this._result;(F=(C=this.context.options)==null?void 0:C.logger)==null||F.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),P,"set_loaded")}return this.query.queryDef.isList()?(this._result={status:"loaded",errors:s,data:l},this._result):l.length>0?(this._result={status:"loaded",errors:s,data:l[0]},this._result):this.query.queryDef.isNullable()?(this._result={status:"loaded",errors:s,data:null},this._result):(this._result={status:"errors",data:null,errors:[...s,{code:"nonNullableResult",path:[o]}]},this._result)}resultWithLoadingStates(){let e=this.result();return{id:this.query.queryId,status:e.status,children:Array.from(this.children.entries()).map(([r,i])=>i.resultWithLoadingStates()),data:e.status==="errors"?e.errors:void 0}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._status.type==="loading")return!1;if(this._isLoaded)return!0;for(let e of this.children.values())if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[this.query.queryId];for(let[r,i]of this.children)e.push(...i.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:this._status.type==="failed"?1:0};for(let e of this.children.values())oc(this.initStats,e.getInitStats());return this.initStats}},Tn=oh;Tn.DEFAULT_INITIAL_COUNT=10,Tn.SPAN_TAG="LiveViewQueryNode";function C2(t){return t instanceof Tn}var EDe=Object.freeze({status:"loading"}),Eo=class{constructor({parent:e,computationDef:r,observable:i,context:o,instance:s}){this.initStats=null;var c;let l=(c=o.tracingContext)==null?void 0:c.tracer;this.loadSpan=l==null?void 0:l.startSpan("LiveViewComputationNode",{childOf:e.loadSpan,tags:{"resource.name":`${e.queryDef.name}.${r.computedFieldDef.name}`}}),this.parent=e,this.observable=i,this.computation=r.parameterizedComputation(o,s,e.queryDef.objectDef.naturalKey,this.loadSpan),this.computation.trackEvent("LiveViewComputationNode.constructor");let u=r.computedFieldDef.name;u in s?(this.unsubscribe=()=>{},this.onUpdateResult(s[u])):this.unsubscribe=i.subscribeComputation(this.computation,this)}get path(){return[...this.parent.path,this.computation.computationId]}get fieldName(){return this.computation.fieldName}overridesChanged(){}destroy(){this.unsubscribe()}onUpdateResult(e){var r;(r=this.loadSpan)==null||r.finish(),this.computation.trackEvent("LiveViewComputationNode.onUpdateResult"),this._result={status:"loaded",errors:[],data:e},this.parent.resetResult(),this.parent.resultsUpdated()}onErrors(e){var i;(i=this.loadSpan)==null||i.finish(),this.computation.trackEvent("LiveViewComputationNode.onErrors",e);let{name:r}=this.computation.fieldDef;this._result={status:"errors",data:null,errors:e.map(o=>Kt(He({},o),{path:[r,...o.path]}))},this.parent.resetResult(),this.parent.resultsUpdated()}recreateIfStale(e,r){}getLoadingPathsForDebugging(){return this._result?[]:[this.computation.fieldDef.name]}result(){return this._result?this._result:EDe}resultWithLoadingStates(){let e=this.result();return{id:this.computation.computationId,status:e.status,children:[],data:e.status==="errors"?e.errors:void 0}}isLoaded(){return!!this._result}getInitStats(){return this.initStats?this.initStats:this.isLoaded()?(this.initStats={queryNodes:0,instanceNodes:0,maxDepth:1,computations:1,failedQueries:0},this.initStats):null}};function A2(t){return t instanceof Eo}var Li=class{constructor(e,r,i,o,s){this.parent=e;this.context=r;this.instance=i;this.queryDef=o;this.missingOptionalFields=s;this.children=[];this._isLoaded=!1;this.initStats=null;r.statsCollector.instanceNodes++,this.loadSpan=e.loadSpan;for(let[l,u]of o.queries.entries())this.missingOptionalFields.some(g=>l===g.fieldName)||(u.objectFieldDef.pagination?this.children.push(new wo({parent:this,queryDef:u,observable:e.observable,context:r})):this.children.push(new Tn({parent:this,queryDef:u,observable:e.observable,context:r})));for(let[l,u]of o.computations.entries())this.missingOptionalFields.some(g=>l===g.fieldName)||this.children.push(new Eo({parent:this,computationDef:u,observable:e.observable,context:r,instance:i}))}get debugFields(){return{object:this.queryDef.name,parent:this.parent.path,instanceFields:JSON.stringify(Array.from(Object.getOwnPropertyNames(this.instance))),queryFields:JSON.stringify(Array.from(this.queryDef.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.queryDef.projectedFields.keys()))}}get path(){return[...this.parent.path,this.instance.id||"root"]}get queriedChildren(){return this.children.filter(C2)}get computedChildren(){return this.children.filter(A2)}overridesChanged(){for(let e of this.children)e.overridesChanged()}destroy(){for(let e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e,r){let i=RW(e,this.instance,this.queryDef.projectedFields)&&jW(this.missingOptionalFields,r),o=this.instance;this.instance=e;for(let s=0;s<this.children.length;s++){let l=this.children[s],u=l.recreateIfStale(o,e);u&&(l.destroy(),this.children[s]=u)}return i?!1:(this.missingOptionalFields=r,this.resetResult(),!0)}getLoadingPathsForDebugging(){let e=[];for(let r of this.children){let i=r.getLoadingPathsForDebugging();e.push.apply(e,i)}return e}result(){if(this._result)return this._result;let e=[],r=this.queryDef.projectInstance(this.instance),i=!0;for(let o of this.children){let s=o.result();switch(s.status){case"loading":if(this.queryDef.optionalFields.has(o.fieldName)&&this.queryDef.name==="root"){r[this.queryDef.dealias(o.fieldName)]={status:"error",error:`'root.${o.fieldName}' is missing, marked optional. Check server logs for more details.`};continue}return this._result=s,this._result;case"errors":i=!1,e.push.apply(e,s.errors);break;case"loaded":o.fieldName in this.instance&&o instanceof Eo?r[this.queryDef.dealias(o.fieldName)]=this.instance[o.fieldName]:(e.push.apply(e,s.errors),r[this.queryDef.dealias(o.fieldName)]=s.data),this.queryDef.optionalFields.has(o.fieldName)&&(r[this.queryDef.dealias(o.fieldName)]={status:"loaded",data:s.data});break}}for(let o of this.missingOptionalFields)r[this.queryDef.dealias(o.fieldName)]={status:"error",error:o.info||""};return i?this._result={status:"loaded",errors:e,data:r}:this._result={status:"errors",data:null,errors:e},this._result}resultWithLoadingStates(){return{id:this.instance.id,status:this.result().status,children:this.children.map(e=>e.resultWithLoadingStates()),data:this.instance}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._isLoaded)return!0;for(let e of this.children)if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[];for(let r of this.queriedChildren)e.push(...r.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:0,instanceNodes:1,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children)oc(this.initStats,e.getInitStats());return this.initStats}};function v2(t){let e=[],r=i=>{if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i===void 0)return;if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);if(Array.isArray(i)){let u="[";for(let c=0;c<i.length;c++)c&&(u+=","),u+=r(i[c])||"null";return u+"]"}if(i===null)return"null";if(e.indexOf(i)!==-1)throw new TypeError("Converting circular structure to JSON");let o=e.push(i)-1,s=Object.keys(i).sort(),l="";for(let u of s){let c=r(i[u]);c&&(l&&(l+=","),l+=JSON.stringify(u)+":"+c)}return e.splice(o,1),"{"+l+"}"};return r(t)}function ac(t,e){return v2([t,e])}var JF=class{constructor(e,r,i,o,s){this.key=e;this.viewDef=r;this.context=i;this.observable=o;this.cancelNextTick=()=>{};this.initResultReady=!1;var c,g;s=s||{};let l=(c=this.context.tracingContext)==null?void 0:c.tracer,u=(g=this.context.tracingContext)==null?void 0:g.viewName;this.loadSpan=l==null?void 0:l.startSpan(JF.SPAN_TAG,{childOf:s.parentSpan,tags:{"resource.name":u,sessionArgs:this.context.sessionArgs,viewArgs:this.context.viewArgs}}),this.root=new Li(this,i,{},r.root,[]),Et(!s.onResultsResolved||s.onNextTick),this.root.children.length===0&&s.onNextTick&&(this.cancelNextTick=s.onNextTick(()=>this.resultsUpdated())),this.onResultsResolved=s.onResultsResolved}get path(){return[this.key]}get viewArgs(){return this.context.viewArgs}resultsUpdated(){this.onResultsResolved&&this.onResultsResolved(this.result()),this.reportTime()}overridesChanged(){this.root.overridesChanged()}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resultWithLoadingStates(){return this.root.resultWithLoadingStates()}resetResult(){}isLoaded(){return this.root.isLoaded()}getQueryIds(){return this.root.getQueryIds()}reportTime(){var r;let{tracingContext:e}=this.context;if(e&&!this.initResultReady&&this.isLoaded()){(r=this.loadSpan)==null||r.finish(),e.tracer=void 0,this.initResultReady=!0;let i=Date.now()-e.startTime,o=this.root.getInitStats();o&&e.viewInitReporter(e.viewName,this.context.viewArgs,this.context.sessionArgs,o,this.context.statsCollector,!!this.context.isContextForComputedField,i,this.context.tracingContext.originalViewName)}}},md=JF;md.SPAN_TAG="LiveView";var ah=class{constructor(e,r){this.key=e;this.value=r}orInsert(){return this.value}orInsertWith(){return this.value}andModify(e){return e(this.value),this}},lh=class{constructor(e,r){this.key=e;this.map=r}orInsert(e){return this.map.set(this.key,e),e}orInsertWith(e){return this.orInsert(e())}andModify(){return this}},bd=class extends Map{entry(e){return this.has(e)?new ah(e,this.get(e)):new lh(e,this)}},QF=class extends ah{orDefault(){return this.value}},$F=class extends lh{orDefault(){return this.orInsert(this.map.default(this.key))}},dh=class extends Map{constructor(r,i){super(i);this.default=r}entry(r){return this.has(r)?new QF(r,this.get(r)):new $F(r,this)}};var fd=class{constructor(e,r){this.serverId=null;this.shadowMutations=new Set;this.shadowQueries=new Set;this.serverQueries=new Set;this.serverIdResolveList=[];this.serverFields=e,this.shadowFields=e,r||(this.serverId=e.id)}fields(){return this.shadowMutations.size===0?this.serverFields:this.shadowFields}dependentQueries(){return this.shadowMutations.size===0?this.serverQueries:this.shadowQueries}resolvePendingServerIdList(e){this.serverId=e.id;for(let r of this.serverIdResolveList)r(this.serverId);this.serverIdResolveList=[]}applyMutation(e){if(this.serverFields=He(He({},this.serverFields),e),this.shadowFields=Kt(He({},this.shadowFields),{id:e.id}),this.resolvePendingServerIdList(e),this.shadowMutations.size===0)for(let r of this.dependentQueries().values())for(let i of r.observers)i.onUpdateResult(this.serverFields,r.missingFields)}applyShadowMutation(e,r,i){this.shadowMutations.size===0&&(this.shadowFields=He({},this.serverFields),this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(e),i&&(this.shadowFields=He(He(He({},this.shadowFields),i),r))}removeShadowMutation(e,r){r?this.shadowMutations.delete(e):this.shadowMutations=new Set}getServerSideId(){if(this.serverId)return Promise.resolve(this.serverId);let[e,r]=dd();return this.serverIdResolveList.push(r),e}};var gm=class{constructor(e,r){this.objectDef=e;this.emitter=r;this.instanceStates=new bd;this.instanceStatesByUuid=new bd;this.shadowInstances=new Set;this.queryStates=new bd;this.possiblyOrphanedQueryResults=new bd;this.possiblyOrphanInstances=new Set}getAllQueryIds(){return Array.from(this.queryStates.keys())}addInstance(e,r){if(this.emitter.emit({type:"STORE.ADD_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),Et(e.results.type!=="failed"),!e.results.instances.has(r)){if(e.results.instances.add(r),e.results.type==="loaded")for(let i of e.observers)i.onAddResult(r.fields(),e.missingFields);r.dependentQueries().add(e)}}removeInstance(e,r,i){if(this.emitter.emit({type:"STORE.REMOVE_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),Et(e.results.type!=="failed"),!e.results.instances.has(r)){ks(!1,"tried to remove instance that does not exist");return}e.results.instances.delete(r);for(let o of e.observers)i?o.onRemoveResult(r.fields()):o.detachChild(r.fields());r.dependentQueries().delete(e)}applyShadowMutationAdd(e,r,i){let o=this.instanceStates.entry(r).orInsertWith(()=>new fd({id:r},!0));this.shadowInstances.add(o),o.applyShadowMutation(e,{id:r},i);let s=[];for(let[l,u]of this.queryStates.entries())u.query.matches(o.fields())&&u.results.type!=="failed"&&(s.push(l),this.addInstance(u,o));return s}applyShadowMutationAddWithUUID(e,r,i){let o=this.instanceStatesByUuid.entry(r).orInsertWith(()=>new fd({id:r,uuid:r},!0));this.shadowInstances.add(o),o.applyShadowMutation(e,{uuid:r},Kt(He({},i),{id:r}));let s=[];for(let[l,u]of this.queryStates.entries())u.query.matches(o.fields())&&u.results.type!=="failed"&&(s.push(l),this.addInstance(u,o));return s}applyShadowMutationDelete(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},null);let o=[];for(let s of i.dependentQueries().values())s.results.type!=="failed"&&(this.removeInstance(s,i,!1),o.push(s.queryId));return o}applyShadowMutationDeleteWithUUID(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},null);let o=[];for(let s of i.dependentQueries().values())s.results.type!=="failed"&&(this.removeInstance(s,i,!1),o.push(s.queryId));return o}applyShadowMutationUpdate(e,r,i,o){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},o);let s=i.fields(),l=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(s))this.removeInstance(u,i,!1);else for(let c of u.observers)c.onUpdateResult(s,u.missingFields);l.push(u.queryId)}else u.query.matches(s)&&(this.addInstance(u,i),l.push(u.queryId));return l}applyShadowMutationUpdateWithUUID(e,r,i,o){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},o);let s=i.fields(),l=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(s))this.removeInstance(u,i,!1);else for(let c of u.observers)c.onUpdateResult(s,u.missingFields);l.push(u.queryId)}else u.query.matches(s)&&(this.addInstance(u,i),l.push(u.queryId));return l}removeShadowMutations(e,r,i){for(let o in r){let s=this.instanceStates.get(o);if(s!==void 0&&s.shadowMutations.has(e)&&(s.removeShadowMutation(e,i),s.shadowMutations.size===0)){this.shadowInstances.delete(s);let l=s.fields();for(let u of s.dependentQueries().values())for(let c of u.observers)c.restoreChild(l);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(s))if(!s.dependentQueries().has(u))this.removeInstance(u,s,!0);else for(let c of u.observers)c.onUpdateResult(l,u.missingFields);else s.dependentQueries().has(u)&&this.addInstance(u,s);this.checkOrphanInstance(s)}}}removeShadowMutationsWithUUID(e,r,i){for(let o in r){let s=this.instanceStatesByUuid.get(o);if(s!==void 0&&s.shadowMutations.has(e)&&(s.removeShadowMutation(e,i),s.shadowMutations.size===0)){this.shadowInstances.delete(s);let l=s.fields();for(let u of s.dependentQueries().values())for(let c of u.observers)c.restoreChild(l);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(s))if(!s.dependentQueries().has(u))this.removeInstance(u,s,!0);else for(let c of u.observers)c.onUpdateResult(l,u.missingFields);else s.dependentQueries().has(u)&&this.addInstance(u,s);this.checkOrphanInstance(s)}}}resolvePendingServerIdList(e){for(let r in e){let i=this.objectDef.readPlainObject(e[r]);i.uuid&&this.instanceStatesByUuid.has(i.uuid)&&this.instanceStatesByUuid.get(i.uuid).resolvePendingServerIdList(i)}}applyMutations(e,r){for(let i in e){let o=this.objectDef.readPlainObject(e[i]);if(this.instanceStates.has(i))this.instanceStates.get(i).applyMutation(o);else if(o.uuid&&this.instanceStatesByUuid.has(o.uuid)){let s=this.instanceStatesByUuid.get(o.uuid);this.instanceStates.set(o.id,s),s.applyMutation(o)}else{let s=new fd(o,!1);o.uuid&&this.instanceStatesByUuid.set(o.uuid,s),this.instanceStates.set(o.id,s),this.possiblyOrphanInstances.add(s)}}for(let i in r){let o=r[i];if(!this.queryStates.has(i)){this.possiblyOrphanedQueryResults.set(i,o);continue}let s=this.queryStates.get(i);this.setQueryStateResults(s,o,e)}}subscribe(e,r){let i=this.queryStates.entry(e.queryId).orInsertWith(()=>({queryId:e.queryId,results:{type:"loading",instances:new Set},query:e.substituted(),observers:new Set,missingFields:[]}));if(Et(!i.observers.has(r)),i.observers.add(r),this.possiblyOrphanedQueryResults.has(e.queryId))this.setQueryStateResults(i,this.possiblyOrphanedQueryResults.get(e.queryId)),this.possiblyOrphanedQueryResults.delete(e.queryId);else if(i.results.type==="loaded"){let o={};for(let s of i.results.instances.values()){let l=s.fields();o[l.id]=l}r.onInitialResults(o,!1,void 0,i.missingFields)}else i.results.type==="failed"&&r.onError(i.results.error);return()=>{if(Et(i.observers.has(r)),i.observers.delete(r),i.observers.size===0){if(i.results.type!=="failed")for(let o of i.results.instances.values())o.dependentQueries().delete(i),this.checkOrphanInstance(o);this.queryStates.delete(e.queryId)}}}getIdFromUuid(e){if(!this.instanceStatesByUuid.has(e))throw new Error(`uuid ${e} doesn't exist in object store ${this.objectDef.name}`);return this.instanceStatesByUuid.get(e).getServerSideId()}setQueryStateResults(e,r,i){if("error"in r){e.results={type:"failed",error:r.error};for(let c of e.observers)c.onError(r.error);return}let{results:o,fullResults:s,pagination:l,missingFields:u}=r;if(e.missingFields=u||[],e.results.type==="loaded"){for(let c in o){this.instanceStates.has(c)||Et(this.instanceStates.has(c),`objectId ${c} is missing from ${this.objectDef.name} store. queryResults is ${JSON.stringify(r)}`);let g=this.instanceStates.get(c);if(this.shadowInstances.has(g)){o[c]===!0?g.serverQueries.add(e):g.serverQueries.delete(e);continue}o[c]===!0?this.addInstance(e,g):(this.removeInstance(e,g,!0),this.possiblyOrphanInstances.add(g))}if(s){for(let c of e.results.instances)!this.shadowInstances.has(c)&&!o[c.fields().id]&&(this.removeInstance(e,c,!0),this.possiblyOrphanInstances.add(c));for(let c of this.shadowInstances.values())o[c.fields().id]||c.serverQueries.delete(e)}}else{Et(s),e.results={type:"loaded",instances:e.results.type==="loading"?e.results.instances:new Set};let c={};for(let g in o){Et(o[g]),Et(this.instanceStates.has(g));let p=this.instanceStates.get(g);p.serverQueries.add(e),this.shadowInstances.has(p)||(c[g]=p.fields(),e.results.instances.add(p))}for(let g of this.shadowInstances.values()){let p=g.fields();e.query.matches(p)&&(c[p.id]=p)}for(let g of e.observers)g.onInitialResults(c,!0,l,u)}}cleanupOrphans(){this.possiblyOrphanedQueryResults.clear();for(let e of this.possiblyOrphanInstances)this.checkOrphanInstance(e)}checkOrphanInstance(e){let r=this.instanceStates.has(e.fields().id),i=this.instanceStates.get(e.fields().id)===e,o=e.dependentQueries().size===0,s=this.shadowInstances.has(e);if(r&&i&&o&&!s){this.instanceStates.delete(e.fields().id);let l=e.fields().uuid;l&&this.instanceStatesByUuid.delete(l)}}};var UDe=/(,\"sessionId\":\"session-[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\")/,mm=class{constructor(e){this.objectDef=e;this.states=new dh(()=>({state:{type:"loading"},observers:new Set}))}stripSessionId(e){return e.replace(UDe,"")}applyMutations(e){for(let r in e){let i=e[r],o=this.stripSessionId(r),s=this.states.entry(o).orDefault();if("error"in i)s.state={type:"failed",errors:[{code:"computedFieldError",path:["computedFieldFunction"],error:new Error(i.error.message)}]};else{let{value:l}=i,{fieldName:u}=i;this.objectDef.fields.has(u)&&(l=this.objectDef.readPlainObjectField(u,l),s.state={type:"loaded",value:l})}for(let l of s.observers.values())s.state.type==="loaded"?l.onUpdateResult(s.state.value):s.state.type==="failed"&&l.onErrors(s.state.errors)}}subscribe({computationId:e},r){let i=this.stripSessionId(e),o=this.states.entry(i).orDefault();return Et(!o.observers.has(r)),o.observers.add(r),o.state.type==="loaded"?r.onUpdateResult(o.state.value):o.state.type==="failed"&&r.onErrors(o.state.errors),()=>{o.observers.delete(r),o.observers.size===0&&this.states.delete(i)}}};var uh=class{constructor(e){this.observable=e}subscribeQuery(e,r){return this.observable.subscribeQuery(e,new eD(r))}subscribeComputation(e,r){return this.observable.subscribeComputation(e,new tD(r))}requestPaginationChange(e,r){}},eD=class{constructor(e){this.next=e}onInitialResults(e,r){this.next.onInitialResults(e,r)}onAddResult(e){}onRemoveResult(e,r){}onUpdateResult(e){}onError(e){}detachChild(e){}restoreChild(e){}identifier(){return this.next.identifier()}},tD=class{constructor(e){this.next=e;this.receivedInitialResults=!1}onUpdateResult(e){this.receivedInitialResults||(this.next.onUpdateResult(e),this.receivedInitialResults=!0)}onErrors(e){}};var ch=class{constructor(e,r,i,o,s,l){this.key=e;this.viewRef=r;this.observable=s;this.traceId=l;this.frozenView=null;this.subscriptions=[];this.view=new md(e,i,o,s)}getSubscriptionObservers(){return this.subscriptions}addSubscription(e){this.subscriptions.push(e)}removeSubscription(e){this.subscriptions=this.subscriptions.filter(r=>r!==e)}updateOverrides(e){if(!this.frozenView){let r=this.view.result().status==="loaded";this.frozenView=new md(this.key,this.view.viewDef,new ko(this.view.context.sessionArgs,this.view.context.viewArgs,this.view.context.options),new uh(this.observable)),r&&Et(this.frozenView.result().status==="loaded",`Expected frozen view to be loaded but has loading paths: ${this.frozenView.root.getLoadingPathsForDebugging()}`)}this.frozenView.context.overrides=e,this.frozenView.overridesChanged()}resolveOptimisticUpdates(){this.frozenView=null}viewArgs(){return this.view.viewArgs}activeView(){return this.frozenView?this.frozenView:this.view}destroy(){this.view.destroy()}};function rD(t){let e=new Map;for(let r of t)for(let i in r.mutations){let o=r.mutations[i],s=e.get(i);s||(s=new Map,e.set(i,s));for(let l in o){let u=o[l];if(!u||r.type==="delete")s.set(l,{type:"delete"});else if(r.type==="create")s.has(l)&&console.warn(`Optimistically creating ${i} with id ${l} detected but an optimistic operation with that ID already exists.`),s.set(l,{type:"create",instance:He({id:l},u)});else{let c=s.get(l);c?c.type==="create"?s.set(l,{type:"create",instance:He(He({},c.instance),u)}):c.type==="update"&&s.set(l,{type:"update",delta:He(He({},c.delta),u)}):s.set(l,{type:"update",delta:u})}}}return e}var nD=class{constructor(e){this.emitter=e}criticalAndPage(e){}error(e){}warn(e){}info(e){}debug(e,...r){switch(e){case"VIEW_QUERY_NODE.ADD_RESULT":case"VIEW_QUERY_NODE.UPDATE_RESULT":case"VIEW_QUERY_NODE.REMOVE_RESULT":this.emitter.emit({type:e,queryId:r[0],instance:r[1]});break;case"VIEW_QUERY_NODE.INITIAL_RESULT":this.emitter.emit({type:e,queryId:r[0],instances:r[1]});break;case"CROSS_VIEW_INCOMPLETE_INSTANCES":this.emitter.emit({type:e,queryInfo:r[0],missingProjectedFields:r[1],status:r[2]});break;default:}}},Uo=class{constructor(e,r,i,o,s,l){this.args=e;this.schema=r;this.viewRegistry=i;this.emitter=o;this.onPaginationChange=s;this.enableCrossViewIncompleteInstanceCheck=l;this.viewSubscriptions=new Map;this.failedViewSubscriptions=new Map;this.nextSubscriptionId=1;this.orderedMutationsByView=new Map;this.paginationQueryNodeMap=new Map;this.stores={};this.isInMutationBatch=!1;this.shouldNotifyOnMutationBatchCompletion=!1;this.contextLogger=new nD(this.emitter);for(let[u,c]of r.objects)this.stores[u]={queries:new gm(c,this.emitter),computations:new mm(c)}}getAllQueryIds(){let e=[];for(let r in this.stores){let i=this.stores[r];i&&e.push(...i.queries.getAllQueryIds())}return e}resolvePendingServerIdList(e){for(let r in e){let{instances:i}=e[r],o=this.getStores(r);o&&o.queries.resolvePendingServerIdList(i)}}applyMutations(e){this.emitter.emit({type:"SESSION.APPLY_MUTATIONS",mutations:e});for(let r in e){let{instances:i,queries:o,computations:s}=e[r],l=this.getStores(r);l&&(l.queries.applyMutations(i,o),l.computations.applyMutations(s))}this.notifyObservers();for(let r in e){let i=this.getStores(r);i&&i.queries.cleanupOrphans()}}applyShadowMutations(e,r,i){var c;this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let o=new Set,s={};for(let[g,p]of this.viewSubscriptions.entries())s[g]=p.activeView().root.result().status;for(let g in r){let p=this.getStores(g);if(!p)continue;let f=r[g];for(let I in r[g]){let v=p.queries.instanceStates.get(I),C=f[I];for(let F in C){let P=(c=this.schema.objects.get(g))==null?void 0:c.fields.get(F);P&&pd(P)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${F}' on object '${g}' may not work`)}if(v===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${g}, id ${I}`);continue}Et(C);for(let F of p.queries.applyShadowMutationAdd(e,I,C))o.add(F)}else if(C===null)for(let F of p.queries.applyShadowMutationDelete(e,I,v))o.add(F);else for(let F of p.queries.applyShadowMutationUpdate(e,I,v,C))o.add(F)}}let l=[],u=[];for(let[g,p]of this.viewSubscriptions.entries())s[g]==="loaded"&&p.activeView().root.result().status==="loading"&&(l.push(p.activeView().root.queryDef.objectFieldDef.name),u.push(p.activeView().root.getLoadingPathsForDebugging()));return l.length>0&&console.error(`[Livegraph] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${l.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included. Paths that became loading: ${u}`),this.notifyObservers(),Array.from(o.values())}removeShadowMutations(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let o in r){let s=this.getStores(o);s&&s.queries.removeShadowMutations(e,r[o],i)}this.notifyObservers()}applyShadowMutationsWithUUID(e,r,i){var c;this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let o=new Set,s={};for(let[g,p]of this.viewSubscriptions.entries())s[g]=p.activeView().root.result().status;for(let g in r){let p=this.getStores(g);if(!p)continue;let f=r[g];for(let I in r[g]){let v=p.queries.instanceStatesByUuid.get(I),C=f[I];for(let F in C){let P=(c=this.schema.objects.get(g))==null?void 0:c.fields.get(F);P&&pd(P)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${F}' on object '${g}' may not work`)}if(v===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${g}, uuid ${I}`);continue}Et(C);for(let F of p.queries.applyShadowMutationAddWithUUID(e,I,C))o.add(F)}else if(i==="delete")for(let F of p.queries.applyShadowMutationDeleteWithUUID(e,I,v))o.add(F);else if(C!==null)for(let F of p.queries.applyShadowMutationUpdateWithUUID(e,I,v,C))o.add(F)}}let l=[],u=[];for(let[g,p]of this.viewSubscriptions.entries())s[g]==="loaded"&&p.activeView().root.result().status==="loading"&&(l.push(p.activeView().root.queryDef.objectFieldDef.name),u.push(p.activeView().root.getLoadingPathsForDebugging()));return l.length>0&&console.error(`[Livegraph] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${l.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included. Paths that became loading: ${u}`),this.notifyObservers(),Array.from(o.values())}removeShadowMutationsWithUUID(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let o in r){let s=this.getStores(o);s&&s.queries.removeShadowMutationsWithUUID(e,r[o],i)}this.notifyObservers()}getIdFromUuid(e,r){let i=this.getStores(e);if(!i)throw new Error(`objectName ${e} doesn't exist`);return i.queries.getIdFromUuid(r)}applyShadowMutationsByView(e,r,i,o){this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,operationType:o});let s=this.orderedMutationsByView.get(e);s||(s=[],this.orderedMutationsByView.set(e,s)),s.push({transactionId:r,mutations:i,type:o,resolved:!1});let l=rD(s);for(let[u,c]of this.viewSubscriptions)c.viewRef._name===e&&c.updateOverrides(l);this.notifyObservers()}removeShadowMutationsByView(e,r,i,o){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,success:o});let s=this.orderedMutationsByView.get(e);if(!s){ks(!1,"Removing a shadow mutation from a view that has no mutations.");return}let l=s.findIndex(c=>c.transactionId===r);if(l>=0&&(o?s[l].resolved=!0:s.splice(l,1)),s.filter(c=>!c.resolved).length===0){for(let[c,g]of this.viewSubscriptions)g.viewRef._name===e&&g.resolveOptimisticUpdates();this.orderedMutationsByView.delete(e)}else{let c=rD(s);for(let[g,p]of this.viewSubscriptions)p.viewRef._name===e&&p.updateOverrides(c)}this.notifyObservers()}subscribe(e,r,i,o){let s=this.viewRegistry.get(e._name);if(!s)throw new Error(`View with name ${e._name} not found`);s.validateArguments(r).unwrap();let l=ac(s.name,r),u;this.viewSubscriptions.has(l)?u=this.viewSubscriptions.get(l):(this.args.sessionId||this.emitter.emit({type:"SESSION.SUBSCRIBE_BEFORE_SESSION_ID_SET",sessionArgs:this.args,viewName:s.name}),u=new ch(l,e,s,new ko(this.args,r,{logger:this.contextLogger,isContextForComputedField:!1,paginationQueryNodeMap:this.paginationQueryNodeMap,enableCrossViewIncompleteInstanceCheck:this.enableCrossViewIncompleteInstanceCheck}),this,o),this.viewSubscriptions.set(l,u));let c={id:this.nextSubscriptionId++,view:e,args:r,observer:i,unsubscribe:PW(()=>{u.removeSubscription(c),u.getSubscriptionObservers().length===0&&(this.viewSubscriptions.delete(l),u.destroy())}),clientUnsubscribed:!1,lastResult:null};return u.addSubscription(c),Uo.nextTick(()=>{c.clientUnsubscribed||this.notifyObserver(u,c)}),c}cleanupFailedSubscribeView(e){let r=e,i=this.viewSubscriptions.get(r);if(i){for(let o of i.getSubscriptionObservers()){let s={status:"errors",data:null,errors:[]};Uo.nextTick(()=>{o.clientUnsubscribed||(o.observer(s),o.lastResult=s)})}this.failedViewSubscriptions.set(r,i),this.viewSubscriptions.delete(r)}}hasActiveSubscriptions(e,r){let i=ac(e,r),o=this.viewSubscriptions.get(i);return!!o&&o.getSubscriptionObservers().length>0}uniqueSubscriptions(){let e=[];for(let[r,i]of this.failedViewSubscriptions.entries())this.viewSubscriptions.has(r)||e.push({viewRef:i.viewRef,args:i.viewArgs()});this.failedViewSubscriptions.clear();for(let r of this.viewSubscriptions.values())e.push({viewRef:r.viewRef,args:r.viewArgs(),traceId:r.traceId});return e}startReconnectionStateForPaginationQueries(){for(let e of this.paginationQueryNodeMap.values())e.startReconnectionState()}subscribeQuery(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_QUERY",query:e});let i=this.getStores(e.objectName);return i?i.queries.subscribe(e,r):()=>{}}requestPaginationChange(e,r){this.onPaginationChange(e.queryId,r),this.notifyObservers()}subscribeComputation(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_COMPUTATION",computation:e});let i=this.getStores(e.objectName);return i?i.computations.subscribe(e,r):()=>{}}batchMutations(e){this.isInMutationBatch=!0,this.shouldNotifyOnMutationBatchCompletion=!1;try{e()}finally{this.isInMutationBatch=!1,this.shouldNotifyOnMutationBatchCompletion&&this.notifyObservers()}}notifyObservers(){if(this.isInMutationBatch){this.shouldNotifyOnMutationBatchCompletion=!0;return}for(let e of this.viewSubscriptions.values())for(let r of e.getSubscriptionObservers())this.notifyObserver(e,r)}notifyObserver(e,r){var o;let i=e.activeView().result();r.lastResult!==i&&(((o=r.lastResult)==null?void 0:o.status)==="loaded"&&i.status==="loading"||(this.emitter.emit({type:"SESSION.NOTIFY_OBSERVERS",view:e.viewRef,args:e.viewArgs(),result:i,subscriptionId:r.id}),r.clientUnsubscribed||(r.observer(i),r.lastResult=i)))}getStores(e){let r=this.stores[e];return r||(this.emitter.emit({type:"SESSION.UNEXPECTED_OBJECT_NAME",objectName:e}),null)}static nextTick(e){setTimeout(e,0)}static tick(){return qn(this,null,function*(){return new Promise(e=>{this.nextTick(()=>{e()})})})}getViewSubscriptionsForTesting(){return this.viewSubscriptions}getViewSubscriptionsForDebugging(){let e={};for(let[r,i]of this.viewSubscriptions.entries()){let o=i.activeView().root.result();o.status==="loading"&&(o=Kt(He({},o),{loadingPaths:i.activeView().root.getLoadingPathsForDebugging()})),e[r]=o}return e}prettyPrintLiveViewTree(e){let r="",i=null;if(typeof e=="string"){if(!this.viewSubscriptions.has(e)){let l=[...this.viewSubscriptions.keys()].join(`
`).replace(/"/g,'\\"');throw new Error(`Subscription key not found, possible options: 
${l}`)}r=e,i=this.viewSubscriptions.get(r).activeView().root}else if(e instanceof Li)r=e.parent.key,i=e;else throw new Error("Please enter a subscription key or a LiveViewInstanceNode");let o=`Logging LiveView tree for subscription: ${r} 
View Name: ${i.queryDef.objectFieldDef.name} 
`,s=[[i,0]];for(;s.length>0;){let[l,u]=s.pop();if(o+="  ".repeat(u),l instanceof Li){l.children.forEach(g=>{s.push([g,u+1])});let c=l.instance.id;o+=`I: ${c||"Root Instance"} 
`}else if(l instanceof Tn){l.children.forEach(f=>{s.push([f,u+1])});let c=l.query.queryDef,g=[],p=l.query.context.viewArgs;p&&Object.keys(p).forEach(f=>{g.push(`${c.objectDef.name}.${f} = ${p[f]}`)}),o+=`Q: ${c.objectFieldDef.name} `,g.length>0?o+=`args:(${g.join()})
`:o+=`(${c.objectDef.name})
`}else if(l instanceof Eo){let c=l.result();c.status==="loaded"?o+=`C: ${l.fieldName} = ${c.data} 
`:o+=`C: ${l.fieldName} is loading 
`}}return o}};var ph=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}emit(e){this.listeners.forEach(r=>{try{r(e)}catch(i){console.error(i)}})}};var MDe=5*1e3,LDe=30*1e3,VDe=1*60*60*1e3,BDe=["AWSALBTG","AWSALBTGCORS","AWSALB","AWSALBCORS"],NDe={backoffInitialMs:250,backoffMaxMs:2*60*1e3,backoffMultiplier:2,spreadMultiplier:.3},bm=class{constructor(e,r,i,o,s={}){this.url=e;this.wsImpl=r;this.args=i;this.emitter=o;this.clientOptions=s;this.ws=null;this.state={type:"disconnected"};this.backoff=new $u(NDe);this.onCloseResolve=null;this.reconnectTimeout=null;this.inactivityDisconnect=null;this.preventReconnectForDebugging=!1;this.preventAutoReconnectOnNextClose=!1;this.connectionCount=0;this.observers=new Set;this.visibilityChange=()=>{var e;((e=this.clientOptions.document)==null?void 0:e.visibilityState)==="visible"?(this.clearInactivityDisconnect(),this.connect()):this.scheduleInactivityDisconnect()};this._lastAckTime=new Date(0);s.document&&s.document.addEventListener("visibilitychange",this.visibilityChange),this.registerPingInterval()}cleanup(){this.clientOptions.document&&this.clientOptions.document.removeEventListener("visibilitychange",this.visibilityChange),this.clearInactivityDisconnect(),this.closeWithoutReconnecting()}registerPingInterval(){setInterval(()=>{this.isConnected()&&this.send({messageType:"ping"})},this.getIntervalWithJitter())}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}get debug(){return{disconnect:()=>{this.preventReconnectForDebugging=!0,this.ws&&this.ws.close(1e3,"for-testing")},reconnect:()=>{this.preventReconnectForDebugging=!1,this.connect()},sendPingNow:()=>{this.sendPingNow()}}}connect(){return qn(this,null,function*(){var u;let[e,r]=dd(),i=!1,o=this.connectionCount>0,s=((u=this.clientOptions.document)==null?void 0:u.visibilityState)==="hidden"&&o;if(this.preventReconnectForDebugging||s||this.state.type==="connected"||this.state.type==="connecting")return"skipped";this.clearReconnect(),this.ws=this.wsImpl(this.url),this.setConnectionState({type:"connecting"});let l=this.ws;return this.ws.onopen=c=>{var C,F,P,E,J;let g=l,p=this.ws;if(ks(g===p,"Current websocket is different from newly-opened websocket"),Et(this.ws!==null,"websocket should be non-null"),((C=this.ws)==null?void 0:C.readyState)!==((F=this.ws)==null?void 0:F.OPEN))return;this.setConnectionState({type:"connected",authenticated:!1,count:this.backoff.attemptsSoFar()}),r("success"),i=!0,this.connectionCount+=1;let f=((P=this.clientOptions.tags)==null?void 0:P.clientType)||"unknown",I=He(He({},this.clientOptions.tags),((E=this.clientOptions.document)==null?void 0:E.URL)&&{clientUrl:(J=this.clientOptions.document)==null?void 0:J.URL}),v={messageType:"auth",clientType:f,args:this.args,tags:I};this.emitter.emit({type:"REQUEST_MESSAGE",message:v}),this.ws.send(JSON.stringify(v));for(let k of this.observers)k.onConnectionOpen()},this.ws.onclose=c=>{var g;if(this.setConnectionState({type:"disconnected"}),this.emitter.emit({type:"CONNECTION_CLOSED",url:this.url,closeEvent:c}),c.code===4001&&typeof document=="object")for(let p of BDe)document.cookie=`${p}=; max-age=-1; path=/;`;if(i||r("failure"),(g=this.onCloseResolve)==null||g.call(this),this.preventAutoReconnectOnNextClose){this.preventAutoReconnectOnNextClose=!1;return}this.reconnectTimeout||(this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},this.backoff.nextBackoffMs()))},this.ws.onerror=c=>{this.emitter.emit({type:"ERROR",error:c})},this.ws.onmessage=({data:c})=>{var p,f,I;let g=JSON.parse(c);if(g){switch(this.emitter.emit({type:"RESPONSE_MESSAGE",message:g}),g.messageType){case"authSuccess":this.setConnectionState({type:"connected",authenticated:!0,count:this.backoff.attemptsSoFar()}),this.backoff.reset();break;case"authFail":this.emitter.emit({type:"ERROR",error:new xI}),this.setConnectionState({type:"error",errorType:"authFail"}),this.closeWithoutReconnecting();break;case"ack":this._lastAckTime=new Date;break;case"requestError":this.setConnectionState({type:"error",errorType:"requestError"}),(p=this.ws)==null||p.close();break;case"requestBeforeAuth":this.clientOptions.enableSendingSubscriptionRequestBeforeAuthMsg=!1,this.setConnectionState({type:"error",errorType:"requestBeforeAuth"}),(f=this.ws)==null||f.close();break;case"serverError":this.setConnectionState({type:"error",errorType:"serverError"}),(I=this.ws)==null||I.close();break}for(let v of this.observers)v.handleMessage(g)}},e})}clearReconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}closeWithoutReconnecting(){return qn(this,null,function*(){var i,o;let[e,r]=dd();this.onCloseResolve=r,this.clearReconnect(),this.preventAutoReconnectOnNextClose=!0,!(this.ws===null||((i=this.ws)==null?void 0:i.readyState)===((o=this.ws)==null?void 0:o.CLOSED))&&(this.ws.close(),yield e)})}reconnect(){return qn(this,null,function*(){return this.preventAutoReconnectOnNextClose=!1,this.connect()})}getIntervalWithJitter(){return LDe+(Math.random()-.5)*MDe}isConnected(){var e,r;return this.state.type==="connected"&&!!this.ws&&((e=this.ws)==null?void 0:e.readyState)===((r=this.ws)==null?void 0:r.OPEN)}isAuthenticated(){return this.isConnected()&&this.state.authenticated}isInitial(){return this.connectionCount===1}ready(){return!!this.clientOptions.enableSendingSubscriptionRequestBeforeAuthMsg&&this.isConnected()||this.isAuthenticated()}send(e){this.ready()?(this.emitter.emit({type:"REQUEST_MESSAGE",message:e}),this.ws.send(JSON.stringify(e))):ks(!1,`ClientConnection.send called with message type ${e.messageType} while in non-ready state`)}sendPingNow(){this.isConnected()&&this.send({messageType:"ping"})}getLastAckTime(){return this._lastAckTime}scheduleInactivityDisconnect(){this.inactivityDisconnect=setTimeout(()=>{this.closeWithoutReconnecting()},VDe)}clearInactivityDisconnect(){this.inactivityDisconnect&&(clearTimeout(this.inactivityDisconnect),this.inactivityDisconnect=null)}setConnectionState(e){this.state=e,this.emitter.emit({type:"CONNECTION_STATE",state:e,url:this.url})}getState(){return this.state}isReconnectScheduled(){return this.state.type==="disconnected"&&this.reconnectTimeout!==null}getBackoff(){return this.backoff}};var S2=ke(require("crypto")),mh=new Uint8Array(256),gh=mh.length;function iD(){return gh>mh.length-16&&(S2.default.randomFillSync(mh),gh=0),mh.slice(gh,gh+=16)}var O2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function WDe(t){return typeof t=="string"&&O2.test(t)}var F2=WDe;var on=[];for(let t=0;t<256;++t)on.push((t+256).toString(16).substr(1));function GDe(t,e=0){let r=(on[t[e+0]]+on[t[e+1]]+on[t[e+2]]+on[t[e+3]]+"-"+on[t[e+4]]+on[t[e+5]]+"-"+on[t[e+6]]+on[t[e+7]]+"-"+on[t[e+8]]+on[t[e+9]]+"-"+on[t[e+10]]+on[t[e+11]]+on[t[e+12]]+on[t[e+13]]+on[t[e+14]]+on[t[e+15]]).toLowerCase();if(!F2(r))throw TypeError("Stringified UUID is invalid");return r}var D2=GDe;function ZDe(t,e,r){t=t||{};let i=t.random||(t.rng||iD)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=i[o];return e}return D2(i)}var sD=ZDe;var HDe=2e3;var fm=class{constructor(e,r,i,o,s,l={},u=new Set){this.args=e;this.viewRegistry=i;this.clientOptions=l;this.preloadViewKeys=u;this.transactionId=1;this.syncDelayForDebugging=0;this.syncQueryIds=new Map;this.syncCallbacks=new Map;this.pendingGlobalOptimisticUpdates=new Set;this.globalOptimisticUpdateResolutionCallbacks=[];this.emitter=new ph;this.healthListeners=new Set;this.pendingOptimisticMutationList=new Array;this.pendingMutationList=new Array;var c,g,p,f,I;this.session=new Uo(e,r,i,this.emitter,(v,C)=>{this.requestPaginationChange(v,C)},l.enableCrossViewIncompleteInstanceCheck),this.connection=new bm(o,s,e,this.emitter,l),this.connection.addObserver(this),this.addEventListener(this.healthListener.bind(this));for(let v=0;v<((g=(c=l==null?void 0:l.preloadedViews)==null?void 0:c.length)!=null?g:0);v++){let C=(p=l==null?void 0:l.preloadedViews)==null?void 0:p[v],F=(I=(f=l==null?void 0:l.preloadedViewArgs)==null?void 0:f[v])!=null?I:{};this.session.subscribe(C,F,()=>{}),this.preloadViewKeys.add(ac(C._name,F))}}cleanup(){this.connection.cleanup()}connect(){return qn(this,null,function*(){yield this.connection.connect()})}close(){return qn(this,null,function*(){yield this.connection.closeWithoutReconnecting()})}addEventListener(e){return this.emitter.addListener(e)}removeEventListener(e){return this.emitter.removeListener(e)}healthListener(e){if(e.type==="CONNECTION_STATE"){let r=this.getHealthStatusForConnectionState(e.state);for(let i of this.healthListeners)i(r)}}getHealthStatus(){return this.getHealthStatusForConnectionState(this.connection.getState())}getHealthStatusForConnectionState(e){return e.type==="connected"?0:e.type==="connecting"?2:1}addHealthListener(e){return this.healthListeners.add(e),()=>this.removeHealthListener(e)}removeHealthListener(e){this.healthListeners.delete(e)}sendExistingSubscriptions(){this.session.startReconnectionStateForPaginationQueries();for(let{viewRef:e,args:r,traceId:i}of this.session.uniqueSubscriptions())this.connection.isInitial()&&this.preloadViewKeys.has(ac(e._name,r))||this.requestSubscription(e,r,this.connection.isInitial()?"initial_load":"refresh",i)}handleMessage(e){switch(e.messageType){case"authSuccess":if(this.args.sessionId=e.sessionId,this.args.anonymousUserId=e.anonymousUserId,!this.connection.isAuthenticated()){ks(!1,"Expected connection to be in ready state");break}this.clientOptions.enableSendingSubscriptionRequestBeforeAuthMsg||this.sendExistingSubscriptions();for(let i of this.syncCallbacks.keys())this.requestSync(i,this.syncQueryIds.get(i));break;case"pendingMutations":this.hasUnresolvedGlobalOptimisticUpdates()?(this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.applyMutations(e.mutations)}),this.pendingMutationList.push(e.mutations),this.session.resolvePendingServerIdList(e.mutations)):this.session.applyMutations(e.mutations);break;case"synced":let r=this.syncCallbacks.get(e.transactionId);r&&r();break;case"viewSubscriptionFailed":{this.emitter.emit({type:"ERROR",error:new CI(e.errorCode)}),this.session.cleanupFailedSubscribeView(e.liveViewKey);break}}}onConnectionOpen(){this.clientOptions.enableSendingSubscriptionRequestBeforeAuthMsg&&this.sendExistingSubscriptions()}requestSubscription(e,r,i,o){let s={messageType:"subscribe",viewName:e._name,viewHash:e._hash,loadType:i,args:r,traceId:o};this.connection.ready()&&(this.connection.send(s),this.emitter.emit({type:"SUBSCRIBE_VIEW_SERVER",view:e,args:r,traceId:o}))}requestPaginationChange(e,r){let i={messageType:"paginationChangeMessage",operationType:"LoadNext",queryId:e,count:r.count,paginationArgs:r};this.connection.ready()&&this.connection.send(i)}subscribeAndUnsubscribeInBatches(e,r,i,o){let s=!1;i.unsubscribeStaleSubscriptions(r);for(let l of r){let u=i.getStableArgs(l);if(i.subscriptions.has(u))continue;let c=this.subscribeBase(e,u,g=>{s||(c.lastResult=g,i.recomputeViewResult(r,o))});i.subscriptions.set(u,c)}return i.recomputeViewResult(r,o),()=>{s=!0}}subscribeBase(e,r,i,o){let s=this.session.hasActiveSubscriptions(e._name,r),l=this.session.subscribe(e,r,i,o);return s||(this.emitter.emit({type:"SUBSCRIBE_VIEW_CLIENT",view:e,args:r,traceId:o}),this.requestSubscription(e,r,"initial_load",o)),l}getUnsubscribeFunction(e){return()=>{e.clientUnsubscribed=!0,_W(()=>{e.unsubscribe(),!this.session.hasActiveSubscriptions(e.view._name,e.args)&&this.connection.ready()&&(this.connection.send({messageType:"unsubscribe",viewName:e.view._name,args:e.args}),this.emitter.emit({type:"UNSUBSCRIBE_VIEW_SERVER",view:e.view,args:e.args}))},HDe)}}subscribe(e,r,i,o){var u;let s=r;(u=this.viewRegistry.get(e._name))!=null&&u.hasStaticQueries()&&(s=Kt(He({},r),{__requestId:sD()}));let l=this.subscribeBase(e,s,i,o);return this.getUnsubscribeFunction(l)}hasUnresolvedGlobalOptimisticUpdates(){return this.pendingGlobalOptimisticUpdates.size>0}handleBeforeOptimisticUpdateApplied(e){this.pendingGlobalOptimisticUpdates.add(e)}handleAfterOptimisticUpdateResolved(e){if(this.pendingGlobalOptimisticUpdates.delete(e),!this.hasUnresolvedGlobalOptimisticUpdates()){let r=this.globalOptimisticUpdateResolutionCallbacks;this.globalOptimisticUpdateResolutionCallbacks=[],this.emitter.emit({type:"MUTATIONS_BLOCKED_ON_OPTIMISTIC_UPDATE",count:r.length}),this.session.batchMutations(()=>{for(let i of r)i()}),this.checkMissingMutations()}}checkUUIDExistenceInPendingMutation(e,r){for(let i of r)for(let o in i)for(let s in i[o].instances){let l=i[o].instances[s];if(e===l.uuid)return!0}return!1}checkMissingMutations(){for(let e of this.pendingOptimisticMutationList)for(let r in e)for(let i in e[r]){let o=e[r][i];o!=null&&o.uuid&&(this.checkUUIDExistenceInPendingMutation(o.uuid,this.pendingMutationList)?this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!0,objectName:r,optimisticInstance:o}):this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!1,objectName:r,optimisticInstance:o}))}this.pendingOptimisticMutationList=[],this.pendingMutationList=[]}applyMutations(e,r,i){return qn(this,null,function*(){let o=this.transactionId;this.transactionId++;let s=this.session.applyShadowMutations(o,e,i);this.handleBeforeOptimisticUpdateApplied(o);let l;try{l=yield r}catch(c){throw this.session.removeShadowMutations(o,e,!1),this.handleAfterOptimisticUpdateResolved(o),c}let u=!1;try{yield this.sync(o,s),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.removeShadowMutations(o,e,u)}),this.handleAfterOptimisticUpdateResolved(o)}return l})}waitForServerSideObjectsWithUUIDs(e){let r=[];for(let i in e)for(let o in e[i])r.push(this.getIdFromUuid(i,o));return Promise.all(r)}applyMutationsWithUUID(e,r,i){return qn(this,null,function*(){let o=this.transactionId;this.transactionId++;let s=this.session.applyShadowMutationsWithUUID(o,e,i);this.handleBeforeOptimisticUpdateApplied(o);let l;try{l=yield r}catch(c){throw this.session.removeShadowMutationsWithUUID(o,e,!1),this.handleAfterOptimisticUpdateResolved(o),c}let u=!1;try{i==="create"?(this.emitter.emit({type:"WAIT_SERVER_OBJECTS_STARTED",mutations:e}),yield this.waitForServerSideObjectsWithUUIDs(e),yield VF(this.syncDelayForDebugging),this.emitter.emit({type:"WAIT_SERVER_OBJECTS_ENDED",mutations:e})):yield this.sync(o,s),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.unshift(()=>{this.session.removeShadowMutationsWithUUID(o,e,u)}),this.handleAfterOptimisticUpdateResolved(o)}return l})}getIdFromUuid(e,r){return this.session.getIdFromUuid(e,r)}deprecatedApplyMutationsByView(e,r,i,o){return qn(this,null,function*(){let s=this.transactionId;this.transactionId++,this.session.applyShadowMutationsByView(e._name,s,r,o);let l;try{l=yield i}catch(c){throw this.session.removeShadowMutationsByView(e._name,s,r,!1),c}let u=!1;try{let c=[];for(let g of this.session.getAllQueryIds())h2(this.session.schema,g).name in r&&c.push(g);yield this.sync(s,c),u=!0}finally{this.session.removeShadowMutationsByView(e._name,s,r,u)}return l})}requestSync(e,r){if(this.connection.ready()){let i={messageType:"sync",transactionId:e,queryIds:r};this.connection.send(i),this.emitter.emit({type:"SYNC_STARTED",transactionId:e})}}sync(){return qn(this,arguments,function*(e=this.transactionId++,r){let[i,o]=dd();this.syncCallbacks.set(e,o),r!==void 0&&this.syncQueryIds.set(e,r),this.requestSync(e,r),yield i,this.syncDelayForDebugging&&(yield VF(this.syncDelayForDebugging)),this.syncCallbacks.delete(e),this.syncQueryIds.delete(e),this.emitter.emit({type:"SYNC_COMPLETED",transactionId:e})})}get debug(){return He({subscriptions:this.session.getViewSubscriptionsForDebugging(),prettyPrintLiveViewTree:e=>this.session.prettyPrintLiveViewTree(e),setOptimisticUpdateResolutionDelay:e=>this.syncDelayForDebugging=e},this.connection.debug)}};var ym=class{constructor(e){this.name=e.name,this.values=e.values,this.annotations=e.annotations}isValidValue(e){return this.values.some(r=>typeof r=="string"?e===r:e===r[1])}validate(e){}};var lc=ke(ud());var Im=class{constructor(e){this.args=e&&e.args||[{name:"userId",type:{kind:"string"},nullable:!0}],this.args.find(r=>r.name==="sessionId")||this.args.push({name:"sessionId",type:{kind:"string"},nullable:!0}),this.args.find(r=>r.name==="anonymousUserId")||this.args.push({name:"anonymousUserId",type:{kind:"string"},nullable:!0}),za("Session definition ",this.args),this.validateUserIdArgument(this.args)}validateUserIdArgument(e){for(let r of e)if(r.name==="userId"){if(!["string","bigint"].includes(r.type.kind))throw new Ne(lc.oneLine`
            Session definition error: 'userId' arg must be of type 'string' or 'bigint'
          `);return}throw new Ne(lc.oneLine`
      Session definition error: 'userId' arg of type 'string' or 'bigint' is required
    `)}parseAndValidateArguments(e,r){let i={userId:null,sessionId:"",anonymousUserId:null};for(let o in e){let s=sn(this.args,o);if(s){let l=Xa(r,s,e[o]);if(l.type==="error")throw new Ne(lc.oneLine`
            Session argument error: '${l.argName}' '${l.msg}'`);i[o]=l.parsedValue}else throw new Ne(lc.oneLine`
          Session argument error: '${o}' is not a valid argument
          name`)}for(let o of this.args)if(!(o.name in e))throw new Ne(lc.oneLine`
          Session argument error: the argument '${o.name}' is missing`);return i}};var hm=class{constructor(e){this.typeConversionExemptions={viewArg:{},filterArg:{},computedFieldArg:{}};var r;this.populateTypeConversions(e),this.allowAllConversions=(r=e==null?void 0:e.allowAllExemptions)!=null?r:!0}populateTypeConversions(e){if(!(e!=null&&e.exemptions))return;let r=JSON.parse(JSON.stringify(e==null?void 0:e.exemptions));for(let i in e==null?void 0:e.exemptions){let o=i;for(let s in r[o])for(let l in r[o][s])r[o][s][l]=new Set(e.exemptions[o][s][l])}this.typeConversionExemptions=r}isTypeConversionExempted(e,r,i,o){try{return this.allowAllConversions||this.typeConversionExemptions[e][r][i].has(o)}catch(s){return!1}}};var yd=class{constructor(e,r){this.schema=e;this.queryShapeIdResolver=r;this.session=new Im(e.session),this.legacyConfig=new hm(e.legacyConfigDef),this.enums=new Map;for(let i of e.enums||[])this.enums.set(i.name,new ym(i));this.objects=new Map;for(let i of e.objects)this.objects.set(i.name,new Ja(i));for(let i of e.objects)this.objects.get(i.name).constructComputedFields(i,this);this.enums.forEach(i=>i.validate(this)),this.objects.forEach(i=>i.validate(this)),this.version=e.version||"0.0.0"}typeWithKind(e,r){let i=this[e].get(r);if(i)return i;throw new Ne(`${e} with name '${r}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}scopedQueryShape(e,r){var i;return(i=this.queryShapeIdResolver)==null?void 0:i.shapeFromParent(e,r)}scopedQueryShapeFromRoot(e){var r;return(r=this.queryShapeIdResolver)==null?void 0:r.shapeFromRoot(e)}toJSON(){return this.schema}fieldType(e,r){if(!this.objects.has(e))return;let i=this.objects.get(e);if(i.fields.has(r))return i.fields.get(r).type}};var xm=class{constructor(e,r){this.views=new Map;for(let i in e)this.views.set(i,new Qa(i,e[i],r.objects.get("root"),r,{shouldValidateDeprecated:!0,shouldUseMissingFields:!1}))}get(e){return this.views.get(e)||null}};var Cm=class extends fm{optimisticallyCreate(e,r){return this.applyMutations(e,r,"create")}optimisticallyUpdate(e,r){return this.applyMutations(e,r,"update")}optimisticallyDelete(e,r){return this.applyMutations(e,r,"delete")}optimisticallyCreateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"create")}optimisticallyUpdateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"update")}optimisticallyDeleteWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"delete")}getIdFromUuid(e,r){return super.getIdFromUuid(e,r)}deprecatedOptimisticallyCreateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"create")}deprecatedOptimisticallyUpdateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"update")}deprecatedOptimisticallyDeleteByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"delete")}};var oD=class{constructor(){this.enums=[]}addEnum(e){this.enums.push(e)}},ot=new oD;ot.addEnum({name:"LinkAccess",values:["org_view","org_edit","workspace_edit","workspace_view","view","edit","inherit","invite_only"]});ot.addEnum({name:"TeamAccess",values:[["TEAM_ACCESS_VIEW","team_view"],["TEAM_ACCESS_EDIT","team_edit"],["TEAM_ACCESS_DISABLED","team_access_disabled"]]});ot.addEnum({name:"TeamDefaultPermission",values:[["VIEW","view"],["EDIT","edit"]]});ot.addEnum({name:"StudentTeamState",values:[["STUDENT_TEAM_NULL","not_student_team"],["STUDENT_TEAM_CURRENT","current_student_team"],["STUDENT_TEAM_EXPIRED","expired_student_team"]]});ot.addEnum({name:"TaxIdVerificationStatus",values:["unverified","verified","pending","unavailable"]});ot.addEnum({name:"ProtoLinkAccess",values:["org_view","view","inherit"]});ot.addEnum({name:"ConfiguredUpgradeRequestSetting",values:["members","all_users"]});ot.addEnum({name:"OrgAccess",values:["public","private","secret"]});ot.addEnum({name:"OrgPermission",values:["admin","member","guest"]});ot.addEnum({name:"WorkspacePermission",values:["admin","member"]});ot.addEnum({name:"WorkspaceUpdateReason",values:[["SELF_SELECTED","self"],["MOVED_BY_ADMIN","moved"],["AUTO_ASSIGNED","auto"]]});ot.addEnum({name:"OrgAccountType",values:["starter","full","restricted"]});ot.addEnum({name:"TeamUserPaidStatus",values:["starter","full","restricted"]});ot.addEnum({name:"ResourceType",values:["file","file_repo","folder","team"]});ot.addEnum({name:"OrgUserUpgradeResourceType",values:["file","file_repo","folder","team","org"]});ot.addEnum({name:"SharedWithYouResourceType",values:["file","file_repo","folder","team","prototype"]});ot.addEnum({name:"SubscriptionType",values:["ok","grace_period","past_due","no_monthly_sub_editor_count_exceeded","incomplete"]});ot.addEnum({name:"TeamRestrictionsType",values:["locked","editors_limited","projects_limited","files_limited","projects_limited_legacy","files_limited_legacy","whiteboard_files_limited","whiteboard_files_limited_beta"]});ot.addEnum({name:"EditorType",values:["design","whiteboard","slides"]});ot.addEnum({name:"LicenseType",values:["design","whiteboard","dev_mode"]});ot.addEnum({name:"FigFileLinkType",values:["design","whiteboard","external"]});ot.addEnum({name:"FavoritedResourceType",values:["file","prototype","folder","team","workspace"]});ot.addEnum({name:"ViewerMode",values:["canvas","prototype","whiteboard","library"]});ot.addEnum({name:"VerificationStatus",values:["verified","unverified","blocked"]});ot.addEnum({name:"PublishingStatus",values:["blocked","org_private","pending_user_visual_compliance","pending_public","org_private_pending_public","delisted","delisted_creator_stripe_disabled","approved_public"]});ot.addEnum({name:"SidebarMigrationStatus",values:["migration_not_needed","migration_needed","migrated"]});ot.addEnum({name:"DeviceType",values:["desktop","ipad"]});ot.addEnum({name:"CustomTemplatesPermissions",values:["ALLOW","DISABLE"]});ot.addEnum({name:"GracePeriodType",values:["pro_trial","downgraded_org_team","promo_code","admin_override"]});ot.addEnum({name:"PinnedStatus",values:["unpinned","pinned"]});ot.addEnum({name:"ActivityType",values:["file_seen","design_file_seen","whiteboard_file_seen","file_edit","design_file_edit","whiteboard_file_edit"]});ot.addEnum({name:"CommunityPublisherRole",values:["creator","publisher"]});ot.addEnum({name:"PluginSecurityFormResponseStatus",values:["pending","approved","rejected"]});ot.addEnum({name:"ColorProfilePreference",values:["default","srgb","display_p3"]});ot.addEnum({name:"FeaturedScimMetadata",values:[["COST_CENTER","costCenter"],["ORGANIZATION","organization"],["DIVISION","division"],["DEPARTMENT","department"]]});ot.addEnum({name:"OrgUserUpgradeReason",values:["role_upgrade","invite_redeem","org_invite_redeem","invite_autoupgrade","resource_moved_to_org","drafts_share","access_edit_link","create_team","join_team","join_team_request","admin_upgrade","scim","figma_admin","depart_team","create_file","edit_request_approval","edit_request_auto_approval","run_plugin","resource_moved_from_org_drafts","default_paid_status","fj_ga_reupgrade","edit_button","edit_action","active_edit_action","org_merge","dev_mode_pre_commit_beta_use"]});ot.addEnum({name:"LicenseGroupUpdateReason",values:[["SELF_SELECTED","self"],["SELF_SELECTED_NOT_LISTED","not listed"],["SELF_SELECTED_DONT_KNOW","don't know"],["MOVED_BY_ADMIN","moved"],["AUTO_ASSIGNED","auto"]]});ot.addEnum({name:"FeedPostContainerType",values:["org","workspace","team","project"]});ot.addEnum({name:"BillingTrialResourceType",values:["Org"]});ot.addEnum({name:"BillingTrialPlanType",values:["Organization","Enterprise"]});ot.addEnum({name:"AutoRunBehavior",values:["INHERIT","NONE","OVERRIDE"]});ot.addEnum({name:"CodegenSettingsBehavior",values:["INHERIT","OVERRIDE"]});ot.addEnum({name:"CodeExtensionLanguageType",values:[["PUBLISHED_PLUGIN","published-plugin"],["FIRST_PARTY","first-party"]]});ot.addEnum({name:"DimensionUnit",values:["PIXEL","SCALED"]});ot.addEnum({name:"CommunityShelfContentType",values:["hub_file","plugin","profile","widget"]});ot.addEnum({name:"StripeAccountStatus",values:["NONE","ACCEPTED","STARTED_ONBOARDING","ENABLED","DISABLED"]});var R2=[...ot.enums];var j2={name:"AccountManagerMessage",fields:[{name:"id",type:{kind:"bigint"}},{name:"amUserId",type:{kind:"bigint"}},{name:"targetUserId",type:{kind:"bigint"}},{name:"amName",type:{kind:"string"}},{name:"amEmail",type:{kind:"string"}},{name:"amAvatarUrl",type:{kind:"string"}},{name:"ctaUrl",type:{kind:"string"}},{name:"sentAt",type:{kind:"datetime"},nullable:!0},{name:"reminderSentAt",type:{kind:"datetime"},nullable:!0}]};var P2={name:"AccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"requestableUserId",type:{kind:"bigint"}},{name:"requestableUserType",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"licenseType",type:{kind:"enum",name:"LicenseType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"message",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}}]};var _2={name:"ActiveFileUser",fields:[{name:"id",type:{kind:"string"}},{name:"handle",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"}}]};var T2={name:"ActivityLog",fields:[{name:"id",type:{kind:"bigint"}},{name:"actorId",type:{kind:"bigint"},nullable:!0},{name:"actor",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("actorId")]},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"eventName",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"ipAddress",type:{kind:"string"}},{name:"isFigmaAdminAction",type:{kind:"bool"}},{name:"metadata",type:{kind:"string"}},{name:"actedOnType",type:{kind:"string"},nullable:!0},{name:"actedOnIdOrKey",type:{kind:"string"},nullable:!0},{name:"isIdpAction",type:{kind:"bool"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,org:{currentPrivilegedOrgUser:[{userId:A("userId")},{id:n,permission:n,licenseGroupAdmins:{id:n}}]}}}]};var k2={name:"AdminRequestDashboardRow",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"request",type:{kind:"object",name:"AccountTypeRequest"},filter:["id","=",y("id")],nullable:!1,deprecated:{reason:"Use requestNullable instead",date:"2024-01-26"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!1,deprecated:{reason:"Use userNullable instead",date:"2024-01-26"}},{name:"requestNullable",type:{kind:"object",name:"AccountTypeRequest"},filter:["id","=",y("id")],nullable:!0},{name:"userNullable",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0}]};var w2={name:"AdminRequestDashboardRowCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"rowCount",type:{kind:"int"}}]};var E2={name:"WhitelistedPlugin",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",y("pluginId")],nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"allowlistGroupType",type:{kind:"string"}},{name:"allowlistGroupId",type:{kind:"bigint"}},{name:"allowlistedLicenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("allowlistGroupId")],nullable:!0},{name:"allowlistedWorkspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("allowlistGroupId")],nullable:!0},{name:"allowlistedOrg",type:{kind:"object",name:"Org"},filter:["id","=",y("allowlistGroupId")],nullable:!0}]};var U2={name:"ApprovedLibrary",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}},{name:"resourceId",type:{kind:"bigint"}}]};var M2={name:"AssetPublishStatus",fields:[{name:"id",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"libraryPublishId",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}},{name:"assetKey",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"assetType",type:{kind:"string"}},{name:"error",type:{kind:"string"},nullable:!0}]};var el=[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"permission",type:{kind:"enum",name:"OrgPermission"}},{name:"accountType",type:{kind:"enum",name:"OrgAccountType"}},{name:"whiteboardPaidStatus",type:{kind:"enum",name:"OrgAccountType"}},{name:"devModePaidStatus",type:{kind:"enum",name:"OrgAccountType"}},{name:"designPaidStatus",type:{kind:"enum",name:"OrgAccountType"},computed:!0,dependencies:{accountType:n}},{name:"accountTypeChangedAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"disabledAt",type:{kind:"datetime"},nullable:!0},{name:"agreedToCommunityTosAt",type:{kind:"datetime"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"showFigjamUserOnboarding",type:{kind:"bool"},nullable:!0},{name:"hasShownFigjamAdminOnboarding",type:{kind:"bool"},nullable:!0},{name:"hasShownFigjamAdminLaunchOnboarding",type:{kind:"bool"},nullable:!0},{name:"userStateChangedAt",type:{kind:"datetime"},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",y("draftsFolderId")],nullable:!0},{name:"licenseGroupMember",type:{kind:"object",name:"LicenseGroupMember"},filter:["orgUserId","=",y("id")],nullable:!0},{name:"licenseGroupAdmins",type:{kind:"objects",name:"LicenseGroupAdmin"},filter:["orgUserId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"workspaceUsers",type:{kind:"objects",name:"WorkspaceUser"},filter:["orgUserId","=",y("id")],orderBy:[["assignedAt","DESC"]],expectedMaxCount:1e3},{name:"designOrgAccountTypeRequest",type:{kind:"object",name:"OrgAccountTypeRequest"},filter:{and:[["orgUserId","=",y("id")],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardOrgAccountTypeRequest",type:{kind:"object",name:"OrgAccountTypeRequest"},filter:{and:[["orgUserId","=",y("id")],["_editorTypeRaw","=",1]]},nullable:!0},{name:"designAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"devModeAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",2]]},nullable:!0},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]}},{name:"fileBrowserSectionPreferences",type:{kind:"objects",name:"FileBrowserSectionPreferences"},nullable:!0,filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3},{name:"favoritedResources",type:{kind:"objects",name:"FavoritedResource"},filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:100,deprecated:{reason:"Use favoritedFile, favoritedPrototype, etc",date:"2022-03-18"}},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",null]]},expectedMaxCount:1e3},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",null]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:2e3},{name:"favoritedTeams",type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:2e3},{name:"favoritedWorkspaces",type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3},{name:"userSidebarSections",type:{kind:"objects",name:"UserSidebarSection"},nullable:!0,filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3},{name:"recentSearches",type:{kind:"objects",name:"RecentSearch"},nullable:!0,filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:100},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},nullable:!0,filter:["orgUserId","=",y("id")],expectedMaxCount:200},{name:"orgUserFlag",type:{kind:"object",name:"OrgUserEvent"},args:[{name:"eventType",type:{kind:"string"}}],filter:{and:[["orgUserId","=",y("id")],["eventType","=",A("eventType")]]},nullable:!0,expectedMaxCount:1},{name:"firstDevModeAccountTypeRequestCreatedAt",type:{kind:"datetime"},computed:!0,dependencies:{orgUserFlag:[{eventType:"first_dev_mode_account_type_request_created"},{createdAt:n}]}}];var L2={name:"BaseOrgUser",fields:[...el,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("orgId")],nullable:!0},{name:"designUserUpgrades",type:{kind:"objects",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:A("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",0],["orgUserId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e3},{name:"whiteboardUserUpgrades",type:{kind:"objects",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:A("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",1],["orgUserId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e3},{name:"mostRecentDesignUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:A("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",0],["orgUserId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1},{name:"mostRecentWhiteboardUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:A("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",1],["orgUserId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1},{name:"mostRecentDevModeUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:A("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",2],["orgUserId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1},{name:"devModeBetaUsedEvent",type:{kind:"object",name:"OrgUserEvent"},filter:{and:[["orgUserId","=",y("id")],["eventType","=","dev_mode_beta_used"]]},expectedMaxCount:1,nullable:!0}]};var V2={name:"BillingTrial",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"deactivatedAt",type:{kind:"datetime"},nullable:!0},{name:"trialPeriodStart",type:{kind:"datetime"}},{name:"trialPeriodEnd",type:{kind:"datetime"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"resourceId",type:{kind:"bigint"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}},{name:"metadata",type:{kind:"map",valueType:{kind:"string"}},nullable:!0}]};var B2={name:"Checkpoint",embedded:!0,fields:[{name:"key",type:{kind:"string"}}]};var N2={name:"CodeExtensionLanguage",embedded:!0,fields:[{name:"type",type:{kind:"enum",name:"CodeExtensionLanguageType"}},{name:"id",type:{kind:"string"}},{name:"pluginLanguage",type:{kind:"string"},nullable:!0}]};var W2={name:"CodeExtensionPreferences",embedded:!0,fields:[{name:"scaleFactor",type:{kind:"float"},nullable:!0},{name:"unit",type:{kind:"enum",name:"DimensionUnit"},nullable:!0},{name:"customSettings",type:{kind:"map",valueType:{kind:"string"}},nullable:!0}]};var G2={name:"ColorPalette",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"baseColors",type:{kind:"list",ofType:{kind:"string"}}},{name:"uuid",type:{kind:"uuid"}},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",y("teamId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:{orgId:n}}},{name:"isTeamDefault",type:{kind:"bool"},computed:!0,dependencies:{uuid:n,team:{defaultColorPaletteUuid:n}}}]};var Z2={name:"Comment",fields:[{name:"id",type:{kind:"bigint"}},{name:"uuid",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"parentId",type:{kind:"bigint"},nullable:!0},{name:"orderId",type:{kind:"int"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"resolvedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"clientMeta",type:{kind:"object",name:"CommentClientMeta"},embedded:!0,nullable:!0},{name:"authorMeta",type:{kind:"object",name:"CommentAuthorMeta"},embedded:!0,nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"messageMetaStylized",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"attachments",type:{kind:"objects",name:"CommentAttachment"},filter:["fileCommentId","=",y("id")],expectedMaxCount:5},{name:"reactions",type:{kind:"objects",name:"CommentReaction"},filter:["fileCommentId","=",y("id")],expectedMaxCount:200},{name:"isCanvasMention",type:{kind:"bool"},nullable:!0},{name:"commentPin",type:{kind:"object",name:"CommentPin"},filter:{and:[["fileKey","=",y("key")],["fileCommentId","=",y("id")]]},nullable:!0}]};var H2={name:"CommentAttachment",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileCommentId",type:{kind:"bigint"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"type",type:{kind:"string"},computed:!0,dependencies:{mediaType:n}},{name:"mediaType",type:{kind:"string"}},{name:"altText",type:{kind:"string"},nullable:!0},{name:"thumbnailSha1",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,fileCommentId:n,locality:n}},{name:"imageSha1",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,fileCommentId:n,locality:n}},{name:"createdAt",type:{kind:"datetime"}},{name:"uploadedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"metadata",type:{kind:"object",name:"CommentAttachmentMetadata"},embedded:!0},{name:"locality",type:{kind:"string"}}]};var K2={name:"CommentAttachmentMetadata",embedded:!0,fields:[{name:"file_name",type:{kind:"string"},nullable:!0},{name:"dimensions",type:{kind:"object",name:"Dimensions"},nullable:!0,embedded:!0},{name:"thumbnail_dimensions",type:{kind:"object",name:"Dimensions"},nullable:!0,embedded:!0}]};var q2={name:"CommentAuthorMeta",embedded:!0,fields:[{name:"appId",type:{kind:"bigint"},nullable:!0},{name:"app",type:{kind:"object",name:"OauthApp"},filter:["clientId","=",y("appId")],nullable:!0}]};var Y2={name:"CommentClientMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"pageId",type:{kind:"string"},nullable:!0},{name:"nodeOffset",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"inFrame",type:{kind:"bool"},nullable:!0},{name:"selectionBoxAnchor",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"stablePath",type:{kind:"list",ofType:{kind:"string"}},nullable:!0}]};var X2={name:"CommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"link",type:{kind:"string"},nullable:!0},{name:"isHashtag",type:{kind:"bool"},nullable:!0},{name:"styles",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"children",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!0}]};var z2={name:"CommentPin",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCommentId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var J2={name:"CommentReaction",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileCommentId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"emoji",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"sortTimestamp",type:{kind:"datetime"},nullable:!0}]};var Q2={name:"CommentReadStatus",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"allReadAt",type:{kind:"datetime"},nullable:!0},{name:"readComments",type:{kind:"map",valueType:{kind:"string"}}},{name:"unreadComments",type:{kind:"map",valueType:{kind:"string"}}}]};var $2={name:"CommunityBadge",fields:[{name:"id",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"badgeType",type:{kind:"string"}},{name:"profile",nullable:!0,type:{kind:"objects",name:"Profile"},filter:["id","=",y("profileId")],expectedMaxCount:200}]};var e1={name:"CommunityCollectionResource",fields:[{name:"id",type:{kind:"bigint"}},{name:"communityShelvesId",type:{kind:"bigint"}},{name:"order",type:{kind:"int"}},{name:"resourceType",type:{kind:"enum",name:"CommunityShelfContentType"}},{name:"resourceId",type:{kind:"bigint"}}]};var t1={name:"CommunityComment",fields:[{name:"id",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}},{name:"resourceVersionId",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"editedAt",type:{kind:"datetime"}},{name:"ratingValue",type:{kind:"bigint"},nullable:!0},{name:"message",type:{kind:"string"},nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,deprecated:{reason:"Use communityMessageMeta instead",date:"2023-05-17"}},{name:"communityMessageMeta",type:{kind:"objects",name:"CommunityCommentMessageMeta"},embedded:!0,nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",y("profileId")]},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",y("pluginId")],nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")],nullable:!0}]};var r1={name:"CommunityCommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"link",type:{kind:"string"},nullable:!0},{name:"styles",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"children",type:{kind:"objects",name:"CommunityCommentMessageMeta"},embedded:!0,nullable:!0}]};var n1={name:"CommunityHubFollow",fields:[{name:"id",type:{kind:"bigint"}},{name:"followerProfileId",type:{kind:"bigint"}},{name:"followedProfileId",type:{kind:"bigint"}}]};var i1={name:"CommunityHubLike",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"hiddenAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{currentUser:[{userId:A("userId")},{id:n,profileId:n}]}}]};var bh=[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"numComponents",type:{kind:"int"},nullable:!0},{name:"numStateGroups",type:{kind:"int"},nullable:!0},{name:"numStyles",type:{kind:"int"},nullable:!0},{name:"numStylesFill",type:{kind:"int"},nullable:!0},{name:"numStylesText",type:{kind:"int"},nullable:!0},{name:"numStylesEffect",type:{kind:"int"},nullable:!0},{name:"numStylesGrid",type:{kind:"int"},nullable:!0},{name:"numVariables",type:{kind:"int"},nullable:!0},{name:"numVariablesBoolean",type:{kind:"int"},nullable:!0},{name:"numVariablesColor",type:{kind:"int"},nullable:!0},{name:"numVariablesFloat",type:{kind:"int"},nullable:!0},{name:"numVariablesString",type:{kind:"int"},nullable:!0},{name:"numVariableSets",type:{kind:"int"},nullable:!0},{name:"numModuleAssets",type:{kind:"int"},nullable:!0}];var s1={name:"CommunityLibrary",fields:[...bh,{name:"hubFileId",type:{kind:"bigint"}},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{hubFile:{canRead:[{userId:h("userId")},n]}}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{hubFile:{currentHubFileVersion:{name:n}}}},{name:"libraryHierarchyPaths",type:{kind:"objects",name:"LibraryHierarchyPath"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["hubFileId","=",y("hubFileId")],expectedMaxCount:1e4},{name:"variableCollections",type:{kind:"objects",name:"VariableSet"},filter:{and:[["unpublishedAt","=",null],["hubFileId","=",y("hubFileId")]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4}]};var o1={name:"CommunityShelf",fields:[{name:"id",type:{kind:"bigint"}},{name:"title",type:{kind:"string"}},{name:"order",type:{kind:"int"}},{name:"featuredAt",type:{kind:"datetime"}},{name:"shelfType",type:{kind:"int"}},{name:"resources",type:{kind:"objects",name:"CommunityCollectionResource"},filter:["communityShelvesId","=",y("id")],orderBy:[["order","DESC"]],nullable:!0,expectedMaxCount:10}]};var fh=[{name:"hubFileId",type:{kind:"bigint"}},{name:"communityLibrary",type:{kind:"object",name:"CommunityLibrary"},filter:["hubFileId","=",y("hubFileId")],nullable:!0}];var yh=[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"isSubscribed",type:{kind:"bool"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")]}];var a1={name:"CommunityLibraryFileSubscription",fields:[...yh,...fh,{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{communityLibrary:{canRead:[{userId:h("userId")},n]}}}]};var l1={name:"CommunityM10nResourceStat",fields:[{name:"id",type:{kind:"bigint"}},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"allTimeTotalEarned",type:{kind:"bigint"}},{name:"monthlyTotalEarned",type:{kind:"bigint"}},{name:"numPurchases",type:{kind:"bigint"}},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},filter:["id","=",y("monetizedResourceMetadataId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"sessionUserId",type:{kind:"string"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],computed:!0,dependencies:{monetizedResourceMetadata:{id:n,hubFileId:n,pluginId:n,widgetId:n,hubFile:{profile:{associatedUsers:{id:n}}},plugin:{profile:{associatedUsers:{id:n}}},widget:{profile:{associatedUsers:{id:n}}}}}}]};var d1={name:"CommunityPublisher",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"isPending",type:{kind:"bool"}},{name:"profileId",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"role",type:{kind:"string"},nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",y("profileId")]},{name:"role",type:{kind:"enum",name:"CommunityPublisherRole"},nullable:!0}]};var u1={name:"CommunityQuickstartLibrary",fields:[{name:"id",type:{kind:"bigint"}},...fh]};var c1={name:"CommunityRatingStats",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0},{name:"oneStars",type:{kind:"bigint"}},{name:"twoStars",type:{kind:"bigint"}},{name:"threeStars",type:{kind:"bigint"}},{name:"fourStars",type:{kind:"bigint"}},{name:"fiveStars",type:{kind:"bigint"}},{name:"totalRatings",type:{kind:"bigint"}},{name:"avgRating",type:{kind:"float"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var p1={name:"CommunityResourcePayment",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"status",type:{kind:"int"}},{name:"subscriptionExpiresAt",type:{kind:"datetime"},nullable:!0},{name:"subscriptionCanceledAt",type:{kind:"datetime"},nullable:!0},{name:"purchasedAt",type:{kind:"datetime"},nullable:!0},{name:"refundReason",type:{kind:"string"},nullable:!0},{name:"subscriptionInterval",type:{kind:"string"},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n}}]};var Vi={id:n,canView:[{userId:h("userId")},n],trashedAt:n};var dc=[{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")],nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")],nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,hubFile:{id:n,unpublishedAt:n,canRead:[{userId:h("userId")},n]},file:{...Vi}}}];var uc=[...dc,{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"description_rt",type:{kind:"string"},nullable:!0},{name:"libraryHierarchyPathId",type:{kind:"bigint"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0}];var g1={name:"Component",fields:[...uc,{name:"checkpointId",type:{kind:"bigint"},nullable:!0},{name:"componentKey",type:{kind:"string"}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"contentHash",type:{kind:"string"}},{name:"minNodeWidth",type:{kind:"int"},nullable:!0},{name:"minNodeHeight",type:{kind:"int"},nullable:!0},{name:"containingFrame",type:{kind:"object",name:"LibraryItemContainingFrame"},embedded:!0,nullable:!0}]};var m1={name:"TeamComponentUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"componentKey",type:{kind:"string"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"component",type:{kind:"object",name:"Component"},filter:["componentKey","=",y("componentKey")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0}]},b1={name:"ProjectComponentUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"componentKey",type:{kind:"string"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"component",type:{kind:"object",name:"Component"},filter:["componentKey","=",y("componentKey")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0}]},f1={name:"FileComponentUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"componentKey",type:{kind:"string"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"component",type:{kind:"object",name:"Component"},filter:["componentKey","=",y("componentKey")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0}]};var y1={name:"TeamStateGroupUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"stateGroup",type:{kind:"object",name:"StateGroup"},filter:["id","=",y("id")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"},nullable:!0}]},I1={name:"ProjectStateGroupUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"stateGroup",type:{kind:"object",name:"StateGroup"},filter:["id","=",y("id")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"},nullable:!0}]},h1={name:"FileStateGroupUpdate",fields:[{name:"id",type:{kind:"bigint"}},{name:"updateType",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"stateGroup",type:{kind:"object",name:"StateGroup"},filter:["id","=",y("id")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"},nullable:!0}]};var x1={name:"DefaultTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",y("teamId")]}]};var C1={name:"DeveloperCodeSnippet",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"code_snippet",type:{kind:"string"}},{name:"platform",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"last_updated_by",type:{kind:"bigint"}}]};var A1={name:"DeveloperLink",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"bigint"}},{name:"linkName",type:{kind:"string"}},{name:"linkUrl",type:{kind:"string"}}]};var v1={name:"DeveloperRelatedLink",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"nodeId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"linkName",type:{kind:"string"}},{name:"linkUrl",type:{kind:"string"}},{name:"linkPreviewJson",type:{kind:"string"},nullable:!0},{name:"isUserOverride",type:{kind:"bool"}}]};var S1={name:"DeviceTryFile",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"emailAddress",type:{kind:"string"},nullable:!0},{name:"claimedByUserId",type:{kind:"bigint"},nullable:!0},{name:"claimedAt",type:{kind:"datetime"},nullable:!0}]};var O1={name:"Dimensions",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"width",type:{kind:"int"}},{name:"height",type:{kind:"int"}}]};var F1={name:"DraftFile",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("key")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var D1={name:"EduGracePeriod",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"isValid",type:{kind:"bool"},computed:!0,dependencies:{createdAt:n}}]};var R1={name:"EmbeddedSCIMInfo",embedded:!0,fields:[{name:"enterpriseFields",type:{kind:"object",name:"SCIMEnterpriseFields"},embedded:!0},{name:"figmaEnterpriseFields",type:{kind:"object",name:"SCIMFigmaEnterpriseFields"},embedded:!0,nullable:!0},{name:"figmaPermission",type:{kind:"string"},nullable:!0},{name:"figjamPermission",type:{kind:"string"},nullable:!0},{name:"displayName",type:{kind:"string"},nullable:!0},{name:"userName",type:{kind:"string"},nullable:!0},{name:"name",type:{kind:"object",name:"SCIMName"},nullable:!0,embedded:!0}]};var j1={name:"EsOrgUsersInfo",fields:[{name:"id",type:{kind:"bigint"}}]};var P1={name:"ExperimentAssignment",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"experimentId",type:{kind:"bigint"}},{name:"treatmentId",type:{kind:"bigint"}}]};var Ms=[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"FavoritedResourceType"}},{name:"sidebarSectionId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0}];var _1={name:"FavoritedFile",fields:[...Ms,{name:"readableFile",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"File"},filter:["key","=",y("resourceId")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"readableWhiteboardFile",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"File"},filter:{and:[["key","=",y("resourceId")],["_editorTypeRaw","=",1]]},checkCanRead:{userId:A("userId")},nullable:!0}]};var T1={name:"FavoritedProject",fields:[...Ms,{name:"readableProject",type:{kind:"object",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",y("resourceId")],checkCanRead:{userId:A("userId")},nullable:!0}]};var k1={name:"FavoritedPrototype",fields:[...Ms,{name:"readablePrototype",type:{kind:"object",name:"Prototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",y("resourceId")],checkCanRead:{userId:A("userId")},nullable:!0}]};var w1={name:"FavoritedResource",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}}],deprecated:{reason:"Use FavoritedFile, FavoritedPrototype, etc",date:"2022-03-18"}};var E1={name:"FavoritedResourceV2",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"FavoritedResourceType"}},{name:"favoritedFile",type:{kind:"object",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("userId")],["resourceId","=",y("resourceId")]]}},{name:"favoritedPrototype",type:{kind:"object",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["resourceId","=",y("resourceId")]]}},{name:"favoritedProject",type:{kind:"object",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["resourceId","=",y("resourceId")]]}},{name:"favoritedTeam",type:{kind:"object",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",y("userId")],["resourceId","=",y("resourceId")]]}},{name:"favoritedWorkspace",type:{kind:"object",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",y("userId")],["resourceId","=",y("resourceId")]]}},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("id")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:1e3},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:2e3},{name:"favoritedTeams",type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:2e3},{name:"favoritedWorkspaces",type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3},{name:"userSidebarSections",type:{kind:"objects",name:"UserSidebarSection"},nullable:!0,filter:{and:[["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3}]};var U1={name:"FavoritedResources",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:1e3},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["orgId","=",y("orgId")],["teamId","=",y("teamId")]]},expectedMaxCount:2e3},{name:"favoritedTeams",type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:2e3},{name:"favoritedWorkspaces",type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",y("userId")],["orgId","=",y("orgId")]]},expectedMaxCount:1e3},{name:"numFavorites",type:{kind:"int"},computed:!0,dependencies:{favoritedFiles:{id:n},favoritedPrototypes:{id:n},favoritedProjects:{id:n},favoritedTeams:{id:n},favoritedWorkspaces:{id:n}}}]};var M1={name:"FavoritedTeam",fields:[...Ms,{name:"team",type:{kind:"object",name:"Team"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",y("resourceId")],checkCanRead:{userId:A("userId")},nullable:!0}]};var L1={name:"FavoritedWorkspace",fields:[...Ms,{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("resourceId")],nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("resourceId")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var V1={name:"FeedComment",fields:[{name:"id",type:{kind:"bigint"}},{name:"uuid",type:{kind:"string"},nullable:!0},{name:"feedPostPublicUuid",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"reactions",type:{kind:"objects",name:"FeedReaction"},expectedMaxCount:1e3,orderBy:[["createdAt","ASC"]],filter:{and:[["feedResourceId","=",y("id")],["feedResourceType","=","FeedComment"]]}},{name:"attachments",type:{kind:"objects",name:"FeedCommentAttachment"},expectedMaxCount:10,orderBy:[["uploadedAt","ASC"]],filter:["feedCommentId","=",y("id")]}]};var B1={name:"FeedCommentAttachment",fields:[{name:"id",type:{kind:"uuid"}},{name:"feedCommentId",type:{kind:"bigint"},nullable:!0},{name:"type",type:{kind:"string"},computed:!0,dependencies:{mediaType:n}},{name:"mediaType",type:{kind:"string"}},{name:"altText",type:{kind:"string"},nullable:!0},{name:"thumbnailSha1",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,feedCommentId:n,locality:n}},{name:"imageSha1",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,feedCommentId:n,locality:n}},{name:"createdAt",type:{kind:"datetime"}},{name:"uploadedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"metadata",type:{kind:"object",name:"CommentAttachmentMetadata"},embedded:!0},{name:"locality",type:{kind:"string"}}]};function Id(t,e){if(t===null)return null;for(let r of e||[])delete t[r];return t}function Bi(t,e){let r={};return t===null&&e===null?{}:t===null?e:e===null?t:(new Set([...Object.keys(t),...Object.keys(e)]).forEach(o=>{let s=t[o],l=e[o];if(s===void 0){r[o]=l;return}if(l===void 0){r[o]=s;return}if(typeof s!=typeof l)throw new Error("Values are not of the same type [typeof]");if(typeof s!="object")throw new Error("Values are not of type object and hence not null, an array, or a plain object.");if(Array.isArray(s)!==Array.isArray(l))throw new Error("Values are not of the same type [Array.isArray]");if(s===null!=(l===null))throw new Error("Values are not of the same type [null]");if(s===n){r[o]=n;return}if(Array.isArray(s)&&Array.isArray(l)){let g=s,p=l;r[o]=N1(g,p);return}if((s==null?void 0:s.aliasedField)!==(l==null?void 0:l.aliasedField))throw new Error("Aliased Fields dont match");if(s!=null&&s.aliasedField&&(l!=null&&l.aliasedField)){let g=s,p=l;if(g&&p){if(Array.isArray(g.fields)&&Array.isArray(p.fields)){let I={aliasedField:g.aliasedField,fields:N1(g.fields,p.fields)};r[o]=I;return}let f={aliasedField:g.aliasedField,fields:Bi(g.fields,p.fields)};r[o]=f;return}}let u=s,c=l;r[o]=Bi(u,c)}),r)}function N1(t,e){if(t===null&&e===null)return null;if(t===null)return e;if(e===null)return t;let r=new Set(Object.keys(t[0])),i=new Set(Object.keys(e[0]));if(r.size!==i.size||![...r].every(o=>i.has(o)))throw new Error("View args do not match.");return[t[0],Bi(t[1],e[1])]}var Gt={"FILE::CAN_VIEW_PROTOTYPE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_VIEW":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_EDIT":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_EDIT_CANVAS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,figjamDisabledAt:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_PUBLISH_TEMPLATE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,customTemplatesAllowed:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_INSERT_TEMPLATE":{editorType:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"FILE::CAN_ADMIN":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"FILE::IS_OWNER":{deletedAt:null,editorType:null,folderAccessEnabled:null,folderId:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{hasOrgEditLinksEditHeuristics:null,id:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{gracePeriodEnd:null,hasProEditLinksEditHeuristics:null,id:null,orgId:null,subscription:null}},"FILE::CAN_BECOME_EDITOR":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_MANAGE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::HAS_ROLE_ACCESS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_BE_MENTIONED_IN_COMMENT":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_DOWNLOAD_FILE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_ACCESS_FILE_THROUGH_API":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_MODIFY_ROLES":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_VIEW_METADATA":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_GAIN_VIEW":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null},repo:{linkAccess:null}},"FILE::CAN_GAIN_VIEW_PROTOTYPE":{id:null,parentOrgId:null,protoLinkAccess:null,trashedAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{domainCapture:null,domainCaptureDomains:null,id:null}},"FILE::CAN_DISCOVER":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,orgBrowsable:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevOrgBrowsable:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,orgBrowsable:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_RENAME":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_DELETE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_FAVORITE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_VIEW_AND_CREATE_COMMENTS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_MOVE_COMMENTS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::CAN_EDIT_IGNORE_PAID_STATUS":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_VIEW_LINK_ACCESS":{editorType:null,fileRepoId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},sourceFile:{hasFileLinkPassword:null,id:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_ORG_VIEW_LINK_ACCESS":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null},repo:{linkAccess:null}},"FILE::CAN_EDIT_LINK_ACCESS":{editorType:null,fileRepoId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},sourceFile:{hasFileLinkPassword:null,id:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_ORG_EDIT_LINK_ACCESS":{fileRepoId:null,id:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null},repo:{linkAccess:null}},"FILE::CAN_VIEW_METADATA_LINK_ACCESS":{editorType:null,fileRepoId:null,id:null,key:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null},repo:{linkAccess:null}},"FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS":{editorType:null,fileRepoId:null,hasProtoLinkPassword:null,id:null,key:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,trashedAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{protoLinkAccess:null},sourceFile:{hasProtoLinkPassword:null,id:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS":{editorType:null,fileRepoId:null,id:null,parentOrgId:null,protoLinkAccess:null,trashedAt:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null},repo:{protoLinkAccess:null}},"FILE::CAN_ACCESS_FULL_DEV_MODE":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,devModePaidStatus:null,draftsFolderId:null,firstDevModeAccountTypeRequestCreatedAt:null,id:null,permission:null,devModeAccountTypeRequest:{createdAt:null,id:null,status:null}}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,devModeTrialStartAt:null,id:null,whiteboardPaidStatus:null,designAccountTypeRequest:{createdAt:null,id:null,status:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,studentTeamAt:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}},"FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL":{editorType:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,devModePaidStatus:null,id:null,permission:null,devModeAccountTypeRequest:{id:null}}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,devModeTrialStartAt:null,id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{id:null},team:{id:null}},"FILE::IS_IN_DEV_MODE_TRIAL":{editorType:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,devModePaidStatus:null,firstDevModeAccountTypeRequestCreatedAt:null,id:null,devModeAccountTypeRequest:{createdAt:null,id:null,status:null}}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,devModeTrialStartAt:null,id:null,designAccountTypeRequest:{createdAt:null,id:null,status:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{id:null},team:{id:null}},"FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT":{deletedAt:null,editorType:null,fileRepoId:null,folderAccessEnabled:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,id:null,permission:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,gracePeriodEnd:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,subscription:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},workshopMode:{expiresAt:null}}},cc={"REPO::CAN_VIEW_PROTOTYPE":{deletedAt:null,id:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null},team:{id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_VIEW":{deletedAt:null,id:null,linkAccess:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,id:null,userId:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null,key:null},team:{id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_EDIT":{deletedAt:null,folderId:null,id:null,linkAccess:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,userId:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,id:null,userId:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null,key:null},team:{id:null,scTeamExperienceEnabled:null,workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_ADMIN":{teamId:null,_project_permsV2:{id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"REPO::IS_OWNER":{teamId:null,_project_permsV2:{path:null,teamId:null},currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"REPO::CAN_MANAGE":{teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,orgId:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null},workspaceUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}]},"REPO::CAN_VIEW_LINK_ACCESS":{id:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasFileLinkPassword:null,id:null,key:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_EDIT_LINK_ACCESS":{id:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasFileLinkPassword:null,id:null,key:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS":{id:null,parentOrgId:null,protoLinkAccess:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasProtoLinkPassword:null,id:null,key:null},team:{workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}}},"REPO::CAN_ORG_VIEW_LINK_ACCESS":{linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null}},"REPO::CAN_ORG_EDIT_LINK_ACCESS":{linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null}},"REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS":{parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null}}},Ih={"FOLDER::CAN_VIEW":{deletedAt:null,id:null,inviteOnlyAt:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}]},workspaceUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}]},"FOLDER::CAN_EDIT":{deletedAt:null,id:null,inviteOnlyAt:null,orgId:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}]},workspaceUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}]},"FOLDER::IS_OWNER":{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]}},Am={"TEAM::CAN_VIEW":{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,sharingAudienceControl:null,workspaceId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,workspaceUsers:{id:null,permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::CAN_EDIT":{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,sharingAudienceControl:null,workspaceId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,workspaceUsers:{id:null,permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::CAN_ADMIN":{deletedAt:null,id:null,orgAccess:null,workspaceId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null,workspaceUsers:{permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::IS_OWNER":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::VIEW_ROLE_ACCESS":{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,sharingAudienceControl:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,workspaceUsers:{id:null,permission:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::EDIT_ROLE_ACCESS":{defaultPermission:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,sharingAudienceControl:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,workspaceUsers:{id:null,permission:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::ADMIN_ROLE_ACCESS":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]}},vm={"ORG::IS_GUEST":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"ORG::IS_MEMBER":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"ORG::IS_ADMIN":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]}},hh={"HUB_FILE::CAN_VIEW":{contentVerifiedAt:null,profileId:null,publishingStatus:null,unpublishedAt:null,userId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}]},"HUB_FILE::CAN_DUPLICATE":{contentVerifiedAt:null,monetizedResourceMetadataId:null,publisherProfileIds:null,publishingStatus:null,unpublishedAt:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{id:null,isActive:null,monetizedResourceMetadataId:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}]},"HUB_FILE::CAN_RATE":{contentVerifiedAt:null,id:null,monetizedResourceMetadataId:null,publishingStatus:null,unpublishedAt:null,userId:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{monetizedResourceMetadataId:null,status:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],hubFileCommunityRating:{hubFileId:null,profileId:null,ratingValue:null},hubFileDuplicates:[{userId:{type:"view",ref:"userId"}},{hubFileId:null,id:null,isPreview:null,userId:null}],hubFileMonetizedResourceMetadata:{id:null}}},Sm={"WORKSPACE::CAN_VIEW":{id:null,orgAccess:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null,workspaceUsers:{permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"WORKSPACE::CAN_ADMIN":{id:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null,workspaceUsers:{permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"WORKSPACE::CAN_CREATE_TEAM":{id:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null,workspaceUsers:{permission:null,workspaceId:null}}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],orgSharedSetting:{id:null,teamCreationControls:null}}},W1={"PLUGIN::CAN_VIEW":{blockedAt:null,id:null,orgId:null,profileId:null,publishingStatus:null,unpublishedAt:null,userId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],org:{id:null},pluginCommunityPublisher:{id:null,pluginId:null,userId:null}},"PLUGIN::CAN_RUN":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"PLUGIN::CAN_RATE":{blockedAt:null,id:null,monetizedResourceMetadataId:null,publishingStatus:null,unpublishedAt:null,userId:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{monetizedResourceMetadataId:null,status:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],monetizedResourceMetadata:{hasFreemiumCode:null,id:null},pluginCommunityRating:{pluginId:null,profileId:null,ratingValue:null},pluginRun:[{userId:{type:"view",ref:"userId"}},{pluginId:null,userId:null}]}},Ni={"FEED_POST::CAN_VIEW":{containerType:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null,scTeamExperienceEnabled:null,sharingAudienceControl:null,workspaceId:null},workspaceUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,workspaceId:null}]},"FEED_POST::IS_CONTAINER_MEMBER":{containerType:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],workspaceUser:[{userId:{type:"view",ref:"userId"}},{permission:null}]}};var G1,KDe=(G1=Id(Bi(Ni["FEED_POST::CAN_VIEW"],{id:n,containerId:n,containerTypeEnum:n,project:{...Ni["FEED_POST::CAN_VIEW"]._project_permsV2,folderOwnerRole:Ni["FEED_POST::CAN_VIEW"].folderOwnerRole,roleOnObjectProjectForUser:Ni["FEED_POST::CAN_VIEW"].roleOnObjectProjectForUser,roleOnObjectTeamForUser:Ni["FEED_POST::CAN_VIEW"].roleOnObjectTeamForUser,team:Ni["FEED_POST::CAN_VIEW"].team},team:{...Ni["FEED_POST::CAN_VIEW"].team,workspaceId:n,roleOnObjectTeamForUser:Ni["FEED_POST::CAN_VIEW"].roleOnObjectTeamForUser},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]}),["folderOwnerRole","roleOnObjectProjectForUser","roleOnObjectTeamForUser","workspaceUser","_project_permsV2"]))!=null?G1:{},Z1,qDe=(Z1=Id(Bi(Ni["FEED_POST::IS_CONTAINER_MEMBER"],{id:n,containerId:n,containerTypeEnum:n,project:{roleOnObjectProjectForUser:Ni["FEED_POST::IS_CONTAINER_MEMBER"].roleOnObjectProjectForUser},team:{roleOnObjectTeamForUser:Ni["FEED_POST::IS_CONTAINER_MEMBER"].roleOnObjectTeamForUser},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]}),["folderOwnerRole","roleOnObjectProjectForUser","roleOnObjectTeamForUser","workspaceUser","_project_permsV2"]))!=null?Z1:{},H1={name:"FeedPost",fields:[{name:"id",type:{kind:"bigint"}},{name:"publicUuid",type:{kind:"uuid"}},{name:"orgId",type:{kind:"bigint"}},{name:"title",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"creator",type:{kind:"object",name:"User"},filter:["id","=",y("creatorId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"reactions",type:{kind:"objects",name:"FeedReaction"},expectedMaxCount:1e3,orderBy:[["createdAt","ASC"]],filter:{and:[["feedResourceId","=",y("id")],["feedResourceType","=","FeedPost"]]}},{name:"comments",type:{kind:"objects",name:"FeedComment"},expectedMaxCount:1e3,filter:["feedPostPublicUuid","=",y("publicUuid")]},{name:"numComments",type:{kind:"string"}},{name:"viewerIds",type:{kind:"objects",name:"FeedViewer"},embedded:!0},{name:"views",type:{kind:"objects",name:"FeedSeenState"},expectedMaxCount:1e4,filter:["feedPostPublicUuid","=",y("publicUuid")],orderBy:[["createdAt","ASC"]]},{name:"reactionSummary",type:{kind:"map",valueType:{kind:"string"}}},{name:"reactionsForUser",type:{kind:"objects",name:"FeedReaction"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],expectedMaxCount:10,filter:{and:[["feedResourceId","=",y("id")],["feedResourceType","=","FeedPost"],["userId","=",A("userId")]]}},{name:"viewCount",type:{kind:"bigint"}},{name:"backgroundColor",type:{kind:"string"},nullable:!0},{name:"isFollower",type:{kind:"object",name:"FeedPostFollower"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["userId","=",A("userId")],["feedPostId","=",y("id")]]}},{name:"currentUserIsFollowingV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!1,computed:!0,dependencies:{isFollower:[{userId:A("userId")},{id:n}]}},{name:"content",type:{kind:"list",ofType:{kind:"string"}}},{name:"processedContentV2",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{content:n,publicUuid:n}},{name:"pollContent",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{content:n}},{name:"descriptionMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!1},{name:"pending",type:{kind:"bool"},nullable:!1},{name:"containerId",type:{kind:"bigint"}},{name:"containerType",type:{kind:"bigint"}},{name:"containerTypeEnum",type:{kind:"enum",name:"FeedPostContainerType"},computed:!0,dependencies:{containerType:n}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("containerId")],nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("containerId")],nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("containerId")],nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",y("containerId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:KDe},{name:"isContainerMember",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:qDe},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")]]}}]};var K1={name:"FeedPostFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedPostId",type:{kind:"bigint"}}]};var q1={name:"FeedPostResult",fields:[{name:"id",type:{kind:"bigint"}},{name:"publicUuid",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"type",type:{kind:"string"}},{name:"forYou",type:{kind:"bool"},nullable:!0},{name:"currentTagFilterId",type:{kind:"string"},nullable:!0},{name:"feedPost",type:{kind:"object",name:"FeedPost"},filter:["publicUuid","=",y("publicUuid")],orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4,nullable:!0}]};var Y1={name:"FeedReaction",fields:[{name:"id",type:{kind:"bigint"}},{name:"feedResourceId",type:{kind:"bigint"}},{name:"feedResourceType",type:{kind:"string"}},{name:"emoji",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"createdAt",type:{kind:"datetime"}}]};var X1={name:"FeedSeenState",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedPostPublicUuid",type:{kind:"uuid"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"createdAt",type:{kind:"datetime"}}]};var z1={name:"FeedTag",fields:[{name:"id",type:{kind:"bigint"}},{name:"text",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"numUsages",type:{kind:"bigint"}},{name:"lastUsedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var J1={name:"FeedTagFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedTagId",type:{kind:"bigint"}},{name:"feedTag",type:{kind:"object",name:"FeedTag"},filter:["id","=",y("feedTagId")]}]};var Q1={name:"FeedViewer",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("id")]}]};var $1={name:"FigFileCheckpoint",naturalKey:new Set(["id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"string"}},{name:"updatedAt",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"FileCheckpoint"},nullable:!0,filter:["id","=",y("checkpointId")]}]};var eZ={name:"FigFileLink",fields:[{name:"id",type:{kind:"bigint"}},{name:"sourceFileKey",type:{kind:"string"}},{name:"destinationFileKey",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"sortPosition",type:{kind:"float"}},{name:"_linkTypeRaw",type:{kind:"int"}},{name:"linkType",type:{kind:"enum",name:"FigFileLinkType"},computed:!0,dependencies:{_linkTypeRaw:n}}]};var tZ={name:"FigFileLinkExpirationConfig",naturalKey:new Set(["figFileKey"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"figFileKey",type:{kind:"bigint"}},{name:"setByUserId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"expiresAt",type:{kind:"datetime"},nullable:!0},{name:"prevPrivateLinkAccess",type:{kind:"string"}},{name:"prevPrivateProtoLinkAccess",type:{kind:"string"},nullable:!0},{name:"prevOrgBrowsable",type:{kind:"bool"},nullable:!0},{name:"accessReverted",type:{kind:"bool"}},{name:"setByUser",type:{kind:"object",name:"User"},filter:["id","=",y("setByUserId")],nullable:!0}]};var rZ={name:"FigFilePasswordAuthentication",fields:[{name:"id",type:{kind:"string"}},{name:"anonymousUserId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"passwordVersion",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}}]};var nZ={name:"FigFilePwdConfig",naturalKey:new Set(["fileKey","figFileId"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"setByUserId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"setByUser",type:{kind:"object",name:"User"},filter:["id","=",y("setByUserId")],nullable:!0},{name:"version",type:{kind:"int"}}]};var iZ={name:"FigFileWorkshopMode",naturalKey:new Set(["fileKey"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"expiresAt",type:{kind:"datetime"}},{name:"fileKey",type:{kind:"string"}}]};var sZ={name:"File",naturalKey:new Set(["key"]),fields:[{name:"_id",type:{kind:"string"}},{name:"id",type:{kind:"string"}},{name:"_name",type:{kind:"string"},nullable:!0},{name:"name",type:{kind:"string"},computed:!0,dependencies:{_name:n}},{name:"key",type:{kind:"string"}},{name:"sourceFileKey",type:{kind:"string"},nullable:!0},{name:"sourceCheckpointId",type:{kind:"string"},nullable:!0},{name:"fileRepoId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"trashedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"folderAccessEnabled",type:{kind:"bool"}},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0,deprecated:{reason:`thumbnailUrl returns incorrect values, do not use.
      Like seriously, don't use it.`,date:"2023-06-15"}},{name:"signedThumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{thumbnailUrl:n,createdAt:n}}}},{name:"thumbnailUrlOverride",type:{kind:"string"},nullable:!0},{name:"signedThumbnailUrlOverride",type:{kind:"string"},computed:!0,dependencies:{thumbnailUrlOverride:n}},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"trashedUserId",type:{kind:"bigint"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"orgAudience",type:{kind:"bool"},nullable:!0},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"}},{name:"protoLinkAccess",type:{kind:"enum",name:"ProtoLinkAccess"},nullable:!0},{name:"hasFileLinkPassword",type:{kind:"bool"},nullable:!0},{name:"hasProtoLinkPassword",type:{kind:"bool"},nullable:!0},{name:"clientMeta",type:{kind:"string"},nullable:!0},{name:"checkpointClientMeta",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{clientMeta:n}}}},{name:"description",type:{kind:"string"},nullable:!0},{name:"license",type:{kind:"string"},nullable:!0},{name:"_editorTypeRaw",type:{kind:"int"},nullable:!0},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"viewerExportRestrictedAt",type:{kind:"datetime"},nullable:!0},{name:"viewerExportRestricted",type:{kind:"bool"},computed:!0,dependencies:{viewerExportRestrictedAt:n}},{name:"isTrashed",type:{kind:"bool"},computed:!0,dependencies:{trashedAt:n}},{name:"trashedUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("trashedUserId")]},{name:"trackTags",type:{kind:"object",name:"FileTrackTags"},embedded:!0,nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"creator",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("creatorId")]},{name:"ownerRole",type:{kind:"object",name:"FileRole"},filter:{and:[["resourceId","=",y("key")],["resourceType","=","file"],["level","=",999]]},nullable:!0},{name:"roles",type:{kind:"objects",name:"FileRole"},filter:{and:[["resourceId","=",y("key")],["resourceType","=","file"]]},expectedMaxCount:1e4},{name:"readableRoles",type:{kind:"objects",name:"FileRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["resourceId","=",y("key")],["resourceType","=","file"]]},expectedMaxCount:1e4,checkCanRead:{userId:h("userId")}},{name:"roleOnObjectForUser",type:{kind:"object",name:"FileRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("key")],["resourceType","=","file"]]}},{name:"roleOnObjectRepoForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("fileRepoId")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectProjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("folderId")],["resourceType","=","folder"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("teamId")],["resourceType","=","team"]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")],["permission","<>","guest"]]}},{name:"currentPartialOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("teamId")]]}},{name:"currentUserFileFollower",type:{kind:"object",name:"FileFollower"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["key","=",y("key")],["userId","=",A("userId")]]}},{name:"sourceFile",type:{kind:"object",name:"File"},nullable:!0,filter:["key","=",y("sourceFileKey")]},{name:"repo",type:{kind:"object",name:"Repo"},nullable:!0,filter:["id","=",y("fileRepoId")]},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:["id","=",y("folderId")],checkCanRead:{userId:A("userId")}},{name:"_project_permsV2",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",y("folderId")],bannedFromViews:!0,neverCheckCanRead:!0},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",y("teamId")]},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("parentOrgId")],nullable:!0},{name:"publishedHubFile",type:{kind:"object",name:"HubFile"},nullable:!0,filter:["figFileId","=",y("_id")]},{name:"comments",type:{kind:"objects",name:"Comment"},orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",y("key")],["deletedAt","=",null]]},expectedMaxCount:99999},{name:"commentsPaginated",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",y("key")],["deletedAt","=",null]]},deprecated:{reason:"Use unresolvedComments and resolvedComments where possible",date:"2022-11-08"},expectedMaxCount:99999},{name:"unresolvedComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",y("key")],["deletedAt","=",null],["resolvedAt","=",null]]},expectedMaxCount:99999},{name:"resolvedComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",y("key")],["deletedAt","=",null],["resolvedAt","<>",null]]},expectedMaxCount:99999},{name:"mobileComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}},{name:"parentId",type:{kind:"bigint"},nullable:!0}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",y("key")],["deletedAt","=",null],["resolvedAt","=",null],["parentId","=",A("parentId")]]},expectedMaxCount:99999},{name:"mobileCommentThread",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}},{name:"rootId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["key","=",y("key")],{or:[["id","=",A("rootId")],{and:[["parentId","=",A("rootId")],["deletedAt","=",null]]}]}]},expectedMaxCount:1e4},{name:"commentAttachments",type:{kind:"objects",name:"CommentAttachment"},filter:{and:[["fileKey","=",y("key")],["fileCommentId","<>",null],["deletedAt","=",null]]},orderBy:[["uploadedAt","ASC"]],expectedMaxCount:1e4},{name:"reactions",type:{kind:"objects",name:"CommentReaction"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["fileKey","=",y("key")],orderBy:[["createdAt","DESC"]],expectedMaxCount:5e4},{name:"feedPosts",type:{kind:"objects",name:"FeedPost"},filter:{and:[["fileKey","=",y("key")],["pending","=",!1]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4},{name:"fileCanvasMentions",type:{kind:"objects",name:"FileCanvasMention"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("key")],["mentionedUserId","=",A("userId")],["deletedAt","=",null]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentUserCommentReadStatus",type:{kind:"object",name:"CommentReadStatus"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",y("key")],["userId","=",A("userId")]]}},{name:"currentUserFileCanvasMentionReadStatus",type:{kind:"object",name:"FileCanvasMentionReadStatus"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",y("key")],["userId","=",A("userId")]]}},{name:"libraryHierarchyPaths",type:{kind:"objects",name:"LibraryHierarchyPath"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",y("key")],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",y("key")],["hubFileId","=",null]]},nullable:!0},{name:"libraryFileSubscriptions",type:{kind:"objects",name:"LibraryFileSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["isSubscribed","=",!0],["fileKey","=",y("key")]]},expectedMaxCount:1e3},{name:"libraryFileSubscriptionOverrides",type:{kind:"objects",name:"LibraryFileSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId")},filter:["fileKey","=",y("key")],expectedMaxCount:1e3},{name:"communityLibraryFileSubscriptions",type:{kind:"objects",name:"CommunityLibraryFileSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["fileKey","=",y("key")],["hubFileId","<>",null]]},expectedMaxCount:1e3},{name:"communityQuickstartLibraries",type:{kind:"objects",name:"CommunityQuickstartLibrary"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/quickstart_community_libraries",queryParams:{userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"libraryPresetSubscriptions",type:{kind:"objects",name:"LibraryPresetSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/quickstart_community_libraries",queryParams:{userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"libraryTeamSubscriptions",type:{kind:"objects",name:"LibraryTeamSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["isSubscribed","=",!0],["teamId","=",y("teamId")]]},expectedMaxCount:1e3},{name:"libraryUserSubscriptions",type:{kind:"objects",name:"LibraryUserSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["isSubscribed","=",!0],["userId","=",A("userId")]]},expectedMaxCount:1e3},{name:"libraryOrgSubscriptions",type:{kind:"objects",name:"LibraryOrgSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["isSubscribed","=",!0],["orgId","=",y("parentOrgId")]]},expectedMaxCount:1e3},{name:"workshopMode",nullable:!0,type:{kind:"object",name:"FigFileWorkshopMode"},filter:["fileKey","=",y("key")]},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",y("parentOrgId")]]}},{name:"votingSessions",nullable:!0,type:{kind:"objects",name:"VotingSession"},filter:{and:[["fileKey","=",y("key")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:100},{name:"openMergeRequest",nullable:!0,type:{kind:"object",name:"OpenMergeRequest"},filter:["branchFileKey","=",y("key")]},{name:"fileMerges",type:{kind:"objects",name:"FileMerge"},filter:["branchFileKey","=",y("key")],expectedMaxCount:1e3,orderBy:[["updatedAt","DESC"]]},{name:"fileRoleRequests",type:{kind:"objects",name:"FileRoleRequest"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",y("key")],["status","=","pending"]]},expectedMaxCount:1e4},{name:"fileVersions",type:{kind:"objects",name:"FileVersion"},filter:["fileKey","=",y("key")],expectedMaxCount:3e4,orderBy:[["updatedAt","DESC"]]},{name:"folderOwnerRole",type:{kind:"object",name:"ProjectRole"},nullable:!0,filter:{and:[["resourceId","=",y("folderId")],["resourceType","=","folder"],["level","=",999]]}},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",y("folderId")]},{name:"_hasFileAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}},{name:"ignoreLinkAccess",type:{kind:"bool"},nullable:!0},{name:"ignoreArchivedBranch",type:{kind:"bool"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{}},{name:"stylesWithLegacySourceAssets",type:{kind:"objects",name:"StyleWithLegacySourceAsset"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["fileKey","=",y("key")],expectedMaxCount:1e4},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_EDIT"]},{name:"canEditV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_EDIT"]},{name:"canEditCanvas",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_EDIT_CANVAS"]},{name:"canEditIgnorePaidStatus",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_EDIT_IGNORE_PAID_STATUS"]},{name:"canEditIgnoreEduGracePeriod",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD"]},{name:"canViewAndCreateComments",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW_AND_CREATE_COMMENTS"]},{name:"canMoveComments",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_MOVE_COMMENTS"]},{name:"canDiscover",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_DISCOVER"]},{name:"canRename",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_RENAME"]},{name:"canDelete",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_DELETE"]},{name:"canFavorite",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_FAVORITE"]},{name:"canManage",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_MANAGE"]},{name:"hasEditRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_MODIFY_ROLES"]},{name:"eduGracePeriod",type:{kind:"object",name:"EduGracePeriod"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("teamId")]]}},{name:"canViewPrototype",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW_PROTOTYPE"]},{name:"canViewPrototypeV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW_PROTOTYPE"]},{name:"hasViewRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::HAS_ROLE_ACCESS"]},{name:"hasViewPrototypeRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::HAS_ROLE_ACCESS"]},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW"]},{name:"canViewV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW"]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_VIEW_PROTOTYPE"]},{name:"canReadV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Bi(Gt["FILE::CAN_VIEW_PROTOTYPE"],{pwdConfig:{version:n},sourceFile:{pwdConfig:{version:n}},key:n})},{name:"projectPath",type:{kind:"string"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{project:[{userId:h("userId")},{path:n}]}},{name:"folderId",type:{kind:"bigint"},nullable:!0},{name:"prototypeLibCppConfig",type:{kind:"object",name:"FilePrototypeLibCppConfig"},nullable:!0,filter:["fileKey","=",y("key")]},{name:"variableSets",type:{kind:"objects",name:"VariableSet"},filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4,deprecated:{reason:"Use variableCollections",date:"2021-04-27"}},{name:"variableCollections",type:{kind:"objects",name:"VariableSet"},filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4},{name:"variables",type:{kind:"objects",name:"Variable"},filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4},{name:"canAccessFullDevMode",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_ACCESS_FULL_DEV_MODE"]},{name:"isEligibleForDevModeTrial",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL"]},{name:"isInDevModeTrial",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::IS_IN_DEV_MODE_TRIAL"]},{name:"canAccessDevModeEntryPoint",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"]},{name:"components",type:{kind:"objects",name:"Component"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},deprecated:{reason:"Deprecated in favor of storing components, styles, and state groups inside a library hierarchy path",date:"2021-08-10"},expectedMaxCount:1e4},{name:"styles",type:{kind:"objects",name:"Style"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"stateGroups",type:{kind:"objects",name:"StateGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"modules",type:{kind:"objects",name:"Module"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},checkCanRead:{userId:A("userId")},expectedMaxCount:1e4},{name:"fileSeenStates",type:{kind:"objects",name:"FileSeenState"},filter:{and:[["fileKey","=",y("key")]]},expectedMaxCount:99999},{name:"linkedFigFiles",type:{kind:"objects",name:"LinkedFigFile"},filter:{and:[["sourceFileKey","=",y("key")]]},deprecated:{reason:"Use figFileLinks",date:"2021-09-23"},expectedMaxCount:15},{name:"figFileLinks",type:{kind:"objects",name:"FigFileLink"},filter:{and:[["sourceFileKey","=",y("key")]]},expectedMaxCount:15,orderBy:[["sortPosition","ASC"]]},{name:"isTryFile",type:{kind:"bool"},computed:!0,dependencies:{creator:{email:n}}},{name:"template",type:{kind:"object",name:"Template"},filter:["fileKey","=",y("key")],nullable:!0},{name:"isTeamTemplate",type:{kind:"bool"},computed:!0,dependencies:{template:{unpublishedAt:n}}},{name:"passwordAuthentication",type:{kind:"object",name:"FigFilePasswordAuthentication"},args:[{name:"anonymousUserId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",y("key")],["anonymousUserId","=",A("anonymousUserId")]]}},{name:"pwdConfig",type:{kind:"object",name:"FigFilePwdConfig"},filter:["figFileId","=",y("_id")],nullable:!0},{name:"linkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{and:[["figFileKey","=",y("key")],["accessReverted","=",!1]]},nullable:!0,deprecated:{reason:"Use mainFileLinkExpirationConfig",date:"2023-05-31"}},{name:"mainFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{or:[["figFileKey","=",y("sourceFileKey")],["figFileKey","=",y("key")]]},deprecated:{reason:`mainFileLinkExpirationConfig is deprecated in favor of
          sourceFileLinkExpirationConfig and fileLinkExpirationConfig (do the OR
          on the client). Reason is that livegraph100 cannot support queries
          with top level ORs.`,date:"2023-09-05"},nullable:!0},{name:"sourceFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",y("sourceFileKey")],nullable:!0},{name:"fileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",y("key")],nullable:!0},{name:"figFileCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"figFileCheckpoint",type:{kind:"object",name:"FigFileCheckpoint"},filter:["id","=",y("figFileCheckpointId")],nullable:!0},{name:"canPublishTemplate",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_PUBLISH_TEMPLATE"]},{name:"canInsertTemplate",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Gt["FILE::CAN_PUBLISH_TEMPLATE"]},{name:"favoriteFile",type:{kind:"object",name:"FavoritedFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",y("key")],["resourceType","=","file"],["userId","=",A("userId")],["orgId","=",y("parentOrgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoriteFile:[{userId:h("userId")},{id:n}]}},{name:"developerRelatedLinks",type:{kind:"objects",name:"DeveloperRelatedLink"},filter:["fileKey","=",y("key")],expectedMaxCount:1e4},{name:"developerRelatedLinksForNode",type:{kind:"objects",name:"DeveloperRelatedLink"},args:[{name:"nodeId",type:{kind:"string"}}],filter:{and:[["fileKey","=",y("key")],["nodeId","=",A("nodeId")]]}},{name:"nodeStatusUsagesForFile",type:{kind:"objects",name:"NodeStatusUsage"},filter:["fileKey","=",y("key")],expectedMaxCount:200},{name:"nodeStatusUsagesForNode",type:{kind:"objects",name:"NodeStatusUsage"},args:[{name:"nodeId",type:{kind:"string"}}],filter:{and:[["fileKey","=",y("key")],["nodeId","=",A("nodeId")]]},expectedMaxCount:200},{name:"presenter",type:{kind:"object",name:"FilePresenter"},args:[],filter:{and:[["fileKey","=",y("key")]]},nullable:!0},{name:"activeFileUsers",type:{kind:"objects",name:"ActiveFileUser"},filter:["id","=",y("key")],nullable:!0,expectedMaxCount:200},{name:"defaultColorPaletteData",type:{kind:"object",name:"FileColorPalette"},filter:["fileKey","=",y("key")],nullable:!0},{name:"userColorPaletteOverrideData",type:{kind:"object",name:"UserColorPaletteOverrideForFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("key")],["userId","=",A("userId")]]},checkCanRead:{userId:A("userId")},nullable:!0},{name:"branchCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"scheme",type:{kind:"string"},nullable:!0},{name:"editUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"handoffUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"prototypeUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"touchedAt",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{updatedAt:n}}},{name:"url",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"checkpointId",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpointId:n}}},{name:"checkpointKey",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{key:n}}}},{name:"lastPublishedAt",type:{kind:"string"},computed:!0,dependencies:{library:{numComponents:n,numStyles:n,numStateGroups:n,numVariableSets:n,numVariables:n,updatedAt:n}}},{name:"figmadoc",type:{kind:"object",name:"Figmadoc"},args:[{name:"nodeId",type:{kind:"string"}}],filter:{and:[["fileKey","=",y("key")],["nodeId","=",A("nodeId")]]}},{name:"figmadoc_for_node",type:{kind:"object",name:"Figmadoc"},args:[{name:"nodeId",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"instances",type:{kind:"list",ofType:{kind:"string"}},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/figmadoc_for_node",queryParams:{userId:A("userId"),instances:A("instances"),current_filekey:y("key"),node_id:A("nodeId")},realtimePolicy:{type:"Static"}}},{name:"componentUpdates",type:{kind:"objects",name:"FileComponentUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"file-component-updates",keyPostfix:[y("key")]},expectedMaxCount:1e4},{name:"stateGroupUpdates",type:{kind:"objects",name:"FileStateGroupUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"file-state-group-updates",keyPostfix:[y("id")]},expectedMaxCount:1e4},{name:"libraryKeyToFile",type:{kind:"object",name:"LibraryKeyToFile"},filter:["fileKey","=",y("key")],nullable:!0},{name:"libraryKey",type:{kind:"string"},computed:!0,dependencies:{libraryKeyToFile:{libraryKey:n}}}]};var oZ={name:"FileActivity",embedded:!0,fields:[{name:"lastSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","in",["file_seen","design_file_seen","whiteboard_file_seen"]]]},orderBy:[["actionAt","DESC"]]},{name:"lastEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","in",["file_edit","design_file_edit","whiteboard_file_edit"]]]},orderBy:[["actionAt","DESC"]]},{name:"lastDesignEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","=","design_file_edit"]]},orderBy:[["actionAt","DESC"]]},{name:"lastDesignSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","=","design_file_seen"]]},orderBy:[["actionAt","DESC"]]},{name:"lastWhiteboardEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","=","whiteboard_file_edit"]]},orderBy:[["actionAt","DESC"]]},{name:"lastWhiteboardSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["activityType","=","whiteboard_file_seen"]]},orderBy:[["actionAt","DESC"]]}]};var aZ={name:"FileBrowserPreferences",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"migratedToSections",type:{kind:"bool"},nullable:!0},{name:"sidebarMigrationStatus",type:{kind:"enum",name:"SidebarMigrationStatus"},nullable:!0},{name:"orderedTeamIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedFavoritedResourceIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedLicenseGroupIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedSidebarSections",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var lZ={name:"FileBrowserSectionPreferences",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"sectionType",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"orderedFolderIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var dZ={name:"FileCanvasMention",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"mentionedUserId",type:{kind:"bigint"}},{name:"mentionedByUserId",type:{kind:"bigint"}},{name:"mentionedByUser",type:{kind:"object",name:"User"},filter:["id","=",y("mentionedByUserId")]},{name:"lastEditedByUserId",type:{kind:"bigint"},nullable:!0},{name:"lastEditedByUser",type:{kind:"object",name:"User"},filter:["id","=",y("lastEditedByUserId")],nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"editedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"nodeIdPath",type:{kind:"list",ofType:{kind:"string"}}}]};var uZ={name:"FileCanvasMentionReadStatus",naturalKey:new Set(["fileKey","userId"]),fields:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"allReadAt",type:{kind:"datetime"},nullable:!0},{name:"readCanvasMentions",type:{kind:"map",valueType:{kind:"string"}}},{name:"unreadCanvasMentions",type:{kind:"map",valueType:{kind:"string"}}}]};var cZ={name:"FileCheckpoint",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"clientMeta",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"}}]};var pZ={name:"FileColorPalette",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"colorPaletteUuid",type:{kind:"uuid"}},{name:"colorPalette",type:{kind:"object",name:"ColorPalette"},filter:["uuid","=",y("colorPaletteUuid")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var gZ={name:"FileFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"notificationPreference",type:{kind:"string"},nullable:!0},{name:"unreadComments",type:{kind:"map",valueType:{kind:"bool"}},nullable:!0}]};var mZ={name:"FileMerge",fields:[{name:"id",type:{kind:"bigint"}},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",y("branchFileKey")]},{name:"direction",type:{kind:"int"}},{name:"checkpointDiffId",type:{kind:"bigint"}},{name:"mergeResultCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"mergeRequest",type:{kind:"object",name:"MergeRequest"},filter:["fileMergeId","=",y("id")],nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"mergeResultFileversionId",type:{kind:"bigint"},nullable:!0}]};var bZ={name:"FilePresenter",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"presenterExists",type:{kind:"bool"}},{name:"userId",type:{kind:"string"},nullable:!0},{name:"handle",type:{kind:"string"},nullable:!0},{name:"imageURL",type:{kind:"string"},nullable:!0},{name:"color",type:{kind:"map",valueType:{kind:"int"}},nullable:!0}]};var fZ={name:"FilePrototypeLibCppConfig",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"shouldLoad",type:{kind:"bool"}}]};var Ls=[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"ResourceType"}},{name:"pending",type:{kind:"bool"},computed:!0,dependencies:{userId:n,pendingEmail:n}},{name:"level",type:{kind:"int"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"pendingEmail",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"isOwnerOfResource",type:{kind:"bool"},computed:!0,dependencies:{level:n}}];var yZ={name:"FileRole",fields:[...Ls,{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("resourceId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,pending:n,file:{id:n,linkAccess:n,roleOnObjectForUser:[{userId:h("userId")},{id:n}],roleOnObjectProjectForUser:[{userId:h("userId")},{id:n}]}}}]};var IZ={name:"FileRoleRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"status",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"level",type:{kind:"int"}},{name:"requesterUserId",type:{kind:"bigint"}},{name:"requesterUser",type:{kind:"object",name:"User"},filter:["id","=",y("requesterUserId")],nullable:!0}]};var hZ={name:"FileSeenState",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"viewedOn",type:{kind:"datetime"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]}]};var xZ={name:"FileTrackTags",embedded:!0,fields:[{name:"isTemplate",type:{kind:"bool"},nullable:!0},{name:"starterLibrarySrcFileKey",type:{kind:"string"},nullable:!0},{name:"figmaBasicsExperiment",type:{kind:"string"},nullable:!0},{name:"source",type:{kind:"string"},nullable:!0},{name:"defaultLibraryFileTreatmentId",type:{kind:"bigint"},nullable:!0},{name:"migratedFromDraftsFolderId",type:{kind:"bigint"},nullable:!0}]};var CZ={name:"FileVersion",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"view",type:{kind:"int"}},{name:"label",nullable:!0,type:{kind:"string"}},{name:"description",nullable:!0,type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"checkpointId",nullable:!0,type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"checkpoint",type:{kind:"object",name:"FileVersionCheckpoint"},embedded:!0,nullable:!0}]};var AZ={name:"FileVersionCheckpoint",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"string"}}]};var vZ={name:"GuestOrgUser",fields:[...el,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("orgId")],nullable:!0}]};var SZ={name:"HubFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"publishingStatusUpdatedAt",type:{kind:"datetime"},nullable:!0},{name:"contentVerifiedAt",type:{kind:"datetime"},nullable:!0},{name:"contentBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"},nullable:!0},{name:"publishingStatus",type:{kind:"enum",name:"PublishingStatus"},nullable:!0},{name:"duplicateCount",type:{kind:"int"}},{name:"likeCount",type:{kind:"int"}},{name:"viewCount",type:{kind:"int"}},{name:"commentCount",type:{kind:"int"}},{name:"resourcePinnedAt",type:{kind:"datetime"},nullable:!0},{name:"_viewerMode",type:{kind:"int"}},{name:"viewerMode",type:{kind:"enum",name:"ViewerMode"},computed:!0,dependencies:{_viewerMode:n}},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",y("profileId")]},{name:"currentHubFileVersionId",type:{kind:"bigint"},nullable:!0},{name:"currentHubFileVersion",type:{kind:"object",name:"HubFileVersion"},nullable:!0,filter:["id","=",y("currentHubFileVersionId")]},{name:"verificationStatus",type:{kind:"enum",name:"VerificationStatus"},computed:!0,dependencies:{contentVerifiedAt:n,contentBlockedAt:n}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{coverImagePath:n}}},{name:"redirectCanvasThumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{canvasCoverImagePath:n}}},{name:"canvasSnapshotUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{canvasSnapshotPath:n}}},{name:"thumbnailIsSet",type:{kind:"bool"},computed:!0,dependencies:{currentHubFileVersion:{thumbnailGuid:n}}},{name:"isPinned",type:{kind:"bool"},computed:!0,dependencies:{resourcePinnedAt:n}},{name:"userId",type:{kind:"bigint"}},{name:"publishedByUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("userId")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"canView",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:hh["HUB_FILE::CAN_VIEW"]},{name:"canRead",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:hh["HUB_FILE::CAN_VIEW"]},{name:"canRate",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],dependencies:{...hh["HUB_FILE::CAN_RATE"],hubFileCommunityRating:[{profileId:{type:"view",ref:"profileId"}},{hubFileId:null,profileId:null,ratingValue:null}],hubFileDuplicatesList:[{userId:{type:"view",ref:"userId"}},{id:null,hubFileId:null,isPreview:null,userId:null}]}},{name:"hubFileMonetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},nullable:!0,filter:["id","=",y("monetizedResourceMetadataId")]},{name:"hubFileCommunityRating",nullable:!0,type:{kind:"object",name:"CommunityComment"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",A("profileId")],["ratingValue","<>",null],["hubFileId","=",y("id")]]}},{name:"hubFileDuplicates",type:{kind:"object",name:"HubFileDuplicate"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["hubFileId","=",y("id")],["userId","=",A("userId")],["userId","<>",null]]}},{name:"hubFileDuplicatesList",type:{kind:"objects",name:"HubFileDuplicate"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["hubFileId","=",y("id")],["userId","=",A("userId")],["userId","<>",null]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:200},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],neverCheckCanRead:!0,filter:{and:[["monetizedResourceMetadataId","=",y("monetizedResourceMetadataId")],["userId","=",A("userId")],["userId","<>",null]]}},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",y("id")],nullable:!0,neverCheckCanRead:!0},{name:"communityPublisher",type:{kind:"object",name:"CommunityPublisher"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,neverCheckCanRead:!0,filter:{and:[["hubFileId","=",y("id")],["userId","=",A("userId")]]}}]};var OZ={name:"HubFileDuplicate",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"isPreview",type:{kind:"bool"},nullable:!0}]};var FZ={name:"HubFileVersion",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"}},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"canvasCoverImagePath",type:{kind:"string"},nullable:!0},{name:"canvasSnapshotPath",type:{kind:"string"},nullable:!0}]};var DZ={name:"IDPUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"userName",type:{kind:"string"}},{name:"scim",embedded:!0,type:{kind:"object",name:"EmbeddedSCIMInfo"}},{name:"orgSamlId",type:{kind:"bigint"}},{name:"orgSamlConfig",type:{kind:"object",name:"OrgSamlConfig"},nullable:!0,filter:["id","=",y("orgSamlId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"filterOrgId",type:{kind:"string"}}],computed:!0,dependencies:{orgSamlConfig:{org:{id:n,currentBaseOrgUser:[{userId:b("userId")},{permission:n,licenseGroupAdmins:{id:n}}]}}}}]};var RZ={name:"JamboardOfferRedeemedAt",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"redeemedAt",type:{kind:"datetime"},nullable:!0}]};var jZ={name:"LastFrameSelection",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"frameId",type:{kind:"string"},nullable:!0},{name:"frameName",type:{kind:"string"},nullable:!0}]};var PZ={name:"LatestClipboardData",fields:[{name:"id",type:{kind:"string"}},{name:"deviceType",type:{kind:"enum",name:"DeviceType"}},{name:"timestamp",type:{kind:"string"}},{name:"presignedDownloadUrl",type:{kind:"string"}}]};var _Z={name:"Library",naturalKey:new Set(["fileKey"]),fields:[...bh,{name:"fileKey",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["id","=",y("fileKey")]},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:h("userId")},n],trashedAt:n}}},{name:"approvedLibraries",type:{kind:"objects",name:"ApprovedLibrary"},filter:["fileKey","=",y("fileKey")],nullable:!0,expectedMaxCount:200}]};var TZ={name:"LibraryFileSubscription",fields:[...yh,{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"libraryFileKey",type:{kind:"string"}},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",y("libraryFileKey")],["hubFileId","=",null]]},nullable:!0},{name:"communityLibrary",type:{kind:"object",name:"CommunityLibrary"},filter:{and:[["hubFileId","=",y("hubFileId")],["hubFileId","<>",null]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{library:{file:{id:n,canView:[{userId:h("userId")},n],trashedAt:n}}}}]};var kZ={name:"LibraryHierarchyPath",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pageName",type:{kind:"string"},nullable:!0},{name:"containingFrameName",type:{kind:"string"},nullable:!0},{name:"nameHierarchyPath",type:{kind:"string"},nullable:!0},{name:"components",type:{kind:"objects",name:"Component"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",y("id")],["unpublishedAt","=",null]]},expectedMaxCount:4e4},{name:"styles",type:{kind:"objects",name:"Style"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",y("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4},{name:"stateGroups",type:{kind:"objects",name:"StateGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",y("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4}]};var wZ={name:"LibraryItemContainingFrame",embedded:!0,fields:[{name:"name",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"backgroundColor",type:{kind:"string"},nullable:!0},{name:"pageName",type:{kind:"string"},nullable:!0},{name:"pageId",type:{kind:"string"},nullable:!0},{name:"containingStateGroup",type:{kind:"object",name:"LibraryItemContainingStateGroup"},embedded:!0,nullable:!0}]};var EZ={name:"LibraryItemContainingStateGroup",embedded:!0,fields:[{name:"name",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0}]};var UZ={name:"LibraryKeyToFile",fields:[{name:"id",type:{kind:"uuid"}},{name:"libraryKey",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"}}]};var Vs=[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"figJamSubscribed",type:{kind:"bool"},nullable:!0},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",y("fileKey")],["hubFileId","=",null]]},nullable:!0},{name:"communityLibrary",type:{kind:"object",name:"CommunityLibrary"},filter:{and:[["hubFileId","=",y("hubFileId")],["hubFileId","<>",null]]},nullable:!0},{name:"libraryFileSubscriptionOverride",type:{kind:"object",name:"LibraryFileSubscription"},args:[{name:"subscribingFileKey",type:{kind:"string"}}],filter:{and:[["libraryFileKey","=",y("fileKey")],["fileKey","=",A("subscribingFileKey")]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{library:{file:{id:n,canView:[{userId:h("userId")},n],trashedAt:n}}}}];var MZ={name:"LibraryLicenseGroupSubscription",fields:[...Vs,{name:"isSubscribed",type:{kind:"bool"}},{name:"licenseGroupId",type:{kind:"bigint"}},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("licenseGroupId")]},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",y("fileKey")],["teamId","=",A("subscribingFileTeamId")]]},nullable:!0}]};var LZ={name:"LibraryOrgSubscription",fields:[...Vs,{name:"isSubscribed",type:{kind:"bool"},nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")]},{name:"libraryWorkspaceSubscriptionOverride",type:{kind:"object",name:"LibraryWorkspaceSubscription"},args:[{name:"subscribingFileWorkspaceId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("fileKey")],["workspaceId","=",A("subscribingFileWorkspaceId")]]},nullable:!0},{name:"libraryLicenseGroupSubscriptionOverride",type:{kind:"object",name:"LibraryLicenseGroupSubscription"},args:[{name:"subscribingFileLicenseGroupId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("fileKey")],["licenseGroupId","=",A("subscribingFileLicenseGroupId")]]},nullable:!0,deprecated:{reason:"See libraryWorkspaceSubscriptionOverride instead",date:"2024-02-27"}},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",y("fileKey")],["teamId","=",A("subscribingFileTeamId")]]},nullable:!0},{name:"libraryUserSubscriptionOverride",type:{kind:"object",name:"LibraryUserSubscription"},args:[{name:"subscribingUserId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("fileKey")],["userId","=",A("subscribingUserId")]]},nullable:!0}]};var VZ={name:"LibraryPublish",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"count",type:{kind:"int"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"assetPublishStatuses",type:{kind:"objects",name:"AssetPublishStatus"},expectedMaxCount:1e4,filter:["libraryPublishId","=",y("id")],nullable:!0},{name:"error",type:{kind:"string"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:h("userId")},n],trashedAt:n}}}]};var BZ={name:"LibraryPublishV2",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"count",type:{kind:"int"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"error",type:{kind:"string"},nullable:!0},{name:"assetSuccessCount",type:{kind:"bigint"},nullable:!0},{name:"assetFailureCount",type:{kind:"bigint"},nullable:!0},{name:"assetPendingCount",type:{kind:"bigint"},nullable:!0},{name:"firstAssetError",type:{kind:"string"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:h("userId")},n],trashedAt:n}}}]};var NZ={name:"LibraryTeamSubscription",fields:[...Vs,{name:"isSubscribed",type:{kind:"bool"}},{name:"teamId",type:{kind:"bigint"}},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("teamId")]},{name:"libraryUserSubscriptionOverride",type:{kind:"object",name:"LibraryUserSubscription"},args:[{name:"subscribingUserId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",y("fileKey")],["userId","=",A("subscribingUserId")]]},nullable:!0}]};var WZ={name:"LibraryUserSubscription",fields:[...Vs,{name:"isSubscribed",type:{kind:"bool"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]}]};var GZ={name:"LibraryWorkspaceSubscription",fields:[...Vs,{name:"isSubscribed",type:{kind:"bool"}},{name:"workspaceId",type:{kind:"bigint"}},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("workspaceId")]},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",y("fileKey")],["teamId","=",A("subscribingFileTeamId")]]},nullable:!0}]};var ZZ={name:"LicenseGroupFullPaidStatusCount",embedded:!0,fields:[{name:"licenseType",type:{kind:"enum",name:"LicenseType"}},{name:"count",type:{kind:"bigint"}}]},HZ={name:"LicenseGroupMemberCounts",fields:[{name:"id",type:{kind:"string"}},{name:"totalCount",type:{kind:"bigint"}},{name:"fullPaidStatusCounts",type:{kind:"objects",name:"LicenseGroupFullPaidStatusCount"},embedded:!0},{name:"designEditorCount",type:{kind:"bigint"}},{name:"whiteboardEditorCount",type:{kind:"bigint"}}]},KZ={name:"LicenseGroup",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")]},{name:"licenseGroupsConfigId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"mirroredWorkspaceId",type:{kind:"bigint"},nullable:!0},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryLicenseGroupSubscription"},filter:{and:[["licenseGroupId","=",y("id")]]},nullable:!0,expectedMaxCount:200,deprecated:{reason:"See workspace.librarySubscriptions instead",date:"2024-02-27"}},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryLicenseGroupSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",A("fileKey")],["licenseGroupId","=",y("id")]]},nullable:!0,deprecated:{reason:"See workspace.librarySubscriptionByLibraryKey instead",date:"2024-02-27"}},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",y("id")],["allowlistGroupType","=","LicenseGroup"]]},expectedMaxCount:200},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{org:{canRead:[{userId:A("userId")},n]}}},{name:"licenseGroupMemberCounts",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"LicenseGroupMemberCounts"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/license_group_member_counts",queryParams:{licenseGroupId:y("id"),userId:A("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"license-group-full-paid-status-counts-",channelPostfix:[y("id")]}}}]};var qZ={name:"LicenseGroupAdmin",fields:[{name:"id",type:{kind:"bigint"}},{name:"licenseGroupId",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("licenseGroupId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var YZ={name:"LicenseGroupMember",fields:[{name:"id",type:{kind:"bigint"}},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"orgUserId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"assignedAt",type:{kind:"datetime"},nullable:!0},{name:"updateReason",type:{kind:"enum",name:"LicenseGroupUpdateReason"},nullable:!0},{name:"actorUserId",type:{kind:"bigint"},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("licenseGroupId")]}]};var XZ={name:"LicenseGroupsConfig",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"nuxActiveAt",type:{kind:"datetime"},nullable:!0},{name:"licenseGroups",type:{kind:"objects",name:"LicenseGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["licenseGroupsConfigId","=",y("id")],["deletedAt","=",null]]},expectedMaxCount:200}]};var zZ={name:"LinkedFigFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"sourceFileKey",type:{kind:"string"}},{name:"destinationFileKey",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"position",type:{kind:"string"}}],deprecated:{reason:"Use FigFileLink",date:"2021-10-23"}};var JZ={name:"MergeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"reviewNumber",type:{kind:"int"},nullable:!0},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",y("branchFileKey")]},{name:"fileRepoId",type:{kind:"bigint"},nullable:!0},{name:"fileRepo",type:{kind:"object",name:"Repo"},filter:["id","=",y("fileRepoId")],nullable:!0},{name:"ownedBy",type:{kind:"bigint"}},{name:"owner",type:{kind:"object",name:"User"},filter:["id","=",y("ownedBy")],nullable:!0},{name:"title",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"closedAt",type:{kind:"datetime"},nullable:!0},{name:"closedBy",type:{kind:"bigint"},nullable:!0},{name:"closer",type:{kind:"object",name:"User"},filter:["id","=",y("closedBy")],nullable:!0},{name:"fileMergeId",type:{kind:"bigint"},nullable:!0},{name:"reviewers",type:{kind:"objects",name:"MergeRequestReviewer"},filter:["mergeRequestKey","=",y("key")],expectedMaxCount:100},{name:"mergeSummaryNotes",type:{kind:"string"},nullable:!0},{name:"requestedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var QZ={name:"MergeRequestReviewer",fields:[{name:"id",type:{kind:"bigint"}},{name:"mergeRequestKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"notes",type:{kind:"string"},nullable:!0},{name:"changesRequestedAt",type:{kind:"datetime"},nullable:!0},{name:"approvedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var $Z={name:"Module",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"description_rt",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"version",type:{kind:"string"}},{name:"width",type:{kind:"bigint"}},{name:"height",type:{kind:"bigint"}},{name:"moduleSource",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")],nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")],nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")],nullable:!0},{name:"containingFrame",type:{kind:"object",name:"LibraryItemContainingFrame"},embedded:!0,nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,file:{...Vi}}}]};var eH={name:"MonetizedResourceMetadata",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0},{name:"hasFreemiumCode",type:{kind:"bool"},nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")],nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",y("pluginId")],nullable:!0},{name:"widget",type:{kind:"object",name:"Plugin"},filter:["id","=",y("widgetId")],nullable:!0}]};var tH={name:"NodeStatusUsage",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}},{name:"nodeStatusType",type:{kind:"string"}},{name:"position",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var rH={name:"OauthApp",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"clientId",type:{kind:"string"}},{name:"website",type:{kind:"string"}},{name:"logo",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var nH={name:"OnboardingUserSignalAnswer",embedded:!0,fields:[{name:"value",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"updatedAt",type:{kind:"date"},nullable:!0}]};var iH={name:"OnboardingUserSignalData",embedded:!0,fields:[{name:"workLocationV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"expandedUsagePurposeV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howCollabV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howWillYouUseFigmaV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"expandedUsagePurposeV2",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howCollabV2",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"haveUsedFigmaProductsBeforeV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"whatBringsYouToFigmaTodayV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0}]};var sH={name:"OnboardingUserSignals",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"signals",type:{kind:"object",name:"OnboardingUserSignalData"},embedded:!0,nullable:!0},{name:"userId",type:{kind:"bigint"}}]};var oH={name:"OpenMergeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"mergeRequestKey",type:{kind:"string"}},{name:"mergeRequest",type:{kind:"object",name:"MergeRequest"},filter:["key","=",y("mergeRequestKey")]},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",y("branchFileKey")]}]};var xh={name:"OrgInfo",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"domainCapture",type:{kind:"bool"},nullable:!0},{name:"inviteWhitelist",type:{kind:"object",name:"OrgInviteWhitelist"},nullable:!0,embedded:!0},{name:"bigmaEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"templatePickerDisabled",type:{kind:"bool"},nullable:!0},{name:"figjamDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"cursorChatDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"isFigJamDisabled",type:{kind:"bool"},computed:!0,dependencies:{figjamDisabledAt:n}},{name:"voiceDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"customTemplatesAllowed",type:{kind:"enum",name:"CustomTemplatesPermissions"},nullable:!0},{name:"sharedOrgLicenseGroupSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",y("id")]]}},{name:"inExpExpiringPublicLinks",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"inExpWorkspaceLevelLinkControls",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"featuredScimMetadata",type:{kind:"enum",name:"FeaturedScimMetadata"},nullable:!0},{name:"vatGstId",type:{kind:"string"},nullable:!0},{name:"taxIdVerificationStatus",type:{kind:"enum",name:"TaxIdVerificationStatus"},nullable:!0},{name:"taxInfo",type:{kind:"object",name:"TaxInfo"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/tax_info",queryParams:{userId:A("userId"),org_id:y("id")},realtimePolicy:{type:"Static"}}},{name:"devModeOptInPlanProperty",type:{kind:"object",name:"PlanProperties"},filter:{and:[["planId","=",y("id")],["planType","=","organization"],["property","=","DEV_MODE_OPT_IN_REQUIREMENT_ACCEPTANCE_DATE"]]},nullable:!0},{name:"publicLinksBannedAt",type:{kind:"datetime"},nullable:!0,deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksBanned",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksRequirePassword",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksRequirePasswordEnabledAt",type:{kind:"datetime"},nullable:!0,deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"devModeAccountTypeRequests",type:{kind:"objects",name:"AccountTypeRequest"},filter:{and:[["planId","=",y("id")],["planType","=","Org"],["_editorTypeRaw","=",2],["status","=","pending"]]},nullable:!0,expectedMaxCount:1e4},{name:"scTeamExperienceEnabled",type:{kind:"bool"},computed:!0,dependencies:{id:n}}]};var aH={name:"OrgMemberCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},lH={name:"OrgWorkspaceCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},dH={name:"OrgDiscoverableTeamCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},uH={name:"Org",fields:[...xh.fields,{name:"googleSsoOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"samlSsoOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("id")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("id")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("id")]]}},{name:"teams",type:{kind:"objects",name:"Team"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["orgId","=",y("id")],checkCanRead:{userId:A("userId")},expectedMaxCount:1e4},{name:"teamsWithSummary",type:{kind:"objects",name:"TeamWithSummary"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{userId:A("userId")},filter:["orgId","=",y("id")],expectedMaxCount:1e4},{name:"members",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["orgId","=",y("id")],deprecated:{reason:"Use baseOrgUserMembers",date:"2022-02-11"},expectedMaxCount:200},{name:"baseOrgUserMembers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",y("id")],expectedMaxCount:200},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"isOrgUserExternallyRestricted",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,currentUser:[{userId:h("userId")},{id:n,externalRestrictedOrgId:n}]}},{name:"workshopDisabledAt",nullable:!0,type:{kind:"datetime"}},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",y("id")],expectedMaxCount:1e3},{name:"_allowedPublicPlugins",nullable:!0,type:{kind:"object",name:"OrgAllowedPublicPlugins"},filter:["orgId","=",y("id")]},{name:"publicPluginsAllowed",type:{kind:"bool"},computed:!0,dependencies:{_allowedPublicPlugins:{id:n,publicPluginsAllowed:n}}},{name:"domainCaptureDomains",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{orgDomains:{domain:n}}},{name:"guestInviteSetting",type:{kind:"string"},computed:!0,dependencies:{inviteWhitelist:{guestInviteSetting:n}}},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},filter:["orgId","=",y("id")],expectedMaxCount:1e4},{name:"pendingPluginRequests",type:{kind:"objects",name:"PluginRequest"},filter:{and:[["orgId","=",y("id")],["status","=","pending"]]},expectedMaxCount:1e4},{name:"whitelistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:["orgId","=",y("id")],expectedMaxCount:1e4},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",y("id")],["allowlistGroupType","=","Org"]]},expectedMaxCount:200},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"orgDomains",type:{kind:"objects",name:"OrgDomain"},filter:["orgId","=",y("id")],expectedMaxCount:1500},{name:"licenseGroupsConfig",type:{kind:"object",name:"LicenseGroupsConfig"},filter:["orgId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryOrgSubscription"},filter:{and:[["orgId","=",y("id")]]},nullable:!0,expectedMaxCount:200},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryOrgSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",A("fileKey")],["orgId","=",y("id")]]},nullable:!0},{name:"approvedLibraries",type:{kind:"objects",name:"ApprovedLibrary"},filter:{and:[["resourceType","=","Org"],["resourceId","=",y("id")]]},nullable:!0,expectedMaxCount:200},{name:"widgetsWhitelistEnforced",nullable:!0,type:{kind:"bool"}},{name:"pluginsWhitelistEnforced",nullable:!0,type:{kind:"bool"}},{name:"pluginRequestsAllowed",type:{kind:"bool"}},{name:"widgetRequestsAllowed",type:{kind:"bool"}},{name:"inExpTeamCreationControls",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:" No longer needed to maintain compliance with PermissionsV2 required fields",date:"2023-01-24"}},{name:"hasOrgEditLinksEditHeuristics",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:vm["ORG::IS_MEMBER"]},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:vm["ORG::IS_MEMBER"]},{name:"canAccessDraftsFolder",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:vm["ORG::IS_GUEST"]},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:vm["ORG::IS_ADMIN"]},{name:"workspaces",type:{kind:"objects",name:"Workspace"},checkCanRead:{userId:b("userId")},filter:["orgId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"licenseGroups",type:{kind:"objects",name:"LicenseGroup"},filter:["orgId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"memberCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgMemberCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_member_count",queryParams:{org_id:y("id"),userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"workspaceCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgWorkspaceCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_workspace_count",queryParams:{org_id:y("id"),userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"discoverableTeamCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgDiscoverableTeamCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_discoverable_team_count",queryParams:{org_id:y("id"),userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"activityLog",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"ActivityLog"},filter:["orgId","=",y("id")],checkCanRead:{userId:A("userId")},expectedMaxCount:200},{name:"activityLogByActedOnId",args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"actedOnIdOrKey",type:{kind:"string"},nullable:!0}],type:{kind:"objects",name:"ActivityLog"},filter:{and:[["orgId","=",y("id")],["actedOnIdOrKey","=",A("actedOnIdOrKey")]]},checkCanRead:{userId:A("userId")},expectedMaxCount:200}]};var cH={name:"OrgAccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"},nullable:!0},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0}]};var pH={name:"OrgActivity",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"activityType",type:{kind:"enum",name:"ActivityType"}},{name:"actionAt",type:{kind:"datetime"}},{name:"metadata",type:{kind:"string"},nullable:!0}]};var gH={name:"OrgAdminUserSearchResult",fields:[{name:"id",type:{kind:"string"}},{name:"type",type:{kind:"string"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"orgUser",type:{kind:"object",name:"BaseOrgUser"},nullable:!0,filter:["id","=",y("orgUserId")]},{name:"idpUserId",type:{kind:"bigint"}},{name:"idpUser",type:{kind:"object",name:"IDPUser"},nullable:!0,filter:["id","=",y("idpUserId")]},{name:"orgInviteId",type:{kind:"bigint"},nullable:!0},{name:"orgInvite",type:{kind:"object",name:"OrgInvite"},nullable:!0,filter:["id","=",y("orgInviteId")]},{name:"lastEdit",type:{kind:"string"},nullable:!0},{name:"lastSeen",type:{kind:"string"},nullable:!0},{name:"lastDesignEdit",type:{kind:"string"},nullable:!0},{name:"lastWhiteboardEdit",type:{kind:"string"},nullable:!0},{name:"lastDesignSeen",type:{kind:"string"},nullable:!0},{name:"lastWhiteboardSeen",type:{kind:"string"},nullable:!0}]};var mH={name:"OrgAdminUsersInfo",fields:[{name:"id",type:{kind:"bigint"}},{name:"totalUserCount",type:{kind:"bigint"}},{name:"designEditorCutoff",type:{kind:"object",name:"OrgUserFetchNewEditorCutoff"},embedded:!0,nullable:!0},{name:"designEditorBuffer",type:{kind:"object",name:"OrgUserFetchNewEditorBuffer"},embedded:!0,nullable:!0},{name:"whiteboardEditorCutoff",type:{kind:"object",name:"OrgUserFetchNewEditorCutoff"},embedded:!0,nullable:!0},{name:"whiteboardEditorBuffer",type:{kind:"object",name:"OrgUserFetchNewEditorBuffer"},embedded:!0,nullable:!0},{name:"canRoleSetWithScim",type:{kind:"bool"}}]};var bH={name:"OrgAllowedPublicPlugins",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"publicPluginsAllowed",type:{kind:"bool"},nullable:!0}]};var fH={name:"OrgAwareTeamRole",fields:[...Ls,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("resourceId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:{orgId:n}}}]};var yH={name:"OrgDomain",fields:[{name:"id",type:{kind:"bigint"}},{name:"domain",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"},nullable:!0},{name:"googleSsoOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"samlSsoOnlyAt",type:{kind:"datetime"},nullable:!0}]};var IH={name:"OrgInvite",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"email",type:{kind:"string"}},{name:"accountType",type:{kind:"enum",name:"OrgAccountType"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"workspaceId",type:{kind:"bigint"},nullable:!0}]};var hH={name:"OrgInviteWhitelist",embedded:!0,fields:[{name:"enabled",type:{kind:"string"},nullable:!0},{name:"guestEnabled",type:{kind:"string"},nullable:!0},{name:"memberAllowlistEnabled",type:{kind:"string"},nullable:!0},{name:"guestInviteSetting",type:{kind:"string"},nullable:!0}]};var xH={name:"OrgJoinRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"requesterUserId",type:{kind:"bigint"}}]};var CH={name:"OrgSetting",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"setting",type:{kind:"string"}},{name:"value",type:{kind:"string"},nullable:!0}]};var AH={name:"OrgTeamResult",fields:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("teamId")],["deletedAt","=",null]]},nullable:!0},{name:"ownerRole",type:{kind:"object",name:"TeamRole"},filter:{and:[["teamId","=",y("teamId")],["level","=",999]]},nullable:!0},{name:"teamOwnerRole",type:{kind:"object",name:"TeamRole"},filter:{and:[["resourceId","=",y("teamId")],["level","=",999],["resourceType","=","team"],["userId","<>",null],["pendingEmail","=",null]]},nullable:!0},{name:"memberCount",type:{kind:"bigint"},nullable:!0},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"ownerId",type:{kind:"bigint"},nullable:!0},{name:"owner",type:{kind:"object",name:"User"},filter:["id","=",y("ownerId")]},{name:"projects",type:{kind:"bigint"},nullable:!0},{name:"orgAccess",type:{kind:"string"},nullable:!0}]};var vH={name:"OrgUser",fields:[...el,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",y("orgId")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",y("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]},expectedMaxCount:200}]};var SH={name:"OrgUserEvent",fields:[{name:"id",type:{kind:"uuid"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"eventType",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var OH={name:"OrgUserFetchNewEditorBuffer",embedded:!0,fields:[{name:"buffer",type:{kind:"int"}},{name:"orgUserIds",type:{kind:"list",ofType:{kind:"string"}},nullable:!0}]};var FH={name:"OrgUserFetchNewEditorCutoff",embedded:!0,fields:[{name:"editorCount",type:{kind:"int"}},{name:"orgUserId",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"}}]};var DH={name:"OrgUserUpgrade",fields:[{name:"id",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,org:{currentPrivilegedOrgUser:[{userId:A("userId")},{id:n,permission:n,licenseGroupAdmins:{id:n}}]}}},{name:"orgUserId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")]},{name:"reason",type:{kind:"enum",name:"OrgUserUpgradeReason"}},{name:"actorId",type:{kind:"bigint"},nullable:!0},{name:"actor",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("actorId")]},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceFile",type:{kind:"object",name:"OrgUserUpgradeWithFile"},nullable:!0,filter:{and:[["id","=",y("id")],["resourceType","=","file"]]}},{name:"resourceProject",type:{kind:"object",name:"OrgUserUpgradeWithProject"},nullable:!0,filter:{and:[["id","=",y("id")],["resourceType","=","folder"]]}},{name:"resourceTeam",type:{kind:"object",name:"OrgUserUpgradeWithTeam"},nullable:!0,filter:{and:[["id","=",y("id")],["resourceType","=","team"]]}},{name:"resourceRepo",type:{kind:"object",name:"OrgUserUpgradeWithRepo"},nullable:!0,filter:{and:[["id","=",y("id")],["resourceType","=","file_repo"]]}},{name:"resourceOrg",type:{kind:"object",name:"OrgUserUpgradeWithOrg"},nullable:!0,filter:{and:[["id","=",y("id")],["resourceType","=","org"]]}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"licenseType",type:{kind:"enum",name:"LicenseType"},computed:!0,dependencies:{_editorTypeRaw:n}}]};var RH={name:"OrgSamlConfig",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")],nullable:!0}]};var jH={name:"OrgUserUpgradeWithFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("resourceId")],nullable:!0}]};var PH={name:"OrgUserUpgradeWithOrg",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"bigint"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("resourceId")],nullable:!0}]};var _H={name:"OrgUserUpgradeWithProject",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",y("resourceId")],nullable:!0}]};var TH={name:"OrgUserUpgradeWithRepo",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"repo",type:{kind:"object",name:"Repo"},filter:["id","=",y("resourceId")],nullable:!0}]};var kH={name:"OrgUserUpgradeWithTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"OrgUserUpgradeResourceType"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("resourceId")],nullable:!0}]};var wH={name:"PendingUserMentions",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"inviteId",type:{kind:"bigint"}},{name:"inviterUserId",type:{kind:"bigint"}},{name:"inviteeEmail",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCommentId",type:{kind:"bigint"}}]};var EH={name:"PermissionFeatureFlag",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}}]};var UH={name:"PinnedFile",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"folderId",type:{kind:"bigint"}},{name:"pinnedBy",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"file",type:{kind:"object",name:"File"},nullable:!0,filter:["key","=",y("key")]},{name:"pinnedByUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",y("pinnedBy")]}]};var MH={name:"PinnedPlugin",embedded:!0,fields:[{name:"pluginId",type:{kind:"bigint"}},{name:"inherited",type:{kind:"bool"},nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},nullable:!0,filter:["id","=",y("pluginId")]}]};var LH={name:"PlanProperties",fields:[{name:"id",type:{kind:"uuid"}},{name:"property",type:{kind:"string"}},{name:"value",type:{kind:"string"},nullable:!0},{name:"planId",type:{kind:"string"}},{name:"planType",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var VH={name:"Plugin",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"currentPluginVersionId",type:{kind:"bigint"},nullable:!0},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"supportContact",type:{kind:"string"},nullable:!0},{name:"approvedAt",type:{kind:"datetime"},nullable:!0},{name:"approvalStatus",type:{kind:"int"},nullable:!0},{name:"installCount",type:{kind:"int"}},{name:"likeCount",type:{kind:"int"}},{name:"publishingStatus",type:{kind:"enum",name:"PublishingStatus"},nullable:!0},{name:"viewCount",type:{kind:"int"}},{name:"blockedAt",type:{kind:"datetime"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"commentCount",type:{kind:"int"},nullable:!0},{name:"hideRelatedContentByOthers",type:{kind:"bool"},nullable:!0},{name:"isPublic",type:{kind:"bool"},nullable:!0},{name:"isWidget",type:{kind:"bool"},nullable:!0},{name:"isInspect",type:{kind:"bool"},nullable:!0},{name:"widgetsWhitelistEnforced",type:{kind:"bool"},nullable:!0},{name:"pluginsWhitelistEnforced",type:{kind:"bool"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"installStatus",type:{kind:"string"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"},nullable:!0},{name:"thirdPartyM10nStatus",type:{kind:"string"},nullable:!0},{name:"monetizationStatus",type:{kind:"string"},nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",y("profileId")]},{name:"currentPluginVersion",type:{kind:"object",name:"PluginVersion"},nullable:!0,filter:["id","=",y("currentPluginVersionId")]},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",y("orgId")],expectedMaxCount:1e4},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},filter:["id","=",y("monetizedResourceMetadataId")],nullable:!0},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",y("userId")],nullable:!0},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],neverCheckCanRead:!0,filter:{and:[["monetizedResourceMetadataId","=",y("monetizedResourceMetadataId")],["userId","=",A("userId")],["userId","<>",null]]}},{name:"orgWhitelist",type:{kind:"object",name:"WhitelistedPlugin"},nullable:!0,args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["orgId","=",A("orgId")],["pluginId","=",y("id")]]}},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["orgId","=",A("orgId")],["pluginId","=",y("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:200},{name:"communityPublishers",type:{kind:"objects",name:"CommunityPublisher"},args:[{name:"initialPageSize",type:{kind:"int"}}],nullable:!0,filter:{and:[["pluginId","=",y("id")],["isPending","=",!1]]},expectedMaxCount:100},{name:"user",type:{kind:"object",name:"User"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"_org",type:{kind:"object",name:"Org"},nullable:!0,args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("orgId")]},{name:"viewableInEditor",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,approvedAt:n,publishingStatus:n,isPublic:n,orgId:n,isWidget:n,user:[{userId:h("userId")},{id:n,privilegedOrgUser:[{orgId:h("orgId")},{id:n,permission:n}],adminAt:n}],_org:[{orgId:h("orgId")},{id:n,pluginsWhitelistEnforced:n,widgetsWhitelistEnforced:n,publicPluginsAllowed:n}],orgWhitelist:[{orgId:h("orgId")},{id:n}]}},{name:"canRead",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,approvedAt:n,publishingStatus:n,isPublic:n,orgId:n,isWidget:n,user:[{userId:h("userId")},{id:n,privilegedOrgUser:[{orgId:h("orgId")},{id:n,permission:n}],adminAt:n}],_org:[{orgId:h("orgId")},{id:n,pluginsWhitelistEnforced:n,widgetsWhitelistEnforced:n,publicPluginsAllowed:n}],orgWhitelist:[{orgId:h("orgId")},{id:n}]}},{name:"pluginCommunityRating",nullable:!0,type:{kind:"object",name:"CommunityComment"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",A("profileId")],["ratingValue","<>",null],["pluginId","=",y("id")]]}},{name:"pluginRun",type:{kind:"object",name:"PluginRun"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["pluginId","=",y("id")],["userId","=",A("userId")],["userId","<>",null]]}},{name:"canRate",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],dependencies:{...W1["PLUGIN::CAN_RATE"],pluginCommunityRating:[{profileId:{type:"view",ref:"profileId"}},{pluginId:null,profileId:null,ratingValue:null}]}}]};var BH={name:"PluginCodegenSettings",embedded:!0,fields:[{name:"language",type:{kind:"object",name:"CodeExtensionLanguage"},embedded:!0},{name:"preferences",type:{kind:"object",name:"CodeExtensionPreferences"},embedded:!0},{name:"behavior",type:{kind:"enum",name:"CodegenSettingsBehavior"}}]};var NH={name:"PluginInstall",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"pluginVersionId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"plugin",type:{kind:"object",name:"Plugin"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId"),orgId:A("orgId")},filter:{and:[["id","=",y("pluginId")],["blockedAt","=",null],["unpublishedAt","=",null]]}},{name:"_pinnedStatusRaw",type:{kind:"bigint"},nullable:!0},{name:"pinnedStatus",type:{kind:"enum",name:"PinnedStatus"},computed:!0,dependencies:{_pinnedStatusRaw:n}}]};var WH={name:"PluginPreferences",fields:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"preferences",type:{kind:"object",name:"PluginPreferencesConfig"},nullable:!0,embedded:!0},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"currentUserId",type:{kind:"bigint"},nullable:!0},{name:"targetOrgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("currentUserId")],["orgId","=",A("targetOrgId")]]}},{name:"autoRunPluginId",type:{kind:"bigint"},nullable:!0},{name:"autoRunBehavior",type:{kind:"enum",name:"AutoRunBehavior"}},{name:"autoRunPlugin",type:{kind:"object",name:"Plugin"},nullable:!0,filter:["id","=",y("autoRunPluginId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0},{name:"currentUserId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{baseOrgUser:[{currentUserId:A("currentUserId"),targetOrgId:A("targetOrgId")},{id:n,orgId:n}]}},{name:"autoRunEnabled",type:{kind:"bool"},nullable:!0},{name:"codegenEnabled",type:{kind:"bool"},nullable:!0},{name:"pinnedPluginsEnabled",type:{kind:"bool"},nullable:!0}]};var GH={name:"PluginPreferencesConfig",embedded:!0,fields:[{name:"pins",type:{kind:"objects",name:"PinnedPlugin"},embedded:!0},{name:"removedInheritedPins",type:{kind:"list",ofType:{kind:"bigint"}}},{name:"codegenSettings",type:{kind:"object",name:"PluginCodegenSettings"},nullable:!0,embedded:!0}]};var ZH={name:"PluginRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",y("pluginId")],nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},filter:["id","=",y("orgUserId")],nullable:!0},{name:"status",type:{kind:"string"}},{name:"declineNote",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"requesterNote",type:{kind:"string"},nullable:!0},{name:"workspaceAllowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["orgId","=",y("orgId")],["pluginId","=",y("pluginId")],["allowlistGroupType","=","Workspace"]]}}]};var HH={name:"PluginRun",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}}]};var KH={name:"PluginSecurityFormResponses",fields:[{name:"id",type:{kind:"uuid"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"pluginId",type:{kind:"bigint"}},{name:"status",type:{kind:"enum",name:"PluginSecurityFormResponseStatus"}},{name:"formVersion",type:{kind:"bigint"}},{name:"responses",type:{kind:"string"}}]};var qH={name:"PluginVersion",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",y("pluginId")]},{name:"name",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"tagline",type:{kind:"string"},nullable:!0},{name:"creatorPolicy",type:{kind:"string"},nullable:!0},{name:"version",type:{kind:"string"},nullable:!0},{name:"iconPath",type:{kind:"string"},nullable:!0},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"codePath",type:{kind:"string"},nullable:!0},{name:"resourceStagingSignature",type:{kind:"string"},nullable:!0},{name:"manifest",type:{kind:"string"},nullable:!0},{name:"releaseNotes",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"iconUrl",type:{kind:"string"},computed:!0,dependencies:{iconPath:n}},{name:"coverImageUrl",type:{kind:"string"},computed:!0,dependencies:{coverImagePath:n}},{name:"playgroundFigFileKey",type:{kind:"string"},nullable:!0},{name:"hasPlaygroundFile",type:{kind:"bool"},computed:!0,dependencies:{playgroundFigFileKey:n}}]};var YH={name:"PrivilegedOrgUser",fields:[...el,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",y("orgId")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",y("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]},expectedMaxCount:200}]};var XH={name:"ProAccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"requestableUserId",type:{kind:"bigint"}},{name:"requestableUserType",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0}]};var zH={name:"Profile",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"profileHandle",type:{kind:"string"}},{name:"publicAt",type:{kind:"datetime"},nullable:!0},{name:"website",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"location",type:{kind:"string"},nullable:!0},{name:"twitter",type:{kind:"string"},nullable:!0},{name:"instagram",type:{kind:"string"},nullable:!0},{name:"followerCount",type:{kind:"int"}},{name:"followingCount",type:{kind:"int"}},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"pronouns",type:{kind:"string"},nullable:!0},{name:"badges",type:{kind:"objects",name:"CommunityBadge"},filter:["profileId","=",y("id")],expectedMaxCount:200},{name:"communityHubFollowing",type:{kind:"objects",name:"CommunityHubFollow"},filter:["followerProfileId","=",y("id")],expectedMaxCount:1e4},{name:"communityHubFollowed",type:{kind:"objects",name:"CommunityHubFollow"},filter:["followedProfileId","=",y("id")],expectedMaxCount:200},{name:"entityType",type:{kind:"string"},computed:!0,dependencies:{primaryUserId:n,teamId:n,orgId:n}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentUserIsFollowing",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"bool"},computed:!0,dependencies:{id:n,currentUser:[{userId:A("userId")},{communityProfile:{communityHubFollowing:{followerProfileId:n,followedProfileId:n}}}]}},{name:"currentUserIsFollowed",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"bool"},computed:!0,dependencies:{id:n,communityHubFollowing:{followerProfileId:n,followedProfileId:n},currentUser:[{userId:A("userId")},{id:n,profileId:n}]}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{user:{handle:n},team:{name:n},org:{name:n},entityType:n}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"primaryUserId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("primaryUserId")],nullable:!0},{name:"associatedUsers",type:{kind:"objects",name:"User"},filter:["profileId","=",y("id")],expectedMaxCount:200},{name:"team",type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("teamId")]]},nullable:!0},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("orgId")],nullable:!0}]};var YDe=t=>({id:n,currentUser:[{userId:h("userId")},{id:n,email:n,emailDomain:n}],ownerRole:{id:n,level:n},deletedAt:n,inviteOnlyAt:n,viewOnlyAt:n,_isAccessRestricted:[{userId:h("userId"),permissionLevel:t},n],roleOnObjectForUser:[{userId:h("userId")},{id:n,level:n}],orgDraftsFolderOwnerBaseOrgUser:{userId:n},currentPrivilegedOrgUser:[{userId:h("userId")},{userId:n,accountType:n,whiteboardPaidStatus:n}],team:{id:n,workspaceId:n,roleOnObjectForUser:[{userId:h("userId")},{id:n,level:n}],_hasTeamAccess:[{userId:h("userId"),permissionLevel:t},n]}}),JH={type:{kind:"object",name:"ProjectRole"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","folder"],["level","=",999]]},nullable:!0},aD={id:n,team:{workspaceId:n,currentBaseOrgUser:[{userId:A("userId")},{workspaceUsers:{id:n,permission:n,workspaceId:n,orgUserId:n}}]}},QH={type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("id")],["resourceType","=","folder"]]}},$H={type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,path:n,canEdit:[{userId:A("userId")},n],team:{id:n,org:{id:n,isOrgUserExternallyRestricted:[{userId:A("userId")},n],isFigJamDisabled:n,currentBaseOrgUser:[{userId:b("userId")},{id:n,userId:n,draftsFolderId:n,accountType:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}]},currentTeamUser:[{userId:b("userId")},{id:n,userId:n,teamId:n,designPaidStatus:n,whiteboardPaidStatus:n}]},org:{isOrgUserExternallyRestricted:[{userId:A("userId")},n],isFigJamDisabled:n},currentBaseOrgUser:[{userId:A("userId")},{draftsFolderId:n,accountType:n,whiteboardPaidStatus:n}],currentTeamUser:[{userId:A("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}]}},eK={name:"Project",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"path",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"viewOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"inviteOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"scheme",type:{kind:"string"},nullable:!0},{name:"sharingAudienceControl",type:{kind:"string"},nullable:!0},{name:"sharingAudienceControlComputed",type:{kind:"enum",name:"LinkAccess"},computed:!0,dependencies:{sharingAudienceControl:n,viewOnlyAt:n,inviteOnlyAt:n}},{name:"teamAccess",type:{kind:"enum",name:"TeamAccess"},computed:!0,dependencies:{viewOnlyAt:n,inviteOnlyAt:n}},{name:"parentPath",type:{kind:"string"},computed:!0,dependencies:{path:n}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{path:n}},{name:"isInviteOnly",type:{kind:"bool"},computed:!0,dependencies:{inviteOnlyAt:n}},{name:"isViewOnly",type:{kind:"bool"},computed:!0,dependencies:{viewOnlyAt:n}},{name:"roles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","folder"]]},expectedMaxCount:1e3},{name:"ownerRole",...JH},{name:"folderOwnerRole",...JH},{name:"isOwned",type:{kind:"bool"},computed:!0,dependencies:{ownerRole:{id:n}}},{name:"favoriteProject",type:{kind:"object",name:"FavoritedProject"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",y("id")],["resourceType","=","folder"],["userId","=",A("userId")],["orgId","=",y("orgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoriteProject:[{userId:h("userId")},{id:n}]}},{name:"pinnedFiles",type:{kind:"objects",name:"PinnedFile"},filter:["folderId","=",y("id")],expectedMaxCount:1e3},{name:"files",type:{kind:"objects",name:"File"},filter:["folderId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"fileUpdates",type:{kind:"objects",name:"File"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],checkCanRead:{userId:b("userId")},filter:{and:[["folderId","=",y("id")],["deletedAt","=",null],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:2e3},{name:"untrashedFiles",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",y("id")],["deletedAt","=",null],["trashedAt","=",null]]},nullable:!0,expectedMaxCount:1e3},{name:"undeletedFiles",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",y("id")],["deletedAt","=",null]]},nullable:!0,expectedMaxCount:1e3},{name:"undeletedFilesHighLimit",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",y("id")],["deletedAt","=",null]]},nullable:!0,expectedMaxCount:1e4},{name:"whiteboardFiles",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",y("id")],["_editorTypeRaw","=",1]]},nullable:!0,expectedMaxCount:1e3},{name:"filesPartial",type:{kind:"objects",name:"File"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["folderId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"isEmpty",type:{kind:"bool"},computed:!0,dependencies:{filesPartial:[{initialPageSize:1},{id:n}],repos:[{initialPageSize:1},{id:n}]}},{name:"repos",type:{kind:"objects",name:"Repo"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["folderId","=",y("id")],nullable:!0,expectedMaxCount:1e3},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("teamId")]]}},{name:"org",nullable:!0,type:{kind:"object",name:"Org"},filter:{and:[["id","=",y("orgId")]]}},{name:"orgInfo",nullable:!0,type:{kind:"object",name:"Org"},filter:{and:[["id","=",y("orgId")]]}},{name:"subscription",type:{kind:"object",name:"ProjectSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["folderId","=",y("id")],["userId","=",A("userId")]]}},{name:"isSubscribed",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{subscription:[{userId:A("userId")},{id:n}]}},{name:"roleOnObjectForUser",...QH},{name:"roleOnObjectProjectForUser",...QH},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("teamId")],["resourceType","=","team"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("id")]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")],["permission","<>","guest"]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("teamId")]]}},{name:"orgDraftsFolderOwner",nullable:!0,type:{kind:"object",name:"OrgUser"},filter:["draftsFolderId","=",y("id")]},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",y("id")]},{name:"_isAccessRestricted",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:{orgDraftsFolderOwnerBaseOrgUser:{userId:n,accountType:n,whiteboardPaidStatus:n},currentPrivilegedOrgUser:[{userId:h("userId")},{accountType:n,whiteboardPaidStatus:n}],currentUser:[{userId:h("userId")},{id:n,externalRestrictedOrgId:n}]}},{name:"_hasProjectAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:YDe(h("permissionLevel"))},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Bi(Id(Ih["FOLDER::CAN_VIEW"],["workspaceUser"]),aD)},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Bi(Id(Ih["FOLDER::CAN_EDIT"],["workspaceUser"]),aD)},{name:"isOwner",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Bi(Id(Ih["FOLDER::IS_OWNER"],["workspaceUser"]),aD)},{name:"isOrphanedOrgProject",type:{kind:"bool"},computed:!0,dependencies:{path:n,teamId:n,orgId:n}},{name:"isEditingLockedForUser",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{path:n,inviteOnlyAt:n,viewOnlyAt:n,team:{id:n,isLockedForUser:[{userId:h("userId")},n],canAccessProFeature:n}}},{name:"canCreateDesignFileV2",...$H},{name:"canCreateFigJamFileV2",...$H},{name:"canCreateDesignFile",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,path:n,canEdit:[{userId:A("userId")},n],team:{id:n},org:{isOrgUserExternallyRestricted:[{userId:A("userId")},n]},currentBaseOrgUser:[{userId:A("userId")},{draftsFolderId:n,accountType:n}],currentTeamUser:[{userId:A("userId")},{designPaidStatus:n}]}},{name:"canCreateFigJamFile",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,path:n,canEdit:[{userId:A("userId")},n],team:{id:n},org:{isOrgUserExternallyRestricted:[{userId:A("userId")},n],isFigJamDisabled:n},currentBaseOrgUser:[{userId:A("userId")},{draftsFolderId:n,whiteboardPaidStatus:n}],currentTeamUser:[{userId:A("userId")},{whiteboardPaidStatus:n}]}},{name:"componentUpdates",type:{kind:"objects",name:"ProjectComponentUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"project-component-updates",keyPostfix:[y("id")]},expectedMaxCount:1e4},{name:"stateGroupUpdates",type:{kind:"objects",name:"ProjectStateGroupUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"project-state-group-updates",keyPostfix:[y("id")]},expectedMaxCount:1e4}]};var tK={name:"ProjectRole",fields:[...Ls,{name:"isShared",type:{kind:"bool"},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",y("resourceId")],nullable:!0}]};var rK={name:"ProjectSubscription",fields:[{name:"id",type:{kind:"bigint"}},{name:"folderId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"project",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",y("folderId")]},{name:"projectV2",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"Project"},nullable:!0,checkCanRead:{userId:A("userId")},filter:["id","=",y("folderId")]}]};var nK={name:"Prototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"pageId",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"thumbnailMeta",type:{kind:"string"},nullable:!0},{name:"deleted",type:{kind:"bool"},nullable:!0},{name:"url",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,fileKey:n,deleted:n,file:{id:n,canRead:[{userId:h("userId")},n]}}},{name:"favoritePrototype",type:{kind:"object",name:"FavoritedPrototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",y("id")],["resourceType","=","prototype"],["userId","=",A("userId")],["orgId","=",A("orgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoritePrototype:[{userId:h("userId"),orgId:h("orgId")},{id:n}]}}]};var iK={name:"RecentFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"action",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"actionAt",type:{kind:"datetime"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var sK={name:"RecentPrototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"prototypeId",type:{kind:"bigint"}},{name:"viewedAt",type:{kind:"datetime"}},{name:"prototype",type:{kind:"object",name:"Prototype"},filter:["id","=",y("prototypeId")]}]};var oK={name:"RecentSearch",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"searches",embedded:!0,type:{kind:"objects",name:"SearchInfo"},nullable:!0}]};var aK={name:"RelevanceReason",embedded:!0,fields:[{name:"relevant",type:{kind:"bool"},nullable:!0},{name:"reason",type:{kind:"string"},nullable:!0}]};var lK={name:"Repo",naturalKey:new Set(["defaultFileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"defaultFileKey",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"trashedAt",type:{kind:"datetime"},nullable:!0},{name:"isTrashed",type:{kind:"bool"},computed:!0,dependencies:{trashedAt:n}},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"},nullable:!0},{name:"protoLinkAccess",type:{kind:"enum",name:"ProtoLinkAccess"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"orgAudience",type:{kind:"bool"},nullable:!0},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"ownerRole",type:{kind:"object",name:"RepoRole"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","file_repo"],["level","=",999]]},nullable:!0},{name:"passwordAuthentication",type:{kind:"object",name:"FigFilePasswordAuthentication"},args:[{name:"anonymousUserId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",y("defaultFileKey")],["anonymousUserId","=",A("anonymousUserId")]]}},{name:"pwdConfig",type:{kind:"object",name:"FigFilePwdConfig"},filter:["fileKey","=",y("defaultFileKey")],nullable:!0},{name:"roles",type:{kind:"objects",name:"RepoRole"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","file_repo"]]},expectedMaxCount:1e4},{name:"_defaultFile",type:{kind:"object",name:"File"},filter:["key","=",y("defaultFileKey")],nullable:!0},{name:"sourceFile",type:{kind:"object",name:"File"},filter:["key","=",y("defaultFileKey")],nullable:!0},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",y("folderId")]},{name:"hasFileLinkPassword",type:{kind:"bool"},computed:!0,dependencies:{_defaultFile:{hasFileLinkPassword:n}}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("teamId")]]}},{name:"hasProtoLinkPassword",type:{kind:"bool"},computed:!0,dependencies:{_defaultFile:{hasProtoLinkPassword:n}}},{name:"files",type:{kind:"objects",name:"File"},filter:["fileRepoId","=",y("id")],nullable:!0,expectedMaxCount:2e3,orderBy:[["trashedAt","DESC"]]},{name:"_activeBranches",type:{kind:"objects",name:"File"},filter:{and:[["fileRepoId","=",y("id")],["sourceFileKey","<>",null],["trashedAt","=",null]]},nullable:!0,expectedMaxCount:2e3},{name:"activeBranches",type:{kind:"objects",name:"File"},filter:{and:[["fileRepoId","=",y("id")],["sourceFileKey","<>",null],["trashedAt","=",null]]},expectedMaxCount:2e3},{name:"hasActiveBranches",type:{kind:"bool"},computed:!0,dependencies:{_activeBranches:{id:n}}},{name:"project",nullable:!0,type:{kind:"object",name:"Project"},filter:{and:[["id","=",y("folderId")]]}},{name:"_project_permsV2",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",y("folderId")],bannedFromViews:!0,neverCheckCanRead:!0},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("teamId")]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("id")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectRepoForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("id")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectProjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("folderId")],["resourceType","=","folder"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("teamId")],["resourceType","=","team"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("parentOrgId")]]}},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")],nullable:!0},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",y("parentOrgId")]]}},{name:"_hasRepoAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:cc["REPO::CAN_VIEW_PROTOTYPE"]},{name:"canReadV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:cc["REPO::CAN_VIEW_PROTOTYPE"]},{name:"canViewV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:cc["REPO::CAN_VIEW"]},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:cc["REPO::CAN_EDIT"]},{name:"canEditV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:cc["REPO::CAN_EDIT"]},{name:"folderId",type:{kind:"bigint"}},{name:"linkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{and:[["figFileKey","=",y("defaultFileKey")],["accessReverted","=",!1]]},nullable:!0,deprecated:{reason:"Use mainFileLinkExpirationConfig",date:"2023-05-31"}},{name:"mainFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",y("defaultFileKey")],nullable:!0}]};var dK={name:"RepoRole",fields:[...Ls,{name:"repo",type:{kind:"object",name:"Repo"},filter:["id","=",y("resourceId")]}]};var uK={name:"ResourceSave",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",y("hubFileId")]}]};var cK={name:"SCIMEnterpriseFields",embedded:!0,fields:[{name:"organization",type:{kind:"string"},nullable:!0},{name:"costCenter",type:{kind:"string"},nullable:!0},{name:"division",type:{kind:"string"},nullable:!0},{name:"department",type:{kind:"string"},nullable:!0}]};var pK={name:"SCIMFigmaEnterpriseFields",embedded:!0,fields:[{name:"figmaPermission",type:{kind:"string"},nullable:!0},{name:"figjamPermission",type:{kind:"string"},nullable:!0},{name:"devModePermission",type:{kind:"string"},nullable:!0}]};var gK={name:"SCIMName",embedded:!0,fields:[{name:"givenName",type:{kind:"string"},nullable:!0},{name:"familyName",type:{kind:"string"},nullable:!0}]};var mK={name:"SearchInfo",embedded:!0,fields:[{name:"query",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"}}]};var bK={name:"SharedOrgLicenseGroupSetting",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"resourceId",type:{kind:"bigint"}},{name:"publicLinkControlsSetting",type:{kind:"string"},nullable:!0},{name:"autogenPasswordControls",type:{kind:"bool"}},{name:"externalCollaborationControls",type:{kind:"bool"}},{name:"teamCreationControls",type:{kind:"string"},nullable:!0},{name:"publicLinkControlsMaxExpiration",type:{kind:"int"},nullable:!0},{name:"configuredUpgradeRequestSetting",type:{kind:"string"},nullable:!0},{name:"configuredUpgradeRequestMessage",type:{kind:"string"},nullable:!0},{name:"permittedConfiguredUpgradeRequestMessage",type:{kind:"string"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"permission",type:{kind:"string"}}],computed:!0,dependencies:{configuredUpgradeRequestSetting:n,configuredUpgradeRequestMessage:n}}]};var fK={name:"SharedWithYouFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,file:{canViewV2:[{userId:A("userId"),sessionId:A("sessionId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"file",nullable:!0,type:{kind:"object",name:"File"},filter:{and:[["key","=",y("resourceId")],["trashedAt","=",null],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",y("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")]},{name:"thumbnailUrl",type:{kind:"string"},args:[],computed:!0,dependencies:{file:{signedThumbnailUrl:n}}},{name:"thumbnailUrlOverride",type:{kind:"string"},args:[],computed:!0,dependencies:{file:{thumbnailUrlOverride:n}}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",y("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var yK={name:"SharedWithYouFolder",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n,folder:{canRead:[{userId:A("userId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"folder",nullable:!0,type:{kind:"object",name:"Project"},filter:{and:[["id","=",y("resourceId")],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",y("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",y("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var IK={name:"SharedWithYouPrototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,prototype:{file:{canViewPrototypeV2:[{userId:A("userId"),sessionId:A("sessionId")},n]}}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"prototype",nullable:!0,type:{kind:"object",name:"Prototype"},filter:{and:[["fileKey","=",y("resourceId")],["deleted","=",!1]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",y("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")]},{name:"thumbnailUrl",type:{kind:"string"},args:[],computed:!0,dependencies:{prototype:{thumbnailUrl:n}}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",y("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var hK={name:"SharedWithYouRepo",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,repo:{canViewV2:[{userId:A("userId"),sessionId:A("sessionId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"repo",nullable:!0,type:{kind:"object",name:"Repo"},filter:{and:[["id","=",y("resourceId")],["trashedAt","=",null],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",y("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",y("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var xK={name:"SharedWithYouResource",fields:[{name:"id",type:{kind:"bigint"}},{name:"swyResourceId",type:{kind:"bigint"}},{name:"sharedWithYouFile",type:{kind:"object",name:"SharedWithYouFile"},filter:{and:[["id","=",y("swyResourceId")],["resourceType","=","file"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}},{name:"sharedWithYouFolder",type:{kind:"object",name:"SharedWithYouFolder"},filter:{and:[["id","=",y("swyResourceId")],["resourceType","=","folder"]]},nullable:!0,checkCanRead:{userId:b("userId")}},{name:"sharedWithYouRepo",type:{kind:"object",name:"SharedWithYouRepo"},filter:{and:[["id","=",y("swyResourceId")],["resourceType","=","file_repo"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}},{name:"sharedWithYouPrototype",type:{kind:"object",name:"SharedWithYouPrototype"},filter:{and:[["id","=",y("swyResourceId")],["resourceType","=","prototype"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}}]};var CK={name:"SharedWithYouTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("resourceId")],["deletedAt","=",null]]}},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",y("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",y("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var AK={name:"SlideThemeVariableInfo",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variable",type:{kind:"object",name:"VariableLog"},nullable:!0,filter:{and:[["key","=",y("key")],["version","=",y("version")]]}}]},vK={name:"SlideThemeStyleInfo",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"style",type:{kind:"object",name:"StyleLog"},nullable:!0,filter:{and:[["key","=",y("key")],["contentHash","=",y("version")]]}}]},SK={name:"SlidesTheme",fields:[{name:"id",type:{kind:"bigint"}},{name:"themeKey",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"varSetVersion",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"variableSetKey",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},nullable:!0,filter:["id","=",y("fileKey")]},{name:"variables",type:{kind:"objects",name:"SlideThemeVariableInfo"},embedded:!0},{name:"styles",type:{kind:"objects",name:"SlideThemeStyleInfo"},embedded:!0},{name:"variableSet",type:{kind:"object",name:"VariableSetLog"},nullable:!0,filter:{and:[["key","=",y("variableSetKey")],["version","=",y("varSetVersion")]]}}]};var OK={name:"StateGroup",fields:[...uc,{name:"key",type:{kind:"string"}},{name:"defaultStateKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"minNodeWidth",type:{kind:"int"},nullable:!0},{name:"minNodeHeight",type:{kind:"int"},nullable:!0},{name:"fillColor",type:{kind:"string"},nullable:!0},{name:"checkpointId",type:{kind:"bigint"},nullable:!0},{name:"fileCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"fullHierarchyPath",type:{kind:"string"},nullable:!0},{name:"containingFrame",type:{kind:"object",name:"LibraryItemContainingFrame"},embedded:!0,nullable:!0}]};var FK={name:"StudentApplication",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"validatedAt",type:{kind:"datetime"},nullable:!0},{name:"roleType",type:{kind:"string"},nullable:!0},{name:"eduPeriodEnd",type:{kind:"datetime"},nullable:!0},{name:"schoolType",type:{kind:"string"},nullable:!0}]};var pc={name:"Style",fields:[...uc,{name:"key",type:{kind:"string"}},{name:"contentHash",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"styleType",type:{kind:"string"}},{name:"sortPosition",type:{kind:"string"},nullable:!0},{name:"meta",type:{kind:"string"},nullable:!0},{name:"movedByFigma",type:{kind:"string"},nullable:!0},{name:"destinationKey",type:{kind:"string"},nullable:!0}]};var DK={name:"StyleLog",fields:[{name:"description",type:{kind:"string"},nullable:!0},{name:"description_rt",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"contentHash",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"styleType",type:{kind:"string"}},{name:"sortPosition",type:{kind:"string"},nullable:!0},{name:"meta",type:{kind:"string"},nullable:!0},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0}]};var Ch={name:"StyleWithDestinationAsset",fields:[...pc.fields,{name:"destinationAsset",type:{kind:"object",name:"Style"},filter:["key","=",y("destinationKey")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,destinationAsset:{unpublishedAt:n,file:{...Vi}},file:{...Vi}}}],deprecated:{reason:"This object has been deprecated and should no longer be used. Please use StyleWithDestinationAssetV2 instead.",date:"2022-09-19"}};var RK={name:"StyleWithDestinationAssetV2",fields:[...Ch.fields,{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"openFileKey",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,destinationAsset:{unpublishedAt:n,file:{...Vi}},file:{...Vi,key:n},hubFile:{id:n,unpublishedAt:n,canRead:[{userId:h("userId")},n]}}}]};var jK={name:"StyleWithLegacySourceAsset",fields:[...pc.fields,{name:"legacySourceAsset",type:{kind:"object",name:"Style"},filter:{and:[["destinationKey","=",y("key")],["movedByFigma","<>",null]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{legacySourceAsset:{id:n},file:{...Vi}}}]};var XDe={id:n,orgId:n,orgAccess:n,roleOnObjectForUser:[{userId:h("userId")},{id:n,level:n}],currentPrivilegedOrgUser:[{userId:h("userId")},{id:n,accountType:n,whiteboardPaidStatus:n,permission:n}]},PK={name:"TaxInfo",fields:[{name:"id",type:{kind:"string"}},{name:"regionalVatGstId",type:{kind:"string"}},{name:"canUpdateRegionalVatGst",type:{kind:"bool"}},{name:"vatGstId",type:{kind:"string"}},{name:"country",type:{kind:"string"}},{name:"state",type:{kind:"string"},nullable:!0}]},_K={name:"Team",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedBy",type:{kind:"string"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"experimentSeed",type:{kind:"bigint"},nullable:!0},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"defaultPermission",type:{kind:"enum",name:"TeamDefaultPermission"},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",y("licenseGroupId")],nullable:!0},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("workspaceId")],nullable:!0},{name:"workspaceSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Workspace"],["resourceId","=",y("workspaceId")]]}},{name:"vatGstId",type:{kind:"string"},nullable:!0},{name:"taxInfo",type:{kind:"object",name:"TaxInfo"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/tax_info",queryParams:{team_id:y("id"),userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"taxIdVerificationStatus",type:{kind:"enum",name:"TaxIdVerificationStatus"},nullable:!0},{name:"legalName",type:{kind:"string"},nullable:!0},{name:"stripeCustomerId",type:{kind:"string"},nullable:!0},{name:"migratedStripeCustomerId",type:{kind:"string"},nullable:!0},{name:"studentTeamAt",type:{kind:"datetime"},nullable:!0},{name:"studentTeamState",type:{kind:"enum",name:"StudentTeamState"}},{name:"eduGracePeriod",type:{kind:"object",name:"EduGracePeriod"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("id")]]}},{name:"studentAutoverifyingTeamAt",type:{kind:"datetime"},nullable:!0},{name:"trialPeriodEnd",type:{kind:"datetime"},nullable:!0},{name:"gracePeriodEnd",type:{kind:"datetime"},nullable:!0},{name:"gracePeriodType",type:{kind:"enum",name:"GracePeriodType"},nullable:!0},{name:"_subscriptionRaw",type:{kind:"enum",name:"SubscriptionType"},nullable:!0},{name:"subscription",type:{kind:"enum",name:"SubscriptionType"},computed:!0,dependencies:{orgId:n,_subscriptionRaw:n,gracePeriodEnd:n}},{name:"projectsCount",type:{kind:"int"},nullable:!0},{name:"editorsCount",type:{kind:"int"},nullable:!0},{name:"editorsWhiteboardCount",type:{kind:"bigint"},nullable:!0},{name:"editorsTotalUniqueCount",type:{kind:"bigint"},nullable:!0},{name:"restrictionsList",type:{kind:"list",ofType:{kind:"enum",name:"TeamRestrictionsType"}},computed:!0,dependencies:{subscription:n,projectsCount:n,studentTeamAt:n,createdAt:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}},{name:"hasLockedRestriction",type:{kind:"bool"},computed:!0,dependencies:{id:n,restrictionsList:n}},{name:"roles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","team"]]},expectedMaxCount:5e3},{name:"roleUpdates",type:{kind:"objects",name:"TeamRole"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["resourceId","=",y("id")],["resourceType","=","team"],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:2e3},{name:"roleDeletionUpdates",type:{kind:"objects",name:"TeamRoleLog"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["triggeredAt",">",A("updatedAtTimestamp")],["resourceId","=",y("id")],["resourceType","=","team"],["op","=","delete"]]},expectedMaxCount:2e3},{name:"adminRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["resourceId","=",y("id")],["resourceType","=","team"],["level",">=",900]]},expectedMaxCount:200},{name:"roleOnObjectForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("id")],["resourceType","=","team"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["resourceId","=",y("id")],["resourceType","=","team"]]}},{name:"projects",type:{kind:"objects",name:"Project"},nullable:!0,filter:{and:[["teamId","=",y("id")],["inviteOnlyAt","=",null],["path","<>",""]]},expectedMaxCount:2e3},{name:"scTeamExperienceEnabled",type:{kind:"bool"},computed:!0,dependencies:{id:n,orgId:n}},{name:"allProjects",type:{kind:"objects",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["teamId","=",y("id")],["path","<>",""]]},checkCanRead:{userId:A("userId")},expectedMaxCount:2e3},{name:"orgAccess",type:{kind:"enum",name:"OrgAccess"},nullable:!0},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["teamId","=",y("id")]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"libraryTeamSubscriptions",type:{kind:"objects",name:"LibraryTeamSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:A("userId")},filter:{and:[["teamId","=",y("id")],["isSubscribed","=",!0]]},expectedMaxCount:1e3},{name:"libraryTeamSubscriptionOverrides",type:{kind:"objects",name:"LibraryTeamSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId")},filter:["teamId","=",y("id")],expectedMaxCount:1e3},{name:"libraryTeamCommunitySubscriptions",type:{kind:"objects",name:"LibraryTeamSubscription"},filter:{and:[["teamId","=",y("id")],["hubFileId","<>",null]]},expectedMaxCount:1e3},{name:"licenseGroupAdmins",type:{kind:"objects",name:"LicenseGroupAdmin"},filter:{and:[["licenseGroupId","<>",null],["licenseGroupId","=",y("licenseGroupId")]]},expectedMaxCount:1e3},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")],nullable:!0},{name:"hasProEditLinksEditHeuristics",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"_hasTeamAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:XDe},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Am["TEAM::CAN_VIEW"]},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Am["TEAM::CAN_EDIT"]},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Am["TEAM::CAN_ADMIN"]},{name:"isOwner",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Am["TEAM::IS_OWNER"]},{name:"experimentAssignments",type:{kind:"objects",name:"ExperimentAssignment"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","Team"]]},expectedMaxCount:200},{name:"teamFileCounts",type:{kind:"object",name:"TeamFileCount"},nullable:!0,filter:["teamId","=",y("id")]},{name:"pendingTeamRoleRequests",type:{kind:"objects",name:"TeamRoleRequest"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{userId:A("userId")},filter:{and:[["teamId","=",y("id")],["status","=","pending"]]},expectedMaxCount:1e3},{name:"isLockedForUser",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{studentTeamAt:n,restrictionsList:n,eduGracePeriod:[{userId:h("userId")},{id:n,isValid:n}],currentUser:[{userId:h("userId")},{studentValidatedAt:n}]}},{name:"canAccessProFeature",type:{kind:"bool"},computed:!0,dependencies:{subscription:n,studentTeamAt:n,gracePeriodEnd:n}},{name:"defaultColorPaletteUuid",type:{kind:"uuid"},nullable:!0},{name:"isStarterTeam",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,subscription:n}},{name:"isStudentTeam",type:{kind:"bool"},computed:!0,dependencies:{studentTeamState:n}},{name:"files",type:{kind:"objects",name:"File"},args:[],checkCanRead:{userId:b("userId")},filter:{and:[["teamId","=",y("id")],["deletedAt","=",null]]},expectedMaxCount:2e3},{name:"fileUpdates",type:{kind:"objects",name:"File"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],checkCanRead:{userId:b("userId")},filter:{and:[["teamId","=",y("id")],["deletedAt","=",null],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:2e3},{name:"sharingAudienceControl",type:{kind:"string"},nullable:!0},{name:"sharingAudienceControlComputed",type:{kind:"enum",name:"LinkAccess"},computed:!0,dependencies:{sharingAudienceControl:n,orgAccess:n,defaultPermission:n}},{name:"orgBrowsable",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,orgAccess:n,sharingAudienceControl:n}},{name:"hidden",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,orgAccess:n,sharingAudienceControl:n}},{name:"sampledEditors",type:{kind:"objects",name:"TeamUser"},nullable:!0,filter:{and:[["teamId","=",y("id")],{or:[["designPaidStatus","=","full"],["whiteboardPaidStatus","=","full"]]}]},expectedMaxCount:5},{name:"aiFeaturesDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"blockedAt",type:{kind:"datetime"},nullable:!0},{name:"communityBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"planProperties",type:{kind:"objects",name:"PlanProperties"},filter:{and:[["planId","=",y("id")],["planType","=","team"]]},expectedMaxCount:200},{name:"communityProfile",type:{kind:"object",name:"Profile"},nullable:!0,filter:["teamId","=",y("id")]},{name:"componentUpdates",type:{kind:"objects",name:"TeamComponentUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"team-component-updates",keyPostfix:[y("id")]},expectedMaxCount:1e4},{name:"stateGroupUpdates",type:{kind:"objects",name:"TeamStateGroupUpdate"},nullable:!0,resolver:{type:"Redis",keyPrefix:"team-state-group-updates",keyPostfix:[y("id")]},expectedMaxCount:1e4}]};var TK={name:"TeamFileCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"designFileCount",type:{kind:"int"}},{name:"whiteboardFileCount",type:{kind:"int"}}]};var kK={name:"TeamRole",fields:[...Ls,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("resourceId")],nullable:!0},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,userId:n,level:n,team:{id:n,roleOnObjectForUser:[{userId:h("userId")},{id:n,userId:n,level:n}]}}}]};var wK={name:"TeamRoleRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"requesterUserId",type:{kind:"bigint"},nullable:!0},{name:"level",type:{kind:"int"}},{name:"requesterPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},filter:["userId","=",y("requesterUserId")]},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("teamId")],args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:h("userId")}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:[{userId:h("userId")},{id:n,canAdmin:[{userId:h("userId")},n]}]}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",y("requesterUserId")]}]};var EK={name:"TeamUserEvent",fields:[{name:"id",type:{kind:"uuid"}},{name:"teamUserId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"eventType",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var UK={name:"TeamUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"designPaidStatus",type:{kind:"enum",name:"TeamUserPaidStatus"}},{name:"whiteboardPaidStatus",type:{kind:"enum",name:"TeamUserPaidStatus"}},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:{and:[["id","=",y("teamId")]]}},{name:"user",type:{kind:"object",name:"User"},filter:{and:[["id","=",y("userId")]]}},{name:"designProAccountTypeRequest",type:{kind:"object",name:"ProAccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardProAccountTypeRequest",type:{kind:"object",name:"ProAccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"designAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",y("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",y("draftsFolderId")],nullable:!0},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",y("teamId")]]},expectedMaxCount:1e3},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",y("teamId")]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",y("teamId")]]},expectedMaxCount:2e3},{name:"planlessFavoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:100},{name:"planlessFavoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:100},{name:"planlessFavoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:500},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",y("userId")],["teamId","=",y("teamId")],["orgId","=",null]]}},{name:"teamUserEvents",type:{kind:"objects",name:"TeamUserEvent"},args:[{name:"eventType",type:{kind:"string"}}],nullable:!0,filter:{and:[["teamUserId","=",y("id")],["eventType","=",A("eventType")]]},orderBy:[["createdAt","ASC"]],expectedMaxCount:200},{name:"firstTrackedDesignAccountTypeRequestCreatedAt",type:{kind:"datetime"},computed:!0,dependencies:{teamUserEvents:[{eventType:"design_account_type_request_created"},{createdAt:n}]}},{name:"devModeTrialStartAt",type:{kind:"datetime"},computed:!0,dependencies:{teamUserEvents:[{eventType:"first_design_account_type_request_created_after_dev_mode_release"},{createdAt:n}]}}]};var MK={name:"TeamWithSummary",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",y("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"memberCount",type:{kind:"int"},computed:!0,dependencies:{id:n,team:{id:n,projects:{id:n},orgAccess:n,roles:{id:n}}}},{name:"projectCount",type:{kind:"int"},computed:!0,dependencies:{id:n,team:{projects:{id:n}}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,team:{canRead:[{userId:h("userId")},n],deletedAt:n,orgAccess:n,currentPrivilegedOrgUser:[{userId:h("userId")},{id:n,permission:n}],adminRoles:{id:n,pending:n,userId:n}}}}]};var LK={naturalKey:new Set(["fileKey"]),name:"Template",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileVersionId",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{coverImagePath:n}},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"publishScope",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"licenseGroupId",type:{kind:"string"},nullable:!0},{name:"workspaceId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"publishedByUserId",type:{kind:"string"},nullable:!0},{name:"publishedByUser",type:{kind:"object",name:"User"},filter:["id","=",y("publishedByUserId")],deprecated:{reason:`Use publishedByUserNullable instead (likely aliasing it to publishedByUser
          see https://www.notion.so/figma/How-to-evolve-the-LiveGraph-schema-157dd4506a234e1c9097f914f514032b)`,date:"2023-02-25"}},{name:"publishedByUserNullable",type:{kind:"object",name:"User"},filter:["id","=",y("publishedByUserId")],nullable:!0},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var VK={name:"SubscriptionUpdateSloData",fields:[{name:"id",type:{kind:"uuid"}},{name:"key",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var BK={name:"User",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"email",type:{kind:"string"},nullable:!0},{name:"emailValidatedAt",type:{kind:"datetime"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"rawHandle",type:{kind:"string"},nullable:!0},{name:"studentValidatedAt",type:{kind:"datetime"},nullable:!0},{name:"adminAt",type:{kind:"datetime"},nullable:!0},{name:"blockedAt",type:{kind:"datetime"},nullable:!0},{name:"restrictionLevel",type:{kind:"int"},nullable:!0},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"externalRestrictedOrgId",type:{kind:"bigint"},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",y("draftsFolderId")],nullable:!0},{name:"draftFiles",type:{kind:"objects",name:"DraftFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"draftsFolderId",type:{kind:"bigint"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sortOrder",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/drafts_files",queryParams:{userId:A("userId"),drafts_folder_id:A("draftsFolderId"),editor_type:A("editorType")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"drafts-folder-",channelPostfix:[A("draftsFolderId")]}},pagination:{firstPageSize:A("firstPageSize"),cursorColumnSet:{createdAtAndId:["created_at","id"],updatedAtAndId:["updated_at","id"],nameAndId:["name","id"]},selectedCursorColumn:A("cursorColumn"),sortOrder:A("sortOrder")},orderBy:"Unordered",expectedMaxCount:200},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",y("id")],nullable:!0},{name:"accountManagerMessages",type:{kind:"objects",name:"AccountManagerMessage"},filter:["targetUserId","=",y("id")],nullable:!0,expectedMaxCount:10},{name:"onboardingSignals",type:{kind:"object",name:"OnboardingUserSignals"},nullable:!0,filter:["userId","=",y("id")]},{name:"profile",type:{kind:"object",name:"UserProfile"},embedded:!0,nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"communityProfile",type:{kind:"object",name:"Profile"},nullable:!0,filter:["id","=",y("profileId")]},{name:"handle",type:{kind:"string"},computed:!0,dependencies:{id:n,name:n,rawHandle:n}},{name:"isSystemUser",type:{kind:"bool"},computed:!0,dependencies:{email:n}},{name:"rawImgUrl",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,email:n,name:n,rawHandle:n,rawImgUrl:n}},{name:"emailDomain",type:{kind:"string"},computed:!0,dependencies:{email:n}},{name:"utcOffset",type:{kind:"int"},nullable:!0},{name:"phoneNumber",type:{kind:"string"},nullable:!0},{name:"pluginPublishingBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"communityCommentingBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"communityBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"googleSsoOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"experimentSeed",type:{kind:"bigint"},nullable:!0},{name:"communityBetaAt",type:{kind:"datetime"},nullable:!0},{name:"roleDeletionUpdates",type:{kind:"objects",name:"RoleLog"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["triggeredAt",">",A("updatedAtTimestamp")],["userId","=",y("id")],["op","=","delete"]]},expectedMaxCount:2e3},{name:"teamRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","team"]]},expectedMaxCount:2e3},{name:"teamRoleUpdates",type:{kind:"objects",name:"TeamRole"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["userId","=",y("id")],["resourceType","=","team"],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:400},{name:"teamEditRoles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["userId","=",y("id")],["resourceType","=","team"],["level",">=",300]]},expectedMaxCount:1e3},{name:"orgAwareTeamRoles",type:{kind:"objects",name:"OrgAwareTeamRole"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{orgId:A("orgId")},filter:{and:[["userId","=",y("id")],["resourceType","=","team"]]},expectedMaxCount:2e3},{name:"teamRole",type:{kind:"object",name:"TeamRole"},args:[{name:"teamId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","team"],["resourceId","=",A("teamId")]]}},{name:"projectRoles",type:{kind:"objects",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","folder"]]},expectedMaxCount:5e3},{name:"projectRoleUpdates",type:{kind:"objects",name:"ProjectRole"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["userId","=",y("id")],["resourceType","=","folder"],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:5e3},{name:"sharedProjectRoles",type:{kind:"objects",name:"ProjectRole"},args:[{name:"initialPageSize",type:{kind:"int"}}],nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","folder"],["isShared","=",!0]]},expectedMaxCount:5e3},{name:"sharedProjectRolesWithoutOrgDeletedDrafts",type:{kind:"objects",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","folder"],["isShared","=",!0],["teamId","<>",null]]},expectedMaxCount:1e3},{name:"hasSharedProjects",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{sharedProjectRoles:{id:n,project:{orgId:n,team:{orgId:n}}}}},{name:"projectEditRoles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["userId","=",y("id")],["resourceType","=","folder"],["level",">=",300]]},expectedMaxCount:35e3},{name:"projectRole",type:{kind:"object",name:"ProjectRole"},args:[{name:"projectId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","folder"],["resourceId","=",A("projectId")]]}},{name:"projectSubscriptions",type:{kind:"objects",name:"ProjectSubscription"},nullable:!0,filter:["userId","=",y("id")],expectedMaxCount:5e3},{name:"fileRoles",type:{kind:"objects",name:"FileRole"},nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","file"]]},expectedMaxCount:200},{name:"fileRoleUpdates",type:{kind:"objects",name:"FileRole"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["userId","=",y("id")],["resourceType","=","file"],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:200},{name:"repoRoles",type:{kind:"objects",name:"RepoRole"},nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","file_repo"]]},expectedMaxCount:200},{name:"repoRoleUpdates",type:{kind:"objects",name:"RepoRole"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],filter:{and:[["userId","=",y("id")],["resourceType","=","file_repo"],["updatedAt",">",A("updatedAtTimestamp")]]},expectedMaxCount:200},{name:"repoRole",type:{kind:"object",name:"RepoRole"},args:[{name:"repoId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["resourceType","=","file_repo"],["resourceId","=",A("repoId")]]}},{name:"guestOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")],["permission","=","guest"]]}},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"teamId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["teamId","=",A("teamId")]]}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")],["permission","<>","guest"]]}},{name:"privilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")],["permission","<>","guest"]]}},{name:"currentPartialOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")]]},deprecated:{reason:"Use currentBaseOrgUser",date:"2022-02-11"}},{name:"guestOrgUsers",type:{kind:"objects",name:"GuestOrgUser"},nullable:!0,filter:{and:[["userId","=",y("id")],["permission","=","guest"]]},expectedMaxCount:200},{name:"baseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",y("id")]]},expectedMaxCount:200},{name:"guestBaseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",y("id")],["permission","=","guest"]]},expectedMaxCount:200},{name:"orgUsers",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:{and:[["userId","=",y("id")],["permission","<>","guest"]]},expectedMaxCount:200},{name:"privilegedOrgUsers",type:{kind:"objects",name:"PrivilegedOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",y("id")],["permission","<>","guest"]]},expectedMaxCount:200},{name:"allOrgUsers",type:{kind:"objects",name:"GuestOrgUser"},nullable:!0,filter:["userId","=",y("id")],expectedMaxCount:200},{name:"allBaseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",y("id")],expectedMaxCount:200},{name:"teamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"teamId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",y("id")],["teamId","=",A("teamId")]]}},{name:"userFlags",type:{kind:"objects",name:"UserFlag"},filter:["userId","=",y("id")],expectedMaxCount:1e4},{name:"userTeamFlags",type:{kind:"objects",name:"UserTeamFlag"},filter:["userId","=",y("id")],expectedMaxCount:200},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",null],["teamId","=",null]]}},{name:"fileBrowserSectionPreferences",type:{kind:"objects",name:"FileBrowserSectionPreferences"},nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",null]]},expectedMaxCount:1e3},{name:"recentPrototypes",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",y("id")]]},expectedMaxCount:1e3},{name:"recentPrototypesByViewTime",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",y("id")]]},orderBy:[["viewedAt","DESC"]],expectedMaxCount:1e3},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",y("id")],expectedMaxCount:1e3},{name:"plugins",type:{kind:"objects",name:"Plugin"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",y("id")],expectedMaxCount:1e3},{name:"hasSavedPlugins",type:{kind:"bool"},computed:!0,dependencies:{installedPlugins:{id:n}}},{name:"hasCreatedPlugins",type:{kind:"bool"},computed:!0,dependencies:{plugins:{id:n}}},{name:"favoritedResources",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedResource"},filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")]]},deprecated:{reason:"Use favoritedFiles, favoritedPrototypes, etc",date:"2022-03-18"},expectedMaxCount:100},{name:"favoritedFiles",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:1e3},{name:"favoritedFilesV2",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("id")],["orgId","=",A("orgId")],["teamId","=",A("teamId")]]},expectedMaxCount:1e3},{name:"favoritedFile",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("id")],["resourceId","=",A("resourceId")]]}},{name:"favoritedPrototype",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("id")],["resourceId","=",A("resourceId")]]}},{name:"favoritedProject",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("id")],["resourceId","=",A("resourceId")]]}},{name:"globalFavoritedFiles",args:[],type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",y("id")]]},expectedMaxCount:1e3},{name:"favoritedPrototypes",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:100},{name:"favoritedPrototypesV2",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",y("id")],["orgId","=",A("orgId")],["teamId","=",A("teamId")]]},expectedMaxCount:100},{name:"favoritedProjects",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:2e3},{name:"favoritedTeams",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:2e3},{name:"favoritedWorkspaces",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:1e3},{name:"userSidebarSections",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"UserSidebarSection"},nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:1e3},{name:"recentSearches",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"RecentSearch"},nullable:!0,filter:{and:[["userId","=",y("id")],["orgId","=",A("orgId")]]},expectedMaxCount:100},{name:"recentFiles",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"RecentFile"},nullable:!0,orderBy:[["actionAt","DESC"]],filter:["userId","=",A("userId")],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/recent_files",queryParams:{userId:A("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-recent-files-",channelPostfix:[A("userId")]}}},{name:"recentFiles2",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"RecentFile2"},nullable:!0,orderBy:[["actionAt","DESC"]],expectedMaxCount:55,filter:["userId","=",A("userId")]},{name:"permissionFeatureFlags",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"PermissionFeatureFlag"},nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/user/perm_feature_flags",queryParams:{userId:A("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-permission-ff",channelPostfix:[]}}},{name:"recentSharedWithYouFiles",args:[],type:{kind:"objects",name:"SharedWithYouFile"},filter:{and:[["userId","=",y("id")],["resourceType","=","file"]]},orderBy:[["sharedAt","DESC"]],checkCanRead:{userId:b("userId"),sessionId:b("sessionId")},expectedMaxCount:50},{name:"idpUsersInOrg",args:[{name:"orgId",type:{kind:"bigint"}}],type:{kind:"objects",name:"IDPUser"},filter:["userName","=",y("email")],checkCanRead:{filterOrgId:A("orgId"),userId:b("userId")},expectedMaxCount:200},{name:"studentApplications",type:{kind:"objects",name:"StudentApplication"},nullable:!0,filter:{and:[["userId","=",y("id")],["validatedAt","<>",null]]},orderBy:[["validatedAt","DESC"]],expectedMaxCount:200},{name:"schoolType",type:{kind:"string"},computed:!0,dependencies:{studentApplications:{schoolType:n}}},{name:"eduPeriodEnd",type:{kind:"datetime"},computed:!0,dependencies:{studentApplications:{validatedAt:n,eduPeriodEnd:n},userFlags:{name:n}}},{name:"feedPosts",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,type:{kind:"objects",name:"FeedPost"},filter:{and:[["creatorId","=",y("id")],["orgId","=",A("orgId")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:50},{name:"jamboardOfferEligibility",args:[],type:{kind:"object",name:"UserJamboardOfferEligibility"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/jamboard_offer_eligibility",queryParams:{userId:y("id")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-jamboard-offer-eligibility-",channelPostfix:[y("id")]}}},{name:"feedTagFollowers",type:{kind:"objects",name:"FeedTagFollower"},nullable:!0,filter:["userId","=",y("id")],expectedMaxCount:100},{name:"libraryUserSubscriptions",type:{kind:"objects",name:"LibraryUserSubscription"},filter:["userId","=",y("id")],expectedMaxCount:1e3,checkCanRead:{userId:b("userId")}},{name:"userAuthn",type:{kind:"object",name:"UserAuthn"},nullable:!0,filter:["userId","=",y("id")]},{name:"twoFactorAppEnabled",type:{kind:"bool"},computed:!0,dependencies:{userAuthn:{totpSecretEnc:n}}},{name:"twoFactorEnabled",type:{kind:"bool"},computed:!0,dependencies:{phoneNumber:n,twoFactorAppEnabled:n}},{name:"googleSsoOnly",type:{kind:"bool"},computed:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:{adminAt:n,email:n,emailValidatedAt:n,blockedAt:n,privilegedOrgUsers:[{initialPageSize:200},{id:n,org:[{userId:h("userId")},{googleSsoOnlyAt:n}]}],googleSsoOnlyAt:n}},{name:"samlSsoOnly",type:{kind:"bool"},computed:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:{privilegedOrgUsers:[{initialPageSize:200},{id:n,org:[{userId:h("userId")},{samlSsoOnlyAt:n}]}]}},{name:"sharingRestricted",type:{kind:"bool"},computed:!0,dependencies:{restrictionLevel:n}},{name:"canSellOnCommunity",type:{kind:"bool"},computed:!0,dependencies:{userMonetizationMetadata:{cmtySellerAcceptedAt:n,cmtySellerTosAcceptedAt:n,stripeConnectedAccountId:n,sellerChargesEnabledAt:n,sellerPayoutsEnabledAt:n}}},{name:"hasPassedVisualCompliance",type:{kind:"bool"},computed:!0,dependencies:{userMonetizationMetadata:{sellerPassedVisualComplianceAt:n}}}]};var NK={name:"UserAuthn",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"totpSecretEnc",type:{kind:"string"},nullable:!0,bannedFromViews:!0}]};var WK={name:"UserColorPaletteOverrideForFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"colorPaletteUuid",type:{kind:"uuid"}},{name:"colorPalette",type:{kind:"object",name:"ColorPalette"},filter:["uuid","=",y("colorPaletteUuid")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{colorPaletteUuid:n,colorPalette:{team:{canRead:[{userId:h("userId")},n]}}}}]};var GK={name:"UserColorProfilePreference",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"colorProfilePreference",type:{kind:"enum",name:"ColorProfilePreference"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var ZK={name:"UserFlag",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var HK={name:"UserJamboardOfferEligibility",fields:[{name:"id",type:{kind:"bigint"}},{name:"isEligible",type:{kind:"bool"}},{name:"ineligibilityReason",type:{kind:"string"},nullable:!0},{name:"promoCodeId",type:{kind:"string"},nullable:!0},{name:"promoExpirationDate",type:{kind:"datetime"}}]};var KK={name:"UserMonetizationMetadata",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"stripeCmtyCreatorStatsMeta",type:{kind:"map",valueType:{kind:"int"}}},{name:"cmtySellerAcceptedAt",type:{kind:"datetime"},nullable:!0},{name:"cmtySellerTosAcceptedAt",type:{kind:"datetime"},nullable:!0},{name:"sellerChargesEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"sellerPayoutsEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"sellerStripeDetailsSubmittedAt",type:{kind:"datetime"},nullable:!0},{name:"stripeConnectedAccountId",type:{kind:"string"},nullable:!0},{name:"sellerPassedVisualComplianceAt",type:{kind:"datetime"},nullable:!0},{name:"communityPurchasingBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"stripeAccountStatus",type:{kind:"enum",name:"StripeAccountStatus"},computed:!0,dependencies:{cmtySellerAcceptedAt:n,stripeConnectedAccountId:n,sellerPayoutsEnabledAt:n,sellerChargesEnabledAt:n,sellerStripeDetailsSubmittedAt:n}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0},{name:"sessionUserId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{user:[{userId:h("userId")},{communityProfile:{associatedUsers:{id:n}}}]}}]};var qK={name:"UserNotificationBell",fields:[{name:"id",type:{kind:"bigint"}},{name:"bell",type:{kind:"bool"},nullable:!0},{name:"notificationSpaceId",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"},nullable:!0}]};var YK={name:"UserProfile",embedded:!0,fields:[{name:"jobTitle",type:{kind:"string"}},{name:"usagePurpose",type:{kind:"string"},nullable:!0}]};var XK={name:"UserSidebarSection",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"name",type:{kind:"string"}},{name:"orderedFavoritedResourceIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var zK={name:"UserTeamFlag",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var JK={name:"Variable",fields:[...dc,{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variableType",type:{kind:"string"}},{name:"variableSetId",type:{kind:"bigint"}},{name:"sortPosition",type:{kind:"string"}},{name:"scopes",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"variableSet",type:{kind:"object",name:"VariableSet"},filter:["id","=",y("variableSetId")],deprecated:{reason:"Use variableCollection instead",date:"2023-04-27"}},{name:"variableCollection",type:{kind:"object",name:"VariableSet"},filter:["id","=",y("variableSetId")]}]};var QK={name:"VariableLog",fields:[{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variableType",type:{kind:"string"}},{name:"variableSetId",type:{kind:"bigint"}},{name:"sortPosition",type:{kind:"string"}},{name:"scopes",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"fileCheckpointId",type:{kind:"bigint"}}]};var $K={name:"VariableSet",fields:[...dc,{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"variableThumbnailsUrl",type:{kind:"string"},nullable:!0},{name:"modes",type:{kind:"objects",name:"VariableSetMode"},nullable:!0,embedded:!0},{name:"isExtendable",type:{kind:"bool"},nullable:!0},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variables",type:{kind:"objects",name:"Variable"},filter:{and:[["variableSetId","=",y("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4},{name:"numVariables",type:{kind:"int"},computed:!0,dependencies:{variables:{id:n}}}]};var e9={name:"VariableSetLog",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"}},{name:"nodeId",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0}]};var t9={name:"VariableSetMode",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}}]};var r9={name:"Vector",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}}]};var n9={name:"VotingSession",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"inProgress",type:{kind:"bool"}},{name:"title",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"userVoteLimit",type:{kind:"int"}}]};var i9={name:"WorkspaceMemberCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"data",type:{kind:"bigint"}}]},s9={name:"Workspace",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",y("orgId")]},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"colorConfig",type:{kind:"object",name:"WorkspaceColorConfig"},embedded:!0,nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"orgAccess",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",A("userId")],["orgId","=",y("orgId")]]}},{name:"mirroringLicenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["mirroredWorkspaceId","=",y("id")],nullable:!0},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryWorkspaceSubscription"},filter:["workspaceId","=",y("id")],nullable:!0,expectedMaxCount:200},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryWorkspaceSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",A("fileKey")],["workspaceId","=",y("id")]]},nullable:!0},{name:"approvedLibraries",type:{kind:"objects",name:"ApprovedLibrary"},filter:{and:[["resourceType","=","Workspace"],["resourceId","=",y("id")]]},nullable:!0,expectedMaxCount:200},{name:"defaultTeams",type:{kind:"objects",name:"DefaultTeam"},filter:{and:[["resourceId","=",y("id")],["resourceType","=","Workspace"]]},nullable:!0,expectedMaxCount:200},{name:"admins",type:{kind:"objects",name:"WorkspaceUser"},filter:{and:[["workspaceId","=",y("id")],["permission","=","admin"]]},expectedMaxCount:1e3},{name:"members",type:{kind:"objects",name:"WorkspaceUser"},filter:{and:[["workspaceId","=",y("id")],["isMainWorkspace","=",!0]]},expectedMaxCount:12e3},{name:"memberCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"WorkspaceMemberCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/workspace_member_count",queryParams:{workspace_id:y("id"),userId:A("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"workspace-member-counts-",channelPostfix:[y("id")]}}},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Sm["WORKSPACE::CAN_ADMIN"]},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Sm["WORKSPACE::CAN_VIEW"]},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",y("orgId")]]}},{name:"workspaceSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Workspace"],["resourceId","=",y("id")]]}},{name:"canCreateTeam",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Sm["WORKSPACE::CAN_CREATE_TEAM"]},{name:"publicLinkControlsSetting",type:{kind:"string"},computed:!0,dependencies:{orgSharedSetting:{publicLinkControlsSetting:n},workspaceSharedSetting:{publicLinkControlsSetting:n}}},{name:"publicLinkControlsMaxExpiration",type:{kind:"bigint"},computed:!0,dependencies:{orgSharedSetting:{publicLinkControlsMaxExpiration:n},workspaceSharedSetting:{publicLinkControlsMaxExpiration:n}}},{name:"hasCustomPublicLinkControlsSetting",type:{kind:"bool"},computed:!0,dependencies:{workspaceSharedSetting:{publicLinkControlsSetting:n}}},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",y("id")],["allowlistGroupType","=","Workspace"]]},expectedMaxCount:200},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Sm["WORKSPACE::CAN_VIEW"]}]};var o9={name:"WorkspaceColorConfig",embedded:!0,fields:[{name:"colors",type:{kind:"list",ofType:{kind:"string"}}}]};var a9={name:"WorkspaceUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"actorUserId",type:{kind:"bigint"},nullable:!0},{name:"assignedAt",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"string"}},{name:"updatedAt",type:{kind:"string"}},{name:"updateReason",type:{kind:"enum",name:"WorkspaceUpdateReason"},nullable:!0},{name:"uuid",type:{kind:"string"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"workspaceId",type:{kind:"bigint"}},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",y("workspaceId")]},{name:"permission",type:{kind:"enum",name:"WorkspacePermission"}},{name:"isMainWorkspace",type:{kind:"bool"}},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},nullable:!0,filter:["id","=",y("orgUserId")]}]};var Ah=(i=>(i.IS_GUEST="ORG::IS_GUEST",i.IS_MEMBER="ORG::IS_MEMBER",i.IS_ADMIN="ORG::IS_ADMIN",i))(Ah||{}),vh=(u=>(u.CAN_VIEW="TEAM::CAN_VIEW",u.CAN_EDIT="TEAM::CAN_EDIT",u.CAN_ADMIN="TEAM::CAN_ADMIN",u.IS_OWNER="TEAM::IS_OWNER",u.VIEW_ROLE_ACCESS="TEAM::VIEW_ROLE_ACCESS",u.EDIT_ROLE_ACCESS="TEAM::EDIT_ROLE_ACCESS",u.ADMIN_ROLE_ACCESS="TEAM::ADMIN_ROLE_ACCESS",u))(vh||{}),Fm=(i=>(i.CAN_VIEW="FOLDER::CAN_VIEW",i.CAN_EDIT="FOLDER::CAN_EDIT",i.IS_OWNER="FOLDER::IS_OWNER",i))(Fm||{}),Dm=(I=>(I.CAN_VIEW_PROTOTYPE="REPO::CAN_VIEW_PROTOTYPE",I.CAN_VIEW="REPO::CAN_VIEW",I.CAN_EDIT="REPO::CAN_EDIT",I.CAN_ADMIN="REPO::CAN_ADMIN",I.IS_OWNER="REPO::IS_OWNER",I.CAN_MANAGE="REPO::CAN_MANAGE",I.CAN_VIEW_LINK_ACCESS="REPO::CAN_VIEW_LINK_ACCESS",I.CAN_EDIT_LINK_ACCESS="REPO::CAN_EDIT_LINK_ACCESS",I.CAN_VIEW_PROTOTYPE_LINK_ACCESS="REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS",I.CAN_ORG_VIEW_LINK_ACCESS="REPO::CAN_ORG_VIEW_LINK_ACCESS",I.CAN_ORG_EDIT_LINK_ACCESS="REPO::CAN_ORG_EDIT_LINK_ACCESS",I.CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS="REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS",I))(Dm||{}),Rm=(Ge=>(Ge.CAN_VIEW_PROTOTYPE="FILE::CAN_VIEW_PROTOTYPE",Ge.CAN_VIEW="FILE::CAN_VIEW",Ge.CAN_EDIT="FILE::CAN_EDIT",Ge.CAN_EDIT_CANVAS="FILE::CAN_EDIT_CANVAS",Ge.CAN_PUBLISH_TEMPLATE="FILE::CAN_PUBLISH_TEMPLATE",Ge.CAN_INSERT_TEMPLATE="FILE::CAN_INSERT_TEMPLATE",Ge.CAN_ADMIN="FILE::CAN_ADMIN",Ge.IS_OWNER="FILE::IS_OWNER",Ge.CAN_BECOME_EDITOR="FILE::CAN_BECOME_EDITOR",Ge.CAN_BECOME_EDITOR_IGNORE_PAID_STATUS="FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS",Ge.CAN_MANAGE="FILE::CAN_MANAGE",Ge.HAS_ROLE_ACCESS="FILE::HAS_ROLE_ACCESS",Ge.CAN_BE_MENTIONED_IN_COMMENT="FILE::CAN_BE_MENTIONED_IN_COMMENT",Ge.CAN_DOWNLOAD_FILE="FILE::CAN_DOWNLOAD_FILE",Ge.CAN_ACCESS_FILE_THROUGH_API="FILE::CAN_ACCESS_FILE_THROUGH_API",Ge.CAN_MODIFY_ROLES="FILE::CAN_MODIFY_ROLES",Ge.CAN_VIEW_METADATA="FILE::CAN_VIEW_METADATA",Ge.CAN_GAIN_VIEW="FILE::CAN_GAIN_VIEW",Ge.CAN_GAIN_VIEW_PROTOTYPE="FILE::CAN_GAIN_VIEW_PROTOTYPE",Ge.CAN_DISCOVER="FILE::CAN_DISCOVER",Ge.CAN_RENAME="FILE::CAN_RENAME",Ge.CAN_DELETE="FILE::CAN_DELETE",Ge.CAN_FAVORITE="FILE::CAN_FAVORITE",Ge.CAN_VIEW_AND_CREATE_COMMENTS="FILE::CAN_VIEW_AND_CREATE_COMMENTS",Ge.CAN_MOVE_COMMENTS="FILE::CAN_MOVE_COMMENTS",Ge.CAN_EDIT_IGNORE_PAID_STATUS="FILE::CAN_EDIT_IGNORE_PAID_STATUS",Ge.CAN_EDIT_IGNORE_EDU_GRACE_PERIOD="FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD",Ge.CAN_VIEW_LINK_ACCESS="FILE::CAN_VIEW_LINK_ACCESS",Ge.CAN_ORG_VIEW_LINK_ACCESS="FILE::CAN_ORG_VIEW_LINK_ACCESS",Ge.CAN_EDIT_LINK_ACCESS="FILE::CAN_EDIT_LINK_ACCESS",Ge.CAN_ORG_EDIT_LINK_ACCESS="FILE::CAN_ORG_EDIT_LINK_ACCESS",Ge.CAN_VIEW_METADATA_LINK_ACCESS="FILE::CAN_VIEW_METADATA_LINK_ACCESS",Ge.CAN_ORG_VIEW_METADATA_LINK_ACCESS="FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS",Ge.CAN_VIEW_PROTOTYPE_LINK_ACCESS="FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS",Ge.CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS="FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS",Ge.CAN_ACCESS_FULL_DEV_MODE="FILE::CAN_ACCESS_FULL_DEV_MODE",Ge.IS_ELIGIBLE_FOR_DEV_MODE_TRIAL="FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL",Ge.IS_IN_DEV_MODE_TRIAL="FILE::IS_IN_DEV_MODE_TRIAL",Ge.CAN_ACCESS_DEV_MODE_ENTRY_POINT="FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT",Ge))(Rm||{});var zDe=["TEAM::CAN_VIEW","TEAM::VIEW_ROLE_ACCESS"],JDe=["TEAM::CAN_EDIT","TEAM::EDIT_ROLE_ACCESS"],QDe=["TEAM::CAN_ADMIN","TEAM::ADMIN_ROLE_ACCESS"],$De=["TEAM::IS_OWNER"],eRe=["FOLDER::CAN_VIEW"],lD=["FOLDER::CAN_EDIT"],tRe=["FOLDER::IS_OWNER"],rRe=["REPO::CAN_VIEW_PROTOTYPE"],dD=["REPO::CAN_VIEW"],gc=["REPO::CAN_EDIT"],nRe=["REPO::CAN_ADMIN"],iRe=["REPO::IS_OWNER"],sRe=["FILE::CAN_VIEW_PROTOTYPE","FILE::CAN_FAVORITE","FILE::HAS_ROLE_ACCESS","FILE::CAN_BE_MENTIONED_IN_COMMENT","FILE::CAN_VIEW_AND_CREATE_COMMENTS"],oRe=["FILE::CAN_VIEW_METADATA"],uD=["FILE::CAN_VIEW","FILE::CAN_DOWNLOAD_FILE","FILE::CAN_ACCESS_FILE_THROUGH_API","FILE::CAN_DISCOVER","FILE::CAN_ACCESS_FULL_DEV_MODE","FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"],jm=["FILE::CAN_EDIT","FILE::CAN_MANAGE","FILE::CAN_EDIT_CANVAS","FILE::CAN_PUBLISH_TEMPLATE","FILE::CAN_RENAME","FILE::CAN_MOVE_COMMENTS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD","FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"],Bs=[...jm,"FILE::CAN_MODIFY_ROLES","FILE::CAN_DELETE"],Pm=["FILE::IS_OWNER"],aRe=["TEAM::CAN_VIEW"],lRe=[...aRe,"TEAM::CAN_EDIT"],_m=[...lRe,"TEAM::CAN_ADMIN"],Tft=[..._m,"TEAM::IS_OWNER"],Tm=[...zDe],km=[...Tm,...JDe],cD=[...km,...QDe],l9=[...cD,...$De],dRe=["FOLDER::CAN_VIEW"],uRe=[...dRe,"FOLDER::CAN_EDIT"],kft=[...uRe,"FOLDER::IS_OWNER"],mc=[...eRe],hd=[...mc,...lD],bc=[...hd,...tRe],Sh=["REPO::CAN_VIEW_PROTOTYPE"],Oh=[...Sh,"REPO::CAN_VIEW"],fc=[...Oh,"REPO::CAN_EDIT"],cRe=[...fc,"REPO::CAN_ADMIN"],wft=[...cRe,"REPO::IS_OWNER"],pD=[...rRe],tl=[...pD,...dD],wm=[...tl,...gc],gD=[...wm,...nRe],Fh=[...gD,...iRe],Em=["FILE::CAN_FAVORITE","FILE::CAN_VIEW_AND_CREATE_COMMENTS","FILE::CAN_VIEW_PROTOTYPE"],pRe=[...Em,"FILE::CAN_VIEW_METADATA"],yc=[...pRe,"FILE::CAN_VIEW","FILE::CAN_ACCESS_FULL_DEV_MODE","FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"],gRe=[...yc,...jm],Eft=[...gRe,"FILE::IS_OWNER"],Dh=[...sRe],mRe=[...oRe,...Dh],xd=[...mRe,...uD],Mo=[...xd,...Bs],Lo=[...Mo,...Pm];var Um=30;var an=100,kn=300,Vo=900,Hr=999;var Rh=class{},ps=class extends Rh{constructor(){super(...arguments);this.effect="ALLOW";this.debug=!1;this.ignoreOnWeb=!1}},rl=class extends Rh{constructor(){super(...arguments);this.effect="DENY";this.debug=!1;this.ignoreOnWeb=!1}},nt=class extends ps{constructor(){super(...arguments);this.resourceType="FILE"}},et=class extends rl{constructor(){super(...arguments);this.resourceType="FILE"}},Rt=class extends ps{constructor(){super(...arguments);this.resourceType="FILE_REPO"}},Cr=class extends rl{constructor(){super(...arguments);this.resourceType="FILE_REPO"}},zn=class extends ps{constructor(){super(...arguments);this.resourceType="FOLDER"}},Cd=class extends rl{constructor(){super(...arguments);this.resourceType="FOLDER"}},Wi=class extends ps{constructor(){super(...arguments);this.resourceType="TEAM"}},Mm=class extends rl{constructor(){super(...arguments);this.resourceType="TEAM"}},Ic=class extends ps{constructor(){super(...arguments);this.resourceType="ORG"}};var gs=class extends ps{constructor(){super(...arguments);this.resourceType="HUB_FILE"}};var ms=class extends ps{constructor(){super(...arguments);this.resourceType="PLUGIN"}},jh=class extends rl{constructor(){super(...arguments);this.resourceType="PLUGIN"}},hc=class extends ps{constructor(){super(...arguments);this.resourceType="WORKSPACE"}};var Ns=class extends ps{constructor(){super(...arguments);this.resourceType="FEED_POST"}},Ph=class extends rl{constructor(){super(...arguments);this.resourceType="FEED_POST"}};var ID=ke(Nq()),at=class{constructor(e,r){this.skipFromLiveGraphViews=!1;var i,o;this.name=e,this.skipFromLiveGraphViews=(r==null?void 0:r.skipFromLiveGraphViews)||!1,r!=null&&r.liveGraphField&&!(r!=null&&r.skipFromLiveGraphViews)&&(this.liveGraphField=r.liveGraphField,this.liveGraphFieldName=r.liveGraphField.name),typeof(r==null?void 0:r.liveGraphField)!="string"&&(i=r==null?void 0:r.liveGraphField)!=null&&i.objectName&&(this.livegraphTopLevelResourceName=(o=r==null?void 0:r.liveGraphField)==null?void 0:o.objectName)}serialize(e){return e==="livegraphTopLevelResourceName"?this.livegraphTopLevelResourceName||this.serialize("livegraph"):e==="livegraph"?this.liveGraphFieldName||(0,ID.default)(this.name):this.name}static new(e,r,i={}){let o=new at(e,i);return at.fields(o,r)}static fields(e,r){return Object.keys(r).reduce((o,s)=>(o[s]=nl.new(e,r[s]),o),{})}},nl=class{constructor(e,r,i){this.table=e,this.name=r,this.liveGraphFieldName=(i==null?void 0:i.liveGraphFieldName)||null}static new(e,r,i){return new nl(e,r,i)}static jsonSerializer(e,r){return r instanceof nl?r.serialize("sinatra"):r}serialize(e="sinatra"){return e==="livegraph"?`${this.table.serialize("livegraph")}.${this.serialize("livegraphFieldName")}`:e==="livegraphFieldName"?this.liveGraphFieldName||(0,ID.default)(this.name):`${this.table.name}.${this.name}`}};var kh={level:"level"},nr=at.new("team_role",kh,{liveGraphField:{name:"roleOnObjectTeamForUser",requireUserArg:!0}}),ln=at.new("folder_role",kh,{liveGraphField:{name:"roleOnObjectProjectForUser",requireUserArg:!0}}),bs=at.new("file_repo_role",kh,{liveGraphField:{name:"roleOnObjectRepoForUser",requireUserArg:!0}}),Bo=at.new("file_role",kh,{liveGraphField:{name:"roleOnObjectForUser",requireUserArg:!0}}),wPe={id:"id",level:"level"},wh=at.new("folder_owner_role",wPe),EPe={id:"id",anonymousUserId:"anonymous_user_id",fileKey:"file_key",passwordVersion:"password_version",createdAt:"created_at"},xyt=at.new("password_authentication",EPe,{liveGraphField:{name:"passwordAuthentication",requireAnonymousUserId:!0}}),UPe={fileKey:"file_key",version:"version"},Cyt=at.new("fig_file_pwd_config",UPe,{liveGraphField:{name:"pwdConfig"}}),MPe={id:"id",accountType:"account_type",whiteboardPaidStatus:"whiteboard_paid_status",devModePaidStatus:"dev_mode_paid_status",permission:"permission",draftsFolderId:"drafts_folder_id",userId:"user_id",firstDevModeAccountTypeRequestCreatedAt:"first_dev_mode_account_type_request_created_at"},LPe=new at("org_user",{liveGraphField:{name:"currentBaseOrgUser",requireUserArg:!0,overrides:{project:{name:"currentBaseOrgUser",requireUserArg:!0,through:{name:"team"}}}}}),De=at.fields(LPe,MPe),Wq={id:"id",key:"key",teamId:"team_id",folderId:"folder_id",protoLinkAccess:"proto_link_access",linkAccess:"link_access",editorType:"editor_type",deletedAt:"deleted_at",trashedAt:"trashed_at",sourceFileKey:"source_file_key",fileRepoId:"file_repo_id",parentOrgId:"parent_org_id",hasFileLinkPassword:"has_file_link_password",hasProtoLinkPassword:"has_proto_link_password",orgId:"parent_org_id",orgBrowsable:"org_browsable",folderAccessEnabled:"folder_access_enabled"},Y=at.new("file",Wq),VPe={id:"id",expiresAt:"expires_at"},Eh=at.new("workshop_mode",VPe),Jr=at.new("file_repo_default_file",Wq,{liveGraphField:{name:"sourceFile"}}),BPe={id:"id",teamId:"team_id",deletedAt:"deleted_at",viewOnlyAt:"view_only_at",inviteOnlyAt:"invite_only_at",orgId:"org_id",path:"path",sharing_audience_control:"sharing_audience_control"},ze=at.new("folder",BPe,{liveGraphField:{name:"_project_permsV2",objectName:"project"}}),NPe={id:"id",accountType:"account_type",whiteboardPaidStatus:"whiteboard_paid_status",userId:"user_id",draftsFolderId:"drafts_folder_id"},Ad=at.new("org_drafts_folder_owner_org_user",NPe,{liveGraphField:{name:"orgDraftsFolderOwnerBaseOrgUser"}}),WPe={id:"id",designPaidStatus:"design_paid_status",whiteboardPaidStatus:"whiteboard_paid_status",draftsFolderId:"drafts_folder_id",devModeTrialStartAt:"dev_mode_trial_start_at"},Mr=at.new("team_user",WPe,{liveGraphField:{name:"currentTeamUser",requireUserArg:!0}}),GPe={id:"id",subscription:"subscription",orgId:"org_id",orgAccess:"org_access",hasProEditLinksEditHeuristics:"has_pro_edit_links_edit_heuristics",studentTeamAt:"student_team_at",hasLockedRestriction:"has_locked_restriction",defaultPermission:"default_permission",deletedAt:"deleted_at",sharingAudienceControl:"sharing_audience_control",workspaceId:"workspace_id",gracePeriodEnd:"grace_period_end",scTeamExperienceEnabled:"sc_team_experience_enabled"},Le=at.new("team",GPe),ZPe={id:"id",userId:"user_id",teamId:"team_id",createdAt:"created_at"},hD=at.new("edu_grace_period",ZPe,{liveGraphField:{requireUserArg:!0}}),HPe={id:"id",email:"email",emailDomain:"email_domain",externalRestrictedOrgId:"external_restricted_org_id",studentValidatedAt:"student_validated_at",profileId:"profile_id",permissionFeatureFlags:"permission_feature_flags"},Gq=new at("user",{liveGraphField:{name:"currentUser",requireUserArg:!0}}),Ke=at.fields(Gq,HPe),KPe={passwordAuthValidatedFileKeys:"password_auth_validated_file_keys",featureFlags:"feature_flags"},Wm=at.new("session_arguments",KPe,{skipFromLiveGraphViews:!0}),qPe={id:"id",domainCapture:"domain_capture",domainCaptureDomains:"domain_capture_domains",hasOrgEditLinksEditHeuristics:"has_org_edit_links_edit_heuristics",inExpWorkspaceLevelLinkControls:"in_exp_workspace_level_link_controls",figjamDisabledAt:"figjam_disabled_at",domains:"domains",customTemplatesAllowed:"custom_templates_allowed",bigmaEnabledAt:"bigma_enabled_at",guestInviteSetting:"guest_invite_setting"},Be=at.new("org",qPe),Zq={id:"id",resourceType:"resource_type",resourceId:"resource_id",publicLinkControlsSetting:"public_link_controls_setting",externalCollaborationControls:"external_collaboration_controls",teamCreationControls:"team_creation_controls",publicLinkControlsMaxExpiration:"public_link_controls_max_expiration"},Kr=at.new("org_shared_setting",Zq),ir=at.new("workspace_shared_setting",Zq,{liveGraphField:{overrides:{file:{name:"workspaceSharedSetting",through:{name:"team"}},repo:{name:"workspaceSharedSetting",through:{name:"team"}}}}}),YPe={id:"id",linkAccess:"link_access",protoLinkAccess:"proto_link_access",deletedAt:"deleted_at",orgId:"parent_org_id",teamId:"team_id",folderId:"folder_id",orgBrowsable:"org_browsable"},bt=at.new("file_repo",YPe,{liveGraphField:{name:"repo"}}),XPe={id:"id",figFileKey:"fig_file_key",setByUserId:"set_by_user_id",updatedAt:"updated_at",expiresAt:"expires_at",prevPrivateLinkAccess:"prev_private_link_access",prevPrivateProtoLinkAccess:"prev_private_proto_link_access",prevOrgBrowsable:"prev_org_browsable",accessReverted:"access_reverted"},qt=at.new("file_link_expiration_config",XPe,{liveGraphField:{name:"mainFileLinkExpirationConfig"}}),zPe={id:"id",unpublishedAt:"unpublished_at",contentVerifiedAt:"content_verified_at",publishingStatus:"publishing_status",monetizedResourceMetadataId:"monetized_resource_metadata_id",monetizationStatus:"monetization_status",viewerMode:"viewer_mode",userId:"user_id",profileId:"profile_id",publisherProfileIds:"publisher_profile_ids"},gr=at.new("hub_file",zPe),JPe={id:"id",hubFileId:"hub_file_id",figFileId:"fig_file_id",createdAt:"created_at",updatedAt:"updated_at",checkpointId:"checkpoint_id",userId:"user_id",isPreview:"is_preview",hiddenAt:"hidden_at"},Gm=at.new("hub_file_duplicates",JPe,{liveGraphField:{requireUserArg:!0}}),QPe={id:"id",publishingStatus:"publishing_status",monetizationStatus:"monetization_status",monetizedResourceMetadataId:"monetized_resource_metadata_id",userId:"user_id",profileId:"profile_id",thirdPartyM10nStatus:"third_party_m10n_status",orgId:"org_id",unpublishedAt:"unpublished_at",blockedAt:"blocked_at",isInspect:"is_inspect"},Pr=at.new("plugin",QPe),$Pe={id:"id",userId:"user_id",pluginId:"plugin_id",createdAt:"created_at"},xD=at.new("plugin_run",$Pe,{liveGraphField:{requireUserArg:!0}}),e_e={id:"id",userId:"user_id",status:"status",monetizedResourceMetadataId:"monetized_resource_metadata_id",isActive:"is_active"},No=at.new("community_resource_payments",e_e,{liveGraphField:{name:"communityResourcePayment",requireUserArg:!0}}),t_e={id:"id",userId:"user_id",hubFileId:"hub_file_id",pluginId:"plugin_id",profileId:"profile_id"},Uh=at.new("plugin_community_publisher",t_e),Hq={id:"id",hubFileId:"hub_file_id",pluginId:"plugin_id",profileId:"profile_id",resourceVersionId:"resource_version_id",ratingValue:"rating_value",message:"message",messageMeta:"message_meta",hiddenAt:"hidden_at"},Mh=at.new("hub_file_community_rating",Hq),Lh=at.new("plugin_community_rating",Hq),Kq={id:"id",hasFreemiumCode:"has_freemium_code"},Vh=at.new("monetized_resource_metadata",Kq),CD=at.new("hub_file_monetized_resource_metadata",Kq),r_e={id:"id",orgId:"org_id",uuid:"uuid",name:"name",org_access:"org_access"},Cc=at.new("workspace",r_e),n_e={id:"id",orgUserId:"org_user_id",workspaceId:"workspace_id",permission:"permission"},dn=at.new("workspace_user",n_e,{liveGraphField:{name:"workspaceUser",requireUserArg:!0,overrides:{team:{name:"workspaceUsers",through:{name:"currentBaseOrgUser",requireUserArg:!0}},workspace:{name:"workspaceUsers",through:{name:"currentBaseOrgUser",requireUserArg:!0}}}}}),i_e={id:"id",creatorId:"creator_id",orgId:"org_id",containerType:"container_type",containerId:"container_id"},Wo=at.new("feed_post",i_e),s_e={id:"id",createdAt:"created_at",status:"status"},Bh=at.new("dev_mode_account_type_request",s_e,{liveGraphField:{overrides:{file:{name:"devModeAccountTypeRequest",through:{name:"currentBaseOrgUser",requireUserArg:!0}}}}}),o_e={id:"id",createdAt:"created_at",status:"status"},AD=at.new("team_design_account_type_request",o_e,{liveGraphField:{overrides:{file:{name:"designAccountTypeRequest",through:{name:"currentTeamUser",requireUserArg:!0}}}}}),a_e={uuid2:"uuid2",userId:"user_id",fileKey:"file_key",action:"action"},qq=at.new("user_file_recent_any",a_e,{skipFromLiveGraphViews:!0});var c_e=14,Xq=c_e*86400,Ce=(t,e,r)=>{let i={type:"function",name:t,meta:r||""};return(...o)=>({expr:e(...o),meta:i})},vd=Ce("isFolderAccessEnabledFile",t=>qe([re([ct("sc_file_experience"),ct("sc_file_folder_access"),[t.folderAccessEnabled,"=",!0]]),ie(ct("sc_file_experience")),ie(ct("sc_file_folder_access"))])),Wh=Ce("isCommunityHubAdmin",()=>ct("community_hub_admin")),vD=Ce("isCommunityHubReviewer",()=>ct("community_hub_admin_reviewer")),zq=Ce("isApprovedPublicResource",t=>[t.publishingStatus,"=","approved_public"]),Gh=Ce("isDelistedResource",t=>({or:[[t.publishingStatus,"=","delisted"],[t.publishingStatus,"=","delisted_3rd_party_m10n"],[t.publishingStatus,"=","delisted_creator_stripe_disabled"]]})),SD=Ce("isPendingHubFile",t=>({or:[[t.publishingStatus,"=","pending_public"],[t.publishingStatus,"=","pending_user_visual_compliance"]]})),Jq=Ce("isPendingPlugin",t=>({or:[[t.publishingStatus,"=","org_private_pending_public"],[t.publishingStatus,"=","pending_public"],[t.publishingStatus,"=","pending_user_visual_compliance"]]})),Qq=Ce("isPublishedResource",t=>[t.unpublishedAt,"=",null]),il=Ce("isMonetizedResource",t=>[t.monetizedResourceMetadataId,"<>",null]),Zm=Ce("isPublicHubFile",t=>re([zq(t),g_e(t)])),Yt=(t,e)=>[t,"hasPermission",e],OD=Ce("hasExistingCommunityRatingForPlugin",(t,e)=>re([[t.profileId,"<>",null],[e.id,"<>",null],[Lh.ratingValue,"<>",null],jt([Lh.profileId,"=",t.profileId]),jt([Lh.pluginId,"=",e.id])])),FD=Ce("hasExistingCommunityRatingForHubFile",(t,e)=>re([[t.profileId,"<>",null],[e.id,"<>",null],[Mh.ratingValue,"<>",null],jt([Mh.profileId,"=",t.profileId]),jt([Mh.hubFileId,"=",e.id])])),p_e=Ce("isBlockedPlugin",t=>qe([[t.blockedAt,"<>",null],[t.publishingStatus,"=","blocked"]])),$q=Ce("isOrgPrivatePlugin",t=>re([[t.orgId,"<>",null],qe([[t.publishingStatus,"=","org_private"],[t.publishingStatus,"=","org_private_pending_public"]])])),Zh=Ce("isPublicPlugin",t=>re([zq(t),Qq(t),ie(p_e(t))])),g_e=Ce("isVerifiedHubFile",t=>qe([re([ct("community_hub_image_inspection"),Qq(t),[t.contentVerifiedAt,"<>",null]]),ie(b_e(t))])),eY=Ce("userHasPaidForHubFile",(t,e,r)=>re([ne(e),ne(r),jt([e.id,"=",r.userId]),re([[r.monetizedResourceMetadataId,"<>",null],jt([r.monetizedResourceMetadataId,"=",t.monetizedResourceMetadataId])]),m_e(r)])),m_e=Ce("isActivePurchase",t=>[t.isActive,"=",!0]),Hh=Ce("hasPurchased",t=>qe([[t.status,"in",["succeeded","refunded","canceled"]],[t.status,"=",1],[t.status,"=",2],[t.status,"=",3]])),DD=Ce("userHasRunPlugin",(t,e)=>re([jt([xD.pluginId,"=",e.id]),jt([xD.userId,"=",t.id])])),RD=Ce("userHasDuplicatedHubFile",(t,e)=>re([re([[Gm.id,"<>",null],[Gm.isPreview,"<>",!0]]),jt([Gm.hubFileId,"=",e.id]),jt([Gm.userId,"=",t.id])])),b_e=Ce("isBlockedHubFile",t=>[t.publishingStatus,"=","blocked"]),f_e=Ce("isWhiteboardFile",t=>[t.editorType,"=","whiteboard"]),Lr=Ce("isDesignFile",t=>qe([[t.editorType,"=","design"],[t.editorType,"=","slides"],[t.editorType,"=",null]])),Gi=Ce("isFigJamFile",t=>f_e(t)),Kh=Ce("isSlidesFile",t=>[t.editorType,"=","slides"]),pt=Ce("isMember",t=>[t.permission,"in",["member","admin"]]),Hm=Ce("isWorkspaceMember",(t,e)=>({and:[ne(e),ne(dn),pt(e),[t.permission,"in",["member","admin"]]]})),Zi=Ce("isOrgAdmin",t=>[t.permission,"=","admin"]),Km=Ce("hasWorkspacePermissionInWorkspace",(t,e,r)=>re([[t.id,"<>",null],jt([t.id,"=",e.workspaceId]),[e.permission,"in",r]])),tY=Ce("hasWorkspacePermissionInTeam ",(t,e,r)=>re([[t.workspaceId,"<>",null],jt([t.workspaceId,"=",e.workspaceId]),[e.permission,"in",r]])),tIt=Ce("hasRequiredOrgAccess",(t,e)=>({and:[[t.orgAccess,"<>",null],[t.orgAccess,"in",e.map(r=>r.toString())]]})),y_e=Ce("isViewOnlyOrInviteOnly",t=>({or:[[t.viewOnlyAt,"<>",null],[t.inviteOnlyAt,"<>",null]]})),I_e=Ce("isInviteOnly",t=>[t.inviteOnlyAt,"<>",null]),st=Ce("hasRoleAccess",(t,e)=>[t.level,">=",e]),rY=Ce("hasTeamMembership",t=>[t.level,"<>",null]),Ac=Ce("userInViewTeamUserGroupOnFolder",(t,e,r)=>({or:[re([ie(un(r)),st(e,an),Go(t)]),re([un(r),rY(e),Go(t)])]})),nY=Ce("userInFolderViewAudience",(t,e,r,i)=>({and:[un(i),ne(t),qe([re([pt(e),[t.sharing_audience_control,"in",["org_view","org_edit"]]]),re([Hm(r,e),[t.sharing_audience_control,"in",["workspace_view","workspace_edit"]]])])]})),un=Ce("scTeamExperienceEnabledTeam",t=>({or:[ct("sc_team_experience"),{and:[ne(t),[t.scTeamExperienceEnabled,"=",!0]]}]})),Go=Ce("folderHasAtLeastViewTeam",t=>({and:[ne(t),ie(I_e(t))]})),Ws=Ce("folderHasAtLeastEditTeam",t=>({and:[ne(t),ie(y_e(t))]})),Sd=Ce("userInEditTeamUserGroupOnFolder",(t,e,r)=>({or:[re([ie(un(r)),st(e,kn),Ws(t)]),re([un(r),rY(e),Ws(t)])]})),iY=Ce("userInFolderEditAudience",(t,e,r,i)=>({and:[un(i),ne(t),qe([re([pt(e),[t.sharing_audience_control,"=","org_edit"]]),re([Hm(r,e),[t.sharing_audience_control,"=","workspace_edit"]])])]})),Od=Ce("isProTeam",t=>({and:[[t.id,"<>",null],[t.orgId,"=",null],qe([re([[t.id,"<>",null],[t.subscription,"<>",null],[t.subscription,"<>","incomplete"]]),re([[t.id,"<>",null],[t.gracePeriodEnd,">",{type:"func",name:"now"}]])])]})),sY=Ce("isStudent",t=>[t.studentValidatedAt,"<>",null]),qh=Ce("isStudentTeam",t=>[t.studentTeamAt,"<>",null]),oY=Ce("isEduGracePeriodExpired",t=>[t.createdAt,"<",{type:"func",name:"now",offset:-604800}]),fs=Ce("isOpenOrgTeam",t=>({and:[[t.orgId,"<>",null],[t.orgAccess,"=","public"]]})),Yh=Ce("hasValidFilePasswordAuthIfNecessary",(t,e)=>lY(t,e,Zo)),aY=Ce("hasValidProtoPasswordAuthIfNecessary",(t,e)=>lY(t,e,Ho)),jD=Ce("hasValidPasswordAuth",t=>re([[t.key,"<>",null],[t.key,"in",{type:"field",ref:Wm.passwordAuthValidatedFileKeys}]])),lY=Ce("hasValidPasswordAuthIfNecessary",(t,e,r)=>({or:[re([ie(yi(t)),r(t)]),jD(t),re([yi(t),r(e)])]})),Zo=Ce("noFileLinkPasswordSet",t=>ie(re([ne(t),[t.hasFileLinkPassword,"=",!0]]))),Ho=Ce("noProtoLinkPasswordSet",t=>ie(re([ne(t),[t.hasProtoLinkPassword,"=",!0]]))),rIt=Ce("isOrgUserDesignPaidStatusStarter",t=>({or:[[t.accountType,"=","starter"],[t.id,"=",null]]})),qm=Ce("teamUserHasPaidStatusOnFile",(t,e,r,i)=>{let o,s;if(i==="starter"){let l=[[e.designPaidStatus,r,"starter"],[e.id,r,null]],u=[[e.whiteboardPaidStatus,r,"starter"],[e.id,r,null]];r==="="?(s={or:l},o={or:u}):(s={and:l},o={and:u})}else s=[e.designPaidStatus,r,i],o=[e.whiteboardPaidStatus,r,i];return{or:[{and:[Lr(t),s]},{and:[Gi(t),o]}]}}),Xh=Ce("orgUserHasPaidStatusOnFile",(t,e,r,i)=>({or:[{and:[Lr(t),ne(e),[e.accountType,r,i]]},{and:[Gi(t),ne(e),[e.whiteboardPaidStatus,r,i]]}]})),zh=Ce("orgUserHasDesignPaidStatusOnFile",(t,e,r,i)=>({and:[Lr(t),ne(e),[e.accountType,r,i]]})),Jh=Ce("orgUserHasDevModePaidStatusOnFile",(t,e,r,i)=>({and:[Lr(t),ne(e),[e.devModePaidStatus,r,i]]})),nIt=Ce("isTeamUserWhiteboardPaidStatusFull",t=>[t.whiteboardPaidStatus,"=","full"]),PD=Ce("isTeamUserDesignPaidStatusFull",t=>[t.designPaidStatus,"=","full"]),iIt=Ce("isTeamUserWhiteboardRestricted",t=>[t.whiteboardPaidStatus,"=","restricted"]),h_e=Ce("isTeamUserWhiteboardPaidStatusRestricted",t=>[t.whiteboardPaidStatus,"=","restricted"]),sIt=Ce("isFigJamFileAndTeamUserWhiteboardPaidStatusRestricted",(t,e)=>({and:[Gi(t),h_e(e)]})),dY=Ce("isTeamUserDesignPaidStatusRestricted",t=>[t.designPaidStatus,"=","restricted"]),Ym=Ce("orgContainsDomainFromUserEmail",(t,e)=>({and:[ne(e),ne(t),[t.domainCapture,"<>",!0],[t.domainCaptureDomains,"<>",null],[e.email,"<>",null],[e.emailDomain,"<>",null],[e.emailDomain,"in",{type:"field",ref:t.domainCaptureDomains}]]})),oIt=Ce("isBigmaOrg",t=>[t.bigmaEnabledAt,"<>",null]),vc=Ce("isOrgsDraftOwner",(t,e)=>({and:[Ze(t),Yo(t),[t.folderId,"<>",null],[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),Qh=Ce("isTeamDraftOwner",(t,e,r)=>({and:[ct("ps_benchmark_upgrade_prevention"),ie(Ze(t)),Fd(r),[t.folderId,"<>",null],[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),aIt=Ce("orgUserIsDraftsFolderOwner",(t,e)=>({and:[Yo(t),Ze(t),[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),$h=Ce("isInWorkshopMode",(t,e)=>({and:[Gi(t),[e.expiresAt,"<>",null],[e.expiresAt,">=",{type:"func",name:"now"}]]})),fi=Ce("publicLinkHasExpired",(t,e)=>re([[e.bigmaEnabledAt,"<>",null],[t.expiresAt,"<>",null],[t.accessReverted,"=",!1],[t.expiresAt,"<=",{type:"func",name:"now"}]])),uY=Ce("isLinkExpirationPrevOrgBrowsableTrue",(t,e)=>re([fi(t,e),[t.prevOrgBrowsable,"=",!0]])),Xm=Ce("publicLinkHasActiveExpiration",t=>re([[t.expiresAt,"<>",null],[t.accessReverted,"=",!1],[t.expiresAt,">",{type:"func",name:"now"}]])),zm=Ce("orgOrWorkspaceEnforcingExpiration",(t,e)=>re([[e.bigmaEnabledAt,"<>",null],qe([[t.publicLinkControlsSetting,"=","public_link_controls_setting_expiration_required"],[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_and_expiration_required"]])])),Ko=Ce("hasNoWorkspacePublicLinkControlsSetting",(t,e)=>qe([[e.inExpWorkspaceLevelLinkControls,"=",!1],ie(ne(t)),re([ne(t),[t.publicLinkControlsSetting,"=",null]])])),qo=Ce("orgOrWorkspaceEnforcingPasswords",(t,e)=>qe([[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_required"],re([[e.bigmaEnabledAt,"<>",null],[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_and_expiration_required"]])])),lIt=Ce("hasFileLinkAccessThroughPrevLink",(t,e,r)=>{let i=re([[e.prevPrivateLinkAccess,"<>",null],[e.prevPrivateLinkAccess,"in",t]]);return t.includes("org_view")?re([fi(e,r),qe([i,re([ne(e),[e.prevPrivateLinkAccess,"=",null]])])]):re([fi(e,r),i])}),dIt=Ce("hasPrototypeLinkAccessThroughPrevLink",(t,e,r)=>re([fi(e,r),[e.prevPrivateProtoLinkAccess,"in",t]])),uIt=Ce("orgUserIsDraftFolderOwner",(t,e,r)=>({and:[ne(r),ne(e),[r.userId,"=",{type:"field",ref:e.id}]]})),Yo=Ce("isDraft",t=>[t.teamId,"=",null]),Ze=Ce("isOrgFile",t=>[t.orgId,"<>",null]),_D=t=>[t.orgId,"<>",null],Jn=t=>({and:[Sc(t),Fd(t)]}),Fd=Ce("isDraftsFolder",t=>[t.path,"=",""]),Sc=Ce("isTeamFolder",t=>[t.teamId,"<>",null]),Hi=Ce("isTrashed",t=>[t.trashedAt,"<>",null]),Ii=Ce("isRepoFile",t=>[t.fileRepoId,"<>",null]),yi=Ce("isRepoBranch",t=>({and:[Ii(t),[t.sourceFileKey,"<>",null],[t.sourceFileKey,"<>",{type:"field",ref:t.key}]]})),cIt=Ce("isRepoMainFile",t=>({and:[Ii(t),{or:[[t.sourceFileKey,"=",null],[t.sourceFileKey,"=",{type:"field",ref:t.key}]]}]})),ct=Ce("passesFeatureFlag",t=>[Wm.featureFlags,"includes",t]),TD=Ce("isInOrgDevModeTrial",(t,e,r)=>re([ne(r),zh(t,De,"<>","full"),Jh(t,De,"<>","full"),[r.status,"=","pending"],jt([e.firstDevModeAccountTypeRequestCreatedAt,"=",r.createdAt]),[r.createdAt,">",{type:"func",name:"now",offset:-Xq}]])),kD=Ce("isInTeamDevModeTrial",(t,e)=>re([ne(e),ie(PD(t)),[e.status,"=","pending"],jt([t.devModeTrialStartAt,"=",e.createdAt]),[t.devModeTrialStartAt,"<>",null],[t.devModeTrialStartAt,">",{type:"func",name:"now",offset:-Xq}]])),cY=Ce("isEligibleForTeamDevModeTrial",t=>[t.devModeTrialStartAt,"=",null]),pY=Ce("hasUserFileRecent",t=>({and:[[t.userId,"<>",null],[t.userId,"=",{type:"field",ref:Ke.id}],[t.fileKey,"<>",null],[t.fileKey,"=",{type:"field",ref:Y.key}]]}));function re(t){return{and:t}}function qe(t){return{or:t}}function ie(t){return{not:t}}var sl=(t,e)=>t.filter(r=>!e.includes(r)),ne=t=>[t.id,"<>",null];var jt=t=>{let e={id:t[0]};return{and:[ne(e),[t[0],t[1],{type:"field",ref:t[2]}]]}};var wD=class extends Ic{constructor(){super(...arguments);this.displayName="AllowOrgGuestsDraftsFolderAccess";this.owner="unowned";this.applyFilter=ne(De);this.permissions=["ORG::IS_GUEST"]}},ED=class extends Ic{constructor(){super(...arguments);this.displayName="AllowOrgMemberViewAccess";this.owner="unowned";this.applyFilter=pt(De);this.permissions=["ORG::IS_MEMBER"]}},UD=class extends Ic{constructor(){super(...arguments);this.displayName="AllowOrgAdminAdmin";this.owner="unowned";this.applyFilter=Zi(De);this.permissions=["ORG::IS_ADMIN"]}},MD=[wD,ED,UD];var LD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowTeamSelfViewer";this.owner="unowned";this.description="User has been explicitly invited to the team with view access (\u201DCan View\u201D role).  Note that this is not the same as the plan-level seat type of Viewer or Viewer-Restricted.";this.applyFilter={and:[st(nr,an)]};this.permissions=[...Tm]}},VD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowTeamSelfEditor";this.owner="unowned";this.description="User has been explicitly invited to the team with edit access (\u201DCan Edit\u201D role).  Note that this is not the same as the plan-level seat type of Editor.";this.applyFilter={and:[st(nr,kn)]};this.permissions=[...km]}},BD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowTeamSelfAdmin";this.owner="unowned";this.description="User has been explicitly invited to the team with an Admin role.";this.applyFilter={and:[st(nr,Vo)]};this.permissions=[...cD]}},ND=class extends Wi{constructor(){super(...arguments);this.displayName="AllowTeamSelfOwner";this.owner="unowned";this.description="This user has the \u201COwner\u201D role on the team.  By default, the creator of the team has the \u201COwner\u201D role.";this.applyFilter={and:[st(nr,Hr)]};this.permissions=[...l9]}},WD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamViewer";this.owner="unowned";this.applyFilter={and:[pt(De),fs(Le)]};this.permissions=[...Tm]}},GD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamEditor";this.owner="unowned";this.applyFilter={and:[pt(De),fs(Le),[Le.defaultPermission,"=","edit"]]};this.permissions=[...km]}},ZD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowSharingAudienceTeamViewer";this.owner="unowned";this.applyFilter={and:[un(Le),ne(Le),qe([re([pt(De),[Le.sharingAudienceControl,"in",["org_view","org_edit"]]]),re([Hm(dn,De),[Le.sharingAudienceControl,"in",["workspace_view","workspace_edit"]]])])]};this.permissions=[...Tm]}},HD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowSharingAudienceTeamEditor";this.owner="unowned";this.applyFilter={and:[un(Le),ne(Le),qe([re([pt(De),[Le.sharingAudienceControl,"in",["org_edit"]]]),re([Hm(dn,De),[Le.sharingAudienceControl,"in",["workspace_edit"]]])])]};this.permissions=[...km]}},KD=class extends Wi{constructor(){super(...arguments);this.displayName="AllowOrgAndWorkspaceUserActingAsTeamAdmin";this.owner="unowned";this.applyFilter={and:[qe([Zi(De),tY(Le,dn,["admin"])]),ne(Le),[Le.orgAccess,"<>","secret"]]};this.permissions=[..._m]}},qD=class extends Mm{constructor(){super(...arguments);this.displayName="DenyAnonymousUsers";this.owner="unowned";this.applyFilter=ie(ne(Ke));this.permissions=[..._m]}},YD=class extends Mm{constructor(){super(...arguments);this.displayName="DenyDeletedTeam";this.owner="unowned";this.applyFilter=[Le.deletedAt,"<>",null];this.permissions=[..._m]}},XD=[LD,VD,BD,ND,WD,GD,HD,ZD,KD,qD,YD];var zD=class extends zn{constructor(){super(...arguments);this.displayName="AllowFolderSelfViewer";this.owner="unowned";this.description="User has been explicitly invited to the Project with view access (\u201DCan View\u201D role)";this.applyFilter={and:[st(ln,an)]};this.permissions=[...mc]}},JD=class extends zn{constructor(){super(...arguments);this.displayName="AllowFolderSelfEditor";this.owner="unowned";this.description="User has been explicitly invited to the project with edit access (\u201DCan Edit\u201D role)";this.applyFilter={and:[st(ln,kn)]};this.permissions=[...hd]}},QD=class extends zn{constructor(){super(...arguments);this.displayName="AllowFolderSelfOwner";this.owner="unowned";this.description="User has the \u201COwner\u201D role on this project.  By default, the Owner is the creator of the project.";this.applyFilter={and:[st(ln,Hr)]};this.permissions=[...bc]}},$D=class extends zn{constructor(){super(...arguments);this.displayName="AllowTeamFolderViewer";this.owner="unowned";this.description="User has a \u201CCan View\u201D role on the parent team and has therefore inherited view access to the project.";this.applyFilter=Ac(ze,nr,Le);this.permissions=[...mc]}},eR=class extends zn{constructor(){super(...arguments);this.displayName="AllowAudienceFolderViewer";this.owner="unowned";this.applyFilter=nY(ze,De,dn,Le);this.permissions=[...mc]}},tR=class extends zn{constructor(){super(...arguments);this.displayName="AllowTeamFolderEditor";this.owner="unowned";this.description="User has a \u201CCan Edit\u201D role on the parent team and therefore inherited edit access to the project.";this.applyFilter=Sd(ze,nr,Le);this.permissions=[...hd]}},rR=class extends zn{constructor(){super(...arguments);this.displayName="AllowAudienceFolderEditor";this.owner="unowned";this.applyFilter=iY(ze,De,dn,Le);this.permissions=[...hd]}},nR=class extends zn{constructor(){super(...arguments);this.displayName="AllowTeamFolderOwner";this.owner="unowned";this.description="User has the \u201COwner\u201D role on the parent team, so has edit access to the folder";this.applyFilter={and:[st(nr,Hr),Ws(ze)]};this.permissions=[...bc]}},iR=class extends zn{constructor(){super(...arguments);this.displayName="AllowTeamAdminOrphanedFolder";this.owner="unowned";this.description="There is no longer an owner of the project, the team owner or a team admin can join the project as the owner.";this.applyFilter={and:[ie(ne(wh)),st(nr,Vo)]};this.permissions=[...hd]}},sR=class extends zn{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFolderViewer";this.owner="unowned";this.applyFilter={and:[ie(un(Le)),pt(De),fs(Le),Go(ze)]};this.permissions=[...mc]}},oR=class extends zn{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFolderEditor";this.owner="unowned";this.applyFilter={and:[ie(un(Le)),pt(De),fs(Le),Ws(ze),[Le.defaultPermission,"=","edit"]]};this.permissions=[...hd]}},aR=class extends Cd{constructor(){super(...arguments);this.displayName="DenyFolderViewForAnotherUsersDrafts";this.owner="unowned";this.description="Do not allow users to view another user\u2019s draft folder. This policy applies to all draft folder types \u2014 org drafts, team drafts, and deprecated personal draftsThis is policy is particularly important for team drafts, as the team drafts folder model has an associated team_id, and by default team folders are visible to all members of a team";this.applyFilter={and:[ct("ps_permissions"),Fd(ze),ie(st(ln,Hr))]};this.permissions=[...bc]}},lR=class extends Cd{constructor(){super(...arguments);this.displayName="DenyFolderEditForExternalRestrictedUsers";this.owner="unowned";this.applyFilter={and:[[Ke.externalRestrictedOrgId,"<>",null],qe([re([_D(ze),ne(Ke),[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:ze.orgId}]]),re([Sc(ze),[Le.orgId,"<>",null],ne(Ke),[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:Le.orgId}]]),re([ie(_D(ze)),ie(Sc(ze))])])]};this.permissions=[...lD]}},dR=class extends Cd{constructor(){super(...arguments);this.displayName="DenyTeamDraftsBeforePlanSpacesEnabled";this.owner="unowned";this.applyFilter={and:[ct("ps_team_drafts_deny_policies"),Jn(ze),ie(ct("ps_benchmark"))]};this.permissions=[...bc]}},uR=class extends Cd{constructor(){super(...arguments);this.displayName="DenyDeletedFolder";this.owner="unowned";this.applyFilter=[ze.deletedAt,"<>",null];this.permissions=[...bc]}},cR=[zD,JD,QD,$D,eR,iR,tR,rR,nR,sR,oR,aR,lR,dR,uR];var pR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoPrototypeViewer";this.owner="unowned";this.description="File Repo is a construct that lives on top of the File. A File Repo always has a main file and can have branches.This permission refers to those with view access to the prototypes that are part of this File Repo.";this.applyFilter=st(bs,Um);this.permissions=[...pD]}},gR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has can view access to the File Repo, which includes the main file, branches, prototypes, etc that are part of this File Repo.";this.applyFilter=st(bs,an);this.permissions=[...tl]}},mR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoEditor";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has can edit access to the File Repo, which includes the main file, branches, prototypes, etc that are part of this File Repo.";this.applyFilter=st(bs,kn);this.permissions=[...wm]}},bR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOwner";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has the \u201COwner\u201D role on the file repo, which includes the main file, branches, prototypes, etc that are part of this File Repo.";this.applyFilter=st(bs,Hr);this.permissions=[...Fh]}},fR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoDraftOwner";this.owner="unowned";this.applyFilter=re([st(bs,Hr),Yo(bt)]);this.permissions=[...Fh,"REPO::CAN_MANAGE"]}},yR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoTeamFolderEditor";this.owner="unowned";this.applyFilter=re([st(nr,kn),Yt("FOLDER","FOLDER::CAN_EDIT")]);this.permissions=["REPO::CAN_MANAGE"]}},IR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowFolderRepoViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has can view access to the project, and in turn the File Repo and its associated main file, branches, and prototypes.";this.applyFilter={and:[st(ln,an),ne(ze),[ze.deletedAt,"=",null]]};this.permissions=[...tl]}},hR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowFolderRepoEditor";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has can edit access to the project, and in turn the File Repo and its associated main file, branches, and prototypes.";this.applyFilter={and:[st(ln,kn),ne(ze),[ze.deletedAt,"=",null]]};this.permissions=[...wm,"REPO::CAN_MANAGE"]}},xR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowTeamRepoViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has view access to the team, and in turn the File Repo and its associated main file, branches, and prototypes.";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),Ac(ze,nr,Le)]};this.permissions=[...tl]}},CR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowTeamRepoEditViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.The user has edit access at the team level, but has view access on the File Repo and its associated main file, branches, and prototype";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),Sd(ze,nr,Le)]};this.permissions=[...tl]}},AR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowTeamRepoAdminViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.The user has admin access at the team level, but has view access on the File Repo and its associated main file, branches, and prototype";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),st(nr,Vo),Go(ze)]};this.permissions=[...tl]}},vR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowTeamRepoEditEditor";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.The user has edit access at the team level, and has edit access on the File Repo and its associated main file, branches, and prototype";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),Sd(ze,nr,Le)]};this.permissions=[...wm]}},SR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowTeamRepoAdmin";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.User is the admin of the parent team, so has edit access to the file repo and its associated main file & branches.";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),st(nr,Vo),Ws(ze)]};this.permissions=[...gD]}},OR=class extends Rt{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamRepoViewer";this.owner="unowned";this.applyFilter={and:[ie(un(Le)),pt(De),fs(Le),Go(ze)]};this.permissions=[...tl]}},FR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForNonPaidOrgUser";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has a viewer-restricted role in the Organization. They won\u2019t be able to edit the File Repo, including its associated main file, branches, and prototypes.";this.applyFilter=re([Ze(bt),ie(vc(bt,De)),[De.accountType,"=","restricted"]]);this.permissions=[...gc]}},DR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForNonPaidTeamUser";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user is has a viewer / starter or viewer-restricted seat on a Starter or Pro plan, so will not be able to edit the File Repo, including its main file, branches and prototypes.";this.applyFilter=dY(Mr);this.permissions=[...gc]}},RR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForOrgUserWhenDraftsOwnerIsRestricted";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This file repo lives in the Drafts of a viewer-restricted user in an org so cannot be edited by any other user (including the main file, branch, and prototypes associated with it) - even if a user was previously invited with the \u201Ccan edit\u201D role on the this file";this.applyFilter={and:[ne(Ad),ne(De),[De.userId,"<>",null],[Ad.userId,"<>",{type:"field",ref:De.userId}],[Ad.accountType,"=","restricted"]]};this.permissions=[...gc,...dD]}},jR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyDeletedRepo";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This File Repo is permanently deleted and can\u2019t be restored. ";this.applyFilter=[bt.deletedAt,"<>",null];this.permissions=[...fc]}},PR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoInDeletedFolder";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.File Repo is in a deleted project. ";this.applyFilter=re([ne(ze),[ze.deletedAt,"<>",null]]);this.permissions=[...fc]}},_R=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoEditForExternalRestrictedUsers";this.owner="unowned";this.applyFilter={and:[ne(Ke),[Ke.externalRestrictedOrgId,"<>",null],[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:bt.orgId}]]};this.permissions=[...gc]}},TR=class extends Cr{constructor(){super(...arguments);this.displayName="DenyTeamDraftFileReposBeforePlanSpacesEnabled";this.owner="unowned";this.applyFilter={and:[ct("ps_team_drafts_deny_policies"),Jn(ze),st(ln,Hr),ie(ct("ps_benchmark"))]};this.permissions=[...Fh]}},kR=[pR,gR,mR,bR,fR,yR,IR,hR,xR,vR,SR,CR,AR,OR,FR,DR,RR,PR,jR,_R,TR];var wR=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeViewer";this.owner="unowned";this.description="File Repo is a construct that lives on top of the File. A File Repo always has a main file and can have branches. This permission refers to those with view access of the prototype as a result of having view prototype access on the File Repo.";this.applyFilter=re([st(bs,Um),ie(Hi(Y))]);this.permissions=[...Dh]}},ex=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFileViewer";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has view permission on the File Repo, and therefore has can view access to both the branches and the main file.";this.applyFilter=st(bs,an);this.permissions=[...xd]}},ER=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFileEditor";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has edit permission on the File Repo, and therefore has can edit access to the branch and the main file.";this.applyFilter=st(bs,kn);this.permissions=[...Mo]}},UR=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFileOwner";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.This user has edit permission on the File Repo, and therefore has the \u201Cowner\u201D role on the main file and the branches.";this.applyFilter=st(bs,Hr);this.permissions=[...Lo]}},tx=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileViewer";this.owner="workflow";this.description="User has a \u201Ccan view\u201D role on the file\u2019s parent project and in turn the file.";this.applyFilter={and:[st(ln,an),vd(Y)]};this.permissions=[...xd]}},MR=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileEditor";this.owner="workflow";this.description="User has a \u201Ccan edit\u201D role on this file\u2019s parent project and in turn the file.";this.applyFilter={and:[st(ln,kn),vd(Y)]};this.permissions=[...Mo]}},LR=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileOwner";this.owner="workflow";this.description="User is owner of this project and in turn the file.";this.applyFilter={and:[st(ln,Hr),vd(Y)]};this.permissions=[...Lo]}},rx=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileViewer";this.owner="workflow";this.description="User has a \u201Ccan view\u201D role on the file\u2019s parent team and in turn the file.";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),Ac(ze,nr,Le),vd(Y)]};this.permissions=[...xd]}},VR=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileEditor";this.owner="workflow";this.description="User has \u201Ccan edit\u201D role on the file\u2019s parent team and in turn the file.";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),Sd(ze,nr,Le),vd(Y)]};this.permissions=[...Mo]}},BR=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileOwner";this.owner="workflow";this.description="User is the owner of this team.";this.applyFilter={and:[ie(re([ct("ps_permissions"),ct("ps_file_permissions"),Jn(ze)])),st(nr,Hr),Ws(ze),vd(Y)]};this.permissions=[...Lo]}},NR=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForOrgUserWhenDraftsOwnerIsRestricted";this.owner="unowned";this.description="This file lives in the Drafts of a viewer-restricted user in an org so cannot be edited by any other user - even if a user was previously invited with the \u201Ccan edit\u201D role on the this file";this.applyFilter=re([Yo(Y),Ze(Y),ie(vc(Y,De)),{or:[{and:[Lr(Y),[Ad.accountType,"=","restricted"]]},{and:[Gi(Y),[Ad.whiteboardPaidStatus,"=","restricted"]]}]}]);this.permissions=[...sl(Lo,["FILE::CAN_VIEW_METADATA"])]}},WR=class extends et{constructor(){super(...arguments);this.displayName="DenyUpgradesForNonPaidOrgUser";this.owner="unowned";this.description="Users cannot upgrade to editors via edit a file that\u2019s been shared with with \u201CAnybody with this link can view\u201D if they are already editors or are viewer restricted.";this.applyFilter={and:[Ze(Y),Xh(Y,De,"<>","starter")]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},GR=class extends et{constructor(){super(...arguments);this.displayName="DenyUpgradesForOrgDraftOwner";this.owner="unowned";this.description="Users cannot upgrade to editors via edit a file that\u2019s been shared with with \u201CAnybody with this link can view\u201D if they created the file in their own org drafts";this.applyFilter={and:[Ze(Y),vc(Y,De)]};this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]}},ZR=class extends et{constructor(){super(...arguments);this.displayName="DenyUpgradesForDraftOwner";this.owner="unowned";this.applyFilter={and:[ct("ps_benchmark_upgrade_prevention"),Fd(ze),st(Bo,Hr)]};this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]}},nx=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForNonPaidOrgUser";this.owner="unowned";this.description="This user has a viewer-restricted or viewer role in the organization. They won\u2019t be able to edit the file.";this.applyFilter=re([Ze(Y),ie(vc(Y,De)),qe([Xh(Y,De,"=","restricted"),re([qe([ie(ct("figjam_pages")),Gi(Y)]),qe([Xh(Y,De,"=","starter"),ie(ne(De))]),ne(Be),[Be.hasOrgEditLinksEditHeuristics,"<>",!0]])])]);this.permissions=[...sl(Bs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]),...Pm]}},HR=class extends nt{constructor(){super(...arguments);this.displayName="AllowWorkshopModeEditAccess";this.owner="unowned";this.description="Anyone with a link to an active open session can edit and interact with the FigJam file.";this.applyFilter=re([$h(Y,Eh),qe([new ex().applyFilter,new tx().applyFilter,new rx().applyFilter,new ox().applyFilter,Yh(Y,Jr)])]);this.permissions=[...yc,"FILE::CAN_EDIT_CANVAS","FILE::CAN_MOVE_COMMENTS"]}},KR=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsExceptWorkshopMode";this.owner="unowned";this.applyFilter=re([qe([new nx().applyFilter,new ix().applyFilter,new sx().applyFilter]),ie($h(Y,Eh))]);this.permissions=["FILE::CAN_EDIT_CANVAS"]}},qR=class extends et{constructor(){super(...arguments);this.displayName="DenyEditUpgradesInWorkshopMode";this.owner="unowned";this.description="Denies upgrades to Editor based on users taking an edit if the file being edited is in Workshop Mode (open session). Users can edit open session files without gaining editor seats in the org.";this.applyFilter={and:[$h(Y,Eh)]};this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]}},YR=class extends nt{constructor(){super(...arguments);this.displayName="AllowTemplateInsert";this.owner="unowned";this.description="Allows a FigJam file to be inserted as a template when the requesting user belongs to the same org as the file\u2019s, as set forth by PRD. Note that having this permission does not guarantee that the file is actually insertable as a template - a corresponding template entry must still exist and be valid (i.e. not having been unpublished).";this.applyFilter={and:[Gi(Y),ne(De)]};this.permissions=["FILE::CAN_INSERT_TEMPLATE"]}},XR=class extends et{constructor(){super(...arguments);this.displayName="DenyNonOrgUserTemplatePublish";this.owner="unowned";this.applyFilter=ie(ne(De));this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},zR=class extends et{constructor(){super(...arguments);this.displayName="DenyNonFigjamTemplatePublish";this.owner="unowned";this.applyFilter=ie(Gi(Y));this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},JR=class extends et{constructor(){super(...arguments);this.displayName="DenyDraftsTemplatePublish";this.owner="unowned";this.applyFilter=Yo(Y);this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},QR=class extends et{constructor(){super(...arguments);this.displayName="DenyOrgTemplatesPublish";this.owner="unowned";this.applyFilter=re([ne(Be),[Be.customTemplatesAllowed,"<>","ALLOW"]]);this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},$R=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFileViewer";this.owner="unowned";this.applyFilter={and:[ie(un(Le)),pt(De),fs(Le),Go(ze)]};this.permissions=[...xd]}},ej=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditOrgMemberOpenTeam";this.owner="unowned";this.applyFilter={and:[ie(un(Le)),pt(De),fs(Le),Ws(ze),[Le.defaultPermission,"=","edit"]]};this.permissions=[...Mo]}},ix=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForRestrictedTeamUser";this.owner="unowned";this.description="This user has a viewer-restricted seat in a Pro plan, so will not be able to edit the file. ";this.applyFilter={and:[ie(Ze(Y)),ie(Qh(Y,Mr,ze)),qm(Y,Mr,"=","restricted")]};this.permissions=[...sl(Bs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS"]),...Pm]}},sx=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForStarterTeamUser";this.owner="unowned";this.description="This user is has a viewer / starter seat on a Pro plan, so will not be able to edit the file.";this.applyFilter={and:[{or:[ie(ct("figjam_pages")),Gi(Y)]},ne(Le),ie(Ze(Y)),Od(Le),qm(Y,Mr,"=","starter"),[Le.hasProEditLinksEditHeuristics,"<>",!0],ie(Qh(Y,Mr,ze))]};this.permissions=[...sl(Bs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]),...Pm]}},tj=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForExpiredEduGracePeriod";this.owner="unowned";this.applyFilter=re([[Y.teamId,"<>",null],[Y.parentOrgId,"=",null],ie(sY(Ke)),qh(Le),ne(hD),oY(hD)]);this.permissions=[...sl(Bs,["FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD"])]}},rj=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForLockedTeam";this.owner="unowned";this.applyFilter=re([[Y.teamId,"<>",null],[Le.hasLockedRestriction,"=",!0],ie(Qh(Y,Mr,ze))]);this.permissions=[...Bs]}},nj=class extends et{constructor(){super(...arguments);this.displayName="DenyEditsForFigjamDisabledOrg";this.owner="unowned";this.applyFilter=re([Gi(Y),[Be.figjamDisabledAt,"<>",null]]);this.permissions=["FILE::CAN_EDIT_CANVAS"]}},ij=class extends et{constructor(){super(...arguments);this.displayName="DenyUpgradesForNonStarterTeamUser";this.owner="unowned";this.description="Users cannot upgrade to editors via edit a file that\u2019s been shared with with \u201CAnybody with this link can view\u201D if they are already editors or are viewer restricted.";this.applyFilter={and:[ie(Ze(Y)),Od(Le),qm(Y,Mr,"<>","starter"),ne(Le)]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},sj=class extends et{constructor(){super(...arguments);this.displayName="DenyUpgradesForStarterTeams";this.owner="unowned";this.description="Users cannot use the \u201Cedit upgrade\u201D system in starter teams. Users are still upgraded to editor when they edit, but it\u2019s not an upgrade because the team isn\u2019t paid, so it\u2019s handled through a separate system.";this.applyFilter={and:[ie(Ze(Y)),ie(Od(Le))]};this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS"]}},oj=class extends et{constructor(){super(...arguments);this.displayName="DenyDeletedFile";this.owner="unowned";this.description="This file is permanently deleted and can\u2019t be restored.";this.applyFilter=[Y.deletedAt,"<>",null];this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS",...Lo]}},aj=class extends et{constructor(){super(...arguments);this.displayName="DenyFileInDeletedFolder";this.owner="unowned";this.description="File is in a deleted project, so cannot be accessed.";this.applyFilter=[ze.deletedAt,"<>",null];this.permissions=["FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS",...Lo]}},lj=class extends et{constructor(){super(...arguments);this.displayName="DenyArchivedFile";this.owner="unowned";this.description="This branch file has been archived so cannot be edited.";this.applyFilter={and:[[Y.deletedAt,"<>",null],[Y.fileRepoId,"<>",null]]};this.permissions=[...Bs]}},dj=class extends nt{constructor(){super(...arguments);this.displayName="AllowFilePrototypeViewer";this.owner="unowned";this.description="This user can view the prototype because they have been directly invited with a \u201Ccan view prototype only\u201D role on this file. ";this.applyFilter=re([st(Bo,Um),ie(Hi(Y))]);this.permissions=[...Dh]}},ox=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewer";this.owner="unowned";this.description="This user has been directly invited with \u201Ccan view\u201D role on this file.";this.applyFilter=st(Bo,an);this.permissions=[...xd]}},uj=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditor";this.owner="unowned";this.description="This user has been directly invited with \u201Ccan edit\u201D role on this file.";this.applyFilter=st(Bo,kn);this.permissions=[...sl(Mo,["FILE::CAN_DELETE"])]}},cj=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditorDelete";this.owner="unowned";this.applyFilter=re([st(Bo,kn),qe([ie(Yo(Y)),st(Bo,Hr)])]);this.permissions=["FILE::CAN_DELETE"]}},pj=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileOwner";this.owner="unowned";this.description="This user is the owner of this file.";this.applyFilter=st(Bo,Hr);this.permissions=[...Lo]}},gj=class extends et{constructor(){super(...arguments);this.displayName="DenyFileTrashedBranch";this.owner="unowned";this.description="Branches with the trashed_at property are considered \u201Carchived\u201D. Archived branches can be viewed, but they can\u2019t be edited.";this.applyFilter={and:[Hi(Y),yi(Y)]};this.permissions=[...sl(Bs,["FILE::CAN_MANAGE"])]}},mj=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileTeamAdminAccessForOrphanedFolder";this.ignoreOnWeb=!0;this.owner="unowned";this.description="There is no longer an owner of the project, the team owner or a team admin can join the project as the owner.";this.applyFilter={and:[ie(ne(wh)),st(nr,Vo)]};this.permissions=[...Mo]}},bj=class extends et{constructor(){super(...arguments);this.displayName="DenyEditForExternalRestrictedUsers";this.owner="unowned";this.applyFilter=re([ne(Ke),[Ke.externalRestrictedOrgId,"<>",null],[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:Y.orgId}]]);this.permissions=[...Bs,"FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"]}},fj=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgBrowsableAccessForMember";this.owner="unowned";this.applyFilter={and:[pt(De),ie(Hi(Y)),Yt("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS"),qe([re([ie(Ii(Y)),[Y.orgBrowsable,"=",!0]]),re([Ii(Y),[bt.orgBrowsable,"=",!0]]),uY(qt,Be)])]};this.permissions=["FILE::CAN_DISCOVER"]}},yj=class extends nt{constructor(){super(...arguments);this.displayName="AllowViewForLinkAccessUserFileRecents";this.owner="search_core";this.description="A link_access file is discoverable to a user if they previously accessed it but have no direct role on it";this.applyFilter={and:[pY(qq),qe([Yt("FILE","FILE::CAN_VIEW_LINK_ACCESS"),Yt("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")])]};this.permissions=["FILE::CAN_DISCOVER"]}},Ij=class extends et{constructor(){super(...arguments);this.displayName="DenyFileViewForAnotherUsersDrafts";this.owner="unowned";this.applyFilter={and:[ct("ps_permissions"),ct("ps_temp_gate_permissions"),Fd(ze),Sc(ze),ie(st(ln,Hr)),ie(st(Bo,an)),ie(Yt("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")),ie(Yt("FILE","FILE::CAN_VIEW_LINK_ACCESS"))]};this.permissions=[...Mo]}},hj=class extends et{constructor(){super(...arguments);this.displayName="DenyDevModeOnFigJamFiles";this.owner="unowned";this.applyFilter={and:[Gi(Y)]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},xj=class extends et{constructor(){super(...arguments);this.displayName="DenyDevModeOnPersonalDrafts";this.owner="unowned";this.applyFilter={and:[Yo(Y),Lr(Y),ie(Ze(Y)),ie(ne(Le))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE","FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"]}},Cj=class extends et{constructor(){super(...arguments);this.displayName="DenyFullDevModeOnStarter";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ne(Mr),ie(qh(Le)),ie(Od(Le))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},Aj=class extends et{constructor(){super(...arguments);this.displayName="DenyFullDevModeWithoutProSeat";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ne(Mr),ie(qh(Le)),Od(Le),re([ie(qm(Y,Mr,"=","full")),ie(kD(Mr,AD))])]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},vj=class extends et{constructor(){super(...arguments);this.displayName="DenyFullDevModeForNonTeamMembers";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ie(ne(Mr))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},Sj=class extends et{constructor(){super(...arguments);this.displayName="DenyDevModeEntryPointForNonProTeamMembers";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ie(ne(Mr)),Od(Le)]};this.permissions=["FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"]}},Oj=class extends et{constructor(){super(...arguments);this.displayName="DenyFullDevModeWithoutOrgSeat";this.owner="unowned";this.applyFilter={and:[Lr(Y),Ze(Y),ne(Be),ne(De),zh(Y,De,"<>","full"),Jh(Y,De,"<>","full"),ie(TD(Y,De,Bh))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},Fj=class extends et{constructor(){super(...arguments);this.displayName="DenyFullDevModeForNonOrgMembers";this.owner="unowned";this.applyFilter={and:[Lr(Y),Ze(Y),ne(Be),ie(ne(De))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},Dj=class extends nt{constructor(){super(...arguments);this.displayName="AllowIsInOrgDevModeTrial";this.owner="unowned";this.applyFilter={and:[Lr(Y),Ze(Y),ne(Be),ne(De),TD(Y,De,Bh)]};this.permissions=["FILE::IS_IN_DEV_MODE_TRIAL"]}},Rj=class extends nt{constructor(){super(...arguments);this.displayName="AllowIsEligibleForOrgDevModeTrial";this.owner="unowned";this.applyFilter={and:[Lr(Y),Ze(Y),ne(Be),ne(De),ie(Zi(De)),zh(Y,De,"<>","full"),Jh(Y,De,"<>","full"),ie(ne(Bh))]};this.permissions=["FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL"]}},jj=class extends nt{constructor(){super(...arguments);this.displayName="AllowIsInTeamDevModeTrial";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ne(Mr),kD(Mr,AD)]};this.permissions=["FILE::IS_IN_DEV_MODE_TRIAL"]}},Pj=class extends nt{constructor(){super(...arguments);this.displayName="AllowIsEligibleForTeamDevModeTrial";this.owner="unowned";this.applyFilter={and:[Lr(Y),ie(Ze(Y)),ne(Le),ne(Mr),ie(PD(Mr)),cY(Mr)]};this.permissions=["FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL"]}},_j=class extends et{constructor(){super(...arguments);this.displayName="DenyTeamDraftFilesBeforePlanSpacesEnabled";this.owner="unowned";this.applyFilter={and:[ct("ps_team_drafts_deny_policies"),Jn(ze),st(ln,Hr),ie(ct("ps_benchmark"))]};this.permissions=[...Lo]}},Tj=class extends et{constructor(){super(...arguments);this.displayName="DenyDevModeEntryPointForGuestCandidate";this.owner="unowned";this.applyFilter=re([Ze(Y),ne(Be),ie(ne(De))]);this.permissions=["FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT"]}},kj=class extends et{constructor(){super(...arguments);this.displayName="DenyAboveSlidesPresentationForNonFlagUsers";this.owner="unowned";this.applyFilter=re([Kh(Y),ie(ct("piper"))]);this.permissions=[...uD]}},wj=[wR,ex,ER,UR,rx,VR,BR,mj,tx,MR,LR,dj,ox,uj,pj,cj,$R,ej,fj,HR,yj,qR,sj,WR,ij,GR,ZR,nx,NR,ix,sx,YR,XR,zR,JR,QR,Dj,Rj,jj,Pj,hj,xj,Cj,Aj,vj,Sj,Oj,Fj,Tj,oj,aj,lj,gj,KR,bj,tj,rj,nj,Ij,_j,kj];var Ej=class extends gs{constructor(){super(...arguments);this.displayName="AllowPublicHubFileAccess";this.owner="unowned";this.applyFilter=qe([Gh(gr),Zm(gr)]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Uj=class extends gs{constructor(){super(...arguments);this.displayName="AllowCommunityAdminHubFileAccess";this.owner="unowned";this.applyFilter=re([SD(gr),qe([Wh(),vD()])]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Mj=class extends gs{constructor(){super(...arguments);this.displayName="AllowAuthorHubFileAccess";this.owner="unowned";this.applyFilter=re([SD(gr),qe([jt([Ke.profileId,"=",gr.profileId]),jt([Ke.id,"=",gr.userId])])]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Lj=class extends gs{constructor(){super(...arguments);this.displayName="AllowCommunityPublishersAccess";this.owner="unowned";this.applyFilter=re([[gr.publisherProfileIds,"<>",null],[Ke.profileId,"in",{type:"field",ref:gr.publisherProfileIds}]]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},Vj=class extends gs{constructor(){super(...arguments);this.displayName="AllowFreeFileAccess";this.owner="unowned";this.applyFilter=re([ne(Ke),Zm(gr),ie(il(gr))]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},Bj=class extends gs{constructor(){super(...arguments);this.displayName="AllowPaidFileAccess";this.owner="unowned";this.applyFilter=re([ne(Ke),il(gr),qe([vD(),eY(gr,Ke,No)])]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},Nj=class extends gs{constructor(){super(...arguments);this.displayName="AllowFreeHubFileRatingAccess";this.owner="unowned";this.applyFilter=re([jt([Ke.id,"<>",gr.userId]),Zm(gr),ie(il(gr)),RD(Ke,gr),ie(FD(Ke,gr))]);this.permissions=["HUB_FILE::CAN_RATE"]}},Wj=class extends gs{constructor(){super(...arguments);this.displayName="AllowPaidHubFileRatingAccess";this.owner="unowned";this.applyFilter=re([jt([Ke.id,"<>",gr.userId]),Zm(gr),il(gr),ne(CD),jt([No.monetizedResourceMetadataId,"=",CD.id]),jt([No.userId,"=",Ke.id]),Hh(No),RD(Ke,gr),ie(FD(Ke,gr))]);this.permissions=["HUB_FILE::CAN_RATE"]}},Gj=[Ej,Uj,Mj,Bj,Vj,Lj,Nj,Wj];var Zj=class extends ms{constructor(){super(...arguments);this.displayName="AllowDelistedPluginAccess";this.owner="unowned";this.applyFilter=Gh(Pr);this.permissions=["PLUGIN::CAN_VIEW"]}},Hj=class extends ms{constructor(){super(...arguments);this.displayName="AllowPublicPluginAccess";this.owner="unowned";this.applyFilter=Zh(Pr);this.permissions=["PLUGIN::CAN_VIEW"]}},Kj=class extends ms{constructor(){super(...arguments);this.displayName="AllowPendingPluginAccess";this.owner="unowned";this.applyFilter=re([Jq(Pr),Wh()]);this.permissions=["PLUGIN::CAN_VIEW"]}},qj=class extends ms{constructor(){super(...arguments);this.displayName="AllowOrgPluginAccess";this.owner="unowned";this.applyFilter=re([$q(Pr),jt([Be.id,"=",Pr.orgId]),pt(De)]);this.permissions=["PLUGIN::CAN_VIEW"]}},Yj=class extends ms{constructor(){super(...arguments);this.displayName="AllowPluginAuthorAccess";this.owner="unowned";this.applyFilter=qe([jt([Ke.profileId,"=",Pr.profileId]),jt([Ke.id,"=",Pr.userId])]);this.permissions=["PLUGIN::CAN_VIEW"]}},Xj=class extends ms{constructor(){super(...arguments);this.displayName="AllowPluginMultiplePublisherAccess";this.owner="unowned";this.applyFilter=qe([re([jt([Be.id,"=",Pr.orgId]),Zi(De)]),re([ne(Uh),jt([Uh.pluginId,"=",Pr.id]),jt([Uh.userId,"=",Ke.id])])]);this.permissions=["PLUGIN::CAN_VIEW"]}},zj=class extends ms{constructor(){super(...arguments);this.displayName="AllowFreePluginRatingAccess";this.owner="unowned";this.applyFilter=re([jt([Ke.id,"<>",Pr.userId]),Zh(Pr),ie(il(Pr)),DD(Ke,Pr),ie(OD(Ke,Pr))]);this.permissions=["PLUGIN::CAN_RATE"]}},Jj=class extends ms{constructor(){super(...arguments);this.displayName="AllowPaidPluginRatingAccess";this.owner="unowned";this.applyFilter=re([jt([Ke.id,"<>",Pr.userId]),Zh(Pr),il(Pr),qe([[Vh.hasFreemiumCode,"=",!0],re([[Vh.hasFreemiumCode,"=",!1],jt([No.monetizedResourceMetadataId,"=",Vh.id]),jt([No.userId,"=",Ke.id]),Hh(No)])]),DD(Ke,Pr),ie(OD(Ke,Pr))]);this.permissions=["PLUGIN::CAN_RATE"]}},Qj=class extends jh{constructor(){super(...arguments);this.displayName="DenyOrgPrivateOrPendingPlugin";this.owner="unowned";this.applyFilter=re([ie(ct("community_hub_admin")),[Pr.publishingStatus,"in",["org_private","org_private_pending_public"]],ne(Be),ie(pt(De))]);this.permissions=["PLUGIN::CAN_VIEW"]}},$j=[Zj,Hj,Yj,Kj,qj,Xj,zj,Jj,Qj];var eP=class extends hc{constructor(){super(...arguments);this.displayName="AllowAdminAccess";this.owner="unowned";this.applyFilter=qe([Zi(De),Km(Cc,dn,["admin"])]);this.permissions=["WORKSPACE::CAN_ADMIN"]}},tP=class extends hc{constructor(){super(...arguments);this.displayName="AllowTeamCreationAccess";this.owner="unowned";this.applyFilter=qe([Zi(De),Km(Cc,dn,["admin"]),re([ie(re([[Kr.id,"<>",null],[Kr.teamCreationControls,"=","team_creation_controls_admin_only"]])),Km(Cc,dn,["member"]),pt(De)])]);this.permissions=["WORKSPACE::CAN_CREATE_TEAM"]}},rP=class extends hc{constructor(){super(...arguments);this.displayName="AllowWorkspaceViewer";this.owner="unowned";this.description="This permission gives a user access to view the existence of a workspace and the contents of that workspace. ";this.applyFilter=qe([Zi(De),[dn.permission,"=","admin"],re([qe([Km(Cc,dn,["member"]),[Cc.org_access,"=","public"]]),pt(De)])]);this.permissions=["WORKSPACE::CAN_VIEW"]}},nP=[eP,tP,rP];var iP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFilePrototypeLinkAccess";this.owner="unowned";this.description="Members of the parent organization of the prototype can access the prototype. Members can only access the prototype if they receive / open a link to that file (e.g., a member of the organization will not receive an explicit invite to this prototype)";this.applyFilter={and:[pt(De),Yt("FILE","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]};this.permissions=[...Em]}},sP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileViewLinkAccess";this.owner="unowned";this.description="Members of the organization with a link to the file can view the file.";this.applyFilter={and:[pt(De),Yt("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=[...yc]}},oP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileEditLinkAccess";this.owner="unowned";this.description="Members of the organization with a link to the file can edit the file.  But unlike a user who is directly invited with the \u201Ccan edit\u201D role, this user cannot change link access settings on the file.";this.applyFilter={and:[pt(De),Yt("FILE","FILE::CAN_ORG_EDIT_LINK_ACCESS")]};this.permissions=[...jm]}},aP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileViewLinkAccessNested";this.owner="unowned";this.applyFilter={and:[qe([pt(De),Ym(Be,Ke)]),Ze(Y),qe([re([[Y.linkAccess,"in",["org_edit","org_view"]]]),re([Ii(Y),Lr(Y),[bt.linkAccess,"in",["org_edit","org_view"]]])])]};this.permissions=["FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS"]}},lP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgPrototypeViewLinkAccess";this.owner="unowned";this.applyFilter={and:[ie(Hi(Y)),qe([pt(De),Ym(Be,Ke)]),ne(Y),Ze(Y),[Y.protoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},dP=class extends nt{constructor(){super(...arguments);this.displayName="AllowPrototypeViewLinkAccess";this.owner="unowned";this.applyFilter={and:[ne(Y),ie(Hi(Y)),{or:[re([[Y.protoLinkAccess,"in",["view"]]]),re([Ii(Y),[bt.protoLinkAccess,"in",["view"]]])]}]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},uP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileEditLinkAccessNested";this.owner="unowned";this.applyFilter={and:[pt(De),ne(Y),qe([re([[Y.linkAccess,"in",["org_edit"]]]),re([Ii(Y),[bt.linkAccess,"in",["org_edit"]]])])]};this.permissions=["FILE::CAN_ORG_EDIT_LINK_ACCESS"]}},cP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditLinkAccessNested";this.owner="unowned";this.description="Anyone with the link can edit the file.";this.applyFilter={and:[ne(Ke),{or:[[Y.linkAccess,"in",["edit"]],re([Ii(Y),[bt.linkAccess,"in",["edit"]]])]}]};this.permissions=["FILE::CAN_EDIT_LINK_ACCESS"]}},pP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewLinkAccessNested";this.owner="unowned";this.applyFilter={or:[re([ne(Y),[Y.linkAccess,"in",["edit","view"]]]),re([Ii(Y),[bt.linkAccess,"in",["edit","view"]]])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS"]}},gP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessForExpiredLink";this.owner="unowned";this.applyFilter={and:[Ze(Y),fi(qt,Be)]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS"]}},mP=class extends et{constructor(){super(...arguments);this.displayName="DenyNoExpirationForOrgEnforcedExpiration";this.owner="unowned";this.applyFilter={and:[ne(Y),Ze(Y),ne(Kr),Ko(ir,Be),zm(Kr,Be),ie(Xm(qt))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},bP=class extends et{constructor(){super(...arguments);this.displayName="DenyNoExpirationForWorkspaceEnforcedExpiration";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(Y),Ze(Y),ne(ir),zm(ir,Be),ie(Xm(qt))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},fP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgViewLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[Ze(Y),fi(qt,Be),ne(qt),[qt.prevPrivateLinkAccess,"in",["org_edit","org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS"]}},yP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgEditLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[pt(De),Ze(Y),fi(qt,Be),ne(qt),[qt.prevPrivateLinkAccess,"in",["org_edit"]]]};this.permissions=["FILE::CAN_ORG_EDIT_LINK_ACCESS"]}},IP=class extends nt{constructor(){super(...arguments);this.displayName="AllowPrototypeOrgViewLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[Ze(Y),ie(Hi(Y)),pt(De),ne(qt),fi(qt,Be),[qt.prevPrivateProtoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},hP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessNoPasswordForOrgEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[ne(Y),Ze(Y),ne(Kr),Ko(ir,Be),qo(Kr,Be),qe([re([yi(Y),Zo(Jr)]),re([ie(yi(Y)),Zo(Y)])])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},xP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(Y),Ze(Y),ne(ir),qo(ir,Be),qe([re([yi(Y),Zo(Jr)]),re([ie(yi(Y)),Zo(Y)])])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},CP=class extends et{constructor(){super(...arguments);this.displayName="DenyProtoLinkAccessNoPasswordForOrgEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[ne(Y),Ze(Y),ne(Kr),Ko(ir,Be),qo(Kr,Be),qe([re([yi(Y),Ho(Jr)]),re([ie(yi(Y)),Ho(Y)])])]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},AP=class extends et{constructor(){super(...arguments);this.displayName="DenyProtoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(Y),Ze(Y),ne(ir),qo(ir,Be),qe([re([yi(Y),Ho(Jr)]),re([ie(yi(Y)),Ho(Y)])])]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},vP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessIncorrectPassword";this.owner="unowned";this.applyFilter={and:[ne(Y),ie(Yh(Y,Jr))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},SP=class extends et{constructor(){super(...arguments);this.displayName="DenyPrototypeAccessIncorrectPassword";this.owner="unowned";this.applyFilter={and:[ne(Y),ie(aY(Y,Jr))]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},OP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessOrgBannedPublicLinks";this.owner="unowned";this.applyFilter={and:[ne(Y),Ze(Y),ne(Kr),Ko(ir,Be),[Kr.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},FP=class extends et{constructor(){super(...arguments);this.displayName="DenyLinkAccessWorkspaceBannedPublicLinks";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(Y),Ze(Y),ne(ir),[ir.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},DP=class extends et{constructor(){super(...arguments);this.displayName="DenyPublicLinksForSlidesFiles";this.owner="unowned";this.applyFilter={and:[ne(Y),Kh(Y),[Y.key,"<>","cs54QVdbdmf1fuDrTJlWv6"],[Y.key,"<>","NfV6GF1fHyD9Rui4aYW1Eh"],[Y.key,"<>","zjuy9XLVU3JUSul2rag9fe"],[Y.key,"<>","8NpMHOfJWRXkn9sf7zvlRo"],[Y.key,"<>","ktOsD2ee7MnoxifOQJ9MfP"],[Y.key,"<>","Wm7qIVL6HJ5h0E3Fu4aSdm"],[Y.key,"<>","jrcOdSI3mFQsGsV6H1oyay"]]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},RP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditLinkAccess";this.owner="unowned";this.applyFilter=re([ne(Ke),Yt("FILE","FILE::CAN_EDIT_LINK_ACCESS")]);this.permissions=[...jm]}},jP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewLinkAccess";this.owner="unowned";this.description="Anyone with the link can view the file.";this.applyFilter={and:[Yt("FILE","FILE::CAN_VIEW_LINK_ACCESS")]};this.permissions=[...yc]}},PP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileCanViewMetadata";this.owner="unowned";this.applyFilter=re([Yt("FILE","FILE::CAN_VIEW_METADATA_LINK_ACCESS")]);this.permissions=["FILE::CAN_VIEW_METADATA"]}},_P=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeOrgViewLinkAccess";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.Members of the parent organization of the prototype can access the prototype (because the File Repo has a link access setting that allows members of the organization with a link to view the prototype). Members can only access the prototype if they receive / open a link to that file (e.g., a member of the organization will not receive an explicit invite to this prototype)";this.applyFilter=re([Ii(Y),Yt("FILE","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...Em]}},TP=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeOrgViewLinkAccessNested";this.owner="unowned";this.applyFilter=re([Lr(Y),Ii(Y),ie(Hi(Y)),pt(De),[bt.protoLinkAccess,"in",["org_view"]]]);this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},kP=class extends nt{constructor(){super(...arguments);this.displayName="AllowFilePrototypeLinkAccess";this.owner="unowned";this.description="Anyone with the prototype link can access the prototype only";this.applyFilter=re([ie(Hi(Y)),Yt("FILE","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...Em]}},wP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgDomainUserViewLinkAccess";this.owner="unowned";this.description="The user can edit the file because 1) the file has the \u2018Anyone at the Organization\u2019 + \u2018can view\u2019 link setting and 2) their ID matches a domain captured by the organization";this.applyFilter={and:[Ze(Y),Ym(Be,Ke),Yt("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=["FILE::CAN_GAIN_VIEW"]}},EP=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgDomainUserViewPrototypeLinkAccess";this.owner="unowned";this.applyFilter={and:[ie(Hi(Y)),Ze(Y),ne(Y),Ym(Be,Ke),[Y.protoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_GAIN_VIEW_PROTOTYPE"]}},UP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoEditLinkAccess";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.Anyone with the link can edit the file.";this.applyFilter=re([ne(Ke),Yt("FILE_REPO","REPO::CAN_EDIT_LINK_ACCESS")]);this.permissions=["REPO::CAN_EDIT"]}},MP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoEditLinkAccessNested";this.owner="unowned";this.applyFilter={and:[[bt.linkAccess,"in",["edit"]]]};this.permissions=["REPO::CAN_EDIT_LINK_ACCESS"]}},LP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoViewLinkAccessNested";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.Anyone with the link can view the file.";this.applyFilter={and:[[bt.linkAccess,"in",["edit","view"]]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS"]}},VP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoViewPrototypeLinkAccessNested";this.owner="unowned";this.applyFilter={and:[[bt.protoLinkAccess,"in",["view"]]]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},BP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessForExpiredLink";this.owner="unowned";this.applyFilter={and:[Ze(bt),fi(qt,Be)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},NP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowViewLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[Ze(bt),fi(qt,Be),ne(qt),[qt.prevPrivateLinkAccess,"in",["org_edit","org_view"]]]};this.permissions=["REPO::CAN_ORG_VIEW_LINK_ACCESS"]}},WP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowEditLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[Ze(bt),fi(qt,Be),ne(qt),[qt.prevPrivateLinkAccess,"in",["org_edit"]]]};this.permissions=["REPO::CAN_ORG_EDIT_LINK_ACCESS"]}},GP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowPrototypeViewLinkAccessPreviousPrivateLinkAccess";this.owner="unowned";this.applyFilter={and:[Ze(bt),pt(De),ne(qt),fi(qt,Be),[qt.prevPrivateProtoLinkAccess,"in",["org_view"]]]};this.permissions=["REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},ZP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessNoPasswordForOrgEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[ne(bt),Ze(bt),ne(Kr),Ko(ir,Be),qo(Kr,Be),Zo(Jr)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},HP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(bt),Ze(bt),ne(ir),qo(ir,Be),Zo(Jr)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},KP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoProtoLinkAccessNoPasswordForOrgEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[ne(bt),Ze(bt),ne(Kr),Ko(ir,Be),qo(Kr,Be),Ho(Jr)]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},qP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoProtoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(bt),Ze(bt),ne(ir),qo(ir,Be),Ho(Jr)]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},YP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessIncorrectPassword";this.owner="unowned";this.applyFilter={and:[ne(bt),ie(Zo(Jr)),[Jr.key,"<>",null],ie([Jr.key,"in",{type:"field",ref:Wm.passwordAuthValidatedFileKeys}])]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},XP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoPrototypeAccessIncorrectPassword";this.owner="unowned";this.applyFilter={and:[ne(bt),ie(Ho(Jr)),ie(jD(Jr))]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},zP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessOrgBannedPublicLinks";this.owner="unowned";this.applyFilter={and:[ne(bt),Ze(bt),ne(Kr),Ko(ir,Be),[Kr.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},JP=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessWorkspaceBannedPublicLinks";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(bt),Ze(bt),ne(ir),[ir.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},QP=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoViewPrototypeLinkAccess";this.owner="unowned";this.applyFilter=re([Yt("FILE_REPO","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...Sh]}},$P=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoViewLinkAccess";this.owner="unowned";this.applyFilter={and:[Yt("FILE_REPO","REPO::CAN_VIEW_LINK_ACCESS")]};this.permissions=[...Oh]}},e_=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOrgViewLinkAccessNested";this.owner="unowned";this.applyFilter={and:[pt(De),[bt.linkAccess,"in",["org_view","org_edit"]]]};this.permissions=["REPO::CAN_ORG_VIEW_LINK_ACCESS"]}},t_=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOrgEditLinkAccessNested";this.owner="unowned";this.applyFilter={and:[pt(De),[bt.linkAccess,"in",["org_edit"]]]};this.permissions=["REPO::CAN_ORG_EDIT_LINK_ACCESS"]}},r_=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOrgViewLinkAccess";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.Members of the organization with a link to the file can view the file. ";this.applyFilter={and:[pt(De),Yt("FILE_REPO","REPO::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=[...Oh]}},n_=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOrgEditLinkAccess";this.owner="unowned";this.description="FileRepo is a construct that lives on top of the File. A FileRepo always has a main file and can have branches.Members of the organization with a link to the File Repo can edit the File Repo, inclusive of the main file, branches and prototypes.  But unlike a user who is directly invited with the \u201Ccan edit\u201D role, this user cannot change link access settings on the file.";this.applyFilter={and:[pt(De),Yt("FILE_REPO","REPO::CAN_ORG_EDIT_LINK_ACCESS")]};this.permissions=[...fc]}},i_=class extends Rt{constructor(){super(...arguments);this.displayName="AllowRepoOrgPrototypeLinkAccess";this.owner="unowned";this.applyFilter={and:[pt(De),Yt("FILE_REPO","REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]};this.permissions=[...Sh]}},s_=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoNoExpirationForOrgEnforcedExpiration";this.owner="unowned";this.applyFilter={and:[ne(bt),Ze(bt),Ko(ir,Be),zm(Kr,Be),ie(Xm(qt))]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},o_=class extends Cr{constructor(){super(...arguments);this.displayName="DenyRepoNoExpirationForWorkspaceEnforcedExpiration";this.owner="unowned";this.applyFilter={and:[[Be.inExpWorkspaceLevelLinkControls,"=",!0],ne(bt),Ze(bt),zm(ir,Be),ie(Xm(qt))]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},a_=[iP,sP,oP,kP,jP,RP,PP,hP,xP,gP,mP,bP,vP,fP,EP,wP,yP,dP,OP,FP,DP,IP,SP,CP,AP,pP,cP,aP,uP,_P,TP,lP,$P,QP,LP,VP,NP,WP,GP,ZP,HP,KP,qP,MP,e_,t_,YP,zP,JP,XP,BP,UP,r_,n_,i_,s_,o_];var l_=class extends Ph{constructor(){super(...arguments);this.displayName="DenyNonOrgMemberFeedPostAccess";this.owner="unowned";this.applyFilter=ie(pt(De));this.permissions=["FEED_POST::CAN_VIEW","FEED_POST::IS_CONTAINER_MEMBER"]}},d_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowOrgContainerFeedPostViewAccess";this.owner="unowned";this.applyFilter=re([qe([[Wo.containerType,"=","org"],[Wo.containerType,"=","workspace"]])]);this.permissions=["FEED_POST::CAN_VIEW"]}},u_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowTeamContainerFeedPostViewAccess";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","team"],Yt("TEAM","TEAM::CAN_VIEW")]);this.permissions=["FEED_POST::CAN_VIEW"]}},c_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowFolderContainerFeedPostViewAccess";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","folder"],Yt("FOLDER","FOLDER::CAN_VIEW")]);this.permissions=["FEED_POST::CAN_VIEW"]}},p_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowOrgFeedPostContainerMembership";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","org"]]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},g_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowWorkspaceFeedPostContainerMembership";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","workspace"],[dn.permission,"=","member"]]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},m_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowTeamFeedPostContainerMembership";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","team"],st(nr,an)]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},b_=class extends Ns{constructor(){super(...arguments);this.displayName="AllowFolderFeedPostContainerMembership";this.owner="unowned";this.applyFilter=re([[Wo.containerType,"=","folder"],st(ln,an)]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},f_=[l_,d_,u_,c_,p_,g_,m_,b_];var y_=ke(jY()),Jm=ke(ax());var _r=class{},Vr=_r;Vr.getAllKeysInApplyFilter=e=>{if(Array.isArray(e)){if((0,Jm.default)(e[2])){let r=e[2];if(r.type!=="field"&&r.type!=="func")throw new Error("Invalid type");if(r.type=="func"){if(r.name!=="now"&&r.name!=="not_found")throw new Error("Invalid function");return[e[0]]}if(r.ref!=="now")return[e[0],r.ref]}return[e[0]]}if((0,Jm.default)(e)){let r=e;if(r!=null&&r.meta&&(r!=null&&r.expr))return _r.getAllKeysInApplyFilter(r==null?void 0:r.expr);let i=e;if(i!=null&&i.and)return(0,y_.default)(i==null?void 0:i.and.map(_r.getAllKeysInApplyFilter));let o=e;if(o!=null&&o.or)return(0,y_.default)(o==null?void 0:o.or.map(_r.getAllKeysInApplyFilter));let s=e;if(s!=null&&s.not)return _r.getAllKeysInApplyFilter(s==null?void 0:s.not)}throw new Error("Unhandled type in ExpressionDef")},Vr.getPolicyLoadPlan=e=>{let r=_r.getAllKeysInApplyFilter(e),i={},o={};return r.forEach(s=>{i[s.table.name]||(i[s.table.name]=new Set),i[s.table.name].add(s)}),Object.keys(i).forEach(function(s){o[s]=Array.from(i[s].values())}),o},Vr.compile=(e,r)=>(_r.hasChildExprWithDebugSymbol(e.applyFilter,r)&&(e.debug=!0),{...e,compiledApplyFilter:_r.getCompiledApplyFilter(e.applyFilter,r)}),Vr.getCompiledApplyFilter=(e,r,i)=>{if(Array.isArray(e)){if(e[1]==="hasPermission"){i={type:"macro",name:e[1].toString(),meta:`${e[2].toString()} ON ${e[0].toString()}`};let o=r.filter(g=>g.permissions.includes(e[2])),s=o.filter(g=>g.effect==="DENY"),l=o.filter(g=>g.effect==="ALLOW"),u=s.map(g=>{let p={type:"policy",name:g.displayName,meta:""};return _r.getCompiledApplyFilter(g.applyFilter,r,p)}),c=l.map(g=>{let p={type:"policy",name:g.displayName,meta:""};return _r.getCompiledApplyFilter(g.applyFilter,r,p)});if(c.length===0)throw new Error("Permission does not have any allow policies");return u.length===0?{expr:{or:c},meta:i}:{expr:{and:[{not:{or:u}},{or:c}]},meta:i}}return e}if((0,Jm.default)(e)){let o=e;if(o!=null&&o.meta&&(o!=null&&o.expr))return{expr:_r.getCompiledApplyFilter(o.expr,r,i),meta:o.meta};if(i)return e={expr:e,meta:i},_r.getCompiledApplyFilter(e,r);let s=e;if(s!=null&&s.and)return{and:s==null?void 0:s.and.map(c=>_r.getCompiledApplyFilter(c,r))};let l=e;if(l!=null&&l.or)return{or:l==null?void 0:l.or.map(c=>_r.getCompiledApplyFilter(c,r))};let u=e;if(u!=null&&u.not)return{not:_r.getCompiledApplyFilter(u==null?void 0:u.not,r)}}throw new Error(`Invalid filter with value: ${e}`)},Vr.hasChildExprWithDebugSymbol=(e,r)=>{if(Array.isArray(e))return e[1]==="hasPermission"?r.filter(o=>o.permissions.includes(e[2])).some(o=>o.debug?!0:_r.hasChildExprWithDebugSymbol(o.applyFilter,r)):!1;if((0,Jm.default)(e)){let i=e;if(i!=null&&i.meta&&(i!=null&&i.expr))return _r.hasChildExprWithDebugSymbol(i.expr,r);let o=e;if(o!=null&&o.and)return o==null?void 0:o.and.some(u=>_r.hasChildExprWithDebugSymbol(u,r));let s=e;if(s!=null&&s.or)return s==null?void 0:s.or.some(u=>_r.hasChildExprWithDebugSymbol(u,r));let l=e;if(l!=null&&l.not)return _r.hasChildExprWithDebugSymbol(l==null?void 0:l.not,r)}throw new Error(`Invalid filter with value: ${e}`)};var UY=t=>t.toLowerCase().replace(/^[a-z]/,function(e){return e.toUpperCase()}).replace(/_([a-z])/g,function(e){return e[1].toUpperCase()}),MY=t=>t.split("::").map(UY).join(""),LY=(t,e,r,i=!1,o=null)=>{let s=r.toString().split("::"),l=UY(s[1]).replace(/^[A-Z]/,g=>g.toLowerCase()),u={userId:b("userId")};i&&(u.sessionId=b("sessionId"));let c=$(o||l,[u,n]);return{args:[{name:e,type:{kind:"string"}}],props:{sheddable:!1},fields:{[t]:[{[e]:h(e),userId:b("userId")},{hasPermission:c}]}}};var Oc=ke(ax()),VY,X_e=typeof process!="undefined"&&((VY=process==null?void 0:process.env)==null?void 0:VY.DEBUG_PERMS),BY=(c=>(c.equals="=",c.notEquals="<>",c.in="in",c.includes="includes",c.gt=">",c.lt="<",c.gte=">=",c.lte="<=",c))(BY||{});var I_=class extends Error{constructor(e){super(`Unreachable case: ${JSON.stringify(e)}`)}};function z_e(t,e){return Object.values(t).includes(e)?e:void 0}var wn=class{static evaluateOperation(e,r,i){let o=r,s=i;switch(e){case"=":return r===i;case"<>":return r!==i;case"in":return Array.isArray(i)?i.includes(r):!1;case"includes":return Array.isArray(r)?r.includes(i):!1;case">":return o>s;case"<":return o<s;case">=":return o>=s;case"<=":return o<=s;default:throw new I_(e)}}},zo=wn;zo.hydrateAndEvaluatePolicy=function(e,r,i={}){var p;let s=Object.assign({serialization:"sinatra",notLoadedPaths:[],shouldTreatNotLoadedAsNull:!1},i),{serialization:l,notLoadedPaths:u,shouldTreatNotLoadedAsNull:c}=s,g=e;if(g!=null&&g.meta)return e=g.expr,wn.hydrateAndEvaluatePolicy(e,r,s);if((0,Oc.default)(e)){let f=e;if(f!=null&&f.and){let C=!1;for(let F of f.and){let P=wn.hydrateAndEvaluatePolicy(F,r,s).result;if(P===!1)return{result:!1,notLoadedPaths:u};C=C||P===null}return{result:C?null:!0,notLoadedPaths:u}}let I=e;if(I!=null&&I.or){let C=!1;for(let F of I.or){let P=wn.hydrateAndEvaluatePolicy(F,r,s).result;if(P)return{result:!0,notLoadedPaths:u};C=C||P===null}return{result:C?null:!1,notLoadedPaths:u}}let v=e;if(v!=null&&v.not){let C=wn.hydrateAndEvaluatePolicy(v==null?void 0:v.not,r,s).result;return{result:C===null?null:!C,notLoadedPaths:u}}throw new Error("Unhandled type in ExpressionDef")}if(Array.isArray(e)){if(e.length!==3)throw new Error("Unhandled number of arguments.");let f=e[1],I=z_e(BY,f);if(I==null)throw new Error(`Unhandled operation in ExpressionDef: ${I}`);let v=wn.getValueFromData(e[0],r,l),C=wn.getValueFromRefOrLiteral(e[2],r,l);if(v==="::PENDING_LOAD::")if(e[0]instanceof nl&&u.push(e[0].serialize("sinatra")),c)v=null;else return{result:null,notLoadedPaths:u};if(C==="::PENDING_LOAD::"){let F=(p=e[2])==null?void 0:p.ref,P=F!=null&&F.name?F.serialize("sinatra"):JSON.stringify(e[2]);if(u.push(P),c)C=null;else return{result:null,notLoadedPaths:u}}if(wn.isValueOrArgRef(e[2])&&v===null&&C===null)return{result:null,notLoadedPaths:u};if(!["=","<>"].includes(I)&&(v===null||C==null))return{result:!1,notLoadedPaths:u};if(!["=","<>","in","includes"].includes(I)){if(typeof v!="number")throw new Error(`Argument \`${v==null?void 0:v.toString()}\` is not a number`);if(typeof C!="number")throw new Error(`Argument: \`'${C==null?void 0:C.toString()}\` is not a number`)}return{result:wn.evaluateOperation(I,v,C),notLoadedPaths:u}}throw new Error("Unhandled type in ExpressionDef")},zo.exprContainsFeatureFlag=function(e){if((0,Oc.default)(e)){let r=e;if(r!=null&&r.and)return r.and.some(s=>wn.exprContainsFeatureFlag(s));let i=e;if(i!=null&&i.or)return i.or.some(s=>wn.exprContainsFeatureFlag(s));let o=e;if(o!=null&&o.not)return wn.exprContainsFeatureFlag(o==null?void 0:o.not);throw new Error("Unhandled type in ExpressionDef")}if(Array.isArray(e)){if(e.length!==3)throw new Error("Unhandled number of arguments.");let r=e[0];return r.table.name==="session_arguments"&&r.name==="feature_flags"}throw new Error("Unhandled type in ExpressionDef")},zo.getValueFromData=function(e,r,i){let o,s=null;typeof e=="string"?o=e:(o=e.serialize(i),s=e.table.serialize("livegraph"));let l=o.split("."),u=l[0];if(!Object.prototype.hasOwnProperty.call(r,u)){if(X_e){let g=s?`in table \`${s}\` `:"";console.log(`\x1B[31m[Figma::Permissions Missing Field] Field \`${u}\` is missing ${g}for the following object: ${JSON.stringify(r)}`)}return"::PENDING_LOAD::"}let c=r[u];return c==="::PENDING_LOAD::"?"::PENDING_LOAD::":l.length>1?r[u]&&typeof r[u]=="object"?wn.getValueFromData(l.slice(1).join("."),c,i):null:c instanceof Date&&(c!=null&&c.getTime)?Math.floor(c.getTime()/1e3):(0,Oc.default)(c)?null:c!=null?c:null},zo.isValueOrArgRef=function(e){return!(!(0,Oc.default)(e)||Array.isArray(e))},zo.getValueFromRefOrLiteral=function(e,r,i){if(!(0,Oc.default)(e)||Array.isArray(e))return e;let o=e,s=0;if(o.type==="field")return o.ref==="now"?(o.offset&&(s=o.offset),Math.floor(Date.now()/1e3)+s):wn.getValueFromData(o.ref,r,i);let l=e;if(l.type==="func"&&l.name==="now")return o.offset&&(s=o.offset),Math.floor(Date.now()/1e3)+s;throw new Error("Unsupported ArgumentRef type: ${argRef.type}")};var axt=ax();var Q_e=[...XD,...cR,...kR,...wj,...MD,...Gj,...$j,...nP,...a_,...f_],Gs=Q_e.map(t=>new t),$_e=XD.map(t=>Vr.compile(new t,Gs)),eTe=cR.map(t=>Vr.compile(new t,Gs)),tTe=kR.map(t=>Vr.compile(new t,Gs)),rTe=wj.map(t=>Vr.compile(new t,Gs)),nTe=MD.map(t=>Vr.compile(new t,Gs)),iTe=Gj.map(t=>Vr.compile(new t,Gs)),sTe=$j.map(t=>Vr.compile(new t,Gs)),oTe=nP.map(t=>Vr.compile(new t,Gs)),aTe=a_.map(t=>Vr.compile(new t,Gs)),lTe=f_.map(t=>Vr.compile(new t,Gs)),J_e=[...nTe,...$_e,...eTe,...tTe,...rTe,...iTe,...sTe,...oTe,...aTe,...lTe];var dTe=Qm("file","key",Rm,["FILE::CAN_ADMIN","FILE::IS_OWNER","FILE::CAN_VIEW_METADATA","FILE::CAN_ACCESS_FILE_THROUGH_API","FILE::CAN_BE_MENTIONED_IN_COMMENT","FILE::CAN_MODIFY_ROLES","FILE::HAS_ROLE_ACCESS","FILE::CAN_DOWNLOAD_FILE","FILE::CAN_BECOME_EDITOR","FILE::CAN_BECOME_EDITOR_IGNORE_PAID_STATUS","FILE::CAN_GAIN_VIEW","FILE::CAN_GAIN_VIEW_PROTOTYPE","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_EDIT_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_LINK_ACCESS"],new Map([["FILE::CAN_PUBLISH_TEMPLATE",{requiresSessionId:!0}],["FILE::CAN_INSERT_TEMPLATE",{requiresSessionId:!0}],["FILE::CAN_EDIT",{aliasName:"canEditV2",requiresSessionId:!0}],["FILE::CAN_VIEW",{aliasName:"canViewV2",requiresSessionId:!0}],["FILE::CAN_EDIT_CANVAS",{aliasName:"canEditCanvas",requiresSessionId:!0}],["FILE::CAN_DISCOVER",{aliasName:"canDiscover",requiresSessionId:!0}],["FILE::CAN_RENAME",{aliasName:"canRename",requiresSessionId:!0}],["FILE::CAN_DELETE",{aliasName:"canDelete",requiresSessionId:!0}],["FILE::CAN_FAVORITE",{aliasName:"canFavorite",requiresSessionId:!0}],["FILE::CAN_VIEW_PROTOTYPE",{aliasName:"canViewPrototypeV2",requiresSessionId:!0}],["FILE::CAN_VIEW_AND_CREATE_COMMENTS",{requiresSessionId:!0}],["FILE::CAN_MOVE_COMMENTS",{requiresSessionId:!0}],["FILE::CAN_EDIT_IGNORE_PAID_STATUS",{requiresSessionId:!0}],["FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD",{requiresSessionId:!0}],["FILE::CAN_ACCESS_FULL_DEV_MODE",{requiresSessionId:!0}],["FILE::IS_IN_DEV_MODE_TRIAL",{requiresSessionId:!0}],["FILE::IS_ELIGIBLE_FOR_DEV_MODE_TRIAL",{requiresSessionId:!0}],["FILE::CAN_ACCESS_DEV_MODE_ENTRY_POINT",{requiresSessionId:!0}]])),uTe=Qm("repo","id",Dm,["REPO::CAN_VIEW","REPO::CAN_ADMIN","REPO::IS_OWNER","REPO::CAN_MANAGE","REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS","REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS","REPO::CAN_ORG_VIEW_LINK_ACCESS","REPO::CAN_ORG_EDIT_LINK_ACCESS"],new Map([["REPO::CAN_VIEW_PROTOTYPE",{aliasName:"canReadV2",requiresSessionId:!0}],["REPO::CAN_EDIT",{aliasName:"canEditV2",requiresSessionId:!0}]])),cTe=Qm("project","id",Fm,[],new Map([["FOLDER::CAN_VIEW",{aliasName:"canRead"}]])),pTe=Qm("team","id",vh,["TEAM::VIEW_ROLE_ACCESS","TEAM::EDIT_ROLE_ACCESS","TEAM::ADMIN_ROLE_ACCESS"],new Map([["TEAM::CAN_VIEW",{aliasName:"canRead"}]])),gTe=Qm("org","id",Ah,["ORG::IS_ADMIN","ORG::IS_MEMBER","ORG::IS_GUEST"],new Map([]));function Qm(t,e,r,i,o){return Object.values(r).reduce((s,l)=>{if(i.includes(l))return s;let u=MY(l.toString()),c=o.get(l)||{};return s[u]=LY(t,e,l,c.requiresSessionId,c.aliasName||null),s},{})}var NY={...dTe,...uTe,...cTe,...pTe,...gTe};var R_={};ZO(R_,{AccessibleFolders:()=>KY,AccessibleFoldersV2:()=>qY,ActiveFileUsersForFileView:()=>YY,AdminNotificationsCountView:()=>zY,AdminRequestDashboardView:()=>JY,AdminSettingsSelectorView:()=>QY,AllowlistPluginsSectionView:()=>$Y,AllowlistSettingsModalView:()=>t3,AppliedColorPaletteForFile:()=>r3,ApprovedLibrariesForOrgView:()=>O4,ApprovedLibrariesView:()=>C4,AutoRunPluginsView:()=>n3,BillingTrialForResource:()=>i3,BillingTrialForResourceAndPlanType:()=>s3,BlockingPrototypeData:()=>o3,BlockingUserState:()=>a3,BranchOpenMergeRequest:()=>d3,BrowseTemplatesView:()=>u3,ChurnFrictionPersonalizedModalView:()=>c3,ColorPaletteForUuid:()=>p3,ColorPalettesForTeam:()=>g3,CommunityHubLikeForProfile:()=>m3,CommunityLibraries:()=>b3,CommunityLibraryModalAssetsData:()=>y3,CommunityLibraryStyleData:()=>AX,CommunityLibraryVariableCollectionDataWithVariables:()=>I3,CommunityPayment:()=>h3,CommunityProfileView:()=>x3,CommunityRatingHubFileView:()=>C3,CommunityRatingPluginView:()=>A3,CommunityRatingStats:()=>v3,CommunityResourceStat:()=>S3,ComponentByKey:()=>O3,ComponentUpdatesForFile:()=>R3,ComponentUpdatesForProject:()=>D3,ComponentUpdatesForTeam:()=>F3,ConfiguredUpgradeRequestModalView:()=>T3,CopyLinkFileData:()=>k3,CurrentUserAssignedWorkspaceView:()=>U3,CurrentUserFileRecentsView:()=>w3,CurrentUserFileRecentsView2:()=>E3,CurrentUserLicenseGroupAdmins:()=>FX,CurrentWorkspaceView:()=>M3,DesktopNewTabData:()=>L3,DevModeOptIn:()=>G3,DevModeOptInInfo:()=>Z3,DevModeOrgSuggestedUpgrades:()=>H3,DevModeOrgSuggestedUpgradesDismissalFlag:()=>K3,DevModeSuggestedUpgradesFlag:()=>q3,DevModeTeamSuggestedUpgrades:()=>Y3,DevModeTeamSuggestedUpgradesDismissalFlag:()=>X3,DeveloperCodeSnippet:()=>V3,DeveloperLinks:()=>B3,DeveloperRelatedLinks:()=>N3,DeveloperRelatedLinksForNode:()=>W3,DeviceTryFileView:()=>F4,DraftFilesView:()=>e5,DraftsToMoveFoldersByUserId:()=>z3,EduOffboardingData:()=>J3,EnterpriseOrgAdminOnboardingSequenceView:()=>Q3,EnterpriseOrgMetaContentView:()=>kX,EsOrgUsersView:()=>LX,ExtensionActivityLogHistoryView:()=>XY,ExtensionRequestTableView:()=>t5,FavoritesByResourceId:()=>n5,FeedPostSummary:()=>i5,FeedPostWithDetails:()=>s5,FeedPostsByFileKey:()=>o5,FeedPostsByUser:()=>a5,FeedTagFollowsByUser:()=>l5,FigmadocForNode:()=>d5,FigmadocForNode2:()=>u5,FileBrowserMigratedToSections:()=>c5,FileBrowserSearchBarData:()=>p5,FileBrowserSidebarData:()=>r5,FileByKey:()=>g5,FileByKeyForRealtimeShim:()=>m5,FileCanvasMentionsByFileKey:()=>b5,FileContext:()=>f5,FileEditRequestExistence:()=>y5,FileExpirationView:()=>I5,FileFeaturesEnabled:()=>h5,FileKeysInProject:()=>x5,FileManagePermission:()=>A5,FileOrgExtensionSettingsView:()=>e3,FilePermissions:()=>v5,FilePermissionsV2:()=>j5,FilePermittedUsers:()=>T5,FilePresenterData:()=>k5,FileSearchResult:()=>w5,FileShareModalCurrentUserPermissions:()=>_5,FileShareModalPermissionsV3:()=>P5,FileTemplateView:()=>E5,FileTilePermissions:()=>U5,FileVersions:()=>M5,FileWithCommentsAndReactions:()=>G5,FileWithPrototypeLibCppConfig:()=>z5,FileWithRoleRequests:()=>J5,FileWorkshopMode:()=>Q5,FilesForProject:()=>K5,FilesForRepo:()=>q5,FilesForTeam:()=>H5,FilesInProjectHighLimit:()=>C5,FolderCreation:()=>iX,FolderPageView:()=>rX,FolderPermissions:()=>tX,FolderSearchResult:()=>Y5,GlobalRecentFilesView:()=>$5,GlobalRecentPrototypesView:()=>eX,HubFile:()=>sX,InstalledPlugins:()=>aX,JamboardOfferRedeemedAt:()=>v4,LatestClipboardData:()=>lX,LegacySourceStyleData:()=>dX,LibraryData:()=>uX,LibraryFileSelect:()=>cX,LibraryFileSubscriptions:()=>IX,LibraryManagementData:()=>pX,LibraryModalAssetsData:()=>gX,LibraryModalVariablesData:()=>mX,LibraryModuleData:()=>bX,LibraryOrgSubscriptions:()=>fX,LibraryPublish:()=>xX,LibraryStyleData:()=>CX,LibrarySubscriptionView:()=>vX,LibraryTeamSubscriptions:()=>yX,LibraryUserSubscriptions:()=>hX,LibraryVariableCollectionData:()=>SX,LibraryVariableCollectionDataWithVariables:()=>OX,LicenseGroupCountView:()=>DX,Mobile_CommentThreadByRootComment:()=>mTe,Mobile_FavoritedFigJamBoards:()=>fTe,Mobile_FavoritedResources:()=>yTe,Mobile_FeedPostSummary:()=>TTe,Mobile_FileByKey:()=>ITe,Mobile_FileCommentThreadsByFile:()=>bTe,Mobile_FilePermissions:()=>kTe,Mobile_LastFrameSelection:()=>hTe,Mobile_OrgSummary:()=>xTe,Mobile_OrgsByUser:()=>CTe,Mobile_OrgsByUserV2:()=>ATe,Mobile_ProjectFigJamBoards:()=>vTe,Mobile_ProjectFiles:()=>STe,Mobile_RecentlyViewedPrototypes:()=>OTe,Mobile_SpacesByUser:()=>FTe,Mobile_TeamFavoritedFigJamBoards:()=>DTe,Mobile_TeamFavoritedResources:()=>RTe,Mobile_TeamProjectsWithFilesPreview:()=>jTe,Mobile_TeamSummary:()=>PTe,MoveDraftsTeamData:()=>RX,NewFileCreationBar:()=>jX,NodeStatusUsagesForFileView:()=>PX,NodeStatusUsagesForNodeView:()=>_X,NonEnterpriseOrgMetaContentView:()=>TX,OpenEditorFileData:()=>wX,OptionalFileBrowserSearchBarData:()=>EX,OrgAdminUserView:()=>MX,OrgHasWorkspacesView:()=>VX,OrgInviteModalView:()=>BX,OrgJoinRequestExistence:()=>NX,OrgSharedSettingView:()=>WX,OrgTaxIdView:()=>GX,OrgTeamSummariesView:()=>ZX,OrgTeamView:()=>HX,OrgTeamsWithSummary:()=>KX,OrgUserFlag:()=>YX,OrgWithWorkspacesPublicLinkControlsSettingView:()=>XX,OrgsByUser:()=>qX,PaginatedFigFeed:()=>zX,PendingTeamRoleRequestsByTeamId:()=>JX,PendingUserMentionByCommentView:()=>QX,PersistentLastFrameSelectionView:()=>$X,PinnedFiles:()=>ez,Plugin:()=>tz,PluginAllowlistManagementModalView:()=>rz,PluginInstall:()=>nz,PluginPreferencesView:()=>iz,PluginRequests:()=>sz,PluginSecurityFormResponse:()=>oz,PresetLibrariesView:()=>az,ProRequestUpgradeModalData:()=>lz,ProjectById:()=>dz,ProjectByIdForRealtimeShim:()=>cz,ProjectFileCount:()=>pz,ProjectNameById:()=>uz,ProjectOwnerRole:()=>nX,ProjectTilePermissions:()=>gz,ProjectsForTeam:()=>X5,PrototypeTilePermissions:()=>mz,QuickReply_CommentThreadByRootComment:()=>Z5,RepoById:()=>bz,RepoFiles:()=>yz,RepoReviewerSuggestions:()=>hz,RepoTilePermissions:()=>xz,ResolvedComments:()=>Cz,ResourceSave:()=>Az,ResourceSaves:()=>vz,RoleUpdatesForTeam:()=>Sz,RoleUpdatesForUser:()=>Oz,SearchFilterWorkspaceView:()=>Fz,SharedWithYouFile:()=>Dz,SharedWithYouFolder:()=>Rz,SharedWithYouPrototype:()=>jz,SharedWithYouRepo:()=>Pz,SharedWithYouResources:()=>_z,SharedWithYouTeam:()=>Tz,SlidesTheme:()=>S4,StarterFileEditConfirmation:()=>kz,StateGroupByKey:()=>wz,StateGroupUpdatesForFile:()=>_3,StateGroupUpdatesForProject:()=>P3,StateGroupUpdatesForTeam:()=>j3,StatsigTeamsOrderView:()=>Ez,StyleByKey:()=>Uz,SubscribedLibrariesForFile:()=>Lz,SubscriptionUpdateSloData:()=>Vz,TeamById:()=>Bz,TeamByIdForRealtimeShim:()=>Nz,TeamCreationWorkspaceView:()=>Wz,TeamFileCountsByTeamId:()=>Gz,TeamFileLimitsInfo:()=>Hz,TeamFileLimitsInfoByProject:()=>Zz,TeamPermissions:()=>Kz,TeamSettings:()=>qz,TeamTaxIdView:()=>Yz,TeamTilePermissions:()=>Xz,TeamUserStatusAndRequests:()=>Jz,ToggledDevModeSettingsView:()=>zz,UserColorProfilePreferenceView:()=>Qz,UserForRcs:()=>$z,UserForRealtimeShim:()=>o4,UserGlobalFavoritedFiles:()=>e4,UserJamboardOfferEligibility:()=>t4,UserMonetizationMetadata:()=>r4,UserNotificationBellData:()=>n4,UserRecentSharedWithYouFiles:()=>i4,UserWithTeams:()=>s4,VariableByKey:()=>a4,VariableCollectionByKey:()=>l4,VariablesByVariableCollectionKey:()=>d4,WorkspaceAdminLibrariesSectionView:()=>R4,WorkspaceAdminSettingsView:()=>u4,WorkspaceCanCreateTeamView:()=>c4,WorkspaceDefaultTeamsView:()=>x4,WorkspaceModalPluginRequests:()=>p4,WorkspaceOrgAccessView:()=>g4,WorkspacePageMembersView:()=>A4,WorkspacePermissionsView:()=>D4,WorkspaceSelectorView:()=>m4,WorkspaceSubscribedLibrariesForFile:()=>b4,WorkspaceSubscribedLibrariesForTeam:()=>f4,WorkspacesCanAdminView:()=>y4,WorkspacesDirectoryView:()=>I4,WorkspacesTableView:()=>h4});var WY={id:n,orderId:n,createdAt:n,deletedAt:n,resolvedAt:n,clientMeta:{pageId:n,nodeId:n,x:n,y:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},parentId:n,user:{id:n,handle:n,imgUrl:n},messageMetaStylized:{t:n,user:{id:n,handle:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n}},thumbnailUrl:n},GY={id:n,orderId:n,createdAt:n,deletedAt:n,resolvedAt:n,clientMeta:{pageId:n,nodeId:n,x:n,y:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},parentId:n,user:{id:n,handle:n,imgUrl:n},messageMetaStylized:{t:n,user:{id:n,handle:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n}},reactions:{id:n,emoji:n,createdAt:n,sortTimestamp:n,user:{id:n,handle:n,imgUrl:n}},attachments:{id:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,metadata:{file_name:n,dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n}}},thumbnailUrl:n};var mTe={args:[{name:"fileKey",type:{kind:"string"}},{name:"rootId",type:{kind:"bigint"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{mobileCommentThread:[{rootId:h("rootId")},{...GY}],currentUserFileFollower:[{userId:b("userId")},{unreadComments:n}]}]}};var bTe={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{mobileComments:[{parentId:null,initialPageSize:1e4},{...WY,clientMeta:{pageId:n,nodeId:n}}],currentUserCommentReadStatus:[{userId:b("userId")},{id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readComments:n,unreadComments:n}]}]}};var En={id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,resourceType:n,sidebarSectionId:n};var Ar={key:n,name:n,updatedAt:n,trashedAt:n,deletedAt:n,touchedAt:n,parentOrgId:n,teamId:n,folderId:n,thumbnailUrl:$("signedThumbnailUrl",n),editorType:n,clientMeta:n,sourceFileKey:n,libraryKey:U(),projectPath:[{userId:b("userId")},n],isFavorited:[{userId:b("userId")},n],canRename:[{userId:b("userId"),sessionId:b("sessionId")},n],canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canFavorite:[{userId:b("userId"),sessionId:b("sessionId")},n]};var fTe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{favoritedFiles:[{orgId:h("orgId")},{...En,file:$("readableWhiteboardFile",[{userId:b("userId")},{...Ar}])}]}]}};var yTe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{favoritedFiles:[{orgId:h("orgId")},{...En,file:$("readableFile",[{userId:b("userId")},{...Ar}])}],favoritedPrototypes:[{orgId:h("orgId")},{...En,prototype:$("readablePrototype",[{userId:b("userId")},{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,isFavorited:[{userId:b("userId"),orgId:h("orgId")},n],file:{key:n,name:n,folderId:n,updatedAt:n,projectPath:[{userId:b("userId")},n]}}])}]}]}};var ITe={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{...Ar,_name:n,branchMetadata:$("repo",{id:n,sourceFileName:$("name",n),deletedAt:n,trashedAt:n,sourceFileKey:$("defaultFileKey",n),hasActiveBranches:n,activeBranches:{key:n,name:n}})}]}};var hTe={props:{sheddable:!1,priority:"p1"},fields:{lastFrameSelection:[{userId:b("userId")},{id:n,fileKey:n,frameId:n,frameName:n}]}};var lx={id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,team:{orgId:n},canEdit:[{userId:b("userId")},n]},xTe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{draftsProject:lx,fileBrowserPreferences:{orderedSidebarSections:n}}],draftsProject:lx,externalRestrictedOrgId:n,teamRoles:{team:{id:n,name:n,deletedAt:n,description:n,imgUrl:n,orgId:n,orgAccess:n,roles:{id:n},currentTeamUser:[{userId:b("userId")},{createdAt:U(),designPaidStatus:n,whiteboardPaidStatus:n}]}},projectSubscriptions:{projectV2:[{userId:b("userId")},lx]},favoritedProjects:[{orgId:h("orgId")},{...En,project:$("readableProject",[{userId:b("userId")},lx])}],userSidebarSections:[{orgId:h("orgId")},{id:n,createdAt:n,name:n,orderedFavoritedResourceIds:n}],fileBrowserPreferences:{orderedSidebarSections:n},hasSharedProjects:[{orgId:h("orgId")},n]}]}};var CTe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,orgUsers:{id:n,org:[{userId:b("userId")},{id:n,name:n,imgUrl:n,figjamDisabledAt:n}],permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},guestOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},teamRoles:{team:{id:n,name:n,deletedAt:n,orgId:n}}}]}};var ATe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,externalRestrictedOrgId:n,baseOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n},teamRoles:{team:{id:n,name:n,deletedAt:n,orgId:n}}}]}};var vTe={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("projectId"),userId:b("userId")},{path:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],files:$("whiteboardFiles",{...Ar})}]}};var STe={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("projectId"),userId:b("userId")},{path:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],files:{...Ar}}]}};var OTe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentPrototypesByViewTime:{id:n,viewedAt:n,prototype:{id:n,name:n,pageId:n,deleted:n,thumbnailUrl:n,thumbnailMeta:n,file:{...Ar}}}}]}};var FTe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,externalRestrictedOrgId:n,baseOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},teamRoles:{team:{id:n,name:n,description:n,imgUrl:n,deletedAt:n,orgId:n,currentTeamUser:[{userId:b("userId")},{createdAt:U(),designPaidStatus:n,whiteboardPaidStatus:n}]},createdAt:n}}]}};var DTe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{teamUser:[{teamId:h("teamId")},{favoritedFiles:{...En,file:$("readableWhiteboardFile",[{userId:b("userId")},{...Ar}])},planlessFavoritedFiles:{...En,file:$("readableWhiteboardFile",[{userId:b("userId")},{...Ar}])}}]}]}};var ZY={id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,isFavorited:[{userId:b("userId"),orgId:null},n],file:{key:n,name:n,folderId:n,updatedAt:n,projectPath:[{userId:b("userId")},n]}},RTe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{teamUser:[{teamId:h("teamId")},{favoritedFiles:{...En,file:$("readableFile",[{userId:b("userId")},Ar])},favoritedPrototypes:{...En,prototype:$("readablePrototype",[{userId:b("userId")},ZY])},planlessFavoritedFiles:{...En,file:$("readableFile",[{userId:b("userId")},Ar])},planlessFavoritedPrototypes:{...En,prototype:$("readablePrototype",[{userId:b("userId")},ZY])}}]}]}};var jTe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{name:n,description:n,imgUrl:n,orgId:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}],projects:$("allProjects",[{userId:b("userId")},{id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],filesPartial:Ar}])}]}};var h_={id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,team:{orgId:n},canEdit:[{userId:b("userId")},n],filesPartial:Ar};var PTe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{name:n,description:n,imgUrl:n,orgId:n,currentTeamUser:[{userId:b("userId")},{createdAt:U(),designPaidStatus:n,whiteboardPaidStatus:n,draftsProject:h_}],projects:$("allProjects",[{userId:b("userId")},h_])}]}};var _Te={id:n,feedCommentId:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,uploadedAt:n,metadata:{dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n},file_name:n}},Zs={id:n,canRead:[{userId:b("userId")},n],publicUuid:n,backgroundColor:n,comments:{id:n,uuid:n,user:{id:n,handle:n,imgUrl:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},createdAt:n,reactions:{id:n,feedResourceType:n,feedResourceId:n,emoji:n,user:{id:n,handle:n,imgUrl:n},createdAt:n},attachments:_Te},content:$("processedContentV2",n),createdAt:n,creator:{id:n,handle:n,imgUrl:n},descriptionMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}},isHashtag:n},fileKey:n,pollContent:n,reactions:{id:n,feedResourceType:n,feedResourceId:n,emoji:n,user:{id:n,handle:n,imgUrl:n},createdAt:n},title:n,containerId:n,containerTypeEnum:n,org:{id:n,name:n},workspace:{name:n},team:{name:n},project:{path:n}};var TTe={args:[{name:"postId",type:{kind:"bigint"}}],fields:{mobileFeedPost:[{id:h("postId")},{...Zs,currentUserIsFollowing:$("currentUserIsFollowingV2",[{userId:b("userId")},n]),numComments:n,views:{createdAt:n,user:{handle:n,id:n,imgUrl:n}}}]}};var ol={id:n,requesterUserId:n,status:n,level:n,requesterUser:{id:n,handle:n,imgUrl:n,email:n}};var kTe={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEditCanvas:[{userId:b("userId"),sessionId:b("sessionId")},n],canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:$("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],hasViewRole:[{userId:b("userId")},n],roles:$("readableRoles",[{userId:b("userId")},{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n}}]),fileRoleRequests:ol}]}};var HY={fileBrowserPreferences:{id:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,sectionType:n,teamId:n,orderedFolderIds:n},orgUsers:{orgId:n,fileBrowserPreferences:{id:n,orgId:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n}}},KY={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,...HY,handle:n,email:n,imgUrl:n,name:n,studentValidatedAt:n,projectRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,project:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n]}},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,studentTeamAt:n,studentAutoverifyingTeamAt:n,gracePeriodEnd:n,trialPeriodEnd:n,projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],projects:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n]},experimentSeed:n,experimentAssignments:{experimentId:n,treatmentId:n}}},allOrgUsers:{id:n,orgId:n,userId:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,permission:n,draftsFolderId:n,updatedAt:n,disabledAt:n,createdAt:n,user:{id:n,name:n,email:n,imgUrl:n,handle:n}}}]}},qY={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:U([{id:h("orgId"),userId:b("userId")},{teams:[{userId:b("userId")},{id:n,createdAt:n,deletedAt:n,name:n,imgUrl:n,restrictionsList:n,subscription:n,studentTeamAt:n,gracePeriodEnd:n,workspaceId:n,currentTeamUser:[{userId:b("userId")},{id:n,draftsFolderId:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgId:n,licenseGroupId:n,trialPeriodEnd:n,orgAccess:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],canAdmin:U([{userId:b("userId")},n]),canEdit:U([{userId:b("userId")},n]),sharingAudienceControlComputed:U(),allProjects:U([{userId:b("userId")},{id:n,orgId:n,teamId:n,path:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:U([{userId:b("userId")},n]),subscription:[{userId:b("userId")},{id:n}],createdAt:n,updatedAt:n,deletedAt:n,description:n}]),licenseGroup:U({id:n,name:n})}]}]),currentUser:[{userId:b("userId")},{id:n,...HY,handle:n,email:n,imgUrl:n,name:n,studentValidatedAt:n,draftsProject:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n,ownerRole:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n}},projectEditRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,project:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n}},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,name:n,imgUrl:n,restrictionsList:n,subscription:n,studentTeamAt:n,gracePeriodEnd:n,workspaceId:n,currentTeamUser:[{userId:b("userId")},{id:n,draftsFolderId:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgId:n,licenseGroupId:n,trialPeriodEnd:n,orgAccess:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],allProjects:U([{userId:b("userId")},{id:n,orgId:n,teamId:n,path:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:U([{userId:b("userId")},n]),subscription:[{userId:b("userId")},{id:n}],createdAt:n,updatedAt:n,deletedAt:n,description:n}])}},teamEditRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,imgUrl:n,studentTeamAt:n,studentAutoverifyingTeamAt:n,licenseGroupId:n,workspaceId:n,gracePeriodEnd:n,trialPeriodEnd:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,projects:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n},currentTeamUser:[{userId:b("userId")},{id:n,designPaidStatus:n,whiteboardPaidStatus:n,draftsFolderId:n}],experimentSeed:n,experimentAssignments:{experimentId:n,treatmentId:n}}},allOrgUsers:{id:n,orgId:n,userId:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,permission:n,draftsFolderId:n,org:{id:n,name:n,imgUrl:n},draftsProject:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n,ownerRole:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n}},updatedAt:n,disabledAt:n,createdAt:n,user:{id:n,name:n,email:n,imgUrl:n,handle:n}}}]}};var YY={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,activeFileUsers:[{},{id:n,handle:n,imageUrl:n}]}]}};var XY={args:[{name:"orgId",type:{kind:"bigint"}},{name:"actedOnIdOrKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{activityLogByActedOnId:[{actedOnIdOrKey:h("actedOnIdOrKey"),userId:h("userId")},{id:n,actorId:n,actor:{name:n,imgUrl:n,email:n},teamId:n,createdAt:n,eventName:n,orgId:n,metadata:n,actedOnType:n,actedOnIdOrKey:n}]}]}};var zY={args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"filterParams",type:{kind:"string"},nullable:!0}],props:{sheddable:!0},fields:{adminRequestDashboardTotalRowCount:U([{userId:b("userId"),planType:h("planType"),planId:h("planId"),filterParams:h("filterParams")},{rowCount:n}])}};var JY={args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"sortOrder",type:{kind:"string"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],props:{sheddable:!0},fields:{adminRequestDashboardRows:[{userId:b("userId"),planType:h("planType"),planId:h("planId"),sortOrder:h("sortOrder"),filterParams:h("filterParams"),firstPageSize:h("firstPageSize")},{id:n,userId:n,request:U($("requestNullable",{message:n,createdAt:n,licenseType:n,status:n})),user:U($("userNullable",{name:n,handle:n,imgUrl:n,email:n,profile:{jobTitle:n}}))}],adminRequestDashboardRowCount:[{userId:b("userId"),planType:h("planType"),planId:h("planId"),filterParams:h("filterParams")},{rowCount:n}]}};var QY={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{id:n,permission:n,workspace:{id:n,name:n,imgUrl:n}}}]}]}};var $Y={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:h("orgId")},{widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n,publicPluginsAllowed:n,allowlistedPlugins:$("whitelistedPlugins",{id:n,pluginId:n,plugin:{id:n,publishingStatus:n,currentPluginVersion:{iconUrl:n,name:n,description:n,tagline:n},isWidget:n},createdAt:n,allowlistGroupType:n,allowlistedOrg:{id:n,name:n},allowlistedWorkspace:{id:n,name:n}})}]}};var e3={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:U([{key:h("fileKey"),userId:b("userId")},{id:n,key:n,name:n,team:{workspace:{id:n,name:n}},org:{id:n,name:n,widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n,publicPluginsAllowed:n,allowlistedPlugins:$("whitelistedPlugins",{id:n,pluginId:n,plugin:{id:n,currentPluginVersion:{iconUrl:n,name:n,description:n,tagline:n},isWidget:n},createdAt:n,allowlistGroupType:n,allowlistedOrg:{id:n,name:n},allowlistedWorkspace:{id:n,name:n}})}}])}};var t3={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:h("orgId")},{widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n,publicPluginsAllowed:n,widgetRequestsAllowed:n,pluginRequestsAllowed:n}]}};var r3={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{defaultColorPaletteData:{colorPaletteUuid:n,colorPalette:{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}},userColorPaletteOverrideData:[{userId:b("userId")},{colorPaletteUuid:n,colorPalette:{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}}]}]}};var al={id:n,currentPluginVersionId:n,publishingStatus:n,isWidget:n,orgId:n,approvedAt:n,approvalStatus:n,communityPublishers:{isPending:n,profile:{id:n,profileHandle:n,user:{id:n,name:n},team:{id:n,name:n},org:{id:n,name:n}},role:n},currentPluginVersion:{id:n,name:n,version:n,releaseNotes:n,description:n,tagline:n,creatorPolicy:n,manifest:n,createdAt:n,iconPath:n,coverImagePath:n,codePath:n,plugin:{currentPluginVersionId:n},iconUrl:n,coverImageUrl:n}};var n3={args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0}],fields:{pluginPreferences:[{currentUserId:b("userId"),targetOrgId:h("targetOrgId"),targetUserId:h("targetUserId")},{autoRunPluginId:n,autoRunBehavior:n,orgId:n,autoRunPlugin:al,autoRunEnabled:n}]}};var i3={args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}}],fields:{billingTrialForResource:[{resourceId:h("resourceId"),resourceType:h("resourceType")},{id:n,createdAt:n,updatedAt:n,deactivatedAt:n,trialPeriodStart:n,trialPeriodEnd:n,resourceType:n,resourceId:n,planType:n,metadata:n}]}};var s3={args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}}],fields:{billingTrialForResourceAndPlanType:[{resourceId:h("resourceId"),resourceType:h("resourceType"),planType:h("planType")},{id:n,createdAt:n,updatedAt:n,deactivatedAt:n,trialPeriodStart:n,trialPeriodEnd:n,resourceType:n,resourceId:n,planType:n,metadata:n}]}};var o3={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,name:n,updatedAt:n,teamId:n,folderId:n,editorType:n,canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:$("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],linkAccess:n,protoLinkAccess:n}]}};var a3={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{userFlags:{id:n,name:n,userId:n,createdAt:n,updatedAt:n}}]}};var l3={id:n,key:n,fileRepoId:n,branchFileKey:n,reviewNumber:n,title:n,description:n,fileMergeId:n,closedAt:n,requestedAt:n,createdAt:n,owner:{id:n,handle:n,imgUrl:n},reviewers:{id:n,approvedAt:n,changesRequestedAt:n,notes:n,userId:n,user:{id:n,handle:n,imgUrl:n}}},d3={args:[{name:"branchFileKey",type:{kind:"string"}}],fields:{file:[{key:h("branchFileKey"),userId:b("userId")},{name:n,trashedAt:n,sourceFile:{name:n},fileMerges:{direction:n,mergeResultCheckpointId:n,updatedAt:n,mergeRequest:l3},openMergeRequest:{id:n,mergeRequest:l3}}]}};var u3={args:[{name:"currentOrgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{privilegedOrgUser:[{orgId:h("currentOrgId")},{licenseGroupMember:{licenseGroup:{id:n}},workspaceUsers:{workspaceId:n,isMainWorkspace:n}}],orgAwareTeamRoles:[{orgId:h("currentOrgId")},{team:{id:n}}]}]}};var c3={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,editorsCount:n,projectsCount:n,editorsWhiteboardCount:n,editorsTotalUniqueCount:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n},sampledEditors:{designPaidStatus:n,whiteboardPaidStatus:n,user:{id:n,name:n,imgUrl:n,handle:n}}}]}};var p3={args:[{name:"uuid",type:{kind:"uuid"}}],fields:{colorPaletteForUuid:[{uuid:h("uuid")},{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}]}};var g3={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{colorPalettesForTeam:[{teamId:h("teamId")},{id:n,teamId:n,name:n,baseColors:n,creatorId:n,uuid:n,isTeamDefault:n}]}};var m3={args:[{name:"profileId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0}],fields:{communityHubLike:[{profileId:h("profileId"),hubFileId:h("hubFileId"),pluginId:h("pluginId")},{id:n}]}};var b3={props:{sheddable:!0},args:[{name:"hubFileIds",type:{kind:"list",ofType:{kind:"bigint"}}}],fields:{communityLibraryByHubFileIds:[{hubFileIds:h("hubFileIds")},{hubFileId:n,name:n,numComponents:n,numStateGroups:n,numStyles:n,numVariables:n,numVariableSets:n,numModuleAssets:U(),hubFile:{thumbnailUrl:n}}]}};var f3={id:n,name:n};var ll={checkpoint:{key:n},variableThumbnailsUrl:n,modes:f3,isExtendable:U(),version:n,description:n,id:n,key:n,name:n,nodeId:n,unpublishedAt:n};var Fc={...ll,numVariables:n};var y3={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{communityLibraryByHubFileId:U([{hubFileId:h("hubFileId")},{numVariables:n,variableCollections:Fc}])}};var x_={version:n,description:n,id:n,key:n,name:n,nodeId:n,unpublishedAt:n,variableType:n,sortPosition:n,scopes:n},dx={...x_,variableCollection:{key:n,version:n,nodeId:n,checkpoint:{key:n}}};var dl={...ll,variables:dx};var I3={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{file:U($("communityLibraryByHubFileId",[{hubFileId:h("hubFileId")},{hubFileId:n,variableCollections:dl,numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n}]))}};var h3={args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],fields:{communityResourcePayment:[{userId:b("userId"),monetizedResourceMetadataId:h("monetizedResourceMetadataId")},{status:n,subscriptionExpiresAt:n,subscriptionCanceledAt:n,purchasedAt:n,refundReason:n,monetizedResourceMetadataId:n,subscriptionInterval:n}]}};var x3={args:[{name:"profileId",type:{kind:"bigint"}}],fields:{communityProfile:[{profileId:h("profileId")},{id:n,createdAt:n,updatedAt:n,name:n,profileHandle:n,publicAt:n,website:n,description:n,location:n,coverImagePath:n,twitter:n,instagram:n,followerCount:n,followingCount:n,primaryUserId:n,teamId:n,orgId:n,pronouns:n,entityType:n,currentUser:[{userId:b("userId")},{id:n}],associatedUsers:{id:n,email:n},currentUserIsFollowing:[{userId:b("userId")},n],currentUserIsFollowed:[{userId:b("userId")},n],badges:{badgeType:n}}]}};var C3={args:[{name:"hubFileId",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}}],fields:{communityRatingForProfileAndResource:[{pluginId:null,hubFileId:h("hubFileId"),profileId:h("profileId")},{id:n,profileId:n,resourceVersionId:n,hubFileId:n,createdAt:n,editedAt:n,ratingValue:n,message:n,communityMessageMeta:{t:n,profileId:n,link:n,styles:n,children:{children:{t:n,profileId:n,link:n,styles:n}}}}],hubFile:[{id:h("hubFileId"),userId:b("userId")},{canRate:[{userId:b("userId"),profileId:h("profileId")},n]}]}};var A3={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{communityRatingForProfileAndResource:[{hubFileId:null,pluginId:h("pluginId"),profileId:h("profileId")},{id:n,profileId:n,resourceVersionId:n,pluginId:n,createdAt:n,editedAt:n,ratingValue:n,message:n,communityMessageMeta:{t:n,profileId:n,link:n,styles:n,children:{children:{t:n,profileId:n,link:n,styles:n}}}}],plugin:[{pluginId:h("pluginId"),userId:b("userId"),orgId:null},{canRate:[{userId:b("userId"),profileId:h("profileId")},n]}]}};var C_={id:n,oneStars:n,twoStars:n,threeStars:n,fourStars:n,fiveStars:n,totalRatings:n,avgRating:n,createdAt:n,updatedAt:n},v3={args:[{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0}],fields:{communityRatingStatsForHubFile:[{hubFileId:h("hubFileId")},{...C_,hubFileId:n}],communityRatingStatsForWidget:[{widgetId:h("widgetId")},{...C_,widgetId:n}],communityRatingStatsForPlugin:[{pluginId:h("pluginId")},{...C_,pluginId:n}]}};var S3={args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],fields:{communityM10nResourceStat:[{sessionUserId:b("userId"),monetizedResourceMetadataId:h("monetizedResourceMetadataId")},{id:n,monetizedResourceMetadataId:n,allTimeTotalEarned:n,monthlyTotalEarned:n,numPurchases:n}]}};var Dc={backgroundColor:n,name:n,nodeId:n,pageId:n,pageName:n};var ux={componentKey:n,containingFrame:{...Dc,containingStateGroup:{nodeId:n,name:n}},contentHash:n,description:n,description_rt:n,id:n,minNodeHeight:n,minNodeWidth:n,name:n,nodeId:n,thumbnailUrl:n,unpublishedAt:n};var O3={args:[{name:"key",type:{kind:"string"}}],fields:{component:[{componentKey:h("key"),userId:b("userId")},{...ux,file:{key:n,name:n,teamId:n,libraryKey:U()}}]}};var cx={id:n,componentUpdates:{id:n,updateType:n,updatedAt:n,destinationKey:n,fileKey:n,nodeId:n,componentKey:n,component:{fileKey:n,file:{teamId:n},checkpointId:n,unpublishedAt:n,name:n,nodeId:n,contentHash:n,description:n,description_rt:n,componentKey:n,destinationKey:n,minNodeWidth:n,minNodeHeight:n,containingFrame:{name:n,nodeId:n,backgroundColor:n,pageId:n,pageName:n,containingStateGroup:{nodeId:n,name:n}},id:n,updatedAt:n,hubFileId:n}}};var F3={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:U([{id:h("teamId"),userId:b("userId")},{...cx}])}},D3={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:U([{id:h("projectId"),userId:b("userId")},{...cx}])}},R3={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:U([{key:h("fileKey"),userId:b("userId")},{...cx,key:n}])}};var px={id:n,stateGroupUpdates:{id:n,updateType:n,updatedAt:n,destinationKey:n,fileKey:n,nodeId:n,key:n,stateGroup:{fileKey:n,file:{teamId:n},nodeId:n,key:n,checkpointId:n,fileCheckpointId:n,version:n,containingFrame:{name:n,nodeId:n,backgroundColor:n,pageId:n,pageName:n},minNodeWidth:n,minNodeHeight:n,name:n,description:n,createdAt:n,updatedAt:n,unpublishedAt:n,fillColor:n,defaultStateKey:n,destinationKey:n,fullHierarchyPath:n,libraryHierarchyPathId:n,description_rt:n,hubFileId:n}}};var j3={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:U([{id:h("teamId"),userId:b("userId")},{...px}])}},P3={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:U([{id:h("projectId"),userId:b("userId")},{...px}])}},_3={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:U([{key:h("fileKey"),userId:b("userId")},{...px,key:n}])}};var T3={args:[{name:"orgId",type:{kind:"bigint"}},{name:"permission",type:{kind:"string"}}],fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("orgId")},{org:{name:n,imgUrl:n,sharedOrgLicenseGroupSetting:{id:n,configuredUpgradeRequestSetting:n,permittedConfiguredUpgradeRequestMessage:[{orgId:h("orgId"),permission:h("permission")},n]}}}]}]}};var k3={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{name:n,fileRepoId:n,sourceFileKey:n,key:n,linkAccess:n,protoLinkAccess:n,orgAudience:n,orgBrowsable:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,teamId:n,editorType:n,repo:{name:n,defaultFileKey:n,linkAccess:n,protoLinkAccess:n,orgAudience:n,orgBrowsable:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,teamId:n},org:{id:n,name:n,domainCapture:n,workshopDisabledAt:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},sharedOrgLicenseGroupSetting:{autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},bigmaEnabledAt:n},project:[{userId:b("userId")},{path:n,teamId:n,inviteOnlyAt:n}],team:{name:n,canRead:[{userId:b("userId")},n],orgAccess:n}}]}};var w3={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,name:n,email:n,recentFiles:[{userId:b("userId")},{id:n,userId:n,action:n,fileKey:n,actionAt:n,file:{id:n,name:n,key:n,editorType:n,parentOrgId:n,deletedAt:n,trashedAt:n,repo:{id:n,name:n,defaultFileKey:n}}}]}]}};var E3={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:U([{userId:b("userId")},{id:n,name:n,email:n,recentFiles2:[{userId:b("userId")},{id:n,userId:n,action:n,fileKey:n,actionAt:n,file:{id:n,name:n,key:n,editorType:n,parentOrgId:n,deletedAt:n,trashedAt:n,repo:{id:n,name:n,defaultFileKey:n}}}]}])}};var U3={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{isMainWorkspace:n,workspaceId:n,permission:n,createdAt:n}}]}]}};var M3={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1},fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,team:{workspace:{id:n,name:n}}}]}};var L3={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,favoritedFiles:[{orgId:h("currentOrgId")},{id:n,file:$("readableFile",[{userId:b("userId")},{id:n,key:n}])}],favoritedPrototypes:[{orgId:h("currentOrgId")},{id:n,prototype:$("readablePrototype",[{userId:b("userId")},{id:n}])}]}]}};var V3={args:[{name:"key",type:{kind:"string"}},{name:"platform",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{developerCodeSnippet:[{key:h("key"),platform:h("platform")},{id:n,key:n,code_snippet:n,platform:n,updatedAt:n,createdAt:n,last_updated_by:n}]}};var B3={args:[{name:"key",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{developerLinks:[{key:h("key")},{id:n,key:n,linkName:n,linkUrl:n}]}};var gx={id:n,nodeId:n,fileKey:n,linkName:n,linkUrl:n,linkPreviewJson:n,isUserOverride:n};var N3={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{developerRelatedLinks:gx}]}};var W3={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{developerRelatedLinksForNode:[{nodeId:h("nodeId")},gx]}]}};var G3={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{id:n,devModeOptInPlanProperty:{id:n,value:n}}]}};var Z3={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{id:n,devModeOptInPlanProperty:{id:n,value:n},devModeAccountTypeRequests:{id:n}}]}};var H3={args:[{name:"planId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{devModeSuggestedUpgrades:U([{userId:b("userId"),planType:"Org",planId:h("planId"),limit:null},{id:n,lastUsedAt:n,orgUser:$("privilegedOrgUser",{user:{id:n,name:n,imgUrl:n,profile:{jobTitle:n}},designPaidStatus:n,devModePaidStatus:n})}])}};var K3={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{currentUser:U([{userId:b("userId")},{id:n,privilegedOrgUser:[{orgId:h("orgId")},{id:n,orgUserFlag:[{eventType:"dev_mode_suggested_upgrade_dismissed"},{id:n}]}]}])}};var q3={args:[{name:"planId",type:{kind:"bigint"}},{name:"planType",type:{kind:"string"}}],props:{sheddable:!0},fields:{devModeSuggestedUpgrades:U([{userId:b("userId"),planType:h("planType"),planId:h("planId"),limit:1},{id:n}])}};var Y3={args:[{name:"planId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{devModeSuggestedUpgrades:U([{userId:b("userId"),planType:"Team",planId:h("planId"),limit:null},{id:n,lastUsedAt:n,teamUser:{user:{id:n,name:n,imgUrl:n,profile:{jobTitle:n}},designPaidStatus:n}}])}};var X3={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{currentUser:U([{userId:b("userId")},{id:n,teamUser:[{teamId:h("teamId")},{id:n,teamUserEvents:[{eventType:"dev_mode_suggested_upgrade_dismissed"},{id:n}]}]}])}};var z3={fields:{currentUser:[{userId:b("userId")},{id:n,draftsFolderId:n,guestBaseOrgUsers:{id:n,orgId:n,draftsFolderId:n}}]}};var J3={fields:{currentUser:[{userId:b("userId")},{eduPeriodEnd:n,schoolType:U(n)}]}};var Q3={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{bigmaEnabledAt:n,workspaces:{createdAt:n},licenseGroups:{id:n}}]}};var Rc={branchCheckpointId:n,clientMeta:$("checkpointClientMeta",n),createdAt:n,creatorId:n,deletedAt:n,description:n,editUrl:n,editorType:n,fileRepoId:n,folderId:n,handoffUrl:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,isFavorited:[{userId:b("userId")},n],isTeamTemplate:n,isTryFile:n,key:n,lastPublishedAt:n,license:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,prototypeUrl:n,scheme:n,sourceCheckpointId:n,sourceFileKey:n,teamId:n,thumbnailGuid:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:$("signedThumbnailUrlOverride",n),touchedAt:n,trackTags:{isTemplate:n,starterLibrarySrcFileKey:n,source:U(),figmaBasicsExperiment:U(),defaultLibraryFileTreatmentId:U(),migratedFromDraftsFolderId:U()},trashedAt:n,trashedUserId:n,updatedAt:n,url:n,viewerExportRestricted:n,repo:{createdAt:n,defaultFileKey:n,deletedAt:n,folderId:n,id:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,teamId:n,trashedAt:n,updatedAt:n}};var $3={createdAt:n,deletedAt:n,description:n,id:n,isInviteOnly:n,isSubscribed:[{userId:b("userId")},n],isViewOnly:n,isFavorited:[{userId:b("userId")},n],name:n,orgId:n,parentPath:n,path:n,scheme:n,sharingAudienceControl:$("sharingAudienceControlComputed",n),teamId:n,updatedAt:n,viewOnlyAt:n,roles:{createdAt:n,id:n,isShared:n,level:n,pending:n,pendingEmail:n,resourceId:n,resourceType:n,teamId:n,updatedAt:n,userId:n,user:{handle:n,id:n,imgUrl:n}}};var e5={args:[{name:"draftsFolderId",type:{kind:"bigint"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sortOrder",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},nullable:!0}],props:{sheddable:!1},fields:{currentUser:[{userId:b("userId")},{id:n,draftFiles:[{userId:b("userId"),draftsFolderId:h("draftsFolderId"),cursorColumn:h("cursorColumn"),sortOrder:h("sortOrder"),firstPageSize:h("firstPageSize"),editorType:h("editorType")},{id:n,key:n,createdAt:n,updatedAt:n,name:n,file:{...Rc}}]}],project:[{userId:b("userId"),id:h("draftsFolderId")},{...$3}]}};var t5={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:U([{userId:b("userId"),id:h("orgId")},{pendingPluginRequests:{id:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n}},pluginId:n,plugin:{id:n,currentPluginVersion:{name:n,iconUrl:n,description:n,tagline:n},isWidget:n},workspaceAllowlistedPlugins:{id:n},createdAt:n,updatedAt:n,status:n,declineNote:n,requesterNote:n,workspaceId:n}}])}};var Dd={id:n,path:n,orgId:n,teamId:n,updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:[{userId:b("userId")},n],description:n,team:{orgId:n}},$m={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,file:$("readableFile",[{userId:b("userId")},{id:n,key:n,name:n,fileRepoId:n,editorType:n,folderId:n,teamId:n,hasFileLinkPassword:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:n,thumbnailGuid:n,clientMeta:n,checkpointClientMeta:n,canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),library:{numComponents:n,numStyles:n,numStateGroups:n,numVariableSets:n},repo:{id:n,name:n,createdAt:n,deletedAt:n,trashedAt:n,updatedAt:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,orgAudience:n,orgBrowsable:n,hasActiveBranches:n},isTeamTemplate:n,project:$("project",[{userId:b("userId")},Dd])}])},eb={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,prototype:$("readablePrototype",[{userId:b("userId")},{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,url:n,file:{parentOrgId:n,key:n,name:n,editorType:n,folderId:n,teamId:n,fileRepoId:n,hasProtoLinkPassword:n,protoLinkAccess:n,createdAt:n,trashedAt:n,prototypeUrl:U()}}])},tb={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,project:$("readableProject",[{userId:b("userId")},{id:n,path:n,orgId:n,teamId:n,updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:[{userId:b("userId")},n],description:n,team:{id:n,name:n,licenseGroup:{name:n},orgId:n,studentTeamAt:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],restrictionsList:n,subscription:n,gracePeriodEnd:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}}])},A_={id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,team:[{userId:b("userId")},{id:n,orgId:n,name:n,deletedAt:n,imgUrl:n,licenseGroup:{name:n}}]},v_={id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,licenseGroup:{id:n,name:n,createdAt:n},workspace:{id:n,name:n,imgUrl:n,canRead:[{userId:b("userId")},n],mirroringLicenseGroup:{id:n}}},r5={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0},{name:"currentTeamId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,fileBrowserPreferences:{id:n,migratedToSections:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,sectionType:n,teamId:n,orderedFolderIds:n},privilegedOrgUser:[{orgId:h("currentOrgId")},{draftsProject:Dd,fileBrowserPreferences:{id:n,orgId:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n},licenseGroupMember:{licenseGroup:{id:n,name:n,createdAt:n}}}],baseOrgUser:[{orgId:h("currentOrgId")},{draftsProject:Dd,fileBrowserPreferences:{id:n,orgId:n,migratedToSections:n,sidebarMigrationStatus:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n},licenseGroupMember:{licenseGroup:{id:n,name:n,createdAt:n}},workspaceUsers:{workspaceId:n,isMainWorkspace:n}}],currentTeamUser:[{teamId:h("currentTeamId")},{draftsProject:Dd,favoritedFiles:$m,favoritedPrototypes:eb,favoritedProjects:tb,planlessFavoritedFiles:$m,planlessFavoritedPrototypes:eb,planlessFavoritedProjects:tb,fileBrowserPreferences:{id:n,teamId:n,migratedToSections:n,sidebarMigrationStatus:n,orderedFavoritedResourceIds:n,orderedSidebarSections:n,orderedLicenseGroupIds:n,orderedTeamIds:n}}],draftsProject:Dd,sharedProjectRolesWithoutOrgDeletedDrafts:{project:Dd},projectSubscriptions:{id:n,projectV2:[{userId:b("userId")},Dd]},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,imgUrl:n,studentTeamAt:n,licenseGroupId:n,licenseGroup:{id:n,name:n,createdAt:n},studentAutoverifyingTeamAt:n,gracePeriodEnd:n,trialPeriodEnd:n,projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],workspaceId:n,workspace:{id:n,name:n,mirroringLicenseGroup:{id:n}}}},favoritedFiles:[{orgId:h("currentOrgId")},$m],favoritedPrototypes:[{orgId:h("currentOrgId")},eb],favoritedProjects:[{orgId:h("currentOrgId")},tb],favoritedTeams:[{orgId:h("currentOrgId")},A_],favoritedWorkspaces:[{orgId:h("currentOrgId")},v_],userSidebarSections:[{orgId:h("currentOrgId")},{id:n,createdAt:n,name:n,orderedFavoritedResourceIds:n}]}]}};var n5={args:[{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"FavoritedResourceType"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{favoritedResource:[{userId:b("userId"),resourceId:h("resourceId"),resourceType:h("resourceType")},{id:n,favoritedFile:$m,favoritedPrototype:eb,favoritedProject:tb,favoritedTeam:A_,favoritedWorkspace:v_}],favoritedResources:[{userId:b("userId"),orgId:h("orgId"),teamId:h("teamId")},{numFavorites:n}],currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("orgId")},{fileBrowserPreferences:{orderedSidebarSections:n}}],userSidebarSections:[{orgId:h("orgId")},{id:n,createdAt:n,name:n,orderedFavoritedResourceIds:n}]}]}};var i5={args:[{name:"publicUuid",type:{kind:"uuid"}}],fields:{feedPost:[{publicUuid:h("publicUuid")},{...Zs,currentUserIsFollowing:$("currentUserIsFollowingV2",[{userId:b("userId")},n]),isFollower:[{userId:b("userId")},{id:n}],numComments:n,viewCount:n,views:{createdAt:n,user:{handle:n,id:n,imgUrl:n}}}]}};var s5={args:[{name:"publicUuid",type:{kind:"uuid"}}],fields:{feedPost:[{publicUuid:h("publicUuid")},{...Zs,isFollower:[{userId:b("userId")},{id:n}],viewCount:n,views:{createdAt:n,user:{id:n,handle:n,imgUrl:n}}}]}};var o5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{feedPosts:Zs}]}};var a5={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{feedPosts:[{orgId:h("currentOrgId")},{id:n,createdAt:n}]}]}};var l5={fields:{currentUser:[{userId:b("userId")},{feedTagFollowers:{id:n,feedTag:{id:n,text:n,numUsages:n,lastUsedAt:n}}}]}};var d5={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p0"},fields:{file:U([{key:h("fileKey"),userId:b("userId")},{figmadoc:[{nodeId:h("nodeId")},{id:n,fileKey:n,nodeId:n,figmadoc:n}]}])}};var u5={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}},{name:"instances",type:{kind:"list",ofType:{kind:"string"}}}],props:{sheddable:!1,priority:"p0"},fields:{file:U([{key:h("fileKey"),userId:b("userId")},{figmadoc_for_node:[{nodeId:h("nodeId"),instances:h("instances"),userId:b("userId")},{id:n,fileKey:n,nodeId:n,figmadoc:n,instanceFigmadocs:n}]}])}};var c5={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("currentOrgId")},{fileBrowserPreferences:{migratedToSections:n,sidebarMigrationStatus:n}}]}]}};var p5={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,recentSearches:[{orgId:h("currentOrgId")},{searches:{query:n,timestamp:n}}]}]}};var Hs={branchCheckpointId:n,checkpointId:n,checkpointKey:n,clientMeta:$("checkpointClientMeta",n),createdAt:n,creatorId:n,deletedAt:n,description:n,editUrl:n,editorType:n,fileRepoId:n,folderId:n,handoffUrl:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,isTryFile:n,key:n,lastPublishedAt:n,libraryKey:U(),license:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,prototypeUrl:n,scheme:n,sourceCheckpointId:n,sourceFileKey:n,teamId:n,thumbnailGuid:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:$("signedThumbnailUrlOverride",n),touchedAt:n,trackTags:{isTemplate:n,starterLibrarySrcFileKey:n,figmaBasicsExperiment:n},trashedAt:n,trashedUserId:n,updatedAt:n,url:n,viewerExportRestricted:n};var g5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:$("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],project:[{userId:b("userId")},{id:n,path:n}],teamId:n,sourceFileKey:n,editorType:n,name:n,thumbnailGuid:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:$("signedThumbnailUrlOverride",n)}]}},m5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{...Hs}]}};var wTe={id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readCanvasMentions:n,unreadCanvasMentions:n},b5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{fileCanvasMentions:[{userId:b("userId")},{id:n,fileKey:n,mentionedByUser:{id:n,handle:n,imgUrl:n},lastEditedByUser:{id:n,handle:n,imgUrl:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},createdAt:n,editedAt:n,thumbnailUrl:n,nodeIdPath:n}],currentUserFileCanvasMentionReadStatus:[{userId:b("userId")},wTe]}]}};var f5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,team:{id:n,name:n,workspace:{id:n,name:n}}}]}};var y5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,fileRoleRequests:{id:n}}]}};var I5={args:[{name:"figFileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{figFileLinkExpirationConfig:[{figFileKey:h("figFileKey")},{id:n,expiresAt:n,accessReverted:n}],file:[{key:h("figFileKey"),userId:b("userId")},{id:n,key:n,name:n,hasViewPrototypeRole:[{userId:b("userId")},n]}]}};var h5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{org:{cursorChatDisabledAt:n,voiceDisabledAt:n,widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n}}]}};var x5={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:U([{id:h("projectId"),userId:b("userId")},{id:n,undeletedFiles:{id:n,key:n,fileRepoId:n,trackTags:{isTemplate:n}}}])}};var C5={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:U([{id:h("projectId"),userId:b("userId")},{id:n,undeletedFilesHighLimit:{id:n,key:n,fileRepoId:n}}])}};var A5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!0,priority:"p2"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n]}]}};var S_={userId:n,level:n,pending:n,pendingEmail:U(),user:U({id:n,imgUrl:n,name:n,email:n,handle:n})},jc={id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n,orgUser:[{orgId:h("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}],guestOrgUser:[{orgId:h("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}],teamUser:[{teamId:h("teamId")},{id:n,userId:n,teamId:n,designPaidStatus:n,whiteboardPaidStatus:n}]}};var mx={id:n,updatedAt:n,viewedOn:n,createdAt:n,fileKey:n,user:{id:n,handle:n,imgUrl:n,name:n}};var v5={args:[{name:"fileKey",type:{kind:"string"}},{name:"projectId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"repoId",type:{kind:"string"},nullable:!0},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,allOrgUsers:{orgId:n,org:{id:n}}}],org:[{userId:b("userId"),id:h("currentOrgId")},{id:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n}}],file:[{key:h("fileKey"),userId:b("userId")},{canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:$("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],clientMeta:n,createdAt:n,creator:{id:n},deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,key:n,license:n,linkAccess:n,name:n,org:{id:n,name:n,domainCapture:n,workshopDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n}}],sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}},orgAudience:n,orgBrowsable:n,parentOrgId:n,project:[{userId:b("userId")},{id:n,path:n,teamId:n,viewOnlyAt:n,inviteOnlyAt:n,orgDraftsFolderOwner:{id:n,accountType:n,whiteboardPaidStatus:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n}}}],repo:{id:n,name:n,teamId:n,folderId:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,roles:jc,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,parentOrgId:n,canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}]},roles:jc,fileRoleRequests:ol,fileSeenStates:mx,protoLinkAccess:n,roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],sourceFileKey:n,teamId:n,team:{id:n,name:n,studentTeamAt:n,subscription:n,trialPeriodEnd:n,gracePeriodEnd:n,canRead:[{userId:b("userId")},n]},thumbnailGuid:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:n,trashedAt:n,trashedUser:{id:n,handle:n},trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},updatedAt:n,viewerExportRestrictedAt:n}]}};var S5={id:n,setByUser:{id:n,handle:n,imgUrl:n,name:n},expiresAt:n,prevPrivateLinkAccess:n,prevPrivateProtoLinkAccess:n,prevOrgBrowsable:n,accessReverted:n},O5={id:n,handle:n,imgUrl:n,name:n,allBaseOrgUsers:{orgId:n,org:{id:n}}},F5={id:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},figjamDisabledAt:n,sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},bigmaEnabledAt:n},D5={clientMeta:n,createdAt:n,creator:{id:n},deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,folderAccessEnabled:U(),publishedHubFile:{id:n,unpublishedAt:n},isTryFile:n,key:n,license:n,linkAccess:n,name:n,org:{id:n,name:n,imgUrl:U(),domainCapture:n,workshopDisabledAt:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},currentPrivilegedOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n}}],currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n},designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},bigmaEnabledAt:n},orgAudience:n,orgBrowsable:n,parentOrgId:n,project:[{userId:b("userId")},{id:n,path:n,teamId:n,viewOnlyAt:n,inviteOnlyAt:n,orgDraftsFolderOwnerBaseOrgUser:{id:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n}},roles:S_,teamAccess:U()}],repo:{id:n,name:n,teamId:n,folderId:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,roles:jc,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,parentOrgId:n,canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],hasFileLinkPassword:n,hasProtoLinkPassword:n,hasActiveBranches:n},roles:$("readableRoles",[{userId:b("userId")},jc]),fileRoleRequests:ol,fileSeenStates:mx,protoLinkAccess:n,roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],sourceFileKey:n,teamId:n,team:{id:n,name:n,imgUrl:U(),studentTeamAt:n,subscription:n,trialPeriodEnd:n,gracePeriodEnd:n,canRead:[{userId:b("userId")},n],orgAccess:n,roles:S_,workspaceSharedSetting:{autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n,externalCollaborationControls:n}},thumbnailGuid:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailUrlOverride:n,trashedAt:n,trashedUser:{id:n,handle:n},trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},updatedAt:n,viewerExportRestrictedAt:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,pwdConfig:{id:n,setByUser:{id:n,handle:n,imgUrl:n,name:n},updatedAt:n},fileLinkExpirationConfig:S5,sourceFileLinkExpirationConfig:S5},R5={canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEditCanvas:[{userId:b("userId"),sessionId:b("sessionId")},n],canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:$("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],hasViewRole:[{userId:b("userId")},n]},j5={args:[{name:"fileKey",type:{kind:"string"}},{name:"projectId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"repoId",type:{kind:"string"},nullable:!0},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},O5],org:[{userId:b("userId"),id:h("currentOrgId")},F5],file:[{key:h("fileKey"),userId:b("userId")},{...R5,...D5}]}},P5={args:[{name:"fileKey",type:{kind:"string"}},{name:"projectId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"repoId",type:{kind:"string"},nullable:!0},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},O5],org:[{userId:b("userId"),id:h("currentOrgId")},F5],file:[{key:h("fileKey"),userId:b("userId")},D5]}},_5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},R5]}};var O_={pending:n,user:{id:n,email:n,handle:n,imgUrl:n}},T5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,roles:{...O_},project:[{userId:b("userId")},{inviteOnlyAt:n,roles:{...O_}}],team:{roles:{...O_}}}]}};var k5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,presenter:{id:n,fileKey:n,presenterExists:n,userId:n,handle:n,imageURL:n,color:n}}]}};var w5={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("projectId"),userId:b("userId")},{path:n}]}};var E5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{template:{id:n,fileKey:n,fileVersionId:n,name:n,description:n,publishScope:n,orgId:n,licenseGroupId:n,workspaceId:n,teamId:n,publishedByUserId:n,unpublishedAt:n,createdAt:n,updatedAt:n,publishedByUser:$("publishedByUserNullable",{handle:n,imgUrl:n,name:n})}}]}};var bx={canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRename:[{userId:b("userId"),sessionId:b("sessionId")},n],canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canManage:[{userId:b("userId")},n],canFavorite:[{userId:b("userId"),sessionId:b("sessionId")},n],isFavorited:[{userId:b("userId")},n],isTrashed:n,folderId:n,viewerExportRestricted:n,isTeamTemplate:n,project:[{userId:b("userId")},{canView:$("canRead",[{userId:b("userId")},n]),canEdit:[{userId:b("userId")},n]}]};var U5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,...bx}]}};var M5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{fileVersions:{id:n,label:n,description:n,view:n,updatedAt:n,user:{id:n,imgUrl:n,name:n,handle:n},checkpoint:{key:n,createdAt:n}}}]}};var L5={id:n,uuid:n,key:n,orderId:n,parentId:n,createdAt:n,resolvedAt:n,user:{id:n,handle:n,imgUrl:n},clientMeta:{x:n,y:n,nodeId:n,pageId:n,nodeOffset:{x:n,y:n},inFrame:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},messageMetaStylized:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},commentPin:{id:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n}}},V5={id:n,fileKey:n,fileCommentId:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,uploadedAt:n,metadata:{file_name:n,dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n}}},B5={id:n,fileKey:n,fileCommentId:n,emoji:n,userId:n,user:{id:n,handle:n,imgUrl:n},createdAt:n,sortTimestamp:n},N5={id:n,unreadComments:n,key:n,notificationPreference:n},W5={id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readComments:n,unreadComments:n},G5={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,comments:$("unresolvedComments",L5),commentAttachments:V5,reactions:B5,currentUserFileFollower:[{userId:b("userId")},N5],currentUserCommentReadStatus:[{userId:b("userId")},W5]}]}},Z5={args:[{name:"fileKey",type:{kind:"string"}},{name:"rootId",type:{kind:"bigint"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{name:n,mobileCommentThread:[{rootId:h("rootId")},{...L5,reactions:B5,attachments:V5,thumbnailUrl:n}],currentUserCommentReadStatus:[{userId:b("userId")},W5],currentUserFileFollower:[{userId:b("userId")},N5],org:{id:n,currentOrgUser:[{userId:b("userId")},{id:n,permission:n}]},team:{id:n}}]}};var H5={args:[{name:"teamId",type:{kind:"bigint"}},{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{team:[{id:h("teamId"),userId:b("userId")},{fileUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Hs}]}]}};var K5={args:[{name:"projectId",type:{kind:"bigint"}},{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{project:[{id:h("projectId"),userId:b("userId")},{fileUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Hs}]}]}};var q5={args:[{name:"repoId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{repo:[{id:h("repoId"),userId:b("userId")},{files:{...Hs}}]}};var Y5={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1},fields:{team:[{id:h("teamId"),userId:b("userId")},{name:n}]}};var Pc={id:n,updatedAt:n,createdAt:n,path:n,description:n,deletedAt:n,viewOnlyAt:n,orgId:n,teamId:n,parentPath:n,name:n,isInviteOnly:n,isViewOnly:n,isSubscribed:[{userId:b("userId")},n]};var X5={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{team:[{id:h("teamId"),userId:b("userId")},{allProjects:[{userId:b("userId")},{...Pc}]}]}};var z5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,prototypeLibCppConfig:{id:n,shouldLoad:n}}]}};var J5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,fileRoleRequests:ol}]}};var Q5={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{figFileWorkshopMode:[{fileKey:h("fileKey")},{id:n,expiresAt:n}]}};var fx={id:n,orgId:n,permission:n,draftsFolderId:n,createdAt:n,updatedAt:n,disabledAt:n,accountType:n,accountTypeChangedAt:n,description:n,userStateChangedAt:n,whiteboardPaidStatus:n,agreedToCommunityTosAt:n,showFigjamUserOnboarding:n,hasShownFigjamAdminOnboarding:n,hasShownFigjamAdminLaunchOnboarding:n,devModePaidStatus:n,designPaidStatus:n,userId:n,user:{id:n,email:n,emailValidatedAt:n,handle:n,imgUrl:n},licenseGroupMember:{id:n,licenseGroupId:n,orgUserId:n,createdAt:n,updatedAt:n,assignedAt:n,updateReason:n,actorUserId:n},licenseGroupAdmins:{id:n,licenseGroupId:n,orgUserId:n},workspaceUsers:{id:n,orgUserId:n,workspaceId:n,permission:n,createdAt:n,updatedAt:n,assignedAt:n,updateReason:n,actorUserId:n,isMainWorkspace:n,uuid:n}};var $5={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,name:n,email:n,recentFiles:[{userId:b("userId")},{actionAt:n,file:{_id:U(),canAccessFullDevMode:U([{userId:b("userId"),sessionId:b("sessionId")},n]),canDelete:U([{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:$("canEditV2",U([{userId:b("userId"),sessionId:b("sessionId")},n])),canEditCanvas:U([{userId:b("userId"),sessionId:b("sessionId")},n]),canFavorite:U([{userId:b("userId"),sessionId:b("sessionId")},n]),canManage:U([{userId:b("userId")},n]),canRename:U([{userId:b("userId"),sessionId:b("sessionId")},n]),canView:$("canViewV2",U([{userId:b("userId"),sessionId:b("sessionId")},n])),checkpointId:U(),checkpointKey:U(),folderAccessEnabled:U(),project:U([{userId:b("userId")},{id:n,name:n,orgId:n,isInviteOnly:n,isViewOnly:n,teamId:n,description:n,deletedAt:n,path:n,createdAt:n,teamAccess:n,scheme:n,sharingAudienceControl:$("sharingAudienceControlComputed",n),updatedAt:n,viewOnlyAt:U()}]),org:U({id:n,name:n,imgUrl:n}),...Rc,orgDraftsFolderOwnerBaseOrgUser:{...fx}}}]}]}};var eX={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentPrototypesByViewTime:{id:n,viewedAt:n,prototype:{deleted:n,fileKey:n,id:n,name:n,pageId:n,thumbnailMeta:n,thumbnailUrl:n,url:n,file:{...Rc,orgDraftsFolderOwnerBaseOrgUser:{...fx}}}}}]}};var tX={args:[{name:"projectId",type:{kind:"string"}},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("projectId"),userId:b("userId")},{org:{id:n,name:n,domainCapture:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,userId:n,accountType:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n},team:{id:n,name:n,imgUrl:U(),gracePeriodEnd:U(),subscription:U(),studentTeamAt:U(),org:{id:n,name:n,domainCapture:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,userId:n,accountType:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n},workspace:U({id:n,name:n,imgUrl:n}),currentTeamUser:[{userId:b("userId")},{id:n,userId:n,teamId:n,designPaidStatus:n,whiteboardPaidStatus:n}],canAdmin:[{userId:b("userId")},n],canRead:U([{userId:b("userId")},n])},roles:{id:n,createdAt:n,updatedAt:n,level:n,resourceType:n,resourceId:n,pending:n,pendingEmail:n,userId:n,user:{id:n,name:n,handle:n,email:n,imgUrl:n,orgUser:[{orgId:h("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}],guestOrgUser:[{orgId:h("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}]}},sharingAudienceControl:$("sharingAudienceControlComputed",n),teamAccess:n,canEdit:[{userId:b("userId")},n],isOwner:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],canCreateDesignFile:U([{userId:b("userId")},n]),canCreateFigJamFile:U([{userId:b("userId")},n])}]}};var rX={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("projectId"),userId:b("userId")},{team:{id:n,canAdmin:[{userId:b("userId")},n],org:U({id:n,isOrgUserExternallyRestricted:[{userId:b("userId")},n],isFigJamDisabled:n,currentBaseOrgUser:[{userId:b("userId")},{id:n,userId:n,draftsFolderId:n,accountType:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}]}),currentTeamUser:U([{userId:b("userId")},{id:n,userId:n,teamId:n,designPaidStatus:n,whiteboardPaidStatus:n}])},org:U({isOrgUserExternallyRestricted:[{userId:b("userId")},n],isFigJamDisabled:n}),currentBaseOrgUser:U([{userId:b("userId")},{draftsFolderId:n,accountType:n,whiteboardPaidStatus:n}]),currentTeamUser:U([{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}]),canEdit:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],canCreateDesignFileV2:U([{userId:b("userId")},n]),canCreateFigJamFileV2:U([{userId:b("userId")},n]),isEditingLockedForUser:U([{userId:b("userId")},n])}]}};var nX={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{project:U([{id:h("projectId"),userId:b("userId")},{ownerRole:{id:n}}])}};var iX={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{name:n,imgUrl:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,restrictionsList:n,canAdmin:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],sharingAudienceControl:n,org:{id:n,name:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n},workspace:U({id:n,name:n,imgUrl:n})}]}};var sX={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{hubFile:[{id:h("hubFileId"),userId:b("userId")},{id:n,createdAt:n,unpublishedAt:n,publishingStatusUpdatedAt:n,contentVerifiedAt:n,contentBlockedAt:n,profileId:n,currentHubFileVersionId:n,publishingStatus:n,currentHubFileVersion:{id:n,name:n},duplicateCount:n,likeCount:n,viewCount:n,viewerMode:n,monetizedResourceMetadataId:n}]}};var oX={installedPlugins:{id:n,pluginId:n,pinnedStatus:n,createdAt:n,plugin:[{userId:b("userId"),orgId:h("orgId")},{id:n,currentPluginVersionId:n,publishingStatus:n,isWidget:n,orgId:n,approvedAt:n,approvalStatus:n,communityPublishers:{isPending:n,profile:{id:n,profileHandle:n,user:{id:n,name:n},team:{id:n,name:n},org:{id:n,name:n}},role:n},currentPluginVersion:{id:n,name:n,version:n,releaseNotes:n,description:n,tagline:n,creatorPolicy:n,manifest:n,createdAt:n,iconPath:n,coverImagePath:n,codePath:n,plugin:{currentPluginVersionId:n}},viewableInEditor:[{userId:b("userId"),orgId:h("orgId")},n]}]}},aX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},oX],org:[{userId:b("userId"),id:h("orgId")},oX]}};var lX={args:[{name:"deviceType",type:{kind:"enum",name:"DeviceType"}}],fields:{latestClipboardData:[{userId:b("userId"),deviceType:h("deviceType")},{id:n,deviceType:n,timestamp:n,presignedDownloadUrl:n}]}};var dX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{stylesWithLegacySourceAssets:{key:n,legacySourceAsset:{key:n}}}]}};var yx={containingFrame:Dc,defaultStateKey:n,description:n,description_rt:n,id:n,key:n,minNodeHeight:n,minNodeWidth:n,name:n,nodeId:n,thumbnailUrl:n,version:n,unpublishedAt:n};var F_={checkpoint:{key:n},contentHash:n,description:n,description_rt:n,id:n,key:n,meta:n,nodeId:n,sortPosition:n,styleType:n,thumbnailUrl:n},ul={...F_,name:n,unpublishedAt:n,movedByFigma:n,hubFile:U({id:n,currentHubFileVersion:{name:n}})};var _c={key:n,version:n,description:n,description_rt:n,id:n,width:n,height:n,name:n,nodeId:n,thumbnailUrl:n,unpublishedAt:n,checkpoint:{key:n},moduleSource:n,containingFrame:{...Dc}};var uX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numComponents:n,numStateGroups:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n,numModuleAssets:U()},variableCollections:dl,modules:U([{userId:b("userId")},_c]),libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,components:ux,stateGroups:yx,styles:ul}}]}};var cX={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:h("projectId"),userId:b("userId")},{id:n,path:n,teamId:n}]}};var pX={args:[{name:"fileKey",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,orgAudience:n,orgBrowsable:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,library:{updatedAt:n,approvedLibraries:{id:n,resourceId:n,resourceType:n}},repo:{ownerRole:{user:{id:n,email:n,imgUrl:n,name:n}}},ownerRole:{user:{id:n,email:n,imgUrl:n,name:n}},teamId:n}],org:[{id:h("orgId"),userId:b("userId")},{id:n,name:n,librarySubscriptionByLibraryKey:[{fileKey:h("fileKey")},{id:n,isSubscribed:n,figJamSubscribed:n}],workspaces:{id:n,name:n,librarySubscriptionByLibraryKey:[{fileKey:h("fileKey")},{id:n,isSubscribed:n,figJamSubscribed:n}]},sharedOrgLicenseGroupSetting:{autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}}]}};var gX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:U([{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numVariables:n,numModuleAssets:n},variableCollections:Fc,modules:[{userId:b("userId")},_c]}])}};var mX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numVariables:n},variableCollections:Fc}]}};var bX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:U([{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,modules:U([{userId:b("userId")},_c])}])}};var fX={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{orgLibrarySubscriptions:[{orgId:h("orgId")},{fileKey:n,isSubscribed:n,figJamSubscribed:n}]}};var yX={props:{sheddable:!1,priority:"p2"},fields:{allTeamRoles:[{userId:b("userId")},{id:n,team:{id:n,orgId:n,deletedAt:n,libraryTeamSubscriptionOverrides:[{userId:b("userId")},{fileKey:n,hubFileId:U(n),isSubscribed:n,figJamSubscribed:n}],libraryTeamCommunitySubscriptions:{hubFileId:n,isSubscribed:n,figJamSubscribed:n}}}],communityQuickstartLibraries:[{userId:b("userId")},{communityLibrary:{hubFileId:n}}]}};var IX={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p2"},fields:{file:[{userId:b("userId"),key:h("fileKey")},{id:n,libraryFileSubscriptionOverrides:[{userId:b("userId")},{fileKey:n,libraryFileKey:n,hubFileId:U(n),isSubscribed:n}],communityLibraryFileSubscriptions:[{userId:b("userId")},{hubFileId:n,isSubscribed:n}]}]}};var hX={props:{sheddable:!1,priority:"p2"},fields:{currentUser:[{userId:b("userId")},{libraryUserSubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}]}};var xX={args:[{name:"id",type:{kind:"uuid"}}],fields:{libraryPublishV2:[{id:h("id"),userId:b("userId")},{id:n,fileKey:n,fileCheckpointId:n,count:n,createdAt:n,userId:n,error:n,assetSuccessCount:n,assetFailureCount:n,assetPendingCount:n,firstAssetError:n}]}};var CX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n},libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,styles:ul}}]}},AX={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{communityLibraryByHubFileId:[{hubFileId:h("hubFileId")},{hubFileId:n,name:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,styles:ul}}]}};var vX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{librarySubscriptions:{id:n,fileKey:n,isSubscribed:n,figJamSubscribed:n},workspaces:{name:n,id:n,librarySubscriptions:{id:n,fileKey:n,isSubscribed:n,figJamSubscribed:n}}}]}};var SX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,variableCollections:ll,library:{numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n}}]}};var OX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,variableCollections:dl,library:{numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n}}]}};var FX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{licenseGroupAdmins:{id:n,licenseGroupId:n,orgUserId:n,licenseGroup:{id:n},createdAt:n,updatedAt:n}}]}]}};var DX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{licenseGroup:[{id:h("id"),userId:b("userId")},{licenseGroupMemberCounts:[{userId:b("userId")},{totalCount:n,fullPaidStatusCounts:{licenseType:n,count:n}}]}]}};var RX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,teamEditRoles:{id:n,pending:n,team:{id:n,name:n,imgUrl:n,projects:{id:n,path:n,teamId:n,inviteOnlyAt:n,viewOnlyAt:n},roles:{user:{id:n,name:n,email:n,imgUrl:n,handle:n}},studentTeamAt:n,deletedAt:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],restrictionsList:n,subscription:n,gracePeriodEnd:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}}}]}};var jX={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:U([{id:h("projectId"),userId:b("userId")},{canEdit:U([{userId:b("userId")},n]),canCreateDesignFileV2:U([{userId:b("userId")},n]),canCreateFigJamFileV2:U([{userId:b("userId")},n])}])}};var PX={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{nodeStatusUsagesForFile:{id:n,nodeId:n,nodeStatusType:n,position:n}}]}};var _X={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{nodeStatusUsagesForNode:[{nodeId:h("nodeId")},{id:n,nodeId:n,nodeStatusType:n,position:n}]}]}};var TX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{memberCount:[{userId:b("userId")},{data:n}],discoverableTeamCount:[{userId:b("userId")},{data:n}]}]}},kX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{memberCount:[{userId:b("userId")},{data:n}],workspaceCount:[{userId:b("userId")},{data:n}]}]}};var sr={id:n,status:n,fileKey:n};var wX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{id:n,key:n,name:n,_name:n,teamId:n,clientMeta:n,org:{figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},name:n},currentOrgUser:[{userId:b("userId")},{draftsFolderId:n,whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:sr,whiteboardOrgAccountTypeRequest:sr,designAccountTypeRequest:sr,whiteboardAccountTypeRequest:sr,devModeAccountTypeRequest:sr}],ownerRole:{userId:n},isTeamTemplate:n,currentPartialOrgUser:[{userId:b("userId")},{draftsFolderId:n,whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:sr,whiteboardOrgAccountTypeRequest:sr,designAccountTypeRequest:sr,whiteboardAccountTypeRequest:sr,devModeAccountTypeRequest:sr}],currentTeamUser:[{userId:b("userId")},{whiteboardPaidStatus:n,designPaidStatus:n,designProAccountTypeRequest:sr,whiteboardProAccountTypeRequest:sr,designAccountTypeRequest:sr,whiteboardAccountTypeRequest:sr}],team:{id:n,name:n,orgId:n,subscription:n,restrictionsList:n,deletedAt:n,gracePeriodEnd:n,trialPeriodEnd:n,createdAt:n,imgUrl:n,studentTeamAt:n,licenseGroupId:n,licenseGroup:{id:n,name:n},workspaceId:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],orgAccess:n},folderId:n,project:[{userId:b("userId")},{id:n,orgId:n,teamId:n,path:n,viewOnlyAt:n,inviteOnlyAt:n,subscription:[{userId:b("userId")},{id:n}],canEdit:[{userId:b("userId")},n]}],license:n,orgBrowsable:n,editorType:n,parentOrgId:n,fileRepoId:n,repo:{id:n,name:n,folderId:n,teamId:n,defaultFileKey:n},sourceFileKey:n,sourceFile:{key:n,name:n,fileRepoId:n},linkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,updatedAt:n,trashedAt:n,deletedAt:n,creatorId:n,createdAt:n,sourceCheckpointId:n,canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEditCanvas:[{userId:b("userId"),sessionId:b("sessionId")},n],canEditIgnoreEduGracePeriod:[{userId:b("userId"),sessionId:b("sessionId")},n],canManage:[{userId:b("userId")},n],canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canAccessDevModeEntryPoint:[{userId:b("userId"),sessionId:b("sessionId")},n],canAccessFullDevMode:[{userId:b("userId"),sessionId:b("sessionId")},n],thumbnailGuid:n,publishedHubFile:{id:n,profile:{id:n,entityType:n},currentHubFileVersion:{id:n,createdAt:n},unpublishedAt:n,verificationStatus:n,publishingStatus:n,publishingStatusUpdatedAt:n,publishedByUser:{id:n,name:n}},figFileLinks:{id:n,sourceFileKey:n,destinationFileKey:n,name:n,sortPosition:n,linkType:n},trackTags:{isTemplate:n},isTryFile:n,votingSessions:{id:n,inProgress:n,title:n,userId:n,createdAt:n,userVoteLimit:n},template:{id:n,fileKey:n,fileVersionId:n,name:n,description:n,thumbnailUrl:n,thumbnailGuid:n,publishScope:n,orgId:n,licenseGroupId:n,workspaceId:n,teamId:n,publishedByUserId:n,unpublishedAt:n,createdAt:n,updatedAt:n,publishedByUser:$("publishedByUserNullable",{handle:n,imgUrl:n,name:n})},canPublishTemplate:[{userId:b("userId"),sessionId:b("sessionId")},n],viewerExportRestricted:n,libraryKey:U()}]}};var EX={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,recentSearches:[{orgId:h("currentOrgId")},{searches:U({query:n,timestamp:n})}]}]}};var D_={id:n,orgUserId:n,reason:n,createdAt:n,actorId:n,actor:{id:n,handle:n},resourceType:n,resourceId:n,resourceFile:{file:{id:n,name:n}},resourceTeam:{team:{name:n}},resourceRepo:{repo:{name:n}},resourceProject:{project:{name:n}},resourceOrg:U({org:{name:n}}),editorType:n,licenseType:n},UX={enterpriseFields:{costCenter:n,department:n,division:n,organization:n},figmaEnterpriseFields:{figmaPermission:n,figjamPermission:n,devModePermission:U()},figmaPermission:n,figjamPermission:n,displayName:U(),userName:U(),name:U({givenName:n,familyName:n})},MX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{featuredScimMetadata:n,vatGstId:n,taxIdVerificationStatus:n}],orgAdminUsersInfo:[{orgId:h("orgId"),userId:b("userId")},{totalUserCount:n,designEditorCutoff:{editorCount:n,orgUserId:n,timestamp:n},designEditorBuffer:{buffer:n,orgUserIds:n},whiteboardEditorCutoff:{editorCount:n,orgUserId:n,timestamp:n},whiteboardEditorBuffer:{buffer:n,orgUserIds:n},canRoleSetWithScim:n}],orgAdminUsers:[{orgId:h("orgId"),queryParams:h("queryParams"),firstPageSize:h("firstPageSize"),userId:b("userId")},{orgUserId:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n,description:n,emailValidatedAt:n,externalRestrictedOrgId:n,idpUsersInOrg:U([{orgId:h("orgId")},{scim:UX}])},orgId:n,draftsFolderId:n,createdAt:n,updatedAt:n,disabledAt:n,whiteboardPaidStatus:n,devModePaidStatus:n,showFigjamUserOnboarding:n,hasShownFigjamAdminOnboarding:n,hasShownFigjamAdminLaunchOnboarding:n,accountType:n,accountTypeChangedAt:n,description:n,permission:n,userStateChangedAt:n,agreedToCommunityTosAt:n,mostRecentDesignUserUpgrade:[{userId:b("userId")},{...D_}],mostRecentWhiteboardUserUpgrade:[{userId:b("userId")},{...D_}],mostRecentDevModeUserUpgrade:U([{userId:b("userId")},{...D_}]),licenseGroupMember:{id:n,licenseGroupId:n,assignedAt:n,createdAt:n,actorUserId:n,updateReason:n,updatedAt:n,orgUserId:n},licenseGroupAdmins:{id:n},workspaceUsers:{actorUserId:n,assignedAt:n,createdAt:n,id:n,isMainWorkspace:n,orgUserId:n,permission:n,updateReason:n,updatedAt:n,uuid:n,workspaceId:n},devModeBetaUsedEvent:U({id:n})},idpUserId:n,idpUser:{id:n,createdAt:n,updatedAt:n,userName:n,scim:UX},orgInviteId:n,orgInvite:{id:n,orgId:n,email:n,accountType:n,createdAt:n,updatedAt:n,licenseGroupId:n,workspaceId:U()},type:n,lastEdit:n,lastSeen:n,lastDesignEdit:n,lastWhiteboardEdit:n,lastDesignSeen:n,lastWhiteboardSeen:n}]}};var LX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"}}],fields:{esOrgUsersInfo:U([{orgId:h("orgId"),queryParams:h("queryParams"),userId:b("userId")},{id:n}])}};var VX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{bigmaEnabledAt:n,workspaces:{id:n}}]}};var BX={args:[{name:"workspaceId",type:{kind:"bigint"}}],fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{name:n}]}};var NX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{orgJoinRequest:[{userId:b("userId"),orgId:h("orgId")},{id:n}]}};var WX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{sharedOrgLicenseGroupSetting:{id:n,autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}}]}};var GX={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{id:h("orgId"),userId:b("userId")},{vatGstId:n,taxIdVerificationStatus:n,taxInfo:U([{userId:b("userId")},{vatGstId:n,regionalVatGstId:n,canUpdateRegionalVatGst:n,country:n,state:n}])}]}};var ZX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{teamsWithSummary:[{userId:b("userId")},{team:{id:n,imgUrl:n,name:n,workspaceId:n}}]}]}};var HX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],fields:{orgTeams:[{orgId:h("orgId"),queryParams:h("queryParams"),firstPageSize:h("firstPageSize"),userId:b("userId")},{teamId:n,team:{id:n,createdAt:n,imgUrl:n,orgId:n,name:n,description:n,hidden:n,orgBrowsable:n,orgAccess:n,licenseGroupId:n,workspaceId:n,projectsCount:n,editorsCount:n,restrictionsList:n,subscription:n,_subscriptionRaw:n,stripeCustomerId:n,studentTeamAt:n,studentTeamState:n,studentAutoverifyingTeamAt:n,isStarterTeam:n,gracePeriodEnd:n,gracePeriodType:n,deletedAt:n,experimentSeed:n,defaultPermission:n,vatGstId:n,taxIdVerificationStatus:n,aiFeaturesDisabledAt:n,legalName:n,sharingAudienceControlComputed:n,roleOnObjectTeamForUser:[{userId:b("userId")},{id:n,level:n}]},teamOwnerRole:U({id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n,description:n}}),memberCount:n}]}};var KX={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{id:h("orgId"),userId:b("userId")},{teamsWithSummary:[{userId:b("userId")},{id:n,memberCount:n}]}]}};var qX={fields:{currentUser:[{userId:b("userId")},{id:n,orgUsers:{id:n,org:[{userId:b("userId")},{id:n,name:n,imgUrl:n}]},allOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n}}}]}};var YX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"eventType",type:{kind:"string"}}],fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{orgUserFlag:[{eventType:h("eventType")},{id:n}]}]}]}};var XX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:h("orgId"),userId:b("userId")},{sharedOrgLicenseGroupSetting:{publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},workspaces:{id:n,name:n,imgUrl:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n,hasCustomPublicLinkControlsSetting:n}}]}};var zX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"feedFilter",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0},{name:"refreshNonce",type:{kind:"int"},nullable:!1}],fields:{feedPosts:[{orgId:h("orgId"),userId:b("userId"),feedFilter:h("feedFilter"),firstPageSize:h("firstPageSize")},{id:n,publicUuid:n,type:n,createdAt:n,forYou:n,currentTagFilterId:n,feedPost:{...Zs,currentUserIsFollowing:$("currentUserIsFollowingV2",[{userId:b("userId")},n]),isFollower:[{userId:b("userId")},{id:n}],numComments:n,viewCount:n,views:{createdAt:n,user:{id:n,handle:n,imgUrl:n}}}}]},props:{sheddable:!1}};var JX={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,pendingTeamRoleRequests:[{userId:b("userId")},{id:n,status:n,teamId:n,requesterUserId:n,level:n,user:{id:n,handle:n,name:n,email:n,imgUrl:n}}]}]}};var QX={args:[{name:"fileCommentId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{pendingUserMentions:[{fileCommentId:h("fileCommentId")},{inviteeEmail:n,inviterUserId:n,id:n}]}};var $X={props:{sheddable:!1,priority:"p1"},fields:{persistentLastFrameSelection:U([{userId:b("userId")},{id:n,fileKey:n,frameId:n,frameName:n}])}};var ez={args:[{name:"folderId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:h("folderId"),userId:b("userId")},{id:n,pinnedFiles:{pinnedByUser:{id:n,name:n},file:{key:n,name:n,thumbnailUrlOverride:n,thumbnailUrl:$("signedThumbnailUrl",n),createdAt:n,editorType:n,fileRepoId:n,thumbnailGuid:n,folderId:n,clientMeta:n,checkpointClientMeta:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,linkAccess:n,isTeamTemplate:n}}}]}};var tz={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{plugin:[{pluginId:h("pluginId"),userId:b("userId"),orgId:h("orgId")},al]}};var rz={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],fields:{plugin:[{userId:b("userId"),pluginId:h("pluginId"),orgId:h("orgId")},{id:n,installCount:n,communityPublishers:{profile:{id:n,entityType:n,profileHandle:n,user:{name:n,imgUrl:n},team:{name:n,imgUrl:n},org:{name:n,imgUrl:n}}},isWidget:n,currentPluginVersion:{id:n,name:n,description:n,manifest:n,creatorPolicy:n,iconUrl:n,coverImageUrl:n,playgroundFigFileKey:n,hasPlaygroundFile:n},monetizedResourceMetadataId:n,pluginRequests:[{orgId:h("orgId")},{id:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n},workspaceUsers:{id:n,workspaceId:n}},pluginId:n,createdAt:n,updatedAt:n,status:n,requesterNote:n,workspaceId:n,declineNote:n}]}],org:[{id:h("orgId"),userId:b("userId")},{id:n,name:n,workspaces:{name:n,id:n,isPluginAllowlisted:[{pluginId:h("pluginId")},n]},isPluginAllowlisted:[{pluginId:h("pluginId")},n]}]}};var nz={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgIds",type:{kind:"list",ofType:{kind:"bigint"}}}],fields:{pluginInstall:[{userId:b("userId"),pluginId:h("pluginId")},{createdAt:n}],orgPluginInstalls:U([{pluginId:h("pluginId"),orgIds:h("orgIds")},{orgId:n,createdAt:n}])}};var iz={args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0}],fields:{pluginPreferences:[{currentUserId:b("userId"),targetOrgId:h("targetOrgId"),targetUserId:h("targetUserId")},{id:n,preferences:{pins:{pluginId:n,inherited:n,plugin:al},removedInheritedPins:n,codegenSettings:{language:{type:n,id:n,pluginLanguage:n},preferences:{scaleFactor:n,unit:n,customSettings:n},behavior:n}},codegenEnabled:n,pinnedPluginsEnabled:n}]}};var sz={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:h("orgId")},{pluginRequests:{id:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n}},pluginId:n,plugin:al,createdAt:n,updatedAt:n,status:n,declineNote:n,requesterNote:n,workspaceId:n},allowlistedPlugins:$("whitelistedPlugins",{id:n,pluginId:n})}]}};var oz={args:[{name:"pluginId",type:{kind:"string"}}],fields:{pluginSecurityFormResponse:[{pluginId:h("pluginId")},{id:n,status:n,responses:n,pluginId:n,formVersion:n,updatedAt:n,createdAt:n}]}};var az={fields:{presetLibrariesShelf:U([{},{resources:{id:n,resourceId:n,resourceType:n}}])}};var lz={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,adminRoles:{id:n,level:n,pending:n,user:{id:n,handle:n,email:n,imgUrl:n,name:n}}}]}};var dz={args:[{name:"folderId",type:{kind:"bigint"}}],fields:{project:[{id:h("folderId"),userId:b("userId")},{id:n,canEdit:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n]}]}},uz={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:h("projectId"),userId:b("userId")},{id:n,path:n,team:{orgId:n},orgId:n}]}},cz={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{project:[{id:h("projectId"),userId:b("userId")},{...Pc}]}};var pz={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{project:[{id:h("projectId"),userId:b("userId")},{untrashedFiles:{id:n,fileRepoId:n}}]}};var Ix={canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],isOwner:[{userId:b("userId")},n],canCreateDesignFile:[{userId:b("userId")},n],canCreateFigJamFile:[{userId:b("userId")},n],team:{canAdmin:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canRead:U([{userId:b("userId")},n]),canAccessProFeature:n},isEditingLockedForUser:[{userId:b("userId")},n],isEmpty:n,isOwned:n,inviteOnlyAt:n,viewOnlyAt:n,isOrphanedOrgProject:n,currentPrivilegedOrgUser:[{userId:b("userId")},{id:n,permission:n}]};var gz={args:[{name:"projectId",type:{kind:"string"}}],fields:{project:[{id:h("projectId"),userId:b("userId")},{id:n,...Ix}]}};var hx={isFavorited:[{userId:b("userId"),orgId:null},n],canRead:[{userId:b("userId")},n]};var mz={args:[{name:"prototypeId",type:{kind:"bigint"}}],fields:{prototype:[{id:h("prototypeId"),userId:b("userId")},{id:n,...hx}]}};var bz={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:h("repoId"),userId:b("userId")},{id:n,canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n])}]}};var fz={id:n,key:n,reviewNumber:n,title:n,description:n,owner:{id:n,handle:n,imgUrl:n},closer:{id:n,handle:n,imgUrl:n},closedAt:n,fileMergeId:n,reviewers:{user:{id:n,handle:n,imgUrl:n},notes:n,changesRequestedAt:n,approvedAt:n},mergeSummaryNotes:n,requestedAt:n,updatedAt:n,createdAt:n},yz={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:h("repoId"),userId:b("userId")},{id:n,name:n,defaultFileKey:n,updatedAt:n,trashedAt:n,linkAccess:n,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],files:{id:n,key:n,name:n,_name:n,sourceFileKey:n,sourceCheckpointId:n,fileRepoId:n,folderId:n,parentOrgId:n,teamId:n,createdAt:n,trashedAt:n,updatedAt:n,deletedAt:n,trashedUserId:n,orgBrowsable:n,orgAudience:n,linkAccess:n,protoLinkAccess:n,editorType:n,description:n,checkpointId:n,openMergeRequest:{id:n,mergeRequestKey:n,mergeRequest:fz,branchFileKey:n},fileMerges:{id:n,userId:n,user:{id:n,name:n,handle:n},direction:n,checkpointDiffId:n,mergeResultCheckpointId:n,mergeResultFileversionId:n,updatedAt:n,createdAt:n,mergeRequest:fz},canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canManage:[{userId:b("userId")},n],roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],fileVersions:{id:n,label:n,description:n,view:n,updatedAt:n,user:{id:n,imgUrl:n,name:n,handle:n,isSystemUser:n},checkpoint:{key:n,createdAt:n}},creator:{id:n,imgUrl:n,name:n,handle:n}}}]}};var Iz={id:n,name:n,handle:n,imgUrl:n,email:n,description:n},hz={args:[{name:"repoId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{repo:U([{id:h("repoId"),userId:b("userId")},{id:n,roles:{pending:n,userId:n,level:n,resourceType:n,user:{...Iz}},team:{id:n,roles:{pending:n,userId:n,level:n,resourceType:n,user:{...Iz}}}}])}};var xx={key:n,canView:$("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),isFavorited:[{userId:b("userId")},n],viewerExportRestricted:n,parentOrgId:n},Cx={parentOrgId:n,canRead:$("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:$("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),project:{canView:$("canRead",[{userId:b("userId")},n]),canEdit:[{userId:b("userId")},n]},sourceFile:{...xx},branches:$("files",{...xx}),isTrashed:n};var xz={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:h("repoId"),userId:b("userId")},{id:n,...Cx}]}};var Cz={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:h("fileKey"),userId:b("userId")},{resolvedComments:{id:n,uuid:n,key:n,orderId:n,parentId:n,createdAt:n,resolvedAt:n,user:{id:n,handle:n,imgUrl:n},commentPin:{id:n},clientMeta:{x:n,y:n,nodeId:n,pageId:n,nodeOffset:{x:n,y:n},inFrame:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},messageMetaStylized:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n}}}}]}};var Az={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{resourceSave:[{userId:b("userId"),hubFileId:h("hubFileId")},{createdAt:n}]}};var vz={props:{sheddable:!0},fields:{resourceSaves:[{userId:b("userId")},{createdAt:n,hubFileId:n,hubFile:{viewerMode:n}}]}};var Tc={aiFeaturesDisabledAt:n,communityBlockedAt:n,createdAt:n,defaultColorPaletteUuid:n,defaultPermission:n,deletedAt:n,deletedBy:n,description:n,editorsCount:n,projectsCount:n,experimentAssignments:{experimentId:n,treatmentId:n},experimentSeed:n,hidden:n,id:n,imgUrl:n,licenseGroupId:n,stripeCustomerId:n,name:n,orgAccess:n,orgBrowsable:n,orgId:n,restrictionsList:n,studentAutoverifyingTeamAt:n,studentTeamAt:n,studentTeamState:n,_subscriptionRaw:n,subscription:n,taxIdVerificationStatus:n,legalName:n,vatGstId:n,workspaceId:n,sharingAudienceControlComputed:n};var Rd={id:n,level:n,createdAt:n,updatedAt:n,resourceId:n,resourceType:n,pending:n,pendingEmail:n,userId:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n,description:n}};var Sz={args:[{name:"teamId",type:{kind:"bigint"}},{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{team:[{id:h("teamId"),userId:b("userId")},{...Tc,roleUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Rd}],roleDeletionUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{roleId:n,resourceId:n,op:n}]}]}};var Oz={args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{currentUser:[{userId:b("userId")},{fileRoleUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Rd,file:{...Hs}}],repoRoleUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Rd}],projectRoleUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Rd,project:{...Pc}}],teamRoleUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{...Rd,team:{...Tc}}],roleDeletionUpdates:[{updatedAtTimestamp:h("updatedAtTimestamp")},{roleId:n,resourceId:n,resourceType:n,op:n}]}]}};var Fz={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canView:[{userId:b("userId")},n]}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n}}]}]}};var Ax={id:n,sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,file:{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,teamId:n,parentOrgId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n,thumbnailGuid:n,checkpointClientMeta:n,...bx},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n},thumbnailUrl:n,thumbnailUrlOverride:n},vx={sharedAt:n,sharedBy:n,sharedByText:n,sharedByUser:{id:n,name:n},orgOrTeamName:n,resourceId:n,resourceType:n,folder:{id:n,createdAt:n,updatedAt:n,path:n,description:n,teamId:n,viewOnlyAt:n,orgId:n,deletedAt:n,...Ix},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n}},Sx={sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,repo:{id:n,folderId:n,teamId:n,name:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,hasActiveBranches:n,orgAudience:n,orgBrowsable:n,...Cx,branches:$("files",{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n,thumbnailUrl:$("signedThumbnailUrl",n),thumbnailGuid:n,thumbnailUrlOverride:$("signedThumbnailUrlOverride",n),checkpointClientMeta:n,...xx})},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n}},Ox={sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,prototype:{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,fig_file:$("file",{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n}),...hx},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n},thumbnailUrl:n};var Dz={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouFile:[{id:h("id"),userId:b("userId")},Ax]}};var Rz={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouFolder:[{id:h("id"),userId:b("userId")},vx]}};var jz={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouPrototype:[{id:h("id"),userId:b("userId")},Ox]}};var Pz={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouRepo:[{id:h("id"),userId:b("userId")},Sx]}};var _z={args:[{name:"resourceTypes",type:{kind:"list",ofType:{kind:"string"}}},{name:"firstPageSize",type:{kind:"int"}},{name:"sortOrder",type:{kind:"string"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"planId",type:{kind:"bigint"},nullable:!0},{name:"planType",type:{kind:"string"},nullable:!0},{name:"fileType",type:{kind:"string"},nullable:!0},{name:"orgDeletedDrafts",type:{kind:"string"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouResources:[{userId:b("userId"),resourceTypes:h("resourceTypes"),firstPageSize:h("firstPageSize"),sortOrder:h("sortOrder"),cursorColumn:h("cursorColumn"),sharedBy:h("sharedBy"),planId:h("planId"),planType:h("planType"),fileType:h("fileType"),orgDeletedDrafts:h("orgDeletedDrafts")},{id:n,sharedWithYouFile:Ax,sharedWithYouFolder:vx,sharedWithYouRepo:Sx,sharedWithYouPrototype:Ox}]}};var Fx={canAdmin:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],roleOnObjectForUser:[{userId:b("userId")},{level:n}],currentPrivilegedOrgUser:[{userId:b("userId")},{permission:n}]};var Tz={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouTeam:[{id:h("id"),userId:b("userId")},{sharedAt:n,sharedBy:n,sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,team:{id:n,...Fx},canRead:[{userId:b("userId")},n]}]}};var kz={args:[{name:"key",type:{kind:"string"}}],props:{sheddable:!1},fields:{file:[{key:h("key"),userId:b("userId")},{linkAccess:n,team:{isStarterTeam:n,isStudentTeam:U(n)},roles:{userId:n}}]}};var wz={args:[{name:"key",type:{kind:"string"}}],fields:{stateGroup:[{key:h("key"),userId:b("userId")},{...yx,file:{key:n,name:n,teamId:n,libraryKey:U()}}]}};var Ez={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,fileBrowserPreferences:{orderedTeamIds:n},teamRoles:{pending:n,team:{id:n,deletedAt:n,orgId:n,createdAt:n}}}]}};var Uz={args:[{name:"key",type:{kind:"string"}},{name:"openFileKey",type:{kind:"string"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{styleWithDestinationAssetV2:[{key:h("key"),userId:b("userId"),openFileKey:h("openFileKey")},{file:{key:n,name:n,teamId:n,libraryKey:U()},hubFile:{id:n,currentHubFileVersion:{name:n}},...ul,destinationAsset:{file:{key:n,name:n,teamId:n,libraryKey:U()},hubFile:{id:n,currentHubFileVersion:{name:n}},...ul}}]}};var Mz={numComponents:n,numStateGroups:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n,numModuleAssets:U()},kc={...Mz,file:{name:n,key:n,parentOrgId:n,thumbnailUrl:U($("signedThumbnailUrl",n)),thumbnailUrlOverride:U($("signedThumbnailUrlOverride",n)),thumbnailGuid:U(n)}},Jo={...Mz,name:n,hubFileId:n,hubFile:U({thumbnailUrl:n})},Lz={args:[{name:"fileKey",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{parentOrgId:n,teamId:n,libraryFileSubscriptions:[{userId:b("userId")},{library:kc,communityLibrary:U(Jo)}],communityLibraryFileSubscriptions:[{userId:b("userId")},{isSubscribed:n,communityLibrary:Jo}],communityQuickstartLibraries:[{userId:b("userId")},{communityLibrary:Jo}],libraryTeamSubscriptions:[{userId:b("userId")},{library:kc,communityLibrary:U(Jo),libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}]}],libraryUserSubscriptions:[{userId:b("userId")},{library:kc,communityLibrary:U(Jo),libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}]}],team:{workspace:{librarySubscriptions:{isSubscribed:n,library:kc,communityLibrary:U(Jo),libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:h("teamId")},{}]}}},libraryOrgSubscriptions:[{userId:b("userId")},{library:kc,communityLibrary:U(Jo),libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:h("teamId")},{}],libraryWorkspaceSubscriptionOverride:[{subscribingFileWorkspaceId:h("workspaceId")},{}],libraryUserSubscriptionOverride:[{subscribingUserId:b("userId")},{}]}],libraryPresetSubscriptions:U([{userId:b("userId")},{communityLibrary:Jo,libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:h("teamId")},{}],libraryWorkspaceSubscriptionOverride:[{subscribingFileWorkspaceId:h("workspaceId")},{}],libraryUserSubscriptionOverride:[{subscribingUserId:b("userId")},{}],libraryOrgSubscriptionOverride:[{subscribingFileOrgId:h("orgId")},{}]}]),currentUser:[{userId:b("userId")},{orgAwareTeamRoles:[{orgId:h("orgId")},{team:{id:n,libraryTeamSubscriptions:[{userId:b("userId")},{library:kc,communityLibrary:U(Jo),libraryFileSubscriptionOverride:[{subscribingFileKey:h("fileKey")},{}],libraryUserSubscriptionOverride:[{subscribingUserId:b("userId")},{}]}]}}]}]}]}};var Vz={args:[{name:"id",type:{kind:"uuid"}}],props:{sheddable:!0,priority:"p3"},fields:{subscriptionUpdateSloData:[{id:h("id")},{id:n,key:n,updatedAt:n,createdAt:n}]}};var Bz={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}]}},Nz={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{...Tc,updatedAt:U(n),planProperties:{property:n,value:n},communityProfile:{id:n,publicAt:n,profileHandle:n}}]}};var Wz={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canCreateTeam:[{userId:b("userId")},n],orgAccess:n,imgUrl:n}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n},permission:n}]}]}};var Gz={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{teamFileCounts:{id:n,designFileCount:n,whiteboardFileCount:n}}]}};var Zz={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:h("projectId"),userId:b("userId")},{team:{id:n,restrictionsList:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}}]}},Hz={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,restrictionsList:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}]}};var Kz={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{org:{id:n,name:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},figjamDisabledAt:n,imgUrl:n},workspace:U({id:n,name:n,imgUrl:n}),canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],sharingAudienceControl:$("sharingAudienceControlComputed",n),orgBrowsable:n,hidden:n}]}};var qz={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:U([{id:h("teamId"),userId:b("userId")},{workspace:U({id:n,name:n,imgUrl:n})}])}};var Yz={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:h("teamId"),userId:b("userId")},{vatGstId:n,taxIdVerificationStatus:n,taxInfo:U([{userId:b("userId")},{vatGstId:n,regionalVatGstId:n,canUpdateRegionalVatGst:n,country:n,state:n}])}]}};var Xz={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{...Fx}]}};var zz={args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0}],fields:{pluginPreferences:[{currentUserId:b("userId"),targetOrgId:h("targetOrgId"),targetUserId:h("targetUserId")},{autoRunEnabled:n,codegenEnabled:n,pinnedPluginsEnabled:n}]}};var Jz={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{id:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n,designProAccountTypeRequest:sr,whiteboardProAccountTypeRequest:sr,designAccountTypeRequest:sr,whiteboardAccountTypeRequest:sr}],currentOrgUser:[{userId:b("userId")},{whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:sr,whiteboardOrgAccountTypeRequest:sr,designAccountTypeRequest:sr,whiteboardAccountTypeRequest:sr}]}]}};var Qz={args:[],props:{sheddable:!1,priority:"p1"},fields:{userColorProfilePreference:[{userId:b("userId")},{id:n,colorProfilePreference:n}]}};var cl={value:n,updatedAt:n},$z={args:[],fields:{currentUser:[{userId:b("userId")},{id:n,email:n,emailValidatedAt:n,imgUrl:n,createdAt:n,draftsFolderId:n,studentValidatedAt:n,userFlags:{id:n,name:n,createdAt:n,updatedAt:n},externalRestrictedOrgId:U(n),teamRoles:{id:n,team:{id:n,trialPeriodEnd:n,gracePeriodEnd:n,gracePeriodType:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],subscription:n,studentTeamAt:n,orgId:n,restrictionsList:n}},profile:{jobTitle:n,usagePurpose:n},onboardingSignals:{signals:{workLocationV1:cl,expandedUsagePurposeV1:cl,howCollabV1:cl,howCollabV2:cl,howWillYouUseFigmaV1:cl,expandedUsagePurposeV2:cl,haveUsedFigmaProductsBeforeV1:cl,whatBringsYouToFigmaTodayV1:U(cl)}},communityProfile:{followingCount:n},hasSavedPlugins:n,hasCreatedPlugins:n,userMonetizationMetadata:{cmtySellerAcceptedAt:n},orgUsers:{id:n,orgId:n,draftsFolderId:n,permission:n,userId:n,licenseGroupMember:{licenseGroupId:n},org:[{userId:b("userId")},{id:n,bigmaEnabledAt:n,templatePickerDisabled:n,figjamDisabledAt:n,voiceDisabledAt:n,canRead:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],widgetsWhitelistEnforced:n,customTemplatesAllowed:n}]},accountManagerMessages:{id:n,amName:n,amEmail:n,amAvatarUrl:n,ctaUrl:n,sentAt:n,reminderSentAt:n}}]}};var e4={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,favoritedFiles:$("globalFavoritedFiles",{id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,file:$("readableFile",[{userId:b("userId")},{id:n,name:n,key:n,editorType:n,createdAt:n,deletedAt:n,trashedAt:n,parentOrgId:n}])})}]}};var t4={args:[],props:{sheddable:!0,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{jamboardOfferEligibility:{id:n,isEligible:n,ineligibilityReason:n,promoCodeId:n,promoExpirationDate:n}}]}};var r4={args:[{name:"userId",type:{kind:"string"},nullable:!0}],fields:{userMonetizationMetadata:[{sessionUserId:b("userId"),userId:h("userId")},{id:n,stripeCmtyCreatorStatsMeta:n,cmtySellerAcceptedAt:n}]}};var n4={args:[],props:{sheddable:!1,priority:"p1"},fields:{userNotificationBell:[{userId:b("userId")},{id:n,bell:n,notificationSpaceId:n,userId:n,timestamp:n}]}};var i4={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentSharedWithYouFiles:{id:n,sharedAt:n,resourceId:n,resourceType:n,file:{id:n,name:n,key:n,editorType:n,createdAt:n,deletedAt:n,trashedAt:n,parentOrgId:n}}}]}};var s4={fields:{currentUser:[{userId:b("userId")},{id:n,teamRoles:{id:n,team:{id:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],subscription:n,orgId:n}}}]}};var o4={args:[],fields:{currentUser:U([{userId:b("userId")},{id:n,name:n,email:n,handle:n,imgUrl:n,createdAt:n,emailValidatedAt:n,utcOffset:n,profile:{jobTitle:n,usagePurpose:n},phoneNumber:n,studentValidatedAt:n,description:n,pluginPublishingBlockedAt:n,communityCommentingBlockedAt:n,communityBlockedAt:n,externalRestrictedOrgId:n,experimentSeed:n,twoFactorEnabled:n,twoFactorAppEnabled:n,communityProfile:{id:n,publicAt:n,profileHandle:n},googleSsoOnly:[{userId:b("userId")},n],samlSsoOnly:[{userId:b("userId")},n],sharingRestricted:n,userMonetizationMetadata:{cmtySellerTosAcceptedAt:n,stripeConnectedAccountId:n,stripeAccountStatus:n,communityPurchasingBlockedAt:n},canSellOnCommunity:n,hasPassedVisualCompliance:n}])}};var a4={args:[{name:"key",type:{kind:"string"}}],fields:{variable:[{key:h("key"),userId:b("userId")},{...dx,file:{key:n,name:n,teamId:n,libraryKey:U()}}]}};var l4={args:[{name:"key",type:{kind:"string"}}],fields:{variableCollection:[{key:h("key"),userId:b("userId")},{...ll,file:{key:n,name:n,teamId:n}}]}};var d4={args:[{name:"variableCollectionKey",type:{kind:"string"}}],fields:{variableCollection:[{key:h("variableCollectionKey"),userId:b("userId")},{...dl,file:{key:n,name:n,teamId:n}}]}};var u4={args:[{name:"workspaceId",type:{kind:"bigint"},nullable:!1}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}]}};var c4={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,canCreateTeam:[{userId:b("userId")},n]},sharedOrgLicenseGroupSetting:{teamCreationControls:n}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n},permission:n}]}]}};var p4={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("orgId")},{pluginRequests:{id:n,createdAt:n,status:n,pluginId:n,workspaceId:n}}]}]}};var g4={args:[{name:"workspaceId",type:{kind:"bigint"},nullable:!1}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{orgAccess:n}]}};var m4={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,imgUrl:n,canView:[{userId:b("userId")},n]}}]}};var b4={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:h("fileKey"),userId:b("userId")},{team:{workspace:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}}]}};var f4={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:h("teamId"),userId:b("userId")},{workspace:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}]}};var y4={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canAdmin:[{userId:b("userId")},n]}}]}};var I4={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,orgId:n,mirroringLicenseGroup:{id:n},imgUrl:n,colorConfig:{colors:n},memberCount:U([{userId:b("userId")},{data:n,id:n}]),description:n,canAdmin:[{userId:b("userId")},n],canView:[{userId:b("userId")},n],admins:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n,email:n}}},orgAccess:n}}],currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:h("orgId")},{workspaceUsers:{id:n,workspaceId:n,isMainWorkspace:n}}]}]}};var h4={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:h("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,imgUrl:n,orgAccess:n,admins:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n}}}}}]}};var x4={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{id:n,name:n,defaultTeams:{teamId:n,team:{workspace:{name:n}}}}]}};var C4={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{name:n,approvedLibraries:{fileKey:n},org:U({id:n,approvedLibraries:{fileKey:n}})}]}};var A4={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:h("workspaceId"),userId:b("userId")},{members:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n,email:n}},permission:n}}]}};var v4={args:[],props:{sheddable:!0,priority:"p1"},fields:{jamboardOfferRedeemedAt:[{userId:b("userId")},{id:n,userId:n,redeemedAt:n}]}};var S4={args:[{name:"themeKey",type:{kind:"string"},nullable:!0}],fields:{slidesTheme:[{themeKey:h("themeKey")},{userId:n,themeKey:n,version:n,variableSet:{id:n,version:n,key:n,checkpoint:{key:n}},variables:{key:n,version:n,variable:{...x_}},styles:{key:n,version:n,style:{...F_}},file:{key:n,name:n,teamId:n}}]}};var O4={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{org:U([{id:h("orgId"),userId:b("userId")},{name:n,approvedLibraries:{fileKey:n}}])}};var F4={args:[{name:"fileKey",type:{kind:"string"}}],props:{priority:"p1"},fields:{deviceTryFile:U([{fileKey:h("fileKey")},{id:n,fileKey:n,claimedByUserId:n,claimedAt:n}])}};var D4={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!0,priority:"p3"},fields:{workspace:U([{id:h("workspaceId"),userId:b("userId")},{id:n,canAdmin:[{userId:b("userId")},n],canCreateTeam:[{userId:b("userId")},n]}])}};var R4={args:[{name:"workspaceId",type:{kind:"bigint"},nullable:!1}],props:{sheddable:!1,priority:"p1"},fields:{workspace:U([{id:h("workspaceId"),userId:b("userId")},{approvedLibraries:{fileKey:n},name:n}])}};var j4={name:"AdminRequestDashboardTotalRowCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"rowCount",type:{kind:"int"}}]};var P4={name:"PersistentLastFrameSelection",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"frameId",type:{kind:"string"},nullable:!0},{name:"frameName",type:{kind:"string"},nullable:!0}]};var Dx=[{name:"id",type:{kind:"bigint"}},{name:"roleId",type:{kind:"bigint"}},{name:"triggeredAt",type:{kind:"datetime"}},{name:"op",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"resourceId",type:{kind:"bigint"},nullable:!0}];var _4={name:"TeamRoleLog",fields:[...Dx]};var T4={name:"RoleLog",fields:[...Dx]};var k4={name:"DevModeSuggestedUpgradableUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"planId",type:{kind:"bigint"}},{name:"lastUsedAt",type:{kind:"datetime"}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},filter:{and:[["id","=",y("id")],["orgId","=",y("planId")]]},nullable:!0,deprecated:{reason:"Use privilegedOrgUser",date:"2024-01-29"}},{name:"privilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},filter:{and:[["id","=",y("id")],["orgId","=",y("planId")]]},nullable:!0},{name:"teamUser",type:{kind:"object",name:"TeamUser"},filter:{and:[["id","=",y("id")],["teamId","=",y("planId")]]},nullable:!0}]};var w4={name:"Figmadoc",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"nodeId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"figmadoc",type:{kind:"string"}},{name:"instanceFigmadocs",type:{kind:"map",valueType:{kind:"string"}},nullable:!0}]};var E4={name:"LibraryPresetSubscription",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"}},{name:"communityLibrary",type:{kind:"object",name:"CommunityLibrary"},filter:["hubFileId","=",y("hubFileId")],nullable:!0},{name:"libraryOrgSubscriptionOverride",type:{kind:"object",name:"LibraryOrgSubscription"},args:[{name:"subscribingFileOrgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",y("hubFileId")],["orgId","=",A("subscribingFileOrgId")]]},nullable:!0},{name:"libraryWorkspaceSubscriptionOverride",type:{kind:"object",name:"LibraryWorkspaceSubscription"},args:[{name:"subscribingFileWorkspaceId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",y("hubFileId")],["workspaceId","=",A("subscribingFileWorkspaceId")]]},nullable:!0},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["hubFileId","=",y("hubFileId")],["teamId","=",A("subscribingFileTeamId")]]},nullable:!0},{name:"libraryUserSubscriptionOverride",type:{kind:"object",name:"LibraryUserSubscription"},args:[{name:"subscribingUserId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",y("hubFileId")],["userId","=",A("subscribingUserId")]]},nullable:!0},{name:"libraryFileSubscriptionOverride",type:{kind:"object",name:"LibraryFileSubscription"},args:[{name:"subscribingFileKey",type:{kind:"string"}}],filter:{and:[["hubFileId","=",y("hubFileId")],["fileKey","=",A("subscribingFileKey")]]},nullable:!0}]};var U4={name:"RecentFile2",naturalKey:new Set(["id","userId"]),fields:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"}},{name:"action",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"actionAt",type:{kind:"datetime"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",y("fileKey")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var ETe={version:"1.13.2",session:{args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}]},views:{...NY,...R_},objects:[{name:"root",fields:[{name:"currentUser",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("userId")]},{name:"team",type:{kind:"object",name:"Team"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"recentPrototypes",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",A("userId")],expectedMaxCount:200},{name:"lastFrameSelection",type:{kind:"object",name:"LastFrameSelection"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],resolver:{type:"Redis",keyPrefix:"persistent-last-frame-selection",keyPostfix:[A("userId")]},filter:["id","=",A("userId")]},{name:"persistentLastFrameSelection",type:{kind:"object",name:"PersistentLastFrameSelection"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],resolver:{type:"Redis",keyPrefix:"persistent-last-frame-selection",keyPostfix:[A("userId")]},nullable:!0},{name:"latestClipboardData",type:{kind:"object",name:"LatestClipboardData"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"deviceType",type:{kind:"enum",name:"DeviceType"}}],filter:{and:[["id","=",A("userId")],["deviceType","=",A("deviceType")]]},orderBy:[["timestamp","DESC"]],expectedMaxCount:1},{name:"file",type:{kind:"object",name:"File"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],checkCanRead:{fieldName:"canReadV2",userId:A("userId"),sessionId:b("sessionId")},nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"figFileWorkshopMode",type:{kind:"object",name:"FigFileWorkshopMode"},args:[{name:"fileKey",type:{kind:"string"}}],filter:["fileKey","=",A("fileKey")],nullable:!0},{name:"figFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},args:[{name:"figFileKey",type:{kind:"string"}}],filter:["figFileKey","=",A("figFileKey")],nullable:!0},{name:"repo",type:{kind:"object",name:"Repo"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{fieldName:"canReadV2",userId:A("userId"),sessionId:b("sessionId")},nullable:!0},{name:"prototype",type:{kind:"object",name:"Prototype"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"orgJoinRequest",type:{kind:"object",name:"OrgJoinRequest"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["requesterUserId","=",A("userId")],["orgId","=",A("orgId")],["status","=","pending"]]},nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],checkCanRead:{userId:A("userId")},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"health",type:{kind:"object",name:"User"},filter:["id","<>","-1"],nullable:!0,expectedMaxCount:1},{name:"style",type:{kind:"object",name:"Style"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"styleWithDestinationAsset",type:{kind:"object",name:"StyleWithDestinationAsset"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"styleWithDestinationAssetV2",type:{kind:"object",name:"StyleWithDestinationAssetV2"},args:[{name:"key",type:{kind:"string"}},{name:"openFileKey",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId"),openFileKey:A("openFileKey")}},{name:"libraryPublish",type:{kind:"object",name:"LibraryPublish"},args:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"libraryPublishV2",type:{kind:"object",name:"LibraryPublishV2"},args:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("id")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"component",type:{kind:"object",name:"Component"},args:[{name:"componentKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["componentKey","=",A("componentKey")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"stateGroup",type:{kind:"object",name:"StateGroup"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{deprecated:{reason:"Use variableCollection instead",date:"2023-04-27"},name:"variableSet",type:{kind:"object",name:"VariableSet"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"variableCollection",type:{kind:"object",name:"VariableSet"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"variable",type:{kind:"object",name:"Variable"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",A("key")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"plugin",type:{kind:"object",name:"Plugin"},args:[{name:"pluginId",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("pluginId")],nullable:!0,checkCanRead:{userId:A("userId"),orgId:A("orgId")}},{name:"pluginPreferences",type:{kind:"object",name:"PluginPreferences"},args:[{name:"currentUserId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0},{name:"targetOrgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{targetUserId:A("targetUserId"),targetOrgId:A("targetOrgId"),currentUserId:A("currentUserId")},filter:{or:[{and:[["userId","=",A("targetUserId")],["userId","<>",null]]},{and:[["orgId","=",A("targetOrgId")],["orgId","<>",null]]}]}},{name:"pluginSecurityFormResponse",args:[{name:"pluginId",type:{kind:"string"}}],type:{kind:"object",name:"PluginSecurityFormResponses"},nullable:!0,filter:["pluginId","=",A("pluginId")]},{name:"communityProfile",type:{kind:"object",name:"Profile"},args:[{name:"profileId",type:{kind:"bigint"}}],filter:{and:[["id","=",A("profileId")],["publicAt","<>",null]]},nullable:!0},{name:"communityHubLike",type:{kind:"object",name:"CommunityHubLike"},args:[{name:"profileId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",A("profileId")],["hubFileId","=",A("hubFileId")],["pluginId","=",A("pluginId")]]},nullable:!0,checkCanRead:{userId:b("userId"),profileId:A("profileId")}},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["monetizedResourceMetadataId","=",A("monetizedResourceMetadataId")],nullable:!0,checkCanRead:{userId:A("userId")}},{name:"communityRatingStatsForHubFile",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"hubFileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",A("hubFileId")],["hubFileId","<>",null]]},nullable:!0},{name:"communityRatingStatsForWidget",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"widgetId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["widgetId","=",A("widgetId")],["widgetId","<>",null]]},nullable:!0},{name:"communityRatingStatsForPlugin",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"pluginId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["pluginId","=",A("pluginId")],["pluginId","<>",null]]},nullable:!0},{name:"communityRatingForProfileAndResource",type:{kind:"object",name:"CommunityComment"},args:[{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"}}],filter:{and:[["ratingValue","<>",null],["profileId","=",A("profileId")],{or:[{and:[["pluginId","=",A("pluginId")],["pluginId","<>",null]]},{and:[["hubFileId","=",A("hubFileId")],["hubFileId","<>",null]]}]}]},nullable:!0},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},args:[{name:"id",type:{kind:"bigint"}}],filter:["id","=",A("id")],nullable:!0},{name:"communityM10nResourceStat",type:{kind:"object",name:"CommunityM10nResourceStat"},args:[{name:"sessionUserId",type:{kind:"bigint"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],filter:["monetizedResourceMetadataId","=",A("monetizedResourceMetadataId")],nullable:!0,checkCanRead:{monetizedResourceMetadataId:A("monetizedResourceMetadataId"),sessionUserId:A("sessionUserId")}},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionUserId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",A("userId")],nullable:!0,checkCanRead:{userId:A("userId"),sessionUserId:A("sessionUserId")}},{name:"feedPost",type:{kind:"object",name:"FeedPost"},args:[{name:"publicUuid",type:{kind:"uuid"}}],filter:["publicUuid","=",A("publicUuid")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"mobileFeedPost",type:{kind:"object",name:"FeedPost"},args:[{name:"id",type:{kind:"bigint"}}],filter:["id","=",A("id")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"developerLinks",type:{kind:"objects",name:"DeveloperLink"},args:[{name:"key",type:{kind:"string"}}],filter:["key","=",A("key")],nullable:!0,expectedMaxCount:10},{name:"developerRelatedLinks",type:{kind:"objects",name:"DeveloperRelatedLink"},args:[{name:"nodeId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}}],filter:{and:[["nodeId","=",A("nodeId")],["fileKey","=",A("fileKey")]]},nullable:!0},{name:"developerCodeSnippet",type:{kind:"object",name:"DeveloperCodeSnippet"},args:[{name:"key",type:{kind:"string"}},{name:"platform",type:{kind:"string"}}],filter:{and:[["key","=",A("key")],["platform","=",A("platform")]]},nullable:!0},{name:"libraryByFileKey",type:{kind:"object",name:"Library"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",A("fileKey")],["hubFileId","=",null]]},nullable:!0},{name:"communityLibraryByHubFileId",type:{kind:"object",name:"CommunityLibrary"},args:[{name:"hubFileId",type:{kind:"bigint"}}],filter:["hubFileId","=",A("hubFileId")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"communityLibraryByHubFileIds",type:{kind:"objects",name:"CommunityLibrary"},args:[{name:"hubFileIds",type:{kind:"list",ofType:{kind:"bigint"}}}],filter:{and:[["hubFileId","<>",null],["hubFileId","in",A("hubFileIds")]]},nullable:!0,checkCanRead:{userId:b("userId")},expectedMaxCount:200},{name:"communityQuickstartLibraries",type:{kind:"objects",name:"CommunityQuickstartLibrary"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/quickstart_community_libraries",queryParams:{userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"presetLibrariesShelf",type:{kind:"object",name:"CommunityShelf"},filter:{and:[["order","<>",null],["shelfType","=",12]]},orderBy:[["order","DESC"],["featuredAt","DESC"]],nullable:!0},{name:"orgAdminUsers",type:{kind:"objects",name:"OrgAdminUserSearchResult"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/org_admin",queryParams:{org_id:A("orgId"),query_params:A("queryParams"),userId:A("userId")},realtimePolicy:{type:"Static"}},pagination:{firstPageSize:A("firstPageSize")},orderBy:"Unordered"},{name:"orgAdminUsersInfo",type:{kind:"object",name:"OrgAdminUsersInfo"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_admin_users_info",queryParams:{org_id:A("orgId"),userId:A("userId")},realtimePolicy:{type:"Static"}}},{name:"orgTeams",type:{kind:"objects",name:"OrgTeamResult"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"queryParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],nullable:!0,orderBy:"Unordered",pagination:{firstPageSize:A("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/org_teams",queryParams:{userId:A("userId"),org_id:A("orgId"),queryParams:A("queryParams")},realtimePolicy:{type:"Static"}}},{name:"allTeamRoles",type:{kind:"objects",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["userId","=",A("userId")],["resourceType","=","team"]]},expectedMaxCount:2e3},{name:"esOrgUsersInfo",type:{kind:"objects",name:"EsOrgUsersInfo"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/es_org_users_info",queryParams:{org_id:A("orgId"),query_params:A("queryParams"),userId:A("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"org-user-membership-assignments-",channelPostfix:[A("orgId")]}}},{name:"feedPosts",type:{kind:"objects",name:"FeedPostResult"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"feedFilter",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],orderBy:[["createdAt","DESC"]],pagination:{firstPageSize:A("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/feed_posts",queryParams:{userId:A("userId"),org_id:A("orgId"),feedFilter:A("feedFilter")},realtimePolicy:{type:"Static"}}},{name:"profile",type:{kind:"object",name:"Profile"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",A("profileId")]},{name:"sharedWithYouResources",type:{kind:"objects",name:"SharedWithYouResource"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceTypes",type:{kind:"list",ofType:{kind:"string"}}},{name:"firstPageSize",type:{kind:"int"}},{name:"sortOrder",type:{kind:"string"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"planId",type:{kind:"bigint"},nullable:!0},{name:"planType",type:{kind:"string"},nullable:!0},{name:"fileType",type:{kind:"string"},nullable:!0},{name:"orgDeletedDrafts",type:{kind:"string"},nullable:!0}],pagination:{firstPageSize:A("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/shared_with_you_resources",queryParams:{userId:A("userId"),resource_types:A("resourceTypes"),sort_order:A("sortOrder"),cursor_column:A("cursorColumn"),sharer_id:A("sharedBy"),plan_id:A("planId"),plan_type:A("planType"),file_type:A("fileType"),org_deleted_drafts:A("orgDeletedDrafts")},realtimePolicy:{type:"Static"}},orderBy:"Unordered"},{name:"sharedWithYouFile",type:{kind:"object",name:"SharedWithYouFile"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",A("id")]},{name:"sharedWithYouRepo",type:{kind:"object",name:"SharedWithYouRepo"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",A("id")]},{name:"sharedWithYouPrototype",type:{kind:"object",name:"SharedWithYouPrototype"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",A("id")]},{name:"sharedWithYouFolder",type:{kind:"object",name:"SharedWithYouFolder"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId")},nullable:!0,filter:["id","=",A("id")]},{name:"sharedWithYouTeam",type:{kind:"object",name:"SharedWithYouTeam"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:A("userId")},nullable:!0,filter:["id","=",A("id")]},{name:"userNotificationBell",type:{kind:"object",name:"UserNotificationBell"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:{and:[["userId","=",A("userId")]]},nullable:!0},{name:"userColorProfilePreference",type:{kind:"object",name:"UserColorProfilePreference"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",A("userId")],nullable:!0},{name:"colorPalettesForTeam",type:{kind:"objects",name:"ColorPalette"},args:[{name:"teamId",type:{kind:"bigint"}}],filter:["teamId","=",A("teamId")],checkCanRead:{userId:b("userId")},nullable:!0,expectedMaxCount:200},{name:"resourceSave",type:{kind:"object",name:"ResourceSave"},args:[{name:"hubFileId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",A("hubFileId")],["userId","=",A("userId")]]},nullable:!0},{name:"resourceSaves",type:{kind:"objects",name:"ResourceSave"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",A("userId")],nullable:!0,expectedMaxCount:200},{name:"pluginInstall",type:{kind:"object",name:"PluginInstall"},args:[{name:"pluginId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["pluginId","=",A("pluginId")],["userId","=",A("userId")]]},nullable:!0},{name:"orgPluginInstalls",type:{kind:"objects",name:"PluginInstall"},args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgIds",type:{kind:"list",ofType:{kind:"bigint"}}}],filter:{and:[["pluginId","=",A("pluginId")],["orgId","in",A("orgIds")]]},nullable:!0},{name:"colorPaletteForUuid",type:{kind:"object",name:"ColorPalette"},args:[{name:"uuid",type:{kind:"uuid"}}],filter:["uuid","=",A("uuid")],checkCanRead:{userId:b("userId")},nullable:!0},{name:"appliedColorPaletteForFile",type:{kind:"object",name:"FileColorPalette"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",A("fileKey")]]},deprecated:{reason:`The view AppliedColorPaletteForFile now reads the defaultColorPaletteData
              and userColorPaletteOverrideData fields from the file object directly.`,date:"2023-06-27"},nullable:!0},{name:"pendingUserMentions",type:{kind:"objects",name:"PendingUserMentions"},args:[{name:"fileCommentId",type:{kind:"bigint"}}],filter:["fileCommentId","=",A("fileCommentId")],nullable:!0,expectedMaxCount:200},{name:"billingTrialForResourceAndPlanType",type:{kind:"object",name:"BillingTrial"},args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}}],filter:{and:[["resourceId","=",A("resourceId")],["resourceType","=",A("resourceType")],["planType","=",A("planType")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1,nullable:!0},{name:"billingTrialForResource",type:{kind:"object",name:"BillingTrial"},args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}}],filter:{and:[["resourceId","=",A("resourceId")],["resourceType","=",A("resourceType")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1,nullable:!0},{name:"jamboardOfferRedeemedAt",type:{kind:"object",name:"JamboardOfferRedeemedAt"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",A("userId")],expectedMaxCount:1,nullable:!0},{name:"subscriptionUpdateSloData",type:{kind:"object",name:"SubscriptionUpdateSloData"},args:[{name:"id",type:{kind:"uuid"}}],filter:["id","=",A("id")],nullable:!0},{name:"slidesTheme",type:{kind:"objects",name:"SlidesTheme"},args:[{name:"themeKey",type:{kind:"string"},nullable:!0}],filter:["themeKey","=",A("themeKey")],nullable:!0,expectedMaxCount:200},{name:"adminRequestDashboardRows",type:{kind:"objects",name:"AdminRequestDashboardRow"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sortOrder",type:{kind:"string"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],orderBy:"Unordered",pagination:{firstPageSize:A("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/admin_request_dashboard",queryParams:{userId:A("userId"),plan_type:A("planType"),plan_id:A("planId"),sort_order:A("sortOrder"),filter_params:A("filterParams")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"adminRequestDashboardRowCount",type:{kind:"object",name:"AdminRequestDashboardRowCount"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/admin_request_dashboard_row_count",queryParams:{userId:A("userId"),plan_type:A("planType"),plan_id:A("planId"),filter_params:A("filterParams")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"adminRequestDashboardTotalRowCount",type:{kind:"object",name:"AdminRequestDashboardTotalRowCount"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/admin_request_dashboard_row_count",queryParams:{userId:A("userId"),plan_type:A("planType"),plan_id:A("planId"),filter_params:A("filterParams")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"favoritedResource",type:{kind:"object",name:"FavoritedResourceV2"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"FavoritedResourceType"}}],filter:{and:[["userId","=",A("userId")],["resourceType","=",A("resourceType")],["resourceId","=",A("resourceId")]]},nullable:!0},{name:"favoritedResources",type:{kind:"object",name:"FavoritedResources"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["userId","=",A("userId")],["orgId","=",A("orgId")],["teamId","=",A("teamId")]]},nullable:!0},{name:"devModeSuggestedUpgrades",type:{kind:"objects",name:"DevModeSuggestedUpgradableUser"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"limit",type:{kind:"int"},nullable:!0}],orderBy:[["lastUsedAt","DESC"]],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/dev_mode_suggested_upgrades",queryParams:{userId:A("userId"),plan_type:A("planType"),plan_id:A("planId"),limit:A("limit")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"devModeSuggestedUpgradesFlag",type:{kind:"objects",name:"DevModeSuggestedUpgradableUser"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"limit",type:{kind:"int"},nullable:!0}],orderBy:[["lastUsedAt","DESC"]],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/dev_mode_suggested_upgrades",queryParams:{userId:A("userId"),plan_type:A("planType"),plan_id:A("planId"),limit:A("limit")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"deviceTryFile",type:{kind:"object",name:"DeviceTryFile"},args:[{name:"fileKey",type:{kind:"string"}}],filter:["fileKey","=",A("fileKey")],nullable:!0,expectedMaxCount:1},{name:"orgLibrarySubscriptions",type:{kind:"objects",name:"LibraryOrgSubscription"},args:[{name:"orgId",type:{kind:"bigint"}}],filter:["orgId","=",A("orgId")],nullable:!0,expectedMaxCount:200,checkCanRead:{userId:b("userId")}},{name:"libraryPresetSubscriptions",type:{kind:"objects",name:"LibraryPresetSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/quickstart_community_libraries",queryParams:{userId:A("userId")},realtimePolicy:{type:"Static"}}}]},uH,dH,xh,aH,lH,vH,DH,EK,UK,oZ,T2,pH,gH,FH,OH,D1,vZ,L2,YH,IZ,xH,kK,tK,dK,BK,NK,PK,_K,MK,eK,aZ,lZ,lK,rK,UH,sZ,yZ,$1,cZ,tZ,rZ,nZ,iZ,fZ,nK,xZ,SZ,OZ,FZ,zH,sK,jZ,PZ,gZ,e1,q2,Y2,X2,H2,K2,J2,Q2,Z2,z2,$2,n1,i1,s1,o1,x1,S1,O1,dZ,uZ,r9,ZK,zK,qK,bZ,P1,VH,NH,ZH,HH,KH,qH,bH,yH,E2,U2,d1,kZ,g1,m1,b1,f1,pc,RK,jK,OK,bK,JK,$K,t9,wZ,EZ,B2,rH,oH,JZ,QZ,$Z,mZ,_Z,UZ,VZ,BZ,M2,TZ,a1,u1,NZ,WZ,MZ,LZ,E4,GZ,C1,A1,v1,fH,N2,W2,G2,CH,hZ,zZ,eZ,YK,hH,cH,XZ,KZ,ZZ,HZ,YZ,qZ,s9,i9,o9,a9,CZ,AZ,w1,E1,U1,_1,k1,T1,M1,L1,XK,TK,j2,oK,mK,n9,wK,P2,XH,c1,p1,l1,t1,r1,eH,KK,V1,B1,q1,H1,K1,Y1,X1,z1,J1,Q1,Ch,LK,aK,sH,iH,nH,iK,U4,fK,hK,IK,yK,xK,CK,tH,mH,j1,GK,uK,WH,BH,MH,GH,R1,DZ,IH,EH,pZ,cK,pK,gK,_2,RH,jH,PH,_H,TH,kH,WK,wH,V2,FK,F1,HK,RZ,VK,SK,vK,AK,DK,QK,e9,k2,w2,j4,LH,SH,P4,_4,AH,T4,k4,w4,y1,I1,h1],enums:R2,legacyConfigDef:{exemptions:{viewArg:{string:{bigint:["FilePermissions.file.repo.roles.user.teamUser.teamId","FilePermissions.file.roles.user.teamUser.teamId","FilePermissionsV2.file.readableRoles.user.teamUser.teamId","FilePermissionsV2.file.repo.roles.user.teamUser.teamId","FileShareModalPermissionsV3.file.readableRoles.user.teamUser.teamId","FileShareModalPermissionsV3.file.repo.roles.user.teamUser.teamId","FolderCanEdit.project.id","FolderCanView.project.id","FolderIsOwner.project.id","FolderPermissions.project.projectId","LibraryManagementData.org.orgId","LicenseGroupSubscribedLibrariesForTeam.team.teamId","ProRequestUpgradeModalData.team.teamId","ProjectTilePermissions.project.projectId","RepoCanEdit.repo.id","RepoCanViewPrototype.repo.id","TeamCanAdmin.team.id","TeamCanEdit.team.id","TeamCanView.team.id","TeamIsOwner.team.id","TeamPermissions.team.teamId","UserMonetizationMetadata.userMonetizationMetadata.userId","WorkspaceSubscribedLibrariesForTeam.team.teamId"]}},filterArg:{string:{bigint:["Component"+".user.id","FavoritedProject"+".readableProject.id","FavoritedPrototype"+".prototype.id","FavoritedPrototype"+".readablePrototype.id","FavoritedTeam"+".team.id","FavoritedWorkspace"+".licenseGroup.id","FavoritedWorkspace"+".workspace.id","File"+".linkExpirationConfig.figFileKey","File"+".mainFileLinkExpirationConfig.figFileKey","File"+".fileLinkExpirationConfig.figFileKey","File"+".sourceFileLinkExpirationConfig.figFileKey","File"+".publishedHubFile.figFileId","File"+".pwdConfig.figFileId","OrgAwareTeamRole"+".team.id","OrgUserUpgradeWithProject"+".project.id","OrgUserUpgradeWithRepo"+".repo.id","OrgUserUpgradeWithTeam"+".team.id","ProjectRole"+".project.id","Repo"+".linkExpirationConfig.figFileKey","Repo"+".mainFileLinkExpirationConfig.figFileKey","RepoRole"+".repo.id","SharedWithYouFolder"+".folder.id","SharedWithYouRepo"+".repo.id","SharedWithYouTeam"+".team.id","StateGroup"+".user.id","Style"+".user.id","StyleWithDestinationAsset"+".user.id","StyleWithDestinationAssetV2"+".user.id","StyleWithLegacySourceAsset"+".user.id","TeamRole"+".team.id","Template"+".publishedByUser.id","Template"+".publishedByUserNullable.id","Variable"+".user.id","VariableSet"+".user.id","root.developerLinks.key","root.figFileLinkExpirationConfig.figFileKey","root.plugin.id","root.pluginSecurityFormResponse.pluginId"]}},computedFieldArg:{string:{bigint:["UserMonetizationMetadata"+".canRead.root.user.userId"]}}},allowAllExemptions:!1}},j_=ETe;function M4(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&process.version!==void 0?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Xke=ke(N4(),1),zke=ke(B_(),1),Jke=ke(N_(),1),z_=ke(Y_(),1),Qke=ke(LJ(),1);var VJ;(s=>(s._name="FileCanViewPrototype",s._argKeys=["key"],s._hash="c6eab60defed17a0ed437c8f32580c9f8cf6778c71ff81e7f2083f634e44cf94"))(VJ||(VJ={}));var BJ;(s=>(s._name="FileCanView",s._argKeys=["key"],s._hash="48ac38814b2237c2065d4ff4882b2cb209c6d3f198aba1f4bd50abb022009ae8"))(BJ||(BJ={}));var NJ;(s=>(s._name="FileCanEdit",s._argKeys=["key"],s._hash="643c2a05daae274b5d3321fbdcf7b17b79f2e79a1034d438797472bd97393a01"))(NJ||(NJ={}));var WJ;(s=>(s._name="FileCanEditCanvas",s._argKeys=["key"],s._hash="b194dd9783ee6bd825ae9732a909db2484305b9d2d5af4b6fb642551cb6f50a6"))(WJ||(WJ={}));var GJ;(s=>(s._name="FileCanPublishTemplate",s._argKeys=["key"],s._hash="f696820ab1ffdbad28ffce0853e92df9d8eb2da66767ddca8195afd60d158944"))(GJ||(GJ={}));var ZJ;(s=>(s._name="FileCanInsertTemplate",s._argKeys=["key"],s._hash="529bb846add2c9dbc6426845a8fc1254c172e901b5adc1eb75f85d2fdfdc550e"))(ZJ||(ZJ={}));var HJ;(s=>(s._name="FileCanManage",s._argKeys=["key"],s._hash="987682370bd275428a4963c11e323f210d666369bcf37a9fec09d1fe8f03e4cd"))(HJ||(HJ={}));var KJ;(s=>(s._name="FileCanDiscover",s._argKeys=["key"],s._hash="a57917afbc9a52e771a2a5566b0c529662df75214079ecc0680441ed10dc03e2"))(KJ||(KJ={}));var qJ;(s=>(s._name="FileCanRename",s._argKeys=["key"],s._hash="87b5d4e2825560b69bb48e783bfaba67be824394071da2587fbd076dbf7092cb"))(qJ||(qJ={}));var YJ;(s=>(s._name="FileCanDelete",s._argKeys=["key"],s._hash="0cd796892bea0225acd729c588699af6b239b42550319a5480f137aa4d6002ca"))(YJ||(YJ={}));var XJ;(s=>(s._name="FileCanFavorite",s._argKeys=["key"],s._hash="2000b071aacee9da5b005acecd19b3e342f9cd1e070cbfc827d16da1f16498d5"))(XJ||(XJ={}));var zJ;(s=>(s._name="FileCanViewAndCreateComments",s._argKeys=["key"],s._hash="f99edfef6ff5371941de0561998a310d8c1637346a4965485361e74ae8b9cf43"))(zJ||(zJ={}));var JJ;(s=>(s._name="FileCanMoveComments",s._argKeys=["key"],s._hash="d9915d3d90f7af6d8edb43274eb01eb3245181d8c985c6549fcf4ad42a0768d1"))(JJ||(JJ={}));var QJ;(s=>(s._name="FileCanEditIgnorePaidStatus",s._argKeys=["key"],s._hash="c0645a63f9c8296d39565df1a8b6bcc3a73169457943ccea99ab43aedac93eb1"))(QJ||(QJ={}));var $J;(s=>(s._name="FileCanEditIgnoreEduGracePeriod",s._argKeys=["key"],s._hash="d9ccbe4d68d2818003c0eff67ad8b2f75afdbff87659840ed1a96477ba4a20f6"))($J||($J={}));var e8;(s=>(s._name="FileCanAccessFullDevMode",s._argKeys=["key"],s._hash="302fbd5879cecb4610fe6df0a296cc2451f6080d9856a69158f09c4e496b5f34"))(e8||(e8={}));var t8;(s=>(s._name="FileIsEligibleForDevModeTrial",s._argKeys=["key"],s._hash="bf6a330655a5ab104f115c1e79c00375b371e83c66dcc6dcc151aea798a5806c"))(t8||(t8={}));var r8;(s=>(s._name="FileIsInDevModeTrial",s._argKeys=["key"],s._hash="0f0a626606251ee8ce9c6aa2571831102a857ff8dc8f6c1becdaee70c3cce36e"))(r8||(r8={}));var n8;(s=>(s._name="FileCanAccessDevModeEntryPoint",s._argKeys=["key"],s._hash="5a05c6362ed74a5daf15f1d1cb6e52f01b9ae8cca68a3a2449c38bddf2a81536"))(n8||(n8={}));var i8;(s=>(s._name="RepoCanViewPrototype",s._argKeys=["id"],s._hash="675ae8e00e683fd367418a29ed69f3ea04cfbcfe82c195a2145097418e2cfc0b"))(i8||(i8={}));var s8;(s=>(s._name="RepoCanEdit",s._argKeys=["id"],s._hash="690bd4ed85e298f5ace65f86eab428eccb15a47ea6c4c3ab15891bbd2fed0397"))(s8||(s8={}));var o8;(s=>(s._name="FolderCanView",s._argKeys=["id"],s._hash="70ecb44b81d469b5104c6b0eaedb2720da5bd071d4736c4dd120b7c335c75609"))(o8||(o8={}));var a8;(s=>(s._name="FolderCanEdit",s._argKeys=["id"],s._hash="d99e6e3bdbc0fb50136cd9e5277b9f10d6d3cd990f6b174e494f0fe791501f02"))(a8||(a8={}));var l8;(s=>(s._name="FolderIsOwner",s._argKeys=["id"],s._hash="ad6da55833e7710a0860da6f293d3c401700a70c6670310bd93c0328e6f1b152"))(l8||(l8={}));var d8;(s=>(s._name="TeamCanView",s._argKeys=["id"],s._hash="f91074f4851884b6957717ce7253f5da45b4e76b3d61e9a209c39cfd4e3b60fd"))(d8||(d8={}));var u8;(s=>(s._name="TeamCanEdit",s._argKeys=["id"],s._hash="aed3e798b36291c9381d2dbef51e0e662efaf8848c388e3d20542172e19bf178"))(u8||(u8={}));var c8;(s=>(s._name="TeamCanAdmin",s._argKeys=["id"],s._hash="ee6e0cc473b7fb71ab34c563834a9dd0b82c39552594b1e690a96509361d603c"))(c8||(c8={}));var p8;(s=>(s._name="TeamIsOwner",s._argKeys=["id"],s._hash="2dacb181fae79b9852eeee4a1e5fa0d471de7905779396addd012bc96b415c94"))(p8||(p8={}));var g8;(s=>(s._name="AccessibleFolders",s._argKeys=["orgId"],s._hash="646a01f44021bd8c180e60c462c824caadcd867410c40a40aa11c754a698a85c"))(g8||(g8={}));var m8;(s=>(s._name="AccessibleFoldersV2",s._argKeys=["orgId"],s._hash="fd388b3bc8040b0131a15cd94aeac41c157c7f79a1da29b8778a320a9198c717"))(m8||(m8={}));var b8;(s=>(s._name="ActiveFileUsersForFileView",s._argKeys=["fileKey"],s._hash="5f1d95341891783b9628176ec323d3e47e0cecc92f5f55840722cecc727b5af6"))(b8||(b8={}));var f8;(s=>(s._name="ExtensionActivityLogHistoryView",s._argKeys=["orgId","actedOnIdOrKey","userId"],s._hash="aca0968c8a26d8435b000c3d50bb73f508727dc01fdf175cc58692dd78344e5c"))(f8||(f8={}));var y8;(s=>(s._name="AdminNotificationsCountView",s._argKeys=["planType","planId","filterParams"],s._hash="58374b7b131553d8f642c371ba68b02a989126afb2bea8baf7c75f3ebb6756e1"))(y8||(y8={}));var I8;(s=>(s._name="AdminRequestDashboardView",s._argKeys=["planType","planId","sortOrder","filterParams","firstPageSize"],s._hash="b8018dcd64c5faf7a8c089018d4832416e9dbe08aa34c9d989df4f085b41977d"))(I8||(I8={}));var h8;(s=>(s._name="AdminSettingsSelectorView",s._argKeys=["orgId"],s._hash="4147f294bfa4efbd6a993605ee12d8918bf2aba79ae900c6cd30e3041551e95f"))(h8||(h8={}));var x8;(s=>(s._name="AllowlistPluginsSectionView",s._argKeys=["orgId"],s._hash="927ee51d0b9a473ed814e4faf5ac8f6f96117c7cc67fc3e8361f86a46010abb0"))(x8||(x8={}));var C8;(s=>(s._name="FileOrgExtensionSettingsView",s._argKeys=["fileKey"],s._hash="8f268a3c9b6d35cca60e3275a2585672dabfccb3f7e1e09b3e0503a40a0f4ea2"))(C8||(C8={}));var A8;(s=>(s._name="AllowlistSettingsModalView",s._argKeys=["orgId"],s._hash="0c693a1d2129815e969eaf337d6e3f543053dc7b7e5d4e715d172f6e76fe91ba"))(A8||(A8={}));var v8;(s=>(s._name="AppliedColorPaletteForFile",s._argKeys=["fileKey"],s._hash="d7bb73a2b34fc6a8b262a0d3c6a14139aabe2f321f2198e9a8f64aaad1aaa3c3"))(v8||(v8={}));var S8;(s=>(s._name="AutoRunPluginsView",s._argKeys=["targetOrgId","targetUserId"],s._hash="bd664c41a874536a44ee6b39fed040bd2c1435e7e6ee8b47970c0689a92ed660"))(S8||(S8={}));var O8;(s=>(s._name="BillingTrialForResource",s._argKeys=["resourceId","resourceType"],s._hash="eae7e0970266b809811d071443b722e7cd0bcea765f60ea9ac150d6c8983076a"))(O8||(O8={}));var F8;(s=>(s._name="BillingTrialForResourceAndPlanType",s._argKeys=["resourceId","resourceType","planType"],s._hash="266a0830caf0d0cc90461eff7153ec71964454cca44fc69221bed13689cded69"))(F8||(F8={}));var D8;(s=>(s._name="BlockingPrototypeData",s._argKeys=["fileKey"],s._hash="b83030f85414f748104fcf5fc4ac7e59335c82388a0a2cd9e1443f1a9d4fed74"))(D8||(D8={}));var R8;(s=>(s._name="BlockingUserState",s._argKeys=[],s._hash="f156dee134b054963ffc5c9cb4b70eecc8779fbb2f3248d04dbae4c7a95ae28e"))(R8||(R8={}));var j8;(s=>(s._name="BranchOpenMergeRequest",s._argKeys=["branchFileKey"],s._hash="f8edbf534eda2e25b28944111acba2c4a4389bdabbe3317aad41c398fada7496"))(j8||(j8={}));var P8;(s=>(s._name="BrowseTemplatesView",s._argKeys=["currentOrgId"],s._hash="ace64503f7e7ab64486ebbba35dbde191c4a7771ffedaa84bf681954f3708f25"))(P8||(P8={}));var _8;(s=>(s._name="ChurnFrictionPersonalizedModalView",s._argKeys=["teamId"],s._hash="a7851e2e2978128a48b7cde5603fe7034be5a4f549fb433cd971790c5e6acf0c"))(_8||(_8={}));var T8;(s=>(s._name="ColorPaletteForUuid",s._argKeys=["uuid"],s._hash="b6e5b57e1dbc8191b78905643b482d34f17bcba290a2ffbfe235f2944f96d331"))(T8||(T8={}));var k8;(s=>(s._name="ColorPalettesForTeam",s._argKeys=["teamId"],s._hash="4ee8f8daf1158220a88697aa5b15cd63e62423c791e11329a99da157f201368f"))(k8||(k8={}));var w8;(s=>(s._name="CommunityHubLikeForProfile",s._argKeys=["profileId","hubFileId","pluginId"],s._hash="0b2c5247975aa8bfb0f1b20240405ca5c36298ce51f868b46e4272567df5ba7c"))(w8||(w8={}));var E8;(s=>(s._name="CommunityLibraries",s._argKeys=["hubFileIds"],s._hash="0e00c1032e51311ba04fd1d0328a3d9aeec542b0535e149431f80a070406ab97"))(E8||(E8={}));var U8;(s=>(s._name="CommunityLibraryModalAssetsData",s._argKeys=["hubFileId"],s._hash="eb26e41dbdd234464e15c48acac2b5b167463eae90a67213d4ea76cdfa216e8b"))(U8||(U8={}));var M8;(s=>(s._name="CommunityLibraryVariableCollectionDataWithVariables",s._argKeys=["hubFileId"],s._hash="fe35759017c06392550cb99fdd6bd554f970270c7c32e8363e6d47455b137828"))(M8||(M8={}));var L8;(s=>(s._name="CommunityPayment",s._argKeys=["monetizedResourceMetadataId"],s._hash="0fc7e090505e4843be46ef517e18e051b23d36baebf2d6a9f90897b1e630fbcb"))(L8||(L8={}));var V8;(s=>(s._name="CommunityProfileView",s._argKeys=["profileId"],s._hash="6671d8587961b8af52b5b57c1ea9342a3b4808efd7a51d720a873fc4f3996066"))(V8||(V8={}));var B8;(s=>(s._name="CommunityRatingHubFileView",s._argKeys=["hubFileId","profileId"],s._hash="0e79dab7a17cc14186f061777e89f5a3562e534ddd129f353a28550d2d2c0b6a"))(B8||(B8={}));var N8;(s=>(s._name="CommunityRatingPluginView",s._argKeys=["pluginId","profileId","orgId"],s._hash="317ecefdc69796041428a80b335b462be9dbdf0f2a77d3cab9999ab2b788d44a"))(N8||(N8={}));var W8;(s=>(s._name="CommunityRatingStats",s._argKeys=["hubFileId","pluginId","widgetId"],s._hash="c76053f46a7802dcb936528692afdf6d9fa247546e730d3afacd2274c759ea61"))(W8||(W8={}));var G8;(s=>(s._name="CommunityResourceStat",s._argKeys=["monetizedResourceMetadataId"],s._hash="a5bf64bfc576c2d4da406f8ef240d196c2892b5013607631d1a9bf8edb429452"))(G8||(G8={}));var Z8;(s=>(s._name="ComponentByKey",s._argKeys=["key"],s._hash="8fa3b5eff59ee04fed0966334bbe6390967597ed345f75feec928592277b98d9"))(Z8||(Z8={}));var H8;(s=>(s._name="ComponentUpdatesForTeam",s._argKeys=["teamId"],s._hash="277f318dd7e4ad76c74e062216826be16bcae49e1c13b10b4253d7f9eb3c34bc"))(H8||(H8={}));var K8;(s=>(s._name="ComponentUpdatesForProject",s._argKeys=["projectId"],s._hash="cf9bb5b6b5a12a94b0cafa55923c11758f6d075f6cf46d0c15862ff523eff6d5"))(K8||(K8={}));var q8;(s=>(s._name="ComponentUpdatesForFile",s._argKeys=["fileKey"],s._hash="bd493cba4241dfe81f5dec0d63e89bd596c71afbe487e86e2dc5cc8095baa910"))(q8||(q8={}));var Y8;(s=>(s._name="StateGroupUpdatesForTeam",s._argKeys=["teamId"],s._hash="1b2695fedada6213850d8aefcb5f3f89b41acd3f92dddcde9920fb670375cf44"))(Y8||(Y8={}));var X8;(s=>(s._name="StateGroupUpdatesForProject",s._argKeys=["projectId"],s._hash="524734762820f4be4f352b0176b28582640c8b4369db042ff908aa69002df866"))(X8||(X8={}));var z8;(s=>(s._name="StateGroupUpdatesForFile",s._argKeys=["fileKey"],s._hash="8fb22d4ae83bd11aa950846237063e6f8f4be96493a5f2731fce7f81a853a6b4"))(z8||(z8={}));var J8;(s=>(s._name="ConfiguredUpgradeRequestModalView",s._argKeys=["orgId","permission"],s._hash="b918baff844f4f080bd845a5d8e55c441619beb41be649e26a321ef3fbb5e335"))(J8||(J8={}));var Q8;(s=>(s._name="CopyLinkFileData",s._argKeys=["fileKey"],s._hash="bee17c0e9834586fcf204d79f360e73440eb63dbf301d258f67356badd05fc42"))(Q8||(Q8={}));var Nx;(s=>(s._name="CurrentUserFileRecentsView",s._argKeys=[],s._hash="f9da04ed7a95ef4d8bd39f8431b9d41e174762399394bbff4516d1568f707f90"))(Nx||(Nx={}));var $8;(s=>(s._name="CurrentUserFileRecentsView2",s._argKeys=[],s._hash="a2c98811b4850f1d76f133b594a53a22d24da3ef127f741e2fc1f5676c3452ae"))($8||($8={}));var e7;(s=>(s._name="CurrentUserAssignedWorkspaceView",s._argKeys=["orgId"],s._hash="0c7124b14ed5ccdccfb7155562ef02dcd72fedd6730711bc62fa19726d19780c"))(e7||(e7={}));var t7;(s=>(s._name="CurrentWorkspaceView",s._argKeys=["fileKey"],s._hash="b37ca03df4ca9a6b339690368ea9b85fb1b4fa8d6a7624a425b8d47d45da4f74"))(t7||(t7={}));var r7;(s=>(s._name="DesktopNewTabData",s._argKeys=["currentOrgId"],s._hash="a7b0f6cd51d7d3f51b365907c971514862180a076dd2b971c9046e92b4086d12"))(r7||(r7={}));var n7;(s=>(s._name="DeveloperCodeSnippet",s._argKeys=["key","platform"],s._hash="82280a26081a8b1f915c38ed90de18d0718888d60da48c26227ac1e271b5bb09"))(n7||(n7={}));var i7;(s=>(s._name="DeveloperLinks",s._argKeys=["key"],s._hash="3522a726905686c70d0b9f2779ad86564010292cadb5746484f39bb9ad913e1f"))(i7||(i7={}));var s7;(s=>(s._name="DeveloperRelatedLinks",s._argKeys=["fileKey"],s._hash="d31ac965ef03c0e34554d512dfdf62bd711d232e5e9f45682c6502ee4719917c"))(s7||(s7={}));var o7;(s=>(s._name="DeveloperRelatedLinksForNode",s._argKeys=["fileKey","nodeId"],s._hash="76977ed58868a6fc5f10775c6ab56a7ae1c0edc9a9f855c28aa52f358f7dc558"))(o7||(o7={}));var a7;(s=>(s._name="DevModeOptIn",s._argKeys=["orgId"],s._hash="61d5df4716cb044bf5ff0c875b69f90e807db6d988bf8202e1cdc9d9113a19bb"))(a7||(a7={}));var l7;(s=>(s._name="DevModeOptInInfo",s._argKeys=["orgId"],s._hash="af5cb7df243be81ed41ae4ef78269a2b8e0ec4c7abf1522f56b6fa7db1c25791"))(l7||(l7={}));var d7;(s=>(s._name="DevModeOrgSuggestedUpgrades",s._argKeys=["planId"],s._hash="5e01659de6b3bd710f978f6d3c28a5487078d84df22095f93517a653b3bfe036"))(d7||(d7={}));var u7;(s=>(s._name="DevModeOrgSuggestedUpgradesDismissalFlag",s._argKeys=["orgId"],s._hash="ec2d5dce762461192af70dd142e32a5f808f416499795ba005c7204585b400e8"))(u7||(u7={}));var c7;(s=>(s._name="DevModeSuggestedUpgradesFlag",s._argKeys=["planId","planType"],s._hash="e44047a0d8c2ddd8dccf3c7b1bf0abff28efcbccbf943655e9a29a859dcb2b1b"))(c7||(c7={}));var p7;(s=>(s._name="DevModeTeamSuggestedUpgrades",s._argKeys=["planId"],s._hash="2bc38915d6114b0678ce2da41c01dbdd5d6eee85bd70cc1cbffaabf6f2a87f55"))(p7||(p7={}));var g7;(s=>(s._name="DevModeTeamSuggestedUpgradesDismissalFlag",s._argKeys=["teamId"],s._hash="25c370c3edcd6eb208376393049bf3183c626d68ae5f11cb30842a844bbe0a53"))(g7||(g7={}));var m7;(s=>(s._name="DraftsToMoveFoldersByUserId",s._argKeys=[],s._hash="8d7a8cd8c7f9d3a61a4e7071fc76629f4bfd0186e89a3977274c172888dc944d"))(m7||(m7={}));var b7;(s=>(s._name="EduOffboardingData",s._argKeys=[],s._hash="0158a27ab01fe1c83646bf0b7a2e6fdd43d68a852172299c3bf040300d2bca41"))(b7||(b7={}));var f7;(s=>(s._name="EnterpriseOrgAdminOnboardingSequenceView",s._argKeys=["orgId"],s._hash="7f06e9c84f1ac1d2b8d915830ffec5d7ccdb5e394b8131f3136384716959c338"))(f7||(f7={}));var y7;(s=>(s._name="DraftFilesView",s._argKeys=["draftsFolderId","cursorColumn","sortOrder","firstPageSize","editorType"],s._hash="2330f108bb179decb8806228edd44ae43a46e9d2d6ca20bb402a3624a9fbc588"))(y7||(y7={}));var I7;(s=>(s._name="ExtensionRequestTableView",s._argKeys=["orgId"],s._hash="d9a333afb35fa0e3391aaf2106bcecc77598952779e2615eafda4ea834c8ec7c"))(I7||(I7={}));var h7;(s=>(s._name="FavoritesByResourceId",s._argKeys=["resourceId","resourceType","orgId","teamId"],s._hash="4f89a909c08c00042f1b23e7e64682a8414adc946dfefd77b73a514e84cdbf43"))(h7||(h7={}));var x7;(s=>(s._name="FeedPostSummary",s._argKeys=["publicUuid"],s._hash="4d0d2704139d2a644fc8138116b3b42d2a86a7985668e5f8a019a6b4e948cd95"))(x7||(x7={}));var C7;(s=>(s._name="FeedPostWithDetails",s._argKeys=["publicUuid"],s._hash="24b29c30b4006f2bed17488c340866ce7f577c71191065971e50044e5d9158dc"))(C7||(C7={}));var A7;(s=>(s._name="FeedPostsByFileKey",s._argKeys=["fileKey"],s._hash="4f99ff364198b2984daa23a81f15a669866d20e88aa2d7e8ef2211645c41b40f"))(A7||(A7={}));var v7;(s=>(s._name="FeedPostsByUser",s._argKeys=["currentOrgId"],s._hash="8793493a8be41b4438c4380c01a50f17f818f4df57f8dcd4f4ec10b0c45bdf7d"))(v7||(v7={}));var S7;(s=>(s._name="FeedTagFollowsByUser",s._argKeys=[],s._hash="38d570f9ec2e0437c0574aa998634962b9940dba9d47b09e4a882042279d686a"))(S7||(S7={}));var O7;(s=>(s._name="FigmadocForNode",s._argKeys=["fileKey","nodeId"],s._hash="7255d8a5fccf242321693967d629e26a6156c1ed55abfd196a6f8da0adeba5a7"))(O7||(O7={}));var F7;(s=>(s._name="FigmadocForNode2",s._argKeys=["fileKey","nodeId","instances"],s._hash="5285baa59e7d643d3c8772ee7570b202c1b29c2f80c1f7e9eb5be7645460679d"))(F7||(F7={}));var D7;(s=>(s._name="FileBrowserMigratedToSections",s._argKeys=["currentOrgId"],s._hash="61324977b6249907be4795334b6c532fa6dfc8d9a1bfdd07e9035be7e5c6e3b6"))(D7||(D7={}));var R7;(s=>(s._name="FileBrowserSearchBarData",s._argKeys=["currentOrgId"],s._hash="38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"))(R7||(R7={}));var j7;(s=>(s._name="FileBrowserSidebarData",s._argKeys=["currentOrgId","currentTeamId"],s._hash="cd33f92cc3b15609348a6a16b1bca3fc7438dd45ebd734f347090a5776e24454"))(j7||(j7={}));var P7;(s=>(s._name="FileByKey",s._argKeys=["fileKey"],s._hash="022da1992de32cdd1768040dae6b4f71679213e7a4d0785efa1f1f72a7df204a"))(P7||(P7={}));var _7;(s=>(s._name="FileByKeyForRealtimeShim",s._argKeys=["fileKey"],s._hash="67a1fcc46782acc38bf2534fdb67065f088b47164bacf59ce39d7ee3d75eee79"))(_7||(_7={}));var T7;(s=>(s._name="FileCanvasMentionsByFileKey",s._argKeys=["fileKey"],s._hash="dc35c2dcd175108676c65c93f504e05adbd8888169b22866551f85905a6e8e4e"))(T7||(T7={}));var k7;(s=>(s._name="FileContext",s._argKeys=["fileKey"],s._hash="8cc187b44b38fec43bdb46aa20835e670a620079611851c36642b9410213edc5"))(k7||(k7={}));var w7;(s=>(s._name="FileEditRequestExistence",s._argKeys=["fileKey"],s._hash="55b97a4e6d343306b9e53426dd411854cb998677ff56f3733553024d41bc28cd"))(w7||(w7={}));var E7;(s=>(s._name="FileExpirationView",s._argKeys=["figFileKey"],s._hash="63f1f8b76ce0bf7092a474a9eb29db91e07f6414d0307424f2134a55e9b5767a"))(E7||(E7={}));var U7;(s=>(s._name="FileFeaturesEnabled",s._argKeys=["fileKey"],s._hash="3e849cdd44aa88387c5f239dff61de34b50b1a524cbfd9b4c80ab5cd6dfb95fe"))(U7||(U7={}));var M7;(s=>(s._name="FileKeysInProject",s._argKeys=["projectId"],s._hash="e9c541f314aaa3fe65310b611f2ece885d2779dcb987058831eccdf7b6b97c3b"))(M7||(M7={}));var L7;(s=>(s._name="FilesInProjectHighLimit",s._argKeys=["projectId"],s._hash="2d948d1dedcc3a6beb3dd70366d458c05295528c111b3a02859f0d3504b27278"))(L7||(L7={}));var V7;(s=>(s._name="FileManagePermission",s._argKeys=["fileKey"],s._hash="f2037b0da799497926535c4f9da6c1ee298943013d6185fcb953b66330d0fd63"))(V7||(V7={}));var B7;(s=>(s._name="FilePermissions",s._argKeys=["fileKey","projectId","teamId","repoId","currentOrgId"],s._hash="be4b4ed4f884faf2ad70b58abaf4d854c1c2661e101ca1a99a42b14d90b7c207"))(B7||(B7={}));var N7;(s=>(s._name="FilePermissionsV2",s._argKeys=["fileKey","projectId","teamId","repoId","currentOrgId"],s._hash="56404f8157df0d193546a67c327b925600c980c0e277577cc5f9b6205ec8fca6"))(N7||(N7={}));var W7;(s=>(s._name="FileShareModalPermissionsV3",s._argKeys=["fileKey","projectId","teamId","repoId","currentOrgId"],s._hash="b5ea1d874392ca0763240cae5ec3a86a20b99a6b3931fbd39b8f26043033220e"))(W7||(W7={}));var G7;(s=>(s._name="FileShareModalCurrentUserPermissions",s._argKeys=["fileKey"],s._hash="2512ac69f76b1d0cef25c3d71e7584305b46afe84ff6de2dfdab9ce5dbe6c7fd"))(G7||(G7={}));var Z7;(s=>(s._name="FilePermittedUsers",s._argKeys=["fileKey"],s._hash="eaf21b21c08ab0e243d9b446fa82b5542538b3bfa0274b46ae6489a1e9f8983a"))(Z7||(Z7={}));var H7;(s=>(s._name="FilePresenterData",s._argKeys=["fileKey"],s._hash="0508e03c1064490b32dd1ef8d46d6c4fb0666684e8ede6c521a9b93e105b789a"))(H7||(H7={}));var K7;(s=>(s._name="FileSearchResult",s._argKeys=["projectId"],s._hash="7aec367ec7d989f848385aa24d88615661b904010261788704b616a78ebad9d6"))(K7||(K7={}));var q7;(s=>(s._name="FileTemplateView",s._argKeys=["fileKey"],s._hash="07af256a60fd0adcd20542e38051ae1f3f25a2182e1aef4328379f740dda7af7"))(q7||(q7={}));var Y7;(s=>(s._name="FileTilePermissions",s._argKeys=["fileKey"],s._hash="e01852436e88d17ed052fcd17a12b9cc6e6df45bcf0e1e86660e6ca4aae839f6"))(Y7||(Y7={}));var X7;(s=>(s._name="FileVersions",s._argKeys=["fileKey"],s._hash="2bbf04757525ff3398275f549744fb8e051a34e74d6649ef877a562d8d9e3904"))(X7||(X7={}));var z7;(s=>(s._name="FileWithCommentsAndReactions",s._argKeys=["fileKey"],s._hash="c21719880d2c1e0d749e8c42caa85b7e7dfbd5754050c5a28e7ef8202e6af09c"))(z7||(z7={}));var J7;(s=>(s._name="QuickReply_CommentThreadByRootComment",s._argKeys=["fileKey","rootId"],s._hash="f9f84224f4976023038cbe85f45296e5f02afa666e1f0233135a07b243008b1f"))(J7||(J7={}));var Q7;(s=>(s._name="FilesForTeam",s._argKeys=["teamId","updatedAtTimestamp"],s._hash="88c0e38ff647e36d61f2f5bc2d564e028c4753fa77810434aaaa86743289a74a"))(Q7||(Q7={}));var $7;(s=>(s._name="FilesForProject",s._argKeys=["projectId","updatedAtTimestamp"],s._hash="fa8861f72131cae8a7d58e465aa5a087add9daa9c34de1f7b6ee955fe5a6bfdb"))($7||($7={}));var e6;(s=>(s._name="FilesForRepo",s._argKeys=["repoId"],s._hash="6ac3767efd5a0736981ad68cd43c24d5a4ec30d1b0d30e9f21e9f3da973ca174"))(e6||(e6={}));var t6;(s=>(s._name="FolderSearchResult",s._argKeys=["teamId"],s._hash="1c275c6f099475f4d0b36826c52c718fe51bd3d6c4f0744d4e03ed5c2cd6d9ce"))(t6||(t6={}));var r6;(s=>(s._name="ProjectsForTeam",s._argKeys=["teamId"],s._hash="de767181d97beed84323939e47ae56b528561dce93a2e23febd43e997a7a8728"))(r6||(r6={}));var n6;(s=>(s._name="FileWithPrototypeLibCppConfig",s._argKeys=["fileKey"],s._hash="b6e690ba356644698f4f6e319463c7c53338f202f1d4337e6191fc54b810352e"))(n6||(n6={}));var i6;(s=>(s._name="FileWithRoleRequests",s._argKeys=["fileKey"],s._hash="90cffea1776cfa15881b4478aa311df28f8cf5692108cff7e7ebfe86b609445d"))(i6||(i6={}));var s6;(s=>(s._name="FileWorkshopMode",s._argKeys=["fileKey"],s._hash="8e1a7b5f2c1eee980cebed68b2d38c1bf666c1f4185a414780d92a7d2a8deb50"))(s6||(s6={}));var o6;(s=>(s._name="GlobalRecentFilesView",s._argKeys=[],s._hash="e50112824aa23d6ef981bca76912293406ed3542c069db83ec4b3618cefa61df"))(o6||(o6={}));var a6;(s=>(s._name="GlobalRecentPrototypesView",s._argKeys=[],s._hash="01c061bb04e77e22278297b9a3ba096240eaf46d2ef52e506de7f968acd5469f"))(a6||(a6={}));var l6;(s=>(s._name="FolderPermissions",s._argKeys=["projectId","currentOrgId","teamId"],s._hash="9d08e3f9ff9d908dbfd7fe956d1d6ad796d5b101a6b76ba8df8fb8e89708c6c9"))(l6||(l6={}));var d6;(s=>(s._name="FolderPageView",s._argKeys=["projectId"],s._hash="2523093849f424baa1b71058f665a676f100a8268a3a906e1e7ba2bbcdbbffb8"))(d6||(d6={}));var u6;(s=>(s._name="ProjectOwnerRole",s._argKeys=["projectId"],s._hash="4f41ba7af3298c8bfffc0737e1fb6031f591f3215bc77851e9997e6a3609b0ee"))(u6||(u6={}));var c6;(s=>(s._name="FolderCreation",s._argKeys=["teamId"],s._hash="0f4ba11fae85787ee96394297534a9b49061b431472b7328164b19fa7687b37e"))(c6||(c6={}));var p6;(s=>(s._name="HubFile",s._argKeys=["hubFileId"],s._hash="0ba241a00f8f41866b8d1ae20bf6dab97ffddcffa707d6a73f0c2c8720a46d82"))(p6||(p6={}));var g6;(s=>(s._name="InstalledPlugins",s._argKeys=["orgId"],s._hash="9593041733352121e252a44de76821ed6e7fe88bfae3053810103068c08f70c1"))(g6||(g6={}));var m6;(s=>(s._name="LatestClipboardData",s._argKeys=["deviceType"],s._hash="3c1dd779caffff794462c41b79f3cacfb0033e75573957e37745d40493147bab"))(m6||(m6={}));var b6;(s=>(s._name="LegacySourceStyleData",s._argKeys=["fileKey"],s._hash="c356c1498340da843e2b6ea447d0d4e1102ac906470fd8be22670134799b9a7c"))(b6||(b6={}));var f6;(s=>(s._name="LibraryData",s._argKeys=["fileKey"],s._hash="c840501345ecc39cfff0e38f32ed76d4182b823355c1dc523e38b2d20ca6b289"))(f6||(f6={}));var y6;(s=>(s._name="LibraryFileSelect",s._argKeys=["projectId"],s._hash="2efc1533087a59d375256eb54a80d19b4810c3c1e690bd43de7eb1a50885344e"))(y6||(y6={}));var I6;(s=>(s._name="LibraryManagementData",s._argKeys=["fileKey","orgId"],s._hash="c73f313f59955dbe582be03bd2ad3d7825328e65b9510551ba48d04497da20ef"))(I6||(I6={}));var h6;(s=>(s._name="LibraryModalAssetsData",s._argKeys=["fileKey"],s._hash="cac21667f0458068a6910c2549e92e55620e3f17c6c47c2a535f536384d97465"))(h6||(h6={}));var x6;(s=>(s._name="LibraryModalVariablesData",s._argKeys=["fileKey"],s._hash="4194fc14e6ce9a0d3e0e810df421f91dba0c765ab3341c7814ae783fb7ad6748"))(x6||(x6={}));var C6;(s=>(s._name="LibraryModuleData",s._argKeys=["fileKey"],s._hash="6ec6c1ee37c6439f9a6c47728ba636d50825e4fa42b7be839926d415c120f2cc"))(C6||(C6={}));var A6;(s=>(s._name="LibraryOrgSubscriptions",s._argKeys=["orgId"],s._hash="a1a8a7384442c7dd7fda2e91de8c02dea9d6f00049f8f304642abb8ec7864e2f"))(A6||(A6={}));var v6;(s=>(s._name="LibraryTeamSubscriptions",s._argKeys=[],s._hash="e1f68a27fffcbcf8f76978e0b6000507cb8f63fa6dc9c0e756e38d059c1f9cb8"))(v6||(v6={}));var S6;(s=>(s._name="LibraryFileSubscriptions",s._argKeys=["fileKey"],s._hash="caf93653531e9f93bf38502eb60276bead02059a4ae94697cad4ea4d31bcaaee"))(S6||(S6={}));var O6;(s=>(s._name="LibraryUserSubscriptions",s._argKeys=[],s._hash="89be42fad4fa4998f6704ba1e743161efd36511005bed1f8312552215ccefa49"))(O6||(O6={}));var F6;(s=>(s._name="LibraryPublish",s._argKeys=["id"],s._hash="3e64e9a71ee0b93508c0a26db41e3fa684e3e8c5d347433e4267fcf24785ead2"))(F6||(F6={}));var D6;(s=>(s._name="LibraryStyleData",s._argKeys=["fileKey"],s._hash="6e4893856446585491844844d11d41eae9e848acd691c438e9141891ece9fee6"))(D6||(D6={}));var R6;(s=>(s._name="CommunityLibraryStyleData",s._argKeys=["hubFileId"],s._hash="2548e36f13737896f6a935f102b8d1a3fdd85bf157a80ecb56c83ec2f8dc6eee"))(R6||(R6={}));var j6;(s=>(s._name="LibrarySubscriptionView",s._argKeys=["orgId"],s._hash="217eae7ac471e3cde570d2a5abbf4c07e13c7b05c9abb26bf6f26fdb4f62e091"))(j6||(j6={}));var P6;(s=>(s._name="LibraryVariableCollectionData",s._argKeys=["fileKey"],s._hash="018619a49976527eac8252a59dee209a9f8393651e211132e9633b5b2366f2c9"))(P6||(P6={}));var _6;(s=>(s._name="LibraryVariableCollectionDataWithVariables",s._argKeys=["fileKey"],s._hash="3a4fb471c695ef80769a6b3e645d8193e6aded7c59e34aeb605d71d97c9ff22c"))(_6||(_6={}));var T6;(s=>(s._name="CurrentUserLicenseGroupAdmins",s._argKeys=["orgId"],s._hash="f9b13436fdfff7d870567c70d52f429a0254c6cd5dce52b5a40051c1a4383060"))(T6||(T6={}));var k6;(s=>(s._name="LicenseGroupCountView",s._argKeys=["id"],s._hash="7b4f8df5beec75d31fc351f2105542e95dfcd82cd9e15d9256665fe257137452"))(k6||(k6={}));var w6;(s=>(s._name="MoveDraftsTeamData",s._argKeys=["orgId"],s._hash="06a518f09b7c9628ba0e5cba571764d189d2782eba661565a2978550c699a5ee"))(w6||(w6={}));var E6;(s=>(s._name="NewFileCreationBar",s._argKeys=["projectId"],s._hash="0164c976452d4324e85f25802056c4af6d77ecf27328b35d64fb1b4fb19b9f57"))(E6||(E6={}));var U6;(s=>(s._name="NodeStatusUsagesForFileView",s._argKeys=["fileKey"],s._hash="b5681faaceea4d92007981cff74ff7879ee06224c5cefd1f25dcf9a91810f3e2"))(U6||(U6={}));var M6;(s=>(s._name="NodeStatusUsagesForNodeView",s._argKeys=["fileKey","nodeId"],s._hash="30d8f1dda0487ba6539c7350e0600df0f4ab42cc2649132904b2cd40345ccc0d"))(M6||(M6={}));var L6;(s=>(s._name="NonEnterpriseOrgMetaContentView",s._argKeys=["orgId"],s._hash="53d873035f628159f51813efcdfb587bb9577177db47e1b1e8ef6d17a13e3f73"))(L6||(L6={}));var V6;(s=>(s._name="EnterpriseOrgMetaContentView",s._argKeys=["orgId"],s._hash="acb6ee879323a6c741bca7ec3081a037bacf15e35dae88c34dac8051ce40d299"))(V6||(V6={}));var B6;(s=>(s._name="OpenEditorFileData",s._argKeys=["fileKey"],s._hash="ac1781ded9fc23d605d63497377dc26da5ce0cad3c97a7829f88c3004f232604"))(B6||(B6={}));var N6;(s=>(s._name="OptionalFileBrowserSearchBarData",s._argKeys=["currentOrgId"],s._hash="38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"))(N6||(N6={}));var W6;(s=>(s._name="OrgAdminUserView",s._argKeys=["orgId","queryParams","firstPageSize"],s._hash="3bed86e7dda9c8ae30e342c4be2f91d49238e22bf1945f129fea37b1109c5f76"))(W6||(W6={}));var G6;(s=>(s._name="EsOrgUsersView",s._argKeys=["orgId","queryParams"],s._hash="4e79387af8ed1a0c4fe768d2e7f0396a08d5f223b666bf5c31a981a4f94147cb"))(G6||(G6={}));var Z6;(s=>(s._name="OrgHasWorkspacesView",s._argKeys=["orgId"],s._hash="04a21fd542b7ee3ef85f0a3c726075db2de4b464fb727c10032948d303c867d7"))(Z6||(Z6={}));var H6;(s=>(s._name="OrgInviteModalView",s._argKeys=["workspaceId"],s._hash="bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"))(H6||(H6={}));var K6;(s=>(s._name="OrgJoinRequestExistence",s._argKeys=["orgId"],s._hash="b5a651cbe35528ced6f03c9517a92b337f71e1d197f43441754b582162cf41c9"))(K6||(K6={}));var q6;(s=>(s._name="OrgSharedSettingView",s._argKeys=["orgId"],s._hash="8a2e3b30e423dcb15b616183a8cb743d24d06f971f198c2c34a10224b6be728d"))(q6||(q6={}));var Y6;(s=>(s._name="OrgTaxIdView",s._argKeys=["orgId"],s._hash="73b3babfc2feb79729d47e5e9d35931c65dfba628b93659ee0360310b58f0731"))(Y6||(Y6={}));var X6;(s=>(s._name="OrgTeamSummariesView",s._argKeys=["orgId"],s._hash="211e1eeaa8cef57a7ce84c3de249e78031ce61cfe613d10305a5f148ed41102c"))(X6||(X6={}));var z6;(s=>(s._name="OrgTeamView",s._argKeys=["orgId","queryParams","firstPageSize"],s._hash="0853482f455a8f9b79b6cc36160039d276c7dc2a29237600784aa563b4c2ffda"))(z6||(z6={}));var J6;(s=>(s._name="OrgTeamsWithSummary",s._argKeys=["orgId"],s._hash="9c449917efab1632aa02bd60d5e48fe956dfe1338f4e5064961a7e3cb0491ad0"))(J6||(J6={}));var Q6;(s=>(s._name="OrgsByUser",s._argKeys=[],s._hash="c2233f314a024de371778ae2c588c84ee3c3fa8e3c39fd03a7658ca6e45513ab"))(Q6||(Q6={}));var $6;(s=>(s._name="OrgUserFlag",s._argKeys=["orgId","eventType"],s._hash="907a4d6e25529160678d40614850a69044a4978b5e7a6fce62fc3390be1e53ed"))($6||($6={}));var eQ;(s=>(s._name="OrgWithWorkspacesPublicLinkControlsSettingView",s._argKeys=["orgId"],s._hash="7ee6e30e1dea903be949acb5912f60a92be4543f794ec9e745d5ce50f25b1072"))(eQ||(eQ={}));var tQ;(s=>(s._name="PaginatedFigFeed",s._argKeys=["orgId","feedFilter","firstPageSize","refreshNonce"],s._hash="e432b51943f6052494725450387dd52eb6dd765e736db1f7054f4e9da9449d4f"))(tQ||(tQ={}));var rQ;(s=>(s._name="PendingTeamRoleRequestsByTeamId",s._argKeys=["teamId"],s._hash="463c4bc82f5c6b746e6182ef362fa13571fb668b0cd618b12286b210543e45fd"))(rQ||(rQ={}));var nQ;(s=>(s._name="PendingUserMentionByCommentView",s._argKeys=["fileCommentId"],s._hash="98448f91af1f453b5b6734a0b5e8618acc07797291f479b99596c129d9a6edb9"))(nQ||(nQ={}));var iQ;(s=>(s._name="PersistentLastFrameSelectionView",s._argKeys=[],s._hash="001300d5c5b4f3b6e08049d23784a2cfd6b784fb732ec5f62519cfa937487cdb"))(iQ||(iQ={}));var sQ;(s=>(s._name="PinnedFiles",s._argKeys=["folderId"],s._hash="5ab498e0f04133b5b6ee8c98b1804eb1dd7634bb1427764e0ee1bdeb54487c74"))(sQ||(sQ={}));var oQ;(s=>(s._name="Plugin",s._argKeys=["pluginId","orgId"],s._hash="65017a02ad1232e123e321f3439b6b3d0e62e860b0a62dd400a89680d6ba0865"))(oQ||(oQ={}));var aQ;(s=>(s._name="PluginAllowlistManagementModalView",s._argKeys=["pluginId","orgId"],s._hash="4a73858240acadfc6aa74940ec6792343f5829aa657673657c70f3b26629a9a6"))(aQ||(aQ={}));var lQ;(s=>(s._name="PluginInstall",s._argKeys=["pluginId","orgIds"],s._hash="b698e19a0d5778ad478c0fe11dcfdf2293781c298cc568539f3846c62b9c7589"))(lQ||(lQ={}));var dQ;(s=>(s._name="PluginPreferencesView",s._argKeys=["targetOrgId","targetUserId"],s._hash="79c4dcfa288c53ab695cb8b8ed0fbdbd03a9232102898162b74b6f1924a661b1"))(dQ||(dQ={}));var uQ;(s=>(s._name="PluginRequests",s._argKeys=["orgId"],s._hash="2466a0e0ddaabd4fdea4bdd8988dc793fa968f72e8958fd9ac0266f3a4613300"))(uQ||(uQ={}));var cQ;(s=>(s._name="PluginSecurityFormResponse",s._argKeys=["pluginId"],s._hash="ed6f9188040a98a2c1f2bf4010ff7559a4d6e6e0aec6449fd736e89f5256b763"))(cQ||(cQ={}));var pQ;(s=>(s._name="PresetLibrariesView",s._argKeys=[],s._hash="4f017721ff98cfd4a347f776c65c24830f1cb25592d43ac2d31fb8e70157a404"))(pQ||(pQ={}));var gQ;(s=>(s._name="ProRequestUpgradeModalData",s._argKeys=["teamId"],s._hash="50be44e91a9140285877ee5a5dbd2de4d02855331c1018e3048cac21afecf80f"))(gQ||(gQ={}));var mQ;(s=>(s._name="ProjectById",s._argKeys=["folderId"],s._hash="dffd181a5f5788646e708eb596da585a4ac225b22830c65e83df69f8cff4f659"))(mQ||(mQ={}));var bQ;(s=>(s._name="ProjectNameById",s._argKeys=["projectId"],s._hash="167370bf522cffa374d2936870d611915820b53dd89a514f2ce691652fab7965"))(bQ||(bQ={}));var fQ;(s=>(s._name="ProjectByIdForRealtimeShim",s._argKeys=["projectId"],s._hash="f944680b6c28e7b0da4d55dd3f5caf76e9646fd47fc9e456958465c115b79ef5"))(fQ||(fQ={}));var yQ;(s=>(s._name="ProjectFileCount",s._argKeys=["projectId"],s._hash="ec94b29e7e19f15b6d4c59b2cf69d5fcd55b0707ea9ad2ba3586d326d9e58579"))(yQ||(yQ={}));var IQ;(s=>(s._name="ProjectTilePermissions",s._argKeys=["projectId"],s._hash="16a2777a5ffffae2b82226d4dfc4c116b7de0589c7d1f74f6bf715aff14636ad"))(IQ||(IQ={}));var hQ;(s=>(s._name="PrototypeTilePermissions",s._argKeys=["prototypeId"],s._hash="977169b7f1e74b6a39209b07d77356440fe1425c9f181465b6b94ab06d8cd6f3"))(hQ||(hQ={}));var xQ;(s=>(s._name="RepoById",s._argKeys=["repoId"],s._hash="7e27271f1ae41220739c8de23ff0693d45df42ee7db77518cb2d7050d84e42c7"))(xQ||(xQ={}));var CQ;(s=>(s._name="RepoFiles",s._argKeys=["repoId"],s._hash="0d5d2d0eba496beeda76d8e582d87f7e4cfe57157fcfb722a22bec3c540a4710"))(CQ||(CQ={}));var AQ;(s=>(s._name="RepoReviewerSuggestions",s._argKeys=["repoId"],s._hash="94185a7fa65e3202424dc7fae7baa0a30927a7e2bae962b3821466ec9b597443"))(AQ||(AQ={}));var vQ;(s=>(s._name="RepoTilePermissions",s._argKeys=["repoId"],s._hash="5e59c3e3f4c19b63d574b1db80b9a678975f9296e820f30b06fe9c1b2c36456d"))(vQ||(vQ={}));var SQ;(s=>(s._name="ResolvedComments",s._argKeys=["fileKey"],s._hash="7b5ece4b590e0ceeb80a1dcd7a7bba3427da3ab5e5c56e469d8d213acd73ccab"))(SQ||(SQ={}));var OQ;(s=>(s._name="ResourceSave",s._argKeys=["hubFileId"],s._hash="f6ddfc1d3bf83cc30494e8398600aea2a8ea0a742536e8130876f93809535bf9"))(OQ||(OQ={}));var FQ;(s=>(s._name="ResourceSaves",s._argKeys=[],s._hash="6110b1ef6de911647c9448774b9881d6f8f4637bc86acc83a2d4e60a98ac417a"))(FQ||(FQ={}));var DQ;(s=>(s._name="RoleUpdatesForTeam",s._argKeys=["teamId","updatedAtTimestamp"],s._hash="d4f667ede4b3cb91b1082d3ba2ab05ab6b453693900007ced314afae2e008093"))(DQ||(DQ={}));var RQ;(s=>(s._name="RoleUpdatesForUser",s._argKeys=["updatedAtTimestamp"],s._hash="0060e36aee8b725419654060c730a9d92604bf97bb9cfcce7605f46c83bad7a6"))(RQ||(RQ={}));var jQ;(s=>(s._name="SearchFilterWorkspaceView",s._argKeys=["orgId"],s._hash="130ec2bbc72113b8e1233d4a0abd1896574662972483dee3600bdf6a98524b62"))(jQ||(jQ={}));var PQ;(s=>(s._name="SharedWithYouFile",s._argKeys=["id"],s._hash="5599b334cdf61760a6f2f5c73c64410f1069cb00f9c039e0726a5547e1c525cf"))(PQ||(PQ={}));var _Q;(s=>(s._name="SharedWithYouFolder",s._argKeys=["id"],s._hash="9f6229252989d40e433658ca82daeefc3c108a051a31e05dde04ac68d96648a3"))(_Q||(_Q={}));var TQ;(s=>(s._name="SharedWithYouPrototype",s._argKeys=["id"],s._hash="cb7e27a9147d49660c1e77504e1016480044c4de27720e7b708487dfc6a08b1c"))(TQ||(TQ={}));var kQ;(s=>(s._name="SharedWithYouRepo",s._argKeys=["id"],s._hash="9bf3ae1c588825b61d1f9c7f86070fb68fbbfb5e4198acc2d0f082a55d31e885"))(kQ||(kQ={}));var wQ;(s=>(s._name="SharedWithYouResources",s._argKeys=["resourceTypes","firstPageSize","sortOrder","cursorColumn","sharedBy","planId","planType","fileType","orgDeletedDrafts"],s._hash="3336b261afa40e7a801802b9f487a3d5518f8a41cf47cd4a730700c1f2f03d6b"))(wQ||(wQ={}));var EQ;(s=>(s._name="SharedWithYouTeam",s._argKeys=["id"],s._hash="a531fc89dbfaec53a7e648e6e6f2a7d7004f3d9eb5ac893505cd52d89d3683f5"))(EQ||(EQ={}));var UQ;(s=>(s._name="StarterFileEditConfirmation",s._argKeys=["key"],s._hash="b9611d6a7dde03eeddba3498f105bf6ded3faa6cfb7b314cd29161f4d5afd6d7"))(UQ||(UQ={}));var MQ;(s=>(s._name="StateGroupByKey",s._argKeys=["key"],s._hash="aaa6fc349aed87ffc75bd40eb325a8e3f03ecaa0b49be8c1fcca22af2c25a9a2"))(MQ||(MQ={}));var LQ;(s=>(s._name="StatsigTeamsOrderView",s._argKeys=["currentOrgId"],s._hash="75513768b3c4f5dd170727d4cb2c746a34fccc6cbcf648c0cb937c740905618b"))(LQ||(LQ={}));var VQ;(s=>(s._name="StyleByKey",s._argKeys=["key","openFileKey"],s._hash="724f930f7b12a977f464c39630183229aa09aaa10c63b149ace5e7f9912eef6e"))(VQ||(VQ={}));var BQ;(s=>(s._name="SubscribedLibrariesForFile",s._argKeys=["fileKey","teamId","workspaceId","orgId"],s._hash="c5b71eb6713b6ff7f6ffc561a0e45865c3de4c1b34347c841f2987becaaa07e2"))(BQ||(BQ={}));var NQ;(s=>(s._name="SubscriptionUpdateSloData",s._argKeys=["id"],s._hash="6045b83d38bf38732a0efc83edc2666a35d0c8896c9cc8202bbe2a2895613563"))(NQ||(NQ={}));var WQ;(s=>(s._name="TeamById",s._argKeys=["teamId"],s._hash="0a1076a2e5e3ed64cac3a2a5d696e5c21572eb45f504b3ea9749392aa8584f79"))(WQ||(WQ={}));var GQ;(s=>(s._name="TeamByIdForRealtimeShim",s._argKeys=["teamId"],s._hash="3d5011f8889d5e9cafba6e084010f051c6bf289e980da112bc35499eb3690938"))(GQ||(GQ={}));var ZQ;(s=>(s._name="TeamCreationWorkspaceView",s._argKeys=["orgId"],s._hash="35ba21389e67dd7ab06172a6ffd613dfe76efabdb65771ea81b86f77884bfc51"))(ZQ||(ZQ={}));var HQ;(s=>(s._name="TeamFileCountsByTeamId",s._argKeys=["teamId"],s._hash="65ed3efce57070adbe8851dcf9106feaaacc012da35c8289aae0a48316c20f76"))(HQ||(HQ={}));var KQ;(s=>(s._name="TeamFileLimitsInfoByProject",s._argKeys=["projectId"],s._hash="b4a57aee9df16a05176fa1704f425b199e6549e9d3801f314ce679e6c2018889"))(KQ||(KQ={}));var qQ;(s=>(s._name="TeamFileLimitsInfo",s._argKeys=["teamId"],s._hash="dbd52a7bea92c586923a33dc05e8df1462fcebe2695aba9a1e173958b70c61e7"))(qQ||(qQ={}));var YQ;(s=>(s._name="TeamPermissions",s._argKeys=["teamId"],s._hash="0a7a1b7f56546b9de8c4a9a5b2d19e3e857fadc44b657405e31a899d0f792313"))(YQ||(YQ={}));var XQ;(s=>(s._name="TeamSettings",s._argKeys=["teamId"],s._hash="62acd9ca3a813055ce1a888d2e4bf31583aeccddc26860181bf6e926b5360d59"))(XQ||(XQ={}));var zQ;(s=>(s._name="TeamTaxIdView",s._argKeys=["teamId"],s._hash="d08c7fc04682202932b106e57f3b244cd8934f105016f5e4455e1e47b4da3ec4"))(zQ||(zQ={}));var JQ;(s=>(s._name="TeamTilePermissions",s._argKeys=["teamId"],s._hash="c722850f6e18857a80a2aa359f468725d35d86c9a376cc4a86e5545c62d89f0f"))(JQ||(JQ={}));var QQ;(s=>(s._name="ToggledDevModeSettingsView",s._argKeys=["targetOrgId","targetUserId"],s._hash="34b6599d9efc94406278d0433956d1625dd72ba2530665e82e50fff00a7dce5d"))(QQ||(QQ={}));var $Q;(s=>(s._name="TeamUserStatusAndRequests",s._argKeys=["teamId"],s._hash="35aae8d56dc8866beb839fb6c9dac9b1bbc696d9bc4d86b71cb09ff856341985"))($Q||($Q={}));var e$;(s=>(s._name="UserColorProfilePreferenceView",s._argKeys=[],s._hash="216d0bed6c38dd4b9d6b5287c2398707f4b0513ada63f2fb0e62d6dc7d7c31a4"))(e$||(e$={}));var Wx;(s=>(s._name="UserForRcs",s._argKeys=[],s._hash="7754a7394125d90e970356eeb514bae356f088eb6d0bba7eed8747e41c1c6898"))(Wx||(Wx={}));var Gx;(s=>(s._name="UserGlobalFavoritedFiles",s._argKeys=[],s._hash="060a5deb32caaa1651aeeb663093b61f20cfbecf2150bff3decece28aaa6acf6"))(Gx||(Gx={}));var t$;(s=>(s._name="UserJamboardOfferEligibility",s._argKeys=[],s._hash="5b95ac3232a1b7dc3dd0992b440a2646c779175e5b575ee24cb6a27e3f523e99"))(t$||(t$={}));var r$;(s=>(s._name="UserMonetizationMetadata",s._argKeys=["userId"],s._hash="446a7c94ab10360ad76751b775dc2df202993c5f35bcf54ee5158ec756678857"))(r$||(r$={}));var Zx;(s=>(s._name="UserNotificationBellData",s._argKeys=[],s._hash="f810ff62e7be4e26566efa0fe5bd428b02df1c72065e6e418971bc1000460d8c"))(Zx||(Zx={}));var Hx;(s=>(s._name="UserRecentSharedWithYouFiles",s._argKeys=[],s._hash="0546cff09bc7e36bcf7a5c094bfa5f6f0092e5d7ca935b5496a7606b8dbeed3c"))(Hx||(Hx={}));var n$;(s=>(s._name="UserWithTeams",s._argKeys=[],s._hash="76d3fc49455d3f5149aab864569fc920b934779fe705daa48b69aeb46f827c97"))(n$||(n$={}));var i$;(s=>(s._name="UserForRealtimeShim",s._argKeys=[],s._hash="6f2054449c0ddd03b475c9745e2aa346d98b22e018c861e62fc109a01595b269"))(i$||(i$={}));var s$;(s=>(s._name="VariableByKey",s._argKeys=["key"],s._hash="a4a31249376c1b9db8c9931f228199504a7af95e2e7eab8465744473afadb02d"))(s$||(s$={}));var o$;(s=>(s._name="VariableCollectionByKey",s._argKeys=["key"],s._hash="f03a53e505176caf79d490033bc0a5a4b845f66b26587289b4084d1f026f2804"))(o$||(o$={}));var a$;(s=>(s._name="VariablesByVariableCollectionKey",s._argKeys=["variableCollectionKey"],s._hash="9dcd36f8c5d0b598488a30dabffeb7de883d75e6172768dfa93c5c256791d6bb"))(a$||(a$={}));var l$;(s=>(s._name="WorkspaceAdminSettingsView",s._argKeys=["workspaceId"],s._hash="38435e281372e1803ba6e31d0db0c43f23a86fcf57ec4b552d0d186917bd3dbc"))(l$||(l$={}));var d$;(s=>(s._name="WorkspaceCanCreateTeamView",s._argKeys=["orgId"],s._hash="624d2078031fa6e8eedaba0d89f2f014c16a4fbc07fa5fa0410d8f6bf32b3dce"))(d$||(d$={}));var u$;(s=>(s._name="WorkspaceModalPluginRequests",s._argKeys=["orgId"],s._hash="58f1c2b1c207cc030538bd134a593b0dd005064421d73d4b233e4ca6b39fe66e"))(u$||(u$={}));var c$;(s=>(s._name="WorkspaceOrgAccessView",s._argKeys=["workspaceId"],s._hash="2ea6b7b77a99e0f64a2dc4c3a99d321329456144a7d426dcd28b298ca4984d32"))(c$||(c$={}));var p$;(s=>(s._name="WorkspaceSelectorView",s._argKeys=["orgId"],s._hash="e79cd448237eab7578fc7eb0b24e581e70040587b2cfc7e70f2667c05124f10c"))(p$||(p$={}));var g$;(s=>(s._name="WorkspaceSubscribedLibrariesForFile",s._argKeys=["fileKey"],s._hash="9783a40f5685699e137b97362dd44d724627714770984f7f89baf5b44d69a639"))(g$||(g$={}));var m$;(s=>(s._name="WorkspaceSubscribedLibrariesForTeam",s._argKeys=["teamId"],s._hash="b586aab82a9caa53fa01a5d02b1deda0c2ae1eaa847592432b720bc29cc80142"))(m$||(m$={}));var b$;(s=>(s._name="WorkspacesCanAdminView",s._argKeys=["orgId"],s._hash="f54bfc15a44d957cbab31af6b9113a5387c7d7e7aaada067a70e869a56046df1"))(b$||(b$={}));var f$;(s=>(s._name="WorkspacesDirectoryView",s._argKeys=["orgId"],s._hash="cd9fe5c3e928fade6a126e4c371bdd7970d269c6420e8ac6dc1a0bb98f7e0758"))(f$||(f$={}));var y$;(s=>(s._name="WorkspacesTableView",s._argKeys=["orgId"],s._hash="34a4cf2dcdcf208bd8151cac65bf45abeed11f564ef956d26617a0661f9ec3cf"))(y$||(y$={}));var I$;(s=>(s._name="WorkspaceDefaultTeamsView",s._argKeys=["workspaceId"],s._hash="3b9c11f1672dd9f6a7697af213e9a82c73bbe88dcbd406347ad5752e53332ec2"))(I$||(I$={}));var h$;(s=>(s._name="ApprovedLibrariesView",s._argKeys=["workspaceId"],s._hash="c01ef8751391811d63ed49aab8a70c66a78532de852d58c820986536abecdb7c"))(h$||(h$={}));var x$;(s=>(s._name="WorkspacePageMembersView",s._argKeys=["workspaceId"],s._hash="429826704124cb0727562d1386b41181a3dc57776e6b0cfb27121e5d2bf8cdd8"))(x$||(x$={}));var C$;(s=>(s._name="JamboardOfferRedeemedAt",s._argKeys=[],s._hash="d1630e0a777d88bf1598a975fc759895e1f5367fa93c59198952752c8065a2ce"))(C$||(C$={}));var A$;(s=>(s._name="SlidesTheme",s._argKeys=["themeKey"],s._hash="d105ef968130519b7f9b61add70e74c1a506a1f1fa327b73e311e78f89b732cb"))(A$||(A$={}));var v$;(s=>(s._name="ApprovedLibrariesForOrgView",s._argKeys=["orgId"],s._hash="86c216fb79dcfc9f41ec49ce29444c1c9cb39655e009cb588a8c68afba43aadb"))(v$||(v$={}));var S$;(s=>(s._name="DeviceTryFileView",s._argKeys=["fileKey"],s._hash="57262db6a4c99d03c727ef6e8a734ac28b5bc6fb68fcf7f7134381d122629cdc"))(S$||(S$={}));var O$;(s=>(s._name="WorkspacePermissionsView",s._argKeys=["workspaceId"],s._hash="04ab36762f9b476c6009af5f8c48ec37d8ede3fd5c55e9fd5816f8719382fd81"))(O$||(O$={}));var F$;(s=>(s._name="WorkspaceAdminLibrariesSectionView",s._argKeys=["workspaceId"],s._hash="60a5e22cb527e5ccfb1da6f4003fbe39d4b76c9037bd82121fa0e6ba74712e0f"))(F$||(F$={}));var D$;(s=>(s._name="Mobile_CommentThreadByRootComment",s._argKeys=["fileKey","rootId"],s._hash="e963627d4851908622b9be87e56fc6f20ac39f267a3939b23496d2ca4c30aec3"))(D$||(D$={}));var R$;(s=>(s._name="Mobile_FileCommentThreadsByFile",s._argKeys=["fileKey"],s._hash="31195248fcd84aa6211490074c73701edfaa0d234f2534179887a63259e1abfc"))(R$||(R$={}));var j$;(s=>(s._name="Mobile_FavoritedFigJamBoards",s._argKeys=["orgId"],s._hash="0d916df06cf96de5c03315c2c993bea4d8e79a900d46268e52fab36443226c78"))(j$||(j$={}));var P$;(s=>(s._name="Mobile_FavoritedResources",s._argKeys=["orgId"],s._hash="9dbaf2d4423188db71f6a8d782a95ffe45e533b6e56da57023213aa1a9fe9855"))(P$||(P$={}));var _$;(s=>(s._name="Mobile_FileByKey",s._argKeys=["fileKey"],s._hash="616b999d00db792f8b4e8f0c1299b0c11d537d0b324e2e3a9283d5cb23f6a267"))(_$||(_$={}));var T$;(s=>(s._name="Mobile_LastFrameSelection",s._argKeys=[],s._hash="32108c98a328aef3e0a4f3484cdaed51bac777c1236469fd15e3c4401185bab5"))(T$||(T$={}));var k$;(s=>(s._name="Mobile_OrgSummary",s._argKeys=["orgId"],s._hash="80cafed9aaab105edbf63a9414bd6764cef33b947719c1dc33a8e10cd06462e0"))(k$||(k$={}));var w$;(s=>(s._name="Mobile_OrgsByUser",s._argKeys=[],s._hash="1b60664ef3ad37dc114c5a92ce1775d8d6ede530146a2af3b0addc23dddc95b8"))(w$||(w$={}));var E$;(s=>(s._name="Mobile_OrgsByUserV2",s._argKeys=[],s._hash="7cfe39cadc1b63a2563a3a68d7057f3bed377646d58e245ac491ccd835c38d34"))(E$||(E$={}));var U$;(s=>(s._name="Mobile_ProjectFigJamBoards",s._argKeys=["projectId"],s._hash="6270f77196650bfa2809dd203c6429436626a13e0508ef207a2890daf5ff9c47"))(U$||(U$={}));var M$;(s=>(s._name="Mobile_ProjectFiles",s._argKeys=["projectId"],s._hash="c616c0d05d5debc5d838f84833e6fe9b1a979959869c6dc9fad2ec9011adbe42"))(M$||(M$={}));var L$;(s=>(s._name="Mobile_RecentlyViewedPrototypes",s._argKeys=[],s._hash="a917263df31fecabbb4034e4b539434d1e691adc7e46ca83ed3cd9e2f85fa971"))(L$||(L$={}));var V$;(s=>(s._name="Mobile_SpacesByUser",s._argKeys=[],s._hash="d918f274ae897b0996ed500f9a03940ab2ad0bff66378cd745427e8913f2ce5c"))(V$||(V$={}));var B$;(s=>(s._name="Mobile_TeamFavoritedFigJamBoards",s._argKeys=["teamId"],s._hash="2b99b0839743977697ef360473c6b90969ed539873e355cec21b28a83c021d7c"))(B$||(B$={}));var N$;(s=>(s._name="Mobile_TeamFavoritedResources",s._argKeys=["teamId"],s._hash="317f8cf0ff036b6b18482857f4a64ad8745ee006021142c0553b02442497e434"))(N$||(N$={}));var W$;(s=>(s._name="Mobile_TeamProjectsWithFilesPreview",s._argKeys=["teamId"],s._hash="23080d2d9b668846ef9157d719cb2f4bd1f3420222978a17dd806c28dfb3f43a"))(W$||(W$={}));var G$;(s=>(s._name="Mobile_TeamSummary",s._argKeys=["teamId"],s._hash="4fca62fc13d8e5f5e331c47ea932e816493239b391748e7c59db2d1162b212cb"))(G$||(G$={}));var Z$;(s=>(s._name="Mobile_FeedPostSummary",s._argKeys=["postId"],s._hash="b3c0ce9fd84f5e0e48393d0cbe1e112cc9e47cfe18db6694e1e7a0813dbfde02"))(Z$||(Z$={}));var H$;(s=>(s._name="Mobile_FilePermissions",s._argKeys=["fileKey"],s._hash="33a142a4fc3847ecefafe98c293ce96468ba018cac4906aa8ab8de57fb8de3f6"))(H$||(H$={}));var hoe=ke(require("vscode")),QA=ke(xf()),Dp=hoe.window.createOutputChannel("Figma for VS Code",{log:!0}),Rp=class{constructor(e){this.maxSize=e;this.nextIndex=0;this.length=0;this.entries=new Array(e)}push(e){this.entries[this.nextIndex]={time:new Date,data:e},this.nextIndex=(this.nextIndex+1)%this.maxSize,this.length<this.maxSize&&this.length++}get(){return this.entries.slice(this.nextIndex,this.length).concat(this.entries.slice(0,this.nextIndex))}},_l=new Rp(1e3),Qe={trace:(t,...e)=>{},debug:(t,...e)=>{_l.push({level:"debug",message:t,extra:{args:e}}),Dp.debug(t,...e),console.debug(t,...e)},info:(t,...e)=>{_l.push({level:"info",message:t,extra:{args:e}}),Dp.info(t,...e),console.info(t,...e)},warn:(t,...e)=>{_l.push({level:"warn",message:t,extra:{args:e}}),Dp.warn(t,...e),console.warn(t,...e)},error:(t,...e)=>{QA.captureMessage(t,{level:"error",extra:{...e}}),_l.push({level:"error",message:t,extra:{args:e}}),Dp.error(t,...e),console.error(t,...e)},exception:(t,e)=>{let r=t&&typeof t=="object"&&"message"in t&&t.message&&typeof t.message=="string"?t.message:"Exception";QA.captureException(t,{level:"error",extra:e}),_l.push({level:"exception",message:r,extra:e}),Dp.error(r,e),console.error(r,e)}};var go=ke(xf()),Rae=ke(Fae()),jae=ke(require("path")),MKe=ke(require("vscode"));var ru=ke(require("vscode")),lv=ke(require("os"));var av="0.3.4";function nu(){let t=av;return{platform:lv.platform(),release:lv.release(),vscodeVersion:ru.version,extensionVersion:t,environment:ru.env.appName,editorLanguage:ru.env.language,machineId:ru.env.machineId,sessionId:ru.env.sessionId}}async function wl(t,e,r){let i=new Date().toISOString(),o=await jp(t),s=Vt(t);if(s!=="dev")try{let l=await cs({url:`${cr[s]}/api/figment-proxy/put`,method:"POST",headers:{"Content-Type":"application/json"},data:[{data:{event:e,properties:{...r,...nu()},sentAt:i,timestamp:i,userId:o,context:{forwardToDatadog:!0}},figment_metadata:{namespace:"figweb"}}]});Qe.debug(`figment response for ${e}:`,l.statusText)}catch(l){Qe.error(l)}}var Dae=[/.*Couldn't get feature flags.*/,/.*Error reading file.*/,/.*Authenticated API call received 401 Unauthorized.*/,/.*Connection is closed.*/,/.*Unexpected end of JSON input.*/,/.*Class constructors cannot be invoked without 'new'.*/,/.*\/bin\/sh: php: command not found.*/,/.*Cannot read properties of undefined (reading 'save').*/,/.*Request failed with status code 503.*/,/.*Non-Error exception captured with keys: error, exitCode, gitArgs, gitCommand.*/,/.*Cannot read properties of undefined (reading 'getTime').*/,/.*Unexpected token (717:0).*/,/.*Non-Error exception captured with keys: message, name.*/,/.*Language client is not ready yet.*/,/.*ENOENT: no such file or directory, stat '\/89d5d485711417788a875a9892d44930\/1'.*/,/.*Request failed with status code 401.*/,/.*<semantic> TypeScript Server Error.*/,/.*Class constructor .* cannot be invoked without.*/,/.*cannot get client for: Bitbucket.*/,/.*Unexpected end of JSON input.*/,/.*Non-Error exception captured with keys.*/,/.*PHP Deprecated.*/,/.*PARSE ERROR: .*/,/.*Composer detected issues.*/,/.*solargraph.*/,/.*parse(babel-parser).*/,/.*Token cancellation requested: undefined.*/,/.*PHP Fatal error:.*/,/.*<anonymous>.*/,/.*System.ArgumentException.*/,/.*"php" .*/,/.*\/bin\/sh: 1: php: not found.*/,/.*Could not find a .flowconfig.*/,/.*'php'.*/,/.*Can't find config for remote resource.*/,/.*Timed out waiting for authentication provider to register.*/,/.*The document is not an explorer file.*/,/.*the input device is not a TTY.*/,/.*spawn c:\\.*/,/.*\/bin\/sh: linha 1: php: comando não encontrado.*/,/.*<anonymous>.*/,/.*Unexpected token .*/,/.*Synchronization timed out.*/,/.*ENOENT: no such file or directory, .*/,/.*timeout of 30000ms exceeded.*/,/.*Karma and browsers not ready after waiting 900 secs.*/,/.*Error Command failed: python .*/,/.*was started with the above path as the current directory.*/,/.*Could not find 'bundler'.*/,/.*connect ECONNREFUSED.*/,/.*HTTP 404.*/,/.*this request was ignored due to debounce.*/,/.*Recieved an error event from LiveGraph.*/,/.*Received an error event from LiveGraph.*/,/.*Message type "KEYDOWN" from Figma not handled.*/,/.*from Figma not handled.*/];var GU=new Rp(1e3);async function Pae(t){go.init({dsn:"https://457bcda058d9460fbef246ba4a4e3d15@o22594.ingest.sentry.io/4505234156355584",environment:"prod",release:"7db2afaa3ec16c1563e97a3e77c3cb6fc17189d2",attachStacktrace:!0,ignoreErrors:Dae,integrations:r=>r.map(i=>i.name==="OnUncaughtException"?new go.Integrations.OnUncaughtException({exitEvenIfOtherHandlersAreRegistered:!1}):i).filter(i=>i.name!=="OnUnhandledRejection").concat([new Rae.RewriteFrames({root:jae.default.join(t.extensionUri.fsPath,"out"),prefix:"figma://"})]),beforeSend(r){let i=r.exception?.values?.some(o=>o.stacktrace?.frames?.some(s=>s.filename?.includes("figma-for-vs-code.js")||!1));return delete r.server_name,i?(GU.push(r),r):null}}),go.setTags({...nu()});let e=await jp(t);dv(e)}function dv(t){go.setUser({id:t})}var ZU=new Rp(1e3);function Mt(t){ZU.push(t),go.addBreadcrumb(t)}var LKe=!1,VKe=60*1e3,_ae;function BKe(t){let e=M4(),r=t.extension.packageJSON?.version??"unknown";return`${e} FigmaVsCode/${r}`}function NKe(t){return class extends z_.default{constructor(r){let i=zU()||"";super(r,void 0,{origin:cr[Vt(t)],headers:{Cookie:`${kg[Vt(t)]}=${i||""}`,"User-Agent":BKe(t)}})}}}function WKe(t,e,r){let i=NKe(t),o=new URLSearchParams(r);o.append("userId",e||""),o.append("clientType","vscode");let s=`wss://${cr[Vt(t)].replace("https://","")}/api/livegraph?${o.toString()??""}`,l={tags:{commitHash:"7db2afaa3ec16c1563e97a3e77c3cb6fc17189d2",clientType:"vscode"}},u=new yd(j_),c=new xm(j_.views,u),g=f=>new i(f),p=new Cm({userId:e},u,c,s,g,l);return p.addEventListener(f=>{if(LKe&&Qe.trace("Livegraph debug log",f),f.type==="ERROR"){let I=f.error?.errorCode,v=f.error.message,C=Object.getOwnPropertySymbols(f.error).reduce((F,P)=>(F[P.toString()]=f.error[P],F),{});Qe.exception(new To(`Received an error event from LiveGraph: code: ${I||"no error code"}, message: ${v}`),C)}}),_ae=setTimeout(()=>{try{p.connect()}catch{}},VKe),p}var iu={recentFiles:{status:"uninitialized",errors:null},sharedWithYouFiles:{status:"uninitialized",errors:null},favoritedFiles:{status:"uninitialized",errors:null},userNotificationBell:{status:"uninitialized",errors:null},userForRcs:{status:"uninitialized",errors:null}},HU=new Wt,KU=new Wt,qU=new Wt,YU=new Wt,XU=new Wt,mo;async function Of(t){if(Mt({category:"livegraph",message:"setupLivegraph called"}),!Xn(t)){Mt({category:"livegraph",message:"setupLivegraph returning early: not logged in"});return}if(!zU()){Mt({category:"livegraph",message:"setupLivegraph returning early: no integ cookie"});return}let e=await JU(t);if(!e){Mt({category:"livegraph",message:"setupLivegraph returning early: no user ID"});return}Mt({category:"livegraph",message:`setupLivegraph called with user ID ${e}`});let r=await kae(t);mo=WKe(t,e,r),await mo.connect(),Mt({category:"livegraph",message:"setupLivegraph client connected"}),mo.subscribe(Zx,{},i=>{iu.userNotificationBell={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Qe.exception(new To("Livegraph query error for UserNotificationBellData"),{liveGraphErrors:i.errors}),YU.invoke(i.status,Boolean(i.data?.userNotificationBell?.bell),i.errors)}),mo.subscribe(Nx,{},i=>{iu.recentFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Qe.exception(new To("Livegraph query error for CurrentUserFileRecentsView"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.recentFiles===null&&Qe.error("Livegraph returned null for recent files"),HU.invoke(i.status,i.data?.currentUser.recentFiles,i.errors)}),mo.subscribe(Hx,{},i=>{iu.sharedWithYouFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Qe.exception(new To("Livegraph query error for UserRecentSharedWithYouFiles"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.recentSharedWithYouFiles===null&&Qe.error("Livegraph returned null for shared with you files"),KU.invoke(i.status,i.data?.currentUser.recentSharedWithYouFiles,i.errors)}),mo.subscribe(Gx,{},i=>{iu.favoritedFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Qe.exception(new To("Livegraph query error for UserGlobalFavoritedFiles"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.favoritedFiles===null&&Qe.error("Livegraph returned null for favorited files"),qU.invoke(i.status,i.data?.currentUser.favoritedFiles,i.errors)}),mo.subscribe(Wx,{},i=>{iu.userForRcs={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Qe.exception(new To("Livegraph query error for UserForRcs"),{liveGraphErrors:i.errors}),XU.invoke(i.status,i.data?.currentUser.userFlags,i.errors)}),Mt({category:"livegraph",message:"setupLivegraph end"})}async function Tae(){return await mo?.connection?.closeWithoutReconnecting(),mo?.connection?.reconnect()}async function Ff(){return clearTimeout(_ae),mo?.close()}var wae=ke(require("vscode"));function cn(t){Qe.error(t),wae.window.showErrorMessage(t)}var Ot=ke(require("vscode")),Eae=ke(require("path")),vi={TopLevel:String.fromCharCode(0),SelectedLayer:String.fromCharCode(0),Token:String.fromCharCode(1),Ambient:String.fromCharCode(2)};function QU(t){let e=Ot.window.activeTextEditor;if(!e)return;let r=e.selection.active;return e.edit(i=>{i.insert(r,t)})}function Uae(t){let e=Ot.window.activeTextEditor;if(e)return e.insertSnippet(new Ot.SnippetString(t))}function $U(){return Ot.workspace.workspaceFolders?.[0]?.uri}function GKe(){let t=$U()?.fsPath;return t?`${t}/`:""}function Mae(t){let e=(t||Ot.window.activeTextEditor?.document.uri||(Ot.window.visibleTextEditors?.length>0?Ot.window.visibleTextEditors[0].document.uri:void 0))?.fsPath;if(!e)return;let r=GKe();return r?e.replace(r,""):e}async function Lae(t){let e=Ot.workspace.workspaceFolders?.[0];if(!e)return;let[r,i]=t.split(":"),o=Ot.Uri.joinPath(e.uri,...r.split("/"));if(await Ot.workspace.fs.stat(o)){let s=await Ot.workspace.openTextDocument(o);if(await Ot.window.showTextDocument(s,Ot.ViewColumn.One),i!==void 0){let l=Ot.window.activeTextEditor;if(!l)return;let u=new Ot.Selection(Number(i),0,Number(i),0);l.selection=u,l.revealRange(u,Ot.TextEditorRevealType.InCenter)}}}async function Vae(t,e,r){let i=Ot.window.createQuickPick();i.onDidAccept(async()=>{await e(i.activeItems),i.hide()}),i.items=[],i.show(),i.title=r,i.placeholder="Loading...",i.busy=!0,i.enabled=!1;let o=await t();i.items=o,i.activeItems=o.filter(s=>s._quickPickActive),i.placeholder=void 0,i.busy=!1,i.enabled=!0}function eM(t){return t===Ot.ColorThemeKind.Dark?"dark":"light"}function tM(){return eM(Ot.window.activeColorTheme.kind)}function Bae(){let t=Ot.window.activeTextEditor;if(t){let e=t.document.uri.fsPath;return Eae.default.extname(e)}else return""}function uv(){return parseFloat(Ot.version)<1.75}function Nae(){return Ot.version.endsWith("-insider")}function Wae(){return Ot.env.appName==="Cursor"}var Si=ke(require("vscode"));var Gae="Figma";async function rM(t,e,r,i,o){let s=await pv(t),l=Fn.createOrShow(t.extensionUri,cr[Vt(t)],i);nM(t).then(I=>{if(!I){cn("There was an authentication error, please login again."),iM(t);return}}),e.setPanel(l);let u=tM(),c=new URL(`https://figma.com/${r}`);c.searchParams.set("theme",u),o&&c.searchParams.set("node-id",o);let g=c.pathname.slice(1)+c.search+c.hash,p=()=>{e.sendLoadIframe(s.integCookie,s.integMacCookie,g),e.iframeContainerReadyListeners.remove(p)};e.iframeContainerReadyListeners.add(p);let f=()=>{e.sendInitialSetup(av,tM()),e.figmaReadyListeners.remove(f)};e.figmaReadyListeners.add(f),e.setWebview(l.getWebview())}async function cv(t,e,r,i){r.extensionOpen?e.sendOpenFigmaFileUrl(i):await rM(t,e,i)}function ZKe(t){return{enableScripts:!0,retainContextWhenHidden:!0}}var ri=class{constructor(e,r,i,o=void 0,s=!1){this._disposables=[];this._id=void 0;this._login=!1;this._panel=e,this._extensionUri=r,this._id=o,this._login=s,this._baseUrl=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.onDidChangeViewState(()=>{this._panel.visible&&this._update()},null,this._disposables)}static createOrShow(e,r,i=Gae,o=void 0,s=!1){if(ri.currentPanel)return ri.currentPanel._panel.reveal(Si.ViewColumn.Two),ri.currentPanel;let l=Si.window.createWebviewPanel(ri.viewType,i,Si.ViewColumn.Two,ZKe(e));return l.iconPath={light:Si.Uri.joinPath(e,"resources","logo-tab-icon-light.svg"),dark:Si.Uri.joinPath(e,"resources","logo-tab-icon-dark.svg")},ri.currentPanel=new ri(l,e,r,o,s),ri.onOpen(),ri.currentPanel}static revive(e,r){ri.currentPanel=new ri(e,r,"")}getWebview(){return this._panel.webview}dispose(){for(ri.currentPanel=void 0,this._panel.dispose(),ri.onClose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}bringToFront(){this._panel.reveal()}setTitle(e){this._panel.title=e||Gae}getTitle(){return this._panel.title}_update(){let e=this._panel.webview;switch(this._panel.viewColumn){case Si.ViewColumn.Two:this._updateHtml(e);return;case Si.ViewColumn.Three:this._updateHtml(e);return;case Si.ViewColumn.One:default:this._updateHtml(e);return}}_updateHtml(e){this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=Si.Uri.joinPath(this._extensionUri,"resources","webview.js"),i=Si.Uri.joinPath(this._extensionUri,"resources","webview.css"),o=e.asWebviewUri(r);return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="${e.asWebviewUri(i).toString()}" />
      </head>
      <body>
        <div id="iframe-container">
          <iframe id="figma-iframe" frameBorder="0" src="${this._login?`${this._baseUrl}/integrations/login?integration_host=msft&cont=/integrations/vscode`:`${this._baseUrl}/integrations/vscode`}"></iframe>
        </div>

        <div id="loader">
          <div class="progress_bar--outer">
            <div
              class="progress_bar--centerContainerStatic progress_bar--centerContainer"
            >
              <div class="progress_bar--strokedLogo progress_bar--designLogoStroke">
                <span class="svg-container progress_bar--staticLogo">
                  <svg
                    class="svg"
                    width="23"
                    height="32"
                    viewBox="0 0 23 32"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M0 5.986c0 2.094 1.085 3.937 2.727 5.007C1.085 12.063 0 13.906 0 16c0 2.094 1.085 3.937 2.727 5.007C1.085 22.077 0 23.92 0 26.014 0 29.327 2.738 32 6.067 32c3.358 0 6.121-2.698 6.121-6.04v-5.53c1.073.967 2.498 1.556 4.063 1.556h.11c3.335 0 6.039-2.68 6.039-5.986 0-2.094-1.085-3.937-2.727-5.007C21.315 9.923 22.4 8.08 22.4 5.986 22.4 2.68 19.696 0 16.36 0H6.04C2.703 0 0 2.68 0 5.986zm16.36 5.987h-.109c-2.244 0-4.063 1.803-4.063 4.027 0 2.224 1.82 4.027 4.063 4.027h.11c2.244 0 4.063-1.803 4.063-4.027 0-2.224-1.82-4.027-4.063-4.027zm0-1.96c2.245 0 4.064-1.802 4.064-4.027 0-2.224-1.82-4.027-4.063-4.027h-4.173v8.055h4.173zm-6.148 1.96H6.039c-2.244 0-4.063 1.803-4.063 4.027 0 2.224 1.82 4.027 4.063 4.027h4.173v-8.054zM6.039 21.986h4.173v3.973c0 2.247-1.864 4.082-4.145 4.082-2.251 0-4.09-1.81-4.09-4.027 0-2.225 1.818-4.028 4.062-4.028zm4.173-11.972H6.039c-2.244 0-4.063-1.803-4.063-4.028 0-2.224 1.82-4.027 4.063-4.027h4.173v8.055z"
                      fill-rule="evenodd"
                      fill-opacity="1"
                      stroke="none"
                    ></path>
                  </svg>
                </span>
              </div>
            </div>
          </div>
        </div>

        <script src=${o.toString()}></script>
      </body>
      </html>`}},Fn=ri;Fn.viewType="FigmaWebviewPanel",Fn.onOpen=()=>{},Fn.onClose=()=>{};async function Df(t){try{let r=(await Zae(t,"dev_handoff/vscode/feature_flags")).data?.meta?.feature_flags;r&&await II(t,r)}catch(e){Qe.error("VS Code: Couldn't get feature flags",e)}}var Hae="thumbnailCache",Kae="figfileApiCache",HKe=1,KKe=1;function qae(t,e){switch(e){case"THUMBNAIL":return`${Hae}_v${HKe}_${t}`;case"FIGFILE_API":return`${Kae}_v${KKe}_${t}`}}async function Yae(t,e,r){let i=qae(e,r);return await t.workspaceState.get(i)||null}function Xae(t,e,r,i){let o=qae(e,r);try{t.workspaceState.update(o,i)}catch(s){Qe.error(`Error setting cache entry ${o}:`,s)}}function zae(t){let r=t.workspaceState.keys().filter(i=>i.startsWith(Hae)||i.startsWith(Kae)).map(i=>t.workspaceState.update(i,void 0));return Promise.all(r)}var qKe=1e3*60*60,mv={key:"integCookie"},Jae={key:"integCookieMac"},bv={key:"userId"},oM={key:"appAuthSessionCookie"},Qae={key:"pageLoadToken"},su;async function $ae(t){t.secrets.onDidChange(async e=>{e.key===jr(t,mv)?await YKe(t):e.key===jr(t,bv)&&await XKe(t)});try{let e=await nle(t);su=e?e.integCookie:void 0}catch{}}async function YKe(t){let e=await nle(t);su=e?e.integCookie:void 0}async function XKe(t){su?await tle(t):await ele(t),await t.secrets.delete(jr(t,oM))}async function aM(t){if(await ni.window.showInformationMessage("Log in to Figma for VS Code to open this file","Log in")==="Log in")try{await dM(t)}catch(r){Qe.error("Authentication error",r)}}async function nM(t){try{return await ou(t,"user"),!0}catch{return!1}}async function Pp(t,e=!0){try{_p(t,"post","session/logout")}catch(r){e&&Qe.error("Error calling /session/logout API",r)}await t.secrets.delete(jr(t,mv)),await t.secrets.delete(jr(t,bv)),await zae(t),await ele(t),Fn.currentPanel&&Fn.currentPanel.dispose()}var lM=new Wt;async function ele(t){Mt({category:"auth",message:"handleLoggedOut start"}),await ni.commands.executeCommand("setContext","figma.loggedIn",!1),await EF(t,!1),dv(void 0),lM.invoke(),await wF(t,null),await ni.commands.executeCommand("setContext","figma.userOrgs",0),await II(t,void 0),Mt({category:"auth",message:"handleLoggedOut end"})}async function tle(t){Mt({category:"auth",message:"handleLoggedIn start"}),await ni.commands.executeCommand("setContext","figma.loggedIn",!0),await ni.commands.executeCommand("setContext","figma.loggingIn",!1),wl(t,"vscode.login_successful"),await yv(t),await Df(t),await EF(t,!0),await Of(t);let e=(await Rf(t)).length;await ni.commands.executeCommand("setContext","figma.userOrgs",e),Mt({category:"auth",message:"handleLoggedIn end"})}var gv="vscode";Nae()?gv="vscode-insiders":Wae()&&(gv="vscode-cursor");async function dM(t){Mt({category:"auth",message:"authenticateWithFigma called"});try{let e=await cM(t,"integrations/session/app_auth",{app_type:gv});if(!e.headers["set-cookie"])throw new Error("No set-cookie headers found");let i=sM.parse(e.headers["set-cookie"]).find(o=>o.name==="figma.session")?.value;if(!i)throw new Error("No figma.session cookie in authenticateWithFigma");await t.secrets.store(jr(t,oM),i),Mt({category:"auth",message:"authenticateWithFigma got session cookie"}),await ni.env.openExternal(ni.Uri.parse(`${cr[Vt(t)]}/app_auth/${e.data.meta.id}/grant?desktop_protocol=${gv}`,!0)),Mt({category:"auth",message:"authenticateWithFigma opened browser"})}catch(e){throw ni.window.showErrorMessage("Error starting login. Please contact Figma support if this problem persists."),new bI("Error starting authentication session",e)}}async function rle(t,e){Mt({category:"auth",message:"redeemAppAuth called"});let r=await t.secrets.get(jr(t,oM));if(!r)throw new Error("No figma.session cookie in redeemAppAuth");try{let i=await cM(t,"session/app_auth/redeem",{g_secret:e},{Cookie:`figma.session=${r}`});if(Mt({category:"auth",message:"redeemAppAuth got result from server"}),!await uM(i,t))throw new Error("figma.integ cookie not found in redeemAppAuth");Mt({category:"auth",message:"redeemAppAuth got integ cookie"}),await t.secrets.store(jr(t,bv),i.data.meta.workspace.userId),dv(i.data.meta.workspace.userId),Mt({category:"auth",message:"redeemAppAuth stored used ID"}),await tle(t)}catch(i){throw Qe.exception(i),gI(i)&&i.response&&i.response.status===403&&cn("Your user has idle timeout configured and is not currently able to use Figma for VS Code"),await ni.commands.executeCommand("setContext","figma.loggingIn",!1),i}}async function uM(t,e){if(!t.headers["set-cookie"])return!1;let r=!1,i=sM.parse(t.headers["set-cookie"],{decodeValues:!1}),o=i.find(l=>l.name===kg[Vt(e)]);o&&o.value&&(await e.secrets.store(jr(e,mv),JSON.stringify({value:o.value,expires:o.expires})),su=o.value,await Tae(),r=!0);let s=i.find(l=>l.name===TF[Vt(e)]);return s&&s.value&&await e.secrets.store(jr(e,Jae),JSON.stringify({value:s.value,expires:s.expires})),r}async function pv(t){let e=await t.secrets.get(jr(t,mv));if(!e)throw su=void 0,new ad("No figma.integ cookie stored in secrets");let r=JSON.parse(e);su=r.value;let i={integCookie:r.value,integMacCookie:void 0},o=await t.secrets.get(jr(t,Jae));return o&&(i.integMacCookie=JSON.parse(o).value),i}async function nle(t){try{return await pv(t)}catch{return}}function zU(){return su}async function JU(t){let e=await t.secrets.get(jr(t,bv));if(!e)throw new ad("No user ID stored in secrets");return e}async function jp(t){try{return await JU(t)}catch{return}}async function ile(t){let e=await pv(t),r=`${kg[Vt(t)]}=${e.integCookie}`;return e.integMacCookie&&(r+=`; ${TF[Vt(t)]}=${e.integMacCookie}`),{cookie:r,origin:cr[Vt(t)]}}async function sle(t,e){try{let r=await ile(e),i=await t(r);return await uM(i,e),i}catch(r){throw Xn(e)&&(cs.isAxiosError(r)&&r.response?.status===401||r instanceof ad)?(Qe.error("Authenticated API call received 401 Unauthorized",r),await iM(e),new ad(r.message)):r}}async function ole(t,e){let r;try{r=await ile(e)}catch{r={}}let i=await t(r);return await uM(i,e),i}async function iM(t){await Pp(t),await aM(t)}async function Rf(t){return(await ou(t,"orgs")).data.meta}async function ale(t){await Vae(async()=>{let e=await Rf(t),r=ld(t);return[{label:"All organizations",id:null,_quickPickActive:r===null},...e.map(i=>({label:i.name,id:i.id,_quickPickActive:r===i.id}))]},async e=>{e.length>0&&await wF(t,e[0].id)},"Select an organization")}function lle(t){return setInterval(()=>{Xn(t)&&(nM(t),yv(t),Df(t),Ff(),Of(t))},qKe)}async function zKe(t,e){return(await Rf(t)).filter(i=>i.id===e)[0]}async function fv(t){let e=ld(t),r="All";if(e!==null){let i=await zKe(t,e);i&&(r=i.name)}return r}async function kae(t){return await t.secrets.get(jr(t,Qae))}async function JKe(t,e){await t.secrets.store(jr(t,Qae),e)}async function yv(t){try{let r=(await dle(t,"dev_handoff/vscode/initial_options")).data?.meta?.page_load_token;r&&await JKe(t,r)}catch(e){Qe.error("VS Code: Couldn't get page load token",e),await Pp(t)}}async function dle(t,e,r={},i){let o=cs.create();return gW(o,{retries:2,retryDelay:s=>{let l=Math.pow(2,s)*1e3,u=Math.random()*2e3;return l+u}}),o.get(`${cr[Vt(t)]}/api/${e}`,{headers:{accept:"application/json",origin:cr[Vt(t)],...r},...i})}async function cM(t,e,r,i={},o){return cs.post(`${cr[Vt(t)]}/api/${e}`,r,{headers:{accept:"application/json",origin:cr[Vt(t)],...i},...o})}async function _p(t,e,r,i,o){return sle(s=>cs(`${cr[Vt(t)]}/api/${r}`,{method:e,data:i,headers:{...s,accept:"application/json",Origin:cr[Vt(t)]},...o}),t)}async function QKe(t,e,r,i,o){return ole(s=>cs(`${cr[Vt(t)]}/api/${r}`,{method:e,data:i,headers:{...s,accept:"application/json",Origin:cr[Vt(t)]},...o}),t)}async function ou(t,e,r){return _p(t,"get",e,void 0,r)}async function Zae(t,e,r){return QKe(t,"get",e,void 0,r)}var cle=require("vscode"),$Ke=ke(require("vscode"));function ule(t,e,r){return t.asWebviewUri(cle.Uri.joinPath(e,...r))}function e9e(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Iv=class{constructor(e,r,i=o=>{}){this.webviewName=e;this.context=r;this.handleMessage=i}resolveWebviewView(e){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this.context.extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(this.handleMessage),this.onViewFirstVisible()}sendMessage(e){return this._view?.webview?.postMessage(e)}setDescription(e){this._view&&(this._view.description=e)}onViewFirstVisible(){}_getHtmlForWebview(e){let r=ule(e,this.context.extensionUri,["webviews","build","assets",`${this.webviewName}.css`]),i=ule(e,this.context.extensionUri,["webviews","build","assets",`${this.webviewName}.js`]),o=e9e();return`
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src *; style-src ${e.cspSource}; script-src 'nonce-${o}';">
    <link rel="stylesheet" type="text/css" href="${r}">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" nonce="${o}" src="${i}"></script>
  </body>
</html>
        `}};var t9e=new Set(["AtMentionCommentNotif","FileCommentNotif","FileCommentNotifV2","FileCommentReactionNotif","FileCommentReactionNotifV2","FileCommentReplyNotif","FileCommentReplyNotifV2","BatchedFileCommentNotif"]),r9e=[/type=whiteboard/,/\/board\//],pM=class extends Iv{constructor(r,i,o){super("notifications",r,s=>{switch(s.type){case"NOTIFICATION_CLICKED":this.openNotification(s.data.notificationId);break;case"VIEW_LOADED":this._notificationsUpdated(),gle(r,this);break;default:console.warn("Received a notificiations message that doesn't have a handler",s)}});this._context=r;this._figmaCommunication=i;this._extensionState=o;this.notifications=[];YU.add(()=>{try{this.refresh()}catch{}})}async _notificationsUpdated(){await this.sendMessage({type:"NOTIFICATIONS_UPDATED",data:{notifications:this.notifications}})}updateBadge(){if(this._view){let r=this.notifications.filter(i=>i.isUnread).length;this._view.badge={tooltip:`${r} unread notification${r>1?"s":""}`,value:r}}}async markNotificationRead(r){await _p(this._context,"put","user_notifications",{id:r,resolved_at:!0,medium:"vscode"}),this.notifications=this.notifications.map(i=>i.id===r?{...i,isUnread:!1}:i),await this._notificationsUpdated()}async openNotification(r){let i=this.notifications.find(c=>c.id===r);if(!i){console.warn("Cannot find the notification being clicked on");return}if(wl(this._context,"vscode.notification_clicked",{type:i?.type}),i.openInBrowser||!i.href){await Tp.env.openExternal(Tp.Uri.parse(i.href||cr[Vt(this._context)])),await this.markNotificationRead(r);return}let o=new URL(i.href);if(i.type==="BatchedFileCommentNotif"){let c=await _p(this._context,"get",`user_notifications/${r}/batched_notification_latest_comment_deeplink`);o=new URL(c.data.meta.href)}let s=o.pathname.slice(1).split("/");if(s[0]!=="file"){console.warn("Notification href is not a file");return}o.searchParams.append("show-canvas","1");let u=s.slice(1).join("/")+"?"+o.searchParams.toString()+o.hash;await cv(this._context,this._figmaCommunication,this._extensionState,u),await this.markNotificationRead(r)}async refresh(){try{let r=await ou(this._context,`user_notifications/server_driven/plan?current_plan_id=${ld(this._context)??-1}&currentView=teamFeed&is_plan_org=true`,{params:{currentView:"feed"}});this.notifications=r.data.meta.map(i=>({id:i.notification_id,type:i.notification_type,isUnread:i.is_unread,href:i.deeplink?.href,createdAt:i.preferred_attachments[0].body.created_at,title:i.preferred_attachments[0].body.title?.map(o=>o.html_text).join(" "),description:i.preferred_attachments[0].body.description?.map(o=>o.html_text).join(" "),thumbnail:i.preferred_attachments[0].body.thumbnail,avatars:i.avatars,plan:i.plan?{name:i.plan?.name,img_url:i.plan?.img_url}:void 0,openInBrowser:!t9e.has(i.notification_type)||r9e.some(o=>i.deeplink?.href?.match(o)),isActionable:i.preferred_attachments.some(o=>o._block_type==="ActionableAttachment")})),this.updateBadge(),await this._notificationsUpdated()}catch(r){throw Qe.error(`Error fetching notifications: ${gI(r)?r.response?.status||"no response":"other"}`,r),r}}onViewFirstVisible(){this.updateBadge()}};function ple(t,e,r){let i=new pM(t,e,r);t.subscriptions.push(Tp.window.registerWebviewViewProvider("figma.views.notifications",i)),Eg.add(()=>{gle(t,i),Xn(t)&&i.refresh()})}async function gle(t,e){let r=await fv(t);e.setDescription(r)}var hv=class{constructor(){this.layers={};this.onSVGsChanged=e=>{};this.selectedLayerGuidListeners=new Wt;this.selectedPageGuidListeners=new Wt;this.cssPropertiesListeners=new Wt}setCssPropertiesByLayer(e){this.cssPropertiesByLayer=e??void 0,this.cssPropertiesListeners.invoke()}setFileKey(e){this.fileKey=e}setText(e){this.text=e}setSelectedLayerGuid(e){this.selectedLayerGuid=e,this.selectedLayerGuidListeners.invoke(e)}setSelectedPageGuid(e){this.selectedPageGuid=e,this.selectedPageGuidListeners.invoke(e)}setLayersAndRootNodeId(e,r){this.layers=e,this.rootNodeId=r}};var is=ke(require("vscode"));var Wn=ke(require("vscode")),Spe=ke(Ape());var vpe=ke(require("path"));var Nl=require("fs");var mu;(l=>{let t="plugin_dev_settings.json",e=null,r=null;function i(u){if(r)return;let c=u.globalStorageUri.fsPath;(0,Nl.existsSync)(c)||(0,Nl.mkdirSync)(c,{recursive:!0}),r=vpe.default.join(c,t)}l.initFilePath=i;function o(){if(!r)return;let u={localFileExtensions:yr.saveToJson()},c=JSON.stringify(u);c!==e&&(0,Nl.writeFileSync)(r,c,{encoding:"utf8"})}l.save=o;function s(){if(r)try{if(e=(0,Nl.readFileSync)(r,{encoding:"utf8"}),!e)return;let u=JSON.parse(e);"localFileExtensions"in u&&yr.loadFromJson(u.localFileExtensions)}catch(u){Qe.info(`Unable to read plugin config file ${t}`,u)}}l.read=s})(mu||(mu={}));var UL=ke(require("path"));var yr=new Spe.LocalFileExtensionRegistry(Qe,mu.save);async function Ope(t,e){let r=[],i=[],o=await Wn.window.showOpenDialog(t);return o?(await Promise.all(o.map(s=>yr.processEntry({entryPath:s.fsPath,depth:e,topLevel:!0,added:r,existed:i}))),{added:r,existed:i}):{added:r,existed:i}}async function Fpe(t){let e=yr.getPath(t),r=UL.default.dirname(e),i=Wn.Uri.file(r);if(tr.fileKey&&Wl){let l=Fn.currentPanel?.getTitle();await vW(Wl,{fileKey:tr.fileKey,fileName:l})}let o=Wn.workspace.workspaceFolders,s=o&&o.length>0;await Wn.commands.executeCommand("vscode.openFolder",i,{forceNewWindow:s}),Wn.commands.executeCommand("workbench.view.explorer")}async function Dpe(t){let e=yr.getPath(t),r=Wn.Uri.file(e);return await Wn.commands.executeCommand("vscode.open",r),Wn.commands.executeCommand("workbench.view.explorer")}async function Rpe(){return Wn.commands.executeCommand("workbench.action.toggleDevTools")}async function jpe(t){let{manifest:e,manifestFile:r}=yr.validateExtensionDirectory(t),i=yr.sanitizeFileName(t.name),o=await Wn.window.showSaveDialog({title:e.name?"Choose plugin directory location":"Choose plugin name and directory location",defaultUri:Wn.Uri.file(i)});if(!o)return;let s=o.fsPath;await yr.writeExtensionDirectory(s,t,e,r);let l=yr.addManifestPath(UL.default.join(s,yr.MANIFEST_FILE_NAME));if(l.existed)throw new Error("Extension unexpectedly already added");return l.id}var Yf=ke(EL());var tS=class{constructor(e,r){this.figmaState=e;this.context=r;this.ready=!1;this.htmlSkeletonReceivedListeners=new Wt;this.gotoCodeReceivedListeners=new Wt;this.fontImportsReceivedListeners=new Wt;this.iframeContainerReadyListeners=new Wt;this.figmaReadyListeners=new Wt;this.relatedLinkCreatedListeners=new Wt;this.relatedLinkRemovedListeners=new Wt;this.configureAutocompleteListeners=new Wt;this.generatedCodeListeners=new Wt;this.openRelatedLinkListeners=new Wt;this.assetReceivedListeners=new Wt;this.figmaRegisteredCallbacks={};this.figmaReadyPromise=new Promise(e=>{this.figmaReadyListeners.add(()=>{e()})});this.setWebview=e=>{this.webview=e,e.onDidReceiveMessage(this.handleMessage)};this.setPanel=e=>{this.panel=e};this.handleMessage=async e=>{switch(e.type){case"OPEN_EXTENSION_MANIFEST":await Dpe(e.data.id);break;case"OPEN_EXTENSION_DIRECTORY":await Fpe(e.data.id);break;case"TOGGLE_DEV_TOOLS":await Rpe();break;case"WRITE_NEW_EXTENSION_DIRECTORY_TO_DISK":this.sendMessage({...e,response:await jpe(e.request)});break;case"GET_ALL_LOCAL_FILE_EXTENSION_IDS":this.sendMessage({...e,response:yr.getAllManifestIds()});break;case"REMOVE_LOCAL_FILE_EXTENSION":this.sendMessage({...e,response:yr.removePath(e.request.id)});break;case"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_CONTAINS_WIDGET_MAP":this.sendMessage({...e,response:yr.getManifestIdsToCachedContainsWidgetMap()});break;case"REGISTER_UI_CHANGE_OBSERVER":case"REGISTER_CODE_CHANGE_OBSERVER":this.registerCallback({callbackId:e.callbackId,callback:r=>{this.sendMessage({...e,callbackData:r})},add:r=>{yr.addFileObserver(e.type==="REGISTER_CODE_CHANGE_OBSERVER"?Yf.ExtensionFileType.CODE:Yf.ExtensionFileType.UI,r)},remove:r=>{yr.removeFileObserver(e.type==="REGISTER_CODE_CHANGE_OBSERVER"?Yf.ExtensionFileType.CODE:Yf.ExtensionFileType.UI,r)}});break;case"REGISTER_MANIFEST_CHANGE_OBSERVER":this.registerCallback({callbackId:e.callbackId,callback:r=>{this.sendMessage({...e,callbackData:r})},add:r=>{yr.addManifestObserver(r)},remove:r=>{yr.removeManifestObserver(r)}});break;case"CANCEL_CALLBACK":this.unregisterCallback(e.request.callbackId);break;case"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_METADATA_MAP":this.sendMessage({...e,response:yr.getManifestIdsToCachedMetadataMap()});break;case"UPDATE_CACHED_CONTAINS_WIDGET":this.sendMessage({...e,response:yr.updateCachedContainsWidget(e.request.id,e.request.cachedContainsWidget)});break;case"GET_LOCAL_FILE_EXTENSION_SOURCE":this.sendMessage({...e,response:await yr.getLocalFileExtensionSource(e.request.id)});break;case"CREATE_MULTIPLE_NEW_LOCAL_FILE_EXTENSIONS":this.sendMessage({...e,response:await Ope(e.request.options,e.request.depth)});break;case"GET_LOCAL_FILE_EXTENSION_MANIFEST":this.sendMessage({...e,response:await yr.loadExtensionManifest(e.request.id)});break;case"CONFIGURE_AUTOCOMPLETE":this.configureAutocompleteListeners.invoke(e.data.providers);break;case"GENERATED_CODE":this.generatedCodeListeners.invoke(e.data.sections);break;case"IFRAME_CONTAINER_READY":this.iframeContainerReadyListeners.invoke();break;case"FIGMA_READY":this.ready=!0,this.figmaReadyListeners.invoke();break;case"CSS_PROPERTIES":this.figmaState.setCssPropertiesByLayer(e.data.cssProperties);break;case"TEXT":this.figmaState.setText(e.data.text);break;case"LAYERS":this.figmaState.setLayersAndRootNodeId(e.data.layers,e.data.rootNodeId);break;case"HTML_SKELETON":this.htmlSkeletonReceivedListeners.invoke(e.data.htmlSkeleton);break;case"GOTO_CODE":this.gotoCodeReceivedListeners.invoke();break;case"FONT_IMPORTS":this.fontImportsReceivedListeners.invoke(e.data.fontImports);break;case"SELECTED_LAYER_GUID":this.figmaState.setSelectedLayerGuid(e.data.guid);break;case"SELECTED_PAGE_GUID":this.figmaState.setSelectedPageGuid(e.data.guid);break;case"OPEN_IN_BROWSER":{let i=e.data.href.startsWith("/")?`${cr[Vt(this.context)]}${e.data.href}`:e.data.href;is.env.openExternal(is.Uri.parse(i));break}case"FILE_NAME":this.panel?.setTitle(e.data.name);break;case"RELATED_LINK_CREATED":this.relatedLinkCreatedListeners.invoke(e.data.link);break;case"RELATED_LINK_REMOVED":this.relatedLinkRemovedListeners.invoke(e.data.link);break;case"OPEN_RELATED_LINK":this.openRelatedLinkListeners.invoke(e.data.href);break;case"CREATE_FILE_LINK":is.window.showQuickPick(is.window.visibleTextEditors.filter(r=>r.document&&r.document.uri.scheme==="file").map(r=>r.document.fileName)).then(r=>{r&&is.commands.executeCommand("figma.createRelatedLinkForCurrentFile",r)});break;case"ASSET":this.assetReceivedListeners.invoke(e.data.asset);break;case"OPEN_AUTOCOMPLETE_LINE_SETTINGS":is.commands.executeCommand("workbench.action.openSettings","figma.autocompleteProperties");break;case"OPEN_AUTOCOMPLETE_BLOCK_SETTINGS":is.commands.executeCommand("workbench.action.openSettings","figma.autocompleteBlocks");break;case"IDLE_LOGOUT":await Pp(this.context),await is.window.showInformationMessage("You have been logged out of Figma for VSCode due to inactivity.");break;case"SET_INDEX_PAGE_CACHE_ENTRY":Xae(this.context,e.data.key,e.data.type,e.data.value);break;case"GET_INDEX_PAGE_CACHE_ENTRY":this.sendMessage({...e,response:{entry:await Yae(this.context,e.request.key,e.request.type)}},{skipReadyCheck:!0});break;default:Qe.error(`Message type "${e.type}" from Figma not handled`)}};this.sendGetHtmlSkeleton=()=>{this.sendMessage({type:"GET_HTML_SKELETON"})};this.sendGetFontImports=()=>{this.sendMessage({type:"GET_FONT_IMPORTS"})};this.sendSelectLayer=e=>{this.sendMessage({type:"SELECT_LAYER",data:{guid:e}})};this.sendSelectParentLayer=()=>{this.sendMessage({type:"SELECT_PARENT_LAYER"})};this.sendExpandLayer=()=>{this.sendMessage({type:"EXPAND_LAYER"})};this.sendSelectNextLayer=()=>{this.sendMessage({type:"SELECT_NEXT_LAYER"})};this.sendSelectPreviousLayer=()=>{this.sendMessage({type:"SELECT_PREVIOUS_LAYER"})};this.sendLinkCode=e=>{this.sendMessage({type:"CREATE_RELATED_LINK",data:{url:e}})};this.removeCodeLink=e=>{this.sendMessage({type:"REMOVE_RELATED_LINK",data:{url:e}})};this.sendLoadIframe=(e,r,i)=>{this.sendMessage({type:"LOAD_IFRAME",data:{cookieValue:e,macCookieValue:r,href:i}},{skipReadyCheck:!0})};this.sendLoadFile=(e,r)=>{this.sendMessage({type:"LOAD_FILE",data:{fileKey:e,nodeId:r}},{skipReadyCheck:!0})};this.sendGotoPage=e=>{this.sendMessage({type:"GOTO_PAGE",data:{nodeId:e}})};this.sendOpenFigmaFileUrl=e=>{this.sendMessage({type:"OPEN_FIGMA_FILE_URL",data:{href:e}})};this.sendInitialSetup=(e,r)=>{this.sendMessage({type:"INITIAL_SETUP",data:{version:e,theme:r}})};this.sendSetTheme=e=>{this.sendMessage({type:"SET_THEME",data:{theme:e}})};this.sendTrackEvent=(e,r)=>{this.sendMessage({type:"TRACK_EVENT",data:{eventName:e,eventProperties:{...r,...nu()}}})};this.sendMessage=(e,r={})=>{let{skipReadyCheck:i=!1}=r;if(!this.webview)return Qe.error("No Figma webview",e.type);if(!this.ready&&!i){this.figmaReadyPromise.then(()=>{this.sendMessage(e,{...r})});return}Qe.trace("VS Code sending message to Figma",e),this.webview.postMessage({...e,source:"figma-vscode"})}}isReady(){return this.ready&&this.webview}registerCallback({callbackId:e,callback:r,add:i,remove:o}){Qe.trace("VS Code registering callback",e),i(r),this.figmaRegisteredCallbacks[e]=o}unregisterCallback(e){let r=this.figmaRegisteredCallbacks[e];r&&(Qe.trace("VS Code unregistering callback",e),r(this.figmaRegisteredCallbacks[e]),delete this.figmaRegisteredCallbacks[e])}};var bu=ke(require("vscode"));var TXe=10;function kXe(t,e){return e.file?{label:e.file.name,command:{title:"Open File",command:"figma.openFile",arguments:[e.file.key,e.file.name]},iconPath:bu.Uri.joinPath(t.extensionUri,"resources","icons","figma-file.svg")}:{}}function ML(t){return{label:t,command:{title:t,command:"figma.disabledCommand"}}}function LL(t,e){return{label:t,collapsibleState:e==="Recents"?bu.TreeItemCollapsibleState.Expanded:bu.TreeItemCollapsibleState.Collapsed,id:e}}function Zp(){return{status:"loading",files:void 0}}var rS=class{constructor(e){this.context=e;this.recentFiles=Zp();this.sharedFiles=Zp();this.favoritedFiles=Zp();this._onDidChangeTreeData=new bu.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;HU.add((r,i,o)=>{this.handleLiveGraphListener(r,i,o,this.recentFiles,"recent")}),KU.add((r,i,o)=>{this.handleLiveGraphListener(r,i,o,this.sharedFiles,"shared")}),qU.add((r,i,o)=>{this.handleLiveGraphListener(r,i,o,this.favoritedFiles,"favorited")})}handleLiveGraphListener(e,r,i,o,s){if(o.status=e,o.files=r,e==="errors")try{Qe.error(`Error loading ${s} files`,JSON.stringify(i))}catch(l){Qe.error(`Error loading ${s} files. Error stringifying errors.`,l)}this._onDidChangeTreeData.fire(null)}reset(){this.recentFiles=Zp(),this.sharedFiles=Zp(),this.favoritedFiles=Zp(),this._onDidChangeTreeData.fire(null)}refresh(){this._onDidChangeTreeData.fire(null)}getFiles(e,r){if(e.status==="loading"||e.status==="disabled")return[ML("Loading...")];if(e.status==="errors")return[ML("Error loading files")];if(e.files?.length===0)return[ML(r)];let i=ld(this.context);return(e.files?.filter(o=>o.file?.editorType==="design"&&(i===null||o.file?.parentOrgId===i)).slice(0,TXe)||[]).map(o=>kXe(this.context,o))}getChildren(e){if(!e)return[LL("Recents","Recents"),LL("Shared Files","SharedFiles"),LL("Starred","Starred")].filter(r=>Boolean(r));switch(e.id){case"Recents":return this.getFiles(this.recentFiles,"Recently viewed files in Figma will appear here");case"SharedFiles":return this.getFiles(this.sharedFiles,"Files shared with you in Figma will appear here");case"Starred":return this.getFiles(this.favoritedFiles,"Add files to the sidebar in Figma to see them here")}return[]}getTreeItem(e){return e}};var VL=ke(require("vscode"));function wXe(t){let e={},r=/className\s*=\s*"\$\{[0-9]*:([^"]*)\}"/g,i=/dataFigmaNodeId\s*=\s*"([^"]*)"/g,o;for(;o=r.exec(t);){let s=i.exec(t);if(s){let l=s[1];e[o[1]]=l}}return e}var Xf;function Ppe(t,e){let r=VL.window.activeTextEditor,i=wXe(t);if(!r)return;let o=t.replace(/\sdataFigmaNodeId="[^"]*"/g,"");Uae(o),Xf&&Xf.dispose(),Xf=VL.window.onDidChangeTextEditorSelection(s=>{let l=i[r.document.getText(s.selections[0])];l&&e.sendSelectLayer(l)})}function _pe(){Xf&&Xf.dispose()}var BL=ke(require("vscode"));var nS=class{constructor(){this.extensionOpen=!1;this.setExtensionOpen=async e=>(this.extensionOpen=e,BL.commands.executeCommand("setContext","figma.extensionOpen",e));this.setRelatedLinks=e=>{this.relatedLinks=e};XU.add(e=>{if(e==="loaded"){let r=hI(Wl);r&&BL.commands.executeCommand("figma.openFile",r.fileKey),SW(Wl)}})}};var kpe=ke(require("vscode"));var zzt=require("path");function Tpe(t){switch(t.type){case"asset":return"image";case"stack":return t.stackMode==="HORIZONTAL"?"horizontal":t.stackMode==="VERTICAL"?"vertical":t.type;case"symbol":return"instance";case"text":return"text";case"generic":return"frame";default:return""}}function wpe(t,e){let r=!1,i=t.selectedLayerGuid,o=kpe.window.createQuickPick(),s=l(!0);function l(u){return Object.values(t.layers).map(c=>({label:(u?"   ".repeat(c.depth):"")+`$(figma-${Tpe(c)}) `+c.name,description:c.text?`${c.text}`:"",detail:(u?"   ".repeat(c.depth):"")+`Type: ${c.type}`,layer:c}))}o.onDidChangeActive(()=>{o.selectedItems&&e.sendSelectLayer(o.activeItems[0].layer.guid)}),o.onDidAccept(()=>{r=!0,o.hide()}),o.onDidChangeValue(()=>{o.value!==""?o.items=l(!1):o.items=l(!0)}),o.onDidHide(()=>{!r&&i&&e.sendSelectLayer(i),r=!1}),o.placeholder="Search for a Figma layer",o.items=s,o.activeItems=s.filter(u=>u.layer.guid===t.selectedLayerGuid),o.matchOnDescription=!0,o.matchOnDetail=!0,o.show()}var iS=ke(require("vscode"));function Epe(t){iS.window.registerUriHandler({async handleUri(e){Mt({category:"uri_handler",message:"handleUri",data:{uri:e.toString()}});let[r,...i]=e.path.slice(1).split("/");switch(r){case"open":{let[o,s,l]=i;iS.commands.executeCommand("figma.openFile",o,s,l);break}case"app_auth_redeem":try{await rle(t,e.query.split("=")[1])}catch(o){let s=new mI("Handler for app_auth_redeem failed",o);throw Qe.exception(s),s}break}}})}var Ds=ke(require("vscode"));var Hp=ke(require("vscode"));var EXe={github:{remotePrefixes:["git@github.com:","https://github.com/"],webPrefix:"https://github.com/",webSourceUrlPrefix:"blob"},gitlab:{remotePrefixes:["git@gitlab.com:","https://gitlab.com/"],webPrefix:"https://gitlab.com/",webSourceUrlPrefix:"-/blob"},bitbucket:{remotePrefixes:["git@bitbucket.org:","https://bitbucket.org/"],webPrefix:"https://bitbucket.org/",webSourceUrlPrefix:"src"}};function UXe(t){return Object.values(EXe).find(e=>e.remotePrefixes.some(r=>t.startsWith(r)))}function MXe(){return Hp.extensions.getExtension("vscode.git")?.exports}function Upe(){let t=MXe();if(t)try{return t.getAPI(1).repositories[0]}catch(e){console.error("Error initialising git extension: ",e);return}}function Mpe(){let t=Upe();if(!t)return;let e=t.state.remotes[0]?.fetchUrl;if(!e)return;let r=UXe(e);if(!r)return;let i=r.remotePrefixes.find(o=>e.startsWith(o));if(i)return{provider:r,webRepoUrl:e.replace(new RegExp(`^${i}`),r.webPrefix).replace(/.git$/,"")}}function LXe(){let t=Upe();if(t)return t.state.HEAD?.name}function Oa(t=!1,e){let r=Mpe(),i=LXe(),o=Mae(e);return r?o?i?`${r.webRepoUrl}/${r.provider.webSourceUrlPrefix}/${i}/${o}`:t?cn("git branch could not be identified"):void 0:t?cn("File not found"):void 0:t?cn("Workspace must have a git remote configured"):void 0}async function Lpe(t){let e=$U();if(!e)return;let r=Mpe();if(t=t.replace("https://www.","https://"),!(r&&t.startsWith(r?.webRepoUrl)))return;let i=new RegExp(`${r.webRepoUrl}/${r.provider.webSourceUrlPrefix}/[^/]+/(.*)`),o=t.match(i);if(!o||o.length<2)return;let s=o[1];try{return await Hp.workspace.fs.stat(Hp.Uri.joinPath(e,s)),s}catch{return}}var fu={},Vpe=1e3,VXe=60*1e3,yu;function NL(t,e){if(!Xn(t))return;Ds.commands.executeCommand("setContext","figma.showRelatedLinkIcon",!1);let r=Oa();if(!r)return;let i=fu[r];i&&WL(e,r,fu[r].links,!1);let o=i?Math.max(Vpe,VXe-(new Date().getTime()-i.time.getTime())):Vpe;yu&&clearTimeout(yu),yu=setTimeout(()=>{Oa()===r&&BXe(t,e,r)},o)}async function BXe(t,e,r){let i=await ou(t,"search/related_links?include_file_names=true",{params:{link_url:r}}),{links:o}=i.data.meta;WL(e,r,o)}function WL(t,e,r,i=!0){e===Oa()&&(i&&(fu[e]={links:r,time:new Date}),Ds.commands.executeCommand("setContext","figma.showRelatedLinkIcon",r&&r.length>0),t.setRelatedLinks(r))}function Bpe(t,e,r=0){Oa()?NL(t,e):r<10&&setTimeout(()=>Bpe(t,e,r+1),500)}function Npe(t,e,r){Bpe(t,e),Ds.window.onDidChangeActiveTextEditor(()=>{yu&&clearTimeout(yu),NL(t,e)}),Ds.workspace.onDidCloseTextDocument(i=>{let o=Oa(!1,i.uri);o&&delete fu[o]}),r.relatedLinkCreatedListeners.add(i=>{let o=fu[i.link_url]?fu[i.link_url]?.links?.concat(i):[i];WL(e,i.link_url,o)}),r.relatedLinkRemovedListeners.add(i=>{yu&&clearTimeout(yu),delete fu[i.link_url],NL(t,e)}),r.openRelatedLinkListeners.add(async i=>{let o=await Lpe(i);o?await Lae(o):Ds.env.openExternal(Ds.Uri.parse(i))})}async function GL(t,e,r,i){await cv(t,e,r,`${i.file_key}/?node-id=${i.node_id}`)}var ZL=ke(require("vscode"));function NXe(t){return Object.keys(t).includes("provideInlineCompletionItems")||typeof t.provideInlineCompletionItems=="function"}function WXe(t){return Object.keys(t).includes("provideCompletionItems")||typeof t.provideCompletionItems=="function"}var sS=class{constructor(e,r,i){this.context=e;this.state=r;this.communication=i;this.createProviders=()=>[];this.providerDisposables=[]}setProviders(e){this.createProviders=e,this.cssPropertiesListenerDisposable&&this.cssPropertiesListenerDisposable.dispose(),this.cssPropertiesListenerDisposable=this.state.cssPropertiesListeners.add(()=>{this.registerProviders()}),this.registerProviders()}registerProviders(){this.providerDisposables.forEach(e=>{e.dispose()}),this.providerDisposables=[];for(let e of this.createProviders(this.state)){let r=e.providerFunction;if(NXe(r)){let i=ZL.languages.registerInlineCompletionItemProvider(e.selector,r);this.context.subscriptions.push(i),this.providerDisposables.push(i)}if(WXe(r)){let i=ZL.languages.registerCompletionItemProvider(e.selector,r,...e.triggerCharacters??[]);this.context.subscriptions.push(i),this.providerDisposables.push(i)}}}};var yo=ke(require("vscode"));var Jf=ke(Wpe());function oS(t){let e=Zpe(Hpe(t)).replace(/[A-Z]+(?![a-z])|[A-Z]|[0-9]+/g,(r,i)=>(i!==0?"-":"")+r.toLowerCase()).replace(/^[^A-Za-z]+/,"");return e===""?"unnamed":e}function Gpe(t){let e=Zpe(t);return e.match(/^\d/g)&&(e=`_${e}`),e=Hpe(e).replace(/\W/g,"_"),e||"_"}function Zpe(t){return(0,Jf.words)(t.replace(/['\u2019]/g,"")).reduce((e,r,i)=>i?e+(0,Jf.upperFirst)(r):e+r,"")}function Hpe(t){return t.replace(/[\u007F-\uFFFF]/g,"").replace(/'/g,"").replace(/"/g,"").replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ")}function Kpe(t){t.assetReceivedListeners.add(e=>{GXe(e)})}async function GXe(t){let e=t.assetName.lastIndexOf("."),r=t.assetName.slice(0,e),i=t.assetName.slice(e),o=`${Gpe(r)}`,s=t.buffer,l=yo.workspace.workspaceFolders;if(!l)return cn("No workspace folders found.");let u=l[0],c=`${oS(o)}${i}`,g=(CW()||"public/images")+"/"+c,p=await yo.window.showInputBox({title:"Path to save exported asset",value:g,valueSelection:[g.lastIndexOf("/")+1,g.lastIndexOf(".")]});if(!p)return;let f=yo.Uri.joinPath(u.uri,p),I=f.path.split("/"),v=(AW()||"/images")+"/"+I[I.length-1],C=new Uint8Array(s);return yo.workspace.fs.writeFile(f,C).then(()=>{yo.env.clipboard.writeText(v),yo.window.showInformationMessage(`Saved ${o} to ${p} and copied path to clipboard`)},F=>{console.error(F)})}var Qf=ke(require("vscode"));function qpe(t){return{provideCompletionItems(r,i,o,s){if(Object.keys(t.layers).length<=0)return[];if(r.lineAt(i).text.trim()!==".")return[];if(r.fileName.endsWith(".html")||r.fileName.endsWith(".vue")){let p=new Qf.Position(0,0),f=r.getText(new Qf.Range(p,i));if(f.lastIndexOf("<style>")<=f.lastIndexOf("</style>"))return[]}let u=r.lineAt(i),c=new Qf.Range(u.range.start.translate(0,u.text.search(/\S/)),u.range.end);return Object.values(t.layers).map(p=>{let f={command:"figma.selectLayer",title:"Select matching layer in Figma",arguments:[p.guid]},I=oS(p.name);return{sortText:vi.TopLevel,label:`(Figma) .${I}`,filterText:`.${I}`,insertText:`.${I}`,detail:"Figma Layer",command:f,range:c}})}}}var Or=ke(require("vscode"));function HL(t){return t.replace(/-([a-z])/g,function(e,r){return r.toUpperCase()})}function KL(t){return(t.startsWith("Webkit")?"-":"")+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qL(t){return t.includes("#")||t.includes("rgb")||t.includes("hsl")||t.includes("hwb")}function YL(t){return/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8})/.exec(t)?.[0]??null}var ZXe=/(?:(?:\s)*((?:[.#][\w\-:.]+\s?)+)\s{((?:[\s\w$#-_!])*)}\s*)/g,Xpe=/(?:(?:\s)*((?:[.#][\w\-:.]+\s?)+)\s{)/g,HXe=/(?:\s*(?:\s*(.+):\s?(.+);\s?))\s*/gi;function Ype(t){let e=[],r;for(;r=HXe.exec(t);){let{1:i,2:o}=r;i!==void 0&&o!==void 0&&e.push({key:i,value:o})}return e.length>0?e:null}function zpe(t){let e,r=[];for(;e=ZXe.exec(t);){let{0:i,1:o,2:s}=e;if(o){let l=Ype(s);l&&r.push(new aS(i.trim(),o,l))}}if(r.length===0){let i=Ype(t);i&&r.push(new aS(t.trim(),".css",i))}return r}var aS=class{constructor(e,r,i){this.raw=e;this.selector=r;this.rules=i}};var Jpe=ke(require("vscode"));function Qpe(t,e){let r=t.lineAt(e).range;return t.getText(r)}function lS(t,e){let r=t.lineAt(e).range,o=t.getText(r).search(/\S/);return new Jpe.Range(o>-1?r.start.translate(0,o):r.start,r.end)}var qp=ke(require("vscode"));function KXe(t,e){let r=Qpe(t,e).trim();return r.startsWith(".")||r.startsWith("#")}function qXe(t,e){return Fa(t,e,/style={\s?{/,"{")}function YXe(t,e){return Fa(t,e,Xpe,"{")||Fa(t,e,/css`/,"`")||Fa(t,e,/styled.[\w()]+`/,"`")}function XXe(t){return t.fileName.endsWith(".html")||t.fileName.endsWith(".vue")}function zXe(t,e){let r=new qp.Position(0,0),i=t.getText(new qp.Range(r,e));return!(i.lastIndexOf("<style>")<=i.lastIndexOf("</style>"))}var dS=class{constructor(e){this.rulesets=e}provideItems(e,r,i){let o=e.lineAt(r).range,s=e.getText(o).trim(),l=lS(e,r);if(s.trim()===""||this.rulesets.length===0)return[];if(XXe(e)&&!zXe(e,r))return[];if(KXe(e,r))return this.rulesets.filter(c=>c.selector.startsWith(s)).map(c=>i?{filterText:c.raw,insertText:c.raw,range:lS(e,r)}:{label:`(Figma) ${c.selector}`,filterText:c.raw,insertText:c.raw,range:lS(e,r),sortText:vi.SelectedLayer,kind:qp.CompletionItemKind.Value,detail:"Generated code",documentation:"This suggestion comes from the generated code of the current active Figma plugin, matching the code of the selected layer."});if(YXe(e,r)){let u=new Set;return this.rulesets.map(g=>g.rules.map(p=>({key:p.key,value:p.value,ruleset:g}))).flat().filter(g=>{let p=`${g.key}: ${g.value}`,f=!u.has(p);return u.add(p),f&&p.startsWith(s.trim())}).map(g=>{let p=`${g.key}: ${g.value}`;return i?{filterText:`${p};`,insertText:`${p};`,range:l}:{label:`(Figma) ${p}`,filterText:`${p};`,insertText:`${p};`,sortText:vi.SelectedLayer,kind:uS(p),detail:g.ruleset.selector,range:l,documentation:g.ruleset.raw}})}if(qXe(e,r)){let u=new Set;return this.rulesets.map(g=>g.rules.map(p=>({key:p.key,value:p.value,ruleset:g}))).flat().filter(g=>{let p=`${HL(g.key)}: "${g.value}"`,f=!u.has(p);return u.add(p),f&&p.startsWith(s.trim())}).map(g=>{let p=`${HL(g.key)}: "${g.value}"`;return i?{filterText:`${p}`,insertText:`${p}`,range:l}:{label:`(Figma) ${p}`,filterText:`${p}`,insertText:`${p}`,sortText:vi.SelectedLayer,kind:uS(p),detail:g.ruleset.selector,range:l,documentation:g.ruleset.raw}})}return[]}provideCompletionItems(e,r){return this.provideItems(e,r)}provideInlineCompletionItems(e,r){return this.provideItems(e,r,!0)}};function JXe(t,e,r){let i=QXe[r],o=e.line,s=0;for(;o<t.lineCount;){let l=o===e.line?e.character:0,u=t.lineAt(o).text;for(;l<u.length;){if(u[l]===r&&r!==i&&s++,u[l]===i)if(s>0)s--;else return new Or.Range(e,new Or.Position(o,l));l++}o++}return null}var QXe={"{":"}","`":"`"};function Fa(t,e,r,i){for(let o=0;o<t.lineCount;o++){let s=t.lineAt(o),l,u;if(r instanceof RegExp){let c=r.exec(s.text);if(!c?.[0])continue;u=c[0],l=s.text.indexOf(u)}else{if(l=s.text.indexOf(r),l<0)continue;u=r}if(u){let c=JXe(t,new Or.Position(o,l+u.length),i);if(c&&c.contains(e)){if(c.end.character===0){let g=c.end.line-1;return new Or.Range(c.start.translate(0,1),c.end.translate(-1,t.lineAt(g).text.length))}return new Or.Range(c.start.translate(0,1),c.end.translate(0,-1))}}}return null}function XL(t,e,r){for(r of Array.isArray(r)?r:[r]){let i;if(r.type==="react-prop"){let o=`${r.propName}={`;r.propType==="object"&&(o+="{"),i=Fa(t,e,o,"{")}else if(r.type==="object")i=Fa(t,e,"{","{");else if(r.type==="css-block")i=Fa(t,e,/([.#].*{)/,"{");else if(r.type==="template-string"){let o=new RegExp(`${r.prefix}\``);i=Fa(t,e,o,"`")}else if(r.type==="global"&&t.lineAt(e).text==="")return new Or.Range(e,e);if(i)return i}return null}function uS(t){return qL(t)?Or.CompletionItemKind.Color:Or.CompletionItemKind.Value}function Yp(t,e){return{command:"figma.trackEvent",title:"",arguments:["vscode.suggestion_accepted",{suggestionType:t,suggestionContentType:e,fileExtension:Bae(),selectedNodeId:tr.selectedLayerGuid,fileKey:tr.fileKey}]}}function cS(t,e,r="",i){let s=YL(t)??t;return{label:"(Figma) "+t,filterText:t+r,insertText:t+r,sortText:vi.SelectedLayer,kind:uS(t),detail:"Selected Figma Layer",range:i,documentation:s,command:Yp(e,"single-property")}}function $pe(t,e){return!!t.match(new RegExp(e))}function ege(t){switch(t){case"css-property":return`;
`;case"object-property":return`,
`;case"dot-notation-property":return".";default:throw new Error("Unknown item type")}}function tge(t){switch(t){case"css-property":return";";case"object-property":return"";case"dot-notation-property":return"";default:throw new Error("Unknown item type")}}function $Xe(t,e,r){if(!yI())return;let{code:i,scope:o,itemType:s,insertSeparatorAfterCompletion:l=!0}=t,u=XL(e,r,o);if(u===null)return[];let c=e.lineAt(r).range.intersection(u),g=e.getText(c),p=c&&g.trim()!==""?new Or.Range(c.start.translate(0,g.search(/\S/)),c.end):void 0,f=ege(s),I=tge(s),v=e.getText(u),C=i.lastIndexOf(I),F=(C>-1?i.slice(0,C):i).split(f).map(J=>J.trim());if($pe(v.trim(),"^$"))return[{label:"Add all styling from selected Figma layer",insertText:i,sortText:vi.TopLevel,kind:Or.CompletionItemKind.Value,documentation:new Or.MarkdownString(`Inserts the following code based on the layer selection in Figma:
\`\`\`text
${i}
\`\`\`
`),command:Yp("autocomplete","all-styles")},...F.map(J=>cS(J,"autocomplete",l?f:"",p))];let P=F.filter(J=>!v?.includes(J)),E=P.map(J=>cS(J,"autocomplete",l?f:"",p));return g.trim()===""&&E.push({label:"Add missing styling from selected Figma layer",insertText:P.join(f)+I,sortText:vi.TopLevel,kind:Or.CompletionItemKind.Value,documentation:new Or.MarkdownString(`Inserts the following code based on the layer selection in Figma:
\`\`\`text
${P.join(f)}
\`\`\`
`),command:Yp("autocomplete","missing-styles")}),E}function eze(t,e,r){if(!fI())return[];let{code:i,scope:o,itemType:s}=t,l=ege(s),u=tge(s),c=XL(e,r,o);if(c===null)return[];if(e.getText(e.lineAt(r).range.intersection(c)).trim()!=="")return[];let g=i.lastIndexOf(u),p=(g>-1?i.slice(0,g):i).split(l).map(C=>C.trim()),f=e.lineAt(r).text.match(/^\s*/)?.[0]??"",I=e.getText(c);if($pe(I,"^$"))return[{label:"Add all styling from selected Figma layer",insertText:i.split(l).map((F,P)=>P>0?`${f}${F}`:F).join(l)+u,sortText:vi.TopLevel,kind:Or.CompletionItemKind.Value,command:Yp("inline","all-styles")},...p.map(F=>cS(F,"inline",l))];let v=p.filter(C=>!I?.includes(C));return[{label:"Add missing styling from selected Figma layer",insertText:v.map((C,F)=>F>0?`${f}${C}`:C).join(l)+u,sortText:vi.TopLevel,kind:Or.CompletionItemKind.Value,command:Yp("inline","missing-styles")},...v.map(C=>cS(C,"inline",u))]}function tze(t,e,r){let{scope:i,items:o}=t,s=XL(e,r,i);if(s===null||!o)return[];let l=e.lineAt(r).range.intersection(s),u=e.getText(l);return u.trim()===""||!l?[]:o.map(c=>{let p=YL(c.insertText)??c.documentation,f=new Or.Range(l.start.translate(0,u.search(/\S/)),l.end);return{label:"(Figma) "+c.label,filterText:c.insertText,insertText:c.insertText,sortText:vi.Ambient,kind:qL(c.insertText)?Or.CompletionItemKind.Color:Or.CompletionItemKind.Value,range:f,detail:c.detail,documentation:p,command:Yp("ambient","single-property")}})}function rge({code:t,language:e}){return e==="CSS"?{selector:["typescriptreact","javascriptreact",...$f],providerFunction:new dS(zpe(t))}:null}function Iu(t){return{selector:t.documentSelector,providerFunction:{provideCompletionItems(e,r,i,o){return"items"in t?tze(t,e,r):$Xe(t,e,r)}},triggerCharacters:t.triggerCharacters??[":"]}}function zL(t){return{selector:t.documentSelector,providerFunction:{provideInlineCompletionItems(e,r,i,o){return"code"in t?eze(t,e,r):[]}},triggerCharacters:t.triggerCharacters??[]}}var rze=9,nze=["boxShadow","color","borderRadius","border","borderTop","borderRight","borderBottom","borderLeft","transform","padding","background","backgroundColor","fontSize","fontFamily","letterSpacing","textShadow","lineHeight","gap","rowGap","opacity","width","height"];function nge(t,e){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let r=new Set,i={};return Object.values(t.cssPropertiesByLayer).flatMap(o=>o&&o.guid!==t.selectedLayerGuid?o.cssProperties.map(({property:s,value:l})=>{if(!nze.includes(s))return;let u=e(s,l);if(!(r.has(u)||i?.[s]>=rze))return r.add(u),i[s]=i[s]?i[s]+1:1,{insertText:u,label:`${u} [${o.layerName}]`,detail:o.layerName,documentation:l}}):void 0).filter(o=>!!o)}var $f=["html","vue","css","scss",{pattern:"**/*.{less,sass,pcss,postcss,css}"}];function ige(t){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let e=`;
`,r=";";t.cssPropertiesByLayer[t.selectedLayerGuid]||Qe.error("no CSS properties for node",t.selectedLayerGuid,t.cssPropertiesByLayer);let s={code:t.cssPropertiesByLayer[t.selectedLayerGuid].cssProperties.map(({property:p,value:f})=>`${KL(p)}: ${f}`).join(e)+r,documentSelector:["typescriptreact","javascriptreact",...$f],scope:[{type:"css-block"},{prefix:"css",type:"template-string"},{prefix:"(styled..*)",type:"template-string"}],itemType:"css-property"},l=zL(s),u=Iu(s),c=nge(t,(p,f)=>`${KL(p)}: ${f}${e}`),g=Iu({documentSelector:s.documentSelector,scope:s.scope,items:c,itemType:s.itemType});return[u,l,g]}function sge(t){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let e=`,
`,o={code:t.cssPropertiesByLayer[t.selectedLayerGuid].cssProperties.map(({property:g,value:p})=>`${g}: "${p}"`).join(e),documentSelector:["typescriptreact","javascriptreact"],scope:{propName:"style",type:"react-prop",propType:"object"},itemType:"object-property"},s=zL(o),l=Iu(o),u=nge(t,(g,p)=>`${g}: "${p}"`),c=Iu({documentSelector:["typescriptreact","javascriptreact"],scope:{propName:"style",type:"react-prop",propType:"object"},items:u,itemType:"object-property"});return[l,s,c]}var oge=ke(require("vscode")),age=ke(xf());function lge(){let t={sendEventData:()=>{},sendErrorData:(e,r)=>{age.captureException(e,{extra:r})}};oge.env.createTelemetryLogger(t,{})}var dge=require("fs"),uge=require("os"),cge=ke(xf());var pge=[],tr,Wl=null;async function ize(t){if(Wl=t,await Pae(t),Ee.commands.executeCommand("setContext","figma.isUnsupportedVersion",uv()),uv()&&!FW(t)&&(OW(t),await Ee.window.showInformationMessage("Figma for VS Code is not compatible with your version of Visual Studio Code. Please install an updated version of VS Code by checking for updates or [downloading the latest version](https://code.visualstudio.com/download).","Check for updates")==="Check for updates"&&Ee.commands.executeCommand("update.checkForUpdate")),!uv()){lge();try{await sze(t)}catch(e){let r=new wg("Failed to activate extension",e);throw Qe.exception(r),r}}}async function sze(t){Mt({category:"extension",message:"activateExtension started"}),Qe.info("Figma for VS Code started activation"),await yv(t),await Df(t),pge.push(lle(t));let e=Xn(t);Ee.commands.executeCommand("setContext","figma.loggedIn",e),Ee.commands.executeCommand("setContext","figma.isInternalBuild",!1);let r=0;if(Xn(t))try{r=(await Rf(t)).length}catch(k){Qe.error("Error fetching orgs at startup",k)}Ee.commands.executeCommand("setContext","figma.userOrgs",r),Mt({category:"extension",message:"activateExtension loggedIn",data:{loggedIn:e}}),Ee.commands.registerCommand("figma.disabledCommand",()=>{});let i=new nS;tr=new hv;let o=new tS(tr,t),s=new sS(t,tr,o);await $ae(t);try{await Of(t)}catch(k){let ee=new wg("setupLivegraph failed",k);throw Qe.exception(ee),ee}Epe(t),g(),p(),I(),v(),C(),F(),P(),Kpe(o),u(),f(),J(),mu.initFilePath(t),mu.read(),l(),Mt({category:"extension",message:"activateExtension activated"}),Qe.info("Figma for VS Code active");function l(){let k=hI(t);if(k){let ee=`Figma for VS Code reopening ${k.fileName?`\u201C${k.fileName}\u201D`:"a file"}`;Ee.window.showInformationMessage(ee)}}function u(){function k(ee){let ce={selector:$f,triggerCharacters:["."],providerFunction:qpe(ee)},Q=ige(ee),he=sge(ee);return[ce,...Q,...he]}s.setProviders(ee=>k(ee)),o.configureAutocompleteListeners.add(ee=>{ee?s.setProviders(()=>ee.map(ce=>Iu(ce))):s.setProviders(ce=>k(ce))}),o.generatedCodeListeners.add(ee=>{ee!==void 0&&ee.length>0&&s.setProviders(()=>ee.map(ce=>rge(ce)).filter(ce=>ce!==null))})}async function c(k){k.description=await fv(t)}function g(){let k=new rS(t),ee=Ee.window.createTreeView("figma.views.files",{treeDataProvider:k});c(ee),lM.add(()=>{k.reset()}),Eg.add(()=>{c(ee),k.refresh()}),ple(t,o,i)}function p(){t.subscriptions.push(Ee.commands.registerCommand("figma.login",async()=>{Mt({category:"auth",message:"figma.login invoked"}),await Ee.commands.executeCommand("setContext","figma.loggingIn",!0),await dM(t)}),Ee.commands.registerCommand("figma.logout",async()=>{Mt({category:"auth",message:"figma.logout invoked"}),await Ee.commands.executeCommand("setContext","figma.loggingIn",!1),Ff(),await Pp(t)}),Ee.commands.registerCommand("figma.selectOrg",async()=>{await ale(t)}))}function f(){Ee.workspace.onDidChangeConfiguration(k=>{let ee,ce="boolean",Q;if(k.affectsConfiguration("figma.autocompleteBlocks"))ee="autocompleteBlocks",Q=fI();else if(k.affectsConfiguration("figma.autocompleteProperties"))ee="autocompleteProperties",Q=yI();else return;wl(t,"vscode.settings_changed",{settingName:ee,settingType:ce,settingValueBoolean:Q})}),t.subscriptions.push(Ee.commands.registerCommand("figma.trackEvent",(k,ee)=>{o.sendTrackEvent(k,ee)}),Ee.commands.registerCommand("figma.clickLogin",()=>{Mt({category:"auth",message:"Login button clicked"}),wl(t,"vscode.login_clicked"),Ee.commands.executeCommand("figma.login")}),Ee.commands.registerCommand("figma.clickStartAgain",()=>{Mt({category:"auth",message:"Restart login button clicked"}),wl(t,"vscode.login_start_again_clicked"),Ee.commands.executeCommand("figma.login")}))}function I(){Fn.onOpen=()=>{i.setExtensionOpen(!0)},Fn.onClose=()=>{i.setExtensionOpen(!1),tr.setSelectedLayerGuid(void 0),tr.setLayersAndRootNodeId({},void 0),tr.setCssPropertiesByLayer({})},t.subscriptions.push(Ee.commands.registerCommand("figma.openFile",async(k,ee,ce)=>{if(!Xn(t)){await aM(t);return}tr.setFileKey(k),i.extensionOpen?(o.sendLoadFile(k,ce),Fn.currentPanel?.setTitle(ee),Fn.currentPanel?.bringToFront()):await rM(t,o,k,ee,ce)}),Ee.commands.registerCommand("figma.openUrl",async()=>{let k=await Ee.window.showInputBox({placeHolder:"Enter Figma URL"});if(k){let ee=new URL(k);if(!ee.host.includes("figma."))return cn("URL must be a valid Figma URL");if(!(ee.searchParams.get("type")==="design"||ee.searchParams.get("mode")==="dev")){Ee.env.openExternal(Ee.Uri.parse(ee.href));return}let[Q,he,me,z]=ee.pathname.split("/"),fe=ee.searchParams.get("node-id");if(!me)return cn("URL must be a valid Figma URL");Ee.commands.executeCommand("figma.openFile",me,z,fe)}})),tr.selectedLayerGuidListeners.add(k=>{tr.fileKey&&k&&UF(t,tr.fileKey,{nodeId:k})}),tr.selectedPageGuidListeners.add(k=>{tr.fileKey&&(tr.selectedLayerGuid||UF(t,tr.fileKey,{nodeId:k}))})}function v(){t.subscriptions.push(Ee.commands.registerCommand("figma.getHtmlSkeletonForSelectedLayer",()=>{o.sendGetHtmlSkeleton(),o.sendTrackEvent("vscode.html_skeleton_command_used")}),Ee.commands.registerCommand("figma.getTextForSelectedLayer",()=>{tr.text&&(QU(tr.text),o.sendTrackEvent("vscode.get_text_command_used"))}),Ee.commands.registerCommand("figma.getFontsImport",()=>{o.sendGetFontImports()})),o.htmlSkeletonReceivedListeners.add(k=>{Ppe(k,o)}),o.fontImportsReceivedListeners.add(k=>{k&&QU(k)})}function C(){t.subscriptions.push(Ee.commands.registerCommand("figma.selectLayer",k=>{o.sendSelectLayer(k)}),Ee.commands.registerCommand("figma.quickPickLayer",()=>{wpe(tr,o)}),Ee.commands.registerCommand("figma.selectParentLayer",()=>{o.sendSelectParentLayer()}),Ee.commands.registerCommand("figma.expandLayer",()=>{o.sendExpandLayer()}),Ee.commands.registerCommand("figma.selectNextLayer",()=>{o.sendSelectNextLayer()}),Ee.commands.registerCommand("figma.selectPreviousLayer",()=>{o.sendSelectPreviousLayer()}),Ee.commands.registerCommand("figma.gotoPage",k=>{o.sendGotoPage(k)}))}function F(){t.subscriptions.push(Ee.commands.registerCommand("figma.createRelatedLinkForCurrentFile",k=>{if(!i.extensionOpen)return cn("Open a Figma file and select a layer before creating a link");if(!tr.selectedLayerGuid)return cn("Select a layer before creating a link");let ee;k?ee=Oa(!0,Ee.Uri.file(k)):ee=Oa(!0),ee&&(o.sendLinkCode(ee),o.sendTrackEvent("vscode.related_link_created"),Ee.window.withProgress({location:Ee.ProgressLocation.Notification,title:"Code link created",cancellable:!1},async ce=>new Promise(Q=>{for(let he=0;he<30;he++)setTimeout(()=>{he===29&&Q(),ce.report({increment:10})},50*he)})))}),Ee.commands.registerCommand("figma.removeRelatedLinkForCurrentFile",async()=>{if(!i.relatedLinks||!i.relatedLinks.length){cn("No related links for this file");return}if(i.relatedLinks.length===1)o.removeCodeLink(i.relatedLinks[0].link_url);else{let k=await Ee.window.showQuickPick(i.relatedLinks.map(ee=>({label:`${ee.link_name} (${ee.file_name})`,relatedLink:ee})),{placeHolder:"Select linked Figma component to remove link to"});k&&o.removeCodeLink(k.relatedLink.link_url)}}),Ee.commands.registerCommand("figma.gotoRelatedComponentForCurrentFile",async()=>{if(!i.relatedLinks||!i.relatedLinks.length){cn("No related links for this file");return}if(i.relatedLinks.length===1)await GL(t,o,i,i.relatedLinks[0]);else{let k=await Ee.window.showQuickPick(i.relatedLinks.map(ee=>({label:`${ee.link_name} (${ee.file_name})`,relatedLink:ee})),{placeHolder:"Select linked Figma component to open"});k&&await GL(t,o,i,k.relatedLink)}})),o.gotoCodeReceivedListeners.add(()=>{Ee.commands.executeCommand("figma.gotoCodeForComponent")}),Npe(t,i,o)}function P(){Ee.window.onDidChangeActiveColorTheme(k=>{o.isReady()&&o.sendSetTheme(eM(k.kind))})}function E(){}function J(){t.subscriptions.push(Ee.commands.registerCommand("figma.saveDebugInformation",async()=>{await Ee.window.showInformationMessage("Select a location to save a file containing debug information to, then send the file to Figma support as an attachment","Continue");let k=await Ee.window.showSaveDialog({title:"Select a location to save Figma for VS Code debug information",defaultUri:Ee.Uri.joinPath(Ee.Uri.file((0,uge.homedir)()),"Desktop","Figma for VS Code Debug Info.json")});if(!k)return;let ee={};ee["VS Code environment"]=nu(),ee["Extension state"]={loggedIn:Xn(t),userId:await jp(t),extensionOpen:i.extensionOpen},ee["Extension config"]=Ee.workspace.getConfiguration("figma"),ee["LiveGraph state"]=iu,ee["Sentry errors"]=GU.get(),ee.Breadcrumbs=ZU.get(),ee.Log=_l.get(),ee["Installed extensions"]=Ee.extensions.all.map(ce=>ce.id),(0,dge.writeFileSync)(k.fsPath,JSON.stringify(ee))}),Ee.commands.registerCommand("figma.createTestSentryError",()=>{setTimeout(()=>{throw new Error("Test error")},500)}),Ee.commands.registerCommand("figma.createTestSentryMessage",()=>{cge.captureMessage("Test message")}),Ee.commands.registerCommand("figma.createTestSentryException",()=>{Qe.exception("Test exception",{data:"Test Data"})}))}}function oze(){pge.forEach(t=>{clearInterval(t)}),_pe(),Ff()}0&&(module.exports={activate,deactivate,extensionContext,figmaState});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

@sentry/node/cjs/integrations/anr/worker-script.js:
  (*! @sentry/node 7.94.1 (cf062ba) | https://github.com/getsentry/sentry-javascript *)

localforage/dist/localforage.js:
  (*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  *)

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=figma-for-vs-code.js.map
