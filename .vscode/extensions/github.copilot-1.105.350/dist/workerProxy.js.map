{
  "version": 3,
  "file": "workerProxy.js",
  "mappings": "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KuI,oBAAoBC,EAAWE,EAAYC,YAEjE,OAAwB,IAApB/H,EAASnZ,QAGa,IAAtBmZ,EAAS,GAAGoF,MAFL,GAOJ,CACH,CACI3D,QAHY5Y,EAAM/B,MAAMkZ,EAAS,GAAGuI,UAAWvI,EAAS,GAAGwI,SAASnX,KAAK,MAIzEqY,UAAW,EAAAC,iBAAiBC,QAC5BtK,SAAU,EAAAgC,oBAAoBmI,mBAC3BzJ,EAAS,I,CAKxB,MAAMA,EAAsC,GAC5C,IAAK,IAAIqO,KAAQL,EAAe,CAC5B,MAAMvM,EAAUrC,KAAKyO,iBAAiBQ,GACtCrO,EAAS1W,KAAK,CACVogB,UAAW,EAAAC,iBAAiB2E,SAC5BhP,SAAU,EAAAgC,oBAAoBmI,mBAC3BhI,G,CAGX,OAAOzB,CACX,GAMJ,mBAIA,MAAMuO,EAAgB,IAAIvW,IAAI,CAE1B,KACA,MACA,MACA,KACA,MACA,OACA,OACA,QACA,OACA,OACA,QACA,QAEA,KACA,MACA,MACA,OACA,KACA,OACA,QACA,OACA,MACA,MACA,SACA,KACA,OACA,MACA,QACA,MACA,MACA,IACA,IACA,OACA,QACA,SAEA,OACA,QACA,MACA,OACA,QACA,MACA,MAEA,IACA,KACA,MAEA,MACA,KACA,MACA,KACA,MACA,UACA,KACA,QACA,QACA,UACA,OACA,OACA,OACA,QACA,MACA,MACA,OACA,OACA,MACA,OACA,OACA,QACA,OACA,OACA,QACA,QACA,KACA,SACA,SACA,QACA,KACA,KACA,KACA,QACA,UACA,OACA,UACA,OACA,KACA,OACA,KACA,MACA,KACA,MACA,OACA,QACA,OACA,MACA,OACA,KACA,OACA,MACA,OACA,OACA,QAME2V,EAAgB,IAAI3V,IAAI,CAE1B,KACA,OACA,OACA,MACA,QACA,OACA,MACA,WACA,SACA,OACA,SACA,MACA,QACA,QACA,UACA,SACA,SACA,OACA,QACA,SACA,WACA,QACA,QACA,QACA,OACA,SACA,SACA,MACA,QACA,OACA,SAEGuW,IAODb,EAA2C,IAAI/a,IAAI,G,uNC/gBzD,gBAMA,IAeYgX,EAfArI,KAAA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",
  "sources": [
    ".././src/fileSystem.ts",
    ".././src/indentation/classes.ts",
    ".././src/indentation/manipulation.ts",
    ".././src/indentation/parsing.ts",
    ".././src/languageMarker.ts",
    ".././src/localImportContext.ts",
    ".././src/parse.ts",
    ".././src/prompt.ts",
    ".././src/siblingFunctions.ts",
    ".././src/snippetInclusion/cursorContext.ts",
    ".././src/snippetInclusion/cursorMatching.ts",
    ".././src/snippetInclusion/jaccardMatching.ts",
    ".././src/snippetInclusion/neighboringFiles.ts",
    ".././src/snippetInclusion/selectRelevance.ts",
    ".././src/snippetInclusion/snippets.ts",
    ".././src/snippetInclusion/windowDelineations.ts",
    ".././src/suffixMatchCriteria.ts",
    ".././src/tokenization/index.ts",
    ".././src/tokenization/tokenizer.ts",
    ".././src/wishlist.ts",
    ".././src/workerProxy.ts",
    ".././node_modules/web-tree-sitter/tree-sitter.js",
    "../external node-commonjs \"assert\"",
    "../external node-commonjs \"fs\"",
    "../external node-commonjs \"path\"",
    "../external node-commonjs \"util\"",
    "../external node-commonjs \"worker_threads\"",
    "../webpack/bootstrap",
    "../webpack/startup"
  ],
  "sourcesContent": [
    "import {promises as fsp} from 'fs';\n\n/**\n * The `FileStat`-type represents metadata about a file\n */\nexport interface FileStat {\n    /**\n     * The creation timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n     */\n    ctime: number;\n\n    /**\n     * The modification timestamp in milliseconds elapsed since January 1, 1970 00:00:00 UTC.\n     *\n     * *Note:* If the file changed, it is important to provide an updated `mtime` that advanced\n     * from the previous value. Otherwise there may be optimizations in place that will not show\n     * the updated file contents in an editor for example.\n     */\n\n    mtime: number;\n    /**\n     * The size in bytes.\n     *\n     * *Note:* If the file changed, it is important to provide an updated `size`. Otherwise there\n     * may be optimizations in place that will not show the updated file contents in an editor for\n     * example.\n     */\n    size: number;\n}\n\n/**\n * A basic file-system interface for reading files and checking their mtime.\n */\nexport abstract class FileSystem {\n    /**\n     * Read the entire contents of the given file.\n     *\n     * cf https://nodejs.org/api/fs.html#fs_fspromises_readfile_path_options\n     */\n    abstract readFile(uri: string): Promise<Uint8Array>;\n\n    /**\n     * Get the mtime in milliseconds of the given file.\n     *\n     * cf https://nodejs.org/api/fs.html#fs_stats_mtimems\n     */\n    abstract mtime(uri: string): Promise<number>;\n\n    abstract stat(uri: string): Promise<FileStat>;\n}\n\nexport const defaultFileSystem: FileSystem = {\n    readFile(uri: string) {\n        return fsp.readFile(uri);\n    },\n\n    async mtime(uri: string) {\n        let stat = await fsp.stat(uri);\n        return stat.mtimeMs;\n    },\n\n    async stat(uri: string): Promise<FileStat> {\n        const stat = await fsp.stat(uri);\n        return {\n            ctime: stat.ctimeMs,\n            mtime: stat.mtimeMs,\n            size: stat.size,\n        };\n    },\n};\n",
    "export type IndentationTree<L> = TopNode<L> | VirtualNode<L> | LineNode<L> | BlankNode<L>;\nexport type IndentationSubTree<L> = Exclude<IndentationTree<L>, TopNode<L>>;\n\ninterface NodeBase<L> {\n    label?: L;\n    subs: IndentationSubTree<L>[];\n}\n\n/**\n * Virtual nodes represent groupings are not directly visible in indentation.\n **/\nexport interface VirtualNode<L> extends NodeBase<L> {\n    type: 'virtual';\n    indentation: number;\n}\n\nexport interface TopNode<L> extends NodeBase<L> {\n    type: 'top';\n    indentation: -1;\n}\n\n/**\n * A line of source code and its sub-nodes\n * */\nexport interface LineNode<L> extends NodeBase<L> {\n    type: 'line';\n    indentation: number;\n    lineNumber: number;\n    sourceLine: string;\n}\n\n/**\n * A blank line\n */\nexport interface BlankNode<L> extends NodeBase<L> {\n    type: 'blank';\n    lineNumber: number;\n    subs: never[]; // Type trick to make it easier to code\n}\n\n/** Construct a virtual node */\nexport function virtualNode<L>(indentation: number, subs: IndentationSubTree<L>[], label?: L): VirtualNode<L> {\n    return {type: 'virtual', indentation, subs, label};\n}\n\n/** Construct a line node */\nexport function lineNode<L>(\n    indentation: number,\n    lineNumber: number,\n    sourceLine: string,\n    subs: IndentationSubTree<L>[],\n    label?: L\n): LineNode<L> {\n    if (sourceLine === '') {\n        throw new Error('Cannot create a line node with an empty source line');\n    }\n    return {type: 'line', indentation, lineNumber, sourceLine, subs, label};\n}\n\n/** Return a blank node */\nexport function blankNode(line: number): BlankNode<never> {\n    return {type: 'blank', lineNumber: line, subs: []};\n}\n\n/** Return a node representing the top node */\nexport function topNode<L>(subs?: IndentationSubTree<L>[]): TopNode<L> {\n    return {\n        type: 'top',\n        indentation: -1,\n        subs: subs ?? [],\n    };\n}\n\nexport function isBlank<L>(tree: IndentationTree<L>): tree is BlankNode<L> {\n    return tree.type === 'blank';\n}\n\nexport function isLine<L>(tree: IndentationTree<L>): tree is LineNode<L> {\n    return tree.type === 'line';\n}\n\nexport function isVirtual<L>(tree: IndentationTree<L>): tree is VirtualNode<L> {\n    return tree.type === 'virtual';\n}\n\nexport function isTop<L>(tree: IndentationTree<L>): tree is TopNode<L> {\n    return tree.type === 'top';\n}\n\n/**\n * Return the tree which consists of everything up to the line node with the\n * given number. All later siblings of that line node, recursively, are removed.\n *\n * This function does not assume the line numbers appear contiguously, but will\n * return anything before the numbered line, whether its line number is greater\n * or not.\n *\n * This is destructive and modifies the tree.\n */\nexport function cutTreeAfterLine(tree: IndentationTree<any>, lineNumber: number) {\n    function cut(tree: IndentationTree<any>): boolean {\n        if (!isVirtual(tree) && !isTop(tree) && tree.lineNumber === lineNumber) {\n            tree.subs = [];\n            return true;\n        }\n        for (let i = 0; i < tree.subs.length; i++) {\n            if (cut(tree.subs[i])) {\n                tree.subs = tree.subs.slice(0, i + 1);\n                return true;\n            }\n        }\n        return false;\n    }\n    cut(tree);\n}\n\n/**\n * A type expressing that JSON.parse(JSON.stringify(x)) === x.\n */\nexport type JsonStable = string | number | JsonStable[] | {[key: string]: JsonStable};\n\n/**\n * Return a deep duplicate of the tree -- this will only work if the labels can be stringified to parseable JSON.\n */\nexport function duplicateTree<L extends JsonStable>(tree: IndentationTree<L>): IndentationTree<L> {\n    return JSON.parse(JSON.stringify(tree));\n}\n",
    "import {IndentationSubTree, IndentationTree, TopNode, isTop, isVirtual, topNode} from './classes';\n\n/**\n * Clear all labels (and their types) from the tree.\n * This will modify the tree in place, or return a retyped tree.\n */\nexport function clearLabels(tree: IndentationTree<any>): IndentationTree<never> {\n    visitTree(\n        tree,\n        (tree: IndentationTree<any>) => {\n            tree.label = undefined;\n        },\n        'bottomUp'\n    );\n    return tree;\n}\n\n/** clear labels if condition is true */\nexport function clearLabelsIf<L, S>(\n    tree: IndentationTree<L | S>,\n    condition: (arg: L | S) => arg is S\n): IndentationTree<L> {\n    visitTree(\n        tree,\n        (tree: IndentationTree<L | S>) => {\n            tree.label = tree.label ? (condition(tree.label) ? undefined : tree.label) : undefined;\n        },\n        'bottomUp'\n    );\n    return tree as IndentationTree<L>;\n}\n\nexport function mapLabels<L1, L2>(\n    tree: IndentationSubTree<L1>,\n    map: (arg: L1) => L2 | undefined\n): IndentationSubTree<L2>;\nexport function mapLabels<L1, L2>(tree: TopNode<L1>, map: (arg: L1) => L2 | undefined): TopNode<L2>;\nexport function mapLabels<L1, L2>(tree: IndentationTree<L1>, map: (arg: L1) => L2 | undefined): IndentationTree<L2>;\n/**\n * Apply a type changing function to all labels.\n * This will return a new, retyped tree.\n * (For applying a type keeping function to a tree\n * that modifies it in place, use `visitTree`.)\n */\nexport function mapLabels<L1, L2>(tree: IndentationTree<L1>, map: (arg: L1) => L2 | undefined): IndentationTree<L2> {\n    switch (tree.type) {\n        case 'line':\n        case 'virtual':\n            const newSubs = tree.subs.map(sub => mapLabels(sub, map));\n            return {...tree, subs: newSubs, label: tree.label ? map(tree.label) : undefined};\n        case 'blank':\n            return {...tree, label: tree.label ? map(tree.label) : undefined};\n        case 'top':\n            return {\n                ...tree,\n                subs: tree.subs.map(sub => mapLabels(sub, map)),\n                label: tree.label ? map(tree.label) : undefined,\n            };\n    }\n}\n\n/**\n * Renumber the line numbers of the tree contiguously from 0 and up.\n */\nexport function resetLineNumbers(tree: IndentationTree<any>): void {\n    let lineNumber = 0;\n    function visitor(tree: IndentationTree<any>) {\n        if (!isVirtual(tree) && !isTop(tree)) {\n            tree.lineNumber = lineNumber;\n            lineNumber++;\n        }\n    }\n    visitTree(tree, visitor, 'topDown');\n}\n\n/**\n * Visit the tree with a function that is called on each node.\n *\n * If direction is topDown, then parents are visited before their children.\n * If direction is bottomUp, children are visited in order before their parents,\n * so that leaf nodes are visited first.\n */\nexport function visitTree<L>(\n    tree: IndentationTree<L>,\n    visitor: (tree: IndentationTree<L>) => void,\n    direction: 'topDown' | 'bottomUp'\n): void {\n    function _visit(tree: IndentationTree<L>) {\n        if (direction === 'topDown') {\n            visitor(tree);\n        }\n        tree.subs.forEach(subtree => {\n            _visit(subtree);\n        });\n        if (direction === 'bottomUp') {\n            visitor(tree);\n        }\n    }\n    _visit(tree);\n}\n\n/**\n * Visit the tree with a function that is called on each node --\n * if it returns false, children are not visited (in case of topDown),\n * or the parent is not visited anymore (in case of bottomUp).\n *\n * If direction is topDown, then parents are visited before their children.\n * If direction is bottomUp, children are visited in order before their parents,\n * so that leaf nodes are visited first.\n */\nexport function visitTreeConditionally<L>(\n    tree: IndentationTree<L>,\n    visitor: (tree: IndentationTree<L>) => boolean,\n    direction: 'topDown' | 'bottomUp'\n): void {\n    // IDEA: rewrite visitTree to reuse this code\n    function _visit(tree: IndentationTree<L>): boolean {\n        if (direction === 'topDown') {\n            if (!visitor(tree)) {\n                return false;\n            }\n        }\n        let shouldContinue = true;\n        tree.subs.forEach(subtree => {\n            shouldContinue = shouldContinue && _visit(subtree);\n        });\n        if (direction === 'bottomUp') {\n            shouldContinue = shouldContinue && visitor(tree);\n        }\n        return shouldContinue;\n    }\n    _visit(tree);\n}\n\n/**\n * Fold an accumulator function over the tree.\n *\n * If direction is topDown, then parents are visited before their children.\n * If direction is bottomUp, children are visited in order before their parents,\n * so that leaf nodes are visited first.\n */\nexport function foldTree<T, L>(\n    tree: IndentationTree<L>,\n    init: T,\n    accumulator: (tree: IndentationTree<L>, acc: T) => T,\n    direction: 'topDown' | 'bottomUp'\n): T {\n    let acc = init;\n    function visitor(tree: IndentationTree<L>) {\n        acc = accumulator(tree, acc);\n    }\n    visitTree(tree, visitor, direction);\n    return acc;\n}\n\nexport type Rebuilder<L> = (tree: IndentationTree<L>) => IndentationTree<L> | undefined;\n/**\n * Rebuild the tree from the bottom up by applying a function to each node.\n * The visitor function takes a node whose children have already been rebuilt,\n * and returns a new node to replace it (or undefined if it should be deleted).\n * Optionally, a function can be provided to skip nodes that should just be kept\n * without visiting them or their sub-nodes.\n */\nexport function rebuildTree<L>(\n    tree: IndentationTree<L>,\n    visitor: Rebuilder<L>,\n    skip?: (tree: IndentationTree<L>) => boolean\n): IndentationTree<L> {\n    const rebuild: Rebuilder<L> = (tree: IndentationTree<L>) => {\n        if (skip !== undefined && skip(tree)) {\n            return tree;\n        } else {\n            const newSubs = tree.subs.map(rebuild).filter(sub => sub !== undefined) as IndentationSubTree<L>[];\n            tree.subs = newSubs;\n            return visitor(tree);\n        }\n    };\n    const rebuilt = rebuild(tree);\n    if (rebuilt !== undefined) {\n        return rebuilt;\n    } else {\n        return topNode();\n    }\n}\n",
    "import {\n    blankNode,\n    IndentationSubTree,\n    IndentationTree,\n    isBlank,\n    isLine,\n    isVirtual,\n    lineNode,\n    LineNode,\n    TopNode,\n    topNode,\n    virtualNode,\n    VirtualNode,\n} from './classes';\nimport {clearLabelsIf, Rebuilder, rebuildTree, visitTree} from './manipulation';\n\n/**\n * Perform a raw indentation-tree parse of a string. This is completely\n * language-agnostic and the returned tree is unlabeled.\n *\n *  - Blank lines pertain to the top-most node that they may, as restricted\n *    by next non-blank line. So e.g.\n *\n *         E\n *           e1\n *             e2\n *\n *           e3\n *\n *     Then e1.subs = [e2], and E.subs = [ e1, blank, e3 ].\n *\n */\nexport function parseRaw(source: string): IndentationTree<never> {\n    const rawLines = source.split('\\n');\n    // TODO: How to handle mix of tabs and spaces?\n    const indentations = rawLines.map(line => line.match(/^\\s*/)![0].length);\n    const lines = rawLines.map(line => line.trimLeft());\n    function parseNode(line: number): [LineNode<never>, number] {\n        const [subs, nextLine] = parseSubs(line + 1, indentations[line]);\n        const node: LineNode<never> = lineNode(indentations[line], line, lines[line], subs);\n        return [node, nextLine];\n    }\n    function parseSubs(initialLine: number, parentIndentation: number): [IndentationSubTree<never>[], number] {\n        let sub: IndentationTree<never> | undefined;\n        const subs: IndentationSubTree<never>[] = [];\n        let line = initialLine;\n        let lastBlank: number | undefined = undefined;\n        while (line < lines.length && (lines[line] === '' || indentations[line] > parentIndentation)) {\n            if (lines[line] === '') {\n                if (lastBlank === undefined) {\n                    lastBlank = line;\n                }\n                line += 1;\n            } else {\n                if (lastBlank !== undefined) {\n                    for (let i = lastBlank; i < line; i++) {\n                        subs.push(blankNode(i));\n                    }\n                    lastBlank = undefined;\n                }\n                [sub, line] = parseNode(line);\n                subs.push(sub);\n            }\n        }\n        // Trailing blanks are left for the grandparent\n        if (lastBlank !== undefined) {\n            line = lastBlank;\n        }\n        return [subs, line];\n    }\n    const [subs, parsedLine] = parseSubs(0, -1);\n    let line = parsedLine;\n    // Special case: trailing blank lines at end of file\n    while (line < lines.length && lines[line] === '') {\n        subs.push(blankNode(line));\n        line += 1;\n    }\n    if (line < lines.length) {\n        throw new Error(`Parsing did not go to end of file. Ended at ${line} out of ${lines.length}`);\n    }\n    return topNode(subs);\n}\n\ntype LineMatcher = (sourceLine: string) => boolean;\nexport interface LabelRule<L> {\n    matches: LineMatcher;\n    label: L | undefined;\n}\n\n/** Labels the line elements of the tree in-place according to rules */\nexport function labelLines<L>(tree: IndentationTree<L>, labelRules: LabelRule<L>[]): void {\n    function visitor(tree: IndentationTree<L>): void {\n        if (isLine(tree)) {\n            const rule = labelRules.find(rule => rule.matches(tree.sourceLine));\n            if (rule) {\n                tree.label = rule.label;\n            }\n        }\n    }\n    visitTree(tree, visitor, 'bottomUp');\n}\n\n/**\n * For each virtual node, if the node has only one non-blank sub, then label\n * the virtual node as that sub.\n */\nexport function labelVirtualInherited(tree: IndentationTree<any>): void {\n    function visitor(tree: IndentationTree<any>): void {\n        if (isVirtual(tree) && tree.label === undefined) {\n            const subs = tree.subs.filter(sub => !isBlank(sub));\n            if (subs.length === 1) {\n                tree.label = subs[0].label;\n            }\n        }\n    }\n    visitTree(tree, visitor, 'bottomUp');\n}\n\n/**\n * Function to convert a mapped object to a list of rules.\n * This allows some type magic for extracting a label type from a mapping of rules.\n */\nexport function buildLabelRules<L extends {[key: string]: RegExp | LineMatcher}>(ruleMap: L): LabelRule<keyof L>[] {\n    return (Object.keys(ruleMap) as (keyof L)[]).map(key => {\n        let matches: (sourceLine: string) => boolean;\n        if ((ruleMap[key] as RegExp).test) {\n            matches = sourceLine => (ruleMap[key] as RegExp).test(sourceLine);\n        } else {\n            matches = ruleMap[key] as LineMatcher;\n        }\n        return {\n            matches,\n            label: key,\n        };\n    });\n}\n\n/**\n * Fills the opener and closer indentation spec of\n * https://docs.google.com/document/d/1WxjTDzx8Qbf4Bklrp9KwiQsB4-kTOloAR5h86np3_OM/edit#heading=h.y5nobcviainb\n * 1. Openers alone in a line whose older sibling is a line are moved to be the first of that sibling's children,\n *    and their children integrated as subsequent children of their new parent.\n * 2. Closers following an older sibling (maybe with blanks in between) are moved to be the last of that sibling.\n * 3. If the closer in 2 has children themselves, their older siblings are wrapped in a virtual node\n */\nexport function combineClosersAndOpeners<L>(\n    tree: IndentationTree<L | 'opener' | 'closer'>\n): IndentationTree<L | 'opener' | 'closer'> {\n    // We'll make new virtual nodes, which comprise older siblings of a closer and get a temporary label\n    type S = L | 'opener' | 'closer' | 'newVirtual';\n    const rebuilder: Rebuilder<S> = function (tree: IndentationTree<S>) {\n        if (\n            tree.subs.length === 0 ||\n            tree.subs.findIndex(sub => sub.label === 'closer' || sub.label === 'opener') === -1\n        ) {\n            return tree;\n        }\n        const newSubs: IndentationSubTree<S>[] = [];\n        let lastNew: TopNode<S> | VirtualNode<S> | LineNode<S> | undefined;\n        for (let i = 0; i < tree.subs.length; i++) {\n            const sub = tree.subs[i];\n            const directOlderSibling = tree.subs[i - 1];\n            // 1. if opener whose older sibling is a line, move to first of that sibling's children\n            if (sub.label === 'opener' && directOlderSibling !== undefined && isLine(directOlderSibling)) {\n                // Move the bracket to be the last child of it\n                directOlderSibling.subs.push(sub);\n                sub.subs.forEach(sub => directOlderSibling.subs.push(sub));\n                sub.subs = [];\n            }\n            // 2. if a closer following an older sibling\n            else if (\n                sub.label === 'closer' &&\n                lastNew !== undefined &&\n                (isLine(sub) || isVirtual(sub)) &&\n                sub.indentation >= lastNew.indentation\n            ) {\n                // Move intervening blanks from newSubs to lastNew.subs\n                let j = newSubs.length - 1;\n                while (j > 0 && isBlank(newSubs[j])) {\n                    j -= 1;\n                }\n                lastNew.subs.push(...newSubs.splice(j + 1));\n\n                // 3.if the closer in 2 has children themselves, their older siblings are wrapped in a virtual node to distinguish them\n                // Except for leading blocks of virtual nodes which have already been wrapped that way\n                // i.e. take the longest initial subsequence of lastNew.subs that are all labeled 'virtual' and don't wrap those again\n                if (sub.subs.length > 0) {\n                    const firstNonVirtual = lastNew.subs.findIndex(sub => sub.label !== 'newVirtual');\n                    const subsToKeep = lastNew.subs.slice(0, firstNonVirtual);\n                    const subsToWrap = lastNew.subs.slice(firstNonVirtual);\n                    const wrappedSubs =\n                        subsToWrap.length > 0 ? [virtualNode(sub.indentation, subsToWrap, 'newVirtual')] : [];\n                    lastNew.subs = [...subsToKeep, ...wrappedSubs, sub];\n                } else {\n                    lastNew.subs.push(sub);\n                }\n            } else {\n                // nothing to do here, just add it normally\n                newSubs.push(sub);\n                if (!isBlank(sub)) {\n                    lastNew = sub;\n                }\n            }\n        }\n        tree.subs = newSubs;\n        return tree;\n    };\n    const returnTree = rebuildTree(tree, rebuilder);\n    clearLabelsIf<S, 'newVirtual'>(tree, (arg: S): arg is 'newVirtual' => arg === 'newVirtual');\n    // now returnTree does not have the helper label 'newVirtual' anymore\n    return returnTree as IndentationTree<L | 'opener' | 'closer'>;\n}\n\n/**\n * If there are more than 1 consecutive sibling separated from others by delimiters,\n * combine them into a virtual node.\n * The possibly several consecutive delimiters will be put with the preceding siblings into the virtual node.\n * Note that offside groupings should be done before this.\n */\nexport function groupBlocks<L>(\n    tree: IndentationTree<L>,\n    isDelimiter: (node: IndentationTree<L>) => boolean = isBlank,\n    label?: L\n): IndentationTree<L> {\n    const rebuilder: Rebuilder<L> = function (tree: IndentationTree<L>) {\n        if (tree.subs.length <= 1) {\n            return tree;\n        }\n        const newSubs: IndentationSubTree<L>[] = [];\n        let nodesSinceLastFlush: IndentationSubTree<L>[] = [];\n        let currentBlockIndentation: number | undefined;\n        let lastNodeWasDelimiter = false;\n\n        // we write to nodesSinceLastDelimiter as cache\n        // if we have a non-delimiter after a delimiter, we flush\n        // to a new virtual node appended to the newSubs array\n\n        function flushBlockIntoNewSubs(\n            final: boolean = false // if final, only wrap in virtual if there are newSubs already\n        ): void {\n            if (currentBlockIndentation !== undefined && (newSubs.length > 0 || !final)) {\n                const virtual = virtualNode(currentBlockIndentation, nodesSinceLastFlush, label);\n                newSubs.push(virtual);\n            } else {\n                nodesSinceLastFlush.forEach(node => newSubs.push(node));\n            }\n        }\n\n        for (let i = 0; i < tree.subs.length; i++) {\n            const sub = tree.subs[i];\n            const subIsDelimiter = isDelimiter(sub);\n            if (!subIsDelimiter && lastNodeWasDelimiter) {\n                flushBlockIntoNewSubs();\n                nodesSinceLastFlush = [];\n            }\n            lastNodeWasDelimiter = subIsDelimiter;\n            nodesSinceLastFlush.push(sub);\n            if (!isBlank(sub)) {\n                currentBlockIndentation = currentBlockIndentation ?? sub.indentation;\n            }\n        }\n\n        // treat the end of node like a block end, and make the virtual block if it wouldn't be a singleton\n        flushBlockIntoNewSubs(true);\n        tree.subs = newSubs;\n        return tree;\n    };\n    return rebuildTree(tree, rebuilder);\n}\n\n/**\n * Remove unlabeled virtual nodes which either:\n *  - Have one or no children\n *  - Are the only child of their parent\n * In either case, it is replaced by their children.\n */\nexport function flattenVirtual<L>(tree: IndentationTree<L>): IndentationTree<L> {\n    const rebuilder: Rebuilder<L> = function (tree) {\n        if (isVirtual(tree) && tree.label === undefined && tree.subs.length <= 1) {\n            if (tree.subs.length === 0) {\n                return undefined;\n            } else {\n                //tree.subs.length === 1\n                return tree.subs[0];\n            }\n        } else if (tree.subs.length === 1 && isVirtual(tree.subs[0]) && tree.subs[0].label === undefined) {\n            tree.subs = tree.subs[0].subs;\n        }\n        return tree;\n    };\n    return rebuildTree(tree, rebuilder);\n}\n\n/**\n * Generic labels.\n *\n *  * opener: A line starting with an opening parens, square bracket, or curly brace\n *  * closer: A line starting with a closing parens, square bracket, or curly brace\n */\nconst _genericLabelRules = {\n    opener: /^[\\[({]/,\n    closer: /^[\\])}]/,\n} as const;\nconst genericLabelRules: LabelRule<'opener' | 'closer'>[] = buildLabelRules(_genericLabelRules);\n\nconst LANGUAGE_SPECIFIC_PARSERS: {[key: string]: (raw: IndentationTree<never>) => IndentationTree<string>} = {};\n/**\n * Register a language-specific parser for a language.\n * This should normally be called in index.ts.\n */\nexport function registerLanguageSpecificParser(\n    language: string,\n    parser: (raw: IndentationTree<never>) => IndentationTree<string>\n): void {\n    LANGUAGE_SPECIFIC_PARSERS[language] = parser;\n}\n\nexport function parseTree(source: string, languageId?: string): IndentationTree<string> {\n    const raw = parseRaw(source);\n    const languageSpecificParser = LANGUAGE_SPECIFIC_PARSERS[languageId ?? ''];\n    if (languageSpecificParser) {\n        return languageSpecificParser(raw);\n    } else {\n        labelLines(raw, genericLabelRules);\n        const processedTree = combineClosersAndOpeners(raw);\n        return processedTree;\n    }\n}\n",
    "import {DocumentInfo} from './prompt';\n\n/**\n * Interface for writing single-line comments in a given language.\n * Does not include the terminal new-line character (i.e. for many languages,\n * `end` will just be the empty string).\n */\ninterface CommentMarker {\n    start: string;\n    end: string;\n}\n\n// Language files in VSCode:\n// https://code.visualstudio.com/docs/languages/identifiers#_known-language-identifiers\n//\n// Missing below from this list are:\n// Diff diff\n// Git\tgit-commit and git-rebase\n// JSON\tjson\n// ShaderLab\tshaderlab\n// Additional to that list are:\n// Erlang\n// Haskell\n// Kotlin\n// QL\n// Scala\n// Verilog\nexport const languageCommentMarkers: {[language: string]: CommentMarker} = {\n    abap: {start: '\"', end: ''},\n    bat: {start: 'REM', end: ''},\n    bibtex: {start: '%', end: ''},\n    blade: {start: '#', end: ''},\n    c: {start: '//', end: ''},\n    clojure: {start: ';', end: ''},\n    coffeescript: {start: '//', end: ''},\n    cpp: {start: '//', end: ''},\n    csharp: {start: '//', end: ''},\n    css: {start: '/*', end: '*/'},\n    dart: {start: '//', end: ''},\n    dockerfile: {start: '#', end: ''},\n    elixir: {start: '#', end: ''},\n    erb: {start: '<%#', end: '%>'},\n    erlang: {start: '%', end: ''},\n    fsharp: {start: '//', end: ''},\n    go: {start: '//', end: ''},\n    groovy: {start: '//', end: ''},\n    haml: {start: '-#', end: ''},\n    handlebars: {start: '{{!', end: '}}'},\n    haskell: {start: '--', end: ''},\n    html: {start: '<!--', end: '-->'},\n    ini: {start: ';', end: ''},\n    java: {start: '//', end: ''},\n    javascript: {start: '//', end: ''},\n    javascriptreact: {start: '//', end: ''},\n    jsonc: {start: '//', end: ''},\n    jsx: {start: '//', end: ''},\n    julia: {start: '#', end: ''},\n    kotlin: {start: '//', end: ''},\n    latex: {start: '%', end: ''},\n    less: {start: '//', end: ''},\n    lua: {start: '--', end: ''},\n    makefile: {start: '#', end: ''},\n    markdown: {start: '[]: #', end: ''},\n    'objective-c': {start: '//', end: ''},\n    'objective-cpp': {start: '//', end: ''},\n    perl: {start: '#', end: ''},\n    php: {start: '//', end: ''},\n    powershell: {start: '#', end: ''},\n    pug: {start: '//', end: ''},\n    python: {start: '#', end: ''},\n    ql: {start: '//', end: ''}, // QL is a query language for CodeQL\n    r: {start: '#', end: ''},\n    razor: {start: '<!--', end: '-->'},\n    ruby: {start: '#', end: ''},\n    rust: {start: '//', end: ''},\n    sass: {start: '//', end: ''},\n    scala: {start: '//', end: ''},\n    scss: {start: '//', end: ''},\n    shellscript: {start: '#', end: ''},\n    slim: {start: '/', end: ''},\n    solidity: {start: '//', end: ''},\n    sql: {start: '--', end: ''},\n    stylus: {start: '//', end: ''},\n    svelte: {start: '<!--', end: '-->'},\n    swift: {start: '//', end: ''},\n    terraform: {start: '#', end: ''},\n    tex: {start: '%', end: ''},\n    typescript: {start: '//', end: ''},\n    typescriptreact: {start: '//', end: ''},\n    vb: {start: \"'\", end: ''},\n    verilog: {start: '//', end: ''},\n    'vue-html': {start: '<!--', end: '-->'},\n    vue: {start: '//', end: ''},\n    xml: {start: '<!--', end: '-->'},\n    xsl: {start: '<!--', end: '-->'},\n    yaml: {start: '#', end: ''},\n};\n\nconst dontAddLanguageMarker: string[] = [\n    'php', // We don't know if the file starts with `<?php` or not\n    'plaintext', // Doesn't admit comments\n];\n\n// prettier-ignore\nconst shebangLines: { [language: string]: string } = {\n    \"html\":          \"<!DOCTYPE html>\",\n    \"python\":        \"#\\!/usr/bin/env python3\",\n    \"ruby\":          \"#\\!/usr/bin/env ruby\",\n    \"shellscript\":   \"#\\!/bin/sh\",\n    \"yaml\":          \"# YAML data\"\n}\n\n/**\n * Best-effort determining whether the top of the source already contains a\n * discernible language marker, in particular a shebang line\n * @param languageId The string name of the language\n * @returns True iff we determined a recognisable language marker\n */\n// prettier-ignore\nexport function hasLanguageMarker({ source } : DocumentInfo): boolean {\n    return source.startsWith(\"#\\!\") || source.startsWith(\"<!DOCTYPE\");\n}\n\n/**\n * Comment a single line of text in a given language.\n * E.g. for python, turn \"hello there\" into \"# hello there\"\n *\n * Note: This will not behave as you expect if `text` has multiple lines. In\n * that case, use {@link commentBlockAsSingles} instead.\n */\nexport function comment(text: string, languageId: string) {\n    const markers = languageCommentMarkers[languageId];\n    if (markers) {\n        const end = markers.end == '' ? '' : ' ' + markers.end;\n        return `${markers.start} ${text}${end}`;\n    }\n    return '';\n}\n\n/**\n * Comment a block of text using single-line comments.\n *\n * The returned comment block will have a trailing newline exactly when the\n * input does.\n */\nexport function commentBlockAsSingles(text: string, languageId: string) {\n    if (!languageCommentMarkers[languageId] || text === '') {\n        // Avoid spewing out a long list of blank lines\n        return '';\n    }\n    const trailingNewline = text.endsWith('\\n');\n    const lines = (trailingNewline ? text.slice(0, -1) : text).split('\\n');\n    const commented = lines.map(line => comment(line, languageId)).join('\\n');\n    return trailingNewline ? commented + '\\n' : commented;\n}\n\n/**\n * Return a one-line comment or text which describes the language of a\n * document, e.g. a shebang line or a comment.\n *\n * @param doc The document we want the marker for.\n * @returns A one-line string that describes the language.\n */\nexport function getLanguageMarker(doc: DocumentInfo): string {\n    const {languageId} = doc;\n    if (dontAddLanguageMarker.indexOf(languageId) === -1 && !hasLanguageMarker(doc)) {\n        if (languageId in shebangLines) {\n            return shebangLines[languageId];\n        } else {\n            return comment(`Language: ${languageId}`, languageId);\n        }\n    }\n    return '';\n}\n\n/**\n * Return a one-line comment containing the relative path of the document, if known.\n *\n * @param doc The document we want the marker for.\n * @returns A one-line comment that contains the relative path of the document.\n */\nexport function getPathMarker(doc: DocumentInfo): string {\n    if (doc.relativePath) {\n        return comment(`Path: ${doc.relativePath}`, doc.languageId);\n    }\n    return '';\n}\n\n/**\n * Appends a new line to a string if it does not already end with one.\n *\n * @param str String to append\n *\n * @returns A string with a new line escape character at the end.\n */\nexport function newLineEnded(str: string): string {\n    return str === '' || str.endsWith('\\n') ? str : str + '\\n';\n}\n",
    "import * as path from 'path';\nimport {dirname, extname, join} from 'path';\nimport {SyntaxNode} from 'web-tree-sitter';\nimport {FileSystem, defaultFileSystem} from './fileSystem';\nimport {getFirstPrecedingComment, parseTreeSitter, queryExports} from './parse';\nimport {DocumentInfoWithOffset} from './prompt';\n\n/**\n * Resolve the import `imp`, which is a TypeScript `import` statement appearing in a module whose\n * path is `importerPath`, using `fs`.\n *\n * If the import is not a local import (i.e., the import path does not start with `.`), or the file\n * it imports has an extension other than `.ts`, return `null`.\n */\nfunction resolveLocalTypeScriptImport(importerPath: string, imp: SyntaxNode): string | null {\n    let src = imp.namedChild(1)?.text.slice(1, -1);\n    if (!src || !src.startsWith('.')) return null;\n\n    if (extname(src) === '') {\n        src = src + '.ts';\n    } else if (extname(src) !== '.ts') {\n        return null;\n    }\n\n    return join(dirname(importerPath), src);\n}\n\n/**\n * Get a list of all names imported by `imp` (possibly with renaming), where\n * `imp` must be a TypeScript `import` statement.\n */\nfunction getTypescriptImportedNames(imp: SyntaxNode): {name: string; alias: string | undefined}[] {\n    let names = [];\n    if (imp.namedChild(0)?.type === 'import_clause') {\n        let importClause = imp.namedChild(0);\n        if (importClause?.namedChild(0)?.type === 'named_imports') {\n            let namedImports = importClause.namedChild(0);\n            for (let namedImport of namedImports?.namedChildren ?? []) {\n                if (namedImport.type === 'import_specifier') {\n                    const name = namedImport.childForFieldName('name')?.text;\n                    if (name) {\n                        const alias = namedImport.childForFieldName('alias')?.text;\n                        names.push({name, alias});\n                    }\n                }\n            }\n        }\n    }\n    return names;\n}\n\n/**\n * Module exports are modelled as a mapping from names to lists of declarations.\n *\n * The same name can map to multiple declarations for function signature exports.\n */\ntype Exports = Map<string, string[]>;\n\nconst exportsCache = new Map<string, {mtime: number; exports: Exports}>();\n\nconst EXPORTS_CACHE_LOW_WATER_MARK = 1000;\nconst EXPORTS_CACHE_HIGH_WATER_MARK = 2000;\n\n/**\n * Given a definition of a function or type, return its name and a corresponding\n * TypeScript declaration that only contains types but no code.\n *\n * For ambient declarations, we recursively process the wrapped declaration.\n *\n * For interfaces, enums, and type aliases, they are returned as-is.\n *\n * For function signatures and declarations, we turn them into signatures as\n * explained in the documentation for `extractTypeScriptFunctionDeclaration` below.\n *\n * Classes are turned into ambient declarations, using `extractTypeScriptMemberDeclaration`\n * to recursively process their members.\n */\nfunction extractTypeScriptDeclaration(srcString: string, defn: SyntaxNode | null): {name: string; decl: string} {\n    let name = defn?.childForFieldName('name')?.text ?? '';\n\n    switch (defn?.type) {\n        case 'ambient_declaration':\n            return extractTypeScriptDeclaration(srcString, defn.namedChild(0));\n        case 'interface_declaration':\n        case 'enum_declaration':\n        case 'type_alias_declaration':\n            return {name, decl: defn.text};\n        case 'function_declaration':\n        case 'function_signature':\n            return {name, decl: extractTypeScriptFunctionDeclaration(srcString, defn)};\n        case 'class_declaration': {\n            let memberDecls = extractTypeScriptBodyDecls(srcString, defn);\n            let decl = '';\n            if (memberDecls) {\n                let body = defn.childForFieldName('body')!;\n                // first, we take everything up to and including the start of the body\n                decl = `declare ${srcString.substring(defn.startIndex, body.startIndex + 1)}`;\n\n                // then we add the member declarations\n                decl += memberDecls.map(d => '\\n' + d).join('');\n\n                // finally, we add the closing brace\n                decl += `\\n}`;\n            }\n            return {name, decl};\n        }\n    }\n\n    return {name, decl: ''};\n}\n\n/**\n * Given a definition or a signature of a TypeScript function or method, return\n * a corresponding TypeScript declaration that only contains types but no code.\n *\n * We do this by taking the prefix up to and including the return type\n * annotation if present, or the parameter list otherwise. This does not always\n * yield a valid signature, for example in the presence of default parameters\n * and parameter properties, but it's good enough for the purposes of prompt\n * crafting.\n *\n * For functions (but nor for methods) we additionally prepend the `declare` keyword\n * to turn it into an ambient declaration.\n */\nfunction extractTypeScriptFunctionDeclaration(srcString: string, defn: SyntaxNode): string {\n    const endIndex = defn.childForFieldName('return_type')?.endIndex ?? defn.childForFieldName('parameters')?.endIndex;\n    if (endIndex !== undefined) {\n        let signature = srcString.substring(defn.startIndex, endIndex) + ';';\n        if (defn.type === 'function_declaration' || defn.type === 'function_signature') {\n            return 'declare ' + signature;\n        } else {\n            return signature;\n        }\n    }\n    return '';\n}\n\n/**\n * Get the indentation of `node`, that is, the shortest string of spaces and\n * tabs that starts at the beginning of a line and ends at the beginning of\n * `node`. If no such string exists, return `undefined`.\n */\nfunction getIndentation(srcString: string, node: SyntaxNode): string | undefined {\n    // skip backwards over tabs and spaces\n    let i = node.startIndex - 1;\n    while (i >= 0 && (srcString[i] === ' ' || srcString[i] === '\\t')) {\n        i--;\n    }\n    // if we're at the beginning of the file or at a newline, we've found our indentation\n    if (i < 0 || srcString[i] === '\\n') {\n        return srcString.substring(i + 1, node.startIndex);\n    }\n    // otherwise something more complicated is going on, so we'll return undefined\n    return undefined;\n}\n\n/**\n * Get the doc comment attached to `node`.\n *\n * This is defined as all text between the start of the first comment in the\n * longest unbroken run of comments preceding `node` and the start of `node`,\n * or the empty string if no such run exists.\n *\n * In particular, the \"doc comment\" will include leading whitespace of the\n * node, but not of the first comment in the run.\n */\nexport function getDocComment(srcString: string, node: SyntaxNode): string {\n    const docCommentNode = getFirstPrecedingComment(node);\n    return docCommentNode ? srcString.substring(docCommentNode.startIndex, node.startIndex) : '';\n}\n\n/**\n * Given a definition of a (non-private) class member, return a corresponding\n * TypeScript declaration that only contains types but no code.\n *\n * For ambient members, we recursively process the wrapped declaration.\n *\n * For method definitions and signatures we use `extractTypeScriptFunctionDeclaration` above.\n *\n * For fields, we chop off the initializer if present.\n */\nfunction extractTypeScriptMemberDeclaration(srcString: string, defn: SyntaxNode): string {\n    // filter out private members\n    if (defn?.firstChild?.type === 'accessibility_modifier' && defn.firstChild.text === 'private') {\n        return '';\n    }\n\n    const commentNode = getFirstPrecedingComment(defn);\n    const indentation = getIndentation(srcString, commentNode ?? defn) ?? '  ';\n    const docComment = getDocComment(srcString, defn);\n\n    switch (defn.type) {\n        case 'ambient_declaration':\n            const inner = defn.namedChild(0);\n            if (!inner) {\n                return '';\n            }\n            return indentation + docComment + extractTypeScriptMemberDeclaration(srcString, inner);\n        case 'method_definition':\n        case 'method_signature':\n            return indentation + docComment + extractTypeScriptFunctionDeclaration(srcString, defn);\n        case 'public_field_definition': {\n            // chop off initialiser if any\n            let endIndex = defn.childForFieldName('type')?.endIndex ?? defn.childForFieldName('name')?.endIndex;\n            if (endIndex !== undefined) {\n                return indentation + docComment + srcString.substring(defn.startIndex, endIndex) + ';';\n            }\n        }\n    }\n    return '';\n}\n\n/**\n * Given a definition of a class or interface, return a list of TypeScript declarations of\n * its members.\n *\n * @param srcString the source code of the file containing the class or interface\n * @param defn the class or interface definition\n */\nfunction extractTypeScriptBodyDecls(srcString: string, defn: SyntaxNode): string[] | undefined {\n    let body = defn.childForFieldName('body');\n    if (!body) {\n        return;\n    }\n\n    let memberDecls = body.namedChildren.map(member => extractTypeScriptMemberDeclaration(srcString, member));\n    // filter out members for which we could not extract a declaration\n    return memberDecls.filter(decl => decl);\n}\n\n/**\n * Construct a map representing declarations exported by the file at the given `uri`, which is\n * written in language `lang`.\n *\n * For TypeScript, this map associates exported types and functions with the (string representation of)\n * their declarations/signatures.\n *\n * For other languages, declaration extraction is not currently supported, so we always return an\n * empty map.\n */\nasync function getExportedDeclarations(uri: string, lang: string, fs: FileSystem): Promise<Exports> {\n    let exports = new Map<string, string[]>();\n\n    let mtime = -1;\n    try {\n        mtime = await fs.mtime(uri);\n    } catch {\n        // if anything wet wrong getting the mtime, simply report no exports\n        return exports;\n    }\n\n    let entry = exportsCache.get(uri);\n    if (entry && entry.mtime === mtime) return entry.exports;\n\n    if (lang === 'typescript') {\n        let tree = null;\n        try {\n            let srcBytes = await fs.readFile(uri);\n            let srcString = srcBytes.toString();\n            tree = await parseTreeSitter(lang, srcString);\n\n            for (let em of queryExports(lang, tree.rootNode)) {\n                for (let ec of em.captures) {\n                    let exp = ec.node;\n                    if (exp.type === 'export_statement') {\n                        let decl = exp.childForFieldName('declaration');\n\n                        // skip declarations with syntax errors\n                        if (decl?.hasError()) {\n                            continue;\n                        }\n\n                        let {name, decl: exportedDecl} = extractTypeScriptDeclaration(srcString, decl);\n\n                        if (name) {\n                            exportedDecl = getDocComment(srcString, exp) + exportedDecl;\n                            let exportedDecls = exports.get(name);\n                            if (!exportedDecls) {\n                                exportedDecls = [];\n                                exports.set(name, exportedDecls);\n                            }\n                            exportedDecls.push(exportedDecl);\n                        }\n                    }\n                }\n            }\n        } catch {\n            // if anything went wrong during reading or parsing the file, simply report no exports\n        } finally {\n            if (tree) tree.delete();\n        }\n    }\n\n    // if cache has more than EXPORTS_CACHE_HIGH_WATER_MARK entries, remove the oldest entries\n    // to bring its size down to EXPORTS_CACHE_LOW_WATER_MARK\n    if (exportsCache.size > EXPORTS_CACHE_HIGH_WATER_MARK) {\n        for (let key of exportsCache.keys()) {\n            exportsCache.delete(key);\n            if (exports.size <= EXPORTS_CACHE_LOW_WATER_MARK) {\n                break;\n            }\n        }\n    }\n\n    exportsCache.set(uri, {mtime, exports});\n    return exports;\n}\n\n/**\n * Find all import statements in the given subtree.\n */\nfunction getTypeScriptImports(root: SyntaxNode) {\n    let imports = [];\n    // note that import statements can only appear at the toplevel, so we can simply iterate over\n    // the root's children\n    for (let toplevelStmt of root.namedChildren) {\n        if (toplevelStmt.type === 'import_statement') {\n            imports.push(toplevelStmt);\n        }\n    }\n    return imports;\n}\n\n/** Regex to match a TypeScript import statement. */\nconst localImportRegex = /^\\s*import\\s*(type|)\\s*\\{[^}]*\\}\\s*from\\s*['\"]\\./gm;\n\n/**\n * Return the offset of the newline character after the last local import\n * statement in the given string.\n * Returns -1 if the source has no import statements.\n */\nfunction lastTypeScriptLocalImportOffset(source: string): number {\n    let lastImport = -1;\n    localImportRegex.lastIndex = -1; // restart the regex from the beginning\n    let m: RegExpExecArray | null;\n    do {\n        m = localImportRegex.exec(source);\n        if (m) {\n            lastImport = localImportRegex.lastIndex + m.length;\n        }\n    } while (m);\n\n    if (lastImport === -1) {\n        return -1;\n    }\n\n    const newlineAfterLastImport = source.indexOf('\\n', lastImport);\n    return newlineAfterLastImport !== -1 ? newlineAfterLastImport : source.length;\n}\n\n/**\n * Extract context information from local TypeScript imports.\n */\nasync function extractTypeScriptLocalImportContext(source: string, uri: string, fs: FileSystem): Promise<string[]> {\n    let languageId = 'typescript';\n    let localImportContext: string[] = [];\n\n    // Only parse up to and including the last line containing an import statement\n    const lastImportOffset = lastTypeScriptLocalImportOffset(source);\n    if (lastImportOffset === -1) {\n        return localImportContext;\n    }\n    source = source.substring(0, lastImportOffset);\n\n    let tree = await parseTreeSitter(languageId, source);\n\n    // Passing the URI with file causes the `stat` function to fail so we remove it\n    if (uri.startsWith('file://')) {\n        uri = uri.slice(7);\n        uri = path.resolve(uri);\n    }\n    try {\n        for (let imp of getTypeScriptImports(tree.rootNode)) {\n            let srcUri = resolveLocalTypeScriptImport(uri, imp);\n            if (!srcUri) continue;\n\n            let importedNames = getTypescriptImportedNames(imp);\n            if (importedNames.length === 0) continue;\n\n            let exports = await getExportedDeclarations(srcUri, languageId, fs);\n            for (let importedName of importedNames)\n                if (exports.has(importedName.name)) {\n                    localImportContext.push(...exports.get(importedName.name)!);\n                    // if the import came through an alias, we could simulate this by adding an alias\n                    // declaration, but the model seems to figure this out by itself, so we don't\n                }\n        }\n    } finally {\n        tree.delete();\n    }\n    return localImportContext;\n}\n\n/**\n * Extract context information from local imports.\n */\nexport async function extractLocalImportContext(doc: DocumentInfoWithOffset, fs?: FileSystem): Promise<string[]> {\n    let {source, uri, languageId} = doc;\n    if (fs === undefined) fs = defaultFileSystem;\n    if (fs) if (languageId === 'typescript') return extractTypeScriptLocalImportContext(source, uri, fs);\n    return [];\n}\n",
    "import {resolve} from 'path';\nimport * as Parser from 'web-tree-sitter';\nimport {Language, Query, QueryMatch, SyntaxNode, Tree} from 'web-tree-sitter';\nimport {DocumentInfoWithOffset} from './prompt';\n\nexport enum WASMLanguage {\n    Python = 'python',\n    JavaScript = 'javascript',\n    TypeScript = 'typescript',\n    TSX = 'tsx',\n    Go = 'go',\n    Ruby = 'ruby',\n}\n\n/**\n * A position of a syntax-tree node, specified by a zero-based start offset and a zero-based,\n * exclusive end offset.\n */\nexport interface NodePosition {\n    startIndex: number;\n    endIndex: number;\n}\n\nconst languageIdToWasmLanguageMapping: {[language: string]: WASMLanguage} = {\n    python: WASMLanguage.Python,\n    javascript: WASMLanguage.JavaScript,\n    javascriptreact: WASMLanguage.JavaScript,\n    jsx: WASMLanguage.JavaScript,\n    typescript: WASMLanguage.TypeScript,\n    typescriptreact: WASMLanguage.TSX,\n    go: WASMLanguage.Go,\n    ruby: WASMLanguage.Ruby,\n};\n\nexport function isSupportedLanguageId(languageId: string): boolean {\n    return languageId in languageIdToWasmLanguageMapping;\n}\n\nexport function languageIdToWasmLanguage(languageId: string): WASMLanguage {\n    if (!(languageId in languageIdToWasmLanguageMapping)) {\n        throw new Error(`Unrecognized language: ${languageId}`);\n    }\n    return languageIdToWasmLanguageMapping[languageId];\n}\n\n// function patterns defined in javascript grammar:\n// https://github.com/tree-sitter/tree-sitter-javascript/blob/3d9fe9786ee74fa5067577f138e1a7129f80fb41/grammar.js#L595-L629\n// same for typescript:\n// https://github.com/tree-sitter/tree-sitter-typescript/blob/2d1c7d5c10c33cb444d1781fa76f2936810afec4/common/define-grammar.js\nconst jsFunctionQuery = `[\n    (function body: (statement_block) @body)\n    (function_declaration body: (statement_block) @body)\n    (generator_function body: (statement_block) @body)\n    (generator_function_declaration body: (statement_block) @body)\n    (method_definition body: (statement_block) @body)\n    (arrow_function body: (statement_block) @body)\n  ] @function`;\n\n/*\nList of queries to run per language to find functions, as well as a cache\nfor parsed Query objects for each query.\n\nWe define named captures to be used by callers in a language-agnostic way:\n- @function: entire function signature and body\n- @docstring: optional docstring\n- @body: optional function body\n\nNOTE: use a [] match across function types to ensure we always match the\n      outermost function in case of nested functions.\n*/\nconst functionQuery: {[wasmLanguage in WASMLanguage]: [string, Query?][]} = {\n    python: [\n        // `(function_definition)` is defined in python grammar:\n        // https://github.com/tree-sitter/tree-sitter-python/blob/c4282ba411d990d313c5f8e7850bcaaf46fbf7da/grammar.js#L325-L338\n        // docstring is represented in grammar as an optional `(initial expression_statement (string))`\n        // at the start of the body block\n        [\n            `(function_definition body: (block\n             (expression_statement (string))? @docstring) @body) @function`,\n        ],\n        // handle malformed defs - no trailing semicolon or no body\n        [`(ERROR (\"def\" (identifier) (parameters))) @function`],\n    ],\n    javascript: [[jsFunctionQuery]],\n    typescript: [[jsFunctionQuery]],\n    tsx: [[jsFunctionQuery]],\n    go: [\n        // function patterns defined in go grammer:\n        // https://github.com/tree-sitter/tree-sitter-go/blob/b0c78230146705e867034e49a5ece20245b33490/grammar.js#L194-L209\n        [\n            `[\n            (function_declaration body: (block) @body)\n            (method_declaration body: (block) @body)\n          ] @function`,\n        ],\n    ],\n    ruby: [\n        // function patterns defined in ruby grammer:\n        // https://github.com/tree-sitter/tree-sitter-ruby/blob/master/grammar.js\n        // NOTE: Use a @params label for optional parameters to avoid capturing as\n        //       part of @body if parameters are present.\n        [\n            `[\n            (method name: (_) parameters: (method_parameters)? @params [(_)+ \"end\"] @body)\n            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ \"end\"] @body)\n          ] @function`,\n        ],\n    ],\n};\n\n/** A call of the form `require(...)`. */\nconst requireCall = `(call_expression function: ((identifier) @req (#eq? @req \"require\")))`;\n\n/** A call of the form `require(...)` appearing in a variable declarator. */\nconst declaratorWithRequire = `(variable_declarator value: ${requireCall})`;\n\n/**\n * A CommonJS-style `require` import.\n *\n * Note that a declaration containing multiple `require`s is considered a single import.\n */\nconst commonJsImport = `\n    (lexical_declaration ${declaratorWithRequire}+)\n    (variable_declaration ${declaratorWithRequire}+)\n`;\n\nconst tsImportQueries: [string, Query?][] = [\n    // Since we only care about top level imports, we enforce that the parent node is \"program\"\n    [`(program [ ${commonJsImport} ] @import)`],\n    ['(program [ (import_statement) (import_alias) ] @import)'],\n];\n\nconst importsQuery: {[wasmLanguage in WASMLanguage]: [string, Query?][]} = {\n    python: [\n        // Since we only care about top level imports, we enforce that the parent node is \"module\"\n        [`(module (future_import_statement) @import)`],\n        [`(module (import_statement) @import)`],\n        [`(module (import_from_statement) @import)`],\n    ],\n    javascript: [\n        // Since we only care about top level imports, we enforce that the parent node is \"program\"\n        [`(program [ ${commonJsImport} ] @import)`],\n        ['(program [ (import_statement) ] @import)'],\n    ],\n    typescript: tsImportQueries,\n    tsx: tsImportQueries,\n    go: [\n        // TODO: handle import statements in go\n    ],\n    ruby: [\n        // TODO: handle import statements in ruby\n    ],\n};\n\nconst jsExportQueries: [string, Query?][] = [[`(program (export_statement) @export)`]];\n\nconst exportsQuery: {[wasmLanguage in WASMLanguage]: [string, Query?][]} = {\n    python: [\n        // TODO: handle exports in python\n    ],\n    javascript: jsExportQueries,\n    typescript: jsExportQueries,\n    tsx: jsExportQueries,\n    go: [\n        // TODO: handle exports in go\n    ],\n    ruby: [\n        // TODO: handle exports in ruby\n    ],\n};\n\nconst globalVarsQuery: {[wasmLanguage in WASMLanguage]: [string, Query?][]} = {\n    python: [\n        // Since we only care about top level global vars, we enforce that the parent node is \"module\"\n        [`(module (global_statement) @globalVar)`],\n        [`(module (expression_statement) @globalVar)`],\n    ],\n    javascript: [\n        // TODO: handle global vars in javascript\n    ],\n    typescript: [\n        // TODO: handle global vars in typescript\n    ],\n    tsx: [\n        // TODO: handle global vars in tsx\n    ],\n    go: [\n        // TODO: handle global vars in go\n    ],\n    ruby: [\n        // TODO: handle global vars in ruby\n    ],\n};\n\nconst jsFunctionTypes = [\n    'function',\n    'function_declaration',\n    'generator_function',\n    'generator_function_declaration',\n    'method_definition',\n    'arrow_function',\n];\n\n/**\n * TreeSitter node types corresponding to functions for the given language.\n */\nconst functionTypes: {[wasmLanguage in WASMLanguage]: Set<string>} = {\n    python: new Set(['function_definition']),\n    javascript: new Set(jsFunctionTypes),\n    typescript: new Set(jsFunctionTypes),\n    tsx: new Set(jsFunctionTypes),\n    go: new Set(['function_declaration', 'method_declaration']),\n    ruby: new Set(['method', 'singleton_method']),\n};\n\n/**\n * TreeSitter node types corresponding to syntactic constructs that can have function declarations\n * as their immediate children.\n */\nconst isFunctionParent: {[wasmLanguage in WASMLanguage]: (nd: SyntaxNode) => boolean} = {\n    python: nd => nd.type === 'module' || (nd.type === 'block' && nd.parent?.type === 'class_definition'),\n    javascript: nd => nd.type === 'program' || nd.type === 'class_body',\n    typescript: nd => nd.type === 'program' || nd.type === 'class_body',\n    tsx: nd => nd.type === 'program' || nd.type === 'class_body',\n    go: nd => nd.type === 'source_file',\n    ruby: nd => nd.type === 'program' || nd.type === 'class',\n};\n\nconst loadedLanguages = new Map<WASMLanguage, Language>();\n\nasync function loadWasmLanguage(language: WASMLanguage): Promise<Language> {\n    await Parser.init();\n    // construct a path that works both for the TypeScript source, which lives under `/src`, and for\n    // the transpiled JavaScript, which lives under `/dist`\n    const wasmFile = resolve(__dirname, '..', 'dist', `tree-sitter-${language}.wasm`);\n    return Language.load(wasmFile);\n}\n\nexport async function getLanguage(language: string): Promise<Language> {\n    const wasmLanguage = languageIdToWasmLanguage(language);\n    if (!loadedLanguages.has(wasmLanguage)) {\n        const loadedLang = await loadWasmLanguage(wasmLanguage);\n        loadedLanguages.set(wasmLanguage, loadedLang);\n    }\n    return loadedLanguages.get(wasmLanguage)!;\n}\n\n// This method returns a tree that the user needs to call `.delete()` before going out of scope.\nexport async function parseTreeSitter(language: string, source: string): Promise<Tree> {\n    // `getLanguage` calls `Parser.init`, which needs to be called before `new Parser()` below\n    let treeSitterLanguage = await getLanguage(language);\n    const parser = new Parser();\n    parser.setLanguage(treeSitterLanguage);\n    const parsedTree = parser.parse(source);\n\n    // Need to delete parser objects directly\n    parser.delete();\n    return parsedTree;\n}\n\nexport async function parsesWithoutError(language: string, source: string): Promise<boolean> {\n    const tree = await parseTreeSitter(language, source);\n    const result = !tree.rootNode.hasError();\n    tree.delete();\n    return result;\n}\n\nexport function getBlockCloseToken(language: string): string | null {\n    const wasmLanguage = languageIdToWasmLanguage(language);\n    switch (wasmLanguage) {\n        case WASMLanguage.Python:\n            return null;\n        case WASMLanguage.JavaScript:\n        case WASMLanguage.TypeScript:\n        case WASMLanguage.TSX:\n        case WASMLanguage.Go:\n            return '}';\n        case WASMLanguage.Ruby:\n            return 'end';\n    }\n}\n\nfunction innerQuery(queries: [string, Query?][], root: SyntaxNode): QueryMatch[] {\n    const matches = [];\n    for (const query of queries) {\n        // parse and cache query if this is the first time we've used it\n        if (!query[1]) {\n            const lang = root.tree.getLanguage() as Language;\n            // cache parsed query object\n            query[1] = lang.query(query[0]);\n        }\n        matches.push(...query[1].matches(root));\n    }\n    return matches;\n}\n\nexport function queryFunctions(language: string, root: SyntaxNode): QueryMatch[] {\n    const queries = functionQuery[languageIdToWasmLanguage(language)];\n    return innerQuery(queries, root);\n}\n\n/**\n * A list of all top-level imports in the given tree.\n *\n * Note that imports are _not_ guaranteed to be in the same order as the source code.\n */\nexport function queryImports(language: string, root: SyntaxNode): QueryMatch[] {\n    const queries = importsQuery[languageIdToWasmLanguage(language)];\n    return innerQuery(queries, root);\n}\n\nexport function queryExports(language: string, root: SyntaxNode): QueryMatch[] {\n    const queries = exportsQuery[languageIdToWasmLanguage(language)];\n    return innerQuery(queries, root);\n}\n\nexport function queryGlobalVars(language: string, root: SyntaxNode): QueryMatch[] {\n    const queries = globalVarsQuery[languageIdToWasmLanguage(language)];\n    return innerQuery(queries, root);\n}\n\nconst docstringQuery: [string, Query?] = [\n    `[\n    (class_definition (block (expression_statement (string))))\n    (function_definition (block (expression_statement (string))))\n]`,\n];\n\nexport function queryPythonIsDocstring(blockNode: SyntaxNode): boolean {\n    return innerQuery([docstringQuery], blockNode).length == 1;\n}\n\n/**\n * Find the closest ancestor node of `nd` that may have function declarations as sibling nodes.\n */\nexport function getAncestorWithSiblingFunctions(language: string, nd: SyntaxNode): SyntaxNode | null {\n    const check = isFunctionParent[languageIdToWasmLanguage(language)];\n    while (nd.parent) {\n        if (check(nd.parent)) return nd;\n        nd = nd.parent;\n    }\n    return nd.parent ? nd : null;\n}\n\n/**\n * Check if `nd` is a function.\n *\n * Note that for a JavaScript declaration like\n *\n * ```js\n * var f = function g() {}\n * ```\n *\n * only the node corresponding to the function expression `function g() {}` is considered to be\n * a function, not the entire declaration.\n *\n * Conversely, the declaration is considered a function definition (see below), but the function\n * expression is not.\n */\nexport function isFunction(language: string, nd: SyntaxNode): boolean {\n    return functionTypes[languageIdToWasmLanguage(language)].has(nd.type);\n}\n\n/**\n * Check if `nd` is a function definition.\n *\n * For languages other than JavaScript, this is the same as checking whether `nd` is a function.\n * For JavaScript, function expressions are _not_ considered function definitions, but declarations\n * and assignments assigning a function expression to a variable are.\n */\nexport function isFunctionDefinition(language: string, nd: SyntaxNode): boolean {\n    switch (languageIdToWasmLanguage(language)) {\n        case WASMLanguage.Python:\n        case WASMLanguage.Go:\n        case WASMLanguage.Ruby:\n            return isFunction(language, nd);\n        case WASMLanguage.JavaScript:\n        case WASMLanguage.TypeScript:\n        case WASMLanguage.TSX:\n            // either it is a stand-alone function declaration\n            if (\n                nd.type === 'function_declaration' ||\n                nd.type === 'generator_function_declaration' ||\n                nd.type === 'method_definition'\n            )\n                return true;\n\n            // or a declaration of a function-valued variable\n            if (nd.type === 'lexical_declaration' || nd.type === 'variable_declaration') {\n                // declarations with multiple declarators (`var x = ..., y = ...`) are unlikely to\n                // involve functions in practice, so we make our lives easier and short-circuit\n                if (nd.namedChildCount > 1) return false;\n                let declarator = nd.namedChild(0);\n                // this should never be null, but we check anyway to be safe\n                if (declarator == null) return false;\n                let init = declarator.namedChild(1);\n                return init !== null && isFunction(language, init);\n            }\n\n            // or an assignment to a function-valued variable\n            if (nd.type === 'expression_statement') {\n                let expr = nd.namedChild(0);\n                if (expr?.type === 'assignment_expression') {\n                    let rhs = expr.namedChild(1);\n                    return rhs !== null && isFunction(language, rhs);\n                }\n            }\n\n            return false;\n    }\n}\n\n/**\n * Get the first comment in a run of comments preceding `nd`, if any.\n *\n * That is, if `nd` is preceded by a single comment, return that comment. If it is\n * preceded by a sequence of more than one comments (without any intervening non-comment\n * nodes or blank lines), return the first comments in that sequence. Otherwise return `null`.\n *\n * Note that all comments are treated equally; in particular, for JavaScript, no distinction\n * is made between block comments and line comments.\n */\nexport function getFirstPrecedingComment(nd: SyntaxNode): SyntaxNode | null {\n    // starting from `nd`, walk backwards until we find a node that is not preceded by a comment\n    let cur = nd;\n    while (cur.previousSibling?.type === 'comment') {\n        let prev = cur.previousSibling;\n        // stop if there is an intervening blank line\n        if (prev.endPosition.row < cur.startPosition.row - 1) break;\n        cur = prev;\n    }\n\n    // if that node is itself a comment, it is the first one in a run of comments preceding `nd`\n    if (cur?.type === 'comment') return cur;\n    // otherwise it must be `nd`, so there aren't any comments preceding `nd`\n    return null;\n}\n\n/**\n * Get the positions of all function nodes in the given piece of source code.\n */\nexport async function getFunctionPositions(language: string, source: string): Promise<NodePosition[]> {\n    const tree = await parseTreeSitter(language, source);\n    const results = queryFunctions(language, tree.rootNode);\n    const positions = results.map(res => {\n        const fn = res.captures.find(c => c.name === 'function')!.node;\n        return {\n            startIndex: fn.startIndex,\n            endIndex: fn.endIndex,\n        };\n    });\n    tree.delete();\n    return positions;\n}\n\n/**\n * Very simple type that echo `vscode.Position` (which we cannot use directly in promptlib)\n */\nexport type IPosition = {\n    line: number;\n    character: number;\n};\n\n/*\nList of queries to run per language to find call sites.\ni.e. if the cursor is inside of the arg list of a function call, get the function name and the offset.\n*/\nconst callSiteQuery: {[language in WASMLanguage]: [string, Query?][]} = {\n    python: [\n        [\n            `(call\n            function:  [\n                (identifier) @caller\n                (attribute attribute:(identifier) @caller)\n            ]\n            arguments: (argument_list) @args\n        )`,\n        ],\n    ],\n    javascript: [],\n    tsx: [],\n    typescript: [],\n    go: [],\n    ruby: [],\n};\n\n/**\n * If the cursor is inside of the arg list of a function call, get the function name and the offset.\n *\n * For instance `x = foo(\"aasdf\", \"qwer\", bar(1,2,│));` If the cursor is at the position of the `│` then\n * getCallSites returns the name and position of both `foo` and `bar` in that order.\n */\nexport async function getCallSites(docInfo: DocumentInfoWithOffset): Promise<{name: string; position: IPosition}[]> {\n    // It is possible that non-WASM languages will get passed to `getCallSite` from `getSymbolDefSnippets`\n    // so we need to fail gracefully if that happens.\n    if (!(docInfo.languageId in callSiteQuery)) return [];\n\n    // TODO consider getting the source only up until the offset (e.g. the offset argument is not needed) and\n    // then adding a bunch of parens to the end of the source to make sure that the tree is complete\n    // otherwise we won't collect callers that don't have a closing parens\n    let offset = docInfo.offset;\n    let source = docInfo.source.substring(0, offset);\n    // guard against time-consuming parses of very large files\n    // TODO & WARNING pre-truncating long files has only been tested (poorly) against python and might not work well for all languages - test each!\n    const pretruncateOffset = Math.max(source.length - 5000, 0); // I picked this value arbitrarily - 5000 chars takes ~25ms to parse\n    const linesBeforeTruncation = source.substring(0, pretruncateOffset).split('\\n').length - 1;\n    offset -= pretruncateOffset;\n    source = source.substring(pretruncateOffset);\n    // artificially close all open parens, this is because tree-sitter will see `foo(bar(), a` and not consider `foo` a function\n    // but if we add a bunch of closing parens then this `foo(bar(), a)` will be interpreted as a function.\n    source = source + ')))))';\n    let callers: [string, IPosition][] = [];\n\n    // Parse the source code just before the cursor position, extract every function call and its arguments\n    const tree = await parseTreeSitter(docInfo.languageId, source);\n    const queries = callSiteQuery[languageIdToWasmLanguageMapping[docInfo.languageId]];\n    const results = innerQuery(queries, tree.rootNode);\n    results.forEach((res, resIndex) => {\n        let callerName = '';\n        let callerLineNo = 0;\n        let callerStartChar = 0;\n        let argsStartIndex = 0;\n        let argsEndIndex = 0;\n        // Then, for each function and arg list, get the name and position of the function and the start and end offset of the arg list\n        res.captures.forEach((cap, capIndex) => {\n            const node = cap.node;\n            if (cap.name == 'caller') {\n                callerName = source.substring(node.startIndex, node.endIndex);\n                callerLineNo = node.startPosition.row + linesBeforeTruncation;\n                callerStartChar = node.startPosition.column;\n            } else if (cap.name == 'args') {\n                argsStartIndex = node.startIndex;\n                argsEndIndex = node.endIndex;\n            }\n        });\n        // If the cursor is within the arg list of the function, then add the function name and position to the list of callers\n        if (offset >= argsStartIndex && offset <= argsEndIndex) {\n            // TODO check at endpoints\n            const callerLineCol: IPosition = {line: callerLineNo, character: callerStartChar};\n            callers.push([callerName, callerLineCol]); // These are outer first\n        }\n    });\n    tree.delete();\n    return callers.map(([name, position]) => ({name, position}));\n}\n",
    "import {FileSystem} from './fileSystem';\nimport {newLineEnded} from './languageMarker';\nimport {getSiblingFunctionStart} from './siblingFunctions';\nimport {CursorSnippetsPickingStrategy} from './snippetInclusion/cursorMatching';\nimport {NeighboringSnippetType, NeighboringTabsOption} from './snippetInclusion/neighboringFiles';\nimport {\n    SingleSnippetProviderOptions,\n    SnippetProviderOptions,\n    SnippetProviderType,\n    SnippetWithProviderInfo,\n    processSnippetsForWishlist,\n} from './snippetInclusion/snippets';\nimport {findEditDistanceScore} from './suffixMatchCriteria';\nimport {TokenizerName, getTokenizer} from './tokenization';\nimport {\n    Priorities,\n    PromptBackground,\n    PromptChoices,\n    PromptElementKind,\n    PromptElementRanges,\n    PromptWishlist,\n} from './wishlist';\n/** The 1-entry cache for the suffix */\nlet cachedSuffix: {text: string; tokens: number[]} = {text: '', tokens: []};\n\n/**\n * Re. cached suffix, see the discussion in the PR: https://github.com/github/copilot-client/pull/2171\n * In an earlier version of the PR, we had declared variables cacheReusedCount,cacheReusablePromptTooLong\n * to track how often\n * (a) the cache is reused (cacheReusedCount) and\n * (b) when reusable, does the cache with the new prompt become too\n * long to be usable? (cacheReusablePromptTooLong)\n *\n * These are relevant to track in telemetry, and we will\n * implement the telemetry logs for these variables in a later iteration.\n * We have removed these variables in the PR since we were console.log'ging\n * it earlier, and that is not the preferred route.\n */\n\n/** The maximum number of tokens in a prompt. */\nexport const MAX_PROMPT_LENGTH = 1500;\n\n/** The maximum number of tokens that is used for calculate edit distance. */\nexport const MAX_EDIT_DISTANCE_LENGTH = 50;\n\n/**\n * The number of tokens to reserve for prefix + suffix encoding.\n * This value comes from hponde.\n */\nexport const TOKENS_RESERVED_FOR_SUFFIX_ENCODING = 5;\n\n/**\n * The maximal number of the final snippets to return.\n */\nexport const DEFAULT_NUM_OF_SNIPPETS: number = 4;\n\n/**\n * Information about a document, not including the offset.\n */\nexport interface DocumentInfo {\n    /** The file path of the document relative to its containing project or folder, if known. */\n    relativePath?: string;\n    /** The URI of the document. We can't pass URI class instances directly due to limitations of passing objects to the worker thread. */\n    uri: string;\n    /** The source text of the document. */\n    source: string;\n    /** The language identifier of the document. */\n    languageId: string;\n}\n\n/**\n * Information about a document, including an offset corresponding to\n * the cursor position.\n */\nexport interface DocumentInfoWithOffset extends DocumentInfo {\n    /** The offset in the document where we want the completion (0-indexed, between characters). */\n    offset: number;\n}\n\nexport enum LanguageMarkerOption {\n    NoMarker = 'nomarker',\n    Top = 'top', // Emulate that the first line of document is the language marker\n    Always = 'always', // Always visible\n}\n\nexport enum PathMarkerOption {\n    NoMarker = 'nomarker',\n    Top = 'top',\n    Always = 'always',\n}\n\nexport enum SnippetPositionOption {\n    /** Include neighbors towards the beginning of the file */\n    TopOfText = 'top',\n    /** Include neighbors directly above the line where the cursor is */\n    DirectlyAboveCursor = 'aboveCursor',\n    /**\n     * Include neighbors directly after the siblig insertion point\n     * for languages that have one (above cursor otherwise)\n     */\n    AfterSiblings = 'afterSiblings',\n}\n\nexport enum SnippetSelectionOption {\n    /** Select the closest match.*/\n    BestMatch = 'bestMatch',\n    /** Select K closest match. */\n    TopK = 'topK',\n}\n\nexport enum LocalImportContextOption {\n    /** Don't pull in any context for local imports. */\n    NoContext = 'nocontext',\n    /** Pull in declarations referenced by local imports. */\n    Declarations = 'declarations',\n}\n\nexport enum LineEndingOptions {\n    ConvertToUnix = 'unix', // convert \"\\r\\n\" and \"\\r\" line endings to the more token-efficient \\n\n    KeepOriginal = 'keep', // keep the original line endings (whether \\r\\n or \\n)\n}\n\nexport enum SuffixOption {\n    /** Do not include a suffix in the prompt. */\n    None = 'none',\n    /** Allocate 15% of the available tokens to the suffix. */\n    FifteenPercent = 'fifteenPercent',\n}\n\nexport enum SuffixMatchOption {\n    /** The method to use to compare suffix against cached suffix */\n    /** The suffix and cached suffix are to be equal */\n    Equal = 'equal',\n    /** Use Edit distance */\n    Levenshtein = 'levenshteineditdistance',\n}\n\nexport enum SuffixStartMode {\n    /** start from cursor by default */\n    Cursor = 'cursor',\n    /** start from cursor and trim start */\n    CursorTrimStart = 'cursortrimstart',\n    /** start from the first sibling function block */\n    SiblingBlock = 'siblingblock',\n    /** start from the first sibling function block and trim the leading whitespaces */\n    SiblingBlockTrimStart = 'siblingblocktrimstart',\n}\n\nexport class PromptOptions {\n    /** The maximum prompt length in tokens */\n    readonly maxPromptLength: number = MAX_PROMPT_LENGTH;\n    /** Whether to include a language marker in the prompt */\n    readonly languageMarker: LanguageMarkerOption = LanguageMarkerOption.Top;\n    /** Whether to include a path marker in the prompt */\n    readonly pathMarker: PathMarkerOption = PathMarkerOption.Top;\n    /** Whether to pull in context for local imports */\n    readonly localImportContext: LocalImportContextOption = LocalImportContextOption.NoContext;\n    /** Where to include the neighboring tabs info */\n    readonly snippetPosition: SnippetPositionOption = SnippetPositionOption.TopOfText;\n    /** The number of snippets to include */\n    readonly numberOfSnippets: number = DEFAULT_NUM_OF_SNIPPETS;\n    /** Options for each snippet provider */\n    readonly snippetProviderOptions: SnippetProviderOptions = {\n        // This normalization ensures that neighboring tabs is always scored\n        // above retrieved snippets:\n        //   - neighboring tabs get positive scores, higher is better\n        //   - retrieved snippets become negative scores, less negative is better\n        'neighboring-tabs': {\n            normalizationFunction: 'affine',\n            normalizationParams: [1.0, 0.0], // identity\n        },\n        retrieval: {\n            normalizationFunction: 'affine',\n            normalizationParams: [-1.0, 0.0],\n        },\n        'symbol-def': {\n            normalizationFunction: 'affine',\n            normalizationParams: [1.0, 0.0],\n            reservedSnippetCount: 2, // They are quite short, get two most outer caller functions\n        },\n        // Unused currently\n        language: {\n            normalizationFunction: 'affine',\n            normalizationParams: [1.0, 0.0],\n        },\n        path: {\n            normalizationFunction: 'affine',\n            normalizationParams: [1.0, 0.0],\n        },\n        'local-import-context': {\n            normalizationFunction: 'affine',\n            normalizationParams: [1.0, 0.0],\n        },\n    };\n    /** Whether to include content from neighboring tabs in the prompt */\n    readonly neighboringTabs: NeighboringTabsOption = NeighboringTabsOption.Eager;\n    /** The type of snippets that neighboring tabs should extract */\n    readonly neighboringSnippetTypes: NeighboringSnippetType = NeighboringSnippetType.NeighboringSnippets;\n    /** Whether to normalize line endings in the prompt */\n    readonly lineEnding: LineEndingOptions = LineEndingOptions.ConvertToUnix;\n    /** The percent of `maxPromptLength` to reserve for the suffix */\n    readonly suffixPercent: number = 0;\n    /** The percent of `maxPromptLength` to reserve for snippets */\n    readonly snippetPercent: number = 0;\n    /** The start mode to get suffix */\n    readonly suffixStartMode: SuffixStartMode = SuffixStartMode.Cursor;\n    /** TokenizerName used for prompt generation */\n    readonly tokenizerName: TokenizerName = TokenizerName.cushman001;\n    /** The threshold (in percent) for declaring match of new suffix with existing suffix */\n    readonly suffixMatchThreshold: number = 0;\n    /** The criteria to use for matching suffix with cachedSuffix, this is the percentage number*/\n    readonly suffixMatchCriteria: SuffixMatchOption = SuffixMatchOption.Levenshtein;\n    /** Selection options    */\n    readonly snippetSelection?: SnippetSelectionOption;\n    /** The number of snippets to select */\n    readonly snippetSelectionK?: number;\n    /** The threshold (as int) of length of the suffix only beyond which we will construct FIM requests */\n    readonly fimSuffixLengthThreshold: number = 0;\n    /** How to pick snippets for CursorHistoryMatcher */\n    readonly cursorSnippetsPickingStrategy: CursorSnippetsPickingStrategy = CursorSnippetsPickingStrategy.CursorJaccard;\n\n    constructor(\n        readonly fs: FileSystem,\n        options?: PartialPromptOptions\n    ) {\n        if (options) {\n            const selectionValue = options?.snippetSelection;\n            if (selectionValue && !Object.values(SnippetSelectionOption).includes(selectionValue)) {\n                throw new Error(`Invalid value for snippetSelection: ${selectionValue}`);\n            }\n            for (const key in options) {\n                if (key !== 'snippetProviderOptions') {\n                    // Note: this should really be improved so that the type\n                    // system can statically prove that this won't blow up in\n                    // run time (it will only do so if somewhat abused, right\n                    // now, to be fair). For now, we have a @ts-ignore.\n                    // @ts-ignore\n                    this[key] = options[key];\n                } else {\n                    // key === 'snippetProviderOptions'\n                    // For each provider, merge the options\n                    const newOptions = options.snippetProviderOptions || {};\n                    let provider: SnippetProviderType;\n                    for (provider in newOptions) {\n                        const providerOptions = newOptions[provider];\n                        if (providerOptions) {\n                            this.snippetProviderOptions[provider] = {\n                                ...this.snippetProviderOptions[provider],\n                                ...providerOptions,\n                            };\n                        }\n                    }\n                }\n            }\n        }\n\n        if (this.suffixPercent < 0 || this.suffixPercent > 100) {\n            throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);\n        }\n\n        if (this.snippetPercent < 0 || this.snippetPercent > 100) {\n            throw new Error(`snippetPercent must be between 0 and 100, but was ${this.snippetPercent}`);\n        }\n\n        if (this.suffixMatchThreshold < 0 || this.suffixMatchThreshold > 100) {\n            throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);\n        }\n\n        // the threshold being -1 indicates we are not using this thresholding for the suffixes.\n        if (this.fimSuffixLengthThreshold < -1) {\n            throw new Error(`fimSuffixLengthThreshold must be at least -1, but was ${this.fimSuffixLengthThreshold}`);\n        }\n\n        if (this.snippetSelection === SnippetSelectionOption.TopK && this.snippetSelectionK === undefined) {\n            throw new Error('snippetSelectionK must be defined.');\n        }\n\n        if (\n            this.snippetSelection === SnippetSelectionOption.TopK &&\n            this.snippetSelectionK &&\n            this.snippetSelectionK <= 0\n        ) {\n            throw new Error(`snippetSelectionK must be greater than 0, but was ${this.snippetSelectionK}`);\n        }\n    }\n}\n\n/**\n * This type is used to represent options that may be set by the caller, and\n * which will be completed to a {@link PromptOptions} object by filling with the\n * default options.\n *\n * The invocation is complicated by snippet provider options which should be\n * allowed to only set some of the options on some of the providers.\n */\nexport type PartialPromptOptions = Partial<Omit<PromptOptions, 'snippetProviderOptions'>> & {\n    snippetProviderOptions?: Partial<Record<SnippetProviderType, Partial<SingleSnippetProviderOptions>>>;\n};\n\nexport interface PromptInfo {\n    prefix: string; // The prefix text\n    suffix: string; // The suffix text\n    prefixLength: number; // The length of the prefix in tokens\n    suffixLength: number; // The length of the suffix in tokens\n    promptChoices: PromptChoices; // Which choices were made when constructing the prompt\n    promptBackground: PromptBackground; // All the prompt elements information when constructing the prompt\n    promptElementRanges: PromptElementRanges; // Character ranges of prompt elements in the prompt\n}\n\n/**\n * A map that normalises common aliases of languageIds.\n */\nconst languageNormalizationMap: {[language: string]: string} = {\n    javascriptreact: 'javascript',\n    jsx: 'javascript',\n    typescriptreact: 'typescript',\n    jade: 'pug',\n    cshtml: 'razor',\n};\n\n/**\n * Return a normalized form of a language id, by lower casing and combining\n * certain languageId's that are not considered distinct by promptlib.\n */\nexport function normalizeLanguageId(languageId: string): string {\n    languageId = languageId.toLowerCase();\n    return languageNormalizationMap[languageId] ?? languageId;\n}\n\n/**\n * Constructs a prompt to pass to the OpenAI API.\n *\n * @remarks\n * The current implementation does the simplest thing possible: It estimates the number of\n * characters that will fit within the maximum length of a prompt in tokens, then returns a\n * substring of doc that starts at some reasonable index and ends at offset, such that\n * (end - start) <= estimated_length.\n *\n * This will change in the future.\n *\n * @param doc - A DocumentInfoWithOffset\n * @param options - A PromptOptions which controls the prompt crafting behaviour.\n * @param neighbors - A list of neighboring documents, e.g., documents open in other\n *                    editor tabs.\n * @param snippets - A list of snippets with scores and provider information\n *                   to (potentially) include in the prompt.\n * @param lineCursorHistory - A The first key is the file name, and the second key\n *                            is the line number, the value is the number of cursor\n *                            focused.\n *\n * @returns A dictionary containing the prompt to pass to the OpenAI API and the\n * resulting prompt length in tokens.\n */\nexport async function getPrompt(\n    fileSystem: FileSystem,\n    doc: DocumentInfoWithOffset,\n    options: PartialPromptOptions = {},\n    snippets: SnippetWithProviderInfo[] = []\n): Promise<PromptInfo> {\n    const completeOptions = new PromptOptions(fileSystem, options);\n\n    const tokenizer = getTokenizer(completeOptions.tokenizerName);\n\n    let useCachedSuffix = false;\n\n    const {source, offset} = doc;\n    if (offset < 0 || offset > source.length) {\n        throw new Error(`Offset ${offset} is out of range.`);\n    }\n    doc.languageId = normalizeLanguageId(doc.languageId);\n\n    // Make explicit the priorities implied by the different options\n    const priorities = new Priorities();\n    const directContextPriority = priorities.justBelow(Priorities.TOP);\n    const languageMarkerPriority =\n        completeOptions.languageMarker === LanguageMarkerOption.Always\n            ? priorities.justBelow(Priorities.TOP)\n            : priorities.justBelow(directContextPriority);\n    const pathMarkerPriority =\n        completeOptions.pathMarker === PathMarkerOption.Always\n            ? priorities.justBelow(Priorities.TOP)\n            : priorities.justBelow(directContextPriority);\n    const localImportContextPriority = priorities.justBelow(directContextPriority);\n    // There are two priorities for snippets: one for snippets that are\n    // within the token budget defined by `snippetPercent` and one that are\n    // outside of the token budget. The former are given a higher priority\n    // when assembling the prompt, but the lower priority ones are still\n    // included if there is space.\n    const lowSnippetPriority = priorities.justBelow(localImportContextPriority);\n    const highSnippetPriority = priorities.justAbove(directContextPriority);\n\n    // The wishlist keeps track of what we would like to include in the prompt\n    const promptWishlist = new PromptWishlist(tokenizer, completeOptions.lineEnding);\n\n    // Language Snippet\n    let languageSnippet = snippets.find(s => s.provider === SnippetProviderType.Language);\n    let languageMarkerLine: number | undefined;\n    if (completeOptions.languageMarker !== LanguageMarkerOption.NoMarker) {\n        if (languageSnippet) {\n            languageMarkerLine = promptWishlist.append(\n                languageSnippet.snippet,\n                PromptElementKind.LanguageMarker,\n                languageMarkerPriority\n            );\n        }\n    }\n\n    // Path Snippet\n    let pathSnippet = snippets.find(s => s.provider === SnippetProviderType.Path);\n    let pathMarkerLine: number | undefined;\n    if (completeOptions.pathMarker !== PathMarkerOption.NoMarker && pathSnippet !== undefined) {\n        // not just newline\n        if (pathSnippet.snippet.length > 0) {\n            pathMarkerLine = promptWishlist.append(\n                pathSnippet.snippet,\n                PromptElementKind.PathMarker,\n                pathMarkerPriority\n            );\n        }\n    }\n\n    // imports get inserted after the language / path markers, but before anything from the file itself\n    let localImportSnippet = snippets.filter(s => s.provider === SnippetProviderType.LocalImportContext);\n    if (completeOptions.localImportContext !== LocalImportContextOption.NoContext) {\n        for (const localImportContext of localImportSnippet) {\n            promptWishlist.append(\n                newLineEnded(localImportContext.snippet),\n                PromptElementKind.ImportedFile,\n                localImportContextPriority\n            );\n        }\n    }\n\n    // Remove language & path snippets from the list of snippets prior to wishlist fulfillment\n    // Because they have already been included above\n    snippets = snippets.filter(\n        s =>\n            s.provider !== SnippetProviderType.Language &&\n            s.provider !== SnippetProviderType.Path &&\n            s.provider !== SnippetProviderType.LocalImportContext\n    );\n\n    /** Deferred function to add the prepared snippets to the wishlist at\n     * the location at that points\n     */\n    function addSnippetsNow(): void {\n        // assign priorities based on budget\n        const budget = Math.round((completeOptions.snippetPercent / 100.0) * completeOptions.maxPromptLength);\n        const processedSnippets = processSnippetsForWishlist(\n            snippets,\n            doc.languageId,\n            tokenizer,\n            completeOptions.snippetProviderOptions,\n            {priorities, low: lowSnippetPriority, high: highSnippetPriority},\n            completeOptions.numberOfSnippets,\n            budget\n        );\n        // add to wishlist\n        processedSnippets.forEach(snippet => {\n            // TODO: this should be cleaned up https://github.com/github/copilot-client/issues/3303\n            let kind = PromptElementKind.SimilarFile;\n            if (snippet.provider === SnippetProviderType.Retrieval) {\n                kind = PromptElementKind.RetrievalSnippet;\n            } else if (snippet.provider == SnippetProviderType.SymbolDef) {\n                kind = PromptElementKind.SymbolDefinition;\n            }\n            promptWishlist.append(\n                snippet.announcedSnippet,\n                kind,\n                snippet.priority,\n                snippet.tokens,\n                snippet.normalizedScore\n            );\n        });\n    }\n\n    if (completeOptions.snippetPosition === SnippetPositionOption.TopOfText) {\n        addSnippetsNow();\n    }\n\n    /** The ids of lines of BeforeCursor elements in the promptlib */\n    const source_lines: number[] = [];\n    let directContext: string | undefined;\n    directContext = source.substring(0, offset);\n\n    if (completeOptions.snippetPosition === SnippetPositionOption.DirectlyAboveCursor) {\n        // first add all lines from directContext except the current partial one (if there is one)\n        const lastLineStart = directContext.lastIndexOf('\\n') + 1; // 0 if no newline\n        const directContextBeforePartialLastLine = directContext.substring(0, lastLineStart);\n        const partialLastLine = directContext.substring(lastLineStart); // may be \"\" if none\n        promptWishlist\n            .appendLineForLine(\n                directContextBeforePartialLastLine,\n                PromptElementKind.BeforeCursor,\n                directContextPriority\n            )\n            .forEach(id => source_lines.push(id));\n        addSnippetsNow();\n        // then add the partial last line, if it's not empty\n        if (partialLastLine.length > 0) {\n            source_lines.push(\n                promptWishlist.append(partialLastLine, PromptElementKind.AfterCursor, directContextPriority)\n            );\n            // note that the second-to-last line requires the last line, or it makes no sense\n            if (source_lines.length > 1) {\n                promptWishlist.require(source_lines[source_lines.length - 2], source_lines[source_lines.length - 1]);\n            }\n        }\n    } else {\n        promptWishlist\n            .appendLineForLine(directContext, PromptElementKind.BeforeCursor, directContextPriority)\n            .forEach(id => source_lines.push(id));\n    }\n\n    // the marker options `Top` intend to simulate the file beginning with the markers\n    // so the markers should depend on the first line of source code --\n    // if that is missing, so should they be\n    if (\n        LanguageMarkerOption.Top === completeOptions.languageMarker &&\n        source_lines.length > 0 &&\n        languageMarkerLine !== undefined\n    ) {\n        promptWishlist.require(languageMarkerLine, source_lines[0]);\n    }\n    if (\n        PathMarkerOption.Top === completeOptions.pathMarker &&\n        source_lines.length > 0 &&\n        pathMarkerLine !== undefined\n    ) {\n        languageMarkerLine\n            ? promptWishlist.require(pathMarkerLine, languageMarkerLine)\n            : promptWishlist.require(pathMarkerLine, source_lines[0]);\n    }\n\n    // Language markers are not necessary if the pathmarker already indicates extension\n    if (languageMarkerLine !== undefined && pathMarkerLine !== undefined) {\n        promptWishlist.exclude(pathMarkerLine, languageMarkerLine);\n    }\n\n    let actualSuffix = source.slice(offset);\n\n    if (completeOptions.suffixPercent === 0 || actualSuffix.length <= completeOptions.fimSuffixLengthThreshold) {\n        return promptWishlist.fulfill(completeOptions.maxPromptLength);\n    } else {\n        let offset = doc.offset;\n        if (\n            completeOptions.suffixStartMode !== SuffixStartMode.Cursor &&\n            completeOptions.suffixStartMode !== SuffixStartMode.CursorTrimStart\n        ) {\n            offset = await getSiblingFunctionStart(doc);\n        }\n\n        // First, construct prefix using the wishlist.\n        const availableTokens = completeOptions.maxPromptLength - TOKENS_RESERVED_FOR_SUFFIX_ENCODING;\n        let prefixTargetTokens = Math.floor((availableTokens * (100 - completeOptions.suffixPercent)) / 100);\n        let promptInfo = promptWishlist.fulfill(prefixTargetTokens);\n\n        // Then construct suffix using the remaining tokens.  The prefix/wishlist computation usually\n        // does not consume all the available tokens, so we reallocate any remaining to the suffix.\n        const suffixTargetTokens = availableTokens - promptInfo.prefixLength;\n        let suffixText = source.slice(offset);\n        if (\n            completeOptions.suffixStartMode === SuffixStartMode.SiblingBlockTrimStart ||\n            completeOptions.suffixStartMode === SuffixStartMode.CursorTrimStart\n        ) {\n            suffixText = suffixText.trimStart();\n        }\n\n        const suffix = tokenizer.takeFirstTokens(suffixText, suffixTargetTokens);\n\n        // If there is not enough text to fill the suffix, allocate the extra tokens to\n        // the prefix and recompute it.\n        if (suffix.tokens.length <= suffixTargetTokens - 3) {\n            // only recompute prefix if we can increase its length by >= 3 tokens\n            prefixTargetTokens = availableTokens - suffix.tokens.length;\n            promptInfo = promptWishlist.fulfill(prefixTargetTokens);\n        }\n\n        if (completeOptions.suffixMatchCriteria === SuffixMatchOption.Equal) {\n            if (\n                suffix.tokens.length === cachedSuffix.tokens.length &&\n                suffix.tokens.every((v, i) => v === cachedSuffix.tokens[i])\n            ) {\n                useCachedSuffix = true;\n            }\n        } else if (completeOptions.suffixMatchCriteria === SuffixMatchOption.Levenshtein) {\n            // if the current suffix is an empty string, then do not add the cachedSuffix\n            if (suffix.tokens.length > 0 && completeOptions.suffixMatchThreshold > 0) {\n                // only compare the first MAX_EDIT_DISTANCE_LENGTH tokens to speed up.\n                const dist = findEditDistanceScore(\n                    suffix.tokens.slice(0, MAX_EDIT_DISTANCE_LENGTH),\n                    cachedSuffix.tokens.slice(0, MAX_EDIT_DISTANCE_LENGTH)\n                )?.score;\n                if (\n                    100 * dist <\n                    completeOptions.suffixMatchThreshold * Math.min(MAX_EDIT_DISTANCE_LENGTH, suffix.tokens.length)\n                ) {\n                    useCachedSuffix = true;\n                }\n            }\n        }\n\n        if (useCachedSuffix === true && cachedSuffix.tokens.length <= suffixTargetTokens) {\n            // Similar to codeblock above for actual suffix, if there is not enough text to fill the suffix, allocate extra\n            // tokens to the prefix and recompute it.\n            if (cachedSuffix.tokens.length <= suffixTargetTokens - 3) {\n                // only recompute prefix if we can increase its length by >= 3 tokens\n                prefixTargetTokens = availableTokens - cachedSuffix.tokens.length;\n                promptInfo = promptWishlist.fulfill(prefixTargetTokens);\n            }\n            promptInfo.suffix = cachedSuffix.text;\n            promptInfo.suffixLength = cachedSuffix.tokens.length;\n        } else {\n            // EITHER suffix is not close to cachedSuffix OR cachedSuffix is too long. In either case, we devolve to actual suffix.\n            // Note: when cachedSuffix is too long, we have the option of truncating the cachedSuffix using takeFirstTokens but that\n            // would already invalidate the cache property that we want (in SPM mode).\n            promptInfo.suffix = suffix.text;\n            promptInfo.suffixLength = suffix.tokens.length;\n\n            // log current count, reset the suffix and counts\n            // TODO:\n            // About 0.1% of the time log the cachedReusedCount and the suffix used\n            // to telemetry. Discussion ongoing on Slack.\n            // Right now, console.logging cacheReusedCount so as to make the project.\n            cachedSuffix = suffix;\n        }\n\n        return promptInfo;\n    }\n}\n",
    "import {\n    getAncestorWithSiblingFunctions,\n    getFirstPrecedingComment,\n    isFunctionDefinition,\n    isSupportedLanguageId,\n    parseTreeSitter,\n} from './parse';\nimport {DocumentInfoWithOffset} from './prompt';\n\n/**\n * Find the sibling function start index to the given offset in the source code.\n *\n * @param documentInfo The document description\n *         (of which source text, offset and language will be used)\n * @returns start index of the first sibling block\n */\nexport async function getSiblingFunctionStart({source, offset, languageId}: DocumentInfoWithOffset) {\n    if (isSupportedLanguageId(languageId)) {\n        const tree = await parseTreeSitter(languageId, source);\n        try {\n            // find syntax-tree node we are on or right after\n            let startingOffset = offset;\n            while (startingOffset >= 0 && /\\s/.test(source[startingOffset])) startingOffset--;\n            const nd = tree.rootNode.descendantForIndex(startingOffset);\n\n            // find the closest ancestor that may have sibling functions\n            const anc = getAncestorWithSiblingFunctions(languageId, nd);\n            if (anc) {\n                // find sibling functions and include them all\n                for (let sibling = anc.nextSibling; sibling; sibling = sibling.nextSibling) {\n                    if (isFunctionDefinition(languageId, sibling)) {\n                        // take `sibling`, as well as any comments immediately preceding it, but not if\n                        // it precedes or spans `offset`\n                        const docComment = getFirstPrecedingComment(sibling);\n                        const startIndex = docComment?.startIndex ?? sibling.startIndex;\n                        if (startIndex < offset) {\n                            continue;\n                        }\n\n                        return startIndex;\n                    }\n                }\n\n                if (anc.endIndex >= offset) {\n                    return anc.endIndex;\n                }\n            }\n        } finally {\n            tree.delete();\n        }\n    }\n\n    return offset;\n}\n",
    "/**\n * Cursor contexts used by snippet providers, e.g. retrieval and neighboring tabs.\n *\n * A 'cursor context' is quite similar to a prompt, but it is meant as a more\n * basic, lightweight and ultimately myopic look at what the user is currently doing.\n */\n\nimport {DocumentInfoWithOffset} from '../prompt';\nimport {getTokenizer, TokenizerName} from '../tokenization';\n\n/**\n * Options for cursor context generation.\n */\nexport type CursorContextOptions = {\n    /** The maximum cursor context length in tokens */\n    maxTokenLength?: number;\n\n    /** The maximum number of lines in a cursor context */\n    maxLineCount?: number;\n\n    /** TokenizerName for the tokenization */\n    tokenizerName: TokenizerName;\n};\n\nconst defaultCursorContextOptions: CursorContextOptions = {\n    tokenizerName: TokenizerName.cushman002,\n};\n\nfunction cursorContextOptions(options?: Partial<CursorContextOptions>): CursorContextOptions {\n    return {...defaultCursorContextOptions, ...options};\n}\n\nexport interface CursorContextInfo {\n    /** The compiled context as a string */\n    context: string;\n    /** The number of tokens in the context */\n    tokenLength: number;\n    /** The number of lines in the context */\n    lineCount: number;\n    /** TokenizerName for the tokenization */\n    tokenizerName: TokenizerName;\n}\n\n/**\n * Return a cursor context corresponding to this document info.\n * This is essentially a trimmed-down version of a prompt.\n * Tokenizer, if not provided as an option, currently defaults to cushman002\n *\n * If maxLineCount or maxTokenLength are 0, an empty context is returned\n * If exactly one of `maxLineCount` or `maxTokenLength` is defined, the limit is applied for that one only\n * If both are defined, we apply both conditions so end up using the shorter of the two constraints\n * If both are undefined, the entire document up to the cursor is returned\n */\nexport function getCursorContext(\n    doc: DocumentInfoWithOffset,\n    options: Partial<CursorContextOptions> = {}\n): CursorContextInfo {\n    const completeOptions = cursorContextOptions(options);\n    const tokenizer = getTokenizer(completeOptions.tokenizerName);\n\n    if (completeOptions.maxLineCount !== undefined && completeOptions.maxLineCount < 0) {\n        throw new Error('maxLineCount must be non-negative if defined');\n    }\n    if (completeOptions.maxTokenLength !== undefined && completeOptions.maxTokenLength < 0) {\n        throw new Error('maxTokenLength must be non-negative if defined');\n    }\n\n    if (completeOptions.maxLineCount === 0 || completeOptions.maxTokenLength === 0) {\n        return {\n            context: '',\n            lineCount: 0,\n            tokenLength: 0,\n            tokenizerName: completeOptions.tokenizerName,\n        };\n    }\n\n    let context = doc.source.slice(0, doc.offset); // Trim to cursor location, offset is a character location\n    if (completeOptions.maxLineCount !== undefined) {\n        context = context.split('\\n').slice(-completeOptions.maxLineCount).join('\\n');\n    }\n    if (completeOptions.maxTokenLength !== undefined) {\n        context = tokenizer.takeLastLinesTokens(context, completeOptions.maxTokenLength);\n    }\n    return {\n        context,\n        lineCount: context.split('\\n').length,\n        tokenLength: tokenizer.tokenLength(context),\n        tokenizerName: completeOptions.tokenizerName,\n    };\n}\n",
    "import {DocumentInfo, DocumentInfoWithOffset, SnippetSelectionOption} from '../prompt';\nimport {CursorContextInfo, getCursorContext} from './cursorContext';\nimport {computeScore} from './jaccardMatching';\nimport {ScoredSnippetMarker, SortOptions, WindowedMatcher} from './selectRelevance';\nimport {SnippetProviderType, SnippetSemantics, SnippetWithProviderInfo} from './snippets';\nimport {getBasicWindowDelineations} from './windowDelineations';\n\n/**\n * 3 different strategies to pick up snippets by cursor history.\n * CursorOnly:\n *      Pick up the most clicked snippets.\n * CursorJaccard:\n *      Pick up the most clicked snippets, and re-sort them by Jaccard similarity.\n * JaccardCursor:\n *      Pick up the most similar snippet by Jaccard similarity, and re-sort them by the number of clicked.\n */\nexport enum CursorSnippetsPickingStrategy {\n    CursorOnly = 'cursoronly',\n    CursorJaccard = 'cursorjaccard',\n    JaccardCursor = 'jaccardcursor',\n}\n\nclass FifoCache<T> {\n    private keys: string[] = [];\n    private cache: {[key: string]: T} = {};\n    private size: number;\n    constructor(size: number) {\n        this.size = size;\n    }\n    put(key: string, value: T) {\n        this.cache[key] = value;\n        if (this.keys.length > this.size) {\n            this.keys.push(key);\n            const leavingKey = this.keys.shift() ?? '';\n            delete this.cache[leavingKey];\n        }\n    }\n    get(key: string): T | undefined {\n        return this.cache[key];\n    }\n}\n\n/**\n * For a number of documents (the neighboring tabs),\n * associate to each document and its kind of window computation (as key)\n * the sequence b_1, ..., b_n, where\n * b_i is the set of tokens in the ith window --\n * e.g. for window length 10,\n * WINDOWED_TOKEN_SET_CACHE(doc)[0]\n * holds the tokens in the first 10 lines of the document.\n */\nconst WINDOWED_TOKEN_SET_CACHE = new FifoCache<Set<string>[]>(20);\n\nclass CustomizedFixedWindowSizeJaccardMatcher extends WindowedMatcher {\n    private windowLength: number;\n\n    public constructor(referenceDoc: DocumentInfoWithOffset, windowLength: number) {\n        super(referenceDoc);\n        this.windowLength = windowLength;\n    }\n\n    protected id(): string {\n        return 'CustomizedFixedWindowSizeJaccardMatcher:' + this.windowLength;\n    }\n\n    protected getWindowsDelineations(lines: string[]): [number, number][] {\n        return getBasicWindowDelineations(this.windowLength, lines);\n    }\n\n    protected _getCursorContextInfo(referenceDoc: DocumentInfoWithOffset): CursorContextInfo {\n        return getCursorContext(referenceDoc, {\n            maxLineCount: this.windowLength,\n        });\n    }\n\n    protected similarityScore(a: Set<string>, b: Set<string>): number {\n        return computeScore(a, b);\n    }\n\n    /**\n     * Returns all snippet markers with their scores.\n     * @param objectDoc\n     * @param candidates This is a Map from start line to end line. This funciton only returns the snippets that the start line and end line are in the map.\n     *                   We need it because we want to ignore the code snippets that are not clicked. See the references in CursorHistoryMatcher.\n     *\n     */\n    override retrieveAllSnippets(\n        objectDoc: DocumentInfo,\n        sortOption = SortOptions.Descending,\n        candidates?: Map<number, number>\n    ): ScoredSnippetMarker[] {\n        const snippets: ScoredSnippetMarker[] = [];\n\n        if (objectDoc.source.length === 0 || this.referenceTokens.size === 0) {\n            return snippets;\n        }\n\n        const lines = objectDoc.source.split('\\n');\n        const key = this.id() + ':' + objectDoc.source;\n        const tokensInWindows = WINDOWED_TOKEN_SET_CACHE.get(key) ?? [];\n        // if the tokens are not cached, we need to compute them\n        const needToComputeTokens = tokensInWindows.length == 0;\n        const tokenizedLines = needToComputeTokens ? lines.map(this.tokenizer.tokenize, this.tokenizer) : [];\n\n        // Compute the windows with the score\n        for (const [index, [startLine, endLine]] of this.getWindowsDelineations(lines).entries()) {\n            if (needToComputeTokens) {\n                const tokensInWindow = new Set<string>();\n                tokenizedLines.slice(startLine, endLine).forEach(x => x.forEach(tokensInWindow.add, tokensInWindow));\n                tokensInWindows.push(tokensInWindow);\n            }\n\n            if (candidates !== undefined && candidates.get(startLine) !== endLine) {\n                continue;\n            }\n\n            // Now tokensInWindows[index] contains the tokens in the window, whether we just computed them or not\n            const tokensInWindow = tokensInWindows[index];\n            const score = this.similarityScore(tokensInWindow, this.referenceTokens);\n            snippets.push({\n                score,\n                startLine,\n                endLine,\n            });\n        }\n\n        // If we didn't get the token sets from the cache, time to put them there!\n        if (needToComputeTokens) {\n            WINDOWED_TOKEN_SET_CACHE.put(key, tokensInWindows);\n        }\n\n        return this.sortScoredSnippets(snippets, sortOption);\n    }\n}\n\n/**\n * Find the best matches from a neighbor file by cursor history information.\n */\nexport class CursorHistoryMatcher {\n    private windowLength: number;\n    private lineCursorHistory: Map<string, Map<number, number>>;\n    private jaccardMatcher: CustomizedFixedWindowSizeJaccardMatcher;\n    private strategy: CursorSnippetsPickingStrategy;\n\n    private constructor(\n        referenceDoc: DocumentInfoWithOffset,\n        windowLength: number,\n        lineCursorHistory: Map<string, Map<number, number>>,\n        strategy: CursorSnippetsPickingStrategy\n    ) {\n        this.windowLength = windowLength;\n        this.lineCursorHistory = lineCursorHistory;\n        this.jaccardMatcher = new CustomizedFixedWindowSizeJaccardMatcher(referenceDoc, windowLength);\n        this.strategy = strategy;\n    }\n\n    static FACTORY = (\n        windowLength: number,\n        lineCursorHistory: Map<string, Map<number, number>>,\n        strategy: CursorSnippetsPickingStrategy\n    ) => {\n        return {\n            to: (referenceDoc: DocumentInfoWithOffset) =>\n                new CursorHistoryMatcher(referenceDoc, windowLength, lineCursorHistory, strategy),\n        };\n    };\n\n    /**\n     * Returns a sorted array of snippets with their scores according to the sort option.\n     * @param snippets ScoredSnippetMarker[]\n     *\n     */\n    private sortScoredSnippets(\n        snippets: ScoredSnippetMarker[],\n        sortOption = SortOptions.Descending\n    ): ScoredSnippetMarker[] {\n        return sortOption == SortOptions.Ascending\n            ? snippets.sort((snippetA, snippetB) => (snippetA.score > snippetB.score ? 1 : -1))\n            : sortOption == SortOptions.Descending\n            ? snippets.sort((snippetA, snippetB) => (snippetA.score > snippetB.score ? -1 : 1))\n            : snippets;\n    }\n\n    private markerToSnippet(nonOverlappingSnippets: ScoredSnippetMarker[], lines: string[]): SnippetWithProviderInfo[] {\n        return nonOverlappingSnippets.map(snippetMarker => ({\n            snippet: lines.slice(snippetMarker.startLine, snippetMarker.endLine).join('\\n'),\n            provider: SnippetProviderType.NeighboringTabs,\n            semantics: SnippetSemantics.Snippet,\n            ...snippetMarker,\n        }));\n    }\n\n    public async findMatches(\n        objectDoc: DocumentInfo,\n        snippetSelectionOption = SnippetSelectionOption.BestMatch,\n        snippetSelectionK?: number\n    ): Promise<SnippetWithProviderInfo[]> {\n        if (snippetSelectionOption == SnippetSelectionOption.BestMatch) {\n            const bestMatch = await this.findBestMatch(objectDoc);\n            if (bestMatch === undefined) {\n                return [];\n            } else {\n                return [bestMatch];\n            }\n        }\n\n        if (snippetSelectionOption == SnippetSelectionOption.TopK) {\n            return (await this.findTopKMatches(objectDoc, snippetSelectionK)) || [];\n        }\n\n        return [];\n    }\n\n    /**\n     * Returns the snippet from the object document that is most similar to the reference Document.\n     * - The returned score\n     *   - For CursorOnly, the returned score is the number clicks.\n     *   - For CursorJaccard and JaccardCursor, The returned score is the sum of the number of clicks and the Jaccard similarity.\n     *     The number of clicks is always a integer, and the Jaccard similarity is always a float less than 1.\n     *     So we can assume that the code snippet will be sorted by the number of clicks first, and then by the Jaccard similarity.\n     * - Algorithm\n     *   - CursorOnly\n     *     Pick up the most clicked snippets. If there are multiply snippets with the same number of clicks,\n     *     it will return the middle one in the file.\n     *   - CursorJaccard\n     *     Pick up the most clicked snippets, and re-sort them by Jaccard similarity.\n     *   - JaccardCursor\n     *     It is equivalent to FixedWindowSizeJaccardMatcher.findBestMatch, because we just pick the most similar one snippet.\n     * @param objectDoc\n     */\n    public async findBestMatch(objectDoc: DocumentInfo): Promise<SnippetWithProviderInfo | undefined> {\n        if (objectDoc.source.length === 0) {\n            return undefined;\n        }\n\n        if (this.strategy === CursorSnippetsPickingStrategy.CursorOnly) {\n            let snippetsByCursor = this.retrieveCursorSnippets(objectDoc);\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            if (snippetsByCursor.length === 0) {\n                return undefined;\n            }\n\n            const bestCursorScore = Math.max(...snippetsByCursor.map(s => s.score));\n            const bestSnippets = snippetsByCursor.filter(s => s.score === bestCursorScore);\n            const bestInMiddle = bestSnippets.sort((a, b) => a.startLine - b.startLine)[\n                Math.floor(bestSnippets.length / 2)\n            ];\n\n            const lines = objectDoc.source.split('\\n');\n            return {\n                snippet: lines.slice(bestInMiddle.startLine, bestInMiddle.endLine).join('\\n'),\n                provider: SnippetProviderType.NeighboringTabs,\n                semantics: SnippetSemantics.Snippet,\n                ...bestInMiddle,\n            };\n        } else if (this.strategy === CursorSnippetsPickingStrategy.CursorJaccard) {\n            let snippetsByCursor = this.retrieveCursorSnippets(objectDoc);\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            if (snippetsByCursor.length === 0) {\n                return undefined;\n            }\n\n            const bestCursorScore = Math.max(...snippetsByCursor.map(s => s.score));\n            const bestSnippetsByCursor = [];\n            const bestSnippetsBoundaryByCursor = new Map<number, number>();\n            for (const snippet of snippetsByCursor) {\n                if (snippet.score === bestCursorScore) {\n                    bestSnippetsByCursor.push(snippet);\n                    bestSnippetsBoundaryByCursor.set(snippet.startLine, snippet.endLine);\n                }\n            }\n\n            const bestSnippets = this.jaccardMatcher.retrieveAllSnippets(\n                objectDoc,\n                SortOptions.Descending,\n                bestSnippetsBoundaryByCursor\n            );\n\n            if (bestSnippets.length === 0) {\n                return undefined;\n            }\n\n            const bestSnippet = bestSnippets[0];\n            for (const snippet of snippetsByCursor) {\n                if (snippet.startLine === bestSnippet.startLine && snippet.endLine === bestSnippet.endLine) {\n                    bestSnippet.score += snippet.score;\n                    break;\n                }\n            }\n\n            const lines = objectDoc.source.split('\\n');\n            return {\n                snippet: lines.slice(bestSnippet.startLine, bestSnippet.endLine).join('\\n'),\n                provider: SnippetProviderType.NeighboringTabs,\n                semantics: SnippetSemantics.Snippet,\n                ...bestSnippet,\n            };\n        } else if (this.strategy === CursorSnippetsPickingStrategy.JaccardCursor) {\n            const bestSnippet = await this.jaccardMatcher.findBestMatch(objectDoc);\n            if (bestSnippet === undefined) {\n                return undefined;\n            }\n\n            let snippetsByCursor = this.retrieveCursorSnippets(objectDoc);\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            if (snippetsByCursor.length === 0) {\n                return undefined;\n            }\n\n            for (const snippet of snippetsByCursor) {\n                if (snippet.startLine === bestSnippet.startLine && snippet.endLine === bestSnippet.endLine) {\n                    bestSnippet.score += snippet.score;\n                    break;\n                }\n            }\n\n            return bestSnippet;\n        }\n    }\n\n    /**\n     * Returns the snippets from the object document that are most similar to the reference Document.\n     * - The returned score\n     *   - For CursorOnly, the returned score is the number clicks.\n     *   - For CursorJaccard and JaccardCursor, The returned score is the sum of the number of clicks and the Jaccard similarity.\n     *     The number of clicks is always a integer, and the Jaccard similarity is always a float less than 1.\n     *     So we can assume that the code snippet will be sorted by the number of clicks first, and then by the Jaccard similarity.\n     * - Algorithm\n     *   - CursorOnly\n     *     Pick up the top K clicked snippets.\n     *   - CursorJaccard\n     *     Generate all the snippet that was clicked more than 1 time.\n     *     Calculate the Jaccard similarity between the snippet and the object document.\n     *     Re-sort them by the number of clicks as the first key and Jaccard similarity as the second key.\n     *     Pick up the top K snippets.\n     *   - JaccardCursor\n     *     Get the top K snippets by Jaccard similarity.\n     *     Calculate the number of clicks for each snippet, and re-sort them.\n     * @param objectDoc\n     * @param snippetSelectionK\n     * @returns\n     */\n    private async findTopKMatches(\n        objectDoc: DocumentInfo,\n        snippetSelectionK = 1\n    ): Promise<SnippetWithProviderInfo[] | undefined> {\n        if (objectDoc.source.length === 0 || snippetSelectionK < 1) {\n            return undefined;\n        }\n\n        const lines = objectDoc.source.split('\\n');\n        let snippetsByCursor = this.retrieveCursorSnippets(objectDoc);\n        if (snippetsByCursor.length === 0) {\n            return undefined;\n        }\n\n        if (this.strategy === CursorSnippetsPickingStrategy.CursorOnly) {\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            let nonOverlappingSnippets: ScoredSnippetMarker[] = this.gatherNonOverlappingSnippets(\n                snippetsByCursor,\n                snippetSelectionK\n            );\n            return this.markerToSnippet(nonOverlappingSnippets, lines);\n        } else if (this.strategy === CursorSnippetsPickingStrategy.CursorJaccard) {\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            const snippetCandidates = new Map<number, number>(snippetsByCursor.map(s => [s.startLine, s.endLine]));\n            const allSnippetsSortedByJaccard = this.jaccardMatcher.retrieveAllSnippets(\n                objectDoc,\n                SortOptions.Descending,\n                snippetCandidates\n            );\n            const jaccardMap = allSnippetsSortedByJaccard.reduce(\n                (m, s) => m.set([s.startLine, s.endLine].join(','), s.score),\n                new Map<string, number>()\n            );\n\n            // Sort the code snippet by 2 keys, the number of clicks is the primary key, and the second one is the jaccard similarity.\n            // And I don't want to change the type of score. So I add them together and sort them.\n            // We ignore the corner case where a jaccard similarity of 1 will behave like an additional click for the ordering\n            snippetsByCursor.forEach(v => (v.score += jaccardMap.get([v.startLine, v.endLine].join(',')) ?? 0));\n            snippetsByCursor = this.sortScoredSnippets(snippetsByCursor, SortOptions.Descending);\n            let nonOverlappingSnippets: ScoredSnippetMarker[] = this.gatherNonOverlappingSnippets(\n                snippetsByCursor,\n                snippetSelectionK\n            );\n            return this.markerToSnippet(nonOverlappingSnippets, lines);\n        } else if (this.strategy === CursorSnippetsPickingStrategy.JaccardCursor) {\n            const topKByJaccard = await this.jaccardMatcher.findTopKMatches(objectDoc, snippetSelectionK);\n            if (topKByJaccard === undefined) {\n                return undefined;\n            }\n\n            const cursorMap = snippetsByCursor.reduce(\n                (m, s) => m.set([s.startLine, s.endLine].join(','), s.score),\n                new Map<string, number>()\n            );\n            topKByJaccard.forEach(v => (v.score += cursorMap.get([v.startLine, v.endLine].join(',')) ?? 0));\n            const resortedTopKByJaccard = this.sortScoredSnippets(topKByJaccard, SortOptions.Descending);\n            return this.markerToSnippet(resortedTopKByJaccard, lines);\n        }\n    }\n\n    private gatherNonOverlappingSnippets(snippetsByCursor: ScoredSnippetMarker[], snippetSelectionK: number) {\n        let nonOverlappingSnippets: ScoredSnippetMarker[] = [snippetsByCursor[0]];\n\n        // step forward into snippets until finding a snippet that has no overlap with any snippet in nonOverlappingSnippets\n        for (\n            let currentIndex = 1;\n            currentIndex < snippetsByCursor.length && nonOverlappingSnippets.length < snippetSelectionK;\n            currentIndex++\n        ) {\n            if (\n                nonOverlappingSnippets.findIndex(\n                    snippet =>\n                        snippetsByCursor[currentIndex].startLine < snippet.endLine &&\n                        snippetsByCursor[currentIndex].endLine > snippet.startLine\n                ) == -1\n            ) {\n                nonOverlappingSnippets.push(snippetsByCursor[currentIndex]);\n            }\n        }\n        return nonOverlappingSnippets;\n    }\n\n    /**\n     * Retrieve the snippets containing at least 1 cursor click. If there are less lines than the fixed size, we will get 1 snippet if it contains at least 1 click.\n     */\n    private retrieveCursorSnippets(objectDoc: DocumentInfo): ScoredSnippetMarker[] {\n        const snippets: ScoredSnippetMarker[] = [];\n\n        if (objectDoc.source.length === 0) {\n            return snippets;\n        }\n\n        const cursors = this.lineCursorHistory.get(objectDoc.uri);\n        if (cursors === undefined) {\n            return snippets;\n        }\n\n        const lines = objectDoc.source.split('\\n');\n\n        enum pointType {\n            leftBoundary,\n            rightBoundary,\n        }\n\n        let sparsePoints: [number, pointType, number][] = [];\n        for (const [line, num] of cursors.entries()) {\n            if (line >= lines.length) {\n                continue;\n            }\n\n            sparsePoints.push([Math.max(0, line - this.windowLength + 1), pointType.leftBoundary, num]);\n            sparsePoints.push([line + 1, pointType.rightBoundary, num]);\n        }\n\n        sparsePoints.push([lines.length, pointType.leftBoundary, 0]);\n        sparsePoints = sparsePoints.sort((a, b) => a[0] - b[0]);\n\n        let numCursors = 0;\n        let previousLine = 0;\n        for (const [line, type, num] of sparsePoints) {\n            if (numCursors > 0) {\n                for (\n                    let index = previousLine;\n                    index < line && (index == 0 || index + this.windowLength <= lines.length);\n                    index++\n                ) {\n                    snippets.push({\n                        score: numCursors,\n                        startLine: index,\n                        endLine: Math.min(lines.length, index + this.windowLength),\n                    });\n                }\n            }\n\n            if (type === pointType.leftBoundary) {\n                numCursors += num;\n            } else {\n                numCursors -= num;\n            }\n\n            previousLine = line;\n        }\n\n        return snippets;\n    }\n}\n",
    "import {DocumentInfoWithOffset} from '../prompt';\nimport {CursorContextInfo, getCursorContext} from './cursorContext';\nimport {FunctionalMatcher, WindowedMatcher} from './selectRelevance';\nimport {getBasicWindowDelineations} from './windowDelineations';\n\nexport class FixedWindowSizeJaccardMatcher extends WindowedMatcher {\n    private windowLength: number;\n\n    private constructor(referenceDoc: DocumentInfoWithOffset, windowLength: number) {\n        super(referenceDoc);\n        this.windowLength = windowLength;\n    }\n\n    static FACTORY = (windowLength: number) => {\n        return {\n            to: (referenceDoc: DocumentInfoWithOffset) => new FixedWindowSizeJaccardMatcher(referenceDoc, windowLength),\n        };\n    };\n\n    protected id(): string {\n        return 'fixed:' + this.windowLength;\n    }\n\n    protected getWindowsDelineations(lines: string[]): [number, number][] {\n        return getBasicWindowDelineations(this.windowLength, lines);\n    }\n\n    protected _getCursorContextInfo(referenceDoc: DocumentInfoWithOffset): CursorContextInfo {\n        return getCursorContext(referenceDoc, {\n            maxLineCount: this.windowLength,\n        });\n    }\n\n    protected similarityScore(a: Set<string>, b: Set<string>): number {\n        return computeScore(a, b);\n    }\n}\n\nexport class FunctionJaccardMatcher extends FunctionalMatcher {\n    private windowLength: number;\n\n    protected id(): string {\n        return 'function:' + this.windowLength;\n    }\n    protected getWindowsDelineations(lines: string[]): [number, number][] {\n        return getBasicWindowDelineations(this.windowLength, lines);\n    }\n\n    private constructor(referenceDoc: DocumentInfoWithOffset, windowLength: number) {\n        super(referenceDoc);\n        this.windowLength = windowLength;\n    }\n\n    static FACTORY = (windowLength: number) => {\n        return {\n            to: (referenceDoc: DocumentInfoWithOffset) => new FunctionJaccardMatcher(referenceDoc, windowLength),\n        };\n    };\n\n    protected _getCursorContextInfo(referenceDoc: DocumentInfoWithOffset): CursorContextInfo {\n        return getCursorContext(referenceDoc, {\n            maxLineCount: this.windowLength,\n        });\n    }\n\n    protected similarityScore(a: Set<string>, b: Set<string>): number {\n        return computeScore(a, b);\n    }\n}\n\n/**\n * Compute the Jaccard metric of number of elements in the intersection\n * divided by number of elements in the union\n */\nexport function computeScore(a: Set<string>, b: Set<string>) {\n    const intersection = new Set();\n    a.forEach(x => {\n        if (b.has(x)) {\n            intersection.add(x);\n        }\n    });\n    return intersection.size / (a.size + b.size - intersection.size);\n}\n",
    "import {ok} from 'assert';\nimport {DocumentInfo, DocumentInfoWithOffset, SnippetSelectionOption} from '../prompt';\nimport {CursorHistoryMatcher, CursorSnippetsPickingStrategy} from './cursorMatching';\nimport {FixedWindowSizeJaccardMatcher, FunctionJaccardMatcher} from './jaccardMatching';\nimport {SnippetWithProviderInfo} from './snippets';\n\nexport enum NeighboringTabsOption {\n    None = 'none',\n    Conservative = 'conservative', // set jaccard threshold 0.3\n    Medium = 'medium', // set jaccard threshold 0.1\n    Eager = 'eager', // set jaccard threshold 0.0\n    EagerButLittle = 'eagerButLittle',\n    EagerButMedium = 'eagerButMedium',\n    EagerButMuch = 'eagerButMuch',\n    RetrievalComparable = 'retrievalComparable',\n}\n\nexport enum NeighboringSnippetType {\n    NeighboringFunctions = 'neighboringFunction',\n    NeighboringSnippets = 'neighboringSnippet',\n    CursorHistoryMatcher = 'cursorhistorymatcher',\n}\n\ninterface NeighborSelection {\n    snippetLength: number;\n    threshold: number;\n    numberOfSnippets: number;\n}\n// * @param lineCursorHistory - A The first key is the file name, and the second key\n// *                            is the line number, the value is the number of cursor\n// *                            focused.\nexport type LineCursorHistory = Map<string, Map<number, number>>;\n\nexport const neighborOptionToSelection: Record<NeighboringTabsOption | string, NeighborSelection> = {\n    none: {\n        snippetLength: 1,\n        threshold: -1,\n        numberOfSnippets: 0,\n    },\n    conservative: {\n        snippetLength: 10,\n        threshold: 0.3,\n        numberOfSnippets: 1,\n    },\n    medium: {\n        snippetLength: 20,\n        threshold: 0.1,\n        numberOfSnippets: 2,\n    },\n    eager: {\n        snippetLength: 60,\n        threshold: 0,\n        numberOfSnippets: 4,\n    },\n    eagerButLittle: {\n        snippetLength: 10,\n        threshold: 0,\n        numberOfSnippets: 1,\n    },\n    eagerButMedium: {\n        snippetLength: 20,\n        threshold: 0,\n        numberOfSnippets: 4,\n    },\n    eagerButMuch: {\n        snippetLength: 60,\n        threshold: 0,\n        numberOfSnippets: 6,\n    },\n    retrievalComparable: {\n        snippetLength: 30,\n        threshold: 0,\n        numberOfSnippets: 4,\n    },\n};\n\n// Sanity thresholds on the number of neighbors to consider\nconst MAX_CHARACTERS_PER_FILE = 10000;\nconst MAX_NUMBER_OF_FILES = 20;\n\nfunction getMatcher(\n    doc: DocumentInfoWithOffset,\n    neighboringSnippetTypes: NeighboringSnippetType,\n    selection: NeighborSelection,\n    lineCursorHistory?: Map<string, Map<number, number>>,\n    cursorSnippetsPickingStrategy: CursorSnippetsPickingStrategy = CursorSnippetsPickingStrategy.CursorJaccard\n) {\n    let matcherFactory;\n    if (neighboringSnippetTypes === NeighboringSnippetType.NeighboringSnippets) {\n        matcherFactory = FixedWindowSizeJaccardMatcher.FACTORY(selection.snippetLength);\n    } else if (neighboringSnippetTypes === NeighboringSnippetType.NeighboringFunctions) {\n        // To be removed in https://github.com/github/copilot-client/pull/3448\n        matcherFactory = FunctionJaccardMatcher.FACTORY(selection.snippetLength);\n    } else {\n        ok(lineCursorHistory !== undefined, 'lineCursorHistory should not be undefined');\n        matcherFactory = CursorHistoryMatcher.FACTORY(\n            selection.snippetLength,\n            lineCursorHistory,\n            cursorSnippetsPickingStrategy\n        );\n    }\n    return matcherFactory.to(doc);\n}\n\n/**\n * @returns A SnippetWithProviderInfo describing the best matches from neighbors.\n */\nexport async function getNeighborSnippets(\n    doc: DocumentInfoWithOffset,\n    neighbors: DocumentInfo[],\n    neighboringSnippetTypes: NeighboringSnippetType,\n    options: NeighboringTabsOption | string,\n    snippetSelectionOption?: SnippetSelectionOption,\n    snippetSelectionK?: number,\n    lineCursorHistory?: LineCursorHistory,\n    cursorSnippetsPickingStrategy?: CursorSnippetsPickingStrategy\n): Promise<SnippetWithProviderInfo[]> {\n    const selection = {...neighborOptionToSelection[options]};\n    const matcher = getMatcher(\n        doc,\n        neighboringSnippetTypes,\n        selection,\n        lineCursorHistory,\n        cursorSnippetsPickingStrategy\n    );\n    if (selection.numberOfSnippets === 0) {\n        return [];\n    }\n\n    const snippets = (\n        await neighbors\n            // filter out absurdly long or absurdly many open files\n            .filter(neighbor => neighbor.source.length < MAX_CHARACTERS_PER_FILE && neighbor.source.length > 0)\n            // slice(0) duplicates an array\n            .slice(0, MAX_NUMBER_OF_FILES)\n            .reduce(\n                async (\n                    acc,\n                    neighbor // accumulator of all snippets from all neighbors\n                ) =>\n                    (await acc).concat(\n                        (await matcher.findMatches(neighbor, snippetSelectionOption, snippetSelectionK)).map(\n                            snippet => ({relativePath: neighbor.relativePath, ...snippet})\n                        )\n                    ),\n                Promise.resolve([] as SnippetWithProviderInfo[])\n            )\n    )\n        .filter(\n            neighbor =>\n                // remove files that had no match at all\n                neighbor.score &&\n                neighbor.snippet &&\n                // remove files that had a low score\n                neighbor.score > selection.threshold\n        )\n        // order them with best (highest scores) last\n        .sort((a, b) => a.score - b.score)\n        // take the best options from the end\n        .slice(-selection.numberOfSnippets);\n    return snippets;\n}\n",
    "import {getFunctionPositions, isSupportedLanguageId} from '../parse';\nimport {DocumentInfo, DocumentInfoWithOffset, SnippetSelectionOption} from '../prompt';\nimport {CursorContextInfo} from './cursorContext';\nimport {SnippetProviderType, SnippetSemantics, SnippetWithProviderInfo} from './snippets';\n\nclass FifoCache<T> {\n    private keys: string[] = [];\n    private cache: {[key: string]: T} = {};\n    private size: number;\n    constructor(size: number) {\n        this.size = size;\n    }\n    put(key: string, value: T) {\n        this.cache[key] = value;\n        if (this.keys.length > this.size) {\n            this.keys.push(key);\n            const leavingKey = this.keys.shift() ?? '';\n            delete this.cache[leavingKey];\n        }\n    }\n    get(key: string): T | undefined {\n        return this.cache[key];\n    }\n}\n\n/**\n * A snippet of code together with a relevance score\n */\nexport interface ScoredSnippetMarker {\n    score: number;\n    startLine: number;\n    endLine: number;\n}\n\nexport interface ScoredSnippet extends ScoredSnippetMarker {\n    snippet: string;\n    relativePath?: string;\n}\n\nexport enum SortOptions {\n    Ascending = 'ascending',\n    Descending = 'descending',\n    None = 'none',\n}\n\nclass Tokenizer {\n    private readonly stopsForLanguage: Set<string>;\n    constructor(doc: DocumentInfo) {\n        this.stopsForLanguage = SPECIFIC_STOPS.get(doc.languageId) ?? GENERIC_STOPS;\n    }\n    tokenize(a: string): Set<string> {\n        return new Set<string>(splitIntoWords(a).filter(x => !this.stopsForLanguage.has(x)));\n    }\n}\n\n/**\n * For a number of documents (the neighboring tabs),\n * associate to each document and its kind of window computation (as key)\n * the sequence b_1, ..., b_n, where\n * b_i is the set of tokens in the ith window --\n * e.g. for window length 10,\n * WINDOWED_TOKEN_SET_CACHE(doc)[0]\n * holds the tokens in the first 10 lines of the document.\n */\nconst WINDOWED_TOKEN_SET_CACHE = new FifoCache<Set<string>[]>(20);\n\n/**\n * A matcher factory should be able to produce one matcher\n * for each document to which matches are to be found.\n * I.e. MatcherFactory.to(doc) is a matcher that matches against doc.\n */\nexport interface MatcherFactory {\n    to(doc: DocumentInfoWithOffset): {\n        findBestMatch(objectDoc: DocumentInfo): Promise<ScoredSnippet | undefined>;\n        findMatches(\n            objectDoc: DocumentInfo,\n            snippetSelectionOption: SnippetSelectionOption | undefined,\n            snippetSelectionK?: number\n        ): Promise<ScoredSnippet[]>;\n    };\n}\n\n/**\n * For a given document, extracts the best matching snippets from other documents\n * by comparing all of a set of windows in the object doc.\n */\nexport abstract class WindowedMatcher {\n    protected referenceDoc: DocumentInfoWithOffset;\n    protected tokenizer: Tokenizer;\n\n    protected abstract id(): string;\n    protected abstract similarityScore(a: Set<string>, b: Set<string>): number;\n    /**\n     * Given an array of lines, returns an array of pairs <startLine, endLine> of indices,\n     * such that each pair is a window of lines to consider adding.\n     * startLine is inclusive, endLine is exclusive.\n     * @param lines Lines of a source text, in order\n     */\n    protected abstract getWindowsDelineations(lines: string[]): [number, number][];\n\n    /**\n     * Subclasses should implement this method to return the desired context info for tokenization\n     * from the reference document. Will only be called after constructor is finished.\n     * The tokenizer used in WindowedMatcher is a simple tokenizer for Jaccard similarity, NOT an\n     * OpenAI model tokenizer.\n     */\n    protected abstract _getCursorContextInfo(referenceDoc: DocumentInfoWithOffset): CursorContextInfo;\n\n    protected constructor(referenceDoc: DocumentInfoWithOffset) {\n        this.referenceDoc = referenceDoc;\n        this.tokenizer = new Tokenizer(referenceDoc); // Just uses language info from referenceDoc\n    }\n\n    /**\n     * Lazy getter for referenceTokens since it relies on properties\n     * that are not initialized in the constructor of WindowedMatcher\n     * but in the constructor of its subclasses.\n     */\n    get referenceTokens(): Set<string> {\n        return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context);\n    }\n\n    /**\n     * Returns a sorted array of snippets with their scores according to the sort option.\n     * @param snippets ScoredSnippet[]\n     *\n     */\n    sortScoredSnippets(snippets: ScoredSnippetMarker[], sortOption = SortOptions.Descending): ScoredSnippetMarker[] {\n        return sortOption == SortOptions.Ascending\n            ? snippets.sort((snippetA, snippetB) => (snippetA.score > snippetB.score ? 1 : -1))\n            : sortOption == SortOptions.Descending\n            ? snippets.sort((snippetA, snippetB) => (snippetA.score > snippetB.score ? -1 : 1))\n            : snippets;\n    }\n    /**\n     * Returns all snippet markers with their scores.\n     * @param objectDoc\n     *\n     */\n    retrieveAllSnippets(objectDoc: DocumentInfo, sortOption = SortOptions.Descending): ScoredSnippetMarker[] {\n        const snippets: ScoredSnippetMarker[] = [];\n\n        if (objectDoc.source.length === 0 || this.referenceTokens.size === 0) {\n            return snippets;\n        }\n\n        const lines = objectDoc.source.split('\\n');\n        const key = this.id() + ':' + objectDoc.source;\n        const tokensInWindows = WINDOWED_TOKEN_SET_CACHE.get(key) ?? [];\n        // if the tokens are not cached, we need to compute them\n        const needToComputeTokens = tokensInWindows.length == 0;\n        const tokenizedLines = needToComputeTokens ? lines.map(this.tokenizer.tokenize, this.tokenizer) : [];\n\n        // Compute the windows with the score\n        for (const [index, [startLine, endLine]] of this.getWindowsDelineations(lines).entries()) {\n            if (needToComputeTokens) {\n                const tokensInWindow = new Set<string>();\n                tokenizedLines.slice(startLine, endLine).forEach(x => x.forEach(tokensInWindow.add, tokensInWindow));\n                tokensInWindows.push(tokensInWindow);\n            }\n            // Now tokensInWindows[index] contains the tokens in the window, whether we just computed them or not\n            const tokensInWindow = tokensInWindows[index];\n            const score = this.similarityScore(tokensInWindow, this.referenceTokens);\n            snippets.push({\n                score,\n                startLine,\n                endLine,\n            });\n        }\n\n        // If we didn't get the token sets from the cache, time to put them there!\n        if (needToComputeTokens) {\n            WINDOWED_TOKEN_SET_CACHE.put(key, tokensInWindows);\n        }\n\n        return this.sortScoredSnippets(snippets, sortOption);\n    }\n\n    async findMatches(\n        objectDoc: DocumentInfo,\n        snippetSelectionOption = SnippetSelectionOption.BestMatch,\n        snippetSelectionK?: number\n    ): Promise<SnippetWithProviderInfo[]> {\n        if (snippetSelectionOption == SnippetSelectionOption.BestMatch) {\n            const snippet = await this.findBestMatch(objectDoc);\n            return snippet ? [snippet] : [];\n        }\n\n        if (snippetSelectionOption == SnippetSelectionOption.TopK) {\n            return (await this.findTopKMatches(objectDoc, snippetSelectionK)) || [];\n        }\n\n        return [];\n    }\n\n    /**\n     * Returns the snippet from the object document\n     * that is most similar to the reference Document\n     * together with its Jaccard score\n     *\n     * @param objectDoc\n     */\n    async findBestMatch(objectDoc: DocumentInfo): Promise<SnippetWithProviderInfo | undefined> {\n        if (objectDoc.source.length === 0 || this.referenceTokens.size === 0) {\n            return undefined;\n        }\n        const lines = objectDoc.source.split('\\n');\n        const snippets = this.retrieveAllSnippets(objectDoc, SortOptions.Descending);\n\n        // safe guard against empty lists\n        if (snippets.length === 0) {\n            return undefined;\n        }\n        if (snippets[0].score === 0) {\n            return undefined;\n        }\n\n        // Compute the window with the best match\n        const snippetCode = lines.slice(snippets[0].startLine, snippets[0].endLine).join('\\n');\n        return {\n            snippet: snippetCode,\n            semantics: SnippetSemantics.Snippet,\n            provider: SnippetProviderType.NeighboringTabs,\n            ...snippets[0],\n        };\n    }\n\n    /**\n     * Returns the snippet from the object document\n     * that is most similar to the reference Document\n     * together with its Jaccard score\n     *\n     * @param objectDoc\n     */\n    async findTopKMatches(\n        objectDoc: DocumentInfo,\n        snippetSelectionK = 1\n    ): Promise<SnippetWithProviderInfo[] | undefined> {\n        if (objectDoc.source.length === 0 || this.referenceTokens.size === 0 || snippetSelectionK < 1) {\n            return undefined;\n        }\n\n        const lines = objectDoc.source.split('\\n');\n\n        const snippets = this.retrieveAllSnippets(objectDoc, SortOptions.Descending);\n        if (snippets.length === 0 || snippets[0].score === 0) {\n            return undefined;\n        }\n\n        const nonOverlappingSnippets: ScoredSnippetMarker[] = [snippets[0]];\n\n        // step forward into snippets until finding a snippet that has no overlap with any snippet in nonOverlappingSnippets\n        for (\n            let currentIndex = 1;\n            currentIndex < snippets.length && nonOverlappingSnippets.length < snippetSelectionK;\n            currentIndex++\n        ) {\n            if (\n                nonOverlappingSnippets.findIndex(\n                    snippet =>\n                        snippets[currentIndex].startLine < snippet.endLine &&\n                        snippets[currentIndex].endLine > snippet.startLine\n                ) == -1\n            ) {\n                nonOverlappingSnippets.push(snippets[currentIndex]);\n            }\n        }\n        return nonOverlappingSnippets.map(snippetMarker => ({\n            snippet: lines.slice(snippetMarker.startLine, snippetMarker.endLine).join('\\n'),\n            semantics: SnippetSemantics.Snippet,\n            provider: SnippetProviderType.NeighboringTabs,\n            ...snippetMarker,\n        }));\n    }\n}\n\nasync function getNeighboringFunctions(neighbor: DocumentInfo) {\n    let neighborFuncs: DocumentInfo[] = [];\n    if (isSupportedLanguageId(neighbor.languageId)) {\n        const funcPositions = await getFunctionPositions(neighbor.languageId, neighbor.source);\n        for (let i = 0; i < funcPositions.length; i++) {\n            let {startIndex, endIndex} = funcPositions[i];\n            let func_source = neighbor.source.substring(startIndex, endIndex);\n            neighborFuncs.push({\n                source: func_source,\n                relativePath: neighbor.relativePath,\n                languageId: neighbor.languageId,\n                uri: neighbor.uri,\n            });\n        }\n    }\n    return neighborFuncs;\n}\n\nexport abstract class FunctionalMatcher extends WindowedMatcher {\n    protected constructor(referenceDoc: DocumentInfoWithOffset) {\n        super(referenceDoc);\n    }\n\n    getMatchingScore(neighborDoc: DocumentInfo): ScoredSnippet {\n        const neighborDocTokens = this.tokenizer.tokenize(neighborDoc.source);\n        const score = this.similarityScore(neighborDocTokens, this.referenceTokens);\n\n        return {\n            snippet: neighborDoc.source,\n            score: score,\n            startLine: 0,\n            endLine: 0,\n        };\n    }\n\n    override async findBestMatch(objectDoc: DocumentInfo): Promise<SnippetWithProviderInfo | undefined> {\n        const snippets = await this.findMatches(objectDoc);\n        // safe guard against empty lists\n        if (snippets.length === 0) {\n            return undefined;\n        }\n        if (snippets[0].score === 0) {\n            return undefined;\n        }\n        return snippets[0];\n    }\n\n    override async findMatches(\n        objectDoc: DocumentInfo,\n        snippetSelectionOption?: SnippetSelectionOption,\n        snippetSelectionK?: number\n    ): Promise<SnippetWithProviderInfo[]> {\n        if (objectDoc.source.length === 0 || this.referenceTokens.size === 0) {\n            return [];\n        }\n        const neighborFuncs = await getNeighboringFunctions(objectDoc);\n\n        if (neighborFuncs.length == 0) {\n            // if no function was extracted, return default code snippets.\n            const lines = objectDoc.source.split('\\n');\n            const snippets = this.retrieveAllSnippets(objectDoc, SortOptions.Descending);\n            // safe guard against empty lists\n            if (snippets.length === 0) {\n                return [];\n            }\n            if (snippets[0].score === 0) {\n                return [];\n            }\n            // Compute the window with the best match\n            const snippetCode = lines.slice(snippets[0].startLine, snippets[0].endLine).join('\\n');\n            return [\n                {\n                    snippet: snippetCode,\n                    semantics: SnippetSemantics.Snippet,\n                    provider: SnippetProviderType.NeighboringTabs,\n                    ...snippets[0],\n                },\n            ];\n        }\n\n        const snippets: SnippetWithProviderInfo[] = [];\n        for (let func of neighborFuncs) {\n            const snippet = this.getMatchingScore(func);\n            snippets.push({\n                semantics: SnippetSemantics.Function,\n                provider: SnippetProviderType.NeighboringTabs,\n                ...snippet,\n            });\n        }\n        return snippets;\n    }\n}\n\n/**\n * Split by non-alphanumeric characters\n */\nexport function splitIntoWords(a: string): string[] {\n    return a.split(/[^a-zA-Z0-9]/).filter(x => x.length > 0);\n}\n\nconst ENGLISH_STOPS = new Set([\n    // - pronouns\n    'we',\n    'our',\n    'you',\n    'it',\n    'its',\n    'they',\n    'them',\n    'their',\n    'this',\n    'that',\n    'these',\n    'those',\n    // - verbs\n    'is',\n    'are',\n    'was',\n    'were',\n    'be',\n    'been',\n    'being',\n    'have',\n    'has',\n    'had',\n    'having',\n    'do',\n    'does',\n    'did',\n    'doing',\n    'can',\n    'don',\n    't',\n    's',\n    'will',\n    'would',\n    'should',\n    // - wh-words\n    'what',\n    'which',\n    'who',\n    'when',\n    'where',\n    'why',\n    'how',\n    // - articles\n    'a',\n    'an',\n    'the',\n    // - prepositions\n    'and',\n    'or',\n    'not',\n    'no',\n    'but',\n    'because',\n    'as',\n    'until',\n    'again',\n    'further',\n    'then',\n    'once',\n    'here',\n    'there',\n    'all',\n    'any',\n    'both',\n    'each',\n    'few',\n    'more',\n    'most',\n    'other',\n    'some',\n    'such',\n    'above',\n    'below',\n    'to',\n    'during',\n    'before',\n    'after',\n    'of',\n    'at',\n    'by',\n    'about',\n    'between',\n    'into',\n    'through',\n    'from',\n    'up',\n    'down',\n    'in',\n    'out',\n    'on',\n    'off',\n    'over',\n    'under',\n    'only',\n    'own',\n    'same',\n    'so',\n    'than',\n    'too',\n    'very',\n    'just',\n    'now',\n]);\n\n/**\n * A generic set of stops for any programming language\n */\nconst GENERIC_STOPS = new Set([\n    // words that are common in programming languages\n    'if',\n    'then',\n    'else',\n    'for',\n    'while',\n    'with',\n    'def',\n    'function',\n    'return',\n    'TODO',\n    'import',\n    'try',\n    'catch',\n    'raise',\n    'finally',\n    'repeat',\n    'switch',\n    'case',\n    'match',\n    'assert',\n    'continue',\n    'break',\n    'const',\n    'class',\n    'enum',\n    'struct',\n    'static',\n    'new',\n    'super',\n    'this',\n    'var',\n    // words that are common in English comments:\n    ...ENGLISH_STOPS,\n]);\n\n/**\n * Specific stops for certain languages\n * Note that ENGLISH_STOPS need to be added to this set if they are to be included\n */\nconst SPECIFIC_STOPS: Map<string, Set<string>> = new Map([\n    // none yet\n]);\n",
    "import {commentBlockAsSingles} from '../languageMarker';\nimport {Tokenizer} from '../tokenization';\nimport {Priorities} from '../wishlist';\nimport {ScoredSnippet} from './selectRelevance';\n\n/** Indicates what provider produced a given snippet. */\nexport enum SnippetProviderType {\n    NeighboringTabs = 'neighboring-tabs',\n    Retrieval = 'retrieval',\n    SymbolDef = 'symbol-def',\n    Language = 'language',\n    Path = 'path',\n    LocalImportContext = 'local-import-context',\n}\n\n/**\n * The semantics of a snippet. For example, some providers\n * might always produce a snippet that is a complete function\n * whereas others might produce a snippet that are inherhently\n * partial.\n */\nexport enum SnippetSemantics {\n    /** The contents of the snippet is a function. */\n    Function = 'function',\n    /** The contents of the snippet is an unspecified snippet. */\n    Snippet = 'snippet',\n    /** The following are from hover text */\n    Variable = 'variable',\n    Parameter = 'parameter',\n    Method = 'method',\n    Class = 'class',\n    Module = 'module',\n    Alias = 'alias',\n    Enum = 'enum member',\n    Interface = 'interface',\n}\n\n/** Extends a ScoredSnippet with information about its provider. */\nexport interface SnippetWithProviderInfo extends ScoredSnippet {\n    /** The provider that created this snippet. */\n    provider: SnippetProviderType;\n    /** The semantical meaning of the snippet's contents. */\n    semantics: SnippetSemantics;\n}\n\nexport interface SingleSnippetProviderOptions {\n    /** Which function to apply for score normalization */\n    normalizationFunction: 'affine';\n    /** The parameters/coefficients for the score normalization function */\n    normalizationParams: number[];\n    /**\n     * Number of snippets reserved to this provider, disregarding whether other\n     * providers have higher-scoring snippets.\n     */\n    reservedSnippetCount?: number;\n}\n\n/**\n * The options for all snippet providers.\n */\nexport type SnippetProviderOptions = Record<SnippetProviderType, SingleSnippetProviderOptions>;\n\n/**\n * A snippet with a normalized score\n */\nexport interface SnippetWithNormalizedScore extends Omit<SnippetWithProviderInfo, 'score'> {\n    providerScore: number;\n    normalizedScore: number;\n}\n\n/**\n * The most processed form of a snippet that contains fully rendered and\n * prioritized snippets, including their token count. Can be used directly\n * with the wishlist. The priority is a wishlist priority, not a score.\n */\nexport interface ProcessedSnippet {\n    /** The announced (i.e. formatted) snippet */\n    announcedSnippet: string;\n    /** Wishlish priority */\n    priority: number;\n    /** The score of the snippet as given directly by the provider */\n    providerScore: number;\n    /** The normalized score */\n    normalizedScore: number;\n    /** The number of tokens in the (announced) snippet */\n    tokens: number;\n    /** The provider */\n    provider: SnippetProviderType;\n    /** Relative path */\n    relativePath?: string;\n}\n\n/**\n * A map from semantics enum to a human / LLM-readable label that we\n * include when announcing a snippet.\n */\nconst snippetSemanticsToString: {[key in SnippetSemantics]: string} = {\n    [SnippetSemantics.Function]: 'function',\n    [SnippetSemantics.Snippet]: 'snippet',\n    [SnippetSemantics.Variable]: 'variable',\n    [SnippetSemantics.Parameter]: 'parameter',\n    [SnippetSemantics.Method]: 'method',\n    [SnippetSemantics.Class]: 'class',\n    [SnippetSemantics.Module]: 'module',\n    [SnippetSemantics.Alias]: 'alias',\n    [SnippetSemantics.Enum]: 'enum member',\n    [SnippetSemantics.Interface]: 'interface',\n};\n\n/**\n * Formats a snippet for inclusion in the prompt.\n *\n * This does three things:\n * 1. Adds an announcement headline.\n * 2. Formats each line as a single-line comment in the language of the target doc.\n * 3. Adds a trailing newline if one was not already there.\n */\nexport function announceSnippet(snippet: Omit<SnippetWithProviderInfo, 'score'>, targetDocLanguageId: string): string {\n    const semantics = snippetSemanticsToString[snippet.semantics];\n    const headline = snippet.relativePath\n        ? `Compare this ${semantics} from ${snippet.relativePath}:`\n        : `Compare this ${semantics}:`;\n    let headlinedSnippet = headline + '\\n' + snippet.snippet;\n    if (!headlinedSnippet.endsWith('\\n')) {\n        headlinedSnippet += '\\n';\n    }\n    return commentBlockAsSingles(headlinedSnippet, targetDocLanguageId);\n}\n\nexport function normalizeSnippetScore<S extends {provider: SnippetProviderType; score: number}>(\n    snippet: S,\n    providerOptions: SnippetProviderOptions\n): Omit<S, 'score'> & {providerScore: number; normalizedScore: number} {\n    const options = providerOptions[snippet.provider];\n    if (!options) {\n        throw new Error('Unknown snippet provider: ' + snippet.provider);\n    }\n    const {score: providerScore, ...snippetRem} = snippet;\n    let normalizedScore = providerScore;\n    if (options.normalizationFunction === 'affine') {\n        const [a, b] = options.normalizationParams;\n        normalizedScore = a * providerScore + b;\n    } else {\n        throw new Error(\n            `Unknown normalization function ${options.normalizationFunction} for snippet provider ${snippet.provider}`\n        );\n    }\n    return {\n        ...snippetRem, // Remove score\n        providerScore,\n        normalizedScore,\n    };\n}\n\n/**\n * Sorts snippets in-place in descending order by their normalized score.\n */\nfunction sortSnippetsDescending<S extends {normalizedScore: number}>(snippets: S[]): void {\n    snippets.sort((a, b) => b.normalizedScore - a.normalizedScore);\n}\n\n/**\n * Selects `numberOfSnippets` simultanously adhering to two principles:\n *   1. Select the best `reservedSnippetCount` snippets from each provider,\n *      according to their normalized score.\n *   2. Select the best snippets according to normalized score across all\n *      providers, until `numberOfSnippets` have been selected in total.\n *\n * NOTE: If the total number of `reservedSnippetCount` exceeds\n * `numberOfSnippets`, then this method throws an exception.\n *\n * The returned snippets are returned in order of decreasing normalized score,\n * i.e. the best snippets are first in each list.\n */\nexport function selectSnippets(\n    snippets: SnippetWithProviderInfo[],\n    numberOfSnippets: number,\n    providerOptions: SnippetProviderOptions\n): {reserved: SnippetWithNormalizedScore[]; candidates: SnippetWithNormalizedScore[]} {\n    if (numberOfSnippets == 0) {\n        return {reserved: [], candidates: []};\n    }\n    // Compute all the normalized scores\n    const normalizedSnippets: SnippetWithNormalizedScore[] = snippets.map(snippet =>\n        normalizeSnippetScore(snippet, providerOptions)\n    );\n    // Split snippets by provider\n    const snippetsByProvider = new Map<SnippetProviderType, SnippetWithNormalizedScore[]>();\n    let provider: SnippetProviderType;\n    for (provider in providerOptions) {\n        snippetsByProvider.set(provider, []);\n    }\n    for (const snippet of normalizedSnippets) {\n        let snippets = snippetsByProvider.get(snippet.provider);\n        if (!snippets) {\n            throw new Error('Unknown snippet provider: ' + snippet.provider);\n        }\n        snippets.push(snippet);\n    }\n    for (const [_provider, snippets] of snippetsByProvider) {\n        sortSnippetsDescending(snippets);\n    }\n    // Pick all reserved snippets\n    let reserved: SnippetWithNormalizedScore[] = [];\n    for (provider in providerOptions) {\n        const options = providerOptions[provider];\n        const count = options.reservedSnippetCount || 0;\n        if (count > 0) {\n            const snippets = snippetsByProvider.get(provider) || [];\n            reserved = reserved.concat(snippets.slice(0, count));\n            snippetsByProvider.set(provider, snippets.slice(count));\n        }\n    }\n    sortSnippetsDescending(reserved);\n    let candidates: SnippetWithNormalizedScore[] = [];\n    if (reserved.length > numberOfSnippets) {\n        throw new Error('Reserved snippet count exceeds number of snippets');\n    }\n    if (reserved.length < numberOfSnippets) {\n        // Flatten and resort all remaining snippets\n        const remaining = Array.from(snippetsByProvider.values()).flat();\n        sortSnippetsDescending(remaining);\n        // Pick the best remaining snippets\n        candidates = remaining.slice(0, numberOfSnippets - reserved.length);\n    }\n    return {reserved, candidates};\n}\n\n/**\n * \"Processes\" a list of snippets and assigns priorities.\n *\n * The snippets will get their scores normalized, will be announced, and will be\n * selected according to best-normalized score while adhering to any\n * reservations stipulated in `providerOptions`. See {@link selectSnippets} for\n * details.\n *\n * The returned snippets will then be assigned priorites descendingly from\n * `priorities.high` respectively `priorities.low`, or not included at all,\n * according to two parameters `totalPrioritized` and `highPriorityBudget`.\n *\n * The snippets are also returned by increasing normalized score. If they are\n * enqueued in this order in the wishlist, then the highest-scoring snippets\n * will appear closest to the cursor.\n *\n * By definition, a reserved snippet may be selected with higher priority than a\n * non-reserved candidate snippet with better normalized score. The reserved\n * snippet is then guaranteed to be selected in the wishlist before the\n * non-reserved snippet, but if both are ultimately selected, the non-reserved\n * one will appear last in the prompt.\n *\n * @param snippets The snippets to process.\n * @param providerOptions The options for each snippet provider.\n * @param priorities Priorities to assign to snippets: high priority is assigned\n * to the first `highPriorityBudget` tokens, low priority to the remaining\n * `totalPrioritized` snippets.\n * @param totalPrioritized The maximal number of snippets to return, i.e. if\n * more snippets are passed in, we remove the least desirable.\n * @param highPriorityBudget The number of tokens to use for high priority\n * snippets\n */\nexport function processSnippetsForWishlist(\n    snippets: SnippetWithProviderInfo[],\n    targetDocLanguageId: string,\n    tokenizer: Tokenizer,\n    providerOptions: SnippetProviderOptions,\n    priorities: {priorities: Priorities; low: number; high: number},\n    totalPrioritized: number,\n    highPriorityBudget: number\n): ProcessedSnippet[] {\n    // selectSnippets returns in order of decreasing normalized score, i.e. best\n    // first in each list.\n    const {reserved, candidates} = selectSnippets(snippets, totalPrioritized, providerOptions);\n    let usedBudget = 0;\n    let processedSnippets: ProcessedSnippet[] = [];\n    let nextHighPriority = priorities.high;\n    let nextLowPriority = priorities.low;\n    function process(snippet: SnippetWithNormalizedScore, usedBudget: number): number {\n        const announced = announceSnippet(snippet, targetDocLanguageId);\n        const tokens = tokenizer.tokenLength(announced);\n        let priority: number;\n        if (usedBudget + tokens <= highPriorityBudget) {\n            priority = nextHighPriority;\n            nextHighPriority = priorities.priorities.justBelow(priority);\n        } else {\n            priority = nextLowPriority;\n            nextLowPriority = priorities.priorities.justBelow(priority);\n        }\n        processedSnippets.push({\n            announcedSnippet: announced,\n            provider: snippet.provider,\n            providerScore: snippet.providerScore,\n            normalizedScore: snippet.normalizedScore,\n            priority,\n            tokens,\n            relativePath: snippet.relativePath,\n        });\n        return usedBudget + tokens;\n    }\n    // We first assign priorities to the reserved snippets.\n    // Then to the remaining candidates.\n    for (const snippet of [...reserved, ...candidates]) {\n        if (processedSnippets.length >= totalPrioritized) {\n            break;\n        }\n        usedBudget = process(snippet, usedBudget);\n    }\n    // Re-sort the list by increasing normalized score\n    sortSnippetsDescending(processedSnippets);\n    processedSnippets.reverse();\n    return processedSnippets;\n}\n",
    "import {IndentationTree} from '../indentation/classes';\nimport {clearLabels, visitTree} from '../indentation/manipulation';\nimport {parseTree} from '../indentation/parsing';\n\n/**\n * Returns a list of (startline, endline) pairs representing fixed size windows\n *\n * @param windowLength length of fixed size window\n * @param lines lines to extract fixed size windows from\n * @returns list of (startline, endline) pairs\n */\nexport function getBasicWindowDelineations(windowLength: number, lines: string[]): [number, number][] {\n    const windows: [number, number][] = [];\n    const length = lines.length;\n    if (length == 0) {\n        return [];\n    }\n    if (length < windowLength) {\n        // if not long enough to reach a single window length, return full document\n        return [[0, length]];\n    }\n    for (let startLine = 0; startLine < length - windowLength + 1; startLine++) {\n        windows.push([startLine, startLine + windowLength]);\n    }\n    return windows;\n}\n\n/**\n * Calculate all windows like with the following properties:\n * - they are all of length <= maxLength\n * - they are all of length >= minLength\n *   - except if they are followed by enough blank lines to reach length >= minLength\n * - they are a contiguous subsequence from [parentline, child1, child2, ..., childn]\n * - which neither starts nor ends with a blank line\n * Note that windows of the form \"parent with all its children\" could\n * appear in different ways with that definition,\n * e.g. as \"childi\" of its parent, and as \"parent, child1, ..., childn\" where the parent is itself.\n * Nevertheless, it will only be listed once.\n * @param lines\n */\nexport function getIndentationWindowsDelineations(\n    lines: string[],\n    languageId: string,\n    minLength: number,\n    maxLength: number\n): [number, number][] {\n    // Deal with degenerate cases\n    if (lines.length < minLength || maxLength == 0) {\n        return [];\n    }\n\n    const windows: [number, number][] = [];\n    // For each node, keep track of how long its children extend, or whether it can't be included in a window anyhow\n    type TreeLabel = {totalLength: number; firstLineAfter: number};\n    // Todo: add groupBlocks here as well\n    const labeledTree = clearLabels(parseTree(lines.join('\\n'), languageId)) as IndentationTree<TreeLabel>;\n    visitTree(\n        labeledTree,\n        node => {\n            if (node.type === 'blank') {\n                node.label = {totalLength: 1, firstLineAfter: node.lineNumber + 1};\n                return;\n            }\n            // Statistics to gather on the way, to be consumed by parents\n            let totalLength = node.type === 'line' ? 1 : 0;\n            let firstLineAfter = node.type === 'line' ? node.lineNumber + 1 : NaN;\n            // we consider intervals [a, b] which correspond to including children number a (-1 means parent) through b exclusive.\n            // the window start and end lines are computed here, such that startLine (inclusive) to endLine (exclusive) covers the window\n            function getStartLine(a: number) {\n                return a == -1\n                    ? firstLineAfter - totalLength\n                    : node.subs[a].label!.firstLineAfter - node.subs[a].label!.totalLength;\n            }\n            function getEndLine(b: number, startLine: number) {\n                return b == 0 ? startLine + 1 : node.subs[b - 1].label!.firstLineAfter;\n            }\n            // iteratively go through candidates for [a, b[:\n            // if from a to including b would be too long, add the window a to b exclusive and increase a as far as necessary, otherwise increase b\n            // a = -1 will mean: include the parent\n            let a = node.type === 'line' ? -1 : 0; // if the parent is a line, consider using it\n            let lengthFromAToBInclusive = node.type === 'line' ? 1 : 0; // if so, the length is 1, otherwise 0\n            let lastBThatWasntABlank = 0;\n            for (let b = 0; b < node.subs.length; b++) {\n                // don't let the window start with blank lines\n                while (a >= 0 && a < node.subs.length && node.subs[a].type === 'blank') {\n                    lengthFromAToBInclusive -= node.subs[a].label!.totalLength;\n                    a++;\n                }\n                if (node.subs[b].type !== 'blank') {\n                    lastBThatWasntABlank = b;\n                }\n                // add subs[b] to the window\n                firstLineAfter = node.subs[b].label!.firstLineAfter;\n                totalLength += node.subs[b].label!.totalLength;\n                lengthFromAToBInclusive += node.subs[b].label!.totalLength;\n                if (lengthFromAToBInclusive > maxLength) {\n                    const startLine = getStartLine(a);\n                    const endLine = getEndLine(b, startLine);\n                    const endLineTrimmedForBlanks =\n                        lastBThatWasntABlank == b ? endLine : getEndLine(lastBThatWasntABlank, startLine);\n                    // for the test, note that blanks count for getting us over the minLength:\n                    if (minLength <= endLine - startLine) {\n                        windows.push([startLine, endLineTrimmedForBlanks]);\n                    }\n                    while (lengthFromAToBInclusive > maxLength) {\n                        // remove subs[a] from the window\n                        lengthFromAToBInclusive -=\n                            a == -1\n                                ? node.type == 'line'\n                                    ? 1\n                                    : // this cannot happen: if not a line, we start with a = 0 unless it's a line\n                                      0\n                                : node.subs[a].label!.totalLength;\n                        a++;\n                    }\n                }\n            }\n            // if there's anything left to add (a < b), do it\n            if (a < node.subs.length) {\n                const startLine = getStartLine(a);\n                const endLine = firstLineAfter;\n                const endLineTrimmedForBlanks =\n                    a == -1 ? endLine : node.subs[lastBThatWasntABlank].label!.firstLineAfter;\n                // note: even if fillUpWindowWithPartOfNextNeighbor is true,\n                // there is no next neighbor here, so nothing to extend the window to\n                if (minLength <= endLine - startLine) {\n                    windows.push([startLine, endLineTrimmedForBlanks]);\n                }\n                // Set the node's label\n            }\n            node.label = {totalLength, firstLineAfter};\n        },\n        'bottomUp'\n    );\n    // windows is an array of [start, end] pairs,\n    // but some may appear twice, and should be removed\n    return windows\n        .sort((a, b) => a[0] - b[0] || a[1] - b[1])\n        .filter((a, i, arr) => i == 0 || a[0] != arr[i - 1][0] || a[1] != arr[i - 1][1]);\n}\n",
    "export interface ScoredSuffix {\n    score: number;\n}\n\nexport function findEditDistanceScore(a: number[], b: number[]): ScoredSuffix {\n    if (a.length === 0 || b.length === 0) {\n        return {score: a.length + b.length};\n    }\n\n    const matrix = Array.from({length: a.length}).map(() => Array.from({length: b.length}).map(() => 0));\n    for (let i = 0; i < a.length; i++) {\n        matrix[i][0] = i;\n    }\n\n    for (let i = 0; i < b.length; i++) {\n        matrix[0][i] = i;\n    }\n\n    for (let j = 0; j < b.length; j++) {\n        for (let i = 0; i < a.length; i++) {\n            matrix[i][j] = Math.min(\n                (i == 0 ? j : matrix[i - 1][j]) + 1,\n                (j == 0 ? i : matrix[i][j - 1]) + 1,\n                (i == 0 || j == 0 ? Math.max(i, j) : matrix[i - 1][j - 1]) + (a[i] == b[j] ? 0 : 1)\n            );\n        }\n    }\n\n    return {score: matrix[a.length - 1][b.length - 1]};\n}\n",
    "export * from './tokenizer';\n",
    "// This file is based on\n//    https://github.com/latitudegames/GPT-3-Encoder\n//    by AIDungeon\n// which is released under the MIT License:\n//\n// MIT License\n//\n// Copyright (c) 2020 AIDungeon\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n// SOFTWARE.\n//\n// The original from https://github.com/latitudegames/GPT-3-Encoder\n// includes code which was modified from https://github.com/openai/gpt-2\n//\n// Important invariants about tokenization:\n// - Tokenization works by a first pass that splits the text into chunks using\n//   the regular expression `pat`.\n// - Each chunk is then split into tokens.\n// - All chunks' tokens are then concatenated to form the complete tokenization.\n// - Newlines appear in only three tokens: \"\\n\", \"\\n\\n\", \"\\n\"+nonbreaking space\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport {TextDecoder, TextEncoder} from 'util';\n\n/////\n// Helper functions\n/////\n\nconst range = (x: number, y: number) => {\n    const res = Array.from(Array(y).keys()).slice(x);\n    return res;\n};\n\nconst ord = (x: string) => {\n    return x.charCodeAt(0);\n};\n\nconst chr = (x: number) => {\n    return String.fromCharCode(x);\n};\n\nconst textDecoder = new TextDecoder('utf-8');\nconst decodeStr = (arr: number[]) => {\n    return textDecoder.decode(new Uint8Array(arr));\n};\n\nconst dictZip = (x: string[], y: number[]) => {\n    const result = new Map<string, number>();\n    x.forEach((_, i) => {\n        result.set(x[i], y[i]);\n    });\n    return result;\n};\n\nfunction bytes_to_unicode(map: Map<number, string>) {\n    const bs = range(ord('!'), ord('~') + 1).concat(range(ord('¡'), ord('¬') + 1), range(ord('®'), ord('ÿ') + 1));\n\n    let cs = bs.slice();\n    let n = 0;\n    for (let b = 0; b < 2 ** 8; b++) {\n        if (!bs.includes(b)) {\n            bs.push(b);\n            cs.push(2 ** 8 + n);\n            n = n + 1;\n        }\n    }\n\n    const cs_ = cs.map(x => chr(x));\n    for (let i = 0; i < bs.length; i++) {\n        map.set(bs[i], cs_[i]);\n    }\n}\n\nfunction get_char_pairs(word: string[]): Set<[string, string]> {\n    const pairs = new Set<[string, string]>();\n    let prev_char = word[0];\n    for (let i = 1; i < word.length; i++) {\n        const char = word[i];\n        pairs.add([prev_char, char]);\n        prev_char = char;\n    }\n    return pairs;\n}\n\nconst pat = /'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+/gu;\n\nexport interface Tokenizer {\n    /**\n     * Returns the tokenization of the input string as a list of integers\n     * representing tokens.\n     */\n    tokenize(text: string): Array<number>;\n\n    /**\n     * Returns the string representation of the tokens in `tokens`, given in integer\n     * representation.\n     *\n     * This is the functional inverse of `tokenize`.\n     */\n    detokenize(tokens: number[]): string;\n\n    /**\n     * Returns the tokenization of the input string as a list of strings.\n     *\n     * The concatenation of the output of this function is equal to the input.\n     */\n    tokenizeStrings(text: string): string[];\n\n    /**\n     * Return the length of `text` in number of tokens.\n     *\n     * @param {str} text - The input text\n     * @returns {number}\n     */\n    tokenLength(text: string): number;\n\n    /**\n     * Return a suffix of `text` which is `n` tokens long.\n     * If `text` is at most `n` tokens, return `text`.\n     *\n     * Note: This implementation does not attempt to return\n     * the longest possible suffix, only *some* suffix of at\n     * most `n` tokens.\n     *\n     * @param {string} text - The text from which to take\n     * @param {number} n - How many tokens to take\n     * @returns A suffix of `text`, as a `string`.\n     */\n    takeLastTokens(text: string, n: number): string;\n\n    /**\n     * Return a prefix of `text` which is `n` tokens long.\n     * If `text` is at most `n` tokens, return `text`.\n     *\n     * Note: This implementation does not attempt to return\n     * the longest possible prefix, only *some* prefix of at\n     * most `n` tokens.\n     *\n     * @param {string} text - The text from which to take\n     * @param {number} n - How many tokens to take\n     * @returns A prefix of `text`, as a `{ text: string, tokens: number[] }`.\n     */\n    takeFirstTokens(text: string, n: number): {text: string; tokens: number[]};\n\n    /**\n     * Return the longest suffix of `text` of complete lines and is at most\n     * `n` tokens long.\n     * @param {string} text - The text from which to take\n     * @param {number} n - How many tokens to take\n     */\n    takeLastLinesTokens(text: string, n: number): string;\n}\n\nexport enum TokenizerName {\n    cushman001 = 'cushman001',\n    cushman002 = 'cushman002',\n    mock = 'mock',\n}\n\nconst tokenizers = new Map<TokenizerName, Tokenizer>();\n\nexport function getTokenizer(name: TokenizerName = TokenizerName.cushman002): Tokenizer {\n    let tokenizer = tokenizers.get(name);\n    if (tokenizer !== undefined) {\n        return tokenizer;\n    }\n\n    if (name === TokenizerName.mock) {\n        tokenizer = new MockTokenizer();\n    } else {\n        tokenizer = new BPETokenizer(name);\n    }\n    tokenizers.set(name, tokenizer);\n    return tokenizer;\n}\n\nclass BPETokenizer implements Tokenizer {\n    private decoder = new Map<number, string>();\n    private encoder: Map<string, number>;\n    private bpe_ranks: Map<string, number>;\n    private byte_encoder = new Map<number, string>();\n    private byte_decoder = new Map<string, number>();\n    private cache = new Map();\n\n    private textEncoder = new TextEncoder();\n\n    constructor(name: Exclude<TokenizerName, TokenizerName.mock> = TokenizerName.cushman002) {\n        let VOCAB = '';\n        let ENCODER = '';\n        if (name === TokenizerName.cushman001) {\n            VOCAB = 'vocab_cushman001.bpe';\n            ENCODER = 'tokenizer_cushman001.json';\n        } else if (name === TokenizerName.cushman002) {\n            VOCAB = 'vocab_cushman002.bpe';\n            ENCODER = 'tokenizer_cushman002.json';\n        } else {\n            throw new Error(`Unknown tokenizer name: ${name}`);\n        }\n        const encoder_path = fs.readFileSync(path.resolve(__dirname, 'resources', name, ENCODER));\n        const encoder_json = JSON.parse(encoder_path.toString());\n        this.encoder = new Map(Object.entries(encoder_json));\n        for (let [key, value] of this.encoder) {\n            this.decoder.set(value, key);\n        }\n\n        const bpe_file = fs.readFileSync(path.resolve(__dirname, 'resources', name, VOCAB), 'utf-8');\n        const bpe_merges = bpe_file\n            .split('\\n')\n            .slice(1)\n            .filter(l => l.trim().length > 0);\n        this.bpe_ranks = dictZip(bpe_merges, range(0, bpe_merges.length));\n\n        bytes_to_unicode(this.byte_encoder);\n        this.byte_encoder.forEach((value, key, _) => {\n            this.byte_decoder.set(value, key);\n        });\n    }\n\n    private encodeStr = (str: string): number[] => {\n        return Array.from(this.textEncoder.encode(str));\n    };\n\n    private byteEncodeStr(s: string) {\n        return this.encodeStr(s).map(x => this.byte_encoder.get(x)!);\n    }\n\n    private mutatingConcat(dest: any[], src: any[]): any[] {\n        for (let i = 0; i < src.length; i++) {\n            dest.push(src[i]);\n        }\n        return dest;\n    }\n\n    private bpe(chunk: string): number[] {\n        if (this.cache.has(chunk)) {\n            return this.cache.get(chunk);\n        }\n        let bytes = this.byteEncodeStr(chunk);\n        let pairs = get_char_pairs(bytes);\n        if (!pairs) {\n            return bytes.map(x => this.encoder.get(x)!);\n        }\n\n        while (true) {\n            const minPairs = new Map<Number, [string, string]>();\n            pairs.forEach(pair => {\n                const joined_pair = pair.join(' ');\n                const rank = this.bpe_ranks.get(joined_pair);\n                minPairs.set(rank === undefined || isNaN(rank) ? 10e10 : rank, pair);\n            });\n\n            const minPairsKeys = Array.from(minPairs.keys()).map(x => Number(x));\n\n            const bigram = minPairs.get(Math.min(...minPairsKeys));\n\n            if (!bigram || !this.bpe_ranks.has(bigram.join(' '))) {\n                break;\n            }\n\n            const first = bigram[0];\n            const second = bigram[1];\n            let new_bytes = [];\n            let i = 0;\n\n            while (i < bytes.length) {\n                const j = bytes.indexOf(first, i);\n                if (j === -1) {\n                    this.mutatingConcat(new_bytes, bytes.slice(i));\n                    break;\n                }\n                this.mutatingConcat(new_bytes, bytes.slice(i, j));\n                i = j;\n\n                if (bytes[i] === first && i < bytes.length - 1 && bytes[i + 1] === second) {\n                    new_bytes.push(first + second);\n                    i = i + 2;\n                } else {\n                    new_bytes.push(bytes[i]);\n                    i = i + 1;\n                }\n            }\n\n            bytes = new_bytes;\n            if (bytes.length === 1) {\n                break;\n            } else {\n                pairs = get_char_pairs(bytes);\n            }\n        }\n\n        const tokens = bytes.map(x => this.encoder.get(x)!);\n        this.cache.set(chunk, tokens);\n        return tokens;\n    }\n\n    tokenize(text: string): number[] {\n        let tokens: number[] = [];\n        const matches = Array.from(text.matchAll(pat)).map(x => x[0]);\n        for (let chunk of matches) {\n            const chunk_tokens = this.bpe(chunk);\n            this.mutatingConcat(tokens, chunk_tokens);\n        }\n        return tokens;\n    }\n\n    tokenLength(text: string): number {\n        return this.tokenize(text).length;\n    }\n\n    takeLastTokens(text: string, n: number): string {\n        if (n <= 0) return '';\n\n        // Find long enough suffix of text that has >= n + 2 tokens\n        // We add the 2 extra tokens to avoid the edge case where\n        // we cut at exactly n tokens and may get an odd tokenization.\n        const CHARS_PER_TOKENS_START = 4;\n        const CHARS_PER_TOKENS_ADD = 1;\n        let chars = Math.min(text.length, n * CHARS_PER_TOKENS_START); //First guess\n        let suffix = text.slice(-chars);\n        let suffixT = this.tokenize(suffix);\n        while (suffixT.length < n + 2 && chars < text.length) {\n            chars = Math.min(text.length, chars + n * CHARS_PER_TOKENS_ADD);\n            suffix = text.slice(-chars);\n            suffixT = this.tokenize(suffix);\n        }\n        if (suffixT.length < n) {\n            // text must be <= n tokens long\n            return text;\n        }\n        // Return last n tokens\n        suffixT = suffixT.slice(-n);\n        return this.detokenize(suffixT);\n    }\n\n    takeFirstTokens(text: string, n: number): {text: string; tokens: number[]} {\n        if (n <= 0) return {text: '', tokens: []};\n\n        // Find long enough suffix of text that has >= n + 2 tokens\n        // We add the 2 extra tokens to avoid the edge case where\n        // we cut at exactly n tokens and may get an odd tokenization.\n        const CHARS_PER_TOKENS_START = 4;\n        const CHARS_PER_TOKENS_ADD = 1;\n        let chars = Math.min(text.length, n * CHARS_PER_TOKENS_START); //First guess\n        let prefix = text.slice(0, chars);\n        let prefix_t = this.tokenize(prefix);\n        while (prefix_t.length < n + 2 && chars < text.length) {\n            chars = Math.min(text.length, chars + n * CHARS_PER_TOKENS_ADD);\n            prefix = text.slice(0, chars);\n            prefix_t = this.tokenize(prefix);\n        }\n        if (prefix_t.length < n) {\n            // text must be <= n tokens long\n            return {\n                text: text,\n                tokens: prefix_t,\n            };\n        }\n        // Return first n tokens\n        prefix_t = prefix_t.slice(0, n);\n        return {\n            text: this.detokenize(prefix_t),\n            tokens: prefix_t,\n        };\n    }\n\n    takeLastLinesTokens(text: string, n: number): string {\n        const suffix = this.takeLastTokens(text, n);\n        if (suffix.length === text.length || text[text.length - suffix.length - 1] === '\\n') {\n            // Edge case: We already took whole lines\n            return suffix;\n        }\n        let newline = suffix.indexOf('\\n');\n        return suffix.substring(newline + 1);\n    }\n\n    detokenize(tokens: number[]): string {\n        let text = tokens.map(x => this.decoder.get(x)).join('');\n        text = decodeStr(text.split('').map(x => this.byte_decoder.get(x)!));\n        return text;\n    }\n\n    tokenizeStrings(text: string): string[] {\n        const tokens = this.tokenize(text);\n        return tokens.map(token =>\n            decodeStr(\n                this.decoder\n                    .get(token)!\n                    .split('')\n                    .map(char => this.byte_decoder.get(char)!)\n            )\n        );\n    }\n}\n\nclass MockTokenizer implements Tokenizer {\n    private hash = (str: string) => {\n        let hash = 0;\n        for (let i = 0; i < str.length; i++) {\n            const char = str.charCodeAt(i);\n            hash = (hash << 5) - hash + char;\n            hash &= hash & 0xffff;\n        }\n        return hash;\n    };\n\n    tokenize(text: string): number[] {\n        return this.tokenizeStrings(text).map(this.hash);\n    }\n    detokenize(tokens: number[]): string {\n        return tokens.map(token => token.toString()).join(' ');\n    }\n    tokenizeStrings(text: string): string[] {\n        return text.split(/\\b/);\n    }\n    tokenLength(text: string): number {\n        return this.tokenizeStrings(text).length;\n    }\n    takeLastTokens(text: string, n: number): string {\n        return this.tokenizeStrings(text).slice(-n).join('');\n    }\n    takeFirstTokens(text: string, n: number): {text: string; tokens: number[]} {\n        const tokens = this.tokenizeStrings(text).slice(0, n);\n        return {text: tokens.join(''), tokens: tokens.map(this.hash)};\n    }\n    takeLastLinesTokens(text: string, n: number): string {\n        const suffix = this.takeLastTokens(text, n);\n        if (suffix.length === text.length || text[text.length - suffix.length - 1] === '\\n') {\n            // Edge case: We already took whole lines\n            return suffix;\n        }\n        let newline = suffix.indexOf('\\n');\n        return suffix.substring(newline + 1);\n    }\n}\n",
    "import {LineEndingOptions, PromptInfo} from './prompt';\nimport {Tokenizer} from './tokenization';\n\nexport enum PromptElementKind {\n    BeforeCursor = 'BeforeCursor',\n    AfterCursor = 'AfterCursor',\n    SimilarFile = 'SimilarFile',\n    RetrievalSnippet = 'RetrievalSnippet',\n    SymbolDefinition = 'SymbolDefinition',\n    ImportedFile = 'ImportedFile',\n    LanguageMarker = 'LanguageMarker',\n    PathMarker = 'PathMarker',\n}\n\ninterface PromptElement {\n    id: number;\n    kind: PromptElementKind;\n    priority: number;\n    text: string;\n    tokens: number;\n    requires: PromptElement[]; // Elements that must have been selected before this one\n    excludes: PromptElement[]; // Elements that will be skipped if this one is already selected\n    score: number; // score of the element if exist else set to -1\n}\n\n/**\n * Helper: given a list of indexed items and a target index, return an\n * item of the list with the smallest index that is greater than the target.\n */\nfunction getMinimalGreater<T extends {index: number}>(items: T[], targetIndex: number): T | undefined {\n    let bestIndex: number = Infinity;\n    let best: T | undefined = undefined;\n    for (const elem of items) {\n        if (elem.index > targetIndex && elem.index < bestIndex) {\n            best = elem;\n            bestIndex = elem.index;\n        }\n    }\n    return best;\n}\n\ninterface PromptBackgroundElement {\n    score: string;\n    length: number;\n}\n\nexport class PromptBackground {\n    used: Map<number, PromptBackgroundElement> = new Map<number, PromptBackgroundElement>();\n    unused: Map<number, PromptBackgroundElement> = new Map<number, PromptBackgroundElement>();\n\n    /**\n     * Register the decision to use a certain element in the prompt\n     * @param element The element\n     */\n    markUsed(element: PromptElement): void {\n        if (this.IsSnippet(element)) {\n            this.used.set(element.id, this.convert(element));\n        }\n    }\n\n    /**\n     * Undo the registration\n     * @param element The element\n     */\n    undoMarkUsed(element: PromptElement) {\n        if (this.IsSnippet(element)) {\n            this.used.delete(element.id);\n        }\n    }\n\n    /**\n     * Register the decision against using a certain element in the prompt\n     * @param element The element\n     */\n    markUnused(element: PromptElement): void {\n        if (this.IsSnippet(element)) {\n            this.unused.set(element.id, this.convert(element));\n        }\n    }\n\n    private convert(element: PromptElement): PromptBackgroundElement {\n        return {\n            score: element.score.toFixed(4),\n            length: element.text.length,\n        };\n    }\n\n    private IsSnippet(element: PromptElement): boolean {\n        return element.kind == PromptElementKind.SimilarFile || element.kind == PromptElementKind.RetrievalSnippet;\n    }\n}\n\nexport class PromptChoices {\n    used: Map<PromptElementKind, number> = new Map<PromptElementKind, number>();\n    unused: Map<PromptElementKind, number> = new Map<PromptElementKind, number>();\n\n    /**\n     * Counts how many elements of PromptElementKind were included.\n     * Useful for telemetry.\n     */\n    usedCounts: Map<PromptElementKind, number> = new Map<PromptElementKind, number>();\n    unusedCounts: Map<PromptElementKind, number> = new Map<PromptElementKind, number>();\n\n    /**\n     * Register the decision to use a certain element in the prompt\n     * @param element The element\n     */\n    markUsed(element: PromptElement): void {\n        this.used.set(element.kind, (this.used.get(element.kind) || 0) + element.tokens);\n        this.usedCounts.set(element.kind, (this.usedCounts.get(element.kind) || 0) + 1);\n    }\n\n    /**\n     * Undo the registration\n     * @param element The element\n     */\n    undoMarkUsed(element: PromptElement) {\n        this.used.set(element.kind, (this.used.get(element.kind) || 0) - element.tokens);\n        this.usedCounts.set(element.kind, (this.usedCounts.get(element.kind) || 0) - 1);\n    }\n\n    /**\n     * Register the decision against using a certain element in the prompt\n     * @param element The element\n     */\n    markUnused(element: PromptElement): void {\n        this.unused.set(element.kind, (this.unused.get(element.kind) || 0) + element.tokens);\n        this.unusedCounts.set(element.kind, (this.unusedCounts.get(element.kind) || 0) + 1);\n    }\n}\n\ninterface PromptElementRange {\n    kind: PromptElementKind;\n    start: number;\n    end: number;\n}\n\nexport class PromptElementRanges {\n    ranges = new Array<PromptElementRange>();\n\n    constructor(usedElements: {element: PromptElement; index: number}[]) {\n        /**\n         * Update ranges to reflect character indices of elements used in the prompt\n         */\n        let nextRangeStart: number = 0;\n        let previousKind: PromptElementKind | undefined = undefined;\n\n        for (const {element} of usedElements) {\n            if (element.text.length === 0) {\n                continue;\n            }\n            // We want to merge adjacent elements from BeforeCursor because each line is a separate element\n            if (previousKind === PromptElementKind.BeforeCursor && element.kind === PromptElementKind.BeforeCursor) {\n                this.ranges[this.ranges.length - 1].end += element.text.length;\n            } else {\n                this.ranges.push({\n                    kind: element.kind,\n                    start: nextRangeStart,\n                    end: nextRangeStart + element.text.length,\n                });\n            }\n\n            previousKind = element.kind;\n            nextRangeStart += element.text.length;\n        }\n    }\n}\n\nexport class PromptWishlist {\n    private content: PromptElement[] = [];\n    lineEndingOption: LineEndingOptions;\n\n    /**\n     * An object to keep track of a list of desired prompt elements,\n     * and assemble the prompt text from them.\n     * @param lineEndingOption The line ending option to use\n     */\n    constructor(\n        private readonly tokenizer: Tokenizer,\n        lineEndingOption: LineEndingOptions\n    ) {\n        this.tokenizer = tokenizer;\n        this.lineEndingOption = lineEndingOption;\n    }\n\n    getContent(): PromptElement[] {\n        return [...this.content];\n    }\n\n    private convertLineEndings(text: string) {\n        if (this.lineEndingOption === LineEndingOptions.ConvertToUnix) {\n            text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        }\n        return text;\n    }\n\n    /**\n     * Create a new {@link PromptElement} and add it to the wishlist\n     * @param text The content of the element\n     * @param kind The {@link PromptElementKind} each line will have.\n     * @param priority A number representing the priority (larger means higher).\n     * Priorities can be managed with a {@link Priorities} object.\n     * @param tokens The number of tokens used by the element if tokenzied standalone;\n     * will be computed if not supplied.\n     * @param score The score of the prompt element, default to -1 if not supplied\n     */\n    append(\n        text: string,\n        kind: PromptElementKind,\n        priority: number,\n        tokens: number = this.tokenizer.tokenLength(text),\n        score: number = NaN\n    ): number {\n        text = this.convertLineEndings(text);\n        // make new id\n        const id = this.content.length;\n        this.content.push({id, text, kind, priority, tokens, requires: [], excludes: [], score: score});\n        return id;\n    }\n\n    /**\n     * Append each line of the text as {@link PromptElement} to the wishlist,\n     * such that earlier lines depend on later ones.\n     * @param text The content of the text\n     * @param kind The {@link PromptElementKind} each line will have.\n     * @param priority A number representing the priority (larger means higher) all lines will have.\n     * Since equal priorities are tiebreaked by the order of the lines,\n     * later lines will have a better chance to get into the prompt.\n     * Priorities can be managed with a {@link Priorities} object.\n     */\n    appendLineForLine(text: string, kind: PromptElementKind, priority: number): number[] {\n        text = this.convertLineEndings(text);\n        const rawLines = text.split('\\n');\n        // make sure the lines are \"\\n\"-ended\n        for (let i = 0; i < rawLines.length - 1; i++) {\n            rawLines[i] += '\\n';\n        }\n        const lines: string[] = [];\n        rawLines.forEach((line, i) => {\n            if (line === '\\n' && lines.length > 0 && !lines[lines.length - 1].endsWith('\\n\\n')) {\n                lines[lines.length - 1] += '\\n';\n            } else {\n                lines.push(line);\n            }\n        });\n        const returns: number[] = [];\n        lines.forEach((line, i) => {\n            if (line !== '') {\n                // note that is always true for i < lines.length - 1\n                returns.push(this.append(line, kind, priority));\n                // let earlier lines depend on later ones\n                if (i > 0) {\n                    this.content[this.content.length - 2].requires = [this.content[this.content.length - 1]];\n                }\n            }\n        });\n        return returns;\n    }\n\n    /**\n     * Adds a dependency of the first to the second element,\n     * addressed by ID\n     */\n    require(dependentId: number, dependeeId: number) {\n        const dependent = this.content.find(e => e.id === dependentId);\n        const dependee = this.content.find(e => e.id === dependeeId);\n        if (dependent && dependee) {\n            dependent.requires.push(dependee);\n        }\n    }\n\n    /**\n     * Adds an exclusion:\n     * if the first element is present, the second element won't be added anymore\n     * addressed by ID\n     */\n    exclude(excludingId: number, excludedId: number) {\n        const excluding = this.content.find(e => e.id === excludingId);\n        const excluded = this.content.find(e => e.id === excludedId);\n        if (excluding && excluded) {\n            excluding.excludes.push(excluded);\n        }\n    }\n\n    /**\n     * Return a PromptInfo describing the prompt which _fulfills_ the wishlist:\n     *\n     * That means it has the following properties:\n     * 1. the token length does not exceed maxPromptLength\n     * 2. the order of the elements is as described in the wishlist\n     * 3. pairs of elements such that the higher priority one excludes the lower will not both be selected\n     * 4. elements that depend on another element will only be selected if the other one has higher priority and is selected\n     *\n     * Under all such subsets of the wishlist, it is maximal in the ordering where\n     * set A < set B if there is an element e such that\n     * * e in B and not in A\n     * * B and A do not differ in elements of higher priority than e\n     * * B and A do not differ in elements of equal priority but later position in the wishlist than e\n     *\n     * Implementation note: the condition in 4 that the dependee has higher priority is owing\n     * to the algorithm implementing the wish fulfillment and may either be changed, or\n     * we might remove the possibility to depend on a lower priority element altogether.\n     *\n     * @param maxPromptLength The maximum allowed prompt length in tokens\n     * @returns A {@link PromptInfo} describing the prompt arrived at following the rules given above\n     */\n    fulfill(maxPromptLength: number): PromptInfo {\n        // keep a tally of the choices made\n        const tallyOfChoices = new PromptChoices();\n        const promptBackground = new PromptBackground();\n        // to avoid ties, move the priority of tied elements\n\n        // want to add the highest priorities first,\n        // but the final text should be in the order of the array\n        // to keep track of that, add an index to each element of content\n        const indexedContent = this.content.map((e, i) => {\n            return {element: e, index: i};\n        });\n\n        // sorted by priority -- highest first, in case of a tie: latest first\n        indexedContent.sort((a, b) => {\n            if (a.element.priority === b.element.priority) {\n                return b.index - a.index;\n            }\n            return b.element.priority - a.element.priority;\n        });\n\n        const idsThatHaveAlreadyBeenAdded: Set<number> = new Set<number>();\n        const idsConflictingWithAlreadyAddedIds: Set<number> = new Set<number>();\n        let budgetBreakingElement: {element: PromptElement; index: number} | undefined; // use this to include the first element that breaks the budget\n        const remainingContent: {element: PromptElement; index: number}[] = [];\n        let remainingBudget = maxPromptLength;\n        indexedContent.forEach(e => {\n            const element = e.element;\n            const index = e.index;\n            // we need to have budget, meet the requirements and have not\n            // excluded the element\n            if (\n                remainingBudget >= 0 &&\n                (remainingBudget > 0 || budgetBreakingElement === undefined) &&\n                element.requires.every(r => idsThatHaveAlreadyBeenAdded.has(r.id)) &&\n                !idsConflictingWithAlreadyAddedIds.has(element.id)\n            ) {\n                let budgetUse = element.tokens;\n                // taking care of a bizarre edge case: double new line is a single token\n                // _except_ if the following line starts with non-whitespace\n                const probableNextElem = getMinimalGreater(remainingContent, index)?.element;\n                if (element.text.endsWith('\\n\\n') && probableNextElem && !probableNextElem.text.match(/^\\s/)) {\n                    budgetUse++;\n                }\n                if (remainingBudget >= budgetUse) {\n                    remainingBudget -= budgetUse;\n                    idsThatHaveAlreadyBeenAdded.add(element.id);\n                    element.excludes.forEach(e => idsConflictingWithAlreadyAddedIds.add(e.id));\n                    tallyOfChoices.markUsed(element);\n                    promptBackground.markUsed(element);\n                    remainingContent.push(e);\n                } else {\n                    // remember the element that broke the budget -- we may try whether it can still be included\n                    if (budgetBreakingElement === undefined) {\n                        budgetBreakingElement = e;\n                    } else {\n                        tallyOfChoices.markUnused(e.element);\n                        promptBackground.markUnused(e.element);\n                    }\n                }\n            } else {\n                tallyOfChoices.markUnused(element);\n                promptBackground.markUnused(element);\n            }\n        });\n\n        // The budgeting logic for indexedContent is an approximation that can be\n        // off slightly if the wishlist's order is very different from its priorities.\n        // This may be due to:\n        // * partial lines added together\n        // * double new lines being a single token iff the next line does not start with whitespace\n        //\n        // We need to make sure that on no account can the prompt be too long.\n        // Also, we want to test whether one more element would still fit.\n\n        // Check that we do not go over:\n        remainingContent.sort((a, b) => a.index - b.index);\n        let prompt = remainingContent.reduce((a, b) => a + b.element.text, '');\n        let promptLength = this.tokenizer.tokenLength(prompt);\n        while (promptLength > maxPromptLength) {\n            // take the least priority element and remove it after all\n            remainingContent.sort((a, b) => {\n                // Sort by least priority last, then by lowest index last\n                if (b.element.priority === a.element.priority) {\n                    return b.index - a.index;\n                } else {\n                    return b.element.priority - a.element.priority;\n                }\n            });\n            const removeAfterAll = remainingContent.pop();\n            if (removeAfterAll) {\n                tallyOfChoices.undoMarkUsed(removeAfterAll.element);\n                tallyOfChoices.markUnused(removeAfterAll.element);\n                promptBackground.undoMarkUsed(removeAfterAll.element);\n                promptBackground.markUnused(removeAfterAll.element);\n                // Do not want the headaches that come with removing something\n                // and adding it back again\n                if (budgetBreakingElement !== undefined) {\n                    // We haven't yet marked the budget breaking element as unused\n                    tallyOfChoices.markUnused(budgetBreakingElement.element);\n                    promptBackground.markUnused(budgetBreakingElement.element);\n                }\n                budgetBreakingElement = undefined;\n            }\n            remainingContent.sort((a, b) => a.index - b.index);\n            prompt = remainingContent.reduce((a, b) => a + b.element.text, '');\n            promptLength = this.tokenizer.tokenLength(prompt);\n        }\n\n        // Conversely, check whether we can get in more content\n        // copy the remainingContent:\n        const extendedContent = [...remainingContent];\n        if (budgetBreakingElement !== undefined) {\n            extendedContent.push(budgetBreakingElement);\n            extendedContent.sort((a, b) => a.index - b.index);\n            const prompt = extendedContent.reduce((a, b) => a + b.element.text, '');\n            const promptLength = this.tokenizer.tokenLength(prompt);\n            if (promptLength <= maxPromptLength) {\n                // we can fit more content\n                tallyOfChoices.markUsed(budgetBreakingElement.element);\n                promptBackground.markUsed(budgetBreakingElement.element);\n\n                const promptElementRanges = new PromptElementRanges(extendedContent);\n                return {\n                    prefix: prompt,\n                    suffix: '',\n                    prefixLength: promptLength,\n                    suffixLength: 0,\n                    promptChoices: tallyOfChoices,\n                    promptBackground: promptBackground,\n                    promptElementRanges: promptElementRanges,\n                };\n            } else {\n                // we can't use it\n                tallyOfChoices.markUnused(budgetBreakingElement.element);\n                promptBackground.markUnused(budgetBreakingElement.element);\n            }\n        }\n\n        const promptElementRanges = new PromptElementRanges(remainingContent);\n        return {\n            prefix: prompt,\n            suffix: '',\n            prefixLength: promptLength,\n            suffixLength: 0,\n            promptChoices: tallyOfChoices,\n            promptBackground: promptBackground,\n            promptElementRanges: promptElementRanges,\n        };\n    }\n}\n\n/**\n * A class to keep track of the choices made in a prompt\n * Implementation note:\n * This is fine for now, but repeated calls to justAbove, justBelow, etc.\n * will run into precision problems for >4000 or so priorities.\n */\nexport class Priorities {\n    registeredPriorities = [0, 1];\n    static TOP = 1;\n    static BOTTOM = 0;\n    /**\n     * Register a new priority\n     * @param priority The numerical value\n     * @returns\n     */\n    register(priority: number) {\n        if (priority > Priorities.TOP || priority < Priorities.BOTTOM) {\n            throw new Error('Priority must be between 0 and 1');\n        }\n        this.registeredPriorities.push(priority);\n        return priority;\n    }\n\n    /**\n     * Registers a new priority above the given priorities,\n     * but not above any other registered priority\n     * @param priorities\n     * @returns\n     */\n    justAbove(...priorities: number[]): number {\n        const priority = Math.max(...priorities);\n        const nearestNeighbor = Math.min(...this.registeredPriorities.filter(p => p > priority));\n        return this.register((nearestNeighbor + priority) / 2);\n    }\n\n    /**\n     * Registers a new priority below the given priorities,\n     * but not below any other registered priority\n     * @param priorities\n     * @returns\n     */\n    justBelow(...priorities: number[]): number {\n        const priority = Math.min(...priorities);\n        const nearestNeighbor = Math.max(...this.registeredPriorities.filter(p => p < priority));\n        return this.register((nearestNeighbor + priority) / 2);\n    }\n\n    /**\n     * Verifies that the two priorities are adjacent in the list of priorities,\n     * and returns one in the middle.\n     */\n    between(lower: number, higher: number): number {\n        if (\n            this.registeredPriorities.some(p => p > lower && p < higher) ||\n            !(this.registeredPriorities.includes(lower) && this.registeredPriorities.includes(higher))\n        ) {\n            throw new Error('Priorities must be adjacent in the list of priorities');\n        }\n        return this.register((lower + higher) / 2);\n    }\n}\n",
    "import {resolve} from 'path';\nimport {MessageChannel, MessagePort, Worker, isMainThread, workerData} from 'worker_threads';\nimport {extractLocalImportContext} from './localImportContext';\nimport {NodePosition} from './parse';\nimport {DocumentInfo, DocumentInfoWithOffset, PromptInfo, PromptOptions} from './prompt';\nimport {getNeighborSnippets} from './snippetInclusion/neighboringFiles';\n\n// function used for testing\nexport function sleep(delay: number): Promise<string> {\n    return new Promise(resolve => {\n        var start = new Date().getTime();\n        while (new Date().getTime() < start + delay);\n        resolve(`delay: ${delay}`);\n    });\n}\n\ntype PromiseCallbacks = {resolve: Function; reject: Function};\n\nexport const workerFns = ['getNeighborSnippets', 'extractLocalImportContext', 'sleep'] as const;\nexport type ProxiedFunction = (typeof workerFns)[number];\n/** The interface types appearing in argument or return types of proxiable functions. */\ntype ProxiedInterface = NodePosition | DocumentInfo | DocumentInfoWithOffset | PromptInfo | PromptOptions;\n/**\n * A type that can be copied using the [structured clone algorithm](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm).\n *\n * Note: This is an approximation; it doesn't currently seem to be possible to capture this precisely\n * (https://github.com/microsoft/TypeScript/issues/29941).\n */\ntype CloneableType =\n    // primitives\n    | boolean\n    | number\n    | string\n    | undefined\n    // objects with cloneable properties\n    | {[key in keyof ProxiedInterface]: CloneableType}\n    // arrays with clonable elements\n    | CloneableType[];\n\n/**\n * A class to manage a worker thread and to proxy functions for execution on the worker thread\n *\n * The class gets instantiated on the main thread and is by deafult \"not threaded\". When threading\n * is turned on, the class creates a worker thread containing another instance of itself and does the following:\n *   - the main thread instance overwrites its own methods with the `proxy` functions that delegate to the\n *     functions on the worker instance (this happens according to the `workerFns` list)\n *   - listeners are configured on the worker thread to receive messages from the main thread\n *     containing the names of the functions to execute and their arguments\n *   - listeners are configured on the main thread to receive messages from the worker thread\n *     containing the outputs of the proxy functions\n *\n */\n\nexport class WorkerProxy {\n    private nextHandlerId = 0;\n    private handlers = new Map<number, PromiseCallbacks>();\n    fns = new Map<string, Function>();\n    declare worker: Worker | undefined;\n    declare port: MessagePort;\n\n    // proxy functions\n    extractLocalImportContext = extractLocalImportContext;\n    getNeighborSnippets = getNeighborSnippets;\n    sleep = sleep;\n    // proxy functions end\n\n    constructor() {\n        if (!isMainThread && workerData) {\n            // invoke on the worker thread only\n            this.configureWorkerResponse(workerData.port);\n        }\n    }\n\n    initWorker() {\n        const {port1, port2} = new MessageChannel();\n        this.port = port1;\n        this.worker = new Worker(resolve(__dirname, '..', 'dist', 'workerProxy.js'), {\n            // port2 is the port on which the worker will respond to messages\n            workerData: {port: port2},\n            transferList: [port2],\n        });\n\n        // Add listeners to the main thread\n        this.port.on('message', m => this.handleMessage(m));\n        this.port.on('error', e => this.handleError(e));\n    }\n\n    startThreading() {\n        if (this.worker) {\n            throw new Error('Worker thread already initialized.');\n        }\n        this.proxyFunctions();\n        this.initWorker();\n    }\n\n    stopThreading() {\n        if (this.worker) {\n            this.worker.terminate();\n            this.worker.removeAllListeners();\n            this.worker = undefined;\n            this.unproxyFunctions();\n            this.handlers.clear();\n        }\n    }\n\n    proxyFunctions() {\n        for (const fn of workerFns) {\n            // preserve references to original functions\n            this.fns.set(fn, this[fn]);\n            this.proxy(fn);\n        }\n    }\n\n    unproxyFunctions() {\n        for (const fn of workerFns) {\n            const originalFn = this.fns.get(fn) as WorkerProxy[typeof fn];\n            if (originalFn) {\n                (this[fn] as Function) = originalFn;\n            } else {\n                throw new Error(`Unproxy function not found: ${fn}`);\n            }\n        }\n    }\n\n    /**\n     * the function that executes on the worker thread\n     * sets up listener on the worker to respond to messages sent from the main thread\n     */\n    configureWorkerResponse(port: MessagePort) {\n        this.port = port;\n        this.port.on('message', async ({id, fn, args}: {id: number; fn: ProxiedFunction; args: CloneableType[]}) => {\n            const proxiedFunction = this[fn];\n            if (!proxiedFunction) {\n                throw new Error(`Function not found: ${fn}`);\n            }\n            try {\n                let res = await (proxiedFunction as Function).apply(this, args as Parameters<typeof proxiedFunction>);\n                this.port.postMessage({id, res});\n            } catch (err) {\n                this.port.postMessage({id, err});\n            }\n        });\n    }\n\n    /**\n     * resolve the promise associated with the message id sent to the worker\n     */\n    handleMessage({id, err, res}: {id: number; err: Error; res: any}) {\n        const handler = this.handlers.get(id);\n        if (handler) {\n            this.handlers.delete(id);\n            if (err) {\n                handler.reject(err);\n            } else {\n                handler.resolve(res);\n            }\n        }\n    }\n\n    handleError(maybeError: unknown) {\n        console.log(maybeError);\n        // add the local stack trace to the error so the uncaught exception handler can log where it originated\n        let err;\n        if (maybeError instanceof Error) {\n            err = maybeError;\n            const ourStack = new Error().stack;\n            if (err.stack && ourStack?.match(/^Error\\n/)) {\n                err.stack += ourStack.replace(/^Error/, '');\n            }\n        } else {\n            err = new Error(`Non-error thrown: ${maybeError}`);\n        }\n        for (const handler of this.handlers.values()) {\n            handler.reject(err);\n        }\n        throw err;\n    }\n\n    /**\n     * Wrap function `fn` into a proxy that sends a message\n     * with the function name and arguments to the worker and returns a promise that will be\n     * resolved with the result the worker returns or rejected with any exception the worker\n     * encounters.\n     *\n     * The wrapped function must return a promise, and its arguments and return values must be\n     * primitive values or objects that can be serialized by the worker-threads library.\n     */\n    proxy<T extends ProxiedFunction>(fn: T) {\n        this[fn] = function <R extends CloneableType>(...args: CloneableType[]): Promise<R> {\n            const id = this.nextHandlerId++;\n            return new Promise((resolve, reject) => {\n                this.handlers.set(id, {resolve, reject});\n                this.port?.postMessage({id, fn, args});\n            });\n        };\n    }\n}\n\nexport let workerProxy = new WorkerProxy();\n\n// for testing we need to reset the singleton instance\nexport const reset = () => {\n    workerProxy.stopThreading();\n    workerProxy = new WorkerProxy();\n};\n",
    "var Module=void 0!==Module?Module:{},TreeSitter=function(){var initPromise,document=\"object\"==typeof window?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error(\"cannot construct a Parser before calling `init()`\")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise((resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram=\"./this.program\",quit_=(e,t)=>{throw t},ENVIRONMENT_IS_WEB=\"object\"==typeof window,ENVIRONMENT_IS_WORKER=\"function\"==typeof importScripts,ENVIRONMENT_IS_NODE=\"object\"==typeof process&&\"object\"==typeof process.versions&&\"string\"==typeof process.versions.node,scriptDirectory=\"\",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}function logExceptionOnExit(e){if(e instanceof ExitStatus)return;err(\"exiting due to exception: \"+e)}if(ENVIRONMENT_IS_NODE){var fs=require(\"fs\"),nodePath=require(\"path\");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+\"/\":__dirname+\"/\",read_=(e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:\"utf8\")),readBinary=e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},readAsync=(e,t,r)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,(function(e,_){e?r(e):t(_.buffer)}))},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\\\/g,\"/\")),arguments_=process.argv.slice(2),\"undefined\"!=typeof module&&(module.exports=Module),quit_=(e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},Module.inspect=function(){return\"[Emscripten Module object]\"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:void 0!==document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf(\"blob:\")?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1):\"\",read_=e=>{var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=e=>{var t=new XMLHttpRequest;return t.open(\"GET\",e,!1),t.responseType=\"arraybuffer\",t.send(null),new Uint8Array(t.response)}),readAsync=(e,t,r)=>{var _=new XMLHttpRequest;_.open(\"GET\",e,!0),_.responseType=\"arraybuffer\",_.onload=()=>{200==_.status||0==_.status&&_.response?t(_.response):r()},_.onerror=r,_.send(null)},setWindowTitle=e=>document.title=e);var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;\"object\"!=typeof WebAssembly&&abort(\"no native wasm support detected\");var ABORT=!1,EXITSTATUS,UTF8Decoder=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf8\"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,r){for(var _=t+r,n=t;e[n]&&!(n>=_);)++n;if(n-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,n));for(var s=\"\";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192!=(224&a)){var i=63&e[t++];if((a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])<65536)s+=String.fromCharCode(a);else{var l=a-65536;s+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else s+=String.fromCharCode((31&a)<<6|o)}else s+=String.fromCharCode(a)}return s}function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):\"\"}function stringToUTF8Array(e,t,r,_){if(!(_>0))return 0;for(var n=r,s=r+_-1,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(o<=127){if(r>=s)break;t[r++]=o}else if(o<=2047){if(r+1>=s)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(o<=65535){if(r+2>=s)break;t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o}else{if(r+3>=s)break;t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o}}return t[r]=0,r-n}function stringToUTF8(e,t,r){return stringToUTF8Array(e,HEAPU8,t,r)}function lengthBytesUTF8(e){for(var t=0,r=0;r<e.length;++r){var _=e.charCodeAt(r);_<=127?t++:_<=2047?t+=2:_>=55296&&_<=57343?(t+=4,++r):t+=3}return t}function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:\"anyfunc\"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for(\"function\"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(\"function\"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e=\"Aborted(\"+e+\")\"),ABORT=!0,EXITSTATUS=1,e+=\". Build with -sASSERTIONS for more info.\",new WebAssembly.RuntimeError(e)}var dataURIPrefix=\"data:application/octet-stream;base64,\",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}function isFileURI(e){return e.startsWith(\"file://\")}function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw\"both async and sync fetching of the wasm failed\"}catch(e){abort(e)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(\"function\"==typeof fetch&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then((function(e){if(!e.ok)throw\"failed to load wasm binary file at '\"+wasmBinaryFile+\"'\";return e.arrayBuffer()})).catch((function(){return getBinary(wasmBinaryFile)}));if(readAsync)return new Promise((function(e,t){readAsync(wasmBinaryFile,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return getBinary(wasmBinaryFile)}))}function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,\"GOT.mem\":new Proxy(asmLibraryArg,GOTHandler),\"GOT.func\":new Proxy(asmLibraryArg,GOTHandler)};function t(e,t){var r=e.exports;r=relocateExports(r,1024);var _=getDylinkMetadata(t);_.neededDynlibs&&(dynamicLibraries=_.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(r,\"main\"),Module.asm=r,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency(\"wasm-instantiate\")}function r(e){t(e.instance,e.module)}function _(t){return getBinaryPromise().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){err(\"failed to asynchronously prepare wasm: \"+e),abort(e)}))}if(addRunDependency(\"wasm-instantiate\"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return err(\"Module.instantiateWasm callback failed with error: \"+e),!1}return wasmBinary||\"function\"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||\"function\"!=typeof fetch?_(r):fetch(wasmBinaryFile,{credentials:\"same-origin\"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return err(\"wasm streaming compile failed: \"+e),err(\"falling back to ArrayBuffer instantiation\"),_(r)}))})),{}}wasmBinaryFile=\"tree-sitter.wasm\",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name=\"ExitStatus\",this.message=\"Program terminated with exit(\"+e+\")\",this.status=e}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(e,t){var r=GOT[t];return r||(r=GOT[t]=new WebAssembly.Global({value:\"i32\",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(r.required=!0),r}};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}function getDylinkMetadata(e){var t=0,r=0;function _(){for(var r=0,_=1;;){var n=e[t++];if(r+=(127&n)*_,_*=128,!(128&n))break}return r}function n(){var r=_();return UTF8ArrayToString(e,(t+=r)-r,r)}function s(e,t){if(e)throw new Error(t)}var a=\"dylink.0\";if(e instanceof WebAssembly.Module){var o=WebAssembly.Module.customSections(e,a);0===o.length&&(a=\"dylink\",o=WebAssembly.Module.customSections(e,a)),s(0===o.length,\"need dylink section\"),r=(e=new Uint8Array(o[0])).length}else{s(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),\"need to see wasm magic number\"),s(0!==e[8],\"need the dylink section to be first\"),t=9;var i=_();r=t+i,a=n()}var l={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(\"dylink\"==a){l.memorySize=_(),l.memoryAlign=_(),l.tableSize=_(),l.tableAlign=_();for(var u=_(),d=0;d<u;++d){var c=n();l.neededDynlibs.push(c)}}else{s(\"dylink.0\"!==a);for(;t<r;){var m=e[t++],p=_();if(1===m)l.memorySize=_(),l.memoryAlign=_(),l.tableSize=_(),l.tableAlign=_();else if(2===m)for(u=_(),d=0;d<u;++d)c=n(),l.neededDynlibs.push(c);else if(3===m)for(var f=_();f--;){var h=n();256&_()&&l.tlsExports.add(h)}else if(4===m)for(f=_();f--;){n(),h=n();1==(3&_())&&l.weakImports.add(h)}else t+=p}}return l}function getValue(e,t=\"i8\"){switch(t.endsWith(\"*\")&&(t=\"*\"),t){case\"i1\":case\"i8\":return HEAP8[e>>0];case\"i16\":return HEAP16[e>>1];case\"i32\":case\"i64\":return HEAP32[e>>2];case\"float\":return HEAPF32[e>>2];case\"double\":return HEAPF64[e>>3];case\"*\":return HEAPU32[e>>2];default:abort(\"invalid type for getValue: \"+t)}return null}function asmjsMangle(e){return 0==e.indexOf(\"dynCall_\")||[\"stackAlloc\",\"stackSave\",\"stackRestore\",\"getTempRet0\",\"setTempRet0\"].includes(e)?e:\"_\"+e}function mergeLibSymbols(e,t){for(var r in e)if(e.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=e[r]);var _=asmjsMangle(r);Module.hasOwnProperty(_)||(Module[_]=e[r]),\"__main_argc_argv\"==r&&(Module._main=e[r])}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,r){var _=Module[\"dynCall_\"+e];return r&&r.length?_.apply(null,[t].concat(r)):_.call(null,t)}var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}function dynCall(e,t,r){return e.includes(\"j\")?dynCallLegacy(e,t,r):getWasmTableEntry(t).apply(null,r)}function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(e){if(stackRestore(t),e!==e+0)throw e;_setThrew(1,0)}}}var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,r=t+e+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,t}function isInternalSym(e){return[\"__cpp_exception\",\"__c_longjmp\",\"__wasm_apply_data_relocs\",\"__dso_handle\",\"__tls_size\",\"__tls_align\",\"__set_stack_limits\",\"_emscripten_tls_init\",\"__wasm_init_tls\",\"__wasm_call_ctors\",\"__start_em_asm\",\"__stop_em_asm\"].includes(e)}function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}function sigToWasmTypes(e){for(var t={i:\"i32\",j:\"i32\",f:\"f32\",d:\"f64\",p:\"i32\"},r={parameters:[],results:\"v\"==e[0]?[]:[t[e[0]]]},_=1;_<e.length;++_)r.parameters.push(t[e[_]]),\"j\"===e[_]&&r.parameters.push(\"i32\");return r}function generateFuncType(e,t){var r=e.slice(0,1),_=e.slice(1),n={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(_.length,t);for(var s=0;s<_.length;++s)t.push(n[_[s]]);\"v\"==r?t.push(0):t.push(1,n[r])}function convertJsFunctionToWasm(e,t){if(\"function\"==typeof WebAssembly.Function)return new WebAssembly.Function(sigToWasmTypes(t),e);var r=[1];generateFuncType(t,r);var _=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,_),_.push.apply(_,r),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var n=new WebAssembly.Module(new Uint8Array(_));return new WebAssembly.Instance(n,{e:{f:e}}).exports.f}function updateTableMap(e,t){if(functionsInTableMap)for(var r=e;r<e+t;r++){var _=getWasmTableEntry(r);_&&functionsInTableMap.set(_,r)}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\"}return wasmTable.length-1}function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var r=getEmptyTableSlot();try{setWasmTableEntry(r,e)}catch(_){if(!(_ instanceof TypeError))throw _;setWasmTableEntry(r,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,r),r}function updateGOT(e,t){for(var r in e)if(!isInternalSym(r)){var _=e[r];r.startsWith(\"orig$\")&&(r=r.split(\"$\")[1],t=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:\"i32\",mutable:!0})),(t||0==GOT[r].value)&&(\"function\"==typeof _?GOT[r].value=addFunction(_):\"number\"==typeof _?GOT[r].value=_:err(\"unhandled export type for `\"+r+\"`: \"+typeof _))}}function relocateExports(e,t,r){var _={};for(var n in e){var s=e[n];\"object\"==typeof s&&(s=s.value),\"number\"==typeof s&&(s+=t),_[n]=s}return updateGOT(_,r),_}function resolveGlobalSymbol(e,t){var r;return t&&(r=asmLibraryArg[\"orig$\"+e]),r||(r=asmLibraryArg[e])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(e)]),!r&&e.startsWith(\"invoke_\")&&(r=createInvokeFunction(e.split(\"_\")[1])),r}function alignMemory(e,t){return Math.ceil(e/t)*t}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(e,t){switch(t){case\"__memory_base\":return memoryBase;case\"__table_base\":return tableBase}if(t in asmLibraryArg)return asmLibraryArg[t];var r;t in e||(e[t]=function(){return r||(r=resolveSymbol(t)),r.apply(null,arguments)});return e[t]}},proxy=new Proxy({},proxyHandler),info={\"GOT.mem\":new Proxy({},GOTHandler),\"GOT.func\":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&-1!=body.indexOf(\"$\"+arity);arity++)args.push(\"$\"+arity);args=args.join(\",\");var func=\"(\"+args+\" ) => { \"+body+\"};\";ASM_CONSTS[start]=eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),\"__start_em_asm\"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then((function(e){return postInstantiation(e.instance)}))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce((function(e,t){return e.then((function(){return loadDynamicLibrary(t,flags)}))}),Promise.resolve()).then((function(){return loadModule()})):(metadata.neededDynlibs.forEach((function(e){loadDynamicLibrary(e,flags)})),loadModule())}function loadDynamicLibrary(e,t,r){t=t||{global:!0,nodelete:!0};var _=LDSO.loadedLibsByName[e];if(_)return t.global&&!_.global&&(_.global=!0,\"loading\"!==_.module&&mergeLibSymbols(_.module,e)),t.nodelete&&_.refcount!==1/0&&(_.refcount=1/0),_.refcount++,r&&(LDSO.loadedLibsByHandle[r]=_),!t.loadAsync||Promise.resolve(!0);function n(e){if(t.fs&&t.fs.findObject(e)){var r=t.fs.readFile(e,{encoding:\"binary\"});return r instanceof Uint8Array||(r=new Uint8Array(r)),t.loadAsync?Promise.resolve(r):r}if(e=locateFile(e),t.loadAsync)return new Promise((function(t,r){readAsync(e,(e=>t(new Uint8Array(e))),r)}));if(!readBinary)throw new Error(e+\": file not found, and synchronous loading of external files is not available\");return readBinary(e)}function s(){if(\"undefined\"!=typeof preloadedWasm&&preloadedWasm[e]){var _=preloadedWasm[e];return t.loadAsync?Promise.resolve(_):_}return t.loadAsync?n(e).then((function(e){return loadWebAssemblyModule(e,t,r)})):loadWebAssemblyModule(n(e),t,r)}function a(t){_.global&&mergeLibSymbols(t,e),_.module=t}return _={refcount:t.nodelete?1/0:1,name:e,module:\"loading\",global:t.global},LDSO.loadedLibsByName[e]=_,r&&(LDSO.loadedLibsByHandle[r]=_),t.loadAsync?s().then((function(e){return a(e),!0})):(a(s()),!0)}function reportUndefinedSymbols(){for(var e in GOT)if(0==GOT[e].value){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if(\"function\"==typeof t)GOT[e].value=addFunction(t,t.sig);else{if(\"number\"!=typeof t)throw new Error(\"bad export type for `\"+e+\"`: \"+typeof t);GOT[e].value=t}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency(\"preloadDylibs\"),dynamicLibraries.reduce((function(e,t){return e.then((function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){reportUndefinedSymbols(),removeRunDependency(\"preloadDylibs\")}))):reportUndefinedSymbols()}function setValue(e,t,r=\"i8\"){switch(r.endsWith(\"*\")&&(r=\"*\"),r){case\"i1\":case\"i8\":HEAP8[e>>0]=t;break;case\"i16\":HEAP16[e>>1]=t;break;case\"i32\":HEAP32[e>>2]=t;break;case\"i64\":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case\"float\":HEAPF32[e>>2]=t;break;case\"double\":HEAPF64[e>>3]=t;break;case\"*\":HEAPU32[e>>2]=t;break;default:abort(\"invalid type for setValue: \"+r)}}var ___memory_base=new WebAssembly.Global({value:\"i32\",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:\"i32\",mutable:!0},78144),___table_base=new WebAssembly.Global({value:\"i32\",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort(\"\")}function _emscripten_date_now(){return Date.now()}function _emscripten_memcpy_big(e,t,r){HEAPU8.copyWithin(e,t,t+r)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(e){}}function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var r=getHeapMax();if(e>r)return!1;for(var _=1;_<=4;_*=2){var n=t*(1+.2/_);if(n=Math.min(n,e+100663296),emscripten_realloc_buffer(Math.min(r,(s=Math.max(e,n))+((a=65536)-s%a)%a)))return!0}var s,a;return!1}__emscripten_get_now_is_monotonic.sig=\"i\",Module._abort=_abort,_abort.sig=\"v\",_emscripten_date_now.sig=\"d\",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig=\"d\",_emscripten_memcpy_big.sig=\"vppp\",_emscripten_resize_heap.sig=\"ip\";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(e,t,r){if(PATH.isAbs(t))return t;var _;-100===e?_=FS.cwd():_=SYSCALLS.getStreamFromFD(e).path;if(0==t.length){if(!r)throw new FS.ErrnoError(44);return _}return PATH.join2(_,t)},doStat:function(e,t,r){try{var _=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-54;throw e}HEAP32[r>>2]=_.dev,HEAP32[r+8>>2]=_.ino,HEAP32[r+12>>2]=_.mode,HEAPU32[r+16>>2]=_.nlink,HEAP32[r+20>>2]=_.uid,HEAP32[r+24>>2]=_.gid,HEAP32[r+28>>2]=_.rdev,tempI64=[_.size>>>0,(tempDouble=_.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=_.blocks;var n=_.atime.getTime(),s=_.mtime.getTime(),a=_.ctime.getTime();return tempI64=[Math.floor(n/1e3)>>>0,(tempDouble=Math.floor(n/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=n%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=s%1e3*1e3,tempI64=[Math.floor(a/1e3)>>>0,(tempDouble=Math.floor(a/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=a%1e3*1e3,tempI64=[_.ino>>>0,(tempDouble=_.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},doMsync:function(e,t,r,_,n){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&_)return 0;var s=HEAPU8.slice(e,e+r);FS.msync(t,s,n,r,_)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(e){return UTF8ToString(e)},getStreamFromFD:function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t}};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}_proc_exit.sig=\"vi\";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(e){if(\"undefined\"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}function _fd_seek(e,t,r,_,n){try{var s=convertI32PairToI53Checked(t,r);if(isNaN(s))return 61;var a=SYSCALLS.getStreamFromFD(e);return FS.llseek(a,s,_),tempI64=[a.position>>>0,(tempDouble=a.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n>>2]=tempI64[0],HEAP32[n+4>>2]=tempI64[1],a.getdents&&0===s&&0===_&&(a.getdents=null),0}catch(e){if(\"undefined\"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function doWritev(e,t,r,_){for(var n=0,s=0;s<r;s++){var a=HEAPU32[t>>2],o=HEAPU32[t+4>>2];t+=8;var i=FS.write(e,HEAP8,a,o,_);if(i<0)return-1;n+=i,void 0!==_&&(_+=i)}return n}function _fd_write(e,t,r,_){try{var n=doWritev(SYSCALLS.getStreamFromFD(e),t,r);return HEAPU32[_>>2]=n,0}catch(e){if(\"undefined\"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function _tree_sitter_log_callback(e,t){if(currentLogCallback){const r=UTF8ToString(t);currentLogCallback(r,0!==e)}}function _tree_sitter_parse_callback(e,t,r,_,n){var s=currentParseCallback(t,{row:r,column:_});\"string\"==typeof s?(setValue(n,s.length,\"i32\"),stringToUTF16(s,e,10240)):setValue(n,0,\"i32\")}function handleException(e){if(e instanceof ExitStatus||\"unwind\"==e)return EXITSTATUS;quit_(1,e)}function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,r=stackAlloc(t);return stringToUTF8Array(e,HEAP8,r,t),r}function stringToUTF16(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var _=t,n=(r-=2)<2*e.length?r/2:e.length,s=0;s<n;++s){var a=e.charCodeAt(s);HEAP16[t>>1]=a,t+=2}return HEAP16[t>>1]=0,t-_}function AsciiToString(e){for(var t=\"\";;){var r=HEAPU8[e++>>0];if(!r)return t;t+=String.fromCharCode(r)}}_exit.sig=\"vi\",_fd_close.sig=\"ii\",_fd_seek.sig=\"iijip\",_fd_write.sig=\"iippp\";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var r=e.length,_=stackAlloc(4*(r+1)),n=_>>2;e.forEach((e=>{HEAP32[n++]=allocateUTF8OnStack(e)})),HEAP32[n]=0;try{var s=t(r,_);return exitJS(s,!0),s}catch(e){return handleException(e)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)};var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus(\"Running...\"),setTimeout((function(){setTimeout((function(){Module.setStatus(\"\")}),1),t()}),1)):t()))}if(Module.preInit)for(\"function\"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,\"i32\"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,\"i32\"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error(\"Argument must be a Language\");{t=e[0];const r=C._ts_language_version(t);if(r<MIN_COMPATIBLE_VERSION||VERSION<r)throw new Error(`Incompatible language version ${r}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else t=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,r){if(\"string\"==typeof e)currentParseCallback=(t,r,_)=>e.slice(t,_);else{if(\"function\"!=typeof e)throw new Error(\"Argument must be a string or a function\");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let _=0,n=0;if(r&&r.includedRanges){_=r.includedRanges.length,n=C._calloc(_,SIZE_OF_RANGE);let e=n;for(let t=0;t<_;t++)marshalRange(e,r.includedRanges[t]),e+=SIZE_OF_RANGE}const s=C._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,n,_);if(!s)throw currentParseCallback=null,currentLogCallback=null,new Error(\"Parsing failed\");const a=new Tree(INTERNAL,s,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,a}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(\"function\"!=typeof e)throw new Error(\"Logger callback must be a function\")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,r,_){assertInternal(e),this[0]=t,this.language=r,this.textCallback=_}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError(\"Argument must be a Tree\");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=getValue(TRANSFER_BUFFER,\"i32\"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\"),_=new Array(t);if(t>0){let e=r;for(let r=0;r<t;r++)_[r]=unmarshalRange(e),e+=SIZE_OF_RANGE;C._free(r)}return _}}class Node{constructor(e,t){assertInternal(e),this.tree=t}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||\"ERROR\"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),1===C._ts_node_is_named_wasm(this.tree[0])}hasError(){return marshalNode(this),1===C._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return marshalNode(this),1===C._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return marshalNode(this),1===C._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,\"i32\"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\");if(this._children=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._children[t]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,\"i32\"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\");if(this._namedChildren=new Array(e),e>0){let r=t;for(let t=0;t<e;t++)this._namedChildren[t]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(t)}}return this._namedChildren}descendantsOfType(e,t,r){Array.isArray(e)||(e=[e]),t||(t=ZERO_POINT),r||(r=ZERO_POINT);const _=[],n=this.tree.language.types;for(let t=0,r=n.length;t<r;t++)e.includes(n[t])&&_.push(t);const s=C._malloc(SIZE_OF_INT*_.length);for(let e=0,t=_.length;e<t;e++)setValue(s+e*SIZE_OF_INT,_[e],\"i32\");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],s,_.length,t.row,t.column,r.row,r.column);const a=getValue(TRANSFER_BUFFER,\"i32\"),o=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\"),i=new Array(a);if(a>0){let e=o;for(let t=0;t<a;t++)i[t]=unmarshalNode(this.tree,e),e+=SIZE_OF_NODE}return C._free(o),C._free(s),i}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,t=e){if(\"number\"!=typeof e||\"number\"!=typeof t)throw new Error(\"Arguments must be numbers\");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,\"i32\"),setValue(r+SIZE_OF_INT,t,\"i32\"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,t=e){if(\"number\"!=typeof e||\"number\"!=typeof t)throw new Error(\"Arguments must be numbers\");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,\"i32\"),setValue(r+SIZE_OF_INT,t,\"i32\"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error(\"Arguments must be {row, column} objects\");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,t),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error(\"Arguments must be {row, column} objects\");marshalNode(this);let r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,t),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),t=AsciiToString(e);return C._free(e),t}}class TreeCursor{constructor(e,t){assertInternal(e),this.tree=t,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||\"ERROR\"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),t=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,t)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}}class Language{constructor(e,t){assertInternal(e),this[0]=t,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)C._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=UTF8ToString(C._ts_language_symbol_name(this[0],e)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=C._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?UTF8ToString(t):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const r=lengthBytesUTF8(e),_=C._malloc(r+1);stringToUTF8(e,_,r+1);const n=C._ts_language_symbol_for_name(this[0],_,r,t);return C._free(_),n||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=C._ts_language_symbol_name(this[0],e);return t?UTF8ToString(t):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=lengthBytesUTF8(e),r=C._malloc(t+1);stringToUTF8(e,r,t+1);const _=C._ts_query_new(this[0],r,t,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!_){const t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\"),_=UTF8ToString(r,getValue(TRANSFER_BUFFER,\"i32\")).length,n=e.substr(_,100).split(\"\\n\")[0];let s,a=n.match(QUERY_WORD_REGEX)[0];switch(t){case 2:s=new RangeError(`Bad node name '${a}'`);break;case 3:s=new RangeError(`Bad field name '${a}'`);break;case 4:s=new RangeError(`Bad capture name @${a}`);break;case 5:s=new TypeError(`Bad pattern structure at offset ${_}: '${n}'...`),a=\"\";break;default:s=new SyntaxError(`Bad syntax at offset ${_}: '${n}'...`),a=\"\"}throw s.index=_,s.length=a.length,C._free(r),s}const n=C._ts_query_string_count(_),s=C._ts_query_capture_count(_),a=C._ts_query_pattern_count(_),o=new Array(s),i=new Array(n);for(let e=0;e<s;e++){const t=C._ts_query_capture_name_for_id(_,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,\"i32\");o[e]=UTF8ToString(t,r)}for(let e=0;e<n;e++){const t=C._ts_query_string_value_for_id(_,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,\"i32\");i[e]=UTF8ToString(t,r)}const l=new Array(a),u=new Array(a),d=new Array(a),c=new Array(a),m=new Array(a);for(let e=0;e<a;e++){const t=C._ts_query_predicates_for_pattern(_,e,TRANSFER_BUFFER),r=getValue(TRANSFER_BUFFER,\"i32\");c[e]=[],m[e]=[];const n=[];let s=t;for(let t=0;t<r;t++){const t=getValue(s,\"i32\");s+=SIZE_OF_INT;const r=getValue(s,\"i32\");if(s+=SIZE_OF_INT,t===PREDICATE_STEP_TYPE_CAPTURE)n.push({type:\"capture\",name:o[r]});else if(t===PREDICATE_STEP_TYPE_STRING)n.push({type:\"string\",value:i[r]});else if(n.length>0){if(\"string\"!==n[0].type)throw new Error(\"Predicates must begin with a literal value\");const t=n[0].value;let r=!0;switch(t){case\"not-eq?\":r=!1;case\"eq?\":if(3!==n.length)throw new Error(\"Wrong number of arguments to `#eq?` predicate. Expected 2, got \"+(n.length-1));if(\"capture\"!==n[1].type)throw new Error(`First argument of \\`#eq?\\` predicate must be a capture. Got \"${n[1].value}\"`);if(\"capture\"===n[2].type){const t=n[1].name,_=n[2].name;m[e].push((function(e){let n,s;for(const r of e)r.name===t&&(n=r.node),r.name===_&&(s=r.node);return void 0===n||void 0===s||n.text===s.text===r}))}else{const t=n[1].name,_=n[2].value;m[e].push((function(e){for(const n of e)if(n.name===t)return n.node.text===_===r;return!0}))}break;case\"not-match?\":r=!1;case\"match?\":if(3!==n.length)throw new Error(`Wrong number of arguments to \\`#match?\\` predicate. Expected 2, got ${n.length-1}.`);if(\"capture\"!==n[1].type)throw new Error(`First argument of \\`#match?\\` predicate must be a capture. Got \"${n[1].value}\".`);if(\"string\"!==n[2].type)throw new Error(`Second argument of \\`#match?\\` predicate must be a string. Got @${n[2].value}.`);const _=n[1].name,s=new RegExp(n[2].value);m[e].push((function(e){for(const t of e)if(t.name===_)return s.test(t.node.text)===r;return!0}));break;case\"set!\":if(n.length<2||n.length>3)throw new Error(`Wrong number of arguments to \\`#set!\\` predicate. Expected 1 or 2. Got ${n.length-1}.`);if(n.some((e=>\"string\"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.\".');l[e]||(l[e]={}),l[e][n[1].value]=n[2]?n[2].value:null;break;case\"is?\":case\"is-not?\":if(n.length<2||n.length>3)throw new Error(`Wrong number of arguments to \\`#${t}\\` predicate. Expected 1 or 2. Got ${n.length-1}.`);if(n.some((e=>\"string\"!==e.type)))throw new Error(`Arguments to \\`#${t}\\` predicate must be a strings.\".`);const a=\"is?\"===t?u:d;a[e]||(a[e]={}),a[e][n[1].value]=n[2]?n[2].value:null;break;default:c[e].push({operator:t,operands:n.slice(1)})}n.length=0}}Object.freeze(l[e]),Object.freeze(u[e]),Object.freeze(d[e])}return C._free(r),new Query(INTERNAL,_,o,m,c,Object.freeze(l),Object.freeze(u),Object.freeze(d))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if(\"undefined\"!=typeof process&&process.versions&&process.versions.node){const e=require(\"fs\");t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const r=new TextDecoder(\"utf-8\").decode(t);throw new Error(`Language.load failed with status ${e.status}.\\n\\n${r}`)}}))))}const r=\"function\"==typeof loadSideModule?loadSideModule:loadWebAssemblyModule;return t.then((e=>r(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),r=t.find((e=>LANGUAGE_FUNCTION_REGEX.test(e)&&!e.includes(\"external_scanner_\")));r||console.log(`Couldn't find language function in WASM file. Symbols:\\n${JSON.stringify(t,null,2)}`);const _=e[r]();return new Language(INTERNAL,_)}))}}class Query{constructor(e,t,r,_,n,s,a,o){assertInternal(e),this[0]=t,this.captureNames=r,this.textPredicates=_,this.predicates=n,this.setProperties=s,this.assertedProperties=a,this.refutedProperties=o,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,t,r,_){t||(t=ZERO_POINT),r||(r=ZERO_POINT),_||(_={});let n=_.matchLimit;if(void 0===n)n=0;else if(\"number\"!=typeof n)throw new Error(\"Arguments must be numbers\");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,n);const s=getValue(TRANSFER_BUFFER,\"i32\"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\"),o=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,\"i32\"),i=new Array(s);this.exceededMatchLimit=!!o;let l=0,u=a;for(let t=0;t<s;t++){const r=getValue(u,\"i32\");u+=SIZE_OF_INT;const _=getValue(u,\"i32\");u+=SIZE_OF_INT;const n=new Array(_);if(u=unmarshalCaptures(this,e.tree,u,n),this.textPredicates[r].every((e=>e(n)))){i[l++]={pattern:r,captures:n};const e=this.setProperties[r];e&&(i[t].setProperties=e);const _=this.assertedProperties[r];_&&(i[t].assertedProperties=_);const s=this.refutedProperties[r];s&&(i[t].refutedProperties=s)}}return i.length=l,C._free(a),i}captures(e,t,r,_){t||(t=ZERO_POINT),r||(r=ZERO_POINT),_||(_={});let n=_.matchLimit;if(void 0===n)n=0;else if(\"number\"!=typeof n)throw new Error(\"Arguments must be numbers\");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,r.row,r.column,n);const s=getValue(TRANSFER_BUFFER,\"i32\"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,\"i32\"),o=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,\"i32\"),i=[];this.exceededMatchLimit=!!o;const l=[];let u=a;for(let t=0;t<s;t++){const t=getValue(u,\"i32\");u+=SIZE_OF_INT;const r=getValue(u,\"i32\");u+=SIZE_OF_INT;const _=getValue(u,\"i32\");if(u+=SIZE_OF_INT,l.length=r,u=unmarshalCaptures(this,e.tree,u,l),this.textPredicates[t].every((e=>e(l)))){const e=l[_],r=this.setProperties[t];r&&(e.setProperties=r);const n=this.assertedProperties[t];n&&(e.assertedProperties=n);const s=this.refutedProperties[t];s&&(e.refutedProperties=s),i.push(e)}}return C._free(a),i}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,r){const _=r-t;let n=e.textCallback(t,null,r);for(t+=n.length;t<r;){const _=e.textCallback(t,null,r);if(!(_&&_.length>0))break;t+=_.length,n+=_}return t>r&&(n=n.slice(0,_)),n}function unmarshalCaptures(e,t,r,_){for(let n=0,s=_.length;n<s;n++){const s=getValue(r,\"i32\"),a=unmarshalNode(t,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,_[n]={name:e.captureNames[s],node:a}}return r}function assertInternal(e){if(e!==INTERNAL)throw new Error(\"Illegal constructor\")}function isPoint(e){return e&&\"number\"==typeof e.row&&\"number\"==typeof e.column}function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,\"i32\"),t+=SIZE_OF_INT,setValue(t,e.startIndex,\"i32\"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,\"i32\"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,\"i32\"),t+=SIZE_OF_INT,setValue(t,e[0],\"i32\")}function unmarshalNode(e,t=TRANSFER_BUFFER){const r=getValue(t,\"i32\");if(0===r)return null;const _=getValue(t+=SIZE_OF_INT,\"i32\"),n=getValue(t+=SIZE_OF_INT,\"i32\"),s=getValue(t+=SIZE_OF_INT,\"i32\"),a=getValue(t+=SIZE_OF_INT,\"i32\"),o=new Node(INTERNAL,e);return o.id=r,o.startIndex=_,o.startPosition={row:n,column:s},o[0]=a,o}function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],\"i32\"),setValue(t+1*SIZE_OF_INT,e[1],\"i32\"),setValue(t+2*SIZE_OF_INT,e[2],\"i32\")}function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,\"i32\"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,\"i32\"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,\"i32\")}function marshalPoint(e,t){setValue(e,t.row,\"i32\"),setValue(e+SIZE_OF_INT,t.column,\"i32\")}function unmarshalPoint(e){return{row:getValue(e,\"i32\"),column:getValue(e+SIZE_OF_INT,\"i32\")}}function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,\"i32\"),setValue(e+=SIZE_OF_INT,t.endIndex,\"i32\"),e+=SIZE_OF_INT}function unmarshalRange(e){const t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,\"i32\"),e+=SIZE_OF_INT,t.endIndex=getValue(e,\"i32\"),t}function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,\"i32\"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,\"i32\"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,\"i32\"),t+=SIZE_OF_INT}for(const e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}})))}}return Parser}();\"object\"==typeof exports&&(module.exports=TreeSitter);\n",
    "module.exports = require(\"assert\");",
    "module.exports = require(\"fs\");",
    "module.exports = require(\"path\");",
    "module.exports = require(\"util\");",
    "module.exports = require(\"worker_threads\");",
    "// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n",
    "// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2524);\n"
  ],
  "names": [
    "defaultFileSystem",
    "readFile",
    "uri",
    "async",
    "stat",
    "mtimeMs",
    "ctime",
    "ctimeMs",
    "mtime",
    "size",
    "isVirtual",
    "tree",
    "type",
    "isTop",
    "indentation",
    "subs",
    "label",
    "lineNumber",
    "sourceLine",
    "Error",
    "line",
    "cut",
    "i",
    "length",
    "slice",
    "JSON",
    "parse",
    "stringify",
    "visitTree",
    "visitor",
    "direction",
    "_visit",
    "forEach",
    "subtree",
    "undefined",
    "condition",
    "mapLabels",
    "map",
    "newSubs",
    "sub",
    "shouldContinue",
    "init",
    "accumulator",
    "acc",
    "skip",
    "rebuild",
    "filter",
    "rebuilt",
    "topNode",
    "parseRaw",
    "source",
    "rawLines",
    "split",
    "indentations",
    "match",
    "lines",
    "trimLeft",
    "parseNode",
    "nextLine",
    "parseSubs",
    "lineNode",
    "initialLine",
    "parentIndentation",
    "lastBlank",
    "push",
    "blankNode",
    "parsedLine",
    "labelLines",
    "labelRules",
    "isLine",
    "rule",
    "find",
    "matches",
    "buildLabelRules",
    "ruleMap",
    "Object",
    "keys",
    "key",
    "test",
    "combineClosersAndOpeners",
    "returnTree",
    "rebuildTree",
    "findIndex",
    "lastNew",
    "directOlderSibling",
    "j",
    "isBlank",
    "splice",
    "firstNonVirtual",
    "subsToKeep",
    "subsToWrap",
    "wrappedSubs",
    "virtualNode",
    "clearLabelsIf",
    "arg",
    "isDelimiter",
    "currentBlockIndentation",
    "nodesSinceLastFlush",
    "lastNodeWasDelimiter",
    "flushBlockIntoNewSubs",
    "final",
    "virtual",
    "node",
    "subIsDelimiter",
    "genericLabelRules",
    "opener",
    "closer",
    "LANGUAGE_SPECIFIC_PARSERS",
    "language",
    "parser",
    "languageId",
    "raw",
    "languageSpecificParser",
    "languageCommentMarkers",
    "abap",
    "start",
    "end",
    "bat",
    "bibtex",
    "blade",
    "c",
    "clojure",
    "coffeescript",
    "cpp",
    "csharp",
    "css",
    "dart",
    "dockerfile",
    "elixir",
    "erb",
    "erlang",
    "fsharp",
    "go",
    "groovy",
    "haml",
    "handlebars",
    "haskell",
    "html",
    "ini",
    "java",
    "javascript",
    "javascriptreact",
    "jsonc",
    "jsx",
    "julia",
    "kotlin",
    "latex",
    "less",
    "lua",
    "makefile",
    "markdown",
    "perl",
    "php",
    "powershell",
    "pug",
    "python",
    "ql",
    "r",
    "razor",
    "ruby",
    "rust",
    "sass",
    "scala",
    "scss",
    "shellscript",
    "slim",
    "solidity",
    "sql",
    "stylus",
    "svelte",
    "swift",
    "terraform",
    "tex",
    "typescript",
    "typescriptreact",
    "vb",
    "verilog",
    "vue",
    "xml",
    "xsl",
    "yaml",
    "dontAddLanguageMarker",
    "shebangLines",
    "hasLanguageMarker",
    "startsWith",
    "comment",
    "text",
    "markers",
    "trailingNewline",
    "endsWith",
    "commented",
    "join",
    "doc",
    "indexOf",
    "relativePath",
    "str",
    "resolveLocalTypeScriptImport",
    "importerPath",
    "imp",
    "src",
    "namedChild",
    "extname",
    "dirname",
    "getTypescriptImportedNames",
    "names",
    "importClause",
    "namedImports",
    "namedImport",
    "namedChildren",
    "name",
    "childForFieldName",
    "alias",
    "exportsCache",
    "Map",
    "EXPORTS_CACHE_LOW_WATER_MARK",
    "EXPORTS_CACHE_HIGH_WATER_MARK",
    "extractTypeScriptDeclaration",
    "srcString",
    "defn",
    "decl",
    "extractTypeScriptFunctionDeclaration",
    "memberDecls",
    "body",
    "member",
    "extractTypeScriptMemberDeclaration",
    "extractTypeScriptBodyDecls",
    "substring",
    "startIndex",
    "d",
    "endIndex",
    "signature",
    "getDocComment",
    "docCommentNode",
    "getFirstPrecedingComment",
    "firstChild",
    "getIndentation",
    "docComment",
    "inner",
    "getExportedDeclarations",
    "lang",
    "fs",
    "exports",
    "entry",
    "get",
    "toString",
    "parseTreeSitter",
    "em",
    "queryExports",
    "rootNode",
    "ec",
    "captures",
    "exp",
    "hasError",
    "exportedDecl",
    "exportedDecls",
    "set",
    "delete",
    "localImportRegex",
    "localImportContext",
    "lastImportOffset",
    "m",
    "lastImport",
    "lastIndex",
    "exec",
    "newlineAfterLastImport",
    "lastTypeScriptLocalImportOffset",
    "path",
    "resolve",
    "root",
    "imports",
    "toplevelStmt",
    "getTypeScriptImports",
    "srcUri",
    "importedNames",
    "importedName",
    "has",
    "extractTypeScriptLocalImportContext",
    "WASMLanguage",
    "languageIdToWasmLanguageMapping",
    "Python",
    "JavaScript",
    "TypeScript",
    "TSX",
    "Go",
    "Ruby",
    "languageIdToWasmLanguage",
    "jsFunctionQuery",
    "functionQuery",
    "tsx",
    "declaratorWithRequire",
    "commonJsImport",
    "tsImportQueries",
    "importsQuery",
    "jsExportQueries",
    "exportsQuery",
    "globalVarsQuery",
    "jsFunctionTypes",
    "functionTypes",
    "Set",
    "isFunctionParent",
    "nd",
    "parent",
    "loadedLanguages",
    "getLanguage",
    "wasmLanguage",
    "loadedLang",
    "Parser",
    "wasmFile",
    "__dirname",
    "Language",
    "load",
    "loadWasmLanguage",
    "treeSitterLanguage",
    "setLanguage",
    "parsedTree",
    "innerQuery",
    "queries",
    "query",
    "queryFunctions",
    "result",
    "docstringQuery",
    "isFunction",
    "blockNode",
    "check",
    "namedChildCount",
    "declarator",
    "expr",
    "rhs",
    "cur",
    "previousSibling",
    "prev",
    "endPosition",
    "row",
    "startPosition",
    "positions",
    "res",
    "fn",
    "callSiteQuery",
    "docInfo",
    "offset",
    "pretruncateOffset",
    "Math",
    "max",
    "linesBeforeTruncation",
    "callers",
    "resIndex",
    "callerName",
    "callerLineNo",
    "callerStartChar",
    "argsStartIndex",
    "argsEndIndex",
    "cap",
    "capIndex",
    "column",
    "callerLineCol",
    "character",
    "position",
    "cachedSuffix",
    "tokens",
    "LanguageMarkerOption",
    "PathMarkerOption",
    "SnippetPositionOption",
    "SnippetSelectionOption",
    "LocalImportContextOption",
    "LineEndingOptions",
    "SuffixMatchOption",
    "SuffixStartMode",
    "SuffixOption",
    "MAX_PROMPT_LENGTH",
    "MAX_EDIT_DISTANCE_LENGTH",
    "TOKENS_RESERVED_FOR_SUFFIX_ENCODING",
    "DEFAULT_NUM_OF_SNIPPETS",
    "PromptOptions",
    "constructor",
    "options",
    "maxPromptLength",
    "languageMarker",
    "Top",
    "pathMarker",
    "NoContext",
    "snippetPosition",
    "TopOfText",
    "numberOfSnippets",
    "snippetProviderOptions",
    "normalizationFunction",
    "normalizationParams",
    "retrieval",
    "reservedSnippetCount",
    "neighboringTabs",
    "NeighboringTabsOption",
    "Eager",
    "neighboringSnippetTypes",
    "NeighboringSnippetType",
    "NeighboringSnippets",
    "lineEnding",
    "ConvertToUnix",
    "suffixPercent",
    "snippetPercent",
    "suffixStartMode",
    "Cursor",
    "tokenizerName",
    "TokenizerName",
    "cushman001",
    "suffixMatchThreshold",
    "suffixMatchCriteria",
    "Levenshtein",
    "fimSuffixLengthThreshold",
    "cursorSnippetsPickingStrategy",
    "CursorSnippetsPickingStrategy",
    "CursorJaccard",
    "selectionValue",
    "snippetSelection",
    "values",
    "includes",
    "this",
    "newOptions",
    "provider",
    "providerOptions",
    "TopK",
    "snippetSelectionK",
    "languageNormalizationMap",
    "jade",
    "cshtml",
    "normalizeLanguageId",
    "toLowerCase",
    "fileSystem",
    "snippets",
    "completeOptions",
    "tokenizer",
    "getTokenizer",
    "useCachedSuffix",
    "priorities",
    "Priorities",
    "directContextPriority",
    "justBelow",
    "TOP",
    "languageMarkerPriority",
    "Always",
    "pathMarkerPriority",
    "localImportContextPriority",
    "lowSnippetPriority",
    "highSnippetPriority",
    "justAbove",
    "promptWishlist",
    "PromptWishlist",
    "languageMarkerLine",
    "languageSnippet",
    "s",
    "SnippetProviderType",
    "NoMarker",
    "append",
    "snippet",
    "PromptElementKind",
    "LanguageMarker",
    "pathMarkerLine",
    "pathSnippet",
    "Path",
    "PathMarker",
    "localImportSnippet",
    "LocalImportContext",
    "newLineEnded",
    "ImportedFile",
    "addSnippetsNow",
    "budget",
    "round",
    "processSnippetsForWishlist",
    "low",
    "high",
    "kind",
    "SimilarFile",
    "Retrieval",
    "RetrievalSnippet",
    "SymbolDef",
    "SymbolDefinition",
    "announcedSnippet",
    "priority",
    "normalizedScore",
    "source_lines",
    "directContext",
    "DirectlyAboveCursor",
    "lastLineStart",
    "lastIndexOf",
    "directContextBeforePartialLastLine",
    "partialLastLine",
    "appendLineForLine",
    "BeforeCursor",
    "id",
    "AfterCursor",
    "require",
    "exclude",
    "actualSuffix",
    "fulfill",
    "CursorTrimStart",
    "getSiblingFunctionStart",
    "availableTokens",
    "prefixTargetTokens",
    "floor",
    "promptInfo",
    "suffixTargetTokens",
    "prefixLength",
    "suffixText",
    "SiblingBlockTrimStart",
    "trimStart",
    "suffix",
    "takeFirstTokens",
    "Equal",
    "every",
    "v",
    "dist",
    "findEditDistanceScore",
    "score",
    "min",
    "suffixLength",
    "isSupportedLanguageId",
    "startingOffset",
    "descendantForIndex",
    "anc",
    "getAncestorWithSiblingFunctions",
    "sibling",
    "nextSibling",
    "isFunctionDefinition",
    "defaultCursorContextOptions",
    "cushman002",
    "cursorContextOptions",
    "maxLineCount",
    "maxTokenLength",
    "context",
    "lineCount",
    "tokenLength",
    "takeLastLinesTokens",
    "WINDOWED_TOKEN_SET_CACHE",
    "cache",
    "put",
    "value",
    "leavingKey",
    "shift",
    "CustomizedFixedWindowSizeJaccardMatcher",
    "WindowedMatcher",
    "referenceDoc",
    "windowLength",
    "super",
    "getWindowsDelineations",
    "getBasicWindowDelineations",
    "_getCursorContextInfo",
    "getCursorContext",
    "similarityScore",
    "a",
    "b",
    "computeScore",
    "retrieveAllSnippets",
    "objectDoc",
    "sortOption",
    "SortOptions",
    "Descending",
    "candidates",
    "referenceTokens",
    "tokensInWindows",
    "needToComputeTokens",
    "tokenizedLines",
    "tokenize",
    "index",
    "startLine",
    "endLine",
    "entries",
    "tokensInWindow",
    "x",
    "add",
    "sortScoredSnippets",
    "CursorHistoryMatcher",
    "lineCursorHistory",
    "strategy",
    "jaccardMatcher",
    "Ascending",
    "sort",
    "snippetA",
    "snippetB",
    "markerToSnippet",
    "nonOverlappingSnippets",
    "snippetMarker",
    "NeighboringTabs",
    "semantics",
    "SnippetSemantics",
    "Snippet",
    "snippetSelectionOption",
    "BestMatch",
    "bestMatch",
    "findBestMatch",
    "findTopKMatches",
    "CursorOnly",
    "snippetsByCursor",
    "retrieveCursorSnippets",
    "bestCursorScore",
    "bestSnippets",
    "bestInMiddle",
    "bestSnippetsByCursor",
    "bestSnippetsBoundaryByCursor",
    "bestSnippet",
    "JaccardCursor",
    "gatherNonOverlappingSnippets",
    "snippetCandidates",
    "jaccardMap",
    "reduce",
    "topKByJaccard",
    "cursorMap",
    "resortedTopKByJaccard",
    "currentIndex",
    "cursors",
    "pointType",
    "sparsePoints",
    "num",
    "leftBoundary",
    "rightBoundary",
    "numCursors",
    "previousLine",
    "FACTORY",
    "to",
    "FixedWindowSizeJaccardMatcher",
    "FunctionJaccardMatcher",
    "FunctionalMatcher",
    "intersection",
    "neighborOptionToSelection",
    "none",
    "snippetLength",
    "threshold",
    "conservative",
    "medium",
    "eager",
    "eagerButLittle",
    "eagerButMedium",
    "eagerButMuch",
    "retrievalComparable",
    "neighbors",
    "selection",
    "matcher",
    "matcherFactory",
    "NeighboringFunctions",
    "ok",
    "getMatcher",
    "neighbor",
    "concat",
    "findMatches",
    "Promise",
    "Tokenizer",
    "stopsForLanguage",
    "SPECIFIC_STOPS",
    "GENERIC_STOPS",
    "splitIntoWords",
    "getMatchingScore",
    "neighborDoc",
    "neighborDocTokens",
    "neighborFuncs",
    "funcPositions",
    "getFunctionPositions",
    "func_source",
    "getNeighboringFunctions",
    "func",
    "Function",
    "ENGLISH_STOPS",
    "snippetSemanticsToString",
    "Variable",
    "Parameter",
    "Method",
    "Class",
    "Module",
    "Alias",
    "Enum",
    "Interface",
    "announceSnippet",
    "targetDocLanguageId",
    "headlinedSnippet",
    "commentBlockAsSingles",
    "normalizeSnippetScore",
    "providerScore",
    "snippetRem",
    "sortSnippetsDescending",
    "selectSnippets",
    "reserved",
    "normalizedSnippets",
    "snippetsByProvider",
    "_provider",
    "count",
    "remaining",
    "Array",
    "from",
    "flat",
    "totalPrioritized",
    "highPriorityBudget",
    "usedBudget",
    "processedSnippets",
    "nextHighPriority",
    "nextLowPriority",
    "process",
    "announced",
    "reverse",
    "windows",
    "minLength",
    "maxLength",
    "labeledTree",
    "clearLabels",
    "parseTree",
    "totalLength",
    "firstLineAfter",
    "NaN",
    "getStartLine",
    "getEndLine",
    "lengthFromAToBInclusive",
    "lastBThatWasntABlank",
    "endLineTrimmedForBlanks",
    "arr",
    "matrix",
    "range",
    "y",
    "ord",
    "charCodeAt",
    "textDecoder",
    "TextDecoder",
    "decodeStr",
    "decode",
    "Uint8Array",
    "get_char_pairs",
    "word",
    "pairs",
    "prev_char",
    "char",
    "pat",
    "tokenizers",
    "mock",
    "MockTokenizer",
    "BPETokenizer",
    "decoder",
    "byte_encoder",
    "byte_decoder",
    "textEncoder",
    "TextEncoder",
    "encodeStr",
    "encode",
    "VOCAB",
    "ENCODER",
    "encoder_path",
    "readFileSync",
    "encoder_json",
    "encoder",
    "bpe_merges",
    "l",
    "trim",
    "bpe_ranks",
    "_",
    "dictZip",
    "bs",
    "cs",
    "n",
    "cs_",
    "String",
    "fromCharCode",
    "chr",
    "bytes_to_unicode",
    "byteEncodeStr",
    "mutatingConcat",
    "dest",
    "bpe",
    "chunk",
    "bytes",
    "minPairs",
    "pair",
    "joined_pair",
    "rank",
    "isNaN",
    "minPairsKeys",
    "Number",
    "bigram",
    "first",
    "second",
    "new_bytes",
    "matchAll",
    "chunk_tokens",
    "takeLastTokens",
    "chars",
    "suffixT",
    "detokenize",
    "prefix",
    "prefix_t",
    "newline",
    "tokenizeStrings",
    "token",
    "hash",
    "PromptBackground",
    "used",
    "unused",
    "markUsed",
    "element",
    "IsSnippet",
    "convert",
    "undoMarkUsed",
    "markUnused",
    "toFixed",
    "PromptChoices",
    "usedCounts",
    "unusedCounts",
    "PromptElementRanges",
    "usedElements",
    "ranges",
    "previousKind",
    "nextRangeStart",
    "lineEndingOption",
    "content",
    "getContent",
    "convertLineEndings",
    "replace",
    "requires",
    "excludes",
    "returns",
    "dependentId",
    "dependeeId",
    "dependent",
    "e",
    "dependee",
    "excludingId",
    "excludedId",
    "excluding",
    "excluded",
    "tallyOfChoices",
    "promptBackground",
    "indexedContent",
    "idsThatHaveAlreadyBeenAdded",
    "idsConflictingWithAlreadyAddedIds",
    "budgetBreakingElement",
    "remainingContent",
    "remainingBudget",
    "budgetUse",
    "probableNextElem",
    "items",
    "targetIndex",
    "best",
    "bestIndex",
    "Infinity",
    "elem",
    "getMinimalGreater",
    "prompt",
    "promptLength",
    "removeAfterAll",
    "pop",
    "extendedContent",
    "promptElementRanges",
    "promptChoices",
    "registeredPriorities",
    "register",
    "BOTTOM",
    "nearestNeighbor",
    "p",
    "between",
    "lower",
    "higher",
    "some",
    "sleep",
    "delay",
    "Date",
    "getTime",
    "workerFns",
    "WorkerProxy",
    "nextHandlerId",
    "handlers",
    "fns",
    "extractLocalImportContext",
    "getNeighborSnippets",
    "isMainThread",
    "workerData",
    "configureWorkerResponse",
    "port",
    "initWorker",
    "port1",
    "port2",
    "MessageChannel",
    "worker",
    "Worker",
    "transferList",
    "on",
    "handleMessage",
    "handleError",
    "startThreading",
    "proxyFunctions",
    "stopThreading",
    "terminate",
    "removeAllListeners",
    "unproxyFunctions",
    "clear",
    "proxy",
    "originalFn",
    "args",
    "proxiedFunction",
    "apply",
    "postMessage",
    "err",
    "handler",
    "reject",
    "maybeError",
    "console",
    "log",
    "ourStack",
    "stack",
    "workerProxy",
    "reset",
    "TreeSitter",
    "initPromise",
    "document",
    "window",
    "currentScript",
    "initialize",
    "static",
    "moduleOptions",
    "assign",
    "resolveInitPromise",
    "moduleOverrides",
    "arguments_",
    "thisProgram",
    "quit_",
    "t",
    "ENVIRONMENT_IS_WEB",
    "ENVIRONMENT_IS_WORKER",
    "importScripts",
    "ENVIRONMENT_IS_NODE",
    "versions",
    "scriptDirectory",
    "read_",
    "readAsync",
    "readBinary",
    "setWindowTitle",
    "locateFile",
    "logExceptionOnExit",
    "ExitStatus",
    "nodePath",
    "isFileURI",
    "URL",
    "normalize",
    "buffer",
    "argv",
    "module",
    "keepRuntimeAlive",
    "exitCode",
    "exit",
    "inspect",
    "self",
    "location",
    "href",
    "substr",
    "XMLHttpRequest",
    "open",
    "send",
    "responseText",
    "responseType",
    "response",
    "onload",
    "status",
    "onerror",
    "title",
    "out",
    "print",
    "bind",
    "printErr",
    "warn",
    "arguments",
    "quit",
    "STACK_ALIGN",
    "dynamicLibraries",
    "wasmBinary",
    "noExitRuntime",
    "wasmMemory",
    "WebAssembly",
    "abort",
    "ABORT",
    "EXITSTATUS",
    "UTF8Decoder",
    "HEAP8",
    "HEAPU8",
    "HEAP16",
    "HEAPU16",
    "HEAP32",
    "HEAPU32",
    "HEAPF32",
    "HEAPF64",
    "UTF8ArrayToString",
    "subarray",
    "o",
    "UTF8ToString",
    "stringToUTF8Array",
    "stringToUTF8",
    "lengthBytesUTF8",
    "updateGlobalBufferAndViews",
    "Int8Array",
    "Int16Array",
    "Int32Array",
    "Uint16Array",
    "Uint32Array",
    "Float32Array",
    "Float64Array",
    "INITIAL_MEMORY",
    "Memory",
    "initial",
    "maximum",
    "byteLength",
    "wasmTable",
    "Table",
    "__ATPRERUN__",
    "__ATINIT__",
    "__ATMAIN__",
    "__ATPOSTRUN__",
    "__RELOC_FUNCS__",
    "runtimeInitialized",
    "preRun",
    "addOnPreRun",
    "callRuntimeCallbacks",
    "initRuntime",
    "preMain",
    "postRun",
    "addOnPostRun",
    "unshift",
    "addOnInit",
    "runDependencies",
    "runDependencyWatcher",
    "dependenciesFulfilled",
    "addRunDependency",
    "monitorRunDependencies",
    "removeRunDependency",
    "clearInterval",
    "onAbort",
    "RuntimeError",
    "dataURIPrefix",
    "wasmBinaryFile",
    "tempDouble",
    "tempI64",
    "isDataURI",
    "getBinary",
    "getBinaryPromise",
    "fetch",
    "credentials",
    "then",
    "arrayBuffer",
    "catch",
    "createWasm",
    "env",
    "asmLibraryArg",
    "wasi_snapshot_preview1",
    "Proxy",
    "GOTHandler",
    "relocateExports",
    "getDylinkMetadata",
    "neededDynlibs",
    "mergeLibSymbols",
    "asm",
    "__wasm_call_ctors",
    "__wasm_apply_data_relocs",
    "instance",
    "instantiate",
    "instantiateWasm",
    "instantiateStreaming",
    "ASM_CONSTS",
    "message",
    "GOT",
    "CurrentModuleWeakSymbols",
    "Global",
    "mutable",
    "required",
    "customSections",
    "tlsExports",
    "weakImports",
    "memorySize",
    "memoryAlign",
    "tableSize",
    "tableAlign",
    "u",
    "f",
    "h",
    "getValue",
    "asmjsMangle",
    "hasOwnProperty",
    "_main",
    "LDSO",
    "loadedLibsByName",
    "loadedLibsByHandle",
    "dynCallLegacy",
    "call",
    "wasmTableMirror",
    "getWasmTableEntry",
    "dynCall",
    "createInvokeFunction",
    "stackSave",
    "prototype",
    "stackRestore",
    "_setThrew",
    "___heap_base",
    "zeroMemory",
    "fill",
    "getMemory",
    "_malloc",
    "__heap_base",
    "isInternalSym",
    "uleb128Encode",
    "sigToWasmTypes",
    "parameters",
    "results",
    "generateFuncType",
    "convertJsFunctionToWasm",
    "Instance",
    "updateTableMap",
    "functionsInTableMap",
    "freeTableIndexes",
    "getEmptyTableSlot",
    "grow",
    "RangeError",
    "setWasmTableEntry",
    "addFunction",
    "WeakMap",
    "TypeError",
    "updateGOT",
    "resolveGlobalSymbol",
    "stub",
    "alignMemory",
    "ceil",
    "loadWebAssemblyModule",
    "binary",
    "flags",
    "handle",
    "metadata",
    "loadModule",
    "firstLoad",
    "memAlign",
    "pow",
    "memoryBase",
    "tableBase",
    "tableGrowthNeeded",
    "moduleExports",
    "resolveSymbol",
    "proxyHandler",
    "info",
    "postInstantiation",
    "addEmAsm",
    "addr",
    "arity",
    "eval",
    "allowUndefined",
    "reportUndefinedSymbols",
    "__start_em_asm",
    "stop",
    "__stop_em_asm",
    "jsString",
    "applyRelocs",
    "loadAsync",
    "loadDynamicLibrary",
    "global",
    "nodelete",
    "refcount",
    "findObject",
    "encoding",
    "preloadedWasm",
    "sig",
    "preloadDylibs",
    "setValue",
    "abs",
    "___memory_base",
    "___stack_pointer",
    "___table_base",
    "nowIsMonotonic",
    "_emscripten_get_now",
    "__emscripten_get_now_is_monotonic",
    "_abort",
    "_emscripten_date_now",
    "now",
    "_emscripten_memcpy_big",
    "copyWithin",
    "getHeapMax",
    "emscripten_realloc_buffer",
    "_emscripten_resize_heap",
    "hrtime",
    "performance",
    "SYSCALLS",
    "DEFAULT_POLLMASK",
    "calculateAt",
    "PATH",
    "isAbs",
    "FS",
    "cwd",
    "getStreamFromFD",
    "ErrnoError",
    "join2",
    "doStat",
    "getPath",
    "dev",
    "ino",
    "mode",
    "nlink",
    "uid",
    "gid",
    "rdev",
    "blocks",
    "atime",
    "doMsync",
    "isFile",
    "msync",
    "varargs",
    "getStr",
    "getStream",
    "_proc_exit",
    "onExit",
    "exitJS",
    "_exit",
    "_fd_close",
    "close",
    "errno",
    "convertI32PairToI53Checked",
    "_fd_seek",
    "llseek",
    "getdents",
    "doWritev",
    "write",
    "_fd_write",
    "_tree_sitter_log_callback",
    "currentLogCallback",
    "_tree_sitter_parse_callback",
    "currentParseCallback",
    "stringToUTF16",
    "handleException",
    "allocateUTF8OnStack",
    "stackAlloc",
    "AsciiToString",
    "__indirect_function_table",
    "__memory_base",
    "__stack_pointer",
    "__table_base",
    "_emscripten_get_now_is_monotonic",
    "emscripten_get_now",
    "emscripten_memcpy_big",
    "emscripten_resize_heap",
    "fd_close",
    "fd_seek",
    "fd_write",
    "memory",
    "tree_sitter_log_callback",
    "tree_sitter_parse_callback",
    "___wasm_call_ctors",
    "___wasm_apply_data_relocs",
    "malloc",
    "_calloc",
    "calloc",
    "_realloc",
    "realloc",
    "_free",
    "free",
    "_ts_language_symbol_count",
    "ts_language_symbol_count",
    "_ts_language_version",
    "ts_language_version",
    "_ts_language_field_count",
    "ts_language_field_count",
    "_ts_language_symbol_name",
    "ts_language_symbol_name",
    "_ts_language_symbol_for_name",
    "ts_language_symbol_for_name",
    "_ts_language_symbol_type",
    "ts_language_symbol_type",
    "_ts_language_field_name_for_id",
    "ts_language_field_name_for_id",
    "_memset",
    "memset",
    "_memcpy",
    "memcpy",
    "_ts_parser_delete",
    "ts_parser_delete",
    "_ts_parser_reset",
    "ts_parser_reset",
    "_ts_parser_set_language",
    "ts_parser_set_language",
    "_ts_parser_timeout_micros",
    "ts_parser_timeout_micros",
    "_ts_parser_set_timeout_micros",
    "ts_parser_set_timeout_micros",
    "_memmove",
    "memmove",
    "_memcmp",
    "memcmp",
    "_ts_query_new",
    "ts_query_new",
    "_ts_query_delete",
    "ts_query_delete",
    "_iswspace",
    "iswspace",
    "_iswalnum",
    "iswalnum",
    "_ts_query_pattern_count",
    "ts_query_pattern_count",
    "_ts_query_capture_count",
    "ts_query_capture_count",
    "_ts_query_string_count",
    "ts_query_string_count",
    "_ts_query_capture_name_for_id",
    "ts_query_capture_name_for_id",
    "_ts_query_string_value_for_id",
    "ts_query_string_value_for_id",
    "_ts_query_predicates_for_pattern",
    "ts_query_predicates_for_pattern",
    "_ts_tree_copy",
    "ts_tree_copy",
    "_ts_tree_delete",
    "ts_tree_delete",
    "_ts_init",
    "ts_init",
    "_ts_parser_new_wasm",
    "ts_parser_new_wasm",
    "_ts_parser_enable_logger_wasm",
    "ts_parser_enable_logger_wasm",
    "_ts_parser_parse_wasm",
    "ts_parser_parse_wasm",
    "_ts_language_type_is_named_wasm",
    "ts_language_type_is_named_wasm",
    "_ts_language_type_is_visible_wasm",
    "ts_language_type_is_visible_wasm",
    "_ts_tree_root_node_wasm",
    "ts_tree_root_node_wasm",
    "_ts_tree_edit_wasm",
    "ts_tree_edit_wasm",
    "_ts_tree_get_changed_ranges_wasm",
    "ts_tree_get_changed_ranges_wasm",
    "_ts_tree_cursor_new_wasm",
    "ts_tree_cursor_new_wasm",
    "_ts_tree_cursor_delete_wasm",
    "ts_tree_cursor_delete_wasm",
    "_ts_tree_cursor_reset_wasm",
    "ts_tree_cursor_reset_wasm",
    "_ts_tree_cursor_goto_first_child_wasm",
    "ts_tree_cursor_goto_first_child_wasm",
    "_ts_tree_cursor_goto_next_sibling_wasm",
    "ts_tree_cursor_goto_next_sibling_wasm",
    "_ts_tree_cursor_goto_parent_wasm",
    "ts_tree_cursor_goto_parent_wasm",
    "_ts_tree_cursor_current_node_type_id_wasm",
    "ts_tree_cursor_current_node_type_id_wasm",
    "_ts_tree_cursor_current_node_is_named_wasm",
    "ts_tree_cursor_current_node_is_named_wasm",
    "_ts_tree_cursor_current_node_is_missing_wasm",
    "ts_tree_cursor_current_node_is_missing_wasm",
    "_ts_tree_cursor_current_node_id_wasm",
    "ts_tree_cursor_current_node_id_wasm",
    "_ts_tree_cursor_start_position_wasm",
    "ts_tree_cursor_start_position_wasm",
    "_ts_tree_cursor_end_position_wasm",
    "ts_tree_cursor_end_position_wasm",
    "_ts_tree_cursor_start_index_wasm",
    "ts_tree_cursor_start_index_wasm",
    "_ts_tree_cursor_end_index_wasm",
    "ts_tree_cursor_end_index_wasm",
    "_ts_tree_cursor_current_field_id_wasm",
    "ts_tree_cursor_current_field_id_wasm",
    "_ts_tree_cursor_current_node_wasm",
    "ts_tree_cursor_current_node_wasm",
    "_ts_node_symbol_wasm",
    "ts_node_symbol_wasm",
    "_ts_node_child_count_wasm",
    "ts_node_child_count_wasm",
    "_ts_node_named_child_count_wasm",
    "ts_node_named_child_count_wasm",
    "_ts_node_child_wasm",
    "ts_node_child_wasm",
    "_ts_node_named_child_wasm",
    "ts_node_named_child_wasm",
    "_ts_node_child_by_field_id_wasm",
    "ts_node_child_by_field_id_wasm",
    "_ts_node_next_sibling_wasm",
    "ts_node_next_sibling_wasm",
    "_ts_node_prev_sibling_wasm",
    "ts_node_prev_sibling_wasm",
    "_ts_node_next_named_sibling_wasm",
    "ts_node_next_named_sibling_wasm",
    "_ts_node_prev_named_sibling_wasm",
    "ts_node_prev_named_sibling_wasm",
    "_ts_node_parent_wasm",
    "ts_node_parent_wasm",
    "_ts_node_descendant_for_index_wasm",
    "ts_node_descendant_for_index_wasm",
    "_ts_node_named_descendant_for_index_wasm",
    "ts_node_named_descendant_for_index_wasm",
    "_ts_node_descendant_for_position_wasm",
    "ts_node_descendant_for_position_wasm",
    "_ts_node_named_descendant_for_position_wasm",
    "ts_node_named_descendant_for_position_wasm",
    "_ts_node_start_point_wasm",
    "ts_node_start_point_wasm",
    "_ts_node_end_point_wasm",
    "ts_node_end_point_wasm",
    "_ts_node_start_index_wasm",
    "ts_node_start_index_wasm",
    "_ts_node_end_index_wasm",
    "ts_node_end_index_wasm",
    "_ts_node_to_string_wasm",
    "ts_node_to_string_wasm",
    "_ts_node_children_wasm",
    "ts_node_children_wasm",
    "_ts_node_named_children_wasm",
    "ts_node_named_children_wasm",
    "_ts_node_descendants_of_type_wasm",
    "ts_node_descendants_of_type_wasm",
    "_ts_node_is_named_wasm",
    "ts_node_is_named_wasm",
    "_ts_node_has_changes_wasm",
    "ts_node_has_changes_wasm",
    "_ts_node_has_error_wasm",
    "ts_node_has_error_wasm",
    "_ts_node_is_missing_wasm",
    "ts_node_is_missing_wasm",
    "_ts_query_matches_wasm",
    "ts_query_matches_wasm",
    "_ts_query_captures_wasm",
    "ts_query_captures_wasm",
    "___cxa_atexit",
    "__cxa_atexit",
    "_iswdigit",
    "iswdigit",
    "_iswalpha",
    "iswalpha",
    "_iswlower",
    "iswlower",
    "_memchr",
    "memchr",
    "_strlen",
    "strlen",
    "_towupper",
    "towupper",
    "setThrew",
    "__Znwm",
    "_Znwm",
    "__ZdlPv",
    "_ZdlPv",
    "__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev",
    "_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev",
    "__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm",
    "_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm",
    "__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm",
    "_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm",
    "__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm",
    "_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm",
    "__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm",
    "_ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm",
    "__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc",
    "_ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc",
    "__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev",
    "_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev",
    "__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw",
    "_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw",
    "__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw",
    "_ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw",
    "dynCall_jiji",
    "_orig$ts_parser_timeout_micros",
    "orig$ts_parser_timeout_micros",
    "_orig$ts_parser_set_timeout_micros",
    "orig$ts_parser_set_timeout_micros",
    "calledRun",
    "callMain",
    "run",
    "dylibsLoaded",
    "onRuntimeInitialized",
    "shouldRunNow",
    "setStatus",
    "setTimeout",
    "preInit",
    "noInitialRun",
    "C",
    "INTERNAL",
    "SIZE_OF_INT",
    "SIZE_OF_NODE",
    "SIZE_OF_POINT",
    "SIZE_OF_RANGE",
    "ZERO_POINT",
    "QUERY_WORD_REGEX",
    "PREDICATE_STEP_TYPE_CAPTURE",
    "PREDICATE_STEP_TYPE_STRING",
    "LANGUAGE_FUNCTION_REGEX",
    "VERSION",
    "MIN_COMPATIBLE_VERSION",
    "TRANSFER_BUFFER",
    "ParserImpl",
    "logCallback",
    "includedRanges",
    "marshalRange",
    "Tree",
    "setTimeoutMicros",
    "getTimeoutMicros",
    "setLogger",
    "getLogger",
    "assertInternal",
    "textCallback",
    "copy",
    "edit",
    "marshalEdit",
    "unmarshalNode",
    "walk",
    "getChangedRanges",
    "unmarshalRange",
    "Node",
    "typeId",
    "marshalNode",
    "types",
    "unmarshalPoint",
    "getText",
    "isNamed",
    "hasChanges",
    "isMissing",
    "equals",
    "child",
    "childForFieldId",
    "fields",
    "childCount",
    "firstNamedChild",
    "lastChild",
    "lastNamedChild",
    "children",
    "_children",
    "_namedChildren",
    "descendantsOfType",
    "isArray",
    "nextNamedSibling",
    "previousNamedSibling",
    "namedDescendantForIndex",
    "descendantForPosition",
    "isPoint",
    "marshalPoint",
    "namedDescendantForPosition",
    "TreeCursor",
    "unmarshalTreeCursor",
    "marshalTreeCursor",
    "nodeType",
    "nodeTypeId",
    "nodeId",
    "nodeIsNamed",
    "nodeIsMissing",
    "nodeText",
    "currentNode",
    "currentFieldId",
    "currentFieldName",
    "gotoFirstChild",
    "gotoNextSibling",
    "gotoParent",
    "version",
    "fieldCount",
    "fieldIdForName",
    "fieldNameForId",
    "idForNodeType",
    "nodeTypeCount",
    "nodeTypeForId",
    "nodeTypeIsNamed",
    "nodeTypeIsVisible",
    "SyntaxError",
    "RegExp",
    "operator",
    "operands",
    "freeze",
    "Query",
    "loadSideModule",
    "captureNames",
    "textPredicates",
    "predicates",
    "setProperties",
    "assertedProperties",
    "refutedProperties",
    "exceededMatchLimit",
    "matchLimit",
    "unmarshalCaptures",
    "pattern",
    "predicatesForPattern",
    "didExceedMatchLimit",
    "oldEndPosition",
    "newEndPosition",
    "oldEndIndex",
    "newEndIndex",
    "getOwnPropertyNames",
    "defineProperty",
    "enumerable",
    "writable",
    "__webpack_module_cache__",
    "__webpack_require__",
    "moduleId",
    "cachedModule",
    "__webpack_modules__",
    "__webpack_exports__"
  ],
  "sourceRoot": "../prompt/src"
}
