"use strict";var FM=Object.create;var Sg=Object.defineProperty;var OM=Object.getOwnPropertyDescriptor;var MM=Object.getOwnPropertyNames;var UM=Object.getPrototypeOf,qM=Object.prototype.hasOwnProperty;var $M=(e,t,r)=>t in e?Sg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>Sg(e,"name",{value:t,configurable:!0});var v0=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var HM=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of MM(t))!qM.call(e,s)&&s!==r&&Sg(e,s,{get:()=>t[s],enumerable:!(n=OM(t,s))||n.enumerable});return e};var Ai=(e,t,r)=>(r=e!=null?FM(UM(e)):{},HM(t||!e||!e.__esModule?Sg(r,"default",{value:e,enumerable:!0}):r,e));var ta=(e,t,r)=>($M(e,typeof t!="symbol"?t+"":t,r),r),Jx=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var P0=(e,t,r)=>(Jx(e,t,"read from private field"),r?r.call(e):t.get(e)),Yi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ji=(e,t,r,n)=>(Jx(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var ul=(e,t,r)=>(Jx(e,t,"access private method"),r);var $l=v0(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Type=Ee.JsonType=Ee.JavaScriptTypeBuilder=Ee.JsonTypeBuilder=Ee.TypeBuilder=Ee.TypeBuilderError=Ee.TransformEncodeBuilder=Ee.TransformDecodeBuilder=Ee.TemplateLiteralDslParser=Ee.TemplateLiteralGenerator=Ee.TemplateLiteralGeneratorError=Ee.TemplateLiteralFinite=Ee.TemplateLiteralFiniteError=Ee.TemplateLiteralParser=Ee.TemplateLiteralParserError=Ee.TemplateLiteralResolver=Ee.TemplateLiteralPattern=Ee.TemplateLiteralPatternError=Ee.UnionResolver=Ee.KeyArrayResolver=Ee.KeyArrayResolverError=Ee.KeyResolver=Ee.ObjectMap=Ee.Intrinsic=Ee.IndexedAccessor=Ee.TypeClone=Ee.TypeExtends=Ee.TypeExtendsResult=Ee.TypeExtendsError=Ee.ExtendsUndefined=Ee.TypeGuard=Ee.TypeGuardUnknownTypeError=Ee.ValueGuard=Ee.FormatRegistry=Ee.TypeBoxError=Ee.TypeRegistry=Ee.PatternStringExact=Ee.PatternNumberExact=Ee.PatternBooleanExact=Ee.PatternString=Ee.PatternNumber=Ee.PatternBoolean=Ee.Kind=Ee.Hint=Ee.Optional=Ee.Readonly=Ee.Transform=void 0;Ee.Transform=Symbol.for("TypeBox.Transform");Ee.Readonly=Symbol.for("TypeBox.Readonly");Ee.Optional=Symbol.for("TypeBox.Optional");Ee.Hint=Symbol.for("TypeBox.Hint");Ee.Kind=Symbol.for("TypeBox.Kind");Ee.PatternBoolean="(true|false)";Ee.PatternNumber="(0|[1-9][0-9]*)";Ee.PatternString="(.*)";Ee.PatternBooleanExact=`^${Ee.PatternBoolean}$`;Ee.PatternNumberExact=`^${Ee.PatternNumber}$`;Ee.PatternStringExact=`^${Ee.PatternString}$`;var Zx;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(Zx||(Ee.TypeRegistry=Zx={}));var n_=class n_ extends Error{constructor(t){super(t)}};o(n_,"TypeBoxError");var c1=n_;Ee.TypeBoxError=c1;var Bw;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(c){return t.delete(c)}o(s,"Delete"),e.Delete=s;function l(c){return t.has(c)}o(l,"Has"),e.Has=l;function a(c,u){t.set(c,u)}o(a,"Set"),e.Set=a;function f(c){return t.get(c)}o(f,"Get"),e.Get=f})(Bw||(Ee.FormatRegistry=Bw={}));var W0;(function(e){function t(h){return Array.isArray(h)}o(t,"IsArray"),e.IsArray=t;function r(h){return typeof h=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(h){return typeof h=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(h){return h instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function l(h){return h===null}o(l,"IsNull"),e.IsNull=l;function a(h){return typeof h=="number"}o(a,"IsNumber"),e.IsNumber=a;function f(h){return typeof h=="object"&&h!==null}o(f,"IsObject"),e.IsObject=f;function c(h){return typeof h=="string"}o(c,"IsString"),e.IsString=c;function u(h){return h instanceof globalThis.Uint8Array}o(u,"IsUint8Array"),e.IsUint8Array=u;function d(h){return h===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(W0||(Ee.ValueGuard=W0={}));var i_=class i_ extends c1{};o(i_,"TypeGuardUnknownTypeError");var Qx=i_;Ee.TypeGuardUnknownTypeError=Qx;var Me;(function(e){function t(ae){try{return new RegExp(ae),!0}catch{return!1}}o(t,"IsPattern");function r(ae){if(!W0.IsString(ae))return!1;for(let vr=0;vr<ae.length;vr++){let rn=ae.charCodeAt(vr);if(rn>=7&&rn<=13||rn===27||rn===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(ae){return a(ae)||Mt(ae)}o(n,"IsAdditionalProperties");function s(ae){return W0.IsUndefined(ae)||W0.IsBigInt(ae)}o(s,"IsOptionalBigInt");function l(ae){return W0.IsUndefined(ae)||W0.IsNumber(ae)}o(l,"IsOptionalNumber");function a(ae){return W0.IsUndefined(ae)||W0.IsBoolean(ae)}o(a,"IsOptionalBoolean");function f(ae){return W0.IsUndefined(ae)||W0.IsString(ae)}o(f,"IsOptionalString");function c(ae){return W0.IsUndefined(ae)||W0.IsString(ae)&&r(ae)&&t(ae)}o(c,"IsOptionalPattern");function u(ae){return W0.IsUndefined(ae)||W0.IsString(ae)&&r(ae)}o(u,"IsOptionalFormat");function d(ae){return W0.IsUndefined(ae)||Mt(ae)}o(d,"IsOptionalSchema");function h(ae){return $(ae,"Any")&&f(ae.$id)}o(h,"TAny"),e.TAny=h;function p(ae){return $(ae,"Array")&&ae.type==="array"&&f(ae.$id)&&Mt(ae.items)&&l(ae.minItems)&&l(ae.maxItems)&&a(ae.uniqueItems)&&d(ae.contains)&&l(ae.minContains)&&l(ae.maxContains)}o(p,"TArray"),e.TArray=p;function m(ae){return $(ae,"AsyncIterator")&&ae.type==="AsyncIterator"&&f(ae.$id)&&Mt(ae.items)}o(m,"TAsyncIterator"),e.TAsyncIterator=m;function v(ae){return $(ae,"BigInt")&&ae.type==="bigint"&&f(ae.$id)&&s(ae.exclusiveMaximum)&&s(ae.exclusiveMinimum)&&s(ae.maximum)&&s(ae.minimum)&&s(ae.multipleOf)}o(v,"TBigInt"),e.TBigInt=v;function x(ae){return $(ae,"Boolean")&&ae.type==="boolean"&&f(ae.$id)}o(x,"TBoolean"),e.TBoolean=x;function E(ae){return $(ae,"Constructor")&&ae.type==="Constructor"&&f(ae.$id)&&W0.IsArray(ae.parameters)&&ae.parameters.every(vr=>Mt(vr))&&Mt(ae.returns)}o(E,"TConstructor"),e.TConstructor=E;function I(ae){return $(ae,"Date")&&ae.type==="Date"&&f(ae.$id)&&l(ae.exclusiveMaximumTimestamp)&&l(ae.exclusiveMinimumTimestamp)&&l(ae.maximumTimestamp)&&l(ae.minimumTimestamp)&&l(ae.multipleOfTimestamp)}o(I,"TDate"),e.TDate=I;function A(ae){return $(ae,"Function")&&ae.type==="Function"&&f(ae.$id)&&W0.IsArray(ae.parameters)&&ae.parameters.every(vr=>Mt(vr))&&Mt(ae.returns)}o(A,"TFunction"),e.TFunction=A;function L(ae){return $(ae,"Integer")&&ae.type==="integer"&&f(ae.$id)&&l(ae.exclusiveMaximum)&&l(ae.exclusiveMinimum)&&l(ae.maximum)&&l(ae.minimum)&&l(ae.multipleOf)}o(L,"TInteger"),e.TInteger=L;function D(ae){return $(ae,"Intersect")&&!(W0.IsString(ae.type)&&ae.type!=="object")&&W0.IsArray(ae.allOf)&&ae.allOf.every(vr=>Mt(vr)&&!R0(vr))&&f(ae.type)&&(a(ae.unevaluatedProperties)||d(ae.unevaluatedProperties))&&f(ae.$id)}o(D,"TIntersect"),e.TIntersect=D;function k(ae){return $(ae,"Iterator")&&ae.type==="Iterator"&&f(ae.$id)&&Mt(ae.items)}o(k,"TIterator"),e.TIterator=k;function $(ae,vr){return ue(ae)&&ae[Ee.Kind]===vr}o($,"TKindOf"),e.TKindOf=$;function ue(ae){return W0.IsObject(ae)&&Ee.Kind in ae&&W0.IsString(ae[Ee.Kind])}o(ue,"TKind"),e.TKind=ue;function ce(ae){return n0(ae)&&W0.IsString(ae.const)}o(ce,"TLiteralString"),e.TLiteralString=ce;function e0(ae){return n0(ae)&&W0.IsNumber(ae.const)}o(e0,"TLiteralNumber"),e.TLiteralNumber=e0;function d0(ae){return n0(ae)&&W0.IsBoolean(ae.const)}o(d0,"TLiteralBoolean"),e.TLiteralBoolean=d0;function n0(ae){return $(ae,"Literal")&&f(ae.$id)&&(W0.IsBoolean(ae.const)||W0.IsNumber(ae.const)||W0.IsString(ae.const))}o(n0,"TLiteral"),e.TLiteral=n0;function _0(ae){return $(ae,"Never")&&W0.IsObject(ae.not)&&Object.getOwnPropertyNames(ae.not).length===0}o(_0,"TNever"),e.TNever=_0;function je(ae){return $(ae,"Not")&&Mt(ae.not)}o(je,"TNot"),e.TNot=je;function we(ae){return $(ae,"Null")&&ae.type==="null"&&f(ae.$id)}o(we,"TNull"),e.TNull=we;function t0(ae){return $(ae,"Number")&&ae.type==="number"&&f(ae.$id)&&l(ae.exclusiveMaximum)&&l(ae.exclusiveMinimum)&&l(ae.maximum)&&l(ae.minimum)&&l(ae.multipleOf)}o(t0,"TNumber"),e.TNumber=t0;function h0(ae){return $(ae,"Object")&&ae.type==="object"&&f(ae.$id)&&W0.IsObject(ae.properties)&&n(ae.additionalProperties)&&l(ae.minProperties)&&l(ae.maxProperties)&&Object.entries(ae.properties).every(([vr,rn])=>r(vr)&&Mt(rn))}o(h0,"TObject"),e.TObject=h0;function o0(ae){return $(ae,"Promise")&&ae.type==="Promise"&&f(ae.$id)&&Mt(ae.item)}o(o0,"TPromise"),e.TPromise=o0;function l0(ae){return $(ae,"Record")&&ae.type==="object"&&f(ae.$id)&&n(ae.additionalProperties)&&W0.IsObject(ae.patternProperties)&&(vr=>{let rn=Object.getOwnPropertyNames(vr.patternProperties);return rn.length===1&&t(rn[0])&&W0.IsObject(vr.patternProperties)&&Mt(vr.patternProperties[rn[0]])})(ae)}o(l0,"TRecord"),e.TRecord=l0;function s0(ae){return W0.IsObject(ae)&&Ee.Hint in ae&&ae[Ee.Hint]==="Recursive"}o(s0,"TRecursive"),e.TRecursive=s0;function c0(ae){return $(ae,"Ref")&&f(ae.$id)&&W0.IsString(ae.$ref)}o(c0,"TRef"),e.TRef=c0;function _e(ae){return $(ae,"String")&&ae.type==="string"&&f(ae.$id)&&l(ae.minLength)&&l(ae.maxLength)&&c(ae.pattern)&&u(ae.format)}o(_e,"TString"),e.TString=_e;function ve(ae){return $(ae,"Symbol")&&ae.type==="symbol"&&f(ae.$id)}o(ve,"TSymbol"),e.TSymbol=ve;function g0(ae){return $(ae,"TemplateLiteral")&&ae.type==="string"&&W0.IsString(ae.pattern)&&ae.pattern[0]==="^"&&ae.pattern[ae.pattern.length-1]==="$"}o(g0,"TTemplateLiteral"),e.TTemplateLiteral=g0;function N0(ae){return $(ae,"This")&&f(ae.$id)&&W0.IsString(ae.$ref)}o(N0,"TThis"),e.TThis=N0;function R0(ae){return W0.IsObject(ae)&&Ee.Transform in ae}o(R0,"TTransform"),e.TTransform=R0;function A0(ae){return $(ae,"Tuple")&&ae.type==="array"&&f(ae.$id)&&W0.IsNumber(ae.minItems)&&W0.IsNumber(ae.maxItems)&&ae.minItems===ae.maxItems&&(W0.IsUndefined(ae.items)&&W0.IsUndefined(ae.additionalItems)&&ae.minItems===0||W0.IsArray(ae.items)&&ae.items.every(vr=>Mt(vr)))}o(A0,"TTuple"),e.TTuple=A0;function X0(ae){return $(ae,"Undefined")&&ae.type==="undefined"&&f(ae.$id)}o(X0,"TUndefined"),e.TUndefined=X0;function qe(ae){return B0(ae)&&ae.anyOf.every(vr=>ce(vr)||e0(vr))}o(qe,"TUnionLiteral"),e.TUnionLiteral=qe;function B0(ae){return $(ae,"Union")&&f(ae.$id)&&W0.IsObject(ae)&&W0.IsArray(ae.anyOf)&&ae.anyOf.every(vr=>Mt(vr))}o(B0,"TUnion"),e.TUnion=B0;function Ve(ae){return $(ae,"Uint8Array")&&ae.type==="Uint8Array"&&f(ae.$id)&&l(ae.minByteLength)&&l(ae.maxByteLength)}o(Ve,"TUint8Array"),e.TUint8Array=Ve;function U0(ae){return $(ae,"Unknown")&&f(ae.$id)}o(U0,"TUnknown"),e.TUnknown=U0;function D0(ae){return $(ae,"Unsafe")}o(D0,"TUnsafe"),e.TUnsafe=D0;function q0(ae){return $(ae,"Void")&&ae.type==="void"&&f(ae.$id)}o(q0,"TVoid"),e.TVoid=q0;function pr(ae){return W0.IsObject(ae)&&ae[Ee.Readonly]==="Readonly"}o(pr,"TReadonly"),e.TReadonly=pr;function Vr(ae){return W0.IsObject(ae)&&ae[Ee.Optional]==="Optional"}o(Vr,"TOptional"),e.TOptional=Vr;function Mt(ae){return W0.IsObject(ae)&&(h(ae)||p(ae)||x(ae)||v(ae)||m(ae)||E(ae)||I(ae)||A(ae)||L(ae)||D(ae)||k(ae)||n0(ae)||_0(ae)||je(ae)||we(ae)||t0(ae)||h0(ae)||o0(ae)||l0(ae)||c0(ae)||_e(ae)||ve(ae)||g0(ae)||N0(ae)||A0(ae)||X0(ae)||B0(ae)||Ve(ae)||U0(ae)||D0(ae)||q0(ae)||ue(ae)&&Zx.Has(ae[Ee.Kind]))}o(Mt,"TSchema"),e.TSchema=Mt})(Me||(Ee.TypeGuard=Me={}));var Dw;(function(e){function t(r){return r[Ee.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Ee.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Ee.Kind]==="Undefined"?!0:r[Ee.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(Dw||(Ee.ExtendsUndefined=Dw={}));var s_=class s_ extends c1{};o(s_,"TypeExtendsError");var Ig=s_;Ee.TypeExtendsError=Ig;var C0;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(C0||(Ee.TypeExtendsResult=C0={}));var I2;(function(e){function t(se){return se===C0.False?se:C0.True}o(t,"IntoBooleanResult");function r(se){throw new Ig(se)}o(r,"Throw");function n(se){return Me.TNever(se)||Me.TIntersect(se)||Me.TUnion(se)||Me.TUnknown(se)||Me.TAny(se)}o(n,"IsStructuralRight");function s(se,Q){return Me.TNever(Q)?$(se,Q):Me.TIntersect(Q)?A(se,Q):Me.TUnion(Q)?la(se,Q):Me.TUnknown(Q)?fa(se,Q):Me.TAny(Q)?l(se,Q):r("StructuralRight")}o(s,"StructuralRight");function l(se,Q){return C0.True}o(l,"TAnyRight");function a(se,Q){return Me.TIntersect(Q)?A(se,Q):Me.TUnion(Q)&&Q.anyOf.some(sn=>Me.TAny(sn)||Me.TUnknown(sn))?C0.True:Me.TUnion(Q)?C0.Union:Me.TUnknown(Q)||Me.TAny(Q)?C0.True:C0.Union}o(a,"TAny");function f(se,Q){return Me.TUnknown(se)?C0.False:Me.TAny(se)?C0.Union:Me.TNever(se)?C0.True:C0.False}o(f,"TArrayRight");function c(se,Q){return Me.TObject(Q)&&g0(Q)?C0.True:n(Q)?s(se,Q):Me.TArray(Q)?t(_n(se.items,Q.items)):C0.False}o(c,"TArray");function u(se,Q){return n(Q)?s(se,Q):Me.TAsyncIterator(Q)?t(_n(se.items,Q.items)):C0.False}o(u,"TAsyncIterator");function d(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TBigInt(Q)?C0.True:C0.False}o(d,"TBigInt");function h(se,Q){return Me.TLiteral(se)&&W0.IsBoolean(se.const)||Me.TBoolean(se)?C0.True:C0.False}o(h,"TBooleanRight");function p(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TBoolean(Q)?C0.True:C0.False}o(p,"TBoolean");function m(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TConstructor(Q)?se.parameters.length>Q.parameters.length?C0.False:se.parameters.every((sn,Cs)=>t(_n(Q.parameters[Cs],sn))===C0.True)?t(_n(se.returns,Q.returns)):C0.False:C0.False}o(m,"TConstructor");function v(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TDate(Q)?C0.True:C0.False}o(v,"TDate");function x(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TFunction(Q)?se.parameters.length>Q.parameters.length?C0.False:se.parameters.every((sn,Cs)=>t(_n(Q.parameters[Cs],sn))===C0.True)?t(_n(se.returns,Q.returns)):C0.False:C0.False}o(x,"TFunction");function E(se,Q){return Me.TLiteral(se)&&W0.IsNumber(se.const)||Me.TNumber(se)||Me.TInteger(se)?C0.True:C0.False}o(E,"TIntegerRight");function I(se,Q){return Me.TInteger(Q)||Me.TNumber(Q)?C0.True:n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):C0.False}o(I,"TInteger");function A(se,Q){return Q.allOf.every(sn=>_n(se,sn)===C0.True)?C0.True:C0.False}o(A,"TIntersectRight");function L(se,Q){return se.allOf.some(sn=>_n(sn,Q)===C0.True)?C0.True:C0.False}o(L,"TIntersect");function D(se,Q){return n(Q)?s(se,Q):Me.TIterator(Q)?t(_n(se.items,Q.items)):C0.False}o(D,"TIterator");function k(se,Q){return Me.TLiteral(Q)&&Q.const===se.const?C0.True:n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TString(Q)?q0(se,Q):Me.TNumber(Q)?n0(se,Q):Me.TInteger(Q)?E(se,Q):Me.TBoolean(Q)?h(se,Q):C0.False}o(k,"TLiteral");function $(se,Q){return C0.False}o($,"TNeverRight");function ue(se,Q){return C0.True}o(ue,"TNever");function ce(se){let[Q,sn]=[se,0];for(;Me.TNot(Q);)Q=Q.not,sn+=1;return sn%2===0?Q:Ee.Type.Unknown()}o(ce,"UnwrapTNot");function e0(se,Q){return Me.TNot(se)?_n(ce(se),Q):Me.TNot(Q)?_n(se,ce(Q)):r("Invalid fallthrough for Not")}o(e0,"TNot");function d0(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TNull(Q)?C0.True:C0.False}o(d0,"TNull");function n0(se,Q){return Me.TLiteralNumber(se)||Me.TNumber(se)||Me.TInteger(se)?C0.True:C0.False}o(n0,"TNumberRight");function _0(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TInteger(Q)||Me.TNumber(Q)?C0.True:C0.False}o(_0,"TNumber");function je(se,Q){return Object.getOwnPropertyNames(se.properties).length===Q}o(je,"IsObjectPropertyCount");function we(se){return g0(se)}o(we,"IsObjectStringLike");function t0(se){return je(se,0)||je(se,1)&&"description"in se.properties&&Me.TUnion(se.properties.description)&&se.properties.description.anyOf.length===2&&(Me.TString(se.properties.description.anyOf[0])&&Me.TUndefined(se.properties.description.anyOf[1])||Me.TString(se.properties.description.anyOf[1])&&Me.TUndefined(se.properties.description.anyOf[0]))}o(t0,"IsObjectSymbolLike");function h0(se){return je(se,0)}o(h0,"IsObjectNumberLike");function o0(se){return je(se,0)}o(o0,"IsObjectBooleanLike");function l0(se){return je(se,0)}o(l0,"IsObjectBigIntLike");function s0(se){return je(se,0)}o(s0,"IsObjectDateLike");function c0(se){return g0(se)}o(c0,"IsObjectUint8ArrayLike");function _e(se){let Q=Ee.Type.Number();return je(se,0)||je(se,1)&&"length"in se.properties&&t(_n(se.properties.length,Q))===C0.True}o(_e,"IsObjectFunctionLike");function ve(se){return je(se,0)}o(ve,"IsObjectConstructorLike");function g0(se){let Q=Ee.Type.Number();return je(se,0)||je(se,1)&&"length"in se.properties&&t(_n(se.properties.length,Q))===C0.True}o(g0,"IsObjectArrayLike");function N0(se){let Q=Ee.Type.Function([Ee.Type.Any()],Ee.Type.Any());return je(se,0)||je(se,1)&&"then"in se.properties&&t(_n(se.properties.then,Q))===C0.True}o(N0,"IsObjectPromiseLike");function R0(se,Q){return _n(se,Q)===C0.False||Me.TOptional(se)&&!Me.TOptional(Q)?C0.False:C0.True}o(R0,"Property");function A0(se,Q){return Me.TUnknown(se)?C0.False:Me.TAny(se)?C0.Union:Me.TNever(se)||Me.TLiteralString(se)&&we(Q)||Me.TLiteralNumber(se)&&h0(Q)||Me.TLiteralBoolean(se)&&o0(Q)||Me.TSymbol(se)&&t0(Q)||Me.TBigInt(se)&&l0(Q)||Me.TString(se)&&we(Q)||Me.TSymbol(se)&&t0(Q)||Me.TNumber(se)&&h0(Q)||Me.TInteger(se)&&h0(Q)||Me.TBoolean(se)&&o0(Q)||Me.TUint8Array(se)&&c0(Q)||Me.TDate(se)&&s0(Q)||Me.TConstructor(se)&&ve(Q)||Me.TFunction(se)&&_e(Q)?C0.True:Me.TRecord(se)&&Me.TString(B0(se))?Q[Ee.Hint]==="Record"?C0.True:C0.False:Me.TRecord(se)&&Me.TNumber(B0(se))?je(Q,0)?C0.True:C0.False:C0.False}o(A0,"TObjectRight");function X0(se,Q){return n(Q)?s(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TObject(Q)?(()=>{for(let sn of Object.getOwnPropertyNames(Q.properties)){if(!(sn in se.properties)&&!Me.TOptional(Q.properties[sn]))return C0.False;if(Me.TOptional(Q.properties[sn]))return C0.True;if(R0(se.properties[sn],Q.properties[sn])===C0.False)return C0.False}return C0.True})():C0.False}o(X0,"TObject");function qe(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)&&N0(Q)?C0.True:Me.TPromise(Q)?t(_n(se.item,Q.item)):C0.False}o(qe,"TPromise");function B0(se){return Ee.PatternNumberExact in se.patternProperties?Ee.Type.Number():Ee.PatternStringExact in se.patternProperties?Ee.Type.String():r("Unknown record key pattern")}o(B0,"RecordKey");function Ve(se){return Ee.PatternNumberExact in se.patternProperties?se.patternProperties[Ee.PatternNumberExact]:Ee.PatternStringExact in se.patternProperties?se.patternProperties[Ee.PatternStringExact]:r("Unable to get record value schema")}o(Ve,"RecordValue");function U0(se,Q){let[sn,Cs]=[B0(Q),Ve(Q)];return Me.TLiteralString(se)&&Me.TNumber(sn)&&t(_n(se,Cs))===C0.True?C0.True:Me.TUint8Array(se)&&Me.TNumber(sn)||Me.TString(se)&&Me.TNumber(sn)||Me.TArray(se)&&Me.TNumber(sn)?_n(se,Cs):Me.TObject(se)?(()=>{for(let Ic of Object.getOwnPropertyNames(se.properties))if(R0(Cs,se.properties[Ic])===C0.False)return C0.False;return C0.True})():C0.False}o(U0,"TRecordRight");function D0(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?_n(Ve(se),Ve(Q)):C0.False}o(D0,"TRecord");function q0(se,Q){return Me.TLiteral(se)&&W0.IsString(se.const)||Me.TString(se)?C0.True:C0.False}o(q0,"TStringRight");function pr(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TString(Q)?C0.True:C0.False}o(pr,"TString");function Vr(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TSymbol(Q)?C0.True:C0.False}o(Vr,"TSymbol");function Mt(se,Q){return Me.TTemplateLiteral(se)?_n(fu.Resolve(se),Q):Me.TTemplateLiteral(Q)?_n(se,fu.Resolve(Q)):r("Invalid fallthrough for TemplateLiteral")}o(Mt,"TTemplateLiteral");function ae(se,Q){return Me.TArray(Q)&&se.items!==void 0&&se.items.every(sn=>_n(sn,Q.items)===C0.True)}o(ae,"IsArrayOfTuple");function vr(se,Q){return Me.TNever(se)?C0.True:Me.TUnknown(se)?C0.False:Me.TAny(se)?C0.Union:C0.False}o(vr,"TTupleRight");function rn(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)&&g0(Q)||Me.TArray(Q)&&ae(se,Q)?C0.True:Me.TTuple(Q)?W0.IsUndefined(se.items)&&!W0.IsUndefined(Q.items)||!W0.IsUndefined(se.items)&&W0.IsUndefined(Q.items)?C0.False:W0.IsUndefined(se.items)&&!W0.IsUndefined(Q.items)||se.items.every((sn,Cs)=>_n(sn,Q.items[Cs])===C0.True)?C0.True:C0.False:C0.False}o(rn,"TTuple");function Ms(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TUint8Array(Q)?C0.True:C0.False}o(Ms,"TUint8Array");function ol(se,Q){return n(Q)?s(se,Q):Me.TObject(Q)?A0(se,Q):Me.TRecord(Q)?U0(se,Q):Me.TVoid(Q)?zf(se,Q):Me.TUndefined(Q)?C0.True:C0.False}o(ol,"TUndefined");function la(se,Q){return Q.anyOf.some(sn=>_n(se,sn)===C0.True)?C0.True:C0.False}o(la,"TUnionRight");function Vf(se,Q){return se.anyOf.every(sn=>_n(sn,Q)===C0.True)?C0.True:C0.False}o(Vf,"TUnion");function fa(se,Q){return C0.True}o(fa,"TUnknownRight");function al(se,Q){return Me.TNever(Q)?$(se,Q):Me.TIntersect(Q)?A(se,Q):Me.TUnion(Q)?la(se,Q):Me.TAny(Q)?l(se,Q):Me.TString(Q)?q0(se,Q):Me.TNumber(Q)?n0(se,Q):Me.TInteger(Q)?E(se,Q):Me.TBoolean(Q)?h(se,Q):Me.TArray(Q)?f(se,Q):Me.TTuple(Q)?vr(se,Q):Me.TObject(Q)?A0(se,Q):Me.TUnknown(Q)?C0.True:C0.False}o(al,"TUnknown");function zf(se,Q){return Me.TUndefined(se)||Me.TUndefined(se)?C0.True:C0.False}o(zf,"VoidRight");function xs(se,Q){return Me.TIntersect(Q)?A(se,Q):Me.TUnion(Q)?la(se,Q):Me.TUnknown(Q)?fa(se,Q):Me.TAny(Q)?l(se,Q):Me.TObject(Q)?A0(se,Q):Me.TVoid(Q)?C0.True:C0.False}o(xs,"TVoid");function _n(se,Q){return Me.TTemplateLiteral(se)||Me.TTemplateLiteral(Q)?Mt(se,Q):Me.TNot(se)||Me.TNot(Q)?e0(se,Q):Me.TAny(se)?a(se,Q):Me.TArray(se)?c(se,Q):Me.TBigInt(se)?d(se,Q):Me.TBoolean(se)?p(se,Q):Me.TAsyncIterator(se)?u(se,Q):Me.TConstructor(se)?m(se,Q):Me.TDate(se)?v(se,Q):Me.TFunction(se)?x(se,Q):Me.TInteger(se)?I(se,Q):Me.TIntersect(se)?L(se,Q):Me.TIterator(se)?D(se,Q):Me.TLiteral(se)?k(se,Q):Me.TNever(se)?ue(se,Q):Me.TNull(se)?d0(se,Q):Me.TNumber(se)?_0(se,Q):Me.TObject(se)?X0(se,Q):Me.TRecord(se)?D0(se,Q):Me.TString(se)?pr(se,Q):Me.TSymbol(se)?Vr(se,Q):Me.TTuple(se)?rn(se,Q):Me.TPromise(se)?qe(se,Q):Me.TUint8Array(se)?Ms(se,Q):Me.TUndefined(se)?ol(se,Q):Me.TUnion(se)?Vf(se,Q):Me.TUnknown(se)?al(se,Q):Me.TVoid(se)?xs(se,Q):r(`Unknown left type operand '${se[Ee.Kind]}'`)}o(_n,"Visit");function Yl(se,Q){return _n(se,Q)}o(Yl,"Extends"),e.Extends=Yl})(I2||(Ee.TypeExtends=I2={}));var Tr;(function(e){function t(c){return c.map(u=>l(u))}o(t,"ArrayType");function r(c){return new Date(c.getTime())}o(r,"DateType");function n(c){return new Uint8Array(c)}o(n,"Uint8ArrayType");function s(c){let u=Object.getOwnPropertyNames(c).reduce((h,p)=>({...h,[p]:l(c[p])}),{}),d=Object.getOwnPropertySymbols(c).reduce((h,p)=>({...h,[p]:l(c[p])}),{});return{...u,...d}}o(s,"ObjectType");function l(c){return W0.IsArray(c)?t(c):W0.IsDate(c)?r(c):W0.IsUint8Array(c)?n(c):W0.IsObject(c)?s(c):c}o(l,"Visit");function a(c){return c.map(u=>f(u))}o(a,"Rest"),e.Rest=a;function f(c,u={}){return{...l(c),...u}}o(f,"Type"),e.Type=f})(Tr||(Ee.TypeClone=Tr={}));var e_;(function(e){function t(m){return m.map(v=>{let{[Ee.Optional]:x,...E}=Tr.Type(v);return E})}o(t,"OptionalUnwrap");function r(m){return m.every(v=>Me.TOptional(v))}o(r,"IsIntersectOptional");function n(m){return m.some(v=>Me.TOptional(v))}o(n,"IsUnionOptional");function s(m){return r(m.allOf)?Ee.Type.Optional(Ee.Type.Intersect(t(m.allOf))):m}o(s,"ResolveIntersect");function l(m){return n(m.anyOf)?Ee.Type.Optional(Ee.Type.Union(t(m.anyOf))):m}o(l,"ResolveUnion");function a(m){return m[Ee.Kind]==="Intersect"?s(m):m[Ee.Kind]==="Union"?l(m):m}o(a,"ResolveOptional");function f(m,v){let x=m.allOf.reduce((E,I)=>{let A=h(I,v);return A[Ee.Kind]==="Never"?E:[...E,A]},[]);return a(Ee.Type.Intersect(x))}o(f,"TIntersect");function c(m,v){let x=m.anyOf.map(E=>h(E,v));return a(Ee.Type.Union(x))}o(c,"TUnion");function u(m,v){let x=m.properties[v];return W0.IsUndefined(x)?Ee.Type.Never():Ee.Type.Union([x])}o(u,"TObject");function d(m,v){let x=m.items;if(W0.IsUndefined(x))return Ee.Type.Never();let E=x[v];return W0.IsUndefined(E)?Ee.Type.Never():E}o(d,"TTuple");function h(m,v){return m[Ee.Kind]==="Intersect"?f(m,v):m[Ee.Kind]==="Union"?c(m,v):m[Ee.Kind]==="Object"?u(m,v):m[Ee.Kind]==="Tuple"?d(m,v):Ee.Type.Never()}o(h,"Visit");function p(m,v,x={}){let E=v.map(I=>h(m,I.toString()));return a(Ee.Type.Union(E,x))}o(p,"Resolve"),e.Resolve=p})(e_||(Ee.IndexedAccessor=e_={}));var P4;(function(e){function t(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toLowerCase()}${p}`}o(t,"Uncapitalize");function r(d){let[h,p]=[d.slice(0,1),d.slice(1)];return`${h.toUpperCase()}${p}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function l(d,h){let p=R4.ParseExact(d.pattern);if(!k4.Check(p))return{...d,pattern:a(d.pattern,h)};let x=[...B4.Generate(p)].map(A=>Ee.Type.Literal(A)),E=f(x,h),I=Ee.Type.Union(E);return Ee.Type.TemplateLiteral([I])}o(l,"IntrinsicTemplateLiteral");function a(d,h){return typeof d=="string"?h==="Uncapitalize"?t(d):h==="Capitalize"?r(d):h==="Uppercase"?n(d):h==="Lowercase"?s(d):d:d.toString()}o(a,"IntrinsicLiteral");function f(d,h){if(d.length===0)return[];let[p,...m]=d;return[u(p,h),...f(m,h)]}o(f,"IntrinsicRest");function c(d,h){return Me.TTemplateLiteral(d)?l(d,h):Me.TUnion(d)?Ee.Type.Union(f(d.anyOf,h)):Me.TLiteral(d)?Ee.Type.Literal(a(d.const,h)):d}o(c,"Visit");function u(d,h){return c(d,h)}o(u,"Map"),e.Map=u})(P4||(Ee.Intrinsic=P4={}));var N4;(function(e){function t(a,f){return Ee.Type.Intersect(a.allOf.map(c=>s(c,f)),{...a})}o(t,"TIntersect");function r(a,f){return Ee.Type.Union(a.anyOf.map(c=>s(c,f)),{...a})}o(r,"TUnion");function n(a,f){return f(a)}o(n,"TObject");function s(a,f){return a[Ee.Kind]==="Intersect"?t(a,f):a[Ee.Kind]==="Union"?r(a,f):a[Ee.Kind]==="Object"?n(a,f):a}o(s,"Visit");function l(a,f,c){return{...s(Tr.Type(a),f),...c}}o(l,"Map"),e.Map=l})(N4||(Ee.ObjectMap=N4={}));var wg;(function(e){function t(u){return u[0]==="^"&&u[u.length-1]==="$"?u.slice(1,u.length-1):u}o(t,"UnwrapPattern");function r(u,d){return u.allOf.reduce((h,p)=>[...h,...a(p,d)],[])}o(r,"TIntersect");function n(u,d){let h=u.anyOf.map(p=>a(p,d));return[...h.reduce((p,m)=>m.map(v=>h.every(x=>x.includes(v))?p.add(v):p)[0],new Set)]}o(n,"TUnion");function s(u,d){return Object.getOwnPropertyNames(u.properties)}o(s,"TObject");function l(u,d){return d.includePatterns?Object.getOwnPropertyNames(u.patternProperties):[]}o(l,"TRecord");function a(u,d){return Me.TIntersect(u)?r(u,d):Me.TUnion(u)?n(u,d):Me.TObject(u)?s(u,d):Me.TRecord(u)?l(u,d):[]}o(a,"Visit");function f(u,d){return[...new Set(a(u,d))]}o(f,"ResolveKeys"),e.ResolveKeys=f;function c(u){return`^(${f(u,{includePatterns:!0}).map(p=>`(${t(p)})`).join("|")})$`}o(c,"ResolvePattern"),e.ResolvePattern=c})(wg||(Ee.KeyResolver=wg={}));var o_=class o_ extends c1{};o(o_,"KeyArrayResolverError");var Ag=o_;Ee.KeyArrayResolverError=Ag;var M9;(function(e){function t(r){return Array.isArray(r)?r:Me.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):Me.TLiteral(r)?[r.const]:Me.TTemplateLiteral(r)?(()=>{let n=R4.ParseExact(r.pattern);if(!k4.Check(n))throw new Ag("Cannot resolve keys from infinite template expression");return[...B4.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(M9||(Ee.KeyArrayResolver=M9={}));var t_;(function(e){function*t(n){for(let s of n.anyOf)s[Ee.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Ee.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(t_||(Ee.UnionResolver=t_={}));var a_=class a_ extends c1{};o(a_,"TemplateLiteralPatternError");var Pg=a_;Ee.TemplateLiteralPatternError=Pg;var Ng;(function(e){function t(l){throw new Pg(l)}o(t,"Throw");function r(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(l,a){return Me.TTemplateLiteral(l)?l.pattern.slice(1,l.pattern.length-1):Me.TUnion(l)?`(${l.anyOf.map(f=>n(f,a)).join("|")})`:Me.TNumber(l)?`${a}${Ee.PatternNumber}`:Me.TInteger(l)?`${a}${Ee.PatternNumber}`:Me.TBigInt(l)?`${a}${Ee.PatternNumber}`:Me.TString(l)?`${a}${Ee.PatternString}`:Me.TLiteral(l)?`${a}${r(l.const.toString())}`:Me.TBoolean(l)?`${a}${Ee.PatternBoolean}`:t(`Unexpected Kind '${l[Ee.Kind]}'`)}o(n,"Visit");function s(l){return`^${l.map(a=>n(a,"")).join("")}$`}o(s,"Create"),e.Create=s})(Ng||(Ee.TemplateLiteralPattern=Ng={}));var fu;(function(e){function t(r){let n=R4.ParseExact(r.pattern);if(!k4.Check(n))return Ee.Type.String();let s=[...B4.Generate(n)].map(l=>Ee.Type.Literal(l));return Ee.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(fu||(Ee.TemplateLiteralResolver=fu={}));var l_=class l_ extends c1{};o(l_,"TemplateLiteralParserError");var U9=l_;Ee.TemplateLiteralParserError=U9;var R4;(function(e){function t(m,v,x){return m[v]===x&&m.charCodeAt(v-1)!==92}o(t,"IsNonEscaped");function r(m,v){return t(m,v,"(")}o(r,"IsOpenParen");function n(m,v){return t(m,v,")")}o(n,"IsCloseParen");function s(m,v){return t(m,v,"|")}o(s,"IsSeparator");function l(m){if(!(r(m,0)&&n(m,m.length-1)))return!1;let v=0;for(let x=0;x<m.length;x++)if(r(m,x)&&(v+=1),n(m,x)&&(v-=1),v===0&&x!==m.length-1)return!1;return!0}o(l,"IsGroup");function a(m){return m.slice(1,m.length-1)}o(a,"InGroup");function f(m){let v=0;for(let x=0;x<m.length;x++)if(r(m,x)&&(v+=1),n(m,x)&&(v-=1),s(m,x)&&v===0)return!0;return!1}o(f,"IsPrecedenceOr");function c(m){for(let v=0;v<m.length;v++)if(r(m,v))return!0;return!1}o(c,"IsPrecedenceAnd");function u(m){let[v,x]=[0,0],E=[];for(let A=0;A<m.length;A++)if(r(m,A)&&(v+=1),n(m,A)&&(v-=1),s(m,A)&&v===0){let L=m.slice(x,A);L.length>0&&E.push(h(L)),x=A+1}let I=m.slice(x);return I.length>0&&E.push(h(I)),E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"or",expr:E}}o(u,"Or");function d(m){function v(I,A){if(!r(I,A))throw new U9("TemplateLiteralParser: Index must point to open parens");let L=0;for(let D=A;D<I.length;D++)if(r(I,D)&&(L+=1),n(I,D)&&(L-=1),L===0)return[A,D];throw new U9("TemplateLiteralParser: Unclosed group parens in expression")}o(v,"Group");function x(I,A){for(let L=A;L<I.length;L++)if(r(I,L))return[A,L];return[A,I.length]}o(x,"Range");let E=[];for(let I=0;I<m.length;I++)if(r(m,I)){let[A,L]=v(m,I),D=m.slice(A,L+1);E.push(h(D)),I=L}else{let[A,L]=x(m,I),D=m.slice(A,L);D.length>0&&E.push(h(D)),I=L-1}return E.length===0?{type:"const",const:""}:E.length===1?E[0]:{type:"and",expr:E}}o(d,"And");function h(m){return l(m)?h(a(m)):f(m)?u(m):c(m)?d(m):{type:"const",const:m}}o(h,"Parse"),e.Parse=h;function p(m){return h(m.slice(1,m.length-1))}o(p,"ParseExact"),e.ParseExact=p})(R4||(Ee.TemplateLiteralParser=R4={}));var f_=class f_ extends c1{};o(f_,"TemplateLiteralFiniteError");var Rg=f_;Ee.TemplateLiteralFiniteError=Rg;var k4;(function(e){function t(a){throw new Rg(a)}o(t,"Throw");function r(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="0"&&a.expr[1].type==="const"&&a.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(a){return a.type==="or"&&a.expr.length===2&&a.expr[0].type==="const"&&a.expr[0].const==="true"&&a.expr[1].type==="const"&&a.expr[1].const==="false"}o(n,"IsBoolean");function s(a){return a.type==="const"&&a.const===".*"}o(s,"IsString");function l(a){return n(a)?!0:r(a)||s(a)?!1:a.type==="and"?a.expr.every(f=>l(f)):a.type==="or"?a.expr.every(f=>l(f)):a.type==="const"?!0:t("Unknown expression type")}o(l,"Check"),e.Check=l})(k4||(Ee.TemplateLiteralFinite=k4={}));var c_=class c_ extends c1{};o(c_,"TemplateLiteralGeneratorError");var kg=c_;Ee.TemplateLiteralGeneratorError=kg;var B4;(function(e){function*t(a){if(a.length===1)return yield*a[0];for(let f of a[0])for(let c of t(a.slice(1)))yield`${f}${c}`}o(t,"Reduce");function*r(a){return yield*t(a.expr.map(f=>[...l(f)]))}o(r,"And");function*n(a){for(let f of a.expr)yield*l(f)}o(n,"Or");function*s(a){return yield a.const}o(s,"Const");function*l(a){return a.type==="and"?yield*r(a):a.type==="or"?yield*n(a):a.type==="const"?yield*s(a):(()=>{throw new kg("Unknown expression")})()}o(l,"Generate"),e.Generate=l})(B4||(Ee.TemplateLiteralGenerator=B4={}));var r_;(function(e){function*t(l){let a=l.trim().replace(/"|'/g,"");return a==="boolean"?yield Ee.Type.Boolean():a==="number"?yield Ee.Type.Number():a==="bigint"?yield Ee.Type.BigInt():a==="string"?yield Ee.Type.String():yield(()=>{let f=a.split("|").map(c=>Ee.Type.Literal(c.trim()));return f.length===0?Ee.Type.Never():f.length===1?f[0]:Ee.Type.Union(f)})()}o(t,"ParseUnion");function*r(l){if(l[1]!=="{"){let a=Ee.Type.Literal("$"),f=n(l.slice(1));return yield*[a,...f]}for(let a=2;a<l.length;a++)if(l[a]==="}"){let f=t(l.slice(2,a)),c=n(l.slice(a+1));return yield*[...f,...c]}yield Ee.Type.Literal(l)}o(r,"ParseTerminal");function*n(l){for(let a=0;a<l.length;a++)if(l[a]==="$"){let f=Ee.Type.Literal(l.slice(0,a)),c=r(l.slice(a));return yield*[f,...c]}yield Ee.Type.Literal(l)}o(n,"ParseLiteral");function s(l){return[...n(l)]}o(s,"Parse"),e.Parse=s})(r_||(Ee.TemplateLiteralDslParser=r_={}));var u_=class u_{constructor(t){this.schema=t}Decode(t){return new Dg(this.schema,t)}};o(u_,"TransformDecodeBuilder");var Bg=u_;Ee.TransformDecodeBuilder=Bg;var d_=class d_{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=Tr.Type(this.schema);return Me.TTransform(r)?(()=>{let l={Encode:o(a=>r[Ee.Transform].Encode(t(a)),"Encode"),Decode:o(a=>this.decode(r[Ee.Transform].Decode(a)),"Decode")};return{...r,[Ee.Transform]:l}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Ee.Transform]:n}})()}};o(d_,"TransformEncodeBuilder");var Dg=d_;Ee.TransformEncodeBuilder=Dg;var jM=0,h_=class h_ extends c1{};o(h_,"TypeBuilderError");var Lg=h_;Ee.TypeBuilderError=Lg;var g_=class g_{Create(t){return t}Throw(t){throw new Lg(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:l,...a}=n;return a},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(g_,"TypeBuilder");var Fg=g_;Ee.TypeBuilder=Fg;var m_=class m_ extends Fg{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...Tr.Type(t),[Ee.Readonly]:"Readonly"}}Optional(t){return{...Tr.Type(t),[Ee.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Ee.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Ee.Kind]:"Array",type:"array",items:Tr.Type(t)})}Boolean(t={}){return this.Create({...t,[Ee.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...P4.Map(Tr.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Ee.Type.Intersect(t,{}),l=wg.ResolveKeys(n,{includePatterns:!1}).reduce((a,f)=>({...a,[f]:Ee.Type.Index(n,[f])}),{});return Ee.Type.Object(l,r)}Enum(t,r={}){if(W0.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(a=>isNaN(a)).map(a=>t[a]),l=[...new Set(n)].map(a=>Ee.Type.Literal(a));return this.Union(l,{...r,[Ee.Hint]:"Enum"})}Extends(t,r,n,s,l={}){switch(I2.Extends(t,r)){case C0.Union:return this.Union([Tr.Type(n,l),Tr.Type(s,l)]);case C0.True:return Tr.Type(n,l);case C0.False:return Tr.Type(s,l)}}Exclude(t,r,n={}){return Me.TTemplateLiteral(t)?this.Exclude(fu.Resolve(t),r,n):Me.TTemplateLiteral(r)?this.Exclude(t,fu.Resolve(r),n):Me.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>I2.Extends(l,r)===C0.False);return s.length===1?Tr.Type(s[0],n):this.Union(s,n)})():I2.Extends(t,r)!==C0.False?this.Never(n):Tr.Type(t,n)}Extract(t,r,n={}){return Me.TTemplateLiteral(t)?this.Extract(fu.Resolve(t),r,n):Me.TTemplateLiteral(r)?this.Extract(t,fu.Resolve(r),n):Me.TUnion(t)?(()=>{let s=t.anyOf.filter(l=>I2.Extends(l,r)!==C0.False);return s.length===1?Tr.Type(s[0],n):this.Union(s,n)})():I2.Extends(t,r)!==C0.False?Tr.Type(t,n):this.Never(n)}Index(t,r,n={}){return Me.TArray(t)&&Me.TNumber(r)?Tr.Type(t.items,n):Me.TTuple(t)&&Me.TNumber(r)?(()=>{let l=(W0.IsUndefined(t.items)?[]:t.items).map(a=>Tr.Type(a));return this.Union(l,n)})():(()=>{let s=M9.Resolve(r),l=Tr.Type(t);return e_.Resolve(l,s,n)})()}Integer(t={}){return this.Create({...t,[Ee.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Ee.Type.Never();if(t.length===1)return Tr.Type(t[0],r);t.some(a=>Me.TTransform(a))&&this.Throw("Cannot intersect transform types");let n=t.every(a=>Me.TObject(a)),s=Tr.Rest(t),l=Me.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:Tr.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||Me.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...l,[Ee.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...l,[Ee.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return Me.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Ee.PatternNumberExact?this.Number(r):n===Ee.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():Me.TTuple(t)?(()=>{let s=(W0.IsUndefined(t.items)?[]:t.items).map((l,a)=>Ee.Type.Literal(a.toString()));return this.Union(s,r)})():Me.TArray(t)?this.Number(r):(()=>{let n=wg.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(l=>this.Literal(l));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Ee.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...P4.Map(Tr.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Ee.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Ee.Kind]:"Not",not:Tr.Type(t)})}Null(t={}){return this.Create({...t,[Ee.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Ee.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(c=>Me.TOptional(t[c])),l=n.filter(c=>!s.includes(c)),a=Me.TSchema(r.additionalProperties)?{additionalProperties:Tr.Type(r.additionalProperties)}:{},f=n.reduce((c,u)=>({...c,[u]:Tr.Type(t[u])}),{});return l.length>0?this.Create({...r,...a,[Ee.Kind]:"Object",type:"object",properties:f,required:l}):this.Create({...r,...a,[Ee.Kind]:"Object",type:"object",properties:f})}Omit(t,r,n={}){let s=M9.Resolve(r);return N4.Map(this.Discard(Tr.Type(t),["$id",Ee.Transform]),l=>{W0.IsArray(l.required)&&(l.required=l.required.filter(a=>!s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)&&delete l.properties[a];return this.Create(l)},n)}Partial(t,r={}){return N4.Map(this.Discard(Tr.Type(t),["$id",Ee.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Optional(n.properties[a])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=M9.Resolve(r);return N4.Map(this.Discard(Tr.Type(t),["$id",Ee.Transform]),l=>{W0.IsArray(l.required)&&(l.required=l.required.filter(a=>s.includes(a)),l.required.length===0&&delete l.required);for(let a of Object.getOwnPropertyNames(l.properties))s.includes(a)||delete l.properties[a];return this.Create(l)},n)}Record(t,r,n={}){return Me.TTemplateLiteral(t)?(()=>{let s=R4.ParseExact(t.pattern);return k4.Check(s)?this.Object([...B4.Generate(s)].reduce((l,a)=>({...l,[a]:Tr.Type(r)}),{}),n):this.Create({...n,[Ee.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:Tr.Type(r)}})})():Me.TUnion(t)?(()=>{let s=t_.Resolve(t);if(Me.TUnionLiteral(s)){let l=s.anyOf.reduce((a,f)=>({...a,[f.const]:Tr.Type(r)}),{});return this.Object(l,{...n,[Ee.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():Me.TLiteral(t)?W0.IsString(t.const)||W0.IsNumber(t.const)?this.Object({[t.const]:Tr.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):Me.TInteger(t)||Me.TNumber(t)?this.Create({...n,[Ee.Kind]:"Record",type:"object",patternProperties:{[Ee.PatternNumberExact]:Tr.Type(r)}}):Me.TString(t)?(()=>{let s=W0.IsUndefined(t.pattern)?Ee.PatternStringExact:t.pattern;return this.Create({...n,[Ee.Kind]:"Record",type:"object",patternProperties:{[s]:Tr.Type(r)}})})():this.Never()}Recursive(t,r={}){W0.IsUndefined(r.$id)&&(r.$id=`T${jM++}`);let n=t({[Ee.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Ee.Hint]:"Recursive",...n})}Ref(t,r={}){return W0.IsString(t)?this.Create({...r,[Ee.Kind]:"Ref",$ref:t}):(W0.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Ee.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return N4.Map(this.Discard(Tr.Type(t),["$id",Ee.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((l,a)=>({...l,[a]:this.Discard(n.properties[a],[Ee.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return Me.TTuple(t)&&!W0.IsUndefined(t.items)?Tr.Rest(t.items):Me.TIntersect(t)?Tr.Rest(t.allOf):Me.TUnion(t)?Tr.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Ee.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=W0.IsString(t)?Ng.Create(r_.Parse(t)):Ng.Create(t);return this.Create({...r,[Ee.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new Bg(t)}Tuple(t,r={}){let[n,s,l]=[!1,t.length,t.length],a=Tr.Rest(t),f=t.length>0?{...r,[Ee.Kind]:"Tuple",type:"array",items:a,additionalItems:n,minItems:s,maxItems:l}:{...r,[Ee.Kind]:"Tuple",type:"array",minItems:s,maxItems:l};return this.Create(f)}Uncapitalize(t,r={}){return{...P4.Map(Tr.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return Me.TTemplateLiteral(t)?fu.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(Tr.Type(n[0],r));let s=Tr.Rest(n);return this.Create({...r,[Ee.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Ee.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Ee.Kind]:t[Ee.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...P4.Map(Tr.Type(t),"Uppercase"),...r}}};o(m_,"JsonTypeBuilder");var q9=m_;Ee.JsonTypeBuilder=q9;var p_=class p_ extends q9{AsyncIterator(t,r={}){return this.Create({...r,[Ee.Kind]:"AsyncIterator",type:"AsyncIterator",items:Tr.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[l,...a]=s;return[this.Awaited(l),...n(a)]})():s,"Unwrap");return Me.TIntersect(t)?Ee.Type.Intersect(n(t.allOf)):Me.TUnion(t)?Ee.Type.Union(n(t.anyOf)):Me.TPromise(t)?this.Awaited(t.item):Tr.Type(t,r)}BigInt(t={}){return this.Create({...t,[Ee.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,l]=[Tr.Rest(t),Tr.Type(r)];return this.Create({...n,[Ee.Kind]:"Constructor",type:"Constructor",parameters:s,returns:l})}Date(t={}){return this.Create({...t,[Ee.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,l]=[Tr.Rest(t),Tr.Type(r)];return this.Create({...n,[Ee.Kind]:"Function",type:"Function",parameters:s,returns:l})}InstanceType(t,r={}){return Tr.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Ee.Kind]:"Iterator",type:"Iterator",items:Tr.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Ee.Kind]:"Promise",type:"Promise",item:Tr.Type(t)})}RegExp(t,r={}){let n=W0.IsString(t)?t:t.source;return this.Create({...r,[Ee.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return Tr.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Ee.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Ee.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Ee.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Ee.Kind]:"Void",type:"void"})}};o(p_,"JavaScriptTypeBuilder");var Og=p_;Ee.JavaScriptTypeBuilder=Og;Ee.JsonType=new q9;Ee.Type=new Og});var Hl=v0(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.IsValueType=fn.IsSymbol=fn.IsFunction=fn.IsString=fn.IsBigInt=fn.IsInteger=fn.IsNumber=fn.IsBoolean=fn.IsNull=fn.IsUndefined=fn.IsArray=fn.IsObject=fn.IsPlainObject=fn.HasPropertyKey=fn.IsDate=fn.IsUint8Array=fn.IsPromise=fn.IsTypedArray=fn.IsIterator=fn.IsAsyncIterator=void 0;function VM(e){return Mg(e)&&Symbol.asyncIterator in e}o(VM,"IsAsyncIterator");fn.IsAsyncIterator=VM;function zM(e){return Mg(e)&&Symbol.iterator in e}o(zM,"IsIterator");fn.IsIterator=zM;function GM(e){return ArrayBuffer.isView(e)}o(GM,"IsTypedArray");fn.IsTypedArray=GM;function KM(e){return e instanceof Promise}o(KM,"IsPromise");fn.IsPromise=KM;function WM(e){return e instanceof Uint8Array}o(WM,"IsUint8Array");fn.IsUint8Array=WM;function YM(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(YM,"IsDate");fn.IsDate=YM;function XM(e,t){return t in e}o(XM,"HasPropertyKey");fn.HasPropertyKey=XM;function JM(e){return Mg(e)&&qw(e.constructor)&&e.constructor.name==="Object"}o(JM,"IsPlainObject");fn.IsPlainObject=JM;function Mg(e){return e!==null&&typeof e=="object"}o(Mg,"IsObject");fn.IsObject=Mg;function ZM(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(ZM,"IsArray");fn.IsArray=ZM;function Lw(e){return e===void 0}o(Lw,"IsUndefined");fn.IsUndefined=Lw;function Fw(e){return e===null}o(Fw,"IsNull");fn.IsNull=Fw;function Ow(e){return typeof e=="boolean"}o(Ow,"IsBoolean");fn.IsBoolean=Ow;function y_(e){return typeof e=="number"}o(y_,"IsNumber");fn.IsNumber=y_;function QM(e){return y_(e)&&Number.isInteger(e)}o(QM,"IsInteger");fn.IsInteger=QM;function Mw(e){return typeof e=="bigint"}o(Mw,"IsBigInt");fn.IsBigInt=Mw;function Uw(e){return typeof e=="string"}o(Uw,"IsString");fn.IsString=Uw;function qw(e){return typeof e=="function"}o(qw,"IsFunction");fn.IsFunction=qw;function $w(e){return typeof e=="symbol"}o($w,"IsSymbol");fn.IsSymbol=$w;function eU(e){return Mw(e)||Ow(e)||Fw(e)||y_(e)||Uw(e)||$w(e)||Lw(e)}o(eU,"IsValueType");fn.IsValueType=eU});var b_=v0(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.DefaultErrorFunction=jl.TypeSystemPolicy=jl.TypeSystemErrorFunction=jl.TypeSystem=jl.TypeSystemDuplicateFormat=jl.TypeSystemDuplicateTypeKind=void 0;var Ug=Hl(),gr=$9(),cu=$l(),x_=class x_ extends cu.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(x_,"TypeSystemDuplicateTypeKind");var qg=x_;jl.TypeSystemDuplicateTypeKind=qg;var __=class __ extends cu.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(__,"TypeSystemDuplicateFormat");var $g=__;jl.TypeSystemDuplicateFormat=$g;var Hw;(function(e){function t(n,s){if(cu.TypeRegistry.Has(n))throw new qg(n);return cu.TypeRegistry.Set(n,s),(l={})=>cu.Type.Unsafe({...l,[cu.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(cu.FormatRegistry.Has(n))throw new $g(n);return cu.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})(Hw||(jl.TypeSystem=Hw={}));var jw;(function(e){let t=v_;function r(){t=v_}o(r,"Reset"),e.Reset=r;function n(l){t=l}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(jw||(jl.TypeSystemErrorFunction=jw={}));var Vw;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(a,f){return e.ExactOptionalPropertyTypes?f in a:a[f]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){let f=(0,Ug.IsObject)(a);return e.AllowArrayObject?f:f&&!(0,Ug.IsArray)(a)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return r(a)&&!(a instanceof Date)&&!(a instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){let f=(0,Ug.IsNumber)(a);return e.AllowNaN?f:f&&Number.isFinite(a)}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){let f=(0,Ug.IsUndefined)(a);return e.AllowNullVoid?f||a===null:f}o(l,"IsVoidLike"),e.IsVoidLike=l})(Vw||(jl.TypeSystemPolicy=Vw={}));function v_(e,t){switch(t){case gr.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case gr.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case gr.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case gr.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case gr.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case gr.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case gr.ValueErrorType.Array:return"Expected array";case gr.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case gr.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case gr.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case gr.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case gr.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case gr.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case gr.ValueErrorType.BigInt:return"Expected bigint";case gr.ValueErrorType.Boolean:return"Expected boolean";case gr.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case gr.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case gr.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case gr.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case gr.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case gr.ValueErrorType.Date:return"Expected Date";case gr.ValueErrorType.Function:return"Expected function";case gr.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case gr.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case gr.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case gr.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case gr.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case gr.ValueErrorType.Integer:return"Expected integer";case gr.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case gr.ValueErrorType.Intersect:return"Expected all values to match";case gr.ValueErrorType.Iterator:return"Expected Iterator";case gr.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case gr.ValueErrorType.Never:return"Never";case gr.ValueErrorType.Not:return"Value should not match";case gr.ValueErrorType.Null:return"Expected null";case gr.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case gr.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case gr.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case gr.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case gr.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case gr.ValueErrorType.Number:return"Expected number";case gr.ValueErrorType.Object:return"Expected object";case gr.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case gr.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case gr.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case gr.ValueErrorType.ObjectRequiredProperty:return"Required property";case gr.ValueErrorType.Promise:return"Expected Promise";case gr.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case gr.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case gr.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case gr.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case gr.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case gr.ValueErrorType.String:return"Expected string";case gr.ValueErrorType.Symbol:return"Expected symbol";case gr.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case gr.ValueErrorType.Tuple:return"Expected tuple";case gr.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case gr.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case gr.ValueErrorType.Uint8Array:return"Expected Uint8Array";case gr.ValueErrorType.Undefined:return"Expected undefined";case gr.ValueErrorType.Union:return"Expected union value";case gr.ValueErrorType.Void:return"Expected void";case gr.ValueErrorType.Kind:return`Expected kind '${e[cu.Kind]}'`;default:return"Unknown error type"}}o(v_,"DefaultErrorFunction");jl.DefaultErrorFunction=v_});var P5=v0(D4=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});D4.Deref=D4.TypeDereferenceError=void 0;var tU=$l(),C_=class C_ extends tU.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(C_,"TypeDereferenceError");var Hg=C_;D4.TypeDereferenceError=Hg;function rU(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new Hg(e);return t[r]}o(rU,"Deref");D4.Deref=rU});var H9=v0(N5=>{"use strict";Object.defineProperty(N5,"__esModule",{value:!0});N5.Hash=N5.ByteMarker=N5.ValueHashError=void 0;var u1=Hl(),E_=class E_ extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(E_,"ValueHashError");var jg=E_;N5.ValueHashError=jg;var rf;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(rf||(N5.ByteMarker=rf={}));var L4=BigInt("14695981039346656037"),[nU,iU]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],sU=Array.from({length:256}).map((e,t)=>BigInt(t)),zw=new Float64Array(1),Gw=new DataView(zw.buffer),Kw=new Uint8Array(zw.buffer);function*oU(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(oU,"NumberToBytes");function aU(e){dl(rf.Array);for(let t of e)F4(t)}o(aU,"ArrayType");function lU(e){dl(rf.Boolean),dl(e?1:0)}o(lU,"BooleanType");function fU(e){dl(rf.BigInt),Gw.setBigInt64(0,e);for(let t of Kw)dl(t)}o(fU,"BigIntType");function cU(e){dl(rf.Date),F4(e.getTime())}o(cU,"DateType");function uU(e){dl(rf.Null)}o(uU,"NullType");function dU(e){dl(rf.Number),Gw.setFloat64(0,e);for(let t of Kw)dl(t)}o(dU,"NumberType");function hU(e){dl(rf.Object);for(let t of globalThis.Object.keys(e).sort())F4(t),F4(e[t])}o(hU,"ObjectType");function gU(e){dl(rf.String);for(let t=0;t<e.length;t++)for(let r of oU(e.charCodeAt(t)))dl(r)}o(gU,"StringType");function mU(e){dl(rf.Symbol),F4(e.description)}o(mU,"SymbolType");function pU(e){dl(rf.Uint8Array);for(let t=0;t<e.length;t++)dl(e[t])}o(pU,"Uint8ArrayType");function yU(e){return dl(rf.Undefined)}o(yU,"UndefinedType");function F4(e){if((0,u1.IsArray)(e))return aU(e);if((0,u1.IsBoolean)(e))return lU(e);if((0,u1.IsBigInt)(e))return fU(e);if((0,u1.IsDate)(e))return cU(e);if((0,u1.IsNull)(e))return uU(e);if((0,u1.IsNumber)(e))return dU(e);if((0,u1.IsPlainObject)(e))return hU(e);if((0,u1.IsString)(e))return gU(e);if((0,u1.IsSymbol)(e))return mU(e);if((0,u1.IsUint8Array)(e))return pU(e);if((0,u1.IsUndefined)(e))return yU(e);throw new jg(e)}o(F4,"Visit");function dl(e){L4=L4^sU[e],L4=L4*nU%iU}o(dl,"FNV1A64");function vU(e){return L4=BigInt("14695981039346656037"),F4(e),L4}o(vU,"Hash");N5.Hash=vU});var $9=v0(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.Errors=Ef.ValueErrorIterator=Ef.EscapeKey=Ef.ValueErrorsUnknownTypeError=Ef.ValueErrorType=void 0;var ra=Hl(),O4=b_(),Ww=P5(),xU=H9(),Tf=$l(),Et;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(Et||(Ef.ValueErrorType=Et={}));var T_=class T_ extends Tf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(T_,"ValueErrorsUnknownTypeError");var Vg=T_;Ef.ValueErrorsUnknownTypeError=Vg;function ac(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(ac,"EscapeKey");Ef.EscapeKey=ac;function Bi(e){return e!==void 0}o(Bi,"IsDefined");var S_=class S_{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(S_,"ValueErrorIterator");var zg=S_;Ef.ValueErrorIterator=zg;function wt(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:O4.TypeSystemErrorFunction.Get()(t,e)}}o(wt,"Create");function*_U(e,t,r,n){}o(_U,"TAny");function*bU(e,t,r,n){if(!(0,ra.IsArray)(n))return yield wt(Et.Array,e,r,n);Bi(e.minItems)&&!(n.length>=e.minItems)&&(yield wt(Et.ArrayMinItems,e,r,n)),Bi(e.maxItems)&&!(n.length<=e.maxItems)&&(yield wt(Et.ArrayMaxItems,e,r,n));for(let a=0;a<n.length;a++)yield*Wa(e.items,t,`${r}/${a}`,n[a]);if(e.uniqueItems===!0&&!function(){let a=new Set;for(let f of n){let c=(0,xU.Hash)(f);if(a.has(c))return!1;a.add(c)}return!0}()&&(yield wt(Et.ArrayUniqueItems,e,r,n)),!(Bi(e.contains)||Bi(e.minContains)||Bi(e.maxContains)))return;let s=Bi(e.contains)?e.contains:Tf.Type.Never(),l=n.reduce((a,f,c)=>Wa(s,t,`${r}${c}`,f).next().done===!0?a+1:a,0);l===0&&(yield wt(Et.ArrayContains,e,r,n)),(0,ra.IsNumber)(e.minContains)&&l<e.minContains&&(yield wt(Et.ArrayMinContains,e,r,n)),(0,ra.IsNumber)(e.maxContains)&&l>e.maxContains&&(yield wt(Et.ArrayMaxContains,e,r,n))}o(bU,"TArray");function*CU(e,t,r,n){(0,ra.IsAsyncIterator)(n)||(yield wt(Et.AsyncIterator,e,r,n))}o(CU,"TAsyncIterator");function*EU(e,t,r,n){if(!(0,ra.IsBigInt)(n))return yield wt(Et.BigInt,e,r,n);Bi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(Et.BigIntExclusiveMaximum,e,r,n)),Bi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(Et.BigIntExclusiveMinimum,e,r,n)),Bi(e.maximum)&&!(n<=e.maximum)&&(yield wt(Et.BigIntMaximum,e,r,n)),Bi(e.minimum)&&!(n>=e.minimum)&&(yield wt(Et.BigIntMinimum,e,r,n)),Bi(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield wt(Et.BigIntMultipleOf,e,r,n))}o(EU,"TBigInt");function*TU(e,t,r,n){(0,ra.IsBoolean)(n)||(yield wt(Et.Boolean,e,r,n))}o(TU,"TBoolean");function*SU(e,t,r,n){yield*Wa(e.returns,t,r,n.prototype)}o(SU,"TConstructor");function*IU(e,t,r,n){if(!(0,ra.IsDate)(n))return yield wt(Et.Date,e,r,n);Bi(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield wt(Et.DateExclusiveMaximumTimestamp,e,r,n)),Bi(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield wt(Et.DateExclusiveMinimumTimestamp,e,r,n)),Bi(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield wt(Et.DateMaximumTimestamp,e,r,n)),Bi(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield wt(Et.DateMinimumTimestamp,e,r,n)),Bi(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield wt(Et.DateMultipleOfTimestamp,e,r,n))}o(IU,"TDate");function*wU(e,t,r,n){(0,ra.IsFunction)(n)||(yield wt(Et.Function,e,r,n))}o(wU,"TFunction");function*AU(e,t,r,n){if(!(0,ra.IsInteger)(n))return yield wt(Et.Integer,e,r,n);Bi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(Et.IntegerExclusiveMaximum,e,r,n)),Bi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(Et.IntegerExclusiveMinimum,e,r,n)),Bi(e.maximum)&&!(n<=e.maximum)&&(yield wt(Et.IntegerMaximum,e,r,n)),Bi(e.minimum)&&!(n>=e.minimum)&&(yield wt(Et.IntegerMinimum,e,r,n)),Bi(e.multipleOf)&&n%e.multipleOf!==0&&(yield wt(Et.IntegerMultipleOf,e,r,n))}o(AU,"TInteger");function*PU(e,t,r,n){for(let s of e.allOf){let l=Wa(s,t,r,n).next();l.done||(yield wt(Et.Intersect,e,r,n),yield l.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(Tf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))s.test(l)||(yield wt(Et.IntersectUnevaluatedProperties,e,`${r}/${l}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(Tf.KeyResolver.ResolvePattern(e));for(let l of Object.getOwnPropertyNames(n))if(!s.test(l)){let a=Wa(e.unevaluatedProperties,t,`${r}/${l}`,n[l]).next();a.done||(yield a.value)}}}o(PU,"TIntersect");function*NU(e,t,r,n){(0,ra.IsIterator)(n)||(yield wt(Et.Iterator,e,r,n))}o(NU,"TIterator");function*RU(e,t,r,n){n!==e.const&&(yield wt(Et.Literal,e,r,n))}o(RU,"TLiteral");function*kU(e,t,r,n){yield wt(Et.Never,e,r,n)}o(kU,"TNever");function*BU(e,t,r,n){Wa(e.not,t,r,n).next().done===!0&&(yield wt(Et.Not,e,r,n))}o(BU,"TNot");function*DU(e,t,r,n){(0,ra.IsNull)(n)||(yield wt(Et.Null,e,r,n))}o(DU,"TNull");function*LU(e,t,r,n){if(!O4.TypeSystemPolicy.IsNumberLike(n))return yield wt(Et.Number,e,r,n);Bi(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield wt(Et.NumberExclusiveMaximum,e,r,n)),Bi(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield wt(Et.NumberExclusiveMinimum,e,r,n)),Bi(e.maximum)&&!(n<=e.maximum)&&(yield wt(Et.NumberMaximum,e,r,n)),Bi(e.minimum)&&!(n>=e.minimum)&&(yield wt(Et.NumberMinimum,e,r,n)),Bi(e.multipleOf)&&n%e.multipleOf!==0&&(yield wt(Et.NumberMultipleOf,e,r,n))}o(LU,"TNumber");function*FU(e,t,r,n){if(!O4.TypeSystemPolicy.IsObjectLike(n))return yield wt(Et.Object,e,r,n);Bi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield wt(Et.ObjectMinProperties,e,r,n)),Bi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield wt(Et.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],l=Object.getOwnPropertyNames(e.properties),a=Object.getOwnPropertyNames(n);for(let f of s)a.includes(f)||(yield wt(Et.ObjectRequiredProperty,e.properties[f],`${r}/${ac(f)}`,void 0));if(e.additionalProperties===!1)for(let f of a)l.includes(f)||(yield wt(Et.ObjectAdditionalProperties,e,`${r}/${ac(f)}`,n[f]));if(typeof e.additionalProperties=="object")for(let f of a)l.includes(f)||(yield*Wa(e.additionalProperties,t,`${r}/${ac(f)}`,n[f]));for(let f of l){let c=e.properties[f];e.required&&e.required.includes(f)?(yield*Wa(c,t,`${r}/${ac(f)}`,n[f]),Tf.ExtendsUndefined.Check(e)&&!(f in n)&&(yield wt(Et.ObjectRequiredProperty,c,`${r}/${ac(f)}`,void 0))):O4.TypeSystemPolicy.IsExactOptionalProperty(n,f)&&(yield*Wa(c,t,`${r}/${ac(f)}`,n[f]))}}o(FU,"TObject");function*OU(e,t,r,n){(0,ra.IsPromise)(n)||(yield wt(Et.Promise,e,r,n))}o(OU,"TPromise");function*MU(e,t,r,n){if(!O4.TypeSystemPolicy.IsRecordLike(n))return yield wt(Et.Object,e,r,n);Bi(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield wt(Et.ObjectMinProperties,e,r,n)),Bi(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield wt(Et.ObjectMaxProperties,e,r,n));let[s,l]=Object.entries(e.patternProperties)[0],a=new RegExp(s);for(let[f,c]of Object.entries(n))a.test(f)&&(yield*Wa(l,t,`${r}/${ac(f)}`,c));if(typeof e.additionalProperties=="object")for(let[f,c]of Object.entries(n))a.test(f)||(yield*Wa(e.additionalProperties,t,`${r}/${ac(f)}`,c));if(e.additionalProperties===!1){for(let[f,c]of Object.entries(n))if(!a.test(f))return yield wt(Et.ObjectAdditionalProperties,e,`${r}/${ac(f)}`,c)}}o(MU,"TRecord");function*UU(e,t,r,n){yield*Wa((0,Ww.Deref)(e,t),t,r,n)}o(UU,"TRef");function*qU(e,t,r,n){if(!(0,ra.IsString)(n))return yield wt(Et.String,e,r,n);Bi(e.minLength)&&!(n.length>=e.minLength)&&(yield wt(Et.StringMinLength,e,r,n)),Bi(e.maxLength)&&!(n.length<=e.maxLength)&&(yield wt(Et.StringMaxLength,e,r,n)),(0,ra.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield wt(Et.StringPattern,e,r,n))),(0,ra.IsString)(e.format)&&(Tf.FormatRegistry.Has(e.format)?Tf.FormatRegistry.Get(e.format)(n)||(yield wt(Et.StringFormat,e,r,n)):yield wt(Et.StringFormatUnknown,e,r,n))}o(qU,"TString");function*$U(e,t,r,n){(0,ra.IsSymbol)(n)||(yield wt(Et.Symbol,e,r,n))}o($U,"TSymbol");function*HU(e,t,r,n){if(!(0,ra.IsString)(n))return yield wt(Et.String,e,r,n);new RegExp(e.pattern).test(n)||(yield wt(Et.StringPattern,e,r,n))}o(HU,"TTemplateLiteral");function*jU(e,t,r,n){yield*Wa((0,Ww.Deref)(e,t),t,r,n)}o(jU,"TThis");function*VU(e,t,r,n){if(!(0,ra.IsArray)(n))return yield wt(Et.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield wt(Et.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield wt(Et.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*Wa(e.items[s],t,`${r}/${s}`,n[s])}o(VU,"TTuple");function*zU(e,t,r,n){(0,ra.IsUndefined)(n)||(yield wt(Et.Undefined,e,r,n))}o(zU,"TUndefined");function*GU(e,t,r,n){let s=0;for(let l of e.anyOf){let a=[...Wa(l,t,r,n)];if(a.length===0)return;s+=a.length}s>0&&(yield wt(Et.Union,e,r,n))}o(GU,"TUnion");function*KU(e,t,r,n){if(!(0,ra.IsUint8Array)(n))return yield wt(Et.Uint8Array,e,r,n);Bi(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield wt(Et.Uint8ArrayMaxByteLength,e,r,n)),Bi(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield wt(Et.Uint8ArrayMinByteLength,e,r,n))}o(KU,"TUint8Array");function*WU(e,t,r,n){}o(WU,"TUnknown");function*YU(e,t,r,n){O4.TypeSystemPolicy.IsVoidLike(n)||(yield wt(Et.Void,e,r,n))}o(YU,"TVoid");function*XU(e,t,r,n){Tf.TypeRegistry.Get(e[Tf.Kind])(e,n)||(yield wt(Et.Kind,e,r,n))}o(XU,"TKind");function*Wa(e,t,r,n){let s=Bi(e.$id)?[...t,e]:t,l=e;switch(l[Tf.Kind]){case"Any":return yield*_U(l,s,r,n);case"Array":return yield*bU(l,s,r,n);case"AsyncIterator":return yield*CU(l,s,r,n);case"BigInt":return yield*EU(l,s,r,n);case"Boolean":return yield*TU(l,s,r,n);case"Constructor":return yield*SU(l,s,r,n);case"Date":return yield*IU(l,s,r,n);case"Function":return yield*wU(l,s,r,n);case"Integer":return yield*AU(l,s,r,n);case"Intersect":return yield*PU(l,s,r,n);case"Iterator":return yield*NU(l,s,r,n);case"Literal":return yield*RU(l,s,r,n);case"Never":return yield*kU(l,s,r,n);case"Not":return yield*BU(l,s,r,n);case"Null":return yield*DU(l,s,r,n);case"Number":return yield*LU(l,s,r,n);case"Object":return yield*FU(l,s,r,n);case"Promise":return yield*OU(l,s,r,n);case"Record":return yield*MU(l,s,r,n);case"Ref":return yield*UU(l,s,r,n);case"String":return yield*qU(l,s,r,n);case"Symbol":return yield*$U(l,s,r,n);case"TemplateLiteral":return yield*HU(l,s,r,n);case"This":return yield*jU(l,s,r,n);case"Tuple":return yield*VU(l,s,r,n);case"Undefined":return yield*zU(l,s,r,n);case"Union":return yield*GU(l,s,r,n);case"Uint8Array":return yield*KU(l,s,r,n);case"Unknown":return yield*WU(l,s,r,n);case"Void":return yield*YU(l,s,r,n);default:if(!Tf.TypeRegistry.Has(l[Tf.Kind]))throw new Vg(e);return yield*XU(l,s,r,n)}}o(Wa,"Visit");function JU(...e){let t=e.length===3?Wa(e[0],e[1],"",e[2]):Wa(e[0],[],"",e[1]);return new zg(t)}o(JU,"Errors");Ef.Errors=JU});var Gg=v0(w2=>{"use strict";var ZU=w2&&w2.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QU=w2&&w2.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZU(t,e,r)};Object.defineProperty(w2,"__esModule",{value:!0});QU($9(),w2)});var Kg=v0(uu=>{"use strict";var eq=uu&&uu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tq=uu&&uu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eq(t,e,r)};Object.defineProperty(uu,"__esModule",{value:!0});uu.ValueErrorType=void 0;var rq=$9();Object.defineProperty(uu,"ValueErrorType",{enumerable:!0,get:function(){return rq.ValueErrorType}});tq(b_(),uu)});var U4=v0(M4=>{"use strict";Object.defineProperty(M4,"__esModule",{value:!0});M4.Check=M4.ValueCheckUnknownTypeError=void 0;var na=Hl(),j9=Kg(),Yw=P5(),nq=H9(),Ya=$l(),I_=class I_ extends Ya.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(I_,"ValueCheckUnknownTypeError");var Wg=I_;M4.ValueCheckUnknownTypeError=Wg;function iq(e){return e[Ya.Kind]==="Any"||e[Ya.Kind]==="Unknown"}o(iq,"IsAnyOrUnknown");function Di(e){return e!==void 0}o(Di,"IsDefined");function sq(e,t,r){return!0}o(sq,"TAny");function oq(e,t,r){if(!(0,na.IsArray)(r)||Di(e.minItems)&&!(r.length>=e.minItems)||Di(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(l=>Xa(e.items,t,l))||e.uniqueItems===!0&&!function(){let l=new Set;for(let a of r){let f=(0,nq.Hash)(a);if(l.has(f))return!1;l.add(f)}return!0}())return!1;if(!(Di(e.contains)||(0,na.IsNumber)(e.minContains)||(0,na.IsNumber)(e.maxContains)))return!0;let n=Di(e.contains)?e.contains:Ya.Type.Never(),s=r.reduce((l,a)=>Xa(n,t,a)?l+1:l,0);return!(s===0||(0,na.IsNumber)(e.minContains)&&s<e.minContains||(0,na.IsNumber)(e.maxContains)&&s>e.maxContains)}o(oq,"TArray");function aq(e,t,r){return(0,na.IsAsyncIterator)(r)}o(aq,"TAsyncIterator");function lq(e,t,r){return!(!(0,na.IsBigInt)(r)||Di(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Di(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Di(e.maximum)&&!(r<=e.maximum)||Di(e.minimum)&&!(r>=e.minimum)||Di(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(lq,"TBigInt");function fq(e,t,r){return(0,na.IsBoolean)(r)}o(fq,"TBoolean");function cq(e,t,r){return Xa(e.returns,t,r.prototype)}o(cq,"TConstructor");function uq(e,t,r){return!(!(0,na.IsDate)(r)||Di(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||Di(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||Di(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||Di(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||Di(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(uq,"TDate");function dq(e,t,r){return(0,na.IsFunction)(r)}o(dq,"TFunction");function hq(e,t,r){return!(!(0,na.IsInteger)(r)||Di(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Di(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Di(e.maximum)&&!(r<=e.maximum)||Di(e.minimum)&&!(r>=e.minimum)||Di(e.multipleOf)&&r%e.multipleOf!==0)}o(hq,"TInteger");function gq(e,t,r){let n=e.allOf.every(s=>Xa(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(Ya.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a));return n&&l}else if(Ya.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(Ya.KeyResolver.ResolvePattern(e)),l=Object.getOwnPropertyNames(r).every(a=>s.test(a)||Xa(e.unevaluatedProperties,t,r[a]));return n&&l}else return n}o(gq,"TIntersect");function mq(e,t,r){return(0,na.IsIterator)(r)}o(mq,"TIterator");function pq(e,t,r){return r===e.const}o(pq,"TLiteral");function yq(e,t,r){return!1}o(yq,"TNever");function vq(e,t,r){return!Xa(e.not,t,r)}o(vq,"TNot");function xq(e,t,r){return(0,na.IsNull)(r)}o(xq,"TNull");function _q(e,t,r){return!(!j9.TypeSystemPolicy.IsNumberLike(r)||Di(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||Di(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||Di(e.minimum)&&!(r>=e.minimum)||Di(e.maximum)&&!(r<=e.maximum)||Di(e.multipleOf)&&r%e.multipleOf!==0)}o(_q,"TNumber");function bq(e,t,r){if(!j9.TypeSystemPolicy.IsObjectLike(r)||Di(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Di(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let l=e.properties[s];if(e.required&&e.required.includes(s)){if(!Xa(l,t,r[s])||(Ya.ExtendsUndefined.Check(l)||iq(l))&&!(s in r))return!1}else if(j9.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!Xa(l,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(l=>n.includes(l))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(l=>n.includes(l)||Xa(e.additionalProperties,t,r[l])):!0}o(bq,"TObject");function Cq(e,t,r){return(0,na.IsPromise)(r)}o(Cq,"TPromise");function Eq(e,t,r){if(!j9.TypeSystemPolicy.IsRecordLike(r)||Di(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||Di(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],l=new RegExp(n),a=Object.entries(r).every(([u,d])=>l.test(u)?Xa(s,t,d):!0),f=typeof e.additionalProperties=="object"?Object.entries(r).every(([u,d])=>l.test(u)?!0:Xa(e.additionalProperties,t,d)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(u=>l.test(u)):!0;return a&&f&&c}o(Eq,"TRecord");function Tq(e,t,r){return Xa((0,Yw.Deref)(e,t),t,r)}o(Tq,"TRef");function Sq(e,t,r){return!(0,na.IsString)(r)||Di(e.minLength)&&!(r.length>=e.minLength)||Di(e.maxLength)&&!(r.length<=e.maxLength)||Di(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:Di(e.format)?Ya.FormatRegistry.Has(e.format)?Ya.FormatRegistry.Get(e.format)(r):!1:!0}o(Sq,"TString");function Iq(e,t,r){return(0,na.IsSymbol)(r)}o(Iq,"TSymbol");function wq(e,t,r){return(0,na.IsString)(r)&&new RegExp(e.pattern).test(r)}o(wq,"TTemplateLiteral");function Aq(e,t,r){return Xa((0,Yw.Deref)(e,t),t,r)}o(Aq,"TThis");function Pq(e,t,r){if(!(0,na.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Xa(e.items[n],t,r[n]))return!1;return!0}o(Pq,"TTuple");function Nq(e,t,r){return(0,na.IsUndefined)(r)}o(Nq,"TUndefined");function Rq(e,t,r){return e.anyOf.some(n=>Xa(n,t,r))}o(Rq,"TUnion");function kq(e,t,r){return!(!(0,na.IsUint8Array)(r)||Di(e.maxByteLength)&&!(r.length<=e.maxByteLength)||Di(e.minByteLength)&&!(r.length>=e.minByteLength))}o(kq,"TUint8Array");function Bq(e,t,r){return!0}o(Bq,"TUnknown");function Dq(e,t,r){return j9.TypeSystemPolicy.IsVoidLike(r)}o(Dq,"TVoid");function Lq(e,t,r){return Ya.TypeRegistry.Has(e[Ya.Kind])?Ya.TypeRegistry.Get(e[Ya.Kind])(e,r):!1}o(Lq,"TKind");function Xa(e,t,r){let n=Di(e.$id)?[...t,e]:t,s=e;switch(s[Ya.Kind]){case"Any":return sq(s,n,r);case"Array":return oq(s,n,r);case"AsyncIterator":return aq(s,n,r);case"BigInt":return lq(s,n,r);case"Boolean":return fq(s,n,r);case"Constructor":return cq(s,n,r);case"Date":return uq(s,n,r);case"Function":return dq(s,n,r);case"Integer":return hq(s,n,r);case"Intersect":return gq(s,n,r);case"Iterator":return mq(s,n,r);case"Literal":return pq(s,n,r);case"Never":return yq(s,n,r);case"Not":return vq(s,n,r);case"Null":return xq(s,n,r);case"Number":return _q(s,n,r);case"Object":return bq(s,n,r);case"Promise":return Cq(s,n,r);case"Record":return Eq(s,n,r);case"Ref":return Tq(s,n,r);case"String":return Sq(s,n,r);case"Symbol":return Iq(s,n,r);case"TemplateLiteral":return wq(s,n,r);case"This":return Aq(s,n,r);case"Tuple":return Pq(s,n,r);case"Undefined":return Nq(s,n,r);case"Union":return Rq(s,n,r);case"Uint8Array":return kq(s,n,r);case"Unknown":return Bq(s,n,r);case"Void":return Dq(s,n,r);default:if(!Ya.TypeRegistry.Has(s[Ya.Kind]))throw new Wg(s);return Lq(s,n,r)}}o(Xa,"Visit");function Fq(...e){return e.length===3?Xa(e[0],e[1],e[2]):Xa(e[0],[],e[1])}o(Fq,"Check");M4.Check=Fq});var D_=v0(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.EncodeTransform=hl.DecodeTransform=hl.HasTransform=hl.TransformEncodeError=hl.TransformDecodeError=hl.TransformEncodeCheckError=hl.TransformDecodeCheckError=void 0;var Tl=Hl(),q4=P5(),w_=U4(),cn=$l(),N_=class N_ extends cn.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(N_,"TransformDecodeCheckError");var A_=N_;hl.TransformDecodeCheckError=A_;var R_=class R_ extends cn.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(R_,"TransformEncodeCheckError");var P_=R_;hl.TransformEncodeCheckError=P_;var k_=class k_ extends cn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(k_,"TransformDecodeError");var Yg=k_;hl.TransformDecodeError=Yg;var B_=class B_ extends cn.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(B_,"TransformEncodeError");var Xg=B_;hl.TransformEncodeError=Xg;var Xw;(function(e){function t(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(t,"TArray");function r(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(r,"TAsyncIterator");function n(A,L){return cn.TypeGuard.TTransform(A)||x(A.returns,L)||A.parameters.some(D=>x(D,L))}o(n,"TConstructor");function s(A,L){return cn.TypeGuard.TTransform(A)||x(A.returns,L)||A.parameters.some(D=>x(D,L))}o(s,"TFunction");function l(A,L){return cn.TypeGuard.TTransform(A)||cn.TypeGuard.TTransform(A.unevaluatedProperties)||A.allOf.some(D=>x(D,L))}o(l,"TIntersect");function a(A,L){return cn.TypeGuard.TTransform(A)||x(A.items,L)}o(a,"TIterator");function f(A,L){return cn.TypeGuard.TTransform(A)||x(A.not,L)}o(f,"TNot");function c(A,L){return cn.TypeGuard.TTransform(A)||Object.values(A.properties).some(D=>x(D,L))||cn.TypeGuard.TSchema(A.additionalProperties)&&x(A.additionalProperties,L)}o(c,"TObject");function u(A,L){return cn.TypeGuard.TTransform(A)||x(A.item,L)}o(u,"TPromise");function d(A,L){let D=Object.getOwnPropertyNames(A.patternProperties)[0],k=A.patternProperties[D];return cn.TypeGuard.TTransform(A)||x(k,L)||cn.TypeGuard.TSchema(A.additionalProperties)&&cn.TypeGuard.TTransform(A.additionalProperties)}o(d,"TRecord");function h(A,L){return cn.TypeGuard.TTransform(A)?!0:x((0,q4.Deref)(A,L),L)}o(h,"TRef");function p(A,L){return cn.TypeGuard.TTransform(A)?!0:x((0,q4.Deref)(A,L),L)}o(p,"TThis");function m(A,L){return cn.TypeGuard.TTransform(A)||!(0,Tl.IsUndefined)(A.items)&&A.items.some(D=>x(D,L))}o(m,"TTuple");function v(A,L){return cn.TypeGuard.TTransform(A)||A.anyOf.some(D=>x(D,L))}o(v,"TUnion");function x(A,L){let D=(0,Tl.IsString)(A.$id)?[...L,A]:L,k=A;if(A.$id&&E.has(A.$id))return!1;switch(A.$id&&E.add(A.$id),A[cn.Kind]){case"Array":return t(k,D);case"AsyncIterator":return r(k,D);case"Constructor":return n(k,D);case"Function":return s(k,D);case"Intersect":return l(k,D);case"Iterator":return a(k,D);case"Not":return f(k,D);case"Object":return c(k,D);case"Promise":return u(k,D);case"Record":return d(k,D);case"Ref":return h(k,D);case"This":return p(k,D);case"Tuple":return m(k,D);case"Union":return v(k,D);default:return cn.TypeGuard.TTransform(A)}}o(x,"Visit");let E=new Set;function I(A,L){return E.clear(),x(A,L)}o(I,"Has"),e.Has=I})(Xw||(hl.HasTransform=Xw={}));var Jw;(function(e){function t(m,v){try{return cn.TypeGuard.TTransform(m)?m[cn.Transform].Decode(v):v}catch(x){throw new Yg(m,v,x)}}o(t,"Default");function r(m,v,x){return(0,Tl.IsArray)(x)?t(m,x.map(E=>h(m.items,v,E))):t(m,x)}o(r,"TArray");function n(m,v,x){if(!(0,Tl.IsPlainObject)(x)||(0,Tl.IsValueType)(x))return t(m,x);let E=cn.KeyResolver.ResolveKeys(m,{includePatterns:!1}),I=E.reduce((k,$)=>$ in k?{...k,[$]:h(cn.IndexedAccessor.Resolve(m,[$]),v,k[$])}:k,x);if(!cn.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,I);let A=Object.getOwnPropertyNames(I),L=m.unevaluatedProperties,D=A.reduce((k,$)=>E.includes($)?k:{...k,[$]:t(L,k[$])},I);return t(m,D)}o(n,"TIntersect");function s(m,v,x){return t(m,h(m.not,v,x))}o(s,"TNot");function l(m,v,x){if(!(0,Tl.IsPlainObject)(x))return t(m,x);let E=cn.KeyResolver.ResolveKeys(m,{includePatterns:!1}),I=E.reduce((k,$)=>$ in k?{...k,[$]:h(m.properties[$],v,k[$])}:k,x);if(!cn.TypeGuard.TSchema(m.additionalProperties))return t(m,I);let A=Object.getOwnPropertyNames(I),L=m.additionalProperties,D=A.reduce((k,$)=>E.includes($)?k:{...k,[$]:t(L,k[$])},I);return t(m,D)}o(l,"TObject");function a(m,v,x){if(!(0,Tl.IsPlainObject)(x))return t(m,x);let E=Object.getOwnPropertyNames(m.patternProperties)[0],I=new RegExp(E),A=Object.getOwnPropertyNames(x).reduce(($,ue)=>I.test(ue)?{...$,[ue]:h(m.patternProperties[E],v,$[ue])}:$,x);if(!cn.TypeGuard.TSchema(m.additionalProperties))return t(m,A);let L=Object.getOwnPropertyNames(A),D=m.additionalProperties,k=L.reduce(($,ue)=>I.test(ue)?$:{...$,[ue]:t(D,$[ue])},A);return t(m,k)}o(a,"TRecord");function f(m,v,x){let E=(0,q4.Deref)(m,v);return t(m,h(E,v,x))}o(f,"TRef");function c(m,v,x){let E=(0,q4.Deref)(m,v);return t(m,h(E,v,x))}o(c,"TThis");function u(m,v,x){return(0,Tl.IsArray)(x)&&(0,Tl.IsArray)(m.items)?t(m,m.items.map((E,I)=>h(E,v,x[I]))):t(m,x)}o(u,"TTuple");function d(m,v,x){let E=t(m,x);for(let I of m.anyOf)if((0,w_.Check)(I,v,E))return h(I,v,E);return E}o(d,"TUnion");function h(m,v,x){let E=typeof m.$id=="string"?[...v,m]:v,I=m;switch(m[cn.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"Symbol":return t(I,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function p(m,v,x){return h(m,v,x)}o(p,"Decode"),e.Decode=p})(Jw||(hl.DecodeTransform=Jw={}));var Zw;(function(e){function t(m,v){try{return cn.TypeGuard.TTransform(m)?m[cn.Transform].Encode(v):v}catch(x){throw new Xg(m,v,x)}}o(t,"Default");function r(m,v,x){let E=t(m,x);return(0,Tl.IsArray)(E)?E.map(I=>h(m.items,v,I)):E}o(r,"TArray");function n(m,v,x){let E=t(m,x);if(!(0,Tl.IsPlainObject)(x)||(0,Tl.IsValueType)(x))return E;let I=cn.KeyResolver.ResolveKeys(m,{includePatterns:!1}),A=I.reduce((k,$)=>$ in E?{...k,[$]:h(cn.IndexedAccessor.Resolve(m,[$]),v,k[$])}:k,E);if(!cn.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,A);let L=Object.getOwnPropertyNames(A),D=m.unevaluatedProperties;return L.reduce((k,$)=>I.includes($)?k:{...k,[$]:t(D,k[$])},A)}o(n,"TIntersect");function s(m,v,x){return t(m.not,t(m,x))}o(s,"TNot");function l(m,v,x){let E=t(m,x);if(!(0,Tl.IsPlainObject)(x))return E;let I=cn.KeyResolver.ResolveKeys(m,{includePatterns:!1}),A=I.reduce((k,$)=>$ in k?{...k,[$]:h(m.properties[$],v,k[$])}:k,E);if(!cn.TypeGuard.TSchema(m.additionalProperties))return A;let L=Object.getOwnPropertyNames(A),D=m.additionalProperties;return L.reduce((k,$)=>I.includes($)?k:{...k,[$]:t(D,k[$])},A)}o(l,"TObject");function a(m,v,x){let E=t(m,x);if(!(0,Tl.IsPlainObject)(x))return E;let I=Object.getOwnPropertyNames(m.patternProperties)[0],A=new RegExp(I),L=Object.getOwnPropertyNames(x).reduce(($,ue)=>A.test(ue)?{...$,[ue]:h(m.patternProperties[I],v,$[ue])}:$,E);if(!cn.TypeGuard.TSchema(m.additionalProperties))return t(m,L);let D=Object.getOwnPropertyNames(L),k=m.additionalProperties;return D.reduce(($,ue)=>A.test(ue)?$:{...$,[ue]:t(k,$[ue])},L)}o(a,"TRecord");function f(m,v,x){let E=(0,q4.Deref)(m,v),I=h(E,v,x);return t(m,I)}o(f,"TRef");function c(m,v,x){let E=(0,q4.Deref)(m,v),I=h(E,v,x);return t(m,I)}o(c,"TThis");function u(m,v,x){let E=t(m,x);return(0,Tl.IsArray)(m.items)?m.items.map((I,A)=>h(I,v,E[A])):[]}o(u,"TTuple");function d(m,v,x){for(let E of m.anyOf){if(!(0,w_.Check)(E,v,x))continue;let I=h(E,v,x);return t(m,I)}for(let E of m.anyOf){let I=h(E,v,x);if((0,w_.Check)(m,v,I))return t(m,I)}return t(m,x)}o(d,"TUnion");function h(m,v,x){let E=typeof m.$id=="string"?[...v,m]:v,I=m;switch(m[cn.Kind]){case"Array":return r(I,E,x);case"Intersect":return n(I,E,x);case"Not":return s(I,E,x);case"Object":return l(I,E,x);case"Record":return a(I,E,x);case"Ref":return f(I,E,x);case"This":return c(I,E,x);case"Tuple":return u(I,E,x);case"Union":return d(I,E,x);default:return t(I,x)}}o(h,"Visit");function p(m,v,x){return h(m,v,x)}o(p,"Encode"),e.Encode=p})(Zw||(hl.EncodeTransform=Zw={}))});var eA=v0(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.TypeCompiler=Sf.Policy=Sf.TypeCompilerTypeGuardError=Sf.TypeCompilerUnknownTypeError=Sf.TypeCheck=void 0;var V9=D_(),pn=Hl(),Oq=$9(),z9=Kg(),Mq=P5(),Uq=H9(),zs=$l(),O_=class O_{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=V9.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,Oq.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new V9.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?V9.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?V9.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new V9.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(O_,"TypeCheck");var Jg=O_;Sf.TypeCheck=Jg;var du;(function(e){function t(l){return l===36}o(t,"DollarSign"),e.DollarSign=t;function r(l){return l===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(l){return l>=65&&l<=90||l>=97&&l<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(l){return l>=48&&l<=57}o(s,"IsNumeric"),e.IsNumeric=s})(du||(du={}));var Zg;(function(e){function t(l){return l.length===0?!1:du.IsNumeric(l.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(l){if(t(l))return!1;for(let a=0;a<l.length;a++){let f=l.charCodeAt(a);if(!(du.IsAlpha(f)||du.IsNumeric(f)||du.DollarSign(f)||du.IsUnderscore(f)))return!1}return!0}o(r,"IsAccessor");function n(l){return l.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(l,a){return r(a)?`${l}.${a}`:`${l}['${n(a)}']`}o(s,"Encode"),e.Encode=s})(Zg||(Zg={}));var L_;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);du.IsNumeric(l)||du.IsAlpha(l)?n.push(r.charAt(s)):n.push(`_${l}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(L_||(L_={}));var F_;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(F_||(F_={}));var M_=class M_ extends zs.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(M_,"TypeCompilerUnknownTypeError");var Qg=M_;Sf.TypeCompilerUnknownTypeError=Qg;var U_=class U_ extends zs.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(U_,"TypeCompilerTypeGuardError");var G9=U_;Sf.TypeCompilerTypeGuardError=G9;var A2;(function(e){function t(a,f,c){return z9.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${f}' in ${a} ? ${c} : true)`:`(${Zg.Encode(a,f)} !== undefined ? ${c} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(a){return z9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null)`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(a){return z9.TypeSystemPolicy.AllowArrayObject?`(typeof ${a} === 'object' && ${a} !== null && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`:`(typeof ${a} === 'object' && ${a} !== null && !Array.isArray(${a}) && !(${a} instanceof Date) && !(${a} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(a){return z9.TypeSystemPolicy.AllowNaN?`typeof ${a} === 'number'`:`(typeof ${a} === 'number' && Number.isFinite(${a}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function l(a){return z9.TypeSystemPolicy.AllowNullVoid?`(${a} === undefined || ${a} === null)`:`${a} === undefined`}o(l,"IsVoidLike"),e.IsVoidLike=l})(A2||(Sf.Policy=A2={}));var Qw;(function(e){function t(qe){return qe[zs.Kind]==="Any"||qe[zs.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(qe,B0,Ve){yield"true"}o(r,"TAny");function*n(qe,B0,Ve){yield`Array.isArray(${Ve})`;let[U0,D0]=[g0("value","any"),g0("acc","number")];(0,pn.IsNumber)(qe.maxItems)&&(yield`${Ve}.length <= ${qe.maxItems}`),(0,pn.IsNumber)(qe.minItems)&&(yield`${Ve}.length >= ${qe.minItems}`);let q0=s0(qe.items,B0,"value");if(yield`${Ve}.every((${U0}) => ${q0})`,zs.TypeGuard.TSchema(qe.contains)||(0,pn.IsNumber)(qe.minContains)||(0,pn.IsNumber)(qe.maxContains)){let pr=zs.TypeGuard.TSchema(qe.contains)?qe.contains:zs.Type.Never(),Vr=s0(pr,B0,"value"),Mt=(0,pn.IsNumber)(qe.minContains)?[`(count >= ${qe.minContains})`]:[],ae=(0,pn.IsNumber)(qe.maxContains)?[`(count <= ${qe.maxContains})`]:[],vr=`const count = value.reduce((${D0}, ${U0}) => ${Vr} ? acc + 1 : acc, 0)`,rn=["(count > 0)",...Mt,...ae].join(" && ");yield`((${U0}) => { ${vr}; return ${rn}})(${Ve})`}qe.uniqueItems===!0&&(yield`((${U0}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ve})`)}o(n,"TArray");function*s(qe,B0,Ve){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ve})`}o(s,"TAsyncIterator");function*l(qe,B0,Ve){yield`(typeof ${Ve} === 'bigint')`,(0,pn.IsBigInt)(qe.exclusiveMaximum)&&(yield`${Ve} < BigInt(${qe.exclusiveMaximum})`),(0,pn.IsBigInt)(qe.exclusiveMinimum)&&(yield`${Ve} > BigInt(${qe.exclusiveMinimum})`),(0,pn.IsBigInt)(qe.maximum)&&(yield`${Ve} <= BigInt(${qe.maximum})`),(0,pn.IsBigInt)(qe.minimum)&&(yield`${Ve} >= BigInt(${qe.minimum})`),(0,pn.IsBigInt)(qe.multipleOf)&&(yield`(${Ve} % BigInt(${qe.multipleOf})) === 0`)}o(l,"TBigInt");function*a(qe,B0,Ve){yield`(typeof ${Ve} === 'boolean')`}o(a,"TBoolean");function*f(qe,B0,Ve){yield*o0(qe.returns,B0,`${Ve}.prototype`)}o(f,"TConstructor");function*c(qe,B0,Ve){yield`(${Ve} instanceof Date) && Number.isFinite(${Ve}.getTime())`,(0,pn.IsNumber)(qe.exclusiveMaximumTimestamp)&&(yield`${Ve}.getTime() < ${qe.exclusiveMaximumTimestamp}`),(0,pn.IsNumber)(qe.exclusiveMinimumTimestamp)&&(yield`${Ve}.getTime() > ${qe.exclusiveMinimumTimestamp}`),(0,pn.IsNumber)(qe.maximumTimestamp)&&(yield`${Ve}.getTime() <= ${qe.maximumTimestamp}`),(0,pn.IsNumber)(qe.minimumTimestamp)&&(yield`${Ve}.getTime() >= ${qe.minimumTimestamp}`),(0,pn.IsNumber)(qe.multipleOfTimestamp)&&(yield`(${Ve}.getTime() % ${qe.multipleOfTimestamp}) === 0`)}o(c,"TDate");function*u(qe,B0,Ve){yield`(typeof ${Ve} === 'function')`}o(u,"TFunction");function*d(qe,B0,Ve){yield`(typeof ${Ve} === 'number' && Number.isInteger(${Ve}))`,(0,pn.IsNumber)(qe.exclusiveMaximum)&&(yield`${Ve} < ${qe.exclusiveMaximum}`),(0,pn.IsNumber)(qe.exclusiveMinimum)&&(yield`${Ve} > ${qe.exclusiveMinimum}`),(0,pn.IsNumber)(qe.maximum)&&(yield`${Ve} <= ${qe.maximum}`),(0,pn.IsNumber)(qe.minimum)&&(yield`${Ve} >= ${qe.minimum}`),(0,pn.IsNumber)(qe.multipleOf)&&(yield`(${Ve} % ${qe.multipleOf}) === 0`)}o(d,"TInteger");function*h(qe,B0,Ve){let U0=qe.allOf.map(D0=>s0(D0,B0,Ve)).join(" && ");if(qe.unevaluatedProperties===!1){let D0=_e(`${new RegExp(zs.KeyResolver.ResolvePattern(qe))};`),q0=`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.test(key))`;yield`(${U0} && ${q0})`}else if(zs.TypeGuard.TSchema(qe.unevaluatedProperties)){let D0=_e(`${new RegExp(zs.KeyResolver.ResolvePattern(qe))};`),q0=`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.test(key) || ${s0(qe.unevaluatedProperties,B0,`${Ve}[key]`)})`;yield`(${U0} && ${q0})`}else yield`(${U0})`}o(h,"TIntersect");function*p(qe,B0,Ve){yield`(typeof value === 'object' && Symbol.iterator in ${Ve})`}o(p,"TIterator");function*m(qe,B0,Ve){typeof qe.const=="number"||typeof qe.const=="boolean"?yield`(${Ve} === ${qe.const})`:yield`(${Ve} === '${F_.Escape(qe.const)}')`}o(m,"TLiteral");function*v(qe,B0,Ve){yield"false"}o(v,"TNever");function*x(qe,B0,Ve){yield`(!${s0(qe.not,B0,Ve)})`}o(x,"TNot");function*E(qe,B0,Ve){yield`(${Ve} === null)`}o(E,"TNull");function*I(qe,B0,Ve){yield A2.IsNumberLike(Ve),(0,pn.IsNumber)(qe.exclusiveMaximum)&&(yield`${Ve} < ${qe.exclusiveMaximum}`),(0,pn.IsNumber)(qe.exclusiveMinimum)&&(yield`${Ve} > ${qe.exclusiveMinimum}`),(0,pn.IsNumber)(qe.maximum)&&(yield`${Ve} <= ${qe.maximum}`),(0,pn.IsNumber)(qe.minimum)&&(yield`${Ve} >= ${qe.minimum}`),(0,pn.IsNumber)(qe.multipleOf)&&(yield`(${Ve} % ${qe.multipleOf}) === 0`)}o(I,"TNumber");function*A(qe,B0,Ve){yield A2.IsObjectLike(Ve),(0,pn.IsNumber)(qe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length >= ${qe.minProperties}`),(0,pn.IsNumber)(qe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length <= ${qe.maxProperties}`);let U0=Object.getOwnPropertyNames(qe.properties);for(let D0 of U0){let q0=Zg.Encode(Ve,D0),pr=qe.properties[D0];if(qe.required&&qe.required.includes(D0))yield*o0(pr,B0,q0),(zs.ExtendsUndefined.Check(pr)||t(pr))&&(yield`('${D0}' in ${Ve})`);else{let Vr=s0(pr,B0,q0);yield A2.IsExactOptionalProperty(Ve,D0,Vr)}}if(qe.additionalProperties===!1)if(qe.required&&qe.required.length===U0.length)yield`Object.getOwnPropertyNames(${Ve}).length === ${U0.length}`;else{let D0=`[${U0.map(q0=>`'${q0}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ve}).every(key => ${D0}.includes(key))`}if(typeof qe.additionalProperties=="object"){let D0=s0(qe.additionalProperties,B0,`${Ve}[key]`),q0=`[${U0.map(pr=>`'${pr}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ve}).every(key => ${q0}.includes(key) || ${D0}))`}}o(A,"TObject");function*L(qe,B0,Ve){yield`(typeof value === 'object' && typeof ${Ve}.then === 'function')`}o(L,"TPromise");function*D(qe,B0,Ve){yield A2.IsRecordLike(Ve),(0,pn.IsNumber)(qe.minProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length >= ${qe.minProperties}`),(0,pn.IsNumber)(qe.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ve}).length <= ${qe.maxProperties}`);let[U0,D0]=Object.entries(qe.patternProperties)[0],q0=_e(`${new RegExp(U0)}`),pr=s0(D0,B0,"value"),Vr=zs.TypeGuard.TSchema(qe.additionalProperties)?s0(qe.additionalProperties,B0,Ve):qe.additionalProperties===!1?"false":"true",Mt=`(${q0}.test(key) ? ${pr} : ${Vr})`;yield`(Object.entries(${Ve}).every(([key, value]) => ${Mt}))`}o(D,"TRecord");function*k(qe,B0,Ve){let U0=(0,Mq.Deref)(qe,B0);if(l0.functions.has(qe.$ref))return yield`${c0(qe.$ref)}(${Ve})`;yield*o0(U0,B0,Ve)}o(k,"TRef");function*$(qe,B0,Ve){yield`(typeof ${Ve} === 'string')`,(0,pn.IsNumber)(qe.maxLength)&&(yield`${Ve}.length <= ${qe.maxLength}`),(0,pn.IsNumber)(qe.minLength)&&(yield`${Ve}.length >= ${qe.minLength}`),qe.pattern!==void 0&&(yield`${_e(`${new RegExp(qe.pattern)};`)}.test(${Ve})`),qe.format!==void 0&&(yield`format('${qe.format}', ${Ve})`)}o($,"TString");function*ue(qe,B0,Ve){yield`(typeof ${Ve} === 'symbol')`}o(ue,"TSymbol");function*ce(qe,B0,Ve){yield`(typeof ${Ve} === 'string')`,yield`${_e(`${new RegExp(qe.pattern)};`)}.test(${Ve})`}o(ce,"TTemplateLiteral");function*e0(qe,B0,Ve){yield`${c0(qe.$ref)}(${Ve})`}o(e0,"TThis");function*d0(qe,B0,Ve){if(yield`Array.isArray(${Ve})`,qe.items===void 0)return yield`${Ve}.length === 0`;yield`(${Ve}.length === ${qe.maxItems})`;for(let U0=0;U0<qe.items.length;U0++)yield`${s0(qe.items[U0],B0,`${Ve}[${U0}]`)}`}o(d0,"TTuple");function*n0(qe,B0,Ve){yield`${Ve} === undefined`}o(n0,"TUndefined");function*_0(qe,B0,Ve){yield`(${qe.anyOf.map(D0=>s0(D0,B0,Ve)).join(" || ")})`}o(_0,"TUnion");function*je(qe,B0,Ve){yield`${Ve} instanceof Uint8Array`,(0,pn.IsNumber)(qe.maxByteLength)&&(yield`(${Ve}.length <= ${qe.maxByteLength})`),(0,pn.IsNumber)(qe.minByteLength)&&(yield`(${Ve}.length >= ${qe.minByteLength})`)}o(je,"TUint8Array");function*we(qe,B0,Ve){yield"true"}o(we,"TUnknown");function*t0(qe,B0,Ve){yield A2.IsVoidLike(Ve)}o(t0,"TVoid");function*h0(qe,B0,Ve){let U0=l0.instances.size;l0.instances.set(U0,qe),yield`kind('${qe[zs.Kind]}', ${U0}, ${Ve})`}o(h0,"TKind");function*o0(qe,B0,Ve,U0=!0){let D0=(0,pn.IsString)(qe.$id)?[...B0,qe]:B0,q0=qe;if(U0&&(0,pn.IsString)(qe.$id)){let pr=c0(qe.$id);if(l0.functions.has(pr))return yield`${pr}(${Ve})`;{let Vr=ve(pr,qe,B0,"value",!1);return l0.functions.set(pr,Vr),yield`${pr}(${Ve})`}}switch(q0[zs.Kind]){case"Any":return yield*r(q0,D0,Ve);case"Array":return yield*n(q0,D0,Ve);case"AsyncIterator":return yield*s(q0,D0,Ve);case"BigInt":return yield*l(q0,D0,Ve);case"Boolean":return yield*a(q0,D0,Ve);case"Constructor":return yield*f(q0,D0,Ve);case"Date":return yield*c(q0,D0,Ve);case"Function":return yield*u(q0,D0,Ve);case"Integer":return yield*d(q0,D0,Ve);case"Intersect":return yield*h(q0,D0,Ve);case"Iterator":return yield*p(q0,D0,Ve);case"Literal":return yield*m(q0,D0,Ve);case"Never":return yield*v(q0,D0,Ve);case"Not":return yield*x(q0,D0,Ve);case"Null":return yield*E(q0,D0,Ve);case"Number":return yield*I(q0,D0,Ve);case"Object":return yield*A(q0,D0,Ve);case"Promise":return yield*L(q0,D0,Ve);case"Record":return yield*D(q0,D0,Ve);case"Ref":return yield*k(q0,D0,Ve);case"String":return yield*$(q0,D0,Ve);case"Symbol":return yield*ue(q0,D0,Ve);case"TemplateLiteral":return yield*ce(q0,D0,Ve);case"This":return yield*e0(q0,D0,Ve);case"Tuple":return yield*d0(q0,D0,Ve);case"Undefined":return yield*n0(q0,D0,Ve);case"Union":return yield*_0(q0,D0,Ve);case"Uint8Array":return yield*je(q0,D0,Ve);case"Unknown":return yield*we(q0,D0,Ve);case"Void":return yield*t0(q0,D0,Ve);default:if(!zs.TypeRegistry.Has(q0[zs.Kind]))throw new Qg(qe);return yield*h0(q0,D0,Ve)}}o(o0,"Visit");let l0={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function s0(qe,B0,Ve,U0=!0){return`(${[...o0(qe,B0,Ve,U0)].join(" && ")})`}o(s0,"CreateExpression");function c0(qe){return`check_${L_.Encode(qe)}`}o(c0,"CreateFunctionName");function _e(qe){let B0=`local_${l0.variables.size}`;return l0.variables.set(B0,`const ${B0} = ${qe}`),B0}o(_e,"CreateVariable");function ve(qe,B0,Ve,U0,D0=!0){let[q0,pr]=[`
`,vr=>"".padStart(vr," ")],Vr=g0("value","any"),Mt=N0("boolean"),ae=[...o0(B0,Ve,U0,D0)].map(vr=>`${pr(4)}${vr}`).join(` &&${q0}`);return`function ${qe}(${Vr})${Mt} {${q0}${pr(2)}return (${q0}${ae}${q0}${pr(2)})
}`}o(ve,"CreateFunction");function g0(qe,B0){let Ve=l0.language==="typescript"?`: ${B0}`:"";return`${qe}${Ve}`}o(g0,"CreateParameter");function N0(qe){return l0.language==="typescript"?`: ${qe}`:""}o(N0,"CreateReturns");function R0(qe,B0,Ve){let U0=ve("check",qe,B0,"value"),D0=g0("value","any"),q0=N0("boolean"),pr=[...l0.functions.values()],Vr=[...l0.variables.values()],Mt=(0,pn.IsString)(qe.$id)?`return function check(${D0})${q0} {
  return ${c0(qe.$id)}(value)
}`:`return ${U0}`;return[...Vr,...pr,Mt].join(`
`)}o(R0,"Build");function A0(...qe){let B0={language:"javascript"},[Ve,U0,D0]=qe.length===2&&(0,pn.IsArray)(qe[1])?[qe[0],qe[1],B0]:qe.length===2&&!(0,pn.IsArray)(qe[1])?[qe[0],[],qe[1]]:qe.length===3?[qe[0],qe[1],qe[2]]:qe.length===1?[qe[0],[],B0]:[null,[],B0];if(l0.language=D0.language,l0.variables.clear(),l0.functions.clear(),l0.instances.clear(),!zs.TypeGuard.TSchema(Ve))throw new G9(Ve);for(let q0 of U0)if(!zs.TypeGuard.TSchema(q0))throw new G9(q0);return R0(Ve,U0,D0)}o(A0,"Code"),e.Code=A0;function X0(qe,B0=[]){let Ve=A0(qe,B0,{language:"javascript"}),U0=globalThis.Function("kind","format","hash",Ve),D0=new Map(l0.instances);function q0(ae,vr,rn){if(!zs.TypeRegistry.Has(ae)||!D0.has(vr))return!1;let Ms=zs.TypeRegistry.Get(ae),ol=D0.get(vr);return Ms(ol,rn)}o(q0,"typeRegistryFunction");function pr(ae,vr){return zs.FormatRegistry.Has(ae)?zs.FormatRegistry.Get(ae)(vr):!1}o(pr,"formatRegistryFunction");function Vr(ae){return(0,Uq.Hash)(ae)}o(Vr,"hashFunction");let Mt=U0(q0,pr,Vr);return new Jg(qe,B0,Mt,Ve)}o(X0,"Compile"),e.Compile=X0})(Qw||(Sf.TypeCompiler=Qw={}))});var rA=v0(d1=>{"use strict";var qq=d1&&d1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$q=d1&&d1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qq(t,e,r)};Object.defineProperty(d1,"__esModule",{value:!0});d1.ValueErrorIterator=d1.ValueErrorType=void 0;var tA=Gg();Object.defineProperty(d1,"ValueErrorType",{enumerable:!0,get:function(){return tA.ValueErrorType}});Object.defineProperty(d1,"ValueErrorIterator",{enumerable:!0,get:function(){return tA.ValueErrorIterator}});$q(eA(),d1)});var lc=v0((exports,module)=>{"use strict";var fo=Object.create,Le=Object.defineProperty,go=Object.getOwnPropertyDescriptor,ho=Object.getOwnPropertyNames,bo=Object.getPrototypeOf,yo=Object.prototype.hasOwnProperty,i=o((e,t)=>Le(e,"name",{value:t,configurable:!0}),"i"),P=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"P"),wo=o((e,t)=>{for(var r in t)Le(e,r,{get:t[r],enumerable:!0})},"wo"),Nn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ho(t))!yo.call(e,s)&&s!==r&&Le(e,s,{get:()=>t[s],enumerable:!(n=go(t,s))||n.enumerable});return e},"Nn"),Ft=o((e,t,r)=>(r=e!=null?fo(bo(e)):{},Nn(t||!e||!e.__esModule?Le(r,"default",{value:e,enumerable:!0}):r,e)),"Ft"),vo=o(e=>Nn(Le({},"__esModule",{value:!0}),e),"vo"),fr=P(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,l=97,a=122,f=48,c=57,u=43,d=47,h=26,p=52;return n<=r&&r<=s?r-n:l<=r&&r<=a?r-l+h:f<=r&&r<=c?r-f+p:r==u?62:r==d?63:-1}}),nn=P(e=>{var t=fr(),r=5,n=1<<r,s=n-1,l=n;function a(c){return c<0?(-c<<1)+1:(c<<1)+0}o(a,"hs"),i(a,"toVLQSigned");function f(c){var u=(c&1)===1,d=c>>1;return u?-d:d}o(f,"bs"),i(f,"fromVLQSigned"),e.encode=i(function(c){var u="",d,h=a(c);do d=h&s,h>>>=r,h>0&&(d|=l),u+=t.encode(d);while(h>0);return u},"base64VLQ_encode"),e.decode=i(function(c,u,d){var h=c.length,p=0,m=0,v,x;do{if(u>=h)throw new Error("Expected more digits in base 64 VLQ value.");if(x=t.decode(c.charCodeAt(u++)),x===-1)throw new Error("Invalid base64 digit: "+c.charAt(u-1));v=!!(x&l),x&=s,p=p+(x<<m),m+=r}while(v);d.value=f(p),d.rest=u},"base64VLQ_decode")}),Se=P(e=>{function t(D,k,$){if(k in D)return D[k];if(arguments.length===3)return $;throw new Error('"'+k+'" is a required argument.')}o(t,"ys"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(D){var k=D.match(r);return k?{scheme:k[1],auth:k[2],host:k[3],port:k[4],path:k[5]}:null}o(s,"Ve"),i(s,"urlParse"),e.urlParse=s;function l(D){var k="";return D.scheme&&(k+=D.scheme+":"),k+="//",D.auth&&(k+=D.auth+"@"),D.host&&(k+=D.host),D.port&&(k+=":"+D.port),D.path&&(k+=D.path),k}o(l,"we"),i(l,"urlGenerate"),e.urlGenerate=l;function a(D){var k=D,$=s(D);if($){if(!$.path)return D;k=$.path}for(var ue=e.isAbsolute(k),ce=k.split(/\/+/),e0,d0=0,n0=ce.length-1;n0>=0;n0--)e0=ce[n0],e0==="."?ce.splice(n0,1):e0===".."?d0++:d0>0&&(e0===""?(ce.splice(n0+1,d0),d0=0):(ce.splice(n0,2),d0--));return k=ce.join("/"),k===""&&(k=ue?"/":"."),$?($.path=k,l($)):k}o(a,"rn"),i(a,"normalize"),e.normalize=a;function f(D,k){D===""&&(D="."),k===""&&(k=".");var $=s(k),ue=s(D);if(ue&&(D=ue.path||"/"),$&&!$.scheme)return ue&&($.scheme=ue.scheme),l($);if($||k.match(n))return k;if(ue&&!ue.host&&!ue.path)return ue.host=k,l(ue);var ce=k.charAt(0)==="/"?k:a(D.replace(/\/+$/,"")+"/"+k);return ue?(ue.path=ce,l(ue)):ce}o(f,"vr"),i(f,"join"),e.join=f,e.isAbsolute=function(D){return D.charAt(0)==="/"||r.test(D)};function c(D,k){D===""&&(D="."),D=D.replace(/\/$/,"");for(var $=0;k.indexOf(D+"/")!==0;){var ue=D.lastIndexOf("/");if(ue<0||(D=D.slice(0,ue),D.match(/^([^\/]+:\/)?\/*$/)))return k;++$}return Array($+1).join("../")+k.substr(D.length+1)}o(c,"vs"),i(c,"relative"),e.relative=c;var u=function(){var D=Object.create(null);return!("__proto__"in D)}();function d(D){return D}o(d,"Er"),i(d,"identity");function h(D){return m(D)?"$"+D:D}o(h,"Ss"),i(h,"toSetString"),e.toSetString=u?d:h;function p(D){return m(D)?D.slice(1):D}o(p,"Es"),i(p,"fromSetString"),e.fromSetString=u?d:p;function m(D){if(!D)return!1;var k=D.length;if(k<9||D.charCodeAt(k-1)!==95||D.charCodeAt(k-2)!==95||D.charCodeAt(k-3)!==111||D.charCodeAt(k-4)!==116||D.charCodeAt(k-5)!==111||D.charCodeAt(k-6)!==114||D.charCodeAt(k-7)!==112||D.charCodeAt(k-8)!==95||D.charCodeAt(k-9)!==95)return!1;for(var $=k-10;$>=0;$--)if(D.charCodeAt($)!==36)return!1;return!0}o(m,"Mr"),i(m,"isProtoString");function v(D,k,$){var ue=E(D.source,k.source);return ue!==0||(ue=D.originalLine-k.originalLine,ue!==0)||(ue=D.originalColumn-k.originalColumn,ue!==0||$)||(ue=D.generatedColumn-k.generatedColumn,ue!==0)||(ue=D.generatedLine-k.generatedLine,ue!==0)?ue:E(D.name,k.name)}o(v,"Ms"),i(v,"compareByOriginalPositions"),e.compareByOriginalPositions=v;function x(D,k,$){var ue=D.generatedLine-k.generatedLine;return ue!==0||(ue=D.generatedColumn-k.generatedColumn,ue!==0||$)||(ue=E(D.source,k.source),ue!==0)||(ue=D.originalLine-k.originalLine,ue!==0)||(ue=D.originalColumn-k.originalColumn,ue!==0)?ue:E(D.name,k.name)}o(x,"Ts"),i(x,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=x;function E(D,k){return D===k?0:D===null?1:k===null?-1:D>k?1:-1}o(E,"ve"),i(E,"strcmp");function I(D,k){var $=D.generatedLine-k.generatedLine;return $!==0||($=D.generatedColumn-k.generatedColumn,$!==0)||($=E(D.source,k.source),$!==0)||($=D.originalLine-k.originalLine,$!==0)||($=D.originalColumn-k.originalColumn,$!==0)?$:E(D.name,k.name)}o(I,"xs"),i(I,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=I;function A(D){return JSON.parse(D.replace(/^\)]}'[^\n]*\n/,""))}o(A,"Is"),i(A,"parseSourceMapInput"),e.parseSourceMapInput=A;function L(D,k,$){if(k=k||"",D&&(D[D.length-1]!=="/"&&k[0]!=="/"&&(D+="/"),k=D+k),$){var ue=s($);if(!ue)throw new Error("sourceMapURL could not be parsed");if(ue.path){var ce=ue.path.lastIndexOf("/");ce>=0&&(ue.path=ue.path.substring(0,ce+1))}k=f(l(ue),k)}return a(k)}o(L,"Ls"),i(L,"computeSourceURL"),e.computeSourceURL=L}),an=P(e=>{var t=Se(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"Q"),i(s,"ArraySet"),s.fromArray=i(function(l,a){for(var f=new s,c=0,u=l.length;c<u;c++)f.add(l[c],a);return f},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(l,a){var f=n?l:t.toSetString(l),c=n?this.has(l):r.call(this._set,f),u=this._array.length;(!c||a)&&this._array.push(l),c||(n?this._set.set(l,u):this._set[f]=u)},"ArraySet_add"),s.prototype.has=i(function(l){if(n)return this._set.has(l);var a=t.toSetString(l);return r.call(this._set,a)},"ArraySet_has"),s.prototype.indexOf=i(function(l){if(n){var a=this._set.get(l);if(a>=0)return a}else{var f=t.toSetString(l);if(r.call(this._set,f))return this._set[f]}throw new Error('"'+l+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(l){if(l>=0&&l<this._array.length)return this._array[l];throw new Error("No element indexed by "+l)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),Lr=P(e=>{var t=Se();function r(s,l){var a=s.generatedLine,f=l.generatedLine,c=s.generatedColumn,u=l.generatedColumn;return f>a||f==a&&u>=c||t.compareByGeneratedPositionsInflated(s,l)<=0}o(r,"Ns"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"wt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,l){this._array.forEach(s,l)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),ln=P(e=>{var t=nn(),r=Se(),n=an().ArraySet,s=Lr().MappingList;function l(a){a||(a={}),this._file=r.getArg(a,"file",null),this._sourceRoot=r.getArg(a,"sourceRoot",null),this._skipValidation=r.getArg(a,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(l,"D"),i(l,"SourceMapGenerator"),l.prototype._version=3,l.fromSourceMap=i(function(a){var f=a.sourceRoot,c=new l({file:a.file,sourceRoot:f});return a.eachMapping(function(u){var d={generated:{line:u.generatedLine,column:u.generatedColumn}};u.source!=null&&(d.source=u.source,f!=null&&(d.source=r.relative(f,d.source)),d.original={line:u.originalLine,column:u.originalColumn},u.name!=null&&(d.name=u.name)),c.addMapping(d)}),a.sources.forEach(function(u){var d=u;f!==null&&(d=r.relative(f,u)),c._sources.has(d)||c._sources.add(d);var h=a.sourceContentFor(u);h!=null&&c.setSourceContent(u,h)}),c},"SourceMapGenerator_fromSourceMap"),l.prototype.addMapping=i(function(a){var f=r.getArg(a,"generated"),c=r.getArg(a,"original",null),u=r.getArg(a,"source",null),d=r.getArg(a,"name",null);this._skipValidation||this._validateMapping(f,c,u,d),u!=null&&(u=String(u),this._sources.has(u)||this._sources.add(u)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:c!=null&&c.line,originalColumn:c!=null&&c.column,source:u,name:d})},"SourceMapGenerator_addMapping"),l.prototype.setSourceContent=i(function(a,f){var c=a;this._sourceRoot!=null&&(c=r.relative(this._sourceRoot,c)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(c)]=f):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(c)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),l.prototype.applySourceMap=i(function(a,f,c){var u=f;if(f==null){if(a.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);u=a.file}var d=this._sourceRoot;d!=null&&(u=r.relative(d,u));var h=new n,p=new n;this._mappings.unsortedForEach(function(m){if(m.source===u&&m.originalLine!=null){var v=a.originalPositionFor({line:m.originalLine,column:m.originalColumn});v.source!=null&&(m.source=v.source,c!=null&&(m.source=r.join(c,m.source)),d!=null&&(m.source=r.relative(d,m.source)),m.originalLine=v.line,m.originalColumn=v.column,v.name!=null&&(m.name=v.name))}var x=m.source;x!=null&&!h.has(x)&&h.add(x);var E=m.name;E!=null&&!p.has(E)&&p.add(E)},this),this._sources=h,this._names=p,a.sources.forEach(function(m){var v=a.sourceContentFor(m);v!=null&&(c!=null&&(m=r.join(c,m)),d!=null&&(m=r.relative(d,m)),this.setSourceContent(m,v))},this)},"SourceMapGenerator_applySourceMap"),l.prototype._validateMapping=i(function(a,f,c,u){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(a&&"line"in a&&"column"in a&&a.line>0&&a.column>=0&&!f&&!c&&!u)){if(a&&"line"in a&&"column"in a&&f&&"line"in f&&"column"in f&&a.line>0&&a.column>=0&&f.line>0&&f.column>=0&&c)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:a,source:c,original:f,name:u}))}},"SourceMapGenerator_validateMapping"),l.prototype._serializeMappings=i(function(){for(var a=0,f=1,c=0,u=0,d=0,h=0,p="",m,v,x,E,I=this._mappings.toArray(),A=0,L=I.length;A<L;A++){if(v=I[A],m="",v.generatedLine!==f)for(a=0;v.generatedLine!==f;)m+=";",f++;else if(A>0){if(!r.compareByGeneratedPositionsInflated(v,I[A-1]))continue;m+=","}m+=t.encode(v.generatedColumn-a),a=v.generatedColumn,v.source!=null&&(E=this._sources.indexOf(v.source),m+=t.encode(E-h),h=E,m+=t.encode(v.originalLine-1-u),u=v.originalLine-1,m+=t.encode(v.originalColumn-c),c=v.originalColumn,v.name!=null&&(x=this._names.indexOf(v.name),m+=t.encode(x-d),d=x)),p+=m}return p},"SourceMapGenerator_serializeMappings"),l.prototype._generateSourcesContent=i(function(a,f){return a.map(function(c){if(!this._sourcesContents)return null;f!=null&&(c=r.relative(f,c));var u=r.toSetString(c);return Object.prototype.hasOwnProperty.call(this._sourcesContents,u)?this._sourcesContents[u]:null},this)},"SourceMapGenerator_generateSourcesContent"),l.prototype.toJSON=i(function(){var a={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(a.file=this._file),this._sourceRoot!=null&&(a.sourceRoot=this._sourceRoot),this._sourcesContents&&(a.sourcesContent=this._generateSourcesContent(a.sources,a.sourceRoot)),a},"SourceMapGenerator_toJSON"),l.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=l}),Pr=P(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,l,a,f){var c=Math.floor((n-r)/2)+r,u=a(s,l[c],!0);return u===0?c:u>0?n-c>1?t(c,n,s,l,a,f):f==e.LEAST_UPPER_BOUND?n<l.length?n:-1:c:c-r>1?t(r,c,s,l,a,f):f==e.LEAST_UPPER_BOUND?c:r<0?-1:r}o(t,"un"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,l){if(n.length===0)return-1;var a=t(-1,n.length,r,n,s,l||e.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&s(n[a],n[a-1],!0)===0;)--a;return a},"search")}),Cr=P(e=>{function t(s,l,a){var f=s[l];s[l]=s[a],s[a]=f}o(t,"cn"),i(t,"swap");function r(s,l){return Math.round(s+Math.random()*(l-s))}o(r,"ks"),i(r,"randomIntInRange");function n(s,l,a,f){if(a<f){var c=r(a,f),u=a-1;t(s,c,f);for(var d=s[f],h=a;h<f;h++)l(s[h],d)<=0&&(u+=1,t(s,u,h));t(s,u+1,h);var p=u+1;n(s,l,a,p-1),n(s,l,p+1,f)}}o(n,"dn"),i(n,"doQuickSort"),e.quickSort=function(s,l){n(s,l,0,s.length-1)}}),Fr=P(e=>{var t=Se(),r=Pr(),n=an().ArraySet,s=nn(),l=Cr().quickSort;function a(d,h){var p=d;return typeof d=="string"&&(p=t.parseSourceMapInput(d)),p.sections!=null?new u(p,h):new f(p,h)}o(a,"E"),i(a,"SourceMapConsumer"),a.fromSourceMap=function(d,h){return f.fromSourceMap(d,h)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=i(function(d,h){var p=d.charAt(h);return p===";"||p===","},"SourceMapConsumer_charIsMappingSeparator"),a.prototype._parseMappings=i(function(d,h){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=i(function(d,h,p){var m=h||null,v=p||a.GENERATED_ORDER,x;switch(v){case a.GENERATED_ORDER:x=this._generatedMappings;break;case a.ORIGINAL_ORDER:x=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var E=this.sourceRoot;x.map(function(I){var A=I.source===null?null:this._sources.at(I.source);return A=t.computeSourceURL(E,A,this._sourceMapURL),{source:A,generatedLine:I.generatedLine,generatedColumn:I.generatedColumn,originalLine:I.originalLine,originalColumn:I.originalColumn,name:I.name===null?null:this._names.at(I.name)}},this).forEach(d,m)},"SourceMapConsumer_eachMapping"),a.prototype.allGeneratedPositionsFor=i(function(d){var h=t.getArg(d,"line"),p={source:t.getArg(d,"source"),originalLine:h,originalColumn:t.getArg(d,"column",0)};if(p.source=this._findSourceIndex(p.source),p.source<0)return[];var m=[],v=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(v>=0){var x=this._originalMappings[v];if(d.column===void 0)for(var E=x.originalLine;x&&x.originalLine===E;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v];else for(var I=x.originalColumn;x&&x.originalLine===h&&x.originalColumn==I;)m.push({line:t.getArg(x,"generatedLine",null),column:t.getArg(x,"generatedColumn",null),lastColumn:t.getArg(x,"lastGeneratedColumn",null)}),x=this._originalMappings[++v]}return m},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=a;function f(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var m=t.getArg(p,"version"),v=t.getArg(p,"sources"),x=t.getArg(p,"names",[]),E=t.getArg(p,"sourceRoot",null),I=t.getArg(p,"sourcesContent",null),A=t.getArg(p,"mappings"),L=t.getArg(p,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);E&&(E=t.normalize(E)),v=v.map(String).map(t.normalize).map(function(D){return E&&t.isAbsolute(E)&&t.isAbsolute(D)?t.relative(E,D):D}),this._names=n.fromArray(x.map(String),!0),this._sources=n.fromArray(v,!0),this._absoluteSources=this._sources.toArray().map(function(D){return t.computeSourceURL(E,D,h)}),this.sourceRoot=E,this.sourcesContent=I,this._mappings=A,this._sourceMapURL=h,this.file=L}o(f,"L"),i(f,"BasicSourceMapConsumer"),f.prototype=Object.create(a.prototype),f.prototype.consumer=a,f.prototype._findSourceIndex=function(d){var h=d;if(this.sourceRoot!=null&&(h=t.relative(this.sourceRoot,h)),this._sources.has(h))return this._sources.indexOf(h);var p;for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==d)return p;return-1},f.fromSourceMap=i(function(d,h){var p=Object.create(f.prototype),m=p._names=n.fromArray(d._names.toArray(),!0),v=p._sources=n.fromArray(d._sources.toArray(),!0);p.sourceRoot=d._sourceRoot,p.sourcesContent=d._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=d._file,p._sourceMapURL=h,p._absoluteSources=p._sources.toArray().map(function($){return t.computeSourceURL(p.sourceRoot,$,h)});for(var x=d._mappings.toArray().slice(),E=p.__generatedMappings=[],I=p.__originalMappings=[],A=0,L=x.length;A<L;A++){var D=x[A],k=new c;k.generatedLine=D.generatedLine,k.generatedColumn=D.generatedColumn,D.source&&(k.source=v.indexOf(D.source),k.originalLine=D.originalLine,k.originalColumn=D.originalColumn,D.name&&(k.name=m.indexOf(D.name)),I.push(k)),E.push(k)}return l(p.__originalMappings,t.compareByOriginalPositions),p},"SourceMapConsumer_fromSourceMap"),f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function c(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(c,"Ar"),i(c,"Mapping"),f.prototype._parseMappings=i(function(d,h){for(var p=1,m=0,v=0,x=0,E=0,I=0,A=d.length,L=0,D={},k={},$=[],ue=[],ce,e0,d0,n0,_0;L<A;)if(d.charAt(L)===";")p++,L++,m=0;else if(d.charAt(L)===",")L++;else{for(ce=new c,ce.generatedLine=p,n0=L;n0<A&&!this._charIsMappingSeparator(d,n0);n0++);if(e0=d.slice(L,n0),d0=D[e0],d0)L+=e0.length;else{for(d0=[];L<n0;)s.decode(d,L,k),_0=k.value,L=k.rest,d0.push(_0);if(d0.length===2)throw new Error("Found a source, but no line and column");if(d0.length===3)throw new Error("Found a source and line, but no column");D[e0]=d0}ce.generatedColumn=m+d0[0],m=ce.generatedColumn,d0.length>1&&(ce.source=E+d0[1],E+=d0[1],ce.originalLine=v+d0[2],v=ce.originalLine,ce.originalLine+=1,ce.originalColumn=x+d0[3],x=ce.originalColumn,d0.length>4&&(ce.name=I+d0[4],I+=d0[4])),ue.push(ce),typeof ce.originalLine=="number"&&$.push(ce)}l(ue,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=ue,l($,t.compareByOriginalPositions),this.__originalMappings=$},"SourceMapConsumer_parseMappings"),f.prototype._findMapping=i(function(d,h,p,m,v,x){if(d[p]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[p]);if(d[m]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[m]);return r.search(d,h,v,x)},"SourceMapConsumer_findMapping"),f.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var h=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var p=this._generatedMappings[d+1];if(h.generatedLine===p.generatedLine){h.lastGeneratedColumn=p.generatedColumn-1;continue}}h.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),f.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=this._findMapping(h,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(p>=0){var m=this._generatedMappings[p];if(m.generatedLine===h.generatedLine){var v=t.getArg(m,"source",null);v!==null&&(v=this._sources.at(v),v=t.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var x=t.getArg(m,"name",null);return x!==null&&(x=this._names.at(x)),{source:v,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:x}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,h){if(!this.sourcesContent)return null;var p=this._findSourceIndex(d);if(p>=0)return this.sourcesContent[p];var m=d;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var v;if(this.sourceRoot!=null&&(v=t.urlParse(this.sourceRoot))){var x=m.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(x))return this.sourcesContent[this._sources.indexOf(x)];if((!v.path||v.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(h)return null;throw new Error('"'+m+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){var h=t.getArg(d,"source");if(h=this._findSourceIndex(h),h<0)return{line:null,column:null,lastColumn:null};var p={source:h,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},m=this._findMapping(p,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",a.GREATEST_LOWER_BOUND));if(m>=0){var v=this._originalMappings[m];if(v.source===p.source)return{line:t.getArg(v,"generatedLine",null),column:t.getArg(v,"generatedColumn",null),lastColumn:t.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=f;function u(d,h){var p=d;typeof d=="string"&&(p=t.parseSourceMapInput(d));var m=t.getArg(p,"version"),v=t.getArg(p,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var x={line:-1,column:0};this._sections=v.map(function(E){if(E.url)throw new Error("Support for url field in sections not implemented.");var I=t.getArg(E,"offset"),A=t.getArg(I,"line"),L=t.getArg(I,"column");if(A<x.line||A===x.line&&L<x.column)throw new Error("Section offsets must be ordered and non-overlapping.");return x=I,{generatedOffset:{generatedLine:A+1,generatedColumn:L+1},consumer:new a(t.getArg(E,"map"),h)}})}o(u,"V"),i(u,"IndexedSourceMapConsumer"),u.prototype=Object.create(a.prototype),u.prototype.constructor=a,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var d=[],h=0;h<this._sections.length;h++)for(var p=0;p<this._sections[h].consumer.sources.length;p++)d.push(this._sections[h].consumer.sources[p]);return d}}),u.prototype.originalPositionFor=i(function(d){var h={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},p=r.search(h,this._sections,function(v,x){var E=v.generatedLine-x.generatedOffset.generatedLine;return E||v.generatedColumn-x.generatedOffset.generatedColumn}),m=this._sections[p];return m?m.consumer.originalPositionFor({line:h.generatedLine-(m.generatedOffset.generatedLine-1),column:h.generatedColumn-(m.generatedOffset.generatedLine===h.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),u.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),u.prototype.sourceContentFor=i(function(d,h){for(var p=0;p<this._sections.length;p++){var m=this._sections[p],v=m.consumer.sourceContentFor(d,!0);if(v)return v}if(h)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),u.prototype.generatedPositionFor=i(function(d){for(var h=0;h<this._sections.length;h++){var p=this._sections[h];if(p.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var m=p.consumer.generatedPositionFor(d);if(m){var v={line:m.line+(p.generatedOffset.generatedLine-1),column:m.column+(p.generatedOffset.generatedLine===m.line?p.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),u.prototype._parseMappings=i(function(d,h){this.__generatedMappings=[],this.__originalMappings=[];for(var p=0;p<this._sections.length;p++)for(var m=this._sections[p],v=m.consumer._generatedMappings,x=0;x<v.length;x++){var E=v[x],I=m.consumer._sources.at(E.source);I=t.computeSourceURL(m.consumer.sourceRoot,I,this._sourceMapURL),this._sources.add(I),I=this._sources.indexOf(I);var A=null;E.name&&(A=m.consumer._names.at(E.name),this._names.add(A),A=this._names.indexOf(A));var L={source:I,generatedLine:E.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:E.generatedColumn+(m.generatedOffset.generatedLine===E.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:E.originalLine,originalColumn:E.originalColumn,name:A};this.__generatedMappings.push(L),typeof L.originalLine=="number"&&this.__originalMappings.push(L)}l(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),l(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=u}),Or=P(e=>{var t=ln().SourceMapGenerator,r=Se(),n=/(\r?\n)/,s=10,l="$$$isSourceNode$$$";function a(f,c,u,d,h){this.children=[],this.sourceContents={},this.line=f!=null?f:null,this.column=c!=null?c:null,this.source=u!=null?u:null,this.name=h!=null?h:null,this[l]=!0,d!=null&&this.add(d)}o(a,"R"),i(a,"SourceNode"),a.fromStringWithSourceMap=i(function(f,c,u){var d=new a,h=f.split(n),p=0,m=i(function(){var A=D(),L=D()||"";return A+L;function D(){return p<h.length?h[p++]:void 0}},"shiftNextLine"),v=1,x=0,E=null;return c.eachMapping(function(A){if(E!==null)if(v<A.generatedLine)I(E,m()),v++,x=0;else{var L=h[p]||"",D=L.substr(0,A.generatedColumn-x);h[p]=L.substr(A.generatedColumn-x),x=A.generatedColumn,I(E,D),E=A;return}for(;v<A.generatedLine;)d.add(m()),v++;if(x<A.generatedColumn){var L=h[p]||"";d.add(L.substr(0,A.generatedColumn)),h[p]=L.substr(A.generatedColumn),x=A.generatedColumn}E=A},this),p<h.length&&(E&&I(E,m()),d.add(h.splice(p).join(""))),c.sources.forEach(function(A){var L=c.sourceContentFor(A);L!=null&&(u!=null&&(A=r.join(u,A)),d.setSourceContent(A,L))}),d;function I(A,L){if(A===null||A.source===void 0)d.add(L);else{var D=u?r.join(u,A.source):A.source;d.add(new a(A.originalLine,A.originalColumn,D,L,A.name))}}},"SourceNode_fromStringWithSourceMap"),a.prototype.add=i(function(f){if(Array.isArray(f))f.forEach(function(c){this.add(c)},this);else if(f[l]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_add"),a.prototype.prepend=i(function(f){if(Array.isArray(f))for(var c=f.length-1;c>=0;c--)this.prepend(f[c]);else if(f[l]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},"SourceNode_prepend"),a.prototype.walk=i(function(f){for(var c,u=0,d=this.children.length;u<d;u++)c=this.children[u],c[l]?c.walk(f):c!==""&&f(c,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),a.prototype.join=i(function(f){var c,u,d=this.children.length;if(d>0){for(c=[],u=0;u<d-1;u++)c.push(this.children[u]),c.push(f);c.push(this.children[u]),this.children=c}return this},"SourceNode_join"),a.prototype.replaceRight=i(function(f,c){var u=this.children[this.children.length-1];return u[l]?u.replaceRight(f,c):typeof u=="string"?this.children[this.children.length-1]=u.replace(f,c):this.children.push("".replace(f,c)),this},"SourceNode_replaceRight"),a.prototype.setSourceContent=i(function(f,c){this.sourceContents[r.toSetString(f)]=c},"SourceNode_setSourceContent"),a.prototype.walkSourceContents=i(function(f){for(var c=0,u=this.children.length;c<u;c++)this.children[c][l]&&this.children[c].walkSourceContents(f);for(var d=Object.keys(this.sourceContents),c=0,u=d.length;c<u;c++)f(r.fromSetString(d[c]),this.sourceContents[d[c]])},"SourceNode_walkSourceContents"),a.prototype.toString=i(function(){var f="";return this.walk(function(c){f+=c}),f},"SourceNode_toString"),a.prototype.toStringWithSourceMap=i(function(f){var c={code:"",line:1,column:0},u=new t(f),d=!1,h=null,p=null,m=null,v=null;return this.walk(function(x,E){c.code+=x,E.source!==null&&E.line!==null&&E.column!==null?((h!==E.source||p!==E.line||m!==E.column||v!==E.name)&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name}),h=E.source,p=E.line,m=E.column,v=E.name,d=!0):d&&(u.addMapping({generated:{line:c.line,column:c.column}}),h=null,d=!1);for(var I=0,A=x.length;I<A;I++)x.charCodeAt(I)===s?(c.line++,c.column=0,I+1===A?(h=null,d=!1):d&&u.addMapping({source:E.source,original:{line:E.line,column:E.column},generated:{line:c.line,column:c.column},name:E.name})):c.column++}),this.walkSourceContents(function(x,E){u.setSourceContent(x,E)}),{code:c.code,map:u}},"SourceNode_toStringWithSourceMap"),e.SourceNode=a}),Dr=P(e=>{e.SourceMapGenerator=ln().SourceMapGenerator,e.SourceMapConsumer=Fr().SourceMapConsumer,e.SourceNode=Or().SourceNode}),Wr=P((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(c){return r.call(c).slice(8,-1)==="ArrayBuffer"}o(s,"Ds"),i(s,"isArrayBuffer");function l(c,u,d){u>>>=0;var h=c.byteLength-u;if(h<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=h;else if(d>>>=0,d>h)throw new RangeError("'length' is out of bounds");return n?Buffer.from(c.slice(u,u+d)):new Buffer(new Uint8Array(c.slice(u,u+d)))}o(l,"Bs"),i(l,"fromArrayBuffer");function a(c,u){if((typeof u!="string"||u==="")&&(u="utf8"),!Buffer.isEncoding(u))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(c,u):new Buffer(c,u)}o(a,"Ws"),i(a,"fromString");function f(c,u,d){if(typeof c=="number")throw new TypeError('"value" argument must not be a number');return s(c)?l(c,u,d):typeof c=="string"?a(c,u):n?Buffer.from(c):new Buffer(c)}o(f,"Us"),i(f,"bufferFrom"),t.exports=f}),$r=P((e,t)=>{var r=Dr().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var l=Wr();function a(_e,ve){return _e.require(ve)}o(a,"Ur"),i(a,"dynamicRequire");var f=!1,c=!1,u=!1,d="auto",h={},p={},m=/^data:application\/json[^,]+base64,/,v=[],x=[];function E(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(E,"bn"),i(E,"isInBrowser");function I(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(I,"qs"),i(I,"hasGlobalProcessEventEmitter");function A(){return typeof process=="object"&&process!==null?process.version:""}o(A,"js"),i(A,"globalProcessVersion");function L(){if(typeof process=="object"&&process!==null)return process.stderr}o(L,"Zs"),i(L,"globalProcessStderr");function D(_e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(_e)}o(D,"$s"),i(D,"globalProcessExit");function k(_e){return function(ve){for(var g0=0;g0<_e.length;g0++){var N0=_e[g0](ve);if(N0)return N0}return null}}o(k,"Tt"),i(k,"handlerExec");var $=k(v);v.push(function(_e){if(_e=_e.trim(),/^file:/.test(_e)&&(_e=_e.replace(/file:\/\/\/(\w:)?/,function(N0,R0){return R0?"":"/"})),_e in h)return h[_e];var ve="";try{if(s)s.existsSync(_e)&&(ve=s.readFileSync(_e,"utf8"));else{var g0=new XMLHttpRequest;g0.open("GET",_e,!1),g0.send(null),g0.readyState===4&&g0.status===200&&(ve=g0.responseText)}}catch{}return h[_e]=ve});function ue(_e,ve){if(!_e)return ve;var g0=n.dirname(_e),N0=/^\w+:\/\/[^\/]*/.exec(g0),R0=N0?N0[0]:"",A0=g0.slice(R0.length);return R0&&/^\/\w\:/.test(A0)?(R0+="/",R0+n.resolve(g0.slice(R0.length),ve).replace(/\\/g,"/")):R0+n.resolve(g0.slice(R0.length),ve)}o(ue,"gn"),i(ue,"supportRelativeURL");function ce(_e){var ve;if(E())try{var g0=new XMLHttpRequest;g0.open("GET",_e,!1),g0.send(null),ve=g0.readyState===4?g0.responseText:null;var N0=g0.getResponseHeader("SourceMap")||g0.getResponseHeader("X-SourceMap");if(N0)return N0}catch{}ve=$(_e);for(var R0=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,A0,X0;X0=R0.exec(ve);)A0=X0;return A0?A0[1]:null}o(ce,"Gs"),i(ce,"retrieveSourceMapURL");var e0=k(x);x.push(function(_e){var ve=ce(_e);if(!ve)return null;var g0;if(m.test(ve)){var N0=ve.slice(ve.indexOf(",")+1);g0=l(N0,"base64").toString(),ve=_e}else ve=ue(_e,ve),g0=$(ve);return g0?{url:ve,map:g0}:null});function d0(_e){var ve=p[_e.source];if(!ve){var g0=e0(_e.source);g0?(ve=p[_e.source]={url:g0.url,map:new r(g0.map)},ve.map.sourcesContent&&ve.map.sources.forEach(function(R0,A0){var X0=ve.map.sourcesContent[A0];if(X0){var qe=ue(ve.url,R0);h[qe]=X0}})):ve=p[_e.source]={url:null,map:null}}if(ve&&ve.map&&typeof ve.map.originalPositionFor=="function"){var N0=ve.map.originalPositionFor(_e);if(N0.source!==null)return N0.source=ue(ve.url,N0.source),N0}return _e}o(d0,"vn"),i(d0,"mapSourcePosition");function n0(_e){var ve=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(_e);if(ve){var g0=d0({source:ve[2],line:+ve[3],column:ve[4]-1});return"eval at "+ve[1]+" ("+g0.source+":"+g0.line+":"+(g0.column+1)+")"}return ve=/^eval at ([^(]+) \((.+)\)$/.exec(_e),ve?"eval at "+ve[1]+" ("+n0(ve[2])+")":_e}o(n0,"qr"),i(n0,"mapEvalOrigin");function _0(){var _e,ve="";if(this.isNative())ve="native";else{_e=this.getScriptNameOrSourceURL(),!_e&&this.isEval()&&(ve=this.getEvalOrigin(),ve+=", "),_e?ve+=_e:ve+="<anonymous>";var g0=this.getLineNumber();if(g0!=null){ve+=":"+g0;var N0=this.getColumnNumber();N0&&(ve+=":"+N0)}}var R0="",A0=this.getFunctionName(),X0=!0,qe=this.isConstructor(),B0=!(this.isToplevel()||qe);if(B0){var Ve=this.getTypeName();Ve==="[object Object]"&&(Ve="null");var U0=this.getMethodName();A0?(Ve&&A0.indexOf(Ve)!=0&&(R0+=Ve+"."),R0+=A0,U0&&A0.indexOf("."+U0)!=A0.length-U0.length-1&&(R0+=" [as "+U0+"]")):R0+=Ve+"."+(U0||"<anonymous>")}else qe?R0+="new "+(A0||"<anonymous>"):A0?R0+=A0:(R0+=ve,X0=!1);return X0&&(R0+=" ("+ve+")"),R0}o(_0,"Ks"),i(_0,"CallSiteToString");function je(_e){var ve={};return Object.getOwnPropertyNames(Object.getPrototypeOf(_e)).forEach(function(g0){ve[g0]=/^(?:is|get)/.test(g0)?function(){return _e[g0].call(_e)}:_e[g0]}),ve.toString=_0,ve}o(je,"Hr"),i(je,"cloneCallSite");function we(_e,ve){if(ve===void 0&&(ve={nextPosition:null,curPosition:null}),_e.isNative())return ve.curPosition=null,_e;var g0=_e.getFileName()||_e.getScriptNameOrSourceURL();if(g0){var N0=_e.getLineNumber(),R0=_e.getColumnNumber()-1,A0=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,X0=A0.test(A())?0:62;N0===1&&R0>X0&&!E()&&!_e.isEval()&&(R0-=X0);var qe=d0({source:g0,line:N0,column:R0});ve.curPosition=qe,_e=je(_e);var B0=_e.getFunctionName;return _e.getFunctionName=function(){return ve.nextPosition==null?B0():ve.nextPosition.name||B0()},_e.getFileName=function(){return qe.source},_e.getLineNumber=function(){return qe.line},_e.getColumnNumber=function(){return qe.column+1},_e.getScriptNameOrSourceURL=function(){return qe.source},_e}var Ve=_e.isEval()&&_e.getEvalOrigin();return Ve&&(Ve=n0(Ve),_e=je(_e),_e.getEvalOrigin=function(){return Ve}),_e}o(we,"jr"),i(we,"wrapCallSite");function t0(_e,ve){u&&(h={},p={});for(var g0=_e.name||"Error",N0=_e.message||"",R0=g0+": "+N0,A0={nextPosition:null,curPosition:null},X0=[],qe=ve.length-1;qe>=0;qe--)X0.push(`
    at `+we(ve[qe],A0)),A0.nextPosition=A0.curPosition;return A0.curPosition=A0.nextPosition=null,R0+X0.reverse().join("")}o(t0,"Js"),i(t0,"prepareStackTrace");function h0(_e){var ve=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(_e.stack);if(ve){var g0=ve[1],N0=+ve[2],R0=+ve[3],A0=h[g0];if(!A0&&s&&s.existsSync(g0))try{A0=s.readFileSync(g0,"utf8")}catch{A0=""}if(A0){var X0=A0.split(/(?:\r\n|\r|\n)/)[N0-1];if(X0)return g0+":"+N0+`
`+X0+`
`+new Array(R0).join(" ")+"^"}}return null}o(h0,"Zr"),i(h0,"getErrorSource");function o0(_e){var ve=h0(_e),g0=L();g0&&g0._handle&&g0._handle.setBlocking&&g0._handle.setBlocking(!0),ve&&(console.error(),console.error(ve)),console.error(_e.stack),D(1)}o(o0,"Qs"),i(o0,"printErrorAndExit");function l0(){var _e=process.emit;process.emit=function(ve){if(ve==="uncaughtException"){var g0=arguments[1]&&arguments[1].stack,N0=this.listeners(ve).length>0;if(g0&&!N0)return o0(arguments[1])}return _e.apply(this,arguments)}}o(l0,"Xs"),i(l0,"shimEmitUncaughtException");var s0=v.slice(0),c0=x.slice(0);e.wrapCallSite=we,e.getErrorSource=h0,e.mapSourcePosition=d0,e.retrieveSourceMap=e0,e.install=function(_e){if(_e=_e||{},_e.environment&&(d=_e.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(_e.retrieveFile&&(_e.overrideRetrieveFile&&(v.length=0),v.unshift(_e.retrieveFile)),_e.retrieveSourceMap&&(_e.overrideRetrieveSourceMap&&(x.length=0),x.unshift(_e.retrieveSourceMap)),_e.hookRequire&&!E()){var ve=a(t,"module"),g0=ve.prototype._compile;g0.__sourceMapSupport||(ve.prototype._compile=function(A0,X0){return h[X0]=A0,p[X0]=void 0,g0.call(this,A0,X0)},ve.prototype._compile.__sourceMapSupport=!0)}if(u||(u="emptyCacheBetweenOperations"in _e?_e.emptyCacheBetweenOperations:!1),f||(f=!0,Error.prepareStackTrace=t0),!c){var N0="handleUncaughtExceptions"in _e?_e.handleUncaughtExceptions:!0;try{var R0=a(t,"worker_threads");R0.isMainThread===!1&&(N0=!1)}catch{}N0&&I()&&(c=!0,l0())}},e.resetRetrieveHandlers=function(){v.length=0,x.length=0,v=s0.slice(0),x=c0.slice(0),e0=k(x),$=k(v)}}),Gr=P(()=>{$r().install()}),to=P((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((a,f)=>{throw f},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(a){return Module.locateFile?Module.locateFile(a,scriptDirectory):scriptDirectory+a}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(a){a instanceof ExitStatus||err("exiting due to exception: "+a)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((a,f)=>(a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFileSync(a,f?void 0:"utf8")),"read_"),readBinary=i(a=>{var f=read_(a,!0);return f.buffer||(f=new Uint8Array(f)),f},"readBinary"),readAsync=i((a,f,c)=>{a=isFileURI(a)?new URL(a):nodePath.normalize(a),fs.readFile(a,function(u,d){u?c(u):f(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((a,f)=>{if(keepRuntimeAlive())throw process.exitCode=a,f;logExceptionOnExit(f),process.exit(a)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.send(null),f.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(a=>{var f=new XMLHttpRequest;return f.open("GET",a,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)},"readBinary")),readAsync=i((a,f,c)=>{var u=new XMLHttpRequest;u.open("GET",a,!0),u.responseType="arraybuffer",u.onload=()=>{u.status==200||u.status==0&&u.response?f(u.response):c()},u.onerror=c,u.send(null)},"readAsync"),setWindowTitle=i(a=>document.title=a,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(a,f,c){for(var u=f+c,d=f;a[d]&&!(d>=u);)++d;if(d-f>16&&a.buffer&&UTF8Decoder)return UTF8Decoder.decode(a.subarray(f,d));for(var h="";f<d;){var p=a[f++];if(128&p){var m=63&a[f++];if((224&p)!=192){var v=63&a[f++];if((p=(240&p)==224?(15&p)<<12|m<<6|v:(7&p)<<18|m<<12|v<<6|63&a[f++])<65536)h+=String.fromCharCode(p);else{var x=p-65536;h+=String.fromCharCode(55296|x>>10,56320|1023&x)}}else h+=String.fromCharCode((31&p)<<6|m)}else h+=String.fromCharCode(p)}return h}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(a,f){return a?UTF8ArrayToString(HEAPU8,a,f):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(a,f,c,u){if(!(u>0))return 0;for(var d=c,h=c+u-1,p=0;p<a.length;++p){var m=a.charCodeAt(p);if(m>=55296&&m<=57343&&(m=65536+((1023&m)<<10)|1023&a.charCodeAt(++p)),m<=127){if(c>=h)break;f[c++]=m}else if(m<=2047){if(c+1>=h)break;f[c++]=192|m>>6,f[c++]=128|63&m}else if(m<=65535){if(c+2>=h)break;f[c++]=224|m>>12,f[c++]=128|m>>6&63,f[c++]=128|63&m}else{if(c+3>=h)break;f[c++]=240|m>>18,f[c++]=128|m>>12&63,f[c++]=128|m>>6&63,f[c++]=128|63&m}}return f[c]=0,c-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(a,f,c){return stringToUTF8Array(a,HEAPU8,f,c)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(a){for(var f=0,c=0;c<a.length;++c){var u=a.charCodeAt(c);u<=127?f++:u<=2047?f+=2:u>=55296&&u<=57343?(f+=4,++c):f+=3}return f}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(a){buffer=a,Module.HEAP8=HEAP8=new Int8Array(a),Module.HEAP16=HEAP16=new Int16Array(a),Module.HEAP32=HEAP32=new Int32Array(a),Module.HEAPU8=HEAPU8=new Uint8Array(a),Module.HEAPU16=HEAPU16=new Uint16Array(a),Module.HEAPU32=HEAPU32=new Uint32Array(a),Module.HEAPF32=HEAPF32=new Float32Array(a),Module.HEAPF64=HEAPF64=new Float64Array(a)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(a){__ATPRERUN__.unshift(a)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(a){__ATINIT__.unshift(a)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(a){__ATPOSTRUN__.unshift(a)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(a){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(a){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var f=dependenciesFulfilled;dependenciesFulfilled=null,f()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(a){throw Module.onAbort&&Module.onAbort(a),err(a="Aborted("+a+")"),ABORT=!0,EXITSTATUS=1,a+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(a)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(a){return a.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(a){return a.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(a){try{if(a==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(a);throw"both async and sync fetching of the wasm failed"}catch(f){abort(f)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return a.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(a,f){readAsync(wasmBinaryFile,function(c){a(new Uint8Array(c))},f)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var a={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function f(d,h){var p=d.exports;p=relocateExports(p,1024);var m=getDylinkMetadata(h);m.neededDynlibs&&(dynamicLibraries=m.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(p,"main"),Module.asm=p,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(f,"e"),i(f,"t");function c(d){f(d.instance,d.module)}o(c,"n"),i(c,"r");function u(d){return getBinaryPromise().then(function(h){return WebAssembly.instantiate(h,a)}).then(function(h){return h}).then(d,function(h){err("failed to asynchronously prepare wasm: "+h),abort(h)})}if(o(u,"r"),i(u,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(a,f)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?u(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,a).then(c,function(h){return err("wasm streaming compile failed: "+h),err("falling back to ArrayBuffer instantiation"),u(c)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(a,f){var c=GOT[f];return c||(c=GOT[f]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(f)||(c.required=!0),c}};function callRuntimeCallbacks(a){for(;a.length>0;)a.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(a){var f=0,c=0;function u(){for(var ue=0,ce=1;;){var e0=a[f++];if(ue+=(127&e0)*ce,ce*=128,!(128&e0))break}return ue}o(u,"r"),i(u,"_");function d(){var ue=u();return UTF8ArrayToString(a,(f+=ue)-ue,ue)}o(d,"o"),i(d,"n");function h(ue,ce){if(ue)throw new Error(ce)}o(h,"s"),i(h,"s");var p="dylink.0";if(a instanceof WebAssembly.Module){var m=WebAssembly.Module.customSections(a,p);m.length===0&&(p="dylink",m=WebAssembly.Module.customSections(a,p)),h(m.length===0,"need dylink section"),c=(a=new Uint8Array(m[0])).length}else{h(new Uint32Array(new Uint8Array(a.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),h(a[8]!==0,"need the dylink section to be first"),f=9;var v=u();c=f+v,p=d()}var x={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(p=="dylink"){x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();for(var E=u(),I=0;I<E;++I){var A=d();x.neededDynlibs.push(A)}}else for(h(p!=="dylink.0");f<c;){var L=a[f++],D=u();if(L===1)x.memorySize=u(),x.memoryAlign=u(),x.tableSize=u(),x.tableAlign=u();else if(L===2)for(E=u(),I=0;I<E;++I)A=d(),x.neededDynlibs.push(A);else if(L===3)for(var k=u();k--;){var $=d();256&u()&&x.tlsExports.add($)}else if(L===4)for(k=u();k--;)d(),$=d(),(3&u())==1&&x.weakImports.add($);else f+=D}return x}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(a,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":case"i8":return HEAP8[a>>0];case"i16":return HEAP16[a>>1];case"i32":case"i64":return HEAP32[a>>2];case"float":return HEAPF32[a>>2];case"double":return HEAPF64[a>>3];case"*":return HEAPU32[a>>2];default:abort("invalid type for getValue: "+f)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(a){return a.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(a)?a:"_"+a}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(a,f){for(var c in a)if(a.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=a[c]);var u=asmjsMangle(c);Module.hasOwnProperty(u)||(Module[u]=a[c]),c=="__main_argc_argv"&&(Module._main=a[c])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(a,f,c){var u=Module["dynCall_"+a];return c&&c.length?u.apply(null,[f].concat(c)):u.call(null,f)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(a){var f=wasmTableMirror[a];return f||(a>=wasmTableMirror.length&&(wasmTableMirror.length=a+1),wasmTableMirror[a]=f=wasmTable.get(a)),f}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(a,f,c){return a.includes("j")?dynCallLegacy(a,f,c):getWasmTableEntry(f).apply(null,c)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(a){return function(){var f=stackSave();try{return dynCall(a,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(f),c!==c+0)throw c;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(a,f){return HEAPU8.fill(0,a,a+f),a}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(a){if(runtimeInitialized)return zeroMemory(_malloc(a),a);var f=___heap_base,c=f+a+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,f}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(a){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(a)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(a,f){a<128?f.push(a):f.push(a%128|128,a>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(a){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:a[0]=="v"?[]:[f[a[0]]]},u=1;u<a.length;++u)c.parameters.push(f[a[u]]),a[u]==="j"&&c.parameters.push("i32");return c}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(a,f){var c=a.slice(0,1),u=a.slice(1),d={i:127,p:127,j:126,f:125,d:124};f.push(96),uleb128Encode(u.length,f);for(var h=0;h<u.length;++h)f.push(d[u[h]]);c=="v"?f.push(0):f.push(1,d[c])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(a,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(f),a);var c=[1];generateFuncType(f,c);var u=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,u),u.push.apply(u,c),u.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(u));return new WebAssembly.Instance(d,{e:{f:a}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(a,f){if(functionsInTableMap)for(var c=a;c<a+f;c++){var u=getWasmTableEntry(c);u&&functionsInTableMap.set(u,c)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(a){throw a instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":a}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(a,f){wasmTable.set(a,f),wasmTableMirror[a]=wasmTable.get(a)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(a,f){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(a))return functionsInTableMap.get(a);var c=getEmptyTableSlot();try{setWasmTableEntry(c,a)}catch(u){if(!(u instanceof TypeError))throw u;setWasmTableEntry(c,convertJsFunctionToWasm(a,f))}return functionsInTableMap.set(a,c),c}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(a,f){for(var c in a)if(!isInternalSym(c)){var u=a[c];c.startsWith("orig$")&&(c=c.split("$")[1],f=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(f||GOT[c].value==0)&&(typeof u=="function"?GOT[c].value=addFunction(u):typeof u=="number"?GOT[c].value=u:err("unhandled export type for `"+c+"`: "+typeof u))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(a,f,c){var u={};for(var d in a){var h=a[d];typeof h=="object"&&(h=h.value),typeof h=="number"&&(h+=f),u[d]=h}return updateGOT(u,c),u}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(a,f){var c;return f&&(c=asmLibraryArg["orig$"+a]),c||(c=asmLibraryArg[a])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(a)]),!c&&a.startsWith("invoke_")&&(c=createInvokeFunction(a.split("_")[1])),c}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(a,f){return Math.ceil(a/f)*f}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(a){var f=resolveGlobalSymbol(a,!1);return f||(f=moduleExports[a]),f}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(a,f){switch(f){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(f in asmLibraryArg)return asmLibraryArg[f];var c;return f in a||(a[f]=function(){return c||(c=resolveSymbol(f)),c.apply(null,arguments)}),a[f]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(a){return postInstantiation(a.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(a){loadDynamicLibrary(a,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(a,f,c){f=f||{global:!0,nodelete:!0};var u=LDSO.loadedLibsByName[a];if(u)return f.global&&!u.global&&(u.global=!0,u.module!=="loading"&&mergeLibSymbols(u.module,a)),f.nodelete&&u.refcount!==1/0&&(u.refcount=1/0),u.refcount++,c&&(LDSO.loadedLibsByHandle[c]=u),!f.loadAsync||Promise.resolve(!0);function d(m){if(f.fs&&f.fs.findObject(m)){var v=f.fs.readFile(m,{encoding:"binary"});return v instanceof Uint8Array||(v=new Uint8Array(v)),f.loadAsync?Promise.resolve(v):v}if(m=locateFile(m),f.loadAsync)return new Promise(function(x,E){readAsync(m,I=>x(new Uint8Array(I)),E)});if(!readBinary)throw new Error(m+": file not found, and synchronous loading of external files is not available");return readBinary(m)}o(d,"o"),i(d,"n");function h(){if(typeof preloadedWasm<"u"&&preloadedWasm[a]){var m=preloadedWasm[a];return f.loadAsync?Promise.resolve(m):m}return f.loadAsync?d(a).then(function(v){return loadWebAssemblyModule(v,f,c)}):loadWebAssemblyModule(d(a),f,c)}o(h,"s"),i(h,"s");function p(m){u.global&&mergeLibSymbols(m,a),u.module=m}return o(p,"a"),i(p,"a"),u={refcount:f.nodelete?1/0:1,name:a,module:"loading",global:f.global},LDSO.loadedLibsByName[a]=u,c&&(LDSO.loadedLibsByHandle[c]=u),f.loadAsync?h().then(function(m){return p(m),!0}):(p(h()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var a in GOT)if(GOT[a].value==0){var f=resolveGlobalSymbol(a,!0);if(!f&&!GOT[a].required)continue;if(typeof f=="function")GOT[a].value=addFunction(f,f.sig);else{if(typeof f!="number")throw new Error("bad export type for `"+a+"`: "+typeof f);GOT[a].value=f}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(a,f){return a.then(function(){return loadDynamicLibrary(f,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(a,f,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[a>>0]=f;break;case"i16":HEAP16[a>>1]=f;break;case"i32":HEAP32[a>>2]=f;break;case"i64":tempI64=[f>>>0,(tempDouble=f,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[a>>2]=tempI64[0],HEAP32[a+4>>2]=tempI64[1];break;case"float":HEAPF32[a>>2]=f;break;case"double":HEAPF64[a>>3]=f;break;case"*":HEAPU32[a>>2]=f;break;default:abort("invalid type for setValue: "+c)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(a,f,c){HEAPU8.copyWithin(a,f,f+c)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(a){try{return wasmMemory.grow(a-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(a){var f=HEAPU8.length;a>>>=0;var c=getHeapMax();if(a>c)return!1;for(var u=1;u<=4;u*=2){var d=f*(1+.2/u);if(d=Math.min(d,a+100663296),emscripten_realloc_buffer(Math.min(c,(h=Math.max(a,d))+((p=65536)-h%p)%p)))return!0}var h,p;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var a=process.hrtime();return 1e3*a[0]+a[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(a,f,c){if(PATH.isAbs(f))return f;var u;if(a===-100?u=FS.cwd():u=SYSCALLS.getStreamFromFD(a).path,f.length==0){if(!c)throw new FS.ErrnoError(44);return u}return PATH.join2(u,f)},doStat:function(a,f,c){try{var u=a(f)}catch(m){if(m&&m.node&&PATH.normalize(f)!==PATH.normalize(FS.getPath(m.node)))return-54;throw m}HEAP32[c>>2]=u.dev,HEAP32[c+8>>2]=u.ino,HEAP32[c+12>>2]=u.mode,HEAPU32[c+16>>2]=u.nlink,HEAP32[c+20>>2]=u.uid,HEAP32[c+24>>2]=u.gid,HEAP32[c+28>>2]=u.rdev,tempI64=[u.size>>>0,(tempDouble=u.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=u.blocks;var d=u.atime.getTime(),h=u.mtime.getTime(),p=u.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=d%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=h%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=p%1e3*1e3,tempI64=[u.ino>>>0,(tempDouble=u.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},doMsync:function(a,f,c,u,d){if(!FS.isFile(f.node.mode))throw new FS.ErrnoError(43);if(2&u)return 0;var h=HEAPU8.slice(a,a+c);FS.msync(f,h,d,c,u)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(a){return UTF8ToString(a)},getStreamFromFD:function(a){var f=FS.getStream(a);if(!f)throw new FS.ErrnoError(8);return f}};function _proc_exit(a){EXITSTATUS=a,keepRuntimeAlive()||(Module.onExit&&Module.onExit(a),ABORT=!0),quit_(a,new ExitStatus(a))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(a,f){EXITSTATUS=a,_proc_exit(a)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(a){try{var f=SYSCALLS.getStreamFromFD(a);return FS.close(f),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(a,f){return f+2097152>>>0<4194305-!!a?(a>>>0)+4294967296*f:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(a,f,c,u,d){try{var h=convertI32PairToI53Checked(f,c);if(isNaN(h))return 61;var p=SYSCALLS.getStreamFromFD(a);return FS.llseek(p,h,u),tempI64=[p.position>>>0,(tempDouble=p.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],p.getdents&&h===0&&u===0&&(p.getdents=null),0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(a,f,c,u){for(var d=0,h=0;h<c;h++){var p=HEAPU32[f>>2],m=HEAPU32[f+4>>2];f+=8;var v=FS.write(a,HEAP8,p,m,u);if(v<0)return-1;d+=v,u!==void 0&&(u+=v)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(a,f,c,u){try{var d=doWritev(SYSCALLS.getStreamFromFD(a),f,c);return HEAPU32[u>>2]=d,0}catch(h){if(typeof FS>"u"||!(h instanceof FS.ErrnoError))throw h;return h.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(a,f){if(currentLogCallback){let c=UTF8ToString(f);currentLogCallback(c,a!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(a,f,c,u,d){var h=currentParseCallback(f,{row:c,column:u});typeof h=="string"?(setValue(d,h.length,"i32"),stringToUTF16(h,a,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(a){if(a instanceof ExitStatus||a=="unwind")return EXITSTATUS;quit_(1,a)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(a){var f=lengthBytesUTF8(a)+1,c=stackAlloc(f);return stringToUTF8Array(a,HEAP8,c,f),c}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(a,f,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var u=f,d=(c-=2)<2*a.length?c/2:a.length,h=0;h<d;++h){var p=a.charCodeAt(h);HEAP16[f>>1]=p,f+=2}return HEAP16[f>>1]=0,f-u}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(a){for(var f="";;){var c=HEAPU8[a++>>0];if(!c)return f;f+=String.fromCharCode(c)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(a){var f=Module._main;if(f){(a=a||[]).unshift(thisProgram);var c=a.length,u=stackAlloc(4*(c+1)),d=u>>2;a.forEach(p=>{HEAP32[d++]=allocateUTF8OnStack(p)}),HEAP32[d]=0;try{var h=f(c,u);return exitJS(h,!0),h}catch(p){return handleException(p)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function a(){calledRun||run(),calledRun||(dependenciesFulfilled=a)},"t"),"e");var dylibsLoaded=!1;function run(a){function f(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(a),postRun()))}o(f,"e"),i(f,"t"),a=a||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),f()},1)):f()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(f){let c;if(f){if(f.constructor!==Language)throw new Error("Argument must be a Language");{c=f[0];let u=C._ts_language_version(c);if(u<MIN_COMPATIBLE_VERSION||VERSION<u)throw new Error(`Incompatible language version ${u}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,f=null;return this.language=f,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(f,c,u){if(typeof f=="string")currentParseCallback=i((v,x,E)=>f.slice(v,E),"currentParseCallback");else{if(typeof f!="function")throw new Error("Argument must be a string or a function");currentParseCallback=f}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,h=0;if(u&&u.includedRanges){d=u.includedRanges.length,h=C._calloc(d,SIZE_OF_RANGE);let v=h;for(let x=0;x<d;x++)marshalRange(v,u.includedRanges[x]),v+=SIZE_OF_RANGE}let p=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,h,d);if(!p)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let m=new Tree(INTERNAL,p,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,m}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(f){C._ts_parser_set_timeout_micros(this[0],f)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(f){if(f){if(typeof f!="function")throw new Error("Logger callback must be a function")}else f=null;return this.logCallback=f,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(f,c,u,d){assertInternal(f),this[0]=c,this.language=u,this.textCallback=d}copy(){let f=C._ts_tree_copy(this[0]);return new t(INTERNAL,f,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(f){marshalEdit(f),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(f){if(f.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],f[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(c);if(c>0){let h=u;for(let p=0;p<c;p++)d[p]=unmarshalRange(h),h+=SIZE_OF_RANGE;C._free(u)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(f,c){assertInternal(f),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(f){return this.id===f.id}child(f){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}namedChild(f){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldId(f){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],f),unmarshalNode(this.tree)}childForFieldName(f){let c=this.tree.language.fields.indexOf(f);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._children[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let f=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(f),f>0){let u=c;for(let d=0;d<f;d++)this._namedChildren[d]=unmarshalNode(this.tree,u),u+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(f,c,u){Array.isArray(f)||(f=[f]),c||(c=ZERO_POINT),u||(u=ZERO_POINT);let d=[],h=this.tree.language.types;for(let E=0,I=h.length;E<I;E++)f.includes(h[E])&&d.push(E);let p=C._malloc(SIZE_OF_INT*d.length);for(let E=0,I=d.length;E<I;E++)setValue(p+E*SIZE_OF_INT,d[E],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],p,d.length,c.row,c.column,u.row,u.column);let m=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=new Array(m);if(m>0){let E=v;for(let I=0;I<m;I++)x[I]=unmarshalNode(this.tree,E),E+=SIZE_OF_NODE}return C._free(v),C._free(p),x}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(f,c=f){if(typeof f!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(u,f,"i32"),setValue(u+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(f,c=f){if(!isPoint(f)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let u=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(u,f),marshalPoint(u+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let f=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(f);return C._free(f),c}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(f,c){assertInternal(f),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(f){marshalNode(f),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let f=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,f,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoNextSibling(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}gotoParent(){marshalTreeCursor(this);let f=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),f===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(f,c){assertInternal(f),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let u=0,d=this.types.length;u<d;u++)C._ts_language_symbol_type(this[0],u)<2&&(this.types[u]=UTF8ToString(C._ts_language_symbol_name(this[0],u)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let u=0,d=this.fields.length;u<d;u++){let h=C._ts_language_field_name_for_id(this[0],u);this.fields[u]=h!==0?UTF8ToString(h):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(f){let c=this.fields.indexOf(f);return c!==-1?c:null}fieldNameForId(f){return this.fields[f]||null}idForNodeType(f,c){let u=lengthBytesUTF8(f),d=C._malloc(u+1);stringToUTF8(f,d,u+1);let h=C._ts_language_symbol_for_name(this[0],d,u,c);return C._free(d),h||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(f){let c=C._ts_language_symbol_name(this[0],f);return c?UTF8ToString(c):null}nodeTypeIsNamed(f){return!!C._ts_language_type_is_named_wasm(this[0],f)}nodeTypeIsVisible(f){return!!C._ts_language_type_is_visible_wasm(this[0],f)}query(f){let c=lengthBytesUTF8(f),u=C._malloc(c+1);stringToUTF8(f,u,c+1);let d=C._ts_query_new(this[0],u,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let k=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),$=UTF8ToString(u,getValue(TRANSFER_BUFFER,"i32")).length,ue=f.substr($,100).split(`
`)[0],ce,e0=ue.match(QUERY_WORD_REGEX)[0];switch(k){case 2:ce=new RangeError(`Bad node name '${e0}'`);break;case 3:ce=new RangeError(`Bad field name '${e0}'`);break;case 4:ce=new RangeError(`Bad capture name @${e0}`);break;case 5:ce=new TypeError(`Bad pattern structure at offset ${$}: '${ue}'...`),e0="";break;default:ce=new SyntaxError(`Bad syntax at offset ${$}: '${ue}'...`),e0=""}throw ce.index=$,ce.length=e0.length,C._free(u),ce}let h=C._ts_query_string_count(d),p=C._ts_query_capture_count(d),m=C._ts_query_pattern_count(d),v=new Array(p),x=new Array(h);for(let k=0;k<p;k++){let $=C._ts_query_capture_name_for_id(d,k,TRANSFER_BUFFER),ue=getValue(TRANSFER_BUFFER,"i32");v[k]=UTF8ToString($,ue)}for(let k=0;k<h;k++){let $=C._ts_query_string_value_for_id(d,k,TRANSFER_BUFFER),ue=getValue(TRANSFER_BUFFER,"i32");x[k]=UTF8ToString($,ue)}let E=new Array(m),I=new Array(m),A=new Array(m),L=new Array(m),D=new Array(m);for(let k=0;k<m;k++){let $=C._ts_query_predicates_for_pattern(d,k,TRANSFER_BUFFER),ue=getValue(TRANSFER_BUFFER,"i32");L[k]=[],D[k]=[];let ce=[],e0=$;for(let d0=0;d0<ue;d0++){let n0=getValue(e0,"i32");e0+=SIZE_OF_INT;let _0=getValue(e0,"i32");if(e0+=SIZE_OF_INT,n0===PREDICATE_STEP_TYPE_CAPTURE)ce.push({type:"capture",name:v[_0]});else if(n0===PREDICATE_STEP_TYPE_STRING)ce.push({type:"string",value:x[_0]});else if(ce.length>0){if(ce[0].type!=="string")throw new Error("Predicates must begin with a literal value");let je=ce[0].value,we=!0;switch(je){case"not-eq?":we=!1;case"eq?":if(ce.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(ce.length-1));if(ce[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${ce[1].value}"`);if(ce[2].type==="capture"){let l0=ce[1].name,s0=ce[2].name;D[k].push(function(c0){let _e,ve;for(let g0 of c0)g0.name===l0&&(_e=g0.node),g0.name===s0&&(ve=g0.node);return _e===void 0||ve===void 0||_e.text===ve.text===we})}else{let l0=ce[1].name,s0=ce[2].value;D[k].push(function(c0){for(let _e of c0)if(_e.name===l0)return _e.node.text===s0===we;return!0})}break;case"not-match?":we=!1;case"match?":if(ce.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${ce.length-1}.`);if(ce[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${ce[1].value}".`);if(ce[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${ce[2].value}.`);let t0=ce[1].name,h0=new RegExp(ce[2].value);D[k].push(function(l0){for(let s0 of l0)if(s0.name===t0)return h0.test(s0.node.text)===we;return!0});break;case"set!":if(ce.length<2||ce.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${ce.length-1}.`);if(ce.some(l0=>l0.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');E[k]||(E[k]={}),E[k][ce[1].value]=ce[2]?ce[2].value:null;break;case"is?":case"is-not?":if(ce.length<2||ce.length>3)throw new Error(`Wrong number of arguments to \`#${je}\` predicate. Expected 1 or 2. Got ${ce.length-1}.`);if(ce.some(l0=>l0.type!=="string"))throw new Error(`Arguments to \`#${je}\` predicate must be a strings.".`);let o0=je==="is?"?I:A;o0[k]||(o0[k]={}),o0[k][ce[1].value]=ce[2]?ce[2].value:null;break;default:L[k].push({operator:je,operands:ce.slice(1)})}ce.length=0}}Object.freeze(E[k]),Object.freeze(I[k]),Object.freeze(A[k])}return C._free(u),new Query(INTERNAL,d,v,D,L,Object.freeze(E),Object.freeze(I),Object.freeze(A))}static load(f){let c;if(f instanceof Uint8Array)c=Promise.resolve(f);else{let d=f;if(typeof process<"u"&&process.versions&&process.versions.node){let h=require("fs");c=Promise.resolve(h.readFileSync(d))}else c=fetch(d).then(h=>h.arrayBuffer().then(p=>{if(h.ok)return new Uint8Array(p);{let m=new TextDecoder("utf-8").decode(p);throw new Error(`Language.load failed with status ${h.status}.

${m}`)}}))}let u=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(d=>u(d,{loadAsync:!0})).then(d=>{let h=Object.keys(d),p=h.find(v=>LANGUAGE_FUNCTION_REGEX.test(v)&&!v.includes("external_scanner_"));p||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(h,null,2)}`);let m=d[p]();return new s(INTERNAL,m)})}};o(s,"Language"),i(s,"Language");let Language=s,l=class l{constructor(f,c,u,d,h,p,m,v){assertInternal(f),this[0]=c,this.captureNames=u,this.textPredicates=d,this.predicates=h,this.setProperties=p,this.assertedProperties=m,this.refutedProperties=v,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_matches_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=new Array(p);this.exceededMatchLimit=!!v;let E=0,I=m;for(let A=0;A<p;A++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let D=getValue(I,"i32");I+=SIZE_OF_INT;let k=new Array(D);if(I=unmarshalCaptures(this,f.tree,I,k),this.textPredicates[L].every($=>$(k))){x[E++]={pattern:L,captures:k};let $=this.setProperties[L];$&&(x[A].setProperties=$);let ue=this.assertedProperties[L];ue&&(x[A].assertedProperties=ue);let ce=this.refutedProperties[L];ce&&(x[A].refutedProperties=ce)}}return x.length=E,C._free(m),x}captures(f,c,u,d){c||(c=ZERO_POINT),u||(u=ZERO_POINT),d||(d={});let h=d.matchLimit;if(h===void 0)h=0;else if(typeof h!="number")throw new Error("Arguments must be numbers");marshalNode(f),C._ts_query_captures_wasm(this[0],f.tree[0],c.row,c.column,u.row,u.column,h);let p=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),x=[];this.exceededMatchLimit=!!v;let E=[],I=m;for(let A=0;A<p;A++){let L=getValue(I,"i32");I+=SIZE_OF_INT;let D=getValue(I,"i32");I+=SIZE_OF_INT;let k=getValue(I,"i32");if(I+=SIZE_OF_INT,E.length=D,I=unmarshalCaptures(this,f.tree,I,E),this.textPredicates[L].every($=>$(E))){let $=E[k],ue=this.setProperties[L];ue&&($.setProperties=ue);let ce=this.assertedProperties[L];ce&&($.assertedProperties=ce);let e0=this.refutedProperties[L];e0&&($.refutedProperties=e0),x.push($)}}return C._free(m),x}predicatesForPattern(f){return this.predicates[f]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(l,"Query"),i(l,"Query");let Query=l;function getText(a,f,c){let u=c-f,d=a.textCallback(f,null,c);for(f+=d.length;f<c;){let h=a.textCallback(f,null,c);if(!(h&&h.length>0))break;f+=h.length,d+=h}return f>c&&(d=d.slice(0,u)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(a,f,c,u){for(let d=0,h=u.length;d<h;d++){let p=getValue(c,"i32"),m=unmarshalNode(f,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,u[d]={name:a.captureNames[p],node:m}}return c}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(a){if(a!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(a){return a&&typeof a.row=="number"&&typeof a.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(a){let f=TRANSFER_BUFFER;setValue(f,a.id,"i32"),f+=SIZE_OF_INT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.row,"i32"),f+=SIZE_OF_INT,setValue(f,a.startPosition.column,"i32"),f+=SIZE_OF_INT,setValue(f,a[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(a,f=TRANSFER_BUFFER){let c=getValue(f,"i32");if(c===0)return null;let u=getValue(f+=SIZE_OF_INT,"i32"),d=getValue(f+=SIZE_OF_INT,"i32"),h=getValue(f+=SIZE_OF_INT,"i32"),p=getValue(f+=SIZE_OF_INT,"i32"),m=new Node(INTERNAL,a);return m.id=c,m.startIndex=u,m.startPosition={row:d,column:h},m[0]=p,m}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(a,f=TRANSFER_BUFFER){setValue(f+0*SIZE_OF_INT,a[0],"i32"),setValue(f+1*SIZE_OF_INT,a[1],"i32"),setValue(f+2*SIZE_OF_INT,a[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(a){a[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),a[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),a[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(a,f){setValue(a,f.row,"i32"),setValue(a+SIZE_OF_INT,f.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(a){return{row:getValue(a,"i32"),column:getValue(a+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(a,f){marshalPoint(a,f.startPosition),marshalPoint(a+=SIZE_OF_POINT,f.endPosition),setValue(a+=SIZE_OF_POINT,f.startIndex,"i32"),setValue(a+=SIZE_OF_INT,f.endIndex,"i32"),a+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(a){let f={};return f.startPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.endPosition=unmarshalPoint(a),a+=SIZE_OF_POINT,f.startIndex=getValue(a,"i32"),a+=SIZE_OF_INT,f.endIndex=getValue(a,"i32"),f}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(a){let f=TRANSFER_BUFFER;marshalPoint(f,a.startPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.oldEndPosition),f+=SIZE_OF_POINT,marshalPoint(f,a.newEndPosition),f+=SIZE_OF_POINT,setValue(f,a.startIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.oldEndIndex,"i32"),f+=SIZE_OF_INT,setValue(f,a.newEndIndex,"i32"),f+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let a of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,a,{value:ParserImpl.prototype[a],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),Ni={};wo(Ni,{DEFAULT_NUM_OF_SNIPPETS:()=>cr,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Hn,ElidableText:()=>Fe,FileSystem:()=>Oe,LineEndingOptions:()=>Kt,LineWithValueAndCost:()=>he,LocalFileSystem:()=>De,MAX_PROMPT_LENGTH:()=>ur,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>dr,NeighboringTabsOption:()=>ze,PromptOptions:()=>ft,ProviderTimeoutError:()=>re,SnippetOrchestrator:()=>It,SnippetProviderType:()=>j,SnippetSemantics:()=>ie,SuffixMatchOption:()=>mr,SuffixOption:()=>_r,TokenizerName:()=>Xe,WASMLanguage:()=>io,blankNode:()=>et,buildLabelRules:()=>fe,clearLabels:()=>An,clearLabelsIf:()=>Ut,combineClosersAndOpeners:()=>tt,comment:()=>Be,commentBlockAsSingles:()=>be,createWorker:()=>Li,cutTreeAfterLine:()=>xo,deparseAndCutTree:()=>Oo,deparseLine:()=>Ae,deparseTree:()=>Bn,describeTree:()=>Wn,duplicateTree:()=>Io,elidableTextForDiff:()=>Go,elidableTextForSourceCode:()=>Vt,encodeTree:()=>Un,firstLineOf:()=>zn,flattenVirtual:()=>q,foldTree:()=>Pe,fromTreeWithFocussedLines:()=>ge,fromTreeWithValuedLines:()=>qn,getAncestorWithSiblingFunctions:()=>bi,getBlockCloseToken:()=>mi,getBlockParser:()=>Ct,getCursorContext:()=>st,getFirstPrecedingComment:()=>wi,getFunctionPositions:()=>vi,getLanguage:()=>lo,getNodeStart:()=>Ii,getPrompt:()=>gs,getTokenizer:()=>U,groupBlocks:()=>zt,isBlank:()=>M,isBlockBodyFinished:()=>xi,isEmptyBlockStart:()=>Ti,isFunction:()=>Lt,isFunctionDefinition:()=>yi,isLine:()=>z,isSupportedLanguageId:()=>$e,isTop:()=>ee,isVirtual:()=>F,labelLines:()=>pe,labelVirtualInherited:()=>Ce,languageCommentMarkers:()=>ot,languageIdToWasmLanguage:()=>B,lastLineOf:()=>Vn,lineNode:()=>Wt,mapLabels:()=>H,normalizeLanguageId:()=>ne,parseRaw:()=>Fn,parseTree:()=>te,parseTreeSitter:()=>Te,parsesWithoutError:()=>_i,providersErrors:()=>Yr,providersPerformance:()=>eo,providersSnippets:()=>Xr,queryExports:()=>fi,queryFunctions:()=>uo,queryGlobalVars:()=>gi,queryImports:()=>pi,queryPythonIsDocstring:()=>Ln,rebuildTree:()=>ke,registerLanguageSpecificParser:()=>nt,resetLineNumbers:()=>Lo,topNode:()=>Ne,virtualNode:()=>Ye,visitTree:()=>T,visitTreeConditionally:()=>No});module.exports=vo(Ni);var mo=require("path"),po=require("worker_threads"),Rt=Ft(require("fs")),Ot=Ft(require("path")),Qe=require("util"),Je=i((e,t)=>Array.from(Array(t).keys()).slice(e),"range"),me=i(e=>e.charCodeAt(0),"ord"),So=i(e=>String.fromCharCode(e),"chr"),Eo=new Qe.TextDecoder("utf-8"),Pn=i(e=>Eo.decode(new Uint8Array(e)),"decodeStr"),Mo=i((e,t)=>{let r=new Map;return e.forEach((n,s)=>{r.set(e[s],t[s])}),r},"dictZip");function To(e){let t=Je(me("!"),me("~")+1).concat(Je(me("\xA1"),me("\xAC")+1),Je(me("\xAE"),me("\xFF")+1)),r=t.slice(),n=0;for(let l=0;l<2**8;l++)t.includes(l)||(t.push(l),r.push(2**8+n),n=n+1);let s=r.map(l=>So(l));for(let l=0;l<t.length;l++)e.set(t[l],s[l])}o(To,"To");i(To,"bytes_to_unicode");function kn(e){let t=new Set,r=e[0];for(let n=1;n<e.length;n++){let s=e[n];t.add([r,s]),r=s}return t}o(kn,"kn");i(kn,"get_char_pairs");var Xe=(e=>(e.cl100k="cl100k",e.mock="mock",e))(Xe||{}),Cn=new Map;function U(e="cl100k"){let t=Cn.get(e);return t!==void 0||(e==="mock"?t=new Bt:t=new Dt(e),Cn.set(e,t)),t}o(U,"U");i(U,"getTokenizer");var $4,Dt=($4=class{constructor(t="cl100k"){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new Qe.TextEncoder,this.encodeStr=f=>Array.from(this.textEncoder.encode(f));let r="",n="";if(t==="cl100k")r="vocab_cushman002.bpe",n="tokenizer_cushman002.json",this.pat=new RegExp("'s|'t|'re|'ve|'m|'ll|'d|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+","giu");else throw new Error(`Unknown tokenizer name: ${t}`);let s,l;try{let f=Rt.readFileSync(Ot.resolve(__dirname,"resources",t,n));s=JSON.parse(f.toString()),l=Rt.readFileSync(Ot.resolve(__dirname,"resources",t,r),"utf-8")}catch(f){if(typeof f.code=="string"&&f instanceof Error&&f.name==="Error"||f instanceof SyntaxError){let c=new Error(`Could not load tokenizer: ${t}`);throw c.code="CopilotPromptLoadFailure",c.cause=f,c}throw f}this.encoder=new Map(Object.entries(s));for(let[f,c]of this.encoder)this.decoder.set(c,f);let a=l.split(`
`).slice(1).filter(f=>f.trim().length>0);this.bpe_ranks=Mo(a,Je(0,a.length)),To(this.byte_encoder),this.byte_encoder.forEach((f,c,u)=>{this.byte_decoder.set(f,c)})}byteEncodeStr(t){return this.encodeStr(t).map(r=>this.byte_encoder.get(r))}mutatingConcat(t,r){for(let n=0;n<r.length;n++)t.push(r[n]);return t}bpe(t){if(this.cache.has(t))return this.cache.get(t);let r=this.byteEncodeStr(t),n=kn(r);if(!n)return r.map(l=>this.encoder.get(l));for(;;){let l=new Map;n.forEach(p=>{let m=p.join(" "),v=this.bpe_ranks.get(m);l.set(v===void 0||isNaN(v)?1e11:v,p)});let a=Array.from(l.keys()).map(p=>Number(p)),f=l.get(Math.min(...a));if(!f||!this.bpe_ranks.has(f.join(" ")))break;let c=f[0],u=f[1],d=[],h=0;for(;h<r.length;){let p=r.indexOf(c,h);if(p===-1){this.mutatingConcat(d,r.slice(h));break}this.mutatingConcat(d,r.slice(h,p)),h=p,r[h]===c&&h<r.length-1&&r[h+1]===u?(d.push(c+u),h=h+2):(d.push(r[h]),h=h+1)}if(r=d,r.length===1)break;n=kn(r)}let s=r.map(l=>this.encoder.get(l));return this.cache.set(t,s),s}tokenize(t){let r=[];for(let[n]of t.matchAll(this.pat)){let s=this.bpe(n);this.mutatingConcat(r,s)}return r}tokenLength(t){return this.tokenize(t).length}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(-l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(-l),f=this.tokenize(a);return f.length<r?t:(f=f.slice(-r),this.detokenize(f))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,l=Math.min(t.length,r*n),a=t.slice(0,l),f=this.tokenize(a);for(;f.length<r+2&&l<t.length;)l=Math.min(t.length,l+r*s),a=t.slice(0,l),f=this.tokenize(a);return f.length<r?{text:t,tokens:f}:(f=f.slice(0,r),{text:this.detokenize(f),tokens:f})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}detokenize(t){let r=t.map(n=>this.decoder.get(n)).join("");return r=Pn(r.split("").map(n=>this.byte_decoder.get(n))),r}tokenizeStrings(t){return this.tokenize(t).map(r=>Pn(this.decoder.get(r).split("").map(n=>this.byte_decoder.get(n))))}},o($4,"Dt"),i($4,"BPETokenizer"),$4),H4,Bt=(H4=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(H4,"Bt"),i(H4,"MockTokenizer"),H4);function Ye(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(Ye,"Ye");i(Ye,"virtualNode");function Wt(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(Wt,"Wt");i(Wt,"lineNode");function et(e){return{type:"blank",lineNumber:e,subs:[]}}o(et,"et");i(et,"blankNode");function Ne(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Ne,"Ne");i(Ne,"topNode");function M(e){return e.type==="blank"}o(M,"M");i(M,"isBlank");function z(e){return e.type==="line"}o(z,"z");i(z,"isLine");function F(e){return e.type==="virtual"}o(F,"F");i(F,"isVirtual");function ee(e){return e.type==="top"}o(ee,"ee");i(ee,"isTop");function xo(e,t){function r(n){if(!F(n)&&!ee(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(xo,"xo");i(xo,"cutTreeAfterLine");function Io(e){return JSON.parse(JSON.stringify(e))}o(Io,"Io");i(Io,"duplicateTree");function An(e){return T(e,t=>{t.label=void 0},"bottomUp"),e}o(An,"An");i(An,"clearLabels");function Ut(e,t){return T(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(Ut,"Ut");i(Ut,"clearLabelsIf");function H(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>H(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>H(n,t)),label:e.label?t(e.label):void 0}}}o(H,"H");i(H,"mapLabels");function Lo(e){let t=0;function r(n){!F(n)&&!ee(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),T(e,r,"topDown")}o(Lo,"Lo");i(Lo,"resetLineNumbers");function T(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(l=>{n(l)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(T,"T");i(T,"visitTree");function No(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let l=!0;return s.subs.forEach(a=>{l=l&&n(a)}),r==="bottomUp"&&(l=l&&t(s)),l}o(n,"r"),i(n,"_visit"),n(e)}o(No,"No");i(No,"visitTreeConditionally");function Pe(e,t,r,n){let s=t;function l(a){s=r(a,s)}return o(l,"s"),i(l,"visitor"),T(e,l,n),s}o(Pe,"Pe");i(Pe,"foldTree");function ke(e,t,r){let n=i(l=>{if(r!==void 0&&r(l))return l;{let a=l.subs.map(n).filter(f=>f!==void 0);return l.subs=a,t(l)}},"rebuild"),s=n(e);return s!==void 0?s:Ne()}o(ke,"ke");i(ke,"rebuildTree");function Fn(e){let t=e.split(`
`),r=t.map(u=>u.match(/^\s*/)[0].length),n=t.map(u=>u.trimLeft());function s(u){let[d,h]=l(u+1,r[u]);return[Wt(r[u],u,n[u],d),h]}o(s,"o"),i(s,"parseNode");function l(u,d){let h,p=[],m=u,v;for(;m<n.length&&(n[m]===""||r[m]>d);)if(n[m]==="")v===void 0&&(v=m),m+=1;else{if(v!==void 0){for(let x=v;x<m;x++)p.push(et(x));v=void 0}[h,m]=s(m),p.push(h)}return v!==void 0&&(m=v),[p,m]}o(l,"s"),i(l,"parseSubs");let[a,f]=l(0,-1),c=f;for(;c<n.length&&n[c]==="";)a.push(et(c)),c+=1;if(c<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${n.length}`);return Ne(a)}o(Fn,"Fn");i(Fn,"parseRaw");function pe(e,t){function r(n){if(z(n)){let s=t.find(l=>l.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),T(e,r,"bottomUp")}o(pe,"pe");i(pe,"labelLines");function Ce(e){function t(r){if(F(r)&&r.label===void 0){let n=r.subs.filter(s=>!M(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),T(e,t,"bottomUp")}o(Ce,"Ce");i(Ce,"labelVirtualInherited");function fe(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(fe,"fe");i(fe,"buildLabelRules");function tt(e){let t=ke(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(l=>l.label==="closer"||l.label==="opener")===-1)return r;let n=[],s;for(let l=0;l<r.subs.length;l++){let a=r.subs[l],f=r.subs[l-1];if(a.label==="opener"&&f!==void 0&&z(f))f.subs.push(a),a.subs.forEach(c=>f.subs.push(c)),a.subs=[];else if(a.label==="closer"&&s!==void 0&&(z(a)||F(a))&&a.indentation>=s.indentation){let c=n.length-1;for(;c>0&&M(n[c]);)c-=1;if(s.subs.push(...n.splice(c+1)),a.subs.length>0){let u=s.subs.findIndex(m=>m.label!=="newVirtual"),d=s.subs.slice(0,u),h=s.subs.slice(u),p=h.length>0?[Ye(a.indentation,h,"newVirtual")]:[];s.subs=[...d,...p,a]}else s.subs.push(a)}else n.push(a),M(a)||(s=a)}return r.subs=n,r},"rebuilder"));return Ut(e,r=>r==="newVirtual"),t}o(tt,"tt");i(tt,"combineClosersAndOpeners");function zt(e,t=M,r){return ke(e,i(function(n){if(n.subs.length<=1)return n;let s=[],l=[],a,f=!1;function c(u=!1){if(a!==void 0&&(s.length>0||!u)){let d=Ye(a,l,r);s.push(d)}else l.forEach(d=>s.push(d))}o(c,"d"),i(c,"flushBlockIntoNewSubs");for(let u=0;u<n.subs.length;u++){let d=n.subs[u],h=t(d);!h&&f&&(c(),l=[]),f=h,l.push(d),M(d)||(a=a!=null?a:d.indentation)}return c(!0),n.subs=s,n},"rebuilder"))}o(zt,"zt");i(zt,"groupBlocks");function q(e){return ke(e,i(function(t){return F(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&F(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(q,"q");i(q,"flattenVirtual");var Po={opener:/^[\[({]/,closer:/^[\])}]/},ko=fe(Po),Rn={};function nt(e,t){Rn[e]=t}o(nt,"nt");i(nt,"registerLanguageSpecificParser");function te(e,t){let r=Fn(e),n=Rn[t!=null?t:""];return n?n(r):(pe(r,ko),tt(r))}o(te,"te");i(te,"parseTree");var Co={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Ao=fe(Co);function On(e){let t=e;return pe(t,Ao),t=tt(t),t=q(t),Ce(t),T(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!M(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(On,"On");i(On,"processJava");var Fo={heading:/^# /,subheading:/^## /,subsubheading:/### /},Ro=fe(Fo);function Dn(e){let t=e;if(pe(t,Ro),M(t))return t;function r(l){if(l.label==="heading")return 1;if(l.label==="subheading")return 2;if(l.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let l of s){let a=r(l);if(a===void 0||M(l))n[n.length-1].subs.push(l);else{for(;n.length<a;)n.push(n[n.length-1]);for(n[a-1].subs.push(l),n[a]=l;n.length>a+1;)n.pop()}}return t=zt(t),t=q(t),Ce(t),t}o(Dn,"Dn");i(Dn,"processMarkdown");function Ae(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ae,"Ae");i(Ae,"deparseLine");function Bn(e){function t(r,n){let s="";return z(r)?s=Ae(r):M(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),Pe(e,"",t,"topDown")}o(Bn,"Bn");i(Bn,"deparseTree");function Oo(e,t){let r=new Set(t),n=[],s="";function l(a){a.label!==void 0&&r.has(a.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:a.label,source:Bn(a)}),s=""):(z(a)&&(s+=Ae(a)),a.subs.forEach(l))}return o(l,"s"),i(l,"visit"),l(e),s!==""&&n.push({label:void 0,source:s}),n}o(Oo,"Oo");i(Oo,"deparseAndCutTree");function Wn(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(a=>Wn(a,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(F(e)||ee(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,l=e.label===void 0?"":JSON.stringify(e.label);return F(e)||ee(e)?`${s}vnode(${e.indentation}, ${l}, ${n})`:M(e)?`${s}blank(${l!=null?l:""})`:`${s}lnode(${e.indentation}, ${l}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(Wn,"Wn");i(Wn,"describeTree");function Un(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!M(e)&&e.subs.length>0?`[
${e.subs.map(s=>Un(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(Un,"Un");i(Un,"encodeTree");function zn(e){if(z(e)||M(e))return e.lineNumber;for(let t of e.subs){let r=zn(t);if(r!==void 0)return r}}o(zn,"zn");i(zn,"firstLineOf");function Vn(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Vn(e.subs[r]),r--;return t===void 0&&!F(e)&&!ee(e)?e.lineNumber:t}o(Vn,"Vn");i(Vn,"lastLineOf");nt("markdown",Dn);nt("java",On);var Hn={worthUp:.9,worthSibling:.88,worthDown:.8};function ge(e,t=Hn){let r=H(e,n=>n?1:void 0);return T(r,n=>{var l;if(M(n))return;let s=n.subs.reduce((a,f)=>{var c;return Math.max(a,(c=f.label)!=null?c:0)},0);n.label=Math.max((l=n.label)!=null?l:0,s*t.worthUp)},"bottomUp"),T(r,n=>{if(M(n))return;let s=n.subs.map(f=>{var c;return(c=f.label)!=null?c:0}),l=[...s];for(let f=0;f<s.length;f++)s[f]!==0&&(l=l.map((c,u)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(f-u))*s[f])));let a=n.label;a!==void 0&&(l=l.map(f=>Math.max(f,t.worthDown*a))),n.subs.forEach((f,c)=>f.label=l[c])},"topDown"),qn(r)}o(ge,"ge");i(ge,"fromTreeWithFocussedLines");function qn(e){let t=Pe(e,[],(r,n)=>{var s,l;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ae(r).trimEnd(),(s=r.label)!=null?s:0]:["",(l=r.label)!=null?l:0]),n},"topDown");return new Fe(t)}o(qn,"qn");i(qn,"fromTreeWithValuedLines");function Vt(e,t=!0,r=!0){let n=typeof e=="string"?te(e):te(e.source,e.languageId);q(n);let s=H(n,l=>t&&l!=="closer");return T(s,l=>{l.label===void 0&&(l.label=t&&l.label!==!1)},"topDown"),t&&T(s,l=>{if(l.label){let a=!1;for(let f of[...l.subs].reverse())f.label&&!a?a=!0:f.label=!1}else for(let a of l.subs)a.label=!1;l.subs.length>0&&(l.label=!1)},"topDown"),r&&T(s,l=>{l.label||(l.label=(z(l)||M(l))&&l.lineNumber==0)},"topDown"),ge(s)}o(Vt,"Vt");i(Vt,"elidableTextForSourceCode");var N2,he=(N2=class{constructor(t,r,n=U().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>U().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new N2(this.text,this.value,this.cost,"none")}},o(N2,"t"),i(N2,"LineWithValueAndCost"),N2),R2,Fe=(R2=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,l=Array.isArray(n)?n[0]:n;typeof l=="string"?l.split(`
`).forEach(a=>r.push(new he(a,s))):l instanceof R2?l.lines.forEach(a=>r.push(a.copy().adjustValue(s))):"source"in l&&"languageId"in l&&Vt(l).lines.forEach(a=>r.push(a.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>U().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",l=U()){let a=this.lines.map(f=>f.copy());return Do(a,t,r,n,s,l)}},o(R2,"t"),i(R2,"ElidableText"),R2);function Do(e,t,r,n,s,l){var h,p,m,v,x,E,I,A,L,D,k,$,ue;if(l.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(ce=>ce.adjustValue(1/ce.cost));let a=e.reduce((ce,e0)=>Math.max(ce,e0.value),0)+1,f=e.reduce((ce,e0)=>Math.max(ce,e0.text.length),0)+1,c=r.trim(),u=e.reduce((ce,e0)=>ce+e0.cost,0),d=e.length+1;for(;u>t&&d-->=-1;){let ce=e.reduce((t0,h0)=>h0.value<t0.value?h0:t0),e0=e.indexOf(ce),d0=(h=e.slice(0,e0+1).reverse().find(t0=>t0.text.trim()!==""))!=null?h:{text:""},n0=n?Math.min((m=(p=d0.text.match(/^\s*/))==null?void 0:p[0].length)!=null?m:0,((v=e[e0-1])==null?void 0:v.text.trim())===c?(I=(E=(x=e[e0-1])==null?void 0:x.text.match(/^\s*/))==null?void 0:E[0].length)!=null?I:0:f,((A=e[e0+1])==null?void 0:A.text.trim())===c?(k=(D=(L=e[e0+1])==null?void 0:L.text.match(/^\s*/))==null?void 0:D[0].length)!=null?k:0:f):0,_0=" ".repeat(n0)+r,je=new he(_0,a,l.tokenLength(_0+`
`),"loose");e.splice(e0,1,je),(($=e[e0+1])==null?void 0:$.text.trim())===c&&e.splice(e0+1,1),((ue=e[e0-1])==null?void 0:ue.text.trim())===c&&e.splice(e0-1,1);let we=e.reduce((t0,h0)=>t0+h0.cost,0);we>=u&&e.every(t0=>t0.value===a)&&(n=!1),u=we}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(ce=>ce.text).join(`
`)}o(Do,"Do");i(Do,"makePrompt");function J(){}o(J,"J");i(J,"Diff");J.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var l=this;function a(L){return s?(setTimeout(function(){s(void 0,L)},0),!0):L}o(a,"l"),i(a,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var f=t.length,c=e.length,u=1,d=f+c;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var h=(r=n.timeout)!==null&&r!==void 0?r:1/0,p=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],v=this.extractCommon(m[0],t,e,0);if(m[0].oldPos+1>=c&&v+1>=f)return a([{value:this.join(t),count:t.length}]);var x=-1/0,E=1/0;function I(){for(var L=Math.max(x,-u);L<=Math.min(E,u);L+=2){var D=void 0,k=m[L-1],$=m[L+1];k&&(m[L-1]=void 0);var ue=!1;if($){var ce=$.oldPos-L;ue=$&&0<=ce&&ce<f}var e0=k&&k.oldPos+1<c;if(!ue&&!e0){m[L]=void 0;continue}if(!e0||ue&&k.oldPos+1<$.oldPos?D=l.addToPath($,!0,void 0,0):D=l.addToPath(k,void 0,!0,1),v=l.extractCommon(D,t,e,L),D.oldPos+1>=c&&v+1>=f)return a(Bo(l,D.lastComponent,t,e,l.useLongestToken));m[L]=D,D.oldPos+1>=c&&(E=Math.min(E,L-1)),v+1>=f&&(x=Math.max(x,L+1))}u++}if(o(I,"h"),i(I,"execEditLength"),s)i(o(function L(){setTimeout(function(){if(u>d||Date.now()>p)return s();I()||L()},0)},"v"),"exec")();else for(;u<=d&&Date.now()<=p;){var A=I();if(A)return A}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,l=r.length,a=e.oldPos,f=a-n,c=0;f+1<s&&a+1<l&&this.equals(t[f+1],r[a+1]);)f++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,f},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Bo(e,t,r,n,s){for(var l=[],a;t;)l.push(t),a=t.previousComponent,delete t.previousComponent,t=a;l.reverse();for(var f=0,c=l.length,u=0,d=0;f<c;f++){var h=l[f];if(h.removed){if(h.value=e.join(n.slice(d,d+h.count)),d+=h.count,f&&l[f-1].added){var p=l[f-1];l[f-1]=l[f],l[f]=p}}else{if(!h.added&&s){var m=r.slice(u,u+h.count);m=m.map(function(x,E){var I=n[d+E];return I.length>x.length?I:x}),h.value=e.join(m)}else h.value=e.join(r.slice(u,u+h.count));u+=h.count,h.added||(d+=h.count)}}var v=l[c-1];return c>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(l[c-2].value+=v.value,l.pop()),l}o(Bo,"Bo");i(Bo,"buildValues");var $a=new J,jn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Zn=/\S/,$n=new J;$n.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Zn.test(e)&&!Zn.test(t)};$n.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&jn.test(t[r])&&jn.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var $t=new J;$t.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Wo(e,t,r){return $t.diff(e,t,r)}o(Wo,"Wo");i(Wo,"diffLines");var Uo=new J;Uo.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var zo=new J;zo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function rt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=i(function(t){return typeof t},"_typeof"):rt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),rt(e)}o(rt,"rt");i(rt,"_typeof");function Ht(e){return Vo(e)||Ho(e)||qo(e)||jo()}o(Ht,"Ht");i(Ht,"_toConsumableArray");function Vo(e){if(Array.isArray(e))return qt(e)}o(Vo,"Vo");i(Vo,"_arrayWithoutHoles");function Ho(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(Ho,"Ho");i(Ho,"_iterableToArray");function qo(e,t){if(e){if(typeof e=="string")return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(e,t)}}o(qo,"qo");i(qo,"_unsupportedIterableToArray");function qt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(qt,"qt");i(qt,"_arrayLikeToArray");function jo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(jo,"jo");i(jo,"_nonIterableSpread");var Zo=Object.prototype.toString,Re=new J;Re.useLongestToken=!0;Re.tokenize=$t.tokenize;Re.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(l,a){return typeof a>"u"?r:a}:n;return typeof e=="string"?e:JSON.stringify(jt(e,null,null,s),s,"  ")};Re.equals=function(e,t){return J.prototype.equals.call(Re,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function jt(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var l;for(l=0;l<t.length;l+=1)if(t[l]===e)return r[l];var a;if(Zo.call(e)==="[object Array]"){for(t.push(e),a=new Array(e.length),r.push(a),l=0;l<e.length;l+=1)a[l]=jt(e[l],t,r,n,s);return t.pop(),r.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),rt(e)==="object"&&e!==null){t.push(e),a={},r.push(a);var f=[],c;for(c in e)e.hasOwnProperty(c)&&f.push(c);for(f.sort(),l=0;l<f.length;l+=1)c=f[l],a[c]=jt(e[c],t,r,n,c);t.pop(),r.pop()}else a=e;return a}o(jt,"jt");i(jt,"canonicalize");var Zt=new J;Zt.tokenize=function(e){return e.slice()};Zt.join=Zt.removeEmpty=function(e){return e};function Gn(e,t,r,n,s,l,a){a||(a={}),typeof a.context>"u"&&(a.context=4);var f=Wo(r,n,a);if(!f)return;f.push({value:"",lines:[]});function c(I){return I.map(function(A){return" "+A})}o(c,"u"),i(c,"contextLines");for(var u=[],d=0,h=0,p=[],m=1,v=1,x=i(function(I){var A=f[I],L=A.lines||A.value.replace(/\n$/,"").split(`
`);if(A.lines=L,A.added||A.removed){var D;if(!d){var k=f[I-1];d=m,h=v,k&&(p=a.context>0?c(k.lines.slice(-a.context)):[],d-=p.length,h-=p.length)}(D=p).push.apply(D,Ht(L.map(function(je){return(A.added?"+":"-")+je}))),A.added?v+=L.length:m+=L.length}else{if(d)if(L.length<=a.context*2&&I<f.length-2){var $;($=p).push.apply($,Ht(c(L)))}else{var ue,ce=Math.min(L.length,a.context);(ue=p).push.apply(ue,Ht(c(L.slice(0,ce))));var e0={oldStart:d,oldLines:m-d+ce,newStart:h,newLines:v-h+ce,lines:p};if(I>=f.length-2&&L.length<=a.context){var d0=/\n$/.test(r),n0=/\n$/.test(n),_0=L.length==0&&p.length>e0.oldLines;!d0&&_0&&r.length>0&&p.splice(e0.oldLines,0,"\\ No newline at end of file"),(!d0&&!_0||!n0)&&p.push("\\ No newline at end of file")}u.push(e0),d=0,h=0,p=[]}m+=L.length,v+=L.length}},"_loop"),E=0;E<f.length;E++)x(E);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:l,hunks:u}}o(Gn,"Gn");i(Gn,"structuredPatch");function Go(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=Gn("","",e,t),s=new Set,l=new Set;for(let c of n.hunks){for(let u=c.oldStart;u<c.oldStart+c.oldLines;u++)s.add(u);for(let u=c.newStart;u<c.newStart+c.newLines;u++)l.add(u)}let a=H(q(te(e,r)),()=>!1),f=H(q(te(t,r)),()=>!1);return T(a,c=>{(c.type==="line"||c.type==="blank")&&s.has(c.lineNumber)&&(c.label=!0)},"topDown"),T(f,c=>{(c.type==="line"||c.type==="blank")&&l.has(c.lineNumber)&&(c.label=!0)},"topDown"),[ge(a),ge(f)]}o(Go,"Go");i(Go,"elidableTextForDiff");var Gt=require("fs"),j4,Oe=(j4=class{},o(j4,"Oe"),i(j4,"FileSystem"),j4),V4,De=(V4=class extends Oe{getFsPath(t){if(t.scheme!=="file")throw new Error(`Unsupported scheme: ${t.scheme}`);return t.fsPath}async readFileString(t){return(await Gt.promises.readFile(this.getFsPath(t))).toString()}async stat(t){let r=await Gt.promises.stat(this.getFsPath(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size}}},o(V4,"De"),i(V4,"LocalFileSystem"),V4),sl=new De,ot={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Ko=["php","plaintext"],Kn={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Jo({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Jo,"Jo");i(Jo,"hasLanguageMarker");function Be(e,t,r){var s;let n=(s=ot[t])!=null?s:r;if(n){let l=n.end==""?"":" "+n.end;return`${n.start} ${e}${l}`}return""}o(Be,"Be");i(Be,"comment");function be(e,t,r){if(!ot[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(l=>Be(l,t,r)).join(`
`);return n?s+`
`:s}o(be,"be");i(be,"commentBlockAsSingles");function Jn(e,t){let{languageId:r}=e;return Ko.indexOf(r)===-1&&!Jo(e)?r in Kn?Kn[r]:Be(`Language: ${r}`,r,t):""}o(Jn,"Jn");i(Jn,"getLanguageMarker");function Qn(e,t){return e.relativePath?Be(`Path: ${e.relativePath}`,e.languageId,t):""}o(Qn,"Qn");i(Qn,"getPathMarker");function ye(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ye,"ye");i(ye,"newLineEnded");var Qo={tokenizerName:"cl100k"};function Xo(e){return{...Qo,...e}}o(Xo,"Xo");i(Xo,"cursorContextOptions");function st(e,t={}){let r=Xo(t),n=U(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(st,"st");i(st,"getCursorContext");function Xn(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Xn,"Xn");i(Xn,"findEditDistanceScore");var We=50,Yo=5,z4,it=(z4=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(z4,"it"),i(z4,"PromptBackground"),z4),G4,at=(G4=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(G4,"at"),i(G4,"PromptChoices"),G4),K4,Ue=(K4=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===l?r.id-n.id:s-l})}},o(K4,"Ue"),i(K4,"PromptOrderList"),K4),W4,lt=(W4=class extends Ue{constructor(t="default"){switch(super(),t){default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),l=this._rankedList.indexOf(n.kind);if(s===-1||l===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===l?n.id-r.id:s-l})}},o(W4,"lt"),i(W4,"PromptPriorityList"),W4);function dt(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(dt,"dt");i(dt,"kindForSnippetProviderType");var Y4,ut=(Y4=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(Y4,"ut"),i(Y4,"PromptElementRanges"),Y4),X4,ct=(X4=class{constructor(t,r,n,s,l){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=l,this.content=[],this.basePromptBackground=new it,this.baseTallyOfChoices=new at}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let l=this.content.length;return this.content.push({id:l,text:t,kind:r,tokens:n,score:s}),l}fulfillPrefix(t){let r=new it;r.add(this.basePromptBackground);let n=new at;n.add(this.baseTallyOfChoices);function s(v){r.markUsed(v),n.markUsed(v)}o(s,"o"),i(s,"markUsed");function l(v){r.undoMarkUsed(v),n.undoMarkUsed(v)}o(l,"s"),i(l,"undoMarkUsed");function a(v){r.markUnused(v),n.markUnused(v)}o(a,"a"),i(a,"markUnused"),this.priorityList.sortElements(this.content);let f,c=[],u=t;this.content.forEach(v=>{if(u>0||f===void 0){let x=v.tokens;if(u>=x)u-=x,s(v),c.push(v);else if(v.kind==="BeforeCursor"){let{summarizedElement:E,removedMaterial:I}=this.snippetTextProcessor.summarize(this.tokenizer,v,u);v=E,x=v.tokens,u-=x,v.text.length>0&&s(v),I.text.length>0&&a(I),c.push(v)}else f===void 0?f=v:a(v)}else a(v)}),this.orderingList.sortElements(c);let d=c.reduce((v,x)=>v+x.text,""),h=this.tokenizer.tokenLength(d);for(;h>t;){this.priorityList.sortElements(c);let v=c.pop();v&&(l(v),a(v),f!==void 0&&a(f),f=void 0),this.orderingList.sortElements(c),d=c.reduce((x,E)=>x+E.text,""),h=this.tokenizer.tokenLength(d)}let p=[...c];if(f!==void 0){p.push(f),this.orderingList.sortElements(p);let v=p.reduce((E,I)=>E+I.text,""),x=this.tokenizer.tokenLength(v);if(x<=t){s(f);let E=new ut(p);return{prefix:v,suffix:"",prefixLength:x,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:E}}else a(f)}let m=new ut(c);return{prefix:d,suffix:"",prefixLength:h,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:m}}fulfill(t,r,n){var p;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-Yo,l=Math.floor(s*(100-r.suffixPercent)/100),a=s-l,f=t.trimStart();if(s>We&&a<We)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${a} < ${We}
`);let c=this.tokenizer.takeFirstTokens(f,We),u=!1;c.tokens.length>0&&r.suffixMatchThreshold>0&&100*((p=Xn(c.tokens,n.tokens.slice(0,We)))==null?void 0:p.score)<r.suffixMatchThreshold*c.tokens.length&&(u=!0);let d;if(u)l=s-n.tokens.length,d=n;else{let m=this.maxPrefixTokenLength(),v=this.tokenizer.tokenLength(f);m<l?(l=m,a=s-l):v<a&&(l=s-v,a=v),d=this.tokenizer.takeFirstTokens(f,a)}let h=this.fulfillPrefix(l);return h.suffix=d.text,h.suffixLength=d.tokens.length,{promptInfo:h,newCachedSuffix:d}}},o(X4,"ct"),i(X4,"PromptWishlist"),X4),j=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(j||{}),ie=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(ie||{}),es={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function ts(e,t,r){let n=es[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),be(s,t,r)}o(ts,"ts");i(ts,"announceSnippet");function Yn(e){e.sort((t,r)=>r.score-t.score)}o(Yn,"Yn");i(Yn,"sortSnippetsDescending");function ns(e,t,r){if(t==0)return[];let n=e.map(l=>({...l,kind:dt(l.provider)})),s=[];return r.rankedList.forEach(l=>{let a=n.filter(({kind:f})=>f===l);Yn(a),s.push(...a)}),s.slice(0,t)}o(ns,"ns");i(ns,"selectSnippets");function er(e,t,r,n,s,l){let a=ns(e,l,n).map(f=>{let c=ts(f,t,s),u=r.tokenLength(c);return{announcedSnippet:c,provider:f.provider,score:f.score,tokens:u,relativePath:f.relativePath}});return Yn(a),a.reverse(),a}o(er,"er");i(er,"processSnippetsForWishlist");var J4,Jt=(J4=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(J4,"Jt"),i(J4,"FifoCache"),J4),Z4,Qt=(Z4=class{constructor(t){var r;this.stopsForLanguage=(r=is.get(t.languageId))!=null?r:ss}tokenize(t){return new Set(rs(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(Z4,"Qt"),i(Z4,"Tokenizer"),Z4),tr=new Jt(20),Q4,_t=(Q4=class{constructor(t){this.referenceDoc=t,this.tokenizer=new Qt(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var u;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),l=this.id()+":"+t.source,a=(u=tr.get(l))!=null?u:[],f=a.length==0,c=f?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[h,p]]of this.getWindowsDelineations(s).entries()){if(f){let x=new Set;c.slice(h,p).forEach(E=>E.forEach(x.add,x)),a.push(x)}let m=a[d],v=this.similarityScore(m,this.referenceTokens);n.push({score:v,startLine:h,endLine:p})}return f&&tr.put(l,a),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(Q4,"_t"),i(Q4,"WindowedMatcher"),Q4);function rs(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(rs,"rs");i(rs,"splitIntoWords");var os=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ss=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...os]),is=new Map([]);function nr(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(nr,"nr");i(nr,"getBasicWindowDelineations");var R5,mt=(R5=class extends _t{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return nr(this.windowLength,t)}_getCursorContextInfo(t){return st(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return as(t,r)}},o(R5,"t"),i(R5,"FixedWindowSizeJaccardMatcher"),R5.FACTORY=t=>({to:r=>new R5(r,t)}),R5);function as(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(as,"as");i(as,"computeScore");var ze=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(ze||{}),ls={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},us=1e4,cs=20;function ds(e,t){return mt.FACTORY(t.snippetLength).to(e)}o(ds,"ds");i(ds,"getMatcher");async function rr(e,t,r){let n={...ls[r]},s=ds(e,n);return n.numberOfSnippets===0?[]:(await t.filter(l=>l.source.length<us&&l.source.length>0).slice(0,cs).reduce(async(l,a)=>(await l).concat((await s.findMatches(a)).map(f=>({relativePath:a.relativePath,...f}))),Promise.resolve([]))).filter(l=>l.score&&l.snippet&&l.score>n.threshold).sort((l,a)=>l.score-a.score).slice(-n.numberOfSnippets)}o(rr,"rr");i(rr,"getNeighborSnippets");function or(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let v=0;v<n.length-1;v++)n[v]+=`
`;let s=[];n.forEach((v,x)=>{v===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(v)});let l=s.map(v=>e.tokenLength(v)),a=1,f=0;for(;a<=l.length;a++){let v=l.at(-a);if(v){if(v+f>r){a--;break}f+=v}}let c=s.slice(-a).join(""),u=e.tokenLength(c),d=s.slice(0,-a).join(""),h=e.tokenLength(d),p={id:t.id,kind:t.kind,text:c,tokens:u,score:t.score},m={id:t.id,kind:t.kind,text:d,tokens:h,score:t.score};return{summarizedElement:p,removedMaterial:m}}o(or,"or");i(or,"truncateFirstLinesFirst");var e8,pt=(e8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",or]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(e8,"pt"),i(e8,"SnippetTextProcessor"),e8),ms=/(\.|\->|::)\w+$/;function sr(e,t){let r=`Use ${e}`;return be(r,t)}o(sr,"sr");i(sr,"announceTooltipSignatureSnippet");function ir(e){let t=e.source.substring(0,e.offset);return ms.test(t)}o(ir,"ir");i(ir,"endsWithAttributesOrMethod");function ar(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(ar,"ar");i(ar,"transferLastLineToTooltipSignature");var lr={text:"",tokens:[]},ur=1500,cr=4,dr=150,Kt=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(Kt||{}),_r=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(_r||{}),mr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(mr||{}),t8,ft=(t8=class{constructor(t,r){if(this.fs=t,this.maxPromptLength=ur,this.numberOfSnippets=cr,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,r),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(t8,"ft"),i(t8,"PromptOptions"),t8),ps={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor"};function ne(e){var t;return e=e.toLowerCase(),(t=ps[e])!=null?t:e}o(ne,"ne");i(ne,"normalizeLanguageId");async function gs(e,t,r={},n=[]){let s=new ft(e,r),l=U(s.tokenizerName),a=new pt(s.snippetTextProcessingPreset),f=new Ue(s.promptOrderListPreset),c=new lt(s.promptPriorityPreset),{source:u,offset:d}=t;if(d<0||d>u.length)throw new Error(`Offset ${d} is out of range.`);t.languageId=ne(t.languageId);let h=new ct(l,s.lineEnding,f,a,c),p=n.find(D=>D.provider==="path"),m=n.find(D=>D.provider==="language"),v=n.find(D=>D.provider==="tooltip-signature");p!==void 0&&p.snippet.length>0?(h.append(p.snippet,"PathMarker"),m&&h.extMarkUnused({text:m.snippet,kind:"LanguageMarker",tokens:l.tokenLength(m.snippet),id:NaN,score:NaN})):m&&h.append(m.snippet,"LanguageMarker"),n=n.filter(D=>D.provider!=="language"&&D.provider!=="path"&&D.provider!=="tooltip-signature");function x(){er(n,t.languageId,l,c,r.defaultCommentMarker,s.numberOfSnippets).forEach(D=>{let k=dt(D.provider);h.append(D.announcedSnippet,k,D.tokens,D.score)})}o(x,"g"),i(x,"addSnippetsNow"),x();let E=u.substring(0,d);v!==void 0&&l.tokenLength(v.snippet)<=dr?([E,v]=ar(E,v),h.append(v.snippet,"TooltipSignature")):v!==void 0&&h.extMarkUnused({text:v.snippet,kind:"TooltipSignature",tokens:l.tokenLength(v.snippet),id:NaN,score:NaN}),h.append(E,"BeforeCursor");let I=u.slice(d),{promptInfo:A,newCachedSuffix:L}=h.fulfill(I,s,lr);return lr=L,A}o(gs,"gs");i(gs,"getPrompt");var r8,re=(r8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(r8,"re"),i(r8,"ProviderTimeoutError"),r8),n8,Z=(n8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new re("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new re(`max runtime exceeded: ${Xt} ms`),providerType:this.type})},{once:!0});let l=performance.now();this.buildSnippets(t).then(a=>{let f=performance.now();n({snippets:a,providerType:this.type,runtime:f-l})}).catch(a=>{s({error:a,providerType:this.type})})})}},o(n8,"Z"),i(n8,"SnippetProvider"),n8),i8,gt=(i8=class extends Z{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Jn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(i8,"gt"),i(i8,"LanguageSnippetProvider"),i8),s8,ht=(s8=class extends Z{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(s8,"ht"),i(s8,"NeighborFilesProvider"),s8),o8,bt=(o8=class extends Z{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Qn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(o8,"bt"),i(o8,"PathSnippetProvider"),o8),a8,yt=(a8=class extends Z{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=ne(r.languageId),n&&ir(r)&&s.push({provider:this.type,semantics:"snippet",snippet:ye(sr(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(a8,"yt"),i(a8,"TooltipSignatureSnippetProvider"),a8),Jr=require("path"),G=require("worker_threads");function ti(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(ti,"ti");i(ti,"sleep");var Kr=["getNeighborSnippets","sleep"],l8,Sn=(l8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=rr,this.sleep=ti,!G.isMainThread&&((t=G.workerData)!=null&&t.port)&&(Gr(),process.cwd=()=>G.workerData.cwd,this.configureWorkerResponse(G.workerData.port))}initWorker(){let{port1:t,port2:r}=new G.MessageChannel;this.port=t,this.worker=new G.Worker((0,Jr.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Kr)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Kr){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let l=this[n];if(!l)throw new Error(`Function not found: ${n}`);try{let a=await l.apply(this,s);this.port.postMessage({id:r,res:a})}catch(a){if(!(a instanceof Error))throw a;typeof a.code=="string"?this.port.postMessage({id:r,err:a,code:a.code}):this.port.postMessage({id:r,err:a})}})}handleMessage({id:t,err:r,code:n,res:s}){let l=this.handlers.get(t);l&&(this.handlers.delete(t),r?(r.code=n,l.reject(r)):l.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,l)=>{var a;this.handlers.set(n,{resolve:s,reject:l}),(a=this.port)==null||a.postMessage({id:n,fn:t,args:r})})}}},o(l8,"Sn"),i(l8,"WorkerProxy"),l8),xt=new Sn,Xt=300,ni=[gt,bt,ht,yt];function Qr(e){return e.status==="fulfilled"}o(Qr,"Qr");i(Qr,"isFulfilledResult");function ri(e){return e.status==="rejected"}o(ri,"ri");i(ri,"isRejectedResult");function Xr(e){return e.filter(Qr).flatMap(t=>t.value.snippets)}o(Xr,"Xr");i(Xr,"providersSnippets");function Yr(e){return e.filter(ri).flatMap(t=>t.reason)}o(Yr,"Yr");i(Yr,"providersErrors");function eo(e){let t={},r={};return e.forEach(n=>{Qr(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof re&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(eo,"eo");i(eo,"providersPerformance");var f8,It=(f8=class{constructor(t=ni){this.startThreading=()=>xt.startThreading(),this.stopThreading=()=>xt.stopThreading(),this.providers=t.map(r=>new r(xt))}async getSnippets(t){let r=AbortSignal.timeout(Xt);return Promise.allSettled(this.providers.map(n=>n.getSnippets(t,r)))}},o(f8,"It"),i(f8,"SnippetOrchestrator"),f8),oo=require("fs"),so=require("path"),Nt=Ft(to()),io=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(io||{}),In={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function $e(e){return e in In}o($e,"$e");i($e,"isSupportedLanguageId");function B(e){if(!(e in In))throw new Error(`Unrecognized language: ${e}`);return In[e]}o(B,"B");i(B,"languageIdToWasmLanguage");var En=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,oi={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[En]],typescript:[[En]],tsx:[[En]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},si='(call_expression function: ((identifier) @req (#eq? @req "require")))',no=`(variable_declarator value: ${si})`,ao=`
    (lexical_declaration ${no}+)
    (variable_declaration ${no}+)
`,ro=[[`(program [ ${ao} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],ii={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${ao} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:ro,tsx:ro,go:[],ruby:[]},Mn=[["(program (export_statement) @export)"]],ai={python:[],javascript:Mn,typescript:Mn,tsx:Mn,go:[],ruby:[]},li={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},Tn=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ui={python:new Set(["function_definition"]),javascript:new Set(Tn),typescript:new Set(Tn),tsx:new Set(Tn),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},ci={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},xn=new Map;async function di(e){await Nt.default.init();let t;try{t=await oo.promises.readFile((0,so.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return Nt.default.Language.load(t)}o(di,"di");i(di,"loadWasmLanguage");async function lo(e){let t=B(e);if(!xn.has(t)){let r=await di(t);xn.set(t,r)}return xn.get(t)}o(lo,"lo");i(lo,"getLanguage");async function Te(e,t){let r=await lo(e),n=new Nt.default;n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Te,"Te");i(Te,"parseTreeSitter");async function _i(e,t){let r=await Te(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(_i,"_i");i(_i,"parsesWithoutError");function mi(e){switch(B(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(mi,"mi");i(mi,"getBlockCloseToken");function Ge(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ge,"Ge");i(Ge,"innerQuery");function uo(e,t){let r=oi[B(e)];return Ge(r,t)}o(uo,"uo");i(uo,"queryFunctions");function pi(e,t){let r=ii[B(e)];return Ge(r,t)}o(pi,"pi");i(pi,"queryImports");function fi(e,t){let r=ai[B(e)];return Ge(r,t)}o(fi,"fi");i(fi,"queryExports");function gi(e,t){let r=li[B(e)];return Ge(r,t)}o(gi,"gi");i(gi,"queryGlobalVars");var hi=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Ln(e){return Ge([hi],e).length==1}o(Ln,"Ln");i(Ln,"queryPythonIsDocstring");function bi(e,t){let r=ci[B(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(bi,"bi");i(bi,"getAncestorWithSiblingFunctions");function Lt(e,t){return ui[B(e)].has(t.type)}o(Lt,"Lt");i(Lt,"isFunction");function yi(e,t){switch(B(e)){case"python":case"go":case"ruby":return Lt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&Lt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&Lt(e,n)}}return!1}}o(yi,"yi");i(yi,"isFunctionDefinition");function wi(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(wi,"wi");i(wi,"getFirstPrecedingComment");async function vi(e,t){let r=await Te(e,t),n=uo(e,r.rootNode).map(s=>{let l=s.captures.find(a=>a.name==="function").node;return{startIndex:l.startIndex,endIndex:l.endIndex}});return r.delete(),n}o(vi,"vi");i(vi,"getFunctionPositions");var c8,Pt=(c8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var l;let s=await Te(this.languageId,t);try{let a=s.rootNode.descendantForIndex(r);for(;a;){let f=this.nodeMatch[a.type];if(f){if(!this.nodeTypesWithBlockOrStmtChild.has(a.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(a.type);if(((l=c==""?a.namedChildren[0]:a.childForFieldName(c))==null?void 0:l.type)==f)break}a=a.parent}return a?n(a):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let l=s.children.reverse().find(a=>a.type==this.nodeMatch[s.type]);if(l){if(this.languageId=="python"&&l.parent){let a=l.parent.type==":"?l.parent.parent:l.parent,f=a==null?void 0:a.nextSibling;for(;f&&f.type=="comment";){let c=f.startPosition.row==l.endPosition.row&&f.startPosition.column>=l.endPosition.column,u=f.startPosition.row>a.endPosition.row&&f.startPosition.column>a.startPosition.column;if(c||u)l=f,f=f.nextSibling;else break}}if(!(l.endIndex>=l.tree.rootNode.endIndex-1&&(l.hasError()||l.parent.hasError())))return n(l)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),l=await this.getNextBlockAtPosition(s,n,a=>a.endIndex);if(l!==void 0&&l<s.length){let a=l-t.length;return a>0?a:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(c8,"Pt"),i(c8,"BaseBlockParser"),c8),u8,kt=(u8=class extends Pt{constructor(t,r,n,s,l){super(t,s,l),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let l=t.substring(r,s.endIndex).trim();return l==""||l.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=_o(t,r),this.isBlockStart(Si(t,r))&&this.isBlockBodyEmpty(t,r)}},o(u8,"kt"),i(u8,"RegexBasedBlockParser"),u8);function Si(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Si,"Si");i(Si,"getLineAtOffset");function _o(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(_o,"_o");i(_o,"rewindToNearestNonWs");function co(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(co,"co");i(co,"indent");function Ei(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=co(e,r),s=co(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(Ei,"Ei");i(Ei,"outdented");var d8,xe=(d8=class extends Pt{constructor(t,r,n,s,l,a,f){super(t,r,n),this.startKeywords=s,this.blockNodeType=l,this.emptyStatementType=a,this.curlyBraceLanguage=f}isBlockEmpty(t,r){var s,l;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((l=t.parent)==null?void 0:l.type)=="function_definition")&&t.children.length==1&&Ln(t.parent))}async isEmptyBlockStart(t,r){var s,l,a,f;if(r>t.length)throw new RangeError("Invalid offset");for(let c=r;c<t.length&&t.charAt(c)!=`
`;c++)if(/\S/.test(t.charAt(c)))return!1;r=_o(t,r);let n=await Te(this.languageId,t);try{let c=n.rootNode.descendantForIndex(r-1);if(c==null||this.curlyBraceLanguage&&c.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&c.parent&&c.parent.type=="object"&&c.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let m=c;for(;m.parent;){if(m.type=="function_signature"||m.type=="method_signature"){let v=c.nextSibling;return v&&m.hasError()&&Ei(m,v,t)?!0:!m.children.find(x=>x.type==";")&&m.endIndex<=r}m=m.parent}}let u=null,d=null,h=null,p=c;for(;p!=null;){if(p.type==this.blockNodeType){d=p;break}if(this.nodeMatch[p.type]){h=p;break}if(p.type=="ERROR"){u=p;break}p=p.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let m=d.previousSibling;if(m!=null&&m.hasError()&&(m.text.startsWith('"""')||m.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(u!=null){if(((s=u.previousSibling)==null?void 0:s.type)=="module"||((l=u.previousSibling)==null?void 0:l.type)=="internal_module"||((a=u.previousSibling)==null?void 0:a.type)=="def")return!0;let m=[...u.children].reverse(),v=m.find(E=>this.startKeywords.includes(E.type)),x=m.find(E=>E.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&c.type=="identifier"&&c.text.length>4&&(x=(f=m.find(A=>A.hasError()))==null?void 0:f.children.find(A=>A.type=="block"));let E,I=0;for(let A of u.children){if(A.type==":"&&I==0){E=A;break}A.type=="("&&(I+=1),A.type==")"&&(I-=1)}if(E&&v.endIndex<=E.startIndex&&E.nextSibling){if(v.type=="def"){let A=E.nextSibling;if(A.type=='"'||A.type=="'"||A.type=="ERROR"&&(A.text=='"""'||A.text=="'''"))return!0}return!1}break}case"javascript":{let E=m.find(A=>A.type=="formal_parameters");if(v.type=="class"&&E)return!0;let I=m.find(A=>A.type=="{");if(I&&I.startIndex>v.endIndex&&I.nextSibling!=null||m.find(A=>A.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let E=m.find(I=>I.type=="{");if(E&&E.startIndex>v.endIndex&&E.nextSibling!=null||m.find(I=>I.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return x&&x.startIndex>v.endIndex?this.isBlockEmpty(x,r):!0}}if(h!=null){let m=this.nodeMatch[h.type],v=h.children.slice().reverse().find(x=>x.type==m);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let x=this.nodeTypesWithBlockOrStmtChild.get(h.type),E=x==""?h.children[0]:h.childForFieldName(x);if(E&&E.type!=this.blockNodeType&&E.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(d8,"xe"),i(d8,"TreeSitterBasedBlockParser"),d8),Mi={python:new xe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new kt("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new kt("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function Ct(e){return Mi[B(e)]}o(Ct,"Ct");i(Ct,"getBlockParser");async function Ti(e,t,r){return $e(e)?Ct(e).isEmptyBlockStart(t,r):!1}o(Ti,"Ti");i(Ti,"isEmptyBlockStart");async function xi(e,t,r,n){if($e(e))return Ct(e).isBlockBodyFinished(t,r,n)}o(xi,"xi");i(xi,"isBlockBodyFinished");async function Ii(e,t,r){if($e(e))return Ct(e).getNodeStart(t,r)}o(Ii,"Ii");i(Ii,"getNodeStart");function Li(){return new po.Worker((0,mo.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(Li,"Li");i(Li,"createWorker")});var Pi=v0((rm,oA)=>{(function(e,t){typeof rm=="object"?oA.exports=rm=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(rm,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),l=Object.create||function(){function I(){}return o(I,"F"),function(A){var L;return I.prototype=A,L=new I,I.prototype=null,L}}(),a={},f=a.lib={},c=f.Base=function(){return{extend:function(I){var A=l(this);return I&&A.mixIn(I),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var I=this.extend();return I.init.apply(I,arguments),I},init:function(){},mixIn:function(I){for(var A in I)I.hasOwnProperty(A)&&(this[A]=I[A]);I.hasOwnProperty("toString")&&(this.toString=I.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=f.WordArray=c.extend({init:function(I,A){I=this.words=I||[],A!=r?this.sigBytes=A:this.sigBytes=I.length*4},toString:function(I){return(I||h).stringify(this)},concat:function(I){var A=this.words,L=I.words,D=this.sigBytes,k=I.sigBytes;if(this.clamp(),D%4)for(var $=0;$<k;$++){var ue=L[$>>>2]>>>24-$%4*8&255;A[D+$>>>2]|=ue<<24-(D+$)%4*8}else for(var ce=0;ce<k;ce+=4)A[D+ce>>>2]=L[ce>>>2];return this.sigBytes+=k,this},clamp:function(){var I=this.words,A=this.sigBytes;I[A>>>2]&=4294967295<<32-A%4*8,I.length=t.ceil(A/4)},clone:function(){var I=c.clone.call(this);return I.words=this.words.slice(0),I},random:function(I){for(var A=[],L=0;L<I;L+=4)A.push(s());return new u.init(A,I)}}),d=a.enc={},h=d.Hex={stringify:function(I){for(var A=I.words,L=I.sigBytes,D=[],k=0;k<L;k++){var $=A[k>>>2]>>>24-k%4*8&255;D.push(($>>>4).toString(16)),D.push(($&15).toString(16))}return D.join("")},parse:function(I){for(var A=I.length,L=[],D=0;D<A;D+=2)L[D>>>3]|=parseInt(I.substr(D,2),16)<<24-D%8*4;return new u.init(L,A/2)}},p=d.Latin1={stringify:function(I){for(var A=I.words,L=I.sigBytes,D=[],k=0;k<L;k++){var $=A[k>>>2]>>>24-k%4*8&255;D.push(String.fromCharCode($))}return D.join("")},parse:function(I){for(var A=I.length,L=[],D=0;D<A;D++)L[D>>>2]|=(I.charCodeAt(D)&255)<<24-D%4*8;return new u.init(L,A)}},m=d.Utf8={stringify:function(I){try{return decodeURIComponent(escape(p.stringify(I)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(I){return p.parse(unescape(encodeURIComponent(I)))}},v=f.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(I){typeof I=="string"&&(I=m.parse(I)),this._data.concat(I),this._nDataBytes+=I.sigBytes},_process:function(I){var A,L=this._data,D=L.words,k=L.sigBytes,$=this.blockSize,ue=$*4,ce=k/ue;I?ce=t.ceil(ce):ce=t.max((ce|0)-this._minBufferSize,0);var e0=ce*$,d0=t.min(e0*4,k);if(e0){for(var n0=0;n0<e0;n0+=$)this._doProcessBlock(D,n0);A=D.splice(0,e0),L.sigBytes-=d0}return new u.init(A,d0)},clone:function(){var I=c.clone.call(this);return I._data=this._data.clone(),I},_minBufferSize:0}),x=f.Hasher=v.extend({cfg:c.extend(),init:function(I){this.cfg=this.cfg.extend(I),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(I){return this._append(I),this._process(),this},finalize:function(I){I&&this._append(I);var A=this._doFinalize();return A},blockSize:512/32,_createHelper:function(I){return function(A,L){return new I.init(L).finalize(A)}},_createHmacHelper:function(I){return function(A,L){return new E.HMAC.init(I,L).finalize(A)}}}),E=a.algo={};return a}(Math);return e})});var K9=v0((nm,aA)=>{(function(e,t){typeof nm=="object"?aA.exports=nm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(nm,function(e){return function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=r.x64={},f=a.Word=s.extend({init:function(u,d){this.high=u,this.low=d}}),c=a.WordArray=s.extend({init:function(u,d){u=this.words=u||[],d!=t?this.sigBytes=d:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,d=u.length,h=[],p=0;p<d;p++){var m=u[p];h.push(m.high),h.push(m.low)}return l.create(h,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),d=u.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return u}})}(),e})});var fA=v0((im,lA)=>{(function(e,t){typeof im=="object"?lA.exports=im=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(im,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,l=n.init=function(a){if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),(a instanceof Int8Array||typeof Uint8ClampedArray<"u"&&a instanceof Uint8ClampedArray||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array)&&(a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength)),a instanceof Uint8Array){for(var f=a.byteLength,c=[],u=0;u<f;u++)c[u>>>2]|=a[u]<<24-u%4*8;s.call(this,c,f)}else s.apply(this,arguments)};l.prototype=n}}(),e.lib.WordArray})});var uA=v0((sm,cA)=>{(function(e,t){typeof sm=="object"?cA.exports=sm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(sm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Utf16=s.Utf16BE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=c[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=f.charCodeAt(d)<<16-d%2*16;return n.create(u,c*2)}};s.Utf16LE={stringify:function(f){for(var c=f.words,u=f.sigBytes,d=[],h=0;h<u;h+=2){var p=a(c[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(p))}return d.join("")},parse:function(f){for(var c=f.length,u=[],d=0;d<c;d++)u[d>>>1]|=a(f.charCodeAt(d)<<16-d%2*16);return n.create(u,c*2)}};function a(f){return f<<8&4278255360|f>>>8&16711935}o(a,"swapEndian")}(),e.enc.Utf16})});var k5=v0((om,dA)=>{(function(e,t){typeof om=="object"?dA.exports=om=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(om,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64={stringify:function(f){var c=f.words,u=f.sigBytes,d=this._map;f.clamp();for(var h=[],p=0;p<u;p+=3)for(var m=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,x=c[p+2>>>2]>>>24-(p+2)%4*8&255,E=m<<16|v<<8|x,I=0;I<4&&p+I*.75<u;I++)h.push(d.charAt(E>>>6*(3-I)&63));var A=d.charAt(64);if(A)for(;h.length%4;)h.push(A);return h.join("")},parse:function(f){var c=f.length,u=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<u.length;h++)d[u.charCodeAt(h)]=h}var p=u.charAt(64);if(p){var m=f.indexOf(p);m!==-1&&(c=m)}return a(f,c,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=u[f.charCodeAt(p-1)]<<p%4*2,v=u[f.charCodeAt(p)]>>>6-p%4*2,x=m|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64})});var gA=v0((am,hA)=>{(function(e,t){typeof am=="object"?hA.exports=am=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(am,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,l=s.Base64url={stringify:function(f,c){c===void 0&&(c=!0);var u=f.words,d=f.sigBytes,h=c?this._safe_map:this._map;f.clamp();for(var p=[],m=0;m<d;m+=3)for(var v=u[m>>>2]>>>24-m%4*8&255,x=u[m+1>>>2]>>>24-(m+1)%4*8&255,E=u[m+2>>>2]>>>24-(m+2)%4*8&255,I=v<<16|x<<8|E,A=0;A<4&&m+A*.75<d;A++)p.push(h.charAt(I>>>6*(3-A)&63));var L=h.charAt(64);if(L)for(;p.length%4;)p.push(L);return p.join("")},parse:function(f,c){c===void 0&&(c=!0);var u=f.length,d=c?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var m=d.charAt(64);if(m){var v=f.indexOf(m);v!==-1&&(u=v)}return a(f,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(f,c,u){for(var d=[],h=0,p=0;p<c;p++)if(p%4){var m=u[f.charCodeAt(p-1)]<<p%4*2,v=u[f.charCodeAt(p)]>>>6-p%4*2,x=m|v;d[h>>>2]|=x<<24-h%4*8,h++}return n.create(d,h)}o(a,"parseLoop")}(),e.enc.Base64url})});var B5=v0((lm,mA)=>{(function(e,t){typeof lm=="object"?mA.exports=lm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[];(function(){for(var m=0;m<64;m++)f[m]=t.abs(t.sin(m+1))*4294967296|0})();var c=a.MD5=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var x=0;x<16;x++){var E=v+x,I=m[E];m[E]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}var A=this._hash.words,L=m[v+0],D=m[v+1],k=m[v+2],$=m[v+3],ue=m[v+4],ce=m[v+5],e0=m[v+6],d0=m[v+7],n0=m[v+8],_0=m[v+9],je=m[v+10],we=m[v+11],t0=m[v+12],h0=m[v+13],o0=m[v+14],l0=m[v+15],s0=A[0],c0=A[1],_e=A[2],ve=A[3];s0=u(s0,c0,_e,ve,L,7,f[0]),ve=u(ve,s0,c0,_e,D,12,f[1]),_e=u(_e,ve,s0,c0,k,17,f[2]),c0=u(c0,_e,ve,s0,$,22,f[3]),s0=u(s0,c0,_e,ve,ue,7,f[4]),ve=u(ve,s0,c0,_e,ce,12,f[5]),_e=u(_e,ve,s0,c0,e0,17,f[6]),c0=u(c0,_e,ve,s0,d0,22,f[7]),s0=u(s0,c0,_e,ve,n0,7,f[8]),ve=u(ve,s0,c0,_e,_0,12,f[9]),_e=u(_e,ve,s0,c0,je,17,f[10]),c0=u(c0,_e,ve,s0,we,22,f[11]),s0=u(s0,c0,_e,ve,t0,7,f[12]),ve=u(ve,s0,c0,_e,h0,12,f[13]),_e=u(_e,ve,s0,c0,o0,17,f[14]),c0=u(c0,_e,ve,s0,l0,22,f[15]),s0=d(s0,c0,_e,ve,D,5,f[16]),ve=d(ve,s0,c0,_e,e0,9,f[17]),_e=d(_e,ve,s0,c0,we,14,f[18]),c0=d(c0,_e,ve,s0,L,20,f[19]),s0=d(s0,c0,_e,ve,ce,5,f[20]),ve=d(ve,s0,c0,_e,je,9,f[21]),_e=d(_e,ve,s0,c0,l0,14,f[22]),c0=d(c0,_e,ve,s0,ue,20,f[23]),s0=d(s0,c0,_e,ve,_0,5,f[24]),ve=d(ve,s0,c0,_e,o0,9,f[25]),_e=d(_e,ve,s0,c0,$,14,f[26]),c0=d(c0,_e,ve,s0,n0,20,f[27]),s0=d(s0,c0,_e,ve,h0,5,f[28]),ve=d(ve,s0,c0,_e,k,9,f[29]),_e=d(_e,ve,s0,c0,d0,14,f[30]),c0=d(c0,_e,ve,s0,t0,20,f[31]),s0=h(s0,c0,_e,ve,ce,4,f[32]),ve=h(ve,s0,c0,_e,n0,11,f[33]),_e=h(_e,ve,s0,c0,we,16,f[34]),c0=h(c0,_e,ve,s0,o0,23,f[35]),s0=h(s0,c0,_e,ve,D,4,f[36]),ve=h(ve,s0,c0,_e,ue,11,f[37]),_e=h(_e,ve,s0,c0,d0,16,f[38]),c0=h(c0,_e,ve,s0,je,23,f[39]),s0=h(s0,c0,_e,ve,h0,4,f[40]),ve=h(ve,s0,c0,_e,L,11,f[41]),_e=h(_e,ve,s0,c0,$,16,f[42]),c0=h(c0,_e,ve,s0,e0,23,f[43]),s0=h(s0,c0,_e,ve,_0,4,f[44]),ve=h(ve,s0,c0,_e,t0,11,f[45]),_e=h(_e,ve,s0,c0,l0,16,f[46]),c0=h(c0,_e,ve,s0,k,23,f[47]),s0=p(s0,c0,_e,ve,L,6,f[48]),ve=p(ve,s0,c0,_e,d0,10,f[49]),_e=p(_e,ve,s0,c0,o0,15,f[50]),c0=p(c0,_e,ve,s0,ce,21,f[51]),s0=p(s0,c0,_e,ve,t0,6,f[52]),ve=p(ve,s0,c0,_e,$,10,f[53]),_e=p(_e,ve,s0,c0,je,15,f[54]),c0=p(c0,_e,ve,s0,D,21,f[55]),s0=p(s0,c0,_e,ve,n0,6,f[56]),ve=p(ve,s0,c0,_e,l0,10,f[57]),_e=p(_e,ve,s0,c0,e0,15,f[58]),c0=p(c0,_e,ve,s0,h0,21,f[59]),s0=p(s0,c0,_e,ve,ue,6,f[60]),ve=p(ve,s0,c0,_e,we,10,f[61]),_e=p(_e,ve,s0,c0,k,15,f[62]),c0=p(c0,_e,ve,s0,_0,21,f[63]),A[0]=A[0]+s0|0,A[1]=A[1]+c0|0,A[2]=A[2]+_e|0,A[3]=A[3]+ve|0},_doFinalize:function(){var m=this._data,v=m.words,x=this._nDataBytes*8,E=m.sigBytes*8;v[E>>>5]|=128<<24-E%32;var I=t.floor(x/4294967296),A=x;v[(E+64>>>9<<4)+15]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,v[(E+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var L=this._hash,D=L.words,k=0;k<4;k++){var $=D[k];D[k]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return L},clone:function(){var m=l.clone.call(this);return m._hash=this._hash.clone(),m}});function u(m,v,x,E,I,A,L){var D=m+(v&x|~v&E)+I+L;return(D<<A|D>>>32-A)+v}o(u,"FF");function d(m,v,x,E,I,A,L){var D=m+(v&E|x&~E)+I+L;return(D<<A|D>>>32-A)+v}o(d,"GG");function h(m,v,x,E,I,A,L){var D=m+(v^x^E)+I+L;return(D<<A|D>>>32-A)+v}o(h,"HH");function p(m,v,x,E,I,A,L){var D=m+(x^(v|~E))+I+L;return(D<<A|D>>>32-A)+v}o(p,"II"),r.MD5=l._createHelper(c),r.HmacMD5=l._createHmacHelper(c)}(Math),e.MD5})});var z_=v0((fm,pA)=>{(function(e,t){typeof fm=="object"?pA.exports=fm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(fm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,l=t.algo,a=[],f=l.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,u){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],v=d[3],x=d[4],E=0;E<80;E++){if(E<16)a[E]=c[u+E]|0;else{var I=a[E-3]^a[E-8]^a[E-14]^a[E-16];a[E]=I<<1|I>>>31}var A=(h<<5|h>>>27)+x+a[E];E<20?A+=(p&m|~p&v)+1518500249:E<40?A+=(p^m^v)+1859775393:E<60?A+=(p&m|p&v|m&v)-1894007588:A+=(p^m^v)-899497514,x=v,v=m,m=p<<30|p>>>2,p=h,h=A}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+v|0,d[4]=d[4]+x|0},_doFinalize:function(){var c=this._data,u=c.words,d=this._nDataBytes*8,h=c.sigBytes*8;return u[h>>>5]|=128<<24-h%32,u[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),u[(h+64>>>9<<4)+15]=d,c.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});t.SHA1=s._createHelper(f),t.HmacSHA1=s._createHmacHelper(f)}(),e.SHA1})});var um=v0((cm,yA)=>{(function(e,t){typeof cm=="object"?yA.exports=cm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(cm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=[],c=[];(function(){function h(x){for(var E=t.sqrt(x),I=2;I<=E;I++)if(!(x%I))return!1;return!0}o(h,"isPrime");function p(x){return(x-(x|0))*4294967296|0}o(p,"getFractionalBits");for(var m=2,v=0;v<64;)h(m)&&(v<8&&(f[v]=p(t.pow(m,1/2))),c[v]=p(t.pow(m,1/3)),v++),m++})();var u=[],d=a.SHA256=l.extend({_doReset:function(){this._hash=new s.init(f.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,v=m[0],x=m[1],E=m[2],I=m[3],A=m[4],L=m[5],D=m[6],k=m[7],$=0;$<64;$++){if($<16)u[$]=h[p+$]|0;else{var ue=u[$-15],ce=(ue<<25|ue>>>7)^(ue<<14|ue>>>18)^ue>>>3,e0=u[$-2],d0=(e0<<15|e0>>>17)^(e0<<13|e0>>>19)^e0>>>10;u[$]=ce+u[$-7]+d0+u[$-16]}var n0=A&L^~A&D,_0=v&x^v&E^x&E,je=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),we=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),t0=k+we+n0+c[$]+u[$],h0=je+_0;k=D,D=L,L=A,A=I+t0|0,I=E,E=x,x=v,v=t0+h0|0}m[0]=m[0]+v|0,m[1]=m[1]+x|0,m[2]=m[2]+E|0,m[3]=m[3]+I|0,m[4]=m[4]+A|0,m[5]=m[5]+L|0,m[6]=m[6]+D|0,m[7]=m[7]+k|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,v=h.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=t.floor(m/4294967296),p[(v+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});r.SHA256=l._createHelper(d),r.HmacSHA256=l._createHmacHelper(d)}(Math),e.SHA256})});var xA=v0((dm,vA)=>{(function(e,t,r){typeof dm=="object"?vA.exports=dm=t(Pi(),um()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(dm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,l=s.SHA256,a=s.SHA224=l.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var f=l._doFinalize.call(this);return f.sigBytes-=4,f}});t.SHA224=l._createHelper(a),t.HmacSHA224=l._createHmacHelper(a)}(),e.SHA224})});var G_=v0((hm,_A)=>{(function(e,t,r){typeof hm=="object"?_A.exports=hm=t(Pi(),K9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(hm,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,l=s.Word,a=s.WordArray,f=t.algo;function c(){return l.create.apply(l,arguments)}o(c,"X64Word_create");var u=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=c()})();var h=f.SHA512=n.extend({_doReset:function(){this._hash=new a.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var v=this._hash.words,x=v[0],E=v[1],I=v[2],A=v[3],L=v[4],D=v[5],k=v[6],$=v[7],ue=x.high,ce=x.low,e0=E.high,d0=E.low,n0=I.high,_0=I.low,je=A.high,we=A.low,t0=L.high,h0=L.low,o0=D.high,l0=D.low,s0=k.high,c0=k.low,_e=$.high,ve=$.low,g0=ue,N0=ce,R0=e0,A0=d0,X0=n0,qe=_0,B0=je,Ve=we,U0=t0,D0=h0,q0=o0,pr=l0,Vr=s0,Mt=c0,ae=_e,vr=ve,rn=0;rn<80;rn++){var Ms,ol,la=d[rn];if(rn<16)ol=la.high=p[m+rn*2]|0,Ms=la.low=p[m+rn*2+1]|0;else{var Vf=d[rn-15],fa=Vf.high,al=Vf.low,zf=(fa>>>1|al<<31)^(fa>>>8|al<<24)^fa>>>7,xs=(al>>>1|fa<<31)^(al>>>8|fa<<24)^(al>>>7|fa<<25),_n=d[rn-2],Yl=_n.high,se=_n.low,Q=(Yl>>>19|se<<13)^(Yl<<3|se>>>29)^Yl>>>6,sn=(se>>>19|Yl<<13)^(se<<3|Yl>>>29)^(se>>>6|Yl<<26),Cs=d[rn-7],Ic=Cs.high,Bl=Cs.low,df=d[rn-16],cd=df.high,gn=df.low;Ms=xs+Bl,ol=zf+Ic+(Ms>>>0<xs>>>0?1:0),Ms=Ms+sn,ol=ol+Q+(Ms>>>0<sn>>>0?1:0),Ms=Ms+gn,ol=ol+cd+(Ms>>>0<gn>>>0?1:0),la.high=ol,la.low=Ms}var Bu=U0&q0^~U0&Vr,wc=D0&pr^~D0&Mt,ud=g0&R0^g0&X0^R0&X0,hf=N0&A0^N0&qe^A0&qe,o3=(g0>>>28|N0<<4)^(g0<<30|N0>>>2)^(g0<<25|N0>>>7),Ac=(N0>>>28|g0<<4)^(N0<<30|g0>>>2)^(N0<<25|g0>>>7),f6=(U0>>>14|D0<<18)^(U0>>>18|D0<<14)^(U0<<23|D0>>>9),E1=(D0>>>14|U0<<18)^(D0>>>18|U0<<14)^(D0<<23|U0>>>9),Oa=u[rn],Ps=Oa.high,Du=Oa.low,ca=vr+E1,xl=ae+f6+(ca>>>0<vr>>>0?1:0),ca=ca+wc,xl=xl+Bu+(ca>>>0<wc>>>0?1:0),ca=ca+Du,xl=xl+Ps+(ca>>>0<Du>>>0?1:0),ca=ca+Ms,xl=xl+ol+(ca>>>0<Ms>>>0?1:0),Pc=Ac+hf,T1=o3+ud+(Pc>>>0<Ac>>>0?1:0);ae=Vr,vr=Mt,Vr=q0,Mt=pr,q0=U0,pr=D0,D0=Ve+ca|0,U0=B0+xl+(D0>>>0<Ve>>>0?1:0)|0,B0=X0,Ve=qe,X0=R0,qe=A0,R0=g0,A0=N0,N0=ca+Pc|0,g0=xl+T1+(N0>>>0<ca>>>0?1:0)|0}ce=x.low=ce+N0,x.high=ue+g0+(ce>>>0<N0>>>0?1:0),d0=E.low=d0+A0,E.high=e0+R0+(d0>>>0<A0>>>0?1:0),_0=I.low=_0+qe,I.high=n0+X0+(_0>>>0<qe>>>0?1:0),we=A.low=we+Ve,A.high=je+B0+(we>>>0<Ve>>>0?1:0),h0=L.low=h0+D0,L.high=t0+U0+(h0>>>0<D0>>>0?1:0),l0=D.low=l0+pr,D.high=o0+q0+(l0>>>0<pr>>>0?1:0),c0=k.low=c0+Mt,k.high=s0+Vr+(c0>>>0<Mt>>>0?1:0),ve=$.low=ve+vr,$.high=_e+ae+(ve>>>0<vr>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,x=p.sigBytes*8;m[x>>>5]|=128<<24-x%32,m[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(x+128>>>10<<5)+31]=v,p.sigBytes=m.length*4,this._process();var E=this._hash.toX32();return E},clone:function(){var p=n.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});t.SHA512=n._createHelper(h),t.HmacSHA512=n._createHmacHelper(h)}(),e.SHA512})});var CA=v0((gm,bA)=>{(function(e,t,r){typeof gm=="object"?bA.exports=gm=t(Pi(),K9(),G_()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(gm,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,l=t.algo,a=l.SHA512,f=l.SHA384=a.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=16,c}});t.SHA384=a._createHelper(f),t.HmacSHA384=a._createHmacHelper(f)}(),e.SHA384})});var TA=v0((mm,EA)=>{(function(e,t,r){typeof mm=="object"?EA.exports=mm=t(Pi(),K9()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(mm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.x64,f=a.Word,c=r.algo,u=[],d=[],h=[];(function(){for(var v=1,x=0,E=0;E<24;E++){u[v+5*x]=(E+1)*(E+2)/2%64;var I=x%5,A=(2*v+3*x)%5;v=I,x=A}for(var v=0;v<5;v++)for(var x=0;x<5;x++)d[v+5*x]=x+(2*v+3*x)%5*5;for(var L=1,D=0;D<24;D++){for(var k=0,$=0,ue=0;ue<7;ue++){if(L&1){var ce=(1<<ue)-1;ce<32?$^=1<<ce:k^=1<<ce-32}L&128?L=L<<1^113:L<<=1}h[D]=f.create(k,$)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=f.create()})();var m=c.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new f.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var E=this._state,I=this.blockSize/2,A=0;A<I;A++){var L=v[x+2*A],D=v[x+2*A+1];L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var k=E[A];k.high^=D,k.low^=L}for(var $=0;$<24;$++){for(var ue=0;ue<5;ue++){for(var ce=0,e0=0,d0=0;d0<5;d0++){var k=E[ue+5*d0];ce^=k.high,e0^=k.low}var n0=p[ue];n0.high=ce,n0.low=e0}for(var ue=0;ue<5;ue++)for(var _0=p[(ue+4)%5],je=p[(ue+1)%5],we=je.high,t0=je.low,ce=_0.high^(we<<1|t0>>>31),e0=_0.low^(t0<<1|we>>>31),d0=0;d0<5;d0++){var k=E[ue+5*d0];k.high^=ce,k.low^=e0}for(var h0=1;h0<25;h0++){var ce,e0,k=E[h0],o0=k.high,l0=k.low,s0=u[h0];s0<32?(ce=o0<<s0|l0>>>32-s0,e0=l0<<s0|o0>>>32-s0):(ce=l0<<s0-32|o0>>>64-s0,e0=o0<<s0-32|l0>>>64-s0);var c0=p[d[h0]];c0.high=ce,c0.low=e0}var _e=p[0],ve=E[0];_e.high=ve.high,_e.low=ve.low;for(var ue=0;ue<5;ue++)for(var d0=0;d0<5;d0++){var h0=ue+5*d0,k=E[h0],g0=p[h0],N0=p[(ue+1)%5+5*d0],R0=p[(ue+2)%5+5*d0];k.high=g0.high^~N0.high&R0.high,k.low=g0.low^~N0.low&R0.low}var k=E[0],A0=h[$];k.high^=A0.high,k.low^=A0.low}},_doFinalize:function(){var v=this._data,x=v.words,E=this._nDataBytes*8,I=v.sigBytes*8,A=this.blockSize*32;x[I>>>5]|=1<<24-I%32,x[(t.ceil((I+1)/A)*A>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var L=this._state,D=this.cfg.outputLength/8,k=D/8,$=[],ue=0;ue<k;ue++){var ce=L[ue],e0=ce.high,d0=ce.low;e0=(e0<<8|e0>>>24)&16711935|(e0<<24|e0>>>8)&4278255360,d0=(d0<<8|d0>>>24)&16711935|(d0<<24|d0>>>8)&4278255360,$.push(d0),$.push(e0)}return new s.init($,D)},clone:function(){for(var v=l.clone.call(this),x=v._state=this._state.slice(0),E=0;E<25;E++)x[E]=x[E].clone();return v}});r.SHA3=l._createHelper(m),r.HmacSHA3=l._createHmacHelper(m)}(Math),e.SHA3})});var IA=v0((pm,SA)=>{(function(e,t){typeof pm=="object"?SA.exports=pm=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(pm,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,l=n.Hasher,a=r.algo,f=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=a.RIPEMD160=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,k){for(var $=0;$<16;$++){var ue=k+$,ce=D[ue];D[ue]=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360}var e0=this._hash.words,d0=h.words,n0=p.words,_0=f.words,je=c.words,we=u.words,t0=d.words,h0,o0,l0,s0,c0,_e,ve,g0,N0,R0;_e=h0=e0[0],ve=o0=e0[1],g0=l0=e0[2],N0=s0=e0[3],R0=c0=e0[4];for(var A0,$=0;$<80;$+=1)A0=h0+D[k+_0[$]]|0,$<16?A0+=v(o0,l0,s0)+d0[0]:$<32?A0+=x(o0,l0,s0)+d0[1]:$<48?A0+=E(o0,l0,s0)+d0[2]:$<64?A0+=I(o0,l0,s0)+d0[3]:A0+=A(o0,l0,s0)+d0[4],A0=A0|0,A0=L(A0,we[$]),A0=A0+c0|0,h0=c0,c0=s0,s0=L(l0,10),l0=o0,o0=A0,A0=_e+D[k+je[$]]|0,$<16?A0+=A(ve,g0,N0)+n0[0]:$<32?A0+=I(ve,g0,N0)+n0[1]:$<48?A0+=E(ve,g0,N0)+n0[2]:$<64?A0+=x(ve,g0,N0)+n0[3]:A0+=v(ve,g0,N0)+n0[4],A0=A0|0,A0=L(A0,t0[$]),A0=A0+R0|0,_e=R0,R0=N0,N0=L(g0,10),g0=ve,ve=A0;A0=e0[1]+l0+N0|0,e0[1]=e0[2]+s0+R0|0,e0[2]=e0[3]+c0+_e|0,e0[3]=e0[4]+h0+ve|0,e0[4]=e0[0]+o0+g0|0,e0[0]=A0},_doFinalize:function(){var D=this._data,k=D.words,$=this._nDataBytes*8,ue=D.sigBytes*8;k[ue>>>5]|=128<<24-ue%32,k[(ue+64>>>9<<4)+14]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,D.sigBytes=(k.length+1)*4,this._process();for(var ce=this._hash,e0=ce.words,d0=0;d0<5;d0++){var n0=e0[d0];e0[d0]=(n0<<8|n0>>>24)&16711935|(n0<<24|n0>>>8)&4278255360}return ce},clone:function(){var D=l.clone.call(this);return D._hash=this._hash.clone(),D}});function v(D,k,$){return D^k^$}o(v,"f1");function x(D,k,$){return D&k|~D&$}o(x,"f2");function E(D,k,$){return(D|~k)^$}o(E,"f3");function I(D,k,$){return D&$|k&~$}o(I,"f4");function A(D,k,$){return D^(k|~$)}o(A,"f5");function L(D,k){return D<<k|D>>>32-k}o(L,"rotl"),r.RIPEMD160=l._createHelper(m),r.HmacRIPEMD160=l._createHmacHelper(m)}(Math),e.RIPEMD160})});var vm=v0((ym,wA)=>{(function(e,t){typeof ym=="object"?wA.exports=ym=t(Pi()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(ym,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,l=s.Utf8,a=t.algo,f=a.HMAC=n.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=l.parse(u));var d=c.blockSize,h=d*4;u.sigBytes>h&&(u=c.finalize(u)),u.clamp();for(var p=this._oKey=u.clone(),m=this._iKey=u.clone(),v=p.words,x=m.words,E=0;E<d;E++)v[E]^=1549556828,x[E]^=909522486;p.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,d=u.finalize(c);u.reset();var h=u.finalize(this._oKey.clone().concat(d));return h}})})()})});var PA=v0((xm,AA)=>{(function(e,t,r){typeof xm=="object"?AA.exports=xm=t(Pi(),um(),vm()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(xm,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.SHA256,f=l.HMAC,c=l.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var h=this.cfg,p=f.create(h.hasher,u),m=s.create(),v=s.create([1]),x=m.words,E=v.words,I=h.keySize,A=h.iterations;x.length<I;){var L=p.update(d).finalize(v);p.reset();for(var D=L.words,k=D.length,$=L,ue=1;ue<A;ue++){$=p.finalize($),p.reset();for(var ce=$.words,e0=0;e0<k;e0++)D[e0]^=ce[e0]}m.concat(L),E[0]++}return m.sigBytes=I*4,m}});t.PBKDF2=function(u,d,h){return c.create(h).compute(u,d)}}(),e.PBKDF2})});var hu=v0((_m,NA)=>{(function(e,t,r){typeof _m=="object"?NA.exports=_m=t(Pi(),z_(),vm()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(_m,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,l=t.algo,a=l.MD5,f=l.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:a,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,u){for(var d,h=this.cfg,p=h.hasher.create(),m=s.create(),v=m.words,x=h.keySize,E=h.iterations;v.length<x;){d&&p.update(d),d=p.update(c).finalize(u),p.reset();for(var I=1;I<E;I++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=x*4,m}});t.EvpKDF=function(c,u,d){return f.create(d).compute(c,u)}}(),e.EvpKDF})});var ma=v0((bm,RA)=>{(function(e,t,r){typeof bm=="object"?RA.exports=bm=t(Pi(),hu()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(bm,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,l=n.WordArray,a=n.BufferedBlockAlgorithm,f=r.enc,c=f.Utf8,u=f.Base64,d=r.algo,h=d.EvpKDF,p=n.Cipher=a.extend({cfg:s.extend(),createEncryptor:function(n0,_0){return this.create(this._ENC_XFORM_MODE,n0,_0)},createDecryptor:function(n0,_0){return this.create(this._DEC_XFORM_MODE,n0,_0)},init:function(n0,_0,je){this.cfg=this.cfg.extend(je),this._xformMode=n0,this._key=_0,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(n0){return this._append(n0),this._process()},finalize:function(n0){n0&&this._append(n0);var _0=this._doFinalize();return _0},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function n0(_0){return typeof _0=="string"?d0:ue}return o(n0,"selectCipherStrategy"),function(_0){return{encrypt:function(je,we,t0){return n0(we).encrypt(_0,je,we,t0)},decrypt:function(je,we,t0){return n0(we).decrypt(_0,je,we,t0)}}}}()}),m=n.StreamCipher=p.extend({_doFinalize:function(){var n0=this._process(!0);return n0},blockSize:1}),v=r.mode={},x=n.BlockCipherMode=s.extend({createEncryptor:function(n0,_0){return this.Encryptor.create(n0,_0)},createDecryptor:function(n0,_0){return this.Decryptor.create(n0,_0)},init:function(n0,_0){this._cipher=n0,this._iv=_0}}),E=v.CBC=function(){var n0=x.extend();n0.Encryptor=n0.extend({processBlock:function(je,we){var t0=this._cipher,h0=t0.blockSize;_0.call(this,je,we,h0),t0.encryptBlock(je,we),this._prevBlock=je.slice(we,we+h0)}}),n0.Decryptor=n0.extend({processBlock:function(je,we){var t0=this._cipher,h0=t0.blockSize,o0=je.slice(we,we+h0);t0.decryptBlock(je,we),_0.call(this,je,we,h0),this._prevBlock=o0}});function _0(je,we,t0){var h0,o0=this._iv;o0?(h0=o0,this._iv=t):h0=this._prevBlock;for(var l0=0;l0<t0;l0++)je[we+l0]^=h0[l0]}return o(_0,"xorBlock"),n0}(),I=r.pad={},A=I.Pkcs7={pad:function(n0,_0){for(var je=_0*4,we=je-n0.sigBytes%je,t0=we<<24|we<<16|we<<8|we,h0=[],o0=0;o0<we;o0+=4)h0.push(t0);var l0=l.create(h0,we);n0.concat(l0)},unpad:function(n0){var _0=n0.words[n0.sigBytes-1>>>2]&255;n0.sigBytes-=_0}},L=n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:E,padding:A}),reset:function(){var n0;p.reset.call(this);var _0=this.cfg,je=_0.iv,we=_0.mode;this._xformMode==this._ENC_XFORM_MODE?n0=we.createEncryptor:(n0=we.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==n0?this._mode.init(this,je&&je.words):(this._mode=n0.call(we,this,je&&je.words),this._mode.__creator=n0)},_doProcessBlock:function(n0,_0){this._mode.processBlock(n0,_0)},_doFinalize:function(){var n0,_0=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(_0.pad(this._data,this.blockSize),n0=this._process(!0)):(n0=this._process(!0),_0.unpad(n0)),n0},blockSize:128/32}),D=n.CipherParams=s.extend({init:function(n0){this.mixIn(n0)},toString:function(n0){return(n0||this.formatter).stringify(this)}}),k=r.format={},$=k.OpenSSL={stringify:function(n0){var _0,je=n0.ciphertext,we=n0.salt;return we?_0=l.create([1398893684,1701076831]).concat(we).concat(je):_0=je,_0.toString(u)},parse:function(n0){var _0,je=u.parse(n0),we=je.words;return we[0]==1398893684&&we[1]==1701076831&&(_0=l.create(we.slice(2,4)),we.splice(0,4),je.sigBytes-=16),D.create({ciphertext:je,salt:_0})}},ue=n.SerializableCipher=s.extend({cfg:s.extend({format:$}),encrypt:function(n0,_0,je,we){we=this.cfg.extend(we);var t0=n0.createEncryptor(je,we),h0=t0.finalize(_0),o0=t0.cfg;return D.create({ciphertext:h0,key:je,iv:o0.iv,algorithm:n0,mode:o0.mode,padding:o0.padding,blockSize:n0.blockSize,formatter:we.format})},decrypt:function(n0,_0,je,we){we=this.cfg.extend(we),_0=this._parse(_0,we.format);var t0=n0.createDecryptor(je,we).finalize(_0.ciphertext);return t0},_parse:function(n0,_0){return typeof n0=="string"?_0.parse(n0,this):n0}}),ce=r.kdf={},e0=ce.OpenSSL={execute:function(n0,_0,je,we,t0){if(we||(we=l.random(64/8)),t0)var h0=h.create({keySize:_0+je,hasher:t0}).compute(n0,we);else var h0=h.create({keySize:_0+je}).compute(n0,we);var o0=l.create(h0.words.slice(_0),je*4);return h0.sigBytes=_0*4,D.create({key:h0,iv:o0,salt:we})}},d0=n.PasswordBasedCipher=ue.extend({cfg:ue.cfg.extend({kdf:e0}),encrypt:function(n0,_0,je,we){we=this.cfg.extend(we);var t0=we.kdf.execute(je,n0.keySize,n0.ivSize,we.salt,we.hasher);we.iv=t0.iv;var h0=ue.encrypt.call(this,n0,_0,t0.key,we);return h0.mixIn(t0),h0},decrypt:function(n0,_0,je,we){we=this.cfg.extend(we),_0=this._parse(_0,we.format);var t0=we.kdf.execute(je,n0.keySize,n0.ivSize,_0.salt,we.hasher);we.iv=t0.iv;var h0=ue.decrypt.call(this,n0,_0,t0.key,we);return h0}})}()})});var BA=v0((Cm,kA)=>{(function(e,t,r){typeof Cm=="object"?kA.exports=Cm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Cm,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize;r.call(this,n,s,a,l),this._prevBlock=n.slice(s,s+a)}}),t.Decryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=n.slice(s,s+a);r.call(this,n,s,a,l),this._prevBlock=f}});function r(n,s,l,a){var f,c=this._iv;c?(f=c.slice(0),this._iv=void 0):f=this._prevBlock,a.encryptBlock(f,0);for(var u=0;u<l;u++)n[s+u]^=f[u]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var LA=v0((Em,DA)=>{(function(e,t,r){typeof Em=="object"?DA.exports=Em=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Em,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._counter;f&&(c=this._counter=f.slice(0),this._iv=void 0);var u=c.slice(0);l.encryptBlock(u,0),c[a-1]=c[a-1]+1|0;for(var d=0;d<a;d++)n[s+d]^=u[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var OA=v0((Tm,FA)=>{(function(e,t,r){typeof Tm=="object"?FA.exports=Tm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Tm,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(l){if((l>>24&255)===255){var a=l>>16&255,f=l>>8&255,c=l&255;a===255?(a=0,f===255?(f=0,c===255?c=0:++c):++f):++a,l=0,l+=a<<16,l+=f<<8,l+=c}else l+=1<<24;return l}o(r,"incWord");function n(l){return(l[0]=r(l[0]))===0&&(l[1]=r(l[1])),l}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(l,a){var f=this._cipher,c=f.blockSize,u=this._iv,d=this._counter;u&&(d=this._counter=u.slice(0),this._iv=void 0),n(d);var h=d.slice(0);f.encryptBlock(h,0);for(var p=0;p<c;p++)l[a+p]^=h[p]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var UA=v0((Sm,MA)=>{(function(e,t,r){typeof Sm=="object"?MA.exports=Sm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Sm,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var l=this._cipher,a=l.blockSize,f=this._iv,c=this._keystream;f&&(c=this._keystream=f.slice(0),this._iv=void 0),l.encryptBlock(c,0);for(var u=0;u<a;u++)n[s+u]^=c[u]}});return t.Decryptor=r,t}(),e.mode.OFB})});var $A=v0((Im,qA)=>{(function(e,t,r){typeof Im=="object"?qA.exports=Im=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Im,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var jA=v0((wm,HA)=>{(function(e,t,r){typeof wm=="object"?HA.exports=wm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wm,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,l=s-n%s,a=n+l-1;t.clamp(),t.words[a>>>2]|=l<<24-a%4*8,t.sigBytes+=l},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var zA=v0((Am,VA)=>{(function(e,t,r){typeof Am=="object"?VA.exports=Am=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Am,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var KA=v0((Pm,GA)=>{(function(e,t,r){typeof Pm=="object"?GA.exports=Pm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Pm,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var YA=v0((Nm,WA)=>{(function(e,t,r){typeof Nm=="object"?WA.exports=Nm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Nm,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var JA=v0((Rm,XA)=>{(function(e,t,r){typeof Rm=="object"?XA.exports=Rm=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(Rm,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var QA=v0((km,ZA)=>{(function(e,t,r){typeof km=="object"?ZA.exports=km=t(Pi(),ma()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(km,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,l=r.enc,a=l.Hex,f=r.format,c=f.Hex={stringify:function(u){return u.ciphertext.toString(a)},parse:function(u){var d=a.parse(u);return s.create({ciphertext:d})}}}(),e.format.Hex})});var tP=v0((Bm,eP)=>{(function(e,t,r){typeof Bm=="object"?eP.exports=Bm=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Bm,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,l=[],a=[],f=[],c=[],u=[],d=[],h=[],p=[],m=[],v=[];(function(){for(var I=[],A=0;A<256;A++)A<128?I[A]=A<<1:I[A]=A<<1^283;for(var L=0,D=0,A=0;A<256;A++){var k=D^D<<1^D<<2^D<<3^D<<4;k=k>>>8^k&255^99,l[L]=k,a[k]=L;var $=I[L],ue=I[$],ce=I[ue],e0=I[k]*257^k*16843008;f[L]=e0<<24|e0>>>8,c[L]=e0<<16|e0>>>16,u[L]=e0<<8|e0>>>24,d[L]=e0;var e0=ce*16843009^ue*65537^$*257^L*16843008;h[k]=e0<<24|e0>>>8,p[k]=e0<<16|e0>>>16,m[k]=e0<<8|e0>>>24,v[k]=e0,L?(L=$^I[I[I[ce^$]]],D^=I[I[D]]):L=D=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],E=s.AES=n.extend({_doReset:function(){var I;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,L=A.words,D=A.sigBytes/4,k=this._nRounds=D+6,$=(k+1)*4,ue=this._keySchedule=[],ce=0;ce<$;ce++)ce<D?ue[ce]=L[ce]:(I=ue[ce-1],ce%D?D>6&&ce%D==4&&(I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255]):(I=I<<8|I>>>24,I=l[I>>>24]<<24|l[I>>>16&255]<<16|l[I>>>8&255]<<8|l[I&255],I^=x[ce/D|0]<<24),ue[ce]=ue[ce-D]^I);for(var e0=this._invKeySchedule=[],d0=0;d0<$;d0++){var ce=$-d0;if(d0%4)var I=ue[ce];else var I=ue[ce-4];d0<4||ce<=4?e0[d0]=I:e0[d0]=h[l[I>>>24]]^p[l[I>>>16&255]]^m[l[I>>>8&255]]^v[l[I&255]]}}},encryptBlock:function(I,A){this._doCryptBlock(I,A,this._keySchedule,f,c,u,d,l)},decryptBlock:function(I,A){var L=I[A+1];I[A+1]=I[A+3],I[A+3]=L,this._doCryptBlock(I,A,this._invKeySchedule,h,p,m,v,a);var L=I[A+1];I[A+1]=I[A+3],I[A+3]=L},_doCryptBlock:function(I,A,L,D,k,$,ue,ce){for(var e0=this._nRounds,d0=I[A]^L[0],n0=I[A+1]^L[1],_0=I[A+2]^L[2],je=I[A+3]^L[3],we=4,t0=1;t0<e0;t0++){var h0=D[d0>>>24]^k[n0>>>16&255]^$[_0>>>8&255]^ue[je&255]^L[we++],o0=D[n0>>>24]^k[_0>>>16&255]^$[je>>>8&255]^ue[d0&255]^L[we++],l0=D[_0>>>24]^k[je>>>16&255]^$[d0>>>8&255]^ue[n0&255]^L[we++],s0=D[je>>>24]^k[d0>>>16&255]^$[n0>>>8&255]^ue[_0&255]^L[we++];d0=h0,n0=o0,_0=l0,je=s0}var h0=(ce[d0>>>24]<<24|ce[n0>>>16&255]<<16|ce[_0>>>8&255]<<8|ce[je&255])^L[we++],o0=(ce[n0>>>24]<<24|ce[_0>>>16&255]<<16|ce[je>>>8&255]<<8|ce[d0&255])^L[we++],l0=(ce[_0>>>24]<<24|ce[je>>>16&255]<<16|ce[d0>>>8&255]<<8|ce[n0&255])^L[we++],s0=(ce[je>>>24]<<24|ce[d0>>>16&255]<<16|ce[n0>>>8&255]<<8|ce[_0&255])^L[we++];I[A]=h0,I[A+1]=o0,I[A+2]=l0,I[A+3]=s0},keySize:256/32});t.AES=n._createHelper(E)}(),e.AES})});var nP=v0((Dm,rP)=>{(function(e,t,r){typeof Dm=="object"?rP.exports=Dm=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Dm,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,l=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=l.DES=s.extend({_doReset:function(){for(var x=this._key,E=x.words,I=[],A=0;A<56;A++){var L=a[A]-1;I[A]=E[L>>>5]>>>31-L%32&1}for(var D=this._subKeys=[],k=0;k<16;k++){for(var $=D[k]=[],ue=c[k],A=0;A<24;A++)$[A/6|0]|=I[(f[A]-1+ue)%28]<<31-A%6,$[4+(A/6|0)]|=I[28+(f[A+24]-1+ue)%28]<<31-A%6;$[0]=$[0]<<1|$[0]>>>31;for(var A=1;A<7;A++)$[A]=$[A]>>>(A-1)*4+3;$[7]=$[7]<<5|$[7]>>>27}for(var ce=this._invSubKeys=[],A=0;A<16;A++)ce[A]=D[15-A]},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._subKeys)},decryptBlock:function(x,E){this._doCryptBlock(x,E,this._invSubKeys)},_doCryptBlock:function(x,E,I){this._lBlock=x[E],this._rBlock=x[E+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var A=0;A<16;A++){for(var L=I[A],D=this._lBlock,k=this._rBlock,$=0,ue=0;ue<8;ue++)$|=u[ue][((k^L[ue])&d[ue])>>>0];this._lBlock=k,this._rBlock=D^$}var ce=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ce,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),x[E]=this._lBlock,x[E+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(x,E){var I=(this._lBlock>>>x^this._rBlock)&E;this._rBlock^=I,this._lBlock^=I<<x}o(p,"exchangeLR");function m(x,E){var I=(this._rBlock>>>x^this._lBlock)&E;this._lBlock^=I,this._rBlock^=I<<x}o(m,"exchangeRL"),t.DES=s._createHelper(h);var v=l.TripleDES=s.extend({_doReset:function(){var x=this._key,E=x.words;if(E.length!==2&&E.length!==4&&E.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var I=E.slice(0,2),A=E.length<4?E.slice(0,2):E.slice(2,4),L=E.length<6?E.slice(0,2):E.slice(4,6);this._des1=h.createEncryptor(n.create(I)),this._des2=h.createEncryptor(n.create(A)),this._des3=h.createEncryptor(n.create(L))},encryptBlock:function(x,E){this._des1.encryptBlock(x,E),this._des2.decryptBlock(x,E),this._des3.encryptBlock(x,E)},decryptBlock:function(x,E){this._des3.decryptBlock(x,E),this._des2.encryptBlock(x,E),this._des1.decryptBlock(x,E)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(v)}(),e.TripleDES})});var sP=v0((Lm,iP)=>{(function(e,t,r){typeof Lm=="object"?iP.exports=Lm=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Lm,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=s.RC4=n.extend({_doReset:function(){for(var c=this._key,u=c.words,d=c.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var v=p%d,x=u[v>>>2]>>>24-v%4*8&255;m=(m+h[p]+x)%256;var E=h[p];h[p]=h[m],h[m]=E}this._i=this._j=0},_doProcessBlock:function(c,u){c[u]^=a.call(this)},keySize:256/32,ivSize:0});function a(){for(var c=this._S,u=this._i,d=this._j,h=0,p=0;p<4;p++){u=(u+1)%256,d=(d+c[u])%256;var m=c[u];c[u]=c[d],c[d]=m,h|=c[(c[u]+c[d])%256]<<24-p*8}return this._i=u,this._j=d,h}o(a,"generateKeystreamWord"),t.RC4=n._createHelper(l);var f=s.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)a.call(this)}});t.RC4Drop=n._createHelper(f)}(),e.RC4})});var aP=v0((Fm,oP)=>{(function(e,t,r){typeof Fm=="object"?oP.exports=Fm=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Fm,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)v[p]^=m[p+4&7];if(h){var x=h.words,E=x[0],I=x[1],A=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=A>>>16|L&4294901760,k=L<<16|A&65535;v[0]^=A,v[1]^=D,v[2]^=L,v[3]^=k,v[4]^=A,v[5]^=D,v[6]^=L,v[7]^=k;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360,d[h+m]^=l[m]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)a[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,x=m>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((m&4294901760)*m|0)+((m&65535)*m|0);f[p]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.Rabbit=n._createHelper(c)}(),e.Rabbit})});var fP=v0((Om,lP)=>{(function(e,t,r){typeof Om=="object"?lP.exports=Om=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Om,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,l=[],a=[],f=[],c=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)u.call(this);for(var v=0;v<8;v++)m[v]^=p[v+4&7];if(h){var x=h.words,E=x[0],I=x[1],A=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,L=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,D=A>>>16|L&4294901760,k=L<<16|A&65535;m[0]^=A,m[1]^=D,m[2]^=L,m[3]^=k,m[4]^=A,m[5]^=D,m[6]^=L,m[7]^=k;for(var v=0;v<4;v++)u.call(this)}},_doProcessBlock:function(d,h){var p=this._X;u.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360,d[h+m]^=l[m]},blockSize:128/32,ivSize:64/32});function u(){for(var d=this._X,h=this._C,p=0;p<8;p++)a[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<a[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<a[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<a[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<a[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<a[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<a[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<a[6]>>>0?1:0)|0,this._b=h[7]>>>0<a[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],v=m&65535,x=m>>>16,E=((v*v>>>17)+v*x>>>15)+x*x,I=((m&4294901760)*m|0)+((m&65535)*m|0);f[p]=E^I}d[0]=f[0]+(f[7]<<16|f[7]>>>16)+(f[6]<<16|f[6]>>>16)|0,d[1]=f[1]+(f[0]<<8|f[0]>>>24)+f[7]|0,d[2]=f[2]+(f[1]<<16|f[1]>>>16)+(f[0]<<16|f[0]>>>16)|0,d[3]=f[3]+(f[2]<<8|f[2]>>>24)+f[1]|0,d[4]=f[4]+(f[3]<<16|f[3]>>>16)+(f[2]<<16|f[2]>>>16)|0,d[5]=f[5]+(f[4]<<8|f[4]>>>24)+f[3]|0,d[6]=f[6]+(f[5]<<16|f[5]>>>16)+(f[4]<<16|f[4]>>>16)|0,d[7]=f[7]+(f[6]<<8|f[6]>>>24)+f[5]|0}o(u,"nextState"),t.RabbitLegacy=n._createHelper(c)}(),e.RabbitLegacy})});var uP=v0((Mm,cP)=>{(function(e,t,r){typeof Mm=="object"?cP.exports=Mm=t(Pi(),k5(),B5(),hu(),ma()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(Mm,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let l=16,a=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],f=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function u(v,x){let E=x>>24&255,I=x>>16&255,A=x>>8&255,L=x&255,D=v.sbox[0][E]+v.sbox[1][I];return D=D^v.sbox[2][A],D=D+v.sbox[3][L],D}o(u,"F");function d(v,x,E){let I=x,A=E,L;for(let D=0;D<l;++D)I=I^v.pbox[D],A=u(v,I)^A,L=I,I=A,A=L;return L=I,I=A,A=L,A=A^v.pbox[l],I=I^v.pbox[l+1],{left:I,right:A}}o(d,"BlowFish_Encrypt");function h(v,x,E){let I=x,A=E,L;for(let D=l+1;D>1;--D)I=I^v.pbox[D],A=u(v,I)^A,L=I,I=A,A=L;return L=I,I=A,A=L,A=A^v.pbox[1],I=I^v.pbox[0],{left:I,right:A}}o(h,"BlowFish_Decrypt");function p(v,x,E){for(let k=0;k<4;k++){v.sbox[k]=[];for(let $=0;$<256;$++)v.sbox[k][$]=f[k][$]}let I=0;for(let k=0;k<l+2;k++)v.pbox[k]=a[k]^x[I],I++,I>=E&&(I=0);let A=0,L=0,D=0;for(let k=0;k<l+2;k+=2)D=d(v,A,L),A=D.left,L=D.right,v.pbox[k]=A,v.pbox[k+1]=L;for(let k=0;k<4;k++)for(let $=0;$<256;$+=2)D=d(v,A,L),A=D.left,L=D.right,v.sbox[k][$]=A,v.sbox[k][$+1]=L;return!0}o(p,"BlowFishInit");var m=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,E=v.sigBytes/4;p(c,x,E)}},encryptBlock:function(v,x){var E=d(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},decryptBlock:function(v,x){var E=h(c,v[x],v[x+1]);v[x]=E.left,v[x+1]=E.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var qm=v0((Um,dP)=>{(function(e,t,r){typeof Um=="object"?dP.exports=Um=t(Pi(),K9(),fA(),uA(),k5(),gA(),B5(),z_(),um(),xA(),G_(),CA(),TA(),IA(),vm(),PA(),hu(),ma(),BA(),LA(),OA(),UA(),$A(),jA(),zA(),KA(),YA(),JA(),QA(),tP(),nP(),sP(),aP(),fP(),uP()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(Um,function(e){return e})});var pP=v0((oee,mP)=>{var h8=1e3,g8=h8*60,m8=g8*60,D2=m8*24,Vq=D2*7,zq=D2*365.25;mP.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Gq(e);if(r==="number"&&isFinite(e))return t.long?Wq(e):Kq(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Gq(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*zq;case"weeks":case"week":case"w":return r*Vq;case"days":case"day":case"d":return r*D2;case"hours":case"hour":case"hrs":case"hr":case"h":return r*m8;case"minutes":case"minute":case"mins":case"min":case"m":return r*g8;case"seconds":case"second":case"secs":case"sec":case"s":return r*h8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(Gq,"parse");function Kq(e){var t=Math.abs(e);return t>=D2?Math.round(e/D2)+"d":t>=m8?Math.round(e/m8)+"h":t>=g8?Math.round(e/g8)+"m":t>=h8?Math.round(e/h8)+"s":e+"ms"}o(Kq,"fmtShort");function Wq(e){var t=Math.abs(e);return t>=D2?Hm(e,t,D2,"day"):t>=m8?Hm(e,t,m8,"hour"):t>=g8?Hm(e,t,g8,"minute"):t>=h8?Hm(e,t,h8,"second"):e+" ms"}o(Wq,"fmtLong");function Hm(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o(Hm,"plural")});var W_=v0((lee,yP)=>{function Yq(e){r.debug=r,r.default=r,r.coerce=c,r.disable=l,r.enable=s,r.enabled=a,r.humanize=pP(),r.destroy=u,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let h=0;for(let p=0;p<d.length;p++)h=(h<<5)-h+d.charCodeAt(p),h|=0;return r.colors[Math.abs(h)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let h,p=null,m,v;function x(...E){if(!x.enabled)return;let I=x,A=Number(new Date),L=A-(h||A);I.diff=L,I.prev=h,I.curr=A,h=A,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let D=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,($,ue)=>{if($==="%%")return"%";D++;let ce=r.formatters[ue];if(typeof ce=="function"){let e0=E[D];$=ce.call(I,e0),E.splice(D,1),D--}return $}),r.formatArgs.call(I,E),(I.log||r.log).apply(I,E)}return o(x,"debug"),x.namespace=d,x.useColors=r.useColors(),x.color=r.selectColor(d),x.extend=n,x.destroy=r.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(d)),v),set:E=>{p=E}}),typeof r.init=="function"&&r.init(x),x}o(r,"createDebug");function n(d,h){let p=r(this.namespace+(typeof h>"u"?":":h)+d);return p.log=this.log,p}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let h,p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(h=0;h<m;h++)p[h]&&(d=p[h].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function l(){let d=[...r.names.map(f),...r.skips.map(f).map(h=>"-"+h)].join(",");return r.enable(""),d}o(l,"disable");function a(d){if(d[d.length-1]==="*")return!0;let h,p;for(h=0,p=r.skips.length;h<p;h++)if(r.skips[h].test(d))return!1;for(h=0,p=r.names.length;h<p;h++)if(r.names[h].test(d))return!0;return!1}o(a,"enabled");function f(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(f,"toNamespace");function c(d){return d instanceof Error?d.stack||d.message:d}o(c,"coerce");function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(u,"destroy"),r.enable(r.load()),r}o(Yq,"setup");yP.exports=Yq});var vP=v0((nf,jm)=>{nf.formatArgs=Jq;nf.save=Zq;nf.load=Qq;nf.useColors=Xq;nf.storage=e$();nf.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();nf.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Xq(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(Xq,"useColors");function Jq(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+jm.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(Jq,"formatArgs");nf.log=console.debug||console.log||(()=>{});function Zq(e){try{e?nf.storage.setItem("debug",e):nf.storage.removeItem("debug")}catch{}}o(Zq,"save");function Qq(){let e;try{e=nf.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(Qq,"load");function e$(){try{return localStorage}catch{}}o(e$,"localstorage");jm.exports=W_()(nf);var{formatters:t$}=jm.exports;t$.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var _P=v0((uee,xP)=>{"use strict";xP.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var EP=v0((dee,CP)=>{"use strict";var r$=require("os"),bP=require("tty"),If=_P(),{env:Aa}=process,D5;If("no-color")||If("no-colors")||If("color=false")||If("color=never")?D5=0:(If("color")||If("colors")||If("color=true")||If("color=always"))&&(D5=1);"FORCE_COLOR"in Aa&&(Aa.FORCE_COLOR==="true"?D5=1:Aa.FORCE_COLOR==="false"?D5=0:D5=Aa.FORCE_COLOR.length===0?1:Math.min(parseInt(Aa.FORCE_COLOR,10),3));function Y_(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(Y_,"translateLevel");function X_(e,t){if(D5===0)return 0;if(If("color=16m")||If("color=full")||If("color=truecolor"))return 3;if(If("color=256"))return 2;if(e&&!t&&D5===void 0)return 0;let r=D5||0;if(Aa.TERM==="dumb")return r;if(process.platform==="win32"){let n=r$.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Aa)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Aa)||Aa.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Aa)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Aa.TEAMCITY_VERSION)?1:0;if(Aa.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Aa){let n=parseInt((Aa.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Aa.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Aa.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Aa.TERM)||"COLORTERM"in Aa?1:r}o(X_,"supportsColor");function n$(e){let t=X_(e,e&&e.isTTY);return Y_(t)}o(n$,"getSupportLevel");CP.exports={supportsColor:n$,stdout:Y_(X_(!0,bP.isatty(1))),stderr:Y_(X_(!0,bP.isatty(2)))}});var SP=v0((Za,zm)=>{var i$=require("tty"),Vm=require("util");Za.init=u$;Za.log=l$;Za.formatArgs=o$;Za.save=f$;Za.load=c$;Za.useColors=s$;Za.destroy=Vm.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Za.colors=[6,2,3,4,5,1];try{let e=EP();e&&(e.stderr||e).level>=2&&(Za.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Za.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,l)=>l.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function s$(){return"colors"in Za.inspectOpts?!!Za.inspectOpts.colors:i$.isatty(process.stderr.fd)}o(s$,"useColors");function o$(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),l=`  ${s};1m${t} \x1B[0m`;e[0]=l+e[0].split(`
`).join(`
`+l),e.push(s+"m+"+zm.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=a$()+t+" "+e[0]}o(o$,"formatArgs");function a$(){return Za.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(a$,"getDate");function l$(...e){return process.stderr.write(Vm.format(...e)+`
`)}o(l$,"log");function f$(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(f$,"save");function c$(){return process.env.DEBUG}o(c$,"load");function u$(e){e.inspectOpts={};let t=Object.keys(Za.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Za.inspectOpts[t[r]]}o(u$,"init");zm.exports=W_()(Za);var{formatters:TP}=zm.exports;TP.o=function(e){return this.inspectOpts.colors=this.useColors,Vm.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};TP.O=function(e){return this.inspectOpts.colors=this.useColors,Vm.inspect(e,this.inspectOpts)}});var L2=v0((mee,J_)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?J_.exports=vP():J_.exports=SP()});var sb=v0((pee,PP)=>{var W9=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,d$=typeof AbortController=="function",X9,Gm=d$?AbortController:(X9=class{constructor(){this.signal=new IP}abort(){this.signal.dispatchEvent("abort")}},o(X9,"AbortController"),X9),h$=typeof AbortSignal=="function",g$=typeof Gm.AbortSignal=="function",J9,IP=h$?AbortSignal:g$?Gm.AbortController:(J9=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(J9,"AbortSignal"),J9),tb=new Set,Z_=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;Km(r)&&rb(r,`${e} option`,`options.${t}`,y8)},"deprecatedOption"),Q_=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(Km(r)){let{prototype:n}=y8,{get:s}=Object.getOwnPropertyDescriptor(n,e);rb(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),m$=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(Km(r)){let{prototype:n}=y8,{get:s}=Object.getOwnPropertyDescriptor(n,e);rb(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),wP=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),Km=o(e=>!tb.has(e),"shouldWarn"),rb=o((e,t,r,n)=>{tb.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;wP(s,"DeprecationWarning",e,n)},"warn"),F2=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),AP=o(e=>F2(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?p8:null:null,"getUintArray"),nb=class nb extends Array{constructor(t){super(t),this.fill(0)}};o(nb,"ZeroArray");var p8=nb,ib=class ib{constructor(t){if(t===0)return[];let r=AP(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o(ib,"Stack");var eb=ib,Y9=class Y9{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:l,updateAgeOnGet:a,updateAgeOnHas:f,allowStale:c,dispose:u,disposeAfter:d,noDisposeOnSet:h,noUpdateTTL:p,maxSize:m=0,sizeCalculation:v,fetchMethod:x,fetchContext:E,noDeleteOnFetchRejection:I,noDeleteOnStaleGet:A}=t,{length:L,maxAge:D,stale:k}=t instanceof Y9?{}:t;if(r!==0&&!F2(r))throw new TypeError("max option must be a nonnegative integer");let $=r?AP(r):Array;if(!$)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=v||L,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=x||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&E!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new $(r),this.prev=new $(r),this.head=0,this.tail=0,this.free=new eb(r),this.initialFill=1,this.size=0,typeof u=="function"&&(this.dispose=u),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!I,this.maxSize!==0){if(!F2(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!c||!!k,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!f,this.ttlResolution=F2(s)||s===0?s:1,this.ttlAutopurge=!!l,this.ttl=n||D||0,this.ttl){if(!F2(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let ue="LRU_CACHE_UNBOUNDED";Km(ue)&&(tb.add(ue),wP("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",ue,Y9))}k&&Z_("stale","allowStale"),D&&Z_("maxAge","ttl"),L&&Z_("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new p8(this.max),this.starts=new p8(this.max),this.setItemTTL=(n,s,l=W9.now())=>{if(this.starts[n]=s!==0?l:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);a.unref&&a.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?W9.now():0};let t=0,r=o(()=>{let n=W9.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new p8(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!F2(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!F2(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return Q_("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],a={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){a.ttl=this.ttls[r];let f=W9.now()-this.starts[r];a.start=Math.floor(Date.now()-f)}this.sizes&&(a.size=this.sizes[r]),t.unshift([n,a])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=W9.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:l=this.noDisposeOnSet,size:a=0,sizeCalculation:f=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL}={}){if(a=this.requireSize(t,r,a,f),this.maxSize&&a>this.maxSize)return this;let u=this.size===0?void 0:this.keyMap.get(t);if(u===void 0)u=this.newIndex(),this.keyList[u]=t,this.valList[u]=r,this.keyMap.set(t,u),this.next[this.tail]=u,this.prev[u]=this.tail,this.tail=u,this.size++,this.addItemSize(u,a),c=!1;else{let d=this.valList[u];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():l||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(u),this.valList[u]=r,this.addItemSize(u,a)),this.moveToTail(u)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),c||this.setItemTTL(u,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let l=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(l))return l;let a=new Gm,f={signal:a.signal,options:n,context:s},c=o(p=>(a.signal.aborted||this.set(t,p,f.options),p),"cb"),u=o(p=>{if(this.valList[r]===h&&(!n.noDeleteOnFetchRejection||h.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=h.__staleWhileFetching),h.__returned===h)throw p},"eb"),d=o(p=>p(this.fetchMethod(t,l,f)),"pcall"),h=new Promise(d).then(c,u);return h.__abortController=a,h.__staleWhileFetching=l,h.__returned=null,r===void 0?(this.set(t,h,f.options),r=this.keyMap.get(t)):this.valList[r]=h,h}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:l=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:f=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:h=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:l,noDisposeOnSet:a,size:f,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:d},v=this.keyMap.get(t);if(v===void 0){let x=this.backgroundFetch(t,v,m,h);return x.__returned=x}else{let x=this.valList[v];if(this.isBackgroundFetch(x))return r&&x.__staleWhileFetching!==void 0?x.__staleWhileFetching:x.__returned=x;if(!p&&!this.isStale(v))return this.moveToTail(v),n&&this.updateItemAge(v),x;let E=this.backgroundFetch(t,v,m,h);return r&&E.__staleWhileFetching!==void 0?E.__staleWhileFetching:E.__returned=E}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let l=this.keyMap.get(t);if(l!==void 0){let a=this.valList[l],f=this.isBackgroundFetch(a);return this.isStale(l)?f?r?a.__staleWhileFetching:void 0:(s||this.delete(t),r?a:void 0):f?void 0:(this.moveToTail(l),n&&this.updateItemAge(l),a)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return Q_("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return Q_("reset","clear"),this.clear}get length(){return m$("length","size"),this.size}static get AbortController(){return Gm}static get AbortSignal(){return IP}};o(Y9,"LRUCache");var y8=Y9;PP.exports=y8});var ub=v0((vee,NP)=>{"use strict";var lb=class lb extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(lb,"FetchBaseError");var Z9=lb,fb=class fb extends Z9{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o(fb,"FetchError");var ob=fb,cb=class cb extends Z9{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(cb,"AbortError");var ab=cb;NP.exports={FetchBaseError:Z9,FetchError:ob,AbortError:ab}});var gu=v0((_ee,kP)=>{"use strict";var{constants:{MAX_LENGTH:p$}}=require("buffer"),{pipeline:Wm,PassThrough:y$}=require("stream"),{promisify:v$}=require("util"),{createGunzip:x$,createInflate:_$,createBrotliDecompress:b$,constants:{Z_SYNC_FLUSH:RP}}=require("zlib"),C$=L2()("helix-fetch:utils"),E$=v$(Wm),T$=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),S$=o((e,t,r,n)=>{if(!T$(e,t))return r;let s=o(l=>{l&&(C$(`encountered error while decoding stream: ${l}`),n(l))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return Wm(r,x$({flush:RP,finishFlush:RP}),s);case"deflate":case"x-deflate":return Wm(r,_$(),s);case"br":return Wm(r,b$(),s);default:return r}},"decodeStream"),I$=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),Ym=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?w$(e,t):A$(e,t);default:return 0}},"calcSize"),w$=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:Ym(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),A$=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=Ym(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=Ym(e[s],t)}),r},"calcObjectSize"),P$=o(e=>Ym(e,new WeakSet),"sizeof"),N$=o(async e=>{let t=new y$,r=0,n=[];return t.on("data",s=>{if(r+s.length>p$)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await E$(e,t),Buffer.concat(n,r)},"streamToBuffer");kP.exports={decodeStream:S$,isPlainObject:I$,sizeof:P$,streamToBuffer:N$}});var Jm=v0((Cee,FP)=>{"use strict";var{PassThrough:BP,Readable:mu}=require("stream"),{types:{isAnyArrayBuffer:LP}}=require("util"),{FetchError:R$,FetchBaseError:k$}=ub(),{streamToBuffer:B$}=gu(),D$=Buffer.alloc(0),wf=Symbol("Body internals"),L$=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),DP=o(async e=>{if(e[wf].disturbed)throw new TypeError("Already read");if(e[wf].error)throw new TypeError(`Stream had error: ${e[wf].error.message}`);e[wf].disturbed=!0;let{stream:t}=e[wf];return t===null?D$:B$(t)},"consume"),db=class db{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=mu.from(t.toString()):t instanceof mu?r=t:Buffer.isBuffer(t)?r=mu.from(t):LP(t)?r=mu.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=mu.from(t):r=mu.from(String(t)),this[wf]={stream:r,disturbed:!1,error:null},t instanceof mu&&r.on("error",n=>{let s=n instanceof k$?n:new R$(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[wf].error=s})}get body(){return this[wf].stream}get bodyUsed(){return this[wf].disturbed}async buffer(){return DP(this)}async arrayBuffer(){return L$(await this.buffer())}async text(){return(await DP(this)).toString()}async json(){return JSON.parse(await this.text())}};o(db,"Body");var Xm=db;Object.defineProperties(Xm.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var F$=o(e=>{if(e[wf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[wf],r=t;if(t instanceof mu){r=new BP;let n=new BP;t.pipe(r),t.pipe(n),e[wf].stream=n}return r},"cloneStream"),O$=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||LP(e)||e instanceof mu?null:"text/plain; charset=utf-8","guessContentType");FP.exports={Body:Xm,cloneStream:F$,guessContentType:O$}});var v8=v0((Tee,qP)=>{"use strict";var{validateHeaderName:OP,validateHeaderValue:MP}=require("http"),{isPlainObject:M$}=gu(),pu=Symbol("Headers internals"),Q9=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof OP=="function")OP(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),UP=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof MP=="function")MP(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),Qm=class Qm{constructor(t={}){if(this[pu]={map:new Map},t instanceof Qm)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(M$(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[pu].map.set(Q9(t),UP(r,t))}has(t){return this[pu].map.has(Q9(t))}get(t){let r=this[pu].map.get(Q9(t));return r===void 0?null:r}append(t,r){let n=Q9(t),s=UP(r,t),l=this[pu].map.get(n);this[pu].map.set(n,l?`${l}, ${s}`:s)}delete(t){this[pu].map.delete(Q9(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[pu].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[pu].map)}};o(Qm,"Headers");var Zm=Qm;Object.defineProperties(Zm.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));qP.exports={Headers:Zm}});var pb=v0((Iee,$P)=>{"use strict";var{EventEmitter:U$}=require("events"),m1=Symbol("AbortSignal internals"),hb=class hb{constructor(){this[m1]={eventEmitter:new U$,onabort:null,aborted:!1}}get aborted(){return this[m1].aborted}get onabort(){return this[m1].onabort}set onabort(t){this[m1].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[m1].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[m1].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[m1][n]=="function"&&this[n](r),this[m1].eventEmitter.emit(t,r)}fire(){this[m1].aborted=!0,this.dispatchEvent("abort")}};o(hb,"AbortSignal");var x8=hb;Object.defineProperties(x8.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var gb=class gb extends x8{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[m1].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[m1].timerId)}};o(gb,"TimeoutSignal");var tp=gb;Object.defineProperties(tp.prototype,{clear:{enumerable:!0}});var ep=Symbol("AbortController internals"),mb=class mb{constructor(){this[ep]={signal:new x8}}get signal(){return this[ep].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[ep].signal.aborted||this[ep].signal.fire()}};o(mb,"AbortController");var rp=mb;Object.defineProperties(rp.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});$P.exports={AbortController:rp,AbortSignal:x8,TimeoutSignal:tp}});var eh=v0((Aee,VP)=>{"use strict";var{randomBytes:q$}=require("crypto"),{Readable:$$}=require("stream"),vb=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),H$=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),HP=o(e=>`--${e}--\r
\r
`,"getFooter"),jP=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,vb(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*j$(e,t){for(let[r,n]of e)yield jP(t,r,n),vb(n)?yield*n.stream():yield n,yield`\r
`;yield HP(t)}o(j$,"formDataIterator");var V$=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(jP(t,n,s)),r+=vb(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(HP(t)),r},"getFormDataLength"),xb=class xb{constructor(t){this.fd=t,this.boundary=q$(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=V$(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return $$.from(j$(this.fd,this.boundary))}};o(xb,"FormDataSerializer");var yb=xb;VP.exports={isFormData:H$,FormDataSerializer:yb}});var GP=v0((Nee,zP)=>{"use strict";var{AbortSignal:z$}=pb(),{Body:G$,cloneStream:K$,guessContentType:W$}=Jm(),{Headers:Y$}=v8(),{isPlainObject:X$}=gu(),{isFormData:J$,FormDataSerializer:Z$}=eh(),Q$=20,L5=Symbol("Request internals"),th=class th extends G${constructor(t,r={}){let n=t instanceof th?t:null,s=n?new URL(n.url):new URL(t),l=r.method||n&&n.method||"GET";if(l=l.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(l))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body||(n&&n.body?K$(n):null),f=new Y$(r.headers||n&&n.headers||{});if(J$(a)&&!f.has("content-type")){let h=new Z$(a);a=h.stream(),f.set("content-type",h.contentType()),!f.has("transfer-encoding")&&!f.has("content-length")&&f.set("content-length",h.length())}if(!f.has("content-type"))if(X$(a))a=JSON.stringify(a),f.set("content-type","application/json");else{let h=W$(a);h&&f.set("content-type",h)}super(a);let c=n?n.signal:null;if("signal"in r&&(c=r.signal),c&&!(c instanceof z$))throw new TypeError("signal needs to be an instance of AbortSignal");let u=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(u))throw new TypeError(`'${u}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[L5]={init:{...r},method:l,redirect:u,cache:d,headers:f,parsedURL:s,signal:c},r.follow===void 0?!n||n.follow===void 0?this.follow=Q$:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[L5].method}get url(){return this[L5].parsedURL.toString()}get headers(){return this[L5].headers}get redirect(){return this[L5].redirect}get cache(){return this[L5].cache}get signal(){return this[L5].signal}clone(){return new th(this)}get init(){return this[L5].init}get[Symbol.toStringTag](){return this.constructor.name}};o(th,"Request");var np=th;Object.defineProperties(np.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});zP.exports={Request:np}});var _b=v0((kee,KP)=>{"use strict";var{Body:eH,cloneStream:tH,guessContentType:rH}=Jm(),{Headers:nH}=v8(),{isPlainObject:iH}=gu(),{isFormData:sH,FormDataSerializer:oH}=eh(),p1=Symbol("Response internals"),rh=class rh extends eH{constructor(t=null,r={}){let n=new nH(r.headers),s=t;if(sH(s)&&!n.has("content-type")){let l=new oH(s);s=l.stream(),n.set("content-type",l.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",l.length())}if(s!==null&&!n.has("content-type"))if(iH(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let l=rH(s);l&&n.set("content-type",l)}super(s),this[p1]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[p1].url||""}get status(){return this[p1].status}get statusText(){return this[p1].statusText}get ok(){return this[p1].status>=200&&this[p1].status<300}get redirected(){return this[p1].counter>0}get headers(){return this[p1].headers}get httpVersion(){return this[p1].httpVersion}get decoded(){return this[p1].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new rh(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new rh(tH(this),{...this[p1]})}get[Symbol.toStringTag](){return this.constructor.name}};o(rh,"Response");var ip=rh;Object.defineProperties(ip.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});KP.exports={Response:ip}});var YP=v0((Dee,WP)=>{"use strict";var aH=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),lH=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),fH=new Set([500,502,503,504]),cH={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},uH={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function O2(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(O2,"toNumberOrZero");function dH(e){return e?fH.has(e.status):!0}o(dH,"isErrorResponse");function bb(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,l]=n.split(/=/,2);t[s.trim()]=l===void 0?!0:l.trim().replace(/^"|"$/g,"")}return t}o(bb,"parseCacheControl");function hH(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(hH,"formatCacheControl");var nh;WP.exports=(nh=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:l,ignoreCargoCult:a,_fromObject:f}={}){if(f){this._fromObject(f);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=l!==void 0?l:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=bb(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=bb(t.headers["cache-control"]),a&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":hH(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&lH.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||aH.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=bb(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)cH[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return O2(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return O2(this._rescc["s-maxage"])}if(this._rescc["max-age"])return O2(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+O2(this._rescc["stale-if-error"]),n=t+O2(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+O2(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+O2(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(l=>!/^\s*W\//.test(l));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&dH(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let a in this._resHeaders)s[a]=a in r.headers&&!uH[a]?r.headers[a]:this._resHeaders[a];let l=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,l,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(nh,"CachePolicy"),nh)});var QP=v0((Fee,ZP)=>{"use strict";var gH=YP(),{Headers:mH}=v8(),XP=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),JP=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),Eb=class Eb{constructor(t,r,n){this.policy=new gH(XP(t),JP(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(XP(t))}responseHeaders(t){return new mH(this.policy.responseHeaders(JP(t)))}timeToLive(){return this.policy.timeToLive()}};o(Eb,"CachePolicyWrapper");var Cb=Eb;ZP.exports=Cb});var rN=v0((Mee,tN)=>{"use strict";var{Readable:pH}=require("stream"),{Headers:eN}=v8(),{Response:yH}=_b(),F5=Symbol("CacheableResponse internals"),vH=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),sp=class sp extends yH{constructor(t,r){super(t,r);let n=new eN(r.headers);this[F5]={headers:n,bufferedBody:t}}get headers(){return this[F5].headers}set headers(t){if(t instanceof eN)this[F5].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return pH.from(this[F5].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[F5].bufferedBody}async arrayBuffer(){return vH(this[F5].bufferedBody)}async text(){return this[F5].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f}=this;return new sp(this[F5].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:l,decoded:a,counter:f})}get[Symbol.toStringTag](){return this.constructor.name}};o(sp,"CacheableResponse");var Tb=sp,xH=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c}=e;return new Tb(t,{url:r,status:n,statusText:s,headers:l,httpVersion:a,decoded:f,counter:c})},"cacheableResponse");tN.exports={cacheableResponse:xH}});var op=v0((qee,nN)=>{"use strict";var Ib=class Ib extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(Ib,"RequestAbortedError");var Sb=Ib;nN.exports={RequestAbortedError:Sb}});var lN=v0((Hee,aN)=>{"use strict";var sN=require("http"),oN=require("https"),{Readable:_H}=require("stream"),yu=L2()("helix-fetch:h1"),{RequestAbortedError:iN}=op(),{decodeStream:bH}=gu(),CH=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new oN.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new sN.Agent(n),r.httpAgent):void 0},"getAgent"),EH=o(e=>{e.h1={}},"setupContext"),TH=o(async({h1:e})=>{e.httpAgent&&(yu("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(yu("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),SH=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c}=e,u=t?bH(n,c,e,r):e;return{statusCode:n,statusText:s,httpVersion:l,httpVersionMajor:a,httpVersionMinor:f,headers:c,readable:u,decoded:!!(t&&u!==e)}},"createResponse"),IH=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?oN:sN,s=CH(e,t.protocol),l={...r,agent:s},{socket:a,body:f}=l;return a&&(delete l.socket,a.assigned||(a.assigned=!0,s?l.agent=new Proxy(s,{get:(c,u)=>u==="createConnection"&&!a.inUse?(d,h)=>{yu(`agent reusing socket #${a.id} (${a.servername})`),a.inUse=!0,h(null,a)}:c[u]}):l.createConnection=(c,u)=>{yu(`reusing socket #${a.id} (${a.servername})`),a.inUse=!0,u(null,a)})),new Promise((c,u)=>{yu(`${l.method} ${t.href}`);let d,{signal:h}=l,p=o(()=>{h.removeEventListener("abort",p),a&&!a.inUse&&(yu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),u(new iN),d&&d.abort()},"onAbortSignal");if(h){if(h.aborted){u(new iN);return}h.addEventListener("abort",p)}d=n(t,l),d.once("response",m=>{h&&h.removeEventListener("abort",p),a&&!a.inUse&&(yu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),c(SH(m,l.decode,u))}),d.once("error",m=>{h&&h.removeEventListener("abort",p),a&&!a.inUse&&(yu(`discarding redundant socket used for ALPN: #${a.id} ${a.servername}`),a.destroy()),d.aborted||(yu(`${l.method} ${t.href} failed with: ${m.message}`),d.abort(),u(m))}),f instanceof _H?f.pipe(d):(f&&d.write(f),d.end())})},"h1Request");aN.exports={request:IH,setupContext:EH,resetContext:TH}});var dN=v0((Vee,uN)=>{"use strict";var{connect:wH,constants:AH}=require("http2"),{Readable:PH}=require("stream"),Is=L2()("helix-fetch:h2"),{RequestAbortedError:fN}=op(),{decodeStream:NH}=gu(),{NGHTTP2_CANCEL:ih}=AH,RH=5*60*1e3,kH=5e3,BH=o(e=>{e.h2={sessionCache:{}}},"setupContext"),DH=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),Is(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),cN=o((e,t,r,n=()=>{})=>{let s={...e},l=s[":status"];delete s[":status"];let a=r?NH(l,e,t,n):t;return{statusCode:l,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:a,decoded:!!(r&&a!==t)}},"createResponse"),LH=o((e,t,r,n,s,l)=>{let{options:{h2:{pushPromiseHandler:a,pushHandler:f,pushedStreamIdleTimeout:c=kH}}}=e,u=s[":path"],d=`${t}${u}`;Is(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${l}`),a&&a(d,s,o(()=>{n.close(ih)},"rejectPush")),n.on("push",(h,p)=>{Is(`received push headers for ${t}${u}, stream #${n.id}, headers: ${JSON.stringify(h)}, flags: ${p}`),n.setTimeout(c,()=>{Is(`closing pushed stream #${n.id} after ${c} ms of inactivity`),n.close(ih)}),f&&f(d,s,cN(h,n,r))}),n.on("aborted",()=>{Is(`pushed stream #${n.id} aborted`)}),n.on("error",h=>{Is(`pushed stream #${n.id} encountered error: ${h}`)}),n.on("frameError",(h,p,m)=>{Is(`pushed stream #${n.id} encountered frameError: type: ${h}, code: ${p}, id: ${m}`)})},"handlePush"),FH=o(async(e,t,r)=>{let{origin:n,pathname:s,search:l,hash:a}=t,f=`${s}${l}${a}`,{options:{h2:c={}},h2:{sessionCache:u}}=e,{idleSessionTimeout:d=RH,pushPromiseHandler:h,pushHandler:p}=c,m={...r},{method:v,headers:x,socket:E,body:I,decode:A}=m;return E&&delete m.socket,x.host&&(x[":authority"]=x.host,delete x.host),new Promise((L,D)=>{let k=u[n];if(!k||k.closed||k.destroyed){let d0=!(e.options.rejectUnauthorized===!1||c.rejectUnauthorized===!1),n0={...c,rejectUnauthorized:d0};E&&!E.inUse&&(n0.createConnection=()=>(Is(`reusing socket #${E.id} (${E.servername})`),E.inUse=!0,E)),k=wH(n,{...n0,settings:{enablePush:!!(h||p)}}),k.setMaxListeners(1e3),k.setTimeout(d,()=>{Is(`closing session ${n} after ${d} ms of inactivity`),k.close()}),k.once("connect",()=>{Is(`session ${n} established`),Is(`caching session ${n}`),u[n]=k}),k.on("localSettings",je=>{Is(`session ${n} localSettings: ${JSON.stringify(je)}`)}),k.on("remoteSettings",je=>{Is(`session ${n} remoteSettings: ${JSON.stringify(je)}`)}),k.once("close",()=>{Is(`session ${n} closed`),u[n]===k&&(Is(`discarding cached session ${n}`),delete u[n])}),k.once("error",je=>{Is(`session ${n} encountered error: ${je}`),u[n]===k&&(Is(`discarding cached session ${n}`),delete u[n])}),k.on("frameError",(je,we,t0)=>{Is(`session ${n} encountered frameError: type: ${je}, code: ${we}, id: ${t0}`)}),k.once("goaway",(je,we,t0)=>{Is(`session ${n} received GOAWAY frame: errorCode: ${je}, lastStreamID: ${we}, opaqueData: ${t0?t0.toString():void 0}`)}),k.on("stream",(je,we,t0)=>{LH(e,n,A,je,we,t0)})}else E&&E.id!==k.socket.id&&!E.inUse&&(Is(`discarding redundant socket used for ALPN: #${E.id} ${E.servername}`),E.destroy());Is(`${v} ${t.host}${f}`);let $,{signal:ue}=m,ce=o(()=>{ue.removeEventListener("abort",ce),D(new fN),$&&$.close(ih)},"onAbortSignal");if(ue){if(ue.aborted){D(new fN);return}ue.addEventListener("abort",ce)}let e0=o(d0=>{Is(`session ${n} encountered error during ${m.method} ${t.href}: ${d0}`),D(d0)},"onSessionError");k.once("error",e0),$=k.request({":method":v,":path":f,...x}),$.once("response",d0=>{k.off("error",e0),ue&&ue.removeEventListener("abort",ce),L(cN(d0,$,m.decode,D))}),$.once("error",d0=>{k.off("error",e0),ue&&ue.removeEventListener("abort",ce),$.rstCode!==ih&&(Is(`${m.method} ${t.href} failed with: ${d0.message}`),$.close(ih),D(d0))}),$.once("frameError",(d0,n0,_0)=>{k.off("error",e0),Is(`encountered frameError during ${m.method} ${t.href}: type: ${d0}, code: ${n0}, id: ${_0}`)}),$.on("push",(d0,n0)=>{Is(`received 'push' event: headers: ${JSON.stringify(d0)}, flags: ${n0}`)}),I instanceof PH?I.pipe($):(I&&$.write(I),$.end())})},"request");uN.exports={request:FH,setupContext:BH,resetContext:DH}});var gN=v0((Gee,hN)=>{"use strict";var{EventEmitter:OH}=require("events"),MH=o(()=>{let e={},t=new OH;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(l=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(l))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");hN.exports=MH});var mN=v0((Wee,UH)=>{UH.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var _N=v0((Yee,xN)=>{"use strict";var{Readable:qH}=require("stream"),$H=require("tls"),{types:{isAnyArrayBuffer:HH}}=require("util"),jH=sb(),wb=L2()("helix-fetch:core"),{RequestAbortedError:ap}=op(),Ab=lN(),lp=dN(),VH=gN(),{isPlainObject:zH}=gu(),{isFormData:GH,FormDataSerializer:KH}=eh(),{version:WH}=mN(),Pb="h2",Nb="h2c",Rb="http/1.0",M2="http/1.1",YH=100,XH=60*60*1e3,JH=[Pb,M2,Rb],ZH=`helix-fetch/${WH}`,QH={method:"GET",compress:!0,decode:!0},pN=0,yN=VH(),vN=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,l,a=o(()=>{s.removeEventListener("abort",a);let u=new ap;n(u),l&&l.destroy(u)},"onAbortSignal");if(s){if(s.aborted){n(new ap);return}s.addEventListener("abort",a)}let f=+e.port||443,c=o(u=>{s&&s.removeEventListener("abort",a),u instanceof ap||(wb(`connecting to ${e.hostname}:${f} failed with: ${u.message}`),n(u))},"onError");l=$H.connect(f,e.hostname,t),l.once("secureConnect",()=>{s&&s.removeEventListener("abort",a),l.off("error",c),pN+=1,l.id=pN,l.secureConnecting=!1,wb(`established TLS connection: #${l.id} (${l.servername})`),r(l)}),l.once("error",c)}),"connectTLS"),ej=o(async(e,t)=>{let r=await yN.acquire(e.origin);try{return r||(r=await vN(e,t)),r}finally{yN.release(e.origin,r)}},"connect"),tj=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=M2,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=Nb,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:l,h1:a={},h2:f={}}}=e,c=!(l===!1||a.rejectUnauthorized===!1||f.rejectUnauthorized===!1),u={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:c};e.options.ca&&(u.ca=e.options.ca);let d=await ej(t,u);return s=d.alpnProtocol,s||(s=M2),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),rj=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),nj=o(async(e,t,r,n)=>{let s=t.protocol==="https:",l;t.port?l=t.port:s?l=443:l=80;let a={...r,host:t.host,hostname:t.hostname,port:l},f=await e(a);if(s){let u={...a,ALPNProtocols:n};u.socket=f,u.servername=a.host;let d=await vN(t,u);return{protocol:d.alpnProtocol||M2,socket:d}}return{protocol:f.alpnProtocol||M2,socket:f}},"getProtocolAndSocketFromFactory"),ij=o(async(e,t,r)=>{let n=new URL(t),s={...QH,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=rj(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let l;if(s.body instanceof URLSearchParams)l="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(GH(s.body)){let u=new KH(s.body);l=u.contentType(),s.body=u.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(u.length()))}else typeof s.body=="string"||s.body instanceof String?l="text/plain; charset=utf-8":zH(s.body)?(s.body=JSON.stringify(s.body),l="application/json"):HH(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&l!==void 0&&(s.headers["content-type"]=l),s.body!=null&&(s.body instanceof qH||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:a}=s,{protocol:f,socket:c=null}=e.socketFactory?await nj(e.socketFactory,n,s,e.alpnProtocols):await tj(e,n,a);switch(wb(`${n.host} -> ${f}`),f){case Pb:try{return await lp.request(e,n,c?{...s,socket:c}:s)}catch(u){let{code:d,message:h}=u;throw d==="ERR_HTTP2_ERROR"&&h==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),u}case Nb:return lp.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),c?{...s,socket:c}:s);case Rb:case M2:return Ab.request(e,n,c?{...s,socket:c}:s);default:throw new TypeError(`unsupported protocol: ${f}`)}},"request"),sj=o(async e=>(e.alpnCache.clear(),Promise.all([Ab.resetContext(e),lp.resetContext(e)])),"resetContext"),oj=o(e=>{let{options:{alpnProtocols:t=JH,alpnCacheTTL:r=XH,alpnCacheSize:n=YH,userAgent:s=ZH,socketFactory:l}}=e;e.alpnProtocols=t,e.alpnCache=new jH({max:n,ttl:r}),e.userAgent=s,e.socketFactory=l,Ab.setupContext(e),lp.setupContext(e)},"setupContext");xN.exports={request:ij,setupContext:oj,resetContext:sj,RequestAbortedError:ap,ALPN_HTTP2:Pb,ALPN_HTTP2C:Nb,ALPN_HTTP1_1:M2,ALPN_HTTP1_0:Rb}});var CN=v0((Jee,bN)=>{"use strict";var aj=L2()("helix-fetch:core"),{request:lj,setupContext:fj,resetContext:cj,RequestAbortedError:uj,ALPN_HTTP2:dj,ALPN_HTTP2C:hj,ALPN_HTTP1_1:gj,ALPN_HTTP1_0:mj}=_N(),fp=class fp{constructor(t){this.options={...t||{}},fj(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new fp(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:uj,ALPN_HTTP2:dj,ALPN_HTTP2C:hj,ALPN_HTTP1_1:gj,ALPN_HTTP1_0:mj}}async request(t,r){return lj(this,t,r)}setCA(t){this.options.ca=t}async reset(){return aj("resetting context"),cj(this)}};o(fp,"RequestContext");var kb=fp;bN.exports=new kb().api()});var wN=v0((Qee,IN)=>{"use strict";var{EventEmitter:pj}=require("events"),{Readable:sh}=require("stream"),Bb=L2()("helix-fetch"),yj=sb(),{Body:vj}=Jm(),{Headers:Ob}=v8(),{Request:U2}=GP(),{Response:Lb}=_b(),{FetchBaseError:xj,FetchError:oh,AbortError:cp}=ub(),{AbortController:_j,AbortSignal:bj,TimeoutSignal:Cj}=pb(),Ej=QP(),{cacheableResponse:Tj}=rN(),{sizeof:Sj}=gu(),{isFormData:Ij}=eh(),{context:wj,RequestAbortedError:Aj}=CN(),EN=["GET","HEAD"],Pj=500,Nj=100*1024*1024,Db="push",TN=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof U2&&typeof r>"u"?t:new U2(t,r),{method:l,body:a,signal:f,compress:c,decode:u,follow:d,redirect:h,init:{body:p}}=s,m;if(f&&f.aborted){let k=new cp("The operation was aborted.");throw s.init.body instanceof sh&&s.init.body.destroy(k),k}try{m=await n(s.url,{...r,method:l,headers:s.headers.plain(),body:p&&!(p instanceof sh)&&!Ij(p)?p:a,compress:c,decode:u,follow:d,redirect:h,signal:f})}catch(k){throw p instanceof sh&&p.destroy(k),k instanceof TypeError?k:k instanceof Aj?new cp("The operation was aborted."):new oh(k.message,"system",k)}let v=o(()=>{f.removeEventListener("abort",v);let k=new cp("The operation was aborted.");s.init.body instanceof sh&&s.init.body.destroy(k),m.readable.emit("error",k)},"abortHandler");f&&f.addEventListener("abort",v);let{statusCode:x,statusText:E,httpVersion:I,headers:A,readable:L,decoded:D}=m;if([301,302,303,307,308].includes(x)){let{location:k}=A,$=k==null?null:new URL(k,s.url);switch(s.redirect){case"manual":break;case"error":throw f&&f.removeEventListener("abort",v),new oh(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if($===null)break;if(s.counter>=s.follow)throw f&&f.removeEventListener("abort",v),new oh(`maximum redirect reached at: ${s.url}`,"max-redirect");let ue={headers:new Ob(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(x!==303&&s.body&&s.init.body instanceof sh)throw f&&f.removeEventListener("abort",v),new oh("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(x===303||(x===301||x===302)&&s.method==="POST")&&(ue.method="GET",ue.body=void 0,ue.headers.delete("content-length")),f&&f.removeEventListener("abort",v),TN(e,new U2($,ue))}default:}}return f&&(L.once("end",()=>{f.removeEventListener("abort",v)}),L.once("error",()=>{f.removeEventListener("abort",v)})),new Lb(L,{url:s.url,status:x,statusText:E,headers:A,httpVersion:I,decoded:D,counter:s.counter})},"fetch"),SN=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!EN.includes(t.method))return r;let n=new Ej(t,r,{shared:!1});if(n.storable()){let s=await Tj(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),Rj=o(async(e,t,r)=>{let n=new U2(t,r);if(e.options.maxCacheSize!==0&&EN.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:a,response:f}=e.cache.get(n.url)||{};if(a&&a.satisfiesWithoutRevalidation(n)){f.headers=new Ob(a.responseHeaders(f));let c=f.clone();return c.fromCache=!0,c}}let l=await TN(e,n);return n.cache!=="no-store"?SN(e,n,l):l},"cachingFetch"),kj=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(l=>r.searchParams.append(n,l)):r.searchParams.append(n,s)}),r.href},"createUrl"),Bj=o(e=>new Cj(e),"timeoutSignal"),vu=class vu{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:Nj,s=Pj;n===0&&(n=1,s=1);let l=o(({response:f},c)=>Sj(f),"sizeCalculation");this.cache=new yj({max:s,maxSize:n,sizeCalculation:l}),this.eventEmitter=new pj,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:a}=this.options.h2;a&&(this.options.h2.pushPromiseHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(h=>h.startsWith(":")).forEach(h=>delete d[h]),this.pushPromiseHandler(f,d,u)},this.options.h2.pushHandler=(f,c,u)=>{let d={...c};Object.keys(d).filter(I=>I.startsWith(":")).forEach(I=>delete d[I]);let{statusCode:h,statusText:p,httpVersion:m,headers:v,readable:x,decoded:E}=u;this.pushHandler(f,d,new Lb(x,{url:f,status:h,statusText:p,headers:v,httpVersion:m,decoded:E}))}),this.context=wj(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:vj,Headers:Ob,Request:U2,Response:Lb,AbortController:_j,AbortSignal:bj,FetchBaseError:xj,FetchError:oh,AbortError:cp,context:(t={})=>new vu(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new vu({...t,maxCacheSize:0}).api(),h1:(t={})=>new vu({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new vu({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new vu({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new vu({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:kj,timeoutSignal:Bj,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return Rj(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(Db,t)}offPush(t){return this.eventEmitter.off(Db,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){Bb(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new U2(t,{headers:r}),{policy:l}=this.cache.get(t)||{};l&&l.satisfiesWithoutRevalidation(s)&&(Bb(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){Bb(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await SN(this,new U2(t,{headers:r}),n);this.eventEmitter.emit(Db,t,s)}};o(vu,"FetchContext");var Fb=vu;IN.exports=new Fb().api()});var PN=v0((t0e,AN)=>{"use strict";AN.exports=wN()});var nC=v0((cte,$j)=>{$j.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.168.0",build:"738",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chat",title:"Chat with Copilot",description:"Ask Copilot general programming questions in the chat view. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Code as context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Code as context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://github.blog/2023-06-20-how-to-write-better-prompts-for-github-copilot/)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{secret_key:{type:"string",default:"",description:"Secret API key"},length:{type:"integer",default:500,description:"Length of code to generate in tokens"},temperature:{type:"string",default:"",description:"Override sampling temperature (range 0.0 - 1.0)"},top_p:{type:"number",default:1,description:"Top probability mass to consider"},stops:{type:"object",default:{"*":[`


`],python:[`
def `,`
class `,`
if `,`

#`]},description:"Configure per-language stop sequences"},indentationMode:{type:"object",default:{python:!1,javascript:!1,javascriptreact:!1,jsx:!1,typescript:!1,typescriptreact:!1,go:!1,ruby:!1,"*":!0},markdownDescription:"Enable or disable indentation block termination for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). Set to 'clientandserver' to run both parser-based and indent-based termination."},inlineSuggestCount:{type:"integer",default:3,description:"Number of inline suggestions to fetch"},listCount:{type:"integer",default:10,description:"Number of solutions to list in Open GitHub Copilot"},authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.showScores":{type:"boolean",default:!1,description:"Show scores in sorted solutions"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:"npm-run-all lint:*","lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint . --cache","lint:prettier":"prettier --check .","lint:types":"tsc --noEmit","lint:types-webview":"tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.23.1","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.4",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.6.2","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3","vscode-languageserver-protocol":"^3.17",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.0.7","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^8.1.0","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var YN=v0((Tp,WN)=>{(function(e,t){typeof Tp=="object"&&typeof WN<"u"?t(Tp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Tp,function(e){"use strict";var t=void 0,r=null,n="",s="function",l="number",a="object",f="prototype",c="__proto__",u="string",d="undefined",h="constructor",p="Symbol",m="_polyfill",v="indexOf",x="length",E="value",I="name",A="slice",L=Object,D=L[f],k=String,$=k[f],ue=Math,ce=Array,e0=ce[f];function d0(b,w){var R=w;try{R=b()}catch{}return R}o(d0,"safeGet");function n0(b){return function(w){return typeof w===b}}o(n0,"_createIs");function _0(b){var w="[object "+b+"]";return function(R){return!!(R&&je(R)===w)}}o(_0,"_createObjIs");function je(b){return D.toString.call(b)}o(je,"objToString");function we(b){return typeof b===d||b===d}o(we,"isUndefined");function t0(b){return b===r||we(b)}o(t0,"isNullOrUndefined");function h0(b){return!!b||b!==t}o(h0,"isDefined");var o0=n0(u),l0=n0(s);function s0(b){return!b&&t0(b)?!1:!!b&&typeof b===a}o(s0,"isObject");var c0=ce.isArray,_e=n0(l),ve=_0("Error"),g0=L.getOwnPropertyDescriptor;function N0(b,w){return b&&D.hasOwnProperty.call(b,w)}o(N0,"objHasOwnProperty");var R0=L.hasOwn||A0;function A0(b,w){return N0(b,w)||!!g0(b,w)}o(A0,"polyObjHasOwn");function X0(b,w,R){if(b&&s0(b)){for(var V in b)if(R0(b,V)&&w.call(R||b,V,b[V])===-1)break}}o(X0,"objForEachKey");function qe(b,w,R,V){var le={};return X0(b,function(r0,a0){le[r0]=w?a0:r0,le[a0]=R?a0:r0}),V(le)}o(qe,"_createKeyValueMap");function B0(b){throw new Error(b)}o(B0,"throwError");function Ve(b){throw new TypeError(b)}o(Ve,"throwTypeError");var U0=L.freeze,D0=o(function(b){return b},"_doNothing"),q0=o(function(b){return b[c]||r},"_getProto"),pr=L.assign;function Vr(b){return(!s0(b)||b===r)&&Ve("objKeys called on non-object"),L.keys(b)}o(Vr,"objKeys");function Mt(b){return U0&&X0(b,function(w,R){(c0(R)||s0(R))&&U0(R)}),ae(b)}o(Mt,"objDeepFreeze");var ae=U0||D0,vr=L.getPrototypeOf||q0;function rn(b){return qe(b,1,0,Mt)}o(rn,"createEnum");function Ms(b){var w={};return X0(b,function(R,V){w[R]=V[1],w[V[0]]=V[1]}),Mt(w)}o(Ms,"createSimpleMap");function ol(b){return Ms(b)}o(ol,"createTypeMap");var la=k,Vf="__tsUtils$gblCfg",fa;function al(){var b;return typeof globalThis!==d&&(b=globalThis),!b&&typeof self!==d&&(b=self),!b&&typeof window!==d&&(b=window),!b&&typeof global!==d&&(b=global),b}o(al,"_getGlobalValue");function zf(){if(!fa){var b=al()||{};fa=b[Vf]=b[Vf]||{}}return fa}o(zf,"_getGlobalConfig");function xs(b,w){var R=n;if(ve(b))R="{ stack: '"+b.stack+"', message: '"+b.message+"', name: '"+b.name+"'";else try{R=JSON.stringify(b,r,w?_e(w)?w:4:t)}catch(V){R=" - "+xs(V,w)}return je(b)+": "+R}o(xs,"dumpObj");var _n=e0[A],Yl=o(function(b,w){Ve("'"+la(b)+"' not defined for "+xs(w))},"_throwMissingFunction"),se=o(function(b){return function(w){return w[b].apply(w,_n.call(arguments,1))}},"_unwrapInstFunction"),Q=o(function(b,w){var R=w&&w[b];return function(V){var le=V&&V[b]||R;if(le)return le.apply(V,_n.call(arguments,1));Yl(b,V)}},"_unwrapFunction"),sn=o(function(b,w,R){var V=w&&w[b];return function(le){var r0=le&&le[b]||V;if(r0||R){var a0=arguments;return(r0||R).apply(le,r0?_n.call(a0,1):a0)}Yl(b,le)}},"_unwrapFunctionWithPoly"),Cs=ue.max,Ic=Q(A,$),Bl=Q("substring",$),df=sn("substr",$,cd);function cd(b,w,R){return t0(b)&&Ve("'polyStrSubstr called with invalid "+xs(b)),R<0?n:(w=w||0,w<0&&(w=Cs(w+b[x],0)),we(R)?Ic(b,w):Ic(b,w,w+R))}o(cd,"polyStrSubstr");function gn(b,w){return Bl(b,0,w)}o(gn,"strLeft");var Bu="_urid",wc;function ud(){if(!wc){var b=zf();wc=b.gblSym=b.gblSym||{k:{},s:{}}}return wc}o(ud,"_globalSymbolRegistry");function hf(b){var w={description:la(b),toString:function(){return p+"("+b+")"}};return w[m]=!0,w}o(hf,"polyNewSymbol");function o3(b){var w=ud();if(!R0(w.k,b)){var R=hf(b),V=Vr(w.s).length;R[Bu]=function(){return V+"_"+R.toString()},w.k[b]=R,w.s[R[Bu]()]=la(b)}return w.k[b]}o(o3,"polySymbolFor");var Ac={e:"enumerable",c:"configurable",v:E,w:"writable",g:"get",s:"set"};function f6(b){var w={};if(w[Ac.c]=!0,w[Ac.e]=!0,b.l){w.get=function(){return b.l.v};var R=g0(b.l,"v");R&&R.set&&(w.set=function(V){b.l.v=V})}return X0(b,function(V,le){w[Ac[V]]=we(le)?w[Ac[V]]:le}),w}o(f6,"_createProp");var E1=L.defineProperty;function Oa(b,w,R){return E1(b,w,f6(R))}o(Oa,"objDefine");var Ps,Du=o(function(){Ps=zf(),Du=r},"_fetchLazyTestHooks");function ca(b){var w={};return Du&&Du(),w.b=Ps.lzy,E1(w,"v",{configurable:!0,get:function(){var R=b();return Ps.lzy||(E1(w,"v",{value:R}),w.b&&delete w.b),Ps.lzy&&w.b!==Ps.lzy&&(w.b=Ps.lzy),R}}),w}o(ca,"getLazy");function xl(b,w){return ca(function(){return d0(b,w)})}o(xl,"safeGetLazy");var Pc="window",T1,Nc,Lu,dd,a3=o(function(b){return xl(function(){return Gf(b)||t},t)},"lazySafeGetInst"),S1=o(function(b){return(!T1||b===!1||Ps&&Ps.lzy&&!T1.b)&&(T1=xl(al,r)),T1.v},"getGlobal"),Gf=o(function(b,w){var R=!T1||w===!1?S1(w):T1.v;return R&&R[b]?R[b]:b===Pc&&Nc?Nc.v:r},"getInst"),Kf=o(function(){return(!Lu||Ps&&Ps.lzy&&!Lu.b)&&(Lu=a3("document")),Lu.v},"getDocument"),va=o(function(){return!!Ns()},"hasWindow"),Ns=o(function(){return(!Nc||Ps&&Ps.lzy&&!Nc.b)&&(Nc=a3(Pc)),Nc.v},"getWindow"),c6=o(function(){return!!Rc()},"hasNavigator"),Rc=o(function(){return(!dd||Ps&&Ps.lzy&&!dd.b)&&(dd=a3("navigator")),dd.v},"getNavigator"),Ma,l3,kc;function Bc(b){return xl(function(){return Ma.v?Ma.v[b]:t},t)}o(Bc,"_getSymbolValue");function f3(){var b=!Ma||Ps&&Ps.lzy&&!Ma.b;return b&&(Ma=a3(p)),(!l3||b)&&(l3=Bc("for")),(!kc||b)&&(kc=Bc("keyFor")),Ma.v}o(f3,"getSymbol");function I1(b,w){return(!Ma||Ps.lzy&&!Ma.b)&&f3(),Ma.v?Ma.v(b):w?r:hf(b)}o(I1,"newSymbol");function c3(b){return(!l3||Ps.lzy&&!Ma.b)&&f3(),(l3.v||o3)(b)}o(c3,"symbolFor");var gf=se("apply");function Ua(b,w,R){if(b)for(var V=b[x]>>>0,le=0;le<V&&!(le in b&&w.call(R||b,b[le],le,b)===-1);le++);}o(Ua,"arrForEach");var Us=Q(v,e0),u3=Q("map",e0),w1=Q(A,e0),Iv=se("call"),A1=Q("reduce",e0),wv=L.create,P1=wv||Av;function Av(b){if(!b)return{};var w=typeof b;if(w!==a&&w!==s)throw new TypeError("Prototype must be an Object or function: "+xs(b));function R(){}return o(R,"tempFunc"),R[f]=b,new R}o(Av,"polyObjCreate");var ua;function d3(b,w){var R=L.setPrototypeOf||function(V,le){!ua&&(ua=ca(function(){var r0;return r0={},r0[c]=[],r0 instanceof Array})),ua.v?V[c]=le:X0(le,function(r0,a0){return V[r0]=a0})};return R(b,w)}o(d3,"objSetPrototypeOf");var i7=o(function(b,w,R){s7(w,b),w=d3(w,R);function V(){this.constructor=w,s7(this,b)}return o(V,"__"),w[f]=R===r?P1(R):(V[f]=R[f],new V),w},"_createCustomError"),u6=o(function(b,w){try{w&&(b[I]=w)}catch{}},"_safeSetName"),s7=o(function(b,w){try{Oa(b,I,{v:w,c:!0,e:!1})}catch{}},"_safeDefineName");function hd(b,w,R){var V=R||Error,le=V[f][I],r0=Error.captureStackTrace;return i7(b,function(){var a0=this;try{u6(V,b);var m0=gf(V,a0,w1(arguments))||a0;if(m0!==a0){var T0=vr(a0);T0!==vr(m0)&&d3(m0,T0)}return r0&&r0(m0,a0[h]),w&&w(m0,arguments),m0}finally{u6(V,le)}},V)}o(hd,"createCustomError");function gd(){return(Date.now||h3)()}o(gd,"utcNow");function h3(){return new Date().getTime()}o(h3,"polyUtcNow");function d6(b){return o(function(R){return t0(R)&&Ve("strTrim called ["+xs(R)+"]"),R&&R.replace&&(R=R.replace(b,n)),R},"_doTrim")}o(d6,"_createTrimFn");var h6=d6(/^\s+|(?=\s)\s+$/g),N1=sn("trim",$,h6),Fu,g6,R1;function Xl(b){if(!b||typeof b!==a)return!1;R1||(R1=va()?Ns():!0);var w=!1;if(b!==R1){g6||(Fu=Function[f].toString,g6=Iv(Fu,L));try{var R=vr(b);w=!R,w||(N0(R,h)&&(R=R[h]),w=R&&typeof R===s&&Fu.call(R)===g6)}catch{}}return w}o(Xl,"isPlainObject");var Br;function Dl(){return(!Br||!Br.b&&Ps&&Ps.lzy)&&(Br=a3("performance")),Br.v}o(Dl,"getPerformance");var g3=sn("endsWith",$,k1);function k1(b,w,R){o0(b)||Ve("'"+xs(b)+"' is not a string");var V=o0(w)?w:la(w),le=V[x],r0=b[x],a0=!we(R)&&R<r0?R:r0;return Bl(b,a0-le,a0)===V}o(k1,"polyStrEndsWith");var Dc=Q(v,$),md="ref",m6="un"+md,pd="hasRef",o7="enabled";function p6(b,w,R){var V,le=!0,r0=b?w(r):r,a0,m0=o(function(){return le=!1,r0&&r0[m6]&&r0[m6](),a0},"_unref"),T0=o(function(){return le=!0,r0&&r0[md]&&r0[md](),a0},"_ref"),L0=o(function(){return r0&&r0[pd]?r0[pd]():le},"_hasRef"),Q0=o(function(){return r0=w(r0),le||m0(),a0},"_refresh"),Hr=o(function(){r0&&R(r0),r0=r},"_cancel"),Ur=o(function(jr){!jr&&r0&&Hr(),jr&&!r0&&Q0()},"_setEnabled");return a0=(V={cancel:Hr,refresh:Q0},V[pd]=L0,V[md]=T0,V[m6]=m0,V[o7]=!1,V),E1(a0,o7,{get:function(){return!!r0},set:Ur}),{h:a0,dn:function(){r0=r}}}o(p6,"_createTimerHandler");function a7(b,w,R,V){var le=c0(R),r0=le?R.length:0,a0=(r0>0?R[0]:le?t:R)||setTimeout,m0=(r0>1?R[1]:t)||clearTimeout,T0=V[0];V[0]=function(){L0.dn(),gf(T0,b,w1(arguments))};var L0=p6(w,function(Q0){if(Q0){if(Q0.refresh)return Q0.refresh(),Q0;gf(m0,b,[Q0])}return gf(a0,b,V)},function(Q0){gf(m0,b,[Q0])});return L0.h}o(a7,"_createTimeoutWith");function Pv(b,w){return a7(this,!0,t,w1(arguments))}o(Pv,"scheduleTimeout");var yd=rn,l7=ol,vd="toLowerCase",Wf="blkVal",xa="length",xd="rdOnly",y6="notify",qa="warnToConsole",Lc="throwInternal",m3="setDf",p3="watch",Ws="logger",Nv="apply",B1="push",Rv="splice",_d="hdlr",f7="cancel",v6="name",kv="unload",x6="version",Bv="loggingLevelConsole",_6="messageId",Ou="message",c7="diagLog",b6="userAgent",Dv="split",y3="replace",Lv="logInternalMessage",Mu="traceId",v3="spanId",Uu="traceFlags",x3;function u7(b,w){x3||(x3=hd("AggregationError",function(V,le){le[xa]>1&&(V.errors=le[1])}));var R=b||"One or more errors occurred.";throw Ua(w,function(V,le){R+=`
`.concat(le," > ").concat(xs(V))}),new x3(R,w||[])}o(u7,"throwAggregationError");var Fv="function",d7="object",Fc="undefined",bd="prototype",_3=Object,Cd=_3[bd];(S1()||{}).Symbol,(S1()||{}).Reflect;var Yf="hasOwnProperty",Ed=o(function(b){for(var w,R=1,V=arguments.length;R<V;R++){w=arguments[R];for(var le in w)Cd[Yf].call(w,le)&&(b[le]=w[le])}return b},"__objAssignFnImpl"),Oc=pr||Ed,b3=o(function(b,w){return b3=_3.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,V){R.__proto__=V}||function(R,V){for(var le in V)V[Yf](le)&&(R[le]=V[le])},b3(b,w)},"extendStaticsFn");function qu(b,w){typeof w!==Fv&&w!==null&&Ve("Class extends value "+String(w)+" is not a constructor or null"),b3(b,w);function R(){this.constructor=b}o(R,"__"),b[bd]=w===null?P1(w):(R[bd]=w[bd],new R)}o(qu,"__extendsFn");var Td,$u="constructor",Ll="prototype",C3="function",E3="_dynInstFuncs",Sd="_isDynProxy",Xf="_dynClass",h7="_dynCls$",T3="_dynInstChk",D1=T3,Id="_dfOpts",wd="_unknown_",Hu="__proto__",S3="_dyn"+Hu,C6="__dynProto$Gbl",I3="_dynInstProto",w3="useBaseInst",A3="setInstFuncs",Jf=Object,L1=Jf.getPrototypeOf,Ad=Jf.getOwnPropertyNames,P3=S1(),E6=P3[C6]||(P3[C6]={o:(Td={},Td[A3]=!0,Td[w3]=!0,Td),n:1e3});function Pd(b){return b&&(b===Jf[Ll]||b===Array[Ll])}o(Pd,"_isObjectOrArrayPrototype");function T6(b){return Pd(b)||b===Function[Ll]}o(T6,"_isObjectArrayOrFunctionPrototype");function Mc(b){var w;if(b){if(L1)return L1(b);var R=b[Hu]||b[Ll]||(b[$u]?b[$u][Ll]:null);w=b[S3]||R,N0(b,S3)||(delete b[I3],w=b[S3]=b[I3]||b[S3],b[I3]=R)}return w}o(Mc,"_getObjProto");function Nd(b,w){var R=[];if(Ad)R=Ad(b);else for(var V in b)typeof V=="string"&&N0(b,V)&&R.push(V);if(R&&R.length>0)for(var le=0;le<R.length;le++)w(R[le])}o(Nd,"_forEachProp");function S6(b,w,R){return w!==$u&&typeof b[w]===C3&&(R||N0(b,w))}o(S6,"_isDynamicCandidate");function Rd(b){Ve("DynamicProto: "+b)}o(Rd,"_throwTypeError");function I6(b){var w={};return Nd(b,function(R){!w[R]&&S6(b,R,!1)&&(w[R]=b[R])}),w}o(I6,"_getInstanceFuncs");function _a(b,w){for(var R=b.length-1;R>=0;R--)if(b[R]===w)return!0;return!1}o(_a,"_hasVisited");function Ov(b,w,R,V){function le(T0,L0,Q0){var Hr=L0[Q0];if(Hr[Sd]&&V){var Ur=T0[E3]||{};Ur[D1]!==!1&&(Hr=(Ur[L0[Xf]]||{})[Q0]||Hr)}return function(){return Hr.apply(T0,arguments)}}o(le,"_instFuncProxy");var r0={};Nd(R,function(T0){r0[T0]=le(w,R,T0)});for(var a0=Mc(b),m0=[];a0&&!T6(a0)&&!_a(m0,a0);)Nd(a0,function(T0){!r0[T0]&&S6(a0,T0,!L1)&&(r0[T0]=le(w,a0,T0))}),m0.push(a0),a0=Mc(a0);return r0}o(Ov,"_getBaseFuncs");function g7(b,w,R,V){var le=null;if(b&&N0(R,Xf)){var r0=b[E3]||{};if(le=(r0[R[Xf]]||{})[w],le||Rd("Missing ["+w+"] "+C3),!le[T3]&&r0[D1]!==!1){for(var a0=!N0(b,w),m0=Mc(b),T0=[];a0&&m0&&!T6(m0)&&!_a(T0,m0);){var L0=m0[w];if(L0){a0=L0===V;break}T0.push(m0),m0=Mc(m0)}try{a0&&(b[w]=le),le[T3]=1}catch{r0[D1]=!1}}}return le}o(g7,"_getInstFunc");function m7(b,w,R){var V=w[b];return V===R&&(V=Mc(w)[b]),typeof V!==C3&&Rd("["+b+"] is not a "+C3),V}o(m7,"_getProtoFunc");function N3(b,w,R,V,le){function r0(T0,L0){var Q0=o(function(){var Hr=g7(this,L0,T0,Q0)||m7(L0,T0,Q0);return Hr.apply(this,arguments)},"dynProtoProxy");return Q0[Sd]=1,Q0}if(o(r0,"_createDynamicPrototype"),!Pd(b)){var a0=R[E3]=R[E3]||{},m0=a0[w]=a0[w]||{};a0[D1]!==!1&&(a0[D1]=!!le),Nd(R,function(T0){S6(R,T0,!1)&&R[T0]!==V[T0]&&(m0[T0]=R[T0],delete R[T0],(!N0(b,T0)||b[T0]&&!b[T0][Sd])&&(b[T0]=r0(b,T0)))})}}o(N3,"_populatePrototype");function w6(b,w){if(L1){for(var R=[],V=Mc(w);V&&!T6(V)&&!_a(R,V);){if(V===b)return!0;R.push(V),V=Mc(V)}return!1}return!0}o(w6,"_checkPrototype");function A6(b,w){return N0(b,Ll)?b.name||w||wd:((b||{})[$u]||{}).name||w||wd}o(A6,"_getObjName");function kd(b,w,R,V){N0(b,Ll)||Rd("theClass is an invalid class definition.");var le=b[Ll];w6(le,w)||Rd("["+A6(b)+"] not in hierarchy of ["+A6(w)+"]");var r0=null;N0(le,Xf)?r0=le[Xf]:(r0=h7+A6(b,"_")+"$"+E6.n,E6.n++,le[Xf]=r0);var a0=kd[Id],m0=!!a0[w3];m0&&V&&V[w3]!==void 0&&(m0=!!V[w3]);var T0=I6(w),L0=Ov(le,w,T0,m0);R(w,L0);var Q0=!!L1&&!!a0[A3];Q0&&V&&(Q0=!!V[A3]),N3(le,r0,w,T0,Q0!==!1)}o(kd,"dynamicProto"),kd[Id]=E6.o;var Mv=void 0,qs="",P6="Not dynamic - ",R3=/-([a-z])/g,p7=/([^\w\d_$])/g,N6=/^(\d+[\w\d_$])/;function R6(b){return!t0(b)}o(R6,"isNotNullOrUndefined");function Bd(b){var w=b;return w&&o0(w)&&(w=w[y3](R3,function(R,V){return V.toUpperCase()}),w=w[y3](p7,"_"),w=w[y3](N6,function(R,V){return"_"+V})),w}o(Bd,"normalizeJsName");function k3(b,w){return b&&w?Dc(b,w)!==-1:!1}o(k3,"strContains");function ki(b){return b&&b.toISOString()||""}o(ki,"toISOString");function Zf(b){return ve(b)?b[v6]:qs}o(Zf,"getExceptionName");function Dd(b){return function(){function w(){var R=this;b&&X0(b,function(V,le){R[V]=le})}return o(w,"class_1"),w}()}o(Dd,"createClassFromInterface");var Ld="console",ju="JSON",Vu="crypto",Qf="msCrypto",$s="msie",Fd="trident/",Xi=null,Uc=null,Od=null;function B3(){return typeof console!==Fc?console:Gf(Ld)}o(B3,"getConsole");function zu(){return!!(typeof JSON===d7&&JSON||Gf(ju)!==null)}o(zu,"hasJSON");function e1(){return zu()?JSON||Gf(ju):null}o(e1,"getJSON");function mf(){return Gf(Vu)}o(mf,"getCrypto");function D3(){return Gf(Qf)}o(D3,"getMsCrypto");function y7(){var b=Rc();if(b&&(b[b6]!==Uc||Xi===null)){Uc=b[b6];var w=(Uc||qs)[vd]();Xi=k3(w,$s)||k3(w,Fd)}return Xi}o(y7,"isIE");function qc(b){return(Od===null||b===!1)&&(Od=c6()&&!!Rc().sendBeacon),Od}o(qc,"isBeaconsSupported");function $c(b,w){if(b)for(var R=0;R<b[xa];R++){var V=b[R];if(V[v6]&&V[v6]===w)return V}return{}}o($c,"_getNamedValue");function Ha(b){var w=Kf();return w&&b?$c(w.querySelectorAll("meta"),b).content:null}o(Ha,"findMetaTag");function v7(b){var w,R=Dl();if(R){var V=R.getEntriesByType("navigation")||[];w=$c((V[xa]>0?V[0]:{}).serverTiming,b).description}return w}o(v7,"findNamedServerTiming");var Gu=4294967296,Jl=4294967295,L3=123456789,Hc=987654321,k6=!1,Fl=L3,F1=Hc;function x7(b){b<0&&(b>>>=0),Fl=L3+b&Jl,F1=Hc-b&Jl,k6=!0}o(x7,"_mwcSeed");function _7(){try{var b=gd()&2147483647;x7((Math.random()*Gu^b)+b)}catch{}}o(_7,"_autoSeedMwc");function jc(b){return b>0?Math.floor(_l()/Jl*(b+1))>>>0:0}o(jc,"randomValue");function _l(b){var w=0,R=mf()||D3();return R&&R.getRandomValues&&(w=R.getRandomValues(new Uint32Array(1))[0]&Jl),w===0&&y7()&&(k6||_7(),w=Md()&Jl),w===0&&(w=Math.floor(Gu*Math.random()|0)),b||(w>>>=0),w}o(_l,"random32");function Md(b){F1=36969*(F1&65535)+(F1>>16)&Jl,Fl=18e3*(Fl&65535)+(Fl>>16)&Jl;var w=(F1<<16)+(Fl&65535)>>>0&Jl|0;return b||(w>>>=0),w}o(Md,"mwcRandom32");function Ku(b){b===void 0&&(b=22);for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=_l()>>>0,V=0,le=qs;le[xa]<b;)V++,le+=w.charAt(R&63),R>>>=6,V===5&&(R=(_l()<<2&4294967295|R&3)>>>0,V=0);return le}o(Ku,"newId");var Wu="3.0.7",t1="."+Ku(6),B6=0;function F3(b,w){return w===void 0&&(w=!1),Bd(b+B6+++(w?"."+Wu:qs)+t1)}o(F3,"createUniqueNamespace");function bl(b){return b&&s0(b)&&(b.isVal||b.fb||R0(b,"v")||R0(b,"mrg")||R0(b,"ref")||b.set)}o(bl,"_isConfigDefaults");function Yu(b,w,R){var V,le=R.dfVal||h0;if(w&&R.fb){var r0=R.fb;c0(r0)||(r0=[r0]);for(var a0=0;a0<r0[xa];a0++){var m0=r0[a0],T0=w[m0];if(le(T0)?V=T0:b&&(T0=b.cfg[m0],le(T0)&&(V=T0),b.set(b.cfg,la(m0),T0)),le(V))break}}return!le(V)&&le(R.v)&&(V=R.v),V}o(Yu,"_getDefault");function O3(b,w,R){var V=R;if(R&&bl(R)&&(V=Yu(b,w,R)),V){bl(V)&&(V=O3(b,w,V));var le;c0(V)?(le=[],le[xa]=V[xa]):Xl(V)&&(le={}),le&&(X0(V,function(r0,a0){a0&&bl(a0)&&(a0=O3(b,w,a0)),le[r0]=a0}),V=le)}return V}o(O3,"_resolveDefaultValue");function Xu(b,w,R,V){var le,r0,a0,m0=V,T0,L0,Q0,Hr;bl(m0)?(le=m0.isVal,r0=m0.set,Q0=m0[xd],Hr=m0[Wf],T0=m0.mrg,L0=m0.ref,!L0&&we(L0)&&(L0=!!T0),a0=Yu(b,w,m0)):a0=V,Hr&&b[Wf](w,R);var Ur,jr=!0,yr=w[R];(yr||!t0(yr))&&(Ur=yr,jr=!1,le&&Ur!==a0&&!le(Ur)&&(Ur=a0,jr=!0),r0&&(Ur=r0(Ur,a0,w),jr=Ur===a0)),jr?a0?Ur=O3(b,w,a0):Ur=a0:(Xl(Ur)||c0(a0))&&T0&&a0&&(Xl(a0)||c0(a0))&&X0(a0,function(on,qr){Xu(b,Ur,on,qr)}),b.set(w,R,Ur),L0&&b.ref(w,R),Q0&&b[xd](w,R)}o(Xu,"_applyDefaultValue");var pf=c3("[[ai_dynCfg_1]]"),Vc=c3("[[ai_blkDynCfg_1]]"),Uv=c3("[[ai_frcDynCfg_1]]");function yf(b){if(b){var w;if(c0(b)?(w=[],w[xa]=b[xa]):Xl(b)&&(w={}),w)return X0(b,function(R,V){w[R]=yf(V)}),w}return b}o(yf,"_cfgDeepCopy");function D6(b){if(b){var w=b[pf]||b;if(w.cfg&&(w.cfg===b||w.cfg[pf]===w))return w}return null}o(D6,"getDynamicConfigHandler");function L6(b){if(b&&(Xl(b)||c0(b)))try{b[Vc]=!0}catch{}return b}o(L6,"blockDynamicConversion");function O1(b,w,R){var V=!1;return R&&!b[w.blkVal]&&(V=R[Uv],!V&&!R[Vc]&&(V=Xl(R)||c0(R))),V}o(O1,"_canMakeDynamic");function Zl(b){Ve("InvalidAccess:"+b)}o(Zl,"throwInvalidAccess");var F6=["push","pop","shift","unshift","splice"],Ju=o(function(b,w,R,V){b&&b[Lc](3,108,"".concat(R," [").concat(w,"] failed - ")+xs(V))},"_throwDynamicError");function b7(b,w,R){c0(w)&&Ua(F6,function(V){var le=w[V];w[V]=function(){for(var r0=[],a0=0;a0<arguments.length;a0++)r0[a0]=arguments[a0];var m0=le[Nv](this,r0);return U3(b,w,R,"Patching"),m0}})}o(b7,"_patchArray");function M3(b,w){var R=g0(b,w);return R&&R.get}o(M3,"_getOwnPropGetter");function O6(b,w,R,V){var le={n:R,h:[],trk:function(L0){L0&&L0.fn&&(Us(le.h,L0)===-1&&le.h[B1](L0),b.trk(L0,le))},clr:function(L0){var Q0=Us(le.h,L0);Q0!==-1&&le.h[Rv](Q0,1)}},r0=!0,a0=!1;function m0(){r0&&(a0=a0||O1(m0,b,V),V&&!V[pf]&&a0&&(V=U3(b,V,R,"Converting")),r0=!1);var L0=b.act;return L0&&le.trk(L0),V}o(m0,"_getProperty"),m0[b.prop]={chng:function(){b.add(le)}};function T0(L0){if(V!==L0){m0[b.ro]&&!b.upd&&Zl("["+R+"] is read-only:"+xs(w)),r0&&(a0=a0||O1(m0,b,V),r0=!1);var Q0=a0&&m0[b.rf];if(a0)if(Q0){X0(V,function(Ur){V[Ur]=L0?L0[Ur]:Mv});try{X0(L0,function(Ur,jr){Ud(b,V,Ur,jr)}),L0=V}catch(Ur){Ju((b.hdlr||{})[Ws],R,"Assigning",Ur),a0=!1}}else V&&V[pf]&&X0(V,function(Ur){var jr=M3(V,Ur);if(jr){var yr=jr[b.prop];yr&&yr.chng()}});if(L0!==V){var Hr=L0&&O1(m0,b,L0);!Q0&&Hr&&(L0=U3(b,L0,R,"Converting")),V=L0,a0=Hr}b.add(le)}}o(T0,"_setProperty"),Oa(w,le.n,{g:m0,s:T0})}o(O6,"_createDynamicProperty");function Ud(b,w,R,V){if(w){var le=M3(w,R),r0=le&&!!le[b.prop];r0?w[R]=V:O6(b,w,R,V)}return w}o(Ud,"_setDynamicProperty");function Zu(b,w,R,V){if(w){var le=M3(w,R),r0=le&&!!le[b.prop],a0=V&&V[0],m0=V&&V[1],T0=V&&V[2];if(!r0){if(T0)try{L6(w)}catch(L0){Ju((b.hdlr||{})[Ws],R,"Blocking",L0)}try{Ud(b,w,R,w[R]),le=M3(w,R)}catch(L0){Ju((b.hdlr||{})[Ws],R,"State",L0)}}a0&&(le[b.rf]=a0),m0&&(le[b.ro]=m0),T0&&(le[b.blkVal]=!0)}return w}o(Zu,"_setDynamicPropertyState");function U3(b,w,R,V){try{X0(w,function(le,r0){Ud(b,w,le,r0)}),w[pf]||(E1(w,pf,{get:function(){return b[_d]}}),b7(b,w,R))}catch(le){Ju((b.hdlr||{})[Ws],R,V,le)}return w}o(U3,"_makeDynamicObject");var q3="[[ai_",Qu="]]";function C7(b){var w,R=I1(q3+"get"+b.uid+Qu),V=I1(q3+"ro"+b.uid+Qu),le=I1(q3+"rf"+b.uid+Qu),r0=I1(q3+"blkVal"+b.uid+Qu),a0=I1(q3+"dtl"+b.uid+Qu),m0=null,T0=null,L0;function Q0(yr,on){var qr=L0.act;try{L0.act=yr,yr&&yr[a0]&&(Ua(yr[a0],function(yn){yn.clr(yr)}),yr[a0]=[]),on({cfg:b.cfg,set:b.set.bind(b),setDf:b[m3].bind(b),ref:b.ref.bind(b),rdOnly:b[xd].bind(b)})}catch(yn){var Vi=b[Ws];throw Vi&&Vi[Lc](1,107,xs(yn)),yn}finally{L0.act=qr||null}}o(Q0,"_useHandler");function Hr(){if(m0){var yr=m0;m0=null,T0&&T0[f7](),T0=null;var on=[];if(Ua(yr,function(qr){if(qr&&(qr[a0]&&(Ua(qr[a0],function(Vi){Vi.clr(qr)}),qr[a0]=null),qr.fn))try{Q0(qr,qr.fn)}catch(Vi){on[B1](Vi)}}),m0)try{Hr()}catch(qr){on[B1](qr)}on[xa]>0&&u7("Watcher error(s): ",on)}}o(Hr,"_notifyWatchers");function Ur(yr){if(yr&&yr.h[xa]>0){m0||(m0=[]),T0||(T0=Pv(function(){T0=null,Hr()},0));for(var on=0;on<yr.h[xa];on++){var qr=yr.h[on];qr&&Us(m0,qr)===-1&&m0[B1](qr)}}}o(Ur,"_addWatcher");function jr(yr,on){if(yr){var qr=yr[a0]=yr[a0]||[];Us(qr,on)===-1&&qr[B1](on)}}return o(jr,"_trackHandler"),L0=(w={prop:R,ro:V,rf:le},w[Wf]=r0,w[_d]=b,w.add=Ur,w[y6]=Hr,w.use=Q0,w.trk=jr,w),L0}o(C7,"_createState");function qd(b,w){var R={fn:w,rm:function(){R.fn=null,b=null,w=null}};return b.use(R,w),R}o(qd,"_createAndUseHandler");function qv(b,w,R){var V,le=D6(w);if(le)return le;var r0=F3("dyncfg",!0),a0=w&&R!==!1?w:yf(w),m0;function T0(){m0[y6]()}o(T0,"_notifyWatchers");function L0(Vi,yn,Fi){try{Vi=Ud(m0,Vi,yn,Fi)}catch(ha){Ju(b,yn,"Setting value",ha)}return Vi[yn]}o(L0,"_setValue");function Q0(Vi){return qd(m0,Vi)}o(Q0,"_watch");function Hr(Vi,yn){m0.use(null,function(Fi){var ha=m0.upd;try{we(yn)||(m0.upd=yn),Vi(Fi)}finally{m0.upd=ha}})}o(Hr,"_block");function Ur(Vi,yn){var Fi;return Zu(m0,Vi,yn,(Fi={},Fi[0]=!0,Fi))[yn]}o(Ur,"_ref");function jr(Vi,yn){var Fi;return Zu(m0,Vi,yn,(Fi={},Fi[1]=!0,Fi))[yn]}o(jr,"_rdOnly");function yr(Vi,yn){var Fi;return Zu(m0,Vi,yn,(Fi={},Fi[2]=!0,Fi))[yn]}o(yr,"_blkPropValue");function on(Vi,yn){return yn&&X0(yn,function(Fi,ha){Xu(qr,Vi,Fi,ha)}),Vi}o(on,"_applyDefaults");var qr=(V={uid:null,cfg:a0},V[Ws]=b,V[y6]=T0,V.set=L0,V[m3]=on,V[p3]=Q0,V.ref=Ur,V[xd]=jr,V[Wf]=yr,V._block=Hr,V);return Oa(qr,"uid",{c:!1,e:!1,w:!1,v:r0}),m0=C7(qr),U3(m0,a0,"config","Creating"),qr}o(qv,"_createDynamicHandler");function $d(b,w){b?(b[qa](w),b[Lc](2,108,w)):Zl(w)}o($d,"_logInvalidAccess");function M6(b,w,R,V){var le=qv(R,b||{},V);return w&&le[m3](le.cfg,w),le}o(M6,"createDynamicConfig");function E7(b,w,R){var V=b[pf]||b;return V.cfg&&(V.cfg===b||V.cfg[pf]===V)?V[p3](w):($d(R,P6+xs(b)),M6(b,null,R)[p3](w))}o(E7,"onConfigChange");var Hd=null;function U6(){var b=Gf("Microsoft");return b&&(Hd=b.ApplicationInsights),Hd}o(U6,"_getExtensionNamespace");function T7(b){var w=Hd;return!w&&b.disableDbgExt!==!0&&(w=Hd||U6()),w?w.ChromeDbgExt:null}o(T7,"getDebugExt");var e5,S7="warnToConsole",$v="AI (Internal): ",Hv="AI: ",I7="AITR_",q6={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},jv=(e5={},e5[0]=null,e5[1]="errorToConsole",e5[2]=S7,e5[3]="debugToConsole",e5);function jd(b){return b?'"'+b[y3](/\"/g,qs)+'"':qs}o(jd,"_sanitizeDiagnosticText");function M1(b,w){var R=B3();if(R){var V="log";R[b]&&(V=b),l0(R[V])&&R[V](w)}}o(M1,"_logToConsole");var w7=function(){function b(w,R,V,le){V===void 0&&(V=!1);var r0=this;r0[_6]=w,r0[Ou]=(V?Hv:$v)+w;var a0=qs;zu()&&(a0=e1().stringify(le));var m0=(R?" message:"+jd(R):qs)+(le?" props:"+jd(a0):qs);r0[Ou]+=m0}return o(b,"_InternalLogMessage"),b.dataType="MessageData",b}();function vf(b,w){return(b||{})[Ws]||new Ci(w)}o(vf,"safeGetLogger");var Ci=function(){function b(w){this.identifier="DiagnosticLogger",this.queue=[];var R=0,V={},le,r0,a0,m0,T0;kd(b,this,function(L0){T0=Hr(w||{}),L0.consoleLoggingLevel=function(){return le},L0[Lc]=function(yr,on,qr,Vi,yn){yn===void 0&&(yn=!1);var Fi=new w7(on,qr,yn,Vi);if(m0)throw xs(Fi);var ha=jv[yr]||S7;if(we(Fi[Ou]))jr("throw"+(yr===1?"Critical":"Warning"),Fi);else{if(yn){var c4=+Fi[_6];!V[c4]&&le>=yr&&(L0[ha](Fi[Ou]),V[c4]=!0)}else le>=yr&&L0[ha](Fi[Ou]);Q0(yr,Fi)}},L0.debugToConsole=function(yr){M1("debug",yr),jr("warning",yr)},L0[qa]=function(yr){M1("warn",yr),jr("warning",yr)},L0.errorToConsole=function(yr){M1("error",yr),jr("error",yr)},L0.resetInternalMessageCount=function(){R=0,V={}},L0[Lv]=Q0,L0[kv]=function(yr){T0&&T0.rm(),T0=null};function Q0(yr,on){if(!Ur()){var qr=!0,Vi=I7+on[_6];if(V[Vi]?qr=!1:V[Vi]=!0,qr&&(yr<=r0&&(L0.queue[B1](on),R++,jr(yr===1?"error":"warn",on)),R===a0)){var yn="Internal events throttle limit per PageView reached for this app.",Fi=new w7(23,yn,!1);L0.queue[B1](Fi),yr===1?L0.errorToConsole(yn):L0[qa](yn)}}}o(Q0,"_logInternalMessage");function Hr(yr){return E7(M6(yr,q6,L0).cfg,function(on){var qr=on.cfg;le=qr[Bv],r0=qr.loggingLevelTelemetry,a0=qr.maxMessageLimit,m0=qr.enableDebug})}o(Hr,"_setDefaultsFromConfig");function Ur(){return R>=a0}o(Ur,"_areInternalMessagesThrottled");function jr(yr,on){var qr=T7(w||{});qr&&qr[c7]&&qr[c7](yr,on)}o(jr,"_debugExtMsg")})}return o(b,"DiagnosticLogger"),b.__ieDyn=1,b}();function zc(b){return b||new Ci}o(zc,"_getLogger");function ji(b,w,R,V,le,r0){r0===void 0&&(r0=!1),zc(b)[Lc](w,R,V,le,r0)}o(ji,"_throwInternal");function Vd(){for(var b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=qs,R,V=0;V<4;V++)R=_l(),w+=b[R&15]+b[R>>4&15]+b[R>>8&15]+b[R>>12&15]+b[R>>16&15]+b[R>>20&15]+b[R>>24&15]+b[R>>28&15];var le=b[8+(_l()&3)|0];return df(w,0,8)+df(w,9,4)+"4"+df(w,13,3)+le+df(w,16,3)+df(w,19,12)}o(Vd,"generateW3CId");var $6=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,U1="00",q1="ff",Cl="00000000000000000000000000000000",Gc="0000000000000000",$3=1;function El(b,w,R){return b&&b[xa]===w&&b!==R?!!b.match(/^[\da-f]*$/i):!1}o(El,"_isValid");function H3(b,w,R){return El(b,w)?b:R}o(H3,"_formatValue");function $1(b){(isNaN(b)||b<0||b>255)&&(b=1);for(var w=b.toString(16);w[xa]<2;)w="0"+w;return w}o($1,"_formatFlags");function zd(b,w,R,V){var le;return le={},le[x6]=El(V,2,q1)?V:U1,le[Mu]=V3(b)?b:Vd(),le[v3]=H6(w)?w:gn(Vd(),16),le.traceFlags=R>=0&&R<=255?R:1,le}o(zd,"createTraceParent");function j3(b,w){var R;if(!b||(c0(b)&&(b=b[0]||""),!b||!o0(b)||b[xa]>8192))return null;if(b.indexOf(",")!==-1){var V=b[Dv](",");b=V[w>0&&V[xa]>w?w:0]}var le=$6.exec(N1(b));return!le||le[1]===q1||le[2]===Cl||le[3]===Gc?null:(R={version:(le[1]||qs)[vd](),traceId:(le[2]||qs)[vd](),spanId:(le[3]||qs)[vd]()},R[Uu]=parseInt(le[4],16),R)}o(j3,"parseTraceParent");function V3(b){return El(b,32,Cl)}o(V3,"isValidTraceId");function H6(b){return El(b,16,Gc)}o(H6,"isValidSpanId");function A7(b){return!(!b||!El(b[x6],2,q1)||!El(b[Mu],32,Cl)||!El(b[v3],16,Gc)||!El($1(b[Uu]),2))}o(A7,"isValidTraceParent");function Vv(b){return A7(b)?(b[Uu]&$3)===$3:!1}o(Vv,"isSampledFlag");function zv(b){if(b){var w=$1(b[Uu]);El(w,2)||(w="01");var R=b[x6]||U1;return R!=="00"&&R!=="ff"&&(R=U1),"".concat(R.toLowerCase(),"-").concat(H3(b.traceId,32,Cl).toLowerCase(),"-").concat(H3(b.spanId,16,Gc).toLowerCase(),"-").concat(w.toLowerCase())}return""}o(zv,"formatTraceParent");function j6(b){var w="traceparent",R=j3(Ha(w),b);return R||(R=j3(v7(w),b)),R}o(j6,"findW3cTraceParent");var V6="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ba="sampleRate",Gd="ProcessLegacy",ll="http.method",r1="https://dc.services.visualstudio.com",Kd="/v2/track",xf="not_specified",t5="iKey",Wd=l7({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),r5="split",zr="length",Kc="toLowerCase",Wc="ingestionendpoint",n5="toString",z6="removeItem",Ol="name",H1="message",i5="count",z3="preTriggerDate",G3="disabled",Yd="interval",Xd="daysOfMonth",K3="date",G6="getUTCDate",n1="stringify",s5="pathname",K6="correlationHeaderExcludePatterns",Jd="extensionConfig",o5="exceptions",fl="parsedStack",Ca="properties",i1="measurements",a5="sizeInBytes",Ql="typeName",W3="severityLevel",l5="problemGroup",Zd="isManual",P7="CreateFromInterface",Yc="assembly",j1="fileName",_f="hasFullStack",Y3="level",Xc="method",f5="line",V1="duration",c5="receivedResponse";function W6(b,w,R){var V=w[zr],le=N7(b,w);if(le[zr]!==V){for(var r0=0,a0=le;R[a0]!==void 0;)r0++,a0=Bl(le,0,147)+K1(r0);le=a0}return le}o(W6,"dataSanitizeKeyAndAddUniqueness");function N7(b,w){var R;return w&&(w=N1(la(w)),w[zr]>150&&(R=Bl(w,0,150),ji(b,2,57,"name is too long.  It has been truncated to 150 characters.",{name:w},!0))),R||w}o(N7,"dataSanitizeKey");function da(b,w,R){R===void 0&&(R=1024);var V;return w&&(R=R||1024,w=N1(la(w)),w[zr]>R&&(V=Bl(w,0,R),ji(b,2,61,"string value is too long. It has been truncated to "+R+" characters.",{value:w},!0))),V||w}o(da,"dataSanitizeString");function Qd(b,w){return Z6(b,w,2048,66)}o(Qd,"dataSanitizeUrl");function Y6(b,w){var R;return w&&w[zr]>32768&&(R=Bl(w,0,32768),ji(b,2,56,"message is too long, it has been truncated to 32768 characters.",{message:w},!0)),R||w}o(Y6,"dataSanitizeMessage");function X6(b,w){var R;if(w){var V=""+w;V[zr]>32768&&(R=Bl(V,0,32768),ji(b,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:w},!0))}return R||w}o(X6,"dataSanitizeException");function z1(b,w){if(w){var R={};X0(w,function(V,le){if(s0(le)&&zu())try{le=e1()[n1](le)}catch(r0){ji(b,2,49,"custom property is not valid",{exception:r0},!0)}le=da(b,le,8192),V=W6(b,V,R),R[V]=le}),w=R}return w}o(z1,"dataSanitizeProperties");function G1(b,w){if(w){var R={};X0(w,function(V,le){V=W6(b,V,R),R[V]=le}),w=R}return w}o(G1,"dataSanitizeMeasurements");function J6(b,w){return w&&Z6(b,w,128,69)[n5]()}o(J6,"dataSanitizeId");function Z6(b,w,R,V){var le;return w&&(w=N1(la(w)),w[zr]>R&&(le=Bl(w,0,R),ji(b,2,V,"input is too long, it has been truncated to "+R+" characters.",{data:w},!0))),le||w}o(Z6,"dataSanitizeInput");function K1(b){var w="00"+b;return df(w,w[zr]-3)}o(K1,"dsPadNumber");var Q6=Kf()||{},X3=0,R7=[null,null,null,null,null];function Jc(b){var w=X3,R=R7,V=R[w];return Q6.createElement?R[w]||(V=R[w]=Q6.createElement("a")):V={host:B7(b,!0)},V.href=b,w++,w>=R[zr]&&(w=0),X3=w,V}o(Jc,"urlParseUrl");function e9(b){var w,R=Jc(b);return R&&(w=R.href),w}o(e9,"urlGetAbsoluteUrl");function W1(b){var w,R=Jc(b);return R&&(w=R[s5]),w}o(W1,"urlGetPathName");function k7(b,w){return b?b.toUpperCase()+" "+w:w}o(k7,"urlGetCompleteUrl");function B7(b,w){var R=e4(b,w)||"";if(R){var V=R.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[zr]>3&&o0(V[2])&&V[2][zr]>0)return V[2]+(V[3]||"")}return R}o(B7,"urlParseHost");function e4(b,w){var R=null;if(b){var V=b.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(V!=null&&V[zr]>2&&o0(V[2])&&V[2][zr]>0&&(R=V[2]||"",w&&V[zr]>2)){var le=(V[1]||"")[Kc](),r0=V[3]||"";(le==="http"&&r0===":80"||le==="https"&&r0===":443")&&(r0=""),R+=r0}}return R}o(e4,"urlParseFullHost");var Gv=[r1+Kd,"https://breeze.aimon.applicationinsights.io"+Kd,"https://dc-int.services.visualstudio.com"+Kd],t9="cid-v1:";function r9(b){return Us(Gv,b[Kc]())!==-1}o(r9,"isInternalApplicationInsightsEndpoint");function D7(b){t9=b}o(D7,"correlationIdSetPrefix");function Kv(){return t9}o(Kv,"correlationIdGetPrefix");function J3(b,w,R){if(!w||b&&b.disableCorrelationHeaders)return!1;if(b&&b[K6]){for(var V=0;V<b.correlationHeaderExcludePatterns[zr];V++)if(b[K6][V].test(w))return!1}var le=Jc(w).host[Kc]();if(le&&(Dc(le,":443")!==-1||Dc(le,":80")!==-1)&&(le=(e4(w,!0)||"")[Kc]()),(!b||!b.enableCorsCorrelation)&&le&&le!==R)return!1;var r0=b&&b.correlationHeaderDomains;if(r0){var a0;if(Ua(r0,function(L0){var Q0=new RegExp(L0.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a0=a0||Q0.test(le)}),!a0)return!1}var m0=b&&b.correlationHeaderExcludedDomains;if(!m0||m0[zr]===0)return!0;for(var V=0;V<m0[zr];V++){var T0=new RegExp(m0[V].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(T0.test(le))return!1}return le&&le[zr]>0}o(J3,"correlationIdCanIncludeCorrelationHeader");function Wv(b){if(b){var w=Z3(b,Wd[1]);if(w&&w!==t9)return w}}o(Wv,"correlationIdGetCorrelationContext");function Z3(b,w){if(b)for(var R=b[r5](","),V=0;V<R[zr];++V){var le=R[V][r5]("=");if(le[zr]===2&&le[0]===w)return le[1]}}o(Z3,"correlationIdGetCorrelationContextValue");function Yv(b,w,R,V){var le,r0=V,a0=V;if(w&&w[zr]>0){var m0=Jc(w);if(le=m0.host,!r0)if(m0[s5]!=null){var T0=m0.pathname[zr]===0?"/":m0[s5];T0.charAt(0)!=="/"&&(T0="/"+T0),a0=m0[s5],r0=da(b,R?R+" "+T0:T0)}else r0=da(b,w)}else le=V,r0=V;return{target:le,name:r0,data:a0}}o(Yv,"AjaxHelperParseDependencyPath");function t4(){var b=Dl();if(b&&b.now&&b.timing){var w=b.now()+b.timing.navigationStart;if(w>0)return w}return gd()}o(t4,"dateTimeUtilsNow");function n9(b,w){var R=null;return b!==0&&w!==0&&!t0(b)&&!t0(w)&&(R=w-b),R}o(n9,"dateTimeUtilsDuration");function r4(b,w){var R=b||{};return{getName:function(){return R[Ol]},setName:function(V){w&&w.setName(V),R[Ol]=V},getTraceId:function(){return R.traceID},setTraceId:function(V){w&&w.setTraceId(V),V3(V)&&(R.traceID=V)},getSpanId:function(){return R.parentID},setSpanId:function(V){w&&w.setSpanId(V),H6(V)&&(R.parentID=V)},getTraceFlags:function(){return R.traceFlags},setTraceFlags:function(V){w&&w.setTraceFlags(V),R.traceFlags=V}}}o(r4,"createDistributedTraceContextFromTrace");var s1=yd({LocalStorage:0,SessionStorage:1}),Q3=yd({AI:0,AI_AND_W3C:1,W3C:2}),Y1=void 0,X1=void 0,L7="";function i9(){return n4()?ja(s1.LocalStorage):null}o(i9,"_getLocalStorageObject");function ja(b){try{if(t0(S1()))return null;var w=new Date()[n5](),R=Gf(b===s1.LocalStorage?"localStorage":"sessionStorage"),V=L7+w;R.setItem(V,w);var le=R.getItem(V)!==w;if(R[z6](V),!le)return R}catch{}return null}o(ja,"_getVerifiedStorageObject");function J1(){return d5()?ja(s1.SessionStorage):null}o(J1,"_getSessionStorageObject");function u5(){Y1=!1,X1=!1}o(u5,"utlDisableStorage");function F7(b){L7=b||""}o(F7,"utlSetStoragePrefix");function Xv(){Y1=n4(!0),X1=d5(!0)}o(Xv,"utlEnableStorage");function n4(b){return(b||Y1===void 0)&&(Y1=!!ja(s1.LocalStorage)),Y1}o(n4,"utlCanUseLocalStorage");function O7(b,w){var R=i9();if(R!==null)try{return R.getItem(w)}catch(V){Y1=!1,ji(b,2,1,"Browser failed read of local storage. "+Zf(V),{exception:xs(V)})}return null}o(O7,"utlGetLocalStorage");function i4(b,w,R){var V=i9();if(V!==null)try{return V.setItem(w,R),!0}catch(le){Y1=!1,ji(b,2,3,"Browser failed write to local storage. "+Zf(le),{exception:xs(le)})}return!1}o(i4,"utlSetLocalStorage");function bf(b,w){var R=i9();if(R!==null)try{return R[z6](w),!0}catch(V){Y1=!1,ji(b,2,5,"Browser failed removal of local storage item. "+Zf(V),{exception:xs(V)})}return!1}o(bf,"utlRemoveStorage");function d5(b){return(b||X1===void 0)&&(X1=!!ja(s1.SessionStorage)),X1}o(d5,"utlCanUseSessionStorage");function s4(){var b=[];return d5()&&X0(Gf("sessionStorage"),function(w){b.push(w)}),b}o(s4,"utlGetSessionStorageKeys");function o4(b,w){var R=J1();if(R!==null)try{return R.getItem(w)}catch(V){X1=!1,ji(b,2,2,"Browser failed read of session storage. "+Zf(V),{exception:xs(V)})}return null}o(o4,"utlGetSessionStorage");function Jv(b,w,R){var V=J1();if(V!==null)try{return V.setItem(w,R),!0}catch(le){X1=!1,ji(b,2,4,"Browser failed write to session storage. "+Zf(le),{exception:xs(le)})}return!1}o(Jv,"utlSetSessionStorage");function Zv(b,w){var R=J1();if(R!==null)try{return R[z6](w),!0}catch(V){X1=!1,ji(b,2,6,"Browser failed removal of session storage item. "+Zf(V),{exception:xs(V)})}return!1}o(Zv,"utlRemoveSessionStorage");var M7="appInsightsThrottle",Qv=function(){function b(w,R){var V=this,le,r0,a0,m0,T0,L0,Q0,Hr=!1,Ur=!1;yr(),V._getDbgPlgTargets=function(){return[Q0]},V.getConfig=function(){return a0},V.canThrottle=function(j0){var xr=u4(j0),en=on(j0);return yn(en,le,xr)},V.isTriggered=function(j0){return tg(j0)},V.isReady=function(){return Hr},V.flush=function(j0){try{var xr=g9(j0);if(xr&&xr[zr]>0){var en=xr.slice(0);return Q0[j0]=[],Ua(en,function(vs){jr(vs.msgID,vs[H1],vs.severity,!1)}),!0}}catch{}return!1},V.flushAll=function(){try{if(Q0){var j0=!0;return X0(Q0,function(xr){var en=V.flush(parseInt(xr));j0=j0&&en}),j0}}catch{}return!1},V.onReadyState=function(j0,xr){return xr===void 0&&(xr=!0),Hr=t0(j0)?!0:j0,Hr&&xr?V.flushAll():null},V.sendMessage=function(j0,xr,en){return jr(j0,xr,en,!0)};function jr(j0,xr,en,vs){if(Hr){var Qs=tc(j0);if(!Qs)return;var Ls=on(j0),Xs=u4(j0),v5=yn(Ls,le,Xs),eu=!1,x5=0,rg=tg(j0);try{v5&&!rg?(x5=Math.min(Ls.limit.maxSendNumber,Xs[i5]+1),Xs[i5]=0,eu=!0,T0[j0]=!0,Xs[z3]=new Date):(T0[j0]=v5,Xs[i5]+=1);var ng=Fi(j0);Q7(r0,ng,Xs);for(var m9=0;m9<x5;m9++)ux(j0,r0,xr,en)}catch{}return{isThrottled:eu,throttleNum:x5}}else if(vs){var ig=g9(j0);ig.push({msgID:j0,message:xr,severity:en})}return null}o(jr,"_flushMessage");function yr(){r0=vf(w),T0={},m0={},Q0={},a0={},qr(109),L0=R6(R)?R:"",w.addUnloadHook(E7(w.config,function(j0){var xr=j0.cfg;le=n4();var en=xr.throttleMgrCfg||{};X0(en,function(vs,Qs){qr(parseInt(vs),Qs)})}))}o(yr,"_initConfig");function on(j0){return a0[j0]||a0[109]}o(on,"_getCfgByKey");function qr(j0,xr){var en,vs;try{var Qs=xr||{},Ls={};Ls[G3]=!!Qs[G3];var Xs=Qs[Yd]||{};Ur=(Xs==null?void 0:Xs.daysOfMonth)&&(Xs==null?void 0:Xs.daysOfMonth[zr])>0,Ls[Yd]=Vi(Xs);var v5={samplingRate:((en=Qs.limit)===null||en===void 0?void 0:en.samplingRate)||100,maxSendNumber:((vs=Qs.limit)===null||vs===void 0?void 0:vs.maxSendNumber)||1};Ls.limit=v5,a0[j0]=Ls}catch{}}o(qr,"_setCfgByKey");function Vi(j0){j0=j0||{};var xr=j0==null?void 0:j0.monthInterval,en=j0==null?void 0:j0.dayInterval;return t0(xr)&&t0(en)&&(j0.monthInterval=3,Ur||(j0[Xd]=[28],Ur=!0)),j0={monthInterval:j0==null?void 0:j0.monthInterval,dayInterval:j0==null?void 0:j0.dayInterval,daysOfMonth:j0==null?void 0:j0.daysOfMonth},j0}o(Vi,"_getIntervalConfig");function yn(j0,xr,en){if(j0&&!j0[G3]&&xr&&R6(en)){var vs=o2(),Qs=en[K3],Ls=j0[Yd],Xs=1;if(Ls!=null&&Ls.monthInterval){var v5=(vs.getUTCFullYear()-Qs.getUTCFullYear())*12+vs.getUTCMonth()-Qs.getUTCMonth();Xs=eg(Ls.monthInterval,0,v5)}var eu=1;if(Ur)eu=Us(Ls[Xd],vs[G6]());else if(Ls!=null&&Ls.dayInterval){var x5=Math.floor((vs.getTime()-Qs.getTime())/864e5);eu=eg(Ls.dayInterval,0,x5)}return Xs>=0&&eu>=0}return!1}o(yn,"_canThrottle");function Fi(j0,xr){var en=R6(xr)?xr:"";return j0?M7+en+"-"+j0:null}o(Fi,"_getLocalStorageName");function ha(j0){try{if(j0){var xr=new Date;return j0.getUTCFullYear()===xr.getUTCFullYear()&&j0.getUTCMonth()===xr.getUTCMonth()&&j0[G6]()===xr[G6]()}}catch{}return!1}o(ha,"_isTriggeredOnCurDate");function c4(j0,xr,en){try{var vs={date:o2(),count:0};if(j0){var Qs=JSON.parse(j0),Ls={date:o2(Qs[K3])||vs[K3],count:Qs[i5]||vs[i5],preTriggerDate:Qs.preTriggerDate?o2(Qs[z3]):void 0};return Ls}else return Q7(xr,en,vs),vs}catch{}return null}o(c4,"_getLocalStorageObj");function o2(j0){try{if(j0){var xr=new Date(j0);if(!isNaN(xr.getDate()))return xr}else return new Date}catch{}return null}o(o2,"_getThrottleDate");function Q7(j0,xr,en){try{return i4(j0,xr,N1(JSON[n1](en)))}catch{}return!1}o(Q7,"_resetLocalStorage");function eg(j0,xr,en){return j0<=0?1:en>=xr&&(en-xr)%j0==0?Math.floor((en-xr)/j0)+1:-1}o(eg,"_checkInterval");function ux(j0,xr,en,vs){ji(xr,vs||1,j0,en)}o(ux,"_sendMessage");function tc(j0){try{var xr=on(j0);return jc(1e6)<=xr.limit.samplingRate}catch{}return!1}o(tc,"_canSampledIn");function u4(j0){try{var xr=m0[j0];if(!xr){var en=Fi(j0,L0);xr=c4(O7(r0,en),r0,en),m0[j0]=xr}return m0[j0]}catch{}return null}o(u4,"_getLocalStorageObjByKey");function tg(j0){var xr=T0[j0];if(t0(xr)){xr=!1;var en=u4(j0);en&&(xr=ha(en[z3])),T0[j0]=xr}return T0[j0]}o(tg,"_isTrigger");function g9(j0){return Q0=Q0||{},t0(Q0[j0])&&(Q0[j0]=[]),Q0[j0]}o(g9,"_getQueueByKey")}return o(b,"ThrottleMgr"),b}(),h5=";",U7="=";function q7(b){if(!b)return{};var w=b[r5](h5),R=A1(w,function(le,r0){var a0=r0[r5](U7);if(a0[zr]===2){var m0=a0[0][Kc](),T0=a0[1];le[m0]=T0}return le},{});if(Vr(R)[zr]>0){if(R.endpointsuffix){var V=R.location?R.location+".":"";R[Wc]=R[Wc]||"https://"+V+"dc."+R.endpointsuffix}R[Wc]=R[Wc]||r1,g3(R[Wc],"/")&&(R[Wc]=R[Wc].slice(0,-1))}return R}o(q7,"parseConnectionString");var ex={parse:q7},tx=function(){function b(w,R,V){var le=this,r0=this;r0.ver=1,r0.sampleRate=100,r0.tags={},r0[Ol]=da(w,V)||xf,r0.data=R,r0.time=ki(new Date),r0.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return le.sampleRate===100?4:1},tags:1,data:1}}return o(b,"Envelope"),b}(),rx=function(){function b(w,R,V,le){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var r0=this;r0.ver=2,r0[Ol]=da(w,R)||xf,r0[Ca]=z1(w,V),r0[i1]=G1(w,le)}return o(b,"Event"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Event",b.dataType="EventData",b}(),nx="<no_method>",Zc="error",Ea="stack",e2="stackDetails",a4="errorSrc",g5="message",s9="description";function Er(b,w){var R=b;return R&&!o0(R)&&(JSON&&JSON[n1]?(R=JSON[n1](b),w&&(!R||R==="{}")&&(l0(b[n5])?R=b[n5]():R=""+b)):R=""+b+" - (Missing JSON.stringify)"),R||""}o(Er,"_stringify");function l4(b,w){var R=b;return b&&(R&&!o0(R)&&(R=b[g5]||b[s9]||R),R&&!o0(R)&&(R=Er(R,!0)),b.filename&&(R=R+" @"+(b.filename||"")+":"+(b.lineno||"?")+":"+(b.colno||"?"))),w&&w!=="String"&&w!=="Object"&&w!=="Error"&&Dc(R||"",w)===-1&&(R=w+": "+R),R||""}o(l4,"_formatMessage");function o9(b){try{if(s0(b))return"hasFullStack"in b&&"typeName"in b}catch{}return!1}o(o9,"_isExceptionDetailsInternal");function Qc(b){try{if(s0(b))return"ver"in b&&"exceptions"in b&&"properties"in b}catch{}return!1}o(Qc,"_isExceptionInternal");function a9(b){return b&&b.src&&o0(b.src)&&b.obj&&c0(b.obj)}o(a9,"_isStackDetails");function Z1(b){var w=b||"";o0(w)||(o0(w[Ea])?w=w[Ea]:w=""+w);var R=w[r5](`
`);return{src:w,obj:R}}o(Z1,"_convertStackObj");function l9(b){for(var w=[],R=b[r5](`
`),V=0;V<R[zr];V++){var le=R[V];R[V+1]&&(le+="@"+R[V+1],V++),w.push(le)}return{src:b,obj:w}}o(l9,"_getOperaStack");function f4(b){var w=null;if(b)try{if(b[Ea])w=Z1(b[Ea]);else if(b[Zc]&&b[Zc][Ea])w=Z1(b[Zc][Ea]);else if(b.exception&&b.exception[Ea])w=Z1(b.exception[Ea]);else if(a9(b))w=b;else if(a9(b[e2]))w=b[e2];else if(Ns()&&Ns().opera&&b[g5])w=l9(b[H1]);else if(b.reason&&b.reason[Ea])w=Z1(b.reason[Ea]);else if(o0(b))w=Z1(b);else{var R=b[g5]||b[s9]||"";o0(b[a4])&&(R&&(R+=`
`),R+=" from "+b[a4]),R&&(w=Z1(R))}}catch(V){w=Z1(V)}return w||{src:"",obj:null}}o(f4,"_getStackFromErrorObj");function $7(b){var w="";return b&&(b.obj?Ua(b.obj,function(R){w+=R+`
`}):w=b.src||""),w}o($7,"_formatStackTrace");function f9(b){var w,R=b.obj;if(R&&R[zr]>0){w=[];var V=0,le=0;Ua(R,function(yr){var on=yr[n5]();if(Ml.regex.test(on)){var qr=new Ml(on,V++);le+=qr[a5],w.push(qr)}});var r0=32*1024;if(le>r0)for(var a0=0,m0=w[zr]-1,T0=0,L0=a0,Q0=m0;a0<m0;){var Hr=w[a0][a5],Ur=w[m0][a5];if(T0+=Hr+Ur,T0>r0){var jr=Q0-L0+1;w.splice(L0,jr);break}L0=a0,Q0=m0,a0++,m0--}}return w}o(f9,"_parseStack");function t2(b){var w="";if(b&&(w=b.typeName||b[Ol]||"",!w))try{var R=/function (.{1,200})\(/,V=R.exec(b.constructor[n5]());w=V&&V[zr]>1?V[1]:""}catch{}return w}o(t2,"_getErrorType");function m5(b){if(b)try{if(!o0(b)){var w=t2(b),R=Er(b,!1);return(!R||R==="{}")&&(b[Zc]&&(b=b[Zc],w=t2(b)),R=Er(b,!0)),Dc(R,w)!==0&&w!=="String"?w+":"+R:R}}catch{}return""+(b||"")}o(m5,"_formatErrorCode");var c9=function(){function b(w,R,V,le,r0,a0){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var m0=this;m0.ver=2,Qc(R)?(m0[o5]=R[o5]||[],m0[Ca]=R[Ca],m0[i1]=R[i1],R[W3]&&(m0[W3]=R[W3]),R.id&&(m0.id=R.id),R[l5]&&(m0[l5]=R[l5]),t0(R[Zd])||(m0[Zd]=R[Zd])):(V||(V={}),m0[o5]=[new u9(w,R,V)],m0[Ca]=z1(w,V),m0[i1]=G1(w,le),r0&&(m0[W3]=r0),a0&&(m0.id=a0))}return o(b,"Exception"),b.CreateAutoException=function(w,R,V,le,r0,a0,m0,T0){var L0,Q0=t2(r0||a0||w);return L0={},L0[H1]=l4(w,Q0),L0.url=R,L0.lineNumber=V,L0.columnNumber=le,L0.error=m5(r0||a0||w),L0.evt=m5(a0||w),L0[Ql]=Q0,L0.stackDetails=f4(m0||r0||a0),L0.errorSrc=T0,L0},b.CreateFromInterface=function(w,R,V,le){var r0=R[o5]&&u3(R[o5],function(m0){return u9[P7](w,m0)}),a0=new b(w,Oc(Oc({},R),{exceptions:r0}),V,le);return a0},b.prototype.toInterface=function(){var w,R=this,V=R.exceptions,le=R.properties,r0=R.measurements,a0=R.severityLevel,m0=R.problemGroup,T0=R.id,L0=R.isManual,Q0=V instanceof Array&&u3(V,function(Hr){return Hr.toInterface()})||void 0;return w={ver:"4.0"},w[o5]=Q0,w.severityLevel=a0,w.properties=le,w.measurements=r0,w.problemGroup=m0,w.id=T0,w.isManual=L0,w},b.CreateSimpleException=function(w,R,V,le,r0,a0){var m0;return{exceptions:[(m0={},m0[_f]=!0,m0.message=w,m0.stack=r0,m0.typeName=R,m0)]}},b.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",b.dataType="ExceptionData",b.formatError=m5,b}(),u9=function(){function b(w,R,V){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var le=this;if(o9(R))le[Ql]=R[Ql],le[H1]=R[H1],le[Ea]=R[Ea],le[fl]=R[fl]||[],le[_f]=R[_f];else{var r0=R,a0=r0&&r0.evt;ve(r0)||(r0=r0[Zc]||a0||r0),le[Ql]=da(w,t2(r0))||xf,le[H1]=Y6(w,l4(R||r0,le[Ql]))||xf;var m0=R[e2]||f4(R);le[fl]=f9(m0),c0(le[fl])&&u3(le[fl],function(T0){T0[Yc]=da(w,T0[Yc]),T0[j1]=da(w,T0[j1])}),le[Ea]=X6(w,$7(m0)),le.hasFullStack=c0(le.parsedStack)&&le.parsedStack[zr]>0,V&&(V[Ql]=V[Ql]||le[Ql])}}return o(b,"_ExceptionDetails"),b.prototype.toInterface=function(){var w,R=this,V=R[fl]instanceof Array&&u3(R[fl],function(r0){return r0.toInterface()}),le=(w={id:R.id,outerId:R.outerId,typeName:R[Ql],message:R[H1],hasFullStack:R[_f],stack:R[Ea]},w[fl]=V||void 0,w);return le},b.CreateFromInterface=function(w,R){var V=R[fl]instanceof Array&&u3(R[fl],function(r0){return Ml[P7](r0)})||R[fl],le=new b(w,Oc(Oc({},R),{parsedStack:V}));return le},b}(),Ml=function(){function b(w,R){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var V=this;if(V[a5]=0,typeof w=="string"){var le=w;V[Y3]=R,V[Xc]=nx,V[Yc]=N1(le),V[j1]="",V[f5]=0;var r0=le.match(b.regex);r0&&r0[zr]>=5&&(V[Xc]=N1(r0[2])||V[Xc],V[j1]=N1(r0[4]),V[f5]=parseInt(r0[5])||0)}else V[Y3]=w[Y3],V[Xc]=w[Xc],V[Yc]=w[Yc],V[j1]=w[j1],V[f5]=w[f5],V[a5]=0;V.sizeInBytes+=V.method[zr],V.sizeInBytes+=V.fileName[zr],V.sizeInBytes+=V.assembly[zr],V[a5]+=b.baseSize,V.sizeInBytes+=V.level.toString()[zr],V.sizeInBytes+=V.line.toString()[zr]}return o(b,"_StackFrame"),b.CreateFromInterface=function(w){return new b(w,null)},b.prototype.toInterface=function(){var w=this;return{level:w[Y3],method:w[Xc],assembly:w[Yc],fileName:w[j1],line:w[f5]}},b.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,b.baseSize=58,b}(),H7=function(){function b(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(b,"DataPoint"),b}(),j7=function(){function b(w,R,V,le,r0,a0,m0,T0,L0){this.aiDataContract={ver:1,metrics:1,properties:0};var Q0=this;Q0.ver=2;var Hr=new H7;Hr[i5]=le>0?le:void 0,Hr.max=isNaN(a0)||a0===null?void 0:a0,Hr.min=isNaN(r0)||r0===null?void 0:r0,Hr[Ol]=da(w,R)||xf,Hr.value=V,Hr.stdDev=isNaN(m0)||m0===null?void 0:m0,Q0.metrics=[Hr],Q0[Ca]=z1(w,T0),Q0[i1]=G1(w,L0)}return o(b,"Metric"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",b.dataType="MetricData",b}(),r2="";function d9(b,w){return w===void 0&&(w=!1),b==null?w:b.toString()[Kc]()==="true"}o(d9,"stringToBoolOrDefault");function p5(b){(isNaN(b)||b<0)&&(b=0),b=Math.round(b);var w=r2+b%1e3,R=r2+Math.floor(b/1e3)%60,V=r2+Math.floor(b/(1e3*60))%60,le=r2+Math.floor(b/(1e3*60*60))%24,r0=Math.floor(b/(1e3*60*60*24));return w=w[zr]===1?"00"+w:w[zr]===2?"0"+w:w,R=R[zr]<2?"0"+R:R,V=V[zr]<2?"0"+V:V,le=le[zr]<2?"0"+le:le,(r0>0?r0+".":r2)+le+":"+V+":"+R+"."+w}o(p5,"msToTimeSpan");function V7(b,w){var R=null;return Ua(b,function(V){if(V.identifier===w)return R=V,-1}),R}o(V7,"getExtensionByName");function ix(b,w,R,V,le){return!le&&o0(b)&&(b==="Script error."||b==="Script error")}o(ix,"isCrossOriginError");var z7=function(){function b(w,R,V,le,r0,a0,m0){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var T0=this;T0.ver=2,T0.id=J6(w,m0),T0.url=Qd(w,V),T0[Ol]=da(w,R)||xf,isNaN(le)||(T0[V1]=p5(le)),T0[Ca]=z1(w,r0),T0[i1]=G1(w,a0)}return o(b,"PageView"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",b.dataType="PageviewData",b}(),sx=function(){function b(w,R,V,le,r0,a0,m0,T0,L0,Q0,Hr,Ur){L0===void 0&&(L0="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var jr=this;jr.ver=2,jr.id=R,jr[V1]=p5(r0),jr.success=a0,jr.resultCode=m0+"",jr.type=da(w,L0);var yr=Yv(w,V,T0,le);jr.data=Qd(w,le)||yr.data,jr.target=da(w,yr.target),Q0&&(jr.target="".concat(jr.target," | ").concat(Q0)),jr[Ol]=da(w,yr[Ol]),jr[Ca]=z1(w,Hr),jr[i1]=G1(w,Ur)}return o(b,"RemoteDependencyData"),b.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",b.dataType="RemoteDependencyData",b}(),G7=function(){function b(w,R,V,le,r0){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var a0=this;a0.ver=2,R=R||xf,a0[H1]=Y6(w,R),a0[Ca]=z1(w,le),a0[i1]=G1(w,r0),V&&(a0[W3]=V)}return o(b,"Trace"),b.envelopeType="Microsoft.ApplicationInsights.{0}.Message",b.dataType="MessageData",b}(),K7=function(){function b(w,R,V,le,r0,a0,m0){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var T0=this;T0.ver=2,T0.url=Qd(w,V),T0[Ol]=da(w,R)||xf,T0[Ca]=z1(w,r0),T0[i1]=G1(w,a0),m0&&(T0.domProcessing=m0.domProcessing,T0[V1]=m0[V1],T0.networkConnect=m0.networkConnect,T0.perfTotal=m0.perfTotal,T0[c5]=m0[c5],T0.sentRequest=m0.sentRequest)}return o(b,"PageViewPerformance"),b.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",b.dataType="PageviewPerformanceData",b}(),W7=function(){function b(w,R){this.aiDataContract={baseType:1,baseData:1},this.baseType=w,this.baseData=R}return o(b,"Data"),b}(),Y7=yd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),ox=function(){function b(){}return o(b,"ConfigurationManager"),b.getConfig=function(w,R,V,le){le===void 0&&(le=!1);var r0;return V&&w[Jd]&&w[Jd][V]&&!t0(w[Jd][V][R])?r0=w[Jd][V][R]:r0=w[R],t0(r0)?le:r0},b}();function o1(b){var w="ai."+b+".";return function(R){return w+R}}o(o1,"_aiNameFunc");var n2=o1("application"),Ys=o1("device"),Q1=o1("location"),y5=o1("operation"),ec=o1("session"),Cf=o1("user"),ef=o1("cloud"),i2=o1("internal"),s2=function(b){qu(w,b);function w(){return b.call(this)||this}return o(w,"ContextTagKeys"),w}(Dd({applicationVersion:n2("ver"),applicationBuild:n2("build"),applicationTypeId:n2("typeId"),applicationId:n2("applicationId"),applicationLayer:n2("layer"),deviceId:Ys("id"),deviceIp:Ys("ip"),deviceLanguage:Ys("language"),deviceLocale:Ys("locale"),deviceModel:Ys("model"),deviceFriendlyName:Ys("friendlyName"),deviceNetwork:Ys("network"),deviceNetworkName:Ys("networkName"),deviceOEMName:Ys("oemName"),deviceOS:Ys("os"),deviceOSVersion:Ys("osVersion"),deviceRoleInstance:Ys("roleInstance"),deviceRoleName:Ys("roleName"),deviceScreenResolution:Ys("screenResolution"),deviceType:Ys("type"),deviceMachineName:Ys("machineName"),deviceVMName:Ys("vmName"),deviceBrowser:Ys("browser"),deviceBrowserVersion:Ys("browserVersion"),locationIp:Q1("ip"),locationCountry:Q1("country"),locationProvince:Q1("province"),locationCity:Q1("city"),operationId:y5("id"),operationName:y5("name"),operationParentId:y5("parentId"),operationRootId:y5("rootId"),operationSyntheticSource:y5("syntheticSource"),operationCorrelationVector:y5("correlationVector"),sessionId:ec("id"),sessionIsFirst:ec("isFirst"),sessionIsNew:ec("isNew"),userAccountAcquisitionDate:Cf("accountAcquisitionDate"),userAccountId:Cf("accountId"),userAgent:Cf("userAgent"),userId:Cf("id"),userStoreRegion:Cf("storeRegion"),userAuthUserId:Cf("authUserId"),userAnonymousUserAcquisitionDate:Cf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Cf("authUserAcquisitionDate"),cloudName:ef("name"),cloudRole:ef("role"),cloudRoleVer:ef("roleVer"),cloudRoleInstance:ef("roleInstance"),cloudEnvironment:ef("environment"),cloudLocation:ef("location"),cloudDeploymentUnit:ef("deploymentUnit"),internalNodeName:i2("nodeName"),internalSdkVersion:i2("sdkVersion"),internalAgentVersion:i2("agentVersion"),internalSnippet:i2("snippet"),internalSdkSrc:i2("sdkSrc")}));function X7(b,w,R,V,le,r0){var a0;R=da(V,R)||xf,(t0(b)||t0(w)||t0(R))&&B0("Input doesn't contain all required fields");var m0="";b[t5]&&(m0=b[t5],delete b[t5]);var T0=(a0={},a0[Ol]=R,a0.time=ki(new Date),a0.iKey=m0,a0.ext=r0||{},a0.tags=[],a0.data={},a0.baseType=w,a0.baseData=b,a0);return t0(le)||X0(le,function(L0,Q0){T0.data[L0]=Q0}),T0}o(X7,"createTelemetryItem");var h9=function(){function b(){}return o(b,"TelemetryItemCreator"),b.create=X7,b}(),J7={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ax=new s2;function lx(b){var w=null;if(l0(Event))w=new Event(b);else{var R=Kf();R&&R.createEvent&&(w=R.createEvent("Event"),w.initEvent(b,!0,!0))}return w}o(lx,"createDomEvent");var fx="AppInsightsPropertiesPlugin",Z7="AppInsightsChannelPlugin",cx="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=cx,e.BreezeChannelIdentifier=Z7,e.ConfigurationManager=ox,e.ConnectionStringParser=ex,e.ContextTagKeys=s2,e.CtxTagKeys=ax,e.DEFAULT_BREEZE_ENDPOINT=r1,e.DEFAULT_BREEZE_PATH=Kd,e.Data=W7,e.DisabledPropertyName=V6,e.DistributedTracingModes=Q3,e.Envelope=tx,e.Event=rx,e.Exception=c9,e.Extensions=J7,e.HttpMethod=ll,e.Metric=j7,e.PageView=z7,e.PageViewPerformance=K7,e.ProcessLegacy=Gd,e.PropertiesPluginIdentifier=fx,e.RemoteDependencyData=sx,e.RequestHeaders=Wd,e.SampleRate=ba,e.SeverityLevel=Y7,e.TelemetryItemCreator=h9,e.ThrottleMgr=Qv,e.Trace=G7,e.correlationIdCanIncludeCorrelationHeader=J3,e.correlationIdGetCorrelationContext=Wv,e.correlationIdGetCorrelationContextValue=Z3,e.correlationIdGetPrefix=Kv,e.correlationIdSetPrefix=D7,e.createDistributedTraceContextFromTrace=r4,e.createDomEvent=lx,e.createTelemetryItem=X7,e.createTraceParent=zd,e.dataSanitizeException=X6,e.dataSanitizeId=J6,e.dataSanitizeInput=Z6,e.dataSanitizeKey=N7,e.dataSanitizeKeyAndAddUniqueness=W6,e.dataSanitizeMeasurements=G1,e.dataSanitizeMessage=Y6,e.dataSanitizeProperties=z1,e.dataSanitizeString=da,e.dataSanitizeUrl=Qd,e.dateTimeUtilsDuration=n9,e.dateTimeUtilsNow=t4,e.dsPadNumber=K1,e.findW3cTraceParent=j6,e.formatTraceParent=zv,e.getExtensionByName=V7,e.isBeaconApiSupported=qc,e.isCrossOriginError=ix,e.isInternalApplicationInsightsEndpoint=r9,e.isSampledFlag=Vv,e.isValidSpanId=H6,e.isValidTraceId=V3,e.isValidTraceParent=A7,e.msToTimeSpan=p5,e.parseConnectionString=q7,e.parseTraceParent=j3,e.strNotSpecified=xf,e.stringToBoolOrDefault=d9,e.urlGetAbsoluteUrl=e9,e.urlGetCompleteUrl=k7,e.urlGetPathName=W1,e.urlParseFullHost=e4,e.urlParseHost=B7,e.urlParseUrl=Jc,e.utlCanUseLocalStorage=n4,e.utlCanUseSessionStorage=d5,e.utlDisableStorage=u5,e.utlEnableStorage=Xv,e.utlGetLocalStorage=O7,e.utlGetSessionStorage=o4,e.utlGetSessionStorageKeys=s4,e.utlRemoveSessionStorage=Zv,e.utlRemoveStorage=bf,e.utlSetLocalStorage=i4,e.utlSetSessionStorage=Jv,e.utlSetStoragePrefix=F7})});var JN=v0((Sp,XN)=>{(function(e,t){typeof Sp=="object"&&typeof XN<"u"?t(Sp):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Sp,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",l="function",a="number",f="object",c="prototype",u="__proto__",d="string",h="undefined",p="constructor",m="Symbol",v="_polyfill",x="indexOf",E="length",I="done",A="value",L="name",D="slice",k=Object,$=k[c],ue=String,ce=ue[c],e0=Math,d0=Array,n0=d0[c];function _0(g,y){var _=y;try{_=g()}catch{}return _}o(_0,"safeGet");var je=[d,a,s,h,"symbol","bigint"];function we(g){return function(y){return typeof y===g}}o(we,"_createIs");function t0(g){var y="[object "+g+"]";return function(_){return!!(_&&h0(_)===y)}}o(t0,"_createObjIs");function h0(g){return $.toString.call(g)}o(h0,"objToString");function o0(g){return typeof g===h||g===h}o(o0,"isUndefined");function l0(g){return g===r||o0(g)}o(l0,"isNullOrUndefined");function s0(g){return g===r||!c0(g)}o(s0,"isStrictNullOrUndefined");function c0(g){return!!g||g!==t}o(c0,"isDefined");var _e=o(function(g){return g!==f&&je.indexOf(g)!==-1},"isPrimitiveType"),ve=we(d),g0=we(l);function N0(g){return!g&&l0(g)?!1:!!g&&typeof g===f}o(N0,"isObject");var R0=d0.isArray,A0=t0("Date"),X0=we(a),qe=we(s),B0=t0("Error");function Ve(g){return!!g&&g0(g.then)}o(Ve,"isPromiseLike");function U0(g){return!(!g||_0(function(){return!(g&&0+g)},!g))}o(U0,"isTruthy");var D0=k.getOwnPropertyDescriptor;function q0(g,y){return g&&$.hasOwnProperty.call(g,y)}o(q0,"objHasOwnProperty");var pr=k.hasOwn||Vr;function Vr(g,y){return q0(g,y)||!!D0(g,y)}o(Vr,"polyObjHasOwn");function Mt(g,y,_){if(g&&N0(g)){for(var S in g)if(pr(g,S)&&y.call(_||g,S,g[S])===-1)break}}o(Mt,"objForEachKey");function ae(g,y,_,S){var N={};return Mt(g,function(O,K){N[O]=y?K:O,N[K]=_?K:O}),S(N)}o(ae,"_createKeyValueMap");function vr(g){throw new Error(g)}o(vr,"throwError");function rn(g){throw new TypeError(g)}o(rn,"throwTypeError");var Ms=k.freeze,ol=o(function(g){return g},"_doNothing"),la=o(function(g){return g[u]||r},"_getProto"),Vf=k.assign;function fa(g){return(!N0(g)||g===r)&&rn("objKeys called on non-object"),k.keys(g)}o(fa,"objKeys");function al(g){return Ms&&Mt(g,function(y,_){(R0(_)||N0(_))&&Ms(_)}),zf(g)}o(al,"objDeepFreeze");var zf=Ms||ol,xs=k.getPrototypeOf||la;function _n(g){return ae(g,1,0,al)}o(_n,"createEnum");function Yl(g){return ae(g,0,0,al)}o(Yl,"createEnumKeyMap");function se(g){var y={};return Mt(g,function(_,S){y[_]=S[1],y[S[0]]=S[1]}),al(y)}o(se,"createSimpleMap");function Q(g){return se(g)}o(Q,"createTypeMap");var sn=Yl({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Cs=ue,Ic="__tsUtils$gblCfg",Bl;function df(){var g;return typeof globalThis!==h&&(g=globalThis),!g&&typeof self!==h&&(g=self),!g&&typeof window!==h&&(g=window),!g&&typeof global!==h&&(g=global),g}o(df,"_getGlobalValue");function cd(){if(!Bl){var g=df()||{};Bl=g[Ic]=g[Ic]||{}}return Bl}o(cd,"_getGlobalConfig");function gn(g,y){var _=n;if(B0(g))_="{ stack: '"+g.stack+"', message: '"+g.message+"', name: '"+g.name+"'";else try{_=JSON.stringify(g,r,y?X0(y)?y:4:t)}catch(S){_=" - "+gn(S,y)}return h0(g)+": "+_}o(gn,"dumpObj");var Bu=n0[D],wc=o(function(g,y){rn("'"+Cs(g)+"' not defined for "+gn(y))},"_throwMissingFunction"),ud=o(function(g){return function(y){return y[g].apply(y,Bu.call(arguments,1))}},"_unwrapInstFunction"),hf=o(function(g,y){var _=y&&y[g];return function(S){var N=S&&S[g]||_;if(N)return N.apply(S,Bu.call(arguments,1));wc(g,S)}},"_unwrapFunction"),o3=o(function(g,y,_){var S=y&&y[g];return function(N){var O=N&&N[g]||S;if(O||_){var K=arguments;return(O||_).apply(N,O?Bu.call(K,1):K)}wc(g,N)}},"_unwrapFunctionWithPoly");function Ac(g){return function(y){return y[g]}}o(Ac,"_unwrapProp");var f6=e0.max,E1=hf(D,ce),Oa=hf("substring",ce),Ps=o3("substr",ce,Du);function Du(g,y,_){return l0(g)&&rn("'polyStrSubstr called with invalid "+gn(g)),_<0?n:(y=y||0,y<0&&(y=f6(y+g[E],0)),o0(_)?E1(g,y):E1(g,y,y+_))}o(Du,"polyStrSubstr");function ca(g,y){return Oa(g,0,y)}o(ca,"strLeft");var xl="_urid",Pc;function T1(){if(!Pc){var g=cd();Pc=g.gblSym=g.gblSym||{k:{},s:{}}}return Pc}o(T1,"_globalSymbolRegistry");var Nc={};function Lu(g){var y={description:Cs(g),toString:function(){return m+"("+g+")"}};return y[v]=!0,y}o(Lu,"polyNewSymbol");function dd(g){var y=T1();if(!pr(y.k,g)){var _=Lu(g),S=fa(y.s).length;_[xl]=function(){return S+"_"+_.toString()},y.k[g]=_,y.s[_[xl]()]=Cs(g)}return y.k[g]}o(dd,"polySymbolFor");function a3(g){var y,_=sn[g];return _&&(y=Nc[_]=Nc[_]||Lu(m+"."+_)),y}o(a3,"polyGetKnownSymbol");var S1={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Gf(g){var y={};if(y[S1.c]=!0,y[S1.e]=!0,g.l){y.get=function(){return g.l.v};var _=D0(g.l,"v");_&&_.set&&(y.set=function(S){g.l.v=S})}return Mt(g,function(S,N){y[S1[S]]=o0(N)?y[S1[S]]:N}),y}o(Gf,"_createProp");var Kf=k.defineProperty;function va(g,y,_){return Kf(g,y,Gf(_))}o(va,"objDefine");var Ns,c6=o(function(){Ns=cd(),c6=r},"_fetchLazyTestHooks");function Rc(g){var y={};return c6&&c6(),y.b=Ns.lzy,Kf(y,"v",{configurable:!0,get:function(){var _=g();return Ns.lzy||(Kf(y,"v",{value:_}),y.b&&delete y.b),Ns.lzy&&y.b!==Ns.lzy&&(y.b=Ns.lzy),_}}),y}o(Rc,"getLazy");function Ma(g,y){return Rc(function(){return _0(g,y)})}o(Ma,"safeGetLazy");var l3="window",kc,Bc,f3,I1,c3,gf=o(function(g){return Ma(function(){return Us(g)||t},t)},"lazySafeGetInst"),Ua=o(function(g){return(!kc||g===!1||Ns&&Ns.lzy&&!kc.b)&&(kc=Ma(df,r)),kc.v},"getGlobal"),Us=o(function(g,y){var _=!kc||y===!1?Ua(y):kc.v;return _&&_[g]?_[g]:g===l3&&Bc?Bc.v:r},"getInst"),u3=o(function(){return!!w1()},"hasDocument"),w1=o(function(){return(!f3||Ns&&Ns.lzy&&!f3.b)&&(f3=gf("document")),f3.v},"getDocument"),Iv=o(function(){return!!A1()},"hasWindow"),A1=o(function(){return(!Bc||Ns&&Ns.lzy&&!Bc.b)&&(Bc=gf(l3)),Bc.v},"getWindow"),wv=o(function(){return!!P1()},"hasNavigator"),P1=o(function(){return(!I1||Ns&&Ns.lzy&&!I1.b)&&(I1=gf("navigator")),I1.v},"getNavigator"),Av=o(function(){return!c3&&(c3=Ma(function(){return!!(process&&(process.versions||{}).node)},!1)),c3.v},"isNode"),ua,d3,i7;function u6(g){return Ma(function(){return ua.v?ua.v[g]:t},t)}o(u6,"_getSymbolValue");function s7(){return!!hd()}o(s7,"hasSymbol");function hd(){var g=!ua||Ns&&Ns.lzy&&!ua.b;return g&&(ua=gf(m)),(!d3||g)&&(d3=u6("for")),(!i7||g)&&(i7=u6("keyFor")),ua.v}o(hd,"getSymbol");function gd(g,y){var _=sn[g];return(!ua||Ns.lzy&&!ua.b)&&hd(),ua.v?ua.v[_||g]:y?t:a3(g)}o(gd,"getKnownSymbol");function h3(g,y){return(!ua||Ns.lzy&&!ua.b)&&hd(),ua.v?ua.v(g):y?r:Lu(g)}o(h3,"newSymbol");function d6(g){return(!d3||Ns.lzy&&!ua.b)&&hd(),(d3.v||dd)(g)}o(d6,"symbolFor");function h6(g){return!!g&&g0(g.next)}o(h6,"isIterator");function N1(g){return!s0(g)&&g0(g[gd(3)])}o(N1,"isIterable");var Fu;function g6(g,y,_){if(g&&(h6(g)||(!Fu&&(Fu=Rc(function(){return gd(3)})),g=g[Fu.v]?g[Fu.v]():null),h6(g))){var S=void 0,N=void 0;try{for(var O=0;!(N=g.next())[I]&&y.call(_||g,N[A],O,g)!==-1;)O++}catch(K){S={e:K},g.throw&&(N=null,g.throw(S))}finally{try{N&&!N[I]&&g.return&&g.return(N)}finally{if(S)throw S.e}}}}o(g6,"iterForOf");var R1=ud("apply");function Xl(g,y){return!o0(y)&&g&&(R0(y)?R1(g.push,g,y):h6(y)||N1(y)?g6(y,function(_){g.push(_)}):g.push(y)),g}o(Xl,"arrAppend");function Br(g,y,_){if(g)for(var S=g[E]>>>0,N=0;N<S&&!(N in g&&y.call(_||g,g[N],N,g)===-1);N++);}o(Br,"arrForEach");var Dl=hf(x,n0),g3=hf("map",n0),k1=hf(D,n0),Dc=ud("call"),md=hf("reduce",n0),m6=k.create,pd=m6||o7;function o7(g){if(!g)return{};var y=typeof g;if(y!==f&&y!==l)throw new TypeError("Prototype must be an Object or function: "+gn(g));function _(){}return o(_,"tempFunc"),_[c]=g,new _}o(o7,"polyObjCreate");var p6;function a7(g,y){var _=k.setPrototypeOf||function(S,N){!p6&&(p6=Rc(function(){var O;return O={},O[u]=[],O instanceof Array})),p6.v?S[u]=N:Mt(N,function(O,K){return S[O]=K})};return _(g,y)}o(a7,"objSetPrototypeOf");var Pv=o(function(g,y,_){l7(y,g),y=a7(y,_);function S(){this.constructor=y,l7(this,g)}return o(S,"__"),y[c]=_===r?pd(_):(S[c]=_[c],new S),y},"_createCustomError"),yd=o(function(g,y){try{y&&(g[L]=y)}catch{}},"_safeSetName"),l7=o(function(g,y){try{va(g,L,{v:y,c:!0,e:!1})}catch{}},"_safeDefineName");function vd(g,y,_){var S=_||Error,N=S[c][L],O=Error.captureStackTrace;return Pv(g,function(){var K=this;try{yd(S,g);var oe=R1(S,K,k1(arguments))||K;if(oe!==K){var de=xs(K);de!==xs(oe)&&a7(oe,de)}return O&&O(oe,K[p]),y&&y(oe,arguments),oe}finally{yd(S,N)}},S)}o(vd,"createCustomError");function Wf(){return(Date.now||xa)()}o(Wf,"utcNow");function xa(){return new Date().getTime()}o(xa,"polyUtcNow");function xd(g){return o(function(_){return l0(_)&&rn("strTrim called ["+gn(_)+"]"),_&&_.replace&&(_=_.replace(g,n)),_},"_doTrim")}o(xd,"_createTrimFn");var y6=xd(/^\s+|(?=\s)\s+$/g),qa=o3("trim",ce,y6),Lc,m3,p3;function Ws(g){if(!g||typeof g!==f)return!1;p3||(p3=Iv()?A1():!0);var y=!1;if(g!==p3){m3||(Lc=Function[c].toString,m3=Dc(Lc,k));try{var _=xs(g);y=!_,y||(q0(_,p)&&(_=_[p]),y=_&&typeof _===l&&Lc.call(_)===m3)}catch{}}return y}o(Ws,"isPlainObject");var Nv=o(function(g){return g.value&&Ou(g),!0},"_defaultDeepCopyHandler"),B1=[x6,Ou,_6,Bv];function Rv(g,y,_,S){var N;return Br(g,function(O){if(O.k===y)return N=O,-1}),N||(N={k:y,v:y},g.push(N),S(N)),N.v}o(Rv,"_getSetVisited");function _d(g,y,_,S){var N=_.handler,O=_.path?S?_.path.concat(S):_.path:[],K={handler:_.handler,src:_.src,path:O},oe=typeof y,de=!1,Ie=!1;y&&oe===f?de=Ws(y):Ie=y===r||_e(oe);var Ze={type:oe,isPrim:Ie,isPlain:de,value:y,result:y,path:O,origin:_.src,copy:function(b0,E0){return _d(g,b0,E0?K:_,E0)},copyTo:function(b0,E0){return f7(g,b0,E0,K)}};return Ze.isPrim?N&&Dc(N,_,Ze)?Ze.result:y:Rv(g,y,O,function(b0){va(Ze,"result",{g:function(){return b0.v},s:function(f0){b0.v=f0}});for(var E0=0,x0=N;!Dc(x0||(E0<B1.length?B1[E0++]:Nv),_,Ze);)x0=r})}o(_d,"_deepCopy");function f7(g,y,_,S){if(!l0(_))for(var N in _)y[N]=_d(g,_[N],S,N);return y}o(f7,"_copyProps");function v6(g,y,_){var S={handler:_,src:y,path:[]};return f7([],g,y,S)}o(v6,"objCopyProps");function kv(g,y){var _={handler:y,src:g};return _d([],g,_)}o(kv,"objDeepCopy");function x6(g){var y=g.value;if(R0(y)){var _=g.result=[];return _.length=y.length,g.copyTo(_,y),!0}return!1}o(x6,"arrayDeepCopyHandler");function Bv(g){var y=g.value;return A0(y)?(g.result=new Date(y.getTime()),!0):!1}o(Bv,"dateDeepCopyHandler");function _6(g){return g.type===l}o(_6,"functionDeepCopyHandler");function Ou(g){var y=g.value;if(y&&g.isPlain){var _=g.result={};return g.copyTo(_,y),!0}return!1}o(Ou,"plainObjDeepCopyHandler");function c7(g,y){return Br(y,function(_){v6(g,_)}),g}o(c7,"_doExtend");function b6(g,y,_,S,N,O,K){return c7(kv(g)||{},k1(arguments))}o(b6,"deepExtend");var Dv=Ac(E),y3=o3("endsWith",ce,Lv);function Lv(g,y,_){ve(g)||rn("'"+gn(g)+"' is not a string");var S=ve(y)?y:Cs(y),N=S[E],O=g[E],K=!o0(_)&&_<O?_:O;return Oa(g,K-N,K)===S}o(Lv,"polyStrEndsWith");var Mu=hf(x,ce),v3="ref",Uu="un"+v3,x3="hasRef",u7="enabled";function Fv(g,y,_){var S,N=!0,O=g?y(r):r,K,oe=o(function(){return N=!1,O&&O[Uu]&&O[Uu](),K},"_unref"),de=o(function(){return N=!0,O&&O[v3]&&O[v3](),K},"_ref"),Ie=o(function(){return O&&O[x3]?O[x3]():N},"_hasRef"),Ze=o(function(){return O=y(O),N||oe(),K},"_refresh"),b0=o(function(){O&&_(O),O=r},"_cancel"),E0=o(function(x0){!x0&&O&&b0(),x0&&!O&&Ze()},"_setEnabled");return K=(S={cancel:b0,refresh:Ze},S[x3]=Ie,S[v3]=de,S[Uu]=oe,S[u7]=!1,S),Kf(K,u7,{get:function(){return!!O},set:E0}),{h:K,dn:function(){O=r}}}o(Fv,"_createTimerHandler");function d7(g,y,_,S){var N=R0(_),O=N?_.length:0,K=(O>0?_[0]:N?t:_)||setTimeout,oe=(O>1?_[1]:t)||clearTimeout,de=S[0];S[0]=function(){Ie.dn(),R1(de,g,k1(arguments))};var Ie=Fv(y,function(Ze){if(Ze){if(Ze.refresh)return Ze.refresh(),Ze;R1(oe,g,[Ze])}return R1(K,g,S)},function(Ze){R1(oe,g,[Ze])});return Ie.h}o(d7,"_createTimeoutWith");function Fc(g,y){return d7(this,!0,t,k1(arguments))}o(Fc,"scheduleTimeout");function bd(g,y){return d7(this,!1,t,k1(arguments))}o(bd,"createTimeout");var _3,Cd="constructor",Yf="prototype",Ed="function",Oc="_dynInstFuncs",b3="_isDynProxy",qu="_dynClass",Td="_dynCls$",$u="_dynInstChk",Ll=$u,C3="_dfOpts",E3="_unknown_",Sd="__proto__",Xf="_dyn"+Sd,h7="__dynProto$Gbl",T3="_dynInstProto",D1="useBaseInst",Id="setInstFuncs",wd=Object,Hu=wd.getPrototypeOf,S3=wd.getOwnPropertyNames,C6=Ua(),I3=C6[h7]||(C6[h7]={o:(_3={},_3[Id]=!0,_3[D1]=!0,_3),n:1e3});function w3(g){return g&&(g===wd[Yf]||g===Array[Yf])}o(w3,"_isObjectOrArrayPrototype");function A3(g){return w3(g)||g===Function[Yf]}o(A3,"_isObjectArrayOrFunctionPrototype");function Jf(g){var y;if(g){if(Hu)return Hu(g);var _=g[Sd]||g[Yf]||(g[Cd]?g[Cd][Yf]:null);y=g[Xf]||_,q0(g,Xf)||(delete g[T3],y=g[Xf]=g[T3]||g[Xf],g[T3]=_)}return y}o(Jf,"_getObjProto");function L1(g,y){var _=[];if(S3)_=S3(g);else for(var S in g)typeof S=="string"&&q0(g,S)&&_.push(S);if(_&&_.length>0)for(var N=0;N<_.length;N++)y(_[N])}o(L1,"_forEachProp");function Ad(g,y,_){return y!==Cd&&typeof g[y]===Ed&&(_||q0(g,y))}o(Ad,"_isDynamicCandidate");function P3(g){rn("DynamicProto: "+g)}o(P3,"_throwTypeError");function E6(g){var y={};return L1(g,function(_){!y[_]&&Ad(g,_,!1)&&(y[_]=g[_])}),y}o(E6,"_getInstanceFuncs");function Pd(g,y){for(var _=g.length-1;_>=0;_--)if(g[_]===y)return!0;return!1}o(Pd,"_hasVisited");function T6(g,y,_,S){function N(de,Ie,Ze){var b0=Ie[Ze];if(b0[b3]&&S){var E0=de[Oc]||{};E0[Ll]!==!1&&(b0=(E0[Ie[qu]]||{})[Ze]||b0)}return function(){return b0.apply(de,arguments)}}o(N,"_instFuncProxy");var O={};L1(_,function(de){O[de]=N(y,_,de)});for(var K=Jf(g),oe=[];K&&!A3(K)&&!Pd(oe,K);)L1(K,function(de){!O[de]&&Ad(K,de,!Hu)&&(O[de]=N(y,K,de))}),oe.push(K),K=Jf(K);return O}o(T6,"_getBaseFuncs");function Mc(g,y,_,S){var N=null;if(g&&q0(_,qu)){var O=g[Oc]||{};if(N=(O[_[qu]]||{})[y],N||P3("Missing ["+y+"] "+Ed),!N[$u]&&O[Ll]!==!1){for(var K=!q0(g,y),oe=Jf(g),de=[];K&&oe&&!A3(oe)&&!Pd(de,oe);){var Ie=oe[y];if(Ie){K=Ie===S;break}de.push(oe),oe=Jf(oe)}try{K&&(g[y]=N),N[$u]=1}catch{O[Ll]=!1}}}return N}o(Mc,"_getInstFunc");function Nd(g,y,_){var S=y[g];return S===_&&(S=Jf(y)[g]),typeof S!==Ed&&P3("["+g+"] is not a "+Ed),S}o(Nd,"_getProtoFunc");function S6(g,y,_,S,N){function O(de,Ie){var Ze=o(function(){var b0=Mc(this,Ie,de,Ze)||Nd(Ie,de,Ze);return b0.apply(this,arguments)},"dynProtoProxy");return Ze[b3]=1,Ze}if(o(O,"_createDynamicPrototype"),!w3(g)){var K=_[Oc]=_[Oc]||{},oe=K[y]=K[y]||{};K[Ll]!==!1&&(K[Ll]=!!N),L1(_,function(de){Ad(_,de,!1)&&_[de]!==S[de]&&(oe[de]=_[de],delete _[de],(!q0(g,de)||g[de]&&!g[de][b3])&&(g[de]=O(g,de)))})}}o(S6,"_populatePrototype");function Rd(g,y){if(Hu){for(var _=[],S=Jf(y);S&&!A3(S)&&!Pd(_,S);){if(S===g)return!0;_.push(S),S=Jf(S)}return!1}return!0}o(Rd,"_checkPrototype");function I6(g,y){return q0(g,Yf)?g.name||y||E3:((g||{})[Cd]||{}).name||y||E3}o(I6,"_getObjName");function _a(g,y,_,S){q0(g,Yf)||P3("theClass is an invalid class definition.");var N=g[Yf];Rd(N,y)||P3("["+I6(g)+"] not in hierarchy of ["+I6(y)+"]");var O=null;q0(N,qu)?O=N[qu]:(O=Td+I6(g,"_")+"$"+I3.n,I3.n++,N[qu]=O);var K=_a[C3],oe=!!K[D1];oe&&S&&S[D1]!==void 0&&(oe=!!S[D1]);var de=E6(y),Ie=T6(N,y,de,oe);_(y,Ie);var Ze=!!Hu&&!!K[Id];Ze&&S&&(Ze=!!S[Id]),S6(N,O,y,de,Ze!==!1)}o(_a,"dynamicProto"),_a[C3]=I3.o;var Ov="function",g7="object",m7="undefined",N3="prototype",w6=Object,A6=w6[N3];(Ua()||{}).Symbol,(Ua()||{}).Reflect;var kd="hasOwnProperty",Mv=o(function(g){for(var y,_=1,S=arguments.length;_<S;_++){y=arguments[_];for(var N in y)A6[kd].call(y,N)&&(g[N]=y[N])}return g},"__objAssignFnImpl"),qs=Vf||Mv,P6=o(function(g,y){return P6=w6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var N in S)S[kd](N)&&(_[N]=S[N])},P6(g,y)},"extendStaticsFn");function R3(g,y){typeof y!==Ov&&y!==null&&rn("Class extends value "+String(y)+" is not a constructor or null"),P6(g,y);function _(){this.constructor=g}o(_,"__"),g[N3]=y===null?pd(y):(_[N3]=y[N3],new _)}o(R3,"__extendsFn");function p7(g,y){for(var _=0,S=y.length,N=g.length;_<S;_++,N++)g[N]=y[_];return g}o(p7,"__spreadArrayFn");var N6=_n,R6=Q,Bd="toLowerCase",k3="blkVal",ki="length",Zf="rdOnly",Dd="notify",Ld="warnToConsole",ju="throwInternal",Vu="setDf",Qf="watch",$s="logger",Fd="apply",Xi="push",Uc="splice",Od="hdlr",B3="cancel",zu="initialize",e1="identifier",mf="isInitialized",D3="getPlugin",y7="pollInternalLogs",qc="name",$c="time",Ha="processNext",v7="getProcessTelContext",Gu="getNotifyMgr",Jl="addNotificationListener",L3="removeNotificationListener",Hc="enabled",k6="stopPollingInternalLogs",Fl="unload",F1="onComplete",x7="version",_7="loggingLevelConsole",jc="createNew",_l="teardown",Md="messageId",Ku="message",Wu="isAsync",t1="diagLog",B6="_doTeardown",F3="update",bl="getNext",Yu="setNextPlugin",O3="userAgent",Xu="split",pf="nodeType",Vc="replace",Uv="logInternalMessage",yf="type",D6="handler",L6="isChildEvt",O1="getCtx",Zl="setCtx",F6="complete",Ju="traceId",b7="spanId",M3="traceFlags",O6;function Ud(g,y){O6||(O6=vd("AggregationError",function(S,N){N[ki]>1&&(S.errors=N[1])}));var _=g||"One or more errors occurred.";throw Br(y,function(S,N){_+=`
`.concat(N," > ").concat(gn(S))}),new O6(_,y||[])}o(Ud,"throwAggregationError");function Zu(g,y){return U3(g,function(_){y&&y({value:_,rejected:!1})},function(_){y&&y({rejected:!0,reason:_})})}o(Zu,"doAwaitResponse");function U3(g,y,_,S){var N=g;return Ve(g)?(y||_)&&(N=g.then(y,_)):y&&y(g),S&&(N=q3(N,S)),N}o(U3,"doAwait");function q3(g,y){var _=g;return y&&(Ve(g)?g.finally?_=g.finally(y):_=g.then(function(S){return y(),S},function(S){throw y(),S}):y()),_}o(q3,"doFinally");var Qu=["pending","resolving","resolved","rejected"],C7="dispatchEvent",qd;function qv(g,y,_,S){var N=w1();!qd&&(qd=Ma(function(){var de;return N&&N.createEvent&&(de=N.createEvent("Event")),!!de&&de.initEvent},null));var O=qd.v?N.createEvent("Event"):S?new Event(y):{};if(_&&_(O),qd.v&&O.initEvent(y,!1,!0),O&&g[C7])g[C7](O);else{var K=g["on"+y];if(K)K(O);else{var oe=Us("console");oe&&(oe.error||oe.log)(y,gn(O))}}}o(qv,"emitEvent");var $d="Promise",M6="unhandledRejection",E7=M6.toLowerCase(),Hd=10,U6;function T7(g){return g0(g)?g.toString():gn(g)}o(T7,"dumpFnObj");function e5(g,y,_){var S=k1(arguments,3),N=0,O=!1,K,oe=[],de=!1,Ie=null,Ze;!U6&&(U6=gf($d+"RejectionEvent"));var b0=o(function(H0,Yt){try{de=!0,Ie&&Ie.cancel(),Ie=null;var Zr=g(function(Ki,Fs){oe.push(function(){try{var Ss=N===2?H0:Yt,Sa=o0(Ss)?K:g0(Ss)?Ss(K):Ss;Ve(Sa)?Sa.then(Ki,Fs):Ss?Ki(Sa):N===3?Fs(Sa):Ki(Sa)}catch(ea){Fs(ea)}}),O&&$0()},S);return Zr}finally{}},"_then"),E0=o(function(H0){return b0(void 0,H0)},"_catch"),x0=o(function(H0){var Yt=H0,Zr=H0;return g0(H0)&&(Yt=o(function(Ki){return H0&&H0(),Ki},"thenFinally"),Zr=o(function(Ki){throw H0&&H0(),Ki},"catchFinally")),b0(Yt,Zr)},"_finally"),f0=o(function(){return Qu[N]},"_strState"),$0=o(function(){if(oe.length>0){var H0=oe.slice();oe=[],de=!0,y(H0),Ie&&Ie.cancel(),Ie=null}},"_processQueue"),I0=o(function(H0,Yt){return function(Zr){if(N===Yt){if(H0===2&&Ve(Zr)){N=1,Zr.then(I0(2,1),I0(3,1));return}N=H0,O=!0,K=Zr,$0(),!de&&H0===3&&!Ie&&(Ie=Fc(V0,Hd))}}},"_createSettleIfFn"),V0=o(function(){if(!de)if(Av())process.emit(M6,K,Ze);else{var H0=A1()||Ua();qv(H0,E7,function(Yt){return va(Yt,"promise",{g:function(){return Ze}}),Yt.reason=K,Yt},!!U6.v)}},"_notifyUnhandledRejection");Ze={then:b0,catch:E0,finally:x0},Kf(Ze,"state",{get:f0}),s7()&&(Ze[gd(11)]="IPromise");var k0=o(function(){return"IPromise "+f0()+(O?" - "+T7(K):"")},"_toString");return Ze.toString=k0,o(function(){g0(_)||rn($d+": executor is not a function - "+T7(_));var Yt=I0(3,0);try{_.call(Ze,I0(2,0),Yt)}catch(Zr){Yt(Zr)}},"_initialize")(),Ze}o(e5,"_createPromise");function S7(g){return function(y){var _=k1(arguments,1);return g(function(S,N){try{var O=[],K=1;Br(y,function(oe,de){oe&&(K++,U3(oe,function(Ie){O[de]=Ie,--K===0&&S(O)},N))}),K--,K===0&&S(O)}catch(oe){N(oe)}},_)}}o(S7,"_createAllPromise");var $v=o(function(g){Br(g,function(y){try{y()}catch{}})},"_processPendingItems");function Hv(g){var y=X0(g)?g:0;return function(_){Fc(function(){$v(_)},y)}}o(Hv,"timeoutItemProcessor");function I7(g,y){return e5(I7,Hv(y),g,y)}o(I7,"createAsyncPromise");var q6;function jv(g,y){!q6&&(q6=gf($d));var _=q6.v;if(!_)return I7(g);g0(g)||rn($d+": executor is not a function - "+gn(g));var S=0;function N(){return Qu[S]}o(N,"_strState");var O=new _(function(K,oe){function de(Ze){S=2,K(Ze)}o(de,"_resolve");function Ie(Ze){S=3,oe(Ze)}o(Ie,"_reject"),g(de,Ie)});return Kf(O,"state",{get:N}),O}o(jv,"createNativePromise");var jd;function M1(g,y){return!jd&&(jd=Rc(function(){return jv})),jd.v.call(this,g,y)}o(M1,"createPromise");var w7=S7(M1),vf=void 0,Ci="",zc="channels",ji="core",Vd="createPerfMgr",$6="disabled",U1="extensionConfig",q1="extensions",Cl="processTelemetry",Gc="priority",$3="eventsSent",El="eventsDiscarded",H3="eventsSendRequest",$1="perfEvent",zd="getPerfMgr",j3="domain",V3="path",H6="Not dynamic - ",A7=/-([a-z])/g,Vv=/([^\w\d_$])/g,zv=/^(\d+[\w\d_$])/;function j6(g){return!l0(g)}o(j6,"isNotNullOrUndefined");function V6(g){var y=g;return y&&ve(y)&&(y=y[Vc](A7,function(_,S){return S.toUpperCase()}),y=y[Vc](Vv,"_"),y=y[Vc](zv,function(_,S){return"_"+S})),y}o(V6,"normalizeJsName");function ba(g,y){return g&&y?Mu(g,y)!==-1:!1}o(ba,"strContains");function Gd(g){return g&&g.toISOString()||""}o(Gd,"toISOString");function ll(g){return B0(g)?g[qc]:Ci}o(ll,"getExceptionName");function r1(g,y,_,S,N){var O=_;return g&&(O=g[y],O!==_&&(!N||N(O))&&(!S||S(_))&&(O=_,g[y]=O)),O}o(r1,"setValue");function Kd(g,y,_){var S;return g?(S=g[y],!S&&l0(S)&&(S=o0(_)?{}:_,g[y]=S)):S=o0(_)?{}:_,S}o(Kd,"getSetValue");function xf(g,y){var _=null,S=null;return g0(g)?_=g:S=g,function(){var N=arguments;if(_&&(S=_()),S)return S[y][Fd](S,N)}}o(xf,"_createProxyFunction");function t5(g,y,_,S,N){g&&y&&_&&(N!==!1||o0(g[y]))&&(g[y]=xf(_,S))}o(t5,"proxyFunctionAs");function Wd(g,y,_,S){return g&&y&&N0(g)&&R0(_)&&Br(_,function(N){ve(N)&&t5(g,N,y,N,S)}),g}o(Wd,"proxyFunctions");function r5(g){return function(){function y(){var _=this;g&&Mt(g,function(S,N){_[S]=N})}return o(y,"class_1"),y}()}o(r5,"createClassFromInterface");function zr(g){return g&&Vf&&(g=w6(Vf({},g))),g}o(zr,"optimizeObject");function Kc(g,y,_,S,N,O){var K=arguments,oe=K[0]||{},de=K[ki],Ie=!1,Ze=1;for(de>0&&qe(oe)&&(Ie=oe,oe=K[Ze]||{},Ze++),N0(oe)||(oe={});Ze<de;Ze++){var b0=K[Ze],E0=R0(b0),x0=N0(b0);for(var f0 in b0){var $0=E0&&f0 in b0||x0&&pr(b0,f0);if($0){var I0=b0[f0],V0=void 0;if(Ie&&I0&&((V0=R0(I0))||Ws(I0))){var k0=oe[f0];V0?R0(k0)||(k0=[]):Ws(k0)||(k0={}),I0=Kc(Ie,k0,I0)}I0!==void 0&&(oe[f0]=I0)}}}return oe}o(Kc,"objExtend");var Wc="documentMode",n5="location",z6="console",Ol="JSON",H1="crypto",i5="msCrypto",z3="msie",G3="trident/",Yd="XMLHttpRequest",Xd=null,K3=null,G6=!1,n1=null,s5=null;function K6(g,y){var _=!1;if(g){try{if(_=y in g,!_){var S=g[N3];S&&(_=y in S)}}catch{}if(!_)try{var N=new g;_=!o0(N[y])}catch{}}return _}o(K6,"_hasProperty");function Jd(g){if(g&&G6){var y=Us("__mockLocation");if(y)return y}return typeof location===g7&&location?location:Us(n5)}o(Jd,"getLocation");function o5(){return typeof console!==m7?console:Us(z6)}o(o5,"getConsole");function fl(){return!!(typeof JSON===g7&&JSON||Us(Ol)!==null)}o(fl,"hasJSON");function Ca(){return fl()?JSON||Us(Ol):null}o(Ca,"getJSON");function i1(){return Us(H1)}o(i1,"getCrypto");function a5(){return Us(i5)}o(a5,"getMsCrypto");function Ql(){var g=P1();if(g&&(g[O3]!==K3||Xd===null)){K3=g[O3];var y=(K3||Ci)[Bd]();Xd=ba(y,z3)||ba(y,G3)}return Xd}o(Ql,"isIE");function W3(g){if(g===void 0&&(g=null),!g){var y=P1()||{};g=y?(y.userAgent||Ci)[Bd]():Ci}var _=(g||Ci)[Bd]();if(ba(_,z3)){var S=w1()||{};return Math.max(parseInt(_[Xu](z3)[1]),S[Wc]||0)}else if(ba(_,G3)){var N=parseInt(_[Xu](G3)[1]);if(N)return N+4}return null}o(W3,"getIEVersion");function l5(g){return(s5===null||g===!1)&&(s5=wv()&&!!P1().sendBeacon),s5}o(l5,"isBeaconsSupported");function Zd(g){var y=!1;try{y=!!Us("fetch");var _=Us("Request");y&&g&&_&&(y=K6(_,"keepalive"))}catch{}return y}o(Zd,"isFetchSupported");function P7(){return n1===null&&(n1=typeof XDomainRequest!==m7,n1&&Yc()&&(n1=n1&&!K6(Us(Yd),"withCredentials"))),n1}o(P7,"useXDomainRequest");function Yc(){var g=!1;try{var y=Us(Yd);g=!!y}catch{}return g}o(Yc,"isXhrSupported");var j1=4294967296,_f=4294967295,Y3=123456789,Xc=987654321,f5=!1,V1=Y3,c5=Xc;function W6(g){g<0&&(g>>>=0),V1=Y3+g&_f,c5=Xc-g&_f,f5=!0}o(W6,"_mwcSeed");function N7(){try{var g=Wf()&2147483647;W6((Math.random()*j1^g)+g)}catch{}}o(N7,"_autoSeedMwc");function da(g){var y=0,_=i1()||a5();return _&&_.getRandomValues&&(y=_.getRandomValues(new Uint32Array(1))[0]&_f),y===0&&Ql()&&(f5||N7(),y=Qd()&_f),y===0&&(y=Math.floor(j1*Math.random()|0)),g||(y>>>=0),y}o(da,"random32");function Qd(g){c5=36969*(c5&65535)+(c5>>16)&_f,V1=18e3*(V1&65535)+(V1>>16)&_f;var y=(c5<<16)+(V1&65535)>>>0&_f|0;return g||(y>>>=0),y}o(Qd,"mwcRandom32");function Y6(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=da()>>>0,S=0,N=Ci;N[ki]<g;)S++,N+=y.charAt(_&63),_>>>=6,S===5&&(_=(da()<<2&4294967295|_&3)>>>0,S=0);return N}o(Y6,"newId");var X6="3.0.7",z1="."+Y6(6),G1=0;function J6(g){return g[pf]===1||g[pf]===9||!+g[pf]}o(J6,"_canAcceptData");function Z6(g,y){var _=y[g.id];if(!_){_={};try{J6(y)&&va(y,g.id,{e:!1,v:_})}catch{}}return _}o(Z6,"_getCache");function K1(g,y){return y===void 0&&(y=!1),V6(g+G1+++(y?"."+X6:Ci)+z1)}o(K1,"createUniqueNamespace");function Q6(g){var y={id:K1("_aiData-"+(g||Ci)+"."+X6),accept:function(_){return J6(_)},get:function(_,S,N,O){var K=_[y.id];return K?K[V6(S)]:(O&&(K=Z6(y,_),K[V6(S)]=N),N)},kill:function(_,S){if(_&&_[S])try{delete _[S]}catch{}}};return y}o(Q6,"createElmNodeData");function X3(g){return g&&N0(g)&&(g.isVal||g.fb||pr(g,"v")||pr(g,"mrg")||pr(g,"ref")||g.set)}o(X3,"_isConfigDefaults");function R7(g,y,_){var S,N=_.dfVal||c0;if(y&&_.fb){var O=_.fb;R0(O)||(O=[O]);for(var K=0;K<O[ki];K++){var oe=O[K],de=y[oe];if(N(de)?S=de:g&&(de=g.cfg[oe],N(de)&&(S=de),g.set(g.cfg,Cs(oe),de)),N(S))break}}return!N(S)&&N(_.v)&&(S=_.v),S}o(R7,"_getDefault");function Jc(g,y,_){var S=_;if(_&&X3(_)&&(S=R7(g,y,_)),S){X3(S)&&(S=Jc(g,y,S));var N;R0(S)?(N=[],N[ki]=S[ki]):Ws(S)&&(N={}),N&&(Mt(S,function(O,K){K&&X3(K)&&(K=Jc(g,y,K)),N[O]=K}),S=N)}return S}o(Jc,"_resolveDefaultValue");function e9(g,y,_,S){var N,O,K,oe=S,de,Ie,Ze,b0;X3(oe)?(N=oe.isVal,O=oe.set,Ze=oe[Zf],b0=oe[k3],de=oe.mrg,Ie=oe.ref,!Ie&&o0(Ie)&&(Ie=!!de),K=R7(g,y,oe)):K=S,b0&&g[k3](y,_);var E0,x0=!0,f0=y[_];(f0||!l0(f0))&&(E0=f0,x0=!1,N&&E0!==K&&!N(E0)&&(E0=K,x0=!0),O&&(E0=O(E0,K,y),x0=E0===K)),x0?K?E0=Jc(g,y,K):E0=K:(Ws(E0)||R0(K))&&de&&K&&(Ws(K)||R0(K))&&Mt(K,function($0,I0){e9(g,E0,$0,I0)}),g.set(y,_,E0),Ie&&g.ref(y,_),Ze&&g[Zf](y,_)}o(e9,"_applyDefaultValue");var W1=d6("[[ai_dynCfg_1]]"),k7=d6("[[ai_blkDynCfg_1]]"),B7=d6("[[ai_frcDynCfg_1]]");function e4(g){if(g){var y;if(R0(g)?(y=[],y[ki]=g[ki]):Ws(g)&&(y={}),y)return Mt(g,function(_,S){y[_]=e4(S)}),y}return g}o(e4,"_cfgDeepCopy");function Gv(g){if(g){var y=g[W1]||g;if(y.cfg&&(y.cfg===g||y.cfg[W1]===y))return y}return null}o(Gv,"getDynamicConfigHandler");function t9(g){if(g&&(Ws(g)||R0(g)))try{g[k7]=!0}catch{}return g}o(t9,"blockDynamicConversion");function r9(g,y,_){var S=!1;return _&&!g[y.blkVal]&&(S=_[B7],!S&&!_[k7]&&(S=Ws(_)||R0(_))),S}o(r9,"_canMakeDynamic");function D7(g){rn("InvalidAccess:"+g)}o(D7,"throwInvalidAccess");var Kv=["push","pop","shift","unshift","splice"],J3=o(function(g,y,_,S){g&&g[ju](3,108,"".concat(_," [").concat(y,"] failed - ")+gn(S))},"_throwDynamicError");function Wv(g,y,_){R0(y)&&Br(Kv,function(S){var N=y[S];y[S]=function(){for(var O=[],K=0;K<arguments.length;K++)O[K]=arguments[K];var oe=N[Fd](this,O);return r4(g,y,_,"Patching"),oe}})}o(Wv,"_patchArray");function Z3(g,y){var _=D0(g,y);return _&&_.get}o(Z3,"_getOwnPropGetter");function Yv(g,y,_,S){var N={n:_,h:[],trk:function(Ie){Ie&&Ie.fn&&(Dl(N.h,Ie)===-1&&N.h[Xi](Ie),g.trk(Ie,N))},clr:function(Ie){var Ze=Dl(N.h,Ie);Ze!==-1&&N.h[Uc](Ze,1)}},O=!0,K=!1;function oe(){O&&(K=K||r9(oe,g,S),S&&!S[W1]&&K&&(S=r4(g,S,_,"Converting")),O=!1);var Ie=g.act;return Ie&&N.trk(Ie),S}o(oe,"_getProperty"),oe[g.prop]={chng:function(){g.add(N)}};function de(Ie){if(S!==Ie){oe[g.ro]&&!g.upd&&D7("["+_+"] is read-only:"+gn(y)),O&&(K=K||r9(oe,g,S),O=!1);var Ze=K&&oe[g.rf];if(K)if(Ze){Mt(S,function(E0){S[E0]=Ie?Ie[E0]:vf});try{Mt(Ie,function(E0,x0){t4(g,S,E0,x0)}),Ie=S}catch(E0){J3((g.hdlr||{})[$s],_,"Assigning",E0),K=!1}}else S&&S[W1]&&Mt(S,function(E0){var x0=Z3(S,E0);if(x0){var f0=x0[g.prop];f0&&f0.chng()}});if(Ie!==S){var b0=Ie&&r9(oe,g,Ie);!Ze&&b0&&(Ie=r4(g,Ie,_,"Converting")),S=Ie,K=b0}g.add(N)}}o(de,"_setProperty"),va(y,N.n,{g:oe,s:de})}o(Yv,"_createDynamicProperty");function t4(g,y,_,S){if(y){var N=Z3(y,_),O=N&&!!N[g.prop];O?y[_]=S:Yv(g,y,_,S)}return y}o(t4,"_setDynamicProperty");function n9(g,y,_,S){if(y){var N=Z3(y,_),O=N&&!!N[g.prop],K=S&&S[0],oe=S&&S[1],de=S&&S[2];if(!O){if(de)try{t9(y)}catch(Ie){J3((g.hdlr||{})[$s],_,"Blocking",Ie)}try{t4(g,y,_,y[_]),N=Z3(y,_)}catch(Ie){J3((g.hdlr||{})[$s],_,"State",Ie)}}K&&(N[g.rf]=K),oe&&(N[g.ro]=oe),de&&(N[g.blkVal]=!0)}return y}o(n9,"_setDynamicPropertyState");function r4(g,y,_,S){try{Mt(y,function(N,O){t4(g,y,N,O)}),y[W1]||(Kf(y,W1,{get:function(){return g[Od]}}),Wv(g,y,_))}catch(N){J3((g.hdlr||{})[$s],_,S,N)}return y}o(r4,"_makeDynamicObject");var s1="[[ai_",Q3="]]";function Y1(g){var y,_=h3(s1+"get"+g.uid+Q3),S=h3(s1+"ro"+g.uid+Q3),N=h3(s1+"rf"+g.uid+Q3),O=h3(s1+"blkVal"+g.uid+Q3),K=h3(s1+"dtl"+g.uid+Q3),oe=null,de=null,Ie;function Ze(f0,$0){var I0=Ie.act;try{Ie.act=f0,f0&&f0[K]&&(Br(f0[K],function(k0){k0.clr(f0)}),f0[K]=[]),$0({cfg:g.cfg,set:g.set.bind(g),setDf:g[Vu].bind(g),ref:g.ref.bind(g),rdOnly:g[Zf].bind(g)})}catch(k0){var V0=g[$s];throw V0&&V0[ju](1,107,gn(k0)),k0}finally{Ie.act=I0||null}}o(Ze,"_useHandler");function b0(){if(oe){var f0=oe;oe=null,de&&de[B3](),de=null;var $0=[];if(Br(f0,function(I0){if(I0&&(I0[K]&&(Br(I0[K],function(V0){V0.clr(I0)}),I0[K]=null),I0.fn))try{Ze(I0,I0.fn)}catch(V0){$0[Xi](V0)}}),oe)try{b0()}catch(I0){$0[Xi](I0)}$0[ki]>0&&Ud("Watcher error(s): ",$0)}}o(b0,"_notifyWatchers");function E0(f0){if(f0&&f0.h[ki]>0){oe||(oe=[]),de||(de=Fc(function(){de=null,b0()},0));for(var $0=0;$0<f0.h[ki];$0++){var I0=f0.h[$0];I0&&Dl(oe,I0)===-1&&oe[Xi](I0)}}}o(E0,"_addWatcher");function x0(f0,$0){if(f0){var I0=f0[K]=f0[K]||[];Dl(I0,$0)===-1&&I0[Xi]($0)}}return o(x0,"_trackHandler"),Ie=(y={prop:_,ro:S,rf:N},y[k3]=O,y[Od]=g,y.add=E0,y[Dd]=b0,y.use=Ze,y.trk=x0,y),Ie}o(Y1,"_createState");function X1(g,y){var _={fn:y,rm:function(){_.fn=null,g=null,y=null}};return g.use(_,y),_}o(X1,"_createAndUseHandler");function L7(g,y,_){var S,N=Gv(y);if(N)return N;var O=K1("dyncfg",!0),K=y&&_!==!1?y:e4(y),oe;function de(){oe[Dd]()}o(de,"_notifyWatchers");function Ie(V0,k0,H0){try{V0=t4(oe,V0,k0,H0)}catch(Yt){J3(g,k0,"Setting value",Yt)}return V0[k0]}o(Ie,"_setValue");function Ze(V0){return X1(oe,V0)}o(Ze,"_watch");function b0(V0,k0){oe.use(null,function(H0){var Yt=oe.upd;try{o0(k0)||(oe.upd=k0),V0(H0)}finally{oe.upd=Yt}})}o(b0,"_block");function E0(V0,k0){var H0;return n9(oe,V0,k0,(H0={},H0[0]=!0,H0))[k0]}o(E0,"_ref");function x0(V0,k0){var H0;return n9(oe,V0,k0,(H0={},H0[1]=!0,H0))[k0]}o(x0,"_rdOnly");function f0(V0,k0){var H0;return n9(oe,V0,k0,(H0={},H0[2]=!0,H0))[k0]}o(f0,"_blkPropValue");function $0(V0,k0){return k0&&Mt(k0,function(H0,Yt){e9(I0,V0,H0,Yt)}),V0}o($0,"_applyDefaults");var I0=(S={uid:null,cfg:K},S[$s]=g,S[Dd]=de,S.set=Ie,S[Vu]=$0,S[Qf]=Ze,S.ref=E0,S[Zf]=x0,S[k3]=f0,S._block=b0,S);return va(I0,"uid",{c:!1,e:!1,w:!1,v:O}),oe=Y1(I0),r4(oe,K,"config","Creating"),I0}o(L7,"_createDynamicHandler");function i9(g,y){g?(g[Ld](y),g[ju](2,108,y)):D7(y)}o(i9,"_logInvalidAccess");function ja(g,y,_,S){var N=L7(_,g||{},S);return y&&N[Vu](N.cfg,y),N}o(ja,"createDynamicConfig");function J1(g,y,_){var S=g[W1]||g;return S.cfg&&(S.cfg===g||S.cfg[W1]===S)?S[Qf](y):(i9(_,H6+gn(g)),ja(g,null,_)[Qf](y))}o(J1,"onConfigChange");function u5(g,y){if(g&&g[Fl])return g[Fl](y)}o(u5,"runTargetUnload");function F7(g,y,_){var S;return _||(S=M1(function(N){_=N})),g&&Dv(g)>0?Zu(u5(g[0],y),function(){F7(k1(g,1),y,_)}):_(),S}o(F7,"doUnloadAll");var Xv=500;function n4(g,y,_){return!g&&l0(g)?y:qe(g)?g:Cs(g)[Bd]()==="true"}o(n4,"_stringToBoolOrDefault");function O7(g){return{mrg:!0,v:g}}o(O7,"cfgDfMerge");function i4(g,y,_){return{fb:_,isVal:g,v:y}}o(i4,"cfgDfValidate");function bf(g,y){return{fb:y,set:n4,v:!!g}}o(bf,"cfgDfBoolean");var d5=[$3,El,H3,$1],s4=null,o4;function Jv(g,y){return function(){var _=arguments,S=M7(y);if(S){var N=S.listener;N&&N[g]&&N[g][Fd](N,_)}}}o(Jv,"_listenerProxyFunc");function Zv(){var g=Us("Microsoft");return g&&(s4=g.ApplicationInsights),s4}o(Zv,"_getExtensionNamespace");function M7(g){var y=s4;return!y&&g.disableDbgExt!==!0&&(y=s4||Zv()),y?y.ChromeDbgExt:null}o(M7,"getDebugExt");function Qv(g){if(!o4){o4={};for(var y=0;y<d5[ki];y++)o4[d5[y]]=Jv(d5[y],g)}return o4}o(Qv,"getDebugListener");var h5,U7="warnToConsole",q7="AI (Internal): ",ex="AI: ",tx="AITR_",rx={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},nx=(h5={},h5[0]=null,h5[1]="errorToConsole",h5[2]=U7,h5[3]="debugToConsole",h5);function Zc(g){return g?'"'+g[Vc](/\"/g,Ci)+'"':Ci}o(Zc,"_sanitizeDiagnosticText");function Ea(g,y){var _=o5();if(_){var S="log";_[g]&&(S=g),g0(_[S])&&_[S](y)}}o(Ea,"_logToConsole");var e2=function(){function g(y,_,S,N){S===void 0&&(S=!1);var O=this;O[Md]=y,O[Ku]=(S?ex:q7)+y;var K=Ci;fl()&&(K=Ca().stringify(N));var oe=(_?" message:"+Zc(_):Ci)+(N?" props:"+Zc(K):Ci);O[Ku]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function a4(g,y){return(g||{})[$s]||new g5(y)}o(a4,"safeGetLogger");var g5=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var _=0,S={},N,O,K,oe,de;_a(g,this,function(Ie){de=b0(y||{}),Ie.consoleLoggingLevel=function(){return N},Ie[ju]=function(f0,$0,I0,V0,k0){k0===void 0&&(k0=!1);var H0=new e2($0,I0,k0,V0);if(oe)throw gn(H0);var Yt=nx[f0]||U7;if(o0(H0[Ku]))x0("throw"+(f0===1?"Critical":"Warning"),H0);else{if(k0){var Zr=+H0[Md];!S[Zr]&&N>=f0&&(Ie[Yt](H0[Ku]),S[Zr]=!0)}else N>=f0&&Ie[Yt](H0[Ku]);Ze(f0,H0)}},Ie.debugToConsole=function(f0){Ea("debug",f0),x0("warning",f0)},Ie[Ld]=function(f0){Ea("warn",f0),x0("warning",f0)},Ie.errorToConsole=function(f0){Ea("error",f0),x0("error",f0)},Ie.resetInternalMessageCount=function(){_=0,S={}},Ie[Uv]=Ze,Ie[Fl]=function(f0){de&&de.rm(),de=null};function Ze(f0,$0){if(!E0()){var I0=!0,V0=tx+$0[Md];if(S[V0]?I0=!1:S[V0]=!0,I0&&(f0<=O&&(Ie.queue[Xi]($0),_++,x0(f0===1?"error":"warn",$0)),_===K)){var k0="Internal events throttle limit per PageView reached for this app.",H0=new e2(23,k0,!1);Ie.queue[Xi](H0),f0===1?Ie.errorToConsole(k0):Ie[Ld](k0)}}}o(Ze,"_logInternalMessage");function b0(f0){return J1(ja(f0,rx,Ie).cfg,function($0){var I0=$0.cfg;N=I0[_7],O=I0.loggingLevelTelemetry,K=I0.maxMessageLimit,oe=I0.enableDebug})}o(b0,"_setDefaultsFromConfig");function E0(){return _>=K}o(E0,"_areInternalMessagesThrottled");function x0(f0,$0){var I0=M7(y||{});I0&&I0[t1]&&I0[t1](f0,$0)}o(x0,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function s9(g){return g||new g5}o(s9,"_getLogger");function Er(g,y,_,S,N,O){O===void 0&&(O=!1),s9(g)[ju](y,_,S,N,O)}o(Er,"_throwInternal");function l4(g,y){s9(g)[Ld](y)}o(l4,"_warnToConsole");var o9,Qc,a9="toGMTString",Z1="toUTCString",l9="cookie",f4="expires",$7="isCookieUseDisabled",f9="disableCookiesUsage",t2="_ckMgr",m5=null,c9=null,u9=null,Ml,H7={},j7={},r2=(o9={cookieCfg:O7((Qc={},Qc[j3]={fb:"cookieDomain",dfVal:j6},Qc.path={fb:"cookiePath",dfVal:j6},Qc.enabled=vf,Qc.ignoreCookies=vf,Qc.blockedCookies=vf,Qc)),cookieDomain:vf,cookiePath:vf},o9[f9]=vf,o9);function d9(){!Ml&&(Ml=Rc(function(){return w1()}))}o(d9,"_getDoc");function p5(g){return g?g.isEnabled():!0}o(p5,"_isMgrEnabled");function V7(g,y){return y&&g&&R0(g.ignoreCookies)?Dl(g.ignoreCookies,y)!==-1:!1}o(V7,"_isIgnoredCookie");function ix(g,y){return y&&g&&R0(g.blockedCookies)&&Dl(g.blockedCookies,y)!==-1?!0:V7(g,y)}o(ix,"_isBlockedCookie");function z7(g,y){var _=y[Hc];if(l0(_)){var S=void 0;o0(g[$7])||(S=!g[$7]),o0(g[f9])||(S=!g[f9]),_=S}return _}o(z7,"_isCfgEnabled");function sx(g,y){var _,S,N,O,K,oe,de,Ie,Ze;g=ja(g||j7,null,y).cfg,K=J1(g,function(E0){E0[Vu](E0.cfg,r2),S=E0.ref(E0.cfg,"cookieCfg"),N=S[V3]||"/",O=S[j3],oe=z7(g,S)!==!1,de=S.getCookie||ox,Ie=S.setCookie||o1,Ze=S.delCookie||o1},y);var b0=(_={isEnabled:function(){var E0=z7(g,S)!==!1&&oe&&G7(y),x0=j7[t2];return E0&&x0&&b0!==x0&&(E0=p5(x0)),E0},setEnabled:function(E0){oe=E0!==!1,S[Hc]=E0},set:function(E0,x0,f0,$0,I0){var V0=!1;if(p5(b0)&&!ix(S,E0)){var k0={},H0=qa(x0||Ci),Yt=Mu(H0,";");if(Yt!==-1&&(H0=qa(ca(x0,Yt)),k0=K7(Oa(x0,Yt+1))),r1(k0,j3,$0||O,U0,o0),!l0(f0)){var Zr=Ql();if(o0(k0[f4])){var Ki=Wf(),Fs=Ki+f0*1e3;if(Fs>0){var Ss=new Date;Ss.setTime(Fs),r1(k0,f4,W7(Ss,Zr?a9:Z1)||W7(Ss,Zr?a9:Z1)||Ci,U0)}}Zr||r1(k0,"max-age",Ci+f0,null,o0)}var Sa=Jd();Sa&&Sa.protocol==="https:"&&(r1(k0,"secure",null,null,o0),c9===null&&(c9=!n2((P1()||{})[O3])),c9&&r1(k0,"SameSite","None",null,o0)),r1(k0,V3,I0||N,null,o0),Ie(E0,Y7(H0,k0)),V0=!0}return V0},get:function(E0){var x0=Ci;return p5(b0)&&!V7(S,E0)&&(x0=de(E0)),x0},del:function(E0,x0){var f0=!1;return p5(b0)&&(f0=b0.purge(E0,x0)),f0},purge:function(E0,x0){var f0,$0=!1;if(G7(y)){var I0=(f0={},f0[V3]=x0||"/",f0[f4]="Thu, 01 Jan 1970 00:00:01 GMT",f0);Ql()||(I0["max-age"]="0"),Ze(E0,Y7(Ci,I0)),$0=!0}return $0}},_[Fl]=function(E0){K&&K.rm(),K=null},_);return b0[t2]=b0,b0}o(sx,"createCookieMgr");function G7(g){if(m5===null){m5=!1,!Ml&&d9();try{var y=Ml.v||{};m5=y[l9]!==void 0}catch(_){Er(g,2,68,"Cannot access document.cookie - "+ll(_),{exception:gn(_)})}}return m5}o(G7,"areCookiesSupported");function K7(g){var y={};if(g&&g[ki]){var _=qa(g)[Xu](";");Br(_,function(S){if(S=qa(S||Ci),S){var N=Mu(S,"=");N===-1?y[S]=null:y[qa(ca(S,N))]=qa(Oa(S,N+1))}})}return y}o(K7,"_extractParts");function W7(g,y){return g0(g[y])?g[y]():null}o(W7,"_formatDate");function Y7(g,y){var _=g||Ci;return Mt(y,function(S,N){_+="; "+S+(l0(N)?Ci:"="+N)}),_}o(Y7,"_formatCookieValue");function ox(g){var y=Ci;if(!Ml&&d9(),Ml.v){var _=Ml.v[l9]||Ci;u9!==_&&(H7=K7(_),u9=_),y=qa(H7[g]||Ci)}return y}o(ox,"_getCookieValue");function o1(g,y){!Ml&&d9(),Ml.v&&(Ml.v[l9]=g+"="+y)}o(o1,"_setCookieValue");function n2(g){return ve(g)?!!(ba(g,"CPU iPhone OS 12")||ba(g,"iPad; CPU OS 12")||ba(g,"Macintosh; Intel Mac OS X 10_14")&&ba(g,"Version/")&&ba(g,"Safari")||ba(g,"Macintosh; Intel Mac OS X 10_14")&&y3(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ba(g,"Chrome/5")||ba(g,"Chrome/6")||ba(g,"UnrealEngine")&&!ba(g,"Chrome")||ba(g,"UCBrowser/12")||ba(g,"UCBrowser/11")):!1}o(n2,"uaDisallowsSameSiteNone");var Ys={perfEvtsSendAll:!1};function Q1(g,y,_,S){Br(g,function(N){if(N&&N[y])if(_)Fc(function(){return S(N)},0);else try{S(N)}catch{}})}o(Q1,"_runListeners");var y5=function(){function g(y){this.listeners=[];var _,S,N=[],O=ja(y,Ys);S=O[Qf](function(K){_=!!K.cfg.perfEvtsSendAll}),_a(g,this,function(K){va(K,"listeners",{g:function(){return N}}),K[Jl]=function(oe){N[Xi](oe)},K[L3]=function(oe){for(var de=Dl(N,oe);de>-1;)N[Uc](de,1),de=Dl(N,oe)},K[$3]=function(oe){Q1(N,$3,!0,function(de){de[$3](oe)})},K[El]=function(oe,de){Q1(N,El,!0,function(Ie){Ie[El](oe,de)})},K[H3]=function(oe,de){Q1(N,H3,de,function(Ie){Ie[H3](oe,de)})},K[$1]=function(oe){oe&&(_||!oe[L6]())&&Q1(N,$1,!1,function(de){oe[Wu]?Fc(function(){return de[$1](oe)},0):de[$1](oe)})},K[Fl]=function(oe){var de=o(function(){S&&S.rm(),S=null,N=[]},"_finishUnload"),Ie;if(Q1(N,"unload",!1,function(Ze){var b0=Ze[Fl](oe);b0&&(Ie||(Ie=[]),Ie[Xi](b0))}),Ie)return M1(function(Ze){return Zu(w7(Ie),function(){de(),Ze()})});de()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),ec="ctx",Cf="ParentContextKey",ef="ChildrenContextKey",i2=null,s2=function(){function g(y,_,S){var N=this;if(N.start=Wf(),N[qc]=y,N[Wu]=S,N[L6]=function(){return!1},g0(_)){var O;va(N,"payload",{g:function(){return!O&&g0(_)&&(O=_(),_=null),O}})}N[O1]=function(K){return K?K===g[Cf]||K===g[ef]?N[K]:(N[ec]||{})[K]:null},N[Zl]=function(K,oe){if(K)if(K===g[Cf])N[K]||(N[L6]=function(){return!0}),N[K]=oe;else if(K===g[ef])N[K]=oe;else{var de=N[ec]=N[ec]||{};de[K]=oe}},N[F6]=function(){var K=0,oe=N[O1](g[ef]);if(R0(oe))for(var de=0;de<oe[ki];de++){var Ie=oe[de];Ie&&(K+=Ie[$c])}N[$c]=Wf()-N.start,N.exTime=N[$c]-K,N[F6]=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),X7=function(){function g(y){this.ctx={},_a(g,this,function(_){_.create=function(S,N,O){return new s2(S,N,O)},_.fire=function(S){S&&(S[F6](),y&&g0(y[$1])&&y[$1](S))},_[Zl]=function(S,N){if(S){var O=_[ec]=_[ec]||{};O[S]=N}},_[O1]=function(S){return(_[ec]||{})[S]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),h9="CoreUtils.doPerf";function J7(g,y,_,S,N){if(g){var O=g;if(O[zd]&&(O=O[zd]()),O){var K=void 0,oe=O[O1](h9);try{if(K=O.create(y(),S,N),K){if(oe&&K[Zl]&&(K[Zl](s2[Cf],oe),oe[O1]&&oe[Zl])){var de=oe[O1](s2[ef]);de||(de=[],oe[Zl](s2[ef],de)),de[Xi](K)}return O[Zl](h9,K),_(K)}}catch(Ie){K&&K[Zl]&&K[Zl]("exception",Ie)}finally{K&&O.fire(K),O[Zl](h9,oe)}}}return _()}o(J7,"doPerf");function ax(){return i2}o(ax,"getGblPerfMgr");var lx="00000000000000000000000000000000",fx="0000000000000000";function Z7(g,y,_){return g&&g[ki]===y&&g!==_?!!g.match(/^[\da-f]*$/i):!1}o(Z7,"_isValid");function cx(g){return Z7(g,32,lx)}o(cx,"isValidTraceId");function b(g){return Z7(g,16,fx)}o(b,"isValidSpanId");var w=Q6("plugin");function R(g){return w.get(g,"state",{},!0)}o(R,"_getPluginState");function V(g,y){for(var _=[],S=null,N=g[bl](),O;N;){var K=N[D3]();if(K){S&&S[Yu]&&K[Cl]&&S[Yu](K),O=R(K);var oe=!!O[mf];K[mf]&&(oe=K[mf]()),oe||_[Xi](K),S=K,N=N[bl]()}}Br(_,function(de){var Ie=g[ji]();de[zu](g.getCfg(),Ie,y,g[bl]()),O=R(de),!de[ji]&&!O[ji]&&(O[ji]=Ie),O[mf]=!0,delete O[_l]})}o(V,"initializePlugins");function le(g){return g.sort(function(y,_){var S=0;if(_){var N=_[Cl];y[Cl]?S=N?y[Gc]-_[Gc]:1:N&&(S=-1)}else S=y?1:-1;return S})}o(le,"sortPlugins");function r0(g){var y={};return{getName:function(){return y[qc]},setName:function(_){g&&g.setName(_),y[qc]=_},getTraceId:function(){return y[Ju]},setTraceId:function(_){g&&g.setTraceId(_),cx(_)&&(y[Ju]=_)},getSpanId:function(){return y[b7]},setSpanId:function(_){g&&g.setSpanId(_),b(_)&&(y[b7]=_)},getTraceFlags:function(){return y[M3]},setTraceFlags:function(_){g&&g.setTraceFlags(_),y[M3]=_}}}o(r0,"createDistributedTraceContext");var a0="TelemetryPluginChain",m0="_hasRun",T0="_getTelCtx",L0=0;function Q0(g,y,_){for(;g;){if(g[D3]()===_)return g;g=g[bl]()}return on([_],y.config||{},y)}o(Q0,"_getNextProxyStart");function Hr(g,y,_,S){var N=null,O=[];y||(y=ja({},null,_[$s])),S!==null&&(N=S?Q0(g,_,S):g);var K={_next:de,ctx:{core:function(){return _},diagLog:function(){return a4(_,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Ze,getConfig:b0,hasNext:function(){return!!N},getNext:function(){return N},setNext:function(x0){N=x0},iterate:E0,onComplete:oe}};function oe(x0,f0){for(var $0=[],I0=2;I0<arguments.length;I0++)$0[I0-2]=arguments[I0];x0&&O[Xi]({func:x0,self:o0(f0)?K.ctx:f0,args:$0})}o(oe,"_addOnComplete");function de(){var x0=N;if(N=x0?x0[bl]():null,!x0){var f0=O;f0&&f0[ki]>0&&(Br(f0,function($0){try{$0.func.call($0.self,$0.args)}catch(I0){Er(_[$s],2,73,"Unexpected Exception during onComplete - "+gn(I0))}}),O=[])}return x0}o(de,"_moveNext");function Ie(x0,f0){var $0=null,I0=y.cfg;if(I0&&x0){var V0=I0[U1];!V0&&f0&&(V0={}),I0[U1]=V0,V0=y.ref(I0,U1),V0&&($0=V0[x0],!$0&&f0&&($0={}),V0[x0]=$0,$0=y.ref(V0,x0))}return $0}o(Ie,"_getExtCfg");function Ze(x0,f0){var $0=Ie(x0,!0);return f0&&Mt(f0,function(I0,V0){if(l0($0[I0])){var k0=y.cfg[I0];(k0||!l0(k0))&&($0[I0]=k0)}e9(y,$0,I0,V0)}),y[Vu]($0,f0)}o(Ze,"_resolveExtCfg");function b0(x0,f0,$0){$0===void 0&&($0=!1);var I0,V0=Ie(x0,!1),k0=y.cfg;return V0&&(V0[f0]||!l0(V0[f0]))?I0=V0[f0]:(k0[f0]||!l0(k0[f0]))&&(I0=k0[f0]),I0||!l0(I0)?I0:$0}o(b0,"_getConfig");function E0(x0){for(var f0;f0=K._next();){var $0=f0[D3]();$0&&x0($0)}}return o(E0,"_iterateChain"),K}o(Hr,"_createInternalContext");function Ur(g,y,_,S){var N=ja(y),O=Hr(g,N,_,S),K=O.ctx;function oe(Ie){var Ze=O._next();return Ze&&Ze[Cl](Ie,K),!Ze}o(oe,"_processNext");function de(Ie,Ze){return Ie===void 0&&(Ie=null),R0(Ie)&&(Ie=on(Ie,N.cfg,_,Ze)),Ur(Ie||K[bl](),N.cfg,_,Ze)}return o(de,"_createNew"),K[Ha]=oe,K[jc]=de,K}o(Ur,"createProcessTelemetryContext");function jr(g,y,_){var S=ja(y.config),N=Hr(g,S,y,_),O=N.ctx;function K(de){var Ie=N._next();return Ie&&Ie[Fl](O,de),!Ie}o(K,"_processNext");function oe(de,Ie){return de===void 0&&(de=null),R0(de)&&(de=on(de,S.cfg,y,Ie)),jr(de||O[bl](),y,Ie)}return o(oe,"_createNew"),O[Ha]=K,O[jc]=oe,O}o(jr,"createProcessTelemetryUnloadContext");function yr(g,y,_){var S=ja(y.config),N=Hr(g,S,y,_),O=N.ctx;function K(de){return O.iterate(function(Ie){g0(Ie[F3])&&Ie[F3](O,de)})}o(K,"_processNext");function oe(de,Ie){return de===void 0&&(de=null),R0(de)&&(de=on(de,S.cfg,y,Ie)),yr(de||O[bl](),y,Ie)}return o(oe,"_createNew"),O[Ha]=K,O[jc]=oe,O}o(yr,"createProcessTelemetryUpdateContext");function on(g,y,_,S){var N=null,O=!S;if(R0(g)&&g[ki]>0){var K=null;Br(g,function(oe){if(!O&&S===oe&&(O=!0),O&&oe&&g0(oe[Cl])){var de=qr(oe,y,_);N||(N=de),K&&K._setNext(de),K=de}})}return S&&!N?on([S],y,_):N}o(on,"createTelemetryProxyChain");function qr(g,y,_){var S=null,N=g0(g[Cl]),O=g0(g[Yu]),K;g?K=g[e1]+"-"+g[Gc]+"-"+L0++:K="Unknown-0-"+L0++;var oe={getPlugin:function(){return g},getNext:function(){return S},processTelemetry:Ze,unload:b0,update:E0,_id:K,_setNext:function(x0){S=x0}};function de(){var x0;return g&&g0(g[T0])&&(x0=g[T0]()),x0||(x0=Ur(oe,y,_)),x0}o(de,"_getTelCtx");function Ie(x0,f0,$0,I0,V0){var k0=!1,H0=g?g[e1]:a0,Yt=x0[m0];return Yt||(Yt=x0[m0]={}),x0.setNext(S),g&&J7(x0[ji](),function(){return H0+":"+$0},function(){Yt[K]=!0;try{var Zr=S?S._id:Ci;Zr&&(Yt[Zr]=!1),k0=f0(x0)}catch(Fs){var Ki=S?Yt[S._id]:!0;Ki&&(k0=!0),(!S||!Ki)&&Er(x0[t1](),1,73,"Plugin ["+H0+"] failed during "+$0+" - "+gn(Fs)+", run flags: "+gn(Yt))}},I0,V0),k0}o(Ie,"_processChain");function Ze(x0,f0){f0=f0||de();function $0(I0){if(!g||!N)return!1;var V0=R(g);return V0[_l]||V0[$6]?!1:(O&&g[Yu](S),g[Cl](x0,I0),!0)}o($0,"_callProcessTelemetry"),Ie(f0,$0,"processTelemetry",function(){return{item:x0}},!x0.sync)||f0[Ha](x0)}o(Ze,"_processTelemetry");function b0(x0,f0){function $0(){var I0=!1;if(g){var V0=R(g),k0=g[ji]||V0[ji];g&&(!k0||k0===x0.core())&&!V0[_l]&&(V0[ji]=null,V0[_l]=!0,V0[mf]=!1,g[_l]&&g[_l](x0,f0)===!0&&(I0=!0))}return I0}o($0,"_callTeardown"),Ie(x0,$0,"unload",function(){},f0[Wu])||x0[Ha](f0)}o(b0,"_unloadPlugin");function E0(x0,f0){function $0(){var I0=!1;if(g){var V0=R(g),k0=g[ji]||V0[ji];g&&(!k0||k0===x0.core())&&!V0[_l]&&g[F3]&&g[F3](x0,f0)===!0&&(I0=!0)}return I0}o($0,"_callUpdate"),Ie(x0,$0,"update",function(){},!1)||x0[Ha](f0)}return o(E0,"_updatePlugin"),zf(oe)}o(qr,"createTelemetryPluginProxy");function Vi(){var g=[];function y(S){S&&g[Xi](S)}o(y,"_addHandler");function _(S,N){Br(g,function(O){try{O(S,N)}catch(K){Er(S[t1](),2,73,"Unexpected error calling unload handler - "+gn(K))}}),g=[]}return o(_,"_runHandlers"),{add:y,run:_}}o(Vi,"createUnloadHandlerContainer");function yn(){var g=[];function y(S){var N=g;g=[],Br(N,function(O){try{(O.rm||O.remove).call(O)}catch(K){Er(S,2,73,"Unloading:"+gn(K))}})}o(y,"_doUnload");function _(S){S&&Xl(g,S)}return o(_,"_addHook"),{run:y,add:_}}o(yn,"createUnloadHookContainer");var Fi,ha="getPlugin",c4=(Fi={},Fi[U1]={isVal:j6,v:{}},Fi),o2=function(){function g(){var y=this,_,S,N,O,K;Ie(),_a(g,y,function(Ze){Ze[zu]=function(b0,E0,x0,f0){de(b0,E0,f0),_=!0},Ze[_l]=function(b0,E0){var x0,f0=Ze[ji];if(!f0||b0&&f0!==b0[ji]())return;var $0,I0=!1,V0=b0||jr(null,f0,N&&N[ha]?N[ha]():N),k0=E0||(x0={reason:0},x0[Wu]=!1,x0);function H0(){I0||(I0=!0,O.run(V0,E0),K.run(V0[t1]()),$0===!0&&V0[Ha](k0),Ie())}return o(H0,"_unloadCallback"),!Ze[B6]||Ze[B6](V0,k0,H0)!==!0?H0():$0=!0,$0},Ze[F3]=function(b0,E0){var x0=Ze[ji];if(!x0||b0&&x0!==b0[ji]())return;var f0,$0=!1,I0=b0||yr(null,x0,N&&N[ha]?N[ha]():N),V0=E0||{reason:0};function k0(){$0||($0=!0,de(I0.getCfg(),I0.core(),I0[bl]()))}return o(k0,"_updateCallback"),!Ze._doUpdate||Ze._doUpdate(I0,V0,k0)!==!0?k0():f0=!0,f0},t5(Ze,"_addUnloadCb",function(){return O},"add"),t5(Ze,"_addHook",function(){return K},"add"),va(Ze,"_unloadHooks",{g:function(){return K}})}),y[t1]=function(Ze){return oe(Ze)[t1]()},y[mf]=function(){return _},y.setInitialized=function(Ze){_=Ze},y[Yu]=function(Ze){N=Ze},y[Ha]=function(Ze,b0){b0?b0[Ha](Ze):N&&g0(N[Cl])&&N[Cl](Ze,null)},y._getTelCtx=oe;function oe(Ze){Ze===void 0&&(Ze=null);var b0=Ze;if(!b0){var E0=S||Ur(null,{},y[ji]);N&&N[ha]?b0=E0[jc](null,N[ha]):b0=E0[jc](null,N)}return b0}o(oe,"_getTelCtx");function de(Ze,b0,E0){ja(Ze,c4,a4(b0)),!E0&&b0&&(E0=b0[v7]()[bl]());var x0=N;N&&N[ha]&&(x0=N[ha]()),y[ji]=b0,S=Ur(E0,Ze,b0,x0)}o(de,"_setDefaults");function Ie(){_=!1,y[ji]=null,S=null,N=null,K=yn(),O=Vi()}o(Ie,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function Q7(g,y,_){var S={id:y,fn:_};Xl(g,S);var N={remove:function(){Br(g,function(O,K){if(O.id===S.id)return g[Uc](K,1),-1})}};return N}o(Q7,"_addInitializer");function eg(g,y,_){for(var S=!1,N=g[ki],O=0;O<N;++O){var K=g[O];if(K)try{if(K.fn[Fd](null,[y])===!1){S=!0;break}}catch(oe){Er(_,2,64,"Telemetry initializer failed: "+ll(oe),{exception:gn(oe)},!0)}}return!S}o(eg,"_runInitializers");var ux=function(g){R3(y,g);function y(){var _=g.call(this)||this;_.identifier="TelemetryInitializerPlugin",_.priority=199;var S,N;O(),_a(y,_,function(K,oe){K.addTelemetryInitializer=function(de){return Q7(N,S++,de)},K[Cl]=function(de,Ie){eg(N,de,Ie?Ie[t1]():K[t1]())&&K[Ha](de,Ie)},K[B6]=function(){O()}});function O(){S=0,N=[]}return o(O,"_initDefaults"),_}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(o2),tc,u4="Plugins must provide initialize method",tg="_notificationManager",g9="SDK is still unloading...",j0="SDK is not initialized",xr=al((tc={cookieCfg:{}},tc[q1]={rdOnly:!0,ref:!0,v:[]},tc[zc]={rdOnly:!0,ref:!0,v:[]},tc[U1]={ref:!0,v:{}},tc[Vd]=vf,tc.loggingLevelConsole=0,tc.diagnosticLogInterval=vf,tc));function en(g,y){return new X7(y)}o(en,"_createPerfManager");function vs(g,y,_){var S,N=[],O=[],K={};return Br(_,function(oe){(l0(oe)||l0(oe[zu]))&&vr(u4);var de=oe[Gc],Ie=oe[e1];oe&&de&&(l0(K[de])?K[de]=Ie:l4(g,"Two extensions have same priority #"+de+" - "+K[de]+", "+Ie)),!de||de<y?N[Xi](oe):O[Xi](oe)}),S={},S[ji]=N,S[zc]=O,S}o(vs,"_validateExtensions");function Qs(g,y){var _=!1;return Br(y,function(S){if(S===g)return _=!0,-1}),_}o(Qs,"_isPluginPresent");function Ls(g,y,_,S){_&&Mt(_,function(N,O){S&&Ws(O)&&Ws(y[N])&&Ls(g,y[N],O,S),S&&Ws(O)&&Ws(y[N])?Ls(g,y[N],O,S):g.set(y,N,O)})}o(Ls,"_deepMergeConfig");function Xs(g,y){var _=null,S=-1;return Br(g,function(N,O){if(N.w===y)return _=N,S=O,-1}),{i:S,l:_}}o(Xs,"_findWatcher");function v5(g,y){var _=Xs(g,y).l;return _||(_={w:y,rm:function(){var S=Xs(g,y);S.i!==-1&&g[Uc](S.i,1)}},g[Xi](_)),_}o(v5,"_addDelayedCfgListener");function eu(g,y,_){Br(y,function(S){var N=J1(g,S.w,_);delete S.w,S.rm=function(){N.rm()}})}o(eu,"_registerDelayedCfgListener");var x5=function(){function g(){var y,_,S,N,O,K,oe,de,Ie,Ze,b0,E0,x0,f0,$0,I0,V0,k0,H0,Yt,Zr,Ki,Fs,Ss,Sa,ea,C4,nc;_a(g,this,function(J0){l1(),J0._getDbgPlgTargets=function(){return[Fs]},J0[mf]=function(){return _},J0[zu]=function(w0,St,Nr,Rr){x0&&vr(g9),J0[mf]()&&vr("Core cannot be initialized more than once"),y=ja(w0,xr,Nr||J0[$s],!1),w0=y.cfg,tf(y[Qf](function(Wi){Zr=Wi.cfg.instrumentationKey;var js=Wi.ref(Wi.cfg,U1);Mt(js,function(Ia){Wi.ref(js,Ia)}),l0(Zr)&&vr("Please provide instrumentation key")})),O=Rr,D9(),Yx(),J0[$s]=Nr;var Mr=w0[q1];if(Ze=[],Ze[Xi].apply(Ze,p7(p7([],St,!1),Mr)),b0=w0[zc],G0(null),(!E0||E0[ki]===0)&&vr("No "+zc+" available"),b0&&b0[ki]>1){var Qi=J0[D3]("TeeChannelController");(!Qi||!Qi.plugin)&&Er(S,1,28,"TeeChannel required")}eu(w0,Ki,S),Ki=null,_=!0,J0.releaseQueue(),J0[y7]()},J0.getChannels=function(){var w0=[];return E0&&Br(E0,function(St){w0[Xi](St)}),zf(w0)},J0.track=function(w0){J7(J0[zd](),function(){return"AppInsightsCore:track"},function(){w0===null&&(F9(w0),vr("Invalid telemetry item")),!w0[qc]&&l0(w0[qc])&&(F9(w0),vr("telemetry name required")),w0.iKey=w0.iKey||Zr,w0[$c]=w0[$c]||Gd(new Date),w0.ver=w0.ver||"4.0",!x0&&J0[mf]()?ou()[Ha](w0):N[Xi](w0)},function(){return{item:w0}},!w0.sync)},J0[v7]=ou,J0[Gu]=function(){return O||(O=new y5(y.cfg),J0[tg]=O),O},J0[Jl]=function(w0){J0[Gu]()[Jl](w0)},J0[L3]=function(w0){O&&O[L3](w0)},J0.getCookieMgr=function(){return de||(de=sx(y.cfg,J0[$s])),de},J0.setCookieMgr=function(w0){de!==w0&&(u5(de,!1),de=w0)},J0[zd]=function(){return!K&&!oe&&tf(y[Qf](function(w0){if(w0.cfg.enablePerfMgr){var St=w0.cfg[Vd];g0(St)&&(oe=St(J0,J0[Gu]()))}})),K||oe||ax()},J0.setPerfMgr=function(w0){K=w0},J0.eventCnt=function(){return N[ki]},J0.releaseQueue=function(){if(_&&N[ki]>0){var w0=N;N=[],Br(w0,function(St){ou()[Ha](St)})}},J0[y7]=function(w0){return $0=w0||null,nc=!1,ea&&ea[B3](),ic(!0)};function ic(w0){if((!ea||!ea[Hc])&&!nc){var St=w0||S&&S.queue[ki]>0;St&&(C4||(C4=!0,tf(y[Qf](function(Nr){var Rr=Nr.cfg.diagnosticLogInterval;(!Rr||!(Rr>0))&&(Rr=1e4);var Mr=!1;ea&&(Mr=ea[Hc],ea[B3]()),ea=bd(S4,Rr),ea.unref(),ea[Hc]=Mr}))),ea[Hc]=!0)}return ea}o(ic,"_startLogPoller"),J0[k6]=function(){nc=!0,ea&&ea[B3](),S4()},Wd(J0,function(){return f0},["addTelemetryInitializer"]),J0[Fl]=function(w0,St,Nr){var Rr;w0===void 0&&(w0=!0),_||vr(j0),x0&&vr(g9);var Mr=(Rr={reason:50},Rr[Wu]=w0,Rr.flushComplete=!1,Rr),Qi;w0&&!St&&(Qi=M1(function(Ia){St=Ia}));var Wi=jr(B9(),J0);Wi[F1](function(){k0.run(J0[$s]),F7([de,O,S],w0,function(){l1(),St&&St(Mr)})},J0);function js(Ia){Mr.flushComplete=Ia,x0=!0,V0.run(Wi,Mr),J0[k6](),Wi[Ha](Mr)}return o(js,"_doUnload"),S4(),S2(w0,js,6,Nr),Qi},J0[D3]=Eg,J0.addPlugin=function(w0,St,Nr,Rr){if(!w0){Rr&&Rr(!1),L9(u4);return}var Mr=Eg(w0[e1]);if(Mr&&!St){Rr&&Rr(!1),L9("Plugin ["+w0[e1]+"] is already loaded!");return}var Qi={reason:16};function Wi(ql){Ze[Xi](w0),Qi.added=[w0],G0(Qi),Rr&&Rr(!0)}if(o(Wi,"_addPlugin"),Mr){var js=[Mr.plugin],Ia={reason:2,isAsync:!!Nr};T4(js,Ia,function(ql){ql?(Qi.removed=js,Qi.reason|=32,Wi()):Rr&&Rr(!1)})}else Wi()},J0.updateCfg=function(w0,St){St===void 0&&(St=!0);var Nr;if(J0[mf]()){Nr={reason:1,cfg:y.cfg,oldCfg:b6({},y.cfg),newConfig:b6({},w0),merge:St},w0=Nr.newConfig;var Rr=y.cfg;w0[q1]=Rr[q1],w0[zc]=Rr[zc]}y._block(function(Mr){var Qi=Mr.cfg;Ls(Mr,Qi,w0,St),St||Mt(Qi,function(Wi){pr(w0,Wi)||Mr.set(Qi,Wi,vf)}),Mr[Vu](Qi,xr)},!0),y[Dd](),Nr&&I4(Nr)},J0.evtNamespace=function(){return I0},J0.flush=S2,J0.getTraceCtx=function(w0){return Yt||(Yt=r0()),Yt},J0.setTraceCtx=function(w0){Yt=w0||null},J0.addUnloadHook=tf,t5(J0,"addUnloadCb",function(){return V0},"add"),J0.onCfgChange=function(w0){var St;return _?St=J1(y.cfg,w0,J0[$s]):St=v5(Ki,w0),{rm:function(){St.rm()}}},J0.getWParam=function(){return u3()||y.cfg.enableWParam?0:-1};function E4(){var w0={};Ss=[];var St=o(function(Nr){Nr&&Br(Nr,function(Rr){if(Rr[e1]&&Rr[x7]&&!w0[Rr.identifier]){var Mr=Rr[e1]+"="+Rr[x7];Ss[Xi](Mr),w0[Rr.identifier]=Rr}})},"_addPluginVersions");St(E0),b0&&Br(b0,function(Nr){St(Nr)}),St(Ze)}o(E4,"_setPluginVersions");function l1(){_=!1,y=ja({},xr,J0[$s]),y.cfg[_7]=1,va(J0,"config",{g:function(){return y.cfg},s:function(St){J0.updateCfg(St,!1)}}),va(J0,"pluginVersionStringArr",{g:function(){return Ss||E4(),Ss}}),va(J0,"pluginVersionString",{g:function(){return Sa||(Ss||E4(),Sa=Ss.join(";")),Sa||Ci}}),va(J0,"logger",{g:function(){return S||(S=new g5(y.cfg),y[$s]=S),S},s:function(St){y[$s]=St,S!==St&&(u5(S,!1),S=St)}}),J0[$s]=new g5(y.cfg),Fs=[];var w0=J0.config[q1]||[];w0.splice(0,w0[ki]),Xl(w0,Fs),f0=new ux,N=[],u5(O,!1),O=null,K=null,oe=null,u5(de,!1),de=null,Ie=null,Ze=[],b0=null,E0=null,x0=!1,$0=null,I0=K1("AIBaseCore",!0),V0=Vi(),Yt=null,Zr=null,k0=yn(),Ki=[],Sa=null,Ss=null,nc=!1}o(l1,"_initDefaults");function ou(){var w0=Ur(B9(),y.cfg,J0);return w0[F1](ic),w0}o(ou,"_createTelCtx");function G0(w0){var St=vs(J0[$s],Xv,Ze);Ie=null,Sa=null,Ss=null,E0=(b0||[])[0]||[],E0=le(Xl(E0,St[zc]));var Nr=Xl(le(St[ji]),E0);Fs=zf(Nr);var Rr=J0.config[q1]||[];Rr.splice(0,Rr[ki]),Xl(Rr,Fs);var Mr=ou();E0&&E0[ki]>0&&V(Mr[jc](E0),Nr),V(Mr,Nr),w0&&I4(w0)}o(G0,"_initPluginChain");function Eg(w0){var St=null,Nr=null,Rr=[];return Br(Fs,function(Mr){if(Mr[e1]===w0&&Mr!==f0)return Nr=Mr,-1;Mr.getChannel&&Rr[Xi](Mr)}),!Nr&&Rr[ki]>0&&Br(Rr,function(Mr){if(Nr=Mr.getChannel(w0),!Nr)return-1}),Nr&&(St={plugin:Nr,setEnabled:function(Mr){R(Nr)[$6]=!Mr},isEnabled:function(){var Mr=R(Nr);return!Mr[_l]&&!Mr[$6]},remove:function(Mr,Qi){var Wi;Mr===void 0&&(Mr=!0);var js=[Nr],Ia=(Wi={reason:1},Wi[Wu]=Mr,Wi);T4(js,Ia,function(ql){ql&&G0({reason:32,removed:js}),Qi&&Qi(ql)})}}),St}o(Eg,"_getPlugin");function B9(){if(!Ie){var w0=(Fs||[]).slice();Dl(w0,f0)===-1&&w0[Xi](f0),Ie=on(le(w0),y.cfg,J0)}return Ie}o(B9,"_getPluginChain");function T4(w0,St,Nr){if(w0&&w0[ki]>0){var Rr=on(w0,y.cfg,J0),Mr=jr(Rr,J0);Mr[F1](function(){var Qi=!1,Wi=[];Br(Ze,function(Ia,ql){Qs(Ia,w0)?Qi=!0:Wi[Xi](Ia)}),Ze=Wi,Sa=null,Ss=null;var js=[];b0&&(Br(b0,function(Ia,ql){var au=[];Br(Ia,function(O9){Qs(O9,w0)?Qi=!0:au[Xi](O9)}),js[Xi](au)}),b0=js),Nr&&Nr(Qi),ic()}),Mr[Ha](St)}else Nr(!1)}o(T4,"_removePlugins");function S4(){if(S&&S.queue){var w0=S.queue.slice(0);S.queue[ki]=0,Br(w0,function(St){var Nr,Rr=(Nr={},Nr[qc]=$0||"InternalMessageId: "+St[Md],Nr.iKey=Zr,Nr[$c]=Gd(new Date),Nr.baseType=e2.dataType,Nr.baseData={message:St[Ku]},Nr);J0.track(Rr)})}}o(S4,"_flushInternalLogs");function S2(w0,St,Nr,Rr){var Mr=1,Qi=!1,Wi=null;Rr=Rr||5e3;function js(){Mr--,Qi&&Mr===0&&(Wi&&Wi[B3](),Wi=null,St&&St(Qi),St=null)}if(o(js,"doCallback"),E0&&E0[ki]>0){var Ia=ou()[jc](E0);Ia.iterate(function(ql){if(ql.flush){Mr++;var au=!1;ql.flush(w0,function(){au=!0,js()},Nr)||au||(w0&&Wi==null?Wi=Fc(function(){Wi=null,js()},Rr):js())}})}return Qi=!0,js(),!0}o(S2,"_flushChannels");function D9(){!O&&J0[Gu](),tf(y[Qf](function(w0){var St=w0.cfg.disableDbgExt;St===!0&&H0&&(O[L3](H0),H0=null),O&&!H0&&St!==!0&&(H0=Qv(w0.cfg),O[Jl](H0))}))}o(D9,"_initDebugListener");function Yx(){tf(y[Qf](function(w0){var St=w0.cfg.enablePerfMgr;!St&&oe&&(oe=null),St&&Kd(w0.cfg,Vd,en)}))}o(Yx,"_initPerfManager");function I4(w0){var St=yr(B9(),J0);St[F1](ic),(!J0._updateHook||J0._updateHook(St,w0)!==!0)&&St[Ha](w0)}o(I4,"_doUpdate");function L9(w0){var St=J0[$s];St?(Er(St,2,73,w0),ic()):vr(w0)}o(L9,"_logOrThrowError");function F9(w0){var St=J0[Gu]();St&&St[El]([w0],2)}o(F9,"_notifyInvalidEvent");function tf(w0){k0.add(w0)}o(tf,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}(),rg="on",ng="attachEvent",m9="addEventListener",ig="detachEvent",dx="removeEventListener",hx="events";K1("aiEvtPageHide"),K1("aiEvtPageShow");var wO=/\.[\.]+/g,AO=/[\.]+$/,PO=1,sg=Q6("events"),NO=/^([^.]*)(?:\.(.+)|)/;function MI(g){return g&&g[Vc]?g[Vc](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ci):g}o(MI,"_normalizeNamespace");function gx(g,y){var _;if(y){var S=Ci;R0(y)?(S=Ci,Br(y,function(O){O=MI(O),O&&(O[0]!=="."&&(O="."+O),S+=O)})):S=MI(y),S&&(S[0]!=="."&&(S="."+S),g=(g||Ci)+S)}var N=NO.exec(g||Ci)||[];return _={},_[yf]=N[1],_.ns=(N[2]||Ci).replace(wO,".").replace(AO,Ci)[Xu](".").sort().join("."),_}o(gx,"_getEvtNamespace");function UI(g,y,_){_===void 0&&(_=!0);var S=sg.get(g,hx,{},_),N=S[y];return N||(N=S[y]=[]),N}o(UI,"_getRegisteredEvents");function qI(g,y,_,S){g&&y&&y[yf]&&(g[dx]?g[dx](y[yf],_,S):g[ig]&&g[ig](rg+y[yf],_))}o(qI,"_doDetach");function RO(g,y,_,S){var N=!1;return g&&y&&y[yf]&&_&&(g[m9]?(g[m9](y[yf],_,S),N=!0):g[ng]&&(g[ng](rg+y[yf],_),N=!0)),N}o(RO,"_doAttach");function $I(g,y,_,S){for(var N=y[ki];N--;){var O=y[N];O&&(!_.ns||_.ns===O.evtName.ns)&&(!S||S(O))&&(qI(g,O.evtName,O[D6],O.capture),y[Uc](N,1))}}o($I,"_doUnregister");function kO(g,y,_){if(y[yf])$I(g,UI(g,y[yf]),y,_);else{var S=sg.get(g,hx,{});Mt(S,function(N,O){$I(g,O,y,_)}),fa(S)[ki]===0&&sg.kill(g,hx)}}o(kO,"_unregisterEvents");function HI(g,y){var _;return y?(R0(y)?_=[g].concat(y):_=[g,y],_=gx("xx",_).ns[Xu](".")):_=g,_}o(HI,"mergeEvtNamespace");function jI(g,y,_,S,N){var O;N===void 0&&(N=!1);var K=!1;if(g)try{var oe=gx(y,S);if(K=RO(g,oe,_,N),K&&sg.accept(g)){var de=(O={guid:PO++,evtName:oe},O[D6]=_,O.capture=N,O);UI(g,oe.type)[Xi](de)}}catch{}return K}o(jI,"eventOn");function BO(g,y,_,S,N){if(N===void 0&&(N=!1),g)try{var O=gx(y,S),K=!1;kO(g,O,function(oe){return O.ns&&!_||oe[D6]===_?(K=!0,!0):!1}),K||qI(g,O,_,N)}catch{}}o(BO,"eventOff");var mx="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",VI="sampleRate",px="ProcessLegacy",zI="http.method",yx="https://dc.services.visualstudio.com",p9="/v2/track",_5="not_specified",og=R6({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),ag="split",Oi="length",vx="toLowerCase",a2="ingestionendpoint",d4="toString",DO="removeItem",b5="name",l2="message",LO="count",xx="stringify",_x="pathname",h4="exceptions",a1="parsedStack",tu="properties",ru="measurements",g4="sizeInBytes",nu="typeName",y9="severityLevel",bx="problemGroup",Cx="isManual",GI="CreateFromInterface",m4="assembly",f2="fileName",lg="hasFullStack",fg="level",p4="method",v9="line",cg="duration",KI="receivedResponse";function WI(g,y,_){var S=y[Oi],N=FO(g,y);if(N[Oi]!==S){for(var O=0,K=N;_[K]!==void 0;)O++,K=Oa(N,0,147)+UO(O);N=K}return N}o(WI,"dataSanitizeKeyAndAddUniqueness");function FO(g,y){var _;return y&&(y=qa(Cs(y)),y[Oi]>150&&(_=Oa(y,0,150),Er(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),_||y}o(FO,"dataSanitizeKey");function cl(g,y,_){_===void 0&&(_=1024);var S;return y&&(_=_||1024,y=qa(Cs(y)),y[Oi]>_&&(S=Oa(y,0,_),Er(g,2,61,"string value is too long. It has been truncated to "+_+" characters.",{value:y},!0))),S||y}o(cl,"dataSanitizeString");function Ex(g,y){return XI(g,y,2048,66)}o(Ex,"dataSanitizeUrl");function YI(g,y){var _;return y&&y[Oi]>32768&&(_=Oa(y,0,32768),Er(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),_||y}o(YI,"dataSanitizeMessage");function OO(g,y){var _;if(y){var S=""+y;S[Oi]>32768&&(_=Oa(S,0,32768),Er(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return _||y}o(OO,"dataSanitizeException");function c2(g,y){if(y){var _={};Mt(y,function(S,N){if(N0(N)&&fl())try{N=Ca()[xx](N)}catch(O){Er(g,2,49,"custom property is not valid",{exception:O},!0)}N=cl(g,N,8192),S=WI(g,S,_),_[S]=N}),y=_}return y}o(c2,"dataSanitizeProperties");function u2(g,y){if(y){var _={};Mt(y,function(S,N){S=WI(g,S,_),_[S]=N}),y=_}return y}o(u2,"dataSanitizeMeasurements");function MO(g,y){return y&&XI(g,y,128,69)[d4]()}o(MO,"dataSanitizeId");function XI(g,y,_,S){var N;return y&&(y=qa(Cs(y)),y[Oi]>_&&(N=Oa(y,0,_),Er(g,2,S,"input is too long, it has been truncated to "+_+" characters.",{data:y},!0))),N||y}o(XI,"dataSanitizeInput");function UO(g){var y="00"+g;return Ps(y,y[Oi]-3)}o(UO,"dsPadNumber");var JI=w1()||{},ZI=0,qO=[null,null,null,null,null];function $O(g){var y=ZI,_=qO,S=_[y];return JI.createElement?_[y]||(S=_[y]=JI.createElement("a")):S={host:HO(g,!0)},S.href=g,y++,y>=_[Oi]&&(y=0),ZI=y,S}o($O,"urlParseUrl");function HO(g,y){var _=jO(g,y)||"";if(_){var S=_.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Oi]>3&&ve(S[2])&&S[2][Oi]>0)return S[2]+(S[3]||"")}return _}o(HO,"urlParseHost");function jO(g,y){var _=null;if(g){var S=g.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(S!=null&&S[Oi]>2&&ve(S[2])&&S[2][Oi]>0&&(_=S[2]||"",y&&S[Oi]>2)){var N=(S[1]||"")[vx](),O=S[3]||"";(N==="http"&&O===":80"||N==="https"&&O===":443")&&(O=""),_+=O}}return _}o(jO,"urlParseFullHost");var VO=[yx+p9,"https://breeze.aimon.applicationinsights.io"+p9,"https://dc-int.services.visualstudio.com"+p9];function Tx(g){return Dl(VO,g[vx]())!==-1}o(Tx,"isInternalApplicationInsightsEndpoint");function zO(g,y,_,S){var N,O=S,K=S;if(y&&y[Oi]>0){var oe=$O(y);if(N=oe.host,!O)if(oe[_x]!=null){var de=oe.pathname[Oi]===0?"/":oe[_x];de.charAt(0)!=="/"&&(de="/"+de),K=oe[_x],O=cl(g,_?_+" "+de:de)}else O=cl(g,y)}else N=S,O=S;return{target:N,name:O,data:K}}o(zO,"AjaxHelperParseDependencyPath");var Sx=N6({LocalStorage:0,SessionStorage:1});N6({AI:0,AI_AND_W3C:1,W3C:2});var x9=void 0,QI="";function ew(g){try{if(l0(Ua()))return null;var y=new Date()[d4](),_=Us(g===Sx.LocalStorage?"localStorage":"sessionStorage"),S=QI+y;_.setItem(S,y);var N=_.getItem(S)!==y;if(_[DO](S),!N)return _}catch{}return null}o(ew,"_getVerifiedStorageObject");function tw(){return rw()?ew(Sx.SessionStorage):null}o(tw,"_getSessionStorageObject");function GO(g){QI=g||""}o(GO,"utlSetStoragePrefix");function rw(g){return(g||x9===void 0)&&(x9=!!ew(Sx.SessionStorage)),x9}o(rw,"utlCanUseSessionStorage");function KO(g,y){var _=tw();if(_!==null)try{return _.getItem(y)}catch(S){x9=!1,Er(g,2,2,"Browser failed read of session storage. "+ll(S),{exception:gn(S)})}return null}o(KO,"utlGetSessionStorage");function WO(g,y,_){var S=tw();if(S!==null)try{return S.setItem(y,_),!0}catch(N){x9=!1,Er(g,2,4,"Browser failed write to session storage. "+ll(N),{exception:gn(N)})}return!1}o(WO,"utlSetSessionStorage");var YO=";",XO="=";function JO(g){if(!g)return{};var y=g[ag](YO),_=md(y,function(N,O){var K=O[ag](XO);if(K[Oi]===2){var oe=K[0][vx](),de=K[1];N[oe]=de}return N},{});if(fa(_)[Oi]>0){if(_.endpointsuffix){var S=_.location?_.location+".":"";_[a2]=_[a2]||"https://"+S+"dc."+_.endpointsuffix}_[a2]=_[a2]||yx,y3(_[a2],"/")&&(_[a2]=_[a2].slice(0,-1))}return _}o(JO,"parseConnectionString");var ZO=function(){function g(y,_,S){var N=this,O=this;O.ver=1,O.sampleRate=100,O.tags={},O[b5]=cl(y,S)||_5,O.data=_,O.time=Gd(new Date),O.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return N.sampleRate===100?4:1},tags:1,data:1}}return o(g,"Envelope"),g}(),y4=function(){function g(y,_,S,N){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var O=this;O.ver=2,O[b5]=cl(y,_)||_5,O[tu]=c2(y,S),O[ru]=u2(y,N)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),QO="<no_method>",v4="error",Ul="stack",Ix="stackDetails",nw="errorSrc",wx="message",iw="description";function Ax(g,y){var _=g;return _&&!ve(_)&&(JSON&&JSON[xx]?(_=JSON[xx](g),y&&(!_||_==="{}")&&(g0(g[d4])?_=g[d4]():_=""+g)):_=""+g+" - (Missing JSON.stringify)"),_||""}o(Ax,"_stringify");function sw(g,y){var _=g;return g&&(_&&!ve(_)&&(_=g[wx]||g[iw]||_),_&&!ve(_)&&(_=Ax(_,!0)),g.filename&&(_=_+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Mu(_||"",y)===-1&&(_=y+": "+_),_||""}o(sw,"_formatMessage");function eM(g){try{if(N0(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(eM,"_isExceptionDetailsInternal");function tM(g){try{if(N0(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(tM,"_isExceptionInternal");function ow(g){return g&&g.src&&ve(g.src)&&g.obj&&R0(g.obj)}o(ow,"_isStackDetails");function d2(g){var y=g||"";ve(y)||(ve(y[Ul])?y=y[Ul]:y=""+y);var _=y[ag](`
`);return{src:y,obj:_}}o(d2,"_convertStackObj");function rM(g){for(var y=[],_=g[ag](`
`),S=0;S<_[Oi];S++){var N=_[S];_[S+1]&&(N+="@"+_[S+1],S++),y.push(N)}return{src:g,obj:y}}o(rM,"_getOperaStack");function aw(g){var y=null;if(g)try{if(g[Ul])y=d2(g[Ul]);else if(g[v4]&&g[v4][Ul])y=d2(g[v4][Ul]);else if(g.exception&&g.exception[Ul])y=d2(g.exception[Ul]);else if(ow(g))y=g;else if(ow(g[Ix]))y=g[Ix];else if(A1()&&A1().opera&&g[wx])y=rM(g[l2]);else if(g.reason&&g.reason[Ul])y=d2(g.reason[Ul]);else if(ve(g))y=d2(g);else{var _=g[wx]||g[iw]||"";ve(g[nw])&&(_&&(_+=`
`),_+=" from "+g[nw]),_&&(y=d2(_))}}catch(S){y=d2(S)}return y||{src:"",obj:null}}o(aw,"_getStackFromErrorObj");function nM(g){var y="";return g&&(g.obj?Br(g.obj,function(_){y+=_+`
`}):y=g.src||""),y}o(nM,"_formatStackTrace");function iM(g){var y,_=g.obj;if(_&&_[Oi]>0){y=[];var S=0,N=0;Br(_,function(f0){var $0=f0[d4]();if(Nx.regex.test($0)){var I0=new Nx($0,S++);N+=I0[g4],y.push(I0)}});var O=32*1024;if(N>O)for(var K=0,oe=y[Oi]-1,de=0,Ie=K,Ze=oe;K<oe;){var b0=y[K][g4],E0=y[oe][g4];if(de+=b0+E0,de>O){var x0=Ze-Ie+1;y.splice(Ie,x0);break}Ie=K,Ze=oe,K++,oe--}}return y}o(iM,"_parseStack");function ug(g){var y="";if(g&&(y=g.typeName||g[b5]||"",!y))try{var _=/function (.{1,200})\(/,S=_.exec(g.constructor[d4]());y=S&&S[Oi]>1?S[1]:""}catch{}return y}o(ug,"_getErrorType");function Px(g){if(g)try{if(!ve(g)){var y=ug(g),_=Ax(g,!1);return(!_||_==="{}")&&(g[v4]&&(g=g[v4],y=ug(g)),_=Ax(g,!0)),Mu(_,y)!==0&&y!=="String"?y+":"+_:_}}catch{}return""+(g||"")}o(Px,"_formatErrorCode");var dg=function(){function g(y,_,S,N,O,K){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,tM(_)?(oe[h4]=_[h4]||[],oe[tu]=_[tu],oe[ru]=_[ru],_[y9]&&(oe[y9]=_[y9]),_.id&&(oe.id=_.id),_[bx]&&(oe[bx]=_[bx]),l0(_[Cx])||(oe[Cx]=_[Cx])):(S||(S={}),oe[h4]=[new lw(y,_,S)],oe[tu]=c2(y,S),oe[ru]=u2(y,N),O&&(oe[y9]=O),K&&(oe.id=K))}return o(g,"Exception"),g.CreateAutoException=function(y,_,S,N,O,K,oe,de){var Ie,Ze=ug(O||K||y);return Ie={},Ie[l2]=sw(y,Ze),Ie.url=_,Ie.lineNumber=S,Ie.columnNumber=N,Ie.error=Px(O||K||y),Ie.evt=Px(K||y),Ie[nu]=Ze,Ie.stackDetails=aw(oe||O||K),Ie.errorSrc=de,Ie},g.CreateFromInterface=function(y,_,S,N){var O=_[h4]&&g3(_[h4],function(oe){return lw[GI](y,oe)}),K=new g(y,qs(qs({},_),{exceptions:O}),S,N);return K},g.prototype.toInterface=function(){var y,_=this,S=_.exceptions,N=_.properties,O=_.measurements,K=_.severityLevel,oe=_.problemGroup,de=_.id,Ie=_.isManual,Ze=S instanceof Array&&g3(S,function(b0){return b0.toInterface()})||void 0;return y={ver:"4.0"},y[h4]=Ze,y.severityLevel=K,y.properties=N,y.measurements=O,y.problemGroup=oe,y.id=de,y.isManual=Ie,y},g.CreateSimpleException=function(y,_,S,N,O,K){var oe;return{exceptions:[(oe={},oe[lg]=!0,oe.message=y,oe.stack=O,oe.typeName=_,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=Px,g}(),lw=function(){function g(y,_,S){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var N=this;if(eM(_))N[nu]=_[nu],N[l2]=_[l2],N[Ul]=_[Ul],N[a1]=_[a1]||[],N[lg]=_[lg];else{var O=_,K=O&&O.evt;B0(O)||(O=O[v4]||K||O),N[nu]=cl(y,ug(O))||_5,N[l2]=YI(y,sw(_||O,N[nu]))||_5;var oe=_[Ix]||aw(_);N[a1]=iM(oe),R0(N[a1])&&g3(N[a1],function(de){de[m4]=cl(y,de[m4]),de[f2]=cl(y,de[f2])}),N[Ul]=OO(y,nM(oe)),N.hasFullStack=R0(N.parsedStack)&&N.parsedStack[Oi]>0,S&&(S[nu]=S[nu]||N[nu])}}return o(g,"_ExceptionDetails"),g.prototype.toInterface=function(){var y,_=this,S=_[a1]instanceof Array&&g3(_[a1],function(O){return O.toInterface()}),N=(y={id:_.id,outerId:_.outerId,typeName:_[nu],message:_[l2],hasFullStack:_[lg],stack:_[Ul]},y[a1]=S||void 0,y);return N},g.CreateFromInterface=function(y,_){var S=_[a1]instanceof Array&&g3(_[a1],function(O){return Nx[GI](O)})||_[a1],N=new g(y,qs(qs({},_),{parsedStack:S}));return N},g}(),Nx=function(){function g(y,_){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var S=this;if(S[g4]=0,typeof y=="string"){var N=y;S[fg]=_,S[p4]=QO,S[m4]=qa(N),S[f2]="",S[v9]=0;var O=N.match(g.regex);O&&O[Oi]>=5&&(S[p4]=qa(O[2])||S[p4],S[f2]=qa(O[4]),S[v9]=parseInt(O[5])||0)}else S[fg]=y[fg],S[p4]=y[p4],S[m4]=y[m4],S[f2]=y[f2],S[v9]=y[v9],S[g4]=0;S.sizeInBytes+=S.method[Oi],S.sizeInBytes+=S.fileName[Oi],S.sizeInBytes+=S.assembly[Oi],S[g4]+=g.baseSize,S.sizeInBytes+=S.level.toString()[Oi],S.sizeInBytes+=S.line.toString()[Oi]}return o(g,"_StackFrame"),g.CreateFromInterface=function(y){return new g(y,null)},g.prototype.toInterface=function(){var y=this;return{level:y[fg],method:y[p4],assembly:y[m4],fileName:y[f2],line:y[v9]}},g.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,g.baseSize=58,g}(),sM=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),_9=function(){function g(y,_,S,N,O,K,oe,de,Ie){this.aiDataContract={ver:1,metrics:1,properties:0};var Ze=this;Ze.ver=2;var b0=new sM;b0[LO]=N>0?N:void 0,b0.max=isNaN(K)||K===null?void 0:K,b0.min=isNaN(O)||O===null?void 0:O,b0[b5]=cl(y,_)||_5,b0.value=S,b0.stdDev=isNaN(oe)||oe===null?void 0:oe,Ze.metrics=[b0],Ze[tu]=c2(y,de),Ze[ru]=u2(y,Ie)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),b9="";function fw(g){(isNaN(g)||g<0)&&(g=0),g=Math.round(g);var y=b9+g%1e3,_=b9+Math.floor(g/1e3)%60,S=b9+Math.floor(g/(1e3*60))%60,N=b9+Math.floor(g/(1e3*60*60))%24,O=Math.floor(g/(1e3*60*60*24));return y=y[Oi]===1?"00"+y:y[Oi]===2?"0"+y:y,_=_[Oi]<2?"0"+_:_,S=S[Oi]<2?"0"+S:S,N=N[Oi]<2?"0"+N:N,(O>0?O+".":b9)+N+":"+S+":"+_+"."+y}o(fw,"msToTimeSpan");var hg=function(){function g(y,_,S,N,O,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var de=this;de.ver=2,de.id=MO(y,oe),de.url=Ex(y,S),de[b5]=cl(y,_)||_5,isNaN(N)||(de[cg]=fw(N)),de[tu]=c2(y,O),de[ru]=u2(y,K)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),gg=function(){function g(y,_,S,N,O,K,oe,de,Ie,Ze,b0,E0){Ie===void 0&&(Ie="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var x0=this;x0.ver=2,x0.id=_,x0[cg]=fw(O),x0.success=K,x0.resultCode=oe+"",x0.type=cl(y,Ie);var f0=zO(y,S,de,N);x0.data=Ex(y,N)||f0.data,x0.target=cl(y,f0.target),Ze&&(x0.target="".concat(x0.target," | ").concat(Ze)),x0[b5]=cl(y,f0[b5]),x0[tu]=c2(y,b0),x0[ru]=u2(y,E0)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),mg=function(){function g(y,_,S,N,O){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var K=this;K.ver=2,_=_||_5,K[l2]=YI(y,_),K[tu]=c2(y,N),K[ru]=u2(y,O),S&&(K[y9]=S)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),pg=function(){function g(y,_,S,N,O,K,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var de=this;de.ver=2,de.url=Ex(y,S),de[b5]=cl(y,_)||_5,de[tu]=c2(y,O),de[ru]=u2(y,K),oe&&(de.domProcessing=oe.domProcessing,de[cg]=oe[cg],de.networkConnect=oe.networkConnect,de.perfTotal=oe.perfTotal,de[KI]=oe[KI],de.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),h2=function(){function g(y,_){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=_}return o(g,"Data"),g}(),oM=N6({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function C5(g){var y="ai."+g+".";return function(_){return y+_}}o(C5,"_aiNameFunc");var C9=C5("application"),ga=C5("device"),yg=C5("location"),x4=C5("operation"),Rx=C5("session"),E5=C5("user"),g2=C5("cloud"),E9=C5("internal"),cw=function(g){R3(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(r5({applicationVersion:C9("ver"),applicationBuild:C9("build"),applicationTypeId:C9("typeId"),applicationId:C9("applicationId"),applicationLayer:C9("layer"),deviceId:ga("id"),deviceIp:ga("ip"),deviceLanguage:ga("language"),deviceLocale:ga("locale"),deviceModel:ga("model"),deviceFriendlyName:ga("friendlyName"),deviceNetwork:ga("network"),deviceNetworkName:ga("networkName"),deviceOEMName:ga("oemName"),deviceOS:ga("os"),deviceOSVersion:ga("osVersion"),deviceRoleInstance:ga("roleInstance"),deviceRoleName:ga("roleName"),deviceScreenResolution:ga("screenResolution"),deviceType:ga("type"),deviceMachineName:ga("machineName"),deviceVMName:ga("vmName"),deviceBrowser:ga("browser"),deviceBrowserVersion:ga("browserVersion"),locationIp:yg("ip"),locationCountry:yg("country"),locationProvince:yg("province"),locationCity:yg("city"),operationId:x4("id"),operationName:x4("name"),operationParentId:x4("parentId"),operationRootId:x4("rootId"),operationSyntheticSource:x4("syntheticSource"),operationCorrelationVector:x4("correlationVector"),sessionId:Rx("id"),sessionIsFirst:Rx("isFirst"),sessionIsNew:Rx("isNew"),userAccountAcquisitionDate:E5("accountAcquisitionDate"),userAccountId:E5("accountId"),userAgent:E5("userAgent"),userId:E5("id"),userStoreRegion:E5("storeRegion"),userAuthUserId:E5("authUserId"),userAnonymousUserAcquisitionDate:E5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:E5("authUserAcquisitionDate"),cloudName:g2("name"),cloudRole:g2("role"),cloudRoleVer:g2("roleVer"),cloudRoleInstance:g2("roleInstance"),cloudEnvironment:g2("environment"),cloudLocation:g2("location"),cloudDeploymentUnit:g2("deploymentUnit"),internalNodeName:E9("nodeName"),internalSdkVersion:E9("sdkVersion"),internalAgentVersion:E9("agentVersion"),internalSnippet:E9("snippet"),internalSdkSrc:E9("sdkSrc")})),Va=new cw,aM="AppInsightsChannelPlugin",m2="duration",za="tags",kx="deviceType",Ga="data",iu="name",T9="traceID",vn="length",S9="stringify",p2="measurements",rc="dataType",y2="envelopeType",v2="toString",vg="onLine",Bx="isOnline",I9="_get",x2="enqueue",_4="count",uw="eventsLimitInMem",b4="push",Dx="emitLineDelimitedJson",_2="clear",Lx="batchPayloads",Fx="createNew",w9="markAsSent",A9="clearSent",Ox="bufferOverride",Mx="BUFFER_KEY",T5="SENT_BUFFER_KEY",P9="MAX_BUFFER_SIZE",Ux="sendPOST",N9="triggerSend",Ka="diagLog",R9="_sender",qx="customHeaders",dw="maxBatchSizeInBytes",hw="onunloadDisableBeacon",$x="isBeaconApiDisabled",gw="alwaysUseXhrOverride",mw="enableSessionStorageBuffer",S5="_buffer",pw="onunloadDisableFetch",yw="disableSendBeaconSplit",vw="instrumentationKey",xw="convertUndefined",_w="maxBatchInterval",Hx="baseType",xg="sampleRate",lM="_xhrReadyStateChange",b2="_onError",jx="_onPartialSuccess",_g="_onSuccess",bg="itemsAccepted",fM="itemsReceived",k9="oriPayload",Vx="setRequestHeader",bw="eventsSendRequest",Cw="getSamplingScore",cM="getHashCodeScore",zx="baseType",Rs="baseData",Ta="properties",Ew="true";function $o(g,y,_){return r1(g,y,_,U0)}o($o,"_setValueIf");function uM(g,y,_){var S=_[za]=_[za]||{},N=y.ext=y.ext||{},O=y[za]=y[za]||[],K=N.user;K&&($o(S,Va.userAuthUserId,K.authId),$o(S,Va.userId,K.id||K.localId));var oe=N.app;oe&&$o(S,Va.sessionId,oe.sesId);var de=N.device;de&&($o(S,Va.deviceId,de.id||de.localId),$o(S,Va[kx],de.deviceClass),$o(S,Va.deviceIp,de.ip),$o(S,Va.deviceModel,de.model),$o(S,Va[kx],de[kx]));var Ie=y.ext.web;if(Ie){$o(S,Va.deviceLanguage,Ie.browserLang),$o(S,Va.deviceBrowserVersion,Ie.browserVer),$o(S,Va.deviceBrowser,Ie.browser);var Ze=_[Ga]=_[Ga]||{},b0=Ze[Rs]=Ze[Rs]||{},E0=b0[Ta]=b0[Ta]||{};$o(E0,"domain",Ie.domain),$o(E0,"isManual",Ie.isManual?Ew:null),$o(E0,"screenRes",Ie.screenRes),$o(E0,"userConsent",Ie.userConsent?Ew:null)}var x0=N.os;x0&&$o(S,Va.deviceOS,x0[iu]);var f0=N.trace;f0&&($o(S,Va.operationParentId,f0.parentID),$o(S,Va.operationName,cl(g,f0[iu])),$o(S,Va.operationId,f0[T9]));for(var $0={},I0=O[vn]-1;I0>=0;I0--){var V0=O[I0];Mt(V0,function(H0,Yt){$0[H0]=Yt}),O.splice(I0,1)}Mt(O,function(H0,Yt){$0[H0]=Yt});var k0=qs(qs({},S),$0);k0[Va.internalSdkVersion]||(k0[Va.internalSdkVersion]=cl(g,"javascript:".concat(dM.Version),64)),_[za]=zr(k0)}o(uM,"_extractPartAExtensions");function I5(g,y,_){l0(g)||Mt(g,function(S,N){X0(N)?_[S]=N:ve(N)?y[S]=N:fl()&&(y[S]=Ca()[S9](N))})}o(I5,"_extractPropsAndMeasurements");function C2(g,y){l0(g)||Mt(g,function(_,S){g[_]=S||y})}o(C2,"_convertPropsUndefinedToCustomDefinedValue");function E2(g,y,_,S){var N=new ZO(g,S,y);$o(N,"sampleRate",_[VI]),(_[Rs]||{}).startTime&&(N.time=Gd(_[Rs].startTime)),N.iKey=_.iKey;var O=_.iKey.replace(/-/g,"");return N[iu]=N[iu].replace("{0}",O),uM(g,_,N),_[za]=_[za]||[],zr(N)}o(E2,"_createEnvelope");function T2(g,y){l0(y[Rs])&&Er(g,1,46,"telemetryItem.baseData cannot be null.")}o(T2,"EnvelopeCreatorInit");var dM={Version:"3.0.7"};function hM(g,y,_){T2(g,y);var S=y[Rs][p2]||{},N=y[Rs][Ta]||{};I5(y[Ga],N,S),l0(_)||C2(N,_);var O=y[Rs];if(l0(O))return l4(g,"Invalid input for dependency data"),null;var K=O[Ta]&&O[Ta][zI]?O[Ta][zI]:"GET",oe=new gg(g,O.id,O.target,O[iu],O[m2],O.success,O.responseCode,K,O.type,O.correlationContext,N,S),de=new h2(gg[rc],oe);return E2(g,gg[y2],y,de)}o(hM,"DependencyEnvelopeCreator");function Tw(g,y,_){T2(g,y);var S={},N={};y[zx]!==y4[rc]&&(S.baseTypeSource=y[zx]),y[zx]===y4[rc]?(S=y[Rs][Ta]||{},N=y[Rs][p2]||{}):y[Rs]&&I5(y[Rs],S,N),I5(y[Ga],S,N),l0(_)||C2(S,_);var O=y[Rs][iu],K=new y4(g,O,S,N),oe=new h2(y4[rc],K);return E2(g,y4[y2],y,oe)}o(Tw,"EventEnvelopeCreator");function gM(g,y,_){T2(g,y);var S=y[Rs][p2]||{},N=y[Rs][Ta]||{};I5(y[Ga],N,S),l0(_)||C2(N,_);var O=y[Rs],K=dg.CreateFromInterface(g,O,N,S),oe=new h2(dg[rc],K);return E2(g,dg[y2],y,oe)}o(gM,"ExceptionEnvelopeCreator");function mM(g,y,_){T2(g,y);var S=y[Rs],N=S[Ta]||{},O=S[p2]||{};I5(y[Ga],N,O),l0(_)||C2(N,_);var K=new _9(g,S[iu],S.average,S.sampleCount,S.min,S.max,S.stdDev,N,O),oe=new h2(_9[rc],K);return E2(g,_9[y2],y,oe)}o(mM,"MetricEnvelopeCreator");function pM(g,y,_){T2(g,y);var S,N=y[Rs];!l0(N)&&!l0(N[Ta])&&!l0(N[Ta][m2])?(S=N[Ta][m2],delete N[Ta][m2]):!l0(y[Ga])&&!l0(y[Ga][m2])&&(S=y[Ga][m2],delete y[Ga][m2]);var O=y[Rs],K;((y.ext||{}).trace||{})[T9]&&(K=y.ext.trace[T9]);var oe=O.id||K,de=O[iu],Ie=O.uri,Ze=O[Ta]||{},b0=O[p2]||{};if(l0(O.refUri)||(Ze.refUri=O.refUri),l0(O.pageType)||(Ze.pageType=O.pageType),l0(O.isLoggedIn)||(Ze.isLoggedIn=O.isLoggedIn[v2]()),!l0(O[Ta])){var E0=O[Ta];Mt(E0,function($0,I0){Ze[$0]=I0})}I5(y[Ga],Ze,b0),l0(_)||C2(Ze,_);var x0=new hg(g,de,Ie,S,Ze,b0,oe),f0=new h2(hg[rc],x0);return E2(g,hg[y2],y,f0)}o(pM,"PageViewEnvelopeCreator");function yM(g,y,_){T2(g,y);var S=y[Rs],N=S[iu],O=S.uri||S.url,K=S[Ta]||{},oe=S[p2]||{};I5(y[Ga],K,oe),l0(_)||C2(K,_);var de=new pg(g,N,O,void 0,K,oe,S),Ie=new h2(pg[rc],de);return E2(g,pg[y2],y,Ie)}o(yM,"PageViewPerformanceEnvelopeCreator");function vM(g,y,_){T2(g,y);var S=y[Rs].message,N=y[Rs].severityLevel,O=y[Rs][Ta]||{},K=y[Rs][p2]||{};I5(y[Ga],O,K),l0(_)||C2(O,_);var oe=new mg(g,S,N,O,K),de=new h2(mg[rc],oe);return E2(g,mg[y2],y,de)}o(vM,"TraceEnvelopeCreator");function Sw(g,y){BO(g,null,null,y)}o(Sw,"_disableEvents");function xM(g){var y,_=w1(),S=P1(),N=!1,O=!0,K=HI(K1("OfflineListener"),g);try{if(de(A1())&&(N=!0),_){var oe=_.body||_;oe.ononline&&de(oe)&&(N=!0)}N&&S&&!l0(S[vg])&&(O=S[vg])}catch{N=!1}function de(x0){var f0=!1;return x0&&(f0=jI(x0,"online",Ie,K),f0&&jI(x0,"offline",Ze,K)),f0}o(de,"_enableEvents");function Ie(){O=!0}o(Ie,"_setOnline");function Ze(){O=!1}o(Ze,"_setOffline");function b0(){var x0=!0;return N?x0=O:S&&!l0(S[vg])&&(x0=S[vg]),x0}o(b0,"_isOnline");function E0(){var x0=A1();if(x0&&N){if(Sw(x0,K),_){var f0=_.body||_;o0(f0.ononline)||Sw(f0,K)}N=!1}}return o(E0,"_unload"),y={},y[Bx]=b0,y.isListening=function(){return N},y.unload=E0,y}o(xM,"createOfflineListener");var Iw=function(){function g(y,_){var S=[],N=!1;this[I9]=function(){return S},this._set=function(O){return S=O,S},_a(g,this,function(O){O[x2]=function(K){if(O[_4]()>=_[uw]){N||(Er(y,2,105,"Maximum in-memory buffer size reached: "+O[_4](),!0),N=!0);return}S[b4](K)},O[_4]=function(){return S[vn]},O.size=function(){for(var K=S[vn],oe=0;oe<S[vn];oe++)K+=S[oe][vn];return _[Dx]||(K+=2),K},O[_2]=function(){S=[],N=!1},O.getItems=function(){return S.slice(0)},O[Lx]=function(K){if(K&&K[vn]>0){var oe=_[Dx]?K.join(`
`):"["+K.join(",")+"]";return oe}return null},O[Fx]=function(K,oe,de){var Ie=S.slice(0);K=K||y,oe=oe||{};var Ze=de?new ww(K,oe):new Gx(K,oe);return Br(Ie,function(b0){Ze[x2](b0)}),Ze}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),Gx=function(g){R3(y,g);function y(_,S){var N=g.call(this,_,S)||this;return _a(y,N,function(O,K){O[w9]=function(oe){K[_2]()},O[A9]=function(oe){}}),N}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(Iw),ww=function(g){R3(y,g);function y(_,S){var N=g.call(this,_,S)||this,O=!1,K=S==null?void 0:S.namePrefix,oe=S[Ox]||{getItem:KO,setItem:WO},de=oe.getItem,Ie=oe.setItem;return _a(y,N,function(Ze,b0){var E0=I0(y[Mx]),x0=I0(y[T5]),f0=Ze._set(E0.concat(x0));f0[vn]>y[P9]&&(f0[vn]=y[P9]),V0(y[T5],[]),V0(y[Mx],f0),Ze[x2]=function(k0){if(Ze[_4]()>=y[P9]){O||(Er(_,2,67,"Maximum buffer size reached: "+Ze[_4](),!0),O=!0);return}b0[x2](k0),V0(y.BUFFER_KEY,Ze[I9]())},Ze[_2]=function(){b0[_2](),V0(y.BUFFER_KEY,Ze[I9]()),V0(y[T5],[]),O=!1},Ze[w9]=function(k0){V0(y[Mx],Ze._set($0(k0,Ze[I9]())));var H0=I0(y[T5]);H0 instanceof Array&&k0 instanceof Array&&(H0=H0.concat(k0),H0[vn]>y[P9]&&(Er(_,1,67,"Sent buffer reached its maximum size: "+H0[vn],!0),H0[vn]=y[P9]),V0(y[T5],H0))},Ze[A9]=function(k0){var H0=I0(y[T5]);H0=$0(k0,H0),V0(y[T5],H0)},Ze[Fx]=function(k0,H0,Yt){Yt=!!Yt;var Zr=Ze[I9]().slice(0),Ki=I0(y[T5]).slice(0);k0=k0||_,H0=H0||{},Ze[_2]();var Fs=Yt?new y(k0,H0):new Gx(k0,H0);return Br(Zr,function(Ss){Fs[x2](Ss)}),Yt&&Fs[w9](Ki),Fs};function $0(k0,H0){var Yt=[];return Br(H0,function(Zr){!g0(Zr)&&Dl(k0,Zr)===-1&&Yt[b4](Zr)}),Yt}o($0,"_removePayloadsFromBuffer");function I0(k0){var H0=k0;try{H0=K?K+"_"+H0:H0;var Yt=de(_,H0);if(Yt){var Zr=Ca().parse(Yt);if(ve(Zr)&&(Zr=Ca().parse(Zr)),Zr&&R0(Zr))return Zr}}catch(Ki){Er(_,1,42," storage key: "+H0+", "+ll(Ki),{exception:gn(Ki)})}return[]}o(I0,"_getBuffer");function V0(k0,H0){var Yt=k0;try{Yt=K?K+"_"+Yt:Yt;var Zr=JSON[S9](H0);Ie(_,Yt,Zr)}catch(Ki){Ie(_,Yt,JSON[S9]([])),Er(_,2,41," storage key: "+Yt+", "+ll(Ki)+". Buffer cleared",{exception:gn(Ki)})}}o(V0,"_setBuffer")}),N}return o(y,"SessionStorageSendBuffer"),y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(Iw),_M=function(){function g(y){_a(g,this,function(_){_.serialize=function(K){var oe=S(K,"root");try{return Ca()[S9](oe)}catch(de){Er(y,1,48,de&&g0(de[v2])?de[v2]():"Error serializing object",null,!0)}};function S(K,oe){var de="__aiCircularRefCheck",Ie={};if(!K)return Er(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),Ie;if(K[de])return Er(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),Ie;if(!K.aiDataContract){if(oe==="measurements")Ie=O(K,"number",oe);else if(oe==="properties")Ie=O(K,"string",oe);else if(oe==="tags")Ie=O(K,"string",oe);else if(R0(K))Ie=N(K,oe);else{Er(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{Ca()[S9](K),Ie=K}catch(Ze){Er(y,1,48,Ze&&g0(Ze[v2])?Ze[v2]():"Error serializing object",null,!0)}}return Ie}return K[de]=!0,Mt(K.aiDataContract,function(Ze,b0){var E0=g0(b0)?b0()&1:b0&1,x0=g0(b0)?b0()&4:b0&4,f0=b0&2,$0=K[Ze]!==void 0,I0=N0(K[Ze])&&K[Ze]!==null;if(E0&&!$0&&!f0)Er(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Ze,name:oe});else if(!x0){var V0=void 0;I0?f0?V0=N(K[Ze],Ze):V0=S(K[Ze],Ze):V0=K[Ze],V0!==void 0&&(Ie[Ze]=V0)}}),delete K[de],Ie}o(S,"_serializeObject");function N(K,oe){var de;if(K)if(!R0(K))Er(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{de=[];for(var Ie=0;Ie<K[vn];Ie++){var Ze=K[Ie],b0=S(Ze,oe+"["+Ie+"]");de[b4](b0)}}return de}o(N,"_serializeArray");function O(K,oe,de){var Ie;return K&&(Ie={},Mt(K,function(Ze,b0){if(oe==="string")b0===void 0?Ie[Ze]="undefined":b0===null?Ie[Ze]="null":b0[v2]?Ie[Ze]=b0[v2]():Ie[Ze]="invalid field: toString() is not defined.";else if(oe==="number")if(b0===void 0)Ie[Ze]="undefined";else if(b0===null)Ie[Ze]="null";else{var E0=parseFloat(b0);isNaN(E0)?Ie[Ze]="NaN":Ie[Ze]=E0}else Ie[Ze]="invalid field: "+de+" is of unknown type.",Er(y,1,Ie[Ze],null,!0)})),Ie}o(O,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),bM=8,CM=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var _=this.getHashCode(y)/g.INT_MAX_VALUE;return _*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[vn]<bM;)y=y.concat(y);for(var _=5381,S=0;S<y[vn];++S)_=(_<<5)+_+y.charCodeAt(S),_=_&_;return Math.abs(_)},g.INT_MAX_VALUE=2147483647,g}(),EM=function(){function g(){var y=this,_=new CM,S=new cw;y[Cw]=function(N){var O=0;return N[za]&&N[za][S.userId]?O=_.getHashCodeScore(N[za][S.userId]):N.ext&&N.ext.user&&N.ext.user.id?O=_[cM](N.ext.user.id):N[za]&&N[za][S.operationId]?O=_.getHashCodeScore(N[za][S.operationId]):N.ext&&N.ext.telemetryTrace&&N.ext.telemetryTrace[T9]?O=_.getHashCodeScore(N.ext.telemetryTrace[T9]):O=Math.random()*100,O}}return o(g,"SamplingScoreGenerator"),g}(),TM=function(){function g(y,_){this.INT_MAX_VALUE=2147483647;var S=_||a4(null);(y>100||y<0)&&(S.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[xg]=y,this.samplingScoreGenerator=new EM}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var _=this[xg],S=!1;return _==null||_>=100||y.baseType===_9[rc]?!0:(S=this.samplingScoreGenerator[Cw](y)<_,S)},g}(),Hs,su,w5=void 0,SM=65e3;function Cg(g){try{return g.responseText}catch{}return null}o(Cg,"_getResponseText");function IM(g){return g&&g[Ux]}o(IM,"isOverrideFn");var Aw=al((Hs={endpointUrl:i4(U0,yx+p9)},Hs[Dx]=bf(),Hs[_w]=15e3,Hs[dw]=102400,Hs.disableTelemetry=bf(),Hs[mw]=bf(!0),Hs.isRetryDisabled=bf(),Hs[$x]=bf(!0),Hs[yw]=bf(),Hs.disableXhr=bf(),Hs[pw]=bf(),Hs[hw]=bf(),Hs[vw]=w5,Hs.namePrefix=w5,Hs.samplingPercentage=i4(wM,100),Hs[qx]=w5,Hs[xw]=w5,Hs[uw]=1e4,Hs[Ox]=!1,Hs.httpXHROverride={isVal:IM,v:w5},Hs[gw]=bf(),Hs));function wM(g){return!isNaN(g)&&g>0&&g<=100}o(wM,"_chkSampling");var AM=(su={},su[y4.dataType]=Tw,su[mg.dataType]=vM,su[hg.dataType]=pM,su[pg.dataType]=yM,su[dg.dataType]=gM,su[_9.dataType]=mM,su[gg.dataType]=hM,su),Pw=function(g){R3(y,g);function y(){var _=g.call(this)||this;_.priority=1001,_.identifier=aM;var S,N,O,K,oe,de,Ie,Ze=0,b0,E0,x0,f0,$0,I0,V0,k0,H0,Yt,Zr,Ki,Fs,Ss,Sa,ea,C4,nc,J0,ic,E4,l1,ou;return _a(y,_,function(G0,Eg){Rw(),G0.pause=function(){au(),O=!0},G0.resume=function(){O&&(O=!1,N=null,I4(),ql())},G0.flush=function(y0,F0,vt){if(y0===void 0&&(y0=!0),!O){au();try{return G0[N9](y0,null,vt||1)}catch(hr){Er(G0[Ka](),1,22,"flush failed, telemetry will not be collected: "+ll(hr),{exception:gn(hr)})}}},G0.onunloadFlush=function(){if(!O)if(V0||nc)try{return G0[N9](!0,w0,2)}catch(y0){Er(G0[Ka](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ll(y0),{exception:gn(y0)})}else G0.flush(!1)},G0.addHeader=function(y0,F0){Ie[y0]=F0},G0.initialize=function(y0,F0,vt,hr){G0.isInitialized()&&Er(G0[Ka](),1,28,"Sender is already initialized"),Eg.initialize(y0,F0,vt,hr);var br=G0.identifier;oe=new _M(F0.logger),S=0,N=null,G0[R9]=null,de=0;var Sr=G0[Ka]();x0=HI(K1("Sender"),F0.evtNamespace&&F0.evtNamespace()),E0=xM(x0),G0._addHook(J1(y0,function(mn){var dn=mn.cfg;dn.storagePrefix&&GO(dn.storagePrefix);var Vs=Ur(null,dn,F0),Ar=Vs.getExtCfg(br,Aw);va(G0,"_senderConfig",{g:function(){return Ar}}),$0!==Ar.endpointUrl&&(f0=$0=Ar.endpointUrl),k0&&k0!==Ar[qx]&&Br(k0,function(ks){delete Ie[ks.header]}),I0=Ar[dw],V0=(Ar[hw]===!1||Ar[$x]===!1)&&l5(),nc=Ar[gw],J0=!!Ar.disableXhr;var f1=Ar[Ox],sc=!!Ar[mw]&&(!!f1||rw()),w4=Ar.namePrefix,Tg=sc!==Ss||sc&&ea!==w4||sc&&Sa!==f1;if(G0[S5]){if(Tg)try{G0._buffer=G0._buffer[Fx](Sr,Ar,sc)}catch(ks){Er(G0[Ka](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+ll(ks),{exception:gn(ks)})}I4()}else G0[S5]=sc?new ww(Sr,Ar):new Gx(Sr,Ar);ea=w4,Ss=sc,Sa=f1,ic=!Ar[pw]&&Zd(!0),ou=!!Ar[yw],G0._sample=new TM(Ar.samplingPercentage,Sr),Yt=Ar[vw],LM(Yt,dn)||Er(Sr,1,100,"Invalid Instrumentation key "+Yt),k0=Ar[qx],!Tx(f0)&&k0&&k0[vn]>0?Br(k0,function(ks){_.addHeader(ks.header,ks.value)}):k0=null,C4=Ar.enableSendPromise;var oc=Ar.httpXHROverride,A5=null,A4=null;A5=T4([1,2],!1);var wa={sendPOST:Rr};E4=o(function(ks,lu){return S2(wa,ks,lu)},"_xhrSend"),l1=o(function(ks,lu){return S2(wa,ks,lu,!1)},"_fallbackSend"),!Ar[$x]&&l5()&&(A5=T4([3],!1)),A5=nc?oc:A5||oc||wa,G0[R9]=function(ks,lu){return S2(A5,ks,lu)},ic&&(b0=Mr),A4=nc?oc:T4([3,1],!0)||oc,(nc||!b0)&&A4&&(b0=o(function(ks,lu){return S2(A4,ks,lu)},"_syncUnloadSender")),b0||(b0=E4),H0=Ar.disableTelemetry,Zr=Ar[xw]||w5,Ki=Ar.isRetryDisabled,Fs=Ar[_w]}))},G0.processTelemetry=function(y0,F0){F0=G0._getTelCtx(F0);var vt=F0[Ka]();try{if(H0)return;if(!y0){Er(vt,1,7,"Cannot send empty telemetry");return}if(y0.baseData&&!y0[Hx]){Er(vt,1,70,"Cannot send telemetry without baseData and baseType");return}if(y0[Hx]||(y0[Hx]="EventData"),!G0[R9]){Er(vt,1,28,"Sender was not initialized");return}if(B9(y0))y0[VI]=G0._sample[xg];else{Er(vt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:G0._sample[xg]});return}var hr=y0.iKey||Yt,br=y.constructEnvelope(y0,hr,vt,Zr);if(!br){Er(vt,1,47,"Unable to create an AppInsights envelope");return}var Sr=!1;if(y0[za]&&y0[za][px]&&(Br(y0[za][px],function(Vs){try{Vs&&Vs(br)===!1&&(Sr=!0,l4(vt,"Telemetry processor check returns false"))}catch(Ar){Er(vt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ll(Ar),{exception:gn(Ar)},!0)}}),delete y0[za][px]),Sr)return;var mn=oe.serialize(br),dn=G0[S5];I4(mn),dn[x2](mn),ql()}catch(Vs){Er(vt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ll(Vs),{exception:gn(Vs)})}G0.processNext(y0,F0)},G0[lM]=function(y0,F0,vt){y0.readyState===4&&L9(y0.status,F0,y0.responseURL,vt,Xx(y0),Cg(y0)||y0.response)},G0[N9]=function(y0,F0,vt){y0===void 0&&(y0=!0);var hr;if(!O)try{var br=G0[S5];if(H0)br[_2]();else if(br[_4]()>0){var Sr=br.getItems();DM(vt||0,y0),F0?hr=F0.call(G0,Sr,y0):hr=G0[R9](Sr,y0)}au()}catch(dn){var mn=W3();(!mn||mn>9)&&Er(G0[Ka](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ll(dn),{exception:gn(dn)})}return hr},G0._doTeardown=function(y0,F0){G0.onunloadFlush(),u5(E0,!1),Rw()},G0[b2]=function(y0,F0,vt){Er(G0[Ka](),2,26,"Failed to send telemetry.",{message:F0}),G0._buffer&&G0._buffer[A9](y0)},G0[jx]=function(y0,F0){for(var vt=[],hr=[],br=F0.errors.reverse(),Sr=0,mn=br;Sr<mn.length;Sr++){var dn=mn[Sr],Vs=y0.splice(dn.index,1)[0];O9(dn.statusCode)?hr[b4](Vs):vt[b4](Vs)}y0[vn]>0&&G0[_g](y0,F0[bg]),vt[vn]>0&&G0[b2](vt,Xx(null,["partial success",F0[bg],"of",F0.itemsReceived].join(" "))),hr[vn]>0&&(js(hr),Er(G0[Ka](),2,40,"Partial success. Delivered: "+y0[vn]+", Failed: "+vt[vn]+". Will retry to send "+hr[vn]+" our of "+F0[fM]+" items"))},G0[_g]=function(y0,F0){G0._buffer&&G0._buffer[A9](y0)},G0._xdrOnLoad=function(y0,F0){var vt=Cg(y0);if(y0&&(vt+""=="200"||vt===""))S=0,G0[_g](F0,0);else{var hr=Wi(vt);hr&&hr.itemsReceived&&hr.itemsReceived>hr[bg]&&!Ki?G0[jx](F0,hr):G0[b2](F0,Nw(y0))}};function B9(y0){return G0._sample.isSampledIn(y0)}o(B9,"_isSampledIn");function T4(y0,F0){for(var vt,hr=null,br=null,Sr=0;br==null&&Sr<y0[vn];)hr=y0[Sr],!J0&&hr===1?P7()?br=kM:Yc()&&(br=Rr):hr===2&&Zd(F0)?br=Yx:l5()&&hr===3&&(br=Nr),Sr++;return br?(vt={},vt[Ux]=br,vt):null}o(T4,"_getSenderInterface");function S4(y0,F0,vt,hr){F0===200&&y0?G0._onSuccess(y0,y0[vn]):hr&&G0[b2](y0,hr)}o(S4,"_getOnComplete");function S2(y0,F0,vt,hr){hr===void 0&&(hr=!0);var br=o(function(dn,Vs,Ar){return S4(F0,dn,Vs,Ar)},"onComplete"),Sr=D9(F0),mn=y0&&y0[Ux];return mn&&Sr?(hr&&G0._buffer[w9](F0),mn(Sr,br,!vt)):null}o(S2,"_doSend");function D9(y0){var F0;if(R0(y0)&&y0[vn]>0){var vt=G0._buffer[Lx](y0),hr=(F0={},F0[Ga]=vt,F0.urlString=f0,F0.headers=Ie,F0.disableXhrSync=J0,F0.disableFetchKeepAlive=!ic,F0[k9]=y0,F0);return hr}return null}o(D9,"_getPayload");function Yx(y0,F0,vt){return Qi(y0,F0,!1)}o(Yx,"_fetchSender");function I4(y0){var F0=y0?y0[vn]:0;return G0[S5].size()+F0>I0?((!E0||E0[Bx]())&&G0[N9](!0,null,10),!0):!1}o(I4,"_checkMaxSize");function L9(y0,F0,vt,hr,br,Sr){var mn=null;if(G0._appId||(mn=Wi(Sr),mn&&mn.appId&&(G0._appId=mn.appId)),(y0<200||y0>=300)&&y0!==0){if((y0===301||y0===307||y0===308)&&!F9(vt)){G0[b2](F0,br);return}!Ki&&O9(y0)?(js(F0),Er(G0[Ka](),2,40,". Response code "+y0+". Will retry to send "+F0[vn]+" items.")):G0[b2](F0,br)}else if(E0&&!E0[Bx]()){if(!Ki){var dn=10;js(F0,dn),Er(G0[Ka](),2,40,". Offline - Response Code: ".concat(y0,". Offline status: ").concat(!E0.isOnline(),". Will retry to send ").concat(F0.length," items."))}}else F9(vt),y0===206?(mn||(mn=Wi(Sr)),mn&&!Ki?G0[jx](F0,mn):G0[b2](F0,br)):(S=0,G0[_g](F0,hr))}o(L9,"_checkResponsStatus");function F9(y0){return de>=10?!1:!l0(y0)&&y0!==""&&y0!==f0?(f0=y0,++de,!0):!1}o(F9,"_checkAndUpdateEndPointUrl");function tf(y0,F0,vt,hr){try{y0(F0,vt,hr)}catch{}}o(tf,"_doOnComplete");function w0(y0,F0){if(b0)b0(y0,!1);else{var vt=D9(y0);Nr(vt)}}o(w0,"_doUnloadSend");function St(y0,F0){var vt=P1(),hr=f0,br=G0[S5],Sr=br[Lx](y0),mn=new Blob([Sr],{type:"text/plain;charset=UTF-8"}),dn=vt.sendBeacon(hr,mn);return dn&&G0._onSuccess(y0,y0[vn]),dn}o(St,"_doBeaconSend");function Nr(y0,F0,vt){var hr=y0,br=hr&&hr[k9];if(R0(br)&&br[vn]>0&&!St(br))if(ou)l1&&l1(br,!0),Er(G0[Ka](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var Sr=[],mn=0;mn<br[vn];mn++){var dn=br[mn];St([dn])||Sr[b4](dn)}Sr[vn]>0&&(l1&&l1(Sr,!0),Er(G0[Ka](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Nr,"_beaconSender");function Rr(y0,F0,vt){var hr=y0,br,Sr,mn,dn=new XMLHttpRequest,Vs=f0;try{dn[mx]=!0}catch{}return dn.open("POST",Vs,!vt),dn[Vx]("Content-type","application/json"),Tx(Vs)&&dn[Vx](og[6],og[7]),Br(fa(Ie),function(Ar){dn[Vx](Ar,Ie[Ar])}),dn.onreadystatechange=function(){var Ar=hr[k9];G0._xhrReadyStateChange(dn,Ar,Ar[vn]),dn.readyState===4&&Sr&&Sr(!0)},dn.onerror=function(Ar){tf(F0,400,{},Xx(dn)),mn&&mn(Ar)},!vt&&C4&&(br=M1(function(Ar,f1){Sr=Ar,mn=f1})),dn.send(y0[Ga]),br}o(Rr,"_xhrSender");function Mr(y0,F0){var vt=o(function(mn,dn,Vs){return S4(y0,mn,dn,Vs)},"onComplete");if(R0(y0)){for(var hr=y0[vn],br=0;br<y0[vn];br++)hr+=y0[br][vn];var Sr=D9(y0);G0._buffer[w9](y0),Ze+hr<=SM?Qi(Sr,vt,!0):l5()?Nr(Sr):(l1&&l1(y0,!0),Er(G0[Ka](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(Mr,"_fetchKeepAliveSender");function Qi(y0,F0,vt){var hr,br=f0,Sr=y0,mn=Sr[Ga],dn=new Blob([mn],{type:"application/json"}),Vs,Ar,f1,sc=new Headers,w4=mn[vn],Tg=!1,oc=!1;Tx(br)&&sc.append(og[6],og[7]),Br(fa(Ie),function(wa){sc.append(wa,Ie[wa])});var A5=(hr={method:"POST",headers:sc,body:dn},hr[mx]=!0,hr);vt&&(A5.keepalive=!0,Tg=!0,Ze+=w4);var A4=new Request(br,A5);try{A4[mx]=!0}catch{}!vt&&C4&&(Vs=M1(function(wa,ks){Ar=wa,f1=ks}));try{Zu(fetch(A4),function(wa){if(vt&&(Ze-=w4,w4=0),!oc)if(oc=!0,wa.rejected)tf(F0,400,{},wa.reason&&wa.reason.message),f1&&f1(wa.reason);else{var ks=wa.value;ks.ok?Zu(ks.text(),function(lu){var kw=Sr[k9];L9(ks.status,kw,ks.url,kw[vn],ks.statusText,lu.value||""),Ar&&Ar(!0)}):(tf(F0,400,{},ks.statusText),Ar&&Ar(!1))}})}catch(wa){oc||(tf(F0,400,{},gn(wa)),f1&&f1(wa))}return Tg&&!oc&&(oc=!0,tf(F0,200,{}),Ar&&Ar(!0)),Vs}o(Qi,"_doFetchSender");function Wi(y0){try{if(y0&&y0!==""){var F0=Ca().parse(y0);if(F0&&F0.itemsReceived&&F0.itemsReceived>=F0[bg]&&F0.itemsReceived-F0.itemsAccepted===F0.errors[vn])return F0}}catch(vt){Er(G0[Ka](),1,43,"Cannot parse the response. "+ll(vt),{response:y0})}return null}o(Wi,"_parseResponse");function js(y0,F0){if(F0===void 0&&(F0=1),!(!y0||y0[vn]===0)){var vt=G0[S5];vt[A9](y0),S++;for(var hr=0,br=y0;hr<br.length;hr++){var Sr=br[hr];vt[x2](Sr)}Ia(F0),ql()}}o(js,"_resendPayload");function Ia(y0){var F0=10,vt;if(S<=1)vt=F0;else{var hr=(Math.pow(2,S)-1)/2,br=Math.floor(Math.random()*hr*F0)+1;br=y0*br,vt=Math.max(Math.min(br,3600),F0)}var Sr=Wf()+vt*1e3;N=Sr}o(Ia,"_setRetryTime");function ql(){if(!K&&!O){var y0=N?Math.max(0,N-Wf()):0,F0=Math.max(Fs,y0);K=Fc(function(){K=null,G0[N9](!0,null,1)},F0)}}o(ql,"_setupTimer");function au(){K&&K.cancel(),K=null,N=null}o(au,"_clearScheduledTimer");function O9(y0){return y0===401||y0===403||y0===408||y0===429||y0===500||y0===502||y0===503||y0===504}o(O9,"_isRetriable");function Xx(y0,F0){return y0?"XMLHttpRequest,Status:"+y0.status+",Response:"+Cg(y0)||y0.response||"":F0}o(Xx,"_formatErrorMessageXhr");function kM(y0,F0,vt){var hr=y0,br=A1(),Sr=new XDomainRequest,mn=hr[Ga];Sr.onload=function(){var Ar=hr[k9];G0._xdrOnLoad(Sr,Ar)},Sr.onerror=function(){tf(F0,400,{},Nw(Sr))};var dn=br&&br.location&&br.location.protocol||"";if(f0.lastIndexOf(dn,0)!==0){Er(G0[Ka](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),G0._buffer[_2]();return}var Vs=f0.replace(/^(https?:)/,"");Sr.open("POST",Vs),Sr.send(mn)}o(kM,"_xdrSender");function Nw(y0,F0){return y0?"XDomainRequest,Response:"+Cg(y0)||"":F0}o(Nw,"_formatErrorMessageXdr");function BM(){var y0="getNotifyMgr";return G0.core[y0]?G0.core[y0]():G0.core._notificationManager}o(BM,"_getNotifyMgr");function DM(y0,F0){var vt=BM();if(vt&&vt[bw])try{vt[bw](y0,F0)}catch(hr){Er(G0[Ka](),1,74,"send request notification failed: "+ll(hr),{exception:gn(hr)})}}o(DM,"_notifySendRequest");function LM(y0,F0){var vt=F0.disableInstrumentationKeyValidation,hr=l0(vt)?!1:vt;if(hr)return!0;var br="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",Sr=new RegExp(br);return Sr.test(y0)}o(LM,"_validateInstrumentationKey");function Rw(){G0[R9]=null,G0[S5]=null,G0._appId=null,G0._sample=null,Ie={},E0=null,S=0,N=null,O=!1,K=null,oe=null,de=0,Ze=0,b0=null,x0=null,f0=null,$0=null,I0=0,V0=!1,k0=null,H0=!1,Yt=null,Zr=w5,Ki=!1,Ss=null,ea=w5,J0=!1,ic=!1,ou=!1,E4=null,l1=null,va(G0,"_senderConfig",{g:function(){return Kc({},Aw)}})}o(Rw,"_initDefaults")}),_}return o(y,"Sender"),y.constructEnvelope=function(_,S,N,O){var K;S!==_.iKey&&!l0(S)?K=qs(qs({},_),{iKey:S}):K=_;var oe=AM[K.baseType]||Tw;return oe(N,K,O)},y}(o2),Kx="instrumentationKey",Wx="connectionString",PM={diagnosticLogInterval:i4(NM,1e4)};function NM(g){return g&&g>0}o(NM,"_chkDiagLevel");var RM=function(){function g(y){var _=new x5,S;(l0(y)||l0(y[Kx])&&l0(y[Wx]))&&vr("Invalid input configuration"),_a(g,this,function(O){va(O,"config",{g:function(){return S}}),K(),O.initialize=K,O.track=N,Wd(O,_,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function K(){var oe=ja(y||{},PM);S=oe.cfg,_.addUnloadHook(J1(oe,function(){if(S[Wx]){var de=JO(S[Wx]),Ie=de.ingestionendpoint;S.endpointUrl=Ie?Ie+p9:S.endpointUrl,S[Kx]=de.instrumentationkey||S[Kx]}})),_.initialize(S,[new Pw])}o(K,"_initialize")});function N(O){O&&(O.baseData=O.baseData||{},O.baseType=O.baseType||"EventData"),_.track(O)}o(N,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=x5,e.ApplicationInsights=RM,e.Sender=Pw,e.SeverityLevel=oM,e.arrForEach=Br,e.isNullOrUndefined=l0,e.proxyFunctions=Wd,e.throwError=vr})});var UC=v0((wre,mR)=>{"use strict";var gR=require("fs"),MC;function xV(){try{return gR.statSync("/.dockerenv"),!0}catch{return!1}}o(xV,"hasDockerEnv");function _V(){try{return gR.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(_V,"hasDockerCGroup");mR.exports=()=>(MC===void 0&&(MC=xV()||_V()),MC)});var vR=v0((Pre,qC)=>{"use strict";var bV=require("os"),CV=require("fs"),pR=UC(),yR=o(()=>{if(process.platform!=="linux")return!1;if(bV.release().toLowerCase().includes("microsoft"))return!pR();try{return CV.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!pR():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?qC.exports=yR:qC.exports=yR()});var _R=v0((Rre,xR)=>{"use strict";xR.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var wR=v0((Bre,IR)=>{var EV=require("path"),TV=require("child_process"),{promises:Lp,constants:SR}=require("fs"),Dp=vR(),SV=UC(),HC=_R(),bR=EV.join(__dirname,"xdg-open"),{platform:A8,arch:CR}=process,IV=o(()=>{try{return Lp.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),$C;function wV(){return $C===void 0&&($C=IV()||SV()),$C}o(wV,"isInsideContainer");var AV=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await Lp.access(r,SR.F_OK),n=!0}catch{}if(!n)return e;let s=await Lp.readFile(r,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return l?(t=l.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),ER=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),Fp=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return ER(e.app,f=>Fp({...e,app:f}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return ER(t,f=>Fp({...e,app:{name:f,arguments:r}}));let n,s=[],l={};if(A8==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if(A8==="win32"||Dp&&!wV()&&!t){let f=await AV();n=Dp?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),Dp||(l.windowsVerbatimArguments=!0);let c=["Start"];e.wait&&c.push("-Wait"),t?(c.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&c.push(`"${e.target}"`),r.length>0&&(r=r.map(u=>`"\`"${u}\`""`),c.push(r.join(","))),e.target=Buffer.from(c.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let f=!__dirname||__dirname==="/",c=!1;try{await Lp.access(bR,SR.X_OK),c=!0}catch{}n=process.versions.electron||A8==="android"||f||!c?"xdg-open":bR}r.length>0&&s.push(...r),e.wait||(l.stdio="ignore",l.detached=!0)}e.target&&s.push(e.target),A8==="darwin"&&r.length>0&&s.push("--args",...r);let a=TV.spawn(n,s,l);return e.wait?new Promise((f,c)=>{a.once("error",c),a.once("close",u=>{if(!e.allowNonzeroExitCode&&u>0){c(new Error(`Exited with code ${u}`));return}f(a)})}):(a.unref(),a)},"baseOpen"),jC=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return Fp({...t,target:e})},"open"),PV=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return Fp({...t,app:{name:e,arguments:r}})},"openApp");function TR(e){if(typeof e=="string"||Array.isArray(e))return e;let{[CR]:t}=e;if(!t)throw new Error(`${CR} is not supported`);return t}o(TR,"detectArchBinary");function VC({[A8]:e},{wsl:t}){if(t&&Dp)return TR(t);if(!e)throw new Error(`${A8} is not supported`);return TR(e)}o(VC,"detectPlatformBinary");var Op={};HC(Op,"chrome",()=>VC({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));HC(Op,"firefox",()=>VC({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));HC(Op,"edge",()=>VC({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));jC.apps=Op;jC.openApp=PV;IR.exports=jC});var XC=v0((ane,NR)=>{"use strict";NR.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var kR=v0((fne,RR)=>{"use strict";var kV=XC();function BV(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=kV(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(BV,"parsePath");RR.exports=BV});var LR=v0((une,DR)=>{"use strict";var DV=kR();function LV(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(LV,"_interopDefaultLegacy");var FV=LV(DV),OV="text/plain",MV="us-ascii",BR=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),UV=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:l}=r.groups,a=n.split(";");l=t?"":l;let f=!1;a[a.length-1]==="base64"&&(a.pop(),f=!0);let c=(a.shift()||"").toLowerCase(),d=[...a.map(h=>{let[p,m=""]=h.split("=").map(v=>v.trim());return p==="charset"&&(m=m.toLowerCase(),m===MV)?"":`${p}${m?`=${m}`:""}`}).filter(Boolean)];return f&&d.push("base64"),(d.length>0||c&&c!==OV)&&d.unshift(c),`data:${d.join(";")},${f?s.trim():s}${l?`#${l}`:""}`},"normalizeDataURL");function qV(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return UV(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let a=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,f=0,c="";for(;;){let d=a.exec(s.pathname);if(!d)break;let h=d[0],p=d.index,m=s.pathname.slice(f,p);c+=m.replace(/\/{2,}/g,"/"),c+=h,f=p+h.length}let u=s.pathname.slice(f,s.pathname.length);c+=u.replace(/\/{2,}/g,"/"),s.pathname=c}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let a=s.pathname.split("/"),f=a[a.length-1];BR(f,t.removeDirectoryIndex)&&(a=a.slice(0,-1),s.pathname=a.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let a of[...s.searchParams.keys()])BR(a,t.removeQueryParameters)&&s.searchParams.delete(a);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let l=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!l.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(qV,"normalizeUrl");var JC=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(l=>{let a=new Error(l);throw a.subject_url=e,a},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>JC.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=qV(e,t));let s=FV.default(e);if(s.parse_failed){let l=s.href.match(r);l?(s.protocols=["ssh"],s.protocol="ssh",s.resource=l[2],s.host=l[2],s.user=l[1],s.pathname=`/${l[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");JC.MAX_INPUT_LENGTH=2048;DR.exports=JC});var MR=v0((hne,OR)=>{"use strict";var $V=XC();function FR(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=$V(e);if(e=e.substring(e.indexOf("://")+3),FR(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(FR,"isSsh");OR.exports=FR});var $R=v0((mne,qR)=>{"use strict";var HV=LR(),UR=MR();function jV(e){var t=HV(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),UR(t.protocols)||t.protocols.length===0&&UR(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(jV,"gitUp");qR.exports=jV});var jR=v0((yne,HR)=>{"use strict";var VV=$R();function ZC(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=VV(e),n=r.resource.split("."),s=null;switch(r.toString=function(E){return ZC.stringify(this,E)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var l=s.length-1;if(s.length>=2){var a=s.indexOf("-",2),f=s.indexOf("blob",2),c=s.indexOf("tree",2),u=s.indexOf("commit",2),d=s.indexOf("src",2),h=s.indexOf("raw",2),p=s.indexOf("edit",2);l=a>0?a-1:f>0?f-1:c>0?c-1:u>0?u-1:d>0?d-1:h>0?h-1:p>0?p-1:l,r.owner=s.slice(0,l).join("/"),r.name=s[l],u&&(r.commit=s[l+2])}r.ref="",r.filepathtype="",r.filepath="";var m=s.length>l&&s[l+1]==="-"?l+1:l;s.length>m+2&&["raw","src","blob","tree","edit"].indexOf(s[m+1])>=0&&(r.filepathtype=s[m+1],r.ref=s[m+2],s.length>m+3&&(r.filepath=s.slice(m+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,x=v.exec(r.pathname);return x!=null&&(r.source="bitbucket-server",x[1]==="users"?r.owner="~"+x[2]:r.owner=x[2],r.organization=r.owner,r.name=x[3],s=x[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o(ZC,"gitUrlParse");ZC.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var l=e.token?zV(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+l+e.resource+r+"/"+GV(e)+s;default:return e.href}};function zV(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(zV,"buildToken");function GV(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o(GV,"buildPath");HR.exports=ZC});var eE=v0((ph,QC)=>{(function(e,t){if(typeof ph=="object"&&typeof QC=="object")QC.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof ph=="object"?ph:e)[n]=r[n]}})(ph,()=>(()=>{"use strict";var e={470:s=>{function l(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}o(l,"e");function a(c,u){for(var d,h="",p=0,m=-1,v=0,x=0;x<=c.length;++x){if(x<c.length)d=c.charCodeAt(x);else{if(d===47)break;d=47}if(d===47){if(!(m===x-1||v===1))if(m!==x-1&&v===2){if(h.length<2||p!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var E=h.lastIndexOf("/");if(E!==h.length-1){E===-1?(h="",p=0):p=(h=h.slice(0,E)).length-1-h.lastIndexOf("/"),m=x,v=0;continue}}else if(h.length===2||h.length===1){h="",p=0,m=x,v=0;continue}}u&&(h.length>0?h+="/..":h="..",p=2)}else h.length>0?h+="/"+c.slice(m+1,x):h=c.slice(m+1,x),p=x-m-1;m=x,v=0}else d===46&&v!==-1?++v:v=-1}return h}o(a,"r");var f={resolve:function(){for(var c,u="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var p;h>=0?p=arguments[h]:(c===void 0&&(c=process.cwd()),p=c),l(p),p.length!==0&&(u=p+"/"+u,d=p.charCodeAt(0)===47)}return u=a(u,!d),d?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(l(c),c.length===0)return".";var u=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=a(c,!u)).length!==0||u||(c="."),c.length>0&&d&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return l(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var d=arguments[u];l(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":f.normalize(c)},relative:function(c,u){if(l(c),l(u),c===u||(c=f.resolve(c))===(u=f.resolve(u)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,p=h-d,m=1;m<u.length&&u.charCodeAt(m)===47;++m);for(var v=u.length-m,x=p<v?p:v,E=-1,I=0;I<=x;++I){if(I===x){if(v>x){if(u.charCodeAt(m+I)===47)return u.slice(m+I+1);if(I===0)return u.slice(m+I)}else p>x&&(c.charCodeAt(d+I)===47?E=I:I===0&&(E=0));break}var A=c.charCodeAt(d+I);if(A!==u.charCodeAt(m+I))break;A===47&&(E=I)}var L="";for(I=d+E+1;I<=h;++I)I!==h&&c.charCodeAt(I)!==47||(L.length===0?L+="..":L+="/..");return L.length>0?L+u.slice(m+E):(m+=E,u.charCodeAt(m)===47&&++m,u.slice(m))},_makeLong:function(c){return c},dirname:function(c){if(l(c),c.length===0)return".";for(var u=c.charCodeAt(0),d=u===47,h=-1,p=!0,m=c.length-1;m>=1;--m)if((u=c.charCodeAt(m))===47){if(!p){h=m;break}}else p=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');l(c);var d,h=0,p=-1,m=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var v=u.length-1,x=-1;for(d=c.length-1;d>=0;--d){var E=c.charCodeAt(d);if(E===47){if(!m){h=d+1;break}}else x===-1&&(m=!1,x=d+1),v>=0&&(E===u.charCodeAt(v)?--v==-1&&(p=d):(v=-1,p=x))}return h===p?p=x:p===-1&&(p=c.length),c.slice(h,p)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!m){h=d+1;break}}else p===-1&&(m=!1,p=d+1);return p===-1?"":c.slice(h,p)},extname:function(c){l(c);for(var u=-1,d=0,h=-1,p=!0,m=0,v=c.length-1;v>=0;--v){var x=c.charCodeAt(v);if(x!==47)h===-1&&(p=!1,h=v+1),x===46?u===-1?u=v:m!==1&&(m=1):u!==-1&&(m=-1);else if(!p){d=v+1;break}}return u===-1||h===-1||m===0||m===1&&u===h-1&&u===d+1?"":c.slice(u,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,d){var h=d.dir||d.root,p=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+p:h+"/"+p:p}(0,c)},parse:function(c){l(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var d,h=c.charCodeAt(0),p=h===47;p?(u.root="/",d=1):d=0;for(var m=-1,v=0,x=-1,E=!0,I=c.length-1,A=0;I>=d;--I)if((h=c.charCodeAt(I))!==47)x===-1&&(E=!1,x=I+1),h===46?m===-1?m=I:A!==1&&(A=1):m!==-1&&(A=-1);else if(!E){v=I+1;break}return m===-1||x===-1||A===0||A===1&&m===x-1&&m===v+1?x!==-1&&(u.base=u.name=v===0&&p?c.slice(1,x):c.slice(v,x)):(v===0&&p?(u.name=c.slice(1,m),u.base=c.slice(1,x)):(u.name=c.slice(v,m),u.base=c.slice(v,x)),u.ext=c.slice(m,x)),v>0?u.dir=c.slice(0,v-1):p&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},674:(s,l)=>{if(Object.defineProperty(l,"__esModule",{value:!0}),l.isWindows=void 0,typeof process=="object")l.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;l.isWindows=a.indexOf("Windows")>=0}},796:function(s,l,a){var f,c,u=this&&this.__extends||(f=o(function(je,we){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t0,h0){t0.__proto__=h0}||function(t0,h0){for(var o0 in h0)Object.prototype.hasOwnProperty.call(h0,o0)&&(t0[o0]=h0[o0])},f(je,we)},"n"),function(je,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function t0(){this.constructor=je}o(t0,"r"),f(je,we),je.prototype=we===null?Object.create(we):(t0.prototype=we.prototype,new t0)});Object.defineProperty(l,"__esModule",{value:!0}),l.uriToFsPath=l.URI=void 0;var d=a(674),h=/^\w[\w\d+.-]*$/,p=/^\//,m=/^\/\//;function v(je,we){if(!je.scheme&&we)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(je.authority,'", path: "').concat(je.path,'", query: "').concat(je.query,'", fragment: "').concat(je.fragment,'"}'));if(je.scheme&&!h.test(je.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(je.path){if(je.authority){if(!p.test(je.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(m.test(je.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(v,"f");var x="",E="/",I=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function je(we,t0,h0,o0,l0,s0){s0===void 0&&(s0=!1),typeof we=="object"?(this.scheme=we.scheme||x,this.authority=we.authority||x,this.path=we.path||x,this.query=we.query||x,this.fragment=we.fragment||x):(this.scheme=function(c0,_e){return c0||_e?c0:"file"}(we,s0),this.authority=t0||x,this.path=function(c0,_e){switch(c0){case"https":case"http":case"file":_e?_e[0]!==E&&(_e=E+_e):_e=E}return _e}(this.scheme,h0||x),this.query=o0||x,this.fragment=l0||x,v(this,s0))}return o(je,"t"),je.isUri=function(we){return we instanceof je||!!we&&typeof we.authority=="string"&&typeof we.fragment=="string"&&typeof we.path=="string"&&typeof we.query=="string"&&typeof we.scheme=="string"&&typeof we.fsPath=="string"&&typeof we.with=="function"&&typeof we.toString=="function"},Object.defineProperty(je.prototype,"fsPath",{get:function(){return ce(this,!1)},enumerable:!1,configurable:!0}),je.prototype.with=function(we){if(!we)return this;var t0=we.scheme,h0=we.authority,o0=we.path,l0=we.query,s0=we.fragment;return t0===void 0?t0=this.scheme:t0===null&&(t0=x),h0===void 0?h0=this.authority:h0===null&&(h0=x),o0===void 0?o0=this.path:o0===null&&(o0=x),l0===void 0?l0=this.query:l0===null&&(l0=x),s0===void 0?s0=this.fragment:s0===null&&(s0=x),t0===this.scheme&&h0===this.authority&&o0===this.path&&l0===this.query&&s0===this.fragment?this:new D(t0,h0,o0,l0,s0)},je.parse=function(we,t0){t0===void 0&&(t0=!1);var h0=I.exec(we);return h0?new D(h0[2]||x,_0(h0[4]||x),_0(h0[5]||x),_0(h0[7]||x),_0(h0[9]||x),t0):new D(x,x,x,x,x)},je.file=function(we){var t0=x;if(d.isWindows&&(we=we.replace(/\\/g,E)),we[0]===E&&we[1]===E){var h0=we.indexOf(E,2);h0===-1?(t0=we.substring(2),we=E):(t0=we.substring(2,h0),we=we.substring(h0)||E)}return new D("file",t0,we,x,x)},je.from=function(we){var t0=new D(we.scheme,we.authority,we.path,we.query,we.fragment);return v(t0,!0),t0},je.prototype.toString=function(we){return we===void 0&&(we=!1),e0(this,we)},je.prototype.toJSON=function(){return this},je.revive=function(we){if(we){if(we instanceof je)return we;var t0=new D(we);return t0._formatted=we.external,t0._fsPath=we._sep===L?we.fsPath:null,t0}return we},je}();l.URI=A;var L=d.isWindows?1:void 0,D=function(je){function we(){var t0=je!==null&&je.apply(this,arguments)||this;return t0._formatted=null,t0._fsPath=null,t0}return o(we,"e"),u(we,je),Object.defineProperty(we.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ce(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),we.prototype.toString=function(t0){return t0===void 0&&(t0=!1),t0?e0(this,!0):(this._formatted||(this._formatted=e0(this,!1)),this._formatted)},we.prototype.toJSON=function(){var t0={$mid:1};return this._fsPath&&(t0.fsPath=this._fsPath,t0._sep=L),this._formatted&&(t0.external=this._formatted),this.path&&(t0.path=this.path),this.scheme&&(t0.scheme=this.scheme),this.authority&&(t0.authority=this.authority),this.query&&(t0.query=this.query),this.fragment&&(t0.fragment=this.fragment),t0},we}(A),k=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function $(je,we,t0){for(var h0=void 0,o0=-1,l0=0;l0<je.length;l0++){var s0=je.charCodeAt(l0);if(s0>=97&&s0<=122||s0>=65&&s0<=90||s0>=48&&s0<=57||s0===45||s0===46||s0===95||s0===126||we&&s0===47||t0&&s0===91||t0&&s0===93||t0&&s0===58)o0!==-1&&(h0+=encodeURIComponent(je.substring(o0,l0)),o0=-1),h0!==void 0&&(h0+=je.charAt(l0));else{h0===void 0&&(h0=je.substr(0,l0));var c0=k[s0];c0!==void 0?(o0!==-1&&(h0+=encodeURIComponent(je.substring(o0,l0)),o0=-1),h0+=c0):o0===-1&&(o0=l0)}}return o0!==-1&&(h0+=encodeURIComponent(je.substring(o0))),h0!==void 0?h0:je}o($,"m");function ue(je){for(var we=void 0,t0=0;t0<je.length;t0++){var h0=je.charCodeAt(t0);h0===35||h0===63?(we===void 0&&(we=je.substr(0,t0)),we+=k[h0]):we!==void 0&&(we+=je[t0])}return we!==void 0?we:je}o(ue,"b");function ce(je,we){var t0;return t0=je.authority&&je.path.length>1&&je.scheme==="file"?"//".concat(je.authority).concat(je.path):je.path.charCodeAt(0)===47&&(je.path.charCodeAt(1)>=65&&je.path.charCodeAt(1)<=90||je.path.charCodeAt(1)>=97&&je.path.charCodeAt(1)<=122)&&je.path.charCodeAt(2)===58?we?je.path.substr(1):je.path[1].toLowerCase()+je.path.substr(2):je.path,d.isWindows&&(t0=t0.replace(/\//g,"\\")),t0}o(ce,"C");function e0(je,we){var t0=we?ue:$,h0="",o0=je.scheme,l0=je.authority,s0=je.path,c0=je.query,_e=je.fragment;if(o0&&(h0+=o0,h0+=":"),(l0||o0==="file")&&(h0+=E,h0+=E),l0){var ve=l0.indexOf("@");if(ve!==-1){var g0=l0.substr(0,ve);l0=l0.substr(ve+1),(ve=g0.lastIndexOf(":"))===-1?h0+=t0(g0,!1,!1):(h0+=t0(g0.substr(0,ve),!1,!1),h0+=":",h0+=t0(g0.substr(ve+1),!1,!0)),h0+="@"}(ve=(l0=l0.toLowerCase()).lastIndexOf(":"))===-1?h0+=t0(l0,!1,!0):(h0+=t0(l0.substr(0,ve),!1,!0),h0+=l0.substr(ve))}if(s0){if(s0.length>=3&&s0.charCodeAt(0)===47&&s0.charCodeAt(2)===58)(N0=s0.charCodeAt(1))>=65&&N0<=90&&(s0="/".concat(String.fromCharCode(N0+32),":").concat(s0.substr(3)));else if(s0.length>=2&&s0.charCodeAt(1)===58){var N0;(N0=s0.charCodeAt(0))>=65&&N0<=90&&(s0="".concat(String.fromCharCode(N0+32),":").concat(s0.substr(2)))}h0+=t0(s0,!0,!1)}return c0&&(h0+="?",h0+=t0(c0,!1,!1)),_e&&(h0+="#",h0+=we?_e:$(_e,!1,!1)),h0}o(e0,"A");function d0(je){try{return decodeURIComponent(je)}catch{return je.length>3?je.substr(0,3)+d0(je.substr(3)):je}}o(d0,"w"),l.uriToFsPath=ce;var n0=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function _0(je){return je.match(n0)?je.replace(n0,function(we){return d0(we)}):je}o(_0,"x")},679:function(s,l,a){var f=this&&this.__spreadArray||function(p,m,v){if(v||arguments.length===2)for(var x,E=0,I=m.length;E<I;E++)!x&&E in m||(x||(x=Array.prototype.slice.call(m,0,E)),x[E]=m[E]);return p.concat(x||Array.prototype.slice.call(m))};Object.defineProperty(l,"__esModule",{value:!0}),l.Utils=void 0;var c,u=a(470),d=u.posix||u,h="/";(c=l.Utils||(l.Utils={})).joinPath=function(p){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];return p.with({path:d.join.apply(d,f([p.path],m,!1))})},c.resolvePath=function(p){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];var x=p.path,E=!1;x[0]!==h&&(x=h+x,E=!0);var I=d.resolve.apply(d,f([x],m,!1));return E&&I[0]===h&&!p.authority&&(I=I.substring(1)),p.with({path:I})},c.dirname=function(p){if(p.path.length===0||p.path===h)return p;var m=d.dirname(p.path);return m.length===1&&m.charCodeAt(0)===46&&(m=""),p.with({path:m})},c.basename=function(p){return d.basename(p.path)},c.extname=function(p){return d.extname(p.path)}}},t={};function r(s){var l=t[s];if(l!==void 0)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var l=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return l.URI}});var a=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return a.Utils}})})(),n})())});var nk=v0((Bie,rk)=>{"use strict";rk.exports=ek;function ek(e,t,r){e instanceof RegExp&&(e=QR(e,r)),t instanceof RegExp&&(t=QR(t,r));var n=tk(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(ek,"balanced");function QR(e,t){var r=t.match(e);return r?r[0]:null}o(QR,"maybeMatch");ek.range=tk;function tk(e,t,r){var n,s,l,a,f,c=r.indexOf(e),u=r.indexOf(t,c+1),d=c;if(c>=0&&u>0){for(n=[],l=r.length;d>=0&&!f;)d==c?(n.push(d),c=r.indexOf(e,d+1)):n.length==1?f=[n.pop(),u]:(s=n.pop(),s<l&&(l=s,a=u),u=r.indexOf(t,d+1)),d=c<u&&c>=0?c:u;n.length&&(f=[l,a])}return f}o(tk,"range")});var uk=v0((Lie,ck)=>{var ik=nk();ck.exports=nz;var sk="\0SLASH"+Math.random()+"\0",ok="\0OPEN"+Math.random()+"\0",mE="\0CLOSE"+Math.random()+"\0",ak="\0COMMA"+Math.random()+"\0",lk="\0PERIOD"+Math.random()+"\0";function gE(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(gE,"numeric");function tz(e){return e.split("\\\\").join(sk).split("\\{").join(ok).split("\\}").join(mE).split("\\,").join(ak).split("\\.").join(lk)}o(tz,"escapeBraces");function rz(e){return e.split(sk).join("\\").split(ok).join("{").split(mE).join("}").split(ak).join(",").split(lk).join(".")}o(rz,"unescapeBraces");function fk(e){if(!e)return[""];var t=[],r=ik("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,l=r.post,a=n.split(",");a[a.length-1]+="{"+s+"}";var f=fk(l);return l.length&&(a[a.length-1]+=f.shift(),a.push.apply(a,f)),t.push.apply(t,a),t}o(fk,"parseCommaParts");function nz(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),bh(tz(e),!0).map(rz)):[]}o(nz,"expandTop");function iz(e){return"{"+e+"}"}o(iz,"embrace");function sz(e){return/^-?0\d/.test(e)}o(sz,"isPadded");function oz(e,t){return e<=t}o(oz,"lte");function az(e,t){return e>=t}o(az,"gte");function bh(e,t){var r=[],n=ik("{","}",e);if(!n)return[e];var s=n.pre,l=n.post.length?bh(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<l.length;a++){var f=s+"{"+n.body+"}"+l[a];r.push(f)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=c||u,h=n.body.indexOf(",")>=0;if(!d&&!h)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+mE+n.post,bh(e)):[e];var p;if(d)p=n.body.split(/\.\./);else if(p=fk(n.body),p.length===1&&(p=bh(p[0],!1).map(iz),p.length===1))return l.map(function(d0){return n.pre+p[0]+d0});var m;if(d){var v=gE(p[0]),x=gE(p[1]),E=Math.max(p[0].length,p[1].length),I=p.length==3?Math.abs(gE(p[2])):1,A=oz,L=x<v;L&&(I*=-1,A=az);var D=p.some(sz);m=[];for(var k=v;A(k,x);k+=I){var $;if(u)$=String.fromCharCode(k),$==="\\"&&($="");else if($=String(k),D){var ue=E-$.length;if(ue>0){var ce=new Array(ue+1).join("0");k<0?$="-"+ce+$.slice(1):$=ce+$}}m.push($)}}else{m=[];for(var e0=0;e0<p.length;e0++)m.push.apply(m,bh(p[e0],!1))}for(var e0=0;e0<m.length;e0++)for(var a=0;a<l.length;a++){var f=s+m[e0]+l[a];(!t||d||f)&&r.push(f)}}return r}o(bh,"expand")});var Jp=v0(j5=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.ValuePointer=j5.ValuePointerRootDeleteError=j5.ValuePointerRootSetError=void 0;var _E=class _E extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(_E,"ValuePointerRootSetError");var Yp=_E;j5.ValuePointerRootSetError=Yp;var bE=class bE extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(bE,"ValuePointerRootDeleteError");var Xp=bE;j5.ValuePointerRootDeleteError=Xp;var Ik;(function(e){function t(f){return f.indexOf("~")===-1?f:f.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(f){if(f==="")return;let[c,u]=[0,0];for(let d=0;d<f.length;d++)f.charAt(d)==="/"?(d===0||(u=d,yield t(f.slice(c,u))),c=d+1):u=d;yield t(f.slice(c))}o(r,"Format"),e.Format=r;function n(f,c,u){if(c==="")throw new Yp(f,c,u);let[d,h,p]=[null,f,""];for(let m of r(c))h[m]===void 0&&(h[m]={}),d=h,h=h[m],p=m;d[p]=u}o(n,"Set"),e.Set=n;function s(f,c){if(c==="")throw new Xp(f,c);let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0||d[p]===null)return;u=d,d=d[p],h=p}if(Array.isArray(u)){let p=parseInt(h);u.splice(p,1)}else delete u[h]}o(s,"Delete"),e.Delete=s;function l(f,c){if(c==="")return!0;let[u,d,h]=[null,f,""];for(let p of r(c)){if(d[p]===void 0)return!1;u=d,d=d[p],h=p}return Object.getOwnPropertyNames(u).includes(h)}o(l,"Has"),e.Has=l;function a(f,c){if(c==="")return f;let u=f;for(let d of r(c)){if(u[d]===void 0)return;u=u[d]}return u}o(a,"Get"),e.Get=a})(Ik||(j5.ValuePointer=Ik={}))});var L8=v0(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.Clone=void 0;var Ih=Hl();function Vz(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:CE(e[n])}),{})}o(Vz,"ObjectType");function zz(e){return e.map(t=>CE(t))}o(zz,"ArrayType");function Gz(e){return e.slice()}o(Gz,"TypedArrayType");function Kz(e){return new Date(e.toISOString())}o(Kz,"DateType");function CE(e){if((0,Ih.IsArray)(e))return zz(e);if((0,Ih.IsDate)(e))return Kz(e);if((0,Ih.IsPlainObject)(e))return Vz(e);if((0,Ih.IsTypedArray)(e))return Gz(e);if((0,Ih.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(CE,"Clone");Zp.Clone=CE});var wE=v0(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Patch=Zs.Diff=Zs.ValueDeltaUnableToDiffUnknownValue=Zs.ValueDeltaObjectWithSymbolKeyError=Zs.Edit=Zs.Delete=Zs.Update=Zs.Insert=void 0;var pl=Hl(),Df=$l(),EE=Jp(),TE=L8();Zs.Insert=Df.Type.Object({type:Df.Type.Literal("insert"),path:Df.Type.String(),value:Df.Type.Unknown()});Zs.Update=Df.Type.Object({type:Df.Type.Literal("update"),path:Df.Type.String(),value:Df.Type.Unknown()});Zs.Delete=Df.Type.Object({type:Df.Type.Literal("delete"),path:Df.Type.String()});Zs.Edit=Df.Type.Union([Zs.Insert,Zs.Update,Zs.Delete]);var SE=class SE extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(SE,"ValueDeltaObjectWithSymbolKeyError");var X2=SE;Zs.ValueDeltaObjectWithSymbolKeyError=X2;var IE=class IE extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(IE,"ValueDeltaUnableToDiffUnknownValue");var Qp=IE;Zs.ValueDeltaUnableToDiffUnknownValue=Qp;function wh(e,t){return{type:"update",path:e,value:t}}o(wh,"CreateUpdate");function wk(e,t){return{type:"insert",path:e,value:t}}o(wk,"CreateInsert");function Ak(e){return{type:"delete",path:e}}o(Ak,"CreateDelete");function*Wz(e,t,r){if(!(0,pl.IsPlainObject)(r))return yield wh(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let l of n){if((0,pl.IsSymbol)(l))throw new X2(l);(0,pl.IsUndefined)(r[l])&&s.includes(l)&&(yield wh(`${e}/${String(l)}`,void 0))}for(let l of s)if(!((0,pl.IsUndefined)(t[l])||(0,pl.IsUndefined)(r[l]))){if((0,pl.IsSymbol)(l))throw new X2(l);yield*ey(`${e}/${String(l)}`,t[l],r[l])}for(let l of s){if((0,pl.IsSymbol)(l))throw new X2(l);(0,pl.IsUndefined)(t[l])&&(yield wk(`${e}/${String(l)}`,r[l]))}for(let l of n.reverse()){if((0,pl.IsSymbol)(l))throw new X2(l);(0,pl.IsUndefined)(r[l])&&!s.includes(l)&&(yield Ak(`${e}/${String(l)}`))}}o(Wz,"ObjectType");function*Yz(e,t,r){if(!(0,pl.IsArray)(r))return yield wh(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*ey(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield wk(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield Ak(`${e}/${n}`))}o(Yz,"ArrayType");function*Xz(e,t,r){if(!(0,pl.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield wh(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*ey(`${e}/${n}`,t[n],r[n])}o(Xz,"TypedArrayType");function*Jz(e,t,r){t!==r&&(yield wh(e,r))}o(Jz,"ValueType");function*ey(e,t,r){if((0,pl.IsPlainObject)(t))return yield*Wz(e,t,r);if((0,pl.IsArray)(t))return yield*Yz(e,t,r);if((0,pl.IsTypedArray)(t))return yield*Xz(e,t,r);if((0,pl.IsValueType)(t))return yield*Jz(e,t,r);throw new Qp(t)}o(ey,"Visit");function Zz(e,t){return[...ey("",e,t)]}o(Zz,"Diff");Zs.Diff=Zz;function Qz(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Qz,"IsRootUpdate");function eG(e){return e.length===0}o(eG,"IsIdentity");function tG(e,t){if(Qz(t))return(0,TE.Clone)(t[0].value);if(eG(t))return(0,TE.Clone)(e);let r=(0,TE.Clone)(e);for(let n of t)switch(n.type){case"insert":{EE.ValuePointer.Set(r,n.path,n.value);break}case"update":{EE.ValuePointer.Set(r,n.path,n.value);break}case"delete":{EE.ValuePointer.Delete(r,n.path);break}}return r}o(tG,"Patch");Zs.Patch=tG});var Nk=v0(V5=>{"use strict";Object.defineProperty(V5,"__esModule",{value:!0});V5.Mutate=V5.ValueMutateInvalidRootMutationError=V5.ValueMutateTypeMismatchError=void 0;var of=Hl(),ny=Jp(),AE=L8(),NE=class NE extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(NE,"ValueMutateTypeMismatchError");var ty=NE;V5.ValueMutateTypeMismatchError=ty;var RE=class RE extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(RE,"ValueMutateInvalidRootMutationError");var ry=RE;V5.ValueMutateInvalidRootMutationError=ry;function rG(e,t,r,n){if(!(0,of.IsPlainObject)(r))ny.ValuePointer.Set(e,t,(0,AE.Clone)(n));else{let s=Object.keys(r),l=Object.keys(n);for(let a of s)l.includes(a)||delete r[a];for(let a of l)s.includes(a)||(r[a]=null);for(let a of l)PE(e,`${t}/${a}`,r[a],n[a])}}o(rG,"ObjectType");function nG(e,t,r,n){if(!(0,of.IsArray)(r))ny.ValuePointer.Set(e,t,(0,AE.Clone)(n));else{for(let s=0;s<n.length;s++)PE(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(nG,"ArrayType");function iG(e,t,r,n){if((0,of.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else ny.ValuePointer.Set(e,t,(0,AE.Clone)(n))}o(iG,"TypedArrayType");function sG(e,t,r,n){r!==n&&ny.ValuePointer.Set(e,t,n)}o(sG,"ValueType");function PE(e,t,r,n){if((0,of.IsArray)(n))return nG(e,t,r,n);if((0,of.IsTypedArray)(n))return iG(e,t,r,n);if((0,of.IsPlainObject)(n))return rG(e,t,r,n);if((0,of.IsValueType)(n))return sG(e,t,r,n)}o(PE,"Visit");function Pk(e){return(0,of.IsTypedArray)(e)||(0,of.IsValueType)(e)}o(Pk,"IsNonMutableValue");function oG(e,t){return(0,of.IsPlainObject)(e)&&(0,of.IsArray)(t)||(0,of.IsArray)(e)&&(0,of.IsPlainObject)(t)}o(oG,"IsMismatchedValue");function aG(e,t){if(Pk(e)||Pk(t))throw new ry;if(oG(e,t))throw new ty;PE(e,"",e,t)}o(aG,"Mutate");V5.Mutate=aG});var Rk=v0(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});sy.Equal=void 0;var Tu=Hl();function lG(e,t){if(!(0,Tu.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>iy(e[s],t[s]))}o(lG,"ObjectType");function fG(e,t){return(0,Tu.IsDate)(t)&&e.getTime()===t.getTime()}o(fG,"DateType");function cG(e,t){return!(0,Tu.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>iy(r,t[n]))}o(cG,"ArrayType");function uG(e,t){return!(0,Tu.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>iy(r,t[n]))}o(uG,"TypedArrayType");function dG(e,t){return e===t}o(dG,"ValueType");function iy(e,t){if((0,Tu.IsPlainObject)(e))return lG(e,t);if((0,Tu.IsDate)(e))return fG(e,t);if((0,Tu.IsTypedArray)(e))return uG(e,t);if((0,Tu.IsArray)(e))return cG(e,t);if((0,Tu.IsValueType)(e))return dG(e,t);throw new Error("ValueEquals: Unable to compare value")}o(iy,"Equal");sy.Equal=iy});var ME=v0(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.Create=yl.ValueCreateRecursiveInstantiationError=yl.ValueCreateTempateLiteralTypeError=yl.ValueCreateIntersectTypeError=yl.ValueCreateNotTypeError=yl.ValueCreateNeverTypeError=yl.ValueCreateUnknownTypeError=void 0;var qi=Hl(),hG=U4(),Bk=P5(),Vl=$l(),kE=class kE extends Vl.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(kE,"ValueCreateUnknownTypeError");var oy=kE;yl.ValueCreateUnknownTypeError=oy;var BE=class BE extends Vl.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(BE,"ValueCreateNeverTypeError");var ay=BE;yl.ValueCreateNeverTypeError=ay;var DE=class DE extends Vl.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(DE,"ValueCreateNotTypeError");var ly=DE;yl.ValueCreateNotTypeError=ly;var LE=class LE extends Vl.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(LE,"ValueCreateIntersectTypeError");var fy=LE;yl.ValueCreateIntersectTypeError=fy;var FE=class FE extends Vl.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(FE,"ValueCreateTempateLiteralTypeError");var cy=FE;yl.ValueCreateTempateLiteralTypeError=cy;var OE=class OE extends Vl.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(OE,"ValueCreateRecursiveInstantiationError");var uy=OE;yl.ValueCreateRecursiveInstantiationError=uy;function gG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:{}}o(gG,"TAny");function mG(e,t){if(e.uniqueItems===!0&&!(0,qi.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,qi.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>af(e.items,t)):[]}o(mG,"TArray");function pG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(pG,"TAsyncIterator");function yG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(yG,"TBigInt");function vG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:!1}o(vG,"TBoolean");function xG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;{let r=af(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let l=this;l[n]=s}}}:class{}}}o(xG,"TConstructor");function _G(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(_G,"TDate");function bG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:()=>af(e.returns,t)}o(bG,"TFunction");function CG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(CG,"TInteger");function EG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let l=af(s,t);return typeof l=="object"?{...n,...l}:l},{});if(!(0,hG.Check)(e,t,r))throw new fy(e);return r}}o(EG,"TIntersect");function TG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(TG,"TIterator");function SG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.const}o(SG,"TLiteral");function IG(e,t){throw new ay(e)}o(IG,"TNever");function wG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;throw new ly(e)}o(wG,"TNot");function AG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:null}o(AG,"TNull");function PG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(PG,"TNumber");function NG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,l])=>r.has(s)?{...n,[s]:af(l,t)}:{...n},{})}}o(NG,"TObject");function RG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:Promise.resolve(af(e.item,t))}o(RG,"TPromise");function kG(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,qi.HasPropertyKey)(e,"default")?e.default:r===Vl.PatternStringExact||r===Vl.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((l,a)=>({...l,[a]:af(n,t)}),{})}o(kG,"TRecord");function BG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:af((0,Bk.Deref)(e,t),t)}o(BG,"TRef");function DG(e,t){if(e.pattern!==void 0){if((0,qi.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,qi.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,qi.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(DG,"TString");function LG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(LG,"TSymbol");function FG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;let r=Vl.TemplateLiteralParser.ParseExact(e.pattern);if(!Vl.TemplateLiteralFinite.Check(r))throw new cy(e);return Vl.TemplateLiteralGenerator.Generate(r).next().value}o(FG,"TTemplateLiteral");function OG(e,t){if(Dk++>kk)throw new uy(e,kk);return(0,qi.HasPropertyKey)(e,"default")?e.default:af((0,Bk.Deref)(e,t),t)}o(OG,"TThis");function MG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>af(e.items[n],t))}o(MG,"TTuple");function UG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default}o(UG,"TUndefined");function qG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return af(e.anyOf[0],t)}o(qG,"TUnion");function $G(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o($G,"TUint8Array");function HG(e,t){return(0,qi.HasPropertyKey)(e,"default")?e.default:{}}o(HG,"TUnknown");function jG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default}o(jG,"TVoid");function VG(e,t){if((0,qi.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(VG,"TKind");function af(e,t){let r=(0,qi.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[Vl.Kind]){case"Any":return gG(n,r);case"Array":return mG(n,r);case"AsyncIterator":return pG(n,r);case"BigInt":return yG(n,r);case"Boolean":return vG(n,r);case"Constructor":return xG(n,r);case"Date":return _G(n,r);case"Function":return bG(n,r);case"Integer":return CG(n,r);case"Intersect":return EG(n,r);case"Iterator":return TG(n,r);case"Literal":return SG(n,r);case"Never":return IG(n,r);case"Not":return wG(n,r);case"Null":return AG(n,r);case"Number":return PG(n,r);case"Object":return NG(n,r);case"Promise":return RG(n,r);case"Record":return kG(n,r);case"Ref":return BG(n,r);case"String":return DG(n,r);case"Symbol":return LG(n,r);case"TemplateLiteral":return FG(n,r);case"This":return OG(n,r);case"Tuple":return MG(n,r);case"Undefined":return UG(n,r);case"Union":return qG(n,r);case"Uint8Array":return $G(n,r);case"Unknown":return HG(n,r);case"Void":return jG(n,r);default:if(!Vl.TypeRegistry.Has(n[Vl.Kind]))throw new oy(n);return VG(n,r)}}o(af,"Visit");var kk=512,Dk=0;function zG(...e){return Dk=0,e.length===2?af(e[0],e[1]):af(e[0],[])}o(zG,"Create");yl.Create=zG});var Mk=v0(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.Cast=vl.Default=vl.DefaultClone=vl.ValueCastUnknownTypeError=vl.ValueCastRecursiveTypeError=vl.ValueCastNeverTypeError=vl.ValueCastArrayUniqueItemsTypeError=void 0;var z5=Hl(),Iu=ME(),Lf=U4(),F8=L8(),Lk=P5(),Su=$l(),HE=class HE extends Su.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(HE,"ValueCastArrayUniqueItemsTypeError");var dy=HE;vl.ValueCastArrayUniqueItemsTypeError=dy;var jE=class jE extends Su.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(jE,"ValueCastNeverTypeError");var hy=jE;vl.ValueCastNeverTypeError=hy;var VE=class VE extends Su.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(VE,"ValueCastRecursiveTypeError");var UE=VE;vl.ValueCastRecursiveTypeError=UE;var zE=class zE extends Su.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(zE,"ValueCastUnknownTypeError");var gy=zE;vl.ValueCastUnknownTypeError=gy;var qE;(function(e){function t(s,l,a){if(s[Su.Kind]==="Object"&&typeof a=="object"&&!(0,z5.IsNull)(a)){let f=s,c=Object.getOwnPropertyNames(a),u=Object.entries(f.properties),[d,h]=[1/u.length,u.length];return u.reduce((p,[m,v])=>{let x=v[Su.Kind]==="Literal"&&v.const===a[m]?h:0,E=(0,Lf.Check)(v,l,a[m])?d:0,I=c.includes(m)?d:0;return p+(x+E+I)},0)}else return(0,Lf.Check)(s,l,a)?1:0}o(t,"Score");function r(s,l,a){let[f,c]=[s.anyOf[0],0];for(let u of s.anyOf){let d=t(u,l,a);d>c&&(f=u,c=d)}return f}o(r,"Select");function n(s,l,a){if("default"in s)return s.default;{let f=r(s,l,a);return Ok(f,l,a)}}o(n,"Create"),e.Create=n})(qE||(qE={}));function Fk(e,t,r){return(0,Lf.Check)(e,t,r)?(0,F8.Clone)(r):(0,Iu.Create)(e,t)}o(Fk,"DefaultClone");vl.DefaultClone=Fk;function $E(e,t,r){return(0,Lf.Check)(e,t,r)?r:(0,Iu.Create)(e,t)}o($E,"Default");vl.Default=$E;function GG(e,t,r){if((0,Lf.Check)(e,t,r))return(0,F8.Clone)(r);let n=(0,z5.IsArray)(r)?(0,F8.Clone)(r):(0,Iu.Create)(e,t),s=(0,z5.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,a=((0,z5.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(c=>hc(e.items,t,c));if(e.uniqueItems!==!0)return a;let f=[...new Set(a)];if(!(0,Lf.Check)(e,t,f))throw new dy(e,f);return f}o(GG,"TArray");function KG(e,t,r){if((0,Lf.Check)(e,t,r))return(0,Iu.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[l,a]of Object.entries(e.returns.properties))!n.has(l)&&r.prototype[l]===void 0||(s.prototype[l]=hc(a,t,r.prototype[l]));return s}o(KG,"TConstructor");function WG(e,t,r){let n=(0,Iu.Create)(e,t),s=(0,z5.IsPlainObject)(n)&&(0,z5.IsPlainObject)(r)?{...n,...r}:r;return(0,Lf.Check)(e,t,s)?s:(0,Iu.Create)(e,t)}o(WG,"TIntersect");function YG(e,t,r){throw new hy(e)}o(YG,"TNever");function XG(e,t,r){if((0,Lf.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,Iu.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[l,a]of Object.entries(e.properties))!n.has(l)&&r[l]===void 0||(s[l]=hc(a,t,r[l]));if(typeof e.additionalProperties=="object"){let l=Object.getOwnPropertyNames(e.properties);for(let a of Object.getOwnPropertyNames(r))l.includes(a)||(s[a]=hc(e.additionalProperties,t,r[a]))}return s}o(XG,"TObject");function JG(e,t,r){if((0,Lf.Check)(e,t,r))return(0,F8.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,Iu.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=hc(s,t,f);return l}o(JG,"TRecord");function ZG(e,t,r){return hc((0,Lk.Deref)(e,t),t,r)}o(ZG,"TRef");function QG(e,t,r){return hc((0,Lk.Deref)(e,t),t,r)}o(QG,"TThis");function eK(e,t,r){return(0,Lf.Check)(e,t,r)?(0,F8.Clone)(r):(0,z5.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>hc(n,t,r[s])):(0,Iu.Create)(e,t)}o(eK,"TTuple");function tK(e,t,r){return(0,Lf.Check)(e,t,r)?(0,F8.Clone)(r):qE.Create(e,t,r)}o(tK,"TUnion");function hc(e,t,r){let n=(0,z5.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[Su.Kind]){case"Array":return GG(s,n,r);case"Constructor":return KG(s,n,r);case"Intersect":return WG(s,n,r);case"Never":return YG(s,n,r);case"Object":return XG(s,n,r);case"Record":return JG(s,n,r);case"Ref":return ZG(s,n,r);case"This":return QG(s,n,r);case"Tuple":return eK(s,n,r);case"Union":return tK(s,n,r);case"Date":case"Symbol":case"Uint8Array":return Fk(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return $E(s,n,r);default:if(!Su.TypeRegistry.Has(s[Su.Kind]))throw new gy(s);return $E(s,n,r)}}o(hc,"Visit");function Ok(...e){return e.length===3?hc(e[0],e[1],e[2]):hc(e[0],[],e[1])}o(Ok,"Cast");vl.Cast=Ok});var jk=v0(G5=>{"use strict";Object.defineProperty(G5,"__esModule",{value:!0});G5.Convert=G5.Default=G5.ValueConvertUnknownTypeError=void 0;var ys=Hl(),rK=L8(),nK=U4(),Uk=P5(),O8=$l(),GE=class GE extends O8.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(GE,"ValueConvertUnknownTypeError");var my=GE;G5.ValueConvertUnknownTypeError=my;function py(e){return(0,ys.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(py,"IsStringNumeric");function iK(e){return(0,ys.IsBigInt)(e)||(0,ys.IsBoolean)(e)||(0,ys.IsNumber)(e)}o(iK,"IsValueToString");function Ah(e){return e===!0||(0,ys.IsNumber)(e)&&e===1||(0,ys.IsBigInt)(e)&&e===BigInt("1")||(0,ys.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(Ah,"IsValueTrue");function Ph(e){return e===!1||(0,ys.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,ys.IsBigInt)(e)&&e===BigInt("0")||(0,ys.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(Ph,"IsValueFalse");function sK(e){return(0,ys.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(sK,"IsTimeStringWithTimeZone");function oK(e){return(0,ys.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(oK,"IsTimeStringWithoutTimeZone");function aK(e){return(0,ys.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(aK,"IsDateTimeStringWithTimeZone");function lK(e){return(0,ys.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(lK,"IsDateTimeStringWithoutTimeZone");function fK(e){return(0,ys.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(fK,"IsDateString");function cK(e,t){let r=$k(e);return r===t?r:e}o(cK,"TryConvertLiteralString");function uK(e,t){let r=Hk(e);return r===t?r:e}o(uK,"TryConvertLiteralNumber");function dK(e,t){let r=qk(e);return r===t?r:e}o(dK,"TryConvertLiteralBoolean");function hK(e,t){return typeof e.const=="string"?cK(t,e.const):typeof e.const=="number"?uK(t,e.const):typeof e.const=="boolean"?dK(t,e.const):(0,rK.Clone)(t)}o(hK,"TryConvertLiteral");function qk(e){return Ah(e)?!0:Ph(e)?!1:e}o(qk,"TryConvertBoolean");function gK(e){return py(e)?BigInt(parseInt(e)):(0,ys.IsNumber)(e)?BigInt(e|0):Ph(e)?BigInt(0):Ah(e)?BigInt(1):e}o(gK,"TryConvertBigInt");function $k(e){return iK(e)?e.toString():(0,ys.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o($k,"TryConvertString");function Hk(e){return py(e)?parseFloat(e):Ah(e)?1:Ph(e)?0:e}o(Hk,"TryConvertNumber");function mK(e){return py(e)?parseInt(e):(0,ys.IsNumber)(e)?e|0:Ah(e)?1:Ph(e)?0:e}o(mK,"TryConvertInteger");function pK(e){return(0,ys.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(pK,"TryConvertNull");function yK(e){return(0,ys.IsString)(e)&&e==="undefined"?void 0:e}o(yK,"TryConvertUndefined");function vK(e){return(0,ys.IsDate)(e)?e:(0,ys.IsNumber)(e)?new Date(e):Ah(e)?new Date(1):Ph(e)?new Date(0):py(e)?new Date(parseInt(e)):oK(e)?new Date(`1970-01-01T${e}.000Z`):sK(e)?new Date(`1970-01-01T${e}`):lK(e)?new Date(`${e}.000Z`):aK(e)?new Date(e):fK(e)?new Date(`${e}T00:00:00.000Z`):e}o(vK,"TryConvertDate");function xK(e){return e}o(xK,"Default");G5.Default=xK;function _K(e,t,r){return(0,ys.IsArray)(r)?r.map(n=>y1(e.items,t,n)):r}o(_K,"TArray");function bK(e,t,r){return gK(r)}o(bK,"TBigInt");function CK(e,t,r){return qk(r)}o(CK,"TBoolean");function EK(e,t,r){return vK(r)}o(EK,"TDate");function TK(e,t,r){return mK(r)}o(TK,"TInteger");function SK(e,t,r){return e.allOf.every(n=>O8.TypeGuard.TObject(n))?y1(O8.Type.Composite(e.allOf),t,r):y1(e.allOf[0],t,r)}o(SK,"TIntersect");function IK(e,t,r){return hK(e,r)}o(IK,"TLiteral");function wK(e,t,r){return pK(r)}o(wK,"TNull");function AK(e,t,r){return Hk(r)}o(AK,"TNumber");function PK(e,t,r){return(0,ys.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:y1(e.properties[s],t,r[s])}:{...n},r):r}o(PK,"TObject");function NK(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],l={};for(let[a,f]of Object.entries(r))l[a]=y1(s,t,f);return l}o(NK,"TRecord");function RK(e,t,r){return y1((0,Uk.Deref)(e,t),t,r)}o(RK,"TRef");function kK(e,t,r){return $k(r)}o(kK,"TString");function BK(e,t,r){return(0,ys.IsString)(r)||(0,ys.IsNumber)(r)?Symbol(r):r}o(BK,"TSymbol");function DK(e,t,r){return y1((0,Uk.Deref)(e,t),t,r)}o(DK,"TThis");function LK(e,t,r){return(0,ys.IsArray)(r)&&!(0,ys.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?y1(e.items[s],t,n):n):r}o(LK,"TTuple");function FK(e,t,r){return yK(r)}o(FK,"TUndefined");function OK(e,t,r){for(let n of e.anyOf){let s=y1(n,t,r);if((0,nK.Check)(n,t,s))return s}return r}o(OK,"TUnion");function y1(e,t,r){let n=(0,ys.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[O8.Kind]){case"Array":return _K(s,n,r);case"BigInt":return bK(s,n,r);case"Boolean":return CK(s,n,r);case"Date":return EK(s,n,r);case"Integer":return TK(s,n,r);case"Intersect":return SK(s,n,r);case"Literal":return IK(s,n,r);case"Null":return wK(s,n,r);case"Number":return AK(s,n,r);case"Object":return PK(s,n,r);case"Record":return NK(s,n,r);case"Ref":return RK(s,n,r);case"String":return kK(s,n,r);case"Symbol":return BK(s,n,r);case"This":return DK(s,n,r);case"Tuple":return LK(s,n,r);case"Undefined":return FK(s,n,r);case"Union":return OK(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!O8.TypeRegistry.Has(s[O8.Kind]))throw new my(s);return r}}o(y1,"Visit");function MK(...e){return e.length===3?y1(e[0],e[1],e[2]):y1(e[0],[],e[1])}o(MK,"Convert");G5.Convert=MK});var Jk=v0(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0});vy.Value=void 0;var Vk=Gg(),UK=Nk(),qK=H9(),$K=Rk(),zk=Mk(),HK=L8(),Gk=jk(),Kk=ME(),Wk=U4(),Yk=wE(),yy=D_(),Xk;(function(e){function t(...v){return zk.Cast.apply(zk,v)}o(t,"Cast"),e.Cast=t;function r(...v){return Kk.Create.apply(Kk,v)}o(r,"Create"),e.Create=r;function n(...v){return Wk.Check.apply(Wk,v)}o(n,"Check"),e.Check=n;function s(...v){return Gk.Convert.apply(Gk,v)}o(s,"Convert"),e.Convert=s;function l(v){return HK.Clone(v)}o(l,"Clone"),e.Clone=l;function a(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]];if(!n(x,E,I))throw new yy.TransformDecodeCheckError(x,I,c(x,E,I).First());return yy.DecodeTransform.Decode(x,E,I)}o(a,"Decode"),e.Decode=a;function f(...v){let[x,E,I]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]],A=yy.EncodeTransform.Encode(x,E,I);if(!n(x,E,A))throw new yy.TransformEncodeCheckError(x,I,c(x,E,I).First());return A}o(f,"Encode"),e.Encode=f;function c(...v){return Vk.Errors.apply(Vk,v)}o(c,"Errors"),e.Errors=c;function u(v,x){return $K.Equal(v,x)}o(u,"Equal"),e.Equal=u;function d(v,x){return Yk.Diff(v,x)}o(d,"Diff"),e.Diff=d;function h(v){return qK.Hash(v)}o(h,"Hash"),e.Hash=h;function p(v,x){return Yk.Patch(v,x)}o(p,"Patch"),e.Patch=p;function m(v,x){UK.Mutate(v,x)}o(m,"Mutate"),e.Mutate=m})(Xk||(vy.Value=Xk={}))});var Qk=v0(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.Value=ka.ValuePointer=ka.Delete=ka.Update=ka.Insert=ka.Edit=ka.ValueErrorIterator=ka.ValueErrorType=void 0;var Zk=Gg();Object.defineProperty(ka,"ValueErrorType",{enumerable:!0,get:function(){return Zk.ValueErrorType}});Object.defineProperty(ka,"ValueErrorIterator",{enumerable:!0,get:function(){return Zk.ValueErrorIterator}});var xy=wE();Object.defineProperty(ka,"Edit",{enumerable:!0,get:function(){return xy.Edit}});Object.defineProperty(ka,"Insert",{enumerable:!0,get:function(){return xy.Insert}});Object.defineProperty(ka,"Update",{enumerable:!0,get:function(){return xy.Update}});Object.defineProperty(ka,"Delete",{enumerable:!0,get:function(){return xy.Delete}});var jK=Jp();Object.defineProperty(ka,"ValuePointer",{enumerable:!0,get:function(){return jK.ValuePointer}});var VK=Jk();Object.defineProperty(ka,"Value",{enumerable:!0,get:function(){return VK.Value}})});var _D=v0((dle,xD)=>{"use strict";xD.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,l;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(l=Object.keys(t),n=l.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,l[s]))return!1;for(s=n;s--!==0;){var a=l[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r},"equal")});var hn=v0((j1e,wD)=>{wD.exports={options:{usePureJavaScript:!1}}});var ND=v0((V1e,PD)=>{var WT={};PD.exports=WT;var AD={};WT.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=IW(e,t);else{var s=0,l=t.length,a=t.charAt(0),f=[0];for(s=0;s<e.length;++s){for(var c=0,u=e[s];c<f.length;++c)u+=f[c]<<8,f[c]=u%l,u=u/l|0;for(;u>0;)f.push(u%l),u=u/l|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=a;for(s=f.length-1;s>=0;--s)n+=t[f[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};WT.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=AD[t];if(!r){r=AD[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,l=t.charAt(0),a=[0],n=0;n<e.length;n++){var f=r[e.charCodeAt(n)];if(f===void 0)return;for(var c=0,u=f;c<a.length;++c)u+=a[c]*s,a[c]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var d=0;e[d]===l&&d<e.length-1;++d)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function IW(e,t){var r=0,n=t.length,s=t.charAt(0),l=[0];for(r=0;r<e.length();++r){for(var a=0,f=e.at(r);a<l.length;++a)f+=l[a]<<8,l[a]=f%n,f=f/n|0;for(;f>0;)l.push(f%n),f=f/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=s;for(r=l.length-1;r>=0;--r)c+=t[l[r]];return c}o(IW,"_encodeWithByteBuffer")});var zi=v0((G1e,DD)=>{var RD=hn(),kD=ND(),i0=DD.exports=RD.util=RD.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){i0.nextTick=process.nextTick,typeof setImmediate=="function"?i0.setImmediate=setImmediate:i0.setImmediate=i0.nextTick;return}if(typeof setImmediate=="function"){i0.setImmediate=function(){return setImmediate.apply(void 0,arguments)},i0.nextTick=function(f){return setImmediate(f)};return}if(i0.setImmediate=function(f){setTimeout(f,0)},typeof window<"u"&&typeof window.postMessage=="function"){let f=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var u=t.slice();t.length=0,u.forEach(function(d){d()})}};var a=f;o(f,"handler");var e="forge.setImmediate",t=[];i0.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",f,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(u){u()})}).observe(s,{attributes:!0});var l=i0.setImmediate;i0.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),l(c)):(t.push(c),t.length===1&&s.setAttribute("a",n=!n))}}i0.nextTick=i0.setImmediate})();i0.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;i0.globalScope=function(){return i0.isNodejs?global:typeof self>"u"?window:self}();i0.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};i0.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};i0.isArrayBufferView=function(e){return e&&i0.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function $h(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o($h,"_checkBitsParam");i0.ByteBuffer=YT;function YT(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(i0.isArrayBuffer(e)||i0.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof YT||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(YT,"ByteStringBuffer");i0.ByteStringBuffer=YT;var wW=4096;i0.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>wW&&(this.data.substr(0,1),this._constructedStringLength=0)};i0.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};i0.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};i0.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};i0.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};i0.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};i0.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(i0.encodeUtf8(e))};i0.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i0.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i0.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};i0.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};i0.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};i0.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};i0.ByteStringBuffer.prototype.putInt=function(e,t){$h(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};i0.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};i0.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};i0.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};i0.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};i0.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};i0.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};i0.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};i0.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};i0.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};i0.ByteStringBuffer.prototype.getInt=function(e){$h(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};i0.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};i0.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};i0.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};i0.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};i0.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};i0.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};i0.ByteStringBuffer.prototype.copy=function(){var e=i0.createBuffer(this.data);return e.read=this.read,e};i0.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};i0.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};i0.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};i0.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};i0.ByteStringBuffer.prototype.toString=function(){return i0.decodeUtf8(this.bytes())};function AW(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=i0.isArrayBuffer(e),n=i0.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(AW,"DataBuffer");i0.DataBuffer=AW;i0.DataBuffer.prototype.length=function(){return this.write-this.read};i0.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};i0.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};i0.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};i0.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};i0.DataBuffer.prototype.putBytes=function(e,t){if(i0.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(i0.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof i0.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&i0.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof i0.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var l;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),l=new Uint8Array(this.data.buffer,this.write),this.write+=i0.binary.hex.decode(e,l,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),l=new Uint8Array(this.data.buffer,this.write),this.write+=i0.binary.base64.decode(e,l,this.write),this;if(t==="utf8"&&(e=i0.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),l=new Uint8Array(this.data.buffer,this.write),this.write+=i0.binary.raw.decode(l),this;if(t==="utf16")return this.accommodate(e.length*2),l=new Uint16Array(this.data.buffer,this.write),this.write+=i0.text.utf16.encode(l),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};i0.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};i0.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};i0.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};i0.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};i0.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};i0.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};i0.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};i0.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};i0.DataBuffer.prototype.putInt=function(e,t){$h(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};i0.DataBuffer.prototype.putSignedInt=function(e,t){return $h(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};i0.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};i0.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};i0.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};i0.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};i0.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};i0.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};i0.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};i0.DataBuffer.prototype.getInt=function(e){$h(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};i0.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};i0.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};i0.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};i0.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};i0.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};i0.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};i0.DataBuffer.prototype.copy=function(){return new i0.DataBuffer(this)};i0.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};i0.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};i0.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};i0.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};i0.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return i0.binary.raw.encode(t);if(e==="hex")return i0.binary.hex.encode(t);if(e==="base64")return i0.binary.base64.encode(t);if(e==="utf8")return i0.text.utf8.decode(t);if(e==="utf16")return i0.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};i0.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=i0.encodeUtf8(e)),new i0.ByteBuffer(e)};i0.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};i0.xorBytes=function(e,t,r){for(var n="",s="",l="",a=0,f=0;r>0;--r,++a)s=e.charCodeAt(a)^t.charCodeAt(a),f>=10&&(n+=l,l="",f=0),l+=String.fromCharCode(s),++f;return n+=l,n};i0.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};i0.bytesToHex=function(e){return i0.createBuffer(e).toHex()};i0.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var K5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W5=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],BD="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i0.encode64=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.length;)s=e.charCodeAt(f++),l=e.charCodeAt(f++),a=e.charCodeAt(f++),r+=K5.charAt(s>>2),r+=K5.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=K5.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":K5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};i0.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,l,a=0;a<e.length;)r=W5[e.charCodeAt(a++)-43],n=W5[e.charCodeAt(a++)-43],s=W5[e.charCodeAt(a++)-43],l=W5[e.charCodeAt(a++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),l!==64&&(t+=String.fromCharCode((s&3)<<6|l)));return t};i0.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};i0.decodeUtf8=function(e){return decodeURIComponent(escape(e))};i0.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:kD.encode,decode:kD.decode}};i0.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};i0.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};i0.binary.hex.encode=i0.bytesToHex;i0.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,l=r;for(e.length&1&&(s=1,n[l++]=parseInt(e[0],16));s<e.length;s+=2)n[l++]=parseInt(e.substr(s,2),16);return t?l-r:n};i0.binary.base64.encode=function(e,t){for(var r="",n="",s,l,a,f=0;f<e.byteLength;)s=e[f++],l=e[f++],a=e[f++],r+=K5.charAt(s>>2),r+=K5.charAt((s&3)<<4|l>>4),isNaN(l)?r+="==":(r+=K5.charAt((l&15)<<2|a>>6),r+=isNaN(a)?"=":K5.charAt(a&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};i0.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,l,a,f,c=0,u=r;c<e.length;)s=W5[e.charCodeAt(c++)-43],l=W5[e.charCodeAt(c++)-43],a=W5[e.charCodeAt(c++)-43],f=W5[e.charCodeAt(c++)-43],n[u++]=s<<2|l>>4,a!==64&&(n[u++]=(l&15)<<4|a>>2,f!==64&&(n[u++]=(a&3)<<6|f));return t?u-r:n.subarray(0,u)};i0.binary.base58.encode=function(e,t){return i0.binary.baseN.encode(e,BD,t)};i0.binary.base58.decode=function(e,t){return i0.binary.baseN.decode(e,BD,t)};i0.text={utf8:{},utf16:{}};i0.text.utf8.encode=function(e,t,r){e=i0.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,l=0;l<e.length;++l)n[s++]=e.charCodeAt(l);return t?s-r:n};i0.text.utf8.decode=function(e){return i0.decodeUtf8(String.fromCharCode.apply(null,e))};i0.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var l=r,a=r,f=0;f<e.length;++f)s[a++]=e.charCodeAt(f),l+=2;return t?l-r:n};i0.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};i0.deflate=function(e,t,r){if(t=i0.decode64(e.deflate(i0.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};i0.inflate=function(e,t,r){var n=e.inflate(i0.encode64(t)).rval;return n===null?null:i0.decode64(n)};var XT=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=i0.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),JT=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(i0.decode64(r))),r},"_getStorageObject"),PW=o(function(e,t,r,n){var s=JT(e,t);s===null&&(s={}),s[r]=n,XT(e,t,s)},"_setItem"),NW=o(function(e,t,r){var n=JT(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),RW=o(function(e,t,r){var n=JT(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var l in n){s=!1;break}s&&(n=null),XT(e,t,n)}},"_removeItem"),kW=o(function(e,t){XT(e,t,null)},"_clearItems"),Uy=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,l=!1,a=null;for(var f in r){s=r[f];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),l=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),l=!0)}catch(c){a=c}if(l)break}if(!l)throw a;return n},"_callStorageFunction");i0.setItem=function(e,t,r,n,s){Uy(PW,arguments,s)};i0.getItem=function(e,t,r,n){return Uy(NW,arguments,n)};i0.removeItem=function(e,t,r,n){Uy(RW,arguments,n)};i0.clearItems=function(e,t,r){Uy(kW,arguments,r)};i0.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};i0.format=function(e){for(var t=/%./g,r,n,s=0,l=[],a=0;r=t.exec(e);){n=e.substring(a,t.lastIndex-2),n.length>0&&l.push(n),a=t.lastIndex;var f=r[0][1];switch(f){case"s":case"o":s<arguments.length?l.push(arguments[s+++1]):l.push("<?>");break;case"%":l.push("%");break;default:l.push("<%"+f+"?>")}}return l.push(e.substring(a)),l.join("")};i0.formatNumber=function(e,t,r,n){var s=e,l=isNaN(t=Math.abs(t))?2:t,a=r===void 0?",":r,f=n===void 0?".":n,c=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(l),10)+"",d=u.length>3?u.length%3:0;return c+(d?u.substr(0,d)+f:"")+u.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+f)+(l?a+Math.abs(s-u).toFixed(l).slice(2):"")};i0.formatSize=function(e){return e>=1073741824?e=i0.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=i0.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=i0.formatNumber(e/1024,0)+" KiB":e=i0.formatNumber(e,0)+" bytes",e};i0.bytesFromIP=function(e){return e.indexOf(".")!==-1?i0.bytesFromIPv4(e):e.indexOf(":")!==-1?i0.bytesFromIPv6(e):null};i0.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=i0.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};i0.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(a){return a.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=i0.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var l=i0.hexToBytes(e[s]);l.length<2&&n.putByte(0),n.putBytes(l)}return n.getBytes()};i0.bytesToIP=function(e){return e.length===4?i0.bytesToIPv4(e):e.length===16?i0.bytesToIPv6(e):null};i0.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};i0.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var l=i0.bytesToHex(e[s]+e[s+1]);l[0]==="0"&&l!=="0";)l=l.substr(1);if(l==="0"){var a=r[r.length-1],f=t.length;!a||f!==a.end+1?r.push({start:f,end:f}):(a.end=f,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(l)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};i0.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in i0&&!e.update)return t(null,i0.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i0.cores=navigator.hardwareConcurrency,t(null,i0.cores);if(typeof Worker>"u")return i0.cores=1,t(null,i0.cores);if(typeof Blob>"u")return i0.cores=2,t(null,i0.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(a){for(var f=Date.now(),c=f+4;Date.now()<c;);self.postMessage({st:f,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,f,c){if(f===0){var u=Math.floor(a.reduce(function(d,h){return d+h},0)/a.length);return i0.cores=Math.max(1,u),URL.revokeObjectURL(r),t(null,i0.cores)}s(c,function(d,h){a.push(l(c,h)),n(a,f-1,c)})}o(n,"sample");function s(a,f){for(var c=[],u=[],d=0;d<a;++d){var h=new Worker(r);h.addEventListener("message",function(p){if(u.push(p.data),u.length===a){for(var m=0;m<a;++m)c[m].terminate();f(null,u)}}),c.push(h)}for(var d=0;d<a;++d)c[d].postMessage(d)}o(s,"map");function l(a,f){for(var c=[],u=0;u<a;++u)for(var d=f[u],h=c[u]=[],p=0;p<a;++p)if(u!==p){var m=f[p];(d.st>m.st&&d.st<m.et||m.st>d.st&&m.st<d.et)&&h.push(p)}return c.reduce(function(v,x){return Math.max(v,x.length)},0)}o(l,"reduce")}});var qy=v0((W1e,LD)=>{var Ba=hn();zi();LD.exports=Ba.cipher=Ba.cipher||{};Ba.cipher.algorithms=Ba.cipher.algorithms||{};Ba.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ba.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ba.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Ba.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Ba.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Ba.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Ba.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Ba.cipher.algorithms[e]=t};Ba.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Ba.cipher.algorithms?Ba.cipher.algorithms[e]:null};var ZT=Ba.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};ZT.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Ba.util.createBuffer(),this.output=e.output||Ba.util.createBuffer(),this.mode.start(t)};ZT.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ZT.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var eS=v0((Y1e,FD)=>{var Da=hn();zi();Da.cipher=Da.cipher||{};var bn=FD.exports=Da.cipher.modes=Da.cipher.modes||{};bn.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};bn.ecb.prototype.start=function(e){};bn.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};bn.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};bn.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};bn.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};bn.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};bn.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=$y(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};bn.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};bn.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};bn.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};bn.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};bn.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};bn.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=$y(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};bn.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};bn.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};bn.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};bn.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=$y(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};bn.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};bn.ofb.prototype.decrypt=bn.ofb.prototype.encrypt;bn.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0};bn.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=$y(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};bn.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Hy(this._inBlock)};bn.ctr.prototype.decrypt=bn.ctr.prototype.encrypt;bn.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Da.util.createBuffer(),this._partialBytes=0,this._R=3774873600};bn.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Da.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Da.util.createBuffer(e.additionalData):r=Da.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Da.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(QT(n*8)))}this._inBlock=this._j0.slice(0),Hy(this._inBlock),this._partialBytes=0,r=Da.util.createBuffer(r),this._aDataLength=QT(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};bn.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var l=(this.blockSize-n)%this.blockSize;l>0&&(l=this.blockSize-l),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(l<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),l>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(l-this._partialBytes)),this._partialBytes=l,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Hy(this._inBlock)};bn.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Hy(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};bn.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Da.util.createBuffer();var n=this._aDataLength.concat(QT(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var l=0;l<this._ints;++l)this.tag.putInt32(this._s[l]^s[l]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};bn.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var l=e[s/32|0]&1<<31-s%32;l&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};bn.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};bn.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,l=this._m[r][s];t[0]^=l[0],t[1]^=l[1],t[2]^=l[2],t[3]^=l[3]}return t};bn.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};bn.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,l=new Array(s),a=0;a<s;++a){var f=[0,0,0,0],c=a/n|0,u=(n-1-a%n)*t;f[c]=1<<t-1<<u,l[a]=this.generateSubHashTable(this.multiply(f,e),t)}return l};bn.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var l=n>>>1;l>0;)this.pow(s[2*l],s[l]=[]),l>>=1;for(l=2;l<n;){for(var a=1;a<l;++a){var f=s[l],c=s[a];s[l+a]=[f[0]^c[0],f[1]^c[1],f[2]^c[2],f[3]^c[3]]}l*=2}for(s[0]=[0,0,0,0],l=n+1;l<r;++l){var u=s[l^n];s[l]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return s};function $y(e,t){if(typeof e=="string"&&(e=Da.util.createBuffer(e)),Da.util.isArray(e)&&e.length>4){var r=e;e=Da.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Da.util.isArray(e)){for(var s=[],l=t/4,n=0;n<l;++n)s.push(e.getInt32());e=s}return e}o($y,"transformIV");function Hy(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(Hy,"inc32");function QT(e){return[e/4294967296|0,e&4294967295]}o(QT,"from64To32")});var Y5=v0((J1e,qD)=>{var Es=hn();qy();eS();zi();qD.exports=Es.aes=Es.aes||{};Es.aes.startEncrypting=function(e,t,r,n){var s=jy({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};Es.aes.createEncryptionCipher=function(e,t){return jy({key:e,output:null,decrypt:!1,mode:t})};Es.aes.startDecrypting=function(e,t,r,n){var s=jy({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};Es.aes.createDecryptionCipher=function(e,t){return jy({key:e,output:null,decrypt:!0,mode:t})};Es.aes.Algorithm=function(e,t){nS||MD();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return rS(r._w,n,s,!1)},decrypt:function(n,s){return rS(r._w,n,s,!0)}}}),r._init=!1};Es.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=Es.util.createBuffer(t);else if(Es.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=Es.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!Es.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!Es.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var l=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(l)!==-1;this._w=UD(t,e.decrypt&&!a),this._init=!0}};Es.aes._expandKey=function(e,t){return nS||MD(),UD(e,t)};Es.aes._updateBlock=rS;G8("AES-ECB",Es.cipher.modes.ecb);G8("AES-CBC",Es.cipher.modes.cbc);G8("AES-CFB",Es.cipher.modes.cfb);G8("AES-OFB",Es.cipher.modes.ofb);G8("AES-CTR",Es.cipher.modes.ctr);G8("AES-GCM",Es.cipher.modes.gcm);function G8(e,t){var r=o(function(){return new Es.aes.Algorithm(e,t)},"factory");Es.cipher.registerAlgorithm(e,r)}o(G8,"registerAlgorithm");var nS=!1,z8=4,Pl,tS,OD,ed,_1;function MD(){nS=!0,OD=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;Pl=new Array(256),tS=new Array(256),ed=new Array(4),_1=new Array(4);for(var t=0;t<4;++t)ed[t]=new Array(256),_1[t]=new Array(256);for(var r=0,n=0,s,l,a,f,c,u,d,t=0;t<256;++t){f=n^n<<1^n<<2^n<<3^n<<4,f=f>>8^f&255^99,Pl[r]=f,tS[f]=r,c=e[f],s=e[r],l=e[s],a=e[l],u=c<<24^f<<16^f<<8^(f^c),d=(s^l^a)<<24^(r^a)<<16^(r^l^a)<<8^(r^s^a);for(var h=0;h<4;++h)ed[h][r]=u,_1[h][f]=d,u=u<<24|u>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^a]]],n^=e[e[n]])}}o(MD,"initialize");function UD(e,t){for(var r=e.slice(0),n,s=1,l=r.length,a=l+6+1,f=z8*a,c=l;c<f;++c)n=r[c-1],c%l===0?(n=Pl[n>>>16&255]<<24^Pl[n>>>8&255]<<16^Pl[n&255]<<8^Pl[n>>>24]^OD[s]<<24,s++):l>6&&c%l===4&&(n=Pl[n>>>24]<<24^Pl[n>>>16&255]<<16^Pl[n>>>8&255]<<8^Pl[n&255]),r[c]=r[c-l]^n;if(t){var u,d=_1[0],h=_1[1],p=_1[2],m=_1[3],v=r.slice(0);f=r.length;for(var c=0,x=f-z8;c<f;c+=z8,x-=z8)if(c===0||c===f-z8)v[c]=r[x],v[c+1]=r[x+3],v[c+2]=r[x+2],v[c+3]=r[x+1];else for(var E=0;E<z8;++E)u=r[x+E],v[c+(3&-E)]=d[Pl[u>>>24]]^h[Pl[u>>>16&255]]^p[Pl[u>>>8&255]]^m[Pl[u&255]];r=v}return r}o(UD,"_expandKey");function rS(e,t,r,n){var s=e.length/4-1,l,a,f,c,u;n?(l=_1[0],a=_1[1],f=_1[2],c=_1[3],u=tS):(l=ed[0],a=ed[1],f=ed[2],c=ed[3],u=Pl);var d,h,p,m,v,x,E;d=t[0]^e[0],h=t[n?3:1]^e[1],p=t[2]^e[2],m=t[n?1:3]^e[3];for(var I=3,A=1;A<s;++A)v=l[d>>>24]^a[h>>>16&255]^f[p>>>8&255]^c[m&255]^e[++I],x=l[h>>>24]^a[p>>>16&255]^f[m>>>8&255]^c[d&255]^e[++I],E=l[p>>>24]^a[m>>>16&255]^f[d>>>8&255]^c[h&255]^e[++I],m=l[m>>>24]^a[d>>>16&255]^f[h>>>8&255]^c[p&255]^e[++I],d=v,h=x,p=E;r[0]=u[d>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[m&255]^e[++I],r[n?3:1]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[m>>>8&255]<<8^u[d&255]^e[++I],r[2]=u[p>>>24]<<24^u[m>>>16&255]<<16^u[d>>>8&255]<<8^u[h&255]^e[++I],r[n?1:3]=u[m>>>24]<<24^u[d>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^e[++I]}o(rS,"_updateBlock");function jy(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=Es.cipher.createDecipher(r,e.key):n=Es.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof Es.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(jy,"_createCipher")});var X5=v0((Q1e,$D)=>{var Hh=hn();Hh.pki=Hh.pki||{};var iS=$D.exports=Hh.pki.oids=Hh.oids=Hh.oids||{};function z0(e,t){iS[e]=t,iS[t]=e}o(z0,"_IN");function Zi(e,t){iS[e]=t}o(Zi,"_I_");z0("1.2.840.113549.1.1.1","rsaEncryption");z0("1.2.840.113549.1.1.4","md5WithRSAEncryption");z0("1.2.840.113549.1.1.5","sha1WithRSAEncryption");z0("1.2.840.113549.1.1.7","RSAES-OAEP");z0("1.2.840.113549.1.1.8","mgf1");z0("1.2.840.113549.1.1.9","pSpecified");z0("1.2.840.113549.1.1.10","RSASSA-PSS");z0("1.2.840.113549.1.1.11","sha256WithRSAEncryption");z0("1.2.840.113549.1.1.12","sha384WithRSAEncryption");z0("1.2.840.113549.1.1.13","sha512WithRSAEncryption");z0("1.3.101.112","EdDSA25519");z0("1.2.840.10040.4.3","dsa-with-sha1");z0("1.3.14.3.2.7","desCBC");z0("1.3.14.3.2.26","sha1");z0("1.3.14.3.2.29","sha1WithRSASignature");z0("2.16.840.1.101.3.4.2.1","sha256");z0("2.16.840.1.101.3.4.2.2","sha384");z0("2.16.840.1.101.3.4.2.3","sha512");z0("2.16.840.1.101.3.4.2.4","sha224");z0("2.16.840.1.101.3.4.2.5","sha512-224");z0("2.16.840.1.101.3.4.2.6","sha512-256");z0("1.2.840.113549.2.2","md2");z0("1.2.840.113549.2.5","md5");z0("1.2.840.113549.1.7.1","data");z0("1.2.840.113549.1.7.2","signedData");z0("1.2.840.113549.1.7.3","envelopedData");z0("1.2.840.113549.1.7.4","signedAndEnvelopedData");z0("1.2.840.113549.1.7.5","digestedData");z0("1.2.840.113549.1.7.6","encryptedData");z0("1.2.840.113549.1.9.1","emailAddress");z0("1.2.840.113549.1.9.2","unstructuredName");z0("1.2.840.113549.1.9.3","contentType");z0("1.2.840.113549.1.9.4","messageDigest");z0("1.2.840.113549.1.9.5","signingTime");z0("1.2.840.113549.1.9.6","counterSignature");z0("1.2.840.113549.1.9.7","challengePassword");z0("1.2.840.113549.1.9.8","unstructuredAddress");z0("1.2.840.113549.1.9.14","extensionRequest");z0("1.2.840.113549.1.9.20","friendlyName");z0("1.2.840.113549.1.9.21","localKeyId");z0("1.2.840.113549.1.9.22.1","x509Certificate");z0("1.2.840.113549.1.12.10.1.1","keyBag");z0("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");z0("1.2.840.113549.1.12.10.1.3","certBag");z0("1.2.840.113549.1.12.10.1.4","crlBag");z0("1.2.840.113549.1.12.10.1.5","secretBag");z0("1.2.840.113549.1.12.10.1.6","safeContentsBag");z0("1.2.840.113549.1.5.13","pkcs5PBES2");z0("1.2.840.113549.1.5.12","pkcs5PBKDF2");z0("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");z0("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");z0("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");z0("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");z0("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");z0("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");z0("1.2.840.113549.2.7","hmacWithSHA1");z0("1.2.840.113549.2.8","hmacWithSHA224");z0("1.2.840.113549.2.9","hmacWithSHA256");z0("1.2.840.113549.2.10","hmacWithSHA384");z0("1.2.840.113549.2.11","hmacWithSHA512");z0("1.2.840.113549.3.7","des-EDE3-CBC");z0("2.16.840.1.101.3.4.1.2","aes128-CBC");z0("2.16.840.1.101.3.4.1.22","aes192-CBC");z0("2.16.840.1.101.3.4.1.42","aes256-CBC");z0("2.5.4.3","commonName");z0("2.5.4.4","surname");z0("2.5.4.5","serialNumber");z0("2.5.4.6","countryName");z0("2.5.4.7","localityName");z0("2.5.4.8","stateOrProvinceName");z0("2.5.4.9","streetAddress");z0("2.5.4.10","organizationName");z0("2.5.4.11","organizationalUnitName");z0("2.5.4.12","title");z0("2.5.4.13","description");z0("2.5.4.15","businessCategory");z0("2.5.4.17","postalCode");z0("2.5.4.42","givenName");z0("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");z0("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");z0("2.16.840.1.113730.1.1","nsCertType");z0("2.16.840.1.113730.1.13","nsComment");Zi("2.5.29.1","authorityKeyIdentifier");Zi("2.5.29.2","keyAttributes");Zi("2.5.29.3","certificatePolicies");Zi("2.5.29.4","keyUsageRestriction");Zi("2.5.29.5","policyMapping");Zi("2.5.29.6","subtreesConstraint");Zi("2.5.29.7","subjectAltName");Zi("2.5.29.8","issuerAltName");Zi("2.5.29.9","subjectDirectoryAttributes");Zi("2.5.29.10","basicConstraints");Zi("2.5.29.11","nameConstraints");Zi("2.5.29.12","policyConstraints");Zi("2.5.29.13","basicConstraints");z0("2.5.29.14","subjectKeyIdentifier");z0("2.5.29.15","keyUsage");Zi("2.5.29.16","privateKeyUsagePeriod");z0("2.5.29.17","subjectAltName");z0("2.5.29.18","issuerAltName");z0("2.5.29.19","basicConstraints");Zi("2.5.29.20","cRLNumber");Zi("2.5.29.21","cRLReason");Zi("2.5.29.22","expirationDate");Zi("2.5.29.23","instructionCode");Zi("2.5.29.24","invalidityDate");Zi("2.5.29.25","cRLDistributionPoints");Zi("2.5.29.26","issuingDistributionPoint");Zi("2.5.29.27","deltaCRLIndicator");Zi("2.5.29.28","issuingDistributionPoint");Zi("2.5.29.29","certificateIssuer");Zi("2.5.29.30","nameConstraints");z0("2.5.29.31","cRLDistributionPoints");z0("2.5.29.32","certificatePolicies");Zi("2.5.29.33","policyMappings");Zi("2.5.29.34","policyConstraints");z0("2.5.29.35","authorityKeyIdentifier");Zi("2.5.29.36","policyConstraints");z0("2.5.29.37","extKeyUsage");Zi("2.5.29.46","freshestCRL");Zi("2.5.29.54","inhibitAnyPolicy");z0("1.3.6.1.4.1.11129.2.4.2","timestampList");z0("1.3.6.1.5.5.7.1.1","authorityInfoAccess");z0("1.3.6.1.5.5.7.3.1","serverAuth");z0("1.3.6.1.5.5.7.3.2","clientAuth");z0("1.3.6.1.5.5.7.3.3","codeSigning");z0("1.3.6.1.5.5.7.3.4","emailProtection");z0("1.3.6.1.5.5.7.3.8","timeStamping")});var b1=v0((tce,jD)=>{var ws=hn();zi();X5();var Z0=jD.exports=ws.asn1=ws.asn1||{};Z0.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Z0.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Z0.create=function(e,t,r,n,s){if(ws.util.isArray(n)){for(var l=[],a=0;a<n.length;++a)n[a]!==void 0&&l.push(n[a]);n=l}var f={tagClass:e,type:t,constructed:r,composed:r||ws.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(f.bitStringContents=s.bitStringContents,f.original=Z0.copy(f)),f};Z0.copy=function(e,t){var r;if(ws.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Z0.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Z0.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Z0.equals=function(e,t,r){if(ws.util.isArray(e)){if(!ws.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Z0.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Z0.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};Z0.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function jh(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(jh,"_checkBufferLength");var BW=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var l=r&127;jh(e,t,l),n=e.getInt(l<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Z0.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=ws.util.createBuffer(e));var r=e.length(),n=Vy(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function Vy(e,t,r,n){var s;jh(e,t,2);var l=e.getByte();t--;var a=l&192,f=l&31;s=e.length();var c=BW(e,t);if(t-=s-e.length(),c!==void 0&&c>t){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=e.length(),u.remaining=t,u.requested=c,u}c=t}var d,h,p=(l&32)===32;if(p)if(d=[],c===void 0)for(;;){if(jh(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(Vy(e,t,r+1,n)),t-=s-e.length()}else for(;c>0;)s=e.length(),d.push(Vy(e,c,r+1,n)),t-=s-e.length(),c-=s-e.length();if(d===void 0&&a===Z0.Class.UNIVERSAL&&f===Z0.Type.BITSTRING&&(h=e.bytes(c)),d===void 0&&n.decodeBitStrings&&a===Z0.Class.UNIVERSAL&&f===Z0.Type.BITSTRING&&c>1){var m=e.read,v=t,x=0;if(f===Z0.Type.BITSTRING&&(jh(e,t,1),x=e.getByte(),t--),x===0)try{s=e.length();var E={strict:!0,decodeBitStrings:!0},I=Vy(e,t,r+1,E),A=s-e.length();t-=A,f==Z0.Type.BITSTRING&&A++;var L=I.tagClass;A===c&&(L===Z0.Class.UNIVERSAL||L===Z0.Class.CONTEXT_SPECIFIC)&&(d=[I])}catch{}d===void 0&&(e.read=m,t=v)}if(d===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(f===Z0.Type.BMPSTRING)for(d="";c>0;c-=2)jh(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(c),t-=c}var D=h===void 0?null:{bitStringContents:h};return Z0.create(a,f,p,d,D)}o(Vy,"_fromDer");Z0.toDer=function(e){var t=ws.util.createBuffer(),r=e.tagClass|e.type,n=ws.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=Z0.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var l=0;l<e.value.length;++l)e.value[l]!==void 0&&n.putBuffer(Z0.toDer(e.value[l]))}else if(e.type===Z0.Type.BMPSTRING)for(var l=0;l<e.value.length;++l)n.putInt16(e.value.charCodeAt(l));else e.type===Z0.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var a=n.length(),f="";do f+=String.fromCharCode(a&255),a=a>>>8;while(a>0);t.putByte(f.length|128);for(var l=f.length-1;l>=0;--l)t.putByte(f.charCodeAt(l))}return t.putBuffer(n),t};Z0.oidToDer=function(e){var t=e.split("."),r=ws.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,l,a,f=2;f<t.length;++f){n=!0,s=[],l=parseInt(t[f],10);do a=l&127,l=l>>>7,n||(a|=128),s.push(a),n=!1;while(l>0);for(var c=s.length-1;c>=0;--c)r.putByte(s[c])}return r};Z0.derToOid=function(e){var t;typeof e=="string"&&(e=ws.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Z0.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),l=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),f=0;if(e.length>11){var c=e.charAt(10),u=10;c!=="+"&&c!=="-"&&(f=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,0),u&&(c=e.charAt(u),c==="+"||c==="-")){var d=parseInt(e.substr(u+1,2),10),h=parseInt(e.substr(u+4,2),10),p=d*60+h;p*=6e4,c==="+"?t.setTime(+t-p):t.setTime(+t+p)}return t};Z0.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),f=parseInt(e.substr(12,2),10),c=0,u=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var h=e.length-5,p=e.charAt(h);if(p==="+"||p==="-"){var m=parseInt(e.substr(h+1,2),10),v=parseInt(e.substr(h+4,2),10);u=m*60+v,u*=6e4,p==="+"&&(u*=-1),d=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(l,a,f,c),t.setTime(+t+u)):(t.setFullYear(r,n,s),t.setHours(l,a,f,c)),t};Z0.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Z0.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Z0.integerToDer=function(e){var t=ws.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Z0.derToInteger=function(e){typeof e=="string"&&(e=ws.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Z0.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&ws.util.isArray(t.value))for(var l=0,a=0;s&&a<t.value.length;++a)s=t.value[a].optional||!1,e.value[l]&&(s=Z0.validate(e.value[l],t.value[a],r,n),s?++l:t.value[a].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var f;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var HD=/[^\\u0000-\\u00ff]/;Z0.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",l=0;l<t*r;++l)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case Z0.Class.UNIVERSAL:n+="Universal:";break;case Z0.Class.APPLICATION:n+="Application:";break;case Z0.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Z0.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Z0.Class.UNIVERSAL)switch(n+=e.type,e.type){case Z0.Type.NONE:n+=" (None)";break;case Z0.Type.BOOLEAN:n+=" (Boolean)";break;case Z0.Type.INTEGER:n+=" (Integer)";break;case Z0.Type.BITSTRING:n+=" (Bit string)";break;case Z0.Type.OCTETSTRING:n+=" (Octet string)";break;case Z0.Type.NULL:n+=" (Null)";break;case Z0.Type.OID:n+=" (Object Identifier)";break;case Z0.Type.ODESC:n+=" (Object Descriptor)";break;case Z0.Type.EXTERNAL:n+=" (External or Instance of)";break;case Z0.Type.REAL:n+=" (Real)";break;case Z0.Type.ENUMERATED:n+=" (Enumerated)";break;case Z0.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Z0.Type.UTF8:n+=" (UTF8)";break;case Z0.Type.ROID:n+=" (Relative Object Identifier)";break;case Z0.Type.SEQUENCE:n+=" (Sequence)";break;case Z0.Type.SET:n+=" (Set)";break;case Z0.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Z0.Type.IA5String:n+=" (IA5String (ASCII))";break;case Z0.Type.UTCTIME:n+=" (UTC time)";break;case Z0.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Z0.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var a=0,f="",l=0;l<e.value.length;++l)e.value[l]!==void 0&&(a+=1,f+=Z0.prettyPrint(e.value[l],t+1,r),l+1<e.value.length&&(f+=","));n+=s+"Sub values: "+a+f}else{if(n+=s+"Value: ",e.type===Z0.Type.OID){var c=Z0.derToOid(e.value);n+=c,ws.pki&&ws.pki.oids&&c in ws.pki.oids&&(n+=" ("+ws.pki.oids[c]+") ")}if(e.type===Z0.Type.INTEGER)try{n+=Z0.derToInteger(e.value)}catch{n+="0x"+ws.util.bytesToHex(e.value)}else if(e.type===Z0.Type.BITSTRING){if(e.value.length>1?n+="0x"+ws.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var u=e.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(e.type===Z0.Type.OCTETSTRING)HD.test(e.value)||(n+="("+e.value+") "),n+="0x"+ws.util.bytesToHex(e.value);else if(e.type===Z0.Type.UTF8)try{n+=ws.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+ws.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===Z0.Type.PRINTABLESTRING||e.type===Z0.Type.IA5String?n+=e.value:HD.test(e.value)?n+="0x"+ws.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var pc=v0((nce,VD)=>{var zy=hn();VD.exports=zy.md=zy.md||{};zy.md.algorithms=zy.md.algorithms||{}});var K8=v0((ice,zD)=>{var Pu=hn();pc();zi();var DW=zD.exports=Pu.hmac=Pu.hmac||{};DW.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(l,a){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in Pu.md.algorithms)t=Pu.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else t=l;if(a===null)a=e;else{if(typeof a=="string")a=Pu.util.createBuffer(a);else if(Pu.util.isArray(a)){var f=a;a=Pu.util.createBuffer();for(var c=0;c<f.length;++c)a.putByte(f[c])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),r=Pu.util.createBuffer(),n=Pu.util.createBuffer(),u=a.length();for(var c=0;c<u;++c){var f=a.at(c);r.putByte(54^f),n.putByte(92^f)}if(u<t.blockLength)for(var f=t.blockLength-u,c=0;c<f;++c)r.putByte(54),n.putByte(92);e=a,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(l){t.update(l)},s.getMac=function(){var l=t.digest().bytes();return t.start(),t.update(n),t.update(l),t.digest()},s.digest=s.getMac,s}});var Ky=v0((sce,YD)=>{var yc=hn();pc();zi();var KD=YD.exports=yc.md5=yc.md5||{};yc.md.md5=yc.md.algorithms.md5=KD;KD.create=function(){WD||LW();var e=null,t=yc.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=yc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=yc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),GD(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=yc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(sS.substr(0,n.blockLength-a));for(var f,c=0,u=n.fullMessageLength.length-1;u>=0;--u)f=n.fullMessageLength[u]*8+c,c=f/4294967296>>>0,s.putInt32Le(f>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};GD(d,r,s);var h=yc.util.createBuffer();return h.putInt32Le(d.h0),h.putInt32Le(d.h1),h.putInt32Le(d.h2),h.putInt32Le(d.h3),h},n};var sS=null,Gy=null,Vh=null,W8=null,WD=!1;function LW(){sS="\x80",sS+=yc.util.fillString("\0",64),Gy=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],Vh=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],W8=new Array(64);for(var e=0;e<64;++e)W8[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);WD=!0}o(LW,"_init");function GD(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),c=f^l&(a^f),n=s+c+W8[d]+t[d],u=Vh[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<32;++d)c=a^f&(l^a),n=s+c+W8[d]+t[Gy[d]],u=Vh[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<48;++d)c=l^a^f,n=s+c+W8[d]+t[Gy[d]],u=Vh[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;for(;d<64;++d)c=a^(l|~f),n=s+c+W8[d]+t[Gy[d]],u=Vh[d],s=f,f=a,a=l,l+=n<<u|n>>>32-u;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,h-=64}}o(GD,"_update")});var td=v0((ace,JD)=>{var Yy=hn();zi();var XD=JD.exports=Yy.pem=Yy.pem||{};XD.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=Wy(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=Wy(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=Wy(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=Wy(e.headers[s]);return e.procType&&(r+=`\r
`),r+=Yy.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};XD.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,l;l=r.exec(e),!!l;){var a=l[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var f={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Yy.util.decode64(l[3])};if(t.push(f),!!l[2]){for(var c=l[2].split(s),u=0;l&&u<c.length;){for(var d=c[u].replace(/\s+$/,""),h=u+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;d+=p,u=h}if(l=d.match(n),l){for(var m={name:l[1],values:[]},v=l[2].split(","),x=0;x<v.length;++x)m.values.push(FW(v[x]));if(f.procType)if(!f.contentDomain&&m.name==="Content-Domain")f.contentDomain=v[0]||"";else if(!f.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');f.dekInfo={algorithm:v[0],parameters:v[1]||null}}else f.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');f.procType={version:v[0],type:v[1]}}}++u}if(f.procType==="ENCRYPTED"&&!f.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function Wy(e){for(var t=e.name+": ",r=[],n=o(function(c,u){return" "+u},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var l=0,a=-1,s=0;s<t.length;++s,++l)if(l>65&&a!==-1){var f=t[a];f===","?(++a,t=t.substr(0,a)+`\r
 `+t.substr(a)):t=t.substr(0,a)+`\r
`+f+t.substr(a+1),l=s-a-1,a=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(a=s);return t}o(Wy,"foldHeader");function FW(e){return e.replace(/^\s+/,"")}o(FW,"ltrim")});var zh=v0((fce,QD)=>{var Ds=hn();qy();eS();zi();QD.exports=Ds.des=Ds.des||{};Ds.des.startEncrypting=function(e,t,r,n){var s=Xy({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ds.des.createEncryptionCipher=function(e,t){return Xy({key:e,output:null,decrypt:!1,mode:t})};Ds.des.startDecrypting=function(e,t,r,n){var s=Xy({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ds.des.createDecryptionCipher=function(e,t){return Xy({key:e,output:null,decrypt:!0,mode:t})};Ds.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return ZD(r._keys,n,s,!1)},decrypt:function(n,s){return ZD(r._keys,n,s,!0)}}}),r._init=!1};Ds.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Ds.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=zW(t),this._init=!0}};vc("DES-ECB",Ds.cipher.modes.ecb);vc("DES-CBC",Ds.cipher.modes.cbc);vc("DES-CFB",Ds.cipher.modes.cfb);vc("DES-OFB",Ds.cipher.modes.ofb);vc("DES-CTR",Ds.cipher.modes.ctr);vc("3DES-ECB",Ds.cipher.modes.ecb);vc("3DES-CBC",Ds.cipher.modes.cbc);vc("3DES-CFB",Ds.cipher.modes.cfb);vc("3DES-OFB",Ds.cipher.modes.ofb);vc("3DES-CTR",Ds.cipher.modes.ctr);function vc(e,t){var r=o(function(){return new Ds.des.Algorithm(e,t)},"factory");Ds.cipher.registerAlgorithm(e,r)}o(vc,"registerAlgorithm");var OW=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],MW=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],UW=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],qW=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],$W=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],HW=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],jW=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],VW=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function zW(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],f=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],x=e.length()>8?3:1,E=[],I=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,L,D=0;D<x;D++){var k=e.getInt32(),$=e.getInt32();L=(k>>>4^$)&252645135,$^=L,k^=L<<4,L=($>>>-16^k)&65535,k^=L,$^=L<<-16,L=(k>>>2^$)&858993459,$^=L,k^=L<<2,L=($>>>-16^k)&65535,k^=L,$^=L<<-16,L=(k>>>1^$)&1431655765,$^=L,k^=L<<1,L=($>>>8^k)&16711935,k^=L,$^=L<<8,L=(k>>>1^$)&1431655765,$^=L,k^=L<<1,L=k<<8|$>>>20&240,k=$<<24|$<<8&16711680|$>>>8&65280|$>>>24&240,$=L;for(var ue=0;ue<I.length;++ue){I[ue]?(k=k<<2|k>>>26,$=$<<2|$>>>26):(k=k<<1|k>>>27,$=$<<1|$>>>27),k&=-15,$&=-15;var ce=t[k>>>28]|r[k>>>24&15]|n[k>>>20&15]|s[k>>>16&15]|l[k>>>12&15]|a[k>>>8&15]|f[k>>>4&15],e0=c[$>>>28]|u[$>>>24&15]|d[$>>>20&15]|h[$>>>16&15]|p[$>>>12&15]|m[$>>>8&15]|v[$>>>4&15];L=(e0>>>16^ce)&65535,E[A++]=ce^L,E[A++]=e0^L<<16}}return E}o(zW,"_createKeys");function ZD(e,t,r,n){var s=e.length===32?3:9,l;s===3?l=n?[30,-2,-2]:[0,32,2]:l=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,f=t[0],c=t[1];a=(f>>>4^c)&252645135,c^=a,f^=a<<4,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,f=f<<1|f>>>31,c=c<<1|c>>>31;for(var u=0;u<s;u+=3){for(var d=l[u+1],h=l[u+2],p=l[u];p!=d;p+=h){var m=c^e[p],v=(c>>>4|c<<28)^e[p+1];a=f,f=c,c=a^(MW[m>>>24&63]|qW[m>>>16&63]|HW[m>>>8&63]|VW[m&63]|OW[v>>>24&63]|UW[v>>>16&63]|$W[v>>>8&63]|jW[v&63])}a=f,f=c,c=a}f=f>>>1|f<<31,c=c>>>1|c<<31,a=(f>>>1^c)&1431655765,c^=a,f^=a<<1,a=(c>>>8^f)&16711935,f^=a,c^=a<<8,a=(c>>>2^f)&858993459,f^=a,c^=a<<2,a=(f>>>16^c)&65535,c^=a,f^=a<<16,a=(f>>>4^c)&252645135,c^=a,f^=a<<4,r[0]=f,r[1]=c}o(ZD,"_updateBlock");function Xy(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Ds.cipher.createDecipher(r,e.key):n=Ds.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(l,a){var f=null;a instanceof Ds.util.ByteBuffer&&(f=a,a={}),a=a||{},a.output=f,a.iv=l,s.call(n,a)},n}o(Xy,"_createCipher")});var Jy=v0((uce,eL)=>{var Nl=hn();K8();pc();zi();var GW=Nl.pkcs5=Nl.pkcs5||{},Nu;Nl.util.isNodejs&&!Nl.options.usePureJavaScript&&(Nu=require("crypto"));eL.exports=Nl.pbkdf2=GW.pbkdf2=function(e,t,r,n,s,l){if(typeof s=="function"&&(l=s,s=null),Nl.util.isNodejs&&!Nl.options.usePureJavaScript&&Nu.pbkdf2&&(s===null||typeof s!="object")&&(Nu.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),l?Nu.pbkdf2Sync.length===4?Nu.pbkdf2(e,t,r,n,function(L,D){if(L)return l(L);l(null,D.toString("binary"))}):Nu.pbkdf2(e,t,r,n,s,function(L,D){if(L)return l(L);l(null,D.toString("binary"))}):Nu.pbkdf2Sync.length===4?Nu.pbkdf2Sync(e,t,r,n).toString("binary"):Nu.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in Nl.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=Nl.md[s].create()}var a=s.digestLength;if(n>4294967295*a){var f=new Error("Derived key is too long.");if(l)return l(f);throw f}var c=Math.ceil(n/a),u=n-(c-1)*a,d=Nl.hmac.create();d.start(s,e);var h="",p,m,v;if(!l){for(var x=1;x<=c;++x){d.start(null,null),d.update(t),d.update(Nl.util.int32ToBytes(x)),p=v=d.digest().getBytes();for(var E=2;E<=r;++E)d.start(null,null),d.update(v),m=d.digest().getBytes(),p=Nl.util.xorBytes(p,m,a),v=m;h+=x<c?p:p.substr(0,u)}return h}var x=1,E;function I(){if(x>c)return l(null,h);d.start(null,null),d.update(t),d.update(Nl.util.int32ToBytes(x)),p=v=d.digest().getBytes(),E=2,A()}o(I,"outer");function A(){if(E<=r)return d.start(null,null),d.update(v),m=d.digest().getBytes(),p=Nl.util.xorBytes(p,m,a),v=m,++E,Nl.util.setImmediate(A);h+=x<c?p:p.substr(0,u),++x,I()}o(A,"inner"),I()}});var aS=v0((hce,sL)=>{var xc=hn();pc();zi();var rL=sL.exports=xc.sha256=xc.sha256||{};xc.md.sha256=xc.md.algorithms.sha256=rL;rL.create=function(){nL||KW();var e=null,t=xc.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=xc.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=xc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),tL(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=xc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(oS.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};tL(h,r,s);var p=xc.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p.putInt32(h.h5),p.putInt32(h.h6),p.putInt32(h.h7),p},n};var oS=null,nL=!1,iL=null;function KW(){oS="\x80",oS+=xc.util.fillString("\0",64),iL=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],nL=!0}o(KW,"_init");function tL(e,t,r){for(var n,s,l,a,f,c,u,d,h,p,m,v,x,E,I,A=r.length();A>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=t[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[u]=n+t[u-7]+s+t[u-16]|0;for(d=e.h0,h=e.h1,p=e.h2,m=e.h3,v=e.h4,x=e.h5,E=e.h6,I=e.h7,u=0;u<64;++u)a=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),f=E^v&(x^E),l=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),c=d&h|p&(d^h),n=I+a+f+iL[u]+t[u],s=l+c,I=E,E=x,x=v,v=m+n>>>0,m=p,p=h,h=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+h|0,e.h2=e.h2+p|0,e.h3=e.h3+m|0,e.h4=e.h4+v|0,e.h5=e.h5+x|0,e.h6=e.h6+E|0,e.h7=e.h7+I|0,A-=64}}o(tL,"_update")});var lS=v0((mce,oL)=>{var _c=hn();zi();var Zy=null;_c.util.isNodejs&&!_c.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Zy=require("crypto"));var WW=oL.exports=_c.prng=_c.prng||{};WW.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(u,d){if(!d)return t.generateSync(u);var h=t.plugin.cipher,p=t.plugin.increment,m=t.plugin.formatKey,v=t.plugin.formatSeed,x=_c.util.createBuffer();t.key=null,E();function E(I){if(I)return d(I);if(x.length()>=u)return d(null,x.getBytes(u));if(t.generated>1048575&&(t.key=null),t.key===null)return _c.util.nextTick(function(){l(E)});var A=h(t.key,t.seed);t.generated+=A.length,x.putBytes(A),t.key=m(h(t.key,p(t.seed))),t.seed=v(h(t.key,t.seed)),_c.util.setImmediate(E)}o(E,"generate")},t.generateSync=function(u){var d=t.plugin.cipher,h=t.plugin.increment,p=t.plugin.formatKey,m=t.plugin.formatSeed;t.key=null;for(var v=_c.util.createBuffer();v.length()<u;){t.generated>1048575&&(t.key=null),t.key===null&&a();var x=d(t.key,t.seed);t.generated+=x.length,v.putBytes(x),t.key=p(d(t.key,h(t.seed))),t.seed=m(d(t.key,t.seed))}return v.getBytes(u)};function l(u){if(t.pools[0].messageLength>=32)return f(),u();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(h,p){if(h)return u(h);t.collect(p),f(),u()})}o(l,"_reseed");function a(){if(t.pools[0].messageLength>=32)return f();var u=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(u)),f()}o(a,"_reseedSync");function f(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var u=t.plugin.md.create();u.update(t.keyBytes);for(var d=1,h=0;h<32;++h)t.reseeds%d===0&&(u.update(t.pools[h].digest().getBytes()),t.pools[h].start()),d=d<<1;t.keyBytes=u.digest().getBytes(),u.start(),u.update(t.keyBytes);var p=u.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(p),t.generated=0}o(f,"_seed");function c(u){var d=null,h=_c.util.globalScope,p=h.crypto||h.msCrypto;p&&p.getRandomValues&&(d=o(function(k){return p.getRandomValues(k)},"getRandomValues"));var m=_c.util.createBuffer();if(d)for(;m.length()<u;){var v=Math.max(1,Math.min(u-m.length(),65536)/4),x=new Uint32Array(Math.floor(v));try{d(x);for(var E=0;E<x.length;++E)m.putInt32(x[E])}catch(k){if(!(typeof QuotaExceededError<"u"&&k instanceof QuotaExceededError))throw k}}if(m.length()<u)for(var I,A,L,D=Math.floor(Math.random()*65536);m.length()<u;){A=16807*(D&65535),I=16807*(D>>16),A+=(I&32767)<<16,A+=I>>15,A=(A&2147483647)+(A>>31),D=A&4294967295;for(var E=0;E<3;++E)L=D>>>(E<<3),L^=Math.floor(Math.random()*256),m.putByte(L&255)}return m.getBytes(u)}return o(c,"defaultSeedFile"),Zy?(t.seedFile=function(u,d){Zy.randomBytes(u,function(h,p){if(h)return d(h);d(null,p.toString())})},t.seedFileSync=function(u){return Zy.randomBytes(u).toString()}):(t.seedFile=function(u,d){try{d(null,c(u))}catch(h){d(h)}},t.seedFileSync=c),t.collect=function(u){for(var d=u.length,h=0;h<d;++h)t.pools[t.pool].update(u.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(u,d){for(var h="",p=0;p<d;p+=8)h+=String.fromCharCode(u>>p&255);t.collect(h)},t.registerWorker=function(u){if(u===self)t.seedFile=function(h,p){function m(v){var x=v.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",m),p(x.forge.prng.err,x.forge.prng.bytes))}o(m,"listener"),self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:h}}})};else{var d=o(function(h){var p=h.data;p.forge&&p.forge.prng&&t.seedFile(p.forge.prng.needed,function(m,v){u.postMessage({forge:{prng:{err:m,bytes:v}}})})},"listener");u.addEventListener("message",d)}},t}});var Mf=v0((yce,fS)=>{var La=hn();Y5();aS();lS();zi();(function(){if(La.random&&La.random.getBytes){fS.exports=La.random;return}(function(e){var t={},r=new Array(4),n=La.util.createBuffer();t.formatKey=function(h){var p=La.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),La.aes._expandKey(h,!1)},t.formatSeed=function(h){var p=La.util.createBuffer(h);return h=new Array(4),h[0]=p.getInt32(),h[1]=p.getInt32(),h[2]=p.getInt32(),h[3]=p.getInt32(),h},t.cipher=function(h,p){return La.aes._updateBlock(h,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=La.md.sha256;function s(){var h=La.prng.create(t);return h.getBytes=function(p,m){return h.generate(p,m)},h.getBytesSync=function(p){return h.generate(p)},h}o(s,"spawnPrng");var l=s(),a=null,f=La.util.globalScope,c=f.crypto||f.msCrypto;if(c&&c.getRandomValues&&(a=o(function(h){return c.getRandomValues(h)},"getRandomValues")),La.options.usePureJavaScript||!La.util.isNodejs&&!a){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}l.collect(u),u=null}e&&(e().mousemove(function(h){l.collectInt(h.clientX,16),l.collectInt(h.clientY,16)}),e().keypress(function(h){l.collectInt(h.charCode,8)}))}if(!La.random)La.random=l;else for(var d in l)La.random[d]=l[d];La.random.createInstance=s,fS.exports=La.random})(typeof jQuery<"u"?jQuery:null)})()});var uS=v0((xce,fL)=>{var Gl=hn();zi();var cS=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],aL=[1,2,3,5],YW=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),XW=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");fL.exports=Gl.rc2=Gl.rc2||{};Gl.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Gl.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,l=Math.ceil(s/8),a=255>>(s&7),f;for(f=n;f<128;f++)r.putByte(cS[r.at(f-1)+r.at(f-n)&255]);for(r.setAt(128-l,cS[r.at(128-l)&a]),f=127-l;f>=0;f--)r.setAt(f,cS[r.at(f+1)^r.at(f+l)]);return r};var lL=o(function(e,t,r){var n=!1,s=null,l=null,a=null,f,c,u,d,h=[];for(e=Gl.rc2.expandKey(e,t),u=0;u<64;u++)h.push(e.getInt16Le());r?(f=o(function(v){for(u=0;u<4;u++)v[u]+=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),v[u]=YW(v[u],aL[u]),d++},"mixRound"),c=o(function(v){for(u=0;u<4;u++)v[u]+=h[v[(u+3)%4]&63]},"mashRound")):(f=o(function(v){for(u=3;u>=0;u--)v[u]=XW(v[u],aL[u]),v[u]-=h[d]+(v[(u+3)%4]&v[(u+2)%4])+(~v[(u+3)%4]&v[(u+1)%4]),d--},"mixRound"),c=o(function(v){for(u=3;u>=0;u--)v[u]-=h[v[(u+3)%4]&63]},"mashRound"));var p=o(function(v){var x=[];for(u=0;u<4;u++){var E=s.getInt16Le();a!==null&&(r?E^=a.getInt16Le():a.putInt16Le(E)),x.push(E&65535)}d=r?0:63;for(var I=0;I<v.length;I++)for(var A=0;A<v[I][0];A++)v[I][1](x);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(x[u]):x[u]^=a.getInt16Le()),l.putInt16Le(x[u])},"runPlan"),m=null;return m={start:function(v,x){v&&typeof v=="string"&&(v=Gl.util.createBuffer(v)),n=!1,s=Gl.util.createBuffer(),l=x||new Gl.util.createBuffer,a=v,m.output=l},update:function(v){for(n||s.putBuffer(v);s.length()>=8;)p([[5,f],[1,c],[6,f],[1,c],[5,f]])},finish:function(v){var x=!0;if(r)if(v)x=v(8,s,!r);else{var E=s.length()===8?8:8-s.length();s.fillWithByte(E,E)}if(x&&(n=!0,m.update()),!r&&(x=s.length()===0,x))if(v)x=v(8,l,!r);else{var I=l.length(),A=l.at(I-1);A>I?x=!1:l.truncate(A)}return x}},m},"createCipher");Gl.rc2.startEncrypting=function(e,t,r){var n=Gl.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Gl.rc2.createEncryptionCipher=function(e,t){return lL(e,t,!0)};Gl.rc2.startDecrypting=function(e,t,r){var n=Gl.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Gl.rc2.createDecryptionCipher=function(e,t){return lL(e,t,!1)}});var Kh=v0((bce,yL)=>{var dS=hn();yL.exports=dS.jsbn=dS.jsbn||{};var Ru,JW=0xdeadbeefcafe,cL=(JW&16777215)==15715070;function O0(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(O0,"BigInteger");dS.jsbn.BigInteger=O0;function Gi(){return new O0(null)}o(Gi,"nbi");function ZW(e,t,r,n,s,l){for(;--l>=0;){var a=t*this.data[e++]+r.data[n]+s;s=Math.floor(a/67108864),r.data[n++]=a&67108863}return s}o(ZW,"am1");function QW(e,t,r,n,s,l){for(var a=t&32767,f=t>>15;--l>=0;){var c=this.data[e]&32767,u=this.data[e++]>>15,d=f*c+u*a;c=a*c+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(c>>>30)+(d>>>15)+f*u+(s>>>30),r.data[n++]=c&1073741823}return s}o(QW,"am2");function uL(e,t,r,n,s,l){for(var a=t&16383,f=t>>14;--l>=0;){var c=this.data[e]&16383,u=this.data[e++]>>14,d=f*c+u*a;c=a*c+((d&16383)<<14)+r.data[n]+s,s=(c>>28)+(d>>14)+f*u,r.data[n++]=c&268435455}return s}o(uL,"am3");typeof navigator>"u"?(O0.prototype.am=uL,Ru=28):cL&&navigator.appName=="Microsoft Internet Explorer"?(O0.prototype.am=QW,Ru=30):cL&&navigator.appName!="Netscape"?(O0.prototype.am=ZW,Ru=26):(O0.prototype.am=uL,Ru=28);O0.prototype.DB=Ru;O0.prototype.DM=(1<<Ru)-1;O0.prototype.DV=1<<Ru;var hS=52;O0.prototype.FV=Math.pow(2,hS);O0.prototype.F1=hS-Ru;O0.prototype.F2=2*Ru-hS;var eY="0123456789abcdefghijklmnopqrstuvwxyz",Qy=new Array,Y8,Uf;Y8=48;for(Uf=0;Uf<=9;++Uf)Qy[Y8++]=Uf;Y8=97;for(Uf=10;Uf<36;++Uf)Qy[Y8++]=Uf;Y8=65;for(Uf=10;Uf<36;++Uf)Qy[Y8++]=Uf;function dL(e){return eY.charAt(e)}o(dL,"int2char");function hL(e,t){var r=Qy[e.charCodeAt(t)];return r==null?-1:r}o(hL,"intAt");function tY(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(tY,"bnpCopyTo");function rY(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(rY,"bnpFromInt");function J5(e){var t=Gi();return t.fromInt(e),t}o(J5,"nbv");function nY(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,l=0;--n>=0;){var a=r==8?e[n]&255:hL(e,n);if(a<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,l==0?this.data[this.t++]=a:l+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-l)-1)<<l,this.data[this.t++]=a>>this.DB-l):this.data[this.t-1]|=a<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&e[0]&128&&(this.s=-1,l>0&&(this.data[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),s&&O0.ZERO.subTo(this,this)}o(nY,"bnpFromString");function iY(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(iY,"bnpClamp");function sY(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,l="",a=this.t,f=this.DB-a*this.DB%t;if(a-- >0)for(f<this.DB&&(n=this.data[a]>>f)>0&&(s=!0,l=dL(n));a>=0;)f<t?(n=(this.data[a]&(1<<f)-1)<<t-f,n|=this.data[--a]>>(f+=this.DB-t)):(n=this.data[a]>>(f-=t)&r,f<=0&&(f+=this.DB,--a)),n>0&&(s=!0),s&&(l+=dL(n));return s?l:"0"}o(sY,"bnToString");function oY(){var e=Gi();return O0.ZERO.subTo(this,e),e}o(oY,"bnNegate");function aY(){return this.s<0?this.negate():this}o(aY,"bnAbs");function lY(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(lY,"bnCompareTo");function ev(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(ev,"nbits");function fY(){return this.t<=0?0:this.DB*(this.t-1)+ev(this.data[this.t-1]^this.s&this.DM)}o(fY,"bnBitLength");function cY(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(cY,"bnpDLShiftTo");function uY(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o(uY,"bnpDRShiftTo");function dY(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,l=Math.floor(e/this.DB),a=this.s<<r&this.DM,f;for(f=this.t-1;f>=0;--f)t.data[f+l+1]=this.data[f]>>n|a,a=(this.data[f]&s)<<r;for(f=l-1;f>=0;--f)t.data[f]=0;t.data[l]=a,t.t=this.t+l+1,t.s=this.s,t.clamp()}o(dY,"bnpLShiftTo");function hY(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,l=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&l)<<s,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&l)<<s),t.t=this.t-r,t.clamp()}o(hY,"bnpRShiftTo");function gY(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(gY,"bnpSubTo");function mY(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&O0.ZERO.subTo(t,t)}o(mY,"bnpMultiplyTo");function pY(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(pY,"bnpSquareTo");function yY(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Gi());var l=Gi(),a=this.s,f=e.s,c=this.DB-ev(n.data[n.t-1]);c>0?(n.lShiftTo(c,l),s.lShiftTo(c,r)):(n.copyTo(l),s.copyTo(r));var u=l.t,d=l.data[u-1];if(d!=0){var h=d*(1<<this.F1)+(u>1?l.data[u-2]>>this.F2:0),p=this.FV/h,m=(1<<this.F1)/h,v=1<<this.F2,x=r.t,E=x-u,I=t==null?Gi():t;for(l.dlShiftTo(E,I),r.compareTo(I)>=0&&(r.data[r.t++]=1,r.subTo(I,r)),O0.ONE.dlShiftTo(u,I),I.subTo(l,l);l.t<u;)l.data[l.t++]=0;for(;--E>=0;){var A=r.data[--x]==d?this.DM:Math.floor(r.data[x]*p+(r.data[x-1]+v)*m);if((r.data[x]+=l.am(0,A,r,E,0,u))<A)for(l.dlShiftTo(E,I),r.subTo(I,r);r.data[x]<--A;)r.subTo(I,r)}t!=null&&(r.drShiftTo(u,t),a!=f&&O0.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&O0.ZERO.subTo(r,r)}}}o(yY,"bnpDivRemTo");function vY(e){var t=Gi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(O0.ZERO)>0&&e.subTo(t,t),t}o(vY,"bnMod");function rd(e){this.m=e}o(rd,"Classic");function xY(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(xY,"cConvert");function _Y(e){return e}o(_Y,"cRevert");function bY(e){e.divRemTo(this.m,null,e)}o(bY,"cReduce");function CY(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(CY,"cMulTo");function EY(e,t){e.squareTo(t),this.reduce(t)}o(EY,"cSqrTo");rd.prototype.convert=xY;rd.prototype.revert=_Y;rd.prototype.reduce=bY;rd.prototype.mulTo=CY;rd.prototype.sqrTo=EY;function TY(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(TY,"bnpInvDigit");function nd(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(nd,"Montgomery");function SY(e){var t=Gi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(O0.ZERO)>0&&this.m.subTo(t,t),t}o(SY,"montConvert");function IY(e){var t=Gi();return e.copyTo(t),this.reduce(t),t}o(IY,"montRevert");function wY(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(wY,"montReduce");function AY(e,t){e.squareTo(t),this.reduce(t)}o(AY,"montSqrTo");function PY(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(PY,"montMulTo");nd.prototype.convert=SY;nd.prototype.revert=IY;nd.prototype.reduce=wY;nd.prototype.mulTo=PY;nd.prototype.sqrTo=AY;function NY(){return(this.t>0?this.data[0]&1:this.s)==0}o(NY,"bnpIsEven");function RY(e,t){if(e>4294967295||e<1)return O0.ONE;var r=Gi(),n=Gi(),s=t.convert(this),l=ev(e)-1;for(s.copyTo(r);--l>=0;)if(t.sqrTo(r,n),(e&1<<l)>0)t.mulTo(n,s,r);else{var a=r;r=n,n=a}return t.revert(r)}o(RY,"bnpExp");function kY(e,t){var r;return e<256||t.isEven()?r=new rd(t):r=new nd(t),this.exp(e,r)}o(kY,"bnModPowInt");O0.prototype.copyTo=tY;O0.prototype.fromInt=rY;O0.prototype.fromString=nY;O0.prototype.clamp=iY;O0.prototype.dlShiftTo=cY;O0.prototype.drShiftTo=uY;O0.prototype.lShiftTo=dY;O0.prototype.rShiftTo=hY;O0.prototype.subTo=gY;O0.prototype.multiplyTo=mY;O0.prototype.squareTo=pY;O0.prototype.divRemTo=yY;O0.prototype.invDigit=TY;O0.prototype.isEven=NY;O0.prototype.exp=RY;O0.prototype.toString=sY;O0.prototype.negate=oY;O0.prototype.abs=aY;O0.prototype.compareTo=lY;O0.prototype.bitLength=fY;O0.prototype.mod=vY;O0.prototype.modPowInt=kY;O0.ZERO=J5(0);O0.ONE=J5(1);function BY(){var e=Gi();return this.copyTo(e),e}o(BY,"bnClone");function DY(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(DY,"bnIntValue");function LY(){return this.t==0?this.s:this.data[0]<<24>>24}o(LY,"bnByteValue");function FY(){return this.t==0?this.s:this.data[0]<<16>>16}o(FY,"bnShortValue");function OY(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(OY,"bnpChunkSize");function MY(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(MY,"bnSigNum");function UY(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=J5(r),s=Gi(),l=Gi(),a="";for(this.divRemTo(n,s,l);s.signum()>0;)a=(r+l.intValue()).toString(e).substr(1)+a,s.divRemTo(n,s,l);return l.intValue().toString(e)+a}o(UY,"bnpToRadix");function qY(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,l=0,a=0,f=0;f<e.length;++f){var c=hL(e,f);if(c<0){e.charAt(f)=="-"&&this.signum()==0&&(s=!0);continue}a=t*a+c,++l>=r&&(this.dMultiply(n),this.dAddOffset(a,0),l=0,a=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(a,0)),s&&O0.ZERO.subTo(this,this)}o(qY,"bnpFromRadix");function $Y(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(O0.ONE.shiftLeft(e-1),gS,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(O0.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o($Y,"bnpFromNumber");function HY(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(HY,"bnToByteArray");function jY(e){return this.compareTo(e)==0}o(jY,"bnEquals");function VY(e){return this.compareTo(e)<0?this:e}o(VY,"bnMin");function zY(e){return this.compareTo(e)>0?this:e}o(zY,"bnMax");function GY(e,t,r){var n,s,l=Math.min(e.t,this.t);for(n=0;n<l;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=l;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=l;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(GY,"bnpBitwiseTo");function KY(e,t){return e&t}o(KY,"op_and");function WY(e){var t=Gi();return this.bitwiseTo(e,KY,t),t}o(WY,"bnAnd");function gS(e,t){return e|t}o(gS,"op_or");function YY(e){var t=Gi();return this.bitwiseTo(e,gS,t),t}o(YY,"bnOr");function gL(e,t){return e^t}o(gL,"op_xor");function XY(e){var t=Gi();return this.bitwiseTo(e,gL,t),t}o(XY,"bnXor");function mL(e,t){return e&~t}o(mL,"op_andnot");function JY(e){var t=Gi();return this.bitwiseTo(e,mL,t),t}o(JY,"bnAndNot");function ZY(){for(var e=Gi(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(ZY,"bnNot");function QY(e){var t=Gi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(QY,"bnShiftLeft");function eX(e){var t=Gi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(eX,"bnShiftRight");function tX(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(tX,"lbit");function rX(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+tX(this.data[e]);return this.s<0?this.t*this.DB:-1}o(rX,"bnGetLowestSetBit");function nX(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(nX,"cbit");function iX(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=nX(this.data[r]^t);return e}o(iX,"bnBitCount");function sX(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(sX,"bnTestBit");function oX(e,t){var r=O0.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(oX,"bnpChangeBit");function aX(e){return this.changeBit(e,gS)}o(aX,"bnSetBit");function lX(e){return this.changeBit(e,mL)}o(lX,"bnClearBit");function fX(e){return this.changeBit(e,gL)}o(fX,"bnFlipBit");function cX(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(cX,"bnpAddTo");function uX(e){var t=Gi();return this.addTo(e,t),t}o(uX,"bnAdd");function dX(e){var t=Gi();return this.subTo(e,t),t}o(dX,"bnSubtract");function hX(e){var t=Gi();return this.multiplyTo(e,t),t}o(hX,"bnMultiply");function gX(e){var t=Gi();return this.divRemTo(e,t,null),t}o(gX,"bnDivide");function mX(e){var t=Gi();return this.divRemTo(e,null,t),t}o(mX,"bnRemainder");function pX(e){var t=Gi(),r=Gi();return this.divRemTo(e,t,r),new Array(t,r)}o(pX,"bnDivideAndRemainder");function yX(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(yX,"bnpDMultiply");function vX(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(vX,"bnpDAddOffset");function Gh(){}o(Gh,"NullExp");function pL(e){return e}o(pL,"nNop");function xX(e,t,r){e.multiplyTo(t,r)}o(xX,"nMulTo");function _X(e,t){e.squareTo(t)}o(_X,"nSqrTo");Gh.prototype.convert=pL;Gh.prototype.revert=pL;Gh.prototype.mulTo=xX;Gh.prototype.sqrTo=_X;function bX(e){return this.exp(e,new Gh)}o(bX,"bnPow");function CX(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(CX,"bnpMultiplyLowerTo");function EX(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(EX,"bnpMultiplyUpperTo");function X8(e){this.r2=Gi(),this.q3=Gi(),O0.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(X8,"Barrett");function TX(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Gi();return e.copyTo(t),this.reduce(t),t}o(TX,"barrettConvert");function SX(e){return e}o(SX,"barrettRevert");function IX(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(IX,"barrettReduce");function wX(e,t){e.squareTo(t),this.reduce(t)}o(wX,"barrettSqrTo");function AX(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(AX,"barrettMulTo");X8.prototype.convert=TX;X8.prototype.revert=SX;X8.prototype.reduce=IX;X8.prototype.mulTo=AX;X8.prototype.sqrTo=wX;function PX(e,t){var r=e.bitLength(),n,s=J5(1),l;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?l=new rd(t):t.isEven()?l=new X8(t):l=new nd(t);var a=new Array,f=3,c=n-1,u=(1<<n)-1;if(a[1]=l.convert(this),n>1){var d=Gi();for(l.sqrTo(a[1],d);f<=u;)a[f]=Gi(),l.mulTo(d,a[f-2],a[f]),f+=2}var h=e.t-1,p,m=!0,v=Gi(),x;for(r=ev(e.data[h])-1;h>=0;){for(r>=c?p=e.data[h]>>r-c&u:(p=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(p|=e.data[h-1]>>this.DB+r-c)),f=n;!(p&1);)p>>=1,--f;if((r-=f)<0&&(r+=this.DB,--h),m)a[p].copyTo(s),m=!1;else{for(;f>1;)l.sqrTo(s,v),l.sqrTo(v,s),f-=2;f>0?l.sqrTo(s,v):(x=s,s=v,v=x),l.mulTo(v,a[p],s)}for(;h>=0&&!(e.data[h]&1<<r);)l.sqrTo(s,v),x=s,s=v,v=x,--r<0&&(r=this.DB-1,--h)}return l.revert(s)}o(PX,"bnModPow");function NX(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(s<l&&(l=s),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r}o(NX,"bnGCD");function RX(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(RX,"bnpModInt");function kX(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return O0.ZERO;for(var r=e.clone(),n=this.clone(),s=J5(1),l=J5(0),a=J5(0),f=J5(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!l.isEven())&&(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;n.isEven();)n.rShiftTo(1,n),t?((!a.isEven()||!f.isEven())&&(a.addTo(this,a),f.subTo(e,f)),a.rShiftTo(1,a)):f.isEven()||f.subTo(e,f),f.rShiftTo(1,f);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(a,s),l.subTo(f,l)):(n.subTo(r,n),t&&a.subTo(s,a),f.subTo(l,f))}if(n.compareTo(O0.ONE)!=0)return O0.ZERO;if(f.compareTo(e)>=0)return f.subtract(e);if(f.signum()<0)f.addTo(e,f);else return f;return f.signum()<0?f.add(e):f}o(kX,"bnModInverse");var C1=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],BX=(1<<26)/C1[C1.length-1];function DX(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=C1[C1.length-1]){for(t=0;t<C1.length;++t)if(r.data[0]==C1[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<C1.length;){for(var n=C1[t],s=t+1;s<C1.length&&n<BX;)n*=C1[s++];for(n=r.modInt(n);t<s;)if(n%C1[t++]==0)return!1}return r.millerRabin(e)}o(DX,"bnIsProbablePrime");function LX(e){var t=this.subtract(O0.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=FX(),l,a=0;a<e;++a){do l=new O0(this.bitLength(),s);while(l.compareTo(O0.ONE)<=0||l.compareTo(t)>=0);var f=l.modPow(n,this);if(f.compareTo(O0.ONE)!=0&&f.compareTo(t)!=0){for(var c=1;c++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(O0.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0}o(LX,"bnpMillerRabin");function FX(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(FX,"bnGetPrng");O0.prototype.chunkSize=OY;O0.prototype.toRadix=UY;O0.prototype.fromRadix=qY;O0.prototype.fromNumber=$Y;O0.prototype.bitwiseTo=GY;O0.prototype.changeBit=oX;O0.prototype.addTo=cX;O0.prototype.dMultiply=yX;O0.prototype.dAddOffset=vX;O0.prototype.multiplyLowerTo=CX;O0.prototype.multiplyUpperTo=EX;O0.prototype.modInt=RX;O0.prototype.millerRabin=LX;O0.prototype.clone=BY;O0.prototype.intValue=DY;O0.prototype.byteValue=LY;O0.prototype.shortValue=FY;O0.prototype.signum=MY;O0.prototype.toByteArray=HY;O0.prototype.equals=jY;O0.prototype.min=VY;O0.prototype.max=zY;O0.prototype.and=WY;O0.prototype.or=YY;O0.prototype.xor=XY;O0.prototype.andNot=JY;O0.prototype.not=ZY;O0.prototype.shiftLeft=QY;O0.prototype.shiftRight=eX;O0.prototype.getLowestSetBit=rX;O0.prototype.bitCount=iX;O0.prototype.testBit=sX;O0.prototype.setBit=aX;O0.prototype.clearBit=lX;O0.prototype.flipBit=fX;O0.prototype.add=uX;O0.prototype.subtract=dX;O0.prototype.multiply=hX;O0.prototype.divide=gX;O0.prototype.remainder=mX;O0.prototype.divideAndRemainder=pX;O0.prototype.modPow=PX;O0.prototype.modInverse=kX;O0.prototype.pow=bX;O0.prototype.gcd=NX;O0.prototype.isProbablePrime=DX});var J8=v0((Ece,bL)=>{var bc=hn();pc();zi();var xL=bL.exports=bc.sha1=bc.sha1||{};bc.md.sha1=bc.md.algorithms.sha1=xL;xL.create=function(){_L||OX();var e=null,t=bc.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,l=0;l<s;++l)n.fullMessageLength.push(0);return t=bc.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,l){l==="utf8"&&(s=bc.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var f=n.fullMessageLength.length-1;f>=0;--f)n.fullMessageLength[f]+=a[1],a[1]=a[0]+(n.fullMessageLength[f]/4294967296>>>0),n.fullMessageLength[f]=n.fullMessageLength[f]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(s),vL(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=bc.util.createBuffer();s.putBytes(t.bytes());var l=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=l&n.blockLength-1;s.putBytes(mS.substr(0,n.blockLength-a));for(var f,c,u=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)f=n.fullMessageLength[d+1]*8,c=f/4294967296>>>0,u+=c,s.putInt32(u>>>0),u=f>>>0;s.putInt32(u);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};vL(h,r,s);var p=bc.util.createBuffer();return p.putInt32(h.h0),p.putInt32(h.h1),p.putInt32(h.h2),p.putInt32(h.h3),p.putInt32(h.h4),p},n};var mS=null,_L=!1;function OX(){mS="\x80",mS+=bc.util.fillString("\0",64),_L=!0}o(OX,"_init");function vL(e,t,r){for(var n,s,l,a,f,c,u,d,h=r.length();h>=64;){for(s=e.h0,l=e.h1,a=e.h2,f=e.h3,c=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=f^l&(a^f),n=(s<<5|s>>>27)+u+c+1518500249+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+1859775393+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l&a|f&(l^a),n=(s<<5|s>>>27)+u+c+2400959708+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,u=l^a^f,n=(s<<5|s>>>27)+u+c+3395469782+n,c=f,f=a,a=(l<<30|l>>>2)>>>0,l=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+l|0,e.h2=e.h2+a|0,e.h3=e.h3+f|0,e.h4=e.h4+c|0,h-=64}}o(vL,"_update")});var pS=v0((Sce,EL)=>{var Cc=hn();zi();Mf();J8();var CL=EL.exports=Cc.pkcs1=Cc.pkcs1||{};CL.encode_rsa_oaep=function(e,t,r){var n,s,l,a;typeof r=="string"?(n=r,s=arguments[3]||void 0,l=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,l=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),l?l.start():l=Cc.md.sha1.create(),a||(a=l);var f=Math.ceil(e.n.bitLength()/8),c=f-2*l.digestLength-2;if(t.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=t.length,u.maxLength=c,u}n||(n=""),l.update(n,"raw");for(var d=l.digest(),h="",p=c-t.length,m=0;m<p;m++)h+="\0";var v=d.getBytes()+h+""+t;if(!s)s=Cc.random.getBytes(l.digestLength);else if(s.length!==l.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=l.digestLength,u}var x=tv(s,f-l.digestLength-1,a),E=Cc.util.xorBytes(v,x,v.length),I=tv(E,l.digestLength,a),A=Cc.util.xorBytes(s,I,s.length);return"\0"+A+E};CL.decode_rsa_oaep=function(e,t,r){var n,s,l;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md));var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var E=new Error("RSAES-OAEP encoded message length is invalid.");throw E.length=t.length,E.expectedLength=a,E}if(s===void 0?s=Cc.md.sha1.create():s.start(),l||(l=s),a<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var f=s.digest().getBytes(),c=t.charAt(0),u=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),h=tv(d,s.digestLength,l),p=Cc.util.xorBytes(u,h,u.length),m=tv(p,a-s.digestLength-1,l),v=Cc.util.xorBytes(d,m,d.length),x=v.substring(0,s.digestLength),E=c!=="\0",I=0;I<s.digestLength;++I)E|=f.charAt(I)!==x.charAt(I);for(var A=1,L=s.digestLength,D=s.digestLength;D<v.length;D++){var k=v.charCodeAt(D),$=k&1^1,ue=A?65534:0;E|=k&ue,A=A&$,L+=A}if(E||v.charCodeAt(L)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(L+1)};function tv(e,t,r){r||(r=Cc.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),l=0;l<s;++l){var a=String.fromCharCode(l>>24&255,l>>16&255,l>>8&255,l&255);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}o(tv,"rsa_mgf1")});var vS=v0((wce,yS)=>{var Z5=hn();zi();Kh();Mf();(function(){if(Z5.prime){yS.exports=Z5.prime;return}var e=yS.exports=Z5.prime=Z5.prime||{},t=Z5.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(h,p){return h|p},"op_or");e.generateProbablePrime=function(h,p,m){typeof p=="function"&&(m=p,p={}),p=p||{};var v=p.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var x=p.prng||Z5.random,E={nextBytes:function(I){for(var A=x.getBytesSync(I.length),L=0;L<I.length;++L)I[L]=A.charCodeAt(L)}};if(v.name==="PRIMEINC")return l(h,E,v.options,m);throw new Error("Invalid prime generation algorithm: "+v.name)};function l(h,p,m,v){return"workers"in m?c(h,p,m,v):a(h,p,m,v)}o(l,"primeincFindPrime");function a(h,p,m,v){var x=u(h,p),E=0,I=d(x.bitLength());"millerRabinTests"in m&&(I=m.millerRabinTests);var A=10;"maxBlockTime"in m&&(A=m.maxBlockTime),f(x,h,p,E,I,A,v)}o(a,"primeincFindPrimeWithoutWorkers");function f(h,p,m,v,x,E,I){var A=+new Date;do{if(h.bitLength()>p&&(h=u(p,m)),h.isProbablePrime(x))return I(null,h);h.dAddOffset(r[v++%8],0)}while(E<0||+new Date-A<E);Z5.util.setImmediate(function(){f(h,p,m,v,x,E,I)})}o(f,"_primeinc");function c(h,p,m,v){if(typeof Worker>"u")return a(h,p,m,v);var x=u(h,p),E=m.workers,I=m.workLoad||100,A=I*30/8,L=m.workerScript||"forge/prime.worker.js";if(E===-1)return Z5.util.estimateCores(function(k,$){k&&($=2),E=$-1,D()});D();function D(){E=Math.max(1,E);for(var k=[],$=0;$<E;++$)k[$]=new Worker(L);for(var ue=E,$=0;$<E;++$)k[$].addEventListener("message",e0);var ce=!1;function e0(d0){if(!ce){--ue;var n0=d0.data;if(n0.found){for(var _0=0;_0<k.length;++_0)k[_0].terminate();return ce=!0,v(null,new t(n0.prime,16))}x.bitLength()>h&&(x=u(h,p));var je=x.toString(16);d0.target.postMessage({hex:je,workLoad:I}),x.dAddOffset(A,0)}}o(e0,"workerMessage")}o(D,"generate")}o(c,"primeincFindPrimeWithWorkers");function u(h,p){var m=new t(h,p),v=h-1;return m.testBit(v)||m.bitwiseTo(t.ONE.shiftLeft(v),s,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}o(u,"generateRandom");function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}o(d,"getMillerRabinTests")})()});var Wh=v0((Pce,NL)=>{var Ir=hn();b1();Kh();X5();pS();vS();Mf();zi();typeof $i>"u"&&($i=Ir.jsbn.BigInteger);var $i,xS=Ir.util.isNodejs?require("crypto"):null,u0=Ir.asn1,qf=Ir.util;Ir.pki=Ir.pki||{};NL.exports=Ir.pki.rsa=Ir.rsa=Ir.rsa||{};var tn=Ir.pki,MX=[6,4,2,4,2,4,6,2],UX={name:"PrivateKeyInfo",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u0.Class.UNIVERSAL,type:u0.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u0.Class.UNIVERSAL,type:u0.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},qX={name:"RSAPrivateKey",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},$X={name:"RSAPublicKey",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:u0.Class.UNIVERSAL,type:u0.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},HX=Ir.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u0.Class.UNIVERSAL,type:u0.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:u0.Class.UNIVERSAL,type:u0.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},jX={name:"DigestInfo",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:u0.Class.UNIVERSAL,type:u0.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:u0.Class.UNIVERSAL,type:u0.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:u0.Class.UNIVERSAL,type:u0.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:u0.Class.UNIVERSAL,type:u0.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},VX=o(function(e){var t;if(e.algorithm in tn.oids)t=tn.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=u0.oidToDer(t).getBytes(),s=u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[]),l=u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[]);l.value.push(u0.create(u0.Class.UNIVERSAL,u0.Type.OID,!1,n)),l.value.push(u0.create(u0.Class.UNIVERSAL,u0.Type.NULL,!1,""));var a=u0.create(u0.Class.UNIVERSAL,u0.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(l),s.value.push(a),u0.toDer(s).getBytes()},"emsaPkcs1v15encode"),AL=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract($i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract($i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new $i(Ir.util.bytesToHex(Ir.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals($i.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),l=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(l)<0;)s=s.add(t.p);var a=s.subtract(l).multiply(t.qInv).mod(t.p).multiply(t.q).add(l);return a=a.multiply(n.modInverse(t.n)).mod(t.n),a},"_modPow");tn.rsa.encrypt=function(e,t,r){var n=r,s,l=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=PL(e,t,r)):(s=Ir.util.createBuffer(),s.putBytes(e));for(var a=new $i(s.toHex(),16),f=AL(a,t,n),c=f.toString(16),u=Ir.util.createBuffer(),d=l-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(Ir.util.hexToBytes(c)),u.getBytes()};tn.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var l=new Error("Encrypted message length is invalid.");throw l.length=e.length,l.expected=s,l}var a=new $i(Ir.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=AL(a,t,r),c=f.toString(16),u=Ir.util.createBuffer(),d=s-Math.ceil(c.length/2);d>0;)u.putByte(0),--d;return u.putBytes(Ir.util.hexToBytes(c)),n!==!1?rv(u.getBytes(),t,r):u.getBytes()};tn.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||Ir.random,s={nextBytes:function(f){for(var c=n.getBytesSync(f.length),u=0;u<f.length;++u)f[u]=c.charCodeAt(u)}},l=r.algorithm||"PRIMEINC",a;if(l==="PRIMEINC")a={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new $i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+l);return a};tn.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new $i(null);r.fromInt(30);for(var n=0,s=o(function(h,p){return h|p},"op_or"),l=+new Date,a,f=0;e.keys===null&&(t<=0||f<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,u=c-1;e.pqState===0?(e.num=new $i(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo($i.ONE.shiftLeft(u),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(GX(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(MX[n++%8],0):e.pqState===2?e.pqState=e.num.subtract($i.ONE).gcd(e.e).compareTo($i.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract($i.ONE),e.q1=e.q.subtract($i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo($i.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:tn.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:tn.rsa.setPublicKey(e.n,e.e)}}a=+new Date,f+=a-l,l=a}return e.keys!==null};tn.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!Ir.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(TL("generateKeyPair"))return xS.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(f,c,u){if(f)return n(f);n(null,{privateKey:tn.privateKeyFromPem(u),publicKey:tn.publicKeyFromPem(c)})});if(SL("generateKey")&&SL("exportKey"))return qf.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:wL(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(f){return qf.globalScope.crypto.subtle.exportKey("pkcs8",f.privateKey)}).then(void 0,function(f){n(f)}).then(function(f){if(f){var c=tn.privateKeyFromAsn1(u0.fromDer(Ir.util.createBuffer(f)));n(null,{privateKey:c,publicKey:tn.setRsaPublicKey(c.n,c.e)})}});if(IL("generateKey")&&IL("exportKey")){var s=qf.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:wL(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(f){var c=f.target.result,u=qf.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(d){var h=d.target.result,p=tn.privateKeyFromAsn1(u0.fromDer(Ir.util.createBuffer(h)));n(null,{privateKey:p,publicKey:tn.setRsaPublicKey(p.n,p.e)})},u.onerror=function(d){n(d)}},s.onerror=function(f){n(f)};return}}else if(TL("generateKeyPairSync")){var l=xS.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:tn.privateKeyFromPem(l.privateKey),publicKey:tn.publicKeyFromPem(l.publicKey)}}}var a=tn.rsa.createKeyPairGenerationState(e,t,r);if(!n)return tn.rsa.stepKeyPairGenerationState(a,0),a.keys;zX(a,r,n)};tn.setRsaPublicKey=tn.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,l){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(f,c,u){return PL(f,c,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(f,c){return Ir.pkcs1.encode_rsa_oaep(c,f,l)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(f){return f}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var a=s.encode(n,r,!0);return tn.rsa.encrypt(a,r,!0)},r.verify=function(n,s,l,a){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),l==="RSASSA-PKCS1-V1_5"?l={verify:function(c,u){u=rv(u,r,!0);var d=u0.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),h={},p=[];if(!u0.validate(d,jX,h,p)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=p,m}var v=u0.derToOid(h.algorithmIdentifier);if(!(v===Ir.oids.md2||v===Ir.oids.md5||v===Ir.oids.sha1||v===Ir.oids.sha224||v===Ir.oids.sha256||v===Ir.oids.sha384||v===Ir.oids.sha512||v===Ir.oids["sha512-224"]||v===Ir.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=v,m}if((v===Ir.oids.md2||v===Ir.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(l==="NONE"||l==="NULL"||l===null)&&(l={verify:function(c,u){return u=rv(u,r,!0),c===u}});var f=tn.rsa.decrypt(s,r,!0,!1);return l.verify(n,f,r.n.bitLength())},r};tn.setRsaPrivateKey=tn.rsa.setPrivateKey=function(e,t,r,n,s,l,a,f){var c={n:e,e:t,d:r,p:n,q:s,dP:l,dQ:a,qInv:f};return c.decrypt=function(u,d,h){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var p=tn.rsa.decrypt(u,c,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:rv};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(m,v){return Ir.pkcs1.decode_rsa_oaep(v,m,h)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(m){return m}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(p,c,!1)},c.sign=function(u,d){var h=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:VX},h=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return u}},h=1);var p=d.encode(u,c.n.bitLength());return tn.rsa.encrypt(p,c,h)},c};tn.wrapRsaPrivateKey=function(e){return u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,u0.integerToDer(0).getBytes()),u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.OID,!1,u0.oidToDer(tn.oids.rsaEncryption).getBytes()),u0.create(u0.Class.UNIVERSAL,u0.Type.NULL,!1,"")]),u0.create(u0.Class.UNIVERSAL,u0.Type.OCTETSTRING,!1,u0.toDer(e).getBytes())])};tn.privateKeyFromAsn1=function(e){var t={},r=[];if(u0.validate(e,UX,t,r)&&(e=u0.fromDer(Ir.util.createBuffer(t.privateKey))),t={},r=[],!u0.validate(e,qX,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,l,a,f,c,u,d,h;return s=Ir.util.createBuffer(t.privateKeyModulus).toHex(),l=Ir.util.createBuffer(t.privateKeyPublicExponent).toHex(),a=Ir.util.createBuffer(t.privateKeyPrivateExponent).toHex(),f=Ir.util.createBuffer(t.privateKeyPrime1).toHex(),c=Ir.util.createBuffer(t.privateKeyPrime2).toHex(),u=Ir.util.createBuffer(t.privateKeyExponent1).toHex(),d=Ir.util.createBuffer(t.privateKeyExponent2).toHex(),h=Ir.util.createBuffer(t.privateKeyCoefficient).toHex(),tn.setRsaPrivateKey(new $i(s,16),new $i(l,16),new $i(a,16),new $i(f,16),new $i(c,16),new $i(u,16),new $i(d,16),new $i(h,16))};tn.privateKeyToAsn1=tn.privateKeyToRSAPrivateKey=function(e){return u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,u0.integerToDer(0).getBytes()),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.n)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.e)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.d)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.p)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.q)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.dP)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.dQ)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.qInv))])};tn.publicKeyFromAsn1=function(e){var t={},r=[];if(u0.validate(e,HX,t,r)){var n=u0.derToOid(t.publicKeyOid);if(n!==tn.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!u0.validate(e,$X,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var l=Ir.util.createBuffer(t.publicKeyModulus).toHex(),a=Ir.util.createBuffer(t.publicKeyExponent).toHex();return tn.setRsaPublicKey(new $i(l,16),new $i(a,16))};tn.publicKeyToAsn1=tn.publicKeyToSubjectPublicKeyInfo=function(e){return u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.OID,!1,u0.oidToDer(tn.oids.rsaEncryption).getBytes()),u0.create(u0.Class.UNIVERSAL,u0.Type.NULL,!1,"")]),u0.create(u0.Class.UNIVERSAL,u0.Type.BITSTRING,!1,[tn.publicKeyToRSAPublicKey(e)])])};tn.publicKeyToRSAPublicKey=function(e){return u0.create(u0.Class.UNIVERSAL,u0.Type.SEQUENCE,!0,[u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.n)),u0.create(u0.Class.UNIVERSAL,u0.Type.INTEGER,!1,Ec(e.e))])};function PL(e,t,r){var n=Ir.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var l=new Error("Message is too long for PKCS#1 v1.5 padding.");throw l.length=e.length,l.max=s-11,l}n.putByte(0),n.putByte(r);var a=s-3-e.length,f;if(r===0||r===1){f=r===0?0:255;for(var c=0;c<a;++c)n.putByte(f)}else for(;a>0;){for(var u=0,d=Ir.random.getBytes(a),c=0;c<a;++c)f=d.charCodeAt(c),f===0?++u:n.putByte(f);a=u}return n.putByte(0),n.putBytes(e),n}o(PL,"_encodePkcs1_v1_5");function rv(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),l=Ir.util.createBuffer(e),a=l.getByte(),f=l.getByte();if(a!==0||r&&f!==0&&f!==1||!r&&f!=2||r&&f===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(f===0){c=s-3-n;for(var u=0;u<c;++u)if(l.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(f===1)for(c=0;l.length()>1;){if(l.getByte()!==255){--l.read;break}++c}else if(f===2)for(c=0;l.length()>1;){if(l.getByte()===0){--l.read;break}++c}var d=l.getByte();if(d!==0||c!==s-3-l.length())throw new Error("Encryption block is invalid.");return l.getBytes()}o(rv,"_decodePkcs1_v1_5");function zX(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){l(e.pBits,function(f,c){if(f)return r(f);if(e.p=c,e.q!==null)return a(f,e.q);l(e.qBits,a)})}o(s,"generate");function l(f,c){Ir.prime.generateProbablePrime(f,n,c)}o(l,"getPrime");function a(f,c){if(f)return r(f);if(e.q=c,e.p.compareTo(e.q)<0){var u=e.p;e.p=e.q,e.q=u}if(e.p.subtract($i.ONE).gcd(e.e).compareTo($i.ONE)!==0){e.p=null,s();return}if(e.q.subtract($i.ONE).gcd(e.e).compareTo($i.ONE)!==0){e.q=null,l(e.qBits,a);return}if(e.p1=e.p.subtract($i.ONE),e.q1=e.q.subtract($i.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo($i.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,l(e.qBits,a);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:tn.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:tn.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(a,"finish")}o(zX,"_generateKeyPair");function Ec(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=Ir.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(Ec,"_bnToBytes");function GX(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(GX,"_getMillerRabinTests");function TL(e){return Ir.util.isNodejs&&typeof xS[e]=="function"}o(TL,"_detectNodeCrypto");function SL(e){return typeof qf.globalScope<"u"&&typeof qf.globalScope.crypto=="object"&&typeof qf.globalScope.crypto.subtle=="object"&&typeof qf.globalScope.crypto.subtle[e]=="function"}o(SL,"_detectSubtleCrypto");function IL(e){return typeof qf.globalScope<"u"&&typeof qf.globalScope.msCrypto=="object"&&typeof qf.globalScope.msCrypto.subtle=="object"&&typeof qf.globalScope.msCrypto.subtle[e]=="function"}o(IL,"_detectSubtleMsCrypto");function wL(e){for(var t=Ir.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(wL,"_intToUint8Array")});var _S=v0((Rce,LL)=>{var At=hn();Y5();b1();zh();pc();X5();Jy();td();Mf();uS();Wh();zi();typeof RL>"u"&&(RL=At.jsbn.BigInteger);var RL,S0=At.asn1,un=At.pki=At.pki||{};LL.exports=un.pbe=At.pbe=At.pbe||{};var id=un.oids,KX={name:"EncryptedPrivateKeyInfo",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},WX={name:"PBES2Algorithms",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},YX={name:"pkcs-12PbeParams",tagClass:S0.Class.UNIVERSAL,type:S0.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:S0.Class.UNIVERSAL,type:S0.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:S0.Class.UNIVERSAL,type:S0.Type.INTEGER,constructed:!1,capture:"iterations"}]};un.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=At.random.getBytesSync(r.saltSize),s=r.count,l=S0.integerToDer(s),a,f,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,d,h;switch(r.algorithm){case"aes128":a=16,u=16,d=id["aes128-CBC"],h=At.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,d=id["aes192-CBC"],h=At.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,d=id["aes256-CBC"],h=At.aes.createEncryptionCipher;break;case"des":a=8,u=8,d=id.desCBC,h=At.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),v=DL(m),x=At.pkcs5.pbkdf2(t,n,s,a,v),E=At.random.getBytesSync(u),I=h(x);I.start(E),I.update(S0.toDer(e)),I.finish(),c=I.output.getBytes();var A=XX(n,l,a,m);f=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(id.pkcs5PBES2).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(id.pkcs5PBKDF2).getBytes()),A]),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(d).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,E)])])])}else if(r.algorithm==="3des"){a=24;var L=new At.util.ByteBuffer(n),x=un.pbe.generatePkcs12Key(t,L,1,s,a),E=un.pbe.generatePkcs12Key(t,L,2,s,a),I=At.des.createEncryptionCipher(x);I.start(E),I.update(S0.toDer(e)),I.finish(),c=I.output.getBytes(),f=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(id["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,n),S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,l.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var D=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[f,S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,c)]);return D};un.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!S0.validate(e,KX,n,s)){var l=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=S0.derToOid(n.encryptionOid),f=un.pbe.getCipher(a,n.encryptionParams,t),c=At.util.createBuffer(n.encryptedData);return f.update(c),f.finish()&&(r=S0.fromDer(f.output)),r};un.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:S0.toDer(e).getBytes()};return At.pem.encode(r,{maxline:t})};un.encryptedPrivateKeyFromPem=function(e){var t=At.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return S0.fromDer(t.body)};un.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=un.wrapRsaPrivateKey(un.privateKeyToAsn1(e));return n=un.encryptPrivateKeyInfo(n,t,r),un.encryptedPrivateKeyToPem(n)}var s,l,a,f;switch(r.algorithm){case"aes128":s="AES-128-CBC",a=16,l=At.random.getBytesSync(16),f=At.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",a=24,l=At.random.getBytesSync(16),f=At.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",a=32,l=At.random.getBytesSync(16),f=At.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",a=24,l=At.random.getBytesSync(8),f=At.des.createEncryptionCipher;break;case"des":s="DES-CBC",a=8,l=At.random.getBytesSync(8),f=At.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=At.pbe.opensslDeriveBytes(t,l.substr(0,8),a),d=f(u);d.start(l),d.update(S0.toDer(un.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:At.util.bytesToHex(l).toUpperCase()},body:d.output.getBytes()};return At.pem.encode(h)};un.decryptRsaPrivateKey=function(e,t){var r=null,n=At.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var l,a;switch(n.dekInfo.algorithm){case"DES-CBC":l=8,a=At.des.createDecryptionCipher;break;case"DES-EDE3-CBC":l=24,a=At.des.createDecryptionCipher;break;case"AES-128-CBC":l=16,a=At.aes.createDecryptionCipher;break;case"AES-192-CBC":l=24,a=At.aes.createDecryptionCipher;break;case"AES-256-CBC":l=32,a=At.aes.createDecryptionCipher;break;case"RC2-40-CBC":l=5,a=o(function(h){return At.rc2.createDecryptionCipher(h,40)},"cipherFn");break;case"RC2-64-CBC":l=8,a=o(function(h){return At.rc2.createDecryptionCipher(h,64)},"cipherFn");break;case"RC2-128-CBC":l=16,a=o(function(h){return At.rc2.createDecryptionCipher(h,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var f=At.util.hexToBytes(n.dekInfo.parameters),c=At.pbe.opensslDeriveBytes(t,f.substr(0,8),l),u=a(c);if(u.start(f),u.update(At.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=un.decryptPrivateKeyInfo(S0.fromDer(r),t):r=S0.fromDer(r),r!==null&&(r=un.privateKeyFromAsn1(r)),r};un.pbe.generatePkcs12Key=function(e,t,r,n,s,l){var a,f;if(typeof l>"u"||l===null){if(!("sha1"in At.md))throw new Error('"sha1" hash algorithm unavailable.');l=At.md.sha1.create()}var c=l.digestLength,u=l.blockLength,d=new At.util.ByteBuffer,h=new At.util.ByteBuffer;if(e!=null){for(f=0;f<e.length;f++)h.putInt16(e.charCodeAt(f));h.putInt16(0)}var p=h.length(),m=t.length(),v=new At.util.ByteBuffer;v.fillWithByte(r,u);var x=u*Math.ceil(m/u),E=new At.util.ByteBuffer;for(f=0;f<x;f++)E.putByte(t.at(f%m));var I=u*Math.ceil(p/u),A=new At.util.ByteBuffer;for(f=0;f<I;f++)A.putByte(h.at(f%p));var L=E;L.putBuffer(A);for(var D=Math.ceil(s/c),k=1;k<=D;k++){var $=new At.util.ByteBuffer;$.putBytes(v.bytes()),$.putBytes(L.bytes());for(var ue=0;ue<n;ue++)l.start(),l.update($.getBytes()),$=l.digest();var ce=new At.util.ByteBuffer;for(f=0;f<u;f++)ce.putByte($.at(f%c));var e0=Math.ceil(m/u)+Math.ceil(p/u),d0=new At.util.ByteBuffer;for(a=0;a<e0;a++){var n0=new At.util.ByteBuffer(L.getBytes(u)),_0=511;for(f=ce.length()-1;f>=0;f--)_0=_0>>8,_0+=ce.at(f)+n0.at(f),n0.setAt(f,_0&255);d0.putBuffer(n0)}L=d0,d.putBuffer($)}return d.truncate(d.length()-s),d};un.pbe.getCipher=function(e,t,r){switch(e){case un.oids.pkcs5PBES2:return un.pbe.getCipherForPBES2(e,t,r);case un.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case un.oids["pbewithSHAAnd40BitRC2-CBC"]:return un.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};un.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!S0.validate(t,WX,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}if(e=S0.derToOid(n.kdfOid),e!==un.oids.pkcs5PBKDF2){var l=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw l.oid=e,l.supportedOids=["pkcs5PBKDF2"],l}if(e=S0.derToOid(n.encOid),e!==un.oids["aes128-CBC"]&&e!==un.oids["aes192-CBC"]&&e!==un.oids["aes256-CBC"]&&e!==un.oids["des-EDE3-CBC"]&&e!==un.oids.desCBC){var l=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw l.oid=e,l.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],l}var a=n.kdfSalt,f=At.util.createBuffer(n.kdfIterationCount);f=f.getInt(f.length()<<3);var c,u;switch(un.oids[e]){case"aes128-CBC":c=16,u=At.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=At.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=At.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=At.des.createDecryptionCipher;break;case"desCBC":c=8,u=At.des.createDecryptionCipher;break}var d=BL(n.prfOid),h=At.pkcs5.pbkdf2(r,a,f,c,d),p=n.encIv,m=u(h);return m.start(p),m};un.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!S0.validate(t,YX,n,s)){var l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw l.errors=s,l}var a=At.util.createBuffer(n.salt),f=At.util.createBuffer(n.iterations);f=f.getInt(f.length()<<3);var c,u,d;switch(e){case un.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,d=At.des.startDecrypting;break;case un.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,d=o(function(x,E){var I=At.rc2.createDecryptionCipher(x,40);return I.start(E,null),I},"cipherFn");break;default:var l=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw l.oid=e,l}var h=BL(n.prfOid),p=un.pbe.generatePkcs12Key(r,a,1,f,c,h);h.start();var m=un.pbe.generatePkcs12Key(r,a,2,f,u,h);return d(p,m)};un.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in At.md))throw new Error('"md5" hash algorithm unavailable.');n=At.md.md5.create()}t===null&&(t="");for(var s=[kL(n,e+t)],l=16,a=1;l<r;++a,l+=16)s.push(kL(n,s[a-1]+e+t));return s.join("").substr(0,r)};function kL(e,t){return e.start().update(t).digest().getBytes()}o(kL,"hash");function BL(e){var t;if(!e)t="hmacWithSHA1";else if(t=un.oids[S0.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return DL(t)}o(BL,"prfOidToMessageDigest");function DL(e){var t=At.md;switch(e){case"hmacWithSHA224":t=At.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(DL,"prfAlgorithmToMessageDigest");function XX(e,t,r,n){var s=S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OCTETSTRING,!1,e),S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(S0.create(S0.Class.UNIVERSAL,S0.Type.INTEGER,!1,At.util.hexToBytes(r.toString(16))),S0.create(S0.Class.UNIVERSAL,S0.Type.SEQUENCE,!0,[S0.create(S0.Class.UNIVERSAL,S0.Type.OID,!1,S0.oidToDer(un.oids[n]).getBytes()),S0.create(S0.Class.UNIVERSAL,S0.Type.NULL,!1,"")])),s}o(XX,"createPbkdf2Params")});var bS=v0((Bce,ML)=>{var Z8=hn();b1();zi();var Tt=Z8.asn1,Q8=ML.exports=Z8.pkcs7asn1=Z8.pkcs7asn1||{};Z8.pkcs7=Z8.pkcs7||{};Z8.pkcs7.asn1=Q8;var FL={name:"ContentInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Q8.contentInfoValidator=FL;var OL={name:"EncryptedContentInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Q8.envelopedDataValidator={name:"EnvelopedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(OL)};Q8.encryptedDataValidator={name:"EncryptedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"}].concat(OL)};var JX={name:"SignerInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Q8.signedDataValidator={name:"SignedData",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},FL,{name:"SignedData.Certificates",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Tt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SET,capture:"signerInfos",optional:!0,value:[JX]}]};Q8.recipientInfoValidator={name:"RecipientInfo",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Tt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Tt.Class.UNIVERSAL,type:Tt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var CS=v0((Dce,UL)=>{var sd=hn();zi();sd.mgf=sd.mgf||{};var ZX=UL.exports=sd.mgf.mgf1=sd.mgf1=sd.mgf1||{};ZX.create=function(e){var t={generate:function(r,n){for(var s=new sd.util.ByteBuffer,l=Math.ceil(n/e.digestLength),a=0;a<l;a++){var f=new sd.util.ByteBuffer;f.putInt32(a),e.start(),e.update(r+f.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var $L=v0((Lce,qL)=>{var nv=hn();CS();qL.exports=nv.mgf=nv.mgf||{};nv.mgf.mgf1=nv.mgf1});var iv=v0((Fce,HL)=>{var od=hn();Mf();zi();var QX=HL.exports=od.pss=od.pss||{};QX.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=od.util.createBuffer(s));var l;if("saltLength"in e)l=e.saltLength;else if(s!==null)l=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==l)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||od.random,f={};return f.encode=function(c,u){var d,h=u-1,p=Math.ceil(h/8),m=c.digest().getBytes();if(p<n+l+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=a.getBytesSync(l):v=s.bytes();var x=new od.util.ByteBuffer;x.fillWithByte(0,8),x.putBytes(m),x.putBytes(v),t.start(),t.update(x.getBytes());var E=t.digest().getBytes(),I=new od.util.ByteBuffer;I.fillWithByte(0,p-l-n-2),I.putByte(1),I.putBytes(v);var A=I.getBytes(),L=p-n-1,D=r.generate(E,L),k="";for(d=0;d<L;d++)k+=String.fromCharCode(A.charCodeAt(d)^D.charCodeAt(d));var $=65280>>8*p-h&255;return k=String.fromCharCode(k.charCodeAt(0)&~$)+k.substr(1),k+E+"\xBC"},f.verify=function(c,u,d){var h,p=d-1,m=Math.ceil(p/8);if(u=u.substr(-m),m<n+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=m-n-1,x=u.substr(0,v),E=u.substr(v,n),I=65280>>8*m-p&255;if(x.charCodeAt(0)&I)throw new Error("Bits beyond keysize not zero as expected.");var A=r.generate(E,v),L="";for(h=0;h<v;h++)L+=String.fromCharCode(x.charCodeAt(h)^A.charCodeAt(h));L=String.fromCharCode(L.charCodeAt(0)&~I)+L.substr(1);var D=m-n-l-2;for(h=0;h<D;h++)if(L.charCodeAt(h)!==0)throw new Error("Leftmost octets not zero as expected");if(L.charCodeAt(D)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var k=L.substr(-l),$=new od.util.ByteBuffer;$.fillWithByte(0,8),$.putBytes(c),$.putBytes(k),t.start(),t.update($.getBytes());var ue=t.digest().getBytes();return E===ue},f}});var av=v0((Oce,KL)=>{var wr=hn();Y5();b1();zh();pc();$L();X5();td();iv();Wh();zi();var W=wr.asn1,K0=KL.exports=wr.pki=wr.pki||{},Hi=K0.oids,Ks={};Ks.CN=Hi.commonName;Ks.commonName="CN";Ks.C=Hi.countryName;Ks.countryName="C";Ks.L=Hi.localityName;Ks.localityName="L";Ks.ST=Hi.stateOrProvinceName;Ks.stateOrProvinceName="ST";Ks.O=Hi.organizationName;Ks.organizationName="O";Ks.OU=Hi.organizationalUnitName;Ks.organizationalUnitName="OU";Ks.E=Hi.emailAddress;Ks.emailAddress="E";var VL=wr.pki.rsa.publicKeyValidator,eJ={name:"Certificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:W.Class.UNIVERSAL,type:W.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:W.Class.UNIVERSAL,type:W.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},VL,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},tJ={name:"rsapss",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:W.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:W.Class.UNIVERSAL,type:W.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:W.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:W.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:W.Class.UNIVERSAL,type:W.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},rJ={name:"CertificationRequestInfo",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:W.Class.UNIVERSAL,type:W.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},VL,{name:"CertificationRequestInfo.attributes",tagClass:W.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:W.Class.UNIVERSAL,type:W.Type.SET,constructed:!0}]}]}]},nJ={name:"CertificationRequest",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[rJ,{name:"CertificationRequest.signatureAlgorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:W.Class.UNIVERSAL,type:W.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:W.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:W.Class.UNIVERSAL,type:W.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};K0.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,l,a=0;a<e.value.length;++a){n=e.value[a];for(var f=0;f<n.value.length;++f)l={},s=n.value[f],l.type=W.derToOid(s.value[0].value),l.value=s.value[1].value,l.valueTagClass=s.value[1].type,l.type in Hi&&(l.name=Hi[l.type],l.name in Ks&&(l.shortName=Ks[l.name])),t&&(t.update(l.type),t.update(l.value)),r.push(l)}return r};K0.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=W.derToOid(n.value[0].value),l=n.value[1].value,a=0;a<l.length;++a){var f={};if(f.type=s,f.value=l[a].value,f.valueTagClass=l[a].type,f.type in Hi&&(f.name=Hi[f.type],f.name in Ks&&(f.shortName=Ks[f.name])),f.type===Hi.extensionRequest){f.extensions=[];for(var c=0;c<f.value.length;++c)f.extensions.push(K0.certificateExtensionFromAsn1(f.value[c]))}t.push(f)}return t};function Q5(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(Q5,"_getAttribute");var sv=o(function(e,t,r){var n={};if(e!==Hi["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:Hi.sha1},mgf:{algorithmOid:Hi.mgf1,hash:{algorithmOid:Hi.sha1}},saltLength:20});var s={},l=[];if(!W.validate(t,tJ,s,l)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=l,a}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=W.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=W.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=W.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),ov=o(function(e){switch(Hi[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return wr.md.sha1.create();case"md5WithRSAEncryption":return wr.md.md5.create();case"sha256WithRSAEncryption":return wr.md.sha256.create();case"sha384WithRSAEncryption":return wr.md.sha384.create();case"sha512WithRSAEncryption":return wr.md.sha512.create();case"RSASSA-PSS":return wr.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),zL=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case Hi.sha1WithRSAEncryption:case Hi.sha1WithRSASignature:break;case Hi["RSASSA-PSS"]:var n,s;if(n=Hi[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||wr.md[n]===void 0){var l=new Error("Unsupported MGF hash function.");throw l.oid=t.signatureParameters.mgf.hash.algorithmOid,l.name=n,l}if(s=Hi[t.signatureParameters.mgf.algorithmOid],s===void 0||wr.mgf[s]===void 0){var l=new Error("Unsupported MGF function.");throw l.oid=t.signatureParameters.mgf.algorithmOid,l.name=s,l}if(s=wr.mgf[s].create(wr.md[n].create()),n=Hi[t.signatureParameters.hash.algorithmOid],n===void 0||wr.md[n]===void 0){var l=new Error("Unsupported RSASSA-PSS hash function.");throw l.oid=t.signatureParameters.hash.algorithmOid,l.name=n,l}r=wr.pss.create(wr.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");K0.certificateFromPem=function(e,t,r){var n=wr.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificateFromAsn1(l,t)};K0.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:W.toDer(K0.certificateToAsn1(e)).getBytes()};return wr.pem.encode(r,{maxline:t})};K0.publicKeyFromPem=function(e){var t=wr.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=W.fromDer(t.body);return K0.publicKeyFromAsn1(n)};K0.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:W.toDer(K0.publicKeyToAsn1(e)).getBytes()};return wr.pem.encode(r,{maxline:t})};K0.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes()};return wr.pem.encode(r,{maxline:t})};K0.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||wr.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=W.toDer(K0.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=W.toDer(K0.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};K0.certificationRequestFromPem=function(e,t,r){var n=wr.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=W.fromDer(n.body,r);return K0.certificationRequestFromAsn1(l,t)};K0.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:W.toDer(K0.certificationRequestToAsn1(e)).getBytes()};return wr.pem.encode(r,{maxline:t})};K0.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return Q5(e.issuer,t)},e.issuer.addField=function(t){$f([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return Q5(e.subject,t)},e.subject.addField=function(t){$f([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){$f(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){$f(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)GL(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||wr.md.sha1.create();var n=Hi[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=K0.getTBSCertificate(e);var l=W.toDer(e.tbsCertificate);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,l=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw l.expectedIssuer=s.attributes,l.actualIssuer=n.attributes,l}var a=t.md;if(a===null){a=ov({signatureOid:t.signatureOid,type:"certificate"});var f=t.tbsCertificate||K0.getTBSCertificate(t),c=W.toDer(f);a.update(c.getBytes())}return a!==null&&(r=zL({certificate:e,md:a,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var l,a,f=0;r&&f<n.attributes.length;++f)l=n.attributes[f],a=s.attributes[f],(l.type!==a.type||l.value!==a.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return K0.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=Hi.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return wr.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};K0.certificateFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,eJ,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var f=wr.util.createBuffer(r.certSerialNumber);a.serialNumber=f.toHex(),a.signatureOid=wr.asn1.derToOid(r.certSignatureOid),a.signatureParameters=sv(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=wr.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=sv(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var c=[];if(r.certValidity1UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&c.push(W.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&c.push(W.generalizedTimeToDate(r.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=c[0],a.validity.notAfter=c[1],a.tbsCertificate=r.tbsCertificate,t){a.md=ov({signatureOid:a.signatureOid,type:"certificate"});var u=W.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var d=wr.md.sha1.create(),h=W.toDer(r.certIssuer);d.update(h.getBytes()),a.issuer.getField=function(v){return Q5(a.issuer,v)},a.issuer.addField=function(v){$f([v]),a.issuer.attributes.push(v)},a.issuer.attributes=K0.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=d.digest().toHex();var p=wr.md.sha1.create(),m=W.toDer(r.certSubject);return p.update(m.getBytes()),a.subject.getField=function(v){return Q5(a.subject,v)},a.subject.addField=function(v){$f([v]),a.subject.attributes.push(v)},a.subject.attributes=K0.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=p.digest().toHex(),r.certExtensions?a.extensions=K0.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};K0.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(K0.certificateExtensionFromAsn1(n.value[s]));return t};K0.certificateExtensionFromAsn1=function(e){var t={};if(t.id=W.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===W.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in Hi){if(t.name=Hi[t.id],t.name==="keyUsage"){var r=W.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=W.fromDer(t.value);r.value.length>0&&r.value[0].type===W.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var l=null;r.value.length>0&&r.value[0].type===W.Type.INTEGER?l=r.value[0].value:r.value.length>1&&(l=r.value[1].value),l!==null&&(t.pathLenConstraint=W.derToInteger(l))}else if(t.name==="extKeyUsage")for(var r=W.fromDer(t.value),a=0;a<r.value.length;++a){var f=W.derToOid(r.value[a].value);f in Hi?t[Hi[f]]=!0:t[f]=!0}else if(t.name==="nsCertType"){var r=W.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var c,r=W.fromDer(t.value),u=0;u<r.value.length;++u){c=r.value[u];var d={type:c.type,value:c.value};switch(t.altNames.push(d),c.type){case 1:case 2:case 6:break;case 7:d.ip=wr.util.bytesToIP(c.value);break;case 8:d.oid=W.derToOid(c.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=W.fromDer(t.value);t.subjectKeyIdentifier=wr.util.bytesToHex(r.value)}}return t};K0.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!W.validate(e,nJ,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var l=W.derToOid(r.publicKeyOid);if(l!==K0.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=K0.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=wr.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=sv(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=wr.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=sv(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,t){a.md=ov({signatureOid:a.signatureOid,type:"certification request"});var f=W.toDer(a.certificationRequestInfo);a.md.update(f.getBytes())}var c=wr.md.sha1.create();return a.subject.getField=function(u){return Q5(a.subject,u)},a.subject.addField=function(u){$f([u]),a.subject.attributes.push(u)},a.subject.attributes=K0.RDNAttributesAsArray(r.certificationRequestInfoSubject,c),a.subject.hash=c.digest().toHex(),a.publicKey=K0.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return Q5(a,u)},a.addAttribute=function(u){$f([u]),a.attributes.push(u)},a.attributes=K0.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};K0.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return Q5(e.subject,t)},e.subject.addField=function(t){$f([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return Q5(e,t)},e.addAttribute=function(t){$f([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){$f(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){$f(t),e.attributes=t},e.sign=function(t,r){e.md=r||wr.md.sha1.create();var n=Hi[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=K0.getCertificationRequestInfo(e);var l=W.toDer(e.certificationRequestInfo);e.md.update(l.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=ov({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||K0.getCertificationRequestInfo(e),s=W.toDer(n);r.update(s.getBytes())}return r!==null&&(t=zL({certificate:e,md:r,signature:e.signature})),t},e};function e6(e){for(var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,l=0;l<s.length;++l){r=s[l];var a=r.value,f=W.Type.PRINTABLESTRING;"valueTagClass"in r&&(f=r.valueTagClass,f===W.Type.UTF8&&(a=wr.util.encodeUtf8(a))),n=W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(r.type).getBytes()),W.create(W.Class.UNIVERSAL,f,!1,a)])]),t.value.push(n)}return t}o(e6,"_dnToAsn1");function $f(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in K0.oids?t.name=K0.oids[t.type]:t.shortName&&t.shortName in Ks&&(t.name=K0.oids[Ks[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in K0.oids)t.type=K0.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in Ks&&(t.shortName=Ks[t.name]),t.type===Hi.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=W.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(K0.certificateExtensionToAsn1(GL(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o($f,"_fillMissingFields");function GL(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in K0.oids&&(e.name=K0.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in K0.oids)e.id=K0.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,l=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(l|=128,n=7);var a=String.fromCharCode(n);l!==0?a+=String.fromCharCode(s)+String.fromCharCode(l):s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="basicConstraints")e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var c in e)e[c]===!0&&(c in Hi?f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(Hi[c]).getBytes())):c.indexOf(".")!==-1&&f.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(c).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var a=String.fromCharCode(n);s!==0&&(a+=String.fromCharCode(s)),e.value=W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,a)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=wr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));e.value.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=W.create(W.Class.UNIVERSAL,W.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,h.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);var f=e.value.value;if(e.keyIdentifier){var p=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var m=[W.create(W.Class.CONTEXT_SPECIFIC,4,!0,[e6(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];f.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var v=wr.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);f.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if(e.name==="cRLDistributionPoints"){e.value=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);for(var f=e.value.value,x=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]),E=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]),u,d=0;d<e.altNames.length;++d){u=e.altNames[d];var a=u.value;if(u.type===7&&u.ip){if(a=wr.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else u.type===8&&(u.oid?a=W.oidToDer(W.oidToDer(u.oid)):a=W.oidToDer(a));E.value.push(W.create(W.Class.CONTEXT_SPECIFIC,u.type,!1,a))}x.value.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[E])),f.push(x)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(GL,"_fillMissingExtensionFields");function ES(e,t){switch(e){case Hi["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(t.mgf.hash.algorithmOid).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(t.saltLength).getBytes())])),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,r);default:return W.create(W.Class.UNIVERSAL,W.Type.NULL,!1,"")}}o(ES,"_signatureParametersToAsn1");function iJ(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],l=s.value,a=W.Type.UTF8;"valueTagClass"in s&&(a=s.valueTagClass),a===W.Type.UTF8&&(l=wr.util.encodeUtf8(l));var f=!1;"valueConstructed"in s&&(f=s.valueConstructed);var c=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(s.type).getBytes()),W.create(W.Class.UNIVERSAL,W.Type.SET,!0,[W.create(W.Class.UNIVERSAL,a,f,l)])]);t.value.push(c)}return t}o(iJ,"_CRIAttributesToAsn1");var sJ=new Date("1950-01-01T00:00:00Z"),oJ=new Date("2050-01-01T00:00:00Z");function jL(e){return e>=sJ&&e<oJ?W.create(W.Class.UNIVERSAL,W.Type.UTCTIME,!1,W.dateToUtcTime(e)):W.create(W.Class.UNIVERSAL,W.Type.GENERALIZEDTIME,!1,W.dateToGeneralizedTime(e))}o(jL,"_dateToAsn1");K0.getTBSCertificate=function(e){var t=jL(e.validity.notBefore),r=jL(e.validity.notAfter),n=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.CONTEXT_SPECIFIC,0,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes())]),W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,wr.util.hexToBytes(e.serialNumber)),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.siginfo.algorithmOid).getBytes()),ES(e.siginfo.algorithmOid,e.siginfo.parameters)]),e6(e.issuer),W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,r]),e6(e.subject),K0.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,1,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(W.create(W.Class.CONTEXT_SPECIFIC,2,!0,[W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(K0.certificateExtensionsToAsn1(e.extensions)),n};K0.getCertificationRequestInfo=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.INTEGER,!1,W.integerToDer(e.version).getBytes()),e6(e.subject),K0.publicKeyToAsn1(e.publicKey),iJ(e)]);return t};K0.distinguishedNameToAsn1=function(e){return e6(e)};K0.certificateToAsn1=function(e){var t=e.tbsCertificate||K0.getTBSCertificate(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),ES(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.certificateExtensionsToAsn1=function(e){var t=W.create(W.Class.CONTEXT_SPECIFIC,3,!0,[]),r=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(K0.certificateExtensionToAsn1(e[n]));return t};K0.certificateExtensionToAsn1=function(e){var t=W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[]);t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.id).getBytes())),e.critical&&t.value.push(W.create(W.Class.UNIVERSAL,W.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=W.toDer(r).getBytes()),t.value.push(W.create(W.Class.UNIVERSAL,W.Type.OCTETSTRING,!1,r)),t};K0.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||K0.getCertificationRequestInfo(e);return W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[t,W.create(W.Class.UNIVERSAL,W.Type.SEQUENCE,!0,[W.create(W.Class.UNIVERSAL,W.Type.OID,!1,W.oidToDer(e.signatureOid).getBytes()),ES(e.signatureOid,e.signatureParameters)]),W.create(W.Class.UNIVERSAL,W.Type.BITSTRING,!1,"\0"+e.signature)])};K0.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(a){var f=r(a.issuer);return f},t.addCertificate=function(a){if(typeof a=="string"&&(a=wr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))if(a.subject.hash in t.certs){var f=t.certs[a.subject.hash];wr.util.isArray(f)||(f=[f]),f.push(a),t.certs[a.subject.hash]=f}else t.certs[a.subject.hash]=a},t.hasCertificate=function(a){typeof a=="string"&&(a=wr.pki.certificateFromPem(a));var f=r(a.subject);if(!f)return!1;wr.util.isArray(f)||(f=[f]);for(var c=W.toDer(K0.certificateToAsn1(a)).getBytes(),u=0;u<f.length;++u){var d=W.toDer(K0.certificateToAsn1(f[u])).getBytes();if(c===d)return!0}return!1},t.listAllCertificates=function(){var a=[];for(var f in t.certs)if(t.certs.hasOwnProperty(f)){var c=t.certs[f];if(!wr.util.isArray(c))a.push(c);else for(var u=0;u<c.length;++u)a.push(c[u])}return a},t.removeCertificate=function(a){var f;if(typeof a=="string"&&(a=wr.pki.certificateFromPem(a)),n(a.subject),!t.hasCertificate(a))return null;var c=r(a.subject);if(!wr.util.isArray(c))return f=t.certs[a.subject.hash],delete t.certs[a.subject.hash],f;for(var u=W.toDer(K0.certificateToAsn1(a)).getBytes(),d=0;d<c.length;++d){var h=W.toDer(K0.certificateToAsn1(c[d])).getBytes();u===h&&(f=c[d],c.splice(d,1))}return c.length===0&&delete t.certs[a.subject.hash],f};function r(a){return n(a),t.certs[a.hash]||null}o(r,"getBySubject");function n(a){if(!a.hash){var f=wr.md.sha1.create();a.attributes=K0.RDNAttributesAsArray(e6(a),f),a.hash=f.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t};K0.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};K0.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var l=!0,a=null,f=0;do{var c=t.shift(),u=null,d=!1;if(s&&(s<c.validity.notBefore||s>c.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:K0.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:s}),a===null){if(u=t[0]||e.getIssuer(c),u===null&&c.isIssuer(c)&&(d=!0,u=c),u){var h=u;wr.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){u=h.shift();try{p=u.verify(c)}catch{}}p||(a={message:"Certificate signature is invalid.",error:K0.certificateError.bad_certificate})}a===null&&(!u||d)&&!e.hasCertificate(c)&&(a={message:"Certificate is not trusted.",error:K0.certificateError.unknown_ca})}if(a===null&&u&&!c.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:K0.certificateError.bad_certificate}),a===null)for(var m={keyUsage:!0,basicConstraints:!0},v=0;a===null&&v<c.extensions.length;++v){var x=c.extensions[v];x.critical&&!(x.name in m)&&(a={message:"Certificate has an unsupported critical extension.",error:K0.certificateError.unsupported_certificate})}if(a===null&&(!l||t.length===0&&(!u||d))){var E=c.getExtension("basicConstraints"),I=c.getExtension("keyUsage");if(I!==null&&(!I.keyCertSign||E===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:K0.certificateError.bad_certificate}),a===null&&E!==null&&!E.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:K0.certificateError.bad_certificate}),a===null&&I!==null&&"pathLenConstraint"in E){var A=f-1;A>E.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:K0.certificateError.bad_certificate})}}var L=a===null?!0:a.error,D=r.verify?r.verify(L,f,n):L;if(D===!0)a=null;else throw L===!0&&(a={message:"The application rejected the certificate.",error:K0.certificateError.bad_certificate}),(D||D===0)&&(typeof D=="object"&&!wr.util.isArray(D)?(D.message&&(a.message=D.message),D.error&&(a.error=D.error)):typeof D=="string"&&(a.error=D)),a;l=!1,++f}while(t.length>0);return!0}});var SS=v0((Uce,YL)=>{var Ts=hn();b1();K8();X5();bS();_S();Mf();Wh();J8();zi();av();var He=Ts.asn1,wn=Ts.pki,Xh=YL.exports=Ts.pkcs12=Ts.pkcs12||{},WL={name:"ContentInfo",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},aJ={name:"PFX",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,capture:"version"},WL,{name:"PFX.macData",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:He.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},lJ={name:"SafeBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},fJ={name:"Attribute",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,capture:"values"}]},cJ={name:"CertBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:He.Class.UNIVERSAL,type:He.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Yh(e,t,r,n){for(var s=[],l=0;l<e.length;l++)for(var a=0;a<e[l].safeBags.length;a++){var f=e[l].safeBags[a];if(!(n!==void 0&&f.type!==n)){if(t===null){s.push(f);continue}f.attributes[t]!==void 0&&f.attributes[t].indexOf(r)>=0&&s.push(f)}}return s}o(Yh,"_getBagsByAttribute");Xh.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!He.validate(e,aJ,n,s)){var l=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw l.errors=l,l}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(E){var I={},A;return"localKeyId"in E?A=E.localKeyId:"localKeyIdHex"in E&&(A=Ts.util.hexToBytes(E.localKeyIdHex)),A===void 0&&!("friendlyName"in E)&&"bagType"in E&&(I[E.bagType]=Yh(a.safeContents,null,null,E.bagType)),A!==void 0&&(I.localKeyId=Yh(a.safeContents,"localKeyId",A,E.bagType)),"friendlyName"in E&&(I.friendlyName=Yh(a.safeContents,"friendlyName",E.friendlyName,E.bagType)),I},getBagsByFriendlyName:function(E,I){return Yh(a.safeContents,"friendlyName",E,I)},getBagsByLocalKeyId:function(E,I){return Yh(a.safeContents,"localKeyId",E,I)}};if(n.version.charCodeAt(0)!==3){var l=new Error("PKCS#12 PFX of version other than 3 not supported.");throw l.version=n.version.charCodeAt(0),l}if(He.derToOid(n.contentType)!==wn.oids.data){var l=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw l.oid=He.derToOid(n.contentType),l}var f=n.content.value[0];if(f.tagClass!==He.Class.UNIVERSAL||f.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(f=TS(f),n.mac){var c=null,u=0,d=He.derToOid(n.macAlgorithm);switch(d){case wn.oids.sha1:c=Ts.md.sha1.create(),u=20;break;case wn.oids.sha256:c=Ts.md.sha256.create(),u=32;break;case wn.oids.sha384:c=Ts.md.sha384.create(),u=48;break;case wn.oids.sha512:c=Ts.md.sha512.create(),u=64;break;case wn.oids.md5:c=Ts.md.md5.create(),u=16;break}if(c===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var h=new Ts.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(Ts.util.bytesToHex(n.macIterations),16):1,m=Xh.generateKey(r,h,3,p,u,c),v=Ts.hmac.create();v.start(c,m),v.update(f.value);var x=v.getMac();if(x.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return uJ(a,f.value,t,r),a};function TS(e){if(e.composed||e.constructed){for(var t=Ts.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(TS,"_decodePkcs7Data");function uJ(e,t,r,n){if(t=He.fromDer(t,r),t.tagClass!==He.Class.UNIVERSAL||t.type!==He.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var l=t.value[s],a={},f=[];if(!He.validate(l,WL,a,f)){var c=new Error("Cannot read ContentInfo.");throw c.errors=f,c}var u={encrypted:!1},d=null,h=a.content.value[0];switch(He.derToOid(a.contentType)){case wn.oids.data:if(h.tagClass!==He.Class.UNIVERSAL||h.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=TS(h).value;break;case wn.oids.encryptedData:d=dJ(h,n),u.encrypted=!0;break;default:var c=new Error("Unsupported PKCS#12 contentType.");throw c.contentType=He.derToOid(a.contentType),c}u.safeBags=hJ(d,r,n),e.safeContents.push(u)}}o(uJ,"_decodeAuthenticatedSafe");function dJ(e,t){var r={},n=[];if(!He.validate(e,Ts.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var l=He.derToOid(r.contentType);if(l!==wn.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=l,s}l=He.derToOid(r.encAlgorithm);var a=wn.pbe.getCipher(l,r.encParameter,t),f=TS(r.encryptedContentAsn1),c=Ts.util.createBuffer(f.value);if(a.update(c),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}o(dJ,"_decryptSafeContents");function hJ(e,t,r){if(!t&&e.length===0)return[];if(e=He.fromDer(e,t),e.tagClass!==He.Class.UNIVERSAL||e.type!==He.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var l=e.value[s],a={},f=[];if(!He.validate(l,lJ,a,f)){var c=new Error("Cannot read SafeBag.");throw c.errors=f,c}var u={type:He.derToOid(a.bagId),attributes:gJ(a.bagAttributes)};n.push(u);var d,h,p=a.bagValue.value[0];switch(u.type){case wn.oids.pkcs8ShroudedKeyBag:if(p=wn.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case wn.oids.keyBag:try{u.key=wn.privateKeyFromAsn1(p)}catch{u.key=null,u.asn1=p}continue;case wn.oids.certBag:d=cJ,h=o(function(){if(He.derToOid(a.certId)!==wn.oids.x509Certificate){var v=new Error("Unsupported certificate type, only X.509 supported.");throw v.oid=He.derToOid(a.certId),v}var x=He.fromDer(a.cert,t);try{u.cert=wn.certificateFromAsn1(x,!0)}catch{u.cert=null,u.asn1=x}},"decoder");break;default:var c=new Error("Unsupported PKCS#12 SafeBag type.");throw c.oid=u.type,c}if(d!==void 0&&!He.validate(p,d,a,f)){var c=new Error("Cannot read PKCS#12 "+d.name);throw c.errors=f,c}h()}return n}o(hJ,"_decodeSafeContents");function gJ(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!He.validate(e[r],fJ,n,s)){var l=new Error("Cannot read PKCS#12 BagAttribute.");throw l.errors=s,l}var a=He.derToOid(n.oid);if(wn.oids[a]!==void 0){t[wn.oids[a]]=[];for(var f=0;f<n.values.length;++f)t[wn.oids[a]].push(n.values[f].value)}}return t}o(gJ,"_decodeBagAttributes");Xh.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,l;if(s!==null)s=Ts.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var a=Ts.util.isArray(t)?t[0]:t;typeof a=="string"&&(a=wn.certificateFromPem(a));var f=Ts.md.sha1.create();f.update(He.toDer(wn.certificateToAsn1(a)).getBytes()),s=f.digest().getBytes()}else s=Ts.random.getBytes(20);var c=[];s!==null&&c.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.localKeyId).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&c.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.friendlyName).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.BMPSTRING,!1,n.friendlyName)])])),c.length>0&&(l=He.create(He.Class.UNIVERSAL,He.Type.SET,!0,c));var u=[],d=[];t!==null&&(Ts.util.isArray(t)?d=t:d=[t]);for(var h=[],p=0;p<d.length;++p){t=d[p],typeof t=="string"&&(t=wn.certificateFromPem(t));var m=p===0?l:void 0,v=wn.certificateToAsn1(t),x=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.certBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.x509Certificate).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(v).getBytes())])])]),m]);h.push(x)}if(h.length>0){var E=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,h),I=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(E).getBytes())])]);u.push(I)}var A=null;if(e!==null){var L=wn.wrapRsaPrivateKey(wn.privateKeyToAsn1(e));r===null?A=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.keyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[L]),l]):A=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.pkcs8ShroudedKeyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[wn.encryptPrivateKeyInfo(L,r,n)]),l]);var D=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[A]),k=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(D).getBytes())])]);u.push(k)}var $=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,u),ue;if(n.useMac){var f=Ts.md.sha1.create(),ce=new Ts.util.ByteBuffer(Ts.random.getBytes(n.saltSize)),e0=n.count,e=Xh.generateKey(r,ce,3,e0,20),d0=Ts.hmac.create();d0.start(f,e),d0.update(He.toDer($).getBytes());var n0=d0.getMac();ue=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.sha1).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.NULL,!1,"")]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,n0.getBytes())]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,ce.getBytes()),He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(e0).getBytes())])}return He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(3).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(wn.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer($).getBytes())])]),ue])};Xh.generateKey=Ts.pbe.generatePkcs12Key});var wS=v0(($ce,XL)=>{var e3=hn();b1();X5();_S();td();Jy();SS();iv();Wh();zi();av();var IS=e3.asn1,t6=XL.exports=e3.pki=e3.pki||{};t6.pemToDer=function(e){var t=e3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e3.util.createBuffer(t.body)};t6.privateKeyFromPem=function(e){var t=e3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=IS.fromDer(t.body);return t6.privateKeyFromAsn1(n)};t6.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:IS.toDer(t6.privateKeyToAsn1(e)).getBytes()};return e3.pem.encode(r,{maxline:t})};t6.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:IS.toDer(e).getBytes()};return e3.pem.encode(r,{maxline:t})}});var BS=v0((Hce,iF)=>{var M0=hn();b1();K8();Ky();td();wS();Mf();J8();zi();var uv=o(function(e,t,r,n){var s=M0.util.createBuffer(),l=e.length>>1,a=l+(e.length&1),f=e.substr(0,a),c=e.substr(l,a),u=M0.util.createBuffer(),d=M0.hmac.create();r=t+r;var h=Math.ceil(n/16),p=Math.ceil(n/20);d.start("MD5",f);var m=M0.util.createBuffer();u.putBytes(r);for(var v=0;v<h;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),m.putBuffer(d.digest());d.start("SHA1",c);var x=M0.util.createBuffer();u.clear(),u.putBytes(r);for(var v=0;v<p;++v)d.start(null,null),d.update(u.getBytes()),u.putBuffer(d.digest()),d.start(null,null),d.update(u.bytes()+r),x.putBuffer(d.digest());return s.putBytes(M0.util.xorBytes(m.getBytes(),x.getBytes(),n)),s},"prf_TLS1"),mJ=o(function(e,t,r){var n=M0.hmac.create();n.start("SHA1",e);var s=M0.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),pJ=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=M0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),yJ=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=M0.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),cf=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return M0.util.createBuffer(e.getBytes(r))},"readVector"),Hf=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),X={};X.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};X.SupportedVersions=[X.Versions.TLS_1_1,X.Versions.TLS_1_0];X.Version=X.SupportedVersions[0];X.MaxFragment=15360;X.ConnectionEnd={server:0,client:1};X.PRFAlgorithm={tls_prf_sha256:0};X.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};X.CipherType={stream:0,block:1,aead:2};X.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};X.CompressionMethod={none:0,deflate:1};X.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};X.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};X.Alert={};X.Alert.Level={warning:1,fatal:2};X.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};X.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};X.CipherSuites={};X.getCipherSuite=function(e){var t=null;for(var r in X.CipherSuites){var n=X.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};X.handleUnexpected=function(e,t){var r=!e.open&&e.entity===X.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})};X.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(X.queue(e,X.createAlert(e,{level:X.Alert.Level.warning,description:X.Alert.Description.no_renegotiation})),X.flush(e)),e.process()};X.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===X.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});else{var l=t.fragment,a=l.length();if(n={version:{major:l.getByte(),minor:l.getByte()},random:M0.util.createBuffer(l.getBytes(32)),session_id:cf(l,1),extensions:[]},s?(n.cipher_suite=l.getBytes(2),n.compression_method=l.getByte()):(n.cipher_suites=cf(l,2),n.compression_methods=cf(l,1)),a=r-(a-l.length()),a>0){for(var f=cf(l,2);f.length()>0;)n.extensions.push({type:[f.getByte(),f.getByte()],data:cf(f,2)});if(!s)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(u.type[0]===0&&u.type[1]===0)for(var d=cf(u.data,2);d.length()>0;){var h=d.getByte();if(h!==0)break;e.session.extensions.server_name.serverNameList.push(cf(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=X.getCipherSuite(n.cipher_suite);else for(var p=M0.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(e.session.cipherSuite=X.getCipherSuite(p.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure},cipherSuite:M0.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=X.CompressionMethod.none}return n};X.createSecurityParameters=function(e,t){var r=e.entity===X.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,l=r?n:X.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:X.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:l}};X.handleServerHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=QL,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=xJ,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.session.id=s,e.process()}};X.handleClientHello=function(e,t,r){var n=X.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),l=null;if(e.sessionCache&&(l=e.sessionCache.getSession(s),l===null?s="":(l.version.major!==n.version.major||l.version.minor>n.version.minor)&&(l=null,s="")),s.length===0&&(s=M0.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},l)e.version=e.session.version=l.version,e.session.sp=l.sp;else{for(var a,f=1;f<X.SupportedVersions.length&&(a=X.SupportedVersions[f],!(a.minor<=n.version.minor));++f);e.version={major:a.major,minor:a.minor},e.session.version=e.version}l!==null?(e.expect=RS,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?IJ:NS,e.session.resuming=!1,X.createSecurityParameters(e,n)),e.open=!0,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHello(e)})),e.session.resuming?(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.pending=X.createConnectionState(e),e.state.current.write=e.state.pending.write,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))):(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)})),e.fail||(X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerKeyExchange(e)})),e.verifyClient!==!1&&X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificateRequest(e)})),X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createServerHelloDone(e)})))),X.flush(e),e.process()}};X.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:cf(n,3)},l,a,f=[];try{for(;s.certificate_list.length()>0;)l=cf(s.certificate_list,3),a=M0.asn1.fromDer(l),l=M0.pki.certificateFromAsn1(a,!0),f.push(l)}catch(u){return e.error(e,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var c=e.entity===X.ConnectionEnd.client;(c||e.verifyClient===!0)&&f.length===0?e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}}):f.length===0?e.expect=c?JL:NS:(c?e.session.serverCertificate=f[0]:e.session.clientCertificate=f[0],X.verifyCertificateChain(e,f)&&(e.expect=c?JL:NS)),e.process()};X.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});e.expect=_J,e.process()};X.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:cf(n,2).getBytes()},l=null;if(e.getPrivateKey)try{l=e.getPrivateKey(e,e.session.serverCertificate),l=M0.pki.privateKeyFromPem(l)}catch(c){e.error(e,{message:"Could not get private key.",cause:c,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}if(l===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=l.decrypt(s.enc_pre_master_secret);var f=e.session.clientHelloVersion;if(f.major!==a.pre_master_secret.charCodeAt(0)||f.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=M0.random.getBytes(48)}e.expect=RS,e.session.clientCertificate!==null&&(e.expect=wJ),e.process()};X.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:cf(n,1),certificate_authorities:cf(n,2)};e.session.certificateRequest=s,e.expect=bJ,e.process()};X.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l={signature:cf(n,2).getBytes()},a=M0.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{var f=e.session.clientCertificate;if(!f.publicKey.verify(a,l.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.handshake_failure}})}e.expect=RS,e.process()};X.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.insufficient_security}},s=0,l=e.verify(e,n.alert.description,s,[]);if(l!==!0)return(l||l===0)&&(typeof l=="object"&&!M0.util.isArray(l)?(l.message&&(n.message=l.message),l.alert&&(n.alert.description=l.alert)):typeof l=="number"&&(n.alert.description=l)),e.error(e,n)}e.session.certificateRequest!==null&&(t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createCertificate(e)}),X.queue(e,t)),t=X.createRecord(e,{type:X.ContentType.handshake,data:X.createClientKeyExchange(e)}),X.queue(e,t),e.expect=TJ;var a=o(function(f,c){f.session.certificateRequest!==null&&f.session.clientCertificate!==null&&X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createCertificateVerify(f,c)})),X.queue(f,X.createRecord(f,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),f.state.pending=X.createConnectionState(f),f.state.current.write=f.state.pending.write,X.queue(f,X.createRecord(f,{type:X.ContentType.handshake,data:X.createFinished(f)})),f.expect=QL,X.flush(f),f.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return a(e,null);X.getClientSignature(e,a)};X.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.illegal_parameter}});var r=e.entity===X.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=X.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?CJ:AJ,e.process()};X.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var l=t.fragment.getBytes();n=M0.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===X.ConnectionEnd.client,f=a?"server finished":"client finished",c=e.session.sp,u=12,d=uv;if(n=d(c.master_secret,f,n.getBytes(),u),n.getBytes()!==l)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&a||!e.session.resuming&&!a)&&(X.queue(e,X.createRecord(e,{type:X.ContentType.change_cipher_spec,data:X.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,X.queue(e,X.createRecord(e,{type:X.ContentType.handshake,data:X.createFinished(e)}))),e.expect=a?EJ:PJ,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,X.flush(e),e.isConnected=!0,e.connected(e),e.process()};X.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case X.Alert.Description.close_notify:s="Connection closed.";break;case X.Alert.Description.unexpected_message:s="Unexpected message.";break;case X.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case X.Alert.Description.decryption_failed:s="Decryption failed.";break;case X.Alert.Description.record_overflow:s="Record overflow.";break;case X.Alert.Description.decompression_failure:s="Decompression failed.";break;case X.Alert.Description.handshake_failure:s="Handshake failure.";break;case X.Alert.Description.bad_certificate:s="Bad certificate.";break;case X.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case X.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case X.Alert.Description.certificate_expired:s="Certificate expired.";break;case X.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case X.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case X.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case X.Alert.Description.access_denied:s="Access denied.";break;case X.Alert.Description.decode_error:s="Decode error.";break;case X.Alert.Description.decrypt_error:s="Decrypt error.";break;case X.Alert.Description.export_restriction:s="Export restriction.";break;case X.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case X.Alert.Description.insufficient_security:s="Insufficient security.";break;case X.Alert.Description.internal_error:s="Internal error.";break;case X.Alert.Description.user_canceled:s="User canceled.";break;case X.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===X.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===X.ConnectionEnd.client?"server":"client",alert:n}),e.process()};X.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=M0.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var l=r.bytes(s+4);r.read+=4,n in cv[e.entity][e.expect]?(e.entity===X.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:M0.md.md5.create(),sha1:M0.md.sha1.create()}),n!==X.HandshakeType.hello_request&&n!==X.HandshakeType.certificate_verify&&n!==X.HandshakeType.finished&&(e.session.md5.update(l),e.session.sha1.update(l)),cv[e.entity][e.expect][n](e,t,s)):X.handleUnexpected(e,t)};X.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};X.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),l=r.getBytes(s);if(n===X.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>l.length)return e.process();X.queue(e,X.createRecord(e,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_response,l)})),X.flush(e)}else if(n===X.HeartbeatMessageType.heartbeat_response){if(l!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,M0.util.createBuffer(l))}e.process()};var vJ=0,xJ=1,JL=2,_J=3,bJ=4,QL=5,CJ=6,EJ=7,TJ=8,SJ=0,IJ=1,NS=2,wJ=3,RS=4,AJ=5,PJ=6,Y=X.handleUnexpected,eF=X.handleChangeCipherSpec,tl=X.handleAlert,Rl=X.handleHandshake,tF=X.handleApplicationData,rl=X.handleHeartbeat,kS=[];kS[X.ConnectionEnd.client]=[[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[eF,tl,Y,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,tF,rl],[Y,tl,Rl,Y,rl]];kS[X.ConnectionEnd.server]=[[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,Y,rl],[eF,tl,Y,Y,rl],[Y,tl,Rl,Y,rl],[Y,tl,Rl,tF,rl],[Y,tl,Rl,Y,rl]];var t3=X.handleHelloRequest,NJ=X.handleServerHello,rF=X.handleCertificate,ZL=X.handleServerKeyExchange,AS=X.handleCertificateRequest,lv=X.handleServerHelloDone,nF=X.handleFinished,cv=[];cv[X.ConnectionEnd.client]=[[Y,Y,NJ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,rF,ZL,AS,lv,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,ZL,AS,lv,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,AS,lv,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,lv,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,nF],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[t3,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];var RJ=X.handleClientHello,kJ=X.handleClientKeyExchange,BJ=X.handleCertificateVerify;cv[X.ConnectionEnd.server]=[[Y,RJ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,rF,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,kJ,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,BJ,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,nF],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y],[Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y]];X.generateKeys=function(e,t){var r=uv,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,l=e.version.major===X.Versions.TLS_1_0.major&&e.version.minor===X.Versions.TLS_1_0.minor;l&&(s+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,s),f={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return l&&(f.client_write_IV=a.getBytes(t.fixed_iv_length),f.server_write_IV=a.getBytes(t.fixed_iv_length)),f};X.createConnectionState=function(e){var t=e.entity===X.ConnectionEnd.client,r=o(function(){var l={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){l.sequenceNumber[1]===4294967295?(l.sequenceNumber[1]=0,++l.sequenceNumber[0]):++l.sequenceNumber[1]}};return l},"createMode"),n={read:r(),write:r()};if(n.read.update=function(l,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(l,a,n.read)||l.error(l,{message:"Could not decompress record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.decompression_failure}}):l.error(l,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_record_mac}}),!l.fail},n.write.update=function(l,a){return n.write.compressFunction(l,a,n.write)?n.write.cipherFunction(a,n.write)||l.error(l,{message:"Could not encrypt record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):l.error(l,{message:"Could not compress record.",send:!1,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}),!l.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=X.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case X.CompressionMethod.none:break;case X.CompressionMethod.deflate:n.read.compressFunction=yJ,n.write.compressFunction=pJ;break;default:throw new Error("Unsupported compression algorithm.")}}return n};X.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=M0.util.createBuffer();return r.putInt32(t),r.putBytes(M0.random.getBytes(28)),r};X.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};X.createAlert=function(e,t){var r=M0.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),X.createRecord(e,{type:X.ContentType.alert,data:r})};X.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=M0.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),l=M0.util.createBuffer();l.putByte(X.CompressionMethod.none);var a=l.length(),f=M0.util.createBuffer();if(e.virtualHost){var c=M0.util.createBuffer();c.putByte(0),c.putByte(0);var u=M0.util.createBuffer();u.putByte(0),Hf(u,2,M0.util.createBuffer(e.virtualHost));var d=M0.util.createBuffer();Hf(d,2,u),Hf(c,2,d),f.putBuffer(c)}var h=f.length();h>0&&(h+=2);var p=e.session.id,m=p.length+1+2+4+28+2+s+1+a+h,v=M0.util.createBuffer();return v.putByte(X.HandshakeType.client_hello),v.putInt24(m),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),Hf(v,1,M0.util.createBuffer(p)),Hf(v,2,t),Hf(v,1,l),h>0&&Hf(v,2,f),v};X.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=M0.util.createBuffer();return n.putByte(X.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Hf(n,1,M0.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};X.createCertificate=function(e){var t=e.entity===X.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=M0.util.createBuffer();if(r!==null)try{M0.util.isArray(r)||(r=[r]);for(var l=null,a=0;a<r.length;++a){var f=M0.pem.decode(r[a])[0];if(f.type!=="CERTIFICATE"&&f.type!=="X509 CERTIFICATE"&&f.type!=="TRUSTED CERTIFICATE"){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=f.type,c}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=M0.util.createBuffer(f.body);l===null&&(l=M0.asn1.fromDer(u.bytes(),!1));var d=M0.util.createBuffer();Hf(d,3,u),s.putBuffer(d)}r=M0.pki.certificateFromAsn1(l),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(m){return e.error(e,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate}})}var h=3+s.length(),p=M0.util.createBuffer();return p.putByte(X.HandshakeType.certificate),p.putInt24(h),Hf(p,3,s),p};X.createClientKeyExchange=function(e){var t=M0.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(M0.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,l=M0.util.createBuffer();return l.putByte(X.HandshakeType.client_key_exchange),l.putInt24(s),l.putInt16(t.length),l.putBytes(t),l};X.createServerKeyExchange=function(e){var t=0,r=M0.util.createBuffer();return t>0&&(r.putByte(X.HandshakeType.server_key_exchange),r.putInt24(t)),r};X.getClientSignature=function(e,t){var r=M0.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,l){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=M0.pki.privateKeyFromPem(a)}catch(f){n.error(n,{message:"Could not get private key.",cause:f,send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.internal_error}}):s=a.sign(s,null),l(n,s)},e.getSignature(e,r,t)};X.createCertificateVerify=function(e,t){var r=t.length+2,n=M0.util.createBuffer();return n.putByte(X.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};X.createCertificateRequest=function(e){var t=M0.util.createBuffer();t.putByte(1);var r=M0.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],l=M0.pki.distinguishedNameToAsn1(s.subject),a=M0.asn1.toDer(l);r.putInt16(a.length()),r.putBuffer(a)}var f=1+t.length()+2+r.length(),c=M0.util.createBuffer();return c.putByte(X.HandshakeType.certificate_request),c.putInt24(f),Hf(c,1,t),Hf(c,2,r),c};X.createServerHelloDone=function(e){var t=M0.util.createBuffer();return t.putByte(X.HandshakeType.server_hello_done),t.putInt24(0),t};X.createChangeCipherSpec=function(){var e=M0.util.createBuffer();return e.putByte(1),e};X.createFinished=function(e){var t=M0.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===X.ConnectionEnd.client,n=e.session.sp,s=12,l=uv,a=r?"client finished":"server finished";t=l(n.master_secret,a,t.getBytes(),s);var f=M0.util.createBuffer();return f.putByte(X.HandshakeType.finished),f.putInt24(t.length()),f.putBuffer(t),f};X.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=M0.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),l=Math.max(16,s-r-3);return n.putBytes(M0.random.getBytes(l)),n};X.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===X.ContentType.handshake||t.type===X.ContentType.alert||t.type===X.ContentType.change_cipher_spec))){if(t.type===X.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=X.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>X.MaxFragment;)n.push(X.createRecord(e,{type:t.type,data:M0.util.createBuffer(s.slice(0,X.MaxFragment))})),s=s.slice(X.MaxFragment);s.length>0&&n.push(X.createRecord(e,{type:t.type,data:M0.util.createBuffer(s)}))}for(var l=0;l<n.length&&!e.fail;++l){var a=n[l],f=e.state.current.write;f.update(e,a)&&e.records.push(a)}}};X.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var PS=o(function(e){switch(e){case!0:return!0;case M0.pki.certificateError.bad_certificate:return X.Alert.Description.bad_certificate;case M0.pki.certificateError.unsupported_certificate:return X.Alert.Description.unsupported_certificate;case M0.pki.certificateError.certificate_revoked:return X.Alert.Description.certificate_revoked;case M0.pki.certificateError.certificate_expired:return X.Alert.Description.certificate_expired;case M0.pki.certificateError.certificate_unknown:return X.Alert.Description.certificate_unknown;case M0.pki.certificateError.unknown_ca:return X.Alert.Description.unknown_ca;default:return X.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),DJ=o(function(e){switch(e){case!0:return!0;case X.Alert.Description.bad_certificate:return M0.pki.certificateError.bad_certificate;case X.Alert.Description.unsupported_certificate:return M0.pki.certificateError.unsupported_certificate;case X.Alert.Description.certificate_revoked:return M0.pki.certificateError.certificate_revoked;case X.Alert.Description.certificate_expired:return M0.pki.certificateError.certificate_expired;case X.Alert.Description.certificate_unknown:return M0.pki.certificateError.certificate_unknown;case X.Alert.Description.unknown_ca:return M0.pki.certificateError.unknown_ca;default:return M0.pki.certificateError.bad_certificate}},"_alertDescToCertError");X.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(l,a,f){var c=PS(l),u=e.verify(e,l,a,f);if(u!==!0){if(typeof u=="object"&&!M0.util.isArray(u)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:X.Alert.Level.fatal,description:X.Alert.Description.bad_certificate},u.message&&(d.message=u.message),u.alert&&(d.alert.description=u.alert),d}u!==l&&(u=DJ(u))}return u},M0.pki.verifyCertificateChain(e.caStore,t,r)}catch(l){var s=l;(typeof s!="object"||M0.util.isArray(s))&&(s={send:!0,alert:{level:X.Alert.Level.fatal,description:PS(l)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:X.Alert.Level.fatal,description:PS(s.error)}),e.error(e,s)}return!e.fail};X.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var l=null,a=null;if(s?a=M0.util.bytesToHex(s):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){l=r.cache[a],delete r.cache[a];for(var f in r.order)if(r.order[f]===a){r.order.splice(f,1);break}}return l},r.setSession=function(s,l){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=M0.util.bytesToHex(s);r.order.push(a),r.cache[a]=l}}return r};X.createConnection=function(e){var t=null;e.caStore?M0.util.isArray(e.caStore)?t=M0.pki.createCaStore(e.caStore):t=e.caStore:t=M0.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in X.CipherSuites)r.push(X.CipherSuites[n])}var s=e.server?X.ConnectionEnd.server:X.ConnectionEnd.client,l=e.sessionCache?X.createSessionCache(e.sessionCache):null,a={version:{major:X.Version.major,minor:X.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:l,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,h,p,m){return h},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:M0.util.createBuffer(),tlsData:M0.util.createBuffer(),data:M0.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,h){h.origin=h.origin||(d.entity===X.ConnectionEnd.client?"client":"server"),h.send&&(X.queue(d,X.createAlert(d,h.alert)),X.flush(d));var p=h.fatal!==!1;p&&(d.fail=!0),e.error(d,h),p&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};a.reset=function(d){a.version={major:X.Version.major,minor:X.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===X.ConnectionEnd.client?vJ:SJ,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(d||typeof d>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=X.createConnectionState(a)},a.reset();var f=o(function(d,h){var p=h.type-X.ContentType.change_cipher_spec,m=kS[d.entity][d.expect];p in m?m[p](d,h):X.handleUnexpected(d,h)},"_update"),c=o(function(d){var h=0,p=d.input,m=p.length();if(m<5)h=5-m;else{d.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:M0.util.createBuffer(),ready:!1};var v=d.record.version.major===d.version.major;v&&d.session&&d.session.version&&(v=d.record.version.minor===d.version.minor),v||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.protocol_version}})}return h},"_readRecordHeader"),u=o(function(d){var h=0,p=d.input,m=p.length();if(m<d.record.length)h=d.record.length-m;else{d.record.fragment.putBytes(p.getBytes(d.record.length)),p.compact();var v=d.state.current.read;v.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:X.Alert.Level.fatal,description:X.Alert.Description.unexpected_message}})),d.record.ready=!0)}return h},"_readRecord");return a.handshake=function(d){if(a.entity!==X.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,d=d||"";var h=null;d.length>0&&(a.sessionCache&&(h=a.sessionCache.getSession(d)),h===null&&(d="")),d.length===0&&a.sessionCache&&(h=a.sessionCache.getSession(),h!==null&&(d=h.id)),a.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:M0.md.md5.create(),sha1:M0.md.sha1.create()},h&&(a.version=h.version,a.session.sp=h.sp),a.session.sp.client_random=X.createRandom().getBytes(),a.open=!0,X.queue(a,X.createRecord(a,{type:X.ContentType.handshake,data:X.createClientHello(a)})),X.flush(a)}},a.process=function(d){var h=0;return d&&a.input.putBytes(d),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(h=c(a)),!a.fail&&a.record!==null&&!a.record.ready&&(h=u(a)),!a.fail&&a.record!==null&&a.record.ready&&f(a,a.record)),h},a.prepare=function(d){return X.queue(a,X.createRecord(a,{type:X.ContentType.application_data,data:M0.util.createBuffer(d)})),X.flush(a)},a.prepareHeartbeatRequest=function(d,h){return d instanceof M0.util.ByteBuffer&&(d=d.bytes()),typeof h>"u"&&(h=d.length),a.expectedHeartbeatPayload=d,X.queue(a,X.createRecord(a,{type:X.ContentType.heartbeat,data:X.createHeartbeat(X.HeartbeatMessageType.heartbeat_request,d,h)})),X.flush(a)},a.close=function(d){if(!a.fail&&a.sessionCache&&a.session){var h={id:a.session.id,version:a.session.version,sp:a.session.sp};h.sp.keys=null,a.sessionCache.setSession(h.id,h)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,X.queue(a,X.createAlert(a,{level:X.Alert.Level.warning,description:X.Alert.Description.close_notify})),X.flush(a)),a.closed(a)),a.reset(d)},a};iF.exports=M0.tls=M0.tls||{};for(fv in X)typeof X[fv]!="function"&&(M0.tls[fv]=X[fv]);var fv;M0.tls.prf_tls1=uv;M0.tls.hmac_sha1=mJ;M0.tls.createSessionCache=X.createSessionCache;M0.tls.createConnection=X.createConnection});var aF=v0((Vce,oF)=>{var r3=hn();Y5();BS();var jf=oF.exports=r3.tls;jf.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=jf.BulkCipherAlgorithm.aes,e.cipher_type=jf.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=jf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:sF};jf.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=jf.BulkCipherAlgorithm.aes,e.cipher_type=jf.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=jf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:sF};function sF(e,t,r){var n=t.entity===r3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:r3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:r3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=MJ,e.write.cipherFunction=LJ,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=jf.hmac_sha1}o(sF,"initConnectionState");function LJ(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===jf.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=r3.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:s}),e.version.minor>=jf.Versions.TLS_1_1.minor&&l.output.putBytes(s),l.update(e.fragment),l.finish(FJ)&&(e.fragment=l.output,e.length=e.fragment.length(),r=!0),r}o(LJ,"encrypt_aes_cbc_sha1");function FJ(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(FJ,"encrypt_aes_cbc_sha1_padding");function OJ(e,t,r){var n=!0;if(r){for(var s=t.length(),l=t.last(),a=s-1-l;a<s-1;++a)n=n&&t.at(a)==l;n&&t.truncate(l+1)}return n}o(OJ,"decrypt_aes_cbc_sha1_padding");function MJ(e,t){var r=!1,n;e.version.minor===jf.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(OJ);var l=t.macLength,a=r3.random.getBytesSync(l),f=s.output.length();f>=l?(e.fragment=s.output.getBytes(f-l),a=s.output.getBytes(l)):e.fragment=s.output.getBytes(),e.fragment=r3.util.createBuffer(e.fragment),e.length=e.fragment.length();var c=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=UJ(t.macKey,a,c)&&r,r}o(MJ,"decrypt_aes_cbc_sha1");function UJ(e,t,r){var n=r3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(UJ,"compareMacs")});var OS=v0((Gce,uF)=>{var As=hn();pc();zi();var Jh=uF.exports=As.sha512=As.sha512||{};As.md.sha512=As.md.algorithms.sha512=Jh;var fF=As.sha384=As.sha512.sha384=As.sha512.sha384||{};fF.create=function(){return Jh.create("SHA-384")};As.md.sha384=As.md.algorithms.sha384=fF;As.sha512.sha256=As.sha512.sha256||{create:function(){return Jh.create("SHA-512/256")}};As.md["sha512/256"]=As.md.algorithms["sha512/256"]=As.sha512.sha256;As.sha512.sha224=As.sha512.sha224||{create:function(){return Jh.create("SHA-512/224")}};As.md["sha512/224"]=As.md.algorithms["sha512/224"]=As.sha512.sha224;Jh.create=function(e){if(cF||qJ(),typeof e>"u"&&(e="SHA-512"),!(e in ad))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=ad[e],r=null,n=As.util.createBuffer(),s=new Array(80),l=0;l<80;++l)s[l]=new Array(2);var a=64;switch(e){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var f={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength128=[];for(var c=f.messageLengthSize/4,u=0;u<c;++u)f.fullMessageLength.push(0);n=As.util.createBuffer(),r=new Array(t.length);for(var u=0;u<t.length;++u)r[u]=t[u].slice(0);return f},f.start(),f.update=function(c,u){u==="utf8"&&(c=As.util.encodeUtf8(c));var d=c.length;f.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var h=f.fullMessageLength.length-1;h>=0;--h)f.fullMessageLength[h]+=d[1],d[1]=d[0]+(f.fullMessageLength[h]/4294967296>>>0),f.fullMessageLength[h]=f.fullMessageLength[h]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(c),lF(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),f},f.digest=function(){var c=As.util.createBuffer();c.putBytes(n.bytes());var u=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,d=u&f.blockLength-1;c.putBytes(DS.substr(0,f.blockLength-d));for(var h,p,m=f.fullMessageLength[0]*8,v=0;v<f.fullMessageLength.length-1;++v)h=f.fullMessageLength[v+1]*8,p=h/4294967296>>>0,m+=p,c.putInt32(m>>>0),m=h>>>0;c.putInt32(m);for(var x=new Array(r.length),v=0;v<r.length;++v)x[v]=r[v].slice(0);lF(x,s,c);var E=As.util.createBuffer(),I;e==="SHA-512"?I=x.length:e==="SHA-384"?I=x.length-2:I=x.length-4;for(var v=0;v<I;++v)E.putInt32(x[v][0]),(v!==I-1||e!=="SHA-512/224")&&E.putInt32(x[v][1]);return E},f};var DS=null,cF=!1,LS=null,ad=null;function qJ(){DS="\x80",DS+=As.util.fillString("\0",128),LS=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],ad={},ad["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],ad["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],ad["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],ad["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],cF=!0}o(qJ,"_init");function lF(e,t,r){for(var n,s,l,a,f,c,u,d,h,p,m,v,x,E,I,A,L,D,k,$,ue,ce,e0,d0,n0,_0,je,we,t0,h0,o0,l0,s0,c0,_e,ve=r.length();ve>=128;){for(t0=0;t0<16;++t0)t[t0][0]=r.getInt32()>>>0,t[t0][1]=r.getInt32()>>>0;for(;t0<80;++t0)l0=t[t0-2],h0=l0[0],o0=l0[1],n=((h0>>>19|o0<<13)^(o0>>>29|h0<<3)^h0>>>6)>>>0,s=((h0<<13|o0>>>19)^(o0<<3|h0>>>29)^(h0<<26|o0>>>6))>>>0,c0=t[t0-15],h0=c0[0],o0=c0[1],l=((h0>>>1|o0<<31)^(h0>>>8|o0<<24)^h0>>>7)>>>0,a=((h0<<31|o0>>>1)^(h0<<24|o0>>>8)^(h0<<25|o0>>>7))>>>0,s0=t[t0-7],_e=t[t0-16],o0=s+s0[1]+a+_e[1],t[t0][0]=n+s0[0]+l+_e[0]+(o0/4294967296>>>0)>>>0,t[t0][1]=o0>>>0;for(x=e[0][0],E=e[0][1],I=e[1][0],A=e[1][1],L=e[2][0],D=e[2][1],k=e[3][0],$=e[3][1],ue=e[4][0],ce=e[4][1],e0=e[5][0],d0=e[5][1],n0=e[6][0],_0=e[6][1],je=e[7][0],we=e[7][1],t0=0;t0<80;++t0)u=((ue>>>14|ce<<18)^(ue>>>18|ce<<14)^(ce>>>9|ue<<23))>>>0,d=((ue<<18|ce>>>14)^(ue<<14|ce>>>18)^(ce<<23|ue>>>9))>>>0,h=(n0^ue&(e0^n0))>>>0,p=(_0^ce&(d0^_0))>>>0,f=((x>>>28|E<<4)^(E>>>2|x<<30)^(E>>>7|x<<25))>>>0,c=((x<<4|E>>>28)^(E<<30|x>>>2)^(E<<25|x>>>7))>>>0,m=(x&I|L&(x^I))>>>0,v=(E&A|D&(E^A))>>>0,o0=we+d+p+LS[t0][1]+t[t0][1],n=je+u+h+LS[t0][0]+t[t0][0]+(o0/4294967296>>>0)>>>0,s=o0>>>0,o0=c+v,l=f+m+(o0/4294967296>>>0)>>>0,a=o0>>>0,je=n0,we=_0,n0=e0,_0=d0,e0=ue,d0=ce,o0=$+s,ue=k+n+(o0/4294967296>>>0)>>>0,ce=o0>>>0,k=L,$=D,L=I,D=A,I=x,A=E,o0=s+a,x=n+l+(o0/4294967296>>>0)>>>0,E=o0>>>0;o0=e[0][1]+E,e[0][0]=e[0][0]+x+(o0/4294967296>>>0)>>>0,e[0][1]=o0>>>0,o0=e[1][1]+A,e[1][0]=e[1][0]+I+(o0/4294967296>>>0)>>>0,e[1][1]=o0>>>0,o0=e[2][1]+D,e[2][0]=e[2][0]+L+(o0/4294967296>>>0)>>>0,e[2][1]=o0>>>0,o0=e[3][1]+$,e[3][0]=e[3][0]+k+(o0/4294967296>>>0)>>>0,e[3][1]=o0>>>0,o0=e[4][1]+ce,e[4][0]=e[4][0]+ue+(o0/4294967296>>>0)>>>0,e[4][1]=o0>>>0,o0=e[5][1]+d0,e[5][0]=e[5][0]+e0+(o0/4294967296>>>0)>>>0,e[5][1]=o0>>>0,o0=e[6][1]+_0,e[6][0]=e[6][0]+n0+(o0/4294967296>>>0)>>>0,e[6][1]=o0>>>0,o0=e[7][1]+we,e[7][0]=e[7][0]+je+(o0/4294967296>>>0)>>>0,e[7][1]=o0>>>0,ve-=128}}o(lF,"_update")});var dF=v0(MS=>{var $J=hn();b1();var Fa=$J.asn1;MS.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};MS.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Fa.Class.UNIVERSAL,type:Fa.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var SF=v0((Yce,TF)=>{var nl=hn();Kh();Mf();OS();zi();var vF=dF(),HJ=vF.publicKeyValidator,jJ=vF.privateKeyValidator;typeof hF>"u"&&(hF=nl.jsbn.BigInteger);var hF,$S=nl.util.ByteBuffer,Kl=typeof Buffer>"u"?Uint8Array:Buffer;nl.pki=nl.pki||{};TF.exports=nl.pki.ed25519=nl.ed25519=nl.ed25519||{};var ei=nl.ed25519;ei.constants={};ei.constants.PUBLIC_KEY_BYTE_LENGTH=32;ei.constants.PRIVATE_KEY_BYTE_LENGTH=64;ei.constants.SEED_BYTE_LENGTH=32;ei.constants.SIGN_BYTE_LENGTH=64;ei.constants.HASH_BYTE_LENGTH=64;ei.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=nl.random.getBytesSync(ei.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==ei.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+ei.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=ku({message:t,encoding:"binary"});for(var r=new Kl(ei.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Kl(ei.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return KJ(r,n),{publicKey:r,privateKey:n}};ei.privateKeyFromAsn1=function(e){var t={},r=[],n=nl.asn1.validate(e,jJ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=nl.asn1.derToOid(t.privateKeyOid),a=nl.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.privateKey,c=ku({message:nl.asn1.fromDer(f).value,encoding:"binary"});return{privateKeyBytes:c}};ei.publicKeyFromAsn1=function(e){var t={},r=[],n=nl.asn1.validate(e,HJ,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var l=nl.asn1.derToOid(t.publicKeyOid),a=nl.oids.EdDSA25519;if(l!==a)throw new Error('Invalid OID "'+l+'"; OID must be "'+a+'".');var f=t.ed25519PublicKey;if(f.length!==ei.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ku({message:f,encoding:"binary"})};ei.publicKeyFromPrivateKey=function(e){e=e||{};var t=ku({message:e.privateKey,encoding:"binary"});if(t.length!==ei.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ei.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Kl(ei.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};ei.sign=function(e){e=e||{};var t=ku(e),r=ku({message:e.privateKey,encoding:"binary"});if(r.length===ei.constants.SEED_BYTE_LENGTH){var n=ei.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==ei.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+ei.constants.SEED_BYTE_LENGTH+" or "+ei.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Kl(ei.constants.SIGN_BYTE_LENGTH+t.length);WJ(s,t,t.length,r);for(var l=new Kl(ei.constants.SIGN_BYTE_LENGTH),a=0;a<l.length;++a)l[a]=s[a];return l};ei.verify=function(e){e=e||{};var t=ku(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ku({message:e.signature,encoding:"binary"});if(r.length!==ei.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+ei.constants.SIGN_BYTE_LENGTH);var n=ku({message:e.publicKey,encoding:"binary"});if(n.length!==ei.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+ei.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Kl(ei.constants.SIGN_BYTE_LENGTH+t.length),l=new Kl(ei.constants.SIGN_BYTE_LENGTH+t.length),a;for(a=0;a<ei.constants.SIGN_BYTE_LENGTH;++a)s[a]=r[a];for(a=0;a<t.length;++a)s[a+ei.constants.SIGN_BYTE_LENGTH]=t[a];return YJ(l,s,s.length,n)>=0};function ku(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Kl)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new $S(t,r)}else if(!(t instanceof $S))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Kl(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(ku,"messageToNativeBuffer");var HS=kr(),dv=kr([1]),VJ=kr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),zJ=kr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),gF=kr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),mF=kr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),US=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),GJ=kr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Zh(e,t){var r=nl.md.sha512.create(),n=new $S(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var l=new Kl(ei.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)l[a]=s.charCodeAt(a);return l}o(Zh,"sha512");function KJ(e,t){var r=[kr(),kr(),kr(),kr()],n,s=Zh(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,GS(r,s),zS(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(KJ,"crypto_sign_keypair");function WJ(e,t,r,n){var s,l,a=new Float64Array(64),f=[kr(),kr(),kr(),kr()],c=Zh(n,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=c[32+s];var d=Zh(e.subarray(32),r+32);for(jS(d),GS(f,d),zS(e,f),s=32;s<64;++s)e[s]=n[s];var h=Zh(e,r+64);for(jS(h),s=32;s<64;++s)a[s]=0;for(s=0;s<32;++s)a[s]=d[s];for(s=0;s<32;++s)for(l=0;l<32;l++)a[s+l]+=h[s]*c[l];return xF(e.subarray(32),a),u}o(WJ,"crypto_sign");function YJ(e,t,r,n){var s,l,a=new Kl(32),f=[kr(),kr(),kr(),kr()],c=[kr(),kr(),kr(),kr()];if(l=-1,r<64||XJ(c,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var u=Zh(e,r);if(jS(u),CF(f,c,u),GS(c,t.subarray(32)),VS(f,c),zS(a,f),r-=64,_F(t,0,a,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return l=r,l}o(YJ,"crypto_sign_open");function xF(e,t){var r,n,s,l;for(n=63;n>=32;--n){for(r=0,s=n-32,l=n-12;s<l;++s)t[s]+=r-16*t[n]*US[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*US[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*US[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(xF,"modL");function jS(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;xF(e,t)}o(jS,"reduce");function VS(e,t){var r=kr(),n=kr(),s=kr(),l=kr(),a=kr(),f=kr(),c=kr(),u=kr(),d=kr();n6(r,e[1],e[0]),n6(d,t[1],t[0]),bs(r,r,d),r6(n,e[0],e[1]),r6(d,t[0],t[1]),bs(n,n,d),bs(s,e[3],t[3]),bs(s,s,zJ),bs(l,e[2],t[2]),r6(l,l,l),n6(a,n,r),n6(f,l,s),r6(c,l,s),r6(u,n,r),bs(e[0],a,f),bs(e[1],u,c),bs(e[2],c,f),bs(e[3],a,u)}o(VS,"add");function pF(e,t,r){for(var n=0;n<4;++n)EF(e[n],t[n],r)}o(pF,"cswap");function zS(e,t){var r=kr(),n=kr(),s=kr();eZ(s,t[2]),bs(r,t[0],s),bs(n,t[1],s),hv(e,n),e[31]^=bF(r)<<7}o(zS,"pack");function hv(e,t){var r,n,s,l=kr(),a=kr();for(r=0;r<16;++r)a[r]=t[r];for(qS(a),qS(a),qS(a),n=0;n<2;++n){for(l[0]=a[0]-65517,r=1;r<15;++r)l[r]=a[r]-65535-(l[r-1]>>16&1),l[r-1]&=65535;l[15]=a[15]-32767-(l[14]>>16&1),s=l[15]>>16&1,l[14]&=65535,EF(a,l,1-s)}for(r=0;r<16;r++)e[2*r]=a[r]&255,e[2*r+1]=a[r]>>8}o(hv,"pack25519");function XJ(e,t){var r=kr(),n=kr(),s=kr(),l=kr(),a=kr(),f=kr(),c=kr();return n3(e[2],dv),JJ(e[1],t),ld(s,e[1]),bs(l,s,VJ),n6(s,s,e[2]),r6(l,e[2],l),ld(a,l),ld(f,a),bs(c,f,a),bs(r,c,s),bs(r,r,l),ZJ(r,r),bs(r,r,s),bs(r,r,l),bs(r,r,l),bs(e[0],r,l),ld(n,e[0]),bs(n,n,l),yF(n,s)&&bs(e[0],e[0],GJ),ld(n,e[0]),bs(n,n,l),yF(n,s)?-1:(bF(e[0])===t[31]>>7&&n6(e[0],HS,e[0]),bs(e[3],e[0],e[1]),0)}o(XJ,"unpackneg");function JJ(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(JJ,"unpack25519");function ZJ(e,t){var r=kr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)ld(r,r),n!==1&&bs(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(ZJ,"pow2523");function yF(e,t){var r=new Kl(32),n=new Kl(32);return hv(r,e),hv(n,t),_F(r,0,n,0)}o(yF,"neq25519");function _F(e,t,r,n){return QJ(e,t,r,n,32)}o(_F,"crypto_verify_32");function QJ(e,t,r,n,s){var l,a=0;for(l=0;l<s;++l)a|=e[t+l]^r[n+l];return(1&a-1>>>8)-1}o(QJ,"vn");function bF(e){var t=new Kl(32);return hv(t,e),t[0]&1}o(bF,"par25519");function CF(e,t,r){var n,s;for(n3(e[0],HS),n3(e[1],dv),n3(e[2],dv),n3(e[3],HS),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,pF(e,t,n),VS(t,e),VS(e,e),pF(e,t,n)}o(CF,"scalarmult");function GS(e,t){var r=[kr(),kr(),kr(),kr()];n3(r[0],gF),n3(r[1],mF),n3(r[2],dv),bs(r[3],gF,mF),CF(e,r,t)}o(GS,"scalarbase");function n3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(n3,"set25519");function eZ(e,t){var r=kr(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)ld(r,r),n!==2&&n!==4&&bs(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(eZ,"inv25519");function qS(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(qS,"car25519");function EF(e,t,r){for(var n,s=~(r-1),l=0;l<16;++l)n=s&(e[l]^t[l]),e[l]^=n,t[l]^=n}o(EF,"sel25519");function kr(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(kr,"gf");function r6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(r6,"A");function n6(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(n6,"Z");function ld(e,t){bs(e,t,t)}o(ld,"S");function bs(e,t,r){var n,s,l=0,a=0,f=0,c=0,u=0,d=0,h=0,p=0,m=0,v=0,x=0,E=0,I=0,A=0,L=0,D=0,k=0,$=0,ue=0,ce=0,e0=0,d0=0,n0=0,_0=0,je=0,we=0,t0=0,h0=0,o0=0,l0=0,s0=0,c0=r[0],_e=r[1],ve=r[2],g0=r[3],N0=r[4],R0=r[5],A0=r[6],X0=r[7],qe=r[8],B0=r[9],Ve=r[10],U0=r[11],D0=r[12],q0=r[13],pr=r[14],Vr=r[15];n=t[0],l+=n*c0,a+=n*_e,f+=n*ve,c+=n*g0,u+=n*N0,d+=n*R0,h+=n*A0,p+=n*X0,m+=n*qe,v+=n*B0,x+=n*Ve,E+=n*U0,I+=n*D0,A+=n*q0,L+=n*pr,D+=n*Vr,n=t[1],a+=n*c0,f+=n*_e,c+=n*ve,u+=n*g0,d+=n*N0,h+=n*R0,p+=n*A0,m+=n*X0,v+=n*qe,x+=n*B0,E+=n*Ve,I+=n*U0,A+=n*D0,L+=n*q0,D+=n*pr,k+=n*Vr,n=t[2],f+=n*c0,c+=n*_e,u+=n*ve,d+=n*g0,h+=n*N0,p+=n*R0,m+=n*A0,v+=n*X0,x+=n*qe,E+=n*B0,I+=n*Ve,A+=n*U0,L+=n*D0,D+=n*q0,k+=n*pr,$+=n*Vr,n=t[3],c+=n*c0,u+=n*_e,d+=n*ve,h+=n*g0,p+=n*N0,m+=n*R0,v+=n*A0,x+=n*X0,E+=n*qe,I+=n*B0,A+=n*Ve,L+=n*U0,D+=n*D0,k+=n*q0,$+=n*pr,ue+=n*Vr,n=t[4],u+=n*c0,d+=n*_e,h+=n*ve,p+=n*g0,m+=n*N0,v+=n*R0,x+=n*A0,E+=n*X0,I+=n*qe,A+=n*B0,L+=n*Ve,D+=n*U0,k+=n*D0,$+=n*q0,ue+=n*pr,ce+=n*Vr,n=t[5],d+=n*c0,h+=n*_e,p+=n*ve,m+=n*g0,v+=n*N0,x+=n*R0,E+=n*A0,I+=n*X0,A+=n*qe,L+=n*B0,D+=n*Ve,k+=n*U0,$+=n*D0,ue+=n*q0,ce+=n*pr,e0+=n*Vr,n=t[6],h+=n*c0,p+=n*_e,m+=n*ve,v+=n*g0,x+=n*N0,E+=n*R0,I+=n*A0,A+=n*X0,L+=n*qe,D+=n*B0,k+=n*Ve,$+=n*U0,ue+=n*D0,ce+=n*q0,e0+=n*pr,d0+=n*Vr,n=t[7],p+=n*c0,m+=n*_e,v+=n*ve,x+=n*g0,E+=n*N0,I+=n*R0,A+=n*A0,L+=n*X0,D+=n*qe,k+=n*B0,$+=n*Ve,ue+=n*U0,ce+=n*D0,e0+=n*q0,d0+=n*pr,n0+=n*Vr,n=t[8],m+=n*c0,v+=n*_e,x+=n*ve,E+=n*g0,I+=n*N0,A+=n*R0,L+=n*A0,D+=n*X0,k+=n*qe,$+=n*B0,ue+=n*Ve,ce+=n*U0,e0+=n*D0,d0+=n*q0,n0+=n*pr,_0+=n*Vr,n=t[9],v+=n*c0,x+=n*_e,E+=n*ve,I+=n*g0,A+=n*N0,L+=n*R0,D+=n*A0,k+=n*X0,$+=n*qe,ue+=n*B0,ce+=n*Ve,e0+=n*U0,d0+=n*D0,n0+=n*q0,_0+=n*pr,je+=n*Vr,n=t[10],x+=n*c0,E+=n*_e,I+=n*ve,A+=n*g0,L+=n*N0,D+=n*R0,k+=n*A0,$+=n*X0,ue+=n*qe,ce+=n*B0,e0+=n*Ve,d0+=n*U0,n0+=n*D0,_0+=n*q0,je+=n*pr,we+=n*Vr,n=t[11],E+=n*c0,I+=n*_e,A+=n*ve,L+=n*g0,D+=n*N0,k+=n*R0,$+=n*A0,ue+=n*X0,ce+=n*qe,e0+=n*B0,d0+=n*Ve,n0+=n*U0,_0+=n*D0,je+=n*q0,we+=n*pr,t0+=n*Vr,n=t[12],I+=n*c0,A+=n*_e,L+=n*ve,D+=n*g0,k+=n*N0,$+=n*R0,ue+=n*A0,ce+=n*X0,e0+=n*qe,d0+=n*B0,n0+=n*Ve,_0+=n*U0,je+=n*D0,we+=n*q0,t0+=n*pr,h0+=n*Vr,n=t[13],A+=n*c0,L+=n*_e,D+=n*ve,k+=n*g0,$+=n*N0,ue+=n*R0,ce+=n*A0,e0+=n*X0,d0+=n*qe,n0+=n*B0,_0+=n*Ve,je+=n*U0,we+=n*D0,t0+=n*q0,h0+=n*pr,o0+=n*Vr,n=t[14],L+=n*c0,D+=n*_e,k+=n*ve,$+=n*g0,ue+=n*N0,ce+=n*R0,e0+=n*A0,d0+=n*X0,n0+=n*qe,_0+=n*B0,je+=n*Ve,we+=n*U0,t0+=n*D0,h0+=n*q0,o0+=n*pr,l0+=n*Vr,n=t[15],D+=n*c0,k+=n*_e,$+=n*ve,ue+=n*g0,ce+=n*N0,e0+=n*R0,d0+=n*A0,n0+=n*X0,_0+=n*qe,je+=n*B0,we+=n*Ve,t0+=n*U0,h0+=n*D0,o0+=n*q0,l0+=n*pr,s0+=n*Vr,l+=38*k,a+=38*$,f+=38*ue,c+=38*ce,u+=38*e0,d+=38*d0,h+=38*n0,p+=38*_0,m+=38*je,v+=38*we,x+=38*t0,E+=38*h0,I+=38*o0,A+=38*l0,L+=38*s0,s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,l+=s-1+37*(s-1),s=1,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=x+s+65535,s=Math.floor(n/65536),x=n-s*65536,n=E+s+65535,s=Math.floor(n/65536),E=n-s*65536,n=I+s+65535,s=Math.floor(n/65536),I=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,n=D+s+65535,s=Math.floor(n/65536),D=n-s*65536,l+=s-1+37*(s-1),e[0]=l,e[1]=a,e[2]=f,e[3]=c,e[4]=u,e[5]=d,e[6]=h,e[7]=p,e[8]=m,e[9]=v,e[10]=x,e[11]=E,e[12]=I,e[13]=A,e[14]=L,e[15]=D}o(bs,"M")});var PF=v0((Jce,AF)=>{var uf=hn();zi();Mf();Kh();AF.exports=uf.kem=uf.kem||{};var IF=uf.jsbn.BigInteger;uf.kem.rsa={};uf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||uf.random,n={};return n.encrypt=function(s,l){var a=Math.ceil(s.n.bitLength()/8),f;do f=new IF(uf.util.bytesToHex(r.getBytesSync(a)),16).mod(s.n);while(f.compareTo(IF.ONE)<=0);f=uf.util.hexToBytes(f.toString(16));var c=a-f.length;c>0&&(f=uf.util.fillString("\0",c)+f);var u=s.encrypt(f,"NONE"),d=e.generate(f,l);return{encapsulation:u,key:d}},n.decrypt=function(s,l,a){var f=s.decrypt(l,"NONE");return e.generate(f,a)},n};uf.kem.kdf1=function(e,t){wF(this,e,0,t||e.digestLength)};uf.kem.kdf2=function(e,t){wF(this,e,1,t||e.digestLength)};function wF(e,t,r,n){e.generate=function(s,l){for(var a=new uf.util.ByteBuffer,f=Math.ceil(l/n)+r,c=new uf.util.ByteBuffer,u=r;u<f;++u){c.putInt32(u),t.start(),t.update(s+c.getBytes());var d=t.digest();a.putBytes(d.getBytes(n))}return a.truncate(a.length()-l),a.getBytes()}}o(wF,"_createKDF")});var BF=v0((Qce,kF)=>{var Ri=hn();zi();kF.exports=Ri.log=Ri.log||{};Ri.log.levels=["none","error","warning","info","debug","verbose","max"];var gv={},YS=[],e7=null;Ri.log.LEVEL_LOCKED=2;Ri.log.NO_LEVEL_CHECK=4;Ri.log.INTERPOLATE=8;for(Tc=0;Tc<Ri.log.levels.length;++Tc)KS=Ri.log.levels[Tc],gv[KS]={index:Tc,name:KS.toUpperCase()};var KS,Tc;Ri.log.logMessage=function(e){for(var t=gv[e.level].index,r=0;r<YS.length;++r){var n=YS[r];if(n.flags&Ri.log.NO_LEVEL_CHECK)n.f(e);else{var s=gv[n.level].index;t<=s&&n.f(n,e)}}};Ri.log.prepareStandard=function(e){"standard"in e||(e.standard=gv[e.level].name+" ["+e.category+"] "+e.message)};Ri.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=Ri.util.format.apply(this,t)}};Ri.log.prepareStandardFull=function(e){"standardFull"in e||(Ri.log.prepareStandard(e),e.standardFull=e.standard)};for(WS=["error","warning","info","debug","verbose"],Tc=0;Tc<WS.length;++Tc)(function(t){Ri.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),l={timestamp:new Date,level:t,category:r,message:n,arguments:s};Ri.log.logMessage(l)}})(WS[Tc]);var WS,Tc;Ri.log.makeLogger=function(e){var t={flags:0,f:e};return Ri.log.setLevel(t,"none"),t};Ri.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&Ri.log.LEVEL_LOCKED))for(var n=0;n<Ri.log.levels.length;++n){var s=Ri.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};Ri.log.lock=function(e,t){typeof t>"u"||t?e.flags|=Ri.log.LEVEL_LOCKED:e.flags&=~Ri.log.LEVEL_LOCKED};Ri.log.addLogger=function(e){YS.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(NF={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},t7=o(function(e,t){Ri.log.prepareStandard(t);var r=NF[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),i6=Ri.log.makeLogger(t7)):(t7=o(function(t,r){Ri.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),i6=Ri.log.makeLogger(t7)),Ri.log.setLevel(i6,"debug"),Ri.log.addLogger(i6),e7=i6):console={log:function(){}};var i6,NF,t7;e7!==null&&typeof window<"u"&&window.location&&(Qh=new URL(window.location.href).searchParams,Qh.has("console.level")&&Ri.log.setLevel(e7,Qh.get("console.level").slice(-1)[0]),Qh.has("console.lock")&&(RF=Qh.get("console.lock").slice(-1)[0],RF=="true"&&Ri.log.lock(e7)));var Qh,RF;Ri.log.consoleLogger=e7});var LF=v0((tue,DF)=>{DF.exports=pc();Ky();J8();aS();OS()});var MF=v0((rue,OF)=>{var Y0=hn();Y5();b1();zh();X5();td();bS();Mf();zi();av();var Ke=Y0.asn1,kl=OF.exports=Y0.pkcs7=Y0.pkcs7||{};kl.messageFromPem=function(e){var t=Y0.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Ke.fromDer(t.body);return kl.messageFromAsn1(n)};kl.messageToPem=function(e,t){var r={type:"PKCS7",body:Ke.toDer(e.toAsn1()).getBytes()};return Y0.pem.encode(r,{maxline:t})};kl.messageFromAsn1=function(e){var t={},r=[];if(!Ke.validate(e,kl.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=Ke.derToOid(t.contentType),l;switch(s){case Y0.pki.oids.envelopedData:l=kl.createEnvelopedData();break;case Y0.pki.oids.encryptedData:l=kl.createEncryptedData();break;case Y0.pki.oids.signedData:l=kl.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return l.fromAsn1(t.content.value[0]),l};kl.createSignedData=function(){var e=null;return e={type:Y0.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(JS(e,n,kl.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,l=0;l<s.length;++l)e.certificates.push(Y0.pki.certificateFromAsn1(s[l]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(Y0.pki.certificateToAsn1(e.certificates[s]));var l=[],a=Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Ke.integerToDer(e.version).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&a.value[0].value.push(Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,n)),l.length>0&&a.value[0].value.push(Ke.create(Ke.Class.CONTEXT_SPECIFIC,1,!0,l)),a.value[0].value.push(Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SET,!0,e.signerInfos)),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.type).getBytes()),a])},addSigner:function(n){var s=n.issuer,l=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=Y0.pki.certificateFromPem(a)),s=a.issuer.attributes,l=a.serialNumber}var f=n.key;if(!f)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof f=="string"&&(f=Y0.pki.privateKeyFromPem(f));var c=n.digestAlgorithm||Y0.pki.oids.sha1;switch(c){case Y0.pki.oids.sha1:case Y0.pki.oids.sha256:case Y0.pki.oids.sha384:case Y0.pki.oids.sha512:case Y0.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var d=!1,h=!1,p=0;p<u.length;++p){var m=u[p];if(!d&&m.type===Y0.pki.oids.contentType){if(d=!0,h)break;continue}if(!h&&m.type===Y0.pki.oids.messageDigest){if(h=!0,d)break;continue}}if(!d||!h)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:f,version:1,issuer:s,serialNumber:l,digestAlgorithm:c,signatureAlgorithm:Y0.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(Y0.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof Y0.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=Y0.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var l=t();r(l)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Y0.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var l=e.signers[s],a=l.digestAlgorithm;a in n||(n[a]=Y0.md[Y0.pki.oids[a]].create()),l.authenticatedAttributes.length===0?l.md=n[a]:l.md=Y0.md[Y0.pki.oids[a]].create()}e.digestAlgorithmIdentifiers=[];for(var a in n)e.digestAlgorithmIdentifiers.push(Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(a).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var l=Ke.derToOid(e.contentInfo.value[0].value),a=Ke.toDer(s);a.getByte(),Ke.getBerValueLength(a),a=a.getBytes();for(var f in n)n[f].start().update(a);for(var c=new Date,u=0;u<e.signers.length;++u){var d=e.signers[u];if(d.authenticatedAttributes.length===0){if(l!==Y0.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var m=d.authenticatedAttributes[p];m.type===Y0.pki.oids.messageDigest?m.value=n[d.digestAlgorithm].digest():m.type===Y0.pki.oids.signingTime&&(m.value||(m.value=c)),h.value.push(XS(m)),d.authenticatedAttributesAsn1.value.push(XS(m))}a=Ke.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=oZ(e.signers)}o(r,"addSignerInfos")};kl.createEncryptedData=function(){var e=null;return e={type:Y0.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Y0.pki.oids["aes256-CBC"]},fromAsn1:function(t){JS(e,t,kl.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),FF(e)}},e};kl.createEnvelopedData=function(){var e=null;return e={type:Y0.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Y0.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=JS(e,t,kl.asn1.envelopedDataValidator);e.recipients=nZ(r.recipientInfos.value)},toAsn1:function(){return Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.type).getBytes()),Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Ke.integerToDer(e.version).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SET,!0,iZ(e.recipients)),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,aZ(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],l=s.issuer;if(s.serialNumber===t.serialNumber&&l.length===r.length){for(var a=!0,f=0;f<r.length;++f)if(l[f].type!==r[f].type||l[f].value!==r[f].value){a=!1;break}if(a)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Y0.pki.oids.rsaEncryption:case Y0.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Y0.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}FF(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Y0.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,l;switch(r){case Y0.pki.oids["aes128-CBC"]:n=16,s=16,l=Y0.aes.createEncryptionCipher;break;case Y0.pki.oids["aes192-CBC"]:n=24,s=16,l=Y0.aes.createEncryptionCipher;break;case Y0.pki.oids["aes256-CBC"]:n=32,s=16,l=Y0.aes.createEncryptionCipher;break;case Y0.pki.oids["des-EDE3-CBC"]:n=24,s=8,l=Y0.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Y0.util.createBuffer(Y0.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Y0.util.createBuffer(Y0.random.getBytes(s));var a=l(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var f=0;f<e.recipients.length;++f){var c=e.recipients[f];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Y0.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},e};function tZ(e){var t={},r=[];if(!Ke.validate(e,kl.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Y0.pki.RDNAttributesAsArray(t.issuer),serialNumber:Y0.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Ke.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(tZ,"_recipientFromAsn1");function rZ(e){return Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Ke.integerToDer(e.version).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Y0.pki.distinguishedNameToAsn1({attributes:e.issuer}),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Y0.util.hexToBytes(e.serialNumber))]),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.encryptedContent.algorithm).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.NULL,!1,"")]),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(rZ,"_recipientToAsn1");function nZ(e){for(var t=[],r=0;r<e.length;++r)t.push(tZ(e[r]));return t}o(nZ,"_recipientsFromAsn1");function iZ(e){for(var t=[],r=0;r<e.length;++r)t.push(rZ(e[r]));return t}o(iZ,"_recipientsToAsn1");function sZ(e){var t=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Ke.integerToDer(e.version).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Y0.pki.distinguishedNameToAsn1({attributes:e.issuer}),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.INTEGER,!1,Y0.util.hexToBytes(e.serialNumber))]),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.digestAlgorithm).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.signatureAlgorithm).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.NULL,!1,"")])),t.value.push(Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Ke.create(Ke.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(XS(s))}t.value.push(r)}return t}o(sZ,"_signerToAsn1");function oZ(e){for(var t=[],r=0;r<e.length;++r)t.push(sZ(e[r]));return t}o(oZ,"_signersToAsn1");function XS(e){var t;if(e.type===Y0.pki.oids.contentType)t=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.value).getBytes());else if(e.type===Y0.pki.oids.messageDigest)t=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Y0.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var l=Date.parse(s);isNaN(l)?s.length===13?s=Ke.utcTimeToDate(s):s=Ke.generalizedTimeToDate(s):s=new Date(l)}s>=r&&s<n?t=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.UTCTIME,!1,Ke.dateToUtcTime(s)):t=Ke.create(Ke.Class.UNIVERSAL,Ke.Type.GENERALIZEDTIME,!1,Ke.dateToGeneralizedTime(s))}return Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.type).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SET,!0,[t])])}o(XS,"_attributeToAsn1");function aZ(e){return[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(Y0.pki.oids.data).getBytes()),Ke.create(Ke.Class.UNIVERSAL,Ke.Type.SEQUENCE,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OID,!1,Ke.oidToDer(e.algorithm).getBytes()),e.parameter?Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Ke.create(Ke.Class.CONTEXT_SPECIFIC,0,!0,[Ke.create(Ke.Class.UNIVERSAL,Ke.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(aZ,"_encryptedContentToAsn1");function JS(e,t,r){var n={},s=[];if(!Ke.validate(t,r,n,s)){var l=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw l.errors=l,l}var a=Ke.derToOid(n.contentType);if(a!==Y0.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var f="";if(Y0.util.isArray(n.encryptedContent))for(var c=0;c<n.encryptedContent.length;++c){if(n.encryptedContent[c].type!==Ke.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");f+=n.encryptedContent[c].value}else f=n.encryptedContent;e.encryptedContent={algorithm:Ke.derToOid(n.encAlgorithm),parameter:Y0.util.createBuffer(n.encParameter.value),content:Y0.util.createBuffer(f)}}if(n.content){var f="";if(Y0.util.isArray(n.content))for(var c=0;c<n.content.length;++c){if(n.content[c].type!==Ke.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");f+=n.content[c].value}else f=n.content;e.content=Y0.util.createBuffer(f)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(JS,"_fromAsn1");function FF(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Y0.pki.oids["aes128-CBC"]:case Y0.pki.oids["aes192-CBC"]:case Y0.pki.oids["aes256-CBC"]:t=Y0.aes.createDecryptionCipher(e.encryptedContent.key);break;case Y0.pki.oids.desCBC:case Y0.pki.oids["des-EDE3-CBC"]:t=Y0.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(FF,"_decryptContent")});var qF=v0((iue,UF)=>{var aa=hn();Y5();K8();Ky();J8();zi();var pv=UF.exports=aa.ssh=aa.ssh||{};pv.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: "+n+`\r
`;l+="Encryption: "+s+`\r
`,l+="Comment: "+r+`\r
`;var a=aa.util.createBuffer();s6(a,n),Sc(a,e.e),Sc(a,e.n);var f=aa.util.encode64(a.bytes(),64),c=Math.floor(f.length/66)+1;l+="Public-Lines: "+c+`\r
`,l+=f;var u=aa.util.createBuffer();Sc(u,e.d),Sc(u,e.p),Sc(u,e.q),Sc(u,e.qInv);var d;if(!t)d=aa.util.encode64(u.bytes(),64);else{var h=u.length()+16-1;h-=h%16;var p=mv(u.bytes());p.truncate(p.length()-h+u.length()),u.putBuffer(p);var m=aa.util.createBuffer();m.putBuffer(mv("\0\0\0\0",t)),m.putBuffer(mv("\0\0\0",t));var v=aa.aes.createEncryptionCipher(m.truncate(8),"CBC");v.start(aa.util.createBuffer().fillWithByte(0,16)),v.update(u.copy()),v.finish();var x=v.output;x.truncate(16),d=aa.util.encode64(x.bytes(),64)}c=Math.floor(d.length/66)+1,l+=`\r
Private-Lines: `+c+`\r
`,l+=d;var E=mv("putty-private-key-file-mac-key",t),I=aa.util.createBuffer();s6(I,n),s6(I,s),s6(I,r),I.putInt32(a.length()),I.putBuffer(a),I.putInt32(u.length()),I.putBuffer(u);var A=aa.hmac.create();return A.start("sha1",E),A.update(I.bytes()),l+=`\r
Private-MAC: `+A.digest().toHex()+`\r
`,l};pv.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=aa.util.createBuffer();return s6(n,r),Sc(n,e.e),Sc(n,e.n),r+" "+aa.util.encode64(n.bytes())+" "+t};pv.privateKeyToOpenSSH=function(e,t){return t?aa.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):aa.pki.privateKeyToPem(e)};pv.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||aa.md.md5.create(),n="ssh-rsa",s=aa.util.createBuffer();s6(s,n),Sc(s,e.e),Sc(s,e.n),r.start(),r.update(s.getBytes());var l=r.digest();if(t.encoding==="hex"){var a=l.toHex();return t.delimiter?a.match(/.{2}/g).join(t.delimiter):a}else{if(t.encoding==="binary")return l.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return l};function Sc(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=aa.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(Sc,"_addBigIntegerToBuffer");function s6(e,t){e.putInt32(t.length),e.putString(t)}o(s6,"_addStringToBuffer");function mv(){for(var e=aa.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(mv,"_sha1")});var HF=v0((oue,$F)=>{$F.exports=hn();Y5();aF();b1();qy();zh();SF();K8();PF();BF();LF();CS();Jy();td();pS();SS();MF();wS();vS();lS();iv();Mf();uS();qF();BS();zi()});var jF=v0((aue,lZ)=>{lZ.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var GF=v0((lue,ZS)=>{var vv=HF(),VF=jF(),yv=ZS.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function zF(e){let t=vv.pki.pemToDer(e),r=vv.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],l=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,a=n.slice(l);return{serial:a[0],issuer:a[2],valid:a[3],subject:a[4]}}o(zF,"myASN");function fZ(e){let t=zF(e),r=new Date,n=t.subject.value.map(a=>a.value[0].value[1].value).join("/"),s=t.valid.value.map(a=>a.value).join(" - "),l=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${l} by ${VF.name}@${VF.version}`,String(e)].join(`
`)}o(fZ,"txtFormat");ZS.exports.transform=function(e){return function(t){try{switch(e){case yv.der:return vv.pki.pemToDer(t);case yv.pem:return t;case yv.txt:return fZ(t);case yv.asn1:return zF(t);default:return vv.pki.certificateFromPem(t)}}catch{return}}}});var KF=v0((cue,o6)=>{var QS=require("https"),eI=GF();if(process.platform!=="darwin")o6.exports.all=()=>[],o6.exports.each=()=>{};else{let f=function(u,d,h){return h.indexOf(u)===d};cZ=f,o(f,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),l=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);QS.globalAgent.options.ca=QS.globalAgent.options.ca||[];let a=QS.globalAgent.options.ca,c=s.concat(l);c.filter(f).forEach(u=>a.push(u)),o6.exports.der2=eI.validFormats,o6.exports.all=function(u){return c.map(eI.transform(u)).filter(d=>d)},o6.exports.each=function(u,d){return typeof u=="function"&&(d=u,u=void 0),c.map(eI.transform(u)).filter(h=>h).forEach(d)}}var cZ});var WF=v0((due,tI)=>{function uZ(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],l=new n.Crypt32;try{let a;for(;a=l.next();){let f=new e(a);s.push(f.toString())}}finally{l.done()}return Array.from(new Set(s))}o(uZ,"all");process.platform!=="win32"?tI.exports.all=()=>[]:tI.exports.all=uZ});var eO=v0((yue,QF)=>{var _v=require("path").sep||"/";QF.exports=hZ;function hZ(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=_v+_v+n),s=s.replace(/^(.+)\|/,"$1:"),_v=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=_v+s),n+s}o(hZ,"fileUriToPath")});var sO=v0((Ev,iO)=>{var xI=require("fs"),Cv=require("path"),gZ=eO(),bv=Cv.join,nO=Cv.dirname,tO=xI.accessSync&&function(e){try{xI.accessSync(e)}catch{return!1}return!0}||xI.existsSync||Cv.existsSync,rO={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function mZ(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(rO).map(function(c){c in e||(e[c]=rO[c])}),e.module_root||(e.module_root=nO(__filename)),Cv.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,l,a,f;n<s;n++){l=bv.apply(null,e.try[n].map(function(c){return e[c]||c})),r.push(l);try{return a=e.path?t.resolve(l):t(l),e.path||(a.path=l),a}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw f=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(c){return e.arrow+c}).join(`
`)),f.tries=r,f}o(mZ,"bindings");iO.exports=Ev=mZ;Ev.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},l;Error.stackTraceLimit=10,Error.prepareStackTrace=function(f,c){for(var u=0,d=c.length;u<d;u++)if(l=c[u].getFileName(),l!==__filename)if(t){if(l!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var a="file://";return l.indexOf(a)===0&&(l=gZ(l)),l},"getFileName");Ev.getRoot=o(function(t){for(var r=nO(t),n;;){if(r==="."&&(r=process.cwd()),tO(bv(r,"package.json"))||tO(bv(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=bv(r,"..")}},"getRoot")});var lO=v0((_ue,aO)=>{"use strict";function oO(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(l=>l.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(oO,"validateParameter");function pZ(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(pZ,"hasOwnProperty");function yZ(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let l=0,a=0;l<t.length;++l,++a){let f=t[l],c=r[a];pZ(f,"default")&&c==null&&(c=f.default),f.type==="object"&&f.default!=null&&(c=Object.assign({},f.default,c)),f.name==="options"&&(typeof c=="function"||c==null)&&(c={}),oO(c,t,l)?n.push(c):a--}if(typeof arguments[arguments.length-1]!="function")return new Promise((l,a)=>{n.push((f,c)=>{if(f)return a(f);l(c)}),e.apply(this,n)});e.apply(this,n)}}o(yZ,"defineOperation");aO.exports={defineOperation:yZ,validateParameter:oO}});var _I=v0((Cue,uO)=>{"use strict";var l6=sO()("kerberos"),a6=l6.KerberosClient,fO=l6.KerberosServer,i3=lO().defineOperation,vZ=1,xZ=2,_Z=4,bZ=8,CZ=16,EZ=32,TZ=64,SZ=128,IZ=256,cO=0,wZ=9,AZ=6;a6.prototype.step=i3(a6.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);a6.prototype.wrap=i3(a6.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);a6.prototype.unwrap=i3(a6.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);fO.prototype.step=i3(fO.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var PZ=i3(l6.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),NZ=i3(l6.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),RZ=i3(l6.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:cO}},{name:"callback",type:"function",required:!1}]),kZ=i3(l6.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);uO.exports={initializeClient:RZ,initializeServer:kZ,principalDetails:NZ,checkPassword:PZ,GSS_C_DELEG_FLAG:vZ,GSS_C_MUTUAL_FLAG:xZ,GSS_C_REPLAY_FLAG:_Z,GSS_C_SEQUENCE_FLAG:bZ,GSS_C_CONF_FLAG:CZ,GSS_C_INTEG_FLAG:EZ,GSS_C_ANON_FLAG:TZ,GSS_C_PROT_READY_FLAG:SZ,GSS_C_TRANS_FLAG:IZ,GSS_C_NO_OID:cO,GSS_MECH_OID_KRB5:wZ,GSS_MECH_OID_SPNEGO:AZ}});var dO=v0((Eue,BZ)=>{BZ.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var gO=v0((Tue,hO)=>{"use strict";var DZ=require("dns"),LZ=_I(),CI=class CI{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=FZ(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function l(a,f,c){if(!a)return c();DZ.resolveCname(f,(u,d)=>{if(u)return c(u);Array.isArray(d)&&d.length>0&&(s.host=d[0]),c()})}o(l,"performGssapiCanonicalizeHostName"),l(this.canonicalizeHostName,this.host,a=>{if(a)return n(a);let f={};r!=null&&Object.assign(f,{user:t,password:r});let c=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;LZ.initializeClient(c,f,(u,d)=>{if(u)return n(u,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(CI,"MongoAuthProcess");var bI=CI;function FZ(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=OZ(e),r(null,s)})}}o(FZ,"firstTransition");function OZ(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=MZ(e),r(null,s||"")})}}o(OZ,"secondTransition");function MZ(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(l,a)=>{if(l)return r(l,!1);e._transition=UZ(e),r(null,a)})})}}o(MZ,"thirdTransition");function UZ(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(UZ,"fourthTransition");hO.exports={MongoAuthProcess:bI}});var pO=v0((Iue,r7)=>{"use strict";var mO=_I();r7.exports=mO;r7.exports.Kerberos=mO;r7.exports.version=dO().version;r7.exports.processes={MongoAuthProcess:gO().MongoAuthProcess}});var _u=Ai($l()),AC=Ai(rA()),cR=Ai(Kg());var nA=Ai(require("crypto"));var tm=new Uint8Array(256),em=tm.length;function q_(){return em>tm.length-16&&(nA.default.randomFillSync(tm),em=0),tm.slice(em,em+=16)}o(q_,"rng");var Ja=[];for(let e=0;e<256;++e)Ja.push((e+256).toString(16).slice(1));function iA(e,t=0){return Ja[e[t+0]]+Ja[e[t+1]]+Ja[e[t+2]]+Ja[e[t+3]]+"-"+Ja[e[t+4]]+Ja[e[t+5]]+"-"+Ja[e[t+6]]+Ja[e[t+7]]+"-"+Ja[e[t+8]]+Ja[e[t+9]]+"-"+Ja[e[t+10]]+Ja[e[t+11]]+Ja[e[t+12]]+Ja[e[t+13]]+Ja[e[t+14]]+Ja[e[t+15]]}o(iA,"unsafeStringify");var sA=Ai(require("crypto")),$_={randomUUID:sA.default.randomUUID};function Hq(e,t,r){if($_.randomUUID&&!t&&!e)return $_.randomUUID();e=e||{};let n=e.random||(e.rng||q_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return iA(n)}o(Hq,"v4");var P2=Hq;var j_=class j_ extends Error{constructor(t){super(t),this.name="CopilotAuthError"}};o(j_,"CopilotAuthError");var h1=j_;var yp=Ai(lc());var k2="github.copilot";var Pf=Ai(lc());var V_=class V_{now(){return new Date}};o(V_,"Clock");var B2=V_;var hP=Ai(qm());var K_=class K_{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(K_,"LRUCacheMap");var Os=K_;var $m=class $m{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return gP(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new $m({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o($m,"ExpConfig");var g1=$m;var _8=Ai(PN(),1),r0e={ALPN_HTTP2:_8.default.ALPN_HTTP2,ALPN_HTTP2C:_8.default.ALPN_HTTP2C,ALPN_HTTP1_1:_8.default.ALPN_HTTP1_1,ALPN_HTTP1_0:_8.default.ALPN_HTTP1_0},{fetch:n0e,context:NN,reset:i0e,noCache:s0e,h1:o0e,keepAlive:a0e,h1NoCache:l0e,keepAliveNoCache:f0e,cacheStats:c0e,clearCache:u0e,offPush:d0e,onPush:h0e,createUrl:g0e,timeoutSignal:m0e,Body:p0e,Headers:y0e,Request:v0e,Response:x0e,AbortController:RN,AbortError:kN,AbortSignal:_0e,FetchBaseError:b0e,FetchError:ah,ALPN_HTTP2:C0e,ALPN_HTTP2C:E0e,ALPN_HTTP1_1:T0e,ALPN_HTTP1_0:S0e}=_8.default;var DN=Ai(require("util")),LN=require("util");var Mb=class Mb{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(Mb,"HeaderContributors");var q2=Mb;var $b=class $b{set rejectUnauthorized(t){this._rejectUnauthorized=t}get rejectUnauthorized(){return this._rejectUnauthorized}};o($b,"Fetcher");var Pa=$b;function Ub(e){return e instanceof kN||e.name==="AbortError"||e instanceof ah&&e.code==="ABORT_ERR"}o(Ub,"isAbortError");var Hb=class Hb extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(Hb,"JsonParseError");var b8=Hb,jb=class jb extends Error{constructor(r){super(`HTTP ${r.status} ${r.statusText}`);this.name="FetchResponseError",this.code=`HTTP${r.status}`}};o(jb,"FetchResponseError");var $2=jb,Dj=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE"]);function FN(e){var t;return e instanceof ah||e instanceof Error&&e.name==="FetchError"||e instanceof b8||e instanceof $2||e instanceof Error&&Dj.has(e.code)||((t=e==null?void 0:e.message)==null?void 0:t.startsWith("net::"))}o(FN,"isNetworkError");var Vb=class Vb{constructor(t,r,n,s,l,a){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=l;this.getJson=a;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new b8(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let l=new LN.TextEncoder().encode(t).length,a=this.headers.get("content-length");throw a===null?new b8(`Response body truncated: actualLength=${l}`,"Truncated"):new b8(`Response body truncated: actualLength=${l}, headerLength=${a}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(Vb,"Response");var up=Vb,Lj=30*1e3;function qb(e,t,r,n,s,l,a){let f={Authorization:DN.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(ia).sessionId,"VScode-MachineId":e.get(ia).machineId,...zb(e)};e.get(q2).contributeHeaders(t,f),n&&(f["OpenAI-Intent"]=n);let c={method:"POST",headers:f,json:l,timeout:Lj},u=e.get(Pa);if(a){let h=u.makeAbortController();a.onCancellationRequested(()=>{Ui(e,"networking.cancelRequest",hs.createAndMarkAsIssued({headerRequestId:s})),h.abort()}),c.signal=h.signal}return u.fetch(t,c).catch(h=>{if(h.code=="ECONNRESET"||h.code=="ETIMEDOUT"||h.code=="ERR_HTTP2_INVALID_SESSION"||h.message=="ERR_HTTP2_GOAWAY_SESSION")return Ui(e,"networking.disconnectAll"),u.disconnectAll().then(()=>u.fetch(t,c));throw h})}o(qb,"postRequest");var Gb=class Gb{};o(Gb,"ExpConfigMaker");var H2=Gb,Fj="https://default.exp-tas.com",Kb=class Kb extends H2{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var u;let s=r.get(Pa),l;try{l=await s.fetch(Fj+this.expPath,{method:"GET",headers:n})}catch(d){return g1.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!l.ok)return g1.createFallbackConfig(r,`ExP responded with ${l.status}`);let a;try{a=await l.json()}catch(d){if(d instanceof SyntaxError)return Af(r,d,"fetchExperiments"),g1.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let f=(u=a.Configs.find(d=>d.Id==="vscode"))!=null?u:{Id:"vscode",Parameters:{}},c=Object.entries(f.Parameters).map(([d,h])=>d+(h?"":"cf"));return new g1(f.Parameters,a.AssignmentContext,c.join(";"))}};o(Kb,"ExpConfigFromTAS");var dp=Kb;var Oj={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},hp=class hp{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=Oj[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new hp({...this.filters,[t]:r})}};o(hp,"FilterSettings");var j2=hp;var Yb=class Yb{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(Yb,"GranularityImplementation");var gp=Yb,Xb=class Xb extends gp{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(Xb,"ConstantGranularity");var Wb=Xb,ON=o(e=>new Wb(e),"DEFAULT_GRANULARITY"),Jb=class Jb extends gp{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),l=this.getUpcomingByCallBucketStrings();for(let a of s)for(let f of l)n.push(this.prefix+a+f);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(Jb,"TimeBucketGranularity");var mp=Jb;var MN="X-Copilot-ClientTimeBucket",Zb=class Zb{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=ON(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new mp(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(MN,n),otherFilterSettingsToPrefetch:s.map(l=>t.withChange(MN,l))}}};o(Zb,"GranularityDirectory");var pp=Zb;var tC=class tC{constructor(t){this.ctx=t;this.cache=new Os(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new eC(()=>this.ctx.get(H2).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(tC,"FilterSettingsToExpConfigs");var Qb=tC,rC=class rC{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(rC,"Task");var eC=rC,xu=class xu{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new Qb(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:l,customModel:a},f){var I,A;if(f instanceof lh)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let c={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":a,"X-Copilot-RetrievalOrg":l},u=this.getGranularityDirectory(),d=this.makeFilterSettings(c),h=u.extendFilters(d),p=await this.getExpConfig(h.newFilterSettings);u.update(d,+((I=p.variables.copilotbycallbuckets)!=null?I:NaN),+((A=p.variables.copilottimeperiodsizeinh)!=null?A:NaN));let m=u.extendFilters(d),v=m.newFilterSettings,x=await this.getExpConfig(v),E=new Promise(L=>setTimeout(L,xu.upcomingDynamicFilterCheckDelayMs));for(let L of m.otherFilterSettingsToPrefetch)E=E.then(async()=>{await new Promise(D=>setTimeout(D,xu.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(L)});return this.prepareForUpcomingFilters(v),new lh(f.properties,f.measurements,f.issuedTime,{filters:v,exp:x})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(ia).machineId;this.granularityDirectory=new pp(t,this.ctx.get(B2))}return this.granularityDirectory}makeFilterSettings(t){return new j2({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return g1.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-xu.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,xu.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new j2({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}requestMultilineExploration(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultilineexploration)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:Pf.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return Pf.NeighboringTabsOption.None;case"conservative":return Pf.NeighboringTabsOption.Conservative;case"medium":return Pf.NeighboringTabsOption.Medium;case"eager":return Pf.NeighboringTabsOption.Eager;case"eagerbutlittle":return Pf.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return Pf.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return Pf.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return Pf.NeighboringTabsOption.RetrievalComparable;default:return Pf.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}hybridInference(t){var r;return(r=t.filtersAndExp.exp.variables.hybridinference)!=null?r:!1}hybridInferenceThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.hybridinferencethreshold)!=null?r:-100)/100}requestMultiOnNewLine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultionnewline)!=null?r:!1}requestMultiModel(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultimodel)!=null?r:!1}requestMultiModelThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.copilotrequestmultimodelthreshold)!=null?r:100)/100}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}useLanguageDetection(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlanguagedetection)!=null?r:!1}defaultCommentMarker(t){var s,l;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(l=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?l:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}};o(xu,"Features"),xu.upcomingDynamicFilterCheckDelayMs=20,xu.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var Js=xu;var iC=nC(),Sl={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:["editor","showEditorCompletions"],EnableAutoCompletions:["editor","enableAutoCompletions"],DelayCompletions:["editor","delayCompletions"],FilterCompletions:["editor","filterCompletions"],DisplayStyle:["advanced","displayStyle"],SecretKey:["advanced","secret_key"],SolutionLength:["advanced","length"],Stops:["advanced","stops"],Temperature:["advanced","temperature"],TopP:["advanced","top_p"],IndentationMode:["advanced","indentationMode"],InlineSuggestCount:["advanced","inlineSuggestCount"],ListCount:["advanced","listCount"],DebugOverrideCapiUrl:["advanced","debug.overrideCapiUrl"],DebugTestOverrideCapiUrl:["advanced","debug.testOverrideCapiUrl"],DebugOverrideProxyUrl:["advanced","debug.overrideProxyUrl"],DebugTestOverrideProxyUrl:["advanced","debug.testOverrideProxyUrl"],DebugOverrideEngine:["advanced","debug.overrideEngine"],DebugShowScores:["advanced","debug.showScores"],DebugOverrideLogLevels:["advanced","debug.overrideLogLevels"],DebugFilterLogCategories:["advanced","debug.filterLogCategories"],DebugSnippyOverrideUrl:["advanced","debug.codeRefOverrideUrl"],DebugUseElectronFetcher:["advanced","debug.useElectronFetcher"],DebugUseEditorFetcher:["advanced","debug.useEditorFetcher"]};var sC=class sC{};o(sC,"BlockModeConfig");var C8=sC,oC=class oC extends C8{async forLanguage(t,r,n){if(t.get(fc).isDefaultSettingOverwritten(Sl.IndentationMode))switch(t.get(fc).getLanguageConfig(Sl.IndentationMode,r)){case"client":case!0:case"server":return"server";case"clientandserver":return UN("parsingandserver",r);default:return"parsing"}let s=t.get(Js).overrideBlockMode(n);return s?UN(s,r):r=="ruby"?"parsing":(0,yp.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(oC,"ConfigBlockModeConfig");var vp=oC;function UN(e,t){switch(e){case"parsing":return(0,yp.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,yp.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(UN,"toApplicableBlockMode");var aC=class aC{};o(aC,"ConfigProvider");var fc=aC,lC=class lC extends fc{getConfig(t){return Array.isArray(t)?jj(t[0],t[1]):Hj(t)}isDefaultSettingOverwritten(t){return!1}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(lC,"DefaultsOnlyConfigProvider");var xp=lC;function Hj(e){try{let t=iC.contributes.configuration[0].properties[`${k2}.${e}`].default;if(t===void 0)throw new Error(`Missing config default value: ${k2}.${e}`);return t}catch(t){throw new Error(`Error inspecting config default value ${k2}.${e}: ${t}`)}}o(Hj,"getConfigDefaultForKey");function jj(e,t){try{let r=iC.contributes.configuration[0].properties[`${k2}.${e}`].properties[t].default;if(r===void 0)throw new Error(`Missing config default value: ${k2}.${e}`);return r}catch(r){throw new Error(`Error inspecting config default value ${k2}.${e}.${t}: ${r}`)}}o(jj,"getConfigDefaultForObjectKey");function Nf(e,t){return e.get(fc).getConfig(t)}o(Nf,"getConfig");function qN(e){return e.get(fc).dumpForTelemetry()}o(qN,"dumpForTelemetry");function $N(e,t,r){return e.get(fc).getLanguageConfig(t,r)}o($N,"getLanguageConfig");var fC=class fC{constructor(){this.packageJson=iC}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o(fC,"BuildInfo");var Il=fC;function HN(e){return e.get(Il).isProduction()}o(HN,"isProduction");function jN(e){return e.get(Il).getBuildType()}o(jN,"getBuildType");function VN(e){return e.get(Il).getBuild()}o(VN,"getBuild");function zN(e){return e.get(Il).getVersion()}o(zN,"getVersion");var cC=class cC{constructor(t,r){this.sessionId=t;this.machineId=r}};o(cC,"EditorSession");var ia=cC;function cc({name:e,version:t}){return`${e}/${t}`}o(cc,"formatNameAndVersion");var uC=class uC{};o(uC,"EditorAndPluginInfo");var Na=uC;function zb(e){let t=e.get(Na);return{"Editor-Version":cc(t.getEditorInfo()),"Editor-Plugin-Version":cc(t.getEditorPluginInfo())}}o(zb,"editorVersionHeaders");var _p=Ai(qm()),bp=Ai(require("os"));var Vj=require("events"),dC=class dC extends Vj{constructor(){super(),this.setMaxListeners(13)}emit(t,r,n){return super.emit(t,r,n)}};o(dC,"CopilotTokenNotifier");var wl=dC;var hC=class hC{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(wl).on("onCopilotToken",r=>{var u;let n=r.getTokenValue("rt")==="1",s=(u=r.getTokenValue("ft"))!=null?u:"",l=r.getTokenValue("tid"),a=r.organization_list,f=r.enterprise_list,c=r.getTokenValue("sku");l!==void 0&&(this.trackingId=l,this.organizationsList=a==null?void 0:a.toString(),this.enterpriseList=f==null?void 0:f.toString(),this.sku=c,this.optedIn=n,this.ftFlag=s)})}};o(hC,"TelemetryUserConfig");var gl=hC;var zj=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function Gj(e){var n,s,l,a,f,c;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let u of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=u.match(zj),h={filename:"",function:""};d&&(h.function=(a=(l=(s=d[2])==null?void 0:s.trim())==null?void 0:l.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?a:h.function,h.filename=(c=(f=d[4])==null?void 0:f.trim())!=null?c:h.filename,d[5]&&d[5]!==":0"&&(h.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(h.colno=d[6].slice(1)),h.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(h.filename)),t.stacktrace.push(h)}}return t}o(Gj,"buildExceptionDetail");function Kj(e,t){var a,f;let r=e.get(Na),n=r.getEditorInfo(),s=e.get(gl),l={"#editor":(a=n.devName)!=null?a:n.name,"#editor_version":cc({name:(f=n.devName)!=null?f:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":cc(r.getEditorPluginInfo()),"#session_id":e.get(ia).sessionId,"#machine_id":e.get(ia).machineId,"#architecture":bp.arch(),"#os_platform":bp.platform(),...t};return s.trackingId&&(l.user=s.trackingId,l["#tracking_id"]=s.trackingId),l}o(Kj,"buildContext");function GN(e,t){var u;let r=e.get(Il),n=e.get(Na).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotIDEAgent",context:Kj(e,{"#node_version":process.versions.node}),sensitive_context:{}},l=[];s.exception_detail=[];let a=0,f=t;for(;f instanceof Error&&a<10;){let d=Gj(f);s.exception_detail.unshift(d),l.unshift([f,d]),a+=1,f=f.cause}let c=[];for(let[d,h]of l)if(h.stacktrace&&h.stacktrace.length>0){c.push(`${h.type}: ${(u=d.code)!=null?u:""}`);let p=[...h.stacktrace].reverse();for(let m of p)if(m.in_app){c.push(`${m.filename}:${m.lineno}:${m.colno}`);break}c.push(`${p[0].filename}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,_p.SHA256)(_p.enc.Utf16.parse(c.join(`
`))).toString()),s}o(GN,"buildPayload");var Cp=class Cp{constructor(t){this.flags=t}static fromEnvironment(t){return new Cp({debug:Yj(process.argv,process.env),verboseLogging:Xj(process.env),telemetryLogging:Jj(process.env),testMode:t,recordInput:Zj(process.argv,process.env)})}};o(Cp,"RuntimeMode");var V2=Cp;function E8(e){return e.get(V2).flags.testMode}o(E8,"isRunningInTest");function fh(e){return E8(e)}o(fh,"shouldFailForDebugPurposes");function KN(e){return e.get(V2).flags.verboseLogging}o(KN,"isVerboseLoggingEnabled");function Yj(e,t){return e.includes("--debug")||Ep(t,"GITHUB_COPILOT_DEBUG")}o(Yj,"determineDebugFlag");function Xj(e){return Ep(e,"COPILOT_AGENT_VERBOSE")}o(Xj,"determineVerboseLoggingEnabled");function Jj(e){return Ep(e,"COPILOT_LOG_TELEMETRY")}o(Jj,"determineTelemetryLoggingEnabled");function Zj(e,t){return e.includes("--record")||Ep(t,"GITHUB_COPILOT_RECORD")}o(Zj,"determineRecordInput");function Ep(e,t){if(t in e){let r=e[t];return r==="1"||(r==null?void 0:r.toLowerCase())==="true"}return!1}o(Ep,"determineEnvFlagEnabled");var QN=Ai(YN()),eR=Ai(JN()),uc=Ai(require("os"));var Al=(s=>(s[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s))(Al||{}),gC=class gC{constructor(t){this.logVerbose=t}};o(gC,"LogVerbose");var T8=gC;function ZN(e){return e.get(T8).logVerbose}o(ZN,"verboseLogging");var mC=class mC{shouldLog(t,r){}};o(mC,"LogTarget");var S8=mC,pC=class pC extends S8{constructor(r){super();this.console=r}logIt(r,n,s,...l){n==3?this.console.error(s,...l):(n==2||ZN(r))&&this.console.warn(s,...l)}};o(pC,"ConsoleLog");var Ip=pC;var yC=class yC{constructor(t,r){this.minLoggedLevel=t,this.context=r}setLevel(t){this.minLoggedLevel=t}stringToLevel(t){return Al[t]}log(t,r,...n){let s=t.get(S8),l=s.shouldLog(t,r);if(l===!1||l===void 0&&!this.shouldLog(t,r,this.context))return;let a=`[${this.context}]`;s.logIt(t,r,a,...n)}sendErrorTelemetry(t,r,n){ch(t,r,hs.createAndMarkAsIssued({context:this.context,level:Al[3],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var f,c;if(ZN(t))return!0;let s=Nf(t,Sl.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if(HN(t))return r>=this.minLoggedLevel;let l=Nf(t,Sl.DebugOverrideLogLevels),a=(c=(f=this.stringToLevel(l["*"]))!=null?f:this.stringToLevel(l[this.context]))!=null?c:this.minLoggedLevel;return r>=a}debug(t,...r){this.log(t,0,...r)}info(t,...r){this.log(t,1,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,3,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),Af(t,r,n);let l=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,3,`${s}:`,l)}};o(yC,"Logger");var _s=yC;var z2=new _s(1,"default");var xC=class xC{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var l;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(l=t.headers)!=null?l:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data};this.ctx.get(Pa).fetch(t.urlString,s).then(a=>a.text().then(f=>{r(a.status,a.headers,f)})).catch(a=>{z2.error(this.ctx,"Error sending telemetry",a),r(0,{})})}};this.client=new eR.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(O5).getUrl(),extensionConfig:{[QN.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=Qj(t),this.commonProperties=eV(t),t.get(wl).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:[this.tags],data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(wl).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,1)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(xC,"AppInsightsReporter");var I8=xC;function Qj(e){let t={},r=e.get(ia);t["ai.session.id"]=r.sessionId;let n=e.get(gl);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${uc.type()} ${uc.release()}`,t["ai.device.osArchitecture"]=uc.arch(),t["ai.device.osPlatform"]=uc.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Il).getVersion(),t}o(Qj,"getTags");function eV(e){let t={};t.common_os=uc.platform(),t.common_platformversion=uc.release();let r=e.get(ia);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(eV,"getCommonProperties");var tR="7d7048df-6dd0-4048-bb23-b716c1461f8f",rR="3fdd7f28-937a-48c8-9a21-ba337db23bd1",tV="f0000000-0000-0000-0000-000000000000";async function _C(e,t,r){let n=e.get(Rf).deactivate();if(r){let s=e.get(Rf);s.setReporter(new I8(e,t,tR)),s.setRestrictedReporter(new I8(e,t,rR)),s.setFTReporter(new I8(e,t,tV,!0))}await n}o(_C,"setupTelemetryReporters");var bC=class bC{async register(t){return t}};o(bC,"PromiseQueue");var sf=bC,CC=class CC extends sf{constructor(){super(...arguments);this.promises=[]}async register(r){return this.promises.push(r),r}async awaitPromises(){await Promise.all(this.promises)}};o(CC,"TestPromiseQueue");var wp=CC;var EC=class EC{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(EC,"FailingTelemetryReporter");var uh=EC;var sR=require("os"),oR=Ai(require("path"));function dh(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(dh,"redactPaths");var rV=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),nV=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function SC(e){if(rV.has(e))return e;for(let t of nV)if(t.test(e))return e;return dh(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(SC,"redactMessage");function Ap(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(Ap,"escapeForRegExp");var iV=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+Ap((0,sR.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function TC(e){return e.replace(iV,"~")}o(TC,"redactHomeDir");var aR="[\\\\/]?([^:)]*)(?=:\\d)",nR=new RegExp(Ap(oR.sep),"g"),iR=new RegExp(Ap(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+aR,"gi");function IC(e,t,r=!1,n=[]){var f;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let l=(f=e.stack)==null?void 0:f.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),a;for(let c of[e.toString(),`${e.name}: ${e.message}`])if(l!=null&&l.startsWith(c+`
`)){a=l.slice(c.length+1).split(/\n/);break}if(a){s.stack=s.toString();for(let c of a)if(iR.test(c))s.stack+=`
${dh(c.replace(iR,(u,d)=>d.replace(nR,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(c))s.stack+=`
${dh(c)}`;else{let u=!1;for(let{prefix:d,path:h}of n){let p=new RegExp(Ap(h.replace(/[\\/]$/,""))+aR,"gi");if(p.test(c)){s.stack+=`
${dh(c.replace(p,(m,v)=>d+v.replace(nR,"/")))}`,u=!0;break}}if(u)continue;r?s.stack+=`
${TC(c)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&l&&(s.stack=TC(l));return e.cause instanceof Error&&(s.cause=IC(e.cause,t,r,n)),s}o(IC,"cloneError");function lR(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(lR,"errorMessageWithoutPath");function fR(e,t){return IC(e,o(function(n){return TC(lR(n))},"prepareMessage"),!0,t)}o(fR,"prepareErrorForRestrictedTelemetry");function wC(e,t,r=!1){return IC(e,o(function(s){if(r)return SC(lR(s));let l="[redacted]";return s.syscall&&s.code!==void 0?l=`${dh(s.syscall.toString())} ${s.code} ${l}`:s instanceof ah&&s.erroredSysCall&&s.code!==void 0?l=`${s.erroredSysCall} ${s.code} ${l}`:s.code!==void 0&&(l=`${s.code} ${l}`),l},"prepareMessage"),!1,t)}o(wC,"redactError");function w8(e){return e===1}o(w8,"isRestricted");var sV=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var RC=class RC{getReporter(t,r=0){return w8(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(Np(t))return this.reporterRestricted;if(fh(t))return new uh}getFTReporter(t){if(uR(t))return this.reporterFT;if(fh(t))return new uh}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(RC,"TelemetryReporters");var Rf=RC;cR.TypeSystemPolicy.AllowNaN=!0;var oV=_u.Type.Object({},{additionalProperties:_u.Type.String()}),aV=_u.Type.Object({meanLogProb:_u.Type.Optional(_u.Type.Number()),meanAlternativeLogProb:_u.Type.Optional(_u.Type.Number())},{additionalProperties:_u.Type.Number()}),lV=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function fV(e){var t;return lV.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(fV,"isOomError");function cV(e){return FN(e)?"network":fV(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(cV,"getErrorType");var pa=class pa{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new pa(t||{},r||{},M5())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},l=new pa(n,s,this.issuedTime);return l.displayedTime=this.displayedTime,l}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=M5())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Js).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=cc(t.get(Na).getEditorInfo()),this.properties.editor_plugin_version=cc(t.get(Na).getEditorPluginInfo());let r=t.get(ia);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${zN(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(Na);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=cc(n.getEditorInfo());let s=t.get(Pa);this.properties.fetcher=s.name;let l=s.proxySettings;this.properties.proxy_enabled=l?"true":"false",this.properties.proxy_auth=l!=null&&l.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=l!=null&&l.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=qN(t);r["copilot.build"]=VN(t),r["copilot.buildType"]=jN(t);let n=t.get(gl);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(w8(t))return r;let n={};for(let s in r)pa.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=pa.sanitizeKeys(this.properties),this.measurements=pa.sanitizeKeys(this.measurements)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=pa.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateTimeSinceIssuedAndDisplayed(){let t=M5()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=M5()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}}validateData(t,r){var s;let n;if(pa.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...pa.validateTelemetryProperties.Errors(this.properties)])}),!pa.validateTelemetryMeasurements.Check(this.measurements)){let l=JSON.stringify([...pa.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:l}:(n.problem="both",n.error+=`; ${l}`)}if(n===void 0)return!0;if(fh(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return ch(t,"invalidTelemetryData",pa.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),w8(r)&&ch(t,"invalidTelemetryData_in_secure",pa.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateTimeSinceIssuedAndDisplayed(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),pV(t,this.properties)}};o(pa,"TelemetryData"),pa.validateTelemetryProperties=AC.TypeCompiler.Compile(oV),pa.validateTelemetryMeasurements=AC.TypeCompiler.Compile(aV),pa.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],pa.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var hs=pa,hh=class hh extends hs{constructor(r,n,s,l){super(r,n,s);this.filtersAndExp=l}extendedBy(r,n){let s={...this.properties,...r},l={...this.measurements,...n},a=new hh(s,l,this.issuedTime,this.filtersAndExp);return a.displayedTime=this.displayedTime,a}async extendWithExpTelemetry(r){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new hh({},{},0,{filters:new j2({}),exp:g1.createEmptyConfig()})}};o(hh,"TelemetryWithExp");var lh=hh;function Pp(e,t,r,n){var s;(s=e.get(Rf).getReporter(e,t))==null||s.sendTelemetryEvent(r,hs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(Pp,"sendTelemetryEvent");function uV(e,t,r,n){var s;(s=e.get(Rf).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,hs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(uV,"sendTelemetryErrorEvent");function dV(e,t,r,n){var s;(s=e.get(Rf).getFTReporter(e))==null||s.sendTelemetryEvent(r,hs.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(dV,"sendFTTelemetryEvent");function NC(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(NC,"telemetrizePromptLength");function M5(){return new Date().getTime()}o(M5,"now");var hV="https://copilot-telemetry.githubusercontent.com/telemetry",kC=class kC{constructor(t=hV){this.url=t}getUrl(){return this.url}setUrlForTesting(t){this.url=t}};o(kC,"TelemetryEndpointUrl");var O5=kC;function Np(e){return e.get(gl).optedIn}o(Np,"shouldSendRestricted");function uR(e){return e.get(gl).ftFlag!==""}o(uR,"shouldSendFinetuningTelemetry");async function Ui(e,t,r,n){await e.get(sf).register(gV(e,t,r,n))}o(Ui,"telemetry");async function gV(e,t,r,n=0){let s=r||hs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!w8(n)||Np(e))&&Pp(e,n,t,s),w8(n)&&sV.includes(t)&&uR(e)&&dV(e,n,t,s)}o(gV,"_telemetry");async function gP(e,t){await e.get(sf).register(mV(e,t))}o(gP,"telemetryExpProblem");async function mV(e,t){let r="expProblem",n=hs.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),Pp(e,0,r,n)}o(mV,"_telemetryExpProblem");function pV(e,t){t.unique_id=P2();let r=e.get(Na);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=cc(r.getEditorInfo())}o(pV,"addRequiredProperties");var BC=class BC extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError"}};o(BC,"CopilotNonError");var PC=BC;async function Af(e,t,r,n,s){var a;let l;if(t instanceof Error){if(l=t,l.name==="Canceled"&&l.message==="Canceled"||l.name==="CodeExpectedError"||l instanceof h1)return}else if(l=new PC(t),(a=l.stack)!=null&&a.startsWith(`${l}
`)){let f=l.stack.slice(`${l}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(f[0])&&f.shift(),l.stack=`${l}
${f.join(`
`)}`}await e.get(sf).register(yV(e,l,r,n,s))}o(Af,"telemetryException");async function yV(e,t,r,n,s){var p,m;let l=e.get(Na).getEditorInfo(),a;l.root&&(a=[{prefix:`${l.name}:`,path:l.root}]);let f=wC(t,a),c=Np(e),u=cV(t),d=u==="exception",h=hs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(p=t.code)!=null?p:""}`,reason:f.stack||f.toString(),message:f.message,...n});if(await h.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let v of s.exception_detail)v.value&&(c?v.value=SC(v.value):v.value="[redacted]");if(s!=null||(s=GN(e,wC(t,a,c))),s.context={...s.context,"copilot_event.unique_id":h.properties.unique_id,"#restricted_telemetry":c?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(h.properties.errno=s.rollup_id),s.created_at=new Date(h.issuedTime).toISOString(),c){let v=fR(t,a),x=hs.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(m=t.code)!=null?m:""}`,reason:v.stack||v.toString(),message:v.message,...n});s.rollup_id!=="auto"&&(x.properties.errno=s.rollup_id),await x.makeReadyForSending(e,1,"IncludeExp"),x.properties.unique_id=h.properties.unique_id,h.properties.restricted_unique_id=x.properties.unique_id,Pp(e,1,`error.${u}`,x)}d&&(h.properties.failbot_payload=JSON.stringify(s)),Pp(e,0,`error.${u}`,h)}o(yV,"_telemetryException");async function ch(e,t,r,n){await e.get(sf).register(vV(e,t,r,n))}o(ch,"telemetryError");async function vV(e,t,r,n=0){if(w8(n)&&!Np(e))return;let s=r||hs.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),uV(e,n,t,s)}o(vV,"_telemetryError");async function dR(e,t,r,n,s){var a;let l=hs.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[f,c]of Object.entries(r.logprobs))l.properties["logprobs_"+f]=(a=JSON.stringify(c))!=null?a:"unset";l.extendWithRequestId(n),await Ui(e,"engine.completion",l,1)}o(dR,"logEngineCompletion");async function hR(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await Ui(e,"engine.prompt",s,1)}o(hR,"logEnginePrompt");var DC=class DC{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?Ui(t,"installed.reinstall"):Ui(t,"installed.new")}async handleUpgrade(t){Ui(t,"installed.upgrade")}async handleUninstall(t){Ui(t,"uninstalled")}};o(DC,"InstallationManager");var Rp=DC;var LC=class LC extends Rp{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(LC,"VsCodeUninstallationManager");var kp=LC;var TO=require("child_process");var kI=Ai(lc());var FC=class FC{constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(FC,"Context");var Bp=FC;var OC=class OC{};o(OC,"NotificationSender");var gh=OC;var Lre=wR(),zC=class zC{};o(zC,"UrlOpener");var mh=zC;var NV=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],GC=class GC{constructor(t){this.notifiedErrorCodes=[];t.get(wl).on("onCopilotToken",r=>{this.supportsSSC=r.getTokenValue("ssc")==="1"})}async notifyUser(t,r){NV.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){let n="https://gh.io/copilot-network-errors",s=this.certificateErrorMessage();new _s(3,"certificates").error(t,`${s} Please visit ${n} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t,s,n)}certificateErrorMessage(){return this.supportsSSC===void 0?"The proxy connection couldn't be established due to an untrusted custom certificate, or your Copilot license might not support their use.":this.supportsSSC?"Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.":"Your current Copilot license doesn't support proxy connections with custom certificates."}showCertificateWarningMessage(t,r,n){let s={title:"Learn more"};t.get(gh).showWarningMessage(r,s).then(l=>{(l==null?void 0:l.title)===s.title&&t.get(mh).open(n)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(GC,"UserErrorNotifier");var G2=GC;var KC=class KC{constructor(){this._cache=new Os(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(KC,"CompletionsCache");var P8=KC;var WC=class WC{constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(WC,"ContextualFilterManager");var N8=WC;var TW=Ai(lc()),SW=Ai(qm());var YC=class YC{async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(YC,"Debouncer");var Mp=YC;async function*AR(e,t){for await(let r of e)yield t(r)}o(AR,"asyncIterableMap");async function*PR(e,t){for await(let r of e)await t(r)&&(yield r)}o(PR,"asyncIterableFilter");var iE=Ai(lc()),zR=Ai(jR()),yh=require("path"),vh=Ai(eE());var VR=require("events");var KV="github.com",Ene=`https://${KV}`;var tE=class tE{};o(tE,"NetworkConfiguration");var K2=tE;var Fne=new _s(1,"auth");var rie=new _s(1,"auth"),rE=class rE{constructor(){this.tokenRefreshEventEmitter=new VR.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o(rE,"CopilotTokenManager");var ml=rE;async function GR(e){var s,l;let r=(s=(await e.get(ml).getCopilotToken(e,!1)).organization_list)!=null?s:[];return(l=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(a=>r.includes(a)))!=null?l:""}o(GR,"getUserKind");async function KR(e){var r;return(r=(await e.get(ml).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}o(KR,"getFtFlag");async function WR(e){var r;return(r=(await e.get(ml).getCopilotToken(e,!1)).getTokenValue("rag"))!=null?r:""}o(WR,"getRagFlag");function YR(e){var n;if(e===void 0||e===0)return"";let t=xh(e);if(t==="github/github")return t;let r=(n=WV(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}o(YR,"getDogFood");function xh(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(xh,"tryGetGitHubNWO");function WV(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(WV,"tryGetADONWO");async function sE(e,t){var u;let r=oE(e,t.uri),n=(u=xh(r))!=null?u:"",s=YR(r),l=await GR(e),a=await KR(e),f=await WR(e);return{repoNwo:n,userKind:l,dogFood:s,fileType:t.languageId,customModel:a,retrievalOrg:f}}o(sE,"getExPFilters");function oE(e,t){let r=vh.Utils.dirname(t);return YV(e,r)}o(oE,"extractRepoInfoInBackground");var YV=QV(aE,1e4);async function aE(e,t){var c;if(t.scheme!=="file")return;let r=await JV(e,t.fsPath);if(!r)return;let n=e.get(iE.FileSystem),s=(0,yh.join)(r,".git","config"),l;try{l=await n.readFileString(vh.URI.file(s))}catch{return}let a=(c=ZV(l))!=null?c:"",f=XV(a);return f===void 0?{baseFolder:r,url:a,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:a,...f}}o(aE,"extractRepoInfo");function XV(e){let t={};try{if(t=(0,zR.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(XV,"parseRepoUrl");async function JV(e,t){let r=t+"_add_to_make_longer",n=e.get(iE.FileSystem);for(;t.length>1&&t.length<r.length;){let s=(0,yh.join)(t,".git","config"),l=!1;try{await n.stat(vh.URI.file(s)),l=!0}catch{l=!1}if(l)return t;r=t,t=(0,yh.dirname)(t)}}o(JV,"getRepoBaseFolder");function ZV(e){var c;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,l,a,f=!1;for(let u of e.split(`
`))if(f&&l!==void 0){if(l+=u,u.endsWith("\\"))l=l.substring(0,l.length-1);else if(f=!1,a==="origin")return l}else{let d=(c=u.match(t))!=null?c:u.match(r);if(d)a=d[1];else if(u.match(s))a=void 0;else{if(l&&a!=="origin")continue;{let h=u.match(n);if(h){if(l=h[1],l.endsWith("\\"))l=l.substring(0,l.length-1),f=!0;else if(a==="origin")return l}}}}return l}o(ZV,"getRepoUrlFromConfigText");var lE=class lE{constructor(t){this.result=t}};o(lE,"CompletedComputation");var nE=lE;function QV(e,t){let r=new Os(t),n=new Set;return(s,...l)=>{let a=JSON.stringify(l),f=r.get(a);if(f)return f.result;if(n.has(a))return 0;let c=e(s,...l);return n.add(a),c.then(u=>{r.set(a,new nE(u)),n.delete(a)}),0}}o(QV,"computeInBackgroundAndMemoize");async function fE(e,t,r){if(t instanceof Up)return t;let n=e.get(Js);if(!r)try{let a=await sE(e,t);r=await n.updateExPValuesAndAssignments(a,hs.createAndMarkAsIssued())}catch(a){return a instanceof h1||z2.exception(e,a,"languageDetectionExperiment"),t}let s=n.useLanguageDetection(r),l=await e.get(dc).detectLanguage(t);return s?new Up(t,l):t}o(fE,"decorateDocumentWithDetectedLanguage");var cE=class cE{constructor(t,r){this.delegateDocument=t;this.overrideLanguage=r}get uri(){return this.delegateDocument.uri}get languageId(){return this.overrideLanguage.isGuess&&this.overrideLanguage.languageId==="unknown"?this.delegateDocument.languageId:this.overrideLanguage.languageId}get version(){return this.delegateDocument.version}get lineCount(){return this.delegateDocument.lineCount}getText(t){return this.delegateDocument.getText(t)}lineAt(t){return this.delegateDocument.lineAt(t)}positionAt(t){return this.delegateDocument.positionAt(t)}offsetAt(t){return this.delegateDocument.offsetAt(t)}};o(cE,"LanguageDetectionExperimentDocument");var Up=cE;var uE=class uE{};o(uE,"StatusReporter");var bu=uE;var XR="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var qp={isBlocked:!1,reason:"VALID_FILE"},U5={isBlocked:!1,reason:"NO_MATCHING_POLICY"},_h={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var dE=class dE{};o(dE,"PolicyEvaluator");var R8=dE;var lf=Ai($l());var $p=new WeakMap;function Hp(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,l=Object.prototype.toString.call(e);if(l!=="[object RegExp]"&&l!=="[object Date]"&&$p.has(e))return $p.get(e);switch($p.set(e,"~"+ ++t),l){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=Hp(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+Hp(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+Hp(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return $p.set(e,n),n}o(Hp,"t");function jp(e){return Hp(e,0)}o(jp,"r");var hE=new WeakMap;function JR(e,t,r=jp(t)){let n,s,l=hE.get(e);l||(hE.set(e,l=[[],s=[],n=[]]),queueMicrotask(function(){let u,d=0;function h(p){for(;u=n[d++];u.r(p));}o(h,"o"),hE.delete(e),e(s).then(function(p){if(p.length!==n.length)return h(new Error("loader value length mismatch"));for(;u=p[d++],d<=p.length;u instanceof Error?n[d-1].r(u):n[d-1].s(u));},h)}));let a=l[0].indexOf(r);if(~a)return l[2][a].p;let f=l[0].push(r)-1,c=l[2][f]={};return l[1][f]=t,c.p=new Promise(function(u,d){c.s=u,c.r=d})}o(JR,"n");var ZR=new WeakMap;function ez(e,t,r,n=jp(r)){if(t||(t=ZR.get(e)),t||ZR.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=JR(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(ez,"n");function Vp(e,t){return function(r,n){return ez(e,t,r,n)}}o(Vp,"o");var bk=Ai(uk(),1);var Ch=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var lz={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Eh=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),fz=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),dk=o(e=>e.join(""),"rangesToString"),hk=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],l=r+1,a=!1,f=!1,c=!1,u=!1,d=r,h="";e:for(;l<e.length;){let x=e.charAt(l);if((x==="!"||x==="^")&&l===r+1){u=!0,l++;continue}if(x==="]"&&a&&!c){d=l+1;break}if(a=!0,x==="\\"&&!c){c=!0,l++;continue}if(x==="["&&!c){for(let[E,[I,A,L]]of Object.entries(lz))if(e.startsWith(E,l)){if(h)return["$.",!1,e.length-r,!0];l+=E.length,L?s.push(I):n.push(I),f=f||A;continue e}}if(c=!1,h){x>h?n.push(Eh(h)+"-"+Eh(x)):x===h&&n.push(Eh(x)),h="",l++;continue}if(e.startsWith("-]",l+1)){n.push(Eh(x+"-")),l+=2;continue}if(e.startsWith("-",l+1)){h=x,l+=2;continue}n.push(Eh(x)),l++}if(d<l)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let x=n[0].length===2?n[0].slice(-1):n[0];return[fz(x),!1,d-r,!1]}let p="["+(u?"^":"")+dk(n)+"]",m="["+(u?"":"^")+dk(s)+"]";return[n.length&&s.length?"("+p+"|"+m+")":n.length?p:m,f,d-r,!0]},"parseClass");var q5=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var cz=new Set(["!","?","+","*","@"]),gk=o(e=>cz.has(e),"isExtglobType"),uz="(?!(?:^|/)\\.\\.?(?:$|/))",zp="(?!\\.)",dz=new Set(["[","."]),hz=new Set(["..","."]),gz=new Set("().*{}+?[]^$\\!"),mz=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),yE="[^/]",mk=yE+"*?",pk=yE+"+?",ya,Ra,Cu,Bs,sa,$5,W2,H5,Eu,Y2,Th,Kp,yk,k8,Gp,Sh,pE,Wp,vk,Qa=class Qa{constructor(t,r,n={}){Yi(this,Kp);Yi(this,Sh);ta(this,"type");Yi(this,ya,void 0);Yi(this,Ra,void 0);Yi(this,Cu,!1);Yi(this,Bs,[]);Yi(this,sa,void 0);Yi(this,$5,void 0);Yi(this,W2,void 0);Yi(this,H5,!1);Yi(this,Eu,void 0);Yi(this,Y2,void 0);Yi(this,Th,!1);this.type=t,t&&Ji(this,Ra,!0),Ji(this,sa,r),Ji(this,ya,P0(this,sa)?P0(P0(this,sa),ya):this),Ji(this,Eu,P0(this,ya)===this?n:P0(P0(this,ya),Eu)),Ji(this,W2,P0(this,ya)===this?[]:P0(P0(this,ya),W2)),t==="!"&&!P0(P0(this,ya),H5)&&P0(this,W2).push(this),Ji(this,$5,P0(this,sa)?P0(P0(this,sa),Bs).length:0)}get hasMagic(){if(P0(this,Ra)!==void 0)return P0(this,Ra);for(let t of P0(this,Bs))if(typeof t!="string"&&(t.type||t.hasMagic))return Ji(this,Ra,!0);return P0(this,Ra)}toString(){return P0(this,Y2)!==void 0?P0(this,Y2):this.type?Ji(this,Y2,this.type+"("+P0(this,Bs).map(t=>String(t)).join("|")+")"):Ji(this,Y2,P0(this,Bs).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof Qa&&P0(r,sa)===this))throw new Error("invalid part: "+r);P0(this,Bs).push(r)}}toJSON(){var r;let t=this.type===null?P0(this,Bs).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...P0(this,Bs).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===P0(this,ya)||P0(P0(this,ya),H5)&&((r=P0(this,sa))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(P0(this,ya)===this)return!0;if(!((r=P0(this,sa))!=null&&r.isStart()))return!1;if(P0(this,$5)===0)return!0;let t=P0(this,sa);for(let n=0;n<P0(this,$5);n++){let s=P0(t,Bs)[n];if(!(s instanceof Qa&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(P0(this,ya)===this||((r=P0(this,sa))==null?void 0:r.type)==="!")return!0;if(!((n=P0(this,sa))!=null&&n.isEnd()))return!1;if(!this.type)return(s=P0(this,sa))==null?void 0:s.isEnd();let t=P0(this,sa)?P0(P0(this,sa),Bs).length:0;return P0(this,$5)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new Qa(this.type,t);for(let n of P0(this,Bs))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new Qa(null,void 0,r);return ul(s=Qa,k8,Gp).call(s,t,n,0,r),n}toMMPattern(){if(this!==P0(this,ya))return P0(this,ya).toMMPattern();let t=this.toString(),[r,n,s,l]=this.toRegExpSource();if(!(s||P0(this,Ra)||P0(this,Eu).nocase&&!P0(this,Eu).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let f=(P0(this,Eu).nocase?"i":"")+(l?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:t})}toRegExpSource(t){var c;let r=t!=null?t:!!P0(this,Eu).dot;if(P0(this,ya)===this&&ul(this,Kp,yk).call(this),!this.type){let u=this.isStart()&&this.isEnd(),d=P0(this,Bs).map(v=>{var L;let[x,E,I,A]=typeof v=="string"?ul(L=Qa,Wp,vk).call(L,v,P0(this,Ra),u):v.toRegExpSource(t);return Ji(this,Ra,P0(this,Ra)||I),Ji(this,Cu,P0(this,Cu)||A),x}).join(""),h="";if(this.isStart()&&typeof P0(this,Bs)[0]=="string"&&!(P0(this,Bs).length===1&&hz.has(P0(this,Bs)[0]))){let x=dz,E=r&&x.has(d.charAt(0))||d.startsWith("\\.")&&x.has(d.charAt(2))||d.startsWith("\\.\\.")&&x.has(d.charAt(4)),I=!r&&!t&&x.has(d.charAt(0));h=E?uz:I?zp:""}let p="";return this.isEnd()&&P0(P0(this,ya),H5)&&((c=P0(this,sa))==null?void 0:c.type)==="!"&&(p="(?:$|\\/)"),[h+d+p,q5(d),Ji(this,Ra,!!P0(this,Ra)),P0(this,Cu)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",l=ul(this,Sh,pE).call(this,r);if(this.isStart()&&this.isEnd()&&!l&&this.type!=="!"){let u=this.toString();return Ji(this,Bs,[u]),this.type=null,Ji(this,Ra,void 0),[u,q5(this.toString()),!1,!1]}let a=!n||t||r||!zp?"":ul(this,Sh,pE).call(this,!0);a===l&&(a=""),a&&(l=`(?:${l})(?:${a})*?`);let f="";if(this.type==="!"&&P0(this,Th))f=(this.isStart()&&!r?zp:"")+pk;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!t?zp:"")+mk+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;f=s+l+u}return[f,q5(l),Ji(this,Ra,!!P0(this,Ra)),P0(this,Cu)]}};ya=new WeakMap,Ra=new WeakMap,Cu=new WeakMap,Bs=new WeakMap,sa=new WeakMap,$5=new WeakMap,W2=new WeakMap,H5=new WeakMap,Eu=new WeakMap,Y2=new WeakMap,Th=new WeakMap,Kp=new WeakSet,yk=o(function(){if(this!==P0(this,ya))throw new Error("should only call on root");if(P0(this,H5))return this;this.toString(),Ji(this,H5,!0);let t;for(;t=P0(this,W2).pop();){if(t.type!=="!")continue;let r=t,n=P0(r,sa);for(;n;){for(let s=P0(r,$5)+1;!n.type&&s<P0(n,Bs).length;s++)for(let l of P0(t,Bs)){if(typeof l=="string")throw new Error("string part in extglob AST??");l.copyIn(P0(n,Bs)[s])}r=n,n=P0(r,sa)}}return this},"#fillNegs"),k8=new WeakSet,Gp=o(function(t,r,n,s){var m,v;let l=!1,a=!1,f=-1,c=!1;if(r.type===null){let x=n,E="";for(;x<t.length;){let I=t.charAt(x++);if(l||I==="\\"){l=!l,E+=I;continue}if(a){x===f+1?(I==="^"||I==="!")&&(c=!0):I==="]"&&!(x===f+2&&c)&&(a=!1),E+=I;continue}else if(I==="["){a=!0,f=x,c=!1,E+=I;continue}if(!s.noext&&gk(I)&&t.charAt(x)==="("){r.push(E),E="";let A=new Qa(I,r);x=ul(m=Qa,k8,Gp).call(m,t,A,x,s),r.push(A);continue}E+=I}return r.push(E),x}let u=n+1,d=new Qa(null,r),h=[],p="";for(;u<t.length;){let x=t.charAt(u++);if(l||x==="\\"){l=!l,p+=x;continue}if(a){u===f+1?(x==="^"||x==="!")&&(c=!0):x==="]"&&!(u===f+2&&c)&&(a=!1),p+=x;continue}else if(x==="["){a=!0,f=u,c=!1,p+=x;continue}if(gk(x)&&t.charAt(u)==="("){d.push(p),p="";let E=new Qa(x,d);d.push(E),u=ul(v=Qa,k8,Gp).call(v,t,E,u,s);continue}if(x==="|"){d.push(p),p="",h.push(d),d=new Qa(null,r);continue}if(x===")")return p===""&&P0(r,Bs).length===0&&Ji(r,Th,!0),d.push(p),p="",r.push(...h,d),u;p+=x}return r.type=null,Ji(r,Ra,void 0),Ji(r,Bs,[t.substring(n-1)]),u},"#parseAST"),Sh=new WeakSet,pE=o(function(t){return P0(this,Bs).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,l,a]=r.toRegExpSource(t);return Ji(this,Cu,P0(this,Cu)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),Wp=new WeakSet,vk=o(function(t,r,n=!1){let s=!1,l="",a=!1;for(let f=0;f<t.length;f++){let c=t.charAt(f);if(s){s=!1,l+=(gz.has(c)?"\\":"")+c;continue}if(c==="\\"){f===t.length-1?l+="\\\\":s=!0;continue}if(c==="["){let[u,d,h,p]=hk(t,f);if(h){l+=u,a=a||d,f+=h-1,r=r||p;continue}}if(c==="*"){n&&t==="*"?l+=pk:l+=mk,r=!0;continue}if(c==="?"){l+=yE,r=!0;continue}l+=mz(c)}return[l,q5(t),!!r,a]},"#parseGlob"),Yi(Qa,k8),Yi(Qa,Wp),o(Qa,"AST");var B8=Qa;var vE=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var el=o((e,t,r={})=>(Ch(t),!r.nocomment&&t.charAt(0)==="#"?!1:new D8(t,r).match(e)),"minimatch"),pz=/^\*+([^+@!?\*\[\(]*)$/,yz=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),vz=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),xz=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),_z=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),bz=/^\*+\.\*+$/,Cz=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),Ez=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),Tz=/^\.\*+$/,Sz=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),Iz=/^\*+$/,wz=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),Az=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),Pz=/^\?+([^+@!?\*\[\(]*)?$/,Nz=o(([e,t=""])=>{let r=Ck([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),Rz=o(([e,t=""])=>{let r=Ek([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),kz=o(([e,t=""])=>{let r=Ek([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),Bz=o(([e,t=""])=>{let r=Ck([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),Ck=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),Ek=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),Tk=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",xk={win32:{sep:"\\"},posix:{sep:"/"}},Dz=Tk==="win32"?xk.win32.sep:xk.posix.sep;el.sep=Dz;var Bf=Symbol("globstar **");el.GLOBSTAR=Bf;var Lz="[^/]",Fz=Lz+"*?",Oz="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Mz="(?:(?!(?:\\/|^)\\.).)*?",Uz=o((e,t={})=>r=>el(r,e,t),"filter");el.filter=Uz;var kf=o((e,t={})=>Object.assign({},e,t),"ext"),qz=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return el;let t=el;return Object.assign(o((l,a,f={})=>t(l,a,kf(e,f)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(a,f={}){super(a,kf(e,f))}static defaults(a){return t.defaults(kf(e,a)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(a,f,c={}){super(a,f,kf(e,c))}static fromGlob(a,f={}){return t.AST.fromGlob(a,kf(e,f))}},o(s,"AST"),s),unescape:(l,a={})=>t.unescape(l,kf(e,a)),escape:(l,a={})=>t.escape(l,kf(e,a)),filter:(l,a={})=>t.filter(l,kf(e,a)),defaults:l=>t.defaults(kf(e,l)),makeRe:(l,a={})=>t.makeRe(l,kf(e,a)),braceExpand:(l,a={})=>t.braceExpand(l,kf(e,a)),match:(l,a,f={})=>t.match(l,a,kf(e,f)),sep:t.sep,GLOBSTAR:Bf})},"defaults");el.defaults=qz;var Sk=o((e,t={})=>(Ch(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,bk.default)(e)),"braceExpand");el.braceExpand=Sk;var $z=o((e,t={})=>new D8(e,t).makeRe(),"makeRe");el.makeRe=$z;var Hz=o((e,t,r={})=>{let n=new D8(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");el.match=Hz;var _k=/[?*]|[+@!]\(.*?\)|\[|\]/,jz=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),xE=class xE{constructor(t,r={}){ta(this,"options");ta(this,"set");ta(this,"pattern");ta(this,"windowsPathsNoEscape");ta(this,"nonegate");ta(this,"negate");ta(this,"comment");ta(this,"empty");ta(this,"preserveMultipleSlashes");ta(this,"partial");ta(this,"globSet");ta(this,"globParts");ta(this,"nocase");ta(this,"isWindows");ta(this,"platform");ta(this,"windowsNoMagicRoot");ta(this,"regexp");Ch(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||Tk,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...l)=>console.error(...l)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(l=>this.slashSplit(l));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((l,a,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=l[0]===""&&l[1]===""&&(l[2]==="?"||!_k.test(l[2]))&&!_k.test(l[3]),u=/^[a-z]:/i.test(l[0]);if(c)return[...l.slice(0,4),...l.slice(4).map(d=>this.parse(d))];if(u)return[l[0],...l.slice(1).map(d=>this.parse(d))]}return l.map(c=>this.parse(c))});if(this.debug(this.pattern,s),this.set=s.filter(l=>l.indexOf(!1)===-1),this.isWindows)for(let l=0;l<this.set.length;l++){let a=this.set[l];a[0]===""&&a[1]===""&&this.globParts[l][2]==="?"&&typeof a[3]=="string"&&/^[a-z]:$/i.test(a[3])&&(a[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let l=n[n.length-1];return s==="**"&&l==="**"?n:s===".."&&l&&l!==".."&&l!=="."&&l!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let l=t[s];s===1&&l===""&&t[0]===""||(l==="."||l==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let a=s;for(;n[a+1]==="**";)a++;a>s&&n.splice(s+1,a-s);let f=n[s+1],c=n[s+2],u=n[s+3];if(f!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let a=1;a<n.length-1;a++){let f=n[a];a===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(a,1),a--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let l=0;for(;(l=n.indexOf("..",l+1))!==-1;){let a=n[l-1];if(a&&a!=="."&&a!==".."&&a!=="**"){r=!0;let c=l===1&&n[l+1]==="**"?["."]:[];n.splice(l-1,2,...c),n.length===0&&n.push(""),l-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,l=0,a=[],f="";for(;s<t.length&&l<r.length;)if(t[s]===r[l])a.push(f==="b"?r[l]:t[s]),s++,l++;else if(n&&t[s]==="**"&&r[l]===t[s+1])a.push(t[s]),s++;else if(n&&r[l]==="**"&&t[s]===r[l+1])a.push(r[l]),l++;else if(t[s]==="*"&&r[l]&&(this.options.dot||!r[l].startsWith("."))&&r[l]!=="**"){if(f==="b")return!1;f="a",a.push(t[s]),s++,l++}else if(r[l]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(f==="a")return!1;f="b",a.push(r[l]),s++,l++}else return!1;return t.length===r.length&&a}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let x=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),E=!x&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),I=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),A=!I&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),L=E?3:x?0:void 0,D=A?3:I?0:void 0;if(typeof L=="number"&&typeof D=="number"){let[k,$]=[t[L],r[D]];k.toLowerCase()===$.toLowerCase()&&(r[D]=k,D>L?r=r.slice(D):L>D&&(t=t.slice(L)))}}let{optimizationLevel:l=1}=this.options;l>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var a=0,f=0,c=t.length,u=r.length;a<c&&f<u;a++,f++){this.debug("matchOne loop");var d=r[f],h=t[a];if(this.debug(r,d,h),d===!1)return!1;if(d===Bf){this.debug("GLOBSTAR",[r,d,h]);var p=a,m=f+1;if(m===u){for(this.debug("** at the end");a<c;a++)if(t[a]==="."||t[a]===".."||!s.dot&&t[a].charAt(0)===".")return!1;return!0}for(;p<c;){var v=t[p];if(this.debug(`
globstar while`,t,p,r,m,v),this.matchOne(t.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,c,v),!0;if(v==="."||v===".."||!s.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,p,r,m),p===c))}let x;if(typeof d=="string"?(x=h===d,this.debug("string match",d,h,x)):(x=d.test(h),this.debug("pattern match",d,h,x)),!x)return!1}if(a===c&&f===u)return!0;if(a===c)return n;if(f===u)return a===c-1&&t[a]==="";throw new Error("wtf?")}braceExpand(){return Sk(this.pattern,this.options)}parse(t){Ch(t);let r=this.options;if(t==="**")return Bf;if(t==="")return"";let n,s=null;(n=t.match(Iz))?s=r.dot?Az:wz:(n=t.match(pz))?s=(r.nocase?r.dot?_z:xz:r.dot?vz:yz)(n[1]):(n=t.match(Pz))?s=(r.nocase?r.dot?Rz:Nz:r.dot?kz:Bz)(n):(n=t.match(bz))?s=r.dot?Ez:Cz:(n=t.match(Tz))&&(s=Sz);let l=B8.fromGlob(t,this.options).toMMPattern();return s?Object.assign(l,{test:s}):l}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Fz:r.dot?Oz:Mz,s=new Set(r.nocase?["i"]:[]),l=t.map(c=>{let u=c.map(d=>{if(d instanceof RegExp)for(let h of d.flags.split(""))s.add(h);return typeof d=="string"?jz(d):d===Bf?Bf:d._src});return u.forEach((d,h)=>{let p=u[h+1],m=u[h-1];d!==Bf||m===Bf||(m===void 0?p!==void 0&&p!==Bf?u[h+1]="(?:\\/|"+n+"\\/)?"+p:u[h]=n:p===void 0?u[h-1]=m+"(?:\\/|"+n+")?":p!==Bf&&(u[h-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,u[h+1]=Bf))}),u.filter(d=>d!==Bf).join("/")}).join("|"),[a,f]=t.length>1?["(?:",")"]:["",""];l="^"+a+l+f+"$",this.negate&&(l="^(?!"+l+").+$");try{this.regexp=new RegExp(l,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let l=this.set;this.debug(this.pattern,"set",l);let a=s[s.length-1];if(!a)for(let f=s.length-2;!a&&f>=0;f--)a=s[f];for(let f=0;f<l.length;f++){let c=l[f],u=s;if(n.matchBase&&c.length===1&&(u=[a]),this.matchOne(u,c,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return el.defaults(t).Minimatch}};o(xE,"Minimatch");var D8=xE;el.AST=B8;el.Minimatch=D8;el.escape=vE;el.unescape=q5;var KE=Ai(Qk());var _y=o((e,t)=>{if(KE.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...KE.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var eB=Ai(require("path")),tB=Ai(eE());async function by(e,t,r){let n=tB.Utils.dirname(r);if(t.has(r.fsPath))return t.get(r.fsPath);if(t.has(n.fsPath))return t.get(n.fsPath);let s=await aE(e,r);if(!(s!=null&&s.url)){t.set(r.fsPath,void 0);let l=eB.default.dirname(r.fsPath);t.set(l,void 0);return}return t.set(n.fsPath,s),t.set(r.fsPath,s),s}o(by,"cachedGitRepoInfo");var WE="contentExclusion",Ff,J2,Ey,M8,Ty,rB,Nh,Sy,nB,Rh,YE,XE=class XE extends R8{constructor(r){super();Yi(this,Ty);Yi(this,Sy);Yi(this,Rh);Yi(this,Ff,void 0);Yi(this,J2,new Os(1e4));Yi(this,Ey,new Os(1e4));Yi(this,M8,new Os(200));Yi(this,Nh,Vp(async r=>{let n=await P0(this,Ff).get(ml).getGitHubSession(P0(this,Ff));if(!n)throw new h1("No token found");let s=P0(this,Ff).get(K2).getContentRestrictionsUrl(n),l=new URL(s);l.searchParams.set("repos",r.join(","));let a=await P0(this,Ff).get(Pa).fetch(l.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),f=await a.json();if(!a.ok){if(a.status===404)return Array.from(r,()=>[]);throw ul(this,Rh,YE).call(this,"fetch.error",{message:f.message}),new $2(a)}return ul(this,Rh,YE).call(this,"fetch.success"),_y(JK,f).map(c=>c.rules)},P0(this,M8)));Ji(this,Ff,r)}async evaluate(r){let n=r.fsPath;if(P0(this,J2).has(n))return P0(this,J2).get(n);try{let l=await ul(this,Sy,nB).call(this,r);if(!l)return U5;let a=r.fsPath.replace(l.baseFolder,"");var s=await this.evaluateFileFromRepo(a,l.url)}catch(l){return Af(P0(this,Ff),l,`${WE}.evaluate`),_h}return P0(this,J2).set(n,s),s}async evaluateFileFromRepo(r,n){let s=await ul(this,Ty,rB).call(this,n);if(!s)return U5;for(let l of s)for(let a of l.paths)if(el(r,a,{nocase:!0,matchBase:!0,nonegate:!0}))return GK(l);return qp}async refresh(){try{let r=[...P0(this,M8).keys()];this.reset(),await Promise.all(r.map(n=>P0(this,Nh).call(this,n)))}catch(r){Af(P0(this,Ff),r,`${WE}.refresh`)}}reset(){P0(this,M8).clear(),P0(this,J2).clear()}};Ff=new WeakMap,J2=new WeakMap,Ey=new WeakMap,M8=new WeakMap,Ty=new WeakSet,rB=o(async function(r){let n=await P0(this,Nh).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),Nh=new WeakMap,Sy=new WeakSet,nB=o(function(r){return by(P0(this,Ff),P0(this,Ey),r)},"#getGitRepo"),Rh=new WeakSet,YE=o(function(r,n,s){Ui(P0(this,Ff),`${WE}.${r}`,hs.createAndMarkAsIssued(n,s))},"#telemetry"),o(XE,"CopilotContentRestrictions");var Cy=XE;function GK(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(GK,"fileBlockedEvaluationResult");var KK=lf.Type.Object({name:lf.Type.String(),type:lf.Type.Union([lf.Type.Literal("Organization"),lf.Type.Literal("Repository")])}),WK=lf.Type.Object({paths:lf.Type.Array(lf.Type.String()),source:KK}),YK=lf.Type.Array(WK),XK=lf.Type.Object({rules:YK,last_updated_at:lf.Type.String()}),JK=lf.Type.Array(XK);var oa=Ai($l());var ZE=class ZE extends R8{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new Os(200);this.urlToRepoInfoCache=new Os(1e4);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=Vp(async r=>{let n=new URL(XR),s=await this.ctx.get(ml).getGitHubToken(this.ctx);if(!s)throw new h1("No GitHub token found");let l=this.ctx.get(ia),a=this.ctx.get(Na),f=this.ctx.get(gl),c=this.ctx.get(Pa),u={trackingid:`${f.trackingId}`,githubtoken:`${s}`,machineid:`${l.machineId}`,sessionid:`${l.sessionId}`,extname:`${a.getEditorPluginInfo().name}`,extversion:`${a.getEditorPluginInfo().version}`},d=await c.fetch(n.href,{headers:u,method:"POST",json:{repos:r}});if(d.ok){let p=await d.json();return kh.debug(this.ctx,"repositoryControl.fetch","success"),Ui(this.ctx,"repositoryControl.fetch.success"),_y(rW,p).map(m=>m.rules)}kh.debug(this.ctx,"repositoryControl.fetch","error"),Ui(this.ctx,"repositoryControl.fetch.error");let h=new $2(d);throw Af(this.ctx,h,"repositoryControl.fetch"),h},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){Af(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,l=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){Ui(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:l},this.loaderWithRetry(r)}}async evaluate(r,n){try{let s=await by(this.ctx,this.urlToRepoInfoCache,r);if(!s)return U5;let l=await this.fetchRepositoryPolicy(s.url);return l==="POLICY_NOT_AVAILABLE"?_h:l==="NO_MATCHING_POLICY"?U5:this._evaluate(r,n,l)}catch(s){return Af(this.ctx,s,"repositoryControl.evaluate"),_h}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return JE(s);if(s.fileContent&&n){let l=s.fileContent.includes;if(n&&l&&l.length>0&&!new RegExp(l.join("|"),"i").test(n))return JE(s);let a=s.fileContent.excludes;if(n&&a&&a.length>0&&new RegExp(a.join("|"),"i").test(n))return JE(s)}return qp}};o(ZE,"CopilotRepositoryControl");var Iy=ZE;function JE(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(JE,"getBlockedRepoResponse");var ZK=oa.Type.Object({name:oa.Type.String(),type:oa.Type.Union([oa.Type.Literal("Organization"),oa.Type.Literal("Repository")])}),QK=oa.Type.Object({fileContent:oa.Type.Optional(oa.Type.Object({includes:oa.Type.Optional(oa.Type.Array(oa.Type.String())),excludes:oa.Type.Optional(oa.Type.Array(oa.Type.String()))})),blocked:oa.Type.Optional(oa.Type.Boolean()),source:ZK}),eW=oa.Type.Array(QK),tW=oa.Type.Object({rules:eW}),rW=oa.Type.Array(tW);var kh=new _s(1,"contentExclusion");var wu,gc,Z2,wy,iB,Ay,sB,QE=class QE{constructor(t){this.ctx=t;Yi(this,wy);Yi(this,Ay);Yi(this,wu,!1);Yi(this,gc,null);Yi(this,Z2,new Cy(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!P0(this,wu)||!t)return;let r=await this.ctx.get(v1).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(v1).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(wl).on("onCopilotToken",(r,n)=>{var l,a;Ji(this,wu,(l=n==null?void 0:n.copilotignore_enabled)!=null?l:!1),this.evaluateResultCache.clear(),P0(this,Z2).refresh();let s=(a=r.organization_list)!=null?a:[];ul(this,Ay,sB).call(this,s)})}get enabled(){return P0(this,wu)}async evaluate(t,r,n){var c;if(!P0(this,wu)||t.scheme!=="file")return{isBlocked:!1};let s=[],l=o(async(u,d)=>{let h=Date.now(),p=await d.evaluate(t,r),m=Date.now();return s.push({key:u,result:p,elapsedMs:m-h}),p},"track"),f=(c=(await Promise.all([P0(this,gc)&&l("repositoryControl.evaluate",P0(this,gc)),l("contentExclusion.evaluate",P0(this,Z2))])).find(u=>u==null?void 0:u.isBlocked))!=null?c:{isBlocked:!1};try{for(let u of s)ul(this,wy,iB).call(this,u.key,t,u.result,u.elapsedMs)}catch(u){console.log("Error tracking telemetry",u)}return n==="UPDATE"&&this.updateStatusIcon(f.isBlocked,f.message),f}updateStatusIcon(t,r){P0(this,wu)&&(t?this.ctx.get(bu).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(bu).forceNormal())}set __repositoryControl(t){Ji(this,gc,t)}get __repositoryControl(){return P0(this,gc)}set __contentRestrictions(t){Ji(this,Z2,t)}get __contentRestrictions(){return P0(this,Z2)}};wu=new WeakMap,gc=new WeakMap,Z2=new WeakMap,wy=new WeakSet,iB=o(function(t,r,n,s){var u,d;let l=r.path+t;if(this.evaluateResultCache.get(l)===n.reason)return!1;if(this.evaluateResultCache.set(l,(u=n.reason)!=null?u:"UNKNOWN"),n.reason===U5.reason)return kh.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let f={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},c={elapsedMs:s};return Ui(this.ctx,t,hs.createAndMarkAsIssued(f,c)),Ui(this.ctx,t,hs.createAndMarkAsIssued({...f,path:r.path},c),1),kh.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),Ay=new WeakSet,sB=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));P0(this,wu)&&n?(P0(this,gc)||Ji(this,gc,new Iy(this.ctx)),P0(this,gc).refresh()):Ji(this,gc,null)},"#refreshMSFTRepoControl"),o(QE,"CopilotRepositoryControlManager");var Bh=QE;function nW(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(nW,"isDocumentTooLarge");async function eT(e,t){var n;if(nW(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(Bh).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(eT,"isDocumentValid");var iW=require("path"),tT=class tT{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getDecoratedOpenDocuments(),r=[];for(let n of t)(await eT(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getDecoratedOpenDocuments()).find(s=>s.uri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):eT(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getDecoratedOpenDocuments(){let t=await this.getOpenTextDocuments();return Promise.all(t.map(r=>fE(this.ctx,r)))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.uri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.uri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return iW.basename(t.uri.fsPath)}}};o(tT,"TextDocumentManager");var v1=tT;var U8={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]}};var oB=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],aB={".php":[".blade"]},lB=Object.keys(U8).flatMap(e=>U8[e].extensions);var Py=require("path"),oT=class oT{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(oT,"Language");var q8=oT,aT=class aT{};o(aT,"LanguageDetection");var dc=aT;function fB(e){return new rT(new iT,new nT(e))}o(fB,"getLanguageDetection");var lT=class lT extends dc{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Os(100)}async detectLanguage(r){let n=Py.basename(r.uri.path);return sW(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}async detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=await this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(lT,"CachingLanguageDetection");var rT=lT;function sW(e){return e.endsWith(".ipynb")}o(sW,"isNotebook");var fT=class fT extends dc{constructor(r){super();this.ctx=r}async detectLanguage(r){let s=this.ctx.get(v1).findNotebook(r);return s?this.detectCellLanguage(r,s):new q8("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCells().find(l=>l.document.uri.toString()===r.uri.toString());return s?new q8(s.document.languageId,!1,".ipynb"):new q8("unknown",!1,".ipynb")}};o(fT,"NotebookLanguageDetection");var nT=fT,cT=class cT extends dc{constructor(){super(...arguments);this.languageIdByExtensionTracker=new sT}async detectLanguage(r){let n=Py.basename(r.uri.path),s=Py.extname(n).toLowerCase(),l=this.extensionWithoutTemplateLanguage(n,s),a=this.detectLanguageId(n,l);return new q8(a.languageId,a.isGuess,this.computeFullyQualifiedExtension(s,l))}extensionWithoutTemplateLanguage(r,n){if(oB.includes(n)){let s=r.substring(0,r.lastIndexOf(".")),l=Py.extname(s).toLowerCase();if(l.length>0&&lB.includes(l)&&this.isExtensionValidForTemplateLanguage(n,l))return l}return n}isExtensionValidForTemplateLanguage(r,n){let s=aB[r];return!s||s.includes(n)}detectLanguageId(r,n){var a,f;let s=[],l=[];for(let c in U8){let u=U8[c];if(u.filenames){if(u.filenames.includes(r))return{languageId:c,isGuess:!1};u.filenames.some(d=>r.startsWith(d+"."))&&l.push(c)}u.extensions.includes(n)&&s.push(c)}return(f=(a=this.determineLanguageIdByCandidates(s))!=null?a:this.determineLanguageIdByCandidates(l))!=null?f:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(r){if(r.length===1)return this.languageIdByExtensionTracker.track(r[0]),{languageId:r[0],isGuess:!1};if(r.length>1)return this.determineMostSeenLanguages(r)}determineMostSeenLanguages(r){let n=this.languageIdByExtensionTracker.mostRecentLanguageId(r);return n?{languageId:n,isGuess:!0}:{languageId:r[0],isGuess:!0}}computeFullyQualifiedExtension(r,n){return r!==n?n+r:r}};o(cT,"FilenameAndExensionLanguageDetection");var iT=cT,uT=class uT{constructor(){this.seenLanguages=new Os(25)}track(t){this.seenLanguages.set(t,this.preciseTimestamp())}preciseTimestamp(){return process.hrtime.bigint()}mostRecentLanguageId(t){let r=t.map(n=>({id:n,seen:this.seenLanguages.get(n)})).filter(n=>n.seen).sort((n,s)=>Number(s.seen)-Number(n.seen)).map(n=>n.id);if(r.length>0)return r[0]}};o(uT,"LanguageIdTracker");var sT=uT;var dB=Ai(require("util"));function cB(e,t,r,n,s,l,a,f){return dR(e,t,r,s,n),{completionText:t,meanLogProb:oW(e,r),meanAlternativeLogProb:aW(e,r),choiceIndex:n,requestId:s,modelInfo:f,blockFinished:l,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:a}}o(cB,"convertToAPIChoice");function oW(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--)n+=t.logprobs.token_logprobs[a],s+=1;return s>0?n/s:void 0}catch(n){z2.exception(e,n,"Error calculating mean prob")}}o(oW,"calculateMeanLogProb");function aW(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,l=50;for(let a=0;a<t.logprobs.token_logprobs.length-1&&l>0;a++,l--){let f={...t.logprobs.top_logprobs[a]};delete f[t.logprobs.tokens[a]],n+=Math.max(...Object.values(f)),s+=1}return s>0?n/s:void 0}catch(n){z2.exception(e,n,"Error calculating mean prob")}}o(aW,"calculateMeanAlternativeLogProb");function dT(e,t){if(E8(e))return 0;let r=parseFloat(Nf(e,Sl.Temperature));return r>=0&&r<=1?r:t<=1?0:t<10?.2:t<20?.4:.8}o(dT,"getTemperatureForSamples");var zl=new _s(1,"streamChoices"),yT=class yT{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new gT}append(t){var r,n,s,l,a,f;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((l=t.logprobs.token_logprobs)!=null?l:[]),this.top_logprobs.push((a=t.logprobs.top_logprobs)!=null?a:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(f=t.delta)!=null&&f.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations)}};o(yT,"APIJsonDataStreaming");var hT=yT;function fW(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(fW,"splitChunk");var vT=class vT{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(l=>l.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(vT,"StreamCopilotAnnotations");var gT=vT,Ry=class Ry{constructor(t,r,n,s,l,a,f,c){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=l;this.dropCompletionReasons=a;this.fastCancellation=f;this.cancellationToken=c;this.requestId=Dh(this.response);this.stats=new mT(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,l,a){let f=await n.body();f.setEncoding("utf8");let c=t.get(Js).fastCancellation(s);return new Ry(t,r,n,f,s,l!=null?l:["content_filter"],c,a)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),zl.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),zl.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,l,a;let r="";e:for await(let f of this.body){if(this.maybeCancel("after awaiting body chunk"))return;zl.debug(this.ctx,"chunk",f.toString());let[c,u]=fW(r+f.toString());r=u;for(let d of c){let h=d.slice(5).trim();if(h=="[DONE]"){yield*this.finishSolutions();return}let p;try{p=JSON.parse(h)}catch{zl.error(this.ctx,"Error parsing JSON stream data",d);continue}if(p.choices===void 0){p.error!==void 0?zl.error(this.ctx,"Error in response:",p.error.message):zl.error(this.ctx,"Unexpected response with no choices or error: "+h);continue}if(this.requestId.created==0&&(this.requestId=Dh(this.response,p),this.requestId.created==0&&zl.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let m=0;m<p.choices.length;m++){let v=p.choices[m];zl.debug(this.ctx,"choice",v),this.stats.add(v.index),v.index in this.solutions||(this.solutions[v.index]=new hT);let x=this.solutions[v.index];if(x==null)continue;x.append(v);let E,I=((n=v.text)==null?void 0:n.indexOf(`
`))>-1||((l=(s=v.delta)==null?void 0:s.content)==null?void 0:l.indexOf(`
`))>-1;if((v.finish_reason||I)&&(E=await t(x.text.join(""),x.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(v.finish_reason||E!==void 0))continue;let L=(a=v.finish_reason)!=null?a:"client-trimmed";if(Ui(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:L})),this.dropCompletionReasons.includes(v.finish_reason)?this.solutions[v.index]=null:(this.stats.markYielded(v.index),yield{solution:x,finishOffset:E,reason:v.finish_reason,requestId:this.requestId,index:v.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[v.index]=null}}}for(let[f,c]of Object.entries(this.solutions)){let u=Number(f);if(c!=null&&(this.stats.markYielded(u),yield{solution:c,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:u},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let f=JSON.parse(r);f.error!==void 0&&zl.error(this.ctx,`Error in response: ${f.error.message}`,f.error)}catch{zl.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(zl.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(Ry,"SSEProcessor");var Ny=Ry;function uB(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(zl.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),zl.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),zl.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let l=cW(e,t.solution);return cB(e,n,l,t.index,t.requestId,s,r)}o(uB,"prepareSolutionForReturn");function cW(e,t){let n={text:t.text.join(""),tokens:t.text};if(t.logprobs.length===0)return n;let s=t.logprobs.reduce((c,u)=>c.concat(u),[]),l=t.top_logprobs.reduce((c,u)=>c.concat(u),[]),a=t.text_offset.reduce((c,u)=>c.concat(u),[]),f=t.tokens.reduce((c,u)=>c.concat(u),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:l,text_offset:a,tokens:f}}}o(cW,"convertToAPIJsonData");var xT=class xT{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new pT)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(xT,"ChunkStats");var mT=xT,_T=class _T{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(_T,"ChoiceStats");var pT=_T;var ff=new _s(1,"fetchCompletions");function Dh(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(Dh,"getRequestId");function uW(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o(uW,"getProcessingTime");function bT(e,t){let r=t.split("/").pop();return r||(ff.error(e,"Malformed engine URL: "+t),t)}o(bT,"extractEngineName");function dW(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(dW,"uiKindToIntent");var CT=class CT{};o(CT,"OpenAIFetcher");var Q2=CT;function hW(e,t,r,n,s,l,a,f,c,u){var x;let d=e.get(bu),h=dB.format("%s/%s",r,n);if(!a){ff.error(e,`Failed to send request to ${h} due to missing key`);return}let p=hs.createAndMarkAsIssued({endpoint:n,engineName:bT(e,r),uiKind:f},NC(t));u&&(p=p.extendedBy(u));for(let[E,I]of Object.entries(l))E=="prompt"||E=="suffix"||(p.properties[`request.option.${E}`]=(x=JSON.stringify(I))!=null?x:"undefined");p.properties.headerRequestId=s,Ui(e,"request.sent",p);let m=M5(),v=dW(f);return qb(e,h,a,v,s,l,c).then(E=>{let I=Dh(E,void 0);p.extendWithRequestId(I);let A=M5()-m;return p.measurements.totalTimeMs=A,ff.info(e,`request.response: [${h}] took ${A} ms`),ff.debug(e,"request.response properties",p.properties),ff.debug(e,"request.response measurements",p.measurements),ff.debug(e,"prompt:",t),Ui(e,"request.response",p),E}).catch(E=>{var L,D,k,$;if(Ub(E))throw E;d.setWarning(E.message);let I=p.extendedBy({error:"Network exception"});Ui(e,"request.shownWarning",I),p.properties.message=String((L=E.name)!=null?L:""),p.properties.code=String((D=E.code)!=null?D:""),p.properties.errno=String((k=E.errno)!=null?k:""),p.properties.type=String(($=E.type)!=null?$:"");let A=M5()-m;throw p.measurements.totalTimeMs=A,ff.debug(e,`request.response: [${h}] took ${A} ms`),ff.debug(e,"request.error properties",p.properties),ff.debug(e,"request.error measurements",p.measurements),Ui(e,"request.error",p),E}).finally(()=>{hR(e,t,p)})}o(hW,"fetchWithInstrumentation");function gW(e,t){return t!=null&&t?e:PR(e,async r=>r.completionText.trim().length>0)}o(gW,"postProcessChoices");var ET=class ET extends Q2{async fetchAndStreamCompletions(t,r,n,s,l,a){let f=t.get(bu),c="completions",u=await this.fetchWithParameters(t,c,r,n,l,a);if(u==="not-sent")return{type:"canceled",reason:"before fetch request"};if(l!=null&&l.isCancellationRequested){let v=await u.body();try{v.destroy()}catch(x){ff.exception(t,x,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(u===void 0){let v=this.createTelemetryData(c,t,r);return f.setWarning(),v.properties.error="Response was undefined",Ui(t,"request.shownWarning",v),{type:"failed",reason:"fetch response was undefined"}}if(u.status!==200){let v=this.createTelemetryData(c,t,r);return this.handleError(t,f,v,u)}let d=t.get(Js).dropCompletionReasons(n),p=(await Ny.create(t,r.count,u,n,d,l)).processSSE(s),m=AR(p,async v=>uB(t,v,n));return{type:"success",choices:gW(m,r.allowEmptyChoices),getProcessingTime:()=>uW(u)}}createTelemetryData(t,r,n){return hs.createAndMarkAsIssued({endpoint:t,engineName:bT(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,l,a){let f=$N(t,Sl.Stops),c=t.get(Js).disableLogProb(s),u={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:Nf(t,Sl.SolutionLength),temperature:dT(t,n.count),top_p:Nf(t,Sl.TopP),n:n.count,stop:f};(n.requestLogProbs||!c)&&(u.logprobs=2);let d=xh(n.repoInfo);return d!==void 0&&(u.nwo=d),n.postOptions&&Object.assign(u,n.postOptions),await new Promise((p,m)=>{setImmediate(p)}),l!=null&&l.isCancellationRequested?"not-sent":await hW(t,n.prompt,n.engineUrl,r,n.ourRequestId,u,(await t.get(ml).getCopilotToken(t)).token,n.uiKind,l,a)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),Ui(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(ml).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return ff.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let l=await s.text();return s.status===466?(r.setError(l),ff.info(t,l),{type:"failed",reason:`client not supported: ${l}`}):(ff.error(t,"Unhandled status from server:",s.status,l),{type:"failed",reason:`unhandled status from server: ${s.status} ${l}`})}};o(ET,"LiveOpenAIFetcher");var Lh=ET;var Fh=class Fh{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(Fh.isIncremental(n)){let s=gB(n.range),l=this.offsetAt(s.start),a=this.offsetAt(s.end);this._content=this._content.substring(0,l)+n.text+this._content.substring(a,this._content.length);let f=Math.max(s.start.line,0),c=Math.max(s.end.line,0),u=this._lineOffsets,d=hB(n.text,!1,l);if(c-f===d.length)for(let p=0,m=d.length;p<m;p++)u[p+f+1]=d[p];else d.length<1e4?u.splice(f+1,c-f,...d):this._lineOffsets=u=u.slice(0,f+1).concat(d,u.slice(c+1));let h=n.text.length-(a-l);if(h!==0)for(let p=f+1+d.length,m=u.length;p<m;p++)u[p]=u[p]+h}else if(Fh.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=hB(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return{line:l,character:t-r[l]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(Fh,"FullTextDocument");var ky=Fh,TT;(function(e){function t(s,l,a,f){return new ky(s,l,a,f)}o(t,"create"),e.create=t;function r(s,l,a){if(s instanceof ky)return s.update(l,a),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,l){let a=s.getText(),f=ST(l.map(mW),(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),c=0,u=[];for(let d of f){let h=s.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&u.push(a.substring(c,h)),d.newText.length&&u.push(d.newText),c=s.offsetAt(d.range.end)}return u.push(a.substr(c)),u.join("")}o(n,"applyEdits"),e.applyEdits=n})(TT||(TT={}));function ST(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);ST(n,t),ST(s,t);let l=0,a=0,f=0;for(;l<n.length&&a<s.length;)t(n[l],s[a])<=0?e[f++]=n[l++]:e[f++]=s[a++];for(;l<n.length;)e[f++]=n[l++];for(;a<s.length;)e[f++]=s[a++];return e}o(ST,"mergeSort");function hB(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let l=e.charCodeAt(s);(l===13||l===10)&&(l===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(hB,"computeLineOffsets");function gB(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(gB,"getWellformedRange");function mW(e){let t=gB(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(mW,"getWellformedEdit");var mB;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(mB||(mB={}));var IT;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(IT||(IT={}));var pB;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(pB||(pB={}));var By;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(By||(By={}));var Of;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=By.MAX_VALUE),s===Number.MAX_VALUE&&(s=By.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.line)&&p0.uinteger(s.character)}o(r,"is"),e.is=r})(Of||(Of={}));var Gs;(function(e){function t(n,s,l,a){if(p0.uinteger(n)&&p0.uinteger(s)&&p0.uinteger(l)&&p0.uinteger(a))return{start:Of.create(n,s),end:Of.create(l,a)};if(Of.is(n)&&Of.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${l}, ${a}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Of.is(s.start)&&Of.is(s.end)}o(r,"is"),e.is=r})(Gs||(Gs={}));var Dy;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Gs.is(s.range)&&(p0.string(s.uri)||p0.undefined(s.uri))}o(r,"is"),e.is=r})(Dy||(Dy={}));var yB;(function(e){function t(n,s,l,a){return{targetUri:n,targetRange:s,targetSelectionRange:l,originSelectionRange:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Gs.is(s.targetRange)&&p0.string(s.targetUri)&&Gs.is(s.targetSelectionRange)&&(Gs.is(s.originSelectionRange)||p0.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})(yB||(yB={}));var wT;(function(e){function t(n,s,l,a){return{red:n,green:s,blue:l,alpha:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.numberRange(s.red,0,1)&&p0.numberRange(s.green,0,1)&&p0.numberRange(s.blue,0,1)&&p0.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(wT||(wT={}));var vB;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Gs.is(s.range)&&wT.is(s.color)}o(r,"is"),e.is=r})(vB||(vB={}));var xB;(function(e){function t(n,s,l){return{label:n,textEdit:s,additionalTextEdits:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.undefined(s.textEdit)||H8.is(s))&&(p0.undefined(s.additionalTextEdits)||p0.typedArray(s.additionalTextEdits,H8.is))}o(r,"is"),e.is=r})(xB||(xB={}));var _B;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(_B||(_B={}));var bB;(function(e){function t(n,s,l,a,f,c){let u={startLine:n,endLine:s};return p0.defined(l)&&(u.startCharacter=l),p0.defined(a)&&(u.endCharacter=a),p0.defined(f)&&(u.kind=f),p0.defined(c)&&(u.collapsedText=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.uinteger(s.startLine)&&p0.uinteger(s.startLine)&&(p0.undefined(s.startCharacter)||p0.uinteger(s.startCharacter))&&(p0.undefined(s.endCharacter)||p0.uinteger(s.endCharacter))&&(p0.undefined(s.kind)||p0.string(s.kind))}o(r,"is"),e.is=r})(bB||(bB={}));var AT;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Dy.is(s.location)&&p0.string(s.message)}o(r,"is"),e.is=r})(AT||(AT={}));var CB;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(CB||(CB={}));var EB;(function(e){e.Unnecessary=1,e.Deprecated=2})(EB||(EB={}));var TB;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&p0.string(n.href)}o(t,"is"),e.is=t})(TB||(TB={}));var Ly;(function(e){function t(n,s,l,a,f,c){let u={range:n,message:s};return p0.defined(l)&&(u.severity=l),p0.defined(a)&&(u.code=a),p0.defined(f)&&(u.source=f),p0.defined(c)&&(u.relatedInformation=c),u}o(t,"create"),e.create=t;function r(n){var s;let l=n;return p0.defined(l)&&Gs.is(l.range)&&p0.string(l.message)&&(p0.number(l.severity)||p0.undefined(l.severity))&&(p0.integer(l.code)||p0.string(l.code)||p0.undefined(l.code))&&(p0.undefined(l.codeDescription)||p0.string((s=l.codeDescription)===null||s===void 0?void 0:s.href))&&(p0.string(l.source)||p0.undefined(l.source))&&(p0.undefined(l.relatedInformation)||p0.typedArray(l.relatedInformation,AT.is))}o(r,"is"),e.is=r})(Ly||(Ly={}));var $8;(function(e){function t(n,s,...l){let a={title:n,command:s};return p0.defined(l)&&l.length>0&&(a.arguments=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.title)&&p0.string(s.command)}o(r,"is"),e.is=r})($8||($8={}));var H8;(function(e){function t(l,a){return{range:l,newText:a}}o(t,"replace"),e.replace=t;function r(l,a){return{range:{start:l,end:l},newText:a}}o(r,"insert"),e.insert=r;function n(l){return{range:l,newText:""}}o(n,"del"),e.del=n;function s(l){let a=l;return p0.objectLiteral(a)&&p0.string(a.newText)&&Gs.is(a.range)}o(s,"is"),e.is=s})(H8||(H8={}));var PT;(function(e){function t(n,s,l){let a={label:n};return s!==void 0&&(a.needsConfirmation=s),l!==void 0&&(a.description=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&p0.string(s.label)&&(p0.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(p0.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(PT||(PT={}));var j8;(function(e){function t(r){let n=r;return p0.string(n)}o(t,"is"),e.is=t})(j8||(j8={}));var SB;(function(e){function t(l,a,f){return{range:l,newText:a,annotationId:f}}o(t,"replace"),e.replace=t;function r(l,a,f){return{range:{start:l,end:l},newText:a,annotationId:f}}o(r,"insert"),e.insert=r;function n(l,a){return{range:l,newText:"",annotationId:a}}o(n,"del"),e.del=n;function s(l){let a=l;return H8.is(a)&&(PT.is(a.annotationId)||j8.is(a.annotationId))}o(s,"is"),e.is=s})(SB||(SB={}));var NT;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&LT.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(NT||(NT={}));var RT;(function(e){function t(n,s,l){let a={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&p0.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||j8.is(s.annotationId))}o(r,"is"),e.is=r})(RT||(RT={}));var kT;(function(e){function t(n,s,l,a){let f={kind:"rename",oldUri:n,newUri:s};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(f.options=l),a!==void 0&&(f.annotationId=a),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&p0.string(s.oldUri)&&p0.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||p0.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||p0.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||j8.is(s.annotationId))}o(r,"is"),e.is=r})(kT||(kT={}));var BT;(function(e){function t(n,s,l){let a={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(a.options=s),l!==void 0&&(a.annotationId=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&p0.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||p0.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||p0.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||j8.is(s.annotationId))}o(r,"is"),e.is=r})(BT||(BT={}));var DT;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>p0.string(s.kind)?RT.is(s)||kT.is(s)||BT.is(s):NT.is(s)))}o(t,"is"),e.is=t})(DT||(DT={}));var IB;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)}o(r,"is"),e.is=r})(IB||(IB={}));var wB;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.integer(s.version)}o(r,"is"),e.is=r})(wB||(wB={}));var LT;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&(s.version===null||p0.integer(s.version))}o(r,"is"),e.is=r})(LT||(LT={}));var AB;(function(e){function t(n,s,l,a){return{uri:n,languageId:s,version:l,text:a}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.string(s.uri)&&p0.string(s.languageId)&&p0.integer(s.version)&&p0.string(s.text)}o(r,"is"),e.is=r})(AB||(AB={}));var FT;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(FT||(FT={}));var Oh;(function(e){function t(r){let n=r;return p0.objectLiteral(r)&&FT.is(n.kind)&&p0.string(n.value)}o(t,"is"),e.is=t})(Oh||(Oh={}));var PB;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(PB||(PB={}));var NB;(function(e){e.PlainText=1,e.Snippet=2})(NB||(NB={}));var RB;(function(e){e.Deprecated=1})(RB||(RB={}));var kB;(function(e){function t(n,s,l){return{newText:n,insert:s,replace:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.newText)&&Gs.is(s.insert)&&Gs.is(s.replace)}o(r,"is"),e.is=r})(kB||(kB={}));var BB;(function(e){e.asIs=1,e.adjustIndentation=2})(BB||(BB={}));var DB;(function(e){function t(r){let n=r;return n&&(p0.string(n.detail)||n.detail===void 0)&&(p0.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(DB||(DB={}));var LB;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(LB||(LB={}));var FB;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(FB||(FB={}));var Fy;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return p0.string(s)||p0.objectLiteral(s)&&p0.string(s.language)&&p0.string(s.value)}o(r,"is"),e.is=r})(Fy||(Fy={}));var OB;(function(e){function t(r){let n=r;return!!n&&p0.objectLiteral(n)&&(Oh.is(n.contents)||Fy.is(n.contents)||p0.typedArray(n.contents,Fy.is))&&(r.range===void 0||Gs.is(r.range))}o(t,"is"),e.is=t})(OB||(OB={}));var MB;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(MB||(MB={}));var UB;(function(e){function t(r,n,...s){let l={label:r};return p0.defined(n)&&(l.documentation=n),p0.defined(s)?l.parameters=s:l.parameters=[],l}o(t,"create"),e.create=t})(UB||(UB={}));var qB;(function(e){e.Text=1,e.Read=2,e.Write=3})(qB||(qB={}));var $B;(function(e){function t(r,n){let s={range:r};return p0.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})($B||($B={}));var HB;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(HB||(HB={}));var jB;(function(e){e.Deprecated=1})(jB||(jB={}));var VB;(function(e){function t(r,n,s,l,a){let f={name:r,kind:n,location:{uri:l,range:s}};return a&&(f.containerName=a),f}o(t,"create"),e.create=t})(VB||(VB={}));var zB;(function(e){function t(r,n,s,l){return l!==void 0?{name:r,kind:n,location:{uri:s,range:l}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(zB||(zB={}));var GB;(function(e){function t(n,s,l,a,f,c){let u={name:n,detail:s,kind:l,range:a,selectionRange:f};return c!==void 0&&(u.children=c),u}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.name)&&p0.number(s.kind)&&Gs.is(s.range)&&Gs.is(s.selectionRange)&&(s.detail===void 0||p0.string(s.detail))&&(s.deprecated===void 0||p0.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(GB||(GB={}));var KB;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(KB||(KB={}));var Oy;(function(e){e.Invoked=1,e.Automatic=2})(Oy||(Oy={}));var WB;(function(e){function t(n,s,l){let a={diagnostics:n};return s!=null&&(a.only=s),l!=null&&(a.triggerKind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.typedArray(s.diagnostics,Ly.is)&&(s.only===void 0||p0.typedArray(s.only,p0.string))&&(s.triggerKind===void 0||s.triggerKind===Oy.Invoked||s.triggerKind===Oy.Automatic)}o(r,"is"),e.is=r})(WB||(WB={}));var YB;(function(e){function t(n,s,l){let a={title:n},f=!0;return typeof s=="string"?(f=!1,a.kind=s):$8.is(s)?a.command=s:a.edit=s,f&&l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return s&&p0.string(s.title)&&(s.diagnostics===void 0||p0.typedArray(s.diagnostics,Ly.is))&&(s.kind===void 0||p0.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||$8.is(s.command))&&(s.isPreferred===void 0||p0.boolean(s.isPreferred))&&(s.edit===void 0||DT.is(s.edit))}o(r,"is"),e.is=r})(YB||(YB={}));var XB;(function(e){function t(n,s){let l={range:n};return p0.defined(s)&&(l.data=s),l}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Gs.is(s.range)&&(p0.undefined(s.command)||$8.is(s.command))}o(r,"is"),e.is=r})(XB||(XB={}));var JB;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&p0.uinteger(s.tabSize)&&p0.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(JB||(JB={}));var ZB;(function(e){function t(n,s,l){return{range:n,target:s,data:l}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Gs.is(s.range)&&(p0.undefined(s.target)||p0.string(s.target))}o(r,"is"),e.is=r})(ZB||(ZB={}));var QB;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Gs.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(QB||(QB={}));var eD;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(eD||(eD={}));var tD;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(tD||(tD={}));var rD;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(rD||(rD={}));var nD;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Gs.is(s.range)&&p0.string(s.text)}o(r,"is"),e.is=r})(nD||(nD={}));var iD;(function(e){function t(n,s,l){return{range:n,variableName:s,caseSensitiveLookup:l}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Gs.is(s.range)&&p0.boolean(s.caseSensitiveLookup)&&(p0.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(iD||(iD={}));var sD;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Gs.is(s.range)&&(p0.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(sD||(sD={}));var oD;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.defined(s)&&Gs.is(n.stoppedLocation)}o(r,"is"),e.is=r})(oD||(oD={}));var OT;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(OT||(OT={}));var MT;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&(s.tooltip===void 0||p0.string(s.tooltip)||Oh.is(s.tooltip))&&(s.location===void 0||Dy.is(s.location))&&(s.command===void 0||$8.is(s.command))}o(r,"is"),e.is=r})(MT||(MT={}));var aD;(function(e){function t(n,s,l){let a={position:n,label:s};return l!==void 0&&(a.kind=l),a}o(t,"create"),e.create=t;function r(n){let s=n;return p0.objectLiteral(s)&&Of.is(s.position)&&(p0.string(s.label)||p0.typedArray(s.label,MT.is))&&(s.kind===void 0||OT.is(s.kind))&&s.textEdits===void 0||p0.typedArray(s.textEdits,H8.is)&&(s.tooltip===void 0||p0.string(s.tooltip)||Oh.is(s.tooltip))&&(s.paddingLeft===void 0||p0.boolean(s.paddingLeft))&&(s.paddingRight===void 0||p0.boolean(s.paddingRight))}o(r,"is"),e.is=r})(aD||(aD={}));var lD;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(lD||(lD={}));var fD;(function(e){function t(r,n,s,l){return{insertText:r,filterText:n,range:s,command:l}}o(t,"create"),e.create=t})(fD||(fD={}));var cD;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(cD||(cD={}));var uD;(function(e){e.Invoked=0,e.Automatic=1})(uD||(uD={}));var dD;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(dD||(dD={}));var hD;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(hD||(hD={}));var gD;(function(e){function t(r){let n=r;return p0.objectLiteral(n)&&IT.is(n.uri)&&p0.string(n.name)}o(t,"is"),e.is=t})(gD||(gD={}));var mD;(function(e){function t(l,a,f,c){return new UT(l,a,f,c)}o(t,"create"),e.create=t;function r(l){let a=l;return!!(p0.defined(a)&&p0.string(a.uri)&&(p0.undefined(a.languageId)||p0.string(a.languageId))&&p0.uinteger(a.lineCount)&&p0.func(a.getText)&&p0.func(a.positionAt)&&p0.func(a.offsetAt))}o(r,"is"),e.is=r;function n(l,a){let f=l.getText(),c=s(a,(d,h)=>{let p=d.range.start.line-h.range.start.line;return p===0?d.range.start.character-h.range.start.character:p}),u=f.length;for(let d=c.length-1;d>=0;d--){let h=c[d],p=l.offsetAt(h.range.start),m=l.offsetAt(h.range.end);if(m<=u)f=f.substring(0,p)+h.newText+f.substring(m,f.length);else throw new Error("Overlapping edit");u=p}return f}o(n,"applyEdits"),e.applyEdits=n;function s(l,a){if(l.length<=1)return l;let f=l.length/2|0,c=l.slice(0,f),u=l.slice(f);s(c,a),s(u,a);let d=0,h=0,p=0;for(;d<c.length&&h<u.length;)a(c[d],u[h])<=0?l[p++]=c[d++]:l[p++]=u[h++];for(;d<c.length;)l[p++]=c[d++];for(;h<u.length;)l[p++]=u[h++];return l}o(s,"mergeSort")})(mD||(mD={}));var qT=class qT{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let l=r.charAt(s);n=l==="\r"||l===`
`,l==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return Of.create(0,t);for(;n<s;){let a=Math.floor((n+s)/2);r[a]>t?s=a:n=a+1}let l=n-1;return Of.create(l,t-r[l])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(qT,"FullTextDocument");var UT=qT,p0;(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),e.undefined=n;function s(m){return m===!0||m===!1}o(s,"boolean"),e.boolean=s;function l(m){return t.call(m)==="[object String]"}o(l,"string"),e.string=l;function a(m){return t.call(m)==="[object Number]"}o(a,"number"),e.number=a;function f(m,v,x){return t.call(m)==="[object Number]"&&v<=m&&m<=x}o(f,"numberRange"),e.numberRange=f;function c(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(c,"integer"),e.integer=c;function u(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(u,"uinteger"),e.uinteger=u;function d(m){return t.call(m)==="[object Function]"}o(d,"func"),e.func=d;function h(m){return m!==null&&typeof m=="object"}o(h,"objectLiteral"),e.objectLiteral=h;function p(m,v){return Array.isArray(m)&&m.every(v)}o(p,"typedArray"),e.typedArray=p})(p0||(p0={}));var Au=Ai(lc());var pW=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],yW=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],Dae=[...pW,...yW];var xW=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),$ae=new RegExp(`^(${xW.join("|")})`);var mc=Ai(lc());var jT=Ai(lc());var yD=new Os;function vD(e){return[...e].sort((t,r)=>{var l,a;let n=(l=yD.get(t.uri.toString()))!=null?l:0;return((a=yD.get(r.uri.toString()))!=null?a:0)-n})}o(vD,"sortByAccessTimes");var $T=class $T{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let l=[],a=0;for(let f of t)if(!(a+f.getText().length>Mh.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(f.uri.scheme==="file"&&r.scheme==="file"&&f.uri.fsPath!==r.fsPath&&HT(n,f.languageId)&&(l.push({uri:f.uri.toString(),relativePath:await this.docManager.getRelativePath(f),languageId:f.languageId,source:f.getText()}),a+=f.getText().length),l.length>=s))break;return l}async getNeighborFiles(t,r,n){let s=[],l=new Map;return s=await this.truncateDocs(vD(await this.docManager.textDocuments()),t,r,n),l.set("opentabs",s.map(a=>a.uri)),{docs:s,neighborSource:l}}};o($T,"OpenTabFiles");var My=$T;function HT(e,t){return(0,jT.normalizeLanguageId)(e)===(0,jT.normalizeLanguageId)(t)}o(HT,"considerNeighborFile");var x1=class x1{static reset(){x1.instance=void 0}static async getNeighborFiles(t,r,n){if(x1.instance===void 0){let s=t.get(v1);x1.instance=new My(s)}return await x1.instance.getNeighborFiles(r,n.fileType,x1.MAX_NEIGHBOR_FILES)}};o(x1,"NeighborSource"),x1.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,x1.MAX_NEIGHBOR_FILES=20,x1.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var Mh=x1;var VT=Ai(lc());var ple=_D(),Dle=new _s(0,"retrieval");var bD=2.98410452738298,CD=-.838732736843507,ED=1.50314646255716,TD=-.237798634012662,SD={python:.314368072478742},ID={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var ffe=new _s(1,"restraint"),CW={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function EW(e,t){let r=Math.min(...Array.from(t.keys()).filter(a=>a>=e)),n=Math.max(...Array.from(t.keys()).filter(a=>a<e)),s=t.get(r),l=t.get(n);return l+(s-l)*(e-n)/(r-n)}o(EW,"linearInterpolation");var GT=class GT{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(GT,"Regressor");var V8=GT,KT=class KT{constructor(t,r,n){this.link=CW;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let l=r[s.name];if(l===void 0)return NaN;n+=s.contribution(l)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return EW(n,this.logitsToQuantiles)}};o(KT,"LogisticRegression");var zT=KT,cfe=new zT(bD,[new V8("compCharLen",CD,e=>Math.log(1+e)),new V8("meanLogProb",ED),new V8("meanAlternativeLogProb",TD)].concat(Object.entries(SD).map(e=>new V8(e[0],e[1]))),ID);var U1e=new _s(1,"ghostText");var q1e=new Mp;var Uh=class Uh{constructor(t=!1){this.requestMultilineOverride=t}};o(Uh,"ForceMultiLine"),Uh.default=new Uh;var qh=Uh;var YF=Ai(require("fs")),XF=require("tls");var xv=new _s(1,"certificates"),cI=class cI{};o(cI,"RootCertificateReader");var Wl=cI;function JF(e,t=process.platform){return new nI(e,[new iI,new sI,dZ(e,t)])}o(JF,"getRootCertificateReader");function dZ(e,t){switch(t){case"linux":return new oI(e);case"darwin":return new aI(e);case"win32":return new lI(e);default:return new fI}}o(dZ,"createPlatformReader");var uI=class uI extends Wl{constructor(r,n){super();this.ctx=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return xv.warn(this.ctx,`Failed to read root certificates: ${r}`),[]}}};o(uI,"ErrorHandlingCertificateReader");var rI=uI,dI=class dI extends Wl{constructor(r,n){super();this.delegates=n.map(s=>new rI(r,s))}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat()),this.certificates}};o(dI,"CachingRootCertificateReader");var nI=dI,hI=class hI extends Wl{async getAllRootCAs(){return XF.rootCertificates}};o(hI,"NodeTlsRootCertificateReader");var iI=hI,gI=class gI extends Wl{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await ZF(t):[]}};o(gI,"EnvironmentVariableRootCertificateReader");var sI=gI,mI=class mI extends Wl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await ZF(n);xv.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(mI,"LinuxRootCertificateReader");var oI=mI,pI=class pI extends Wl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=KF(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return xv.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(pI,"MacRootCertificateReader");var aI=pI,yI=class yI extends Wl{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=WF().all();return xv.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(yI,"WindowsRootCertificateReader");var lI=yI,vI=class vI extends Wl{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(vI,"UnsupportedPlatformRootCertificateReader");var fI=vI;async function ZF(e){try{let n=(await YF.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(l=>l.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(ZF,"readCertsFromFile");var yO=Ai(require("http"));var qZ=407,il=new _s(0,"proxySocketFactory"),II=class II{};o(II,"ProxySocketFactory");var s3=II,wI=class wI extends Error{constructor(r,n,s){var l,a,f;super(r);this.code=n==null?void 0:n.code,this.syscall=n==null?void 0:n.syscall,this.errno=n==null?void 0:n.errno,/^Failed to establish a socket connection to proxies:/.test((l=n==null?void 0:n.message)!=null?l:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((a=n==null?void 0:n.message)!=null?a:"")?this.code="ProxyInitializeSecurityContext":(n==null?void 0:n.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((f=n==null?void 0:n.message)!=null?f:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),s!==void 0&&(this.code=s)}};o(wI,"ProxySocketError");var fd=wI;function vO(e){return new EI(e,new TI(e))}o(vO,"getProxySocketFactory");var AI=class AI extends s3{constructor(r,n,s=new SI,l=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=l;this.successfullyAuthorized=new Os(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(il.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof fd&&s.code===`ProxyStatusCode${qZ}`){il.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let l=await this.authorizeAndCreateSocket(r,n);if(l)return il.debug(this.ctx,"Proxy authorization successful, caching result"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),l}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(il.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(il.debug(this.ctx,"Proxy authorization successful, received token"),s)return il.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){il.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);il.debug(this.ctx,"Initializing kerberos client using spn",s);let l=await n.initializeClient(s);il.debug(this.ctx,"Perform client side kerberos step");let a=await l.step("");return il.debug(this.ctx,"Received kerberos server response"),a}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return il.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return il.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(AI,"KerberosProxySocketFactory");var EI=AI,PI=class PI extends s3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((l,a)=>{il.debug(this.ctx,"Attempting to establish connection to proxy");let f=yO.request(s);f.useChunkedEncodingByDefault=!1,f.once("connect",(c,u,d)=>{il.debug(this.ctx,"Socket Connect returned status code",c.statusCode),f.removeAllListeners(),u.removeAllListeners(),c.statusCode!==200?(u.destroy(),a(new fd(`tunneling socket could not be established, statusCode=${c.statusCode}`,void 0,`ProxyStatusCode${c.statusCode}`))):d.length>0?(u.destroy(),a(new fd(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(il.debug(this.ctx,"Successfully established tunneling connection to proxy"),l(u))}),f.once("error",c=>{il.debug(this.ctx,"Proxy socket connection error",c.message),f.removeAllListeners(),a(new fd(`tunneling socket could not be established, cause=${c.message}`,c))}),f.on("timeout",()=>{il.debug(this.ctx,"Proxy socket connection timeout"),a(new fd(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),f.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,l={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(l.localAddress=r.localAddress),this.configureProxyAuthorization(l,r),l}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(PI,"TunnelingProxySocketFactory");var TI=PI,NI=class NI{load(){return pO()}};o(NI,"KerberosLoader");var SI=NI;var xO=require("events");var RI=class RI extends xO.EventEmitter{};o(RI,"PostInsertionNotifier");var n7=RI;function _O(e){let t=new Bp;return t.set(fc,e),t.set(B2,new B2),t.set(Il,new Il),$Z(t),t.set(P8,new P8),t.set(wl,new wl),t.set(Wl,JF(t)),t.set(s3,vO(t)),t.set(dc,fB(t)),t.set(Js,new Js(t)),t.set(n7,new n7),t.set(gl,new gl(t)),t.set(O5,new O5),t.set(Rf,new Rf),t.set(q2,new q2),t.set(G2,new G2(t)),t.set(N8,new N8),t.set(Q2,new Lh),t.set(C8,new vp),t.set(H2,new dp),t.set(sf,new sf),t.set(kI.SnippetOrchestrator,new kI.SnippetOrchestrator),t.set(qh,qh.default),t}o(_O,"createProductionContext");function $Z(e){e.set(V2,V2.fromEnvironment(!1)),e.set(T8,new T8(KN(e))),e.set(S8,new Ip(console))}o($Z,"setupRudimentaryLogging");var Que=new _s(0,"context");var bO=require("os");var HZ=require("crypto"),jZ=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function VZ(e){let t=e.replace(/-/g,":").toLowerCase();return!jZ.has(t)}o(VZ,"validateMacAddress");function zZ(){let e=(0,bO.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(VZ(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(zZ,"getMac");var BI;function GZ(){try{let e=zZ();return HZ.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(GZ,"getMacMachineId");function CO(){return BI||(BI=GZ()||P2()),BI}o(CO,"getMachineId");var EO=Ai(require("tls"));var DI=class DI{constructor(t){this._certificateReader=t.get(Wl)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=EO.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(DI,"RootCertificateConfigurator");var Tv=DI;var LI=class LI extends Pa{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,l)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new Tv(r),this.proxySocketFactory=r.get(s3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Il);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),NN({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let l=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(l);let a=await this.fetchApi.fetch(r,s);return new up(a.status,a.statusText,a.headers,()=>a.text(),async()=>a.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new RN}};o(LI,"HelixFetcher");var Sv=LI;var SO=nC(),KZ=P2()+Date.now();async function IO(){let e=_O(new xp);return e.set(Pa,new Sv(e)),e.set(Na,new FI(await WZ())),e.set(ia,new ia(KZ,CO())),e.forceSet(sf,new wp),await _C(e,SO.name,!0),e}o(IO,"createUninstallContext");async function WZ(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,TO.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",l=>{e==="unknown"&&(e=l.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",l=>r(l))})}catch{return e}}o(WZ,"lookupVscodeVersion");var OI=class OI extends Na{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:SO.version}}};o(OI,"UninstallEditorInfo");var FI=OI;async function YZ(){let e=await IO(),t=new kp;process.argv.includes("--dry-run")||await t.uninstall(e)}o(YZ,"doUninstall");YZ().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cdric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
