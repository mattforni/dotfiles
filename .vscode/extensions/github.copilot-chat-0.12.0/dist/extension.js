"use strict";var OLe=Object.create;var yP=Object.defineProperty;var MLe=Object.getOwnPropertyDescriptor;var FLe=Object.getOwnPropertyNames;var ULe=Object.getPrototypeOf,BLe=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(t&&(e=t(t=0)),e);var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Jn=(t,e)=>{for(var r in e)yP(t,r,{get:e[r],enumerable:!0})},jre=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of FLe(e))!BLe.call(t,i)&&i!==r&&yP(t,i,{get:()=>e[i],enumerable:!(n=MLe(e,i))||n.enumerable});return t};var Ie=(t,e,r)=>(r=t!=null?OLe(ULe(t)):{},jre(e||!t||!t.__esModule?yP(r,"default",{value:t,enumerable:!0}):r,t)),wi=t=>jre(yP({},"__esModule",{value:!0}),t);var vn=R((sgt,$re)=>{"use strict";var F7=Object.defineProperty,qLe=Object.getOwnPropertyDescriptor,HLe=Object.getOwnPropertyNames,GLe=Object.prototype.hasOwnProperty,jLe=(t,e)=>{for(var r in e)F7(t,r,{get:e[r],enumerable:!0})},VLe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of HLe(e))!GLe.call(t,i)&&i!==r&&F7(t,i,{get:()=>e[i],enumerable:!(n=qLe(e,i))||n.enumerable});return t},zLe=t=>VLe(F7({},"__esModule",{value:!0}),t),zre={};jLe(zre,{config:()=>XLe,t:()=>Yre});$re.exports=zLe(zre);var YLe=require("fs"),$Le=require("fs/promises");async function WLe(t){if(t.protocol==="file:")return await(0,$Le.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:"){let e=await fetch(t.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${t}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function KLe(t){return(0,YLe.readFileSync)(t,"utf8")}var rC;function XLe(t){if("contents"in t){typeof t.contents=="string"?rC=JSON.parse(t.contents):rC=t.contents;return}if("fsPath"in t){let e=KLe(t.fsPath),r=JSON.parse(e);rC=Vre(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,n)=>{let i=WLe(e).then(o=>{try{let s=JSON.parse(o);rC=Vre(s)?s.contents.bundle:s}catch(s){n(s)}}).catch(o=>{n(o)});r(i)})}}function Yre(...t){let e=t[0],r,n,i;if(typeof e=="string")r=e,n=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0];else if(e instanceof Array){let s=t.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let u=1;u<e.length;u++)a+=`{${u-1}}`+e[u];return Yre(a,...s)}else n=e.message,r=n,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=rC?.[r];return o?typeof o=="string"?bP(o,i):o.comment?bP(o.message,i):bP(n,i):bP(n,i)}var QLe=/{([^}]+)}/g;function bP(t,e){return Object.keys(e).length===0?t:t.replace(QLe,(r,n)=>e[n]??r)}function Vre(t){return typeof t?.contents?.bundle=="object"&&typeof t?.version=="string"}});var Kre=R(U7=>{var Wre="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");U7.encode=function(t){if(0<=t&&t<Wre.length)return Wre[t];throw new TypeError("Must be between 0 and 63: "+t)};U7.decode=function(t){var e=65,r=90,n=97,i=122,o=48,s=57,a=43,u=47,c=26,l=52;return e<=t&&t<=r?t-e:n<=t&&t<=i?t-n+c:o<=t&&t<=s?t-o+l:t==a?62:t==u?63:-1}});var H7=R(q7=>{var Xre=Kre(),B7=5,Qre=1<<B7,Jre=Qre-1,Zre=Qre;function JLe(t){return t<0?(-t<<1)+1:(t<<1)+0}function ZLe(t){var e=(t&1)===1,r=t>>1;return e?-r:r}q7.encode=function(e){var r="",n,i=JLe(e);do n=i&Jre,i>>>=B7,i>0&&(n|=Zre),r+=Xre.encode(n);while(i>0);return r};q7.decode=function(e,r,n){var i=e.length,o=0,s=0,a,u;do{if(r>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(u=Xre.decode(e.charCodeAt(r++)),u===-1)throw new Error("Invalid base64 digit: "+e.charAt(r-1));a=!!(u&Zre),u&=Jre,o=o+(u<<s),s+=B7}while(a);n.value=ZLe(o),n.rest=r}});var P1=R(ms=>{function e3e(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}ms.getArg=e3e;var ene=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,t3e=/^data:.+\,.+$/;function nC(t){var e=t.match(ene);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}ms.urlParse=nC;function A1(t){var e="";return t.scheme&&(e+=t.scheme+":"),e+="//",t.auth&&(e+=t.auth+"@"),t.host&&(e+=t.host),t.port&&(e+=":"+t.port),t.path&&(e+=t.path),e}ms.urlGenerate=A1;function G7(t){var e=t,r=nC(t);if(r){if(!r.path)return t;e=r.path}for(var n=ms.isAbsolute(e),i=e.split(/\/+/),o,s=0,a=i.length-1;a>=0;a--)o=i[a],o==="."?i.splice(a,1):o===".."?s++:s>0&&(o===""?(i.splice(a+1,s),s=0):(i.splice(a,2),s--));return e=i.join("/"),e===""&&(e=n?"/":"."),r?(r.path=e,A1(r)):e}ms.normalize=G7;function tne(t,e){t===""&&(t="."),e===""&&(e=".");var r=nC(e),n=nC(t);if(n&&(t=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),A1(r);if(r||e.match(t3e))return e;if(n&&!n.host&&!n.path)return n.host=e,A1(n);var i=e.charAt(0)==="/"?e:G7(t.replace(/\/+$/,"")+"/"+e);return n?(n.path=i,A1(n)):i}ms.join=tne;ms.isAbsolute=function(t){return t.charAt(0)==="/"||ene.test(t)};function r3e(t,e){t===""&&(t="."),t=t.replace(/\/$/,"");for(var r=0;e.indexOf(t+"/")!==0;){var n=t.lastIndexOf("/");if(n<0||(t=t.slice(0,n),t.match(/^([^\/]+:\/)?\/*$/)))return e;++r}return Array(r+1).join("../")+e.substr(t.length+1)}ms.relative=r3e;var rne=function(){var t=Object.create(null);return!("__proto__"in t)}();function nne(t){return t}function n3e(t){return ine(t)?"$"+t:t}ms.toSetString=rne?nne:n3e;function i3e(t){return ine(t)?t.slice(1):t}ms.fromSetString=rne?nne:i3e;function ine(t){if(!t)return!1;var e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(var r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function o3e(t,e,r){var n=R1(t.source,e.source);return n!==0||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0||r)||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=t.generatedLine-e.generatedLine,n!==0)?n:R1(t.name,e.name)}ms.compareByOriginalPositions=o3e;function s3e(t,e,r){var n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0||r)||(n=R1(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:R1(t.name,e.name)}ms.compareByGeneratedPositionsDeflated=s3e;function R1(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function a3e(t,e){var r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=R1(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:R1(t.name,e.name)}ms.compareByGeneratedPositionsInflated=a3e;function c3e(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}ms.parseSourceMapInput=c3e;function u3e(t,e,r){if(e=e||"",t&&(t[t.length-1]!=="/"&&e[0]!=="/"&&(t+="/"),e=t+e),r){var n=nC(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}e=tne(A1(n),e)}return G7(e)}ms.computeSourceURL=u3e});var z7=R(one=>{var j7=P1(),V7=Object.prototype.hasOwnProperty,tv=typeof Map<"u";function Cp(){this._array=[],this._set=tv?new Map:Object.create(null)}Cp.fromArray=function(e,r){for(var n=new Cp,i=0,o=e.length;i<o;i++)n.add(e[i],r);return n};Cp.prototype.size=function(){return tv?this._set.size:Object.getOwnPropertyNames(this._set).length};Cp.prototype.add=function(e,r){var n=tv?e:j7.toSetString(e),i=tv?this.has(e):V7.call(this._set,n),o=this._array.length;(!i||r)&&this._array.push(e),i||(tv?this._set.set(e,o):this._set[n]=o)};Cp.prototype.has=function(e){if(tv)return this._set.has(e);var r=j7.toSetString(e);return V7.call(this._set,r)};Cp.prototype.indexOf=function(e){if(tv){var r=this._set.get(e);if(r>=0)return r}else{var n=j7.toSetString(e);if(V7.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')};Cp.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)};Cp.prototype.toArray=function(){return this._array.slice()};one.ArraySet=Cp});var cne=R(ane=>{var sne=P1();function l3e(t,e){var r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,o=e.generatedColumn;return n>r||n==r&&o>=i||sne.compareByGeneratedPositionsInflated(t,e)<=0}function xP(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}xP.prototype.unsortedForEach=function(e,r){this._array.forEach(e,r)};xP.prototype.add=function(e){l3e(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))};xP.prototype.toArray=function(){return this._sorted||(this._array.sort(sne.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ane.MappingList=xP});var Y7=R(une=>{var iC=H7(),Ai=P1(),EP=z7().ArraySet,f3e=cne().MappingList;function kc(t){t||(t={}),this._file=Ai.getArg(t,"file",null),this._sourceRoot=Ai.getArg(t,"sourceRoot",null),this._skipValidation=Ai.getArg(t,"skipValidation",!1),this._sources=new EP,this._names=new EP,this._mappings=new f3e,this._sourcesContents=null}kc.prototype._version=3;kc.fromSourceMap=function(e){var r=e.sourceRoot,n=new kc({file:e.file,sourceRoot:r});return e.eachMapping(function(i){var o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=Ai.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),e.sources.forEach(function(i){var o=i;r!==null&&(o=Ai.relative(r,i)),n._sources.has(o)||n._sources.add(o);var s=e.sourceContentFor(i);s!=null&&n.setSourceContent(i,s)}),n};kc.prototype.addMapping=function(e){var r=Ai.getArg(e,"generated"),n=Ai.getArg(e,"original",null),i=Ai.getArg(e,"source",null),o=Ai.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})};kc.prototype.setSourceContent=function(e,r){var n=e;this._sourceRoot!=null&&(n=Ai.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[Ai.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[Ai.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};kc.prototype.applySourceMap=function(e,r,n){var i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}var o=this._sourceRoot;o!=null&&(i=Ai.relative(o,i));var s=new EP,a=new EP;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){var c=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});c.source!=null&&(u.source=c.source,n!=null&&(u.source=Ai.join(n,u.source)),o!=null&&(u.source=Ai.relative(o,u.source)),u.originalLine=c.line,u.originalColumn=c.column,c.name!=null&&(u.name=c.name))}var l=u.source;l!=null&&!s.has(l)&&s.add(l);var f=u.name;f!=null&&!a.has(f)&&a.add(f)},this),this._sources=s,this._names=a,e.sources.forEach(function(u){var c=e.sourceContentFor(u);c!=null&&(n!=null&&(u=Ai.join(n,u)),o!=null&&(u=Ai.relative(o,u)),this.setSourceContent(u,c))},this)};kc.prototype._validateMapping=function(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}};kc.prototype._serializeMappings=function(){for(var e=0,r=1,n=0,i=0,o=0,s=0,a="",u,c,l,f,p=this._mappings.toArray(),m=0,d=p.length;m<d;m++){if(c=p[m],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(m>0){if(!Ai.compareByGeneratedPositionsInflated(c,p[m-1]))continue;u+=","}u+=iC.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(f=this._sources.indexOf(c.source),u+=iC.encode(f-s),s=f,u+=iC.encode(c.originalLine-1-i),i=c.originalLine-1,u+=iC.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=iC.encode(l-o),o=l)),a+=u}return a};kc.prototype._generateSourcesContent=function(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=Ai.relative(r,n));var i=Ai.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};kc.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e};kc.prototype.toString=function(){return JSON.stringify(this.toJSON())};une.SourceMapGenerator=kc});var lne=R(rv=>{rv.GREATEST_LOWER_BOUND=1;rv.LEAST_UPPER_BOUND=2;function $7(t,e,r,n,i,o){var s=Math.floor((e-t)/2)+t,a=i(r,n[s],!0);return a===0?s:a>0?e-s>1?$7(s,e,r,n,i,o):o==rv.LEAST_UPPER_BOUND?e<n.length?e:-1:s:s-t>1?$7(t,s,r,n,i,o):o==rv.LEAST_UPPER_BOUND?s:t<0?-1:t}rv.search=function(e,r,n,i){if(r.length===0)return-1;var o=$7(-1,r.length,e,r,n,i||rv.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o}});var pne=R(fne=>{function W7(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function p3e(t,e){return Math.round(t+Math.random()*(e-t))}function K7(t,e,r,n){if(r<n){var i=p3e(r,n),o=r-1;W7(t,i,n);for(var s=t[n],a=r;a<n;a++)e(t[a],s)<=0&&(o+=1,W7(t,o,a));W7(t,o+1,a);var u=o+1;K7(t,e,r,u-1),K7(t,e,u+1,n)}}fne.quickSort=function(t,e){K7(t,e,0,t.length-1)}});var mne=R(TP=>{var Qe=P1(),X7=lne(),N1=z7().ArraySet,d3e=H7(),oC=pne().quickSort;function _n(t,e){var r=t;return typeof t=="string"&&(r=Qe.parseSourceMapInput(t)),r.sections!=null?new Mu(r,e):new qo(r,e)}_n.fromSourceMap=function(t,e){return qo.fromSourceMap(t,e)};_n.prototype._version=3;_n.prototype.__generatedMappings=null;Object.defineProperty(_n.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});_n.prototype.__originalMappings=null;Object.defineProperty(_n.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});_n.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return n===";"||n===","};_n.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")};_n.GENERATED_ORDER=1;_n.ORIGINAL_ORDER=2;_n.GREATEST_LOWER_BOUND=1;_n.LEAST_UPPER_BOUND=2;_n.prototype.eachMapping=function(e,r,n){var i=r||null,o=n||_n.GENERATED_ORDER,s;switch(o){case _n.GENERATED_ORDER:s=this._generatedMappings;break;case _n.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;s.map(function(u){var c=u.source===null?null:this._sources.at(u.source);return c=Qe.computeSourceURL(a,c,this._sourceMapURL),{source:c,generatedLine:u.generatedLine,generatedColumn:u.generatedColumn,originalLine:u.originalLine,originalColumn:u.originalColumn,name:u.name===null?null:this._names.at(u.name)}},this).forEach(e,i)};_n.prototype.allGeneratedPositionsFor=function(e){var r=Qe.getArg(e,"line"),n={source:Qe.getArg(e,"source"),originalLine:r,originalColumn:Qe.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qe.compareByOriginalPositions,X7.LEAST_UPPER_BOUND);if(o>=0){var s=this._originalMappings[o];if(e.column===void 0)for(var a=s.originalLine;s&&s.originalLine===a;)i.push({line:Qe.getArg(s,"generatedLine",null),column:Qe.getArg(s,"generatedColumn",null),lastColumn:Qe.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++o];else for(var u=s.originalColumn;s&&s.originalLine===r&&s.originalColumn==u;)i.push({line:Qe.getArg(s,"generatedLine",null),column:Qe.getArg(s,"generatedColumn",null),lastColumn:Qe.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++o]}return i};TP.SourceMapConsumer=_n;function qo(t,e){var r=t;typeof t=="string"&&(r=Qe.parseSourceMapInput(t));var n=Qe.getArg(r,"version"),i=Qe.getArg(r,"sources"),o=Qe.getArg(r,"names",[]),s=Qe.getArg(r,"sourceRoot",null),a=Qe.getArg(r,"sourcesContent",null),u=Qe.getArg(r,"mappings"),c=Qe.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);s&&(s=Qe.normalize(s)),i=i.map(String).map(Qe.normalize).map(function(l){return s&&Qe.isAbsolute(s)&&Qe.isAbsolute(l)?Qe.relative(s,l):l}),this._names=N1.fromArray(o.map(String),!0),this._sources=N1.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(l){return Qe.computeSourceURL(s,l,e)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=e,this.file=c}qo.prototype=Object.create(_n.prototype);qo.prototype.consumer=_n;qo.prototype._findSourceIndex=function(t){var e=t;if(this.sourceRoot!=null&&(e=Qe.relative(this.sourceRoot,e)),this._sources.has(e))return this._sources.indexOf(e);var r;for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==t)return r;return-1};qo.fromSourceMap=function(e,r){var n=Object.create(qo.prototype),i=n._names=N1.fromArray(e._names.toArray(),!0),o=n._sources=N1.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(m){return Qe.computeSourceURL(n.sourceRoot,m,r)});for(var s=e._mappings.toArray().slice(),a=n.__generatedMappings=[],u=n.__originalMappings=[],c=0,l=s.length;c<l;c++){var f=s[c],p=new dne;p.generatedLine=f.generatedLine,p.generatedColumn=f.generatedColumn,f.source&&(p.source=o.indexOf(f.source),p.originalLine=f.originalLine,p.originalColumn=f.originalColumn,f.name&&(p.name=i.indexOf(f.name)),u.push(p)),a.push(p)}return oC(n.__originalMappings,Qe.compareByOriginalPositions),n};qo.prototype._version=3;Object.defineProperty(qo.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function dne(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}qo.prototype._parseMappings=function(e,r){for(var n=1,i=0,o=0,s=0,a=0,u=0,c=e.length,l=0,f={},p={},m=[],d=[],h,g,v,_,y;l<c;)if(e.charAt(l)===";")n++,l++,i=0;else if(e.charAt(l)===",")l++;else{for(h=new dne,h.generatedLine=n,_=l;_<c&&!this._charIsMappingSeparator(e,_);_++);if(g=e.slice(l,_),v=f[g],v)l+=g.length;else{for(v=[];l<_;)d3e.decode(e,l,p),y=p.value,l=p.rest,v.push(y);if(v.length===2)throw new Error("Found a source, but no line and column");if(v.length===3)throw new Error("Found a source and line, but no column");f[g]=v}h.generatedColumn=i+v[0],i=h.generatedColumn,v.length>1&&(h.source=a+v[1],a+=v[1],h.originalLine=o+v[2],o=h.originalLine,h.originalLine+=1,h.originalColumn=s+v[3],s=h.originalColumn,v.length>4&&(h.name=u+v[4],u+=v[4])),d.push(h),typeof h.originalLine=="number"&&m.push(h)}oC(d,Qe.compareByGeneratedPositionsDeflated),this.__generatedMappings=d,oC(m,Qe.compareByOriginalPositions),this.__originalMappings=m};qo.prototype._findMapping=function(e,r,n,i,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return X7.search(e,r,o,s)};qo.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}};qo.prototype.originalPositionFor=function(e){var r={generatedLine:Qe.getArg(e,"line"),generatedColumn:Qe.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",Qe.compareByGeneratedPositionsDeflated,Qe.getArg(e,"bias",_n.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===r.generatedLine){var o=Qe.getArg(i,"source",null);o!==null&&(o=this._sources.at(o),o=Qe.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=Qe.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:o,line:Qe.getArg(i,"originalLine",null),column:Qe.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}};qo.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1};qo.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var i=e;this.sourceRoot!=null&&(i=Qe.relative(this.sourceRoot,i));var o;if(this.sourceRoot!=null&&(o=Qe.urlParse(this.sourceRoot))){var s=i.replace(/^file:\/\//,"");if(o.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!o.path||o.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(r)return null;throw new Error('"'+i+'" is not in the SourceMap.')};qo.prototype.generatedPositionFor=function(e){var r=Qe.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:Qe.getArg(e,"line"),originalColumn:Qe.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",Qe.compareByOriginalPositions,Qe.getArg(e,"bias",_n.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:Qe.getArg(o,"generatedLine",null),column:Qe.getArg(o,"generatedColumn",null),lastColumn:Qe.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};TP.BasicSourceMapConsumer=qo;function Mu(t,e){var r=t;typeof t=="string"&&(r=Qe.parseSourceMapInput(t));var n=Qe.getArg(r,"version"),i=Qe.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new N1,this._names=new N1;var o={line:-1,column:0};this._sections=i.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var a=Qe.getArg(s,"offset"),u=Qe.getArg(a,"line"),c=Qe.getArg(a,"column");if(u<o.line||u===o.line&&c<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=a,{generatedOffset:{generatedLine:u+1,generatedColumn:c+1},consumer:new _n(Qe.getArg(s,"map"),e)}})}Mu.prototype=Object.create(_n.prototype);Mu.prototype.constructor=_n;Mu.prototype._version=3;Object.defineProperty(Mu.prototype,"sources",{get:function(){for(var t=[],e=0;e<this._sections.length;e++)for(var r=0;r<this._sections[e].consumer.sources.length;r++)t.push(this._sections[e].consumer.sources[r]);return t}});Mu.prototype.originalPositionFor=function(e){var r={generatedLine:Qe.getArg(e,"line"),generatedColumn:Qe.getArg(e,"column")},n=X7.search(r,this._sections,function(o,s){var a=o.generatedLine-s.generatedOffset.generatedLine;return a||o.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}};Mu.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})};Mu.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],o=i.consumer.sourceContentFor(e,!0);if(o)return o}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')};Mu.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(n.consumer._findSourceIndex(Qe.getArg(e,"source"))!==-1){var i=n.consumer.generatedPositionFor(e);if(i){var o={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return o}}}return{line:null,column:null}};Mu.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var a=o[s],u=i.consumer._sources.at(a.source);u=Qe.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var c=null;a.name&&(c=i.consumer._names.at(a.name),this._names.add(c),c=this._names.indexOf(c));var l={source:u,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:c};this.__generatedMappings.push(l),typeof l.originalLine=="number"&&this.__originalMappings.push(l)}oC(this.__generatedMappings,Qe.compareByGeneratedPositionsDeflated),oC(this.__originalMappings,Qe.compareByOriginalPositions)};TP.IndexedSourceMapConsumer=Mu});var gne=R(hne=>{var m3e=Y7().SourceMapGenerator,SP=P1(),h3e=/(\r?\n)/,g3e=10,D1="$$$isSourceNode$$$";function Ka(t,e,r,n,i){this.children=[],this.sourceContents={},this.line=t??null,this.column=e??null,this.source=r??null,this.name=i??null,this[D1]=!0,n!=null&&this.add(n)}Ka.fromStringWithSourceMap=function(e,r,n){var i=new Ka,o=e.split(h3e),s=0,a=function(){var p=d(),m=d()||"";return p+m;function d(){return s<o.length?o[s++]:void 0}},u=1,c=0,l=null;return r.eachMapping(function(p){if(l!==null)if(u<p.generatedLine)f(l,a()),u++,c=0;else{var m=o[s]||"",d=m.substr(0,p.generatedColumn-c);o[s]=m.substr(p.generatedColumn-c),c=p.generatedColumn,f(l,d),l=p;return}for(;u<p.generatedLine;)i.add(a()),u++;if(c<p.generatedColumn){var m=o[s]||"";i.add(m.substr(0,p.generatedColumn)),o[s]=m.substr(p.generatedColumn),c=p.generatedColumn}l=p},this),s<o.length&&(l&&f(l,a()),i.add(o.splice(s).join(""))),r.sources.forEach(function(p){var m=r.sourceContentFor(p);m!=null&&(n!=null&&(p=SP.join(n,p)),i.setSourceContent(p,m))}),i;function f(p,m){if(p===null||p.source===void 0)i.add(m);else{var d=n?SP.join(n,p.source):p.source;i.add(new Ka(p.originalLine,p.originalColumn,d,m,p.name))}}};Ka.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[D1]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Ka.prototype.prepend=function(e){if(Array.isArray(e))for(var r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[D1]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this};Ka.prototype.walk=function(e){for(var r,n=0,i=this.children.length;n<i;n++)r=this.children[n],r[D1]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})};Ka.prototype.join=function(e){var r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this};Ka.prototype.replaceRight=function(e,r){var n=this.children[this.children.length-1];return n[D1]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this};Ka.prototype.setSourceContent=function(e,r){this.sourceContents[SP.toSetString(e)]=r};Ka.prototype.walkSourceContents=function(e){for(var r=0,n=this.children.length;r<n;r++)this.children[r][D1]&&this.children[r].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),r=0,n=i.length;r<n;r++)e(SP.fromSetString(i[r]),this.sourceContents[i[r]])};Ka.prototype.toString=function(){var e="";return this.walk(function(r){e+=r}),e};Ka.prototype.toStringWithSourceMap=function(e){var r={code:"",line:1,column:0},n=new m3e(e),i=!1,o=null,s=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||s!==l.line||a!==l.column||u!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),o=l.source,s=l.line,a=l.column,u=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(var f=0,p=c.length;f<p;f++)c.charCodeAt(f)===g3e?(r.line++,r.column=0,f+1===p?(o=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){n.setSourceContent(c,l)}),{code:r.code,map:n}};hne.SourceNode=Ka});var vne=R(CP=>{CP.SourceMapGenerator=Y7().SourceMapGenerator;CP.SourceMapConsumer=mne().SourceMapConsumer;CP.SourceNode=gne().SourceNode});var yne=R((_gt,_ne)=>{var v3e=Object.prototype.toString,Q7=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function _3e(t){return v3e.call(t).slice(8,-1)==="ArrayBuffer"}function y3e(t,e,r){e>>>=0;var n=t.byteLength-e;if(n<0)throw new RangeError("'offset' is out of bounds");if(r===void 0)r=n;else if(r>>>=0,r>n)throw new RangeError("'length' is out of bounds");return Q7?Buffer.from(t.slice(e,e+r)):new Buffer(new Uint8Array(t.slice(e,e+r)))}function b3e(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Q7?Buffer.from(t,e):new Buffer(t,e)}function x3e(t,e,r){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return _3e(t)?y3e(t,e,r):typeof t=="string"?b3e(t,e):Q7?Buffer.from(t):new Buffer(t)}_ne.exports=x3e});var wne=R((iv,tF)=>{var E3e=vne().SourceMapConsumer,J7=require("path"),Dl;try{Dl=require("fs"),(!Dl.existsSync||!Dl.readFileSync)&&(Dl=null)}catch{}var T3e=yne();function bne(t,e){return t.require(e)}var xne=!1,Ene=!1,Z7=!1,sC="auto",nv={},aC={},S3e=/^data:application\/json[^,]+base64,/,wm=[],Am=[];function rF(){return sC==="browser"?!0:sC==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}function C3e(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}function I3e(){return typeof process=="object"&&process!==null?process.version:""}function w3e(){if(typeof process=="object"&&process!==null)return process.stderr}function A3e(t){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(t)}function IP(t){return function(e){for(var r=0;r<t.length;r++){var n=t[r](e);if(n)return n}return null}}var nF=IP(wm);wm.push(function(t){if(t=t.trim(),/^file:/.test(t)&&(t=t.replace(/file:\/\/\/(\w:)?/,function(n,i){return i?"":"/"})),t in nv)return nv[t];var e="";try{if(Dl)Dl.existsSync(t)&&(e=Dl.readFileSync(t,"utf8"));else{var r=new XMLHttpRequest;r.open("GET",t,!1),r.send(null),r.readyState===4&&r.status===200&&(e=r.responseText)}}catch{}return nv[t]=e});function eF(t,e){if(!t)return e;var r=J7.dirname(t),n=/^\w+:\/\/[^\/]*/.exec(r),i=n?n[0]:"",o=r.slice(i.length);return i&&/^\/\w\:/.test(o)?(i+="/",i+J7.resolve(r.slice(i.length),e).replace(/\\/g,"/")):i+J7.resolve(r.slice(i.length),e)}function R3e(t){var e;if(rF())try{var r=new XMLHttpRequest;r.open("GET",t,!1),r.send(null),e=r.readyState===4?r.responseText:null;var n=r.getResponseHeader("SourceMap")||r.getResponseHeader("X-SourceMap");if(n)return n}catch{}e=nF(t);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,o,s;s=i.exec(e);)o=s;return o?o[1]:null}var iF=IP(Am);Am.push(function(t){var e=R3e(t);if(!e)return null;var r;if(S3e.test(e)){var n=e.slice(e.indexOf(",")+1);r=T3e(n,"base64").toString(),e=t}else e=eF(t,e),r=nF(e);return r?{url:e,map:r}:null});function oF(t){var e=aC[t.source];if(!e){var r=iF(t.source);r?(e=aC[t.source]={url:r.url,map:new E3e(r.map)},e.map.sourcesContent&&e.map.sources.forEach(function(i,o){var s=e.map.sourcesContent[o];if(s){var a=eF(e.url,i);nv[a]=s}})):e=aC[t.source]={url:null,map:null}}if(e&&e.map&&typeof e.map.originalPositionFor=="function"){var n=e.map.originalPositionFor(t);if(n.source!==null)return n.source=eF(e.url,n.source),n}return t}function Sne(t){var e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(e){var r=oF({source:e[2],line:+e[3],column:e[4]-1});return"eval at "+e[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return e=/^eval at ([^(]+) \((.+)\)$/.exec(t),e?"eval at "+e[1]+" ("+Sne(e[2])+")":t}function P3e(){var t,e="";if(this.isNative())e="native";else{t=this.getScriptNameOrSourceURL(),!t&&this.isEval()&&(e=this.getEvalOrigin(),e+=", "),t?e+=t:e+="<anonymous>";var r=this.getLineNumber();if(r!=null){e+=":"+r;var n=this.getColumnNumber();n&&(e+=":"+n)}}var i="",o=this.getFunctionName(),s=!0,a=this.isConstructor(),u=!(this.isToplevel()||a);if(u){var c=this.getTypeName();c==="[object Object]"&&(c="null");var l=this.getMethodName();o?(c&&o.indexOf(c)!=0&&(i+=c+"."),i+=o,l&&o.indexOf("."+l)!=o.length-l.length-1&&(i+=" [as "+l+"]")):i+=c+"."+(l||"<anonymous>")}else a?i+="new "+(o||"<anonymous>"):o?i+=o:(i+=e,s=!1);return s&&(i+=" ("+e+")"),i}function Tne(t){var e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(function(r){e[r]=/^(?:is|get)/.test(r)?function(){return t[r].call(t)}:t[r]}),e.toString=P3e,e}function Cne(t,e){if(e===void 0&&(e={nextPosition:null,curPosition:null}),t.isNative())return e.curPosition=null,t;var r=t.getFileName()||t.getScriptNameOrSourceURL();if(r){var n=t.getLineNumber(),i=t.getColumnNumber()-1,o=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,s=o.test(I3e())?0:62;n===1&&i>s&&!rF()&&!t.isEval()&&(i-=s);var a=oF({source:r,line:n,column:i});e.curPosition=a,t=Tne(t);var u=t.getFunctionName;return t.getFunctionName=function(){return e.nextPosition==null?u():e.nextPosition.name||u()},t.getFileName=function(){return a.source},t.getLineNumber=function(){return a.line},t.getColumnNumber=function(){return a.column+1},t.getScriptNameOrSourceURL=function(){return a.source},t}var c=t.isEval()&&t.getEvalOrigin();return c&&(c=Sne(c),t=Tne(t),t.getEvalOrigin=function(){return c}),t}function N3e(t,e){Z7&&(nv={},aC={});for(var r=t.name||"Error",n=t.message||"",i=r+": "+n,o={nextPosition:null,curPosition:null},s=[],a=e.length-1;a>=0;a--)s.push(`
    at `+Cne(e[a],o)),o.nextPosition=o.curPosition;return o.curPosition=o.nextPosition=null,i+s.reverse().join("")}function Ine(t){var e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(t.stack);if(e){var r=e[1],n=+e[2],i=+e[3],o=nv[r];if(!o&&Dl&&Dl.existsSync(r))try{o=Dl.readFileSync(r,"utf8")}catch{o=""}if(o){var s=o.split(/(?:\r\n|\r|\n)/)[n-1];if(s)return r+":"+n+`
`+s+`
`+new Array(i).join(" ")+"^"}}return null}function D3e(t){var e=Ine(t),r=w3e();r&&r._handle&&r._handle.setBlocking&&r._handle.setBlocking(!0),e&&(console.error(),console.error(e)),console.error(t.stack),A3e(1)}function k3e(){var t=process.emit;process.emit=function(e){if(e==="uncaughtException"){var r=arguments[1]&&arguments[1].stack,n=this.listeners(e).length>0;if(r&&!n)return D3e(arguments[1])}return t.apply(this,arguments)}}var L3e=wm.slice(0),O3e=Am.slice(0);iv.wrapCallSite=Cne;iv.getErrorSource=Ine;iv.mapSourcePosition=oF;iv.retrieveSourceMap=iF;iv.install=function(t){if(t=t||{},t.environment&&(sC=t.environment,["node","browser","auto"].indexOf(sC)===-1))throw new Error("environment "+sC+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(wm.length=0),wm.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(Am.length=0),Am.unshift(t.retrieveSourceMap)),t.hookRequire&&!rF()){var e=bne(tF,"module"),r=e.prototype._compile;r.__sourceMapSupport||(e.prototype._compile=function(o,s){return nv[s]=o,aC[s]=void 0,r.call(this,o,s)},e.prototype._compile.__sourceMapSupport=!0)}if(Z7||(Z7="emptyCacheBetweenOperations"in t?t.emptyCacheBetweenOperations:!1),xne||(xne=!0,Error.prepareStackTrace=N3e),!Ene){var n="handleUncaughtExceptions"in t?t.handleUncaughtExceptions:!0;try{var i=bne(tF,"worker_threads");i.isMainThread===!1&&(n=!1)}catch{}n&&C3e()&&(Ene=!0,k3e())}};iv.resetRetrieveHandlers=function(){wm.length=0,Am.length=0,wm=L3e.slice(0),Am=O3e.slice(0),iF=IP(Am),nF=IP(wm)}});var Nne=R((Sgt,M3e)=>{M3e.exports={name:"copilot-chat",displayName:"GitHub Copilot Chat",description:"AI chat features powered by Copilot",version:"0.12.0",build:"1",internalAIKey:"1058ec22-3c95-4951-8443-f26c1f325911",ariaKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",buildType:"prod",publisher:"GitHub",homepage:"https://github.com/features/copilot",license:"SEE LICENSE IN LICENSE.txt",repository:{type:"git",url:"https://github.com/microsoft/vscode-copilot-release"},bugs:{url:"https://aka.ms/microsoft/vscode-copilot-release"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",engines:{vscode:"^1.86.0",npm:">=9.0.0",node:">=18.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup",description:"%github.copilot.badge.signUp%"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"%github.copilot.badge.star%"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"%github.copilot.badge.youtube%"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"%github.copilot.badge.twitter%"}],activationEvents:["onStartupFinished"],main:"./dist/extension",l10n:"./l10n",enabledApiProposals:["interactive","chatProvider","codeActionAI","findTextInFiles","textSearchProvider","terminalDataWriteEvent","terminalExecuteCommandEvent","terminalSelection","terminalQuickFixProvider","mappedEditsProvider","aiRelatedInformation","chatAgents2","chatAgents2Additions","defaultChatAgent","contribSourceControlInputBoxMenu"],contributes:{interactiveSession:[{label:"GitHub Copilot",id:"copilot",icon:"",when:"!github.copilot.interactiveSession.disabled"}],viewsWelcome:[{view:"workbench.panel.chat.view.copilot",contents:"%github.copilot.viewsWelcome.signIn%",when:"!github.copilot.activated && !github.copilot.offline && !github.copilot.interactiveSession.individual.disabled && !github.copilot.interactiveSession.individual.expired && !github.copilot.interactiveSession.enterprise.disabled"},{view:"workbench.panel.chat.view.copilot",contents:"%github.copilot.viewsWelcome.individual%",when:"github.copilot.interactiveSession.individual.disabled"},{view:"workbench.panel.chat.view.copilot",contents:"%github.copilot.viewsWelcome.individual.expired%",when:"github.copilot.interactiveSession.individual.expired"},{view:"workbench.panel.chat.view.copilot",contents:"%github.copilot.viewsWelcome.enterprise%",when:"github.copilot.interactiveSession.enterprise.disabled"},{view:"workbench.panel.chat.view.copilot",contents:"%github.copilot.viewsWelcome.offline%",when:"github.copilot.offline"}],commands:[{command:"github.copilot.interactiveEditor.explain",title:"%github.copilot.command.explainThis%",enablement:"!github.copilot.interactiveSession.disabled && !editorReadonly",category:"GitHub Copilot"},{command:"github.copilot.interactiveEditor.generate",title:"%github.copilot.command.generateThis%",enablement:"!github.copilot.interactiveSession.disabled && !editorReadonly",category:"GitHub Copilot"},{command:"github.copilot.interactiveEditor.generateDocs",title:"%github.copilot.command.generateDocs%",enablement:"!github.copilot.interactiveSession.disabled && !editorReadonly",category:"GitHub Copilot"},{command:"github.copilot.interactiveEditor.generateTests",title:"%github.copilot.command.generateTests%",enablement:"!github.copilot.interactiveSession.disabled && !editorReadonly",category:"GitHub Copilot"},{command:"github.copilot.interactiveEditor.fix",title:"%github.copilot.command.fixThis%",enablement:"!github.copilot.interactiveSession.disabled && !editorReadonly",category:"GitHub Copilot"},{command:"github.copilot.interactiveSession.feedback",title:"%github.copilot.command.sendChatFeedback%",enablement:"github.copilot.activated && !github.copilot.interactiveSession.disabled",icon:"$(feedback)",category:"GitHub Copilot"},{command:"github.copilot.debug.workbenchState",title:"%github.copilot.command.logWorkbenchState%",category:"Developer"},{command:"github.copilot.ghpr.applySuggestion",title:"%github.copilot.command.applySuggestionWithCopilot%",icon:"$(sparkle)",category:"GitHub Copilot"},{command:"github.copilot.terminal.explainTerminalSelection",title:"%github.copilot.command.explainTerminalSelection%",category:"GitHub Copilot"},{command:"github.copilot.terminal.explainTerminalSelectionContextMenu",title:"%github.copilot.command.explainTerminalSelectionContextMenu%",category:"GitHub Copilot"},{command:"github.copilot.terminal.explainTerminalLastCommand",title:"%github.copilot.command.explainTerminalLastCommand%",category:"GitHub Copilot"},{command:"github.copilot.terminal.suggestCommand",title:"%github.copilot.command.suggestCommand%",category:"GitHub Copilot"},{command:"github.copilot.git.generateCommitMessage",title:"%github.copilot.git.generateCommitMessage%",icon:"$(sparkle)",category:"GitHub Copilot"}],configuration:{title:"Copilot",properties:{"github.copilot.editor.enableCodeActions":{type:"boolean",default:!0,description:"%github.copilot.config.enableCodeActions%"},"github.copilot.chat.localeOverride":{type:"string",enum:["auto","en","fr","it","de","es","ru","zh-CN","zh-TW","ja","ko","cs","pt-br","tr","pl"],enumDescriptions:["Use VS Code's configured display language","English","fran\xE7ais","italiano","Deutsch","espa\xF1ol","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","\u4E2D\u6587(\u7B80\u4F53)","\u4E2D\u6587(\u7E41\u9AD4)","\u65E5\u672C\u8A9E","\uD55C\uAD6D\uC5B4","\u010De\u0161tina","portugu\xEAs","T\xFCrk\xE7e","polski"],default:"auto",markdownDescription:"%github.copilot.config.localeOverride%"},"github.copilot.chat.welcomeMessage":{type:"string",default:"first",markdownDescription:"%github.copilot.config.welcomeMessage%",markdownEnumDescriptions:["%github.copilot.config.welcomeMessage.first%","%github.copilot.config.welcomeMessage.always%","%github.copilot.config.welcomeMessage.never%"],enum:["first","always","never"]}}},configurationDefaults:{"terminal.integrated.commandsToSkipShell":["github.copilot.terminal.suggestCommand"]},keybindings:[{command:"github.copilot.terminal.suggestCommand",key:"ctrl+i",mac:"cmd+i",when:"terminalFocus"}],submenus:[{id:"copilot",label:"Copilot"}],menus:{"editor/context":[{submenu:"copilot",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"1_copilot@0"}],copilot:[{command:"inlineChat.start",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"copilot@1"},{command:"github.copilot.interactiveEditor.explain",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"copilotAction@1"},{command:"github.copilot.interactiveEditor.fix",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"copilotAction@2"},{command:"github.copilot.interactiveEditor.generateDocs",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"copilotAction@3"},{command:"github.copilot.interactiveEditor.generateTests",when:"!github.copilot.interactiveSession.disabled && !editorReadonly",group:"copilotAction@4"}],"terminal/context":[{command:"github.copilot.terminal.explainTerminalSelectionContextMenu",group:"1_copilot@0"}],commandPalette:[{command:"github.copilot.interactiveSession.feedback",when:"github.copilot.activated && !github.copilot.interactiveSession.disabled"},{command:"github.copilot.debug.workbenchState",when:"true"},{command:"github.copilot.terminal.explainTerminalSelectionContextMenu",when:"false"},{command:"github.copilot.git.generateCommitMessage",when:"false"}],"view/title":[{command:"github.copilot.interactiveSession.feedback",when:"view == workbench.panel.chat.view.copilot",group:"feedback"}],"comments/comment/title":[{command:"github.copilot.ghpr.applySuggestion",title:"Apply Suggestion with Copilot",group:"inline@0",when:"commentController =~ /^github-review/ && !(comment =~ /hasSuggestion/)"}],"scm/inputBox":[{command:"github.copilot.git.generateCommitMessage",when:"scmProvider == git"}]},icons:{"copilot-logo":{description:"%github.copilot.icon%",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"%github.copilot.icon%",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"%github.copilot.icon%",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}],terminalQuickFixes:[{id:"copilot-chat.fixWithCopilot",commandLineMatcher:".+",commandExitResult:"error",outputMatcher:{anchor:"bottom",length:1,lineMatcher:".+",offset:0},kind:"explain"},{id:"copilot-chat.generateCommitMessage",commandLineMatcher:"git add .+",commandExitResult:"success",kind:"explain",outputMatcher:{anchor:"bottom",length:1,lineMatcher:".+",offset:0}}]},extensionPack:["GitHub.copilot"],scripts:{postinstall:"tsx ./script/postinstall.ts",prepare:"tsx script/setup/prepare.ts","husky:install":"husky install","vscode:prepublish":"npm run build","vscode-dts:dev":"npx vscode-dts dev && mv vscode.proposed.*.ts src/extension",build:"tsx .esbuild.ts",compile:"tsx .esbuild.ts --dev",watch:"npm-run-all -p watch:*","watch:esbuild":"tsx .esbuild.ts --watch --dev","watch:tsc-extension":"tsc --noEmit --watch --project tsconfig.json","watch:tsc-simulation-workbench":"tsc --noEmit --watch --project test/simulation/workbench/tsconfig.json",typecheck:"tsc --noEmit -project tsconfig.json && tsc --noEmit --project test/simulation/workbench/tsconfig.json",lint:"eslint src test --max-warnings=0 --ext ts","lint-staged":"eslint src test --ext ts",tsfmt:"node tsfmt ./tsfmt.json -r --verify",test:"npm-run-all test:*","test:extension":"vscode-test --code-version=insiders --timeout=5000","test:unit":"mocha -u tdd dist/test-unit.js --require source-map-support/register --exit --timeout=5000","test:unit_jest":"jest",get_token:"tsx script/setup/getToken.mts","patch-release":"tsx script/build/applyPatchForRelease.ts","patch-prerelease":"tsx script/build/applyPatchForRelease.ts -- --prerelease",prettier:"prettier --list-different --write --cache .",simulate:"node dist/simulationMain.js","simulate-ci":"node dist/simulationMain.js --ci --require-cache","simulate-baseline":"node dist/simulationMain.js --update-baseline",setup:"python script/setup/setup.py && npm run get_token","setup:dotnet":"run-script-os","setup:dotnet:darwin:linux":"curl -O https://dotnet.microsoft.com/download/dotnet/scripts/v1/dotnet-install.sh && chmod u+x dotnet-install.sh && ./dotnet-install.sh --version latest --quality GA --channel STS && rm dotnet-install.sh","setup:dotnet:win32":"Invoke-WebRequest -Uri https://dotnet.microsoft.com/download/dotnet/scripts/v1/dotnet-install.ps1 && chmod u+x dotnet-install.ps1 && ./dotnet-install.ps1 --version latest --quality GA --channel STS && rm dotnet-install.ps1",aml:"python test/aml/run.py",package:"vsce package"},devDependencies:{"@fluentui/react-components":"^9.44.4","@fluentui/react-icons":"^2.0.224","@jest/globals":"^29.7.0","@nteract/messaging":"^7.0.20","@types/eslint":"8.44.8","@types/kerberos":"^1.1.5","@types/markdown-it":"^13.0.7","@types/minimist":"^1.2.5","@types/mocha":"^10.0.6","@types/node":"^20.10.3","@types/picomatch":"^2.3.3","@types/react":"17.0.44","@types/react-dom":"^18.2.17","@types/sinon":"^17.0.2","@types/tar":"^6.1.10","@types/vscode":"^1.85.0","@typescript-eslint/eslint-plugin":"^6.13.2","@typescript-eslint/parser":"^6.13.2","@typescript-eslint/typescript-estree":"^6.13.2","@vscode/dts":"^0.4.0","@vscode/test-cli":"^0.0.4","@vscode/test-electron":"^2.3.8","@vscode/vsce":"2.22.0","@vscode/zeromq":"0.2.0","csv-parse":"^5.5.2",dotenv:"^16.3.1",electron:"^27.1.3",esbuild:"^0.19.8",eslint:"^8.55.0","eslint-import-resolver-typescript":"^3.6.1","eslint-plugin-header":"^3.1.1","eslint-plugin-import":"^2.29.0","eslint-plugin-jsdoc":"^46.9.0","eslint-plugin-local":"^1.0.0","eslint-plugin-no-only-tests":"^3.1.0",glob:"^10.3.10",husky:"^8.0.3",jest:"^29.7.0","lint-staged":"^15.2.0",minimist:"^1.2.8",mobx:"^6.12.0","mobx-react-lite":"^4.0.5",mocha:"^10.2.0","monaco-editor":"0.44.0","npm-run-all":"^4.1.5",open:"^9.1.0",outdent:"^0.8.0",picomatch:"^3.0.1",prettier:"^2.8.7",react:"^17.0.2","react-dom":"17.0.2","run-script-os":"^1.1.6",sinon:"^17.0.1",tar:"^6.2.0","tree-sitter-c-sharp":"^0.20.0","tree-sitter-cli":"^0.20.8","tree-sitter-cpp":"^0.20.3","tree-sitter-go":"^0.20.0","tree-sitter-java":"^0.20.2","tree-sitter-javascript":"^0.20.1","tree-sitter-python":"^0.20.4","tree-sitter-ruby":"^0.19.0","tree-sitter-rust":"^0.20.4","tree-sitter-typescript":"^0.20.3","ts-dedent":"^2.2.0","ts-jest":"^29.1.1","ts-node":"^10.9.1",tsx:"^4.6.2",typescript:"^5.3.2",zeromq:"github:rebornix/zeromq.js#a19e8e373b3abc677f91b936d3f00d49b1b61792",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#eaa2f1344d93625e1bddb83d6846be5eea007e94","@humanwhocodes/gitignore-to-minimatch":"1.0.2","@microsoft/tiktokenizer":"^1.0.3","@roamhq/mac-ca":"^1.0.7","@vscode/extension-telemetry":"^0.9.1","@vscode/l10n":"^0.0.17",applicationinsights:"^2.9.1",ignore:"^5.3.0",isbinaryfile:"^5.0.0","jsonc-parser":"^3.2.0","markdown-it":"^14.0.0",minimatch:"^9.0.3","source-map-support":"^0.5.21","vscode-tas-client":"^0.1.75","web-tree-sitter":"^0.20.8"},"lint-staged":{"!(test/simulation/fixtures/**|.test-scenarios/**)*.{ts,js}":["npm run tsfmt --","npm run lint-staged --"]},isPreRelease:!1}});var Zne=R(QP=>{"use strict";Object.defineProperty(QP,"__esModule",{value:!0});QP.LRUCache=void 0;var dC=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Xne=new Set,IF=typeof process=="object"&&process?process:{},Qne=(t,e,r,n)=>{typeof IF.emitWarning=="function"?IF.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)},XP=globalThis.AbortController,Kne=globalThis.AbortSignal;if(typeof XP>"u"){Kne=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,i){this._onabort.push(i)}},XP=class{constructor(){e()}signal=new Kne;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(let i of this.signal._onabort)i(n);this.signal.onabort?.(n)}}};let t=IF.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,Qne("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}var lOe=t=>!Xne.has(t),tvt=Symbol("type"),Lm=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Jne=t=>Lm(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?q1:null:null,q1=class extends Array{constructor(e){super(e),this.fill(0)}},wF=class t{heap;length;static#r=!1;static create(e){let r=Jne(e);if(!r)return[];t.#r=!0;let n=new t(e,r);return t.#r=!1,n}constructor(e,r){if(!t.#r)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},AF=class t{#r;#i;#p;#t;#c;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#m;#a;#n;#e;#f;#h;#l;#u;#v;#d;#T;#S;#y;#b;#I;#g;static unsafeExposeInternals(e){return{starts:e.#S,ttls:e.#y,sizes:e.#T,keyMap:e.#a,keyList:e.#n,valList:e.#e,next:e.#f,prev:e.#h,get head(){return e.#l},get tail(){return e.#u},free:e.#v,isBackgroundFetch:r=>e.#o(r),backgroundFetch:(r,n,i,o)=>e.#D(r,n,i,o),moveToTail:r=>e.#R(r),indexes:r=>e.#x(r),rindexes:r=>e.#E(r),isStale:r=>e.#_(r)}}get max(){return this.#r}get maxSize(){return this.#i}get calculatedSize(){return this.#m}get size(){return this.#s}get fetchMethod(){return this.#c}get dispose(){return this.#p}get disposeAfter(){return this.#t}constructor(e){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:u,dispose:c,disposeAfter:l,noDisposeOnSet:f,noUpdateTTL:p,maxSize:m=0,maxEntrySize:d=0,sizeCalculation:h,fetchMethod:g,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:_,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:x,ignoreFetchAbort:b}=e;if(r!==0&&!Lm(r))throw new TypeError("max option must be a nonnegative integer");let T=r?Jne(r):Array;if(!T)throw new Error("invalid max value: "+r);if(this.#r=r,this.#i=m,this.maxEntrySize=d||this.#i,this.sizeCalculation=h,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(g!==void 0&&typeof g!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#c=g,this.#I=!!g,this.#a=new Map,this.#n=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new T(r),this.#h=new T(r),this.#l=0,this.#u=0,this.#v=wF.create(r),this.#s=0,this.#m=0,typeof c=="function"&&(this.#p=c),typeof l=="function"?(this.#t=l,this.#d=[]):(this.#t=void 0,this.#d=void 0),this.#b=!!this.#p,this.#g=!!this.#t,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!y,this.allowStaleOnFetchAbort=!!x,this.ignoreFetchAbort=!!b,this.maxEntrySize!==0){if(this.#i!==0&&!Lm(this.#i))throw new TypeError("maxSize must be a positive integer if specified");if(!Lm(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!u,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=Lm(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!Lm(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#k()}if(this.#r===0&&this.ttl===0&&this.#i===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#r&&!this.#i){let k="LRU_CACHE_UNBOUNDED";lOe(k)&&(Xne.add(k),Qne("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",k,t))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#k(){let e=new q1(this.#r),r=new q1(this.#r);this.#y=e,this.#S=r,this.#L=(o,s,a=dC.now())=>{if(r[o]=s!==0?a:0,e[o]=s,s!==0&&this.ttlAutopurge){let u=setTimeout(()=>{this.#_(o)&&this.delete(this.#n[o])},s+1);u.unref&&u.unref()}},this.#w=o=>{r[o]=e[o]!==0?dC.now():0},this.#C=(o,s)=>{if(e[s]){let a=e[s],u=r[s];o.ttl=a,o.start=u,o.now=n||i();let c=o.now-u;o.remainingTTL=a-c}};let n=0,i=()=>{let o=dC.now();if(this.ttlResolution>0){n=o;let s=setTimeout(()=>n=0,this.ttlResolution);s.unref&&s.unref()}return o};this.getRemainingTTL=o=>{let s=this.#a.get(o);if(s===void 0)return 0;let a=e[s],u=r[s];if(a===0||u===0)return 1/0;let c=(n||i())-u;return a-c},this.#_=o=>e[o]!==0&&r[o]!==0&&(n||i())-r[o]>e[o]}#w=()=>{};#C=()=>{};#L=()=>{};#_=()=>!1;#U(){let e=new q1(this.#r);this.#m=0,this.#T=e,this.#A=r=>{this.#m-=e[r],e[r]=0},this.#O=(r,n,i,o)=>{if(this.#o(n))return 0;if(!Lm(i))if(o){if(typeof o!="function")throw new TypeError("sizeCalculation must be a function");if(i=o(n,r),!Lm(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i},this.#P=(r,n,i)=>{if(e[r]=n,this.#i){let o=this.#i-e[r];for(;this.#m>o;)this.#N(!0)}this.#m+=e[r],i&&(i.entrySize=n,i.totalCalculatedSize=this.#m)}}#A=e=>{};#P=(e,r,n)=>{};#O=(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#x({allowStale:e=this.allowStale}={}){if(this.#s)for(let r=this.#u;!(!this.#M(r)||((e||!this.#_(r))&&(yield r),r===this.#l));)r=this.#h[r]}*#E({allowStale:e=this.allowStale}={}){if(this.#s)for(let r=this.#l;!(!this.#M(r)||((e||!this.#_(r))&&(yield r),r===this.#u));)r=this.#f[r]}#M(e){return e!==void 0&&this.#a.get(this.#n[e])===e}*entries(){for(let e of this.#x())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#o(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*rentries(){for(let e of this.#E())this.#e[e]!==void 0&&this.#n[e]!==void 0&&!this.#o(this.#e[e])&&(yield[this.#n[e],this.#e[e]])}*keys(){for(let e of this.#x()){let r=this.#n[e];r!==void 0&&!this.#o(this.#e[e])&&(yield r)}}*rkeys(){for(let e of this.#E()){let r=this.#n[e];r!==void 0&&!this.#o(this.#e[e])&&(yield r)}}*values(){for(let e of this.#x())this.#e[e]!==void 0&&!this.#o(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(let e of this.#E())this.#e[e]!==void 0&&!this.#o(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.#x()){let i=this.#e[n],o=this.#o(i)?i.__staleWhileFetching:i;if(o!==void 0&&e(o,this.#n[n],this))return this.get(this.#n[n],r)}}forEach(e,r=this){for(let n of this.#x()){let i=this.#e[n],o=this.#o(i)?i.__staleWhileFetching:i;o!==void 0&&e.call(r,o,this.#n[n],this)}}rforEach(e,r=this){for(let n of this.#E()){let i=this.#e[n],o=this.#o(i)?i.__staleWhileFetching:i;o!==void 0&&e.call(r,o,this.#n[n],this)}}purgeStale(){let e=!1;for(let r of this.#E({allowStale:!0}))this.#_(r)&&(this.delete(this.#n[r]),e=!0);return e}dump(){let e=[];for(let r of this.#x({allowStale:!0})){let n=this.#n[r],i=this.#e[r],o=this.#o(i)?i.__staleWhileFetching:i;if(o===void 0||n===void 0)continue;let s={value:o};if(this.#y&&this.#S){s.ttl=this.#y[r];let a=dC.now()-this.#S[r];s.start=Math.floor(Date.now()-a)}this.#T&&(s.size=this.#T[r]),e.unshift([n,s])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=dC.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;let{ttl:i=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:u}=n,{noUpdateTTL:c=this.noUpdateTTL}=n,l=this.#O(e,r,n.size||0,a);if(this.maxEntrySize&&l>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),this.delete(e),this;let f=this.#s===0?void 0:this.#a.get(e);if(f===void 0)f=this.#s===0?this.#u:this.#v.length!==0?this.#v.pop():this.#s===this.#r?this.#N(!1):this.#s,this.#n[f]=e,this.#e[f]=r,this.#a.set(e,f),this.#f[this.#u]=f,this.#h[f]=this.#u,this.#u=f,this.#s++,this.#P(f,l,u),u&&(u.set="add"),c=!1;else{this.#R(f);let p=this.#e[f];if(r!==p){if(this.#I&&this.#o(p)?p.__abortController.abort(new Error("replaced")):s||(this.#b&&this.#p?.(p,e,"set"),this.#g&&this.#d?.push([p,e,"set"])),this.#A(f),this.#P(f,l,u),this.#e[f]=r,u){u.set="replace";let m=p&&this.#o(p)?p.__staleWhileFetching:p;m!==void 0&&(u.oldValue=m)}}else u&&(u.set="update")}if(i!==0&&!this.#y&&this.#k(),this.#y&&(c||this.#L(f,i,o),u&&this.#C(u,f)),!s&&this.#g&&this.#d){let p=this.#d,m;for(;m=p?.shift();)this.#t?.(...m)}return this}pop(){try{for(;this.#s;){let e=this.#e[this.#l];if(this.#N(!0),this.#o(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#g&&this.#d){let e=this.#d,r;for(;r=e?.shift();)this.#t?.(...r)}}}#N(e){let r=this.#l,n=this.#n[r],i=this.#e[r];return this.#I&&this.#o(i)?i.__abortController.abort(new Error("evicted")):(this.#b||this.#g)&&(this.#b&&this.#p?.(i,n,"evict"),this.#g&&this.#d?.push([i,n,"evict"])),this.#A(r),e&&(this.#n[r]=void 0,this.#e[r]=void 0,this.#v.push(r)),this.#s===1?(this.#l=this.#u=0,this.#v.length=0):this.#l=this.#f[r],this.#a.delete(n),this.#s--,r}has(e,r={}){let{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,o=this.#a.get(e);if(o!==void 0){let s=this.#e[o];if(this.#o(s)&&s.__staleWhileFetching===void 0)return!1;if(this.#_(o))i&&(i.has="stale",this.#C(i,o));else return n&&this.#w(o),i&&(i.has="hit",this.#C(i,o)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){let{allowStale:n=this.allowStale}=r,i=this.#a.get(e);if(i!==void 0&&(n||!this.#_(i))){let o=this.#e[i];return this.#o(o)?o.__staleWhileFetching:o}}#D(e,r,n,i){let o=r===void 0?void 0:this.#e[r];if(this.#o(o))return o;let s=new XP,{signal:a}=n;a?.addEventListener("abort",()=>s.abort(a.reason),{signal:s.signal});let u={signal:s.signal,options:n,context:i},c=(h,g=!1)=>{let{aborted:v}=s.signal,_=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(v&&!g?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,_&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!_&&!g)return f(s.signal.reason);let y=m;return this.#e[r]===m&&(h===void 0?y.__staleWhileFetching?this.#e[r]=y.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,u.options))),h},l=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),f(h)),f=h=>{let{aborted:g}=s.signal,v=g&&n.allowStaleOnFetchAbort,_=v||n.allowStaleOnFetchRejection,y=_||n.noDeleteOnFetchRejection,x=m;if(this.#e[r]===m&&(!y||x.__staleWhileFetching===void 0?this.delete(e):v||(this.#e[r]=x.__staleWhileFetching)),_)return n.status&&x.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),x.__staleWhileFetching;if(x.__returned===x)throw h},p=(h,g)=>{let v=this.#c?.(e,o,u);v&&v instanceof Promise&&v.then(_=>h(_),g),s.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(),n.allowStaleOnFetchAbort&&(h=_=>c(_,!0)))})};n.status&&(n.status.fetchDispatched=!0);let m=new Promise(p).then(c,l),d=Object.assign(m,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return r===void 0?(this.set(e,d,{...u.options,status:void 0}),r=this.#a.get(e)):this.#e[r]=d,d}#o(e){if(!this.#I)return!1;let r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof XP}async fetch(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:u=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:h,forceRefresh:g=!1,status:v,signal:_}=r;if(!this.#I)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,status:v});let y={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:a,size:u,sizeCalculation:c,noUpdateTTL:l,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:d,ignoreFetchAbort:m,status:v,signal:_},x=this.#a.get(e);if(x===void 0){v&&(v.fetch="miss");let b=this.#D(e,x,y,h);return b.__returned=b}else{let b=this.#e[x];if(this.#o(b)){let D=n&&b.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",D&&(v.returnedStale=!0)),D?b.__staleWhileFetching:b.__returned=b}let T=this.#_(x);if(!g&&!T)return v&&(v.fetch="hit"),this.#R(x),i&&this.#w(x),v&&this.#C(v,x),b;let k=this.#D(e,x,y,h),z=k.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=T?"stale":"refresh",z&&T&&(v.returnedStale=!0)),z?k.__staleWhileFetching:k.__returned=k}}get(e,r={}){let{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=r,a=this.#a.get(e);if(a!==void 0){let u=this.#e[a],c=this.#o(u);return s&&this.#C(s,a),this.#_(a)?(s&&(s.get="stale"),c?(s&&n&&u.__staleWhileFetching!==void 0&&(s.returnedStale=!0),n?u.__staleWhileFetching:void 0):(o||this.delete(e),s&&n&&(s.returnedStale=!0),n?u:void 0)):(s&&(s.get="hit"),c?u.__staleWhileFetching:(this.#R(a),i&&this.#w(a),u))}else s&&(s.get="miss")}#F(e,r){this.#h[r]=e,this.#f[e]=r}#R(e){e!==this.#u&&(e===this.#l?this.#l=this.#f[e]:this.#F(this.#h[e],this.#f[e]),this.#F(this.#u,e),this.#u=e)}delete(e){let r=!1;if(this.#s!==0){let n=this.#a.get(e);if(n!==void 0)if(r=!0,this.#s===1)this.clear();else{this.#A(n);let i=this.#e[n];this.#o(i)?i.__abortController.abort(new Error("deleted")):(this.#b||this.#g)&&(this.#b&&this.#p?.(i,e,"delete"),this.#g&&this.#d?.push([i,e,"delete"])),this.#a.delete(e),this.#n[n]=void 0,this.#e[n]=void 0,n===this.#u?this.#u=this.#h[n]:n===this.#l?this.#l=this.#f[n]:(this.#f[this.#h[n]]=this.#f[n],this.#h[this.#f[n]]=this.#h[n]),this.#s--,this.#v.push(n)}}if(this.#g&&this.#d?.length){let n=this.#d,i;for(;i=n?.shift();)this.#t?.(...i)}return r}clear(){for(let e of this.#E({allowStale:!0})){let r=this.#e[e];if(this.#o(r))r.__abortController.abort(new Error("deleted"));else{let n=this.#n[e];this.#b&&this.#p?.(r,n,"delete"),this.#g&&this.#d?.push([r,n,"delete"])}}if(this.#a.clear(),this.#e.fill(void 0),this.#n.fill(void 0),this.#y&&this.#S&&(this.#y.fill(0),this.#S.fill(0)),this.#T&&this.#T.fill(0),this.#l=0,this.#u=0,this.#v.length=0,this.#m=0,this.#s=0,this.#g&&this.#d){let e=this.#d,r;for(;r=e?.shift();)this.#t?.(...r)}}};QP.LRUCache=AF});var eie=R(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.bytePairEncode=H1.uint8ArrayToString=void 0;function RF(t){return Array.from(t).map(e=>e.toString()).join("_")}H1.uint8ArrayToString=RF;function fOe(t,e){if(t.length===1)return[e.get(t[0].toString())];let r=[];for(let o=0;o<t.length+1;o++)r.push([o,Number.MAX_SAFE_INTEGER]);function n(o,s=0){if(o+s+2<r.length){let a=t.slice(r[o][0],r[o+s+2][0]),u=e.get(RF(a));if(u!==void 0)return u}return Number.MAX_SAFE_INTEGER}for(let o=0;o<r.length-2;o++){let s=n(o);s!==Number.MAX_SAFE_INTEGER&&(r[o][1]=s)}for(;r.length>1;){let o=[0,Number.MAX_SAFE_INTEGER];for(let s=0;s<r.length-1;s++)r[s][1]<o[1]&&(o=[s,r[s][1]]);if(o[1]!==Number.MAX_SAFE_INTEGER){let s=o[0];r[s][1]=n(s,1),s>0&&(r[s-1][1]=n(s-1,1)),r.splice(s+1,1)}else break}let i=[];for(let o=0;o<r.length-1;o++)i.push(e.get(RF(t.slice(r[o][0],r[o+1][0]))));return i}H1.bytePairEncode=fOe});var DF=R(JP=>{"use strict";Object.defineProperty(JP,"__esModule",{value:!0});JP.TikTokenizer=void 0;var pOe=require("fs"),dOe=Zne(),PF=require("util"),ov=eie();function mOe(t){let e=new Map;try{let n=pOe.readFileSync(t,"utf-8");return r(n),e}catch(n){throw new Error(`Failed to load from BPE encoder file stream: ${n}`)}function r(n){for(let i of n.split(/[\r\n]+/)){if(i.trim()==="")continue;let o=i.split(" ");if(o.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let s=new Uint8Array(Buffer.from(o[0],"base64")),a=parseInt(o[1]);if(!isNaN(a))e.set(s,a);else throw new Error(`Can't parse ${o[1]} to integer`)}}}function hOe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var NF=class{constructor(e,r,n,i=8192){this.textEncoder=new PF.TextEncoder,this.textDecoder=new PF.TextDecoder("utf-8");let o={max:i};this.cache=new dOe.LRUCache(o);let s=mOe(e);this.init(s,r,n)}init(e,r,n){this.encoder=new Map;for(let[i,o]of e)this.encoder.set((0,ov.uint8ArrayToString)(i),o);this.regex=new RegExp(n,"gu"),this.specialTokensRegex=new RegExp(Array.from(r.keys()).map(i=>hOe(i)).join("|")),this.specialTokensEncoder=r,this.decoder=new Map;for(let[i,o]of e)this.decoder.set(o,i);if(this.encoder.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,o]of r)this.specialTokensDecoder.set(o,i)}findNextSpecialToken(e,r,n){let i=r,o=null;if(n&&this.specialTokensRegex)for(;o=e.slice(i).match(this.specialTokensRegex),!(!o||n&&n.includes(o[0]));)i+=o.index+1;let s=o?i+o.index:e.length;return[o,s]}encode(e,r){let n=[],i=0;for(;;){let o,s;if([o,s]=this.findNextSpecialToken(e,i,r),s>i&&this.encodeByIndex(e,n,i,s),o){if(i=i+this.encodeSpecialToken(n,o),i>=e.length)break}else break}return n}encodeSpecialToken(e,r){let n=this.specialTokensEncoder?.get(r[0]);return e.push(n),r.index+r[0].length}encodeByIndex(e,r,n,i){let o,s=Array.from(e.substring(n,i).matchAll(this.regex));for(var a=0;a<s.length&&(o=s[a],o!==void 0);a++)if(this.cache.has(o[0]))r.push(...this.cache.get(o[0]));else{let u=this.textEncoder.encode(o[0]),c=this.encoder?.get((0,ov.uint8ArrayToString)(u));if(c!==void 0)r.push(c),this.cache.set(o[0],[c]);else{let l=(0,ov.bytePairEncode)(u,this.encoder);r.push(...l),this.cache.set(o[0],l)}}}encodeTrimSuffixByIndex(e,r,n,i,o,s,a){let u,c=Array.from(e.substring(n,i).matchAll(this.regex));for(var l=0;l<c.length;l++){u=c[l];let f=u[0];if(this.cache.has(f)){let p=this.cache.get(f);if(s+=p.length,s<=o)a+=f.length,r.push(...p);else break}else{let p=this.textEncoder.encode(f),m=this.encoder.get((0,ov.uint8ArrayToString)(p));if(m!==void 0)if(this.cache.set(f,[m]),s++,s<=o)a+=f.length,r.push(m);else break;else{let d=(0,ov.bytePairEncode)(p,this.encoder);if(this.cache.set(f,d),s+=d.length,s<=o)a+=f.length,r.push(...d);else break}}if(s>=o)break}return{tokenCount:s,encodeLength:a}}encodeTrimSuffix(e,r,n){let i=[],o=0,s=0,a=0;for(;;){let c,l;if([c,l]=this.findNextSpecialToken(e,o,n),l>o){let{tokenCount:f,encodeLength:p}=this.encodeTrimSuffixByIndex(e,i,o,l,r,s,a);if(s=f,a=p,s>=r)break}if(c!==null){if(s++,s<=r&&(o=o+this.encodeSpecialToken(i,c),a+=c[0].length,o>=e.length)||s>=r)break}else break}let u=a===e.length?e:e.slice(0,a);return{tokenIds:i,text:u}}encodeTrimPrefix(e,r,n){let i=[],o=0,s=0,a=0,u=new Map;for(u.set(s,a);;){let m,d;if([m,d]=this.findNextSpecialToken(e,o,n),d>o){let h,g=Array.from(e.substring(o,d).matchAll(this.regex));for(var c=0;c<g.length;c++){h=g[c];let v=h[0];if(this.cache.has(v)){let _=this.cache.get(v);s+=_.length,a+=v.length,i.push(..._),u.set(s,a)}else{let _=new PF.TextEncoder().encode(v),y=this.encoder.get((0,ov.uint8ArrayToString)(_));if(y!==void 0)this.cache.set(v,[y]),s++,a+=v.length,i.push(y),u.set(s,a);else{let x=(0,ov.bytePairEncode)(_,this.encoder);this.cache.set(v,x),s+=x.length,a+=v.length,i.push(...x),u.set(s,a)}}}}if(m!==null){if(o=o+this.encodeSpecialToken(i,m),s++,a+=m[0].length,u.set(s,a),o>=e.length)break}else break}if(s<=r)return{tokenIds:i,text:e};let l=s-r,f=0,p=0;for(let[m,d]of u)if(m>=l){f=m,p=d;break}return{tokenIds:i.slice(f),text:e.slice(p)}}decode(e){let r=[];for(let n of e){let i=[],o=this.decoder?.get(n);if(o!==void 0)i=Array.from(o);else{let s=this.specialTokensDecoder?.get(n);s!==void 0&&(i=Array.from(this.textEncoder.encode(s)))}r.push(...i)}return this.textDecoder.decode(new Uint8Array(r))}};JP.TikTokenizer=NF});var cie=R(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.createTokenizer=Pi.createByEncoderName=Pi.createByModelName=Pi.getRegexByModel=Pi.getRegexByEncoder=Pi.getSpecialTokensByModel=Pi.getSpecialTokensByEncoder=Pi.MODEL_TO_ENCODING=void 0;var ZP=require("fs"),kF=require("path"),gOe=DF(),vOe=new Map([["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"]]);Pi.MODEL_TO_ENCODING=new Map([["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var LF="<|endoftext|>",tie="<|fim_prefix|>",rie="<|fim_middle|>",nie="<|fim_suffix|>",_Oe="<|endofprompt|>",mC="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",iie="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+";function OF(t){let e="";if(Pi.MODEL_TO_ENCODING.has(t))e=Pi.MODEL_TO_ENCODING.get(t);else for(let[r,n]of vOe)if(t.startsWith(r)){e=n;break}return e}async function yOe(t,e){let r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch file from ${t}. Status code: ${r.status}`);let n=await r.text();ZP.writeFileSync(e,n)}function MF(t){let e=new Map([[LF,50256]]);switch(t){case"cl100k_base":e=new Map([[LF,100257],[tie,100258],[rie,100259],[nie,100260],[_Oe,100276]]);break;case"p50k_edit":e=new Map([[LF,50256],[tie,50281],[rie,50282],[nie,50283]]);break;default:break}return e}Pi.getSpecialTokensByEncoder=MF;function bOe(t){let e=OF(t);return MF(e)}Pi.getSpecialTokensByModel=bOe;function oie(t){switch(t){case"cl100k_base":return iie;default:break}return mC}Pi.getRegexByEncoder=oie;function xOe(t){let e=OF(t);return oie(e)}Pi.getRegexByModel=xOe;async function EOe(t,e=null){return sie(OF(t),e)}Pi.createByModelName=EOe;async function sie(t,e=null){let r,n,i=MF(t);switch(t){case"cl100k_base":r=iie,n="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":r=mC,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":r=mC,n="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":r=mC,n="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":r=mC,n="https://pythia.blob.core.windows.net/public/encoding/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${t}]`)}e!==null&&(i=new Map([...i,...e]));let o=kF.basename(n),s=kF.resolve(__dirname,"..","model");ZP.existsSync(s)||ZP.mkdirSync(s,{recursive:!0});let a=kF.resolve(s,o);return ZP.existsSync(a)||(console.log(`Downloading file from ${n}`),await yOe(n,a),console.log(`Saved file to ${a}`)),aie(a,i,r)}Pi.createByEncoderName=sie;function aie(t,e,r,n=8192){return new gOe.TikTokenizer(t,e,r,n)}Pi.createTokenizer=aie});var uie=R(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.createTokenizer=Ni.createByEncoderName=Ni.createByModelName=Ni.getSpecialTokensByModel=Ni.getSpecialTokensByEncoder=Ni.getRegexByModel=Ni.getRegexByEncoder=Ni.MODEL_TO_ENCODING=Ni.TikTokenizer=void 0;var TOe=DF();Object.defineProperty(Ni,"TikTokenizer",{enumerable:!0,get:function(){return TOe.TikTokenizer}});var Om=cie();Object.defineProperty(Ni,"MODEL_TO_ENCODING",{enumerable:!0,get:function(){return Om.MODEL_TO_ENCODING}});Object.defineProperty(Ni,"getRegexByEncoder",{enumerable:!0,get:function(){return Om.getRegexByEncoder}});Object.defineProperty(Ni,"getRegexByModel",{enumerable:!0,get:function(){return Om.getRegexByModel}});Object.defineProperty(Ni,"getSpecialTokensByEncoder",{enumerable:!0,get:function(){return Om.getSpecialTokensByEncoder}});Object.defineProperty(Ni,"getSpecialTokensByModel",{enumerable:!0,get:function(){return Om.getSpecialTokensByModel}});Object.defineProperty(Ni,"createByModelName",{enumerable:!0,get:function(){return Om.createByModelName}});Object.defineProperty(Ni,"createByEncoderName",{enumerable:!0,get:function(){return Om.createByEncoderName}});Object.defineProperty(Ni,"createTokenizer",{enumerable:!0,get:function(){return Om.createTokenizer}})});var IC=R((Mbt,xoe)=>{"use strict";var ql="\\\\/",voe=`[^${ql}]`,Up="\\.",F5e="\\+",U5e="\\?",DN="\\/",B5e="(?=.)",_oe="[^/]",lU=`(?:${DN}|$)`,yoe=`(?:^|${DN})`,fU=`${Up}{1,2}${lU}`,q5e=`(?!${Up})`,H5e=`(?!${yoe}${fU})`,G5e=`(?!${Up}{0,1}${lU})`,j5e=`(?!${fU})`,V5e=`[^.${DN}]`,z5e=`${_oe}*?`,Y5e="/",boe={DOT_LITERAL:Up,PLUS_LITERAL:F5e,QMARK_LITERAL:U5e,SLASH_LITERAL:DN,ONE_CHAR:B5e,QMARK:_oe,END_ANCHOR:lU,DOTS_SLASH:fU,NO_DOT:q5e,NO_DOTS:H5e,NO_DOT_SLASH:G5e,NO_DOTS_SLASH:j5e,QMARK_NO_DOT:V5e,STAR:z5e,START_ANCHOR:yoe,SEP:Y5e},$5e={...boe,SLASH_LITERAL:`[${ql}]`,QMARK:voe,STAR:`${voe}*?`,DOTS_SLASH:`${Up}{1,2}(?:[${ql}]|$)`,NO_DOT:`(?!${Up})`,NO_DOTS:`(?!(?:^|[${ql}])${Up}{1,2}(?:[${ql}]|$))`,NO_DOT_SLASH:`(?!${Up}{0,1}(?:[${ql}]|$))`,NO_DOTS_SLASH:`(?!${Up}{1,2}(?:[${ql}]|$))`,QMARK_NO_DOT:`[^.${ql}]`,START_ANCHOR:`(?:^|[${ql}])`,END_ANCHOR:`(?:[${ql}]|$)`,SEP:"\\"},W5e={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};xoe.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:W5e,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?$5e:boe}}});var kN=R(ya=>{"use strict";var{REGEX_BACKSLASH:K5e,REGEX_REMOVE_BACKSLASH:X5e,REGEX_SPECIAL_CHARS:Q5e,REGEX_SPECIAL_CHARS_GLOBAL:J5e}=IC();ya.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);ya.hasRegexChars=t=>Q5e.test(t);ya.isRegexChar=t=>t.length===1&&ya.hasRegexChars(t);ya.escapeRegex=t=>t.replace(J5e,"\\$1");ya.toPosixSlashes=t=>t.replace(K5e,"/");ya.removeBackslashes=t=>t.replace(X5e,e=>e==="\\"?"":e);ya.supportsLookbehinds=()=>{if(typeof process<"u"){let t=process.version.slice(1).split(".").map(Number);if(t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10)return!0}return!1};ya.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?ya.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};ya.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};ya.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${t})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o};ya.basename=(t,{windows:e}={})=>{let r=t.split(e?/[\\/]/:"/"),n=r[r.length-1];return n===""?r[r.length-2]:n}});var Roe=R((Ubt,Aoe)=>{"use strict";var Eoe=kN(),{CHAR_ASTERISK:pU,CHAR_AT:Z5e,CHAR_BACKWARD_SLASH:wC,CHAR_COMMA:e6e,CHAR_DOT:dU,CHAR_EXCLAMATION_MARK:mU,CHAR_FORWARD_SLASH:woe,CHAR_LEFT_CURLY_BRACE:hU,CHAR_LEFT_PARENTHESES:gU,CHAR_LEFT_SQUARE_BRACKET:t6e,CHAR_PLUS:r6e,CHAR_QUESTION_MARK:Toe,CHAR_RIGHT_CURLY_BRACE:n6e,CHAR_RIGHT_PARENTHESES:Soe,CHAR_RIGHT_SQUARE_BRACKET:i6e}=IC(),Coe=t=>t===woe||t===wC,Ioe=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},o6e=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=t,c=-1,l=0,f=0,p=!1,m=!1,d=!1,h=!1,g=!1,v=!1,_=!1,y=!1,x=!1,b=!1,T=0,k,U,z={value:"",depth:0,isGlob:!1},D=()=>c>=n,fe=()=>u.charCodeAt(c+1),Q=()=>(k=U,u.charCodeAt(++c));for(;c<n;){U=Q();let L;if(U===wC){_=z.backslashes=!0,U=Q(),U===hU&&(v=!0);continue}if(v===!0||U===hU){for(T++;D()!==!0&&(U=Q());){if(U===wC){_=z.backslashes=!0,Q();continue}if(U===hU){T++;continue}if(v!==!0&&U===dU&&(U=Q())===dU){if(p=z.isBrace=!0,d=z.isGlob=!0,b=!0,i===!0)continue;break}if(v!==!0&&U===e6e){if(p=z.isBrace=!0,d=z.isGlob=!0,b=!0,i===!0)continue;break}if(U===n6e&&(T--,T===0)){v=!1,p=z.isBrace=!0,b=!0;break}}if(i===!0)continue;break}if(U===woe){if(o.push(c),s.push(z),z={value:"",depth:0,isGlob:!1},b===!0)continue;if(k===dU&&c===l+1){l+=2;continue}f=c+1;continue}if(r.noext!==!0&&(U===r6e||U===Z5e||U===pU||U===Toe||U===mU)===!0&&fe()===gU){if(d=z.isGlob=!0,h=z.isExtglob=!0,b=!0,U===mU&&c===l&&(x=!0),i===!0){for(;D()!==!0&&(U=Q());){if(U===wC){_=z.backslashes=!0,U=Q();continue}if(U===Soe){d=z.isGlob=!0,b=!0;break}}continue}break}if(U===pU){if(k===pU&&(g=z.isGlobstar=!0),d=z.isGlob=!0,b=!0,i===!0)continue;break}if(U===Toe){if(d=z.isGlob=!0,b=!0,i===!0)continue;break}if(U===t6e){for(;D()!==!0&&(L=Q());){if(L===wC){_=z.backslashes=!0,Q();continue}if(L===i6e){m=z.isBracket=!0,d=z.isGlob=!0,b=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&U===mU&&c===l){y=z.negated=!0,l++;continue}if(r.noparen!==!0&&U===gU){if(d=z.isGlob=!0,i===!0){for(;D()!==!0&&(U=Q());){if(U===gU){_=z.backslashes=!0,U=Q();continue}if(U===Soe){b=!0;break}}continue}break}if(d===!0){if(b=!0,i===!0)continue;break}}r.noext===!0&&(h=!1,d=!1);let O=u,w="",P="";l>0&&(w=u.slice(0,l),u=u.slice(l),f-=l),O&&d===!0&&f>0?(O=u.slice(0,f),P=u.slice(f)):d===!0?(O="",P=u):O=u,O&&O!==""&&O!=="/"&&O!==u&&Coe(O.charCodeAt(O.length-1))&&(O=O.slice(0,-1)),r.unescape===!0&&(P&&(P=Eoe.removeBackslashes(P)),O&&_===!0&&(O=Eoe.removeBackslashes(O)));let M={prefix:w,input:t,start:l,base:O,glob:P,isBrace:p,isBracket:m,isGlob:d,isExtglob:h,isGlobstar:g,negated:y,negatedExtglob:x};if(r.tokens===!0&&(M.maxDepth=0,Coe(U)||s.push(z),M.tokens=s),r.parts===!0||r.tokens===!0){let L;for(let W=0;W<o.length;W++){let H=L?L+1:l,ae=o[W],Pe=t.slice(H,ae);r.tokens&&(W===0&&l!==0?(s[W].isPrefix=!0,s[W].value=w):s[W].value=Pe,Ioe(s[W]),M.maxDepth+=s[W].depth),(W!==0||Pe!=="")&&a.push(Pe),L=ae}if(L&&L+1<t.length){let W=t.slice(L+1);a.push(W),r.tokens&&(s[s.length-1].value=W,Ioe(s[s.length-1]),M.maxDepth+=s[s.length-1].depth)}M.slashes=o,M.parts=a}return M};Aoe.exports=o6e});var Doe=R((Bbt,Noe)=>{"use strict";var LN=IC(),ju=kN(),{MAX_LENGTH:ON,POSIX_REGEX_SOURCE:s6e,REGEX_NON_SPECIAL_CHARS:a6e,REGEX_SPECIAL_CHARS_BACKREF:c6e,REPLACEMENTS:Poe}=LN,u6e=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>ju.escapeRegex(i)).join("..")}return r},rb=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,vU=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=Poe[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(ON,r.maxLength):ON,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=LN.globChars(r.windows),c=LN.extglobChars(u),{DOT_LITERAL:l,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:m,DOTS_SLASH:d,NO_DOT:h,NO_DOT_SLASH:g,NO_DOTS_SLASH:v,QMARK:_,QMARK_NO_DOT:y,STAR:x,START_ANCHOR:b}=u,T=he=>`(${a}(?:(?!${b}${he.dot?d:l}).)*?)`,k=r.dot?"":h,U=r.dot?_:y,z=r.bash===!0?T(r):x;r.capture&&(z=`(${z})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let D={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=ju.removePrefix(t,D),i=t.length;let fe=[],Q=[],O=[],w=o,P,M=()=>D.index===i-1,L=D.peek=(he=1)=>t[D.index+he],W=D.advance=()=>t[++D.index]||"",H=()=>t.slice(D.index+1),ae=(he="",Me=0)=>{D.consumed+=he,D.index+=Me},Pe=he=>{D.output+=he.output!=null?he.output:he.value,ae(he.value)},Ve=()=>{let he=1;for(;L()==="!"&&(L(2)!=="("||L(3)==="?");)W(),D.start++,he++;return he%2===0?!1:(D.negated=!0,D.start++,!0)},lt=he=>{D[he]++,O.push(he)},it=he=>{D[he]--,O.pop()},De=he=>{if(w.type==="globstar"){let Me=D.braces>0&&(he.type==="comma"||he.type==="brace"),N=he.extglob===!0||fe.length&&(he.type==="pipe"||he.type==="paren");he.type!=="slash"&&he.type!=="paren"&&!Me&&!N&&(D.output=D.output.slice(0,-w.output.length),w.type="star",w.value="*",w.output=z,D.output+=w.output)}if(fe.length&&he.type!=="paren"&&(fe[fe.length-1].inner+=he.value),(he.value||he.output)&&Pe(he),w&&w.type==="text"&&he.type==="text"){w.value+=he.value,w.output=(w.output||"")+he.value;return}he.prev=w,s.push(he),w=he},st=(he,Me)=>{let N={...c[Me],conditions:1,inner:""};N.prev=w,N.parens=D.parens,N.output=D.output;let G=(r.capture?"(":"")+N.open;lt("parens"),De({type:he,value:Me,output:D.output?"":m}),De({type:"paren",extglob:!0,value:W(),output:G}),fe.push(N)},Tt=he=>{let Me=he.close+(r.capture?")":""),N;if(he.type==="negate"){let G=z;if(he.inner&&he.inner.length>1&&he.inner.includes("/")&&(G=T(r)),(G!==z||M()||/^\)+$/.test(H()))&&(Me=he.close=`)$))${G}`),he.inner.includes("*")&&(N=H())&&/^\.[^\\/.]+$/.test(N)){let te=vU(N,{...e,fastpaths:!1}).output;Me=he.close=`)${te})${G})`}he.prev.type==="bos"&&(D.negatedExtglob=!0)}De({type:"paren",extglob:!0,value:P,output:Me}),it("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let he=!1,Me=t.replace(c6e,(N,G,te,ie,ne,Oe)=>ie==="\\"?(he=!0,N):ie==="?"?G?G+ie+(ne?_.repeat(ne.length):""):Oe===0?U+(ne?_.repeat(ne.length):""):_.repeat(te.length):ie==="."?l.repeat(te.length):ie==="*"?G?G+ie+(ne?z:""):z:G?N:`\\${N}`);return he===!0&&(r.unescape===!0?Me=Me.replace(/\\/g,""):Me=Me.replace(/\\+/g,N=>N.length%2===0?"\\\\":N?"\\":"")),Me===t&&r.contains===!0?(D.output=t,D):(D.output=ju.wrapOutput(Me,D,e),D)}for(;!M();){if(P=W(),P==="\0")continue;if(P==="\\"){let N=L();if(N==="/"&&r.bash!==!0||N==="."||N===";")continue;if(!N){P+="\\",De({type:"text",value:P});continue}let G=/^\\+/.exec(H()),te=0;if(G&&G[0].length>2&&(te=G[0].length,D.index+=te,te%2!==0&&(P+="\\")),r.unescape===!0?P=W():P+=W(),D.brackets===0){De({type:"text",value:P});continue}}if(D.brackets>0&&(P!=="]"||w.value==="["||w.value==="[^")){if(r.posix!==!1&&P===":"){let N=w.value.slice(1);if(N.includes("[")&&(w.posix=!0,N.includes(":"))){let G=w.value.lastIndexOf("["),te=w.value.slice(0,G),ie=w.value.slice(G+2),ne=s6e[ie];if(ne){w.value=te+ne,D.backtrack=!0,W(),!o.output&&s.indexOf(w)===1&&(o.output=m);continue}}}(P==="["&&L()!==":"||P==="-"&&L()==="]")&&(P=`\\${P}`),P==="]"&&(w.value==="["||w.value==="[^")&&(P=`\\${P}`),r.posix===!0&&P==="!"&&w.value==="["&&(P="^"),w.value+=P,Pe({value:P});continue}if(D.quotes===1&&P!=='"'){P=ju.escapeRegex(P),w.value+=P,Pe({value:P});continue}if(P==='"'){D.quotes=D.quotes===1?0:1,r.keepQuotes===!0&&De({type:"text",value:P});continue}if(P==="("){lt("parens"),De({type:"paren",value:P});continue}if(P===")"){if(D.parens===0&&r.strictBrackets===!0)throw new SyntaxError(rb("opening","("));let N=fe[fe.length-1];if(N&&D.parens===N.parens+1){Tt(fe.pop());continue}De({type:"paren",value:P,output:D.parens?")":"\\)"}),it("parens");continue}if(P==="["){if(r.nobracket===!0||!H().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(rb("closing","]"));P=`\\${P}`}else lt("brackets");De({type:"bracket",value:P});continue}if(P==="]"){if(r.nobracket===!0||w&&w.type==="bracket"&&w.value.length===1){De({type:"text",value:P,output:`\\${P}`});continue}if(D.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(rb("opening","["));De({type:"text",value:P,output:`\\${P}`});continue}it("brackets");let N=w.value.slice(1);if(w.posix!==!0&&N[0]==="^"&&!N.includes("/")&&(P=`/${P}`),w.value+=P,Pe({value:P}),r.literalBrackets===!1||ju.hasRegexChars(N))continue;let G=ju.escapeRegex(w.value);if(D.output=D.output.slice(0,-w.value.length),r.literalBrackets===!0){D.output+=G,w.value=G;continue}w.value=`(${a}${G}|${w.value})`,D.output+=w.value;continue}if(P==="{"&&r.nobrace!==!0){lt("braces");let N={type:"brace",value:P,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};Q.push(N),De(N);continue}if(P==="}"){let N=Q[Q.length-1];if(r.nobrace===!0||!N){De({type:"text",value:P,output:P});continue}let G=")";if(N.dots===!0){let te=s.slice(),ie=[];for(let ne=te.length-1;ne>=0&&(s.pop(),te[ne].type!=="brace");ne--)te[ne].type!=="dots"&&ie.unshift(te[ne].value);G=u6e(ie,r),D.backtrack=!0}if(N.comma!==!0&&N.dots!==!0){let te=D.output.slice(0,N.outputIndex),ie=D.tokens.slice(N.tokensIndex);N.value=N.output="\\{",P=G="\\}",D.output=te;for(let ne of ie)D.output+=ne.output||ne.value}De({type:"brace",value:P,output:G}),it("braces"),Q.pop();continue}if(P==="|"){fe.length>0&&fe[fe.length-1].conditions++,De({type:"text",value:P});continue}if(P===","){let N=P,G=Q[Q.length-1];G&&O[O.length-1]==="braces"&&(G.comma=!0,N="|"),De({type:"comma",value:P,output:N});continue}if(P==="/"){if(w.type==="dot"&&D.index===D.start+1){D.start=D.index+1,D.consumed="",D.output="",s.pop(),w=o;continue}De({type:"slash",value:P,output:p});continue}if(P==="."){if(D.braces>0&&w.type==="dot"){w.value==="."&&(w.output=l);let N=Q[Q.length-1];w.type="dots",w.output+=P,w.value+=P,N.dots=!0;continue}if(D.braces+D.parens===0&&w.type!=="bos"&&w.type!=="slash"){De({type:"text",value:P,output:l});continue}De({type:"dot",value:P,output:l});continue}if(P==="?"){if(!(w&&w.value==="(")&&r.noextglob!==!0&&L()==="("&&L(2)!=="?"){st("qmark",P);continue}if(w&&w.type==="paren"){let G=L(),te=P;if(G==="<"&&!ju.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(w.value==="("&&!/[!=<:]/.test(G)||G==="<"&&!/<([!=]|\w+>)/.test(H()))&&(te=`\\${P}`),De({type:"text",value:P,output:te});continue}if(r.dot!==!0&&(w.type==="slash"||w.type==="bos")){De({type:"qmark",value:P,output:y});continue}De({type:"qmark",value:P,output:_});continue}if(P==="!"){if(r.noextglob!==!0&&L()==="("&&(L(2)!=="?"||!/[!=<:]/.test(L(3)))){st("negate",P);continue}if(r.nonegate!==!0&&D.index===0){Ve();continue}}if(P==="+"){if(r.noextglob!==!0&&L()==="("&&L(2)!=="?"){st("plus",P);continue}if(w&&w.value==="("||r.regex===!1){De({type:"plus",value:P,output:f});continue}if(w&&(w.type==="bracket"||w.type==="paren"||w.type==="brace")||D.parens>0){De({type:"plus",value:P});continue}De({type:"plus",value:f});continue}if(P==="@"){if(r.noextglob!==!0&&L()==="("&&L(2)!=="?"){De({type:"at",extglob:!0,value:P,output:""});continue}De({type:"text",value:P});continue}if(P!=="*"){(P==="$"||P==="^")&&(P=`\\${P}`);let N=a6e.exec(H());N&&(P+=N[0],D.index+=N[0].length),De({type:"text",value:P});continue}if(w&&(w.type==="globstar"||w.star===!0)){w.type="star",w.star=!0,w.value+=P,w.output=z,D.backtrack=!0,D.globstar=!0,ae(P);continue}let he=H();if(r.noextglob!==!0&&/^\([^?]/.test(he)){st("star",P);continue}if(w.type==="star"){if(r.noglobstar===!0){ae(P);continue}let N=w.prev,G=N.prev,te=N.type==="slash"||N.type==="bos",ie=G&&(G.type==="star"||G.type==="globstar");if(r.bash===!0&&(!te||he[0]&&he[0]!=="/")){De({type:"star",value:P,output:""});continue}let ne=D.braces>0&&(N.type==="comma"||N.type==="brace"),Oe=fe.length&&(N.type==="pipe"||N.type==="paren");if(!te&&N.type!=="paren"&&!ne&&!Oe){De({type:"star",value:P,output:""});continue}for(;he.slice(0,3)==="/**";){let Ge=t[D.index+4];if(Ge&&Ge!=="/")break;he=he.slice(3),ae("/**",3)}if(N.type==="bos"&&M()){w.type="globstar",w.value+=P,w.output=T(r),D.output=w.output,D.globstar=!0,ae(P);continue}if(N.type==="slash"&&N.prev.type!=="bos"&&!ie&&M()){D.output=D.output.slice(0,-(N.output+w.output).length),N.output=`(?:${N.output}`,w.type="globstar",w.output=T(r)+(r.strictSlashes?")":"|$)"),w.value+=P,D.globstar=!0,D.output+=N.output+w.output,ae(P);continue}if(N.type==="slash"&&N.prev.type!=="bos"&&he[0]==="/"){let Ge=he[1]!==void 0?"|$":"";D.output=D.output.slice(0,-(N.output+w.output).length),N.output=`(?:${N.output}`,w.type="globstar",w.output=`${T(r)}${p}|${p}${Ge})`,w.value+=P,D.output+=N.output+w.output,D.globstar=!0,ae(P+W()),De({type:"slash",value:"/",output:""});continue}if(N.type==="bos"&&he[0]==="/"){w.type="globstar",w.value+=P,w.output=`(?:^|${p}|${T(r)}${p})`,D.output=w.output,D.globstar=!0,ae(P+W()),De({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-w.output.length),w.type="globstar",w.output=T(r),w.value+=P,D.output+=w.output,D.globstar=!0,ae(P);continue}let Me={type:"star",value:P,output:z};if(r.bash===!0){Me.output=".*?",(w.type==="bos"||w.type==="slash")&&(Me.output=k+Me.output),De(Me);continue}if(w&&(w.type==="bracket"||w.type==="paren")&&r.regex===!0){Me.output=P,De(Me);continue}(D.index===D.start||w.type==="slash"||w.type==="dot")&&(w.type==="dot"?(D.output+=g,w.output+=g):r.dot===!0?(D.output+=v,w.output+=v):(D.output+=k,w.output+=k),L()!=="*"&&(D.output+=m,w.output+=m)),De(Me)}for(;D.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(rb("closing","]"));D.output=ju.escapeLast(D.output,"["),it("brackets")}for(;D.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(rb("closing",")"));D.output=ju.escapeLast(D.output,"("),it("parens")}for(;D.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(rb("closing","}"));D.output=ju.escapeLast(D.output,"{"),it("braces")}if(r.strictSlashes!==!0&&(w.type==="star"||w.type==="bracket")&&De({type:"maybe_slash",value:"",output:`${p}?`}),D.backtrack===!0){D.output="";for(let he of D.tokens)D.output+=he.output!=null?he.output:he.value,he.suffix&&(D.output+=he.suffix)}return D};vU.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(ON,r.maxLength):ON,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=Poe[t]||t;let{DOT_LITERAL:o,SLASH_LITERAL:s,ONE_CHAR:a,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:l,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:m}=LN.globChars(r.windows),d=r.dot?l:c,h=r.dot?f:c,g=r.capture?"":"?:",v={negated:!1,prefix:""},_=r.bash===!0?".*?":p;r.capture&&(_=`(${_})`);let y=k=>k.noglobstar===!0?_:`(${g}(?:(?!${m}${k.dot?u:o}).)*?)`,x=k=>{switch(k){case"*":return`${d}${a}${_}`;case".*":return`${o}${a}${_}`;case"*.*":return`${d}${_}${o}${a}${_}`;case"*/*":return`${d}${_}${s}${a}${h}${_}`;case"**":return d+y(r);case"**/*":return`(?:${d}${y(r)}${s})?${h}${a}${_}`;case"**/*.*":return`(?:${d}${y(r)}${s})?${h}${_}${o}${a}${_}`;case"**/.*":return`(?:${d}${y(r)}${s})?${o}${a}${_}`;default:{let U=/^(.*?)\.(\w+)$/.exec(k);if(!U)return;let z=x(U[1]);return z?z+o+U[2]:void 0}}},b=ju.removePrefix(t,v),T=x(b);return T&&r.strictSlashes!==!0&&(T+=`${s}?`),T};Noe.exports=vU});var Ooe=R((qbt,Loe)=>{"use strict";var l6e=Roe(),_U=Doe(),koe=kN(),f6e=IC(),p6e=t=>t&&typeof t=="object"&&!Array.isArray(t),pi=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(p=>pi(p,e,r));return p=>{for(let m of l){let d=m(p);if(d)return d}return!1}}let n=p6e(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=i.windows,s=n?pi.compileRe(t,e):pi.makeRe(t,e,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};u=pi(i.ignore,l,r)}let c=(l,f=!1)=>{let{isMatch:p,match:m,output:d}=pi.test(l,s,e,{glob:t,posix:o}),h={glob:t,state:a,regex:s,posix:o,input:l,output:d,match:m,isMatch:p};return typeof i.onResult=="function"&&i.onResult(h),p===!1?(h.isMatch=!1,f?h:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(h),h.isMatch=!1,f?h:!1):(typeof i.onMatch=="function"&&i.onMatch(h),f?h:!0)};return r&&(c.state=a),c};pi.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?koe.toPosixSlashes:null),a=t===n,u=a&&s?s(t):t;return a===!1&&(u=s?s(t):t,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=pi.matchBase(t,e,r,i):a=e.exec(u)),{isMatch:!!a,match:a,output:u}};pi.matchBase=(t,e,r)=>(e instanceof RegExp?e:pi.makeRe(e,r)).test(koe.basename(t));pi.isMatch=(t,e,r)=>pi(e,r)(t);pi.parse=(t,e)=>Array.isArray(t)?t.map(r=>pi.parse(r,e)):_U(t,{...e,fastpaths:!1});pi.scan=(t,e)=>l6e(t,e);pi.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${t.output})${s}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let u=pi.toRegex(a,e);return n===!0&&(u.state=t),u};pi.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=_U.fastpaths(t,e)),i.output||(i=_U(t,e)),pi.compileRe(i,e,r,n)};pi.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};pi.constants=f6e;Loe.exports=pi});var Moe=R((Hbt,Hl)=>{"use strict";var d6e=require("os"),Bp=Ooe(),m6e=d6e.platform()==="win32";function h6e(t,e,r=!1){return e&&(e.windows===null||e.windows===void 0)&&(e={...e,windows:m6e}),Bp(t,e,r)}Hl.exports=h6e;Hl.exports.test=Bp.test;Hl.exports.matchBase=Bp.matchBase;Hl.exports.isMatch=Bp.isMatch;Hl.exports.parse=Bp.parse;Hl.exports.scan=Bp.scan;Hl.exports.compileRe=Bp.compileRe;Hl.exports.toRegex=Bp.toRegex;Hl.exports.makeRe=Bp.makeRe});var Pae=R(uh=>{"use strict";var n9e=uh&&uh.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(uh,"__esModule",{value:!0});uh.isBinaryFileSync=uh.isBinaryFile=void 0;var ch=require("fs"),gq=require("util"),i9e=gq.promisify(ch.stat),o9e=gq.promisify(ch.open),s9e=gq.promisify(ch.close),KC=512,hq=class{constructor(e,r){this.fileBuffer=e,this.size=r,this.offset=0,this.error=!1}hasError(){return this.error}nextByte(){return this.offset===this.size||this.hasError()?(this.error=!0,255):this.fileBuffer[this.offset++]}next(e){let r=new Array;for(let n=0;n<e;n++)r[n]=this.nextByte();return r}};function mq(t){let e=0,r=0;for(;!t.hasError();){let n=t.nextByte();if(r=r|(n&127)<<7*e,!(n&128))break;e++}return r}function a9e(t){switch(mq(t)&7){case 0:return mq(t),!0;case 1:return t.next(8),!0;case 2:let n=mq(t);return t.next(n),!0;case 5:return t.next(4),!0}return!1}function c9e(t,e){let r=new hq(t,e),n=0;for(;;){if(!a9e(r)&&!r.hasError())return!1;if(r.hasError())break;n++}return n>0}function u9e(t,e){return n9e(this,void 0,void 0,function*(){if(Aae(t)){let r=yield i9e(t);Rae(r);let n=yield o9e(t,"r"),i=Buffer.alloc(KC);return new Promise((o,s)=>{ch.read(n,i,0,KC,0,(a,u,c)=>{s9e(n),a?s(a):o(AD(i,u))})})}else return e===void 0&&(e=t.length),AD(t,e)})}uh.isBinaryFile=u9e;function l9e(t,e){if(Aae(t)){let r=ch.statSync(t);Rae(r);let n=ch.openSync(t,"r"),i=Buffer.alloc(KC),o=ch.readSync(n,i,0,KC,0);return ch.closeSync(n),AD(i,o)}else return e===void 0&&(e=t.length),AD(t,e)}uh.isBinaryFileSync=l9e;function AD(t,e){if(e===0)return!1;let r=0,n=Math.min(e,KC);if(e>=3&&t[0]===239&&t[1]===187&&t[2]===191||e>=4&&t[0]===0&&t[1]===0&&t[2]===254&&t[3]===255||e>=4&&t[0]===255&&t[1]===254&&t[2]===0&&t[3]===0||e>=4&&t[0]===132&&t[1]===49&&t[2]===149&&t[3]===51)return!1;if(n>=5&&t.slice(0,5).toString()==="%PDF-")return!0;if(e>=2&&t[0]===254&&t[1]===255||e>=2&&t[0]===255&&t[1]===254)return!1;for(let i=0;i<n;i++){if(t[i]===0)return!0;if((t[i]<7||t[i]>14)&&(t[i]<32||t[i]>127)){if(t[i]>193&&t[i]<224&&i+1<n){if(i++,t[i]>127&&t[i]<192)continue}else if(t[i]>223&&t[i]<240&&i+2<n&&(i++,t[i]>127&&t[i]<192&&t[i+1]>127&&t[i+1]<192)){i++;continue}if(r++,i>=32&&r*100/n>10)return!0}}return!!(r*100/n>10||r>1&&c9e(t,n))}function Aae(t){return typeof t=="string"}function Rae(t){if(!t.isFile())throw new Error("Path provided was not a file!")}});var Rce=R((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}function logExceptionOnExit(t){t instanceof ExitStatus||err("exiting due to exception: "+t)}if(ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(t,e)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFileSync(t,e?void 0:"utf8")),readBinary=t=>{var e=read_(t,!0);return e.buffer||(e=new Uint8Array(e)),e},readAsync=(t,e,r)=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t),fs.readFile(t,function(n,i){n?r(n):e(i.buffer)})},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=(t,e)=>{if(keepRuntimeAlive())throw process.exitCode=t,e;logExceptionOnExit(e),process.exit(t)},Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=(t,e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{n.status==200||n.status==0&&n.response?e(n.response):r()},n.onerror=r,n.send(null)},setWindowTitle=t=>document.title=t);var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(t,e,r){for(var n=e+r,i=e;t[i]&&!(i>=n);)++i;if(i-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,i));for(var o="";e<i;){var s=t[e++];if(128&s){var a=63&t[e++];if((224&s)!=192){var u=63&t[e++];if((s=(240&s)==224?(15&s)<<12|a<<6|u:(7&s)<<18|a<<12|u<<6|63&t[e++])<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function UTF8ToString(t,e){return t?UTF8ArrayToString(HEAPU8,t,e):""}function stringToUTF8Array(t,e,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++s)),a<=127){if(r>=o)break;e[r++]=a}else if(a<=2047){if(r+1>=o)break;e[r++]=192|a>>6,e[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;e[r++]=224|a>>12,e[r++]=128|a>>6&63,e[r++]=128|63&a}else{if(r+3>=o)break;e[r++]=240|a>>18,e[r++]=128|a>>12&63,e[r++]=128|a>>6&63,e[r++]=128|63&a}}return e[r]=0,r-i}function stringToUTF8(t,e,r){return stringToUTF8Array(t,HEAPU8,e,r)}function lengthBytesUTF8(t){for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e}function updateGlobalBufferAndViews(t){buffer=t,Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=HEAP16=new Int16Array(t),Module.HEAP32=HEAP32=new Int32Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=HEAPU16=new Uint16Array(t),Module.HEAPU32=HEAPU32=new Uint32Array(t),Module.HEAPF32=HEAPF32=new Float32Array(t),Module.HEAPF64=HEAPF64=new Float64Array(t)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(t){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){throw Module.onAbort&&Module.onAbort(t),err(t="Aborted("+t+")"),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(t)}var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(t){return t.startsWith(dataURIPrefix)}function isFileURI(t){return t.startsWith("file://")}function getBinary(t){try{if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return t.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(t,e){readAsync(wasmBinaryFile,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var t={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function e(i,o){var s=i.exports;s=relocateExports(s,1024);var a=getDylinkMetadata(o);a.neededDynlibs&&(dynamicLibraries=a.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(s,"main"),Module.asm=s,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}function r(i){e(i.instance,i.module)}function n(i){return getBinaryPromise().then(function(o){return WebAssembly.instantiate(o,t)}).then(function(o){return o}).then(i,function(o){err("failed to asynchronously prepare wasm: "+o),abort(o)})}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(i){return err("Module.instantiateWasm callback failed with error: "+i),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?n(r):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(i){return WebAssembly.instantiateStreaming(i,t).then(r,function(o){return err("wasm streaming compile failed: "+o),err("falling back to ArrayBuffer instantiation"),n(r)})}),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(e)||(r.required=!0),r}};function callRuntimeCallbacks(t){for(;t.length>0;)t.shift()(Module)}function getDylinkMetadata(t){var e=0,r=0;function n(){for(var v=0,_=1;;){var y=t[e++];if(v+=(127&y)*_,_*=128,!(128&y))break}return v}function i(){var v=n();return UTF8ArrayToString(t,(e+=v)-v,v)}function o(v,_){if(v)throw new Error(_)}var s="dylink.0";if(t instanceof WebAssembly.Module){var a=WebAssembly.Module.customSections(t,s);a.length===0&&(s="dylink",a=WebAssembly.Module.customSections(t,s)),o(a.length===0,"need dylink section"),r=(t=new Uint8Array(a[0])).length}else{o(new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),o(t[8]!==0,"need the dylink section to be first"),e=9;var u=n();r=e+u,s=i()}var c={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(s=="dylink"){c.memorySize=n(),c.memoryAlign=n(),c.tableSize=n(),c.tableAlign=n();for(var l=n(),f=0;f<l;++f){var p=i();c.neededDynlibs.push(p)}}else for(o(s!=="dylink.0");e<r;){var m=t[e++],d=n();if(m===1)c.memorySize=n(),c.memoryAlign=n(),c.tableSize=n(),c.tableAlign=n();else if(m===2)for(l=n(),f=0;f<l;++f)p=i(),c.neededDynlibs.push(p);else if(m===3)for(var h=n();h--;){var g=i();256&n()&&c.tlsExports.add(g)}else if(m===4)for(h=n();h--;)i(),g=i(),(3&n())==1&&c.weakImports.add(g);else e+=d}return c}function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":case"i8":return HEAP8[t>>0];case"i16":return HEAP16[t>>1];case"i32":case"i64":return HEAP32[t>>2];case"float":return HEAPF32[t>>2];case"double":return HEAPF64[t>>3];case"*":return HEAPU32[t>>2];default:abort("invalid type for getValue: "+e)}return null}function asmjsMangle(t){return t.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(t)?t:"_"+t}function mergeLibSymbols(t,e){for(var r in t)if(t.hasOwnProperty(r)){asmLibraryArg.hasOwnProperty(r)||(asmLibraryArg[r]=t[r]);var n=asmjsMangle(r);Module.hasOwnProperty(n)||(Module[n]=t[r]),r=="__main_argc_argv"&&(Module._main=t[r])}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(t,e,r){var n=Module["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)}var wasmTableMirror=[];function getWasmTableEntry(t){var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e}function dynCall(t,e,r){return t.includes("j")?dynCallLegacy(t,e,r):getWasmTableEntry(e).apply(null,r)}function createInvokeFunction(t){return function(){var e=stackSave();try{return dynCall(t,arguments[0],Array.prototype.slice.call(arguments,1))}catch(r){if(stackRestore(e),r!==r+0)throw r;_setThrew(1,0)}}}var ___heap_base=78144;function zeroMemory(t,e){return HEAPU8.fill(0,t,t+e),t}function getMemory(t){if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+t+15&-16;return ___heap_base=r,GOT.__heap_base.value=r,e}function isInternalSym(t){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(t)}function uleb128Encode(t,e){t<128?e.push(t):e.push(t%128|128,t>>7)}function sigToWasmTypes(t){for(var e={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]),t[n]==="j"&&r.parameters.push("i32");return r}function generateFuncType(t,e){var r=t.slice(0,1),n=t.slice(1),i={i:127,p:127,j:126,f:125,d:124};e.push(96),uleb128Encode(n.length,e);for(var o=0;o<n.length;++o)e.push(i[n[o]]);r=="v"?e.push(0):e.push(1,i[r])}function convertJsFunctionToWasm(t,e){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push.apply(n,r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var i=new WebAssembly.Module(new Uint8Array(n));return new WebAssembly.Instance(i,{e:{f:t}}).exports.f}function updateTableMap(t,e){if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1}function setWasmTableEntry(t,e){wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)}function addFunction(t,e){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(t))return functionsInTableMap.get(t);var r=getEmptyTableSlot();try{setWasmTableEntry(r,t)}catch(n){if(!(n instanceof TypeError))throw n;setWasmTableEntry(r,convertJsFunctionToWasm(t,e))}return functionsInTableMap.set(t,r),r}function updateGOT(t,e){for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||(GOT[r]=new WebAssembly.Global({value:"i32",mutable:!0})),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err("unhandled export type for `"+r+"`: "+typeof n))}}function relocateExports(t,e,r){var n={};for(var i in t){var o=t[i];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=e),n[i]=o}return updateGOT(n,r),n}function resolveGlobalSymbol(t,e){var r;return e&&(r=asmLibraryArg["orig$"+t]),r||(r=asmLibraryArg[t])&&r.stub&&(r=void 0),r||(r=Module[asmjsMangle(t)]),!r&&t.startsWith("invoke_")&&(r=createInvokeFunction(t.split("_")[1])),r}function alignMemory(t,e){return Math.ceil(t/e)*e}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t,!1);return e||(e=moduleExports[t]),e}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in asmLibraryArg)return asmLibraryArg[e];var r;return e in t||(t[e]=function(){return r||(r=resolveSymbol(e)),r.apply(null,arguments)}),t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(t){return postInstantiation(t.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(t){loadDynamicLibrary(t,flags)}),loadModule())}function loadDynamicLibrary(t,e,r){e=e||{global:!0,nodelete:!0};var n=LDSO.loadedLibsByName[t];if(n)return e.global&&!n.global&&(n.global=!0,n.module!=="loading"&&mergeLibSymbols(n.module,t)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,r&&(LDSO.loadedLibsByHandle[r]=n),!e.loadAsync||Promise.resolve(!0);function i(a){if(e.fs&&e.fs.findObject(a)){var u=e.fs.readFile(a,{encoding:"binary"});return u instanceof Uint8Array||(u=new Uint8Array(u)),e.loadAsync?Promise.resolve(u):u}if(a=locateFile(a),e.loadAsync)return new Promise(function(c,l){readAsync(a,f=>c(new Uint8Array(f)),l)});if(!readBinary)throw new Error(a+": file not found, and synchronous loading of external files is not available");return readBinary(a)}function o(){if(typeof preloadedWasm<"u"&&preloadedWasm[t]){var a=preloadedWasm[t];return e.loadAsync?Promise.resolve(a):a}return e.loadAsync?i(t).then(function(u){return loadWebAssemblyModule(u,e,r)}):loadWebAssemblyModule(i(t),e,r)}function s(a){n.global&&mergeLibSymbols(a,t),n.module=a}return n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},LDSO.loadedLibsByName[t]=n,r&&(LDSO.loadedLibsByHandle[r]=n),e.loadAsync?o().then(function(a){return s(a),!0}):(s(o()),!0)}function reportUndefinedSymbols(){for(var t in GOT)if(GOT[t].value==0){var e=resolveGlobalSymbol(t,!0);if(!e&&!GOT[t].required)continue;if(typeof e=="function")GOT[t].value=addFunction(e,e.sig);else{if(typeof e!="number")throw new Error("bad export type for `"+t+"`: "+typeof e);GOT[t].value=e}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(t,e){return t.then(function(){return loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":case"i8":HEAP8[t>>0]=e;break;case"i16":HEAP16[t>>1]=e;break;case"i32":HEAP32[t>>2]=e;break;case"i64":tempI64=[e>>>0,(tempDouble=e,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[t>>2]=tempI64[0],HEAP32[t+4>>2]=tempI64[1];break;case"float":HEAPF32[t>>2]=e;break;case"double":HEAPF64[t>>3]=e;break;case"*":HEAPU32[t>>2]=e;break;default:abort("invalid type for setValue: "+r)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("")}function _emscripten_date_now(){return Date.now()}function _emscripten_memcpy_big(t,e,r){HEAPU8.copyWithin(t,e,e+r)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(t){try{return wasmMemory.grow(t-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}function _emscripten_resize_heap(t){var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=1;n<=4;n*=2){var i=e*(1+.2/n);if(i=Math.min(i,t+100663296),emscripten_realloc_buffer(Math.min(r,(o=Math.max(t,i))+((s=65536)-o%s)%s)))return!0}var o,s;return!1}__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(t,e,r){if(PATH.isAbs(e))return e;var n;if(t===-100?n=FS.cwd():n=SYSCALLS.getStreamFromFD(t).path,e.length==0){if(!r)throw new FS.ErrnoError(44);return n}return PATH.join2(n,e)},doStat:function(t,e,r){try{var n=t(e)}catch(a){if(a&&a.node&&PATH.normalize(e)!==PATH.normalize(FS.getPath(a.node)))return-54;throw a}HEAP32[r>>2]=n.dev,HEAP32[r+8>>2]=n.ino,HEAP32[r+12>>2]=n.mode,HEAPU32[r+16>>2]=n.nlink,HEAP32[r+20>>2]=n.uid,HEAP32[r+24>>2]=n.gid,HEAP32[r+28>>2]=n.rdev,tempI64=[n.size>>>0,(tempDouble=n.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+40>>2]=tempI64[0],HEAP32[r+44>>2]=tempI64[1],HEAP32[r+48>>2]=4096,HEAP32[r+52>>2]=n.blocks;var i=n.atime.getTime(),o=n.mtime.getTime(),s=n.ctime.getTime();return tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+56>>2]=tempI64[0],HEAP32[r+60>>2]=tempI64[1],HEAPU32[r+64>>2]=i%1e3*1e3,tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+72>>2]=tempI64[0],HEAP32[r+76>>2]=tempI64[1],HEAPU32[r+80>>2]=o%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+88>>2]=tempI64[0],HEAP32[r+92>>2]=tempI64[1],HEAPU32[r+96>>2]=s%1e3*1e3,tempI64=[n.ino>>>0,(tempDouble=n.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[r+104>>2]=tempI64[0],HEAP32[r+108>>2]=tempI64[1],0},doMsync:function(t,e,r,n,i){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);if(2&n)return 0;var o=HEAPU8.slice(t,t+r);FS.msync(e,o,i,r,n)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(t){return UTF8ToString(t)},getStreamFromFD:function(t){var e=FS.getStream(t);if(!e)throw new FS.ErrnoError(8);return e}};function _proc_exit(t){EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit&&Module.onExit(t),ABORT=!0),quit_(t,new ExitStatus(t))}function exitJS(t,e){EXITSTATUS=t,_proc_exit(t)}_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(t){try{var e=SYSCALLS.getStreamFromFD(t);return FS.close(e),0}catch(r){if(typeof FS>"u"||!(r instanceof FS.ErrnoError))throw r;return r.errno}}function convertI32PairToI53Checked(t,e){return e+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*e:NaN}function _fd_seek(t,e,r,n,i){try{var o=convertI32PairToI53Checked(e,r);if(isNaN(o))return 61;var s=SYSCALLS.getStreamFromFD(t);return FS.llseek(s,o,n),tempI64=[s.position>>>0,(tempDouble=s.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[i>>2]=tempI64[0],HEAP32[i+4>>2]=tempI64[1],s.getdents&&o===0&&n===0&&(s.getdents=null),0}catch(a){if(typeof FS>"u"||!(a instanceof FS.ErrnoError))throw a;return a.errno}}function doWritev(t,e,r,n){for(var i=0,o=0;o<r;o++){var s=HEAPU32[e>>2],a=HEAPU32[e+4>>2];e+=8;var u=FS.write(t,HEAP8,s,a,n);if(u<0)return-1;i+=u,n!==void 0&&(n+=u)}return i}function _fd_write(t,e,r,n){try{var i=doWritev(SYSCALLS.getStreamFromFD(t),e,r);return HEAPU32[n>>2]=i,0}catch(o){if(typeof FS>"u"||!(o instanceof FS.ErrnoError))throw o;return o.errno}}function _tree_sitter_log_callback(t,e){if(currentLogCallback){let r=UTF8ToString(e);currentLogCallback(r,t!==0)}}function _tree_sitter_parse_callback(t,e,r,n,i){var o=currentParseCallback(e,{row:r,column:n});typeof o=="string"?(setValue(i,o.length,"i32"),stringToUTF16(o,t,10240)):setValue(i,0,"i32")}function handleException(t){if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)}function allocateUTF8OnStack(t){var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8Array(t,HEAP8,r,e),r}function stringToUTF16(t,e,r){if(r===void 0&&(r=2147483647),r<2)return 0;for(var n=e,i=(r-=2)<2*t.length?r/2:t.length,o=0;o<i;++o){var s=t.charCodeAt(o);HEAP16[e>>1]=s,e+=2}return HEAP16[e>>1]=0,e-n}function AsciiToString(t){for(var e="";;){var r=HEAPU8[t++>>0];if(!r)return e;e+=String.fromCharCode(r)}}_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(t){var e=Module._main;if(e){(t=t||[]).unshift(thisProgram);var r=t.length,n=stackAlloc(4*(r+1)),i=n>>2;t.forEach(s=>{HEAP32[i++]=allocateUTF8OnStack(s)}),HEAP32[i]=0;try{var o=e(r,n);return exitJS(o,!0),o}catch(s){return handleException(s)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)};var dylibsLoaded=!1;function run(t){function e(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(t),postRun()))}t=t||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()))}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{r=e[0];let n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else r=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=(u,c,l)=>e.slice(u,l);else{if(typeof e!="function")throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let i=0,o=0;if(n&&n.includedRanges){i=n.includedRanges.length,o=C._calloc(i,SIZE_OF_RANGE);let u=o;for(let c=0;c<i;c++)marshalRange(u,n.includedRanges[c]),u+=SIZE_OF_RANGE}let s=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,o,i);if(!s)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let a=new Tree(INTERNAL,s,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,a}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if(typeof e!="function")throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,r,n,i){assertInternal(e),this[0]=r,this.language=n,this.textCallback=i}copy(){let e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);let r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),i=new Array(r);if(r>0){let o=n;for(let s=0;s<r;s++)i[s]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return i}}class Node{constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){let r=this.tree.language.fields.indexOf(e);if(r!==-1)return this.childForFieldId(r)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._children[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let i=0;i<e;i++)this._namedChildren[i]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);let i=[],o=this.tree.language.types;for(let l=0,f=o.length;l<f;l++)e.includes(o[l])&&i.push(l);let s=C._malloc(SIZE_OF_INT*i.length);for(let l=0,f=i.length;l<f;l++)setValue(s+l*SIZE_OF_INT,i[l],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],s,i.length,r.row,r.column,n.row,n.column);let a=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=new Array(a);if(a>0){let l=u;for(let f=0;f<a;f++)c[f]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE}return C._free(u),C._free(s),c}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoNextSibling(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoParent(){marshalTreeCursor(this);let e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,i=this.types.length;n<i;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,i=this.fields.length;n<i;n++){let o=C._ts_language_field_name_for_id(this[0],n);this.fields[n]=o!==0?UTF8ToString(o):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){let r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){let n=lengthBytesUTF8(e),i=C._malloc(n+1);stringToUTF8(e,i,n+1);let o=C._ts_language_symbol_for_name(this[0],i,n,r);return C._free(i),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){let r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){let r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);let i=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!i){let h=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),g=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,v=e.substr(g,100).split(`
`)[0],_,y=v.match(QUERY_WORD_REGEX)[0];switch(h){case 2:_=new RangeError(`Bad node name '${y}'`);break;case 3:_=new RangeError(`Bad field name '${y}'`);break;case 4:_=new RangeError(`Bad capture name @${y}`);break;case 5:_=new TypeError(`Bad pattern structure at offset ${g}: '${v}'...`),y="";break;default:_=new SyntaxError(`Bad syntax at offset ${g}: '${v}'...`),y=""}throw _.index=g,_.length=y.length,C._free(n),_}let o=C._ts_query_string_count(i),s=C._ts_query_capture_count(i),a=C._ts_query_pattern_count(i),u=new Array(s),c=new Array(o);for(let h=0;h<s;h++){let g=C._ts_query_capture_name_for_id(i,h,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");u[h]=UTF8ToString(g,v)}for(let h=0;h<o;h++){let g=C._ts_query_string_value_for_id(i,h,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");c[h]=UTF8ToString(g,v)}let l=new Array(a),f=new Array(a),p=new Array(a),m=new Array(a),d=new Array(a);for(let h=0;h<a;h++){let g=C._ts_query_predicates_for_pattern(i,h,TRANSFER_BUFFER),v=getValue(TRANSFER_BUFFER,"i32");m[h]=[],d[h]=[];let _=[],y=g;for(let x=0;x<v;x++){let b=getValue(y,"i32");y+=SIZE_OF_INT;let T=getValue(y,"i32");if(y+=SIZE_OF_INT,b===PREDICATE_STEP_TYPE_CAPTURE)_.push({type:"capture",name:u[T]});else if(b===PREDICATE_STEP_TYPE_STRING)_.push({type:"string",value:c[T]});else if(_.length>0){if(_[0].type!=="string")throw new Error("Predicates must begin with a literal value");let k=_[0].value,U=!0;switch(k){case"not-eq?":U=!1;case"eq?":if(_.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(_.length-1));if(_[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${_[1].value}"`);if(_[2].type==="capture"){let Q=_[1].name,O=_[2].name;d[h].push(function(w){let P,M;for(let L of w)L.name===Q&&(P=L.node),L.name===O&&(M=L.node);return P===void 0||M===void 0||P.text===M.text===U})}else{let Q=_[1].name,O=_[2].value;d[h].push(function(w){for(let P of w)if(P.name===Q)return P.node.text===O===U;return!0})}break;case"not-match?":U=!1;case"match?":if(_.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${_.length-1}.`);if(_[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${_[1].value}".`);if(_[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${_[2].value}.`);let z=_[1].name,D=new RegExp(_[2].value);d[h].push(function(Q){for(let O of Q)if(O.name===z)return D.test(O.node.text)===U;return!0});break;case"set!":if(_.length<2||_.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${_.length-1}.`);if(_.some(Q=>Q.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');l[h]||(l[h]={}),l[h][_[1].value]=_[2]?_[2].value:null;break;case"is?":case"is-not?":if(_.length<2||_.length>3)throw new Error(`Wrong number of arguments to \`#${k}\` predicate. Expected 1 or 2. Got ${_.length-1}.`);if(_.some(Q=>Q.type!=="string"))throw new Error(`Arguments to \`#${k}\` predicate must be a strings.".`);let fe=k==="is?"?f:p;fe[h]||(fe[h]={}),fe[h][_[1].value]=_[2]?_[2].value:null;break;default:m[h].push({operator:k,operands:_.slice(1)})}_.length=0}}Object.freeze(l[h]),Object.freeze(f[h]),Object.freeze(p[h])}return C._free(n),new Query(INTERNAL,i,u,d,m,Object.freeze(l),Object.freeze(f),Object.freeze(p))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{let i=e;if(typeof process<"u"&&process.versions&&process.versions.node){let o=require("fs");r=Promise.resolve(o.readFileSync(i))}else r=fetch(i).then(o=>o.arrayBuffer().then(s=>{if(o.ok)return new Uint8Array(s);{let a=new TextDecoder("utf-8").decode(s);throw new Error(`Language.load failed with status ${o.status}.

${a}`)}}))}let n=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return r.then(i=>n(i,{loadAsync:!0})).then(i=>{let o=Object.keys(i),s=o.find(u=>LANGUAGE_FUNCTION_REGEX.test(u)&&!u.includes("external_scanner_"));s||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(o,null,2)}`);let a=i[s]();return new Language(INTERNAL,a)})}}class Query{constructor(e,r,n,i,o,s,a,u){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=i,this.predicates=o,this.setProperties=s,this.assertedProperties=a,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o);let s=getValue(TRANSFER_BUFFER,"i32"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),c=new Array(s);this.exceededMatchLimit=!!u;let l=0,f=a;for(let p=0;p<s;p++){let m=getValue(f,"i32");f+=SIZE_OF_INT;let d=getValue(f,"i32");f+=SIZE_OF_INT;let h=new Array(d);if(f=unmarshalCaptures(this,e.tree,f,h),this.textPredicates[m].every(g=>g(h))){c[l++]={pattern:m,captures:h};let g=this.setProperties[m];g&&(c[p].setProperties=g);let v=this.assertedProperties[m];v&&(c[p].assertedProperties=v);let _=this.refutedProperties[m];_&&(c[p].refutedProperties=_)}}return c.length=l,C._free(a),c}captures(e,r,n,i){r||(r=ZERO_POINT),n||(n=ZERO_POINT),i||(i={});let o=i.matchLimit;if(o===void 0)o=0;else if(typeof o!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,o);let s=getValue(TRANSFER_BUFFER,"i32"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),u=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),c=[];this.exceededMatchLimit=!!u;let l=[],f=a;for(let p=0;p<s;p++){let m=getValue(f,"i32");f+=SIZE_OF_INT;let d=getValue(f,"i32");f+=SIZE_OF_INT;let h=getValue(f,"i32");if(f+=SIZE_OF_INT,l.length=d,f=unmarshalCaptures(this,e.tree,f,l),this.textPredicates[m].every(g=>g(l))){let g=l[h],v=this.setProperties[m];v&&(g.setProperties=v);let _=this.assertedProperties[m];_&&(g.assertedProperties=_);let y=this.refutedProperties[m];y&&(g.refutedProperties=y),c.push(g)}}return C._free(a),c}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){let n=r-e,i=t.textCallback(e,null,r);for(e+=i.length;e<r;){let o=t.textCallback(e,null,r);if(!(o&&o.length>0))break;e+=o.length,i+=o}return e>r&&(i=i.slice(0,n)),i}function unmarshalCaptures(t,e,r,n){for(let i=0,o=n.length;i<o;i++){let s=getValue(r,"i32"),a=unmarshalNode(e,r+=SIZE_OF_INT);r+=SIZE_OF_NODE,n[i]={name:t.captureNames[s],node:a}}return r}function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}function unmarshalNode(t,e=TRANSFER_BUFFER){let r=getValue(e,"i32");if(r===0)return null;let n=getValue(e+=SIZE_OF_INT,"i32"),i=getValue(e+=SIZE_OF_INT,"i32"),o=getValue(e+=SIZE_OF_INT,"i32"),s=getValue(e+=SIZE_OF_INT,"i32"),a=new Node(INTERNAL,t);return a.id=r,a.startIndex=n,a.startPosition={row:i,column:o},a[0]=s,a}function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32")}function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}function unmarshalPoint(t){return{row:getValue(t,"i32"),column:getValue(t+SIZE_OF_INT,"i32")}}function marshalRange(t,e){marshalPoint(t,e.startPosition),marshalPoint(t+=SIZE_OF_POINT,e.endPosition),setValue(t+=SIZE_OF_POINT,e.startIndex,"i32"),setValue(t+=SIZE_OF_INT,e.endIndex,"i32"),t+=SIZE_OF_INT}function unmarshalRange(t){let e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32"),t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32"),e}function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}for(let t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var gH=R(Xt=>{"use strict";var mH=Xt&&Xt.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},hH=Xt&&Xt.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.getShallowFileSize=Xt.getShallowDirectorySizeSync=Xt.getShallowDirectorySize=Xt.confirmDirExists=Xt.unlinkAsync=Xt.readdirAsync=Xt.readFileAsync=Xt.writeFileAsync=Xt.appendFileAsync=Xt.accessAsync=Xt.mkdirAsync=Xt.lstatAsync=Xt.statAsync=void 0;var Ku=require("fs"),tue=require("path"),Qp=require("util");Xt.statAsync=Qp.promisify(Ku.stat);Xt.lstatAsync=Qp.promisify(Ku.lstat);Xt.mkdirAsync=Qp.promisify(Ku.mkdir);Xt.accessAsync=Qp.promisify(Ku.access);Xt.appendFileAsync=Qp.promisify(Ku.appendFile);Xt.writeFileAsync=Qp.promisify(Ku.writeFile);Xt.readFileAsync=Qp.promisify(Ku.readFile);Xt.readdirAsync=Qp.promisify(Ku.readdir);Xt.unlinkAsync=Qp.promisify(Ku.unlink);var iFe=function(t){return mH(void 0,void 0,void 0,function(){var e,r,n;return hH(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Xt.lstatAsync(t)];case 1:if(e=i.sent(),!e.isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(r=i.sent(),!(r&&r.code==="ENOENT"))return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,Xt.mkdirAsync(t)];case 4:return i.sent(),[3,6];case 5:if(n=i.sent(),n&&n.code!=="EEXIST")throw n;return[3,6];case 6:return[3,7];case 7:return[2]}})})};Xt.confirmDirExists=iFe;var oFe=function(t){return mH(void 0,void 0,void 0,function(){var e,r,n,i,o,s;return hH(this,function(a){switch(a.label){case 0:return[4,Xt.readdirAsync(t)];case 1:e=a.sent(),r=0,n=0,i=e,a.label=2;case 2:return n<i.length?(o=i[n],[4,Xt.statAsync(tue.join(t,o))]):[3,5];case 3:s=a.sent(),s.isFile()&&(r+=s.size),a.label=4;case 4:return n++,[3,2];case 5:return[2,r]}})})};Xt.getShallowDirectorySize=oFe;var sFe=function(t){for(var e=Ku.readdirSync(t),r=0,n=0;n<e.length;n++)r+=Ku.statSync(tue.join(t,e[n])).size;return r};Xt.getShallowDirectorySizeSync=sFe;var aFe=function(t){return mH(void 0,void 0,void 0,function(){var e;return hH(this,function(r){switch(r.label){case 0:return[4,Xt.statAsync(t)];case 1:return e=r.sent(),e.isFile()?[2,e.size]:[2]}})})};Xt.getShallowFileSize=aFe});var iue=R((Mv,nue)=>{"use strict";var vH=Mv&&Mv.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},_H=Mv&&Mv.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},rue=Mv&&Mv.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},cFe=require("fs"),uFe=require("os"),Ov=require("path"),ff=gH(),lFe=function(){function t(){var e=this;this.TAG="Logger",this._cleanupTimeOut=60*30*1e3,this._tempDir="",this._logFileName="",this._fileFullPath="",this._backUpNameFormat="",this._logToFile=!1,this._logToConsole=!0;var r=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;r=="file+console"&&(this._logToFile=!0),r=="file"&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var n=process.env.APPLICATIONINSIGHTS_LOGDIR;n?Ov.isAbsolute(n)?this._tempDir=n:this._tempDir=Ov.join(process.cwd(),n):this._tempDir=Ov.join(uFe.tmpdir(),"appInsights-node"),this._fileFullPath=Ov.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(t._fileCleanupTimer||(t._fileCleanupTimer=setInterval(function(){e._fileCleanupTask()},this._cleanupTimeOut),t._fileCleanupTimer.unref()))}return t.prototype.info=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e?rue([e],r):r;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.info.apply(console,i)},t.prototype.warning=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=e?rue([e],r):r;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.warn.apply(console,i)},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype._storeToDisk=function(e){return vH(this,void 0,void 0,function(){var r,n,i,o,s,a;return _H(this,function(u){switch(u.label){case 0:r=e+`\r
`,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,ff.confirmDirExists(this._tempDir)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(n&&n.message)),[2];case 4:return u.trys.push([4,6,,11]),[4,ff.accessAsync(this._fileFullPath,cFe.constants.F_OK)];case 5:return u.sent(),[3,11];case 6:i=u.sent(),u.label=7;case 7:return u.trys.push([7,9,,10]),[4,ff.appendFileAsync(this._fileFullPath,r)];case 8:return u.sent(),[2];case 9:return o=u.sent(),console.log(this.TAG,"Failed to put log into file: "+(i&&i.message)),[2];case 10:return[3,11];case 11:return u.trys.push([11,17,,18]),[4,ff.getShallowFileSize(this._fileFullPath)];case 12:return s=u.sent(),s>this.maxSizeBytes?[4,this._createBackupFile(r)]:[3,14];case 13:return u.sent(),[3,16];case 14:return[4,ff.appendFileAsync(this._fileFullPath,r)];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:return a=u.sent(),console.log(this.TAG,"Failed to create backup file: "+(a&&a.message)),[3,18];case 18:return[2]}})})},t.prototype._createBackupFile=function(e){return vH(this,void 0,void 0,function(){var r,n,i;return _H(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),[4,ff.readFileAsync(this._fileFullPath)];case 1:return r=o.sent(),n=Ov.join(this._tempDir,new Date().getTime()+"."+this._logFileName),[4,ff.writeFileAsync(n,r)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),console.log("Failed to generate backup log file",i),[3,5];case 4:return ff.writeFileAsync(this._fileFullPath,e),[7];case 5:return[2]}})})},t.prototype._fileCleanupTask=function(){return vH(this,void 0,void 0,function(){var e,r,n,i,o,s=this;return _H(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,ff.readdirAsync(this._tempDir)];case 1:e=a.sent(),e=e.filter(function(u){return Ov.basename(u).indexOf(s._backUpNameFormat)>-1}),e.sort(function(u,c){var l=new Date(parseInt(u.split(s._backUpNameFormat)[0])),f=new Date(parseInt(c.split(s._backUpNameFormat)[0]));if(l<f)return-1;if(l>=f)return 1}),r=e.length,n=0,a.label=2;case 2:return n<r-this.maxHistory?(i=Ov.join(this._tempDir,e[n]),[4,ff.unlinkAsync(i)]):[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return o=a.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(o&&o.message)),[3,7];case 7:return[2]}})})},t._fileCleanupTimer=null,t}();nue.exports=lFe});var bn=R((Y9t,sue)=>{"use strict";var oue=iue(),fFe="APPLICATION_INSIGHTS_ENABLE_DEBUG_LOGS",pFe="APPLICATION_INSIGHTS_DISABLE_WARNING_LOGS",dFe=function(){function t(){}return t.info=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enableDebug&&oue.getInstance().info(this.TAG+e,r)},t.warn=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.disableWarnings||oue.getInstance().warning(this.TAG+e,r)},t.enableDebug=!!process.env[fFe],t.disableWarnings=!!process.env[pFe],t.TAG="ApplicationInsights:",t}();sue.exports=dFe});var kk=R(Dk=>{"use strict";Object.defineProperty(Dk,"__esModule",{value:!0});Dk.JsonConfig=void 0;var mFe=require("fs"),Nk=require("path"),yH=bn(),hFe="APPLICATIONINSIGHTS_CONFIGURATION_FILE",gFe="APPLICATIONINSIGHTS_CONNECTION_STRING",aue="APPSETTING_",cue="APPINSIGHTS_INSTRUMENTATIONKEY",uue="APPINSIGHTS_INSTRUMENTATION_KEY",vFe="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",_Fe="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",yFe="http_proxy",bFe="https_proxy",xFe="APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL",EFe="APPLICATION_INSIGHTS_NO_STATSBEAT",TFe="APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE",SFe="APPLICATION_INSIGHTS_NO_PATCH_MODULES",CFe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED",IFe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING",wFe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE",AFe="APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED",RFe="APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING",PFe=function(){function t(){this.connectionString=process.env[gFe],this.instrumentationKey=process.env[cue]||process.env[aue+cue]||process.env[uue]||process.env[aue+uue],!this.connectionString&&this.instrumentationKey&&yH.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env[_Fe],this.extendedMetricDisablers=process.env[vFe],this.proxyHttpUrl=process.env[yFe],this.proxyHttpsUrl=process.env[bFe],this.noDiagnosticChannel=!!process.env[xFe],this.disableStatsbeat=!!process.env[EFe],this.noHttpAgentKeepAlive=!!process.env[TFe],this.noPatchModules=process.env[SFe]||"",this.enableWebInstrumentation=!!process.env[CFe]||!!process.env[AFe],this.webInstrumentationSrc=process.env[wFe]||"",this.webInstrumentationConnectionString=process.env[IFe]||process.env[RFe]||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype._loadJsonFile=function(){var e="",r="{}";if(r)e=r;else{var n="applicationinsights.json",i=Nk.join(__dirname,"../../"),o=Nk.join(i,n),s=process.env[hFe];s&&(Nk.isAbsolute(s)?o=s:o=Nk.join(i,s));try{e=mFe.readFileSync(o,"utf8")}catch(u){yH.warn("Failed to read JSON config file: ",u)}}try{var a=JSON.parse(e);a.disableStatsbeat!=null&&(this.disableStatsbeat=a.disableStatsbeat),a.disableAllExtendedMetrics!=null&&(this.disableAllExtendedMetrics=a.disableStatsbeat),a.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=a.noDiagnosticChannel),a.noHttpAgentKeepAlive!=null&&(this.noHttpAgentKeepAlive=a.noHttpAgentKeepAlive),a.connectionString!=null&&(this.connectionString=a.connectionString),a.extendedMetricDisablers!=null&&(this.extendedMetricDisablers=a.extendedMetricDisablers),a.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=a.noDiagnosticChannel),a.proxyHttpUrl!=null&&(this.proxyHttpUrl=a.proxyHttpUrl),a.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=a.proxyHttpsUrl),a.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=a.proxyHttpsUrl),a.noPatchModules!=null&&(this.noPatchModules=a.noPatchModules),a.enableAutoWebSnippetInjection!=null&&(this.enableWebInstrumentation=a.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),a.enableWebInstrumentation!=null&&(this.enableWebInstrumentation=a.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),a.webSnippetConnectionString!=null&&(this.webInstrumentationConnectionString=a.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),a.webInstrumentationConnectionString!=null&&(this.webInstrumentationConnectionString=a.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),a.webInstrumentationConfig!=null&&(this.webInstrumentationConfig=a.webInstrumentationConfig),a.webInstrumentationSrc!=null&&(this.webInstrumentationSrc=a.webInstrumentationSrc),a.enableLoggerErrorToTrace!=null&&(this.enableLoggerErrorToTrace=a.enableLoggerErrorToTrace),this.endpointUrl=a.endpointUrl,this.maxBatchSize=a.maxBatchSize,this.maxBatchIntervalMs=a.maxBatchIntervalMs,this.disableAppInsights=a.disableAppInsights,this.samplingPercentage=a.samplingPercentage,this.correlationIdRetryIntervalMs=a.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=a.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=a.ignoreLegacyHeaders,this.distributedTracingMode=a.distributedTracingMode,this.enableAutoCollectExternalLoggers=a.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=a.enableAutoCollectConsole,this.enableLoggerErrorToTrace=a.enableLoggerErrorToTrace,this.enableAutoCollectExceptions=a.enableAutoCollectExceptions,this.enableAutoCollectPerformance=a.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=a.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=a.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=a.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=a.enableAutoCollectRequests,this.enableAutoCollectDependencies=a.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=a.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=a.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=a.enableUseAsyncHooks,this.enableUseDiskRetryCaching=a.enableUseDiskRetryCaching,this.enableResendInterval=a.enableResendInterval,this.enableMaxBytesOnDisk=a.enableMaxBytesOnDisk,this.enableInternalDebugLogging=a.enableInternalDebugLogging,this.enableInternalWarningLogging=a.enableInternalWarningLogging,this.enableSendLiveMetrics=a.enableSendLiveMetrics,this.quickPulseHost=a.quickPulseHost}catch(u){yH.warn("Invalid JSON config file: ",u)}},t}();Dk.JsonConfig=PFe});var pI=R((W9t,lue)=>{var NFe="2.0.0",DFe=Number.MAX_SAFE_INTEGER||9007199254740991,kFe=16,LFe=250,OFe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];lue.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:kFe,MAX_SAFE_BUILD_LENGTH:LFe,MAX_SAFE_INTEGER:DFe,RELEASE_TYPES:OFe,SEMVER_SPEC_VERSION:NFe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var dI=R((K9t,fue)=>{var MFe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};fue.exports=MFe});var Mb=R((Jp,pue)=>{var{MAX_SAFE_COMPONENT_LENGTH:bH,MAX_SAFE_BUILD_LENGTH:FFe,MAX_LENGTH:UFe}=pI(),BFe=dI();Jp=pue.exports={};var qFe=Jp.re=[],HFe=Jp.safeRe=[],Je=Jp.src=[],Ze=Jp.t={},GFe=0,xH="[a-zA-Z0-9-]",jFe=[["\\s",1],["\\d",UFe],[xH,FFe]],VFe=t=>{for(let[e,r]of jFe)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},Ft=(t,e,r)=>{let n=VFe(e),i=GFe++;BFe(t,i,e),Ze[t]=i,Je[i]=e,qFe[i]=new RegExp(e,r?"g":void 0),HFe[i]=new RegExp(n,r?"g":void 0)};Ft("NUMERICIDENTIFIER","0|[1-9]\\d*");Ft("NUMERICIDENTIFIERLOOSE","\\d+");Ft("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${xH}*`);Ft("MAINVERSION",`(${Je[Ze.NUMERICIDENTIFIER]})\\.(${Je[Ze.NUMERICIDENTIFIER]})\\.(${Je[Ze.NUMERICIDENTIFIER]})`);Ft("MAINVERSIONLOOSE",`(${Je[Ze.NUMERICIDENTIFIERLOOSE]})\\.(${Je[Ze.NUMERICIDENTIFIERLOOSE]})\\.(${Je[Ze.NUMERICIDENTIFIERLOOSE]})`);Ft("PRERELEASEIDENTIFIER",`(?:${Je[Ze.NUMERICIDENTIFIER]}|${Je[Ze.NONNUMERICIDENTIFIER]})`);Ft("PRERELEASEIDENTIFIERLOOSE",`(?:${Je[Ze.NUMERICIDENTIFIERLOOSE]}|${Je[Ze.NONNUMERICIDENTIFIER]})`);Ft("PRERELEASE",`(?:-(${Je[Ze.PRERELEASEIDENTIFIER]}(?:\\.${Je[Ze.PRERELEASEIDENTIFIER]})*))`);Ft("PRERELEASELOOSE",`(?:-?(${Je[Ze.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Je[Ze.PRERELEASEIDENTIFIERLOOSE]})*))`);Ft("BUILDIDENTIFIER",`${xH}+`);Ft("BUILD",`(?:\\+(${Je[Ze.BUILDIDENTIFIER]}(?:\\.${Je[Ze.BUILDIDENTIFIER]})*))`);Ft("FULLPLAIN",`v?${Je[Ze.MAINVERSION]}${Je[Ze.PRERELEASE]}?${Je[Ze.BUILD]}?`);Ft("FULL",`^${Je[Ze.FULLPLAIN]}$`);Ft("LOOSEPLAIN",`[v=\\s]*${Je[Ze.MAINVERSIONLOOSE]}${Je[Ze.PRERELEASELOOSE]}?${Je[Ze.BUILD]}?`);Ft("LOOSE",`^${Je[Ze.LOOSEPLAIN]}$`);Ft("GTLT","((?:<|>)?=?)");Ft("XRANGEIDENTIFIERLOOSE",`${Je[Ze.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ft("XRANGEIDENTIFIER",`${Je[Ze.NUMERICIDENTIFIER]}|x|X|\\*`);Ft("XRANGEPLAIN",`[v=\\s]*(${Je[Ze.XRANGEIDENTIFIER]})(?:\\.(${Je[Ze.XRANGEIDENTIFIER]})(?:\\.(${Je[Ze.XRANGEIDENTIFIER]})(?:${Je[Ze.PRERELEASE]})?${Je[Ze.BUILD]}?)?)?`);Ft("XRANGEPLAINLOOSE",`[v=\\s]*(${Je[Ze.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Je[Ze.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Je[Ze.XRANGEIDENTIFIERLOOSE]})(?:${Je[Ze.PRERELEASELOOSE]})?${Je[Ze.BUILD]}?)?)?`);Ft("XRANGE",`^${Je[Ze.GTLT]}\\s*${Je[Ze.XRANGEPLAIN]}$`);Ft("XRANGELOOSE",`^${Je[Ze.GTLT]}\\s*${Je[Ze.XRANGEPLAINLOOSE]}$`);Ft("COERCE",`(^|[^\\d])(\\d{1,${bH}})(?:\\.(\\d{1,${bH}}))?(?:\\.(\\d{1,${bH}}))?(?:$|[^\\d])`);Ft("COERCERTL",Je[Ze.COERCE],!0);Ft("LONETILDE","(?:~>?)");Ft("TILDETRIM",`(\\s*)${Je[Ze.LONETILDE]}\\s+`,!0);Jp.tildeTrimReplace="$1~";Ft("TILDE",`^${Je[Ze.LONETILDE]}${Je[Ze.XRANGEPLAIN]}$`);Ft("TILDELOOSE",`^${Je[Ze.LONETILDE]}${Je[Ze.XRANGEPLAINLOOSE]}$`);Ft("LONECARET","(?:\\^)");Ft("CARETTRIM",`(\\s*)${Je[Ze.LONECARET]}\\s+`,!0);Jp.caretTrimReplace="$1^";Ft("CARET",`^${Je[Ze.LONECARET]}${Je[Ze.XRANGEPLAIN]}$`);Ft("CARETLOOSE",`^${Je[Ze.LONECARET]}${Je[Ze.XRANGEPLAINLOOSE]}$`);Ft("COMPARATORLOOSE",`^${Je[Ze.GTLT]}\\s*(${Je[Ze.LOOSEPLAIN]})$|^$`);Ft("COMPARATOR",`^${Je[Ze.GTLT]}\\s*(${Je[Ze.FULLPLAIN]})$|^$`);Ft("COMPARATORTRIM",`(\\s*)${Je[Ze.GTLT]}\\s*(${Je[Ze.LOOSEPLAIN]}|${Je[Ze.XRANGEPLAIN]})`,!0);Jp.comparatorTrimReplace="$1$2$3";Ft("HYPHENRANGE",`^\\s*(${Je[Ze.XRANGEPLAIN]})\\s+-\\s+(${Je[Ze.XRANGEPLAIN]})\\s*$`);Ft("HYPHENRANGELOOSE",`^\\s*(${Je[Ze.XRANGEPLAINLOOSE]})\\s+-\\s+(${Je[Ze.XRANGEPLAINLOOSE]})\\s*$`);Ft("STAR","(<|>)?=?\\s*\\*");Ft("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ft("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Lk=R((X9t,due)=>{var zFe=Object.freeze({loose:!0}),YFe=Object.freeze({}),$Fe=t=>t?typeof t!="object"?zFe:t:YFe;due.exports=$Fe});var EH=R((Q9t,gue)=>{var mue=/^[0-9]+$/,hue=(t,e)=>{let r=mue.test(t),n=mue.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},WFe=(t,e)=>hue(e,t);gue.exports={compareIdentifiers:hue,rcompareIdentifiers:WFe}});var bs=R((J9t,bue)=>{var Ok=dI(),{MAX_LENGTH:vue,MAX_SAFE_INTEGER:Mk}=pI(),{safeRe:_ue,t:yue}=Mb(),KFe=Lk(),{compareIdentifiers:Fb}=EH(),TH=class t{constructor(e,r){if(r=KFe(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>vue)throw new TypeError(`version is longer than ${vue} characters`);Ok("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?_ue[yue.LOOSE]:_ue[yue.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Mk||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Mk||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Mk||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Mk)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ok("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Fb(this.major,e.major)||Fb(this.minor,e.minor)||Fb(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(Ok("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fb(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(Ok("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Fb(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Fb(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};bue.exports=TH});var Fv=R((Z9t,Eue)=>{var xue=bs(),XFe=(t,e,r=!1)=>{if(t instanceof xue)return t;try{return new xue(t,e)}catch(n){if(!r)return null;throw n}};Eue.exports=XFe});var Sue=R((e7t,Tue)=>{var QFe=Fv(),JFe=(t,e)=>{let r=QFe(t,e);return r?r.version:null};Tue.exports=JFe});var Iue=R((t7t,Cue)=>{var ZFe=Fv(),eUe=(t,e)=>{let r=ZFe(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};Cue.exports=eUe});var Rue=R((r7t,Aue)=>{var wue=bs(),tUe=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new wue(t instanceof wue?t.version:t,r).inc(e,n,i).version}catch{return null}};Aue.exports=tUe});var Due=R((n7t,Nue)=>{var Pue=Fv(),rUe=(t,e)=>{let r=Pue(t,null,!0),n=Pue(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,u=!!s.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=u?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"};Nue.exports=rUe});var Lue=R((i7t,kue)=>{var nUe=bs(),iUe=(t,e)=>new nUe(t,e).major;kue.exports=iUe});var Mue=R((o7t,Oue)=>{var oUe=bs(),sUe=(t,e)=>new oUe(t,e).minor;Oue.exports=sUe});var Uue=R((s7t,Fue)=>{var aUe=bs(),cUe=(t,e)=>new aUe(t,e).patch;Fue.exports=cUe});var que=R((a7t,Bue)=>{var uUe=Fv(),lUe=(t,e)=>{let r=uUe(t,e);return r&&r.prerelease.length?r.prerelease:null};Bue.exports=lUe});var jc=R((c7t,Gue)=>{var Hue=bs(),fUe=(t,e,r)=>new Hue(t,r).compare(new Hue(e,r));Gue.exports=fUe});var Vue=R((u7t,jue)=>{var pUe=jc(),dUe=(t,e,r)=>pUe(e,t,r);jue.exports=dUe});var Yue=R((l7t,zue)=>{var mUe=jc(),hUe=(t,e)=>mUe(t,e,!0);zue.exports=hUe});var Fk=R((f7t,Wue)=>{var $ue=bs(),gUe=(t,e,r)=>{let n=new $ue(t,r),i=new $ue(e,r);return n.compare(i)||n.compareBuild(i)};Wue.exports=gUe});var Xue=R((p7t,Kue)=>{var vUe=Fk(),_Ue=(t,e)=>t.sort((r,n)=>vUe(r,n,e));Kue.exports=_Ue});var Jue=R((d7t,Que)=>{var yUe=Fk(),bUe=(t,e)=>t.sort((r,n)=>yUe(n,r,e));Que.exports=bUe});var mI=R((m7t,Zue)=>{var xUe=jc(),EUe=(t,e,r)=>xUe(t,e,r)>0;Zue.exports=EUe});var Uk=R((h7t,ele)=>{var TUe=jc(),SUe=(t,e,r)=>TUe(t,e,r)<0;ele.exports=SUe});var SH=R((g7t,tle)=>{var CUe=jc(),IUe=(t,e,r)=>CUe(t,e,r)===0;tle.exports=IUe});var CH=R((v7t,rle)=>{var wUe=jc(),AUe=(t,e,r)=>wUe(t,e,r)!==0;rle.exports=AUe});var Bk=R((_7t,nle)=>{var RUe=jc(),PUe=(t,e,r)=>RUe(t,e,r)>=0;nle.exports=PUe});var qk=R((y7t,ile)=>{var NUe=jc(),DUe=(t,e,r)=>NUe(t,e,r)<=0;ile.exports=DUe});var IH=R((b7t,ole)=>{var kUe=SH(),LUe=CH(),OUe=mI(),MUe=Bk(),FUe=Uk(),UUe=qk(),BUe=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return kUe(t,r,n);case"!=":return LUe(t,r,n);case">":return OUe(t,r,n);case">=":return MUe(t,r,n);case"<":return FUe(t,r,n);case"<=":return UUe(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};ole.exports=BUe});var ale=R((x7t,sle)=>{var qUe=bs(),HUe=Fv(),{safeRe:Hk,t:Gk}=Mb(),GUe=(t,e)=>{if(t instanceof qUe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Hk[Gk.COERCE]);else{let n;for(;(n=Hk[Gk.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Hk[Gk.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Hk[Gk.COERCERTL].lastIndex=-1}return r===null?null:HUe(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};sle.exports=GUe});var ule=R((E7t,cle)=>{"use strict";cle.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var fle=R((T7t,lle)=>{"use strict";lle.exports=Sr;Sr.Node=Uv;Sr.create=Sr;function Sr(t){var e=this;if(e instanceof Sr||(e=new Sr),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Sr.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Sr.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Sr.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Sr.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)VUe(this,arguments[t]);return this.length};Sr.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)zUe(this,arguments[t]);return this.length};Sr.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Sr.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Sr.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Sr.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Sr.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Sr.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Sr.prototype.map=function(t,e){e=e||this;for(var r=new Sr,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Sr.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Sr,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Sr.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Sr.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Sr.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Sr.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Sr.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Sr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Sr.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Sr;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Sr.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=jUe(this,i,r[n]);return o};Sr.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function jUe(t,e,r){var n=e===t.head?new Uv(r,null,e,t):new Uv(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function VUe(t,e){t.tail=new Uv(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function zUe(t,e){t.head=new Uv(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Uv(t,e,r,n){if(!(this instanceof Uv))return new Uv(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{ule()(Sr)}catch{}});var gle=R((S7t,hle)=>{"use strict";var YUe=fle(),Bv=Symbol("max"),ed=Symbol("length"),Ub=Symbol("lengthCalculator"),gI=Symbol("allowStale"),qv=Symbol("maxAge"),Zp=Symbol("dispose"),ple=Symbol("noDisposeOnSet"),Eo=Symbol("lruList"),Xu=Symbol("cache"),mle=Symbol("updateAgeOnGet"),wH=()=>1,RH=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Bv]=e.max||1/0,n=e.length||wH;if(this[Ub]=typeof n!="function"?wH:n,this[gI]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[qv]=e.maxAge||0,this[Zp]=e.dispose,this[ple]=e.noDisposeOnSet||!1,this[mle]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Bv]=e||1/0,hI(this)}get max(){return this[Bv]}set allowStale(e){this[gI]=!!e}get allowStale(){return this[gI]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[qv]=e,hI(this)}get maxAge(){return this[qv]}set lengthCalculator(e){typeof e!="function"&&(e=wH),e!==this[Ub]&&(this[Ub]=e,this[ed]=0,this[Eo].forEach(r=>{r.length=this[Ub](r.value,r.key),this[ed]+=r.length})),hI(this)}get lengthCalculator(){return this[Ub]}get length(){return this[ed]}get itemCount(){return this[Eo].length}rforEach(e,r){r=r||this;for(let n=this[Eo].tail;n!==null;){let i=n.prev;dle(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Eo].head;n!==null;){let i=n.next;dle(this,e,n,r),n=i}}keys(){return this[Eo].toArray().map(e=>e.key)}values(){return this[Eo].toArray().map(e=>e.value)}reset(){this[Zp]&&this[Eo]&&this[Eo].length&&this[Eo].forEach(e=>this[Zp](e.key,e.value)),this[Xu]=new Map,this[Eo]=new YUe,this[ed]=0}dump(){return this[Eo].map(e=>jk(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Eo]}set(e,r,n){if(n=n||this[qv],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[Ub](r,e);if(this[Xu].has(e)){if(o>this[Bv])return Bb(this,this[Xu].get(e)),!1;let u=this[Xu].get(e).value;return this[Zp]&&(this[ple]||this[Zp](e,u.value)),u.now=i,u.maxAge=n,u.value=r,this[ed]+=o-u.length,u.length=o,this.get(e),hI(this),!0}let s=new PH(e,r,o,i,n);return s.length>this[Bv]?(this[Zp]&&this[Zp](e,r),!1):(this[ed]+=s.length,this[Eo].unshift(s),this[Xu].set(e,this[Eo].head),hI(this),!0)}has(e){if(!this[Xu].has(e))return!1;let r=this[Xu].get(e).value;return!jk(this,r)}get(e){return AH(this,e,!0)}peek(e){return AH(this,e,!1)}pop(){let e=this[Eo].tail;return e?(Bb(this,e),e.value):null}del(e){Bb(this,this[Xu].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Xu].forEach((e,r)=>AH(this,r,!1))}},AH=(t,e,r)=>{let n=t[Xu].get(e);if(n){let i=n.value;if(jk(t,i)){if(Bb(t,n),!t[gI])return}else r&&(t[mle]&&(n.value.now=Date.now()),t[Eo].unshiftNode(n));return i.value}},jk=(t,e)=>{if(!e||!e.maxAge&&!t[qv])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[qv]&&r>t[qv]},hI=t=>{if(t[ed]>t[Bv])for(let e=t[Eo].tail;t[ed]>t[Bv]&&e!==null;){let r=e.prev;Bb(t,e),e=r}},Bb=(t,e)=>{if(e){let r=e.value;t[Zp]&&t[Zp](r.key,r.value),t[ed]-=r.length,t[Xu].delete(r.key),t[Eo].removeNode(e)}},PH=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},dle=(t,e,r,n)=>{let i=r.value;jk(t,i)&&(Bb(t,r),t[gI]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};hle.exports=RH});var Vc=R((C7t,ble)=>{var NH=class t{constructor(e,r){if(r=WUe(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof DH)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!_le(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&tBe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&ZUe)|(this.options.loose&&eBe))+":"+e,i=vle.get(n);if(i)return i;let o=this.options.loose,s=o?xa[Vs.HYPHENRANGELOOSE]:xa[Vs.HYPHENRANGE];e=e.replace(s,fBe(this.options.includePrerelease)),xn("hyphen replace",e),e=e.replace(xa[Vs.COMPARATORTRIM],XUe),xn("comparator trim",e),e=e.replace(xa[Vs.TILDETRIM],QUe),xn("tilde trim",e),e=e.replace(xa[Vs.CARETTRIM],JUe),xn("caret trim",e);let a=e.split(" ").map(f=>rBe(f,this.options)).join(" ").split(/\s+/).map(f=>lBe(f,this.options));o&&(a=a.filter(f=>(xn("loose invalid filter",f,this.options),!!f.match(xa[Vs.COMPARATORLOOSE])))),xn("range list",a);let u=new Map,c=a.map(f=>new DH(f,this.options));for(let f of c){if(_le(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return vle.set(n,l),l}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>yle(n,r)&&e.set.some(i=>yle(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new KUe(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(pBe(this.set[r],e,this.options))return!0;return!1}};ble.exports=NH;var $Ue=gle(),vle=new $Ue({max:1e3}),WUe=Lk(),DH=vI(),xn=dI(),KUe=bs(),{safeRe:xa,t:Vs,comparatorTrimReplace:XUe,tildeTrimReplace:QUe,caretTrimReplace:JUe}=Mb(),{FLAG_INCLUDE_PRERELEASE:ZUe,FLAG_LOOSE:eBe}=pI(),_le=t=>t.value==="<0.0.0-0",tBe=t=>t.value==="",yle=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},rBe=(t,e)=>(xn("comp",t,e),t=oBe(t,e),xn("caret",t),t=nBe(t,e),xn("tildes",t),t=aBe(t,e),xn("xrange",t),t=uBe(t,e),xn("stars",t),t),zs=t=>!t||t.toLowerCase()==="x"||t==="*",nBe=(t,e)=>t.trim().split(/\s+/).map(r=>iBe(r,e)).join(" "),iBe=(t,e)=>{let r=e.loose?xa[Vs.TILDELOOSE]:xa[Vs.TILDE];return t.replace(r,(n,i,o,s,a)=>{xn("tilde",t,n,i,o,s,a);let u;return zs(i)?u="":zs(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:zs(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(xn("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,xn("tilde return",u),u})},oBe=(t,e)=>t.trim().split(/\s+/).map(r=>sBe(r,e)).join(" "),sBe=(t,e)=>{xn("caret",t,e);let r=e.loose?xa[Vs.CARETLOOSE]:xa[Vs.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,u)=>{xn("caret",t,i,o,s,a,u);let c;return zs(o)?c="":zs(s)?c=`>=${o}.0.0${n} <${+o+1}.0.0-0`:zs(a)?o==="0"?c=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:u?(xn("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(xn("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),xn("caret return",c),c})},aBe=(t,e)=>(xn("replaceXRanges",t,e),t.split(/\s+/).map(r=>cBe(r,e)).join(" ")),cBe=(t,e)=>{t=t.trim();let r=e.loose?xa[Vs.XRANGELOOSE]:xa[Vs.XRANGE];return t.replace(r,(n,i,o,s,a,u)=>{xn("xRange",t,n,i,o,s,a,u);let c=zs(o),l=c||zs(s),f=l||zs(a),p=f;return i==="="&&p&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(u="-0"),n=`${i+o}.${s}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),xn("xRange return",n),n})},uBe=(t,e)=>(xn("replaceStars",t,e),t.trim().replace(xa[Vs.STAR],"")),lBe=(t,e)=>(xn("replaceGTE0",t,e),t.trim().replace(xa[e.includePrerelease?Vs.GTE0PRE:Vs.GTE0],"")),fBe=t=>(e,r,n,i,o,s,a,u,c,l,f,p,m)=>(zs(n)?r="":zs(i)?r=`>=${n}.0.0${t?"-0":""}`:zs(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,zs(c)?u="":zs(l)?u=`<${+c+1}.0.0-0`:zs(f)?u=`<${c}.${+l+1}.0-0`:p?u=`<=${c}.${l}.${f}-${p}`:t?u=`<${c}.${l}.${+f+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),pBe=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(xn(t[n].semver),t[n].semver!==DH.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var vI=R((I7t,Ile)=>{var _I=Symbol("SemVer ANY"),OH=class t{static get ANY(){return _I}constructor(e,r){if(r=xle(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),LH("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===_I?this.value="":this.value=this.operator+this.semver.version,LH("comp",this)}parse(e){let r=this.options.loose?Ele[Tle.COMPARATORLOOSE]:Ele[Tle.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Sle(n[2],this.options.loose):this.semver=_I}toString(){return this.value}test(e){if(LH("Comparator.test",e,this.options.loose),this.semver===_I||e===_I)return!0;if(typeof e=="string")try{e=new Sle(e,this.options)}catch{return!1}return kH(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Cle(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new Cle(this.value,r).test(e.semver):(r=xle(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||kH(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||kH(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Ile.exports=OH;var xle=Lk(),{safeRe:Ele,t:Tle}=Mb(),kH=IH(),LH=dI(),Sle=bs(),Cle=Vc()});var yI=R((w7t,wle)=>{var dBe=Vc(),mBe=(t,e,r)=>{try{e=new dBe(e,r)}catch{return!1}return e.test(t)};wle.exports=mBe});var Rle=R((A7t,Ale)=>{var hBe=Vc(),gBe=(t,e)=>new hBe(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));Ale.exports=gBe});var Nle=R((R7t,Ple)=>{var vBe=bs(),_Be=Vc(),yBe=(t,e,r)=>{let n=null,i=null,o=null;try{o=new _Be(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new vBe(n,r))}),n};Ple.exports=yBe});var kle=R((P7t,Dle)=>{var bBe=bs(),xBe=Vc(),EBe=(t,e,r)=>{let n=null,i=null,o=null;try{o=new xBe(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new bBe(n,r))}),n};Dle.exports=EBe});var Mle=R((N7t,Ole)=>{var MH=bs(),TBe=Vc(),Lle=mI(),SBe=(t,e)=>{t=new TBe(t,e);let r=new MH("0.0.0");if(t.test(r)||(r=new MH("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new MH(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Lle(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||Lle(r,o))&&(r=o)}return r&&t.test(r)?r:null};Ole.exports=SBe});var Ule=R((D7t,Fle)=>{var CBe=Vc(),IBe=(t,e)=>{try{return new CBe(t,e).range||"*"}catch{return null}};Fle.exports=IBe});var Vk=R((k7t,Gle)=>{var wBe=bs(),Hle=vI(),{ANY:ABe}=Hle,RBe=Vc(),PBe=yI(),Ble=mI(),qle=Uk(),NBe=qk(),DBe=Bk(),kBe=(t,e,r,n)=>{t=new wBe(t,n),e=new RBe(e,n);let i,o,s,a,u;switch(r){case">":i=Ble,o=NBe,s=qle,a=">",u=">=";break;case"<":i=qle,o=DBe,s=Ble,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(PBe(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],f=null,p=null;if(l.forEach(m=>{m.semver===ABe&&(m=new Hle(">=0.0.0")),f=f||m,p=p||m,i(m.semver,f.semver,n)?f=m:s(m.semver,p.semver,n)&&(p=m)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&o(t,p.semver))return!1;if(p.operator===u&&s(t,p.semver))return!1}return!0};Gle.exports=kBe});var Vle=R((L7t,jle)=>{var LBe=Vk(),OBe=(t,e,r)=>LBe(t,e,">",r);jle.exports=OBe});var Yle=R((O7t,zle)=>{var MBe=Vk(),FBe=(t,e,r)=>MBe(t,e,"<",r);zle.exports=FBe});var Kle=R((M7t,Wle)=>{var $le=Vc(),UBe=(t,e,r)=>(t=new $le(t,r),e=new $le(e,r),t.intersects(e,r));Wle.exports=UBe});var Qle=R((F7t,Xle)=>{var BBe=yI(),qBe=jc();Xle.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((l,f)=>qBe(l,f,r));for(let l of s)BBe(l,e,r)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,f]of n)l===f?a.push(l):!f&&l===s[0]?a.push("*"):f?l===s[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var nfe=R((U7t,rfe)=>{var Jle=Vc(),UH=vI(),{ANY:FH}=UH,bI=yI(),BH=jc(),HBe=(t,e,r={})=>{if(t===e)return!0;t=new Jle(t,r),e=new Jle(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=jBe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},GBe=[new UH(">=0.0.0-0")],Zle=[new UH(">=0.0.0")],jBe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===FH){if(e.length===1&&e[0].semver===FH)return!0;r.includePrerelease?t=GBe:t=Zle}if(e.length===1&&e[0].semver===FH){if(r.includePrerelease)return!0;e=Zle}let n=new Set,i,o;for(let m of t)m.operator===">"||m.operator===">="?i=efe(i,m,r):m.operator==="<"||m.operator==="<="?o=tfe(o,m,r):n.add(m.semver);if(n.size>1)return null;let s;if(i&&o){if(s=BH(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let m of n){if(i&&!bI(m,String(i),r)||o&&!bI(m,String(o),r))return null;for(let d of e)if(!bI(m,String(d),r))return!1;return!0}let a,u,c,l,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let m of e){if(l=l||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(a=efe(i,m,r),a===m&&a!==i)return!1}else if(i.operator===">="&&!bI(i.semver,String(m),r))return!1}if(o){if(f&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===f.major&&m.semver.minor===f.minor&&m.semver.patch===f.patch&&(f=!1),m.operator==="<"||m.operator==="<="){if(u=tfe(o,m,r),u===m&&u!==o)return!1}else if(o.operator==="<="&&!bI(o.semver,String(m),r))return!1}if(!m.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&l&&!i&&s!==0||p||f)},efe=(t,e,r)=>{if(!t)return e;let n=BH(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},tfe=(t,e,r)=>{if(!t)return e;let n=BH(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};rfe.exports=HBe});var afe=R((B7t,sfe)=>{var qH=Mb(),ife=pI(),VBe=bs(),ofe=EH(),zBe=Fv(),YBe=Sue(),$Be=Iue(),WBe=Rue(),KBe=Due(),XBe=Lue(),QBe=Mue(),JBe=Uue(),ZBe=que(),eqe=jc(),tqe=Vue(),rqe=Yue(),nqe=Fk(),iqe=Xue(),oqe=Jue(),sqe=mI(),aqe=Uk(),cqe=SH(),uqe=CH(),lqe=Bk(),fqe=qk(),pqe=IH(),dqe=ale(),mqe=vI(),hqe=Vc(),gqe=yI(),vqe=Rle(),_qe=Nle(),yqe=kle(),bqe=Mle(),xqe=Ule(),Eqe=Vk(),Tqe=Vle(),Sqe=Yle(),Cqe=Kle(),Iqe=Qle(),wqe=nfe();sfe.exports={parse:zBe,valid:YBe,clean:$Be,inc:WBe,diff:KBe,major:XBe,minor:QBe,patch:JBe,prerelease:ZBe,compare:eqe,rcompare:tqe,compareLoose:rqe,compareBuild:nqe,sort:iqe,rsort:oqe,gt:sqe,lt:aqe,eq:cqe,neq:uqe,gte:lqe,lte:fqe,cmp:pqe,coerce:dqe,Comparator:mqe,Range:hqe,satisfies:gqe,toComparators:vqe,maxSatisfying:_qe,minSatisfying:yqe,minVersion:bqe,validRange:xqe,outside:Eqe,gtr:Tqe,ltr:Sqe,intersects:Cqe,simplifyRange:Iqe,subset:wqe,SemVer:VBe,re:qH.re,src:qH.src,tokens:qH.t,SEMVER_SPEC_VERSION:ife.SEMVER_SPEC_VERSION,RELEASE_TYPES:ife.RELEASE_TYPES,compareIdentifiers:ofe.compareIdentifiers,rcompareIdentifiers:ofe.rcompareIdentifiers}});var HH=R(zk=>{"use strict";Object.defineProperty(zk,"__esModule",{value:!0});zk.makePatchingRequire=void 0;var Aqe=require("path"),Rqe=afe(),cfe=ti(),lfe=require("module"),Pqe=Object.keys(process.binding("natives")),ufe=lfe.prototype.require;function Nqe(t){var e={};return function(n){var i=ufe.apply(this,arguments);if(t[n]){var o=lfe._resolveFilename(n,this);if(e.hasOwnProperty(o))return e[o];var s=void 0;if(Pqe.indexOf(n)<0)try{s=ufe.call(this,Aqe.join(n,"package.json")).version}catch{return i}else s=process.version.substring(1);var a=s.indexOf("-");a>=0&&(s=s.substring(0,a));for(var u=i,c=0,l=t[n];c<l.length;c++){var f=l[c];if(Rqe.satisfies(s,f.versionSpecifier)&&(u=f.patch(u,o),cfe.channel)){var p=f.publisherName||n;cfe.channel.addPatchedModule(p,s)}}return e[o]=u}return i}}zk.makePatchingRequire=Nqe});var ffe=R((H7t,Dqe)=>{Dqe.exports={name:"diagnostic-channel",version:"1.1.1",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"eslint ./ --fix",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js",debug:"mocha --inspect-brk ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^7.5.3"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",sinon:"1.17.6",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}});var ti=R(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.channel=zc.ContextPreservingEventEmitter=zc.trueFilter=zc.makePatchingRequire=void 0;var kqe=HH(),Lqe=HH();Object.defineProperty(zc,"makePatchingRequire",{enumerable:!0,get:function(){return Lqe.makePatchingRequire}});var Oqe=function(t){return!0};zc.trueFilter=Oqe;var dfe=function(){function t(){this.version=ffe().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return t.prototype.shouldPublish=function(e){var r=this.subscribers[e];return r?r.some(function(n){var i=n.filter;return!i||i(!1)}):!1},t.prototype.publish=function(e,r){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var i={timestamp:Date.now(),data:r};this.currentlyPublishing=!0,n.forEach(function(o){var s=o.listener,a=o.filter;try{a&&a(!0)&&s(i)}catch{}}),this.currentlyPublishing=!1}}},t.prototype.subscribe=function(e,r,n,i){n===void 0&&(n=zc.trueFilter),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:r,filter:n,patchCallback:i});var o=this.checkIfModuleIsAlreadyPatched(e);o&&i&&i(o.name,o.version)},t.prototype.unsubscribe=function(e,r,n){n===void 0&&(n=zc.trueFilter);var i=this.subscribers[e];if(i){for(var o=0;o<i.length;++o)if(i[o].listener===r&&i[o].filter===n)return i.splice(o,1),!0}return!1},t.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(r){return r},Object.getOwnPropertyNames(this.knownPatches).forEach(function(r){return delete e.knownPatches[r]})},t.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},t.prototype.addContextPreservation=function(e){var r=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(r(n))}},t.prototype.registerMonkeyPatch=function(e,r){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(r)},t.prototype.getPatchesObject=function(){return this.knownPatches},t.prototype.addPatchedModule=function(e,r){for(var n=0,i=this.modulesPatched;n<i.length;n++){var o=i[n];if(o.name===e)return}this.modulesPatched.push({name:e,version:r});var s=this.subscribers[e];s&&s.forEach(function(a){a.patchCallback&&a.patchCallback(e,r)})},t.prototype.checkIfModuleIsAlreadyPatched=function(e){for(var r=0,n=this.modulesPatched;r<n.length;r++){var i=n[r];if(i.name===e)return i}return null},t}();zc.ContextPreservingEventEmitter=dfe;global.diagnosticsSource||(global.diagnosticsSource=new dfe,pfe=require("module"),pfe.prototype.require=kqe.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var pfe;zc.channel=global.diagnosticsSource});var mfe,hfe=E(()=>{mfe=typeof globalThis=="object"?globalThis:global});var gfe=E(()=>{hfe()});var vfe=E(()=>{gfe()});var td,GH=E(()=>{td="1.6.0"});function Mqe(t){var e=new Set([t]),r=new Set,n=t.match(_fe);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===t};function o(a){return r.add(a),!1}function s(a){return e.add(a),!0}return function(u){if(e.has(u))return!0;if(r.has(u))return!1;var c=u.match(_fe);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}var _fe,yfe,bfe=E(()=>{GH();_fe=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;yfe=Mqe(td)});function pf(t,e,r,n){var i;n===void 0&&(n=!1);var o=EI[xI]=(i=EI[xI])!==null&&i!==void 0?i:{version:td};if(!n&&o[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(s.stack||s.message),!1}if(o.version!==td){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+t+" does not match previously registered API v"+td);return r.error(s.stack||s.message),!1}return o[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+td+"."),!0}function nc(t){var e,r,n=(e=EI[xI])===null||e===void 0?void 0:e.version;if(!(!n||!yfe(n)))return(r=EI[xI])===null||r===void 0?void 0:r[t]}function df(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+td+".");var r=EI[xI];r&&delete r[t]}var Fqe,xI,EI,Hv=E(()=>{vfe();GH();bfe();Fqe=td.split(".")[0],xI=Symbol.for("opentelemetry.js.api."+Fqe),EI=mfe});function TI(t,e,r){var n=nc("diag");if(n)return r.unshift(e),n[t].apply(n,Bqe([],Uqe(r),!1))}var Uqe,Bqe,xfe,Efe=E(()=>{Hv();Uqe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Bqe=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},xfe=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return TI("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return TI("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return TI("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return TI("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return TI("verbose",this._namespace,e)},t}()});var nn,Yk=E(()=>{(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(nn||(nn={}))});function Tfe(t,e){t<nn.NONE?t=nn.NONE:t>nn.ALL&&(t=nn.ALL),e=e||{};function r(n,i){var o=e[n];return typeof o=="function"&&t>=i?o.bind(e):function(){}}return{error:r("error",nn.ERROR),warn:r("warn",nn.WARN),info:r("info",nn.INFO),debug:r("debug",nn.DEBUG),verbose:r("verbose",nn.VERBOSE)}}var Sfe=E(()=>{Yk()});var qqe,Hqe,Gqe,xs,Gv=E(()=>{Efe();Sfe();Yk();Hv();qqe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Hqe=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},Gqe="diag",xs=function(){function t(){function e(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=nc("diag");if(a)return a[i].apply(a,Hqe([],qqe(o),!1))}}var r=this,n=function(i,o){var s,a,u;if(o===void 0&&(o={logLevel:nn.INFO}),i===r){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var l=nc("diag"),f=Tfe((a=o.logLevel)!==null&&a!==void 0?a:nn.INFO,i);if(l&&!o.suppressOverrideMessage){var p=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),f.warn("Current logger will overwrite one already registered from "+p)}return pf("diag",f,r,!0)};r.setLogger=n,r.disable=function(){df(Gqe,r)},r.createComponentLogger=function(i){return new xfe(i)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()});var jqe,Vqe,Cfe,Ife=E(()=>{jqe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Vqe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cfe=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=jqe(e,2),n=r[0],i=r[1];return[n,i]})},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new t(this._entries);try{for(var s=Vqe(n),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return o},t.prototype.clear=function(){return new t},t}()});var wfe,Afe=E(()=>{wfe=Symbol("BaggageEntryMetadata")});function Rfe(t){return t===void 0&&(t={}),new Cfe(new Map(Object.entries(t)))}function $k(t){return typeof t!="string"&&(zqe.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:wfe,toString:function(){return t}}}var zqe,jH=E(()=>{Gv();Ife();Afe();zqe=xs.instance()});function mf(t){return Symbol.for(t)}var Yqe,Wk,SI=E(()=>{Yqe=function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var o=new t(r._currentContext);return o._currentContext.set(n,i),o},r.deleteValue=function(n){var i=new t(r._currentContext);return i._currentContext.delete(n),i}}return t}(),Wk=new Yqe});var VH,Pfe,Nfe=E(()=>{VH=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Pfe=function(){function t(){function e(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[n];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var r=0;r<VH.length;r++)this[VH[r].n]=e(VH[r].c)}return t}()});function Dfe(){return $H}var qb,$qe,zH,Wqe,Kqe,Xqe,YH,Qqe,Jqe,Zqe,$H,eHe,tHe,rHe,nHe,iHe,oHe,WH=E(()=>{qb=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$qe=function(){function t(){}return t.prototype.createHistogram=function(e,r){return tHe},t.prototype.createCounter=function(e,r){return eHe},t.prototype.createUpDownCounter=function(e,r){return rHe},t.prototype.createObservableGauge=function(e,r){return iHe},t.prototype.createObservableCounter=function(e,r){return nHe},t.prototype.createObservableUpDownCounter=function(e,r){return oHe},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t}(),zH=function(){function t(){}return t}(),Wqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e}(zH),Kqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e}(zH),Xqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e}(zH),YH=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),Qqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YH),Jqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YH),Zqe=function(t){qb(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(YH),$H=new $qe,eHe=new Wqe,tHe=new Xqe,rHe=new Kqe,nHe=new Qqe,iHe=new Jqe,oHe=new Zqe});var Kk,kfe=E(()=>{(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(Kk||(Kk={}))});var Xk,Qk,KH=E(()=>{Xk={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},Qk={set:function(t,e,r){t!=null&&(t[e]=r)}}});var sHe,aHe,Lfe,Ofe=E(()=>{SI();sHe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},aHe=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},Lfe=function(){function t(){}return t.prototype.active=function(){return Wk},t.prototype.with=function(e,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,aHe([n],sHe(i),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}()});var cHe,uHe,XH,lHe,Ih,CI=E(()=>{Ofe();Hv();Gv();cHe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},uHe=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},XH="context",lHe=new Lfe,Ih=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return pf(XH,e,xs.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,uHe([e,r,n],cHe(o),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return nc(XH)||lHe},t.prototype.disable=function(){this._getContextManager().disable(),df(XH,xs.instance())},t}()});var gi,QH=E(()=>{(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(gi||(gi={}))});var II,wI,Hb,Jk=E(()=>{QH();II="0000000000000000",wI="00000000000000000000000000000000",Hb={traceId:wI,spanId:II,traceFlags:gi.NONE}});var wh,Zk=E(()=>{Jk();wh=function(){function t(e){e===void 0&&(e=Hb),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t}()});function e4(t){return t.getValue(JH)||void 0}function Mfe(){return e4(Ih.getInstance().active())}function AI(t,e){return t.setValue(JH,e)}function Ffe(t){return t.deleteValue(JH)}function Ufe(t,e){return AI(t,new wh(e))}function t4(t){var e;return(e=e4(t))===null||e===void 0?void 0:e.spanContext()}var JH,ZH=E(()=>{SI();Zk();CI();JH=mf("OpenTelemetry Context Key SPAN")});function jv(t){return fHe.test(t)&&t!==wI}function eG(t){return pHe.test(t)&&t!==II}function Yc(t){return jv(t.traceId)&&eG(t.spanId)}function Bfe(t){return new wh(t)}var fHe,pHe,r4=E(()=>{Jk();Zk();fHe=/^([0-9a-f]{32})$/i,pHe=/^[0-9a-f]{16}$/i});function dHe(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var tG,n4,rG=E(()=>{CI();ZH();Zk();r4();tG=Ih.getInstance(),n4=function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=tG.active());var i=!!r?.root;if(i)return new wh;var o=n&&t4(n);return dHe(o)&&Yc(o)?new wh(o):new wh},t.prototype.startActiveSpan=function(e,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s??tG.active(),c=this.startSpan(e,o,u),l=AI(u,c);return tG.with(l,a,void 0,c)}},t}()});var mHe,i4,nG=E(()=>{rG();mHe=new n4,i4=function(){function t(e,r,n,i){this._provider=e,this.name=r,this.version=n,this.options=i}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):mHe},t}()});var qfe,Hfe=E(()=>{rG();qfe=function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new n4},t}()});var hHe,RI,iG=E(()=>{nG();Hfe();hHe=new qfe,RI=function(){function t(){}return t.prototype.getTracer=function(e,r,n){var i;return(i=this.getDelegateTracer(e,r,n))!==null&&i!==void 0?i:new i4(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:hHe},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,r,n)},t}()});var Ea,Gfe=E(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ea||(Ea={}))});var Gb,jfe=E(()=>{(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Gb||(Gb={}))});var jb,Vfe=E(()=>{(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(jb||(jb={}))});function zfe(t){return _He.test(t)}function Yfe(t){return yHe.test(t)&&!bHe.test(t)}var oG,gHe,vHe,_He,yHe,bHe,$fe=E(()=>{oG="[_0-9a-z-*/]",gHe="[a-z]"+oG+"{0,255}",vHe="[a-z0-9]"+oG+"{0,240}@[a-z]"+oG+"{0,13}",_He=new RegExp("^(?:"+gHe+"|"+vHe+")$"),yHe=/^[ -~]{0,255}[!-~]$/,bHe=/,|=/});var Wfe,xHe,Kfe,Xfe,Qfe,Jfe=E(()=>{$fe();Wfe=32,xHe=512,Kfe=",",Xfe="=",Qfe=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,r){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,n){return r.push(n+Xfe+e.get(n)),r},[]).join(Kfe)},t.prototype._parse=function(e){e.length>xHe||(this._internalState=e.split(Kfe).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(Xfe);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);zfe(s)&&Yfe(a)&&r.set(s,a)}return r},new Map),this._internalState.size>Wfe&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Wfe))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function Zfe(t){return new Qfe(t)}var epe=E(()=>{Jfe()});var Ys,tpe=E(()=>{CI();Ys=Ih.getInstance()});var rt,rpe=E(()=>{Gv();rt=xs.instance()});var EHe,npe,ipe=E(()=>{WH();EHe=function(){function t(){}return t.prototype.getMeter=function(e,r,n){return $H},t}(),npe=new EHe});var sG,ope,spe=E(()=>{ipe();Hv();Gv();sG="metrics",ope=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return pf(sG,e,xs.instance())},t.prototype.getMeterProvider=function(){return nc(sG)||npe},t.prototype.getMeter=function(e,r,n){return this.getMeterProvider().getMeter(e,r,n)},t.prototype.disable=function(){df(sG,xs.instance())},t}()});var aG,ape=E(()=>{spe();aG=ope.getInstance()});var cpe,upe=E(()=>{cpe=function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t}()});function uG(t){return t.getValue(cG)||void 0}function lpe(){return uG(Ih.getInstance().active())}function fpe(t,e){return t.setValue(cG,e)}function ppe(t){return t.deleteValue(cG)}var cG,dpe=E(()=>{CI();SI();cG=mf("OpenTelemetry Baggage Key")});var lG,THe,mpe,hpe=E(()=>{Hv();upe();KH();dpe();jH();Gv();lG="propagation",THe=new cpe,mpe=function(){function t(){this.createBaggage=Rfe,this.getBaggage=uG,this.getActiveBaggage=lpe,this.setBaggage=fpe,this.deleteBaggage=ppe}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return pf(lG,e,xs.instance())},t.prototype.inject=function(e,r,n){return n===void 0&&(n=Qk),this._getGlobalPropagator().inject(e,r,n)},t.prototype.extract=function(e,r,n){return n===void 0&&(n=Xk),this._getGlobalPropagator().extract(e,r,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){df(lG,xs.instance())},t.prototype._getGlobalPropagator=function(){return nc(lG)||THe},t}()});var rd,gpe=E(()=>{hpe();rd=mpe.getInstance()});var fG,vpe,_pe=E(()=>{Hv();iG();r4();ZH();Gv();fG="trace",vpe=function(){function t(){this._proxyTracerProvider=new RI,this.wrapSpanContext=Bfe,this.isSpanContextValid=Yc,this.deleteSpan=Ffe,this.getSpan=e4,this.getActiveSpan=Mfe,this.getSpanContext=t4,this.setSpan=AI,this.setSpanContext=Ufe}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=pf(fG,this._proxyTracerProvider,xs.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return nc(fG)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){df(fG,xs.instance()),this._proxyTracerProvider=new RI},t}()});var no,ype=E(()=>{_pe();no=vpe.getInstance()});var Vb={};Jn(Vb,{DiagConsoleLogger:()=>Pfe,DiagLogLevel:()=>nn,INVALID_SPANID:()=>II,INVALID_SPAN_CONTEXT:()=>Hb,INVALID_TRACEID:()=>wI,ProxyTracer:()=>i4,ProxyTracerProvider:()=>RI,ROOT_CONTEXT:()=>Wk,SamplingDecision:()=>Ea,SpanKind:()=>Gb,SpanStatusCode:()=>jb,TraceFlags:()=>gi,ValueType:()=>Kk,baggageEntryMetadataFromString:()=>$k,context:()=>Ys,createContextKey:()=>mf,createNoopMeter:()=>Dfe,createTraceState:()=>Zfe,default:()=>SHe,defaultTextMapGetter:()=>Xk,defaultTextMapSetter:()=>Qk,diag:()=>rt,isSpanContextValid:()=>Yc,isValidSpanId:()=>eG,isValidTraceId:()=>jv,metrics:()=>aG,propagation:()=>rd,trace:()=>no});var SHe,tr=E(()=>{jH();SI();Nfe();Yk();WH();kfe();KH();nG();iG();Gfe();jfe();Vfe();QH();epe();r4();Jk();tpe();rpe();ape();gpe();ype();SHe={context:Ys,diag:rt,metrics:aG,propagation:rd,trace:no}});function PI(t){return t.setValue(pG,!0)}function CHe(t){return t.deleteValue(pG)}function Vv(t){return t.getValue(pG)===!0}var pG,NI=E(()=>{tr();pG=mf("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var bpe,o4,zb,s4,xpe,Epe,Tpe,dG=E(()=>{bpe="=",o4=";",zb=",",s4="baggage",xpe=180,Epe=4096,Tpe=8192});var gG={};Jn(gG,{getKeyPairs:()=>hG,parseKeyPairsIntoRecord:()=>wHe,parsePairKeyValue:()=>a4,serializeKeyPairs:()=>mG});function mG(t){return t.reduce(function(e,r){var n=""+e+(e!==""?zb:"")+r;return n.length>Tpe?e:n},"")}function hG(t){return t.getAllEntries().map(function(e){var r=IHe(e,2),n=r[0],i=r[1],o=encodeURIComponent(n)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(o+=o4+i.metadata.toString()),o})}function a4(t){var e=t.split(o4);if(!(e.length<=0)){var r=e.shift();if(r){var n=r.indexOf(bpe);if(!(n<=0)){var i=decodeURIComponent(r.substring(0,n).trim()),o=decodeURIComponent(r.substring(n+1).trim()),s;return e.length>0&&(s=$k(e.join(o4))),{key:i,value:o,metadata:s}}}}}function wHe(t){return typeof t!="string"||t.length===0?{}:t.split(zb).map(function(e){return a4(e)}).filter(function(e){return e!==void 0&&e.value.length>0}).reduce(function(e,r){return e[r.key]=r.value,e},{})}var IHe,vG=E(()=>{tr();dG();IHe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}});var _G,Spe=E(()=>{tr();NI();dG();vG();_G=function(){function t(){}return t.prototype.inject=function(e,r,n){var i=rd.getBaggage(e);if(!(!i||Vv(e))){var o=hG(i).filter(function(a){return a.length<=Epe}).slice(0,xpe),s=mG(o);s.length>0&&n.set(r,s4,s)}},t.prototype.extract=function(e,r,n){var i=n.get(r,s4),o=Array.isArray(i)?i.join(zb):i;if(!o)return e;var s={};if(o.length===0)return e;var a=o.split(zb);return a.forEach(function(u){var c=a4(u);if(c){var l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0?e:rd.setBaggage(e,rd.createBaggage(s))},t.prototype.fields=function(){return[s4]},t}()});var AHe,Cpe=E(()=>{AHe=function(){function t(e,r){this._monotonicClock=r,this._epochMillis=e.now(),this._performanceMillis=r.now()}return t.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},t}()});function zv(t){var e,r,n={};if(typeof t!="object"||t==null)return n;try{for(var i=Ipe(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=RHe(o.value,2),a=s[0],u=s[1];if(!wpe(a)){rt.warn("Invalid attribute key: "+a);continue}if(!c4(u)){rt.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?n[a]=u.slice():n[a]=u}}catch(c){e={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}function wpe(t){return typeof t=="string"&&t.length>0}function c4(t){return t==null?!0:Array.isArray(t)?PHe(t):Ape(t)}function PHe(t){var e,r,n;try{for(var i=Ipe(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!=null){if(!n){if(Ape(s)){n=typeof s;continue}return!1}if(typeof s!==n)return!1}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return!0}function Ape(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}var Ipe,RHe,Rpe=E(()=>{tr();Ipe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},RHe=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}});function yG(){return function(t){rt.error(NHe(t))}}function NHe(t){return typeof t=="string"?t:JSON.stringify(DHe(t))}function DHe(t){for(var e={},r=t;r!==null;)Object.getOwnPropertyNames(r).forEach(function(n){if(!e[n]){var i=r[n];i&&(e[n]=String(i))}}),r=Object.getPrototypeOf(r);return e}var bG=E(()=>{tr()});function kHe(t){Ppe=t}function Ta(t){try{Ppe(t)}catch{}}var Ppe,xG=E(()=>{bG();Ppe=yG()});var ic,EG=E(()=>{(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(ic||(ic={}))});var Npe,Dpe=E(()=>{Npe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});function MHe(t){return OHe.indexOf(t)>-1}function UHe(t){return FHe.indexOf(t)>-1}function qHe(t){return BHe.indexOf(t)>-1}function HHe(t,e,r){if(!(typeof r[t]>"u")){var n=String(r[t]);e[t]=n.toLowerCase()==="true"}}function GHe(t,e,r,n,i){if(n===void 0&&(n=-1/0),i===void 0&&(i=1/0),typeof r[t]<"u"){var o=Number(r[t]);isNaN(o)||(o<n?e[t]=n:o>i?e[t]=i:e[t]=o)}}function jHe(t,e,r,n){n===void 0&&(n=LHe);var i=r[t];typeof i=="string"&&(e[t]=i.split(n).map(function(o){return o.trim()}))}function zHe(t,e,r){var n=r[t];if(typeof n=="string"){var i=VHe[n.toUpperCase()];i!=null&&(e[t]=i)}}function DI(t){var e={};for(var r in u4){var n=r;switch(n){case"OTEL_LOG_LEVEL":zHe(n,e,t);break;default:if(MHe(n))HHe(n,e,t);else if(UHe(n))GHe(n,e,t);else if(qHe(n))jHe(n,e,t);else{var i=t[n];typeof i<"u"&&i!==null&&(e[n]=String(i))}}}return e}function TG(){return typeof process<"u"&&process&&process.env?DI(process.env):DI(Npe)}var LHe,OHe,FHe,BHe,Yb,$b,kpe,Lpe,u4,VHe,SG=E(()=>{tr();EG();Dpe();LHe=",",OHe=["OTEL_SDK_DISABLED"];FHe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];BHe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];Yb=1/0,$b=128,kpe=128,Lpe=128,u4={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:nn.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yb,OTEL_ATTRIBUTE_COUNT_LIMIT:$b,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yb,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:$b,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Yb,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:$b,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:kpe,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Lpe,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:ic.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};VHe={ALL:nn.ALL,VERBOSE:nn.VERBOSE,DEBUG:nn.DEBUG,INFO:nn.INFO,WARN:nn.WARN,ERROR:nn.ERROR,NONE:nn.NONE}});function io(){var t=DI(process.env);return Object.assign({HOSTNAME:Ope.hostname()},u4,t)}var Ope,Mpe=E(()=>{Ope=Ie(require("os"));SG()});var YHe,Fpe=E(()=>{YHe=typeof globalThis=="object"?globalThis:global});function Upe(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function KHe(t){var e;t.length===16?e=$He:t.length===32?e=WHe:e=Buffer.alloc(t.length/2);for(var r=0,n=0;n<t.length;n+=2){var i=Upe(t.charCodeAt(n)),o=Upe(t.charCodeAt(n+1));e.writeUInt8(i<<4|o,r++)}return e.toString("base64")}var $He,WHe,Bpe=E(()=>{$He=Buffer.alloc(8),WHe=Buffer.alloc(16)});function qpe(t){return function(){for(var r=0;r<t/4;r++)l4.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,r*4);for(var r=0;r<t&&!(l4[r]>0);r++)r===t-1&&(l4[t-1]=1);return l4.toString("hex",0,t)}}var XHe,Hpe,QHe,l4,Gpe=E(()=>{XHe=8,Hpe=16,QHe=function(){function t(){this.generateTraceId=qpe(Hpe),this.generateSpanId=qpe(XHe)}return t}(),l4=Buffer.allocUnsafe(Hpe)});var jpe,nd,Vpe=E(()=>{jpe=require("perf_hooks"),nd=jpe.performance});var CG,f4=E(()=>{CG="1.17.0"});var id,JHe,ZHe,eGe,tGe,rGe,nGe,iGe,oGe,sGe,aGe,cGe,uGe,lGe,zpe=E(()=>{id={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},JHe={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},ZHe={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},eGe={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},tGe={INSERT:"insert",EDIT:"edit",DELETE:"delete"},rGe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},nGe={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},iGe={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},oGe={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},sGe={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},aGe={QUEUE:"queue",TOPIC:"topic"},cGe={RECEIVE:"receive",PROCESS:"process"},uGe={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},lGe={SENT:"SENT",RECEIVED:"RECEIVED"}});var Ype=E(()=>{zpe()});var zt,fGe,pGe,dGe,mGe,hGe,IG,$pe=E(()=>{zt={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},fGe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},pGe={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},dGe={EC2:"ec2",FARGATE:"fargate"},mGe={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},hGe={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},IG={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Wpe=E(()=>{$pe()});var wG={};Jn(wG,{AwsEcsLaunchtypeValues:()=>dGe,CloudPlatformValues:()=>pGe,CloudProviderValues:()=>fGe,DbCassandraConsistencyLevelValues:()=>ZHe,DbSystemValues:()=>JHe,FaasDocumentOperationValues:()=>tGe,FaasInvokedProviderValues:()=>rGe,FaasTriggerValues:()=>eGe,HostArchValues:()=>mGe,HttpFlavorValues:()=>sGe,MessageTypeValues:()=>lGe,MessagingDestinationKindValues:()=>aGe,MessagingOperationValues:()=>cGe,NetHostConnectionSubtypeValues:()=>oGe,NetHostConnectionTypeValues:()=>iGe,NetTransportValues:()=>nGe,OsTypeValues:()=>hGe,RpcGrpcStatusCodeValues:()=>uGe,SemanticAttributes:()=>id,SemanticResourceAttributes:()=>zt,TelemetrySdkLanguageValues:()=>IG});var Qu=E(()=>{Ype();Wpe()});var Wb,kI,Kpe=E(()=>{f4();Qu();kI=(Wb={},Wb[zt.TELEMETRY_SDK_NAME]="opentelemetry",Wb[zt.PROCESS_RUNTIME_NAME]="node",Wb[zt.TELEMETRY_SDK_LANGUAGE]=IG.NODEJS,Wb[zt.TELEMETRY_SDK_VERSION]=CG,Wb)});function AG(t){t.unref()}var Xpe=E(()=>{});var Qpe=E(()=>{Mpe();Fpe();Bpe();Gpe();Vpe();Kpe();Xpe()});var RG=E(()=>{Qpe()});function hf(t){var e=t/1e3,r=Math.trunc(e),n=Math.round(t%1e3*vGe);return[r,n]}function LI(){var t=nd.timeOrigin;if(typeof t!="number"){var e=nd;t=e.timing&&e.timing.fetchStart}return t}function d4(t){var e=hf(LI()),r=hf(typeof t=="number"?t:nd.now());return g4(e,r)}function _Ge(t){if(OI(t))return t;if(typeof t=="number")return t<LI()?d4(t):hf(t);if(t instanceof Date)return hf(t.getTime());throw TypeError("Invalid input type")}function PG(t,e){var r=e[0]-t[0],n=e[1]-t[1];return n<0&&(r-=1,n+=p4),[r,n]}function yGe(t){var e=Jpe,r=""+"0".repeat(e)+t[1]+"Z",n=r.substr(r.length-e-1),i=new Date(t[0]*1e3).toISOString();return i.replace("000Z",n)}function bGe(t){return t[0]*p4+t[1]}function xGe(t){return t[0]*1e3+t[1]/1e6}function m4(t){return t[0]*1e6+t[1]/1e3}function OI(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function h4(t){return OI(t)||typeof t=="number"||t instanceof Date}function g4(t,e){var r=[t[0]+e[0],t[1]+e[1]];return r[1]>=p4&&(r[1]-=p4,r[0]+=1),r}var Jpe,gGe,vGe,p4,Zpe=E(()=>{RG();Jpe=9,gGe=6,vGe=Math.pow(10,gGe),p4=Math.pow(10,Jpe)});var ede=E(()=>{});var $c,tde=E(()=>{(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})($c||($c={}))});var EGe,NG,rde=E(()=>{tr();EGe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NG=function(){function t(e){e===void 0&&(e={});var r;this._propagators=(r=e.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(function(n){return typeof n.fields=="function"?n.fields():[]}).reduce(function(n,i){return n.concat(i)},[])))}return t.prototype.inject=function(e,r,n){var i,o;try{for(var s=EGe(this._propagators),a=s.next();!a.done;a=s.next()){var u=a.value;try{u.inject(e,r,n)}catch(c){rt.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},t.prototype.extract=function(e,r,n){return this._propagators.reduce(function(i,o){try{return o.extract(i,r,n)}catch(s){rt.warn("Failed to inject with "+o.constructor.name+". Err: "+s.message)}return i},e)},t.prototype.fields=function(){return this._fields.slice()},t}()});function nde(t){return CGe.test(t)}function ide(t){return IGe.test(t)&&!wGe.test(t)}var DG,TGe,SGe,CGe,IGe,wGe,ode=E(()=>{DG="[_0-9a-z-*/]",TGe="[a-z]"+DG+"{0,255}",SGe="[a-z0-9]"+DG+"{0,240}@[a-z]"+DG+"{0,13}",CGe=new RegExp("^(?:"+TGe+"|"+SGe+")$"),IGe=/^[ -~]{0,255}[!-~]$/,wGe=/,|=/});var sde,AGe,ade,cde,kG,LG=E(()=>{ode();sde=32,AGe=512,ade=",",cde="=",kG=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,r){var n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n},t.prototype.unset=function(e){var r=this._clone();return r._internalState.delete(e),r},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(r,n){return r.push(n+cde+e.get(n)),r},[]).join(ade)},t.prototype._parse=function(e){e.length>AGe||(this._internalState=e.split(ade).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(cde);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);nde(s)&&ide(a)&&r.set(s,a)}return r},new Map),this._internalState.size>sde&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,sde))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function ude(t){var e=LGe.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var v4,_4,RGe,PGe,NGe,DGe,kGe,LGe,OG,lde=E(()=>{tr();NI();LG();v4="traceparent",_4="tracestate",RGe="00",PGe="(?!ff)[\\da-f]{2}",NGe="(?![0]{32})[\\da-f]{32}",DGe="(?![0]{16})[\\da-f]{16}",kGe="[\\da-f]{2}",LGe=new RegExp("^\\s?("+PGe+")-("+NGe+")-("+DGe+")-("+kGe+")(-.*)?\\s?$");OG=function(){function t(){}return t.prototype.inject=function(e,r,n){var i=no.getSpanContext(e);if(!(!i||Vv(e)||!Yc(i))){var o=RGe+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||gi.NONE).toString(16);n.set(r,v4,o),i.traceState&&n.set(r,_4,i.traceState.serialize())}},t.prototype.extract=function(e,r,n){var i=n.get(r,v4);if(!i)return e;var o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return e;var s=ude(o);if(!s)return e;s.isRemote=!0;var a=n.get(r,_4);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new kG(typeof u=="string"?u:void 0)}return no.setSpanContext(e,s)},t.prototype.fields=function(){return[v4,_4]},t}()});var fde=E(()=>{});function OGe(t,e){return t.setValue(FG,e)}function MGe(t){return t.deleteValue(FG)}function FGe(t){return t.getValue(FG)}var FG,MG,pde=E(()=>{tr();FG=mf("OpenTelemetry SDK Context Key RPC_METADATA");(function(t){t.HTTP="http"})(MG||(MG={}))});var y4,UG=E(()=>{tr();y4=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Ea.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}()});var MI,BG=E(()=>{tr();MI=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Ea.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}()});var UGe,dde=E(()=>{tr();xG();UG();BG();UGe=function(){function t(e){var r,n,i,o;this._root=e.root,this._root||(Ta(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new MI),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new MI,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new y4,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new MI,this._localParentNotSampled=(o=e.localParentNotSampled)!==null&&o!==void 0?o:new y4}return t.prototype.shouldSample=function(e,r,n,i,o,s){var a=no.getSpanContext(e);return!a||!Yc(a)?this._root.shouldSample(e,r,n,i,o,s):a.isRemote?a.traceFlags&gi.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,r,n,i,o,s):a.traceFlags&gi.SAMPLED?this._localParentSampled.shouldSample(e,r,n,i,o,s):this._localParentNotSampled.shouldSample(e,r,n,i,o,s)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}()});var BGe,mde=E(()=>{tr();BGe=function(){function t(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return t.prototype.shouldSample=function(e,r){return{decision:jv(r)&&this._accumulate(r)<this._upperBound?Ea.RECORD_AND_SAMPLED:Ea.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},t.prototype._accumulate=function(e){for(var r=0,n=0;n<e.length/8;n++){var i=n*8,o=parseInt(e.slice(i,i+8),16);r=(r^o)>>>0}return r},t}()});function YGe(t,e){return function(r){return t(e(r))}}function qG(t){if(!$Ge(t)||WGe(t)!==qGe)return!1;var e=zGe(t);if(e===null)return!0;var r=vde.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&hde.call(r)===VGe}function $Ge(t){return t!=null&&typeof t=="object"}function WGe(t){return t==null?t===void 0?GGe:HGe:Yv&&Yv in Object(t)?KGe(t):XGe(t)}function KGe(t){var e=vde.call(t,Yv),r=t[Yv],n=!1;try{t[Yv]=void 0,n=!0}catch{}var i=_de.call(t);return n&&(e?t[Yv]=r:delete t[Yv]),i}function XGe(t){return _de.call(t)}var qGe,HGe,GGe,jGe,hde,VGe,zGe,gde,vde,Yv,_de,yde=E(()=>{qGe="[object Object]",HGe="[object Null]",GGe="[object Undefined]",jGe=Function.prototype,hde=jGe.toString,VGe=hde.call(Object),zGe=YGe(Object.getPrototypeOf,Object),gde=Object.prototype,vde=gde.hasOwnProperty,Yv=Symbol?Symbol.toStringTag:void 0,_de=gde.toString});function GG(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.shift(),n=new WeakMap;t.length>0;)r=xde(r,t.shift(),0,n);return r}function HG(t){return x4(t)?t.slice():t}function xde(t,e,r,n){r===void 0&&(r=0);var i;if(!(r>QGe)){if(r++,b4(t)||b4(e)||Ede(e))i=HG(e);else if(x4(t)){if(i=t.slice(),x4(e))for(var o=0,s=e.length;o<s;o++)i.push(HG(e[o]));else if(FI(e))for(var a=Object.keys(e),o=0,s=a.length;o<s;o++){var u=a[o];i[u]=HG(e[u])}}else if(FI(t))if(FI(e)){if(!JGe(t,e))return e;i=Object.assign({},t);for(var a=Object.keys(e),o=0,s=a.length;o<s;o++){var u=a[o],c=e[u];if(b4(c))typeof c>"u"?delete i[u]:i[u]=c;else{var l=i[u],f=c;if(bde(t,u,n)||bde(e,u,n))delete i[u];else{if(FI(l)&&FI(f)){var p=n.get(l)||[],m=n.get(f)||[];p.push({obj:t,key:u}),m.push({obj:e,key:u}),n.set(l,p),n.set(f,m)}i[u]=xde(i[u],c,r,n)}}}}else i=e;return i}}function bde(t,e,r){for(var n=r.get(t[e])||[],i=0,o=n.length;i<o;i++){var s=n[i];if(s.key===e&&s.obj===t)return!0}return!1}function x4(t){return Array.isArray(t)}function Ede(t){return typeof t=="function"}function FI(t){return!b4(t)&&!x4(t)&&!Ede(t)&&typeof t=="object"}function b4(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function JGe(t,e){return!(!qG(t)||!qG(e))}var QGe,Tde=E(()=>{yde();QGe=20});function eje(t,e){var r,n=new Promise(function(o,s){r=setTimeout(function(){s(new Sde("Operation timed out."))},e)});return Promise.race([t,n]).then(function(i){return clearTimeout(r),i},function(i){throw clearTimeout(r),i})}var ZGe,Sde,Cde=E(()=>{ZGe=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Sde=function(t){ZGe(e,t);function e(r){var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}return e}(Error)});function Ide(t,e){return typeof e=="string"?t===e:!!t.match(e)}function rje(t,e){var r,n;if(!e)return!1;try{for(var i=tje(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(Ide(t,s))return!0}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}var tje,wde=E(()=>{tje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}});function nje(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var Ade=E(()=>{});var Rde,Pde=E(()=>{Rde=function(){function t(){var e=this;this._promise=new Promise(function(r,n){e._resolve=r,e._reject=n})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(e){this._resolve(e)},t.prototype.reject=function(e){this._reject(e)},t}()});var ije,oje,UI,Nde=E(()=>{Pde();ije=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},oje=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},UI=function(){function t(e,r){this._callback=e,this._that=r,this._isCalled=!1,this._deferred=new Rde}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var e,r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,oje([this._that],ije(n),!1))).then(function(o){return r._deferred.resolve(o)},function(o){return r._deferred.reject(o)})}catch(o){this._deferred.reject(o)}}return this._deferred.promise},t}()});function Dde(t,e){return new Promise(function(r){Ys.with(PI(Ys.active()),function(){t.export(e,function(n){r(n)})})})}var kde=E(()=>{tr();NI()});var Lde={};Jn(Lde,{AlwaysOffSampler:()=>y4,AlwaysOnSampler:()=>MI,AnchoredClock:()=>AHe,BindOnceFuture:()=>UI,CompositePropagator:()=>NG,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>$b,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>Yb,DEFAULT_ENVIRONMENT:()=>u4,DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:()=>kpe,DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:()=>Lpe,ExportResultCode:()=>$c,ParentBasedSampler:()=>UGe,RPCType:()=>MG,RandomIdGenerator:()=>QHe,SDK_INFO:()=>kI,TRACE_PARENT_HEADER:()=>v4,TRACE_STATE_HEADER:()=>_4,TimeoutError:()=>Sde,TraceIdRatioBasedSampler:()=>BGe,TraceState:()=>kG,TracesSamplerValues:()=>ic,VERSION:()=>CG,W3CBaggagePropagator:()=>_G,W3CTraceContextPropagator:()=>OG,_globalThis:()=>YHe,addHrTimes:()=>g4,baggageUtils:()=>gG,callWithTimeout:()=>eje,deleteRPCMetadata:()=>MGe,getEnv:()=>io,getEnvWithoutDefaults:()=>TG,getRPCMetadata:()=>FGe,getTimeOrigin:()=>LI,globalErrorHandler:()=>Ta,hexToBase64:()=>KHe,hrTime:()=>d4,hrTimeDuration:()=>PG,hrTimeToMicroseconds:()=>m4,hrTimeToMilliseconds:()=>xGe,hrTimeToNanoseconds:()=>bGe,hrTimeToTimeStamp:()=>yGe,internal:()=>jG,isAttributeKey:()=>wpe,isAttributeValue:()=>c4,isTimeInput:()=>h4,isTimeInputHrTime:()=>OI,isTracingSuppressed:()=>Vv,isUrlIgnored:()=>rje,isWrapped:()=>nje,loggingErrorHandler:()=>yG,merge:()=>GG,millisToHrTime:()=>hf,otperformance:()=>nd,parseEnvironment:()=>DI,parseTraceParent:()=>ude,sanitizeAttributes:()=>zv,setGlobalErrorHandler:()=>kHe,setRPCMetadata:()=>OGe,suppressTracing:()=>PI,timeInputToHrTime:()=>_Ge,unrefTimer:()=>AG,unsuppressTracing:()=>CHe,urlMatches:()=>Ide});var jG,$s=E(()=>{Spe();Cpe();Rpe();xG();bG();Zpe();ede();tde();f4();vG();RG();rde();lde();fde();pde();UG();BG();dde();mde();NI();LG();SG();Tde();EG();Cde();wde();Ade();Nde();f4();kde();jG={_export:Dde}});var Ode,Mde=E(()=>{Ode="exception"});var sje,aje,VG,zG=E(()=>{tr();$s();Qu();Mde();sje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aje=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},VG=function(){function t(e,r,n,i,o,s,a,u,c){a===void 0&&(a=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:jb.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a;var l=Date.now();this._performanceStartTime=nd.now(),this._performanceOffset=l-(this._performanceStartTime+LI()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return r==null||this._isSpanEnded()?this:e.length===0?(rt.warn("Invalid attribute key: "+e),this):c4(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this):(rt.warn("Invalid attribute value set for key: "+e),this)},t.prototype.setAttributes=function(e){var r,n;try{for(var i=sje(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=aje(o.value,2),a=s[0],u=s[1];this.setAttribute(a,u)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return this},t.prototype.addEvent=function(e,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return rt.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(rt.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),h4(r)&&(h4(n)||(n=r),r=void 0);var i=zv(r);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this},t.prototype.setStatus=function(e){return this._isSpanEnded()?this:(this.status=e,this)},t.prototype.updateName=function(e){return this._isSpanEnded()?this:(this.name=e,this)},t.prototype.end=function(e){if(this._isSpanEnded()){rt.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");return}this._ended=!0,this.endTime=this._getTime(e),this._duration=PG(this.startTime,this.endTime),this._duration[0]<0&&(rt.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)},t.prototype._getTime=function(e){if(typeof e=="number"&&e<nd.now())return d4(e+this._performanceOffset);if(typeof e=="number")return hf(e);if(e instanceof Date)return hf(e.getTime());if(OI(e))return e;if(this._startTimeProvided)return hf(Date.now());var r=nd.now()-this._performanceStartTime;return g4(this.startTime,hf(r))},t.prototype.isRecording=function(){return this._ended===!1},t.prototype.recordException=function(e,r){var n={};typeof e=="string"?n[id.EXCEPTION_MESSAGE]=e:e&&(e.code?n[id.EXCEPTION_TYPE]=e.code.toString():e.name&&(n[id.EXCEPTION_TYPE]=e.name),e.message&&(n[id.EXCEPTION_MESSAGE]=e.message),e.stack&&(n[id.EXCEPTION_STACKTRACE]=e.stack)),n[id.EXCEPTION_TYPE]||n[id.EXCEPTION_MESSAGE]?this.addEvent(Ode,n,r):rt.warn("Failed to record an exception "+e)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&rt.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(e,r){return e.length<=r?e:e.substr(0,r)},t.prototype._truncateToSize=function(e){var r=this,n=this._attributeValueLengthLimit;return n<=0?(rt.warn("Attribute value limit must be positive, got "+n),e):typeof e=="string"?this._truncateToLimitUtil(e,n):Array.isArray(e)?e.map(function(i){return typeof i=="string"?r._truncateToLimitUtil(i,n):i}):e},t}()});var gf,BI=E(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(gf||(gf={}))});var $v,E4=E(()=>{BI();$v=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:gf.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}()});var od,T4=E(()=>{BI();od=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:gf.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}()});var qI,YG=E(()=>{tr();$s();E4();T4();qI=function(){function t(e){var r,n,i,o;this._root=e.root,this._root||(Ta(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new od),this._remoteParentSampled=(r=e.remoteParentSampled)!==null&&r!==void 0?r:new od,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!==null&&n!==void 0?n:new $v,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new od,this._localParentNotSampled=(o=e.localParentNotSampled)!==null&&o!==void 0?o:new $v}return t.prototype.shouldSample=function(e,r,n,i,o,s){var a=no.getSpanContext(e);return!a||!Yc(a)?this._root.shouldSample(e,r,n,i,o,s):a.isRemote?a.traceFlags&gi.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(e,r,n,i,o,s):a.traceFlags&gi.SAMPLED?this._localParentSampled.shouldSample(e,r,n,i,o,s):this._localParentNotSampled.shouldSample(e,r,n,i,o,s)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}()});var S4,$G=E(()=>{tr();BI();S4=function(){function t(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return t.prototype.shouldSample=function(e,r){return{decision:jv(r)&&this._accumulate(r)<this._upperBound?gf.RECORD_AND_SAMPLED:gf.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},t.prototype._accumulate=function(e){for(var r=0,n=0;n<e.length/8;n++){var i=n*8,o=parseInt(e.slice(i,i+8),16);r=(r^o)>>>0}return r},t}()});function C4(){return{sampler:WG(cje),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:io().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:io().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:io().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:io().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:io().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:io().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:io().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:io().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function WG(t){switch(t===void 0&&(t=io()),t.OTEL_TRACES_SAMPLER){case ic.AlwaysOn:return new od;case ic.AlwaysOff:return new $v;case ic.ParentBasedAlwaysOn:return new qI({root:new od});case ic.ParentBasedAlwaysOff:return new qI({root:new $v});case ic.TraceIdRatio:return new S4(Fde(t));case ic.ParentBasedTraceIdRatio:return new qI({root:new S4(Fde(t))});default:return rt.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+uje+'".'),new od}}function Fde(t){if(t.OTEL_TRACES_SAMPLER_ARG===void 0||t.OTEL_TRACES_SAMPLER_ARG==="")return rt.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Kb+"."),Kb;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(rt.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Kb+"."),Kb):e<0||e>1?(rt.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Kb+"."),Kb):e}var cje,uje,Kb,KG=E(()=>{tr();$s();E4();T4();YG();$G();cje=io(),uje=ic.AlwaysOn,Kb=1});function Ude(t){var e={sampler:WG()},r=C4(),n=Object.assign({},r,e,t);return n.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),n}function Bde(t){var e,r,n,i,o,s,a,u,c,l,f,p,m=Object.assign({},t.spanLimits),d=TG();return m.attributeCountLimit=(s=(o=(i=(r=(e=t.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&r!==void 0?r:(n=t.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:d.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:d.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:$b,m.attributeValueLengthLimit=(p=(f=(l=(u=(a=t.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=t.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:d.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:d.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Yb,Object.assign({},t,{spanLimits:m})}var XG=E(()=>{KG();$s()});var qde,Hde=E(()=>{tr();$s();qde=function(){function t(e,r){this._exporter=e,this._finishedSpans=[],this._droppedSpansCount=0;var n=io();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new UI(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(rt.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(e,r){},t.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&gi.SAMPLED&&this._addToBuffer(e)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},t.prototype._addToBuffer=function(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&rt.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(rt.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()},t.prototype._flushAll=function(){var e=this;return new Promise(function(r,n){for(var i=[],o=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),s=0,a=o;s<a;s++)i.push(e._flushOneBatch());Promise.all(i).then(function(){r()}).catch(n)})},t.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(r,n){var i=setTimeout(function(){n(new Error("Timeout"))},e._exportTimeoutMillis);Ys.with(PI(Ys.active()),function(){var o=e._finishedSpans.splice(0,e._maxExportBatchSize),s=function(){return e._exporter.export(o,function(u){var c;clearTimeout(i),u.code===$c.SUCCESS?r():n((c=u.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})},a=o.map(function(u){return u.resource}).filter(function(u){return u.asyncAttributesPending});a.length===0?s():Promise.all(a.map(function(u){var c;return(c=u.waitForAsyncAttributes)===null||c===void 0?void 0:c.call(u)})).then(s,function(u){Ta(u),n(u)})})})},t.prototype._maybeStartTimer=function(){var e=this;this._timer===void 0&&(this._timer=setTimeout(function(){e._flushOneBatch().then(function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(r){Ta(r)})},this._scheduledDelayMillis),AG(this._timer))},t.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},t}()});var lje,QG,Gde=E(()=>{Hde();lje=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),QG=function(t){lje(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onShutdown=function(){},e}(qde)});function jde(t){return function(){for(var r=0;r<t/4;r++)I4.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,r*4);for(var r=0;r<t&&!(I4[r]>0);r++)r===t-1&&(I4[t-1]=1);return I4.toString("hex",0,t)}}var fje,Vde,JG,I4,zde=E(()=>{fje=8,Vde=16,JG=function(){function t(){this.generateTraceId=jde(Vde),this.generateSpanId=jde(fje)}return t}(),I4=Buffer.allocUnsafe(Vde)});var Yde=E(()=>{Gde();zde()});var w4=E(()=>{Yde()});var ZG,$de=E(()=>{tr();$s();zG();XG();w4();ZG=function(){function t(e,r,n){this._tracerProvider=n;var i=Ude(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new JG,this.resource=n.resource,this.instrumentationLibrary=e}return t.prototype.startSpan=function(e,r,n){var i,o,s;r===void 0&&(r={}),n===void 0&&(n=Ys.active()),r.root&&(n=no.deleteSpan(n));var a=no.getSpan(n);if(Vv(n)){rt.debug("Instrumentation suppressed, returning Noop Span");var u=no.wrapSpanContext(Hb);return u}var c=a?.spanContext(),l=this._idGenerator.generateSpanId(),f,p,m;!c||!no.isSpanContextValid(c)?f=this._idGenerator.generateTraceId():(f=c.traceId,p=c.traceState,m=c.spanId);var d=(i=r.kind)!==null&&i!==void 0?i:Gb.INTERNAL,h=((o=r.links)!==null&&o!==void 0?o:[]).map(function(T){return{context:T.context,attributes:zv(T.attributes)}}),g=zv(r.attributes),v=this._sampler.shouldSample(n,f,e,d,g,h);p=(s=v.traceState)!==null&&s!==void 0?s:p;var _=v.decision===Ea.RECORD_AND_SAMPLED?gi.SAMPLED:gi.NONE,y={traceId:f,spanId:l,traceFlags:_,traceState:p};if(v.decision===Ea.NOT_RECORD){rt.debug("Recording is off, propagating context in a non-recording span");var u=no.wrapSpanContext(y);return u}var x=new VG(this,n,e,y,d,m,h,r.startTime),b=zv(Object.assign(g,v.attributes));return x.setAttributes(b),x},t.prototype.startActiveSpan=function(e,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s??Ys.active(),c=this.startSpan(e,o,u),l=no.setSpan(u,c);return Ys.with(l,a,void 0,c)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}()});function Wde(){return"unknown_service:"+process.argv0}var Kde=E(()=>{});var Xde,Qde,ej=E(()=>{Xde=function(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}},Qde=function(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}});var Jde,Zde,Xb,A4=E(()=>{Jde=Ie(require("child_process")),Zde=Ie(require("util")),Xb=Zde.promisify(Jde.exec)});var eme={};Jn(eme,{getMachineId:()=>mje});function mje(){return pje(this,void 0,void 0,function(){var t,e,r,n;return dje(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Xb('ioreg -rd1 -c "IOPlatformExpertDevice"')];case 1:return t=i.sent(),e=t.stdout.split(`
`).find(function(o){return o.includes("IOPlatformUUID")}),e?(r=e.split('" = "'),r.length===2?[2,r[1].slice(0,-1)]:[3,3]):[2,""];case 2:return n=i.sent(),rt.debug("error reading machine id: "+n),[3,3];case 3:return[2,""]}})})}var pje,dje,tme=E(()=>{A4();tr();pje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},dje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}});var nme={};Jn(nme,{getMachineId:()=>_je});function _je(){return hje(this,void 0,void 0,function(){var t,e,r,n,i,o,s,a,u;return gje(this,function(c){switch(c.label){case 0:t=["/etc/machine-id","/var/lib/dbus/machine-id"],c.label=1;case 1:c.trys.push([1,8,9,10]),e=vje(t),r=e.next(),c.label=2;case 2:if(r.done)return[3,7];n=r.value,c.label=3;case 3:return c.trys.push([3,5,,6]),[4,rme.promises.readFile(n,{encoding:"utf8"})];case 4:return i=c.sent(),[2,i.trim()];case 5:return o=c.sent(),rt.debug("error reading machine id: "+o),[3,6];case 6:return r=e.next(),[3,2];case 7:return[3,10];case 8:return s=c.sent(),a={error:s},[3,10];case 9:try{r&&!r.done&&(u=e.return)&&u.call(e)}finally{if(a)throw a.error}return[7];case 10:return[2,""]}})})}var rme,hje,gje,vje,ime=E(()=>{rme=require("fs");tr();hje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},gje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},vje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}});var sme={};Jn(sme,{getMachineId:()=>xje});function xje(){return yje(this,void 0,void 0,function(){var e,t,e,r;return bje(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,ome.promises.readFile("/etc/hostid",{encoding:"utf8"})];case 1:return e=n.sent(),[2,e.trim()];case 2:return t=n.sent(),rt.debug("error reading machine id: "+t),[3,3];case 3:return n.trys.push([3,5,,6]),[4,Xb("kenv -q smbios.system.uuid")];case 4:return e=n.sent(),[2,e.stdout.trim()];case 5:return r=n.sent(),rt.debug("error reading machine id: "+r),[3,6];case 6:return[2,""]}})})}var ome,yje,bje,ame=E(()=>{ome=require("fs");A4();tr();yje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},bje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}});var cme={};Jn(cme,{getMachineId:()=>Sje});function Sje(){return Eje(this,void 0,void 0,function(){var t,e,r,n,i;return Tje(this,function(o){switch(o.label){case 0:t="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",e="%windir%\\System32\\REG.exe",R4.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in R4.env&&(e="%windir%\\sysnative\\cmd.exe /c "+e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Xb(e+" "+t)];case 2:return r=o.sent(),n=r.stdout.split("REG_SZ"),n.length===2?[2,n[1].trim()]:[3,4];case 3:return i=o.sent(),rt.debug("error reading machine id: "+i),[3,4];case 4:return[2,""]}})})}var R4,Eje,Tje,ume=E(()=>{R4=Ie(require("process"));A4();tr();Eje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Tje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}});var lme={};Jn(lme,{getMachineId:()=>wje});function wje(){return Cje(this,void 0,void 0,function(){return Ije(this,function(t){return rt.debug("could not read machine-id: unsupported platform"),[2,""]})})}var Cje,Ije,fme=E(()=>{tr();Cje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Ije=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}});var pme,Wv,dme=E(()=>{pme=Ie(require("process"));switch(pme.platform){case"darwin":Wv=(tme(),wi(eme)).getMachineId;break;case"linux":Wv=(ime(),wi(nme)).getMachineId;break;case"freebsd":Wv=(ame(),wi(sme)).getMachineId;break;case"win32":Wv=(ume(),wi(cme)).getMachineId;break;default:Wv=(fme(),wi(lme)).getMachineId}});var P4,Aje,mme,tj=E(()=>{Qu();Qb();P4=require("os");ej();dme();Aje=function(){function t(){}return t.prototype.detect=function(e){var r,n=(r={},r[zt.HOST_NAME]=(0,P4.hostname)(),r[zt.HOST_ARCH]=Xde((0,P4.arch)()),r);return new Ws(n,this._getAsyncAttributes())},t.prototype._getAsyncAttributes=function(){return Wv().then(function(e){var r={};return e&&(r[zt.HOST_ID]=e),r})},t}(),mme=new Aje});var Rje,CGt,hme=E(()=>{tj();Rje=function(){function t(){}return t.prototype.detect=function(e){return Promise.resolve(mme.detect(e))},t}(),CGt=new Rje});var N4,Pje,gme,rj=E(()=>{Qu();Qb();N4=require("os");ej();Pje=function(){function t(){}return t.prototype.detect=function(e){var r,n=(r={},r[zt.OS_TYPE]=Qde((0,N4.platform)()),r[zt.OS_VERSION]=(0,N4.release)(),r);return new Ws(n)},t}(),gme=new Pje});var Nje,DGt,vme=E(()=>{rj();Nje=function(){function t(){}return t.prototype.detect=function(e){return Promise.resolve(gme.detect(e))},t}(),DGt=new Nje});var bme,_me,yme,Dje,xme,nj=E(()=>{tr();Qu();Qb();bme=Ie(require("os")),_me=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},yme=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},Dje=function(){function t(){}return t.prototype.detect=function(e){var r,n=(r={},r[zt.PROCESS_PID]=process.pid,r[zt.PROCESS_EXECUTABLE_NAME]=process.title,r[zt.PROCESS_EXECUTABLE_PATH]=process.execPath,r[zt.PROCESS_COMMAND_ARGS]=yme(yme([process.argv[0]],_me(process.execArgv),!1),_me(process.argv.slice(1)),!1),r[zt.PROCESS_RUNTIME_VERSION]=process.versions.node,r[zt.PROCESS_RUNTIME_NAME]="nodejs",r[zt.PROCESS_RUNTIME_DESCRIPTION]="Node.js",r);process.argv.length>1&&(n[zt.PROCESS_COMMAND]=process.argv[1]);try{var i=bme.userInfo();n[zt.PROCESS_OWNER]=i.username}catch(o){rt.debug("error obtaining process owner: "+o)}return new Ws(n)},t}(),xme=new Dje});var kje,BGt,Eme=E(()=>{nj();kje=function(){function t(){}return t.prototype.detect=function(e){return Promise.resolve(xme.detect(e))},t}(),BGt=new kje});var Tme=E(()=>{Kde();hme();vme();tj();rj();Eme();nj()});var ij=E(()=>{Tme()});var Ah,Lje,Oje,Mje,Ws,Qb=E(()=>{tr();Qu();$s();ij();Ah=function(){return Ah=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ah.apply(this,arguments)},Lje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Oje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Mje=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},Ws=function(){function t(e,r){var n=this,i;this._attributes=e,this.asyncAttributesPending=r!=null,this._syncAttributes=(i=this._attributes)!==null&&i!==void 0?i:{},this._asyncAttributesPromise=r?.then(function(o){return n._attributes=Object.assign({},n._attributes,o),n.asyncAttributesPending=!1,o},function(o){return rt.debug("a resource's async attributes promise rejected: %s",o),n.asyncAttributesPending=!1,{}})}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t((e={},e[zt.SERVICE_NAME]=Wde(),e[zt.TELEMETRY_SDK_LANGUAGE]=kI[zt.TELEMETRY_SDK_LANGUAGE],e[zt.TELEMETRY_SDK_NAME]=kI[zt.TELEMETRY_SDK_NAME],e[zt.TELEMETRY_SDK_VERSION]=kI[zt.TELEMETRY_SDK_VERSION],e))},Object.defineProperty(t.prototype,"attributes",{get:function(){var e;return this.asyncAttributesPending&&rt.error("Accessing resource attributes before async attributes settled"),(e=this._attributes)!==null&&e!==void 0?e:{}},enumerable:!1,configurable:!0}),t.prototype.waitForAsyncAttributes=function(){return Lje(this,void 0,void 0,function(){return Oje(this,function(e){switch(e.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.merge=function(e){var r=this,n;if(!e)return this;var i=Ah(Ah({},this._syncAttributes),(n=e._syncAttributes)!==null&&n!==void 0?n:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new t(i);var o=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then(function(s){var a,u=Mje(s,2),c=u[0],l=u[1];return Ah(Ah(Ah(Ah({},r._syncAttributes),c),(a=e._syncAttributes)!==null&&a!==void 0?a:e.attributes),l)});return new t(i,o)},t.EMPTY=new t({}),t}()});var Sme=E(()=>{});var Cme=E(()=>{});var Ime=E(()=>{});var Fje,njt,wme=E(()=>{D4();Fje=function(){function t(){}return t.prototype.detect=function(e){return Promise.resolve(Ame.detect(e))},t}(),njt=new Fje});var Uje,Bje,qje,Rme,oj=E(()=>{tr();$s();Qu();Qb();Uje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bje=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},qje=function(){function t(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return t.prototype.detect=function(e){var r={},n=io(),i=n.OTEL_RESOURCE_ATTRIBUTES,o=n.OTEL_SERVICE_NAME;if(i)try{var s=this._parseResourceAttributes(i);Object.assign(r,s)}catch(a){rt.debug("EnvDetector failed: "+a.message)}return o&&(r[zt.SERVICE_NAME]=o),new Ws(r)},t.prototype._parseResourceAttributes=function(e){var r,n;if(!e)return{};var i={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=Uje(o),a=s.next();!a.done;a=s.next()){var u=a.value,c=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(c.length===2){var l=Bje(c,2),f=l[0],p=l[1];if(f=f.trim(),p=p.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(f))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(p))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);i[f]=decodeURIComponent(p)}}}catch(m){r={error:m}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},t.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},t.prototype._isBaggageOctetString=function(e){for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0},t.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},t}(),Rme=new qje});var Hje,fjt,Pme=E(()=>{oj();Hje=function(){function t(){}return t.prototype.detect=function(e){return Promise.resolve(Rme.detect(e))},t}(),fjt=new Hje});var sj,Gje,Ame,Nme=E(()=>{Qu();D4();tr();sj=function(){return sj=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sj.apply(this,arguments)},Gje=function(){function t(){}return t.prototype.detect=function(e){var r,n=typeof navigator<"u";if(!n)return Ws.empty();var i=(r={},r[zt.PROCESS_RUNTIME_NAME]="browser",r[zt.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",r[zt.PROCESS_RUNTIME_VERSION]=navigator.userAgent,r);return this._getResourceAttributes(i,e)},t.prototype._getResourceAttributes=function(e,r){return e[zt.PROCESS_RUNTIME_VERSION]===""?(rt.debug("BrowserDetector failed: Unable to find required browser resources. "),Ws.empty()):new Ws(sj({},e))},t}(),Ame=new Gje});var Dme=E(()=>{wme();Pme();Nme();oj()});var kme=E(()=>{});var D4=E(()=>{Qb();Sme();ij();Cme();Ime();Dme();kme()});var k4,Lme,Ome=E(()=>{$s();k4=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lme=function(){function t(e){this._spanProcessors=e}return t.prototype.forceFlush=function(){var e,r,n=[];try{for(var i=k4(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;n.push(s.forceFlush())}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return new Promise(function(a){Promise.all(n).then(function(){a()}).catch(function(u){Ta(u||new Error("MultiSpanProcessor: forceFlush failed")),a()})})},t.prototype.onStart=function(e,r){var n,i;try{for(var o=k4(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;a.onStart(e,r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.onEnd=function(e){var r,n;try{for(var i=k4(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;s.onEnd(e)}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.shutdown=function(){var e,r,n=[];try{for(var i=k4(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;n.push(s.shutdown())}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return new Promise(function(a,u){Promise.all(n).then(function(){a()},u)})},t}()});var aj,cj=E(()=>{aj=function(){function t(){}return t.prototype.onStart=function(e,r){},t.prototype.onEnd=function(e){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}()});var Rh,jje,Mme=E(()=>{tr();$s();D4();uj();KG();Ome();cj();w4();XG();(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Rh||(Rh={}));jje=function(){function t(e){e===void 0&&(e={});var r;this._registeredSpanProcessors=[],this._tracers=new Map;var n=GG({},C4(),Bde(e));this.resource=(r=n.resource)!==null&&r!==void 0?r:Ws.empty(),this.resource=Ws.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var o=new QG(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new aj}return t.prototype.getTracer=function(e,r,n){var i=e+"@"+(r||"")+":"+(n?.schemaUrl||"");return this._tracers.has(i)||this._tracers.set(i,new ZG({name:e,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)},t.prototype.addSpanProcessor=function(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(r){return rt.error("Error while trying to shutdown current span processor",r)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Lme(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(e){e===void 0&&(e={}),no.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&Ys.setGlobalContextManager(e.contextManager),e.propagator&&rd.setGlobalPropagator(e.propagator)},t.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(function(n){return new Promise(function(i){var o,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+e+" ms")),o=Rh.timeout},e);n.forceFlush().then(function(){clearTimeout(s),o!==Rh.timeout&&(o=Rh.resolved,i(o))}).catch(function(a){clearTimeout(s),o=Rh.error,i(a)})})});return new Promise(function(n,i){Promise.all(r).then(function(o){var s=o.filter(function(a){return a!==Rh.resolved});s.length>0?i(s):n()}).catch(function(o){return i([o])})})},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(e){var r;return(r=this.constructor._registeredPropagators.get(e))===null||r===void 0?void 0:r()},t.prototype._getSpanExporter=function(e){var r;return(r=this.constructor._registeredExporters.get(e))===null||r===void 0?void 0:r()},t.prototype._buildPropagatorFromEnv=function(){var e=this,r=Array.from(new Set(io().OTEL_PROPAGATORS)),n=r.map(function(o){var s=e._getPropagator(o);return s||rt.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),s}),i=n.reduce(function(o,s){return s&&o.push(s),o},[]);if(i.length!==0)return r.length===1?i[0]:new NG({propagators:i})},t.prototype._buildExporterFromEnv=function(){var e=io().OTEL_TRACES_EXPORTER;if(!(e==="none"||e==="")){var r=this._getSpanExporter(e);return r||rt.error('Exporter "'+e+'" requested through environment variable is unavailable.'),r}},t._registeredPropagators=new Map([["tracecontext",function(){return new OG}],["baggage",function(){return new _G}]]),t._registeredExporters=new Map,t}()});var Vje,zje,Fme=E(()=>{$s();Vje=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},zje=function(){function t(){}return t.prototype.export=function(e,r){return this._sendSpans(e,r)},t.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype._exportInfo=function(e){var r;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:(r=e.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:m4(e.startTime),duration:m4(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},t.prototype._sendSpans=function(e,r){var n,i;try{for(var o=Vje(e),s=o.next();!s.done;s=o.next()){var a=s.value;console.dir(this._exportInfo(a),{depth:3})}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}if(r)return r({code:$c.SUCCESS})},t}()});var Yje,$je,Wje,Ume=E(()=>{$s();Yje=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},$je=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))},Wje=function(){function t(){this._finishedSpans=[],this._stopped=!1}return t.prototype.export=function(e,r){var n;if(this._stopped)return r({code:$c.FAILED,error:new Error("Exporter has been stopped")});(n=this._finishedSpans).push.apply(n,$je([],Yje(e),!1)),setTimeout(function(){return r({code:$c.SUCCESS})},0)},t.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()},t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype.reset=function(){this._finishedSpans=[]},t.prototype.getFinishedSpans=function(){return this._finishedSpans},t}()});var Bme=E(()=>{});var Kje,Xje,Qje,qme=E(()=>{tr();$s();Kje=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Xje=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Qje=function(){function t(e){this._exporter=e,this._shutdownOnce=new UI(this._shutdown,this),this._unresolvedExports=new Set}return t.prototype.forceFlush=function(){return Kje(this,void 0,void 0,function(){return Xje(this,function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return e.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.onStart=function(e,r){},t.prototype.onEnd=function(e){var r=this,n,i;if(!this._shutdownOnce.isCalled&&e.spanContext().traceFlags&gi.SAMPLED){var o=function(){return jG._export(r._exporter,[e]).then(function(a){var u;a.code!==$c.SUCCESS&&Ta((u=a.error)!==null&&u!==void 0?u:new Error("SimpleSpanProcessor: span export failed (status "+a+")"))}).catch(function(a){Ta(a)})};if(e.resource.asyncAttributesPending){var s=(i=(n=e.resource).waitForAsyncAttributes)===null||i===void 0?void 0:i.call(n).then(function(){return s!=null&&r._unresolvedExports.delete(s),o()},function(a){return Ta(a)});s!=null&&this._unresolvedExports.add(s)}else o()}},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){return this._exporter.shutdown()},t}()});var Hme=E(()=>{});var Gme=E(()=>{});var jme=E(()=>{});var Vme=E(()=>{});var zme=E(()=>{});var Yme={};Jn(Yme,{AlwaysOffSampler:()=>$v,AlwaysOnSampler:()=>od,BasicTracerProvider:()=>jje,BatchSpanProcessor:()=>QG,ConsoleSpanExporter:()=>zje,ForceFlushState:()=>Rh,InMemorySpanExporter:()=>Wje,NoopSpanProcessor:()=>aj,ParentBasedSampler:()=>qI,RandomIdGenerator:()=>JG,SamplingDecision:()=>gf,SimpleSpanProcessor:()=>Qje,Span:()=>VG,TraceIdRatioBasedSampler:()=>S4,Tracer:()=>ZG});var uj=E(()=>{$de();Mme();w4();Fme();Ume();Bme();qme();Hme();cj();E4();T4();YG();$G();BI();zG();Gme();jme();Vme();zme()});var Wme=R(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.enable=Wc.azureCoreTracing=Wc.AzureMonitorSymbol=void 0;var lj=ti();Wc.AzureMonitorSymbol="Azure_Monitor_Tracer";var fj="azure-coretracing",$me=!1,Jje=function(t){if($me)return t;try{var e=(uj(),wi(Yme)),r=(tr(),wi(Vb)),n=new e.BasicTracerProvider,i=n.getTracer("applicationinsights tracer");if(t.setTracer){var o=t.setTracer;t.setTracer=function(c){var l=c.startSpan;c.startSpan=function(f,p,m){var d=l.call(this,f,p,m),h=d.end;return d.end=function(){var g=h.apply(this,arguments);return lj.channel.publish(fj,d),g},d},c[Wc.AzureMonitorSymbol]=!0,o.call(this,c)},r.trace.getSpan(r.context.active()),t.setTracer(i)}else{var s=r.trace.setGlobalTracerProvider;r.trace.setGlobalTracerProvider=function(c){var l=c.getTracer;return c.getTracer=function(f,p){var m=l.call(this,f,p);if(!m[Wc.AzureMonitorSymbol]){var d=m.startSpan;m.startSpan=function(h,g,v){var _=d.call(this,h,g,v),y=_.end;return _.end=function(){var x=y.apply(this,arguments);return lj.channel.publish(fj,_),x},_},m[Wc.AzureMonitorSymbol]=!0}return m},s.call(this,c)},n.register(),r.trace.getSpan(r.context.active());var a=require("@opentelemetry/instrumentation"),u=require("@azure/opentelemetry-instrumentation-azure-sdk");a.registerInstrumentations({instrumentations:[u.createAzureSdkInstrumentation()]})}$me=!0}catch{}return t};Wc.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:Jje,publisherName:fj};function Zje(){lj.channel.registerMonkeyPatch("@azure/core-tracing",Wc.azureCoreTracing)}Wc.enable=Zje});var Xme=R(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.enable=Kv.bunyan=void 0;var Kme=ti(),eVe=function(t){var e=t.prototype._emit;return t.prototype._emit=function(r,n){var i=e.apply(this,arguments);if(!n){var o=i;o||(o=e.call(this,r,!0)),Kme.channel.publish("bunyan",{level:r.level,result:o})}return i},t};Kv.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:eVe};function tVe(){Kme.channel.registerMonkeyPatch("bunyan",Kv.bunyan)}Kv.enable=tVe});var Jme=R(Xv=>{"use strict";Object.defineProperty(Xv,"__esModule",{value:!0});Xv.enable=Xv.console=void 0;var pj=ti(),Qme=require("stream"),rVe=function(t){var e=new Qme.Writable,r=new Qme.Writable;e.write=function(c){if(!c)return!0;var l=c.toString();return pj.channel.publish("console",{message:l}),!0},r.write=function(c){if(!c)return!0;var l=c.toString();return pj.channel.publish("console",{message:l,stderr:!0}),!0};for(var n=new t.Console(e,r),i=["log","info","warn","error","dir","time","timeEnd","trace","assert"],o=function(c){var l=t[c];l&&(t[c]=function(){if(n[c])try{n[c].apply(n,arguments)}catch{}return l.apply(t,arguments)})},s=0,a=i;s<a.length;s++){var u=a[s];o(u)}return t};Xv.console={versionSpecifier:">= 4.0.0",patch:rVe};function nVe(){pj.channel.registerMonkeyPatch("console",Xv.console),require("console")}Xv.enable=nVe});var Zme=R(Qv=>{"use strict";Object.defineProperty(Qv,"__esModule",{value:!0});Qv.enable=Qv.mongoCore=void 0;var dj=ti(),iVe=function(t){var e=t.Server.prototype.connect;return t.Server.prototype.connect=function(){var n=e.apply(this,arguments),i=this.s.pool.write;this.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=dj.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=dj.channel.bindToContext(arguments[1])),o.apply(this,arguments)},n},t};Qv.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:iVe};function oVe(){dj.channel.registerMonkeyPatch("mongodb-core",Qv.mongoCore)}Qv.enable=oVe});var ehe=R(Ks=>{"use strict";var Jb=Ks&&Ks.__assign||function(){return Jb=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jb.apply(this,arguments)};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.enable=Ks.mongo330=Ks.mongo3=Ks.mongo2=void 0;var Es=ti(),sVe=function(t){var e=t.instrument({operationIdGenerator:{next:function(){return Es.channel.bindToContext(function(n){return n()})}}}),r={};return e.on("started",function(n){r[n.requestId]||(r[n.requestId]=Jb(Jb({},n),{time:new Date}))}),e.on("succeeded",function(n){var i=r[n.requestId];i&&delete r[n.requestId],typeof n.operationId=="function"?n.operationId(function(){return Es.channel.publish("mongodb",{startedData:i,event:n,succeeded:!0})}):Es.channel.publish("mongodb",{startedData:i,event:n,succeeded:!0})}),e.on("failed",function(n){var i=r[n.requestId];i&&delete r[n.requestId],typeof n.operationId=="function"?n.operationId(function(){return Es.channel.publish("mongodb",{startedData:i,event:n,succeeded:!1})}):Es.channel.publish("mongodb",{startedData:i,event:n,succeeded:!1})}),t},aVe=function(t){var e=t.instrument(),r={},n={};return e.on("started",function(i){r[i.requestId]||(n[i.requestId]=Es.channel.bindToContext(function(o){return o()}),r[i.requestId]=Jb(Jb({},i),{time:new Date}))}),e.on("succeeded",function(i){var o=r[i.requestId];o&&delete r[i.requestId],typeof i=="object"&&typeof n[i.requestId]=="function"&&(n[i.requestId](function(){return Es.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete n[i.requestId])}),e.on("failed",function(i){var o=r[i.requestId];o&&delete r[i.requestId],typeof i=="object"&&typeof n[i.requestId]=="function"&&(n[i.requestId](function(){return Es.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete n[i.requestId])}),t},cVe=function(t){var e=t.Server.prototype.connect;return t.Server.prototype.connect=function(){var n=e.apply(this,arguments),i=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=Es.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=Es.channel.bindToContext(arguments[1])),o.apply(this,arguments)},n},t},uVe=function(t){cVe(t);var e=t.instrument(),r={},n={};return e.on("started",function(i){r[i.requestId]||(n[i.requestId]=Es.channel.bindToContext(function(o){return o()}),r[i.requestId]=i)}),e.on("succeeded",function(i){var o=r[i.requestId];o&&delete r[i.requestId],typeof i=="object"&&typeof n[i.requestId]=="function"&&(n[i.requestId](function(){return Es.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete n[i.requestId])}),e.on("failed",function(i){var o=r[i.requestId];o&&delete r[i.requestId],typeof i=="object"&&typeof n[i.requestId]=="function"&&(n[i.requestId](function(){return Es.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete n[i.requestId])}),t};Ks.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:sVe};Ks.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:aVe};Ks.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:uVe};function lVe(){Es.channel.registerMonkeyPatch("mongodb",Ks.mongo2),Es.channel.registerMonkeyPatch("mongodb",Ks.mongo3),Es.channel.registerMonkeyPatch("mongodb",Ks.mongo330)}Ks.enable=lVe});var rhe=R(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0});Jv.enable=Jv.mysql=void 0;var L4=ti(),the=require("path"),fVe=function(t,e){var r=function(u,c){return function(l,f){var p=u[l];p&&(u[l]=function(){for(var d=arguments.length-1,h=arguments.length-1;h>=0;--h)if(typeof arguments[h]=="function"){d=h;break}else if(typeof arguments[h]<"u")break;var g=arguments[d],v={result:null,startTime:null,startDate:null};typeof g=="function"&&(f?(v.startTime=process.hrtime(),v.startDate=new Date,arguments[d]=L4.channel.bindToContext(f(v,g))):arguments[d]=L4.channel.bindToContext(g));var _=p.apply(this,arguments);return v.result=_,_})}},n=function(u,c){return r(u.prototype,c+".prototype")},i=["connect","changeUser","ping","statistics","end"],o=require(the.dirname(e)+"/lib/Connection");i.forEach(function(u){return n(o,"Connection")(u)}),r(o,"Connection")("createQuery",function(u,c){return function(l){var f=process.hrtime(u.startTime),p=f[0]*1e3+f[1]/1e6|0;L4.channel.publish("mysql",{query:u.result,callbackArgs:arguments,err:l,duration:p,time:u.startDate}),c.apply(this,arguments)}});var s=["_enqueueCallback"],a=require(the.dirname(e)+"/lib/Pool");return s.forEach(function(u){return n(a,"Pool")(u)}),t};Jv.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:fVe};function pVe(){L4.channel.registerMonkeyPatch("mysql",Jv.mysql)}Jv.enable=pVe});var ihe=R(Zv=>{"use strict";Object.defineProperty(Zv,"__esModule",{value:!0});Zv.enable=Zv.postgresPool1=void 0;var nhe=ti();function dVe(t){var e=t.prototype.connect;return t.prototype.connect=function(n){return n&&(arguments[0]=nhe.channel.bindToContext(n)),e.apply(this,arguments)},t}Zv.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:dVe};function mVe(){nhe.channel.registerMonkeyPatch("pg-pool",Zv.postgresPool1)}Zv.enable=mVe});var she=R(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.enable=vf.postgres=vf.postgres6=void 0;var Zb=ti(),ohe=require("events"),mj="postgres";function hVe(t,e){var r=t.Client.prototype.query,n="__diagnosticOriginalFunc";return t.Client.prototype.query=function(o,s,a){var u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime(),l;function f(p){p&&p[n]&&(p=p[n]);var m=Zb.channel.bindToContext(function(d,h){var g=process.hrtime(c);if(u.result=h&&{rowCount:h.rowCount,command:h.command},u.error=d,u.duration=Math.ceil(g[0]*1e3+g[1]/1e6),Zb.channel.publish(mj,u),d){if(p)return p.apply(this,arguments);l&&l instanceof ohe.EventEmitter&&l.emit("error",d)}else p&&p.apply(this,arguments)});try{return Object.defineProperty(m,n,{value:p}),m}catch{return p}}try{typeof o=="string"?s instanceof Array?(u.query.preparable={text:o,args:s},a=f(a)):(u.query.text=o,a?a=f(a):s=f(s)):(typeof o.name=="string"?u.query.plan=o.name:o.values instanceof Array?u.query.preparable={text:o.text,args:o.values}:u.query.text=o.text,a?a=f(a):s?s=f(s):o.callback=f(o.callback))}catch{return r.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,l=r.apply(this,arguments),l},t}function gVe(t,e){var r=t.Client.prototype.query,n="__diagnosticOriginalFunc";return t.Client.prototype.query=function(o,s,a){var u=this,c,l,f=!!a,p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},m,d=process.hrtime();function h(_){_&&_[n]&&(_=_[n]);var y=Zb.channel.bindToContext(function(x,b){var T=process.hrtime(d);if(p.result=b&&{rowCount:b.rowCount,command:b.command},p.error=x,p.duration=Math.ceil(T[0]*1e3+T[1]/1e6),Zb.channel.publish(mj,p),x){if(_)return _.apply(this,arguments);m&&m instanceof ohe.EventEmitter&&m.emit("error",x)}else _&&_.apply(this,arguments)});try{return Object.defineProperty(y,n,{value:_}),y}catch{return _}}try{typeof o=="string"?s instanceof Array?(p.query.preparable={text:o,args:s},f=typeof a=="function",a=f?h(a):a):(p.query.text=o,a?(f=typeof a=="function",a=f?h(a):a):(f=typeof s=="function",s=f?h(s):s)):(typeof o.name=="string"?p.query.plan=o.name:o.values instanceof Array?p.query.preparable={text:o.text,args:o.values}:o.cursor?p.query.text=(c=o.cursor)===null||c===void 0?void 0:c.text:p.query.text=o.text,a?(f=typeof a=="function",a=h(a)):s?(f=typeof s=="function",s=f?h(s):s):(f=typeof o.callback=="function",o.callback=f?h(o.callback):o.callback))}catch{return r.apply(this,arguments)}arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3;try{m=r.apply(this,arguments)}catch(_){throw h()(_,void 0),_}if(!f){if(m instanceof Promise)return m.then(function(_){return h()(void 0,_),new u._Promise(function(y,x){y(_)})}).catch(function(_){return h()(_,void 0),new u._Promise(function(y,x){x(_)})});var g=m.text?m.text:"";if(m.cursor&&(g=(l=m.cursor)===null||l===void 0?void 0:l.text),g){var v={command:g,rowCount:0};h()(void 0,v)}}return m},t}vf.postgres6={versionSpecifier:"6.*",patch:hVe};vf.postgres={versionSpecifier:">=7.* <=8.*",patch:gVe,publisherName:mj};function vVe(){Zb.channel.registerMonkeyPatch("pg",vf.postgres6),Zb.channel.registerMonkeyPatch("pg",vf.postgres)}vf.enable=vVe});var ahe=R(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0});e_.enable=e_.redis=void 0;var hj=ti(),_Ve=function(t){var e=t.RedisClient.prototype.internal_send_command;return t.RedisClient.prototype.internal_send_command=function(r){if(r){var n=r.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;r.callback=hj.channel.bindToContext(function(a,u){var c=process.hrtime(o),l=c[0]*1e3+c[1]/1e6|0;hj.channel.publish("redis",{duration:l,address:i,commandObj:r,err:a,result:u,time:s}),typeof n=="function"&&n.apply(this,arguments)}),r.callback.pubsubBound=!0}}return e.call(this,r)},t};e_.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:_Ve};function yVe(){hj.channel.registerMonkeyPatch("redis",e_.redis)}e_.enable=yVe});var che=R(sd=>{"use strict";var O4=sd&&sd.__assign||function(){return O4=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},O4.apply(this,arguments)};Object.defineProperty(sd,"__esModule",{value:!0});sd.enable=sd.tedious=void 0;var gj=ti(),bVe=function(t){var e=t.Connection.prototype.makeRequest;return t.Connection.prototype.makeRequest=function(){function n(o){var s=process.hrtime(),a={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return gj.channel.bindToContext(function(u,c,l){var f=process.hrtime(s);a=O4(O4({},a),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!u&&{rowCount:c,rows:l},query:{text:this.parametersByName.statement.value},error:u,duration:Math.ceil(f[0]*1e3+f[1]/1e6)}),gj.channel.publish("tedious",a),o.call(this,u,c,l)})}var i=arguments[0];arguments[0].callback=n(i.callback),e.apply(this,arguments)},t};sd.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:bVe};function xVe(){gj.channel.registerMonkeyPatch("tedious",sd.tedious)}sd.enable=xVe});var uhe=R(Sa=>{"use strict";var EVe=Sa&&Sa.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),TVe=Sa&&Sa.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.enable=Sa.winston2=Sa.winston3=void 0;var M4=ti(),SVe=function(t){var e=t.Logger.prototype.log,r,n=function(i,o,s){var a;return r===t.config.npm.levels?a="npm":r===t.config.syslog.levels?a="syslog":a="unknown",M4.channel.publish("winston",{level:i,message:o,meta:s,levelKind:a}),o};return t.Logger.prototype.log=function(){return r=this.levels,!this.filters||this.filters.length===0?this.filters=[n]:this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter(function(o){return o!==n}),this.filters.push(n)),e.apply(this,arguments)},t},CVe=function(t){var e=function(s,a){var u;return s.config.npm.levels[a]!=null?u="npm":s.config.syslog.levels[a]!=null?u="syslog":u="unknown",u},r=function(s){EVe(a,s);function a(u,c){var l=s.call(this,c)||this;return l.winston=u,l}return a.prototype.log=function(u,c){var l=u.message,f=u.level,p=u.meta,m=TVe(u,["message","level","meta"]);f=typeof Symbol.for=="function"?u[Symbol.for("level")]:f,l=u instanceof Error?u:l;var d=e(this.winston,f);p=p||{};for(var h in m)m.hasOwnProperty(h)&&(p[h]=m[h]);M4.channel.publish("winston",{message:l,level:f,levelKind:d,meta:p}),c()},a}(t.Transport);function n(){var s=t.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(s=arguments[0].levels);var a;for(var u in s)s.hasOwnProperty(u)&&(a=a===void 0||s[u]>s[a]?u:a);this.add(new r(t,{level:a}))}var i=t.createLogger;t.createLogger=function(){var a=t.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(a=arguments[0].levels);var u;for(var c in a)a.hasOwnProperty(c)&&(u=u===void 0||a[c]>a[u]?c:u);var l=i.apply(this,arguments);l.add(new r(t,{level:u}));var f=l.configure;return l.configure=function(){f.apply(this,arguments),n.apply(this,arguments)},l};var o=t.configure;return t.configure=function(){o.apply(this,arguments),n.apply(this,arguments)},t.add(new r(t)),t};Sa.winston3={versionSpecifier:"3.x",patch:CVe};Sa.winston2={versionSpecifier:"2.x",patch:SVe};function IVe(){M4.channel.registerMonkeyPatch("winston",Sa.winston2),M4.channel.registerMonkeyPatch("winston",Sa.winston3)}Sa.enable=IVe});var xhe=R(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.enable=on.tedious=on.pgPool=on.pg=on.winston=on.redis=on.mysql=on.mongodb=on.mongodbCore=on.console=on.bunyan=on.azuresdk=void 0;var lhe=Wme();on.azuresdk=lhe;var fhe=Xme();on.bunyan=fhe;var phe=Jme();on.console=phe;var dhe=Zme();on.mongodbCore=dhe;var mhe=ehe();on.mongodb=mhe;var hhe=rhe();on.mysql=hhe;var ghe=ihe();on.pgPool=ghe;var vhe=she();on.pg=vhe;var _he=ahe();on.redis=_he;var yhe=che();on.tedious=yhe;var bhe=uhe();on.winston=bhe;function wVe(){fhe.enable(),phe.enable(),dhe.enable(),mhe.enable(),hhe.enable(),vhe.enable(),ghe.enable(),_he.enable(),bhe.enable(),lhe.enable(),yhe.enable()}on.enable=wVe});var B4=R(Ph=>{"use strict";Object.defineProperty(Ph,"__esModule",{value:!0});Ph.registerContextPreservation=Ph.IsInitialized=void 0;var vj=bn(),The=kk();Ph.IsInitialized=!The.JsonConfig.getInstance().noDiagnosticChannel;var _j="DiagnosticChannel";if(Ph.IsInitialized){Ju=xhe(),Ehe=The.JsonConfig.getInstance().noPatchModules,F4=Ehe.split(","),yj={bunyan:Ju.bunyan,console:Ju.console,mongodb:Ju.mongodb,mongodbCore:Ju.mongodbCore,mysql:Ju.mysql,redis:Ju.redis,pg:Ju.pg,pgPool:Ju.pgPool,winston:Ju.winston,azuresdk:Ju.azuresdk};for(U4 in yj)F4.indexOf(U4)===-1&&(yj[U4].enable(),vj.info(_j,"Subscribed to "+U4+" events"));F4.length>0&&vj.info(_j,"Some modules will not be patched",F4)}else vj.info(_j,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var Ju,Ehe,F4,yj,U4;function AVe(t){if(Ph.IsInitialized){var e=ti();e.channel.addContextPreservation(t)}}Ph.registerContextPreservation=AVe});var ex=R((RVt,She)=>{"use strict";She.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}});var Wo=R((Ej,Che)=>{"use strict";var Dh=Ej&&Ej.__assign||function(){return Dh=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Dh.apply(this,arguments)},RVe=require("http"),bj=require("https"),xj=require("url"),Nh=require("constants"),t_=bn(),tx=ex(),PVe=kk(),NVe=function(){function t(){t._addCloseHandler()}return t.getCookie=function(e,r){var n="";if(e&&e.length&&typeof r=="string")for(var i=e+"=",o=r.split(";"),s=0;s<o.length;s++){var r=o[s];if(r=t.trim(r),r&&r.indexOf(i)===0){n=r.substring(i.length,o[s].length);break}}return n},t.trim=function(e){return typeof e=="string"?e.replace(/^\s+|\s+$/g,""):""},t.int32ArrayToBase64=function(e){var r=function(a,u){return String.fromCharCode(a>>u&255)},n=function(a){return r(a,24)+r(a,16)+r(a,8)+r(a,0)},i=e.map(n).join(""),o=Buffer.from?Buffer.from(i,"binary"):new Buffer(i,"binary"),s=o.toString("base64");return s.substr(0,s.indexOf("="))},t.random32=function(){return 4294967296*Math.random()|0},t.randomu32=function(){return t.random32()+2147483648},t.w3cTraceId=function(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",n,i=0;i<4;i++)n=t.random32(),r+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var o=e[8+Math.random()*4|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},t.w3cSpanId=function(){return t.w3cTraceId().substring(16)},t.isValidW3CId=function(e){return e.length===32&&e!=="00000000000000000000000000000000"},t.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"},t.isError=function(e){return Object.prototype.toString.call(e)==="[object Error]"},t.isPrimitive=function(e){var r=typeof e;return r==="string"||r==="number"||r==="boolean"},t.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"},t.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var r=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));r=r.indexOf(".")<2?"0"+r:r,n=n.length<2?"0"+n:n,i=i.length<2?"0"+i:i;var s=o>0?o+".":"";return s+i+":"+n+":"+r},t.extractError=function(e){var r=e;return{message:e.message,code:r.code||r.id||""}},t.extractObject=function(e){return e instanceof Error?t.extractError(e):typeof e.toJSON=="function"?e.toJSON():e},t.validateStringMap=function(e){if(typeof e!="object"){t_.info("Invalid properties dropped from payload");return}var r={};for(var n in e){var i="",o=e[n],s=typeof o;if(t.isPrimitive(o))i=o.toString();else if(o===null||s==="undefined")i="";else if(s==="function"){t_.info("key: "+n+" was function; will not serialize");continue}else{var a=t.isArray(o)?o:t.extractObject(o);try{t.isPrimitive(a)?i=a:i=JSON.stringify(a)}catch(u){i=o.constructor.name.toString()+" (Error: "+u.message+")",t_.info("key: "+n+", could not be serialized")}}r[n]=i.substring(0,t.MAX_PROPERTY_LENGTH)}return r},t.canIncludeCorrelationHeader=function(e,r){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||n.length==0||!r)return!0;for(var i=0;i<n.length;i++){var o=new RegExp(n[i].replace(/\./g,".").replace(/\*/g,".*"));try{if(o.test(new xj.URL(r).hostname))return!1}catch{}}return!0},t.getCorrelationContextTarget=function(e,r){var n=e.headers&&e.headers[tx.requestContextHeader];if(n)for(var i=n.split(","),o=0;o<i.length;++o){var s=i[o].split("=");if(s.length==2&&s[0]==r)return s[1]}},t.makeRequest=function(e,r,n,i,o,s){o===void 0&&(o=!0),s===void 0&&(s=!0),r&&r.indexOf("//")===0&&(r="https:"+r);var a=new xj.URL(r),u=Dh(Dh({},n),{host:a.hostname,port:a.port,path:a.pathname}),c=void 0;if(o&&(a.protocol==="https:"&&(c=e.proxyHttpsUrl||void 0),a.protocol==="http:"&&(c=e.proxyHttpUrl||void 0),c)){c.indexOf("//")===0&&(c="http:"+c);try{var l=new xj.URL(c);l.protocol==="https:"?(t_.info("Proxies that use HTTPS are not supported"),c=void 0):u=Dh(Dh({},u),{host:l.hostname,port:l.port||"80",path:r,headers:Dh(Dh({},u.headers),{Host:a.hostname})})}catch{t_.warn("Wrong proxy URL provided")}}var f=a.protocol==="https:"&&!c;return s&&(f&&e.httpsAgent!==void 0?u.agent=e.httpsAgent:!f&&e.httpAgent!==void 0?u.agent=e.httpAgent:f&&(u.agent=t._useKeepAlive?t.keepAliveAgent:t.tlsRestrictedAgent)),f?bj.request(u,i):RVe.request(u,i)},t.safeIncludeCorrelationHeader=function(e,r,n){var i;if(typeof n=="string")i=n;else if(n instanceof Array)i=n.join(",");else if(n&&typeof n.toString=="function")try{i=n.toString()}catch(o){t_.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",o,n)}i?t.addCorrelationIdHeaderFromString(e,r,i):r.setHeader(tx.requestContextHeader,tx.requestContextSourceKey+"="+e.config.correlationId)},t.dumpObj=function(e){if(e)try{var r=Object.prototype.toString.call(e),n="";return r==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":n=this.stringify(e),r+n}catch{return e.toString()}},t.stringify=function(e){try{return JSON.stringify(e)}catch(r){t_.warn("Failed to serialize payload",r,e)}},t.addCorrelationIdHeaderFromString=function(e,r,n){var i=n.split(","),o=tx.requestContextSourceKey+"=",s=i.some(function(a){return a.substring(0,o.length)===o});s||r.setHeader(tx.requestContextHeader,n+","+tx.requestContextSourceKey+"="+e.config.correlationId)},t._addCloseHandler=function(){t._listenerAttached||(process.on("exit",function(){t.isNodeExit=!0,t._useKeepAlive=!1}),t._listenerAttached=!0)},t._useKeepAlive=!PVe.JsonConfig.getInstance().noHttpAgentKeepAlive,t._listenerAttached=!1,t.MAX_PROPERTY_LENGTH=8192,t.keepAliveAgent=new bj.Agent({keepAlive:!0,maxSockets:25,secureOptions:Nh.SSL_OP_NO_SSLv2|Nh.SSL_OP_NO_SSLv3|Nh.SSL_OP_NO_TLSv1|Nh.SSL_OP_NO_TLSv1_1}),t.tlsRestrictedAgent=new bj.Agent({secureOptions:Nh.SSL_OP_NO_SSLv2|Nh.SSL_OP_NO_SSLv3|Nh.SSL_OP_NO_TLSv1|Nh.SSL_OP_NO_TLSv1_1}),t.isNodeExit=!1,t}();Che.exports=NVe});var r_=R((PVt,Ihe)=>{"use strict";var Tj=Wo(),DVe=function(){function t(){}return t.queryCorrelationId=function(e,r){},t.cancelCorrelationIdQuery=function(e,r){},t.generateRequestId=function(e){if(e){e=e[0]=="|"?e:"|"+e,e[e.length-1]!=="."&&(e+=".");var r=(t.currentRootId++).toString(16);return t.appendSuffix(e,r,"_")}else return t.generateRootId()},t.getRootId=function(e){var r=e.indexOf(".");r<0&&(r=e.length);var n=e[0]==="|"?1:0;return e.substring(n,r)},t.generateRootId=function(){return"|"+Tj.w3cTraceId()+"."},t.appendSuffix=function(e,r,n){if(e.length+r.length<t.requestIdMaxLength)return e+r+n;var i=t.requestIdMaxLength-9;if(e.length>i)for(;i>1;--i){var o=e[i-1];if(o==="."||o==="_")break}if(i<=1)return t.generateRootId();for(r=Tj.randomu32().toString(16);r.length<8;)r="0"+r;return e.substring(0,i)+r+"#"},t.correlationIdPrefix="cid-v1:",t.w3cEnabled=!0,t.HTTP_TIMEOUT=2500,t.requestIdMaxLength=1024,t.currentRootId=Tj.randomu32(),t}();Ihe.exports=DVe});var q4=R((NVt,whe)=>{"use strict";var Ko=Wo(),kVe=r_(),LVe=function(){function t(e,r){if(this.traceFlag=t.DEFAULT_TRACE_FLAG,this.version=t.DEFAULT_VERSION,e&&typeof e=="string")if(e.split(",").length>1)this.traceId=Ko.w3cTraceId(),this.spanId=Ko.w3cTraceId().substr(0,16);else{var n=e.trim().split("-"),i=n.length;i>=4?(this.version=n[0],this.traceId=n[1],this.spanId=n[2],this.traceFlag=n[3]):(this.traceId=Ko.w3cTraceId(),this.spanId=Ko.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=t.DEFAULT_VERSION,this.traceId=Ko.w3cTraceId()),this.version==="00"&&i!==4&&(this.traceId=Ko.w3cTraceId(),this.spanId=Ko.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=t.DEFAULT_VERSION,this.traceId=Ko.w3cTraceId(),this.spanId=Ko.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=t.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=t.DEFAULT_TRACE_FLAG,this.traceId=Ko.w3cTraceId()),t.isValidTraceId(this.traceId)||(this.traceId=Ko.w3cTraceId()),t.isValidSpanId(this.spanId)||(this.spanId=Ko.w3cTraceId().substr(0,16),this.traceId=Ko.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var o=kVe.getRootId(r);t.isValidTraceId(o)||(this.legacyRootId=o,o=Ko.w3cTraceId()),r.indexOf("|")!==-1&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=o,this.spanId=r}else this.traceId=Ko.w3cTraceId(),this.spanId=Ko.w3cTraceId().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.formatOpenTelemetryTraceFlags=function(e){var r="0"+e.toString(16);return r.substring(r.length-2)},t.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},t.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},t.prototype.updateSpanId=function(){this.spanId=Ko.w3cTraceId().substr(0,16)},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}();whe.exports=LVe});var Sj=R((DVt,Ahe)=>{"use strict";var OVe=function(){function t(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return t.prototype.toString=function(){var e=this.fieldmap;return!e||e.length==0?null:e.join(", ")},t.validateKeyChars=function(e){var r=e.split("@");if(r.length==2){var n=r[0].trim(),i=r[1].trim(),o=!!n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),s=!!i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return o&&s}else if(r.length==1)return!!e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},t.prototype.parseHeader=function(e){var r=[],n={},i=e.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a.trim();if(u.length!==0){var c=u.split("=");if(c.length!==2||!t.validateKeyChars(c[0])||n[c[0]])return null;n[c[0]]=!0,r.push(u)}}return r},t.strict=!0,t}();Ahe.exports=OVe});var ad=R((kVt,Rhe)=>{"use strict";var MVe=function(){function t(){}return t}();Rhe.exports=MVe});var Nhe=R((Cj,Phe)=>{"use strict";var FVe=Cj&&Cj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UVe=ad(),BVe=function(t){FVe(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(UVe);Phe.exports=BVe});var Ij=R((LVt,Dhe)=>{"use strict";var qVe=function(){function t(){}return t}();Dhe.exports=qVe});var Lhe=R((OVt,khe)=>{"use strict";var HVe=function(){function t(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return t}();khe.exports=HVe});var Mhe=R((wj,Ohe)=>{"use strict";var GVe=wj&&wj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jVe=Ij(),VVe=function(t){GVe(e,t);function e(){return t.call(this)||this}return e}(jVe);Ohe.exports=VVe});var Rj=R((MVt,Fhe)=>{"use strict";var Aj;(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(Aj||(Aj={}));Fhe.exports=Aj});var Bhe=R((FVt,Uhe)=>{"use strict";var zVe=Rj(),YVe=function(){function t(){this.kind=zVe.Measurement}return t}();Uhe.exports=YVe});var Hhe=R((UVt,qhe)=>{"use strict";var $Ve=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}();qhe.exports=$Ve});var Nj=R((Pj,Ghe)=>{"use strict";var WVe=Pj&&Pj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KVe=ad(),XVe=function(t){WVe(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(KVe);Ghe.exports=XVe});var Vhe=R((Dj,jhe)=>{"use strict";var QVe=Dj&&Dj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JVe=ad(),ZVe=function(t){QVe(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.exceptions=[],r.properties={},r.measurements={},r}return e}(JVe);jhe.exports=ZVe});var Yhe=R((BVt,zhe)=>{"use strict";var eze=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}();zhe.exports=eze});var Whe=R((kj,$he)=>{"use strict";var tze=kj&&kj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rze=ad(),nze=function(t){tze(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r}return e}(rze);$he.exports=nze});var Xhe=R((Lj,Khe)=>{"use strict";var ize=Lj&&Lj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oze=ad(),sze=function(t){ize(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.metrics=[],r.properties={},r}return e}(oze);Khe.exports=sze});var Jhe=R((Oj,Qhe)=>{"use strict";var aze=Oj&&Oj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cze=Nj(),uze=function(t){aze(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(cze);Qhe.exports=uze});var ege=R((Mj,Zhe)=>{"use strict";var lze=Mj&&Mj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fze=ad(),pze=function(t){lze(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.success=!0,r.properties={},r.measurements={},r}return e}(fze);Zhe.exports=pze});var rge=R((Fj,tge)=>{"use strict";var dze=Fj&&Fj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mze=ad(),hze=function(t){dze(e,t);function e(){var r=t.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return e}(mze);tge.exports=hze});var ige=R((qVt,nge)=>{"use strict";var Uj;(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(Uj||(Uj={}));nge.exports=Uj});var sge=R((HVt,oge)=>{"use strict";var gze=function(){function t(){}return t}();oge.exports=gze});var Bj=R(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.AvailabilityData=Nhe();Fi.Base=Ij();Fi.ContextTagKeys=Lhe();Fi.Data=Mhe();Fi.DataPoint=Bhe();Fi.DataPointType=Rj();Fi.Domain=ad();Fi.Envelope=Hhe();Fi.EventData=Nj();Fi.ExceptionData=Vhe();Fi.ExceptionDetails=Yhe();Fi.MessageData=Whe();Fi.MetricData=Xhe();Fi.PageViewData=Jhe();Fi.RemoteDependencyData=ege();Fi.RequestData=rge();Fi.SeverityLevel=ige();Fi.StackFrame=sge()});var age=R(rx=>{"use strict";Object.defineProperty(rx,"__esModule",{value:!0});rx.domainSupportsProperties=rx.RemoteDependencyDataConstants=void 0;var n_=Bj(),vze=function(){function t(){}return t.TYPE_HTTP="Http",t.TYPE_AI="Http (tracked component)",t}();rx.RemoteDependencyDataConstants=vze;function _ze(t){return"properties"in t||t instanceof n_.EventData||t instanceof n_.ExceptionData||t instanceof n_.MessageData||t instanceof n_.MetricData||t instanceof n_.PageViewData||t instanceof n_.RemoteDependencyData||t instanceof n_.RequestData}rx.domainSupportsProperties=_ze});var uge=R(cge=>{"use strict";Object.defineProperty(cge,"__esModule",{value:!0})});var fge=R(lge=>{"use strict";Object.defineProperty(lge,"__esModule",{value:!0})});var dge=R(pge=>{"use strict";Object.defineProperty(pge,"__esModule",{value:!0})});var hge=R(mge=>{"use strict";Object.defineProperty(mge,"__esModule",{value:!0})});var vge=R(gge=>{"use strict";Object.defineProperty(gge,"__esModule",{value:!0})});var yge=R(_ge=>{"use strict";Object.defineProperty(_ge,"__esModule",{value:!0})});var xge=R(bge=>{"use strict";Object.defineProperty(bge,"__esModule",{value:!0})});var Tge=R(Ege=>{"use strict";Object.defineProperty(Ege,"__esModule",{value:!0})});var Cge=R(Sge=>{"use strict";Object.defineProperty(Sge,"__esModule",{value:!0})});var wge=R(Ige=>{"use strict";Object.defineProperty(Ige,"__esModule",{value:!0})});var Rge=R(Age=>{"use strict";Object.defineProperty(Age,"__esModule",{value:!0})});var Nge=R(Pge=>{"use strict";Object.defineProperty(Pge,"__esModule",{value:!0})});var Dge=R(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.TelemetryType=Zu.TelemetryTypeString=Zu.baseTypeToTelemetryType=Zu.telemetryTypeToBaseType=void 0;function yze(t){switch(t){case Xo.Event:return"EventData";case Xo.Exception:return"ExceptionData";case Xo.Trace:return"MessageData";case Xo.Metric:return"MetricData";case Xo.Request:return"RequestData";case Xo.Dependency:return"RemoteDependencyData";case Xo.Availability:return"AvailabilityData";case Xo.PageView:return"PageViewData"}}Zu.telemetryTypeToBaseType=yze;function bze(t){switch(t){case"EventData":return Xo.Event;case"ExceptionData":return Xo.Exception;case"MessageData":return Xo.Trace;case"MetricData":return Xo.Metric;case"RequestData":return Xo.Request;case"RemoteDependencyData":return Xo.Dependency;case"AvailabilityData":return Xo.Availability;case"PageViewData":return Xo.PageView}}Zu.baseTypeToTelemetryType=bze;Zu.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var Xo;(function(t){t[t.Event=0]="Event",t[t.Exception=1]="Exception",t[t.Trace=2]="Trace",t[t.Metric=3]="Metric",t[t.Request=4]="Request",t[t.Dependency=5]="Dependency",t[t.Availability=6]="Availability",t[t.PageView=7]="PageView"})(Xo=Zu.TelemetryType||(Zu.TelemetryType={}))});var kge=R(oo=>{"use strict";var xze=oo&&oo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oc=oo&&oo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xze(e,t,r)};Object.defineProperty(oo,"__esModule",{value:!0});oc(uge(),oo);oc(fge(),oo);oc(dge(),oo);oc(hge(),oo);oc(vge(),oo);oc(yge(),oo);oc(xge(),oo);oc(Tge(),oo);oc(Cge(),oo);oc(wge(),oo);oc(Rge(),oo);oc(Nge(),oo);oc(Dge(),oo)});var Oge=R(Lge=>{"use strict";Object.defineProperty(Lge,"__esModule",{value:!0})});var Fge=R(Mge=>{"use strict";Object.defineProperty(Mge,"__esModule",{value:!0})});var Bge=R(Uge=>{"use strict";Object.defineProperty(Uge,"__esModule",{value:!0})});var Hge=R(qge=>{"use strict";Object.defineProperty(qge,"__esModule",{value:!0})});var jge=R(Gge=>{"use strict";Object.defineProperty(Gge,"__esModule",{value:!0})});var zge=R(Vge=>{"use strict";Object.defineProperty(Vge,"__esModule",{value:!0})});var $ge=R(Yge=>{"use strict";Object.defineProperty(Yge,"__esModule",{value:!0})});var Kge=R(Wge=>{"use strict";Object.defineProperty(Wge,"__esModule",{value:!0})});var Xge=R(Ca=>{"use strict";var Eze=Ca&&Ca.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kh=Ca&&Ca.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Eze(e,t,r)};Object.defineProperty(Ca,"__esModule",{value:!0});kh(Oge(),Ca);kh(Fge(),Ca);kh(Bge(),Ca);kh(Hge(),Ca);kh(jge(),Ca);kh(zge(),Ca);kh($ge(),Ca);kh(Kge(),Ca)});var Ts=R(_f=>{"use strict";var Tze=_f&&_f.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H4=_f&&_f.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tze(e,t,r)};Object.defineProperty(_f,"__esModule",{value:!0});H4(age(),_f);H4(Bj(),_f);H4(kge(),_f);H4(Xge(),_f)});var qj=R((mzt,Qge)=>{"use strict";var Sze=function(){function t(){}return t.prototype.getUrl=function(){return this.url},t.prototype.RequestParser=function(){this.startTime=+new Date},t.prototype._setStatus=function(e,r){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var i=this.properties||{};if(r){if(typeof r=="string")i.error=r;else if(r instanceof Error)i.error=r.message;else if(typeof r=="object")for(var o in r)i[o]=r[o]&&r[o].toString&&r[o].toString()}this.properties=i},t.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},t}();Qge.exports=Sze});var jn=R(Ne=>{"use strict";var el;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=Ne.WEB_INSTRUMENTATION_DEFAULT_SOURCE=Ne.TIME_SINCE_ENQUEUED=Ne.ENQUEUED_TIME=Ne.MessageBusDestination=Ne.MicrosoftEventHub=Ne.AzNamespace=Ne.HttpRequestCookieNames=Ne.StatsbeatNetworkCategory=Ne.StatsbeatFeatureType=Ne.StatsbeatInstrumentation=Ne.StatsbeatFeature=Ne.StatsbeatCounter=Ne.StatsbeatAttach=Ne.StatsbeatResourceProvider=Ne.StatsbeatTelemetryName=Ne.HeartBeatMetricName=Ne.DependencyTypeName=Ne.TelemetryTypeStringToQuickPulseDocumentType=Ne.TelemetryTypeStringToQuickPulseType=Ne.QuickPulseType=Ne.QuickPulseDocumentType=Ne.PerformanceToQuickPulseCounter=Ne.MetricId=Ne.PerformanceCounter=Ne.QuickPulseCounter=Ne.DEFAULT_LIVEMETRICS_HOST=Ne.DEFAULT_LIVEMETRICS_ENDPOINT=Ne.DEFAULT_BREEZE_ENDPOINT=Ne.APPLICATION_INSIGHTS_SDK_VERSION=void 0;Ne.APPLICATION_INSIGHTS_SDK_VERSION="2.9.1";Ne.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com";Ne.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com";Ne.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var Ss;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(Ss=Ne.QuickPulseCounter||(Ne.QuickPulseCounter={}));var G4;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(G4=Ne.PerformanceCounter||(Ne.PerformanceCounter={}));var Cze;(function(t){t.REQUESTS_DURATION="requests/duration",t.DEPENDENCIES_DURATION="dependencies/duration",t.EXCEPTIONS_COUNT="exceptions/count",t.TRACES_COUNT="traces/count"})(Cze=Ne.MetricId||(Ne.MetricId={}));Ne.PerformanceToQuickPulseCounter=(el={},el[G4.PROCESSOR_TIME]=Ss.PROCESSOR_TIME,el[G4.REQUEST_RATE]=Ss.REQUEST_RATE,el[G4.REQUEST_DURATION]=Ss.REQUEST_DURATION,el[Ss.COMMITTED_BYTES]=Ss.COMMITTED_BYTES,el[Ss.REQUEST_FAILURE_RATE]=Ss.REQUEST_FAILURE_RATE,el[Ss.DEPENDENCY_RATE]=Ss.DEPENDENCY_RATE,el[Ss.DEPENDENCY_FAILURE_RATE]=Ss.DEPENDENCY_FAILURE_RATE,el[Ss.DEPENDENCY_DURATION]=Ss.DEPENDENCY_DURATION,el[Ss.EXCEPTION_RATE]=Ss.EXCEPTION_RATE,el);Ne.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"};Ne.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"};Ne.TelemetryTypeStringToQuickPulseType={EventData:Ne.QuickPulseType.Event,ExceptionData:Ne.QuickPulseType.Exception,MessageData:Ne.QuickPulseType.Trace,MetricData:Ne.QuickPulseType.Metric,RequestData:Ne.QuickPulseType.Request,RemoteDependencyData:Ne.QuickPulseType.Dependency,AvailabilityData:Ne.QuickPulseType.Availability,PageViewData:Ne.QuickPulseType.PageView};Ne.TelemetryTypeStringToQuickPulseDocumentType={EventData:Ne.QuickPulseDocumentType.Event,ExceptionData:Ne.QuickPulseDocumentType.Exception,MessageData:Ne.QuickPulseDocumentType.Trace,MetricData:Ne.QuickPulseDocumentType.Metric,RequestData:Ne.QuickPulseDocumentType.Request,RemoteDependencyData:Ne.QuickPulseDocumentType.Dependency,AvailabilityData:Ne.QuickPulseDocumentType.Availability,PageViewData:Ne.QuickPulseDocumentType.PageView};Ne.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"};Ne.HeartBeatMetricName="HeartbeatState";Ne.StatsbeatTelemetryName="Statsbeat";Ne.StatsbeatResourceProvider={appsvc:"appsvc",aks:"aks",functions:"functions",vm:"vm",unknown:"unknown"};Ne.StatsbeatAttach={codeless:"codeless",sdk:"sdk"};Ne.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"};var Ize;(function(t){t[t.NONE=0]="NONE",t[t.DISK_RETRY=1]="DISK_RETRY",t[t.AAD_HANDLING=2]="AAD_HANDLING",t[t.WEB_SNIPPET=4]="WEB_SNIPPET"})(Ize=Ne.StatsbeatFeature||(Ne.StatsbeatFeature={}));var wze;(function(t){t[t.NONE=0]="NONE",t[t.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",t[t.MONGODB=2]="MONGODB",t[t.MYSQL=4]="MYSQL",t[t.REDIS=8]="REDIS",t[t.POSTGRES=16]="POSTGRES",t[t.BUNYAN=32]="BUNYAN",t[t.WINSTON=64]="WINSTON",t[t.CONSOLE=128]="CONSOLE"})(wze=Ne.StatsbeatInstrumentation||(Ne.StatsbeatInstrumentation={}));var Aze;(function(t){t[t.Feature=0]="Feature",t[t.Instrumentation=1]="Instrumentation"})(Aze=Ne.StatsbeatFeatureType||(Ne.StatsbeatFeatureType={}));var Rze;(function(t){t[t.Breeze=0]="Breeze",t[t.Quickpulse=1]="Quickpulse"})(Rze=Ne.StatsbeatNetworkCategory||(Ne.StatsbeatNetworkCategory={}));var Pze;(function(t){t.SESSION="ai_session",t.USER="ai_user",t.AUTH_USER="ai_authUser"})(Pze=Ne.HttpRequestCookieNames||(Ne.HttpRequestCookieNames={}));Ne.AzNamespace="az.namespace";Ne.MicrosoftEventHub="Microsoft.EventHub";Ne.MessageBusDestination="message_bus.destination";Ne.ENQUEUED_TIME="enqueuedTime";Ne.TIME_SINCE_ENQUEUED="timeSinceEnqueued";Ne.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai";Ne.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"});var Vj=R((jj,Jge)=>{"use strict";var Nze=jj&&jj.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),j4=require("url"),Dze=Ts(),Hj=Wo(),sc=ex(),kze=qj(),Lh=r_(),Lze=Sj(),Gj=q4(),Oze=bn(),V4=jn(),Mze=function(t){Nze(e,t);function e(r,n){var i=t.call(this)||this;return r&&(i.method=r.method,i.url=i._getAbsoluteUrl(r),i.startTime=+new Date,i.socketRemoteAddress=r.socket&&r.socket.remoteAddress,i.parseHeaders(r,n),r.connection&&(i.connectionRemoteAddress=r.connection.remoteAddress,i.legacySocketRemoteAddress=r.connection.socket&&r.connection.socket.remoteAddress)),i}return e.prototype.onError=function(r,n){this._setStatus(void 0,r),n&&(this.duration=n)},e.prototype.onResponse=function(r,n){this._setStatus(r.statusCode,void 0),n&&(this.duration=n)},e.prototype.getRequestTelemetry=function(r){var n=this.method;try{n+=" "+new j4.URL(this.url).pathname}catch{}var i={id:this.requestId,name:n,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(r&&r.time?i.time=r.time:this.startTime&&(i.time=new Date(this.startTime)),r){for(var o in r)i[o]||(i[o]=r[o]);if(r.properties)for(var o in r.properties)i.properties[o]=r.properties[o]}return i},e.prototype.getRequestTags=function(r){var n={};for(var i in r)n[i]=r[i];return n[e.keys.locationIp]=r[e.keys.locationIp]||this._getIp(),n[e.keys.sessionId]=r[e.keys.sessionId]||this._getId(V4.HttpRequestCookieNames.SESSION),n[e.keys.userId]=r[e.keys.userId]||this._getId(V4.HttpRequestCookieNames.USER),n[e.keys.userAuthUserId]=r[e.keys.userAuthUserId]||this._getId(V4.HttpRequestCookieNames.AUTH_USER),n[e.keys.operationName]=this.getOperationName(r),n[e.keys.operationParentId]=this.getOperationParentId(r),n[e.keys.operationId]=this.getOperationId(r),n},e.prototype.getOperationId=function(r){return r[e.keys.operationId]||this.operationId},e.prototype.getOperationParentId=function(r){return r[e.keys.operationParentId]||this.parentId||this.getOperationId(r)},e.prototype.getOperationName=function(r){if(r[e.keys.operationName])return r[e.keys.operationName];var n="";try{n=new j4.URL(this.url).pathname}catch{}var i=this.method;return n&&(i+=" "+n),i},e.prototype.getRequestId=function(){return this.requestId},e.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},e.prototype.getTraceparent=function(){return this.traceparent},e.prototype.getTracestate=function(){return this.tracestate},e.prototype.getLegacyRootId=function(){return this.legacyRootId},e.prototype._getAbsoluteUrl=function(r){if(!r.headers)return r.url;var n=r.connection?r.connection.encrypted:null,i=n||r.headers["x-forwarded-proto"]=="https"?"https":"http",o=i+"://"+r.headers.host+"/",s="",a="";try{var u=new j4.URL(r.url,o);s=u.pathname,a=u.search}catch{}var c=j4.format({protocol:i,host:r.headers.host,pathname:s,search:a});return c},e.prototype._getIp=function(){var r=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,n=function(o){var s=r.exec(o);if(s)return s[0]},i=n(this.rawHeaders["x-forwarded-for"])||n(this.rawHeaders["x-client-ip"])||n(this.rawHeaders["x-real-ip"])||n(this.connectionRemoteAddress)||n(this.socketRemoteAddress)||n(this.legacySocketRemoteAddress);return!i&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(i="127.0.0.1"),i},e.prototype._getId=function(r){var n=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"";if(r===V4.HttpRequestCookieNames.AUTH_USER)try{n=decodeURI(n)}catch(o){n="",Oze.warn("Could not decode the auth cookie with error: ",Hj.dumpObj(o))}var i=e.parseId(Hj.getCookie(r,n));return i},e.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},e.prototype.parseHeaders=function(r,n){if(this.rawHeaders=r.headers||r.rawHeaders,this.userAgent=r.headers&&r.headers["user-agent"],this.sourceCorrelationId=Hj.getCorrelationContextTarget(r,sc.requestContextSourceKey),r.headers){var i=r.headers[sc.traceStateHeader]?r.headers[sc.traceStateHeader].toString():null,o=r.headers[sc.traceparentHeader]?r.headers[sc.traceparentHeader].toString():null,s=r.headers[sc.requestIdHeader]?r.headers[sc.requestIdHeader].toString():null,a=r.headers[sc.parentIdHeader]?r.headers[sc.parentIdHeader].toString():null,u=r.headers[sc.rootIdHeader]?r.headers[sc.rootIdHeader].toString():null;this.correlationContextHeader=r.headers[sc.correlationContextHeader]?r.headers[sc.correlationContextHeader].toString():null,Lh.w3cEnabled&&(o||i)?(this.traceparent=new Gj(o?o.toString():null),this.tracestate=o&&i&&new Lze(i?i.toString():null),this.setBackCompatFromThisTraceContext()):s?Lh.w3cEnabled?(this.traceparent=new Gj(null,s),this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=Lh.generateRequestId(this.parentId),this.operationId=Lh.getRootId(this.requestId)):Lh.w3cEnabled?(this.traceparent=new Gj,this.traceparent.parentId=a,this.traceparent.legacyRootId=u||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=Lh.generateRequestId(u||this.parentId),this.correlationContextHeader=null,this.operationId=Lh.getRootId(this.requestId)),n&&(this.requestId=n,this.operationId=Lh.getRootId(this.requestId))}},e.parseId=function(r){var n=r.split("|");return n.length>0?n[0]:""},e.keys=new Dze.ContextTagKeys,e}(kze);Jge.exports=Mze});var h0e=R((Ct,m0e)=>{Ct=m0e.exports=ar;var Ur;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Ur=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Ur=function(){};Ct.SEMVER_SPEC_VERSION="2.0.0";var HI=256,z4=Number.MAX_SAFE_INTEGER||9007199254740991,zj=16,Fze=HI-6,GI=Ct.re=[],sn=Ct.safeRe=[],Te=Ct.src=[],rr=0,Xj="[a-zA-Z0-9-]",Yj=[["\\s",1],["\\d",HI],[Xj,Fze]];function Q4(t){for(var e=0;e<Yj.length;e++){var r=Yj[e][0],n=Yj[e][1];t=t.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return t}var nx=rr++;Te[nx]="0|[1-9]\\d*";var ix=rr++;Te[ix]="\\d+";var Qj=rr++;Te[Qj]="\\d*[a-zA-Z-]"+Xj+"*";var e0e=rr++;Te[e0e]="("+Te[nx]+")\\.("+Te[nx]+")\\.("+Te[nx]+")";var t0e=rr++;Te[t0e]="("+Te[ix]+")\\.("+Te[ix]+")\\.("+Te[ix]+")";var $j=rr++;Te[$j]="(?:"+Te[nx]+"|"+Te[Qj]+")";var Wj=rr++;Te[Wj]="(?:"+Te[ix]+"|"+Te[Qj]+")";var Jj=rr++;Te[Jj]="(?:-("+Te[$j]+"(?:\\."+Te[$j]+")*))";var Zj=rr++;Te[Zj]="(?:-?("+Te[Wj]+"(?:\\."+Te[Wj]+")*))";var Kj=rr++;Te[Kj]=Xj+"+";var VI=rr++;Te[VI]="(?:\\+("+Te[Kj]+"(?:\\."+Te[Kj]+")*))";var eV=rr++,r0e="v?"+Te[e0e]+Te[Jj]+"?"+Te[VI]+"?";Te[eV]="^"+r0e+"$";var tV="[v=\\s]*"+Te[t0e]+Te[Zj]+"?"+Te[VI]+"?",rV=rr++;Te[rV]="^"+tV+"$";var ux=rr++;Te[ux]="((?:<|>)?=?)";var Y4=rr++;Te[Y4]=Te[ix]+"|x|X|\\*";var $4=rr++;Te[$4]=Te[nx]+"|x|X|\\*";var i_=rr++;Te[i_]="[v=\\s]*("+Te[$4]+")(?:\\.("+Te[$4]+")(?:\\.("+Te[$4]+")(?:"+Te[Jj]+")?"+Te[VI]+"?)?)?";var sx=rr++;Te[sx]="[v=\\s]*("+Te[Y4]+")(?:\\.("+Te[Y4]+")(?:\\.("+Te[Y4]+")(?:"+Te[Zj]+")?"+Te[VI]+"?)?)?";var n0e=rr++;Te[n0e]="^"+Te[ux]+"\\s*"+Te[i_]+"$";var i0e=rr++;Te[i0e]="^"+Te[ux]+"\\s*"+Te[sx]+"$";var o0e=rr++;Te[o0e]="(?:^|[^\\d])(\\d{1,"+zj+"})(?:\\.(\\d{1,"+zj+"}))?(?:\\.(\\d{1,"+zj+"}))?(?:$|[^\\d])";var J4=rr++;Te[J4]="(?:~>?)";var ax=rr++;Te[ax]="(\\s*)"+Te[J4]+"\\s+";GI[ax]=new RegExp(Te[ax],"g");sn[ax]=new RegExp(Q4(Te[ax]),"g");var Uze="$1~",s0e=rr++;Te[s0e]="^"+Te[J4]+Te[i_]+"$";var a0e=rr++;Te[a0e]="^"+Te[J4]+Te[sx]+"$";var Z4=rr++;Te[Z4]="(?:\\^)";var cx=rr++;Te[cx]="(\\s*)"+Te[Z4]+"\\s+";GI[cx]=new RegExp(Te[cx],"g");sn[cx]=new RegExp(Q4(Te[cx]),"g");var Bze="$1^",c0e=rr++;Te[c0e]="^"+Te[Z4]+Te[i_]+"$";var u0e=rr++;Te[u0e]="^"+Te[Z4]+Te[sx]+"$";var nV=rr++;Te[nV]="^"+Te[ux]+"\\s*("+tV+")$|^$";var iV=rr++;Te[iV]="^"+Te[ux]+"\\s*("+r0e+")$|^$";var o_=rr++;Te[o_]="(\\s*)"+Te[ux]+"\\s*("+tV+"|"+Te[i_]+")";GI[o_]=new RegExp(Te[o_],"g");sn[o_]=new RegExp(Q4(Te[o_]),"g");var qze="$1$2$3",l0e=rr++;Te[l0e]="^\\s*("+Te[i_]+")\\s+-\\s+("+Te[i_]+")\\s*$";var f0e=rr++;Te[f0e]="^\\s*("+Te[sx]+")\\s+-\\s+("+Te[sx]+")\\s*$";var p0e=rr++;Te[p0e]="(<|>)?=?\\s*\\*";for(yf=0;yf<rr;yf++)Ur(yf,Te[yf]),GI[yf]||(GI[yf]=new RegExp(Te[yf]),sn[yf]=new RegExp(Q4(Te[yf])));var yf;Ct.parse=s_;function s_(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof ar)return t;if(typeof t!="string"||t.length>HI)return null;var r=e.loose?sn[rV]:sn[eV];if(!r.test(t))return null;try{return new ar(t,e)}catch{return null}}Ct.valid=Hze;function Hze(t,e){var r=s_(t,e);return r?r.version:null}Ct.clean=Gze;function Gze(t,e){var r=s_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}Ct.SemVer=ar;function ar(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof ar){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>HI)throw new TypeError("version is longer than "+HI+" characters");if(!(this instanceof ar))return new ar(t,e);Ur("SemVer",t,e),this.options=e,this.loose=!!e.loose;var r=t.trim().match(e.loose?sn[rV]:sn[eV]);if(!r)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>z4||this.major<0)throw new TypeError("Invalid major version");if(this.minor>z4||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>z4||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<z4)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}ar.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ar.prototype.toString=function(){return this.version};ar.prototype.compare=function(t){return Ur("SemVer.compare",this.version,this.options,t),t instanceof ar||(t=new ar(t,this.options)),this.compareMain(t)||this.comparePre(t)};ar.prototype.compareMain=function(t){return t instanceof ar||(t=new ar(t,this.options)),ox(this.major,t.major)||ox(this.minor,t.minor)||ox(this.patch,t.patch)};ar.prototype.comparePre=function(t){if(t instanceof ar||(t=new ar(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],n=t.prerelease[e];if(Ur("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return ox(r,n)}while(++e)};ar.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Ct.inc=jze;function jze(t,e,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new ar(t,r).inc(e,n).version}catch{return null}}Ct.diff=Vze;function Vze(t,e){if(oV(t,e))return null;var r=s_(t),n=s_(e),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if((s==="major"||s==="minor"||s==="patch")&&r[s]!==n[s])return i+s;return o}Ct.compareIdentifiers=ox;var Zge=/^[0-9]+$/;function ox(t,e){var r=Zge.test(t),n=Zge.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1}Ct.rcompareIdentifiers=zze;function zze(t,e){return ox(e,t)}Ct.major=Yze;function Yze(t,e){return new ar(t,e).major}Ct.minor=$ze;function $ze(t,e){return new ar(t,e).minor}Ct.patch=Wze;function Wze(t,e){return new ar(t,e).patch}Ct.compare=cd;function cd(t,e,r){return new ar(t,r).compare(new ar(e,r))}Ct.compareLoose=Kze;function Kze(t,e){return cd(t,e,!0)}Ct.rcompare=Xze;function Xze(t,e,r){return cd(e,t,r)}Ct.sort=Qze;function Qze(t,e){return t.sort(function(r,n){return Ct.compare(r,n,e)})}Ct.rsort=Jze;function Jze(t,e){return t.sort(function(r,n){return Ct.rcompare(r,n,e)})}Ct.gt=jI;function jI(t,e,r){return cd(t,e,r)>0}Ct.lt=W4;function W4(t,e,r){return cd(t,e,r)<0}Ct.eq=oV;function oV(t,e,r){return cd(t,e,r)===0}Ct.neq=d0e;function d0e(t,e,r){return cd(t,e,r)!==0}Ct.gte=sV;function sV(t,e,r){return cd(t,e,r)>=0}Ct.lte=aV;function aV(t,e,r){return cd(t,e,r)<=0}Ct.cmp=K4;function K4(t,e,r,n){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return oV(t,r,n);case"!=":return d0e(t,r,n);case">":return jI(t,r,n);case">=":return sV(t,r,n);case"<":return W4(t,r,n);case"<=":return aV(t,r,n);default:throw new TypeError("Invalid operator: "+e)}}Ct.Comparator=Kc;function Kc(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Kc){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof Kc))return new Kc(t,e);t=t.trim().split(/\s+/).join(" "),Ur("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===zI?this.value="":this.value=this.operator+this.semver.version,Ur("comp",this)}var zI={};Kc.prototype.parse=function(t){var e=this.options.loose?sn[nV]:sn[iV],r=t.match(e);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new ar(r[2],this.options.loose):this.semver=zI};Kc.prototype.toString=function(){return this.value};Kc.prototype.test=function(t){return Ur("Comparator.test",t,this.options.loose),this.semver===zI?!0:(typeof t=="string"&&(t=new ar(t,this.options)),K4(t,this.operator,this.semver,this.options))};Kc.prototype.intersects=function(t,e){if(!(t instanceof Kc))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var r;if(this.operator==="")return r=new Vn(t.value,e),X4(this.value,r,e);if(t.operator==="")return r=new Vn(this.value,e),X4(t.semver,r,e);var n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=K4(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=K4(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||o&&s||a||u};Ct.Range=Vn;function Vn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Vn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Vn(t.raw,e);if(t instanceof Kc)return new Vn(t.value,e);if(!(this instanceof Vn))return new Vn(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Vn.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Vn.prototype.toString=function(){return this.range};Vn.prototype.parseRange=function(t){var e=this.options.loose,r=e?sn[f0e]:sn[l0e];t=t.replace(r,cYe),Ur("hyphen replace",t),t=t.replace(sn[o_],qze),Ur("comparator trim",t,sn[o_]),t=t.replace(sn[ax],Uze),t=t.replace(sn[cx],Bze);var n=e?sn[nV]:sn[iV],i=t.split(" ").map(function(o){return eYe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new Kc(o,this.options)},this),i};Vn.prototype.intersects=function(t,e){if(!(t instanceof Vn))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(n){return t.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};Ct.toComparators=Zze;function Zze(t,e){return new Vn(t,e).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function eYe(t,e){return Ur("comp",t,e),t=nYe(t,e),Ur("caret",t),t=tYe(t,e),Ur("tildes",t),t=oYe(t,e),Ur("xrange",t),t=aYe(t,e),Ur("stars",t),t}function Xs(t){return!t||t.toLowerCase()==="x"||t==="*"}function tYe(t,e){return t.trim().split(/\s+/).map(function(r){return rYe(r,e)}).join(" ")}function rYe(t,e){var r=e.loose?sn[a0e]:sn[s0e];return t.replace(r,function(n,i,o,s,a){Ur("tilde",t,n,i,o,s,a);var u;return Xs(i)?u="":Xs(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Xs(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(Ur("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",Ur("tilde return",u),u})}function nYe(t,e){return t.trim().split(/\s+/).map(function(r){return iYe(r,e)}).join(" ")}function iYe(t,e){Ur("caret",t,e);var r=e.loose?sn[u0e]:sn[c0e];return t.replace(r,function(n,i,o,s,a){Ur("caret",t,n,i,o,s,a);var u;return Xs(i)?u="":Xs(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Xs(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(Ur("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(Ur("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),Ur("caret return",u),u})}function oYe(t,e){return Ur("replaceXRanges",t,e),t.split(/\s+/).map(function(r){return sYe(r,e)}).join(" ")}function sYe(t,e){t=t.trim();var r=e.loose?sn[i0e]:sn[n0e];return t.replace(r,function(n,i,o,s,a,u){Ur("xRange",t,n,i,o,s,a,u);var c=Xs(o),l=c||Xs(s),f=l||Xs(a),p=f;return i==="="&&p&&(i=""),c?i===">"||i==="<"?n="<0.0.0":n="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":f&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),Ur("xRange return",n),n})}function aYe(t,e){return Ur("replaceStars",t,e),t.trim().replace(sn[p0e],"")}function cYe(t,e,r,n,i,o,s,a,u,c,l,f,p){return Xs(r)?e="":Xs(n)?e=">="+r+".0.0":Xs(i)?e=">="+r+"."+n+".0":e=">="+e,Xs(u)?a="":Xs(c)?a="<"+(+u+1)+".0.0":Xs(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}Vn.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new ar(t,this.options));for(var e=0;e<this.set.length;e++)if(uYe(this.set[e],t,this.options))return!0;return!1};function uYe(t,e,r){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(n=0;n<t.length;n++)if(Ur(t[n].semver),t[n].semver!==zI&&t[n].semver.prerelease.length>0){var i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ct.satisfies=X4;function X4(t,e,r){try{e=new Vn(e,r)}catch{return!1}return e.test(t)}Ct.maxSatisfying=lYe;function lYe(t,e,r){var n=null,i=null;try{var o=new Vn(e,r)}catch{return null}return t.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new ar(n,r))}),n}Ct.minSatisfying=fYe;function fYe(t,e,r){var n=null,i=null;try{var o=new Vn(e,r)}catch{return null}return t.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new ar(n,r))}),n}Ct.minVersion=pYe;function pYe(t,e){t=new Vn(t,e);var r=new ar("0.0.0");if(t.test(r)||(r=new ar("0.0.0-0"),t.test(r)))return r;r=null;for(var n=0;n<t.set.length;++n){var i=t.set[n];i.forEach(function(o){var s=new ar(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!r||jI(r,s))&&(r=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return r&&t.test(r)?r:null}Ct.validRange=dYe;function dYe(t,e){try{return new Vn(t,e).range||"*"}catch{return null}}Ct.ltr=mYe;function mYe(t,e,r){return cV(t,e,"<",r)}Ct.gtr=hYe;function hYe(t,e,r){return cV(t,e,">",r)}Ct.outside=cV;function cV(t,e,r,n){t=new ar(t,n),e=new Vn(e,n);var i,o,s,a,u;switch(r){case">":i=jI,o=aV,s=W4,a=">",u=">=";break;case"<":i=W4,o=sV,s=jI,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(X4(t,e,n))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,p=null;if(l.forEach(function(m){m.semver===zI&&(m=new Kc(">=0.0.0")),f=f||m,p=p||m,i(m.semver,f.semver,n)?f=m:s(m.semver,p.semver,n)&&(p=m)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&o(t,p.semver))return!1;if(p.operator===u&&s(t,p.semver))return!1}return!0}Ct.prerelease=gYe;function gYe(t,e){var r=s_(t,e);return r&&r.prerelease.length?r.prerelease:null}Ct.intersects=vYe;function vYe(t,e,r){return t=new Vn(t,r),e=new Vn(e,r),t.intersects(e)}Ct.coerce=_Ye;function _Ye(t){if(t instanceof ar)return t;if(typeof t!="string")return null;var e=t.match(sn[o0e]);return e==null?null:s_(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var eL=R((gzt,_0e)=>{"use strict";function uV(t){return typeof t=="function"}var Qs=console.error.bind(console);function YI(t,e,r){var n=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}function $I(t){t&&t.logger&&(uV(t.logger)?Qs=t.logger:Qs("new logger isn't a function, not replacing"))}function g0e(t,e,r){if(!t||!t[e]){Qs("no original function "+e+" to wrap");return}if(!r){Qs("no wrapper function"),Qs(new Error().stack);return}if(!uV(t[e])||!uV(r)){Qs("original object and wrapper must be functions");return}var n=t[e],i=r(n,e);return YI(i,"__original",n),YI(i,"__unwrap",function(){t[e]===i&&YI(t,e,n)}),YI(i,"__wrapped",!0),YI(t,e,i),i}function yYe(t,e,r){if(t)Array.isArray(t)||(t=[t]);else{Qs("must provide one or more modules to patch"),Qs(new Error().stack);return}if(!(e&&Array.isArray(e))){Qs("must provide one or more functions to wrap on modules");return}t.forEach(function(n){e.forEach(function(i){g0e(n,i,r)})})}function v0e(t,e){if(!t||!t[e]){Qs("no function to unwrap."),Qs(new Error().stack);return}if(!t[e].__unwrap)Qs("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function bYe(t,e){if(t)Array.isArray(t)||(t=[t]);else{Qs("must provide one or more modules to patch"),Qs(new Error().stack);return}if(!(e&&Array.isArray(e))){Qs("must provide one or more functions to unwrap on modules");return}t.forEach(function(r){e.forEach(function(n){v0e(r,n)})})}$I.wrap=g0e;$I.massWrap=yYe;$I.unwrap=v0e;$I.massUnwrap=bYe;_0e.exports=$I});var nL=R((vzt,E0e)=>{"use strict";var b0e=eL(),lx=b0e.wrap,tL=b0e.unwrap,ud="wrap@before";function rL(t,e,r){var n=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}function xYe(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n],o=t[ud];if(typeof o=="function")o(i);else if(Array.isArray(o))for(var s=o.length,a=0;a<s;a++)o[a](i)}}function x0e(t,e){var r;return r=t._events&&t._events[e],Array.isArray(r)||(r?r=[r]:r=[]),r}function EYe(t,e,r){var n=x0e(t,e),i=n.filter(function(o){return r.indexOf(o)===-1});i.length>0&&xYe(t,i)}function y0e(t,e){if(t){var r=t;if(typeof t=="function")r=e(t);else if(Array.isArray(t)){r=[];for(var n=0;n<t.length;n++)r[n]=e(t[n])}return r}}E0e.exports=function(e,r,n){if(!e||!e.on||!e.addListener||!e.removeListener||!e.emit)throw new Error("can only wrap real EEs");if(!r)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function i(s){return function(u,c){var l=x0e(this,u).slice();try{var f=s.call(this,u,c);return EYe(this,u,l),f}finally{this.on.__wrapped||lx(this,"on",i),this.addListener.__wrapped||lx(this,"addListener",i)}}}function o(s){return function(u){if(!this._events||!this._events[u])return s.apply(this,arguments);var c=this._events[u];function l(f){return function(){this._events[u]=c;try{return f.apply(this,arguments)}finally{c=this._events[u],this._events[u]=y0e(c,n)}}}lx(this,"removeListener",l);try{return this._events[u]=y0e(c,n),s.apply(this,arguments)}finally{tL(this,"removeListener"),this._events[u]=c}}}e[ud]?typeof e[ud]=="function"?rL(e,ud,[e[ud],r]):Array.isArray(e[ud])&&e[ud].push(r):rL(e,ud,r),e.__wrapped||(lx(e,"addListener",i),lx(e,"on",i),lx(e,"emit",o),rL(e,"__unwrap",function(){tL(e,"addListener"),tL(e,"on"),tL(e,"emit"),delete e[ud],delete e.__wrapped}),rL(e,"__wrapped",!0))}});var I0e=R((_zt,C0e)=>{"use strict";var Pr=require("util"),ld=require("assert"),TYe=nL(),En=require("async_hooks"),WI="cls@contexts",KI="error@context",zn=process.env.DEBUG_CLS_HOOKED,Rr=-1;C0e.exports={getNamespace:T0e,createNamespace:SYe,destroyNamespace:S0e,reset:CYe,ERROR_SYMBOL:KI};function Xc(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}Xc.prototype.set=function(e,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=r,zn){let n=" ".repeat(this._indent<0?0:this._indent);Nn(n+"CONTEXT-SET KEY:"+e+"="+r+" in ns:"+this.name+" currentUid:"+Rr+" active:"+Pr.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return r};Xc.prototype.get=function(e){if(!this.active){if(zn){let r=En.currentId(),n=En.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Nn(`${i}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${Rr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length}`)}return}if(zn){let r=En.executionAsyncId(),n=En.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Nn(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+Rr+" active:"+Pr.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),Nn(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${Rr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} active:${Pr.inspect(this.active)}`)}return this.active[e]};Xc.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=Rr,zn){let r=En.executionAsyncId(),n=En.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Nn(`${i}CONTEXT-CREATED Context: (${this.name}) currentUid:${Rr} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} context:${Pr.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e};Xc.prototype.run=function(e){let r=this.createContext();this.enter(r);try{if(zn){let n=En.triggerAsyncId(),i=En.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Nn(`${o}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${Rr} triggerId:${n} asyncHooksCurrentId:${i} len:${this._set.length} context:${Pr.inspect(r)}`)}return e(r),r}catch(n){throw n&&(n[KI]=r),n}finally{if(zn){let n=En.triggerAsyncId(),i=En.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Nn(`${o}CONTEXT-RUN END: (${this.name}) currentUid:${Rr} triggerId:${n} asyncHooksCurrentId:${i} len:${this._set.length} ${Pr.inspect(r)}`)}this.exit(r)}};Xc.prototype.runAndReturn=function(e){let r;return this.run(function(n){r=e(n)}),r};Xc.prototype.runPromise=function(e){let r=this.createContext();this.enter(r);let n=e(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return zn&&Nn("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+Rr+" len:"+this._set.length+" "+Pr.inspect(r)),n.then(i=>(zn&&Nn("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+Rr+" len:"+this._set.length+" "+Pr.inspect(r)),this.exit(r),i)).catch(i=>{throw i[KI]=r,zn&&Nn("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+Rr+" len:"+this._set.length+" "+Pr.inspect(r)),this.exit(r),i})};Xc.prototype.bind=function(e,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return function(){n.enter(r);try{return e.apply(this,arguments)}catch(o){throw o&&(o[KI]=r),o}finally{n.exit(r)}}};Xc.prototype.enter=function(e){if(ld.ok(e,"context must be provided for entering"),zn){let r=En.executionAsyncId(),n=En.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Nn(`${i}CONTEXT-ENTER: (${this.name}) currentUid:${Rr} triggerId:${n} asyncHooksCurrentId:${r} len:${this._set.length} ${Pr.inspect(e)}`)}this._set.push(this.active),this.active=e};Xc.prototype.exit=function(e){if(ld.ok(e,"context must be provided for exiting"),zn){let n=En.executionAsyncId(),i=En.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Nn(`${o}CONTEXT-EXIT: (${this.name}) currentUid:${Rr} triggerId:${i} asyncHooksCurrentId:${n} len:${this._set.length} ${Pr.inspect(e)}`)}if(this.active===e){ld.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(e);r<0?(zn&&Nn("??ERROR?? context exiting but not entered - ignoring: "+Pr.inspect(e)),ld.ok(r>=0,`context not currently entered; can't exit. 
`+Pr.inspect(this)+`
`+Pr.inspect(e))):(ld.ok(r,"can't remove top context"),this._set.splice(r,1))};Xc.prototype.bindEmitter=function(e){ld.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function i(s){s&&(s[WI]||(s[WI]=Object.create(null)),s[WI][n]={namespace:r,context:r.active})}function o(s){if(!(s&&s[WI]))return s;let a=s,u=s[WI];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}TYe(e,i,o)};Xc.prototype.fromException=function(e){return e[KI]};function T0e(t){return process.namespaces[t]}function SYe(t){ld.ok(t,"namespace must be given a name."),zn&&Nn(`NS-CREATING NAMESPACE (${t})`);let e=new Xc(t);return e.id=Rr,En.createHook({init(n,i,o,s){if(Rr=En.executionAsyncId(),e.active){if(e._contexts.set(n,e.active),zn){let a=" ".repeat(e._indent<0?0:e._indent);Nn(`${a}INIT [${i}] (${t}) asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(Rr===0){let a=En.triggerAsyncId(),u=e._contexts.get(a);if(u){if(e._contexts.set(n,u),zn){let c=" ".repeat(e._indent<0?0:e._indent);Nn(`${c}INIT USING CONTEXT FROM TRIGGERID [${i}] (${t}) asyncId:${n} currentUid:${Rr} triggerId:${a} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(zn){let c=" ".repeat(e._indent<0?0:e._indent);Nn(`${c}INIT MISSING CONTEXT [${i}] (${t}) asyncId:${n} currentUid:${Rr} triggerId:${a} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}if(zn&&i==="PROMISE"){Nn(Pr.inspect(s,{showHidden:!0}));let a=s.parentId,u=" ".repeat(e._indent<0?0:e._indent);Nn(`${u}INIT RESOURCE-PROMISE [${i}] (${t}) parentId:${a} asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}},before(n){Rr=En.executionAsyncId();let i;if(i=e._contexts.get(n)||e._contexts.get(Rr),i){if(zn){let o=En.triggerAsyncId(),s=" ".repeat(e._indent<0?0:e._indent);Nn(`${s}BEFORE (${t}) asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(i)}`),e._indent+=2}e.enter(i)}else if(zn){let o=En.triggerAsyncId(),s=" ".repeat(e._indent<0?0:e._indent);Nn(`${s}BEFORE MISSING CONTEXT (${t}) asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${Pr.inspect(e._contexts,{showHidden:!0,depth:2,colors:!0})}`),e._indent+=2}},after(n){Rr=En.executionAsyncId();let i;if(i=e._contexts.get(n)||e._contexts.get(Rr),i){if(zn){let o=En.triggerAsyncId();e._indent-=2;let s=" ".repeat(e._indent<0?0:e._indent);Nn(`${s}AFTER (${t}) asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(i)}`)}e.exit(i)}else if(zn){let o=En.triggerAsyncId();e._indent-=2;let s=" ".repeat(e._indent<0?0:e._indent);Nn(`${s}AFTER MISSING CONTEXT (${t}) asyncId:${n} currentUid:${Rr} triggerId:${o} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(i)}`)}},destroy(n){if(Rr=En.executionAsyncId(),zn){let i=En.triggerAsyncId(),o=" ".repeat(e._indent<0?0:e._indent);Nn(`${o}DESTROY (${t}) currentUid:${Rr} asyncId:${n} triggerId:${i} active:${Pr.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${Pr.inspect(e._contexts.get(Rr))}`)}e._contexts.delete(n)}}).enable(),process.namespaces[t]=e,e}function S0e(t){let e=T0e(t);ld.ok(e,`can't delete nonexistent namespace! "`+t+'"'),ld.ok(e.id,"don't assign to process.namespaces directly! "+Pr.inspect(e)),process.namespaces[t]=null}function CYe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){S0e(t)}),process.namespaces=Object.create(null)}process.namespaces={};function Nn(...t){zn&&process._rawDebug(`${Pr.format(...t)}`)}});var A0e=R((yzt,w0e)=>{"use strict";function IYe(){}w0e.exports=function(){let e=this._hooks,r=this._state,n=process.nextTick;process.nextTick=function(){if(!r.enabled)return n.apply(process,arguments);let i=new Array(arguments.length);for(let u=0;u<arguments.length;u++)i[u]=arguments[u];let o=i[0];if(typeof o!="function")throw new TypeError("callback is not a function");let s=new IYe,a=--r.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let u=!0;try{o.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(s,a,!0),e.destroy.call(null,a)})}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}});var P0e=R((bzt,R0e)=>{"use strict";function wYe(){}R0e.exports=function(){let e=this._hooks,r=this._state,n=global.Promise,i=n.prototype.then;n.prototype.then=u;function o(c,l,f,p){return typeof c!="function"?p?s(f):a(f):function(){e.pre.call(l,f);try{return c.apply(this,arguments)}finally{e.post.call(l,f,!1),e.destroy.call(null,f)}}}function s(c){return function(f){return e.destroy.call(null,c),f}}function a(c){return function(f){throw e.destroy.call(null,c),f}}function u(c,l){if(!r.enabled)return i.call(this,c,l);let f=new wYe,p=--r.counter;return e.init.call(f,p,0,null,null),i.call(this,o(c,f,p,!0),o(l,f,p,!1))}}});var D0e=R((xzt,N0e)=>{"use strict";var ac=require("timers");function AYe(){}function RYe(){}function PYe(){}var NYe=new Map,DYe=new Map,kYe=new Map,lV=null,fV=!1;N0e.exports=function(){pV(this._hooks,this._state,"setTimeout","clearTimeout",AYe,NYe,!0),pV(this._hooks,this._state,"setInterval","clearInterval",RYe,DYe,!1),pV(this._hooks,this._state,"setImmediate","clearImmediate",PYe,kYe,!0),global.setTimeout=ac.setTimeout,global.setInterval=ac.setInterval,global.setImmediate=ac.setImmediate,global.clearTimeout=ac.clearTimeout,global.clearInterval=ac.clearInterval,global.clearImmediate=ac.clearImmediate};function pV(t,e,r,n,i,o,s){let a=ac[r],u=ac[n];ac[r]=function(){if(!e.enabled)return a.apply(ac,arguments);let c=new Array(arguments.length);for(let d=0;d<arguments.length;d++)c[d]=arguments[d];let l=c[0];if(typeof l!="function")throw new TypeError('"callback" argument must be a function');let f=new i,p=--e.counter,m;return t.init.call(f,p,0,null,null),c[0]=function(){lV=m,t.pre.call(f,p);let d=!0;try{l.apply(this,arguments),d=!1}finally{d&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){t.post.call(f,p,!0),o.delete(m),t.destroy.call(null,p)})}t.post.call(f,p,!1),lV=null,(s||fV)&&(fV=!1,o.delete(m),t.destroy.call(null,p))},m=a.apply(ac,c),o.set(m,p),m},ac[n]=function(c){if(lV===c&&c!==null)fV=!0;else if(o.has(c)){let l=o.get(c);o.delete(c),t.destroy.call(null,l)}u.apply(ac,arguments)}}});var dV=R((Ezt,LYe)=>{LYe.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}});var O0e=R((Tzt,L0e)=>{"use strict";var QI=process.binding("async_wrap"),OYe=QI.Providers.TIMERWRAP,k0e={nextTick:A0e(),promise:P0e(),timers:D0e()},XI=new Set;function MYe(){this.enabled=!1,this.counter=0}function mV(){let t=this.initFns=[],e=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(i,o,s,a){if(o===OYe){XI.add(i);return}for(let u of t)u(i,this,o,s,a)},this.pre=function(i){if(!XI.has(i))for(let o of e)o(i,this)},this.post=function(i,o){if(!XI.has(i))for(let s of r)s(i,this,o)},this.destroy=function(i){if(XI.has(i)){XI.delete(i);return}for(let o of n)o(i)}}mV.prototype.add=function(t){t.init&&this.initFns.push(t.init),t.pre&&this.preFns.push(t.pre),t.post&&this.postFns.push(t.post),t.destroy&&this.destroyFns.push(t.destroy)};function iL(t,e){let r=t.indexOf(e);r!==-1&&t.splice(r,1)}mV.prototype.remove=function(t){t.init&&iL(this.initFns,t.init),t.pre&&iL(this.preFns,t.pre),t.post&&iL(this.postFns,t.post),t.destroy&&iL(this.destroyFns,t.destroy)};function JI(){this._state=new MYe,this._hooks=new mV,this.version=dV().version,this.providers=QI.Providers;for(let t of Object.keys(k0e))k0e[t].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),QI.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}L0e.exports=JI;JI.prototype.addHooks=function(t){this._hooks.add(t)};JI.prototype.removeHooks=function(t){this._hooks.remove(t)};JI.prototype.enable=function(){this._state.enabled=!0,QI.enable()};JI.prototype.disable=function(){this._state.enabled=!1,QI.disable()}});var hV=R((Szt,FYe)=>{FYe.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}});var F0e=R((Czt,M0e)=>{function UYe(t){try{return Error.prototype.toString.call(t)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}M0e.exports=function(e,r){var n=[];n.push(UYe(e));for(var i=0;i<r.length;i++){var o=r[i],s;try{s=o.toString()}catch(a){try{s="<error: "+a+">"}catch{s="<error>"}}n.push("    at "+s)}return n.join(`
`)}});var H0e=R((Izt,q0e)=>{var oL=F0e();function B0e(){this.extend=new ZI,this.filter=new ZI,this.format=new e2,this.version=hV().version}var vV=!1;B0e.prototype.callSite=function t(e){e||(e={}),vV=!0;var r={};Error.captureStackTrace(r,t);var n=r.stack;return vV=!1,n=n.slice(e.slice||0),e.extend&&(n=this.extend._modify(r,n)),e.filter&&(n=this.filter._modify(r,n)),n};var Oh=new B0e;function ZI(){this._modifiers=[]}ZI.prototype._modify=function(t,e){for(var r=0,n=this._modifiers.length;r<n;r++)e=this._modifiers[r](t,e);return e};ZI.prototype.attach=function(t){this._modifiers.push(t)};ZI.prototype.deattach=function(t){var e=this._modifiers.indexOf(t);return e===-1?!1:(this._modifiers.splice(e,1),!0)};function e2(){this._formater=oL,this._previous=void 0}e2.prototype.replace=function(t){t?this._formater=t:this.restore()};e2.prototype.restore=function(){this._formater=oL,this._previous=void 0};e2.prototype._backup=function(){this._previous=this._formater};e2.prototype._roolback=function(){this._previous===oL?this.replace(void 0):this.replace(this._previous),this._previous=void 0};Error.prepareStackTrace&&Oh.format.replace(Error.prepareStackTrace);var gV=!1;function U0e(t,e){if(vV)return e;if(gV)return oL(t,e);var r=e.concat();r=Oh.extend._modify(t,r),r=Oh.filter._modify(t,r),r=r.slice(0,Error.stackTraceLimit),Object.isExtensible(t)&&Object.getOwnPropertyDescriptor(t,"callSite")===void 0&&(t.callSite={original:e,mutated:r}),gV=!0;var n=Oh.format._formater(t,r);return gV=!1,n}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return U0e},set:function(t){t===U0e?Oh.format._roolback():(Oh.format._backup(),Oh.format.replace(t))}});function BYe(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:BYe,set:function(t){Object.defineProperty(this,"callSite",{value:t,writable:!0,configurable:!0})},configurable:!0});q0e.exports=Oh});var yV=R((wzt,_V)=>{if(global._stackChain)if(global._stackChain.version===hV().version)_V.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else _V.exports=global._stackChain=H0e()});var G0e=R((Azt,bV)=>{"use strict";var qYe=O0e();if(global._asyncHook)if(global._asyncHook.version===dV().version)bV.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else yV().filter.attach(function(e,r){return r.filter(function(n){let i=n.getFileName();return!(i&&i.slice(0,__dirname.length)===__dirname)})}),bV.exports=global._asyncHook=new qYe});var W0e=R((Rzt,$0e)=>{"use strict";var _i=require("util"),fd=require("assert"),HYe=nL(),fx=G0e(),t2="cls@contexts",r2="error@context",V0e=[];for(let t in fx.providers)V0e[fx.providers[t]]=t;var ri=process.env.DEBUG_CLS_HOOKED,Ui=-1;$0e.exports={getNamespace:z0e,createNamespace:GYe,destroyNamespace:Y0e,reset:jYe,ERROR_SYMBOL:r2};function Qc(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map}Qc.prototype.set=function(e,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return ri&&vi("    SETTING KEY:"+e+"="+r+" in ns:"+this.name+" uid:"+Ui+" active:"+_i.inspect(this.active,!0)),this.active[e]=r,r};Qc.prototype.get=function(e){if(!this.active){ri&&vi("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+Ui+" active:"+_i.inspect(this.active,!0));return}return ri&&vi("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+Ui+" active:"+_i.inspect(this.active,!0)),this.active[e]};Qc.prototype.createContext=function(){ri&&vi("   CREATING Context: "+this.name+" uid:"+Ui+" len:"+this._set.length+"  active:"+_i.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=Ui,ri&&vi("   CREATED Context: "+this.name+" uid:"+Ui+" len:"+this._set.length+"  context:"+_i.inspect(e,!0,2,!0)),e};Qc.prototype.run=function(e){let r=this.createContext();this.enter(r);try{return ri&&vi(" BEFORE RUN: "+this.name+" uid:"+Ui+" len:"+this._set.length+" "+_i.inspect(r)),e(r),r}catch(n){throw n&&(n[r2]=r),n}finally{ri&&vi(" AFTER RUN: "+this.name+" uid:"+Ui+" len:"+this._set.length+" "+_i.inspect(r)),this.exit(r)}};Qc.prototype.runAndReturn=function(e){var r;return this.run(function(n){r=e(n)}),r};Qc.prototype.runPromise=function(e){let r=this.createContext();this.enter(r);let n=e(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return ri&&vi(" BEFORE runPromise: "+this.name+" uid:"+Ui+" len:"+this._set.length+" "+_i.inspect(r)),n.then(i=>(ri&&vi(" AFTER runPromise: "+this.name+" uid:"+Ui+" len:"+this._set.length+" "+_i.inspect(r)),this.exit(r),i)).catch(i=>{throw i[r2]=r,ri&&vi(" AFTER runPromise: "+this.name+" uid:"+Ui+" len:"+this._set.length+" "+_i.inspect(r)),this.exit(r),i})};Qc.prototype.bind=function(e,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return function(){n.enter(r);try{return e.apply(this,arguments)}catch(o){throw o&&(o[r2]=r),o}finally{n.exit(r)}}};Qc.prototype.enter=function(e){fd.ok(e,"context must be provided for entering"),ri&&vi("  ENTER "+this.name+" uid:"+Ui+" len:"+this._set.length+" context: "+_i.inspect(e)),this._set.push(this.active),this.active=e};Qc.prototype.exit=function(e){if(fd.ok(e,"context must be provided for exiting"),ri&&vi("  EXIT "+this.name+" uid:"+Ui+" len:"+this._set.length+" context: "+_i.inspect(e)),this.active===e){fd.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(e);r<0?(ri&&vi("??ERROR?? context exiting but not entered - ignoring: "+_i.inspect(e)),fd.ok(r>=0,`context not currently entered; can't exit. 
`+_i.inspect(this)+`
`+_i.inspect(e))):(fd.ok(r,"can't remove top context"),this._set.splice(r,1))};Qc.prototype.bindEmitter=function(e){fd.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function i(s){s&&(s[t2]||(s[t2]=Object.create(null)),s[t2][n]={namespace:r,context:r.active})}function o(s){if(!(s&&s[t2]))return s;let a=s,u=s[t2];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}HYe(e,i,o)};Qc.prototype.fromException=function(e){return e[r2]};function z0e(t){return process.namespaces[t]}function GYe(t){fd.ok(t,"namespace must be given a name."),ri&&vi("CREATING NAMESPACE "+t);let e=new Qc(t);return e.id=Ui,fx.addHooks({init(r,n,i,o,s){Ui=r,o?(e._contexts.set(r,e._contexts.get(o)),ri&&vi("PARENTID: "+t+" uid:"+r+" parent:"+o+" provider:"+i)):e._contexts.set(Ui,e.active),ri&&vi("INIT "+t+" uid:"+r+" parent:"+o+" provider:"+V0e[i]+" active:"+_i.inspect(e.active,!0))},pre(r,n){Ui=r;let i=e._contexts.get(r);i?(ri&&vi(" PRE "+t+" uid:"+r+" handle:"+sL(n)+" context:"+_i.inspect(i)),e.enter(i)):ri&&vi(" PRE MISSING CONTEXT "+t+" uid:"+r+" handle:"+sL(n))},post(r,n){Ui=r;let i=e._contexts.get(r);i?(ri&&vi(" POST "+t+" uid:"+r+" handle:"+sL(n)+" context:"+_i.inspect(i)),e.exit(i)):ri&&vi(" POST MISSING CONTEXT "+t+" uid:"+r+" handle:"+sL(n))},destroy(r){Ui=r,ri&&vi("DESTROY "+t+" uid:"+r+" context:"+_i.inspect(e._contexts.get(Ui))+" active:"+_i.inspect(e.active,!0)),e._contexts.delete(r)}}),process.namespaces[t]=e,e}function Y0e(t){let e=z0e(t);fd.ok(e,`can't delete nonexistent namespace! "`+t+'"'),fd.ok(e.id,"don't assign to process.namespaces directly! "+_i.inspect(e)),process.namespaces[t]=null}function jYe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){Y0e(t)}),process.namespaces=Object.create(null)}process.namespaces={};fx._state&&!fx._state.enabled&&fx.enable();function vi(t){process.env.DEBUG&&process._rawDebug(t)}function sL(t){if(!t)return t;if(typeof t=="function")return t.name?t.name:(t.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(t.constructor&&t.constructor.name)return t.constructor.name}if(ri){xV=yV();for(j0e in xV.filter._modifiers)xV.filter.deattach(j0e)}var xV,j0e});var K0e=R((Pzt,EV)=>{"use strict";var VYe=h0e();process&&VYe.gte(process.versions.node,"8.0.0")?EV.exports=I0e():EV.exports=W0e()});var pve=R((It,fve)=>{It=fve.exports=cr;var Br;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Br=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Br=function(){};It.SEMVER_SPEC_VERSION="2.0.0";var n2=256,aL=Number.MAX_SAFE_INTEGER||9007199254740991,TV=16,zYe=n2-6,i2=It.re=[],an=It.safeRe=[],Se=It.src=[],nr=0,AV="[a-zA-Z0-9-]",SV=[["\\s",1],["\\d",n2],[AV,zYe]];function dL(t){for(var e=0;e<SV.length;e++){var r=SV[e][0],n=SV[e][1];t=t.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return t}var px=nr++;Se[px]="0|[1-9]\\d*";var dx=nr++;Se[dx]="\\d+";var RV=nr++;Se[RV]="\\d*[a-zA-Z-]"+AV+"*";var Q0e=nr++;Se[Q0e]="("+Se[px]+")\\.("+Se[px]+")\\.("+Se[px]+")";var J0e=nr++;Se[J0e]="("+Se[dx]+")\\.("+Se[dx]+")\\.("+Se[dx]+")";var CV=nr++;Se[CV]="(?:"+Se[px]+"|"+Se[RV]+")";var IV=nr++;Se[IV]="(?:"+Se[dx]+"|"+Se[RV]+")";var PV=nr++;Se[PV]="(?:-("+Se[CV]+"(?:\\."+Se[CV]+")*))";var NV=nr++;Se[NV]="(?:-?("+Se[IV]+"(?:\\."+Se[IV]+")*))";var wV=nr++;Se[wV]=AV+"+";var s2=nr++;Se[s2]="(?:\\+("+Se[wV]+"(?:\\."+Se[wV]+")*))";var DV=nr++,Z0e="v?"+Se[Q0e]+Se[PV]+"?"+Se[s2]+"?";Se[DV]="^"+Z0e+"$";var kV="[v=\\s]*"+Se[J0e]+Se[NV]+"?"+Se[s2]+"?",LV=nr++;Se[LV]="^"+kV+"$";var _x=nr++;Se[_x]="((?:<|>)?=?)";var cL=nr++;Se[cL]=Se[dx]+"|x|X|\\*";var uL=nr++;Se[uL]=Se[px]+"|x|X|\\*";var a_=nr++;Se[a_]="[v=\\s]*("+Se[uL]+")(?:\\.("+Se[uL]+")(?:\\.("+Se[uL]+")(?:"+Se[PV]+")?"+Se[s2]+"?)?)?";var hx=nr++;Se[hx]="[v=\\s]*("+Se[cL]+")(?:\\.("+Se[cL]+")(?:\\.("+Se[cL]+")(?:"+Se[NV]+")?"+Se[s2]+"?)?)?";var eve=nr++;Se[eve]="^"+Se[_x]+"\\s*"+Se[a_]+"$";var tve=nr++;Se[tve]="^"+Se[_x]+"\\s*"+Se[hx]+"$";var rve=nr++;Se[rve]="(?:^|[^\\d])(\\d{1,"+TV+"})(?:\\.(\\d{1,"+TV+"}))?(?:\\.(\\d{1,"+TV+"}))?(?:$|[^\\d])";var mL=nr++;Se[mL]="(?:~>?)";var gx=nr++;Se[gx]="(\\s*)"+Se[mL]+"\\s+";i2[gx]=new RegExp(Se[gx],"g");an[gx]=new RegExp(dL(Se[gx]),"g");var YYe="$1~",nve=nr++;Se[nve]="^"+Se[mL]+Se[a_]+"$";var ive=nr++;Se[ive]="^"+Se[mL]+Se[hx]+"$";var hL=nr++;Se[hL]="(?:\\^)";var vx=nr++;Se[vx]="(\\s*)"+Se[hL]+"\\s+";i2[vx]=new RegExp(Se[vx],"g");an[vx]=new RegExp(dL(Se[vx]),"g");var $Ye="$1^",ove=nr++;Se[ove]="^"+Se[hL]+Se[a_]+"$";var sve=nr++;Se[sve]="^"+Se[hL]+Se[hx]+"$";var OV=nr++;Se[OV]="^"+Se[_x]+"\\s*("+kV+")$|^$";var MV=nr++;Se[MV]="^"+Se[_x]+"\\s*("+Z0e+")$|^$";var c_=nr++;Se[c_]="(\\s*)"+Se[_x]+"\\s*("+kV+"|"+Se[a_]+")";i2[c_]=new RegExp(Se[c_],"g");an[c_]=new RegExp(dL(Se[c_]),"g");var WYe="$1$2$3",ave=nr++;Se[ave]="^\\s*("+Se[a_]+")\\s+-\\s+("+Se[a_]+")\\s*$";var cve=nr++;Se[cve]="^\\s*("+Se[hx]+")\\s+-\\s+("+Se[hx]+")\\s*$";var uve=nr++;Se[uve]="(<|>)?=?\\s*\\*";for(bf=0;bf<nr;bf++)Br(bf,Se[bf]),i2[bf]||(i2[bf]=new RegExp(Se[bf]),an[bf]=new RegExp(dL(Se[bf])));var bf;It.parse=u_;function u_(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof cr)return t;if(typeof t!="string"||t.length>n2)return null;var r=e.loose?an[LV]:an[DV];if(!r.test(t))return null;try{return new cr(t,e)}catch{return null}}It.valid=KYe;function KYe(t,e){var r=u_(t,e);return r?r.version:null}It.clean=XYe;function XYe(t,e){var r=u_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}It.SemVer=cr;function cr(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof cr){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>n2)throw new TypeError("version is longer than "+n2+" characters");if(!(this instanceof cr))return new cr(t,e);Br("SemVer",t,e),this.options=e,this.loose=!!e.loose;var r=t.trim().match(e.loose?an[LV]:an[DV]);if(!r)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>aL||this.major<0)throw new TypeError("Invalid major version");if(this.minor>aL||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>aL||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<aL)return i}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}cr.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};cr.prototype.toString=function(){return this.version};cr.prototype.compare=function(t){return Br("SemVer.compare",this.version,this.options,t),t instanceof cr||(t=new cr(t,this.options)),this.compareMain(t)||this.comparePre(t)};cr.prototype.compareMain=function(t){return t instanceof cr||(t=new cr(t,this.options)),mx(this.major,t.major)||mx(this.minor,t.minor)||mx(this.patch,t.patch)};cr.prototype.comparePre=function(t){if(t instanceof cr||(t=new cr(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],n=t.prerelease[e];if(Br("prerelease compare",e,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return mx(r,n)}while(++e)};cr.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};It.inc=QYe;function QYe(t,e,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new cr(t,r).inc(e,n).version}catch{return null}}It.diff=JYe;function JYe(t,e){if(FV(t,e))return null;var r=u_(t),n=u_(e),i="";if(r.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var s in r)if((s==="major"||s==="minor"||s==="patch")&&r[s]!==n[s])return i+s;return o}It.compareIdentifiers=mx;var X0e=/^[0-9]+$/;function mx(t,e){var r=X0e.test(t),n=X0e.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1}It.rcompareIdentifiers=ZYe;function ZYe(t,e){return mx(e,t)}It.major=e$e;function e$e(t,e){return new cr(t,e).major}It.minor=t$e;function t$e(t,e){return new cr(t,e).minor}It.patch=r$e;function r$e(t,e){return new cr(t,e).patch}It.compare=pd;function pd(t,e,r){return new cr(t,r).compare(new cr(e,r))}It.compareLoose=n$e;function n$e(t,e){return pd(t,e,!0)}It.rcompare=i$e;function i$e(t,e,r){return pd(e,t,r)}It.sort=o$e;function o$e(t,e){return t.sort(function(r,n){return It.compare(r,n,e)})}It.rsort=s$e;function s$e(t,e){return t.sort(function(r,n){return It.rcompare(r,n,e)})}It.gt=o2;function o2(t,e,r){return pd(t,e,r)>0}It.lt=lL;function lL(t,e,r){return pd(t,e,r)<0}It.eq=FV;function FV(t,e,r){return pd(t,e,r)===0}It.neq=lve;function lve(t,e,r){return pd(t,e,r)!==0}It.gte=UV;function UV(t,e,r){return pd(t,e,r)>=0}It.lte=BV;function BV(t,e,r){return pd(t,e,r)<=0}It.cmp=fL;function fL(t,e,r,n){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return FV(t,r,n);case"!=":return lve(t,r,n);case">":return o2(t,r,n);case">=":return UV(t,r,n);case"<":return lL(t,r,n);case"<=":return BV(t,r,n);default:throw new TypeError("Invalid operator: "+e)}}It.Comparator=Jc;function Jc(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Jc){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof Jc))return new Jc(t,e);t=t.trim().split(/\s+/).join(" "),Br("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===a2?this.value="":this.value=this.operator+this.semver.version,Br("comp",this)}var a2={};Jc.prototype.parse=function(t){var e=this.options.loose?an[OV]:an[MV],r=t.match(e);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new cr(r[2],this.options.loose):this.semver=a2};Jc.prototype.toString=function(){return this.value};Jc.prototype.test=function(t){return Br("Comparator.test",t,this.options.loose),this.semver===a2?!0:(typeof t=="string"&&(t=new cr(t,this.options)),fL(t,this.operator,this.semver,this.options))};Jc.prototype.intersects=function(t,e){if(!(t instanceof Jc))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var r;if(this.operator==="")return r=new Yn(t.value,e),pL(this.value,r,e);if(t.operator==="")return r=new Yn(this.value,e),pL(t.semver,r,e);var n=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=fL(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=fL(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||i||o&&s||a||u};It.Range=Yn;function Yn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Yn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Yn(t.raw,e);if(t instanceof Jc)return new Yn(t.value,e);if(!(this instanceof Yn))return new Yn(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Yn.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};Yn.prototype.toString=function(){return this.range};Yn.prototype.parseRange=function(t){var e=this.options.loose,r=e?an[cve]:an[ave];t=t.replace(r,g$e),Br("hyphen replace",t),t=t.replace(an[c_],WYe),Br("comparator trim",t,an[c_]),t=t.replace(an[gx],YYe),t=t.replace(an[vx],$Ye);var n=e?an[OV]:an[MV],i=t.split(" ").map(function(o){return c$e(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new Jc(o,this.options)},this),i};Yn.prototype.intersects=function(t,e){if(!(t instanceof Yn))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(n){return t.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};It.toComparators=a$e;function a$e(t,e){return new Yn(t,e).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}function c$e(t,e){return Br("comp",t,e),t=f$e(t,e),Br("caret",t),t=u$e(t,e),Br("tildes",t),t=d$e(t,e),Br("xrange",t),t=h$e(t,e),Br("stars",t),t}function Js(t){return!t||t.toLowerCase()==="x"||t==="*"}function u$e(t,e){return t.trim().split(/\s+/).map(function(r){return l$e(r,e)}).join(" ")}function l$e(t,e){var r=e.loose?an[ive]:an[nve];return t.replace(r,function(n,i,o,s,a){Br("tilde",t,n,i,o,s,a);var u;return Js(i)?u="":Js(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Js(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(Br("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",Br("tilde return",u),u})}function f$e(t,e){return t.trim().split(/\s+/).map(function(r){return p$e(r,e)}).join(" ")}function p$e(t,e){Br("caret",t,e);var r=e.loose?an[sve]:an[ove];return t.replace(r,function(n,i,o,s,a){Br("caret",t,n,i,o,s,a);var u;return Js(i)?u="":Js(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Js(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(Br("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(Br("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),Br("caret return",u),u})}function d$e(t,e){return Br("replaceXRanges",t,e),t.split(/\s+/).map(function(r){return m$e(r,e)}).join(" ")}function m$e(t,e){t=t.trim();var r=e.loose?an[tve]:an[eve];return t.replace(r,function(n,i,o,s,a,u){Br("xRange",t,n,i,o,s,a,u);var c=Js(o),l=c||Js(s),f=l||Js(a),p=f;return i==="="&&p&&(i=""),c?i===">"||i==="<"?n="<0.0.0":n="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),n=i+o+"."+s+"."+a):l?n=">="+o+".0.0 <"+(+o+1)+".0.0":f&&(n=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),Br("xRange return",n),n})}function h$e(t,e){return Br("replaceStars",t,e),t.trim().replace(an[uve],"")}function g$e(t,e,r,n,i,o,s,a,u,c,l,f,p){return Js(r)?e="":Js(n)?e=">="+r+".0.0":Js(i)?e=">="+r+"."+n+".0":e=">="+e,Js(u)?a="":Js(c)?a="<"+(+u+1)+".0.0":Js(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}Yn.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new cr(t,this.options));for(var e=0;e<this.set.length;e++)if(v$e(this.set[e],t,this.options))return!0;return!1};function v$e(t,e,r){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(n=0;n<t.length;n++)if(Br(t[n].semver),t[n].semver!==a2&&t[n].semver.prerelease.length>0){var i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}It.satisfies=pL;function pL(t,e,r){try{e=new Yn(e,r)}catch{return!1}return e.test(t)}It.maxSatisfying=_$e;function _$e(t,e,r){var n=null,i=null;try{var o=new Yn(e,r)}catch{return null}return t.forEach(function(s){o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new cr(n,r))}),n}It.minSatisfying=y$e;function y$e(t,e,r){var n=null,i=null;try{var o=new Yn(e,r)}catch{return null}return t.forEach(function(s){o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new cr(n,r))}),n}It.minVersion=b$e;function b$e(t,e){t=new Yn(t,e);var r=new cr("0.0.0");if(t.test(r)||(r=new cr("0.0.0-0"),t.test(r)))return r;r=null;for(var n=0;n<t.set.length;++n){var i=t.set[n];i.forEach(function(o){var s=new cr(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!r||o2(r,s))&&(r=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return r&&t.test(r)?r:null}It.validRange=x$e;function x$e(t,e){try{return new Yn(t,e).range||"*"}catch{return null}}It.ltr=E$e;function E$e(t,e,r){return qV(t,e,"<",r)}It.gtr=T$e;function T$e(t,e,r){return qV(t,e,">",r)}It.outside=qV;function qV(t,e,r,n){t=new cr(t,n),e=new Yn(e,n);var i,o,s,a,u;switch(r){case">":i=o2,o=BV,s=lL,a=">",u=">=";break;case"<":i=lL,o=UV,s=o2,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pL(t,e,n))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,p=null;if(l.forEach(function(m){m.semver===a2&&(m=new Jc(">=0.0.0")),f=f||m,p=p||m,i(m.semver,f.semver,n)?f=m:s(m.semver,p.semver,n)&&(p=m)}),f.operator===a||f.operator===u||(!p.operator||p.operator===a)&&o(t,p.semver))return!1;if(p.operator===u&&s(t,p.semver))return!1}return!0}It.prerelease=S$e;function S$e(t,e){var r=u_(t,e);return r&&r.prerelease.length?r.prerelease:null}It.intersects=C$e;function C$e(t,e,r){return t=new Yn(t,r),e=new Yn(e,r),t.intersects(e)}It.coerce=I$e;function I$e(t){if(t instanceof cr)return t;if(typeof t!="string")return null;var e=t.match(an[rve]);return e==null?null:u_(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var hve=R((Nzt,mve)=>{var w$e=eL().wrap,GV=1,jV=2,VV=4,vL=8,Xr=[],A$e=0,Cs=!1,Mh=[],yx,zV;function YV(t,e){var r=t.length,n=e.length,i=[];if(r===0&&n===0)return i;for(var o=0;o<r;o++)i[o]=t[o];if(n===0)return i;for(var s=0;s<n;s++){var a=!0;for(o=0;o<r;o++)if(t[o].uid===e[s].uid){a=!1;break}a&&i.push(e[s])}return i}process._fatalException?(gL=!1,yx=function(e){var r=Xr.length;if(gL||r===0)return!1;var n=!1;gL=!0;for(var i=0;i<r;++i){var o=Xr[i];if(o.flags&vL){var s=bx&&bx[o.uid];n=o.error(s,e)||n}}return gL=!1,Mh.length>0&&(Xr=Mh.pop()),bx=void 0,n&&!Cs},zV=function(e,r,n){var i=[];Cs=!0;for(var o=0;o<n;++o){var s=r[o];if(i[s.uid]=s.data,!!(s.flags&GV)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return Cs=!1,function(){bx=i,Mh.push(Xr),Xr=YV(r,Xr),Cs=!0;for(var u=0;u<n;++u)(r[u].flags&jV)>0&&r[u].before(this,i[r[u].uid]);Cs=!1;var c=e.apply(this,arguments);for(Cs=!0,u=0;u<n;++u)(r[u].flags&VV)>0&&r[u].after(this,i[r[u].uid]);return Cs=!1,Xr=Mh.pop(),bx=void 0,c}},w$e(process,"_fatalException",function(t){return function(r){return yx(r)||t(r)}})):(HV=!1,yx=function(e){if(HV)throw e;for(var r=!1,n=Xr.length,i=0;i<n;++i){var o=Xr[i];o.flags&vL&&(r=o.error(null,e)||r)}if(!r&&Cs)throw e},zV=function(e,r,n){var i=[];Cs=!0;for(var o=0;o<n;++o){var s=r[o];if(i[s.uid]=s.data,!!(s.flags&GV)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return Cs=!1,function(){var u=!1,c=!1;Mh.push(Xr),Xr=YV(r,Xr),Cs=!0;for(var l=0;l<n;++l)(r[l].flags&jV)>0&&r[l].before(this,i[r[l].uid]);Cs=!1;var f;try{f=e.apply(this,arguments)}catch(p){u=!0;for(var l=0;l<n;++l)if(Xr[l].flags&vL)try{c=Xr[l].error(i[r[l].uid],p)||c}catch(d){throw HV=!0,d}if(!c)throw process.removeListener("uncaughtException",yx),process._originalNextTick(function(){process.addListener("uncaughtException",yx)}),p}finally{if(!u||c){for(Cs=!0,l=0;l<n;++l)(r[l].flags&VV)>0&&r[l].after(this,i[r[l].uid]);Cs=!1}Xr=Mh.pop()}return f}},process.addListener("uncaughtException",yx));var gL,bx,HV;function R$e(t,e,r){Cs=!0;for(var n=0;n<r;++n){var i=e[n];i.create&&i.create(i.data)}return Cs=!1,function(){Mh.push(Xr),Xr=YV(e,Xr);var o=t.apply(this,arguments);return Xr=Mh.pop(),o}}function P$e(t){var e=Xr.length;if(e===0)return t;for(var r=Xr.slice(),n=0;n<e;++n)if(r[n].flags>0)return zV(t,r,e);return R$e(t,r,e)}function xf(t,e){typeof t.create=="function"&&(this.create=t.create,this.flags|=GV),typeof t.before=="function"&&(this.before=t.before,this.flags|=jV),typeof t.after=="function"&&(this.after=t.after,this.flags|=VV),typeof t.error=="function"&&(this.error=t.error,this.flags|=vL),this.uid=++A$e,this.data=e===void 0?null:e}xf.prototype.create=void 0;xf.prototype.before=void 0;xf.prototype.after=void 0;xf.prototype.error=void 0;xf.prototype.data=void 0;xf.prototype.uid=0;xf.prototype.flags=0;function dve(t,e){if(typeof t!="object"||!t)throw new TypeError("callbacks argument must be an object");return t instanceof xf?t:new xf(t,e)}function N$e(t,e){var r;t instanceof xf?r=t:r=dve(t,e);for(var n=!1,i=0;i<Xr.length;i++)if(r===Xr[i]){n=!0;break}return n||Xr.push(r),r}function D$e(t){for(var e=0;e<Xr.length;e++)if(t===Xr[e]){Xr.splice(e,1);break}}process.createAsyncListener=dve;process.addAsyncListener=N$e;process.removeAsyncListener=D$e;mve.exports=P$e});var vve=R((kzt,gve)=>{"use strict";gve.exports=(t,e)=>class extends t{constructor(n){var i,o;super(a);var s=this;try{n.apply(i,o)}catch(u){o[1](u)}return s;function a(u,c){i=this,o=[l,f];function l(p){return e(s,!1),u(p)}function f(p){return e(s,!1),c(p)}}}}});var Sve=R(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var xve=eL(),yL=pve(),Ia=xve.wrap,Fh=xve.massWrap,$n=hve(),k$e=require("util"),L$e=yL.gte(process.version,"6.0.0"),KV=yL.gte(process.version,"7.0.0"),O$e=yL.gte(process.version,"8.0.0"),M$e=yL.gte(process.version,"11.0.0"),Ef=require("net");KV&&!Ef._normalizeArgs?Ef._normalizeArgs=function(t){if(t.length===0)return[{},null];var e=t[0],r={};typeof e=="object"&&e!==null?r=e:H$e(e)?r.path=e:(r.port=e,t.length>1&&typeof t[1]=="string"&&(r.host=t[1]));var n=t[t.length-1];return typeof n!="function"?[r,null]:[r,n]}:!KV&&!Ef._normalizeConnectArgs&&(Ef._normalizeConnectArgs=function(t){var e={};function r(i){return(i=Number(i))>=0?i:!1}typeof t[0]=="object"&&t[0]!==null?e=t[0]:typeof t[0]=="string"&&r(t[0])===!1?e.path=t[0]:(e.port=t[0],typeof t[1]=="string"&&(e.host=t[1]));var n=t[t.length-1];return typeof n=="function"?[e,n]:[e]});"_setUpListenHandle"in Ef.Server.prototype?Ia(Ef.Server.prototype,"_setUpListenHandle",_ve):Ia(Ef.Server.prototype,"_listen2",_ve);function _ve(t){return function(){this.on("connection",function(e){e._handle&&(e._handle.onread=$n(e._handle.onread))});try{return t.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=$n(this._handle.onconnection))}}}function Eve(t){if(t&&t._handle){var e=t._handle;e._originalOnread||(e._originalOnread=e.onread),e.onread=$n(e._originalOnread)}}Ia(Ef.Socket.prototype,"connect",function(t){return function(){var e;O$e&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?e=arguments[0]:e=KV?Ef._normalizeArgs(arguments):Ef._normalizeConnectArgs(arguments),e[1]&&(e[1]=$n(e[1]));var r=t.apply(this,e);return Eve(this),r}});var F$e=require("http");Ia(F$e.Agent.prototype,"addRequest",function(t){return function(e){var r=e.onSocket;return e.onSocket=$n(function(n){return Eve(n),r.apply(this,arguments)}),t.apply(this,arguments)}});var $V=require("child_process");function yve(t){Array.isArray(t.stdio)&&t.stdio.forEach(function(e){e&&e._handle&&(e._handle.onread=$n(e._handle.onread),Ia(e._handle,"close",bL))}),t._handle&&(t._handle.onexit=$n(t._handle.onexit))}$V.ChildProcess?Ia($V.ChildProcess.prototype,"spawn",function(t){return function(){var e=t.apply(this,arguments);return yve(this),e}}):Fh($V,["execFile","fork","spawn"],function(t){return function(){var e=t.apply(this,arguments);return yve(e),e}});process._fatalException||(process._originalNextTick=process.nextTick);var JV=[];process._nextDomainTick&&JV.push("_nextDomainTick");process._tickDomainCallback&&JV.push("_tickDomainCallback");Fh(process,JV,Tf);Ia(process,"nextTick",bL);var ZV=["setTimeout","setInterval"];global.setImmediate&&ZV.push("setImmediate");var Tve=require("timers"),U$e=global.setTimeout===Tve.setTimeout;Fh(Tve,ZV,bL);U$e&&Fh(global,ZV,bL);var XV=require("dns");Fh(XV,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Tf);XV.resolveNaptr&&Ia(XV,"resolveNaptr",Tf);var f_=require("fs");Fh(f_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Tf);f_.lchown&&Ia(f_,"lchown",Tf);f_.lchmod&&Ia(f_,"lchmod",Tf);f_.ftruncate&&Ia(f_,"ftruncate",Tf);var c2;try{c2=require("zlib")}catch{}c2&&c2.Deflate&&c2.Deflate.prototype&&(l_=Object.getPrototypeOf(c2.Deflate.prototype),l_._transform?Ia(l_,"_transform",Tf):l_.write&&l_.flush&&l_.end&&Fh(l_,["write","flush","end"],Tf));var l_,QV;try{QV=require("crypto")}catch{}QV&&(WV=["pbkdf2","randomBytes"],M$e||WV.push("pseudoRandomBytes"),Fh(QV,WV,Tf));var WV,_L=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";_L&&(bve=process.addAsyncListener({create:function(){_L=!1}}),global.Promise.resolve(!0).then(function(){_L=!1}),process.removeAsyncListener(bve));var bve;_L&&B$e();function B$e(){var t=global.Promise;function e(s){if(!(this instanceof e))return t(s);if(typeof s!="function")return new t(s);var a,u,c=new t(l);c.__proto__=e.prototype;try{s.apply(a,u)}catch(f){u[1](f)}return c;function l(f,p){a=this,u=[m,d];function m(h){return n(c,!1),f(h)}function d(h){return n(c,!1),p(h)}}}if(k$e.inherits(e,t),Ia(t.prototype,"then",o),t.prototype.chain&&Ia(t.prototype,"chain",o),L$e)global.Promise=vve()(t,n);else{var r=["all","race","reject","resolve","accept","defer"];r.forEach(function(s){typeof t[s]=="function"&&(e[s]=t[s])}),global.Promise=e}function n(s,a){(!s.__asl_wrapper||a)&&(s.__asl_wrapper=$n(i))}function i(s,a,u,c){var l;try{return l=a.call(s,u),{returnVal:l,error:!1}}catch(f){return{errorVal:f,error:!0}}finally{l instanceof t?c.__asl_wrapper=function(){var p=l.__asl_wrapper||i;return p.apply(this,arguments)}:n(c,!0)}}function o(s){return function(){var u=this,c=s.apply(u,Array.prototype.map.call(arguments,l));return c.__asl_wrapper=function(p,m,d,h){return u.__asl_wrapper?(u.__asl_wrapper(p,function(){},null,c),c.__asl_wrapper(p,m,d,h)):i(p,m,d,h)},c;function l(f){return typeof f!="function"?f:$n(function(p){var m=(u.__asl_wrapper||i)(this,f,p,c);if(m.error)throw m.errorVal;return m.returnVal})}}}}function Tf(t){var e=function(){var r,n=arguments.length-1;if(typeof arguments[n]=="function"){r=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)r[i]=arguments[i];r[n]=$n(arguments[n])}return t.apply(this,r||arguments)};switch(t.length){case 1:return function(r){return arguments.length!==1?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r))};case 2:return function(r,n){return arguments.length!==2?e.apply(this,arguments):(typeof n=="function"&&(n=$n(n)),t.call(this,r,n))};case 3:return function(r,n,i){return arguments.length!==3?e.apply(this,arguments):(typeof i=="function"&&(i=$n(i)),t.call(this,r,n,i))};case 4:return function(r,n,i,o){return arguments.length!==4?e.apply(this,arguments):(typeof o=="function"&&(o=$n(o)),t.call(this,r,n,i,o))};case 5:return function(r,n,i,o,s){return arguments.length!==5?e.apply(this,arguments):(typeof s=="function"&&(s=$n(s)),t.call(this,r,n,i,o,s))};case 6:return function(r,n,i,o,s,a){return arguments.length!==6?e.apply(this,arguments):(typeof a=="function"&&(a=$n(a)),t.call(this,r,n,i,o,s,a))};default:return e}}function bL(t){var e=function(){var r;if(typeof arguments[0]=="function"){r=Array(arguments.length),r[0]=$n(arguments[0]);for(var n=1;n<arguments.length;n++)r[n]=arguments[n]}return t.apply(this,r||arguments)};switch(t.length){case 1:return function(r){return arguments.length!==1?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r))};case 2:return function(r,n){return arguments.length!==2?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r,n))};case 3:return function(r,n,i){return arguments.length!==3?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r,n,i))};case 4:return function(r,n,i,o){return arguments.length!==4?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r,n,i,o))};case 5:return function(r,n,i,o,s){return arguments.length!==5?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r,n,i,o,s))};case 6:return function(r,n,i,o,s,a){return arguments.length!==6?e.apply(this,arguments):(typeof r=="function"&&(r=$n(r)),t.call(this,r,n,i,o,s,a))};default:return e}}function q$e(t){return(t=Number(t))>=0?t:!1}function H$e(t){return typeof t=="string"&&q$e(t)===!1}});var Rve=R((Mzt,Ave)=>{"use strict";var dd=require("assert"),G$e=nL(),u2="cls@contexts",ez="error@context";process.addAsyncListener||Sve();function tl(t){this.name=t,this.active=null,this._set=[],this.id=null}tl.prototype.set=function(t,e){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[t]=e,e};tl.prototype.get=function(t){if(this.active)return this.active[t]};tl.prototype.createContext=function(){return Object.create(this.active)};tl.prototype.run=function(t){var e=this.createContext();this.enter(e);try{return t(e),e}catch(r){throw r&&(r[ez]=e),r}finally{this.exit(e)}};tl.prototype.runAndReturn=function(t){var e;return this.run(function(r){e=t(r)}),e};tl.prototype.bind=function(t,e){e||(this.active?e=this.active:e=this.createContext());var r=this;return function(){r.enter(e);try{return t.apply(this,arguments)}catch(n){throw n&&(n[ez]=e),n}finally{r.exit(e)}}};tl.prototype.enter=function(t){dd.ok(t,"context must be provided for entering"),this._set.push(this.active),this.active=t};tl.prototype.exit=function(t){if(dd.ok(t,"context must be provided for exiting"),this.active===t){dd.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var e=this._set.lastIndexOf(t);dd.ok(e>=0,"context not currently entered; can't exit"),dd.ok(e,"can't remove top context"),this._set.splice(e,1)};tl.prototype.bindEmitter=function(t){dd.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");var e=this,r="context@"+this.name;function n(o){o&&(o[u2]||(o[u2]=Object.create(null)),o[u2][r]={namespace:e,context:e.active})}function i(o){if(!(o&&o[u2]))return o;var s=o,a=o[u2];return Object.keys(a).forEach(function(u){var c=a[u];s=c.namespace.bind(s,c.context)}),s}G$e(t,n,i)};tl.prototype.fromException=function(t){return t[ez]};function Cve(t){return process.namespaces[t]}function j$e(t){dd.ok(t,"namespace must be given a name!");var e=new tl(t);return e.id=process.addAsyncListener({create:function(){return e.active},before:function(r,n){n&&e.enter(n)},after:function(r,n){n&&e.exit(n)},error:function(r){r&&e.exit(r)}}),process.namespaces[t]=e,e}function Ive(t){var e=Cve(t);dd.ok(e,"can't delete nonexistent namespace!"),dd.ok(e.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(e.id),process.namespaces[t]=null}function wve(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){Ive(t)}),process.namespaces=Object.create(null)}process.namespaces||wve();Ave.exports={getNamespace:Cve,createNamespace:j$e,destroyNamespace:Ive,reset:wve}});var Uh=R(EL=>{"use strict";Object.defineProperty(EL,"__esModule",{value:!0});EL.CorrelationContextManager=void 0;var xx=bn(),V$e=B4(),p_=q4(),tz=Sj(),Pve=Vj(),xL=Wo(),z$e=function(){function t(){}return t.getCurrentContext=function(){if(!t.enabled)return null;var e=t.session.get(t.CONTEXT_NAME);return e===void 0?null:e},t.generateContextObject=function(e,r,n,i,o,s){return r=r||e,this.enabled?{operation:{name:n,id:e,parentId:r,traceparent:o,tracestate:s},customProperties:new Y$e(i)}:null},t.spanToContextObject=function(e,r,n){var i=new p_;return i.traceId=e.traceId,i.spanId=e.spanId,i.traceFlag=p_.formatOpenTelemetryTraceFlags(e.traceFlags)||p_.DEFAULT_TRACE_FLAG,i.parentId=r,t.generateContextObject(i.traceId,i.parentId,n,null,i)},t.runWithContext=function(e,r){var n;if(t.enabled)try{return t.session.bind(r,(n={},n[t.CONTEXT_NAME]=e,n))()}catch(i){xx.warn("Error binding to session context",xL.dumpObj(i))}return r()},t.wrapEmitter=function(e){if(t.enabled)try{t.session.bindEmitter(e)}catch(r){xx.warn("Error binding to session context",xL.dumpObj(r))}},t.wrapCallback=function(e,r){var n;if(t.enabled)try{return t.session.bind(e,r?(n={},n[t.CONTEXT_NAME]=r,n):void 0)}catch(i){xx.warn("Error binding to session context",xL.dumpObj(i))}return e},t.enable=function(e){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}t.hasEverEnabled||(this.forceClsHooked=e,this.hasEverEnabled=!0,typeof this.cls>"u"&&(t.forceClsHooked===!0||t.forceClsHooked===void 0&&t.shouldUseClsHooked()?this.cls=K0e():this.cls=Rve()),t.session=this.cls.createNamespace("AI-CLS-Session"),V$e.registerContextPreservation(function(r){try{return t.session.bind(r)}catch(n){xx.warn("Error binding to session context",xL.dumpObj(n))}})),this.enabled=!0}},t.startOperation=function(e,r){var n=e&&e.traceContext||null,i=e&&e.spanContext?e:null,o=e&&e.traceId?e:null,s=e&&e.headers;if(i)return this.spanToContextObject(i.spanContext(),i.parentSpanId,i.name);if(o)return this.spanToContextObject(o,"|"+o.traceId+"."+o.spanId+".",typeof r=="string"?r:"");var a=typeof r=="string"?r:"";if(n){var u=null,c=null;if(a=n.attributes.OperationName||a,r){var l=r;l.headers&&(l.headers.traceparent?u=new p_(l.headers.traceparent):l.headers["request-id"]&&(u=new p_(null,l.headers["request-id"])),l.headers.tracestate&&(c=new tz(l.headers.tracestate)))}u||(u=new p_(n.traceParent||n.traceparent)),c||(c=new tz(n.traceState||n.tracestate));var f=void 0;if(typeof r=="object"){var p=new Pve(r);f=p.getCorrelationContextHeader(),a=p.getOperationName({})}var m=t.generateContextObject(u.traceId,u.parentId,a,f,u,c);return m}if(s){var u=new p_(s.traceparent?s.traceparent.toString():null),c=new tz(s.tracestate?s.tracestate.toString():null),p=new Pve(e),m=t.generateContextObject(u.traceId,u.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),u,c);return m}return xx.warn("startOperation was called with invalid arguments",arguments),null},t.disable=function(){this.enabled=!1},t.reset=function(){t.hasEverEnabled&&(t.session=null,t.session=this.cls.createNamespace("AI-CLS-Session"))},t.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},t.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},t.canUseClsHooked=function(){var e=process.versions.node.split("."),r=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,i=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(r&&n)&&i},t.enabled=!1,t.hasEverEnabled=!1,t.forceClsHooked=void 0,t.CONTEXT_NAME="ApplicationInsights-Context",t}();EL.CorrelationContextManager=z$e;var Y$e=function(){function t(e){this.props=[],this.addHeaderData(e)}return t.prototype.addHeaderData=function(e){var r=e?e.split(", "):[];this.props=r.map(function(n){var i=n.split("=");return{key:i[0],value:i[1]}}).concat(this.props)},t.prototype.serializeToHeader=function(){return this.props.map(function(e){return e.key+"="+e.value}).join(", ")},t.prototype.getProperty=function(e){for(var r=0;r<this.props.length;++r){var n=this.props[r];if(n.key===e)return n.value}},t.prototype.setProperty=function(e,r){if(t.bannedCharacters.test(e)||t.bannedCharacters.test(r)){xx.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+e+" and value: "+r);return}for(var n=0;n<this.props.length;++n){var i=this.props[n];if(i.key===e){i.value=r;return}}this.props.push({key:e,value:r})},t.bannedCharacters=/[,=]/,t}()});var Nve=R(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});Ex.dispose=Ex.enable=void 0;var TL=Ts(),$$e=jn(),SL=ti(),Bh=[],rz=function(t){var e=t.data.message;Bh.forEach(function(r){e instanceof Error&&!r.config.enableLoggerErrorToTrace?r.trackException({exception:e}):e instanceof Error?r.trackTrace({message:e.toString(),severity:t.data.stderr?TL.SeverityLevel.Error:TL.SeverityLevel.Information}):(e.lastIndexOf(`
`)==e.length-1&&(e=e.substring(0,e.length-1)),r.trackTrace({message:e,severity:t.data.stderr?TL.SeverityLevel.Warning:TL.SeverityLevel.Information}))})};function W$e(t,e){if(t){var r=Bh.find(function(n){return n==e});if(r)return;Bh.length===0&&SL.channel.subscribe("console",rz,SL.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation($$e.StatsbeatInstrumentation.CONSOLE)}),Bh.push(e)}else Bh=Bh.filter(function(n){return n!=e}),Bh.length===0&&SL.channel.unsubscribe("console",rz)}Ex.enable=W$e;function K$e(){SL.channel.unsubscribe("console",rz),Bh=[]}Ex.dispose=K$e});var Dve=R(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.dispose=Sx.enable=void 0;var Tx=Ts(),X$e=jn(),CL=ti(),qh=[],Q$e={10:Tx.SeverityLevel.Verbose,20:Tx.SeverityLevel.Verbose,30:Tx.SeverityLevel.Information,40:Tx.SeverityLevel.Warning,50:Tx.SeverityLevel.Error,60:Tx.SeverityLevel.Critical},nz=function(t){var e=t.data.result,r=Q$e[t.data.level];qh.forEach(function(n){try{var i=JSON.parse(e);if(i.err){var o=new Error(i.err.message);if(o.name=i.err.name,o.stack=i.err.stack,n.config.enableLoggerErrorToTrace){n.trackTrace({message:e,severity:r});return}n.trackException({exception:o});return}}catch{}n.trackTrace({message:e,severity:r})})};function J$e(t,e){if(t){var r=qh.find(function(n){return n==e});if(r)return;qh.length===0&&CL.channel.subscribe("bunyan",nz,CL.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(X$e.StatsbeatInstrumentation.BUNYAN)}),qh.push(e)}else qh=qh.filter(function(n){return n!=e}),qh.length===0&&CL.channel.unsubscribe("bunyan",nz)}Sx.enable=J$e;function Z$e(){CL.channel.unsubscribe("bunyan",nz),qh=[]}Sx.dispose=Z$e});var kve=R(Cx=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});Cx.dispose=Cx.enable=void 0;var eWe=jn(),Qo=Ts(),IL=ti(),Hh=[],tWe={syslog:function(t){var e={emerg:Qo.SeverityLevel.Critical,alert:Qo.SeverityLevel.Critical,crit:Qo.SeverityLevel.Critical,error:Qo.SeverityLevel.Error,warning:Qo.SeverityLevel.Warning,notice:Qo.SeverityLevel.Information,info:Qo.SeverityLevel.Information,debug:Qo.SeverityLevel.Verbose};return e[t]===void 0?Qo.SeverityLevel.Information:e[t]},npm:function(t){var e={error:Qo.SeverityLevel.Error,warn:Qo.SeverityLevel.Warning,info:Qo.SeverityLevel.Information,verbose:Qo.SeverityLevel.Verbose,debug:Qo.SeverityLevel.Verbose,silly:Qo.SeverityLevel.Verbose};return e[t]===void 0?Qo.SeverityLevel.Information:e[t]},unknown:function(t){return Qo.SeverityLevel.Information}},iz=function(t){var e=t.data.message,r=tWe[t.data.levelKind](t.data.level);Hh.forEach(function(n){e instanceof Error&&!n.config.enableLoggerErrorToTrace?n.trackException({exception:e,properties:t.data.meta}):e instanceof Error?n.trackTrace({message:e.toString(),severity:r,properties:t.data.meta}):n.trackTrace({message:e,severity:r,properties:t.data.meta})})};function rWe(t,e){if(t){var r=Hh.find(function(n){return n==e});if(r)return;Hh.length===0&&IL.channel.subscribe("winston",iz,IL.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(eWe.StatsbeatInstrumentation.WINSTON)}),Hh.push(e)}else Hh=Hh.filter(function(n){return n!=e}),Hh.length===0&&IL.channel.unsubscribe("winston",iz)}Cx.enable=rWe;function nWe(){IL.channel.unsubscribe("winston",iz),Hh=[]}Cx.dispose=nWe});var Ove=R((Hzt,Lve)=>{"use strict";var iWe=B4(),oWe=function(){function t(e){if(t.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=e,t.INSTANCE=this}return t.prototype.enable=function(e,r){iWe.IsInitialized&&(Nve().enable(e&&r,this._client),Dve().enable(e,this._client),kve().enable(e,this._client))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1,!1)},t._methodNames=["debug","info","log","warn","error"],t}();Lve.exports=oWe});var Fve=R((Gzt,Mve)=>{"use strict";var sWe=function(){function t(e){if(t.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e;var r=process.versions.node.split(".");t._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||parseInt(r[0])===13&&parseInt(r[1])>=7}return t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.enable=function(e){var r=this;if(e){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=function(i,o,s){s===void 0&&(s=new Error(t._FALLBACK_ERROR_MESSAGE));var a={exception:s};a.contextObjects={},a.contextObjects.Error=s,r._client.trackException(a),r._client.flush({isAppCrashing:!0}),i&&o&&process.listeners(o).length===1&&(console.error(s),process.exit(1))};t._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,t.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(t.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(t.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(t._canUseUncaughtExceptionMonitor?process.removeListener(t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(t.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(t.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t.INSTANCE=null,t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",t.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",t.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",t._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",t._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",t._canUseUncaughtExceptionMonitor=!1,t}();Mve.exports=sWe});var AL=R((jzt,Uve)=>{"use strict";var wL=require("os"),Zc=jn(),aWe=function(){function t(e,r,n){r===void 0&&(r=6e4),n===void 0&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,t.INSTANCE||(t.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=e,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return t.prototype.enable=function(e,r){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._lastCpus=wL.cpus(),this._lastRequests={totalRequestCount:t._totalRequestCount,totalFailedRequestCount:t._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:t._totalDependencyCount,totalFailedDependencyCount:t._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:t._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval(function(){return n.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},t.countRequest=function(e,r){var n;if(t.isEnabled()){if(typeof e=="string")n=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")n=e;else return;t._intervalRequestExecutionTime+=n,r===!1&&t._totalFailedRequestCount++,t._totalRequestCount++}},t.countException=function(){t._totalExceptionCount++},t.countDependency=function(e,r){var n;if(t.isEnabled()){if(typeof e=="string")n=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")n=e;else return;t._intervalDependencyExecutionTime+=n,r===!1&&t._totalFailedDependencyCount++,t._totalDependencyCount++}},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},t.prototype._trackCpu=function(){var e=wL.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var r=0,n=0,i=0,o=0,s=0,a=0;e&&a<e.length;a++){var u=e[a],c=this._lastCpus[a],l="% cpu("+a+") ",f=u.model,p=u.speed,m=u.times,d=c.times,h=m.user-d.user||0;r+=h;var g=m.sys-d.sys||0;n+=g;var v=m.nice-d.nice||0;i+=v;var _=m.idle-d.idle||0;o+=_;var y=m.irq-d.irq||0;s+=y}var x=void 0;if(typeof process.cpuUsage=="function"){var b=process.cpuUsage(),T=process.hrtime(),k=b.user-this._lastAppCpuUsage.user+(b.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var U=(T[0]-this._lastHrtime[0])*1e6+(T[1]-this._lastHrtime[1])/1e3||0;x=100*k/(U*e.length)}this._lastAppCpuUsage=b,this._lastHrtime=T}var z=r+n+i+o+s||1;this._client.trackMetric({name:Zc.PerformanceCounter.PROCESSOR_TIME,value:(z-o)/z*100}),this._client.trackMetric({name:Zc.PerformanceCounter.PROCESS_TIME,value:x||r/z*100})}this._lastCpus=e},t.prototype._trackMemory=function(){var e=wL.freemem(),r=process.memoryUsage().rss,n=wL.totalmem()-e;this._client.trackMetric({name:Zc.PerformanceCounter.PRIVATE_BYTES,value:r}),this._client.trackMetric({name:Zc.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:Zc.QuickPulseCounter.COMMITTED_BYTES,value:n})},t.prototype._trackNetwork=function(){var e=this._lastRequests,r={totalRequestCount:t._totalRequestCount,totalFailedRequestCount:t._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-e.totalRequestCount||0,i=r.totalFailedRequestCount-e.totalFailedRequestCount||0,o=r.time-e.time,s=o/1e3,a=(t._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=t._intervalRequestExecutionTime,o>0){var u=n/s,c=i/s;this._client.trackMetric({name:Zc.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:Zc.PerformanceCounter.REQUEST_DURATION,value:a}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:Zc.QuickPulseCounter.REQUEST_FAILURE_RATE,value:c})}this._lastRequests=r},t.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var e=this._lastDependencies,r={totalDependencyCount:t._totalDependencyCount,totalFailedDependencyCount:t._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-e.totalDependencyCount||0,i=r.totalFailedDependencyCount-e.totalFailedDependencyCount||0,o=r.time-e.time,s=o/1e3,a=(t._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=t._intervalDependencyExecutionTime,o>0){var u=n/s,c=i/s;this._client.trackMetric({name:Zc.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:Zc.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:c}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:Zc.QuickPulseCounter.DEPENDENCY_DURATION,value:a})}this._lastDependencies=r}},t.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var e=this._lastExceptions,r={totalExceptionCount:t._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-e.totalExceptionCount||0,i=r.time-e.time,o=i/1e3;if(i>0){var s=n/o;this._client.trackMetric({name:Zc.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=r}},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t._totalRequestCount=0,t._totalFailedRequestCount=0,t._totalDependencyCount=0,t._totalFailedDependencyCount=0,t._totalExceptionCount=0,t._intervalDependencyExecutionTime=0,t._intervalRequestExecutionTime=0,t}();Uve.exports=aWe});var Bve=R(RL=>{"use strict";Object.defineProperty(RL,"__esModule",{value:!0});RL.AggregatedMetricCounter=void 0;var cWe=function(){function t(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return t}();RL.AggregatedMetricCounter=cWe});var qve=R(PL=>{"use strict";Object.defineProperty(PL,"__esModule",{value:!0});PL.PreaggregatedMetricPropertyNames=void 0;PL.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}});var sz=R((oz,Hve)=>{"use strict";var DL=oz&&oz.__assign||function(){return DL=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},DL.apply(this,arguments)},NL=jn(),uWe=Bve(),lWe=qve(),fWe=function(){function t(e,r){r===void 0&&(r=6e4),t.INSTANCE||(t.INSTANCE=this),this._isInitialized=!1,t._dependencyCountersCollection=[],t._requestCountersCollection=[],t._exceptionCountersCollection=[],t._traceCountersCollection=[],this._client=e,this._collectionInterval=r}return t.prototype.enable=function(e,r){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=r||this._collectionInterval,this._handle=setInterval(function(){return n.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},t.countException=function(e){if(t.isEnabled()){var r=t._getAggregatedCounter(e,this._exceptionCountersCollection);r.totalCount++}},t.countTrace=function(e){if(t.isEnabled()){var r=t._getAggregatedCounter(e,this._traceCountersCollection);r.totalCount++}},t.countRequest=function(e,r){if(t.isEnabled()){var n,i=t._getAggregatedCounter(r,this._requestCountersCollection);if(typeof e=="string")n=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")n=e;else return;i.intervalExecutionTime+=n,i.totalCount++}},t.countDependency=function(e,r){if(t.isEnabled()){var n=t._getAggregatedCounter(r,this._dependencyCountersCollection),i;if(typeof e=="string")i=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")i=e;else return;n.intervalExecutionTime+=i,n.totalCount++}},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},t._getAggregatedCounter=function(e,r){for(var n=!1,i=0;i<r.length;i++){if(e===r[i].dimensions)return r[i];if(Object.keys(e).length===Object.keys(r[i].dimensions).length){for(var o in e)if(e[o]!=r[i].dimensions[o]){n=!0;break}if(!n)return r[i];n=!1}}var s=new uWe.AggregatedMetricCounter(e);return r.push(s),s},t.prototype._trackRequestMetrics=function(){for(var e=0;e<t._requestCountersCollection.length;e++){var r=t._requestCountersCollection[e];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime,o=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/n||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,i>0&&n>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:r.dimensions,value:o,count:n,aggregationInterval:i,metricType:NL.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},t.prototype._trackDependencyMetrics=function(){for(var e=0;e<t._dependencyCountersCollection.length;e++){var r=t._dependencyCountersCollection[e];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime,o=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/n||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,i>0&&n>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:r.dimensions,value:o,count:n,aggregationInterval:i,metricType:NL.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},t.prototype._trackExceptionMetrics=function(){for(var e=0;e<t._exceptionCountersCollection.length;e++){var r=t._exceptionCountersCollection[e];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime;i>0&&n>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:r.dimensions,value:n,count:n,aggregationInterval:i,metricType:NL.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},t.prototype._trackTraceMetrics=function(){for(var e=0;e<t._traceCountersCollection.length;e++){var r=t._traceCountersCollection[e];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,i=r.time-r.lastTime;i>0&&n>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:r.dimensions,value:n,count:n,aggregationInterval:i,metricType:NL.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},t.prototype._trackPreAggregatedMetric=function(e){var r={};for(var n in e.dimensions)r[lWe.PreaggregatedMetricPropertyNames[n]]=e.dimensions[n];r=DL(DL({},r),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:r,kind:"Aggregation"};this._client.trackMetric(i)},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();Hve.exports=fWe});var Ix=R((Yzt,Gve)=>{"use strict";var md=require("os"),pWe=require("fs"),dWe=require("path"),mWe=Ts(),hWe=jn(),gWe=bn(),vWe=function(){function t(e){this.keys=new mWe.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return t.prototype._loadApplicationContext=function(e){try{if(e=e||dWe.resolve(__dirname,"../../../../package.json"),!t.appVersion[e]){t.appVersion[e]="unknown";var r=JSON.parse(pWe.readFileSync(e,"utf8"));r&&typeof r.version=="string"&&(t.appVersion[e]=r.version)}this.tags[this.keys.applicationVersion]=t.appVersion[e]}catch(n){gWe.info("Failed to read app version: ",n)}},t.prototype._loadDeviceContext=function(){var e=md&&md.hostname(),r=t.DefaultRoleName;process.env.WEBSITE_SITE_NAME&&(r=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(e=process.env.WEBSITE_INSTANCE_ID),this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=e,this.tags[this.keys.deviceOSVersion]=md&&md.type()+" "+md.release(),this.tags[this.keys.cloudRole]=r,this.tags["ai.device.osArchitecture"]=md&&md.arch(),this.tags["ai.device.osPlatform"]=md&&md.platform()},t.prototype._loadInternalContext=function(){t.sdkVersion=hWe.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+t.sdkVersion},t.DefaultRoleName="Web",t.appVersion={},t.sdkVersion=null,t}();Gve.exports=vWe});var zve=R(($zt,Vve)=>{"use strict";var _We=require("crypto"),jve=require("os"),yWe=jn(),bWe=Ix(),xWe=function(){function t(e){this._collectionInterval=9e5,t.INSTANCE||(t.INSTANCE=this),this._isInitialized=!1,this._client=e}return t.prototype.enable=function(e){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval(function(){return r.trackHeartBeat(r._client.config,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackHeartBeat=function(e,r){var n={},i=bWe.sdkVersion;n.sdkVersion=i,n.osType=jve.type(),n.osVersion=jve.release(),this._uniqueProcessId||(this._uniqueProcessId=_We.randomBytes(16).toString("hex")),n.processSessionId=this._uniqueProcessId,process.env.WEBSITE_SITE_NAME&&(n.appSrv_SiteName=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_HOME_STAMPNAME&&(n.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME),process.env.WEBSITE_HOSTNAME&&(n.appSrv_wsHost=process.env.WEBSITE_HOSTNAME),process.env.WEBSITE_OWNER_NAME&&(n.appSrv_wsOwner=process.env.WEBSITE_OWNER_NAME),process.env.WEBSITE_RESOURCE_GROUP&&(n.appSrv_ResourceGroup=process.env.WEBSITE_RESOURCE_GROUP),process.env.WEBSITE_SLOT_NAME&&(n.appSrv_SlotName=process.env.WEBSITE_SLOT_NAME),this._client.trackMetric({name:yWe.HeartBeatMetricName,value:0,properties:n}),r()},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();Vve.exports=xWe});var Yve=R(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.isContentTypeHeaderHtml=wt.insertSnippetByIndex=wt.getContentEncodingFromHeaders=wt.isSupportedContentEncoding=wt.findBufferEncodingType=wt.isBufferType=wt.getBrotliDecompressSync=wt.getBrotliDecompressAsync=wt.getBrotliCompressSync=wt.getBrotliCompressAsync=wt.inflateAsync=wt.deflateAsync=wt.gunzipAsync=wt.gzipAsync=wt.isBrotliSupperted=wt.bufferEncodingTypes=wt.contentEncodingMethod=void 0;var LL=require("zlib"),wx=require("util"),kL;(function(t){t.GZIP="gzip",t.DEFLATE="deflate",t.BR="br"})(kL=wt.contentEncodingMethod||(wt.contentEncodingMethod={}));wt.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"];var EWe=function(){var t=process.versions.node.split(".")[0];return parseInt(t)>=10};wt.isBrotliSupperted=EWe;wt.gzipAsync=wx.promisify(LL.gzip);wt.gunzipAsync=wx.promisify(LL.gunzip);wt.deflateAsync=wx.promisify(LL.deflate);wt.inflateAsync=wx.promisify(LL.inflate);var TWe=function(t){var e=wt.isBrotliSupperted();return e&&typeof t.brotliCompress=="function"?wx.promisify(t.brotliCompress):null};wt.getBrotliCompressAsync=TWe;var SWe=function(t){var e=wt.isBrotliSupperted();return e&&typeof t.brotliCompressSync=="function"?t.brotliCompressSync:null};wt.getBrotliCompressSync=SWe;var CWe=function(t){var e=wt.isBrotliSupperted();return e&&typeof t.brotliDecompress=="function"?wx.promisify(t.brotliDecompress):null};wt.getBrotliDecompressAsync=CWe;var IWe=function(t){var e=wt.isBrotliSupperted();return e&&typeof t.brotliDecompressSync=="function"?t.brotliDecompressSync:null};wt.getBrotliDecompressSync=IWe;var wWe=function(t,e){var r=e||"utf8",n=!1;if(Buffer.isEncoding(r)){var i=Buffer.from(t.toString(r),r);n=i.toJSON().data.toString()===t.toJSON().data.toString()}return n};wt.isBufferType=wWe;var AWe=function(t){var e=null;for(var r in wt.bufferEncodingTypes){var n=wt.bufferEncodingTypes[r];if(Buffer.isEncoding(n)&&wt.isBufferType(t,n)){e=n;break}}return e};wt.findBufferEncodingType=AWe;var RWe=function(t){var e=null;switch(t){case"gzip":e=kL.GZIP;break;case"br":e=kL.BR;break;case"deflate":e=kL.DEFLATE;break;default:}return e};wt.isSupportedContentEncoding=RWe;var PWe=function(t){var e=[],r=t.getHeader("Content-Encoding");if(!r)return null;if(typeof r=="string"){var n=wt.isSupportedContentEncoding(r);n&&e.push(n)}return e};wt.getContentEncodingFromHeaders=PWe;var NWe=function(t,e,r){if(t<0)return null;var n=null,i=e.substring(0,t),o=e.substring(t);return n=i+'<script type="text/javascript">'+r+"</script>"+o,n};wt.insertSnippetByIndex=NWe;var DWe=function(t){var e=!1,r=t.getHeader("Content-Type");return r&&(typeof r=="string"?e=r.indexOf("html")>=0:e=r.toString().indexOf("html")>=0),e};wt.isContentTypeHeaderHtml=DWe});var $ve=R(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.getResourceProvider=To.getOsPrefix=To.isFunctionApp=To.isWebApp=To.isLinux=To.isWindows=void 0;var kWe=function(){return process.platform==="win32"};To.isWindows=kWe;var LWe=function(){return process.platform==="linux"};To.isLinux=LWe;var OWe=function(){return!!process.env.WEBSITE_SITE_NAME};To.isWebApp=OWe;var MWe=function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME};To.isFunctionApp=MWe;var FWe=function(){return To.isWindows()?"w":To.isLinux()?"l":"u"};To.getOsPrefix=FWe;var UWe=function(){return To.isWebApp()?"a":To.isFunctionApp()?"f":"u"};To.getResourceProvider=UWe});var az=R((Xzt,Kve)=>{"use strict";var Wve=jn(),BWe=function(){function t(){}return t.parse=function(e){if(!e)return{};var r=e.split(t._FIELDS_SEPARATOR),n=r.reduce(function(o,s){var a=s.split(t._FIELD_KEY_VALUE_SEPARATOR);if(a.length===2){var u=a[0].toLowerCase(),c=a[1];o[u]=c}return o},{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||Wve.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||Wve.DEFAULT_LIVEMETRICS_ENDPOINT}return n},t.isIkeyValid=function(e){if(!e||e=="")return!1;var r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",n=new RegExp(r);return n.test(e)},t._FIELDS_SEPARATOR=";",t._FIELD_KEY_VALUE_SEPARATOR="=",t}();Kve.exports=BWe});var Xve={};Jn(Xve,{webSnippet:()=>qWe});var qWe,Qve=E(()=>{qWe=`!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r
src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r
// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
cfg: { // Application Insights Configuration\r
    instrumentationKey: "INSTRUMENTATION_KEY"\r
}});`});var n_e=R((Qzt,r_e)=>{"use strict";var Jve=require("http"),Zve=require("https"),Ax=require("zlib"),Sf=bn(),eu=Yve(),e_e=$ve(),l2=jn(),t_e=az(),HWe=(Qve(),wi(Xve)),GWe=function(){function t(e){var r;if(this._isIkeyValid=!0,t.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");t.INSTANCE=this,t._aiUrl=l2.WEB_INSTRUMENTATION_DEFAULT_SOURCE,t._aiDeprecatedUrl=l2.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var n=this._getWebSnippetIkey((r=e.config)===null||r===void 0?void 0:r.webInstrumentationConnectionString);this._webInstrumentationIkey=n||e.config.instrumentationKey,this._clientWebInstrumentationConfig=e.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=e.config.webInstrumentationSrc,this._statsbeat=e.getStatsbeat()}return t.prototype.enable=function(e,r){this._isEnabled=e,this._webInstrumentationIkey=this._getWebSnippetIkey(r)||this._webInstrumentationIkey,t._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(l2.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(l2.StatsbeatFeature.WEB_SNIPPET)},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype._getWebSnippetIkey=function(e){var r=null;try{var n=t_e.parse(e),i=n.instrumentationkey||"";t_e.isIkeyValid(i)?(this._isIkeyValid=!0,r=i):(this._isIkeyValid=!1,Sf.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(o){Sf.info("get web snippet ikey error: "+o)}return r},t.prototype._getWebInstrumentationReplacedStr=function(){var e=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),r=e_e.getOsPrefix(),n=e_e.getResourceProvider(),i=this._webInstrumentationIkey+`",\r
`+e+` disableIkeyDeprecationMessage: true,\r
 sdkExtension: "`+n+r+"d_n_",o=HWe.webSnippet.replace("INSTRUMENTATION_KEY",i);return this._clientWebInstrumentationSrc?o.replace(l2.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):o},t.prototype._getClientWebInstrumentationConfigStr=function(e){var r="";try{e!=null&&e.length>0&&e.forEach(function(n){var i=n.name;if(i!==void 0){var o=n.value,s="";switch(typeof o){case"function":break;case"object":break;case"string":s=" "+i+': "'+o+`",\r
`,r+=s;break;default:s=" "+i+": "+o+`,\r
`,r+=s;break}}})}catch{this._isEnabled=!1,Sf.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return r},t.prototype._initialize=function(){this._isInitialized=!0;var e=Jve.createServer,r=Zve.createServer,n=this._isEnabled;Jve.createServer=function(i){var o=i;return o&&(i=function(s,a){var u=a.write,c=s.method=="GET";a.write=function(p,m,d){try{if(n&&c){var h=eu.getContentEncodingFromHeaders(a),g=void 0;if(typeof m=="string"&&(g=m),h==null)t.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=t.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(_){Sf.warn("Inject snippet error: "+_)}return u.apply(a,arguments)};var l=a.end;return a.end=function(p,m,d){if(n&&c)try{if(n&&c){var h=eu.getContentEncodingFromHeaders(a),g=void 0;if(typeof m=="string"&&(g=m),h==null)t.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=t.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(_){Sf.warn("Inject snipet error: "+_)}return l.apply(a,arguments)},o(s,a)}),e(i)},Zve.createServer=function(i,o){var s=o;if(s)return o=function(a,u){var c=a.method=="GET",l=u.write,f=u.end;return u.write=function(m,d,h){try{if(n&&c){var g=eu.getContentEncodingFromHeaders(u),v=void 0;if(typeof d=="string"&&(v=d),g==null)t.INSTANCE.ValidateInjection(u,m)&&(arguments[0]=this.InjectWebSnippet(u,m,void 0,v));else if(g.length){var _=g[0];arguments[0]=t.INSTANCE.InjectWebSnippet(u,m,_)}}}catch(y){Sf.warn("Inject snippet error: "+y)}return l.apply(u,arguments)},u.end=function(m,d,h){try{if(n&&c){var g=eu.getContentEncodingFromHeaders(u),v=void 0;if(typeof d=="string"&&(v=d),g==null)t.INSTANCE.ValidateInjection(u,m)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(u,m,void 0,v));else if(g.length){var _=g[0];arguments[0]=t.INSTANCE.InjectWebSnippet(u,m,_)}}}catch(y){Sf.warn("Inject snippet error: "+y)}return f.apply(u,arguments)},s(a,u)},r(i,o)}},t.prototype.ValidateInjection=function(e,r){try{if(!e||!r||e.statusCode!=200)return!1;var n=eu.isContentTypeHeaderHtml(e);if(!n)return!1;var i=r.slice().toString();if(i.indexOf("<head>")>=0&&i.indexOf("</head>")>=0&&i.indexOf(t._aiUrl)<0&&i.indexOf(t._aiDeprecatedUrl)<0)return!0}catch(o){Sf.info("validate injections error: "+o)}return!1},t.prototype.InjectWebSnippet=function(e,r,n,i){try{var o=!!n;if(o)e.removeHeader("Content-Length"),r=this._getInjectedCompressBuffer(e,r,n),e.setHeader("Content-Length",r.length);else{var s=r.toString(),a=s.indexOf("</head>");if(a<0)return r;var u=eu.insertSnippetByIndex(a,s,t._snippet);if(typeof r=="string")e.removeHeader("Content-Length"),r=u,e.setHeader("Content-Length",Buffer.byteLength(r));else if(Buffer.isBuffer(r)){var c=i||"utf8",l=eu.isBufferType(r,c);if(l){e.removeHeader("Content-Length");var f=Buffer.from(u).toString(c);r=Buffer.from(f,c),e.setHeader("Content-Length",r.length)}}}}catch(p){Sf.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+p)}return r},t.prototype._getInjectedCompressBuffer=function(e,r,n){try{switch(n){case eu.contentEncodingMethod.GZIP:var i=Ax.gunzipSync(r);if(this.ValidateInjection(e,i)){var o=this.InjectWebSnippet(e,i);r=Ax.gzipSync(o)}break;case eu.contentEncodingMethod.DEFLATE:var s=Ax.inflateSync(r);if(this.ValidateInjection(e,s)){var a=this.InjectWebSnippet(e,s);r=Ax.deflateSync(a)}break;case eu.contentEncodingMethod.BR:var u=eu.getBrotliDecompressSync(Ax),c=eu.getBrotliCompressSync(Ax);if(u&&c){var l=u(r);if(this.ValidateInjection(e,l)){var f=this.InjectWebSnippet(e,l);r=c(f)}break}}}catch(p){Sf.info("get web injection compress buffer error: "+p)}return r},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();r_e.exports=GWe});var o_e=R((uz,i_e)=>{"use strict";var jWe=uz&&uz.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),tu=require("url"),cz=Ts(),VWe=Wo(),zWe=ex(),YWe=qj(),$We=r_(),WWe=function(t){jWe(e,t);function e(r,n){var i=t.call(this)||this;return n&&n.method&&r&&(i.method=n.method,i.url=e._getUrlFromRequestOptions(r,n),i.startTime=+new Date),i}return e.prototype.onError=function(r){this._setStatus(void 0,r)},e.prototype.onResponse=function(r){this._setStatus(r.statusCode,void 0),this.correlationId=VWe.getCorrelationContextTarget(r,zWe.requestContextTargetKey)},e.prototype.getDependencyTelemetry=function(r,n){var i=this.method.toUpperCase(),o=cz.RemoteDependencyDataConstants.TYPE_HTTP,s="";try{var a=new tu.URL(this.url);a.search=void 0,a.hash=void 0,i+=" "+a.pathname,s=a.hostname,a.port&&(s+=":"+a.port)}catch{}this.correlationId?(o=cz.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==$We.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=cz.RemoteDependencyDataConstants.TYPE_HTTP;var u={id:n,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(r&&r.time?u.time=r.time:this.startTime&&(u.time=new Date(this.startTime)),r){for(var c in r)u[c]||(u[c]=r[c]);if(r.properties)for(var c in r.properties)u.properties[c]=r.properties[c]}return u},e._getUrlFromRequestOptions=function(r,n){if(typeof r=="string")if(r.indexOf("http://")===0||r.indexOf("https://")===0)try{r=new tu.URL(r)}catch{}else try{var i=new tu.URL("http://"+r);i.port==="443"?r=new tu.URL("https://"+r):r=new tu.URL("http://"+r)}catch{}else{if(r&&typeof tu.URL=="function"&&r instanceof tu.URL)return tu.format(r);var o=r;r={},o&&Object.keys(o).forEach(function(u){r[u]=o[u]})}if(r.path&&r.host)try{var s=new tu.URL(r.path,"http://"+r.host+r.path);r.pathname=s.pathname,r.search=s.search}catch{}if(r.path&&r.hostname&&!r.host)try{var s=new tu.URL(r.path,"http://"+r.hostname+r.path);r.pathname=s.pathname,r.search=s.search}catch{}if(r.host&&r.port)try{var a=new tu.URL("http://"+r.host);!a.port&&r.port&&(r.hostname=r.host,delete r.host)}catch{}return r.protocol=r.protocol||n.agent&&n.agent.protocol||n.protocol||void 0,r.hostname=r.hostname||"localhost",tu.format(r)},e}(YWe);i_e.exports=WWe});var s_e=R(Rx=>{"use strict";var OL=Rx&&Rx.__assign||function(){return OL=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},OL.apply(this,arguments)};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.parseEventHubSpan=void 0;var lz=(tr(),wi(Vb)),KWe=($s(),wi(Lde)),XWe=(Qu(),wi(wG)),f2=jn(),QWe=function(t){var e=0,r=0,n=KWe.hrTimeToMilliseconds(t.startTime);return t.links.forEach(function(i){var o=i.attributes,s=o?.[f2.ENQUEUED_TIME];s&&(e+=1,r+=n-(parseFloat(s.toString())||0))}),Math.max(r/(e||1),0)},JWe=function(t,e){var r,n=t.attributes[f2.AzNamespace],i=(t.attributes[XWe.SemanticAttributes.NET_PEER_NAME]||t.attributes["peer.address"]||"unknown").replace(/\/$/g,""),o=t.attributes[f2.MessageBusDestination]||"unknown";switch(t.kind){case lz.SpanKind.CLIENT:e.dependencyTypeName=n,e.target=i+"/"+o;break;case lz.SpanKind.PRODUCER:e.dependencyTypeName=f2.DependencyTypeName.QueueMessage+" | "+n,e.target=i+"/"+o;break;case lz.SpanKind.CONSUMER:e.source=i+"/"+o,e.measurements=OL(OL({},e.measurements),(r={},r[f2.TIME_SINCE_ENQUEUED]=QWe(t),r));break;default:}};Rx.parseEventHubSpan=JWe});var u_e=R(ML=>{"use strict";Object.defineProperty(ML,"__esModule",{value:!0});ML.spanToTelemetryContract=void 0;var a_e=require("url"),rl=(tr(),wi(Vb)),Ut=(Qu(),wi(wG)),hd=jn(),ZWe=s_e(),eKe=Wo();function tKe(t){for(var e={},r=0,n=Object.keys(t.attributes);r<n.length;r++){var i=n[r];i.startsWith("http.")||i.startsWith("rpc.")||i.startsWith("db.")||i.startsWith("peer.")||i.startsWith("net.")||(e[i]=t.attributes[i])}var o=t.links.map(function(s){return{operation_Id:s.context.traceId,id:s.context.spanId}});return o.length>0&&(e["_MS.links"]=eKe.stringify(o)),e}function rKe(t){return t===Ut.DbSystemValues.DB2||t===Ut.DbSystemValues.DERBY||t===Ut.DbSystemValues.MARIADB||t===Ut.DbSystemValues.MSSQL||t===Ut.DbSystemValues.ORACLE||t===Ut.DbSystemValues.SQLITE||t===Ut.DbSystemValues.OTHER_SQL||t===Ut.DbSystemValues.HSQLDB||t===Ut.DbSystemValues.H2}function c_e(t){var e=t.attributes[Ut.SemanticAttributes.HTTP_METHOD];if(e){var r=t.attributes[Ut.SemanticAttributes.HTTP_URL];if(r)return String(r);var n=t.attributes[Ut.SemanticAttributes.HTTP_SCHEME],i=t.attributes[Ut.SemanticAttributes.HTTP_TARGET];if(n&&i){var o=t.attributes[Ut.SemanticAttributes.HTTP_HOST];if(o)return n+"://"+o+i;var s=t.attributes[Ut.SemanticAttributes.NET_PEER_PORT];if(s){var a=t.attributes[Ut.SemanticAttributes.NET_PEER_NAME];if(a)return n+"://"+a+":"+s+i;var u=t.attributes[Ut.SemanticAttributes.NET_PEER_IP];if(u)return n+"://"+u+":"+s+i}}}return""}function fz(t){var e=t.attributes[Ut.SemanticAttributes.PEER_SERVICE],r=t.attributes[Ut.SemanticAttributes.HTTP_HOST],n=t.attributes[Ut.SemanticAttributes.HTTP_URL],i=t.attributes[Ut.SemanticAttributes.NET_PEER_NAME],o=t.attributes[Ut.SemanticAttributes.NET_PEER_IP];return e?String(e):r?String(r):n?String(n):i?String(i):o?String(o):""}function nKe(t){var e={name:t.name,success:t.status.code!=rl.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};t.kind===rl.SpanKind.PRODUCER&&(e.dependencyTypeName=hd.DependencyTypeName.QueueMessage),t.kind===rl.SpanKind.INTERNAL&&t.parentSpanId&&(e.dependencyTypeName=hd.DependencyTypeName.InProc);var r=t.attributes[Ut.SemanticAttributes.HTTP_METHOD],n=t.attributes[Ut.SemanticAttributes.DB_SYSTEM],i=t.attributes[Ut.SemanticAttributes.RPC_SYSTEM];if(r){e.dependencyTypeName=hd.DependencyTypeName.Http;var o=t.attributes[Ut.SemanticAttributes.HTTP_URL];if(o){var s="";try{var a=new a_e.URL(String(o));s=a.pathname}catch{}e.name=r+" "+s}e.data=c_e(t);var u=t.attributes[Ut.SemanticAttributes.HTTP_STATUS_CODE];u&&(e.resultCode=String(u));var c=fz(t);if(c){try{var l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/),f=l.exec(c);if(f!=null){var p=f[1],m=f[3];(p=="https"&&m==":443"||p=="http"&&m==":80")&&(c=f[1]+f[2]+f[4])}}catch{}e.target=""+c}}else if(n){String(n)===Ut.DbSystemValues.MYSQL?e.dependencyTypeName="mysql":String(n)===Ut.DbSystemValues.POSTGRESQL?e.dependencyTypeName="postgresql":String(n)===Ut.DbSystemValues.MONGODB?e.dependencyTypeName="mongodb":String(n)===Ut.DbSystemValues.REDIS?e.dependencyTypeName="redis":rKe(String(n))?e.dependencyTypeName="SQL":e.dependencyTypeName=String(n);var d=t.attributes[Ut.SemanticAttributes.DB_STATEMENT],h=t.attributes[Ut.SemanticAttributes.DB_OPERATION];d?e.data=String(d):h&&(e.data=String(h));var c=fz(t),g=t.attributes[Ut.SemanticAttributes.DB_NAME];c?e.target=g?c+"|"+g:""+c:e.target=g?""+g:""+n}else if(i){e.dependencyTypeName=hd.DependencyTypeName.Grpc;var v=t.attributes[Ut.SemanticAttributes.RPC_GRPC_STATUS_CODE];v&&(e.resultCode=String(v));var c=fz(t);c?e.target=""+c:i&&(e.target=String(i))}return e}function iKe(t){var e={name:t.name,success:t.status.code!=rl.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},r=t.attributes[Ut.SemanticAttributes.HTTP_METHOD],n=t.attributes[Ut.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(r){if(t.kind==rl.SpanKind.SERVER){var i=t.attributes[Ut.SemanticAttributes.HTTP_ROUTE],o=t.attributes[Ut.SemanticAttributes.HTTP_URL];if(i)e.name=r+" "+i;else if(o)try{var s=new a_e.URL(String(o));e.name=r+" "+s.pathname}catch{}}e.url=c_e(t);var a=t.attributes[Ut.SemanticAttributes.HTTP_STATUS_CODE];a&&(e.resultCode=String(a))}else n&&(e.resultCode=String(n));return e}function oKe(t){var e;switch(t.kind){case rl.SpanKind.CLIENT:case rl.SpanKind.PRODUCER:case rl.SpanKind.INTERNAL:e=nKe(t);break;case rl.SpanKind.SERVER:case rl.SpanKind.CONSUMER:e=iKe(t);break}var r=t.spanContext?t.spanContext():t.context(),n=""+r.spanId,i=Math.round(t.duration[0]*1e3+t.duration[1]/1e6);return e.id=n,e.duration=i,e.properties=tKe(t),t.attributes[hd.AzNamespace]&&(t.kind===rl.SpanKind.INTERNAL&&(e.dependencyTypeName=hd.DependencyTypeName.InProc+" | "+t.attributes[hd.AzNamespace]),t.attributes[hd.AzNamespace]===hd.MicrosoftEventHub&&ZWe.parseEventHubSpan(t,e)),e}ML.spanToTelemetryContract=oKe});var f_e=R(jh=>{"use strict";var Px=jh&&jh.__assign||function(){return Px=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Px.apply(this,arguments)};Object.defineProperty(jh,"__esModule",{value:!0});jh.AsyncScopeManager=jh.OpenTelemetryScopeManagerWrapper=void 0;var Gh=Uh(),sKe=require("events"),l_e=function(){function t(){}return t.prototype.active=function(){var e=this,r=Gh.CorrelationContextManager.getCurrentContext();return Px(Px({},r),{getValue:function(n){return e._activeSymbol?n===e._activeSymbol?r:!1:(e._activeSymbol=n,r)},setValue:function(){}})},t.prototype.with=function(e,r){var n=e.parentSpanId,i=e.name,o=t._spanToContext(e,n,i);return Gh.CorrelationContextManager.runWithContext(o,r)()},t.prototype.bind=function(e){return typeof e=="function"?Gh.CorrelationContextManager.wrapCallback(e):(e instanceof sKe.EventEmitter&&Gh.CorrelationContextManager.wrapEmitter(e),e)},t.prototype.enable=function(){return Gh.CorrelationContextManager.enable(),this},t.prototype.disable=function(){return Gh.CorrelationContextManager.disable(),this},t._spanToContext=function(e,r,n){var i=e.spanContext?e.spanContext():e.context(),o=Px(Px({},e.spanContext()),{traceFlags:e.spanContext().traceFlags}),s=r?"|"+i.traceId+"."+r+".":i.traceId,a=Gh.CorrelationContextManager.getCurrentContext();a&&(o.traceId=a.operation.id,r||(s=a.operation.parentId));var u=Gh.CorrelationContextManager.spanToContextObject(o,s,n);return u},t}();jh.OpenTelemetryScopeManagerWrapper=l_e;jh.AsyncScopeManager=new l_e});var p_e=R(Vh=>{"use strict";Object.defineProperty(Vh,"__esModule",{value:!0});Vh.enable=Vh.subscriber=void 0;var p2=(tr(),wi(Vb)),aKe=jn(),pz=ti(),cKe=u_e(),uKe=f_e(),d_=[],lKe=function(t){try{var e=t.data,r=cKe.spanToTelemetryContract(e);uKe.AsyncScopeManager.with(e,function(){d_.forEach(function(n){e.kind===p2.SpanKind.SERVER||e.kind===p2.SpanKind.CONSUMER?n.trackRequest(r):(e.kind===p2.SpanKind.CLIENT||e.kind===p2.SpanKind.INTERNAL||e.kind===p2.SpanKind.PRODUCER)&&n.trackDependency(r)})})}catch{}};Vh.subscriber=lKe;function fKe(t,e){if(t){var r=d_.find(function(n){return n==e});if(r)return;d_.length===0&&pz.channel.subscribe("azure-coretracing",Vh.subscriber,pz.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(aKe.StatsbeatInstrumentation.AZURE_CORE_TRACING)}),d_.push(e)}else d_=d_.filter(function(n){return n!=e}),d_.length===0&&pz.channel.unsubscribe("azure-coretracing",Vh.subscriber)}Vh.enable=fKe});var d_e=R(zh=>{"use strict";Object.defineProperty(zh,"__esModule",{value:!0});zh.enable=zh.subscriber=void 0;var pKe=jn(),dz=ti(),m_=[],dKe=function(t){t.data.event.commandName!=="ismaster"&&m_.forEach(function(e){var r=t.data.startedData&&t.data.startedData.databaseName||"Unknown database";e.trackDependency({target:r,data:t.data.event.commandName,name:t.data.event.commandName,duration:t.data.event.duration,success:t.data.succeeded,resultCode:t.data.succeeded?"0":"1",time:t.data.startedData.time,dependencyTypeName:"mongodb"})})};zh.subscriber=dKe;function mKe(t,e){if(t){var r=m_.find(function(n){return n==e});if(r)return;m_.length===0&&dz.channel.subscribe("mongodb",zh.subscriber,dz.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(pKe.StatsbeatInstrumentation.MONGODB)}),m_.push(e)}else m_=m_.filter(function(n){return n!=e}),m_.length===0&&dz.channel.unsubscribe("mongodb",zh.subscriber)}zh.enable=mKe});var m_e=R(Yh=>{"use strict";Object.defineProperty(Yh,"__esModule",{value:!0});Yh.enable=Yh.subscriber=void 0;var hKe=jn(),mz=ti(),h_=[],gKe=function(t){h_.forEach(function(e){var r=t.data.query||{},n=r.sql||"Unknown query",i=!t.data.err,o=r._connection||{},s=o.config||{},a=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;e.trackDependency({target:a,data:n,name:n,duration:t.data.duration,success:i,resultCode:i?"0":"1",time:t.data.time,dependencyTypeName:"mysql"})})};Yh.subscriber=gKe;function vKe(t,e){if(t){var r=h_.find(function(n){return n==e});if(r)return;h_.length===0&&mz.channel.subscribe("mysql",Yh.subscriber,mz.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(hKe.StatsbeatInstrumentation.MYSQL)}),h_.push(e)}else h_=h_.filter(function(n){return n!=e}),h_.length===0&&mz.channel.unsubscribe("mysql",Yh.subscriber)}Yh.enable=vKe});var h_e=R($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.enable=$h.subscriber=void 0;var _Ke=jn(),hz=ti(),g_=[],yKe=function(t){g_.forEach(function(e){t.data.commandObj.command!=="info"&&e.trackDependency({target:t.data.address,name:t.data.commandObj.command,data:t.data.commandObj.command,duration:t.data.duration,success:!t.data.err,resultCode:t.data.err?"1":"0",time:t.data.time,dependencyTypeName:"redis"})})};$h.subscriber=yKe;function bKe(t,e){if(t){var r=g_.find(function(n){return n==e});if(r)return;g_.length===0&&hz.channel.subscribe("redis",$h.subscriber,hz.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(_Ke.StatsbeatInstrumentation.REDIS)}),g_.push(e)}else g_=g_.filter(function(n){return n!=e}),g_.length===0&&hz.channel.unsubscribe("redis",$h.subscriber)}$h.enable=bKe});var g_e=R(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.enable=Wh.subscriber=void 0;var xKe=jn(),gz=ti(),v_=[],EKe=function(t){v_.forEach(function(e){var r=t.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",i=!t.data.error,o=t.data.database.host+":"+t.data.database.port;e.trackDependency({target:o,data:n,name:n,duration:t.data.duration,success:i,resultCode:i?"0":"1",time:t.data.time,dependencyTypeName:"postgres"})})};Wh.subscriber=EKe;function TKe(t,e){if(t){var r=v_.find(function(n){return n==e});if(r)return;v_.length===0&&gz.channel.subscribe("postgres",Wh.subscriber,gz.trueFilter,function(n,i){var o=e.getStatsbeat();o&&o.addInstrumentation(xKe.StatsbeatInstrumentation.POSTGRES)}),v_.push(e)}else v_=v_.filter(function(n){return n!=e}),v_.length===0&&gz.channel.unsubscribe("postgres",Wh.subscriber)}Wh.enable=TKe});var kx=R((_z,v_e)=>{"use strict";var FL=_z&&_z.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},Nx=require("http"),Dx=require("https"),UL=bn(),vz=Wo(),Kh=ex(),SKe=o_e(),d2=Uh(),BL=q4(),CKe=B4(),m2=r_(),IKe=function(){function t(e){if(t.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),CKe.IsInitialized&&(p_e().enable(e,this._client),d_e().enable(e,this._client),m_e().enable(e,this._client),h_e().enable(e,this._client),g_e().enable(e,this._client))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype._initialize=function(){var e=this;this._isInitialized=!0;var r=Nx.request,n=Dx.request,i=function(o,s){try{var a=!s[t.disableCollectionRequestOption]&&!o[t.alreadyAutoCollectedFlag],u=null;if(s.headers&&(u=s.headers["User-Agent"]||s.headers["user-agent"],u&&u.toString().indexOf("azsdk-js")!==-1&&(a=!1)),o&&s&&a&&(d2.CorrelationContextManager.wrapEmitter(o),e._isEnabled))if(o[t.alreadyAutoCollectedFlag]=!0,d2.CorrelationContextManager.getCurrentContext())t.trackRequest(e._client,{options:s,request:o});else{var c=null;if(m2.w3cEnabled){var l=new BL;c=l.traceId}else{var f=m2.generateRequestId(null);c=m2.getRootId(f)}var p=d2.CorrelationContextManager.generateContextObject(c);d2.CorrelationContextManager.runWithContext(p,function(){t.trackRequest(e._client,{options:s,request:o})})}}catch(m){UL.warn("Failed to generate dependency telemetry.",vz.dumpObj(m))}};Nx.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=r.call.apply(r,FL([Nx,o],s));return i(u,o),u},Dx.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=n.call.apply(n,FL([Dx,o],s));return i(u,o),u},Nx.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=Nx.request).call.apply(s,FL([Nx,o],a));return c.end(),c},Dx.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=Dx.request).call.apply(s,FL([Dx,o],a));return c.end(),c}},t.trackRequest=function(e,r){if(!r.options||!r.request||!e){UL.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!e);return}var n=new SKe(r.options,r.request),i=d2.CorrelationContextManager.getCurrentContext(),o,s;if(i&&i.operation&&i.operation.traceparent&&BL.isValidTraceId(i.operation.traceparent.traceId))i.operation.traceparent.updateSpanId(),o=i.operation.traceparent.getBackCompatRequestId();else if(m2.w3cEnabled){var a=new BL;s=a.toString(),o=a.getBackCompatRequestId()}else o=i&&i.operation&&i.operation.parentId+t.requestNumber+++".";if(vz.canIncludeCorrelationHeader(e,n.getUrl())&&r.request.getHeader&&r.request.setHeader&&e.config&&e.config.correlationId){var u=r.request.getHeader(Kh.requestContextHeader);try{vz.safeIncludeCorrelationHeader(e,r.request,u)}catch(f){UL.warn("Request-Context header could not be set. Correlation of requests may be lost",f)}if(i&&i.operation)try{if(r.request.setHeader(Kh.requestIdHeader,o),e.config.ignoreLegacyHeaders||(r.request.setHeader(Kh.parentIdHeader,i.operation.id),r.request.setHeader(Kh.rootIdHeader,o)),s||i.operation.traceparent)r.request.setHeader(Kh.traceparentHeader,s||i.operation.traceparent.toString());else if(m2.w3cEnabled){var a=new BL().toString();r.request.setHeader(Kh.traceparentHeader,a)}if(i.operation.tracestate){var c=i.operation.tracestate.toString();c&&r.request.setHeader(Kh.traceStateHeader,c)}var l=i.customProperties.serializeToHeader();l&&r.request.setHeader(Kh.correlationContextHeader,l)}catch(f){UL.warn("Correlation headers could not be set. Correlation of requests may be lost.",f)}}r.request.on&&(r.request.on("response",function(f){if(!r.isProcessed){r.isProcessed=!0,n.onResponse(f);var p=n.getDependencyTelemetry(r,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=r.options,p.contextObjects["http.ClientRequest"]=r.request,p.contextObjects["http.ClientResponse"]=f,e.trackDependency(p)}}),r.request.on("error",function(f){if(!r.isProcessed){r.isProcessed=!0,n.onError(f);var p=n.getDependencyTelemetry(r,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=r.options,p.contextObjects["http.ClientRequest"]=r.request,p.contextObjects.Error=f,e.trackDependency(p)}}),r.request.on("abort",function(){if(!r.isProcessed){r.isProcessed=!0,n.onError(new Error("The request has been aborted and the network socket has closed."));var f=n.getDependencyTelemetry(r,o);f.contextObjects=f.contextObjects||{},f.contextObjects["http.RequestOptions"]=r.options,f.contextObjects["http.ClientRequest"]=r.request,e.trackDependency(f)}}))},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t.disableCollectionRequestOption="disableAppInsightsAutoCollection",t.requestNumber=1,t.alreadyAutoCollectedFlag="_appInsightsAutoCollected",t}();v_e.exports=IKe});var bz=R((sYt,E_e)=>{"use strict";var __e=require("http"),y_e=require("https"),b_e=bn(),x_e=Wo(),wKe=ex(),yz=Vj(),gd=Uh(),AKe=AL(),RKe=function(){function t(e){if(t.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||AKe.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},t.prototype.useAutoCorrelation=function(e,r){e&&!this._isAutoCorrelating?gd.CorrelationContextManager.enable(r):!e&&this._isAutoCorrelating&&gd.CorrelationContextManager.disable(),this._isAutoCorrelating=e},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},t.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return gd.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},t.prototype._registerRequest=function(e,r,n){var i=this,o=new yz(e),s=this._generateCorrelationContext(o);gd.CorrelationContextManager.runWithContext(s,function(){i._isEnabled&&(e[t.alreadyAutoCollectedFlag]=!0,t.trackRequest(i._client,{request:e,response:r},o)),typeof n=="function"&&n(e,r)})},t.prototype._initialize=function(){if(this._isInitialized=!0,!t.HANDLER_READY){t.HANDLER_READY=!0;var e=function(o){if(o){if(typeof o!="function")throw new Error("onRequest handler must be a function");return function(s,a){gd.CorrelationContextManager.wrapEmitter(s),gd.CorrelationContextManager.wrapEmitter(a);var u=s&&!s[t.alreadyAutoCollectedFlag];s&&u&&t.INSTANCE?t.INSTANCE._registerRequest(s,a,o):o(s,a)}}},r=function(o){var s=o.addListener.bind(o);o.addListener=function(a,u){switch(a){case"request":case"checkContinue":return s(a,e(u));default:return s(a,u)}},o.on=o.addListener},n=__e.createServer;__e.createServer=function(o,s){if(s&&typeof s=="function"){var a=n(o,e(s));return r(a),a}else{var a=n(e(o));return r(a),a}};var i=y_e.createServer;y_e.createServer=function(o,s){var a=i(o,e(s));return r(a),a}}},t.trackRequestSync=function(e,r){if(!r.request||!r.response||!e){b_e.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!e);return}r.isProcessed=!1,t.addResponseCorrelationIdHeader(e,r.response);var n=gd.CorrelationContextManager.getCurrentContext(),i=new yz(r.request,n&&n.operation.parentId);n&&(n.operation.id=i.getOperationId(e.context.tags)||n.operation.id,n.operation.name=i.getOperationName(e.context.tags)||n.operation.name,n.operation.parentId=i.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(i.getCorrelationContextHeader())),t.endRequest(e,i,r,r.duration,r.error)},t.trackRequest=function(e,r,n){if(!r.request||!r.response||!e){b_e.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!e);return}r.isProcessed=!1;var i=gd.CorrelationContextManager.getCurrentContext(),o=n||new yz(r.request,i&&i.operation.parentId);x_e.canIncludeCorrelationHeader(e,o.getUrl())&&t.addResponseCorrelationIdHeader(e,r.response),i&&!n&&(i.operation.id=o.getOperationId(e.context.tags)||i.operation.id,i.operation.name=o.getOperationName(e.context.tags)||i.operation.name,i.operation.parentId=o.getOperationParentId(e.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(o.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",function(){t.endRequest(e,o,r,null,null)}),r.request.on&&r.request.on("error",function(s){t.endRequest(e,o,r,null,s)}),r.request.on&&r.request.on("aborted",function(){var s="The request has been aborted and the network socket has closed.";t.endRequest(e,o,r,null,s)})},t.addResponseCorrelationIdHeader=function(e,r){if(e.config&&e.config.correlationId&&r.getHeader&&r.setHeader&&!r.headersSent){var n=r.getHeader(wKe.requestContextHeader);x_e.safeIncludeCorrelationHeader(e,r,n)}},t.endRequest=function(e,r,n,i,o){if(!n.isProcessed){n.isProcessed=!0,o?r.onError(o,i):r.onResponse(n.response,i);var s=r.getRequestTelemetry(n);if(s.tagOverrides=r.getRequestTags(e.context.tags),n.tagOverrides)for(var a in n.tagOverrides)s.tagOverrides[a]=n.tagOverrides[a];var u=r.getLegacyRootId();u&&(s.properties.ai_legacyRootId=u),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=n.request,s.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(s)}},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1,gd.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},t.HANDLER_READY=!1,t.alreadyAutoCollectedFlag="_appInsightsAutoCollected",t}();E_e.exports=RKe});var C_e=R((Ez,S_e)=>{"use strict";var ru=Ez&&Ez.__assign||function(){return ru=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ru.apply(this,arguments)},xz=require("os"),__=Ts(),T_e=jn(),PKe=Wo(),NKe=bn(),DKe=PKe.w3cTraceId(),kKe=function(){function t(){}return t.createQuickPulseEnvelope=function(e,r,n,i){var o=xz&&typeof xz.hostname=="function"&&xz.hostname()||"Unknown",s=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||o,a=i.tags&&i.keys&&i.keys.cloudRole&&i.tags[i.keys.cloudRole]||null,u={Documents:r.length>0?r:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:DKe,MachineName:o,Instance:s,RoleName:a};return u},t.createQuickPulseMetric=function(e){var r;return r={Name:e.name,Value:e.value,Weight:e.count||1},r},t.telemetryEnvelopeToQuickPulseDocument=function(e){switch(e.data.baseType){case __.TelemetryTypeString.Event:return t.createQuickPulseEventDocument(e);case __.TelemetryTypeString.Exception:return t.createQuickPulseExceptionDocument(e);case __.TelemetryTypeString.Trace:return t.createQuickPulseTraceDocument(e);case __.TelemetryTypeString.Dependency:return t.createQuickPulseDependencyDocument(e);case __.TelemetryTypeString.Request:return t.createQuickPulseRequestDocument(e)}return null},t.createQuickPulseEventDocument=function(e){var r=t.createQuickPulseDocument(e),n=e.data.baseData.name,i=ru(ru({},r),{Name:n});return i},t.createQuickPulseTraceDocument=function(e){var r=t.createQuickPulseDocument(e),n=e.data.baseData.severityLevel||0,i=ru(ru({},r),{Message:e.data.baseData.message,SeverityLevel:__.SeverityLevel[n]});return i},t.createQuickPulseExceptionDocument=function(e){var r=t.createQuickPulseDocument(e),n=e.data.baseData.exceptions,i="",o="",s="";n&&n.length>0&&(n[0].parsedStack&&n[0].parsedStack.length>0?n[0].parsedStack.forEach(function(u){i+=u.assembly+`
`}):n[0].stack&&n[0].stack.length>0&&(i=n[0].stack),o=n[0].message,s=n[0].typeName);var a=ru(ru({},r),{Exception:i,ExceptionMessage:o,ExceptionType:s});return a},t.createQuickPulseRequestDocument=function(e){var r=t.createQuickPulseDocument(e),n=e.data.baseData,i=ru(ru({},r),{Name:n.name,Success:n.success,Duration:n.duration,ResponseCode:n.responseCode,OperationName:n.name});return i},t.createQuickPulseDependencyDocument=function(e){var r=t.createQuickPulseDocument(e),n=e.data.baseData,i=ru(ru({},r),{Name:n.name,Target:n.target,Success:n.success,Duration:n.duration,ResultCode:n.resultCode,CommandName:n.data,OperationName:r.OperationId,DependencyTypeName:n.type});return i},t.createQuickPulseDocument=function(e){var r,n,i,o;e.data.baseType?(n=T_e.TelemetryTypeStringToQuickPulseType[e.data.baseType],r=T_e.TelemetryTypeStringToQuickPulseDocumentType[e.data.baseType]):NKe.warn("Document type invalid; not sending live metric document",e.data.baseType),i=e.tags[t.keys.operationId],o=t.aggregateProperties(e);var s={DocumentType:r,__type:n,OperationId:i,Version:"1.0",Properties:o};return s},t.aggregateProperties=function(e){var r=[],n=e.data.baseData.measurements||{};for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],s={key:i,value:o};r.push(s)}var a=e.data.baseData.properties||{};for(var i in a)if(a.hasOwnProperty(i)){var o=a[i],s={key:i,value:o};r.push(s)}return r},t.keys=new __.ContextTagKeys,t}();S_e.exports=kKe});var w_e=R((aYt,I_e)=>{"use strict";var LKe=function(){return(Date.now()+621355968e5)*1e4};I_e.exports={getTransmissionTime:LKe}});var N_e=R((h2,P_e)=>{"use strict";var A_e=h2&&h2.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},R_e=h2&&h2.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},OKe=require("https"),MKe=kx(),Tz=bn(),FKe=w_e(),Sz=Wo(),UKe=require("url"),nu={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect-v2",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},BKe=function(){function t(e,r){this._config=e,this._consecutiveErrors=0,this._getAuthorizationHandler=r}return t.prototype.ping=function(e,r,n){var i=[{name:nu.streamId,value:e.StreamId},{name:nu.machineName,value:e.MachineName},{name:nu.roleName,value:e.RoleName},{name:nu.instanceName,value:e.Instance},{name:nu.invariantVersion,value:e.InvariantVersion.toString()}];this._submitData(e,r,n,"ping",i)},t.prototype.post=function(e,r,n){return A_e(this,void 0,void 0,function(){return R_e(this,function(i){switch(i.label){case 0:return[4,this._submitData([e],r,n,"post")];case 1:return i.sent(),[2]}})})},t.prototype._submitData=function(e,r,n,i,o){return A_e(this,void 0,void 0,function(){var s,a,u,c,l,f,p,m,d=this;return R_e(this,function(h){switch(h.label){case 0:if(s=Sz.stringify(e),a=(p={},p[MKe.disableCollectionRequestOption]=!0,p.host=r&&r.length>0?r:this._config.quickPulseHost,p.method=nu.method,p.path="/QuickPulseService.svc/"+i+"?ikey="+this._config.instrumentationKey,p.headers=(m={Expect:"100-continue"},m[nu.time]=FKe.getTransmissionTime(),m["Content-Type"]="application/json",m["Content-Length"]=Buffer.byteLength(s),m),p),o&&o.length>0&&o.forEach(function(g){return a.headers[g.name]=g.value}),i!=="post")return[3,4];if(u=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!u)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,u.addAuthorizationHeader(a)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),l="Failed to get AAD bearer token for the Application. Error:",Tz.info(t.TAG,l,c),[2];case 4:return this._config.httpsAgent?a.agent=this._config.httpsAgent:a.agent=Sz.tlsRestrictedAgent,f=OKe.request(a,function(g){if(g.statusCode==200){var v=g.headers[nu.subscribed]==="true",_=null;try{_=g.headers[nu.endpointRedirect]?new UKe.URL(g.headers[nu.endpointRedirect].toString()).host:null}catch(x){d._onError("Failed to parse redirect header from QuickPulse: "+Sz.dumpObj(x))}var y=g.headers[nu.pollingIntervalHint]?parseInt(g.headers[nu.pollingIntervalHint].toString()):null;d._consecutiveErrors=0,n(v,g,_,y)}else d._onError("StatusCode:"+g.statusCode+" StatusMessage:"+g.statusMessage),n()}),f.on("error",function(g){d._onError(g),n()}),f.write(s),f.end(),[2]}})})},t.prototype._onError=function(e){this._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%t.MAX_QPS_FAILURES_BEFORE_WARN===0?(r="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",Tz.warn(t.TAG,r,e)):Tz.info(t.TAG,r,e)},t.TAG="QuickPulseSender",t.MAX_QPS_FAILURES_BEFORE_WARN=25,t}();P_e.exports=BKe});var M_e=R((g2,O_e)=>{"use strict";var D_e=g2&&g2.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},k_e=g2&&g2.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},L_e=bn(),Cz=C_e(),qKe=N_e(),HKe=jn(),GKe=Ix(),jKe=function(){function t(e,r,n){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=r||new GKe,this._sender=new qKe(this.config,n),this._isEnabled=!1}return t.prototype.addCollector=function(e){this._collectors.push(e)},t.prototype.trackMetric=function(e){this._addMetric(e)},t.prototype.addDocument=function(e){if(this._isCollectingData){var r=Cz.telemetryEnvelopeToQuickPulseDocument(e);r&&this._documents.push(r)}},t.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},t.prototype.enableCollectors=function(e){this._collectors.forEach(function(r){r.enable(e)})},t.prototype._addMetric=function(e){var r=e.value,n=e.count||1,i=HKe.PerformanceToQuickPulseCounter[e.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+r*n)/(this._metrics[i].Weight+n),this._metrics[i].Weight+=n):(this._metrics[i]=Cz.createQuickPulseMetric(e),this._metrics[i].Name=i,this._metrics[i].Weight=1))},t.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},t.prototype._goQuickPulse=function(){return D_e(this,void 0,void 0,function(){var e,r,n,i,o=this;return k_e(this,function(s){switch(s.label){case 0:return e=Object.keys(this._metrics).map(function(a){return o._metrics[a]}),r=Cz.createQuickPulseEnvelope(e,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return s.sent(),[3,3];case 2:this._ping(r),s.label=3;case 3:return n=this._pollingIntervalHint>0?this._pollingIntervalHint:t.PING_INTERVAL,i=this._isCollectingData?t.POST_INTERVAL:n,this._isCollectingData&&Date.now()-this._lastSuccessTime>=t.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=t.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=t.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=t.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref(),[2]}})})},t.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},t.prototype._post=function(e){return D_e(this,void 0,void 0,function(){return k_e(this,function(r){switch(r.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return r.sent(),[2]}})})},t.prototype._quickPulseDone=function(e,r,n,i){e!=null?(this._isCollectingData!==e&&(L_e.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,L_e.info("Redirecting endpoint to: ",n)),i&&i>0&&(this._pollingIntervalHint=i),r&&r.statusCode<300&&r.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},t.MAX_POST_WAIT_TIME=2e4,t.MAX_PING_WAIT_TIME=6e4,t.FALLBACK_INTERVAL=6e4,t.PING_INTERVAL=5e3,t.POST_INTERVAL=1e3,t}();O_e.exports=jKe});var F_e=R(Lx=>{"use strict";var qL=Lx&&Lx.__assign||function(){return qL=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qL.apply(this,arguments)};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.AutoCollectNativePerformance=void 0;var v2=Ix(),VKe=bn(),zKe=function(){function t(e){this._disabledMetrics={},t.INSTANCE&&t.INSTANCE.dispose(),t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e,r,n){var i=this;if(r===void 0&&(r={}),n===void 0&&(n=6e4),t._metricsAvailable==null&&e&&!this._isInitialized)try{var o=require("applicationinsights-native-metrics");t._emitter=new o,t._metricsAvailable=!0,VKe.info("Native metrics module successfully loaded!")}catch{t._metricsAvailable=!1;return}this._isEnabled=e,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&t._emitter?(t._emitter.enable(!0,n),this._handle||(this._handle=setInterval(function(){return i._trackNativeMetrics()},n),this._handle.unref())):t._emitter&&(t._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},t.prototype.dispose=function(){this.enable(!1)},t.parseEnabled=function(e,r){var n=r.disableAllExtendedMetrics,i=r.extendedMetricDisablers;if(n)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,u=o;a<u.length;a++){var c=u[a];s[c]=!0}return typeof e=="object"?{isEnabled:!0,disabledMetrics:qL(qL({},e),s)}:{isEnabled:e,disabledMetrics:s}}return typeof e=="boolean"?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},t.prototype._trackNativeMetrics=function(){var e=!0;typeof this._isEnabled!="object"&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},t.prototype._trackGarbageCollection=function(){var e;if(!this._disabledMetrics.gc){var r=t._emitter.getGCData();for(var n in r){var i=r[n].metrics,o=n+" Garbage Collection Duration",s=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:s,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+v2.sdkVersion,e)})}}},t.prototype._trackEventLoop=function(){var e;if(!this._disabledMetrics.loop){var r=t._emitter.getLoopData(),n=r.loopUsage;if(n.count!=0){var i="Event Loop CPU Time",o=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:i,value:n.total,count:n.count,min:n.min,max:n.max,stdDev:o,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+v2.sdkVersion,e)})}}},t.prototype._trackHeapUsage=function(){var e,r,n;if(!this._disabledMetrics.heap){var i=process.memoryUsage(),o=i.heapUsed,s=i.heapTotal,a=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+v2.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+v2.sdkVersion,r)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+v2.sdkVersion,n)})}},t}();Lx.AutoCollectNativePerformance=zKe});var q_e=R(Xh=>{"use strict";var U_e=Xh&&Xh.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},B_e=Xh&&Xh.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.AzureFunctionsHook=void 0;var HL=bn(),Iz=Uh(),YKe=function(){function t(e){this._client=e,this._autoGenerateIncomingRequests=!1;try{this._functionsCoreModule=require("@azure/functions-core"),this._addPreInvocationHook(),this._addPostInvocationHook()}catch{HL.info("AzureFunctionsHook failed to load, not running in Azure Functions")}}return t.prototype._getFuncModelHelper=function(){if(this._cachedModelHelper===void 0){var e=this._functionsCoreModule.getProgrammingModel();e.name==="@azure/functions"&&(e.version.startsWith("3.")?this._cachedModelHelper=new $Ke:e.version.startsWith("4.")&&(this._cachedModelHelper=new WKe)),this._cachedModelHelper||(this._cachedModelHelper=null,HL.warn('AzureFunctionsHook does not support model "'+e.name+'" version "'+e.version+'"'))}return this._cachedModelHelper},t.prototype.enable=function(e){this._autoGenerateIncomingRequests=e},t.prototype.dispose=function(){this.enable(!1),this._removeInvocationHooks(),this._functionsCoreModule=void 0},t.prototype._addPreInvocationHook=function(){var e=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",function(r){return U_e(e,void 0,void 0,function(){var n,i,o,s;return B_e(this,function(a){try{n=this._getFuncModelHelper(),n&&(i=r.invocationContext,o=Iz.CorrelationContextManager.startOperation(i),o&&(o.customProperties.setProperty("InvocationId",i.invocationId),s=i.traceContext,s.attributes&&(o.customProperties.setProperty("ProcessId",s.attributes.ProcessId),o.customProperties.setProperty("LogLevel",s.attributes.LogLevel),o.customProperties.setProperty("Category",s.attributes.Category),o.customProperties.setProperty("HostInstanceId",s.attributes.HostInstanceId),o.customProperties.setProperty("AzFuncLiveLogsSessionId",s.attributes["#AzFuncLiveLogsSessionId"])),r.functionCallback=Iz.CorrelationContextManager.wrapCallback(r.functionCallback,o),n.isHttpTrigger(r)&&this._autoGenerateIncomingRequests&&(r.hookData.appInsightsExtractedContext=o,r.hookData.appInsightsStartTime=Date.now())))}catch(u){return HL.warn("Failed to propagate context in Azure Functions",u),[2]}return[2]})})}))},t.prototype._addPostInvocationHook=function(){var e=this;this._postInvocationHook||(this._postInvocationHook=this._functionsCoreModule.registerHook("postInvocation",function(r){return U_e(e,void 0,void 0,function(){var n,i,o,s,a=this;return B_e(this,function(u){try{n=this._getFuncModelHelper(),n&&this._autoGenerateIncomingRequests&&n.isHttpTrigger(r)&&(i=r.inputs[0],i&&(o=r.hookData.appInsightsStartTime||Date.now(),s=r.hookData.appInsightsExtractedContext,s?Iz.CorrelationContextManager.runWithContext(s,function(){a._createIncomingRequestTelemetry(i,r,o,s.operation.parentId)}):this._createIncomingRequestTelemetry(i,r,o,null)))}catch(c){HL.warn("Error creating automatic incoming request in Azure Functions",c)}return[2]})})}))},t.prototype._createIncomingRequestTelemetry=function(e,r,n,i){var o=this._getFuncModelHelper().getStatusCodes(r),s=200;if(o)for(var a=0,u=o;a<u.length;a++){var c=u[a];if(typeof c=="number"&&Number.isInteger(c)){s=c;break}else if(typeof c=="string"){var l=parseInt(c);if(!isNaN(l)){s=l;break}}}else s=void 0;this._client.trackRequest({name:e.method+" "+e.url,resultCode:s,success:typeof s=="number"?0<s&&s<400:void 0,url:e.url,time:new Date(n),duration:Date.now()-n,id:i}),this._client.flush()},t.prototype._removeInvocationHooks=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._postInvocationHook&&(this._postInvocationHook.dispose(),this._postInvocationHook=void 0)},t}();Xh.AzureFunctionsHook=YKe;var $Ke=function(){function t(){}return t.prototype._getInvocationContext=function(e){return e.invocationContext},t.prototype.getStatusCodes=function(e){var r=this._getInvocationContext(e),n,i=r.bindingDefinitions.find(function(o){return o.direction==="out"&&o.type.toLowerCase()==="http"});return i?.name==="$return"?n=e.result:i&&r.bindings&&r.bindings[i.name]!==void 0?n=r.bindings[i.name]:n=r.res,n?[n.statusCode,n.status]:void 0},t.prototype.isHttpTrigger=function(e){var r=this._getInvocationContext(e);return!!r.bindingDefinitions.find(function(n){var i;return((i=n.type)===null||i===void 0?void 0:i.toLowerCase())==="httptrigger"})},t}(),WKe=function(){function t(){}return t.prototype._getInvocationContext=function(e){return e.invocationContext},t.prototype.getStatusCodes=function(e){var r=e.result;return r?[r.status]:void 0},t.prototype.isHttpTrigger=function(e){var r=this._getInvocationContext(e);return r.options.trigger.type.toLowerCase()==="httptrigger"},t}()});var wz=R((lYt,j_e)=>{"use strict";var KKe=r_(),H_e=az(),XKe=bn(),G_e=jn(),QKe=require("url"),JKe=kk(),ZKe=function(){function t(e){this._endpointBase=G_e.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var r=this._connectionString,n=H_e.parse(e),i=H_e.parse(r),o=!n.instrumentationkey&&Object.keys(n).length>0?null:e,s=this._instrumentationKey;this.instrumentationKey=n.instrumentationkey||o||i.instrumentationkey||s;var a=""+(this.endpointUrl||n.ingestionendpoint||i.ingestionendpoint||this._endpointBase);a.endsWith("/")&&(a=a.slice(0,-1)),this.endpointUrl=a+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||30*1e3,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=n.ingestionendpoint||i.ingestionendpoint||process.env[t.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||n.liveendpoint||i.liveendpoint||process.env[t.ENV_quickPulseHost]||G_e.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new QKe.URL(this.quickPulseHost).host),this.aadAudience=n.aadaudience||i.aadaudience}return Object.defineProperty(t.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){this._profileQueryEndpoint=e,this.correlationId=KKe.correlationIdPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(e){t._validateInstrumentationKey(e)||XKe.warn("An invalid instrumentation key was provided. There may be resulting telemetry loss",this.instrumentationKey),this._instrumentationKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),t.prototype._mergeConfig=function(){var e=JKe.JsonConfig.getInstance();this._connectionString=e.connectionString,this._instrumentationKey=e.instrumentationKey,this.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=e.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=e.disableAllExtendedMetrics,this.disableAppInsights=e.disableAppInsights,this.disableStatsbeat=e.disableStatsbeat,this.distributedTracingMode=e.distributedTracingMode,this.enableAutoCollectConsole=e.enableAutoCollectConsole,this.enableLoggerErrorToTrace=e.enableLoggerErrorToTrace,this.enableAutoCollectDependencies=e.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=e.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=e.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=e.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=e.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=e.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=e.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=e.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=e.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=e.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=e.enableInternalDebugLogging,this.enableInternalWarningLogging=e.enableInternalWarningLogging,this.enableResendInterval=e.enableResendInterval,this.enableMaxBytesOnDisk=e.enableMaxBytesOnDisk,this.enableSendLiveMetrics=e.enableSendLiveMetrics,this.enableUseAsyncHooks=e.enableUseAsyncHooks,this.enableUseDiskRetryCaching=e.enableUseDiskRetryCaching,this.endpointUrl=e.endpointUrl,this.extendedMetricDisablers=e.extendedMetricDisablers,this.ignoreLegacyHeaders=e.ignoreLegacyHeaders,this.maxBatchIntervalMs=e.maxBatchIntervalMs,this.maxBatchSize=e.maxBatchSize,this.proxyHttpUrl=e.proxyHttpUrl,this.proxyHttpsUrl=e.proxyHttpsUrl,this.quickPulseHost=e.quickPulseHost,this.samplingPercentage=e.samplingPercentage,this.enableWebInstrumentation=e.enableWebInstrumentation,this._webInstrumentationConnectionString=e.webInstrumentationConnectionString,this.webInstrumentationConfig=e.webInstrumentationConfig,this.webInstrumentationSrc=e.webInstrumentationSrc},t._validateInstrumentationKey=function(e){var r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",n=new RegExp(r);return n.test(e)},t.ENV_azurePrefix="APPSETTING_",t.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",t.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",t.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",t.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",t}();j_e.exports=ZKe});function GL(){return Az.create()}var V_e,Az,Rz=E(()=>{V_e=new Set(["Deserialize","Serialize","Retry","Sign"]),Az=class t{constructor(e){var r;this._policies=[],this._policies=(r=e?.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(e,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!V_e.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!V_e.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:e,options:r}),this._orderedPolicies=void 0}removePolicy(e){let r=[];return this._policies=this._policies.filter(n=>e.name&&n.policy.name===e.name||e.phase&&n.options.phase===e.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(e,r){return this.getOrderedPolicies().reduceRight((o,s)=>a=>s.sendRequest(a,o),o=>e.sendRequest(o))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new t(this._policies)}static create(){return new t}orderPolicies(){let e=[],r=new Map;function n(d){return{name:d,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let i=n("Serialize"),o=n("None"),s=n("Deserialize"),a=n("Retry"),u=n("Sign"),c=[i,o,s,a,u];function l(d){return d==="Retry"?a:d==="Serialize"?i:d==="Deserialize"?s:d==="Sign"?u:o}for(let d of this._policies){let h=d.policy,g=d.options,v=h.name;if(r.has(v))throw new Error("Duplicate policy names not allowed in pipeline");let _={policy:h,dependsOn:new Set,dependants:new Set};g.afterPhase&&(_.afterPhase=l(g.afterPhase),_.afterPhase.hasAfterPolicies=!0),r.set(v,_),l(g.phase).policies.add(_)}for(let d of this._policies){let{policy:h,options:g}=d,v=h.name,_=r.get(v);if(!_)throw new Error(`Missing node for policy ${v}`);if(g.afterPolicies)for(let y of g.afterPolicies){let x=r.get(y);x&&(_.dependsOn.add(x),x.dependants.add(_))}if(g.beforePolicies)for(let y of g.beforePolicies){let x=r.get(y);x&&(x.dependsOn.add(_),_.dependants.add(x))}}function f(d){d.hasRun=!0;for(let h of d.policies)if(!(h.afterPhase&&(!h.afterPhase.hasRun||h.afterPhase.policies.size))&&h.dependsOn.size===0){e.push(h.policy);for(let g of h.dependants)g.dependsOn.delete(h);r.delete(h.policy.name),d.policies.delete(h)}}function p(){for(let d of c){if(f(d),d.policies.size>0&&d!==o){o.hasRun||f(o);return}d.hasAfterPolicies&&f(o)}}let m=0;for(;r.size>0;){m++;let d=e.length;if(p(),e.length<=d&&m>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}});function $_e(t,...e){process.stderr.write(`${Y_e.default.format(t,...e)}${z_e.EOL}`)}var z_e,Y_e,W_e=E(()=>{z_e=require("os"),Y_e=Ie(require("util"))});function Dz(t){X_e=t,Pz=[],Nz=[];let e=/\*/g,r=t.split(",").map(n=>n.trim().replace(e,".*?"));for(let n of r)n.startsWith("-")?Nz.push(new RegExp(`^${n.substr(1)}$`)):Pz.push(new RegExp(`^${n}$`));for(let n of jL)n.enabled=kz(n.namespace)}function kz(t){if(t.endsWith("*"))return!0;for(let e of Nz)if(e.test(t))return!1;for(let e of Pz)if(e.test(t))return!0;return!1}function eXe(){let t=X_e||"";return Dz(""),t}function J_e(t){let e=Object.assign(r,{enabled:kz(t),destroy:tXe,log:Q_e.log,namespace:t,extend:rXe});function r(...n){e.enabled&&(n.length>0&&(n[0]=`${t} ${n[0]}`),e.log(...n))}return jL.push(e),e}function tXe(){let t=jL.indexOf(this);return t>=0?(jL.splice(t,1),!0):!1}function rXe(t){let e=J_e(`${this.namespace}:${t}`);return e.log=this.log,e}var K_e,X_e,Pz,Nz,jL,Q_e,Ox,Z_e=E(()=>{W_e();K_e=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,Pz=[],Nz=[],jL=[];K_e&&Dz(K_e);Q_e=Object.assign(t=>J_e(t),{enable:Dz,enabled:kz,disable:eXe,log:$_e});Ox=Q_e});function nXe(t){if(t&&!iye(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${Mz.join(",")}`);Lz=t;let e=[];for(let r of tye)nye(r)&&e.push(r.namespace);Ox.enable(e.join(","))}function YL(t){let e=Oz.extend(t);return rye(Oz,e),{error:zL(e,"error"),warning:zL(e,"warning"),info:zL(e,"info"),verbose:zL(e,"verbose")}}function rye(t,e){e.log=(...r)=>{t.log(...r)}}function zL(t,e){let r=Object.assign(t.extend(e),{level:e});if(rye(t,r),nye(r)){let n=Ox.disable();Ox.enable(n+","+r.namespace)}return tye.add(r),r}function nye(t){return!!(Lz&&eye[t.level]<=eye[Lz])}function iye(t){return Mz.includes(t)}var tye,VL,Lz,Oz,Mz,eye,Fz=E(()=>{Z_e();tye=new Set,VL=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,Oz=Ox("azure");Oz.log=(...t)=>{Ox.log(...t)};Mz=["verbose","info","warning","error"];VL&&(iye(VL)?nXe(VL):console.error(`AZURE_LOG_LEVEL set to unknown log level '${VL}'; logging is not enabled. Acceptable values: ${Mz.join(", ")}.`));eye={verbose:400,info:300,warning:200,error:100}});var Jo,Mx=E(()=>{Fz();Jo=YL("core-rest-pipeline")});var Uz,$L,oye=E(()=>{$L=typeof process<"u"&&!!process.version&&!!(!((Uz=process.versions)===null||Uz===void 0)&&Uz.node)});function Bz(t){if(t.aborted)return;t.onabort&&t.onabort.call(t);let e=Fx.get(t);e&&e.slice().forEach(r=>{r.call(t,{type:"abort"})}),WL.set(t,!0)}var Fx,WL,_2,sye=E(()=>{Fx=new WeakMap,WL=new WeakMap,_2=class t{constructor(){this.onabort=null,Fx.set(this,[]),WL.set(this,!1)}get aborted(){if(!WL.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return WL.get(this)}static get none(){return new t}addEventListener(e,r){if(!Fx.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");Fx.get(this).push(r)}removeEventListener(e,r){if(!Fx.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");let n=Fx.get(this),i=n.indexOf(r);i>-1&&n.splice(i,1)}dispatchEvent(e){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}});var Cf,y2,aye=E(()=>{sye();Cf=class extends Error{constructor(e){super(e),this.name="AbortError"}},y2=class{constructor(e){if(this._signal=new _2,!!e){Array.isArray(e)||(e=arguments);for(let r of e)r.aborted?this.abort():r.addEventListener("abort",()=>{this.abort()})}}get signal(){return this._signal}abort(){Bz(this._signal)}static timeout(e){let r=new _2,n=setTimeout(Bz,e,r);return typeof n.unref=="function"&&n.unref(),r}}});var KL=E(()=>{aye()});function qz(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var cye=E(()=>{});function b2(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}var Hz=E(()=>{});function Ux(t){if(b2(t)){let e=typeof t.name=="string",r=typeof t.message=="string";return e&&r}return!1}function Bx(t){if(Ux(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}var uye=E(()=>{Hz()});var qx=E(()=>{oye();cye();Hz();uye()});var Gz,iXe,oXe,Hx,jz=E(()=>{qx();Gz="REDACTED",iXe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],oXe=["api-version"],Hx=class{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:r=[]}={}){e=iXe.concat(e),r=oXe.concat(r),this.allowedHeaderNames=new Set(e.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(e){let r=new Set;return JSON.stringify(e,(n,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(n==="headers")return this.sanitizeHeaders(i);if(n==="url")return this.sanitizeUrl(i);if(n==="query")return this.sanitizeQuery(i);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(i)||b2(i)){if(r.has(i))return"[Circular]";r.add(i)}return i},2)}sanitizeHeaders(e){let r={};for(let n of Object.keys(e))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=e[n]:r[n]=Gz;return r}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let r={};for(let n of Object.keys(e))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=e[n]:r[n]=Gz;return r}sanitizeUrl(e){if(typeof e!="string"||e===null)return e;let r=new URL(e);if(!r.search)return e;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,Gz);return r.toString()}}});function XL(t={}){var e;let r=(e=t.logger)!==null&&e!==void 0?e:Jo.info,n=new Hx({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:Vz,async sendRequest(i,o){if(!r.enabled)return o(i);r(`Request: ${n.sanitize(i)}`);let s=await o(i);return r(`Response status code: ${s.status}`),r(`Headers: ${n.sanitize(s.headers)}`),s}}}var Vz,zz=E(()=>{Mx();jz();Vz="logPolicy"});function QL(t={}){let{maxRetries:e=20}=t;return{name:Yz,async sendRequest(r,n){let i=await n(r);return fye(n,i,e)}}}async function fye(t,e,r,n=0){let{request:i,status:o,headers:s}=e,a=s.get("location");if(a&&(o===300||o===301&&lye.includes(i.method)||o===302&&lye.includes(i.method)||o===303&&i.method==="POST"||o===307)&&n<r){let u=new URL(a,i.url);i.url=u.toString(),o===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let c=await t(i);return fye(t,c,r,n+1)}return e}var Yz,lye,$z=E(()=>{Yz="redirectPolicy",lye=["GET","HEAD"]});function pye(){return"User-Agent"}function dye(t){t.set("Node",process.version),t.set("OS",`(${Gx.arch()}-${Gx.type()}-${Gx.release()})`)}var Gx,mye=E(()=>{Gx=Ie(require("os"))});var JL,Wz=E(()=>{JL="1.10.1"});function sXe(t){let e=[];for(let[r,n]of t){let i=n?`${r}/${n}`:r;e.push(i)}return e.join(" ")}function hye(){return pye()}function ZL(t){let e=new Map;e.set("core-rest-pipeline",JL),dye(e);let r=sXe(e);return t?`${t} ${r}`:r}var Kz=E(()=>{mye();Wz()});function e3(t={}){let e=ZL(t.userAgentPrefix);return{name:Xz,async sendRequest(r,n){return r.headers.has(gye)||r.headers.set(gye,e),n(r)}}}var gye,Xz,Qz=E(()=>{Kz();gye=hye(),Xz="userAgentPolicy"});function t3(){return{name:Jz,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}var Jz,Zz=E(()=>{Jz="decompressResponsePolicy"});function r3(t,e,r){return new Promise((n,i)=>{let o,s,a=()=>i(new Cf(r?.abortErrorMsg?r?.abortErrorMsg:aXe)),u=()=>{r?.abortSignal&&s&&r.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),u(),a()),r?.abortSignal&&r.abortSignal.aborted)return a();o=setTimeout(()=>{u(),n(e)},t),r?.abortSignal&&r.abortSignal.addEventListener("abort",s)})}function vye(t,e){let r=t.headers.get(e);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}var aXe,n3=E(()=>{KL();aXe="The operation was aborted."});function _ye(t){if(t&&[429,503].includes(t.status))try{for(let i of cXe){let o=vye(t,i);if(o===0||o)return o*(i===eY?1e3:1)}let e=t.headers.get(eY);if(!e)return;let n=Date.parse(e)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}function yye(t){return Number.isFinite(_ye(t))}function i3(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=_ye(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}var eY,cXe,o3=E(()=>{n3();eY="Retry-After",cXe=["retry-after-ms","x-ms-retry-after-ms",eY]});function jx(t={}){var e,r;let n=(e=t.retryDelayInMs)!==null&&e!==void 0?e:uXe,i=(r=t.maxRetryDelayInMs)!==null&&r!==void 0?r:lXe,o=n;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:u}){let c=pXe(u),l=c&&t.ignoreSystemErrors,f=fXe(a),p=f&&t.ignoreHttpStatusCodes;if(a&&(yye(a)||!f)||p||l)return{skipStrategy:!0};if(u&&!c&&!f)return{errorToThrow:u};let d=o*Math.pow(2,s),h=Math.min(i,d);return o=h/2+qz(0,h/2),{retryAfterInMs:o}}}}function fXe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}function pXe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT":!1}var uXe,lXe,s3=E(()=>{qx();o3();uXe=1e3,lXe=1e3*64});function If(t,e={maxRetries:3}){let r=e.logger||bye;return{name:dXe,async sendRequest(n,i){var o,s;let a,u,c=-1;e:for(;;){c+=1,a=void 0,u=void 0;try{r.info(`Retry ${c}: Attempting to send request`,n.requestId),a=await i(n),r.info(`Retry ${c}: Received a response from request`,n.requestId)}catch(l){if(r.error(`Retry ${c}: Received an error from request`,n.requestId),u=l,!l||u.name!=="RestError")throw l;a=u.response}if(!((o=n.abortSignal)===null||o===void 0)&&o.aborted)throw r.error(`Retry ${c}: Request aborted.`),new Cf;if(c>=((s=e.maxRetries)!==null&&s!==void 0?s:3)){if(r.info(`Retry ${c}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${c}: Processing ${t.length} retry strategies.`);t:for(let l of t){let f=l.logger||bye;f.info(`Retry ${c}: Processing retry strategy ${l.name}.`);let p=l.retry({retryCount:c,response:a,responseError:u});if(p.skipStrategy){f.info(`Retry ${c}: Skipped.`);continue t}let{errorToThrow:m,retryAfterInMs:d,redirectTo:h}=p;if(m)throw f.error(`Retry ${c}: Retry strategy ${l.name} throws error:`,m),m;if(d||d===0){f.info(`Retry ${c}: Retry strategy ${l.name} retries after ${d}`),await r3(d,void 0,{abortSignal:n.abortSignal});continue e}if(h){f.info(`Retry ${c}: Retry strategy ${l.name} redirects to ${h}`),n.url=h;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(a)return r.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var bye,dXe,Vx=E(()=>{n3();Fz();KL();bye=YL("core-rest-pipeline retryPolicy"),dXe="retryPolicy"});function a3(t={}){var e;return{name:mXe,sendRequest:If([i3(),jx(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var mXe,tY=E(()=>{s3();o3();Vx();mXe="defaultRetryPolicy"});var Tye=R((u$t,Eye)=>{var xye=require("stream").Stream,hXe=require("util");Eye.exports=nl;function nl(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}hXe.inherits(nl,xye);nl.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(nl.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});nl.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};nl.prototype.resume=function(){this._released||this.release(),this.source.resume()};nl.prototype.pause=function(){this.source.pause()};nl.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};nl.prototype.pipe=function(){var t=xye.prototype.pipe.apply(this,arguments);return this.resume(),t};nl.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};nl.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var wye=R((l$t,Iye)=>{var gXe=require("util"),Cye=require("stream").Stream,Sye=Tye();Iye.exports=ni;function ni(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}gXe.inherits(ni,Cye);ni.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};ni.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};ni.prototype.append=function(t){var e=ni.isStreamLike(t);if(e){if(!(t instanceof Sye)){var r=Sye.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};ni.prototype.pipe=function(t,e){return Cye.prototype.pipe.call(this,t,e),this.resume(),t};ni.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};ni.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=ni.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};ni.prototype._pipeNext=function(t){this._currentStream=t;var e=ni.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};ni.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};ni.prototype.write=function(t){this.emit("data",t)};ni.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};ni.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};ni.prototype.end=function(){this._reset(),this.emit("end")};ni.prototype.destroy=function(){this._reset(),this.emit("close")};ni.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};ni.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};ni.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};ni.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var Aye=R((f$t,vXe)=>{vXe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Pye=R((p$t,Rye)=>{Rye.exports=Aye()});var kye=R(wa=>{"use strict";var c3=Pye(),_Xe=require("path").extname,Nye=/^\s*([^;\s]*)(?:;|\s|$)/,yXe=/^text\//i;wa.charset=Dye;wa.charsets={lookup:Dye};wa.contentType=bXe;wa.extension=xXe;wa.extensions=Object.create(null);wa.lookup=EXe;wa.types=Object.create(null);TXe(wa.extensions,wa.types);function Dye(t){if(!t||typeof t!="string")return!1;var e=Nye.exec(t),r=e&&c3[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&yXe.test(e[1])?"UTF-8":!1}function bXe(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?wa.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=wa.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function xXe(t){if(!t||typeof t!="string")return!1;var e=Nye.exec(t),r=e&&wa.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function EXe(t){if(!t||typeof t!="string")return!1;var e=_Xe("x."+t).toLowerCase().substr(1);return e&&wa.types[e]||!1}function TXe(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(c3).forEach(function(i){var o=c3[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var u=s[a];if(e[u]){var c=r.indexOf(c3[e[u]].source),l=r.indexOf(o.source);if(e[u]!=="application/octet-stream"&&(c>l||c===l&&e[u].substr(0,12)==="application/"))continue}e[u]=i}}})}});var Oye=R((m$t,Lye)=>{Lye.exports=SXe;function SXe(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var rY=R((h$t,Fye)=>{var Mye=Oye();Fye.exports=CXe;function CXe(t){var e=!1;return Mye(function(){e=!0}),function(n,i){e?t(n,i):Mye(function(){t(n,i)})}}});var nY=R((g$t,Uye)=>{Uye.exports=IXe;function IXe(t){Object.keys(t.jobs).forEach(wXe.bind(t)),t.jobs={}}function wXe(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var iY=R((v$t,qye)=>{var Bye=rY(),AXe=nY();qye.exports=RXe;function RXe(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=PXe(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?AXe(r):r.results[i]=s,n(o,r.results))})}function PXe(t,e,r,n){var i;return t.length==2?i=t(r,Bye(n)):i=t(r,e,Bye(n)),i}});var oY=R((_$t,Hye)=>{Hye.exports=NXe;function NXe(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var sY=R((y$t,Gye)=>{var DXe=nY(),kXe=rY();Gye.exports=LXe;function LXe(t){Object.keys(this.jobs).length&&(this.index=this.size,DXe(this),kXe(t)(null,this.results))}});var Vye=R((b$t,jye)=>{var OXe=iY(),MXe=oY(),FXe=sY();jye.exports=UXe;function UXe(t,e,r){for(var n=MXe(t);n.index<(n.keyedList||t).length;)OXe(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return FXe.bind(n,r)}});var aY=R((x$t,u3)=>{var zye=iY(),BXe=oY(),qXe=sY();u3.exports=HXe;u3.exports.ascending=Yye;u3.exports.descending=GXe;function HXe(t,e,r,n){var i=BXe(t,r);return zye(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){zye(t,e,i,o);return}n(null,i.results)}),qXe.bind(i,n)}function Yye(t,e){return t<e?-1:t>e?1:0}function GXe(t,e){return-1*Yye(t,e)}});var Wye=R((E$t,$ye)=>{var jXe=aY();$ye.exports=VXe;function VXe(t,e,r){return jXe(t,e,null,r)}});var Xye=R((T$t,Kye)=>{Kye.exports={parallel:Vye(),serial:Wye(),serialOrdered:aY()}});var Jye=R((S$t,Qye)=>{Qye.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var pY=R((C$t,e1e)=>{var fY=wye(),Zye=require("util"),cY=require("path"),zXe=require("http"),YXe=require("https"),$Xe=require("url").parse,WXe=require("fs"),KXe=require("stream").Stream,uY=kye(),XXe=Xye(),lY=Jye();e1e.exports=yr;Zye.inherits(yr,fY);function yr(t){if(!(this instanceof yr))return new yr(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],fY.call(this),t=t||{};for(var e in t)this[e]=t[e]}yr.LINE_BREAK=`\r
`;yr.DEFAULT_CONTENT_TYPE="application/octet-stream";yr.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=fY.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Zye.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};yr.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+yr.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof KXe))&&(r.knownLength||this._valuesToMeasure.push(e))};yr.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):WXe.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};yr.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&lY(s,r.header);var a;for(var u in s)s.hasOwnProperty(u)&&(a=s[u],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=u+": "+a.join("; ")+yr.LINE_BREAK)));return"--"+this.getBoundary()+yr.LINE_BREAK+o+yr.LINE_BREAK};yr.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=cY.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=cY.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=cY.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};yr.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=uY.lookup(t.name)),!r&&t.path&&(r=uY.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=uY.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=yr.DEFAULT_CONTENT_TYPE),r};yr.prototype._multiPartFooter=function(){return function(t){var e=yr.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};yr.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+yr.LINE_BREAK};yr.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};yr.prototype.setBoundary=function(t){this._boundary=t};yr.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};yr.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(yr.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};yr.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};yr.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};yr.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};yr.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}XXe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};yr.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=$Xe(t),n=lY({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=lY(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=YXe.request(n):r=zXe.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,u=function(c,l){return r.removeListener("error",u),r.removeListener("response",a),e.call(this,c,l)};a=u.bind(this,null),r.on("error",u),r.on("response",a)}}.bind(this)),r};yr.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};yr.prototype.toString=function(){return"[object FormData]"}});function l3(){return{name:dY,async sendRequest(t,e){if(t.formData){let r=t.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?(t.body=QXe(t.formData),t.formData=void 0):await JXe(t.formData,t)}return e(t)}}}function QXe(t){let e=new URLSearchParams;for(let[r,n]of Object.entries(t))if(Array.isArray(n))for(let i of n)e.append(r,i.toString());else e.append(r,n.toString());return e.toString()}async function JXe(t,e){let r=new t1e.default;for(let i of Object.keys(t)){let o=t[i];if(Array.isArray(o))for(let s of o)r.append(i,s);else r.append(i,o)}e.body=r,e.formData=void 0;let n=e.headers.get("Content-Type");n&&n.indexOf("multipart/form-data")!==-1&&e.headers.set("Content-Type",`multipart/form-data; boundary=${r.getBoundary()}`);try{let i=await new Promise((o,s)=>{r.getLength((a,u)=>{a?s(a):o(u)})});e.headers.set("Content-Length",i)}catch{}}var t1e,dY,mY=E(()=>{t1e=Ie(pY()),dY="formDataPolicy"});var n1e=R((w$t,r1e)=>{var zx=1e3,Yx=zx*60,$x=Yx*60,y_=$x*24,ZXe=y_*7,eQe=y_*365.25;r1e.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return tQe(t);if(r==="number"&&isFinite(t))return e.long?nQe(t):rQe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function tQe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*eQe;case"weeks":case"week":case"w":return r*ZXe;case"days":case"day":case"d":return r*y_;case"hours":case"hour":case"hrs":case"hr":case"h":return r*$x;case"minutes":case"minute":case"mins":case"min":case"m":return r*Yx;case"seconds":case"second":case"secs":case"sec":case"s":return r*zx;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function rQe(t){var e=Math.abs(t);return e>=y_?Math.round(t/y_)+"d":e>=$x?Math.round(t/$x)+"h":e>=Yx?Math.round(t/Yx)+"m":e>=zx?Math.round(t/zx)+"s":t+"ms"}function nQe(t){var e=Math.abs(t);return e>=y_?f3(t,e,y_,"day"):e>=$x?f3(t,e,$x,"hour"):e>=Yx?f3(t,e,Yx,"minute"):e>=zx?f3(t,e,zx,"second"):t+" ms"}function f3(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var hY=R((A$t,i1e)=>{function iQe(t){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=s,r.humanize=n1e(),r.destroy=c,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let f=0;for(let p=0;p<l.length;p++)f=(f<<5)-f+l.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(l){let f,p=null,m,d;function h(...g){if(!h.enabled)return;let v=h,_=Number(new Date),y=_-(f||_);v.diff=y,v.prev=f,v.curr=_,f=_,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let x=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(T,k)=>{if(T==="%%")return"%";x++;let U=r.formatters[k];if(typeof U=="function"){let z=g[x];T=U.call(v,z),g.splice(x,1),x--}return T}),r.formatArgs.call(v,g),(v.log||r.log).apply(v,g)}return h.namespace=l,h.useColors=r.useColors(),h.color=r.selectColor(l),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==r.namespaces&&(m=r.namespaces,d=r.enabled(l)),d),set:g=>{p=g}}),typeof r.init=="function"&&r.init(h),h}function n(l,f){let p=r(this.namespace+(typeof f>"u"?":":f)+l);return p.log=this.log,p}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let f,p=(typeof l=="string"?l:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(l=p[f].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(l))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}i1e.exports=iQe});var o1e=R((cc,p3)=>{cc.formatArgs=sQe;cc.save=aQe;cc.load=cQe;cc.useColors=oQe;cc.storage=uQe();cc.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();cc.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function oQe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function sQe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+p3.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}cc.log=console.debug||console.log||(()=>{});function aQe(t){try{t?cc.storage.setItem("debug",t):cc.storage.removeItem("debug")}catch{}}function cQe(){let t;try{t=cc.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function uQe(){try{return localStorage}catch{}}p3.exports=hY()(cc);var{formatters:lQe}=p3.exports;lQe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var a1e=R((R$t,s1e)=>{"use strict";s1e.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var l1e=R((P$t,u1e)=>{"use strict";var fQe=require("os"),c1e=require("tty"),iu=a1e(),{env:So}=process,Qh;iu("no-color")||iu("no-colors")||iu("color=false")||iu("color=never")?Qh=0:(iu("color")||iu("colors")||iu("color=true")||iu("color=always"))&&(Qh=1);"FORCE_COLOR"in So&&(So.FORCE_COLOR==="true"?Qh=1:So.FORCE_COLOR==="false"?Qh=0:Qh=So.FORCE_COLOR.length===0?1:Math.min(parseInt(So.FORCE_COLOR,10),3));function gY(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function vY(t,e){if(Qh===0)return 0;if(iu("color=16m")||iu("color=full")||iu("color=truecolor"))return 3;if(iu("color=256"))return 2;if(t&&!e&&Qh===void 0)return 0;let r=Qh||0;if(So.TERM==="dumb")return r;if(process.platform==="win32"){let n=fQe.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in So)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in So)||So.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in So)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(So.TEAMCITY_VERSION)?1:0;if(So.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in So){let n=parseInt((So.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(So.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(So.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(So.TERM)||"COLORTERM"in So?1:r}function pQe(t){let e=vY(t,t&&t.isTTY);return gY(e)}u1e.exports={supportsColor:pQe,stdout:gY(vY(!0,c1e.isatty(1))),stderr:gY(vY(!0,c1e.isatty(2)))}});var p1e=R((Zo,m3)=>{var dQe=require("tty"),d3=require("util");Zo.init=bQe;Zo.log=vQe;Zo.formatArgs=hQe;Zo.save=_Qe;Zo.load=yQe;Zo.useColors=mQe;Zo.destroy=d3.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Zo.colors=[6,2,3,4,5,1];try{let t=l1e();t&&(t.stderr||t).level>=2&&(Zo.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Zo.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function mQe(){return"colors"in Zo.inspectOpts?!!Zo.inspectOpts.colors:dQe.isatty(process.stderr.fd)}function hQe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+m3.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=gQe()+e+" "+t[0]}function gQe(){return Zo.inspectOpts.hideDate?"":new Date().toISOString()+" "}function vQe(...t){return process.stderr.write(d3.format(...t)+`
`)}function _Qe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function yQe(){return process.env.DEBUG}function bQe(t){t.inspectOpts={};let e=Object.keys(Zo.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Zo.inspectOpts[e[r]]}m3.exports=hY()(Zo);var{formatters:f1e}=m3.exports;f1e.o=function(t){return this.inspectOpts.colors=this.useColors,d3.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};f1e.O=function(t){return this.inspectOpts.colors=this.useColors,d3.inspect(t,this.inspectOpts)}});var ou=R((N$t,_Y)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?_Y.exports=o1e():_Y.exports=p1e()});var d1e=R(yY=>{"use strict";Object.defineProperty(yY,"__esModule",{value:!0});function xQe(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(o,s)=>{o?i(o):n(s)})})}}yY.default=xQe});var EY=R((xY,h1e)=>{"use strict";var m1e=xY&&xY.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},EQe=require("events"),TQe=m1e(ou()),SQe=m1e(d1e()),E2=TQe.default("agent-base");function CQe(t){return!!t&&typeof t.addRequest=="function"}function bY(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function h3(t,e){return new h3.Agent(t,e)}(function(t){class e extends EQe.EventEmitter{constructor(n,i){super();let o=i;typeof n=="function"?this.callback=n:n&&(o=n),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:bY()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:bY()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=bY()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,n._last=!0,n.shouldKeepAlive=!1;let s=!1,a=null,u=o.timeout||this.timeout,c=m=>{n._hadError||(n.emit("error",m),n._hadError=!0)},l=()=>{a=null,s=!0;let m=new Error(`A "socket" was not created for HTTP request before ${u}ms`);m.code="ETIMEOUT",c(m)},f=m=>{s||(a!==null&&(clearTimeout(a),a=null),c(m))},p=m=>{if(s)return;if(a!=null&&(clearTimeout(a),a=null),CQe(m)){E2("Callback returned another Agent instance %o",m.constructor.name),m.addRequest(n,o);return}if(m){m.once("free",()=>{this.freeSocket(m,o)}),n.onSocket(m);return}let d=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);c(d)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(E2("Converting legacy callback function to promise"),this.promisifiedCallback=SQe.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(a=setTimeout(l,u)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{E2("Resolving socket for %o request: %o",o.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,o)).then(p,f)}catch(m){Promise.reject(m).catch(f)}}freeSocket(n,i){E2("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){E2("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(h3||(h3={}));h1e.exports=h3});var g1e=R(S2=>{"use strict";var IQe=S2&&S2.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S2,"__esModule",{value:!0});var wQe=IQe(ou()),T2=wQe.default("https-proxy-agent:parse-proxy-response");function AQe(t){return new Promise((e,r)=>{let n=0,i=[];function o(){let f=t.read();f?l(f):t.once("readable",o)}function s(){t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",a),t.removeListener("readable",o)}function a(f){T2("onclose had error %o",f)}function u(){T2("onend")}function c(f){s(),T2("onerror %o",f),r(f)}function l(f){i.push(f),n+=f.length;let p=Buffer.concat(i,n);if(p.indexOf(`\r
\r
`)===-1){T2("have not received end of HTTP headers yet..."),o();return}let d=p.toString("ascii",0,p.indexOf(`\r
`)),h=+d.split(" ")[1];T2("got proxy server response: %o",d),e({statusCode:h,buffered:p})}t.on("error",c),t.on("close",a),t.on("end",u),o()})}S2.default=AQe});var y1e=R(b_=>{"use strict";var RQe=b_&&b_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Wx=b_&&b_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(b_,"__esModule",{value:!0});var v1e=Wx(require("net")),_1e=Wx(require("tls")),PQe=Wx(require("url")),NQe=Wx(require("assert")),DQe=Wx(ou()),kQe=EY(),LQe=Wx(g1e()),C2=DQe.default("https-proxy-agent:agent"),TY=class extends kQe.Agent{constructor(e){let r;if(typeof e=="string"?r=PQe.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");C2("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||FQe(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return RQe(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,o;i?(C2("Creating `tls.Socket`: %o",n),o=_1e.default.connect(n)):(C2("Creating `net.Socket`: %o",n),o=v1e.default.connect(n));let s=Object.assign({},n.headers),u=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:c,port:l,secureEndpoint:f}=r;MQe(l,f)||(c+=`:${l}`),s.Host=c,s.Connection="close";for(let g of Object.keys(s))u+=`${g}: ${s[g]}\r
`;let p=LQe.default(o);o.write(`${u}\r
`);let{statusCode:m,buffered:d}=yield p;if(m===200){if(e.once("socket",OQe),r.secureEndpoint){C2("Upgrading socket connection to TLS");let g=r.servername||r.host;return _1e.default.connect(Object.assign(Object.assign({},UQe(r,"host","hostname","path","port")),{socket:o,servername:g}))}return o}o.destroy();let h=new v1e.default.Socket({writable:!1});return h.readable=!0,e.once("socket",g=>{C2("replaying proxy buffer for failed request"),NQe.default(g.listenerCount("data")>0),g.push(d),g.push(null)}),h})}};b_.default=TY;function OQe(t){t.resume()}function MQe(t,e){return!!(!e&&t===80||e&&t===443)}function FQe(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function UQe(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}});var x1e=R((IY,b1e)=>{"use strict";var BQe=IY&&IY.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},SY=BQe(y1e());function CY(t){return new SY.default(t)}(function(t){t.HttpsProxyAgent=SY.default,t.prototype=SY.default.prototype})(CY||(CY={}));b1e.exports=CY});var E1e=R(wY=>{"use strict";Object.defineProperty(wY,"__esModule",{value:!0});function qQe(t,e,{signal:r}={}){return new Promise((n,i)=>{function o(){r?.removeEventListener("abort",o),t.removeListener(e,s),t.removeListener("error",a)}function s(...u){o(),n(u)}function a(u){o(),i(u)}r?.addEventListener("abort",o),t.on(e,s),t.on("error",a)})}wY.default=qQe});var T1e=R(x_=>{"use strict";var HQe=x_&&x_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},I2=x_&&x_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x_,"__esModule",{value:!0});var GQe=I2(require("net")),jQe=I2(require("tls")),AY=I2(require("url")),VQe=I2(ou()),zQe=I2(E1e()),YQe=EY(),Jh=(0,VQe.default)("http-proxy-agent");function $Qe(t){return typeof t=="string"?/^https:?$/i.test(t):!1}var RY=class extends YQe.Agent{constructor(e){let r;if(typeof e=="string"?r=AY.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Jh("Creating new HttpProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||$Qe(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return HQe(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,o=AY.default.parse(e.path);o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=r.hostname||r.host||null),o.port==null&&typeof r.port&&(o.port=String(r.port)),o.port==="80"&&(o.port=""),e.path=AY.default.format(o),n.auth&&e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(n.auth).toString("base64")}`);let s;if(i?(Jh("Creating `tls.Socket`: %o",n),s=jQe.default.connect(n)):(Jh("Creating `net.Socket`: %o",n),s=GQe.default.connect(n)),e._header){let a,u;Jh("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(Jh("Patching connection write() output buffer with updated header"),a=e.output[0],u=a.indexOf(`\r
\r
`)+4,e.output[0]=e._header+a.substring(u),Jh("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(Jh("Patching connection write() output buffer with updated header"),a=e.outputData[0].data,u=a.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+a.substring(u),Jh("Output buffer: %o",e.outputData[0].data))}return yield(0,zQe.default)(s,"connect"),s})}};x_.default=RY});var C1e=R((DY,S1e)=>{"use strict";var WQe=DY&&DY.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},PY=WQe(T1e());function NY(t){return new PY.default(t)}(function(t){t.HttpProxyAgent=PY.default,t.prototype=PY.default.prototype})(NY||(NY={}));S1e.exports=NY});function g3(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}function eJe(){if(!process)return;let t=g3(KQe),e=g3(QQe),r=g3(XQe);return t||e||r}function tJe(t,e,r){if(e.length===0)return!1;let n=new URL(t).hostname;if(r?.has(n))return r.get(n);let i=!1;for(let o of e)o[0]==="."?(n.endsWith(o)||n.length===o.length-1&&n===o.slice(1))&&(i=!0):n===o&&(i=!0);return r?.set(n,i),i}function rJe(){let t=g3(JQe);return P1e=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}function LY(t){if(!t&&(t=eJe(),!t))return;let e=new URL(t);return{host:(e.protocol?e.protocol+"//":"")+e.hostname,port:Number.parseInt(e.port||"80"),username:e.username,password:e.password}}function w1e(t,{headers:e,tlsSettings:r}){let n;try{n=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}r&&Jo.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i={hostname:n.hostname,port:t.port,protocol:n.protocol,headers:e.toJSON()};return t.username&&t.password?i.auth=`${t.username}:${t.password}`:t.username&&(i.auth=`${t.username}`),i}function nJe(t,e){if(t.agent)return;let n=new URL(t.url).protocol!=="https:",i=t.proxySettings;if(i)if(n){if(!e.httpProxyAgent){let o=w1e(i,t);e.httpProxyAgent=new R1e.HttpProxyAgent(o)}t.agent=e.httpProxyAgent}else{if(!e.httpsProxyAgent){let o=w1e(i,t);e.httpsProxyAgent=new A1e.HttpsProxyAgent(o)}t.agent=e.httpsProxyAgent}}function v3(t=LY(),e){P1e||I1e.push(...rJe());let r={};return{name:kY,async sendRequest(n,i){var o;return!n.proxySettings&&!tJe(n.url,(o=e?.customNoProxyList)!==null&&o!==void 0?o:I1e,e?.customNoProxyList?void 0:ZQe)&&(n.proxySettings=t),n.proxySettings&&nJe(n,r),i(n)}}}var A1e,R1e,KQe,XQe,QQe,JQe,kY,I1e,P1e,ZQe,OY=E(()=>{A1e=Ie(x1e()),R1e=Ie(C1e());Mx();KQe="HTTPS_PROXY",XQe="HTTP_PROXY",QQe="ALL_PROXY",JQe="NO_PROXY",kY="proxyPolicy",I1e=[],P1e=!1,ZQe=new Map});function _3(t="x-ms-client-request-id"){return{name:MY,async sendRequest(e,r){return e.headers.has(t)||e.headers.set(t,e.requestId),r(e)}}}var MY,FY=E(()=>{MY="setClientRequestIdPolicy"});function y3(t){return{name:UY,sendRequest:async(e,r)=>(e.tlsSettings||(e.tlsSettings=t),r(e))}}var UY,BY=E(()=>{UY="tlsPolicy"});function N1e(t={}){let e=new qY(t.parentContext);return t.span&&(e=e.setValue(Kx.span,t.span)),t.namespace&&(e=e.setValue(Kx.namespace,t.namespace)),e}var Kx,qY,HY=E(()=>{Kx={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};qY=class t{constructor(e){this._contextMap=e instanceof t?new Map(e._contextMap):new Map}setValue(e,r){let n=new t(this);return n._contextMap.set(e,r),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){let r=new t(this);return r._contextMap.delete(e),r}}});function iJe(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function oJe(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:iJe(),tracingContext:N1e({parentContext:e.tracingContext})}),withContext(t,e,...r){return e(...r)}}}function w2(){return GY||(GY=oJe()),GY}var GY,D1e=E(()=>{HY()});function jY(t){let{namespace:e,packageName:r,packageVersion:n}=t;function i(c,l,f){var p;let m=w2().startSpan(c,Object.assign(Object.assign({},f),{packageName:r,packageVersion:n,tracingContext:(p=l?.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),d=m.tracingContext,h=m.span;d.getValue(Kx.namespace)||(d=d.setValue(Kx.namespace,e)),h.setAttribute("az.namespace",d.getValue(Kx.namespace));let g=Object.assign({},l,{tracingOptions:Object.assign(Object.assign({},l?.tracingOptions),{tracingContext:d})});return{span:h,updatedOptions:g}}async function o(c,l,f,p){let{span:m,updatedOptions:d}=i(c,l,p);try{let h=await s(d.tracingOptions.tracingContext,()=>Promise.resolve(f(d,m)));return m.setStatus({status:"success"}),h}catch(h){throw m.setStatus({status:"error",error:h}),h}finally{m.end()}}function s(c,l,...f){return w2().withContext(c,l,...f)}function a(c){return w2().parseTraceparentHeader(c)}function u(c){return w2().createRequestHeaders(c)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:a,createRequestHeaders:u}}var k1e=E(()=>{D1e();HY()});var L1e=E(()=>{k1e()});var O1e,M1e,F1e=E(()=>{O1e=require("util"),M1e=O1e.inspect.custom});function b3(t){return t instanceof uc?!0:Ux(t)&&t.name==="RestError"}var sJe,uc,x3=E(()=>{qx();F1e();jz();sJe=new Hx,uc=class t extends Error{constructor(e,r={}){super(e),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,this.request=r.request,this.response=r.response,Object.setPrototypeOf(this,t.prototype)}[M1e](){return`RestError: ${this.message} 
 ${sJe.sanitize(this)}`}};uc.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";uc.PARSE_ERROR="PARSE_ERROR"});function E3(t={}){let e=ZL(t.userAgentPrefix),r=aJe();return{name:VY,async sendRequest(n,i){var o,s;if(!r||!(!((o=n.tracingOptions)===null||o===void 0)&&o.tracingContext))return i(n);let{span:a,tracingContext:u}=(s=cJe(r,n,e))!==null&&s!==void 0?s:{};if(!a||!u)return i(n);try{let c=await r.withContext(u,i,n);return lJe(a,c),c}catch(c){throw uJe(a,c),c}}}}function aJe(){try{return jY({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:JL})}catch(t){Jo.warning(`Error when creating the TracingClient: ${Bx(t)}`);return}}function cJe(t,e,r){try{let{span:n,updatedOptions:i}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":e.method,"http.url":e.url,requestId:e.requestId}});if(!n.isRecording()){n.end();return}r&&n.setAttribute("http.user_agent",r);let o=t.createRequestHeaders(i.tracingOptions.tracingContext);for(let[s,a]of Object.entries(o))e.headers.set(s,a);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(n){Jo.warning(`Skipping creating a tracing span due to an error: ${Bx(n)}`);return}}function uJe(t,e){try{t.setStatus({status:"error",error:Ux(e)?e:void 0}),b3(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(r){Jo.warning(`Skipping tracing span processing due to an error: ${Bx(r)}`)}}function lJe(t,e){try{t.setAttribute("http.status_code",e.status);let r=e.headers.get("x-ms-request-id");r&&t.setAttribute("serviceRequestId",r),t.setStatus({status:"success"}),t.end()}catch(r){Jo.warning(`Skipping tracing span processing due to an error: ${Bx(r)}`)}}var VY,zY=E(()=>{L1e();Wz();Kz();Mx();qx();x3();VY="tracingPolicy"});function U1e(t){let e=GL();return $L&&(t.tlsOptions&&e.addPolicy(y3(t.tlsOptions)),e.addPolicy(v3(t.proxyOptions)),e.addPolicy(t3())),e.addPolicy(l3()),e.addPolicy(e3(t.userAgentOptions)),e.addPolicy(_3()),e.addPolicy(a3(t.retryOptions),{phase:"Retry"}),e.addPolicy(E3(t.userAgentOptions),{afterPhase:"Retry"}),$L&&e.addPolicy(QL(t.redirectOptions),{afterPhase:"Retry"}),e.addPolicy(XL(t.loggingOptions),{afterPhase:"Sign"}),e}var B1e=E(()=>{zz();Rz();$z();Qz();Zz();tY();mY();qx();OY();FY();BY();zY()});function T3(t){return t.toLowerCase()}function*fJe(t){for(let e of t.values())yield[e.name,e.value]}function Xx(t){return new YY(t)}var YY,S3=E(()=>{YY=class{constructor(e){if(this._headersMap=new Map,e)for(let r of Object.keys(e))this.set(r,e[r])}set(e,r){this._headersMap.set(T3(e),{name:e,value:String(r)})}get(e){var r;return(r=this._headersMap.get(T3(e)))===null||r===void 0?void 0:r.value}has(e){return this._headersMap.has(T3(e))}delete(e){this._headersMap.delete(T3(e))}toJSON(e={}){let r={};if(e.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,i]of this._headersMap)r[n]=i.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return fJe(this._headersMap)}}});function A2(t){return t&&typeof t.pipe=="function"}function q1e(t){return new Promise(e=>{t.on("close",e),t.on("end",e),t.on("error",e)})}function G1e(t){return t&&typeof t.byteLength=="number"}function dJe(t){let e=Xx();for(let r of Object.keys(t.headers)){let n=t.headers[r];Array.isArray(n)?n.length>0&&e.set(r,n[0]):n&&e.set(r,n)}return e}function mJe(t,e){let r=e.get("Content-Encoding");if(r==="gzip"){let n=I3.createGunzip();return t.pipe(n),n}else if(r==="deflate"){let n=I3.createInflate();return t.pipe(n),n}return t}function hJe(t){return new Promise((e,r)=>{let n=[];t.on("data",i=>{Buffer.isBuffer(i)?n.push(i):n.push(Buffer.from(i))}),t.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),t.on("error",i=>{i&&i?.name==="AbortError"?r(i):r(new uc(`Error reading response as text: ${i.message}`,{code:uc.PARSE_ERROR}))})})}function gJe(t){return t?Buffer.isBuffer(t)?t.length:A2(t)?null:G1e(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}function j1e(){return new $Y}var Qx,Jx,I3,H1e,pJe,C3,$Y,V1e=E(()=>{Qx=Ie(require("http")),Jx=Ie(require("https")),I3=Ie(require("zlib")),H1e=require("stream");KL();S3();x3();Mx();pJe={};C3=class extends H1e.Transform{constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}_transform(e,r,n){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(i){n(i)}}},$Y=class{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var r,n,i;let o=new y2,s;if(e.abortSignal){if(e.abortSignal.aborted)throw new Cf("The operation was aborted.");s=f=>{f.type==="abort"&&o.abort()},e.abortSignal.addEventListener("abort",s)}e.timeout>0&&setTimeout(()=>{o.abort()},e.timeout);let a=e.headers.get("Accept-Encoding"),u=a?.includes("gzip")||a?.includes("deflate"),c=typeof e.body=="function"?e.body():e.body;if(c&&!e.headers.has("Content-Length")){let f=gJe(c);f!==null&&e.headers.set("Content-Length",f)}let l;try{if(c&&e.onUploadProgress){let g=e.onUploadProgress,v=new C3(g);v.on("error",_=>{Jo.error("Error in upload progress",_)}),A2(c)?c.pipe(v):v.end(c),c=v}let f=await this.makeRequest(e,o,c),p=dJe(f),d={status:(r=f.statusCode)!==null&&r!==void 0?r:0,headers:p,request:e};if(e.method==="HEAD")return f.resume(),d;l=u?mJe(f,p):f;let h=e.onDownloadProgress;if(h){let g=new C3(h);g.on("error",v=>{Jo.error("Error in download progress",v)}),l.pipe(g),l=g}return!((n=e.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(d.status)?d.readableStreamBody=l:d.bodyAsText=await hJe(l),d}finally{if(e.abortSignal&&s){let f=Promise.resolve();A2(c)&&(f=q1e(c));let p=Promise.resolve();A2(l)&&(p=q1e(l)),Promise.all([f,p]).then(()=>{var m;s&&((m=e.abortSignal)===null||m===void 0||m.removeEventListener("abort",s))}).catch(m=>{Jo.warning("Error when cleaning up abortListener on httpRequest",m)})}}}makeRequest(e,r,n){var i;let o=new URL(e.url),s=o.protocol!=="https:";if(s&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let u={agent:(i=e.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(e,s),hostname:o.hostname,path:`${o.pathname}${o.search}`,port:o.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})};return new Promise((c,l)=>{let f=s?Qx.request(u,c):Jx.request(u,c);f.once("error",p=>{var m;l(new uc(p.message,{code:(m=p.code)!==null&&m!==void 0?m:uc.REQUEST_SEND_ERROR,request:e}))}),r.signal.addEventListener("abort",()=>{let p=new Cf("The operation was aborted.");f.destroy(p),l(p)}),n&&A2(n)?n.pipe(f):n?typeof n=="string"||Buffer.isBuffer(n)?f.end(n):G1e(n)?f.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Jo.error("Unrecognized body type",n),l(new uc("Unrecognized body type"))):f.end()})}getOrCreateAgent(e,r){var n;let i=e.disableKeepAlive;if(r)return i?Qx.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Qx.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return Jx.globalAgent;let o=(n=e.tlsSettings)!==null&&n!==void 0?n:pJe,s=this.cachedHttpsAgents.get(o);return s&&s.options.keepAlive===!i||(Jo.info("No cached TLS Agent exist, creating a new Agent"),s=new Jx.Agent(Object.assign({keepAlive:!i},o)),this.cachedHttpsAgents.set(o,s)),s}}}});function z1e(){return j1e()}var Y1e=E(()=>{V1e()});function WY(){return w3>A3.length-16&&($1e.default.randomFillSync(A3),w3=0),A3.slice(w3,w3+=16)}var $1e,A3,w3,W1e=E(()=>{$1e=Ie(require("crypto")),A3=new Uint8Array(256),w3=A3.length});var K1e,X1e=E(()=>{K1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function vJe(t){return typeof t=="string"&&K1e.test(t)}var Q1e,J1e=E(()=>{X1e();Q1e=vJe});function _Je(t,e=0){let r=(es[t[e+0]]+es[t[e+1]]+es[t[e+2]]+es[t[e+3]]+"-"+es[t[e+4]]+es[t[e+5]]+"-"+es[t[e+6]]+es[t[e+7]]+"-"+es[t[e+8]]+es[t[e+9]]+"-"+es[t[e+10]]+es[t[e+11]]+es[t[e+12]]+es[t[e+13]]+es[t[e+14]]+es[t[e+15]]).toLowerCase();if(!Q1e(r))throw TypeError("Stringified UUID is invalid");return r}var es,Z1e,ebe=E(()=>{J1e();es=[];for(let t=0;t<256;++t)es.push((t+256).toString(16).substr(1));Z1e=_Je});function yJe(t,e,r){t=t||{};let n=t.random||(t.rng||WY)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Z1e(n)}var KY,tbe=E(()=>{W1e();ebe();KY=yJe});var rbe=E(()=>{tbe()});function nbe(){return KY()}var ibe=E(()=>{rbe()});function obe(t){return new XY(t)}var XY,sbe=E(()=>{S3();ibe();XY=class{constructor(e){var r,n,i,o,s,a,u;this.url=e.url,this.body=e.body,this.headers=(r=e.headers)!==null&&r!==void 0?r:Xx(),this.method=(n=e.method)!==null&&n!==void 0?n:"GET",this.timeout=(i=e.timeout)!==null&&i!==void 0?i:0,this.formData=e.formData,this.disableKeepAlive=(o=e.disableKeepAlive)!==null&&o!==void 0?o:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(s=e.withCredentials)!==null&&s!==void 0?s:!1,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||nbe(),this.allowInsecureConnection=(a=e.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(u=e.enableBrowserStreams)!==null&&u!==void 0?u:!1}}});function cbe(t={}){var e;return If([jx(Object.assign(Object.assign({},t),{ignoreSystemErrors:!0}))],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3})}var abe,ube=E(()=>{s3();Vx();abe="exponentialRetryPolicy"});function lbe(t={}){var e;return{name:QY,sendRequest:If([jx(Object.assign(Object.assign({},t),{ignoreHttpStatusCodes:!0}))],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var QY,fbe=E(()=>{s3();Vx();QY="systemErrorRetryPolicy"});function pbe(t={}){var e;return{name:JY,sendRequest:If([i3()],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var JY,dbe=E(()=>{o3();Vx();JY="throttlingRetryPolicy"});async function xJe(t,e,r){async function n(){if(Date.now()<r)try{return await t()}catch{return null}else{let o=await t();if(o===null)throw new Error("Failed to refresh access token.");return o}}let i=await n();for(;i===null;)await r3(e),i=await n();return i}function mbe(t,e){let r=null,n=null,i,o=Object.assign(Object.assign({},bJe),e),s={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return!s.isRefreshing&&((u=n?.expiresOnTimestamp)!==null&&u!==void 0?u:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(u,c){var l;return s.isRefreshing||(r=xJe(()=>t.getToken(u,c),o.retryIntervalInMs,(l=n?.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(p=>(r=null,n=p,i=c.tenantId,n)).catch(p=>{throw r=null,n=null,i=void 0,p})),r}return async(u,c)=>i!==c.tenantId||!!c.claims||s.mustRefresh?a(u,c):(s.shouldRefresh&&a(u,c),n)}var bJe,hbe=E(()=>{n3();bJe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2}});async function EJe(t){let{scopes:e,getAccessToken:r,request:n}=t,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions},o=await r(e,i);o&&t.request.headers.set("Authorization",`Bearer ${o.token}`)}function TJe(t){let e=t.headers.get("WWW-Authenticate");if(t.status===401&&e)return e}function gbe(t){var e;let{credential:r,scopes:n,challengeCallbacks:i}=t,o=t.logger||Jo,s=Object.assign({authorizeRequest:(e=i?.authorizeRequest)!==null&&e!==void 0?e:EJe,authorizeRequestOnChallenge:i?.authorizeRequestOnChallenge},i),a=r?mbe(r):()=>Promise.resolve(null);return{name:ZY,async sendRequest(u,c){if(!u.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await s.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:u,getAccessToken:a,logger:o});let l,f;try{l=await c(u)}catch(p){f=p,l=p.response}if(s.authorizeRequestOnChallenge&&l?.status===401&&TJe(l)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:u,response:l,getAccessToken:a,logger:o}))return c(u);if(f)throw f;return l}}}var ZY,vbe=E(()=>{hbe();Mx();ZY="bearerTokenAuthenticationPolicy"});function _be(){return{name:e$,async sendRequest(t,e){if(typeof t.body=="string"&&t.body.startsWith("[")){let r=JSON.parse(t.body);Array.isArray(r)&&(t.body=r.map(n=>JSON.stringify(n)+`
`).join(""))}return e(t)}}}var e$,ybe=E(()=>{e$="ndJsonPolicy"});var bbe={};Jn(bbe,{RestError:()=>uc,bearerTokenAuthenticationPolicy:()=>gbe,bearerTokenAuthenticationPolicyName:()=>ZY,createDefaultHttpClient:()=>z1e,createEmptyPipeline:()=>GL,createHttpHeaders:()=>Xx,createPipelineFromOptions:()=>U1e,createPipelineRequest:()=>obe,decompressResponsePolicy:()=>t3,decompressResponsePolicyName:()=>Jz,defaultRetryPolicy:()=>a3,exponentialRetryPolicy:()=>cbe,exponentialRetryPolicyName:()=>abe,formDataPolicy:()=>l3,formDataPolicyName:()=>dY,getDefaultProxySettings:()=>LY,isRestError:()=>b3,logPolicy:()=>XL,logPolicyName:()=>Vz,ndJsonPolicy:()=>_be,ndJsonPolicyName:()=>e$,proxyPolicy:()=>v3,proxyPolicyName:()=>kY,redirectPolicy:()=>QL,redirectPolicyName:()=>Yz,retryPolicy:()=>If,setClientRequestIdPolicy:()=>_3,setClientRequestIdPolicyName:()=>MY,systemErrorRetryPolicy:()=>lbe,systemErrorRetryPolicyName:()=>QY,throttlingRetryPolicy:()=>pbe,throttlingRetryPolicyName:()=>JY,tlsPolicy:()=>y3,tlsPolicyName:()=>UY,tracingPolicy:()=>E3,tracingPolicyName:()=>VY,userAgentPolicy:()=>e3,userAgentPolicyName:()=>Xz});var xbe=E(()=>{Rz();B1e();Y1e();S3();sbe();x3();Zz();ube();FY();zz();OY();$z();fbe();dbe();Vx();zY();tY();Qz();BY();mY();vbe();ybe()});var Sbe=R((R2,Tbe)=>{"use strict";var SJe=R2&&R2.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},CJe=R2&&R2.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ebe=(xbe(),wi(bbe)),IJe="https://monitor.azure.com//.default";function wJe(t){return null}var AJe=function(){function t(e,r){var n=r?[r]:[IJe];this._azureTokenPolicy=Ebe.bearerTokenAuthenticationPolicy({credential:e,scopes:n})}return t.prototype.addAuthorizationHeader=function(e){return SJe(this,void 0,void 0,function(){var r,n;return CJe(this,function(i){switch(i.label){case 0:return r="authorization",n=Ebe.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(n,wJe)];case 1:return i.sent(),e.headers[r]=n.headers.get(r),[2]}})})},t}();Tbe.exports=AJe});var Ibe=R((wKt,Cbe)=>{"use strict";var RJe=bn(),PJe=Wo(),NJe=function(){function t(e,r,n,i){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=r,this._getBatchIntervalMs=n,this._sender=i}return t.prototype.setUseDiskRetryCaching=function(e,r,n){this._sender.setDiskRetryMode(e,r,n)},t.prototype.send=function(e){var r=this;if(!this._isDisabled()){if(!e){RJe.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(e),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){r._timeoutHandle=null,r.triggerSend(!1)},this._getBatchIntervalMs()))}},t.prototype.triggerSend=function(e,r){var n=this._buffer.length<1;n||(e||PJe.isNodeExit?(this._sender.saveOnCrash(this._buffer),typeof r=="function"&&r("data saved on crash")):this._sender.send(this._buffer,r)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&typeof r=="function"&&r("no data to send")},t}();Cbe.exports=NJe});var wbe=R(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.azureRoleEnvironmentTelemetryProcessor=void 0;function DJe(t,e){}R3.azureRoleEnvironmentTelemetryProcessor=DJe});var Pbe=R(Zx=>{"use strict";Object.defineProperty(Zx,"__esModule",{value:!0});Zx.getSamplingHashCode=Zx.samplingTelemetryProcessor=void 0;var Abe=Ts();function kJe(t,e){var r=t.sampleRate,n=!1;return r==null||r>=100||t.data&&Abe.TelemetryType.Metric===Abe.baseTypeToTelemetryType(t.data.baseType)?!0:(e.correlationContext&&e.correlationContext.operation?n=Rbe(e.correlationContext.operation.id)<r:n=Math.random()*100<r,n)}Zx.samplingTelemetryProcessor=kJe;function Rbe(t){var e=-2147483648,r=2147483647,n=5381;if(!t)return 0;for(;t.length<8;)t=t+t;for(var i=0;i<t.length;i++)n=((n<<5)+n|0)+t.charCodeAt(i)|0;return n=n<=e?r:Math.abs(n),n/r*100}Zx.getSamplingHashCode=Rbe});var Nbe=R(P3=>{"use strict";Object.defineProperty(P3,"__esModule",{value:!0});P3.performanceMetricsTelemetryProcessor=void 0;var t$=AL(),r$=Ts();function LJe(t,e){switch(e&&e.addDocument(t),t.data.baseType){case r$.TelemetryTypeString.Exception:t$.countException();break;case r$.TelemetryTypeString.Request:var r=t.data.baseData;t$.countRequest(r.duration,r.success);break;case r$.TelemetryTypeString.Dependency:var n=t.data.baseData;t$.countDependency(n.duration,n.success);break}return!0}P3.performanceMetricsTelemetryProcessor=LJe});var Dbe=R(eE=>{"use strict";var wf=eE&&eE.__assign||function(){return wf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wf.apply(this,arguments)};Object.defineProperty(eE,"__esModule",{value:!0});eE.preAggregatedMetricsTelemetryProcessor=void 0;var OJe=Ts(),P2=sz(),N3=Ts();function MJe(t,e){if(P2.isEnabled())switch(t.data.baseType){case N3.TelemetryTypeString.Exception:var r=t.data.baseData;r.properties=wf(wf({},r.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var n={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole]};P2.countException(n);break;case N3.TelemetryTypeString.Trace:var i=t.data.baseData;i.properties=wf(wf({},i.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var o={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],traceSeverityLevel:OJe.SeverityLevel[i.severity]};P2.countTrace(o);break;case N3.TelemetryTypeString.Request:var s=t.data.baseData;s.properties=wf(wf({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var a={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],operationSynthetic:t.tags[e.keys.operationSyntheticSource],requestSuccess:s.success,requestResultCode:s.responseCode};P2.countRequest(s.duration,a);break;case N3.TelemetryTypeString.Dependency:var u=t.data.baseData;u.properties=wf(wf({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var c={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],operationSynthetic:t.tags[e.keys.operationSyntheticSource],dependencySuccess:u.success,dependencyType:u.type,dependencyTarget:u.target,dependencyResultCode:u.resultCode};P2.countDependency(u.duration,c);break}return!0}eE.preAggregatedMetricsTelemetryProcessor=MJe});var kbe=R(Af=>{"use strict";var FJe=Af&&Af.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D3=Af&&Af.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&FJe(e,t,r)};Object.defineProperty(Af,"__esModule",{value:!0});D3(wbe(),Af);D3(Pbe(),Af);D3(Nbe(),Af);D3(Dbe(),Af)});var n$=R((kKt,Mbe)=>{"use strict";var Et=Ts(),Aa=Wo(),Lbe=Uh(),UJe=bn(),BJe=function(){function t(){}return t.createEnvelope=function(e,r,n,i,o){var s=null;switch(r){case Et.TelemetryType.Trace:s=t.createTraceData(e);break;case Et.TelemetryType.Dependency:s=t.createDependencyData(e);break;case Et.TelemetryType.Event:s=t.createEventData(e);break;case Et.TelemetryType.Exception:s=t.createExceptionData(e);break;case Et.TelemetryType.Request:s=t.createRequestData(e);break;case Et.TelemetryType.Metric:s=t.createMetricData(e);break;case Et.TelemetryType.Availability:s=t.createAvailabilityData(e);break;case Et.TelemetryType.PageView:s=t.createPageViewData(e);break}if(s&&s.baseData&&Et.domainSupportsProperties(s.baseData)){if(n)if(!s.baseData.properties)s.baseData.properties=n;else for(var a in n)s.baseData.properties[a]||(s.baseData.properties[a]=n[a]);t.addAzureFunctionsCorrelationProperties(s.baseData.properties),s.baseData.properties&&(s.baseData.properties=Aa.validateStringMap(s.baseData.properties))}var u=o&&o.instrumentationKey||"",c=new Et.Envelope;return c.data=s,c.iKey=u,c.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+s.baseType.substr(0,s.baseType.length-4),c.tags=this.getTags(i,e.tagOverrides),c.time=new Date().toISOString(),c.ver=1,c.sampleRate=o?o.samplingPercentage:100,r===Et.TelemetryType.Metric&&(c.sampleRate=100),c},t.addAzureFunctionsCorrelationProperties=function(e){var r=Lbe.CorrelationContextManager.getCurrentContext();if(r&&r.customProperties&&r.customProperties.getProperty instanceof Function){e=e||{};var n=r.customProperties.getProperty("InvocationId");n&&(e.InvocationId=n),n=r.customProperties.getProperty("ProcessId"),n&&(e.ProcessId=n),n=r.customProperties.getProperty("LogLevel"),n&&(e.LogLevel=n),n=r.customProperties.getProperty("Category"),n&&(e.Category=n),n=r.customProperties.getProperty("HostInstanceId"),n&&(e.HostInstanceId=n),n=r.customProperties.getProperty("AzFuncLiveLogsSessionId"),n&&(e.AzFuncLiveLogsSessionId=n)}},t.truncateProperties=function(e){if(e.properties)try{for(var r={},n=Object.keys(e.properties),i=Object.values(e.properties),o=0;o<n.length;o++)n[o].length<=150&&(Aa.isDate(i[o])||(i[o]==null&&(i[o]=""),typeof i[o]=="object"&&(i[o]=Aa.stringify(i[o])),r[n[o]]=String(i[o]).substring(0,8192)),r[n[o]]=i[o]);return r}catch(s){UJe.warn("Failed to properly truncate telemetry properties: ",s)}},t.createTraceData=function(e){var r,n=new Et.MessageData;n.message=(r=e.message)===null||r===void 0?void 0:r.substring(0,32768),n.properties=this.truncateProperties(e),isNaN(e.severity)?n.severityLevel=Et.SeverityLevel.Information:n.severityLevel=e.severity;var i=new Et.Data;return i.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Trace),i.baseData=n,i},t.createDependencyData=function(e){var r,n,i,o=new Et.RemoteDependencyData;o.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,1024),o.data=(n=e.data)===null||n===void 0?void 0:n.substring(0,8192),o.target=(i=e.target)===null||i===void 0?void 0:i.substring(0,1024),o.duration=Aa.msToTimeSpan(e.duration),o.success=e.success,o.type=e.dependencyTypeName,o.properties=this.truncateProperties(e),o.resultCode=e.resultCode?e.resultCode.toString():"0",e.id?o.id=e.id:o.id=Aa.w3cTraceId();var s=new Et.Data;return s.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Dependency),s.baseData=o,s},t.createEventData=function(e){var r,n=new Et.EventData;n.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,512),n.properties=this.truncateProperties(e),n.measurements=e.measurements;var i=new Et.Data;return i.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Event),i.baseData=n,i},t.createExceptionData=function(e){var r,n,i=new Et.ExceptionData;i.properties=this.truncateProperties(e),isNaN(e.severity)?i.severityLevel=Et.SeverityLevel.Error:i.severityLevel=e.severity,i.measurements=e.measurements,i.exceptions=[];var o=e.exception.stack,s=new Et.ExceptionDetails;s.message=(r=e.exception.message)===null||r===void 0?void 0:r.substring(0,32768),s.typeName=(n=e.exception.name)===null||n===void 0?void 0:n.substring(0,1024),s.parsedStack=this.parseStack(o),s.hasFullStack=Aa.isArray(s.parsedStack)&&s.parsedStack.length>0,i.exceptions.push(s);var a=new Et.Data;return a.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Exception),a.baseData=i,a},t.createRequestData=function(e){var r,n,i,o,s=new Et.RequestData;e.id?s.id=e.id:s.id=Aa.w3cTraceId(),s.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,1024),s.url=(n=e.url)===null||n===void 0?void 0:n.substring(0,2048),s.source=(i=e.source)===null||i===void 0?void 0:i.substring(0,1024),s.duration=Aa.msToTimeSpan(e.duration),s.responseCode=(o=e.resultCode?e.resultCode.toString():"0")===null||o===void 0?void 0:o.substring(0,1024),s.success=e.success,s.properties=this.truncateProperties(e),s.measurements=e.measurements;var a=new Et.Data;return a.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Request),a.baseData=s,a},t.createMetricData=function(e){var r,n=new Et.MetricData;n.metrics=[];var i=new Et.DataPoint;i.count=isNaN(e.count)?1:e.count,i.kind=Et.DataPointType.Aggregation,i.max=isNaN(e.max)?e.value:e.max,i.min=isNaN(e.min)?e.value:e.min,i.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,1024),i.stdDev=isNaN(e.stdDev)?0:e.stdDev,i.value=e.value,i.ns=e.namespace,n.metrics.push(i),n.properties=this.truncateProperties(e);var o=new Et.Data;return o.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Metric),o.baseData=n,o},t.createAvailabilityData=function(e){var r,n,i=new Et.AvailabilityData;e.id?i.id=e.id:i.id=Aa.w3cTraceId(),i.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,1024),i.duration=Aa.msToTimeSpan(e.duration),i.success=e.success,i.runLocation=e.runLocation,i.message=(n=e.message)===null||n===void 0?void 0:n.substring(0,8192),i.measurements=e.measurements,i.properties=this.truncateProperties(e);var o=new Et.Data;return o.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.Availability),o.baseData=i,o},t.createPageViewData=function(e){var r,n,i=new Et.PageViewData;i.name=(r=e.name)===null||r===void 0?void 0:r.substring(0,1024),i.duration=Aa.msToTimeSpan(e.duration),i.url=(n=e.url)===null||n===void 0?void 0:n.substring(0,2048),i.measurements=e.measurements,i.properties=this.truncateProperties(e);var o=new Et.Data;return o.baseType=Et.telemetryTypeToBaseType(Et.TelemetryType.PageView),o.baseData=i,o},t.getTags=function(e,r){var n=Lbe.CorrelationContextManager.getCurrentContext(),i={};if(e&&e.tags)for(var o in e.tags)i[o]=e.tags[o];if(r)for(var o in r)i[o]=r[o];return n&&(i[e.keys.operationId]=i[e.keys.operationId]||n.operation.id,i[e.keys.operationName]=i[e.keys.operationName]||n.operation.name,i[e.keys.operationParentId]=i[e.keys.operationParentId]||n.operation.parentId),i},t.parseStack=function(e){var r=void 0;if(typeof e=="string"){var n=e.split(`
`);r=[];for(var i=0,o=0,s=0;s<=n.length;s++){var a=n[s];if(Obe.regex.test(a)){var u=new Obe(n[s],i++);o+=u.sizeInBytes,r.push(u)}}var c=32*1024;if(o>c)for(var l=0,f=r.length-1,p=0,m=l,d=f;l<f;){var h=r[l].sizeInBytes,g=r[f].sizeInBytes;if(p+=h+g,p>c){var v=d-m+1;r.splice(m,v);break}m=l,d=f,l++,f--}}return r},t}(),Obe=function(){function t(e,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=Aa.trim(e);var n=e.match(t.regex);n&&n.length>=5&&(this.method=Aa.trim(n[2])||this.method,this.fileName=Aa.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=t.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return t.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,t.baseSize=58,t}();Mbe.exports=BJe});var Fbe=R(Zh=>{"use strict";var qJe=Zh&&Zh.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},HJe=Zh&&Zh.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.FileAccessControl=void 0;var GJe=require("fs"),jJe=require("os"),tE=require("child_process"),VJe=bn(),zJe=function(){function t(){}return t.checkFileProtection=function(){if(!t.OS_PROVIDES_FILE_PROTECTION&&!t.OS_FILE_PROTECTION_CHECKED)if(t.OS_FILE_PROTECTION_CHECKED=!0,t.USE_ICACLS){try{t.OS_PROVIDES_FILE_PROTECTION=GJe.existsSync(t.ICACLS_PATH)}catch{}t.OS_PROVIDES_FILE_PROTECTION||VJe.warn(t.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else t.OS_PROVIDES_FILE_PROTECTION=!0},t.applyACLRules=function(e){return qJe(this,void 0,void 0,function(){var r,n;return HJe(this,function(i){switch(i.label){case 0:if(!t.USE_ICACLS)return[3,7];if(t.ACLED_DIRECTORIES[e]!==void 0)return[3,6];t.ACLED_DIRECTORIES[e]=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return r=i.sent(),[4,this._runICACLS(this._getACLArguments(e,r))];case 3:return i.sent(),t.ACLED_DIRECTORIES[e]=!0,[3,5];case 4:throw n=i.sent(),t.ACLED_DIRECTORIES[e]=!1,n;case 5:return[3,7];case 6:if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)");i.label=7;case 7:return[2]}})})},t.applyACLRulesSync=function(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){this._runICACLSSync(this._getACLArguments(e,this._getACLIdentitySync())),t.ACLED_DIRECTORIES[e]=!0;return}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},t._runICACLS=function(e){return new Promise(function(r,n){var i=tE.spawn(t.ICACLS_PATH,e,{windowsHide:!0});i.on("error",function(o){return n(o)}),i.on("close",function(o,s){o===0?r():n(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+o+")"))})})},t._runICACLSSync=function(e){if(tE.spawnSync){var r=tE.spawnSync(t.ICACLS_PATH,e,{windowsHide:!0});if(r.error)throw r.error;if(r.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},t._getACLIdentity=function(){return new Promise(function(e,r){t.ACL_IDENTITY&&e(t.ACL_IDENTITY);var n=tE.spawn(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";n.stdout.on("data",function(o){return i+=o}),n.on("error",function(o){return r(o)}),n.on("close",function(o,s){t.ACL_IDENTITY=i&&i.trim(),o===0?e(t.ACL_IDENTITY):r(new Error("Getting ACL identity did not succeed (PS returned code "+o+")"))})})},t._getACLIdentitySync=function(){if(t.ACL_IDENTITY)return t.ACL_IDENTITY;if(tE.spawnSync){var e=tE.spawnSync(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(e.error)throw e.error;if(e.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+e.status+")");return t.ACL_IDENTITY=e.stdout&&e.stdout.toString().trim(),t.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},t._getACLArguments=function(e,r){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",r+":(OI)(CI)F","/inheritance:r"]},t.TAG="FileAccessControl",t.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",t.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",t.ACLED_DIRECTORIES={},t.ACL_IDENTITY=null,t.OS_FILE_PROTECTION_CHECKED=!1,t.OS_PROVIDES_FILE_PROTECTION=!1,t.USE_ICACLS=jJe.type()==="Windows_NT",t}();Zh.FileAccessControl=zJe});var o$=R((D2,Bbe)=>{"use strict";var k3=D2&&D2.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},L3=D2&&D2.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},i$=require("fs"),YJe=require("os"),E_=require("path"),$Je=require("zlib"),eg=jn(),WJe=kx(),vd=gH(),Ra=Wo(),KJe=require("url"),Ube=bn(),N2=Fbe(),XJe=439,QJe=402,JJe=[200,206,402,408,429,439,500],ZJe=function(){function t(e,r,n,i,o,s,a){this._redirectedHost=null,this._config=e,this._onSuccess=n,this._onError=i,this._statsbeat=o,this._enableDiskRetryMode=!1,this._resendInterval=t.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=t.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=r,this._fileCleanupTimer=null,this._tempDir=E_.join(YJe.tmpdir(),t.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=s||!1,this._shutdownStatsbeat=a,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return t.prototype.setDiskRetryMode=function(e,r,n){var i=this;e&&N2.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=N2.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&e,typeof r=="number"&&r>=0&&(this._resendInterval=Math.floor(r)),typeof n=="number"&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),e&&!N2.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(eg.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){i._fileCleanupTask()},t.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(eg.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},t.prototype.send=function(e,r){return k3(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,f=this;return L3(this,function(p){switch(p.label){case 0:if(!e)return[3,5];if(n=this._redirectedHost||this._config.endpointUrl,i=new KJe.URL(n).hostname,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!s)return[3,4];this._statsbeat&&this._statsbeat.addFeature(eg.StatsbeatFeature.AAD_HANDLING),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,s.addAuthorizationHeader(o)];case 2:return p.sent(),[3,4];case 3:return a=p.sent(),u="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(u+="This batch of telemetry items will be retried. ",this._storeToDisk(e)),u+="Error:"+a.toString(),this._logWarn(u),typeof r=="function"&&r(u),[2];case 4:c="",e.forEach(function(m){var d=Ra.stringify(m);typeof d=="string"&&(c+=d+`
`)}),c.length>0&&(c=c.substring(0,c.length-1)),l=Buffer.from?Buffer.from(c):new Buffer(c),$Je.gzip(l,function(m,d){var h=d;m?(f._logWarn(Ra.dumpObj(m)),h=l,o.headers["Content-Length"]=l.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=d.length.toString()),f._logInfo(Ra.dumpObj(o)),o[WJe.disableCollectionRequestOption]=!0;var g=+new Date,v=function(y){y.setEncoding("utf-8");var x="";y.on("data",function(b){x+=b}),y.on("end",function(){var b=+new Date,T=b-g;if(f._numConsecutiveFailures=0,f._isStatsbeatSender&&!f._statsbeatHasReachedIngestionAtLeastOnce&&(JJe.includes(y.statusCode)?f._statsbeatHasReachedIngestionAtLeastOnce=!0:f._statsbeatFailedToIngest()),f._statsbeat&&(y.statusCode==QJe||y.statusCode==XJe?f._statsbeat.countThrottle(eg.StatsbeatNetworkCategory.Breeze,i,y.statusCode):f._statsbeat.countRequest(eg.StatsbeatNetworkCategory.Breeze,i,T,y.statusCode===200,y.statusCode)),f._enableDiskRetryMode){if(y.statusCode===200)f._resendTimer||(f._resendTimer=setTimeout(function(){f._resendTimer=null,f._sendFirstFileOnDisk()},f._resendInterval),f._resendTimer.unref());else if(f._isRetriable(y.statusCode))try{f._statsbeat&&f._statsbeat.countRetry(eg.StatsbeatNetworkCategory.Breeze,i,y.statusCode);var k=JSON.parse(x),U=[];k.errors&&(k.errors.forEach(function(fe){(fe.statusCode==429||fe.statusCode==500||fe.statusCode==503)&&U.push(e[fe.index])}),U.length>0&&f._storeToDisk(U))}catch{f._storeToDisk(e)}}if(y.statusCode===307||y.statusCode===308)if(f._numConsecutiveRedirects++,f._numConsecutiveRedirects<10){var z=y.headers.location?y.headers.location.toString():null;z&&(f._redirectedHost=z,f.send(e,r))}else{var D={name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."};f._statsbeat&&f._statsbeat.countException(eg.StatsbeatNetworkCategory.Breeze,i,D),typeof r=="function"&&r("Error sending telemetry because of circular redirects.")}else f._numConsecutiveRedirects=0,typeof r=="function"&&r(x),f._logInfo(x),typeof f._onSuccess=="function"&&f._onSuccess(x)})},_=Ra.makeRequest(f._config,n,o,v);_.setTimeout(t.HTTP_TIMEOUT,function(){f._requestTimedOut=!0,_.abort()}),_.on("error",function(y){if(f._isStatsbeatSender&&!f._statsbeatHasReachedIngestionAtLeastOnce&&f._statsbeatFailedToIngest(),f._numConsecutiveFailures++,f._statsbeat&&f._statsbeat.countException(eg.StatsbeatNetworkCategory.Breeze,i,y),!f._enableDiskRetryMode||f._numConsecutiveFailures>0&&f._numConsecutiveFailures%t.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var x="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";f._enableDiskRetryMode&&(x="Ingestion endpoint could not be reached "+f._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),f._logWarn(x,Ra.dumpObj(y))}else{var x="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";f._logInfo(x,Ra.dumpObj(y))}f._onErrorHelper(y),typeof r=="function"&&(y?(f._requestTimedOut&&(y.name="telemetry timeout",y.message="telemetry request timed out"),r(Ra.dumpObj(y))):r("Error sending telemetry")),f._enableDiskRetryMode&&f._storeToDisk(e)}),_.write(h),_.end()}),p.label=5;case 5:return[2]}})})},t.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(Ra.stringify(e))},t.prototype._isRetriable=function(e){return e===206||e===401||e===403||e===408||e===429||e===500||e===502||e===503||e===504},t.prototype._logInfo=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._isStatsbeatSender||Ube.info(t.TAG,e,r)},t.prototype._logWarn=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._isStatsbeatSender||Ube.warn(t.TAG,e,r)},t.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},t.prototype._storeToDisk=function(e){return k3(this,void 0,void 0,function(){var r,n,i,o,s,a,u;return L3(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,vd.confirmDirExists(this._tempDir)];case 1:return c.sent(),[3,3];case 2:return r=c.sent(),this._logWarn("Failed to create folder to put telemetry: "+Ra.dumpObj(r)),this._onErrorHelper(r),[2];case 3:return c.trys.push([3,5,,6]),[4,N2.FileAccessControl.applyACLRules(this._tempDir)];case 4:return c.sent(),[3,6];case 5:return n=c.sent(),this._logWarn("Failed to apply file access control to folder: "+Ra.dumpObj(n)),this._onErrorHelper(n),[2];case 6:return c.trys.push([6,8,,9]),[4,vd.getShallowDirectorySize(this._tempDir)];case 7:return i=c.sent(),i>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+i),[2]):[3,9];case 8:return o=c.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+Ra.dumpObj(o)),this._onErrorHelper(o),[2];case 9:return c.trys.push([9,11,,12]),s=new Date().getTime()+".ai.json",a=E_.join(this._tempDir,s),this._logInfo("saving data to disk at: "+a),[4,vd.writeFileAsync(a,Ra.stringify(e),{mode:384})];case 10:return c.sent(),[3,12];case 11:return u=c.sent(),this._logWarn("Failed to persist telemetry to disk: "+Ra.dumpObj(u)),this._onErrorHelper(u),[2];case 12:return[2]}})})},t.prototype._storeToDiskSync=function(e){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),i$.existsSync(this._tempDir)||i$.mkdirSync(this._tempDir),N2.FileAccessControl.applyACLRulesSync(this._tempDir);var r=vd.getShallowDirectorySizeSync(this._tempDir);if(r>this._maxBytesOnDisk){this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+r);return}var n=new Date().getTime()+".ai.json",i=E_.join(this._tempDir,n);this._logInfo("saving data before crash to disk at: "+i),i$.writeFileSync(i,e,{mode:384})}catch(o){this._logWarn("Error while saving data to disk: "+Ra.dumpObj(o)),this._onErrorHelper(o)}},t.prototype._sendFirstFileOnDisk=function(){return k3(this,void 0,void 0,function(){var e,r,n,i,o,s;return L3(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,vd.readdirAsync(this._tempDir)];case 1:return e=a.sent(),e=e.filter(function(u){return E_.basename(u).indexOf(".ai.json")>-1}),e.length>0?(r=e[0],n=E_.join(this._tempDir,r),[4,vd.readFileAsync(n)]):[3,5];case 2:return i=a.sent(),[4,vd.unlinkAsync(n)];case 3:return a.sent(),o=JSON.parse(i.toString()),[4,this.send(o)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:return s=a.sent(),this._onErrorHelper(s),[3,7];case 7:return[2]}})})},t.prototype._onErrorHelper=function(e){typeof this._onError=="function"&&this._onError(e)},t.prototype._fileCleanupTask=function(){return k3(this,void 0,void 0,function(){var e,r,n,i,o,s,a=this;return L3(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,vd.readdirAsync(this._tempDir)];case 1:if(e=u.sent(),e=e.filter(function(c){return E_.basename(c).indexOf(".ai.json")>-1}),!(e.length>0))return[3,5];r=0,u.label=2;case 2:return r<e.length?(n=new Date(parseInt(e[r].split(".ai.json")[0])),i=new Date(+new Date-t.FILE_RETEMPTION_PERIOD)>n,i?(o=E_.join(this._tempDir,e[r]),[4,vd.unlinkAsync(o).catch(function(c){a._onErrorHelper(c)})]):[3,4]):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return s=u.sent(),s.code!="ENOENT"&&this._onErrorHelper(s),[3,7];case 7:return[2]}})})},t.TAG="Sender",t.WAIT_BETWEEN_RESEND=60*1e3,t.MAX_BYTES_ON_DISK=50*1024*1024,t.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,t.CLEANUP_TIMEOUT=60*60*1e3,t.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,t.TEMPDIR_PREFIX="appInsights-node",t.HTTP_TIMEOUT=2e4,t}();Bbe.exports=ZJe});var Hbe=R(O3=>{"use strict";Object.defineProperty(O3,"__esModule",{value:!0});O3.AzureVirtualMachine=void 0;var qbe=bn(),eZe=Wo(),tZe=kx(),rZe="http://169.254.169.254/metadata/instance/compute",nZe="api-version=2017-12-01",iZe="format=json",oZe="UNREACH",sZe=function(){function t(){}return t.getAzureComputeMetadata=function(e,r){var n,i=this,o={},s=rZe+"?"+nZe+"&"+iZe,a=(n={method:"GET"},n[tZe.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),u=eZe.makeRequest(e,s,a,function(c){if(c.statusCode===200){o.isVM=!0;var l="";c.on("data",function(f){l+=f}),c.on("end",function(){try{var f=JSON.parse(l);o.id=f.vmId||"",o.subscriptionId=f.subscriptionId||"",o.osType=f.osType||""}catch(p){qbe.info(t.TAG,p)}r(o)})}else r(o)},!1,!1);u&&(setTimeout(function(){i._requestTimedOut=!0,u.abort()},t.HTTP_TIMEOUT),u.on("error",function(c){i._requestTimedOut&&c&&(c.name="telemetry timeout",c.message="telemetry request timed out"),c&&c.message&&c.message.indexOf(oZe)>-1?o.isVM=!1:qbe.info(t.TAG,c),r(o)}),u.end())},t.HTTP_TIMEOUT=2500,t.TAG="AzureVirtualMachine",t}();O3.AzureVirtualMachine=sZe});var Gbe=R(M3=>{"use strict";Object.defineProperty(M3,"__esModule",{value:!0});M3.NetworkStatsbeat=void 0;var aZe=function(){function t(e,r){this.endpoint=e,this.host=r,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}return t}();M3.NetworkStatsbeat=aZe});var $be=R((T_,Ybe)=>{"use strict";var Rf=T_&&T_.__assign||function(){return Rf=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rf.apply(this,arguments)},s$=T_&&T_.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(f){s(f)}}function u(l){try{c(n.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},a$=T_&&T_.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},cZe=require("os"),uZe=n$(),jbe=bn(),lZe=o$(),Tn=jn(),fZe=Ts(),pZe=Hbe(),dZe=wz(),Vbe=Ix(),mZe=Gbe(),zbe=Wo(),hZe="node",gZe=function(){function t(e,r){this._attach=Tn.StatsbeatAttach.sdk,this._feature=Tn.StatsbeatFeature.NONE,this._instrumentation=Tn.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=e,this._context=r||new Vbe;var n=this._getConnectionString(e);this._statsbeatConfig=new dZe(n),this._statsbeatConfig.samplingPercentage=100,this._sender=new lZe(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return t.prototype.enable=function(e){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),e?(this._handle||(this._handle=setInterval(function(){r.trackShortIntervalStatsbeats()},t.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval(function(){r.trackLongIntervalStatsbeats()},t.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.isEnabled=function(){return this._isEnabled},t.prototype.setCodelessAttach=function(){this._attach=Tn.StatsbeatAttach.codeless},t.prototype.addFeature=function(e){this._feature|=e},t.prototype.removeFeature=function(e){this._feature&=~e},t.prototype.addInstrumentation=function(e){this._instrumentation|=e},t.prototype.removeInstrumentation=function(e){this._instrumentation&=~e},t.prototype.countRequest=function(e,r,n,i,o){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(e,r);if(s.totalRequestCount++,s.intervalRequestExecutionTime+=n,i===!1){if(!o)return;var a=s.totalFailedRequestCount.find(function(u){return o===u.statusCode});a?a.count++:s.totalFailedRequestCount.push({statusCode:o,count:1})}else s.totalSuccesfulRequestCount++}},t.prototype.countException=function(e,r,n){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,r),o=i.exceptionCount.find(function(s){return n.name===s.exceptionType});o?o.count++:i.exceptionCount.push({exceptionType:n.name,count:1})}},t.prototype.countThrottle=function(e,r,n){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,r),o=i.throttleCount.find(function(s){return n===s.statusCode});o?o.count++:i.throttleCount.push({statusCode:n,count:1})}},t.prototype.countRetry=function(e,r,n){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,r),o=i.retryCount.find(function(s){return n===s.statusCode});o?o.count++:i.retryCount.push({statusCode:n,count:1})}},t.prototype.trackShortIntervalStatsbeats=function(){return s$(this,void 0,void 0,function(){var e,r;return a$(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return n.sent(),e={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(e),this._trackRequestsCount(e),[4,this._sendStatsbeats()];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),jbe.info(t.TAG,"Failed to send Statsbeat metrics: "+zbe.dumpObj(r)),[3,4];case 4:return[2]}})})},t.prototype.trackLongIntervalStatsbeats=function(){return s$(this,void 0,void 0,function(){var e,r,n,i,o;return a$(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return s.sent(),e={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},r=Object.assign({rpId:this._resourceIdentifier},e),this._statbeatMetrics.push({name:Tn.StatsbeatCounter.ATTACH,value:1,properties:r}),this._instrumentation!=Tn.StatsbeatInstrumentation.NONE&&(n=Object.assign({feature:this._instrumentation,type:Tn.StatsbeatFeatureType.Instrumentation},e),this._statbeatMetrics.push({name:Tn.StatsbeatCounter.FEATURE,value:1,properties:n})),this._feature!=Tn.StatsbeatFeature.NONE&&(i=Object.assign({feature:this._feature,type:Tn.StatsbeatFeatureType.Feature},e),this._statbeatMetrics.push({name:Tn.StatsbeatCounter.FEATURE,value:1,properties:i})),[4,this._sendStatsbeats()];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),jbe.info(t.TAG,"Failed to send Statsbeat metrics: "+zbe.dumpObj(o)),[3,4];case 4:return[2]}})})},t.prototype._getNetworkStatsbeatCounter=function(e,r){for(var n=this._getShortHost(r),i=0;i<this._networkStatsbeatCollection.length;i++)if(e===this._networkStatsbeatCollection[i].endpoint&&n===this._networkStatsbeatCollection[i].host)return this._networkStatsbeatCollection[i];var o=new mZe.NetworkStatsbeat(e,n);return this._networkStatsbeatCollection.push(o),o},t.prototype._trackRequestDuration=function(e){for(var r=0;r<this._networkStatsbeatCollection.length;r++){var n=this._networkStatsbeatCollection[r];n.time=+new Date;var i=n.totalRequestCount-n.lastRequestCount||0,o=n.intervalRequestExecutionTime-n.lastIntervalRequestExecutionTime,s=o>0&&o/i||0;if(n.lastIntervalRequestExecutionTime=n.intervalRequestExecutionTime,i>0){var a=Object.assign({endpoint:this._networkStatsbeatCollection[r].endpoint,host:this._networkStatsbeatCollection[r].host},e);this._statbeatMetrics.push({name:Tn.StatsbeatCounter.REQUEST_DURATION,value:s,properties:a})}n.lastRequestCount=n.totalRequestCount,n.lastTime=n.time}},t.prototype._getShortHost=function(e){var r=e;try{var n=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/),i=n.exec(e);i!=null&&i.length>1&&(r=i[1]),r=r.replace(".in.applicationinsights.azure.com","")}catch{}return r},t.prototype._trackRequestsCount=function(e){for(var r=this,n=function(a){o=i._networkStatsbeatCollection[a];var u=Object.assign({endpoint:o.endpoint,host:o.host},e);o.totalSuccesfulRequestCount>0&&(i._statbeatMetrics.push({name:Tn.StatsbeatCounter.REQUEST_SUCCESS,value:o.totalSuccesfulRequestCount,properties:u}),o.totalSuccesfulRequestCount=0),o.totalFailedRequestCount.length>0&&(o.totalFailedRequestCount.forEach(function(c){u=Object.assign(Rf(Rf({},u),{statusCode:c.statusCode})),r._statbeatMetrics.push({name:Tn.StatsbeatCounter.REQUEST_FAILURE,value:c.count,properties:u})}),o.totalFailedRequestCount=[]),o.retryCount.length>0&&(o.retryCount.forEach(function(c){u=Object.assign(Rf(Rf({},u),{statusCode:c.statusCode})),r._statbeatMetrics.push({name:Tn.StatsbeatCounter.RETRY_COUNT,value:c.count,properties:u})}),o.retryCount=[]),o.throttleCount.length>0&&(o.throttleCount.forEach(function(c){u=Object.assign(Rf(Rf({},u),{statusCode:c.statusCode})),r._statbeatMetrics.push({name:Tn.StatsbeatCounter.THROTTLE_COUNT,value:c.count,properties:u})}),o.throttleCount=[]),o.exceptionCount.length>0&&(o.exceptionCount.forEach(function(c){u=Object.assign(Rf(Rf({},u),{exceptionType:c.exceptionType})),r._statbeatMetrics.push({name:Tn.StatsbeatCounter.EXCEPTION_COUNT,value:c.count,properties:u})}),o.exceptionCount=[])},i=this,o,s=0;s<this._networkStatsbeatCollection.length;s++)n(s)},t.prototype._sendStatsbeats=function(){return s$(this,void 0,void 0,function(){var e,r,n,i;return a$(this,function(o){switch(o.label){case 0:for(e=[],r=0;r<this._statbeatMetrics.length;r++)n={name:this._statbeatMetrics[r].name,value:this._statbeatMetrics[r].value,properties:this._statbeatMetrics[r].properties},i=uZe.createEnvelope(n,fZe.TelemetryType.Metric,null,this._context,this._statsbeatConfig),i.name=Tn.StatsbeatTelemetryName,e.push(i);return this._statbeatMetrics=[],[4,this._sender.send(e)];case 1:return o.sent(),[2]}})})},t.prototype._getCustomProperties=function(){this._language=hZe,this._cikey=this._config.instrumentationKey,this._sdkVersion=Vbe.sdkVersion,this._os=cZe.type(),this._runtimeVersion=process.version},t.prototype._getResourceProvider=function(){var e=this;return new Promise(function(r,n){var i=!1;e._resourceProvider=Tn.StatsbeatResourceProvider.unknown,e._resourceIdentifier=Tn.StatsbeatResourceProvider.unknown,process.env.AKS_ARM_NAMESPACE_ID?(e._resourceProvider=Tn.StatsbeatResourceProvider.aks,e._resourceIdentifier=process.env.AKS_ARM_NAMESPACE_ID):process.env.WEBSITE_SITE_NAME?(e._resourceProvider=Tn.StatsbeatResourceProvider.appsvc,e._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(e._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(e._resourceProvider=Tn.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(e._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):e._config&&(e._isVM===void 0||e._isVM==!0?(i=!0,pZe.AzureVirtualMachine.getAzureComputeMetadata(e._config,function(o){e._isVM=o.isVM,e._isVM&&(e._resourceProvider=Tn.StatsbeatResourceProvider.vm,e._resourceIdentifier=o.id+"/"+o.subscriptionId,o.osType&&(e._os=o.osType)),r()})):e._resourceProvider=Tn.StatsbeatResourceProvider.unknown),i||r()})},t.prototype._shutdownStatsbeat=function(){this.enable(!1)},t.prototype._getConnectionString=function(e){for(var r=e.endpointUrl,n=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],i=0;i<n.length;i++)if(r.indexOf(n[i])>-1)return t.EU_CONNECTION_STRING;return t.NON_EU_CONNECTION_STRING},t.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",t.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",t.STATS_COLLECTION_SHORT_INTERVAL=9e5,t.STATS_COLLECTION_LONG_INTERVAL=864e5,t.TAG="Statsbeat",t}();Ybe.exports=gZe});var Xbe=R((FKt,Kbe)=>{"use strict";var vZe=require("url"),_Ze=wz(),yZe=Sbe(),bZe=Ix(),_d=Ts(),xZe=Ibe(),c$=kbe(),Wbe=Uh(),EZe=$be(),TZe=o$(),u$=Wo(),F3=bn(),SZe=n$(),CZe=function(){function t(e){this._telemetryProcessors=[];var r=new _Ze(e);if(this.config=r,!this.config.instrumentationKey||this.config.instrumentationKey=="")throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new bZe,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new EZe(this.config,this.context),this._statsbeat.enable(!0));var n=new TZe(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new xZe(function(){return r.disableAppInsights},function(){return r.maxBatchSize},function(){return r.maxBatchIntervalMs},n)}return t.prototype.trackAvailability=function(e){this.track(e,_d.TelemetryType.Availability)},t.prototype.trackPageView=function(e){this.track(e,_d.TelemetryType.PageView)},t.prototype.trackTrace=function(e){this.track(e,_d.TelemetryType.Trace)},t.prototype.trackMetric=function(e){this.track(e,_d.TelemetryType.Metric)},t.prototype.trackException=function(e){e&&e.exception&&!u$.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,_d.TelemetryType.Exception)},t.prototype.trackEvent=function(e){this.track(e,_d.TelemetryType.Event)},t.prototype.trackRequest=function(e){this.track(e,_d.TelemetryType.Request)},t.prototype.trackDependency=function(e){if(e&&!e.target&&e.data)try{e.target=new vZe.URL(e.data).host}catch(r){e.target=null,F3.warn(t.TAG,"The URL object is failed to create.",r)}this.track(e,_d.TelemetryType.Dependency)},t.prototype.flush=function(e){this.channel.triggerSend(e?!!e.isAppCrashing:!1,e?e.callback:void 0)},t.prototype.track=function(e,r){if(e&&_d.telemetryTypeToBaseType(r)){var n=SZe.createEnvelope(e,r,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var i=this.runTelemetryProcessors(n,e.contextObjects);i=i&&c$.samplingTelemetryProcessor(n,{correlationContext:Wbe.CorrelationContextManager.getCurrentContext()}),c$.preAggregatedMetricsTelemetryProcessor(n,this.context),i&&(c$.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else F3.warn(t.TAG,"track() requires telemetry object and telemetryType to be specified.")},t.prototype.setAutoPopulateAzureProperties=function(e){},t.prototype.getAuthorizationHandler=function(e){return e&&e.aadTokenCredential?(this.authorizationHandler||(F3.info(t.TAG,"Adding authorization handler"),this.authorizationHandler=new yZe(e.aadTokenCredential,e.aadAudience)),this.authorizationHandler):null},t.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},t.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},t.prototype.runTelemetryProcessors=function(e,r){var n=!0,i=this._telemetryProcessors.length;if(i===0)return n;r=r||{},r.correlationContext=Wbe.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var s=this._telemetryProcessors[o];if(s&&s.apply(null,[e,r])===!1){n=!1;break}}catch(a){n=!0,F3.warn(t.TAG,"One of telemetry processors failed, telemetry item will be sent.",a,e)}return n&&(e&&e.tags&&(e.tags=u$.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=u$.validateStringMap(e.data.baseData.properties))),n},t.prototype.getStatsbeat=function(){return this._statsbeat},t.TAG="TelemetryClient",t}();Kbe.exports=CZe});var Zbe=R((l$,Jbe)=>{"use strict";var IZe=l$&&l$.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wZe=Xbe(),Qbe=bz(),AZe=kx(),U3=bn(),RZe=function(t){IZe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.trackNodeHttpRequestSync=function(r){r&&r.request&&r.response&&r.duration?Qbe.trackRequestSync(this,r):U3.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},e.prototype.trackNodeHttpRequest=function(r){(r.duration||r.error)&&U3.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),r&&r.request&&r.response?Qbe.trackRequest(this,r):U3.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},e.prototype.trackNodeHttpDependency=function(r){r&&r.request?AZe.trackRequest(this,r):U3.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},e}(wZe);Jbe.exports=RZe});var txe=R(exe=>{"use strict";Object.defineProperty(exe,"__esModule",{value:!0})});var sxe=R(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.dispose=ee.Configuration=ee.wrapWithCorrelationContext=ee.startOperation=ee.getCorrelationContext=ee.start=ee.setup=ee.liveMetricsClient=ee.defaultClient=ee.DistributedTracingModes=void 0;var f$=Uh(),PZe=Ove(),NZe=Fve(),p$=AL(),DZe=sz(),kZe=zve(),LZe=n_e(),OZe=kx(),MZe=bz(),rxe=r_(),k2=bn(),nxe=M_e(),d$=F_e(),FZe=q_e();ee.TelemetryClient=Zbe();ee.Contracts=Ts();ee.azureFunctionsTypes=txe();var ixe;(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C"})(ixe=ee.DistributedTracingModes||(ee.DistributedTracingModes={}));var L2,O2,M2,F2,U2,rE,nE,S_,B2,q2,lc=!1,B3;function UZe(t){return ee.defaultClient?k2.info("The default client is already setup"):(ee.defaultClient=new ee.TelemetryClient(t),L2=new PZe(ee.defaultClient),O2=new NZe(ee.defaultClient),M2=new p$(ee.defaultClient),F2=new DZe(ee.defaultClient),U2=new kZe(ee.defaultClient),rE=new LZe(ee.defaultClient),S_=new MZe(ee.defaultClient),B2=new OZe(ee.defaultClient),nE||(nE=new d$.AutoCollectNativePerformance(ee.defaultClient)),q2=new FZe.AzureFunctionsHook(ee.defaultClient)),m$}ee.setup=UZe;function BZe(){ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectExternalLoggers==null&&(ee.defaultClient.config.enableAutoCollectExternalLoggers=!0),ee.defaultClient.config.enableAutoCollectConsole==null&&(ee.defaultClient.config.enableAutoCollectConsole=!1),ee.defaultClient.config.enableAutoCollectExceptions==null&&(ee.defaultClient.config.enableAutoCollectExceptions=!0),ee.defaultClient.config.enableAutoCollectPerformance==null&&(ee.defaultClient.config.enableAutoCollectPerformance=!0),ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics==null&&(ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics=!0),ee.defaultClient.config.enableAutoCollectHeartbeat==null&&(ee.defaultClient.config.enableAutoCollectHeartbeat=!0),ee.defaultClient.config.enableAutoCollectRequests==null&&(ee.defaultClient.config.enableAutoCollectRequests=!0),ee.defaultClient.config.enableAutoCollectDependencies==null&&(ee.defaultClient.config.enableAutoCollectDependencies=!0),ee.defaultClient.config.enableUseDiskRetryCaching==null&&(ee.defaultClient.config.enableUseDiskRetryCaching=!0),ee.defaultClient.config.enableAutoDependencyCorrelation==null&&(ee.defaultClient.config.enableAutoDependencyCorrelation=!0),ee.defaultClient.config.enableSendLiveMetrics==null&&(ee.defaultClient.config.enableSendLiveMetrics=!1),ee.defaultClient.config.enableAutoCollectExtendedMetrics==null&&(ee.defaultClient.config.enableAutoCollectExtendedMetrics=!0),ee.defaultClient.config.enableWebInstrumentation==null&&(ee.defaultClient.config.enableWebInstrumentation=!1),ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions==null&&(ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions=!1))}function oxe(){if(ee.defaultClient){lc=!0,BZe(),L2.enable(ee.defaultClient.config.enableAutoCollectExternalLoggers,ee.defaultClient.config.enableAutoCollectConsole),O2.enable(ee.defaultClient.config.enableAutoCollectExceptions),M2.enable(ee.defaultClient.config.enableAutoCollectPerformance),F2.enable(ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics),U2.enable(ee.defaultClient.config.enableAutoCollectHeartbeat),S_.useAutoCorrelation(ee.defaultClient.config.enableAutoDependencyCorrelation,ee.defaultClient.config.enableUseAsyncHooks),S_.enable(ee.defaultClient.config.enableAutoCollectRequests),B2.enable(ee.defaultClient.config.enableAutoCollectDependencies),rE.enable(ee.defaultClient.config.enableWebInstrumentation,ee.defaultClient.config.webInstrumentationConnectionString),ee.defaultClient.config.enableSendLiveMetrics&&(ee.liveMetricsClient||(ee.liveMetricsClient=new nxe(ee.defaultClient.config,ee.defaultClient.context,ee.defaultClient.getAuthorizationHandler),B3=new p$(ee.liveMetricsClient,1e3,!0),ee.liveMetricsClient.addCollector(B3),ee.defaultClient.quickPulseClient=ee.liveMetricsClient),ee.liveMetricsClient.enable(ee.defaultClient.config.enableSendLiveMetrics)),q2.enable(ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions);var t=d$.AutoCollectNativePerformance.parseEnabled(ee.defaultClient.config.enableAutoCollectExtendedMetrics,ee.defaultClient.config);nE.enable(ee.defaultClient.config.enableAutoCollectExtendedMetrics,t.disabledMetrics),ee.defaultClient&&ee.defaultClient.channel&&ee.defaultClient.channel.setUseDiskRetryCaching(ee.defaultClient.config.enableUseDiskRetryCaching,ee.defaultClient.config.enableResendInterval,ee.defaultClient.config.enableMaxBytesOnDisk)}else k2.warn("Start cannot be called before setup");return m$}ee.start=oxe;function qZe(){return f$.CorrelationContextManager.getCurrentContext()}ee.getCorrelationContext=qZe;function HZe(t,e){return f$.CorrelationContextManager.startOperation(t,e)}ee.startOperation=HZe;function GZe(t,e){return f$.CorrelationContextManager.wrapCallback(t,e)}ee.wrapWithCorrelationContext=GZe;var m$=function(){function t(){}return t.setDistributedTracingMode=function(e){return rxe.w3cEnabled=e===ixe.AI_AND_W3C,t},t.setAutoCollectConsole=function(e,r){return r===void 0&&(r=!1),ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectExternalLoggers=e,ee.defaultClient.config.enableAutoCollectConsole=r,lc&&L2.enable(e,r)),t},t.setAutoCollectExceptions=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectExceptions=e,lc&&O2.enable(e)),t},t.setAutoCollectPerformance=function(e,r){if(r===void 0&&(r=!0),ee.defaultClient){ee.defaultClient.config.enableAutoCollectPerformance=e;var n=d$.AutoCollectNativePerformance.parseEnabled(r,ee.defaultClient.config);ee.defaultClient.config.enableAutoCollectExtendedMetrics=n.isEnabled,lc&&(M2.enable(e),nE.enable(ee.defaultClient.config.enableAutoCollectExtendedMetrics,n.disabledMetrics))}return t},t.setAutoCollectPreAggregatedMetrics=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics=e,lc&&F2.enable(e)),t},t.setAutoCollectHeartbeat=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectHeartbeat=e,lc&&U2.enable(e)),t},t.enableAutoWebSnippetInjection=function(e,r){return ee.defaultClient&&(ee.defaultClient.config.enableWebInstrumentation=e,ee.defaultClient.config.webInstrumentationConnectionString=r,lc&&rE.enable(ee.defaultClient.config.enableAutoWebSnippetInjection,ee.defaultClient.config.webSnippetConnectionString)),t},t.enableWebInstrumentation=function(e,r){return ee.defaultClient&&(ee.defaultClient.config.enableWebInstrumentation=e,ee.defaultClient.config.webInstrumentationConnectionString=r,lc&&rE.enable(ee.defaultClient.config.enableWebInstrumentation,ee.defaultClient.config.webInstrumentationConnectionString)),t},t.setAutoCollectRequests=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectRequests=e,lc&&S_.enable(e)),t},t.setAutoCollectDependencies=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectDependencies=e,lc&&B2.enable(e)),t},t.setAutoDependencyCorrelation=function(e,r){return ee.defaultClient&&(ee.defaultClient.config.enableAutoDependencyCorrelation=e,ee.defaultClient.config.enableUseAsyncHooks=r,lc&&S_.useAutoCorrelation(e,r)),t},t.setUseDiskRetryCaching=function(e,r,n){return ee.defaultClient&&(ee.defaultClient.config.enableUseDiskRetryCaching=e,ee.defaultClient.config.enableResendInterval=r,ee.defaultClient.config.enableMaxBytesOnDisk=n,ee.defaultClient.channel&&ee.defaultClient.channel.setUseDiskRetryCaching(ee.defaultClient.config.enableUseDiskRetryCaching,ee.defaultClient.config.enableResendInterval,ee.defaultClient.config.enableMaxBytesOnDisk)),t},t.setInternalLogging=function(e,r){return e===void 0&&(e=!1),r===void 0&&(r=!0),k2.enableDebug=e,k2.disableWarnings=!r,t},t.setAutoCollectIncomingRequestAzureFunctions=function(e){return ee.defaultClient&&(ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions=e,lc&&q2.enable(e)),t},t.setSendLiveMetrics=function(e){return e===void 0&&(e=!1),ee.defaultClient?(!ee.liveMetricsClient&&e?(ee.liveMetricsClient=new nxe(ee.defaultClient.config,ee.defaultClient.context,ee.defaultClient.getAuthorizationHandler),B3=new p$(ee.liveMetricsClient,1e3,!0),ee.liveMetricsClient.addCollector(B3),ee.defaultClient.quickPulseClient=ee.liveMetricsClient):ee.liveMetricsClient&&ee.liveMetricsClient.enable(e),ee.defaultClient.config.enableSendLiveMetrics=e,t):(k2.warn("Live metrics client cannot be setup without the default client"),t)},t.start=oxe,t}();ee.Configuration=m$;function jZe(){rxe.w3cEnabled=!0,ee.defaultClient=null,lc=!1,L2&&L2.dispose(),O2&&O2.dispose(),M2&&M2.dispose(),F2&&F2.dispose(),U2&&U2.dispose(),rE&&rE.dispose(),nE&&nE.dispose(),S_&&S_.dispose(),B2&&B2.dispose(),ee.liveMetricsClient&&(ee.liveMetricsClient.enable(!1),ee.liveMetricsClient=void 0),q2&&q2.dispose()}ee.dispose=jZe});var g$=R(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.TargetPopulation=tg.Filters=tg.VSCodeFilterProvider=void 0;var j3=require("vscode"),h$=class t{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case Pf.ApplicationVersion:return t.trimVersionSuffix(j3.version);case Pf.Build:return j3.env.appName;case Pf.ClientId:return j3.env.machineId;case Pf.ExtensionName:return this.extensionName;case Pf.ExtensionVersion:return t.trimVersionSuffix(this.extensionVersion);case Pf.Language:return j3.env.language;case Pf.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(Pf);for(let n of r)e.set(n,this.getFilterValue(n));return e}};tg.VSCodeFilterProvider=h$;var Pf;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Pf||(tg.Filters=Pf={}));var lxe;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(lxe||(tg.TargetPopulation=lxe={}))});var fxe=R(V3=>{"use strict";Object.defineProperty(V3,"__esModule",{value:!0});V3.BaseFeatureProvider=void 0;var v$=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};V3.BaseFeatureProvider=v$});var pxe=R(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});z3.FilteredFeatureProvider=void 0;var YZe=fxe(),_$=class extends YZe.BaseFeatureProvider{constructor(e,r){super(e),this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};z3.FilteredFeatureProvider=_$});var dxe=R(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.TasApiFeatureProvider=rg.TASAPI_FETCHERROR_EVENTNAME=void 0;var $Ze=pxe();rg.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var y$="ErrorType",b$=class extends $Ze.FilteredFeatureProvider{constructor(e,r,n){super(r,n),this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let u=e.get(a);r[a]=u}let n;try{n=await this.httpClient.get({headers:r})}catch(a){let u=a,c=new Map;u.response?c.set(y$,"ServerError"):u.request?c.set(y$,"NoResponse"):c.set(y$,"GenericError"),this.telemetry.postEvent(rg.TASAPI_FETCHERROR_EVENTNAME,c)}if(!n)throw Error(rg.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let u of Object.keys(a.Parameters)){let c=u+(a.Parameters[u]?"":"cf");s.includes(c)||s.push(c)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};rg.TasApiFeatureProvider=b$});var hxe=R(mxe=>{"use strict";var WZe=require("url").parse,KZe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},XZe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function QZe(t){var e=typeof t=="string"?WZe(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||KZe[r]||0,!JZe(n,i)))return"";var o=iE("npm_config_"+r+"_proxy")||iE(r+"_proxy")||iE("npm_config_proxy")||iE("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function JZe(t,e){var r=(iE("npm_config_no_proxy")||iE("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!XZe.call(t,o)):t!==o}):!0}function iE(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}mxe.getProxyForUrl=QZe});var vxe=R((JKt,gxe)=>{var H2;gxe.exports=function(){if(!H2){try{H2=ou()("follow-redirects")}catch{}typeof H2!="function"&&(H2=function(){})}H2.apply(null,arguments)}});var Exe=R((ZKt,D$)=>{var V2=require("url"),G2=V2.URL,ZZe=require("http"),eet=require("https"),C$=require("stream").Writable,I$=require("assert"),_xe=vxe(),w$=!1;try{I$(new G2)}catch(t){w$=t.code==="ERR_INVALID_URL"}var tet=["auth","host","hostname","href","path","pathname","port","protocol","query","search"],A$=["abort","aborted","connect","error","socket","timeout"],R$=Object.create(null);A$.forEach(function(t){R$[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var E$=z2("ERR_INVALID_URL","Invalid URL",TypeError),T$=z2("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),ret=z2("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",T$),net=z2("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),iet=z2("ERR_STREAM_WRITE_AFTER_END","write after end"),oet=C$.prototype.destroy||bxe;function Pa(t,e){C$.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){try{r._processResponse(n)}catch(i){r.emit("error",i instanceof T$?i:new T$({cause:i}))}},this._performRequest()}Pa.prototype=Object.create(C$.prototype);Pa.prototype.abort=function(){N$(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};Pa.prototype.destroy=function(t){return N$(this._currentRequest,t),oet.call(this,t),this};Pa.prototype.write=function(t,e,r){if(this._ending)throw new iet;if(!I_(t)&&!cet(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(j2(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new net),this.abort())};Pa.prototype.end=function(t,e,r){if(j2(t)?(r=t,t=e=null):j2(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Pa.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Pa.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Pa.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Pa.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Pa.prototype,t,{get:function(){return this._currentRequest[t]}})});Pa.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Pa.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of A$)n.on(i,R$[i]);if(this._currentUrl=/^\//.test(this._options.path)?V2.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function u(c){if(n===s._currentRequest)if(c)s.emit("error",c);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,u)}else s._ended&&n.end()})()}};Pa.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(N$(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new ret;var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],x$(/^content-/i,this._options.headers));var s=x$(/^host$/i,this._options.headers),a=P$(this._currentUrl),u=s||a.host,c=/^\w+:/.test(r)?this._currentUrl:V2.format(Object.assign(a,{host:u})),l=set(r,c);if(_xe("redirecting to",l.href),this._isRedirect=!0,S$(l,this._options),(l.protocol!==a.protocol&&l.protocol!=="https:"||l.host!==u&&!aet(l.host,u))&&x$(/^(?:authorization|cookie)$/i,this._options.headers),j2(i)){var f={headers:t.headers,statusCode:e},p={url:c,method:o,headers:n};i(this._options,f,p),this._sanitizeOptions(this._options)}this._performRequest()};function yxe(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(c,l,f){return uet(c)?c=S$(c):I_(c)?c=S$(P$(c)):(f=l,l=xxe(c),c={protocol:i}),j2(l)&&(f=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,l),l.nativeProtocols=r,!I_(l.host)&&!I_(l.hostname)&&(l.hostname="::1"),I$.equal(l.protocol,i,"protocol mismatch"),_xe("options",l),new Pa(l,f)}function u(c,l,f){var p=s.request(c,l,f);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),e}function bxe(){}function P$(t){var e;if(w$)e=new G2(t);else if(e=xxe(V2.parse(t)),!I_(e.protocol))throw new E$({input:t});return e}function set(t,e){return w$?new G2(t,e):P$(V2.resolve(e,t))}function xxe(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new E$({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new E$({input:t.href||t});return t}function S$(t,e){var r=e||{};for(var n of tet)r[n]=t[n];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function x$(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function z2(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),Object.defineProperties(n.prototype,{constructor:{value:n,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),n}function N$(t,e){for(var r of A$)t.removeListener(r,R$[r]);t.on("error",bxe),t.destroy(e)}function aet(t,e){I$(I_(t)&&I_(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function I_(t){return typeof t=="string"||t instanceof String}function j2(t){return typeof t=="function"}function cet(t){return typeof t=="object"&&"length"in t}function uet(t){return G2&&t instanceof G2}D$.exports=yxe({http:ZZe,https:eet});D$.exports.wrap=yxe});var pEe=R((eXt,fEe)=>{"use strict";var fet=pY(),pet=require("url"),det=hxe(),met=require("http"),het=require("https"),qxe=require("util"),get=Exe(),vet=require("zlib"),Hxe=require("stream"),_et=require("events");function yd(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var Gxe=yd(fet),yet=yd(pet),bet=yd(met),xet=yd(het),Eet=yd(qxe),Tet=yd(get),sg=yd(vet),ig=yd(Hxe),Cet=yd(_et);function jxe(t,e){return function(){return t.apply(e,arguments)}}var{toString:Iet}=Object.prototype,{getPrototypeOf:$$}=Object,Q3=(t=>e=>{let r=Iet.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nf=t=>(t=t.toLowerCase(),e=>Q3(e)===t),J3=t=>e=>typeof e===t,{isArray:cE}=Array,W2=J3("undefined");function wet(t){return t!==null&&!W2(t)&&t.constructor!==null&&!W2(t.constructor)&&au(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var Vxe=Nf("ArrayBuffer");function Aet(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Vxe(t.buffer),e}var Ret=J3("string"),au=J3("function"),zxe=J3("number"),Z3=t=>t!==null&&typeof t=="object",Pet=t=>t===!0||t===!1,$3=t=>{if(Q3(t)!=="object")return!1;let e=$$(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Net=Nf("Date"),Det=Nf("File"),ket=Nf("Blob"),Let=Nf("FileList"),Oet=t=>Z3(t)&&au(t.pipe),Met=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||au(t.append)&&((e=Q3(t))==="formdata"||e==="object"&&au(t.toString)&&t.toString()==="[object FormData]"))},Fet=Nf("URLSearchParams"),Uet=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function X2(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),cE(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function Yxe(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var $xe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wxe=t=>!W2(t)&&t!==$xe;function F$(){let{caseless:t}=Wxe(this)&&this||{},e={},r=(n,i)=>{let o=t&&Yxe(e,i)||i;$3(e[o])&&$3(n)?e[o]=F$(e[o],n):$3(n)?e[o]=F$({},n):cE(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&X2(arguments[n],r);return e}var Bet=(t,e,r,{allOwnKeys:n}={})=>(X2(e,(i,o)=>{r&&au(i)?t[o]=jxe(i,r):t[o]=i},{allOwnKeys:n}),t),qet=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Het=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Get=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&$$(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},jet=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},Vet=t=>{if(!t)return null;if(cE(t))return t;let e=t.length;if(!zxe(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},zet=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&$$(Uint8Array)),Yet=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},$et=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Wet=Nf("HTMLFormElement"),Ket=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Txe=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Xet=Nf("RegExp"),Kxe=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};X2(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Qet=t=>{Kxe(t,(e,r)=>{if(au(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(au(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Jet=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return cE(t)?n(t):n(String(t).split(e)),r},Zet=()=>{},ett=(t,e)=>(t=+t,Number.isFinite(t)?t:e),k$="abcdefghijklmnopqrstuvwxyz",Sxe="0123456789",Xxe={DIGIT:Sxe,ALPHA:k$,ALPHA_DIGIT:k$+k$.toUpperCase()+Sxe},ttt=(t=16,e=Xxe.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function rtt(t){return!!(t&&au(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var ntt=t=>{let e=new Array(10),r=(n,i)=>{if(Z3(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=cE(n)?[]:{};return X2(n,(s,a)=>{let u=r(s,i+1);!W2(u)&&(o[a]=u)}),e[i]=void 0,o}}return n};return r(t,0)},itt=Nf("AsyncFunction"),ott=t=>t&&(Z3(t)||au(t))&&au(t.then)&&au(t.catch),re={isArray:cE,isArrayBuffer:Vxe,isBuffer:wet,isFormData:Met,isArrayBufferView:Aet,isString:Ret,isNumber:zxe,isBoolean:Pet,isObject:Z3,isPlainObject:$3,isUndefined:W2,isDate:Net,isFile:Det,isBlob:ket,isRegExp:Xet,isFunction:au,isStream:Oet,isURLSearchParams:Fet,isTypedArray:zet,isFileList:Let,forEach:X2,merge:F$,extend:Bet,trim:Uet,stripBOM:qet,inherits:Het,toFlatObject:Get,kindOf:Q3,kindOfTest:Nf,endsWith:jet,toArray:Vet,forEachEntry:Yet,matchAll:$et,isHTMLForm:Wet,hasOwnProperty:Txe,hasOwnProp:Txe,reduceDescriptors:Kxe,freezeMethods:Qet,toObjectSet:Jet,toCamelCase:Ket,noop:Zet,toFiniteNumber:ett,findKey:Yxe,global:$xe,isContextDefined:Wxe,ALPHABET:Xxe,generateString:ttt,isSpecCompliantForm:rtt,toJSONObject:ntt,isAsyncFn:itt,isThenable:ott};function et(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}re.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Qxe=et.prototype,Jxe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Jxe[t]={value:t}});Object.defineProperties(et,Jxe);Object.defineProperty(Qxe,"isAxiosError",{value:!0});et.from=(t,e,r,n,i,o)=>{let s=Object.create(Qxe);return re.toFlatObject(t,s,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),et.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function U$(t){return re.isPlainObject(t)||re.isArray(t)}function Zxe(t){return re.endsWith(t,"[]")?t.slice(0,-2):t}function Cxe(t,e,r){return t?t.concat(e).map(function(i,o){return i=Zxe(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function stt(t){return re.isArray(t)&&!t.some(U$)}var att=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function eO(t,e,r){if(!re.isObject(t))throw new TypeError("target must be an object");e=e||new(Gxe.default||FormData),r=re.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,g){return!re.isUndefined(g[h])});let n=r.metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function c(d){if(d===null)return"";if(re.isDate(d))return d.toISOString();if(!u&&re.isBlob(d))throw new et("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(d)||re.isTypedArray(d)?u&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function l(d,h,g){let v=d;if(d&&!g&&typeof d=="object"){if(re.endsWith(h,"{}"))h=n?h:h.slice(0,-2),d=JSON.stringify(d);else if(re.isArray(d)&&stt(d)||(re.isFileList(d)||re.endsWith(h,"[]"))&&(v=re.toArray(d)))return h=Zxe(h),v.forEach(function(y,x){!(re.isUndefined(y)||y===null)&&e.append(s===!0?Cxe([h],x,o):s===null?h:h+"[]",c(y))}),!1}return U$(d)?!0:(e.append(Cxe(g,h,o),c(d)),!1)}let f=[],p=Object.assign(att,{defaultVisitor:l,convertValue:c,isVisitable:U$});function m(d,h){if(!re.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(d),re.forEach(d,function(v,_){(!(re.isUndefined(v)||v===null)&&i.call(e,v,re.isString(_)?_.trim():_,h,p))===!0&&m(v,h?h.concat(_):[_])}),f.pop()}}if(!re.isObject(t))throw new TypeError("data must be an object");return m(t),e}function Ixe(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function eEe(t,e){this._pairs=[],t&&eO(t,this,e)}var tEe=eEe.prototype;tEe.append=function(e,r){this._pairs.push([e,r])};tEe.toString=function(e){let r=e?function(n){return e.call(this,n,Ixe)}:Ixe;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ctt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W$(t,e,r){if(!e)return t;let n=r&&r.encode||ctt,i=r&&r.serialize,o;if(i?o=i(e,r):o=re.isURLSearchParams(e)?e.toString():new eEe(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var B$=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(n){n!==null&&e(n)})}},wxe=B$,K$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utt=yet.default.URLSearchParams,ltt={isNode:!0,classes:{URLSearchParams:utt,FormData:Gxe.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},rEe=typeof window<"u"&&typeof document<"u",ftt=(t=>rEe&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),ptt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dtt=Object.freeze({__proto__:null,hasBrowserEnv:rEe,hasStandardBrowserWebWorkerEnv:ptt,hasStandardBrowserEnv:ftt}),su={...dtt,...ltt};function mtt(t,e){return eO(t,new su.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return su.isNode&&re.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function htt(t){return re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gtt(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function nEe(t){function e(r,n,i,o){let s=r[o++],a=Number.isFinite(+s),u=o>=r.length;return s=!s&&re.isArray(i)?i.length:s,u?(re.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!re.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&re.isArray(i[s])&&(i[s]=gtt(i[s])),!a)}if(re.isFormData(t)&&re.isFunction(t.entries)){let r={};return re.forEachEntry(t,(n,i)=>{e(htt(n),i,r,0)}),r}return null}function vtt(t,e,r){if(re.isString(t))try{return(e||JSON.parse)(t),re.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var X$={transitional:K$,adapter:["xhr","http"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=re.isObject(e);if(o&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i&&i?JSON.stringify(nEe(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mtt(e,this.formSerializer).toString();if((a=re.isFileList(e))||n.indexOf("multipart/form-data")>-1){let u=this.env&&this.env.FormData;return eO(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),vtt(e)):e}],transformResponse:[function(e){let r=this.transitional||X$.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&re.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?et.from(a,et.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:su.classes.FormData,Blob:su.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],t=>{X$.headers[t]={}});var Q$=X$,_tt=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ytt=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&_tt[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Axe=Symbol("internals");function Y2(t){return t&&String(t).trim().toLowerCase()}function W3(t){return t===!1||t==null?t:re.isArray(t)?t.map(W3):String(t)}function btt(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var xtt=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function L$(t,e,r,n,i){if(re.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!re.isString(e)){if(re.isString(n))return e.indexOf(n)!==-1;if(re.isRegExp(n))return n.test(e)}}function Ett(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ttt(t,e){let r=re.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var oE=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,u,c){let l=Y2(u);if(!l)throw new Error("header name must be a non-empty string");let f=re.findKey(i,l);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=W3(a))}let s=(a,u)=>re.forEach(a,(c,l)=>o(c,l,u));return re.isPlainObject(e)||e instanceof this.constructor?s(e,r):re.isString(e)&&(e=e.trim())&&!xtt(e)?s(ytt(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Y2(e),e){let n=re.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return btt(i);if(re.isFunction(r))return r.call(this,i,n);if(re.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Y2(e),e){let n=re.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||L$(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=Y2(s),s){let a=re.findKey(n,s);a&&(!r||L$(n,n[a],a,r))&&(delete n[a],i=!0)}}return re.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||L$(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return re.forEach(this,(i,o)=>{let s=re.findKey(n,o);if(s){r[s]=W3(i),delete r[o];return}let a=e?Ett(o):String(o).trim();a!==o&&delete r[o],r[a]=W3(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return re.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&re.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[Axe]=this[Axe]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=Y2(s);n[a]||(Ttt(i,s),n[a]=!0)}return re.isArray(e)?e.forEach(o):o(e),this}};oE.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(oE.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});re.freezeMethods(oE);var cu=oE;function O$(t,e){let r=this||Q$,n=e||r,i=cu.from(n.headers),o=n.data;return re.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function iEe(t){return!!(t&&t.__CANCEL__)}function w_(t,e,r){et.call(this,t??"canceled",et.ERR_CANCELED,e,r),this.name="CanceledError"}re.inherits(w_,et,{__CANCEL__:!0});function $2(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new et("Request failed with status code "+r.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Stt(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ctt(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function J$(t,e){return t&&!Stt(e)?Ctt(t,e):e}var X3="1.6.1";function oEe(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var Itt=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function wtt(t,e,r){let n=r&&r.Blob||su.classes.Blob,i=oEe(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=Itt.exec(t);if(!o)throw new et("Invalid URL",et.ERR_INVALID_URL);let s=o[1],a=o[2],u=o[3],c=Buffer.from(decodeURIComponent(u),a?"base64":"utf8");if(e){if(!n)throw new et("Blob is not supported",et.ERR_NOT_SUPPORT);return new n([c],{type:s})}return c}throw new et("Unsupported protocol "+i,et.ERR_NOT_SUPPORT)}function Att(t,e){let r=0,n=1e3/e,i=null;return function(s,a){let u=Date.now();if(s||u-r>n)return i&&(clearTimeout(i),i=null),r=u,t.apply(null,a);i||(i=setTimeout(()=>(i=null,r=Date.now(),t.apply(null,a)),n-(u-r)))}}function sEe(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(u){let c=Date.now(),l=n[o];s||(s=c),r[i]=u,n[i]=c;let f=o,p=0;for(;f!==i;)p+=r[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;let m=l&&c-l;return m?Math.round(p*1e3/m):void 0}}var Y3=Symbol("internals"),q$=class extends ig.default.Transform{constructor(e){e=re.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,u)=>!re.isUndefined(u[a])),super({readableHighWaterMark:e.chunkSize});let r=this,n=this[Y3]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=sEe(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",a=>{a==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let o=0;n.updateProgress=Att(function(){let u=n.length,c=n.bytesSeen,l=c-o;if(!l||r.destroyed)return;let f=i(l);o=c,process.nextTick(()=>{r.emit("progress",{loaded:c,total:u,progress:u?c/u:void 0,bytes:l,rate:f||void 0,estimated:f&&u&&c<=u?(u-c)/f:void 0})})},n.ticksRate);let s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let r=this[Y3];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this,o=this[Y3],s=o.maxRate,a=this.readableHighWaterMark,u=o.timeWindow,c=1e3/u,l=s/c,f=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0;function p(d,h){let g=Buffer.byteLength(d);o.bytesSeen+=g,o.bytes+=g,o.isCaptured&&o.updateProgress(),i.push(d)?process.nextTick(h):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(h)}}let m=(d,h)=>{let g=Buffer.byteLength(d),v=null,_=a,y,x=0;if(s){let b=Date.now();(!o.ts||(x=b-o.ts)>=u)&&(o.ts=b,y=l-o.bytes,o.bytes=y<0?-y:0,x=0),y=l-o.bytes}if(s){if(y<=0)return setTimeout(()=>{h(null,d)},u-x);y<_&&(_=y)}_&&g>_&&g-_>f&&(v=d.subarray(_),d=d.subarray(0,_)),p(d,v?()=>{process.nextTick(h,null,v)}:h)};m(e,function d(h,g){if(h)return n(h);g?m(g,d):n(null)})}setLength(e){return this[Y3].length=+e,this}},Rxe=q$,{asyncIterator:Pxe}=Symbol,Rtt=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[Pxe]?yield*t[Pxe]():yield t},aEe=Rtt,Ptt=re.ALPHABET.ALPHA_DIGIT+"-_",K2=new qxe.TextEncoder,og=`\r
`,Ntt=K2.encode(og),Dtt=2,H$=class{constructor(e,r){let{escapeName:n}=this.constructor,i=re.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${og}`;i?r=K2.encode(String(r).replace(/\r?\n|\r\n?/g,og)):o+=`Content-Type: ${r.type||"application/octet-stream"}${og}`,this.headers=K2.encode(o+og),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+Dtt,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;re.isTypedArray(e)?yield e:yield*aEe(e),yield Ntt}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},ktt=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+re.generateString(i,Ptt)}=r||{};if(!re.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=K2.encode("--"+o+og),a=K2.encode("--"+o+"--"+og+og),u=a.byteLength,c=Array.from(t.entries()).map(([f,p])=>{let m=new H$(f,p);return u+=m.size,m});u+=s.byteLength*c.length,u=re.toFiniteNumber(u);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(u)&&(l["Content-Length"]=u),e&&e(l),Hxe.Readable.from(async function*(){for(let f of c)yield s,yield*f.encode();yield a}())},Ltt=ktt,G$=class extends ig.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},Ott=G$,Mtt=(t,e)=>re.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,Ftt=Mtt,Nxe={flush:sg.default.constants.Z_SYNC_FLUSH,finishFlush:sg.default.constants.Z_SYNC_FLUSH},Utt={flush:sg.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:sg.default.constants.BROTLI_OPERATION_FLUSH},Dxe=re.isFunction(sg.default.createBrotliDecompress),{http:Btt,https:qtt}=Tet.default,Htt=/https:?/,kxe=su.protocols.map(t=>t+":");function Gtt(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function cEe(t,e,r){let n=e;if(!n&&n!==!1){let i=det.getProxyForUrl(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){cEe(o,e,o.href)}}var jtt=typeof process<"u"&&re.kindOf(process)==="process",Vtt=t=>new Promise((e,r)=>{let n,i,o=(u,c)=>{i||(i=!0,n&&n(u,c))},s=u=>{o(u),e(u)},a=u=>{o(u,!0),r(u)};t(s,a,u=>n=u).catch(a)}),ztt=({address:t,family:e})=>{if(!re.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},Lxe=(t,e)=>ztt(re.isObject(t)?t:{address:t,family:e}),Ytt=jtt&&function(e){return Vtt(async function(n,i,o){let{data:s,lookup:a,family:u}=e,{responseType:c,responseEncoding:l}=e,f=e.method.toUpperCase(),p,m=!1,d;if(a){let L=Ftt(a,W=>re.isArray(W)?W:[W]);a=(W,H,ae)=>{L(W,H,(Pe,Ve,lt)=>{let it=re.isArray(Ve)?Ve.map(De=>Lxe(De)):[Lxe(Ve,lt)];H.all?ae(Pe,it):ae(Pe,it[0].address,it[0].family)})}}let h=new Cet.default,g=()=>{e.cancelToken&&e.cancelToken.unsubscribe(v),e.signal&&e.signal.removeEventListener("abort",v),h.removeAllListeners()};o((L,W)=>{p=!0,W&&(m=!0,g())});function v(L){h.emit("abort",!L||L.type?new w_(null,e,d):L)}h.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(v),e.signal&&(e.signal.aborted?v():e.signal.addEventListener("abort",v)));let _=J$(e.baseURL,e.url),y=new URL(_,"http://localhost"),x=y.protocol||kxe[0];if(x==="data:"){let L;if(f!=="GET")return $2(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{L=wtt(e.url,c==="blob",{Blob:e.env&&e.env.Blob})}catch(W){throw et.from(W,et.ERR_BAD_REQUEST,e)}return c==="text"?(L=L.toString(l),(!l||l==="utf8")&&(L=re.stripBOM(L))):c==="stream"&&(L=ig.default.Readable.from(L)),$2(n,i,{data:L,status:200,statusText:"OK",headers:new cu,config:e})}if(kxe.indexOf(x)===-1)return i(new et("Unsupported protocol "+x,et.ERR_BAD_REQUEST,e));let b=cu.from(e.headers).normalize();b.set("User-Agent","axios/"+X3,!1);let T=e.onDownloadProgress,k=e.onUploadProgress,U=e.maxRate,z,D;if(re.isSpecCompliantForm(s)){let L=b.getContentType(/boundary=([-_\w\d]{10,70})/i);s=Ltt(s,W=>{b.set(W)},{tag:`axios-${X3}-boundary`,boundary:L&&L[1]||void 0})}else if(re.isFormData(s)&&re.isFunction(s.getHeaders)){if(b.set(s.getHeaders()),!b.hasContentLength())try{let L=await Eet.default.promisify(s.getLength).call(s);Number.isFinite(L)&&L>=0&&b.setContentLength(L)}catch{}}else if(re.isBlob(s))s.size&&b.setContentType(s.type||"application/octet-stream"),b.setContentLength(s.size||0),s=ig.default.Readable.from(aEe(s));else if(s&&!re.isStream(s)){if(!Buffer.isBuffer(s))if(re.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(re.isString(s))s=Buffer.from(s,"utf-8");else return i(new et("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",et.ERR_BAD_REQUEST,e));if(b.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new et("Request body larger than maxBodyLength limit",et.ERR_BAD_REQUEST,e))}let fe=re.toFiniteNumber(b.getContentLength());re.isArray(U)?(z=U[0],D=U[1]):z=D=U,s&&(k||z)&&(re.isStream(s)||(s=ig.default.Readable.from(s,{objectMode:!1})),s=ig.default.pipeline([s,new Rxe({length:fe,maxRate:re.toFiniteNumber(z)})],re.noop),k&&s.on("progress",L=>{k(Object.assign(L,{upload:!0}))}));let Q;if(e.auth){let L=e.auth.username||"",W=e.auth.password||"";Q=L+":"+W}if(!Q&&y.username){let L=y.username,W=y.password;Q=L+":"+W}Q&&b.delete("authorization");let O;try{O=W$(y.pathname+y.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(L){let W=new Error(L.message);return W.config=e,W.url=e.url,W.exists=!0,i(W)}b.set("Accept-Encoding","gzip, compress, deflate"+(Dxe?", br":""),!1);let w={path:O,method:f,headers:b.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:Q,protocol:x,family:u,beforeRedirect:Gtt,beforeRedirects:{}};!re.isUndefined(a)&&(w.lookup=a),e.socketPath?w.socketPath=e.socketPath:(w.hostname=y.hostname,w.port=y.port,cEe(w,e.proxy,x+"//"+y.hostname+(y.port?":"+y.port:"")+w.path));let P,M=Htt.test(w.protocol);if(w.agent=M?e.httpsAgent:e.httpAgent,e.transport?P=e.transport:e.maxRedirects===0?P=M?xet.default:bet.default:(e.maxRedirects&&(w.maxRedirects=e.maxRedirects),e.beforeRedirect&&(w.beforeRedirects.config=e.beforeRedirect),P=M?qtt:Btt),e.maxBodyLength>-1?w.maxBodyLength=e.maxBodyLength:w.maxBodyLength=1/0,e.insecureHTTPParser&&(w.insecureHTTPParser=e.insecureHTTPParser),d=P.request(w,function(W){if(d.destroyed)return;let H=[W],ae=+W.headers["content-length"];if(T){let De=new Rxe({length:re.toFiniteNumber(ae),maxRate:re.toFiniteNumber(D)});T&&De.on("progress",st=>{T(Object.assign(st,{download:!0}))}),H.push(De)}let Pe=W,Ve=W.req||d;if(e.decompress!==!1&&W.headers["content-encoding"])switch((f==="HEAD"||W.statusCode===204)&&delete W.headers["content-encoding"],(W.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":H.push(sg.default.createUnzip(Nxe)),delete W.headers["content-encoding"];break;case"deflate":H.push(new Ott),H.push(sg.default.createUnzip(Nxe)),delete W.headers["content-encoding"];break;case"br":Dxe&&(H.push(sg.default.createBrotliDecompress(Utt)),delete W.headers["content-encoding"])}Pe=H.length>1?ig.default.pipeline(H,re.noop):H[0];let lt=ig.default.finished(Pe,()=>{lt(),g()}),it={status:W.statusCode,statusText:W.statusMessage,headers:new cu(W.headers),config:e,request:Ve};if(c==="stream")it.data=Pe,$2(n,i,it);else{let De=[],st=0;Pe.on("data",function(he){De.push(he),st+=he.length,e.maxContentLength>-1&&st>e.maxContentLength&&(m=!0,Pe.destroy(),i(new et("maxContentLength size of "+e.maxContentLength+" exceeded",et.ERR_BAD_RESPONSE,e,Ve)))}),Pe.on("aborted",function(){if(m)return;let he=new et("maxContentLength size of "+e.maxContentLength+" exceeded",et.ERR_BAD_RESPONSE,e,Ve);Pe.destroy(he),i(he)}),Pe.on("error",function(he){d.destroyed||i(et.from(he,null,e,Ve))}),Pe.on("end",function(){try{let he=De.length===1?De[0]:Buffer.concat(De);c!=="arraybuffer"&&(he=he.toString(l),(!l||l==="utf8")&&(he=re.stripBOM(he))),it.data=he}catch(he){return i(et.from(he,null,e,it.request,it))}$2(n,i,it)})}h.once("abort",De=>{Pe.destroyed||(Pe.emit("error",De),Pe.destroy())})}),h.once("abort",L=>{i(L),d.destroy(L)}),d.on("error",function(W){i(et.from(W,null,e,d))}),d.on("socket",function(W){W.setKeepAlive(!0,1e3*60)}),e.timeout){let L=parseInt(e.timeout,10);if(Number.isNaN(L)){i(new et("error trying to parse `config.timeout` to int",et.ERR_BAD_OPTION_VALUE,e,d));return}d.setTimeout(L,function(){if(p)return;let H=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",ae=e.transitional||K$;e.timeoutErrorMessage&&(H=e.timeoutErrorMessage),i(new et(H,ae.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,d)),v()})}if(re.isStream(s)){let L=!1,W=!1;s.on("end",()=>{L=!0}),s.once("error",H=>{W=!0,d.destroy(H)}),s.on("close",()=>{!L&&!W&&v(new w_("Request stream has been aborted",e,d))}),s.pipe(d)}else d.end(s)})},$tt=su.hasStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,a){let u=[];u.push(r+"="+encodeURIComponent(n)),re.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),re.isString(o)&&u.push("path="+o),re.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){let n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Wtt=su.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){let a=re.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function Oxe(t,e){let r=0,n=sEe(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,u=n(a),c=o<=s;r=o;let l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}var Ktt=typeof XMLHttpRequest<"u",Xtt=Ktt&&function(t){return new Promise(function(r,n){let i=t.data,o=cu.from(t.headers).normalize(),s=t.responseType,a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let c;if(re.isFormData(i)){if(su.hasStandardBrowserEnv||su.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((c=o.getContentType())!==!1){let[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...h].join("; "))}}let l=new XMLHttpRequest;if(t.auth){let d=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+h))}let f=J$(t.baseURL,t.url);l.open(t.method.toUpperCase(),W$(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function p(){if(!l)return;let d=cu.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),g={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:d,config:t,request:l};$2(function(_){r(_),u()},function(_){n(_),u()},g),l=null}if("onloadend"in l?l.onloadend=p:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(p)},l.onabort=function(){l&&(n(new et("Request aborted",et.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new et("Network Error",et.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let h=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",g=t.transitional||K$;t.timeoutErrorMessage&&(h=t.timeoutErrorMessage),n(new et(h,g.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,t,l)),l=null},su.hasStandardBrowserEnv){let d=Wtt(f)&&t.xsrfCookieName&&$tt.read(t.xsrfCookieName);d&&o.set(t.xsrfHeaderName,d)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&re.forEach(o.toJSON(),function(h,g){l.setRequestHeader(g,h)}),re.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",Oxe(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",Oxe(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=d=>{l&&(n(!d||d.type?new w_(null,t,l):d),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));let m=oEe(f);if(m&&su.protocols.indexOf(m)===-1){n(new et("Unsupported protocol "+m+":",et.ERR_BAD_REQUEST,t));return}l.send(i||null)})},j$={http:Ytt,xhr:Xtt};re.forEach(j$,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var Mxe=t=>`- ${t}`,Qtt=t=>re.isFunction(t)||t===null||t===!1,uEe={getAdapter:t=>{t=re.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!Qtt(r)&&(n=j$[(s=String(r)).toLowerCase()],n===void 0))throw new et(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(Mxe).join(`
`):" "+Mxe(o[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:j$};function M$(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new w_(null,t)}function Fxe(t){return M$(t),t.headers=cu.from(t.headers),t.data=O$.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uEe.getAdapter(t.adapter||Q$.adapter)(t).then(function(n){return M$(t),n.data=O$.call(t,t.transformResponse,n),n.headers=cu.from(n.headers),n},function(n){return iEe(n)||(M$(t),n&&n.response&&(n.response.data=O$.call(t,t.transformResponse,n.response),n.response.headers=cu.from(n.response.headers))),Promise.reject(n)})}var Uxe=t=>t instanceof cu?t.toJSON():t;function sE(t,e){e=e||{};let r={};function n(c,l,f){return re.isPlainObject(c)&&re.isPlainObject(l)?re.merge.call({caseless:f},c,l):re.isPlainObject(l)?re.merge({},l):re.isArray(l)?l.slice():l}function i(c,l,f){if(re.isUndefined(l)){if(!re.isUndefined(c))return n(void 0,c,f)}else return n(c,l,f)}function o(c,l){if(!re.isUndefined(l))return n(void 0,l)}function s(c,l){if(re.isUndefined(l)){if(!re.isUndefined(c))return n(void 0,c)}else return n(void 0,l)}function a(c,l,f){if(f in e)return n(c,l);if(f in t)return n(void 0,c)}let u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,l)=>i(Uxe(c),Uxe(l),!0)};return re.forEach(Object.keys(Object.assign({},t,e)),function(l){let f=u[l]||i,p=f(t[l],e[l],l);re.isUndefined(p)&&f!==a||(r[l]=p)}),r}var Z$={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Z$[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var Bxe={};Z$.transitional=function(e,r,n){function i(o,s){return"[Axios v"+X3+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new et(i(s," has been removed"+(r?" in "+r:"")),et.ERR_DEPRECATED);return r&&!Bxe[s]&&(Bxe[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Jtt(t,e,r){if(typeof t!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],u=a===void 0||s(a,o,t);if(u!==!0)throw new et("option "+o+" must be "+u,et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new et("Unknown option "+o,et.ERR_BAD_OPTION)}}var V$={assertOptions:Jtt,validators:Z$},ng=V$.validators,aE=class{constructor(e){this.defaults=e,this.interceptors={request:new wxe,response:new wxe}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=sE(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&V$.assertOptions(n,{silentJSONParsing:ng.transitional(ng.boolean),forcedJSONParsing:ng.transitional(ng.boolean),clarifyTimeoutError:ng.transitional(ng.boolean)},!1),i!=null&&(re.isFunction(i)?r.paramsSerializer={serialize:i}:V$.assertOptions(i,{encode:ng.function,serialize:ng.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&re.merge(o.common,o[r.method]);o&&re.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),r.headers=cu.concat(s,o);let a=[],u=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(r)===!1||(u=u&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});let c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let l,f=0,p;if(!u){let d=[Fxe.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,c),p=d.length,l=Promise.resolve(r);f<p;)l=l.then(d[f++],d[f++]);return l}p=a.length;let m=r;for(f=0;f<p;){let d=a[f++],h=a[f++];try{m=d(m)}catch(g){h.call(this,g);break}}try{l=Fxe.call(this,m)}catch(d){return Promise.reject(d)}for(f=0,p=c.length;f<p;)l=l.then(c[f++],c[f++]);return l}getUri(e){e=sE(this.defaults,e);let r=J$(e.baseURL,e.url);return W$(r,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){aE.prototype[e]=function(r,n){return this.request(sE(n||{},{method:e,url:r,data:(n||{}).data}))}});re.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(sE(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}aE.prototype[e]=r(),aE.prototype[e+"Form"]=r(!0)});var K3=aE,z$=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new w_(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},Ztt=z$;function ert(t){return function(r){return t.apply(null,r)}}function trt(t){return re.isObject(t)&&t.isAxiosError===!0}var Y$={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Y$).forEach(([t,e])=>{Y$[e]=t});var rrt=Y$;function lEe(t){let e=new K3(t),r=jxe(K3.prototype.request,e);return re.extend(r,K3.prototype,e,{allOwnKeys:!0}),re.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return lEe(sE(t,i))},r}var Bi=lEe(Q$);Bi.Axios=K3;Bi.CanceledError=w_;Bi.CancelToken=Ztt;Bi.isCancel=iEe;Bi.VERSION=X3;Bi.toFormData=eO;Bi.AxiosError=et;Bi.Cancel=Bi.CanceledError;Bi.all=function(e){return Promise.all(e)};Bi.spread=ert;Bi.isAxiosError=trt;Bi.mergeConfig=sE;Bi.AxiosHeaders=cu;Bi.formToJSON=t=>nEe(re.isHTMLForm(t)?new FormData(t):t);Bi.getAdapter=uEe.getAdapter;Bi.HttpStatusCode=rrt;Bi.default=Bi;fEe.exports=Bi});var dEe=R(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0});tO.AxiosHttpClient=void 0;var nrt=pEe(),eW=class{constructor(e){this.endpoint=e}get(e){return nrt.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};tO.AxiosHttpClient=eW});var mEe=R(rO=>{"use strict";Object.defineProperty(rO,"__esModule",{value:!0});rO.MemoryKeyValueStorage=void 0;var tW=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};rO.MemoryKeyValueStorage=tW});var hEe=R(nO=>{"use strict";Object.defineProperty(nO,"__esModule",{value:!0});nO.ExperimentationServiceBase=void 0;var irt=mEe(),rW=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,r,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new irt.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async n=>await n.getFeatures()));let r=await this.fetchPromise;this.updateFeatures(r,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`);let n=this.features.configs.find(i=>i.Id===e);return n?.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};nO.ExperimentationServiceBase=rW});var gEe=R(iO=>{"use strict";Object.defineProperty(iO,"__esModule",{value:!0});iO.PollingService=void 0;var nW=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};iO.PollingService=nW});var vEe=R(oO=>{"use strict";Object.defineProperty(oO,"__esModule",{value:!0});oO.ExperimentationServiceAutoPolling=void 0;var ort=hEe(),srt=gEe(),iW=class extends ort.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new srt.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};oO.ExperimentationServiceAutoPolling=iW});var _Ee=R(aO=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});aO.ExperimentationService=void 0;var art=dxe(),crt=dEe(),urt=vEe(),sO=class extends urt.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new art.TasApiFeatureProvider(new crt.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};aO.ExperimentationService=sO;sO.REFRESH_RATE_IN_MINUTES=30});var yEe=R(cO=>{"use strict";Object.defineProperty(cO,"__esModule",{value:!0});cO.ExperimentationService=void 0;var lrt=_Ee();Object.defineProperty(cO,"ExperimentationService",{enumerable:!0,get:function(){return lrt.ExperimentationService}})});var bEe=R(uO=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});uO.MementoKeyValueStorage=void 0;var oW=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};uO.MementoKeyValueStorage=oW});var xEe=R(aW=>{"use strict";Object.defineProperty(aW,"__esModule",{value:!0});var sW=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};aW.default=sW});var TEe=R(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.getExperimentationServiceAsync=uE.getExperimentationService=void 0;var frt=g$(),prt=yEe(),cW=require("vscode"),drt=bEe(),mrt=xEe(),hrt="https://default.exp-tas.com/vscode/ab",grt="query-expfeature",vrt="abexp.assignmentcontext",_rt="VSCode.ABExp.FeatureData",yrt=1e3*60*30;function EEe(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=cW.workspace.getConfiguration("telemetry");if(!(cW.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):cW.env.isTelemetryEnabled))return new mrt.default;let c=[new frt.VSCodeFilterProvider(t,e,r),...o],l=new drt.MementoKeyValueStorage(i);return new prt.ExperimentationService({filterProviders:c,telemetry:n,storageKey:_rt,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:vrt,telemetryEventName:grt,endpoint:hrt,refetchInterval:yrt})}uE.getExperimentationService=EEe;async function brt(t,e,r,n,i,...o){let s=EEe(t,e,r,n,i,...o);return await s.initializePromise,s}uE.getExperimentationServiceAsync=brt});var CEe=R(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.TargetPopulation=ag.getExperimentationServiceAsync=ag.getExperimentationService=void 0;var SEe=TEe();Object.defineProperty(ag,"getExperimentationService",{enumerable:!0,get:function(){return SEe.getExperimentationService}});Object.defineProperty(ag,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return SEe.getExperimentationServiceAsync}});var xrt=g$();Object.defineProperty(ag,"TargetPopulation",{enumerable:!0,get:function(){return xrt.TargetPopulation}})});var wEe=R(lO=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});lO.BaseTelemetryReporter=void 0;var uW=class{constructor(e,r,n){this.telemetrySender=e,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,r,n,i){i?this.telemetrySender.sendEventData(e,{properties:r,measurements:n}):this.telemetryLogger.logUsage(e,{properties:r,measurements:n})}sendTelemetryEvent(e,r,n){this.internalSendTelemetryEvent(e,r,n,!1)}sendRawTelemetryEvent(e,r,n){let i={...r};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,r,n,!0)}internalSendTelemetryErrorEvent(e,r,n,i){i?this.telemetrySender.sendEventData(e,{properties:r,measurements:n}):this.telemetryLogger.logError(e,{properties:r,measurements:n})}sendTelemetryErrorEvent(e,r,n){this.internalSendTelemetryErrorEvent(e,r,n,!1)}sendDangerousTelemetryErrorEvent(e,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,r,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};lO.BaseTelemetryReporter=uW});var AEe=R(fO=>{"use strict";Object.defineProperty(fO,"__esModule",{value:!0});fO.BaseTelemetrySender=void 0;var bd;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(bd||(bd={}));var lW=class{constructor(e,r){this._instantiationStatus=bd.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=e}sendEventData(e,r){if(!this._telemetryClient){this._instantiationStatus!==bd.INSTANTIATED&&this._eventQueue.push({eventName:e,data:r});return}this._telemetryClient.logEvent(e,r)}sendErrorData(e,r){if(!this._telemetryClient){this._instantiationStatus!==bd.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:r});return}let n={stack:e.stack,message:e.message,name:e.name};if(r){let i=r.properties||r;r.properties={...i,...n}}else r={properties:n};this._telemetryClient.logEvent("unhandlederror",r)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:r})=>this.sendEventData(e,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:r})=>this.sendErrorData(e,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===bd.NOT_INSTANTIATED&&(this._instantiationStatus=bd.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=bd.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=bd.INSTANTIATED}))}};fO.BaseTelemetrySender=lW});var pW=R(pO=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});pO.TelemetryUtil=void 0;var fW=class t{static applyReplacements(e,r){for(let n of Object.keys(e))for(let i of r)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.1"}}static getInstance(){return t._instance||(t._instance=new t),t._instance}};pO.TelemetryUtil=fW});var A_,ts,Co,Is,cg,J2,dW=E(()=>{A_="function",ts="object",Co="undefined",Is="prototype",cg=Object,J2=cg[Is]});var ws,Sn,lE,mW,ug,hW,xd,uu,Z2,gW,Ed,ew,tw,REe,dO,mO,il,vW,hO,gO,fE,ii,vO,_W,As,yW,bW,fc,Yt=E(()=>{ws=void 0,Sn=null,lE="",mW="boolean",ug="function",hW="number",xd="object",uu="prototype",Z2="__proto__",gW="string",Ed="undefined",ew="constructor",tw="Symbol",REe="_polyfill",dO="indexOf",mO="lastIndexOf",il="length",vW="done",hO="value",gO="name",fE="slice",ii=Object,vO=ii[uu],_W=String,As=_W[uu],yW=Math,bW=Array,fc=bW[uu]});function rw(t,e){var r=e;try{r=t()}catch{}return r}var xW=E(()=>{});function pE(t){return function(e){return typeof e===t}}function R_(t){var e="[object "+t+"]";return function(r){return!!(r&&Df(r)===e)}}function Df(t){return vO.toString.call(t)}function P_(t,e){return typeof t===e}function Re(t){return typeof t===Ed||t===Ed}function oe(t){return t===Sn||Re(t)}function EW(t){return t===Sn||!kf(t)}function kf(t){return!!t||t!==ws}function Bt(t){return!t&&oe(t)?!1:!!t&&typeof t===xd}function lg(t){return!!t&&we(t.then)}function N_(t){return!t||!rw(function(){return t&&0+t},t)}function ns(t){return!(!t||rw(function(){return!(t&&0+t)},!t))}var Trt,TW,We,we,ce,Td,yi,rs,Srt,Crt,Irt,wrt,Art,so,Zs=E(()=>{Yt();xW();Trt=[gW,hW,mW,Ed,"symbol","bigint"];TW=function(t){return t!==xd&&Trt.indexOf(t)!==-1},We=pE(gW),we=pE(ug);ce=bW.isArray,Td=R_("Date"),yi=pE(hW),rs=pE(mW),Srt=R_("RegExp"),Crt=R_("File"),Irt=R_("FormData"),wrt=R_("Blob"),Art=R_("ArrayBuffer"),so=R_("Error")});var pc,_O=E(()=>{Yt();pc=ii.getOwnPropertyDescriptor});function Dn(t,e){return t&&vO.hasOwnProperty.call(t,e)}var yO=E(()=>{Yt()});function PEe(t,e){return Dn(t,e)||!!pc(t,e)}var Nr,bO=E(()=>{Yt();_O();yO();Nr=ii.hasOwn||PEe});function de(t,e,r){if(t&&Bt(t)){for(var n in t)if(Nr(t,n)&&e.call(r||t,n,t[n])===-1)break}}var fg=E(()=>{Zs();bO()});function SW(t,e,r,n){var i={};return de(t,function(o,s){i[o]=e?s:o,i[s]=r?s:o}),n(i)}var NEe=E(()=>{fg()});function Qt(t){throw new Error(t)}function kr(t){throw new TypeError(t)}var pg=E(()=>{});function DEe(t){var e=[];return de(t,function(r,n){e.push([r,n])}),e}function kEe(t){var e=[];return de(t,function(r,n){e.push(n)}),e}var LEe=E(()=>{fg()});function cn(t){return(!Bt(t)||t===Sn)&&kr("objKeys called on non-object"),ii.keys(t)}function Wn(t){return CW&&de(t,function(e,r){(ce(r)||Bt(r))&&CW(r)}),qi(t)}var CW,OEe,Rrt,Lf,qi,D_,dE,Prt,VXt,mE=E(()=>{Yt();Zs();pg();fg();LEe();CW=ii.freeze,OEe=function(t){return t},Rrt=function(t){return t[Z2]||Sn},Lf=ii.assign;qi=CW||OEe,D_=ii.seal||OEe,dE=ii.getPrototypeOf||Rrt,Prt=ii.entries||DEe,VXt=ii.values||kEe});function nw(t){return SW(t,1,0,Wn)}function IW(t){return SW(t,0,0,Wn)}function MEe(t){var e={};return de(t,function(r,n){e[r]=n[1],e[n[0]]=n[1]}),Wn(e)}function xO(t){return MEe(t)}var wW=E(()=>{NEe();fg();mE()});var EO,AW=E(()=>{wW();EO=IW({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12})});var Cr,hE=E(()=>{Yt();Cr=_W});function PW(){var t;return typeof globalThis!==Ed&&(t=globalThis),!t&&typeof self!==Ed&&(t=self),!t&&typeof window!==Ed&&(t=window),!t&&typeof global!==Ed&&(t=global),t}function TO(){if(!RW){var t=PW()||{};RW=t[FEe]=t[FEe]||{}}return RW}var FEe,RW,SO=E(()=>{Yt();FEe="__tsUtils$gblCfg"});function le(t,e){var r=lE;if(so(t))r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'";else try{r=JSON.stringify(t,Sn,e?yi(e)?e:4:ws)}catch(n){r=" - "+le(n,e)}return Df(t)+": "+r}var dg=E(()=>{Yt();Zs()});function BEe(t){return function(e){return e[t]}}var NW,UEe,CO,Rs,lu,ea=E(()=>{dg();pg();hE();Yt();NW=fc[fE],UEe=function(t,e){kr("'"+Cr(t)+"' not defined for "+le(e))},CO=function(t){return function(e){return e[t].apply(e,NW.call(arguments,1))}},Rs=function(t,e){var r=e&&e[t];return function(n){var i=n&&n[t]||r;if(i)return i.apply(n,NW.call(arguments,1));UEe(t,n)}},lu=function(t,e,r){var n=e&&e[t];return function(i){var o=i&&i[t]||n;if(o||r){var s=arguments;return(o||r).apply(i,o?NW.call(s,1):s)}UEe(t,i)}}});var fQt,qEe,HEe=E(()=>{Yt();fQt=yW.min,qEe=yW.max});var DW,GEe=E(()=>{Yt();ea();DW=Rs(fE,As)});function jEe(t,e,r){return oe(t)&&kr("'polyStrSubstr called with invalid "+le(t)),r<0?lE:(e=e||0,e<0&&(e=qEe(e+t[il],0)),Re(r)?DW(t,e):DW(t,e,e+r))}function dc(t,e){return un(t,0,e)}var un,is,IO=E(()=>{Zs();dg();pg();Yt();ea();HEe();GEe();un=Rs("substring",As),is=lu("substr",As,jEe)});function Nrt(t,e,r){We(t)||kr("'"+le(t)+"' is not a string");var n=We(e)?e:Cr(e),i=n[il],o=r>0?r:0;return un(t,o,o+i)===n}var Of,VEe=E(()=>{Zs();dg();pg();Yt();ea();hE();IO();Of=lu("startsWith",As,Nrt)});function Drt(){if(!kW){var t=TO();kW=t.gblSym=t.gblSym||{k:{},s:{}}}return kW}function wO(t){var e={description:Cr(t),toString:function(){return tw+"("+t+")"}};return e[REe]=!0,e}function $Ee(t){var e=Drt();if(!Nr(e.k,t)){var r=wO(t),n=cn(e.s).length;r[zEe]=function(){return n+"_"+r.toString()},e.k[t]=r,e.s[r[zEe]()]=Cr(t)}return e.k[t]}function WEe(t){var e,r=EO[t];return r&&(e=YEe[r]=YEe[r]||wO(tw+"."+r)),e}var zEe,kW,YEe,KEe=E(()=>{AW();Yt();bO();hE();SO();mE();zEe="_urid";YEe={}});function XEe(t){var e={};if(e[AO.c]=!0,e[AO.e]=!0,t.l){e.get=function(){return t.l.v};var r=pc(t.l,"v");r&&r.set&&(e.set=function(n){t.l.v=n})}return de(t,function(n,i){e[AO[n]]=Re(i)?e[AO[n]]:i}),e}function k_(t,e,r,n,i,o){var s={e:o,c:i};return r&&(s.g=r),n&&(s.s=n),ln(t,e,XEe(s))}function Ke(t,e,r){return ln(t,e,XEe(r))}var AO,ln,krt,gE=E(()=>{Yt();Zs();fg();_O();AO={e:"enumerable",c:"configurable",v:hO,w:"writable",g:"get",s:"set"};ln=ii.defineProperty,krt=ii.defineProperties});function mc(t){var e={};return LW&&LW(),e.b=fn.lzy,ln(e,"v",{configurable:!0,get:function(){var r=t();return fn.lzy||(ln(e,"v",{value:r}),e.b&&delete e.b),fn.lzy&&e.b!==fn.lzy&&(e.b=fn.lzy),r}}),e}var fn,LW,mg=E(()=>{Yt();SO();gE();LW=function(){fn=TO(),LW=Sn}});function Sd(t,e){return mc(function(){return rw(t,e)})}var RO=E(()=>{mg();xW()});var QEe,vE,_E,PO,NO,DO,OW,hc,Hi,tt,gc,pr,ol,pn,Na,dr,L_,hg,MW,iw=E(()=>{Yt();SO();RO();mg();QEe="window",hc=function(t){return Sd(function(){return tt(t)||ws},ws)},Hi=function(t){return(!vE||t===!1||fn&&fn.lzy&&!vE.b)&&(vE=Sd(PW,Sn)),vE.v},tt=function(t,e){var r=!vE||e===!1?Hi(e):vE.v;return r&&r[t]?r[t]:t===QEe&&_E?_E.v:Sn},gc=function(){return!!pr()},pr=function(){return(!PO||fn&&fn.lzy&&!PO.b)&&(PO=hc("document")),PO.v},ol=function(){return!!pn()},pn=function(){return(!_E||fn&&fn.lzy&&!_E.b)&&(_E=hc(QEe)),_E.v},Na=function(){return!!dr()},dr=function(){return(!NO||fn&&fn.lzy&&!NO.b)&&(NO=hc("navigator")),NO.v},L_=function(){return!!hg()},hg=function(){return(!DO||fn&&fn.lzy&&!DO.b)&&(DO=hc("history")),DO.v},MW=function(){return!OW&&(OW=Sd(function(){return!!(process&&(process.versions||{}).node)},!1)),OW.v}});function ZEe(t){return Sd(function(){return ta.v?ta.v[t]:ws},ws)}function FW(){return!!sw()}function sw(){var t=!ta||fn&&fn.lzy&&!ta.b;return t&&(ta=hc(tw)),(!kO||t)&&(kO=ZEe("for")),(!JEe||t)&&(JEe=ZEe("keyFor")),ta.v}function O_(t,e){var r=EO[t];return(!ta||fn.lzy&&!ta.b)&&sw(),ta.v?ta.v[r||t]:e?ws:WEe(t)}function Cn(t,e){return(!ta||fn.lzy&&!ta.b)&&sw(),ta.v?ta.v(t):e?Sn:wO(t)}function os(t){return(!kO||fn.lzy&&!ta.b)&&sw(),(kO.v||$Ee)(t)}var ta,kO,JEe,ow,LO=E(()=>{Yt();KEe();AW();Zs();mg();RO();iw();ow=pE("symbol")});function aw(t){return!!t&&we(t.next)}function eTe(t){return!EW(t)&&we(t[O_(3)])}var UW=E(()=>{LO();Zs()});function tTe(t,e,r){if(t&&(aw(t)||(!OO&&(OO=mc(function(){return O_(3)})),t=t[OO.v]?t[OO.v]():null),aw(t))){var n=void 0,i=void 0;try{for(var o=0;!(i=t.next())[vW]&&e.call(r||t,i[hO],o,t)!==-1;)o++}catch(s){n={e:s},t.throw&&(i=null,t.throw(n))}finally{try{i&&!i[vW]&&t.return&&t.return(i)}finally{if(n)throw n.e}}}}var OO,rTe=E(()=>{mg();Yt();LO();UW()});var Cd,MO=E(()=>{ea();Cd=CO("apply")});function Kn(t,e){return!Re(e)&&t&&(ce(e)?Cd(t.push,t,e):aw(e)||eTe(e)?tTe(e,function(r){t.push(r)}):t.push(e)),t}var nTe=E(()=>{Zs();UW();rTe();MO()});function K(t,e,r){if(t)for(var n=t[il]>>>0,i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}var FO=E(()=>{Yt()});var Xe,Lrt,BW=E(()=>{Yt();ea();Xe=Rs(dO,fc),Lrt=Rs(mO,fc)});var vc,iTe=E(()=>{Yt();ea();vc=Rs("map",fc)});var ao,cw=E(()=>{Yt();ea();ao=Rs(fE,fc)});var uw,qW=E(()=>{ea();uw=CO("call")});function oTe(t,e,r){return Xe(t,e,r)!==-1}var sTe=E(()=>{BW()});var UO,aTe=E(()=>{Yt();ea();sTe();UO=lu("includes",fc,oTe)});var Id,cTe=E(()=>{Yt();ea();Id=Rs("reduce",fc)});function Mrt(t){if(!t)return{};var e=typeof t;if(e!==xd&&e!==ug)throw new TypeError("Prototype must be an Object or function: "+le(t));function r(){}return r[uu]=t,new r}var Ort,lw,HW=E(()=>{Yt();dg();Ort=ii.create,lw=Ort||Mrt});function jW(t,e){var r=ii.setPrototypeOf||function(n,i){!GW&&(GW=mc(function(){var o;return o={},o[Z2]=[],o instanceof Array})),GW.v?n[Z2]=i:de(i,function(o,s){return n[o]=s})};return r(t,e)}var GW,uTe=E(()=>{mg();Yt();fg()});function wd(t,e,r){var n=r||Error,i=n[uu][gO],o=Error.captureStackTrace;return Frt(t,function(){var s=this;try{lTe(n,t);var a=Cd(n,s,ao(arguments))||s;if(a!==s){var u=dE(s);u!==dE(a)&&jW(a,u)}return o&&o(a,s[ew]),e&&e(a,arguments),a}finally{lTe(n,i)}},n)}var Frt,lTe,fTe,pTe=E(()=>{cw();MO();Yt();HW();gE();mE();uTe();Frt=function(t,e,r){fTe(e,t),e=jW(e,r);function n(){this.constructor=e,fTe(this,t)}return e[uu]=r===Sn?lw(r):(n[uu]=r[uu],new n),e},lTe=function(t,e){try{e&&(t[gO]=e)}catch{}},fTe=function(t,e){try{Ke(t,gO,{v:e,c:!0,e:!1})}catch{}}});function qt(){return(Date.now||dTe)()}function dTe(){return new Date().getTime()}var VW=E(()=>{});function zW(t){return function(r){return oe(r)&&kr("strTrim called ["+le(r)+"]"),r&&r.replace&&(r=r.replace(t,lE)),r}}var mTe,hTe,gTe,vTe=E(()=>{Zs();dg();pg();Yt();mTe=zW(/^\s+|(?=\s)\s+$/g),hTe=zW(/^\s+/g),gTe=zW(/(?=\s)\s+$/g)});var St,Urt,Brt,_Te=E(()=>{Yt();ea();vTe();St=lu("trim",As,mTe),Urt=lu("trimStart",As,hTe),Brt=lu("trimEnd",As,gTe)});function dt(t){if(!t||typeof t!==xd)return!1;WW||(WW=ol()?pn():!0);var e=!1;if(t!==WW){$W||(YW=Function[uu].toString,$W=uw(YW,ii));try{var r=dE(t);e=!r,e||(Dn(r,ew)&&(r=r[ew]),e=r&&typeof r===ug&&YW.call(r)===$W)}catch{}}return e}var YW,$W,WW,KW=E(()=>{qW();iw();Yt();yO();mE()});function Hrt(t,e,r,n){var i;return K(t,function(o){if(o.k===e)return i=o,-1}),i||(i={k:e,v:e},t.push(i),n(i)),i.v}function XW(t,e,r,n){var i=r.handler,o=r.path?n?r.path.concat(n):r.path:[],s={handler:r.handler,src:r.src,path:o},a=typeof e,u=!1,c=!1;e&&a===xd?u=dt(e):c=e===Sn||TW(a);var l={type:a,isPrim:c,isPlain:u,value:e,result:e,path:o,origin:r.src,copy:function(f,p){return XW(t,f,p?s:r,p)},copyTo:function(f,p){return bTe(t,f,p,s)}};return l.isPrim?i&&uw(i,r,l)?l.result:e:Hrt(t,e,o,function(f){Ke(l,"result",{g:function(){return f.v},s:function(d){f.v=d}});for(var p=0,m=i;!uw(m||(p<yTe.length?yTe[p++]:qrt),r,l);)m=Sn})}function bTe(t,e,r,n){if(!oe(r))for(var i in r)e[i]=XW(t,r[i],n,i);return e}function xTe(t,e,r){var n={handler:r,src:e,path:[]};return bTe([],t,e,n)}function ETe(t,e){var r={handler:e,src:t};return XW([],t,r)}function Grt(t){var e=t.value;if(ce(e)){var r=t.result=[];return r.length=e.length,t.copyTo(r,e),!0}return!1}function jrt(t){var e=t.value;return Td(e)?(t.result=new Date(e.getTime()),!0):!1}function Vrt(t){return t.type===ug}function TTe(t){var e=t.value;if(e&&t.isPlain){var r=t.result={};return t.copyTo(r,e),!0}return!1}var qrt,yTe,STe=E(()=>{FO();qW();Zs();Yt();gE();KW();qrt=function(t){return t.value&&TTe(t),!0},yTe=[Grt,TTe,Vrt,jrt]});function zrt(t,e){return K(e,function(r){xTe(t,r)}),t}function M_(t,e,r,n,i,o,s){return zrt(ETe(t)||{},ao(arguments))}var CTe=E(()=>{FO();cw();STe()});var gg,ITe=E(()=>{Yt();ea();gg=BEe(il)});function Ps(){return(!BO||!BO.b&&fn&&fn.lzy)&&(BO=hc("performance")),BO.v}function Ad(){var t=Ps();return t&&t.now?t.now():qt()}var BO,wTe=E(()=>{VW();iw();mg()});function Yrt(t,e,r){We(t)||kr("'"+le(t)+"' is not a string");var n=We(e)?e:Cr(e),i=n[il],o=t[il],s=!Re(r)&&r<o?r:o;return un(t,s-i,s)===n}var _c,ATe=E(()=>{Zs();dg();pg();Yt();ea();hE();IO();_c=lu("endsWith",As,Yrt)});var Qr,$rt,RTe=E(()=>{Yt();ea();Qr=Rs(dO,As),$rt=Rs(mO,As)});function NTe(t,e,r){var n,i=!0,o=t?e(Sn):Sn,s,a=function(){return i=!1,o&&o[QW]&&o[QW](),s},u=function(){return i=!0,o&&o[qO]&&o[qO](),s},c=function(){return o&&o[JW]?o[JW]():i},l=function(){return o=e(o),i||a(),s},f=function(){o&&r(o),o=Sn},p=function(m){!m&&o&&f(),m&&!o&&l()};return s=(n={cancel:f,refresh:l},n[JW]=c,n[qO]=u,n[QW]=a,n[PTe]=!1,n),ln(s,PTe,{get:function(){return!!o},set:p}),{h:s,dn:function(){o=Sn}}}var qO,QW,JW,PTe,DTe=E(()=>{Yt();gE();qO="ref",QW="un"+qO,JW="hasRef",PTe="enabled"});function ZW(t,e,r,n){var i=ce(r),o=i?r.length:0,s=(o>0?r[0]:i?ws:r)||setTimeout,a=(o>1?r[1]:ws)||clearTimeout,u=n[0];n[0]=function(){c.dn(),Cd(u,t,ao(arguments))};var c=NTe(e,function(l){if(l){if(l.refresh)return l.refresh(),l;Cd(a,t,[l])}return Cd(s,t,n)},function(l){Cd(a,t,[l])});return c.h}function In(t,e){return ZW(this,!0,ws,ao(arguments))}function eK(t,e,r){return ZW(this,!0,t,ao(arguments,1))}function fw(t,e){return ZW(this,!1,ws,ao(arguments))}var kTe=E(()=>{cw();MO();Zs();Yt();DTe()});var ve=E(()=>{nTe();FO();aTe();BW();iTe();cTe();cw();Zs();pTe();VW();dg();wW();iw();CTe();mg();ITe();wTe();RO();pg();HW();gE();fg();_O();bO();yO();KW();mE();ATe();RTe();VEe();IO();hE();_Te();LO();kTe()});function Ns(t,e){typeof e!==A_&&e!==null&&kr("Class extends value "+String(e)+" is not a constructor or null"),tK(t,e);function r(){this.constructor=t}t[Is]=e===null?lw(e):(r[Is]=e[Is],new r)}function F_(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var dtr,mtr,LTe,Krt,fu,tK,OTe=E(()=>{ve();dW();dtr=(Hi()||{}).Symbol,mtr=(Hi()||{}).Reflect,LTe="hasOwnProperty",Krt=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)J2[LTe].call(e,i)&&(t[i]=e[i])}return t},fu=Lf||Krt,tK=function(t,e){return tK=cg.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[LTe](i)&&(r[i]=n[i])},tK(t,e)}});var MTe=E(()=>{});var bi=E(()=>{dW();OTe();MTe();ve()});function jTe(t){return t&&(t===cK[vg]||t===Array[vg])}function uK(t){return jTe(t)||t===Function[vg]}function U_(t){var e;if(t){if(dw)return dw(t);var r=t[GTe]||t[vg]||(t[VO]?t[VO][vg]:null);e=t[GO]||r,Dn(t,GO)||(delete t[rK],e=t[GO]=t[rK]||t[GO],t[rK]=r)}return e}function $O(t,e){var r=[];if(BTe)r=BTe(t);else for(var n in t)typeof n=="string"&&Dn(t,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)e(r[i])}function lK(t,e,r){return e!==VO&&typeof t[e]===zO&&(r||Dn(t,e))}function WO(t){kr("DynamicProto: "+t)}function Qrt(t){var e={};return $O(t,function(r){!e[r]&&lK(t,r,!1)&&(e[r]=t[r])}),e}function fK(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function Jrt(t,e,r,n){function i(u,c,l){var f=c[l];if(f[iK]&&n){var p=u[YO]||{};p[pw]!==!1&&(f=(p[c[yE]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};$O(r,function(u){o[u]=i(e,r,u)});for(var s=U_(t),a=[];s&&!uK(s)&&!fK(a,s);)$O(s,function(u){!o[u]&&lK(s,u,!dw)&&(o[u]=i(e,s,u))}),a.push(s),s=U_(s);return o}function Zrt(t,e,r,n){var i=null;if(t&&Dn(r,yE)){var o=t[YO]||{};if(i=(o[r[yE]]||{})[e],i||WO("Missing ["+e+"] "+zO),!i[oK]&&o[pw]!==!1){for(var s=!Dn(t,e),a=U_(t),u=[];s&&a&&!uK(a)&&!fK(u,a);){var c=a[e];if(c){s=c===n;break}u.push(a),a=U_(a)}try{s&&(t[e]=i),i[oK]=1}catch{o[pw]=!1}}}return i}function ent(t,e,r){var n=e[t];return n===r&&(n=U_(e)[t]),typeof n!==zO&&WO("["+t+"] is not a "+zO),n}function tnt(t,e,r,n,i){function o(u,c){var l=function(){var f=Zrt(this,c,u,l)||ent(c,u,l);return f.apply(this,arguments)};return l[iK]=1,l}if(!jTe(t)){var s=r[YO]=r[YO]||{},a=s[e]=s[e]||{};s[pw]!==!1&&(s[pw]=!!i),$O(r,function(u){lK(r,u,!1)&&r[u]!==n[u]&&(a[u]=r[u],delete r[u],(!Dn(t,u)||t[u]&&!t[u][iK])&&(t[u]=o(t,u)))})}}function rnt(t,e){if(dw){for(var r=[],n=U_(e);n&&!uK(n)&&!fK(r,n);){if(n===t)return!0;r.push(n),n=U_(n)}return!1}return!0}function nK(t,e){return Dn(t,vg)?t.name||e||FTe:((t||{})[VO]||{}).name||e||FTe}function nt(t,e,r,n){Dn(t,vg)||WO("theClass is an invalid class definition.");var i=t[vg];rnt(i,e)||WO("["+nK(t)+"] not in hierarchy of ["+nK(e)+"]");var o=null;Dn(i,yE)?o=i[yE]:(o=Xrt+nK(t,"_")+"$"+aK.n,aK.n++,i[yE]=o);var s=nt[HTe],a=!!s[jO];a&&n&&n[jO]!==void 0&&(a=!!n[jO]);var u=Qrt(e),c=Jrt(i,e,u,a);r(e,c);var l=!!dw&&!!s[sK];l&&n&&(l=!!n[sK]),tnt(i,o,e,u,l!==!1)}var HO,VO,vg,zO,YO,iK,yE,Xrt,oK,pw,HTe,FTe,GTe,GO,UTe,rK,jO,sK,cK,dw,BTe,qTe,aK,Jr=E(()=>{ve();VO="constructor",vg="prototype",zO="function",YO="_dynInstFuncs",iK="_isDynProxy",yE="_dynClass",Xrt="_dynCls$",oK="_dynInstChk",pw=oK,HTe="_dfOpts",FTe="_unknown_",GTe="__proto__",GO="_dyn"+GTe,UTe="__dynProto$Gbl",rK="_dynInstProto",jO="useBaseInst",sK="setInstFuncs",cK=Object,dw=cK.getPrototypeOf,BTe=cK.getOwnPropertyNames,qTe=Hi(),aK=qTe[UTe]||(qTe[UTe]={o:(HO={},HO[sK]=!0,HO[jO]=!0,HO),n:1e3});nt[HTe]=aK.o});var pK,VTe=E(()=>{"use strict";pK=100});var yc,KO=E(()=>{ve();yc=nw});var sl,zTe=E(()=>{KO();sl=yc({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});var _g,B_,at,q_,H_,bE,Rd,al,pu,Vr,yg,$t,Mf,XO,G_,j_,Ff,Da,bg,dK,Ds,xg,co,QO,xE,EE,TE,Eg,mK,ka,mw,V_,JO,Uf,bc,SE,Tg,cl,La,CE,z_,xc,Sg,hw,Bf,ZO,Pd,hK,Oa,gw,vw,Y_,ul,e5,IE,wE,Cg,wn=E(()=>{_g="toLowerCase",B_="blkVal",at="length",q_="rdOnly",H_="notify",bE="warnToConsole",Rd="throwInternal",al="setDf",pu="watch",Vr="logger",yg="apply",$t="push",Mf="splice",XO="hdlr",G_="cancel",j_="initialize",Ff="identifier",Da="isInitialized",bg="getPlugin",dK="pollInternalLogs",Ds="name",xg="time",co="processNext",QO="getProcessTelContext",xE="getNotifyMgr",EE="addNotificationListener",TE="removeNotificationListener",Eg="enabled",mK="stopPollingInternalLogs",ka="unload",mw="onComplete",V_="version",JO="loggingLevelConsole",Uf="createNew",bc="teardown",SE="messageId",Tg="message",cl="isAsync",La="diagLog",CE="_doTeardown",z_="update",xc="getNext",Sg="setNextPlugin",hw="userAgent",Bf="split",ZO="nodeType",Pd="replace",hK="logInternalMessage",Oa="type",gw="handler",vw="isChildEvt",Y_="getCtx",ul="setCtx",e5="complete",IE="traceId",wE="spanId",Cg="traceFlags"});function YTe(t,e){gK||(gK=wd("AggregationError",function(n,i){i[at]>1&&(n.errors=i[1])}));var r=t||"One or more errors occurred.";throw K(e,function(n,i){r+=`
`.concat(i," > ").concat(le(n))}),new gK(r,e||[])}var gK,$Te=E(()=>{ve();wn()});function du(t,e){return t5(t,function(r){e&&e({value:r,rejected:!1})},function(r){e&&e({rejected:!0,reason:r})})}function t5(t,e,r,n){var i=t;return lg(t)?(e||r)&&(i=t.then(e,r)):e&&e(t),n&&(i=WTe(i,n)),i}function WTe(t,e){var r=t;return e&&(lg(t)?t.finally?r=t.finally(e):r=t.then(function(n){return e(),n},function(n){throw e(),n}):e()),r}var vK=E(()=>{ve()});function KTe(t,e,r,n){_K=_K||{toString:function(){return"[[PromiseState]]"}},yK=yK||{toString:function(){return"[[PromiseResult]]"}},bK=bK||{toString:function(){return"[[PromiseIsHandled]]"}},ln(t,_K,{get:e}),ln(t,yK,{get:r}),ln(t,bK,{get:n})}var _K,yK,bK,xK,XTe=E(()=>{ve();xK=!1});var r5,EK=E(()=>{r5=["pending","resolving","resolved","rejected"]});function JTe(t,e,r,n){var i=pr();!n5&&(n5=Sd(function(){var u;return i&&i.createEvent&&(u=i.createEvent("Event")),!!u&&u.initEvent},null));var o=n5.v?i.createEvent("Event"):n?new Event(e):{};if(r&&r(o),n5.v&&o.initEvent(e,!1,!0),o&&t[QTe])t[QTe](o);else{var s=t["on"+e];if(s)s(o);else{var a=tt("console");a&&(a.error||a.log)(e,le(o))}}}var QTe,n5,ZTe=E(()=>{ve();QTe="dispatchEvent"});var AE,TK=E(()=>{AE="Promise"});function eSe(t){return we(t)?t.toString():le(t)}function rSe(t,e,r){var n=ao(arguments,3),i=0,o=!1,s,a=[],u=int++,c=_w.length>0?_w[_w.length-1]:void 0,l=!1,f=null,p;!SK&&(SK=hc(AE+"RejectionEvent"));var m=function(b,T){try{_w.push(u),l=!0,f&&f.cancel(),f=null;var k=t(function(U,z){a.push(function(){try{var D=i===2?b:T,fe=Re(D)?s:we(D)?D(s):D;lg(fe)?fe.then(U,z):D?U(fe):i===3?z(fe):U(fe)}catch(Q){z(Q)}}),o&&v()},n);return k}finally{_w.pop()}},d=function(b){return m(void 0,b)},h=function(b){var T=b,k=b;return we(b)&&(T=function(U){return b&&b(),U},k=function(U){throw b&&b(),U}),m(T,k)},g=function(){return r5[i]},v=function(){if(a.length>0){var b=a.slice();a=[],l=!0,e(b),f&&f.cancel(),f=null}},_=function(b,T){return function(k){if(i===T){if(b===2&&lg(k)){i=1,k.then(_(2,1),_(3,1));return}i=b,o=!0,s=k,v(),!l&&b===3&&!f&&(f=In(y,ont))}}},y=function(){if(!l)if(MW())process.emit(tSe,s,p);else{var b=pn()||Hi();JTe(b,nnt,function(T){return Ke(T,"promise",{g:function(){return p}}),T.reason=s,T},!!SK.v)}};p={then:m,catch:d,finally:h},ln(p,"state",{get:g}),xK&&KTe(p,g,function(){return Df(s)},function(){return l}),FW()&&(p[O_(11)]="IPromise");var x=function(){return"IPromise"+(xK?"["+u+(Re(c)?"":":"+c)+"]":"")+" "+g()+(o?" - "+eSe(s):"")};return p.toString=x,function(){we(r)||kr(AE+": executor is not a function - "+eSe(r));var T=_(3,0);try{r.call(p,_(2,0),T)}catch(k){T(k)}}(),p}function RE(t){return function(e){var r=ao(arguments,1);return t(function(n,i){try{var o=[],s=1;K(e,function(a,u){a&&(s++,t5(a,function(c){o[u]=c,--s===0&&n(o)},i))}),s--,s===0&&n(o)}catch(a){i(a)}},r)}}function PE(t){return function(e){var r=ao(arguments,1);return lg(e)?e:t(function(n){n(e)},r)}}function NE(t){return function(e){var r=ao(arguments,1);return t(function(n,i){i(e)},r)}}var tSe,nnt,_w,int,ont,SK,i5=E(()=>{ve();vK();XTe();EK();ZTe();TK();tSe="unhandledRejection",nnt=tSe.toLowerCase(),_w=[],int=0,ont=10});function nSe(t){var e=yi(t)?t:0;return function(r){In(function(){snt(r)},e)}}var snt,iSe=E(()=>{ve();snt=function(t){K(t,function(e){try{e()}catch{}})}});function DE(t,e){return rSe(DE,nSe(e),t,e)}var drr,mrr,hrr,oSe=E(()=>{i5();iSe();drr=RE(DE),mrr=PE(DE),hrr=NE(DE)});function yw(t,e){!CK&&(CK=hc(AE));var r=CK.v;if(!r)return DE(t);we(t)||kr(AE+": executor is not a function - "+le(t));var n=0;function i(){return r5[n]}var o=new r(function(s,a){function u(l){n=2,s(l)}function c(l){n=3,a(l)}t(u,c)});return ln(o,"state",{get:i}),o}var CK,Err,Trr,Srr,sSe=E(()=>{oSe();i5();EK();ve();TK();Err=RE(yw),Trr=PE(yw),Srr=NE(yw)});function xi(t,e){return!IK&&(IK=mc(function(){return yw})),IK.v.call(this,t,e)}var IK,bw,ant,cnt,aSe=E(()=>{ve();i5();sSe();bw=RE(xi),ant=PE(xi),cnt=NE(xi)});var Nd=E(()=>{vK();aSe()});var Ec,vt,Ig,Xn,o5,xw,Dd,$_,Ma,W_,kE,wg,LE,qf,OE,s5,a5,cSe,Gi=E(()=>{Ec=void 0,vt="",Ig="channels",Xn="core",o5="createPerfMgr",xw="disabled",Dd="extensionConfig",$_="extensions",Ma="processTelemetry",W_="priority",kE="eventsSent",wg="eventsDiscarded",LE="eventsSendRequest",qf="perfEvent",OE="getPerfMgr",s5="domain",a5="path",cSe="Not dynamic - "});function ME(t){return!oe(t)}function K_(t){var e=t;return e&&We(e)&&(e=e[Pd](lnt,function(r,n){return n.toUpperCase()}),e=e[Pd](fnt,"_"),e=e[Pd](pnt,function(r,n){return"_"+n})),e}function Ei(t,e){return t&&e?Qr(t,e)!==-1:!1}function X_(t){return t&&t.toISOString()||""}function Q_(t){return so(t)?t[Ds]:vt}function Hf(t,e,r,n,i){var o=r;return t&&(o=t[e],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,t[e]=o)),o}function Ew(t,e,r){var n;return t?(n=t[e],!n&&oe(n)&&(n=Re(r)?{}:r,t[e]=n)):n=Re(r)?{}:r,n}function uSe(t,e){var r=null,n=null;return we(t)?r=t:n=t,function(){var i=arguments;if(r&&(n=r()),n)return n[e][yg](n,i)}}function wK(t,e,r){if(t&&e&&Bt(t)&&Bt(e)){var n=function(o){if(We(o)){var s=e[o];we(s)?(!r||r(o,!0,e,t))&&(t[o]=uSe(e,o)):(!r||r(o,!1,e,t))&&(Nr(t,o)&&delete t[o],Ke(t,o,{g:function(){return e[o]},s:function(a){e[o]=a}}))}};for(var i in e)n(i)}return t}function kd(t,e,r,n,i){t&&e&&r&&(i!==!1||Re(t[e]))&&(t[e]=uSe(r,n))}function Ld(t,e,r,n){return t&&e&&Bt(t)&&ce(r)&&K(r,function(i){We(i)&&kd(t,i,e,i,n)}),t}function Od(t){return t&&Lf&&(t=cg(Lf({},t))),t}var unt,lnt,fnt,pnt,Brr,Md=E(()=>{bi();ve();wn();Gi();unt="getPrototypeOf",lnt=/-([a-z])/g,fnt=/([^\w\d_$])/g,pnt=/^(\d+[\w\d_$])/,Brr=Object[unt]});function dSe(t,e){var r=!1;if(t){try{if(r=e in t,!r){var n=t[Is];n&&(r=e in n)}}catch{}if(!r)try{var i=new t;r=!Re(i[e])}catch{}}return r}function kK(t){pSe=t}function J_(t){if(t&&pSe){var e=tt("__mockLocation");if(e)return e}return typeof location===ts&&location?location:tt(mnt)}function Tw(){return typeof console!==Co?console:tt(hnt)}function UE(){return!!(typeof JSON===ts&&JSON||tt(lSe)!==null)}function Sw(){return UE()?JSON||tt(lSe):null}function Cw(){return tt(gnt)}function Iw(){return tt(vnt)}function Ag(){var t=dr();return t&&t.product?t.product===_nt:!1}function Rg(){var t=dr();if(t&&(t[hw]!==RK||AK===null)){RK=t[hw];var e=(RK||vt)[_g]();AK=Ei(e,NK)||Ei(e,DK)}return AK}function LK(t){if(t===void 0&&(t=null),!t){var e=dr()||{};t=e?(e.userAgent||vt)[_g]():vt}var r=(t||vt)[_g]();if(Ei(r,NK)){var n=pr()||{};return Math.max(parseInt(r[Bf](NK)[1]),n[dnt]||0)}else if(Ei(r,DK)){var i=parseInt(r[Bf](DK)[1]);if(i)return i+4}return null}function BE(t){return(PK===null||t===!1)&&(PK=Na()&&!!dr().sendBeacon),PK}function qE(t){var e=!1;try{e=!!tt("fetch");var r=tt("Request");e&&t&&r&&(e=dSe(r,"keepalive"))}catch{}return e}function ww(){return FE===null&&(FE=typeof XDomainRequest!==Co,FE&&HE()&&(FE=FE&&!dSe(tt(fSe),"withCredentials"))),FE}function HE(){var t=!1;try{var e=tt(fSe);t=!!e}catch{}return t}function mSe(t,e){if(t)for(var r=0;r<t[at];r++){var n=t[r];if(n[Ds]&&n[Ds]===e)return n}return{}}function OK(t){var e=pr();return e&&t?mSe(e.querySelectorAll("meta"),t).content:null}function MK(t){var e,r=Ps();if(r){var n=r.getEntriesByType("navigation")||[];e=mSe((n[at]>0?n[0]:{}).serverTiming,t).description}return e}var dnt,mnt,hnt,lSe,gnt,vnt,_nt,NK,DK,fSe,AK,RK,pSe,FE,PK,GE=E(()=>{"use strict";bi();ve();wn();Md();Gi();dnt="documentMode",mnt="location",hnt="console",lSe="JSON",gnt="crypto",vnt="msCrypto",_nt="ReactNative",NK="msie",DK="trident/",fSe="XMLHttpRequest",AK=null,RK=null,pSe=!1,FE=null,PK=null});function ynt(t){t<0&&(t>>>=0),Aw=gSe+t&Pg,Rw=vSe-t&Pg,_Se=!0}function bnt(){try{var t=qt()&2147483647;ynt((Math.random()*hSe^t)+t)}catch{}}function FK(t){return t>0?Math.floor(Fd()/Pg*(t+1))>>>0:0}function Fd(t){var e=0,r=Cw()||Iw();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&Pg),e===0&&Rg()&&(_Se||bnt(),e=ySe()&Pg),e===0&&(e=Math.floor(hSe*Math.random()|0)),t||(e>>>=0),e}function ySe(t){Rw=36969*(Rw&65535)+(Rw>>16)&Pg,Aw=18e3*(Aw&65535)+(Aw>>16)&Pg;var e=(Rw<<16)+(Aw&65535)>>>0&Pg|0;return t||(e>>>=0),e}function Pw(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Fd()>>>0,n=0,i=vt;i[at]<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Fd()<<2&4294967295|r&3)>>>0,n=0);return i}var hSe,Pg,gSe,vSe,_Se,Aw,Rw,c5=E(()=>{ve();wn();GE();Gi();hSe=4294967296,Pg=4294967295,gSe=123456789,vSe=987654321,_Se=!1,Aw=gSe,Rw=vSe});function xSe(t){return t[ZO]===1||t[ZO]===9||!+t[ZO]}function Tnt(t,e){var r=e[t.id];if(!r){r={};try{xSe(e)&&Ke(e,t.id,{e:!1,v:r})}catch{}}return r}function Tc(t,e){return e===void 0&&(e=!1),K_(t+Ent+++(e?"."+bSe:vt)+xnt)}function u5(t){var e={id:Tc("_aiData-"+(t||vt)+"."+bSe),accept:function(r){return xSe(r)},get:function(r,n,i,o){var s=r[e.id];return s?s[K_(n)]:(o&&(s=Tnt(e,r),s[K_(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return e}var bSe,xnt,Ent,jE=E(()=>{ve();wn();Md();Gi();c5();bSe="3.0.5",xnt="."+Pw(6),Ent=0});function l5(t){return t&&Bt(t)&&(t.isVal||t.fb||Nr(t,"v")||Nr(t,"mrg")||Nr(t,"ref")||t.set)}function ESe(t,e,r){var n,i=r.dfVal||kf;if(e&&r.fb){var o=r.fb;ce(o)||(o=[o]);for(var s=0;s<o[at];s++){var a=o[s],u=e[a];if(i(u)?n=u:t&&(u=t.cfg[a],i(u)&&(n=u),t.set(t.cfg,Cr(a),u)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}function UK(t,e,r){var n=r;if(r&&l5(r)&&(n=ESe(t,e,r)),n){l5(n)&&(n=UK(t,e,n));var i;ce(n)?(i=[],i[at]=n[at]):dt(n)&&(i={}),i&&(de(n,function(o,s){s&&l5(s)&&(s=UK(t,e,s)),i[o]=s}),n=i)}return n}function Nw(t,e,r,n){var i,o,s,a=n,u,c,l,f;l5(a)?(i=a.isVal,o=a.set,l=a[q_],f=a[B_],u=a.mrg,c=a.ref,!c&&Re(c)&&(c=!!u),s=ESe(t,e,a)):s=n,f&&t[B_](e,r);var p,m=!0,d=e[r];(d||!oe(d))&&(p=d,m=!1,i&&p!==s&&!i(p)&&(p=s,m=!0),o&&(p=o(p,s,e),m=p===s)),m?s?p=UK(t,e,s):p=s:(dt(p)||ce(s))&&u&&s&&(dt(s)||ce(s))&&de(s,function(h,g){Nw(t,p,h,g)}),t.set(e,r,p),c&&t.ref(e,r),l&&t[q_](e,r)}var BK=E(()=>{ve();wn()});function qK(t){if(t){var e;if(ce(t)?(e=[],e[at]=t[at]):dt(t)&&(e={}),e)return de(t,function(r,n){e[r]=qK(n)}),e}return t}function Dw(t){if(t){var e=t[Gf]||t;if(e.cfg&&(e.cfg===t||e.cfg[Gf]===e))return e}return null}function kw(t){if(t&&(dt(t)||ce(t)))try{t[TSe]=!0}catch{}return t}function HK(t){if(t)try{t[SSe]=!0}catch{}return t}function f5(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[SSe],!n&&!r[TSe]&&(n=dt(r)||ce(r))),n}function p5(t){kr("InvalidAccess:"+t)}var Gf,TSe,SSe,d5=E(()=>{ve();wn();Gf=os("[[ai_dynCfg_1]]"),TSe=os("[[ai_blkDynCfg_1]]"),SSe=os("[[ai_frcDynCfg_1]]")});function Cnt(t,e,r){ce(e)&&K(Snt,function(n){var i=e[n];e[n]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[yg](this,o);return Lw(t,e,r,"Patching"),a}})}function m5(t,e){var r=pc(t,e);return r&&r.get}function Int(t,e,r,n){var i={n:r,h:[],trk:function(c){c&&c.fn&&(Xe(i.h,c)===-1&&i.h[$t](c),t.trk(c,i))},clr:function(c){var l=Xe(i.h,c);l!==-1&&i.h[Mf](l,1)}},o=!0,s=!1;function a(){o&&(s=s||f5(a,t,n),n&&!n[Gf]&&s&&(n=Lw(t,n,r,"Converting")),o=!1);var c=t.act;return c&&i.trk(c),n}a[t.prop]={chng:function(){t.add(i)}};function u(c){if(n!==c){a[t.ro]&&!t.upd&&p5("["+r+"] is read-only:"+le(e)),o&&(s=s||f5(a,t,n),o=!1);var l=s&&a[t.rf];if(s)if(l){de(n,function(p){n[p]=c?c[p]:Ec});try{de(c,function(p,m){Ow(t,n,p,m)}),c=n}catch(p){VE((t.hdlr||{})[Vr],r,"Assigning",p),s=!1}}else n&&n[Gf]&&de(n,function(p){var m=m5(n,p);if(m){var d=m[t.prop];d&&d.chng()}});if(c!==n){var f=c&&f5(a,t,c);!l&&f&&(c=Lw(t,c,r,"Converting")),n=c,s=f}t.add(i)}}Ke(e,i.n,{g:a,s:u})}function Ow(t,e,r,n){if(e){var i=m5(e,r),o=i&&!!i[t.prop];o?e[r]=n:Int(t,e,r,n)}return e}function h5(t,e,r,n){if(e){var i=m5(e,r),o=i&&!!i[t.prop],s=n&&n[0],a=n&&n[1],u=n&&n[2];if(!o){if(u)try{kw(e)}catch(c){VE((t.hdlr||{})[Vr],r,"Blocking",c)}try{Ow(t,e,r,e[r]),i=m5(e,r)}catch(c){VE((t.hdlr||{})[Vr],r,"State",c)}}s&&(i[t.rf]=s),a&&(i[t.ro]=a),u&&(i[t.blkVal]=!0)}return e}function Lw(t,e,r,n){try{de(e,function(i,o){Ow(t,e,i,o)}),e[Gf]||(ln(e,Gf,{get:function(){return t[XO]}}),Cnt(t,e,r))}catch(i){VE((t.hdlr||{})[Vr],r,n,i)}return e}var Snt,VE,CSe=E(()=>{ve();Gi();wn();d5();Snt=["push","pop","shift","unshift","splice"],VE=function(t,e,r,n){t&&t[Rd](3,108,"".concat(r," [").concat(e,"] failed - ")+le(n))}});function ISe(t){var e,r=Cn(Mw+"get"+t.uid+Fw),n=Cn(Mw+"ro"+t.uid+Fw),i=Cn(Mw+"rf"+t.uid+Fw),o=Cn(Mw+"blkVal"+t.uid+Fw),s=Cn(Mw+"dtl"+t.uid+Fw),a=null,u=null,c;function l(d,h){var g=c.act;try{c.act=d,d&&d[s]&&(K(d[s],function(_){_.clr(d)}),d[s]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t[al].bind(t),ref:t.ref.bind(t),rdOnly:t[q_].bind(t)})}catch(_){var v=t[Vr];throw v&&v[Rd](1,107,le(_)),_}finally{c.act=g||null}}function f(){if(a){var d=a;a=null,u&&u[G_](),u=null;var h=[];if(K(d,function(g){if(g&&(g[s]&&(K(g[s],function(v){v.clr(g)}),g[s]=null),g.fn))try{l(g,g.fn)}catch(v){h[$t](v)}}),a)try{f()}catch(g){h[$t](g)}h[at]>0&&YTe("Watcher error(s): ",h)}}function p(d){if(d&&d.h[at]>0){a||(a=[]),u||(u=In(function(){u=null,f()},0));for(var h=0;h<d.h[at];h++){var g=d.h[h];g&&Xe(a,g)===-1&&a[$t](g)}}}function m(d,h){if(d){var g=d[s]=d[s]||[];Xe(g,h)===-1&&g[$t](h)}}return c=(e={prop:r,ro:n,rf:i},e[B_]=o,e[XO]=t,e.add=p,e[H_]=f,e.use=l,e.trk=m,e),c}var Mw,Fw,wSe=E(()=>{ve();$Te();wn();Mw="[[ai_",Fw="]]"});function wnt(t,e){var r={fn:e,rm:function(){r.fn=null,t=null,e=null}};return t.use(r,e),r}function Ant(t,e,r){var n,i=Dw(e);if(i)return i;var o=Tc("dyncfg",!0),s=e&&r!==!1?e:qK(e),a;function u(){a[H_]()}function c(v,_,y){try{v=Ow(a,v,_,y)}catch(x){VE(t,_,"Setting value",x)}return v[_]}function l(v){return wnt(a,v)}function f(v,_){a.use(null,function(y){var x=a.upd;try{Re(_)||(a.upd=_),v(y)}finally{a.upd=x}})}function p(v,_){var y;return h5(a,v,_,(y={},y[0]=!0,y))[_]}function m(v,_){var y;return h5(a,v,_,(y={},y[1]=!0,y))[_]}function d(v,_){var y;return h5(a,v,_,(y={},y[2]=!0,y))[_]}function h(v,_){return _&&de(_,function(y,x){Nw(g,v,y,x)}),v}var g=(n={uid:null,cfg:s},n[Vr]=t,n[H_]=u,n.set=c,n[al]=h,n[pu]=l,n.ref=p,n[q_]=m,n[B_]=d,n._block=f,n);return Ke(g,"uid",{c:!1,e:!1,w:!1,v:o}),a=ISe(g),Lw(a,s,"config","Creating"),g}function Rnt(t,e){t?(t[bE](e),t[Rd](2,108,e)):p5(e)}function oi(t,e,r,n){var i=Ant(r,t||{},n);return e&&i[al](i.cfg,e),i}function Fa(t,e,r){var n=t[Gf]||t;return n.cfg&&(n.cfg===t||n.cfg[Gf]===n)?n[pu](e):(Rnt(r,cSe+le(t)),oi(t,null,r)[pu](e))}var Ng=E(()=>{ve();jE();Gi();wn();BK();CSe();wSe();d5()});function zE(t,e){if(t&&t[ka])return t[ka](e)}function GK(t,e,r){var n;return r||(n=xi(function(i){r=i})),t&&gg(t)>0?du(zE(t[0],e),function(){GK(ao(t,1),e,r)}):r(),n}var ASe=E(()=>{Nd();ve();wn()});var RSe,PSe=E(()=>{RSe=500});function NSe(t){return{mrg:!0,v:t}}var DSe=E(()=>{});function Pnt(t,e){return function(){var r=arguments,n=VK(e);if(n){var i=n.listener;i&&i[t]&&i[t][yg](i,r)}}}function Nnt(){var t=tt("Microsoft");return t&&(v5=t.ApplicationInsights),v5}function VK(t){var e=v5;return!e&&t.disableDbgExt!==!0&&(e=v5||Nnt()),e?e.ChromeDbgExt:null}function kSe(t){if(!g5){g5={};for(var e=0;e<jK[at];e++)g5[jK[e]]=Pnt(jK[e],t)}return g5}var jK,v5,g5,zK=E(()=>{ve();wn();Gi();jK=[kE,wg,LE,qf],v5=null});function LSe(t){return t?'"'+t[Pd](/\"/g,vt)+'"':vt}function YK(t,e){var r=Tw();if(r){var n="log";r[t]&&(n=t),we(r[n])&&r[n](e)}}function ey(t,e){return(t||{})[Vr]||new Dg(e)}function $K(t){return t||new Dg}function dn(t,e,r,n,i,o){o===void 0&&(o=!1),$K(t)[Rd](e,r,n,i,o)}function Ud(t,e){$K(t)[bE](e)}function WK(t,e,r){$K(t)[hK](e,r)}var YE,OSe,Dnt,knt,Lnt,Ont,Mnt,Z_,Dg,Bd=E(()=>{"use strict";Jr();ve();Ng();wn();zK();GE();Gi();OSe="warnToConsole",Dnt="AI (Internal): ",knt="AI: ",Lnt="AITR_",Ont={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Mnt=(YE={},YE[0]=null,YE[1]="errorToConsole",YE[2]=OSe,YE[3]="debugToConsole",YE);Z_=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o[SE]=e,o[Tg]=(n?knt:Dnt)+e;var s=vt;UE()&&(s=Sw().stringify(i));var a=(r?" message:"+LSe(r):vt)+(i?" props:"+LSe(s):vt);o[Tg]+=a}return t.dataType="MessageData",t}();Dg=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,s,a,u;nt(t,this,function(c){u=f(e||{}),c.consoleLoggingLevel=function(){return i},c[Rd]=function(d,h,g,v,_){_===void 0&&(_=!1);var y=new Z_(h,g,_,v);if(a)throw le(y);var x=Mnt[d]||OSe;if(Re(y[Tg]))m("throw"+(d===1?"Critical":"Warning"),y);else{if(_){var b=+y[SE];!n[b]&&i>=d&&(c[x](y[Tg]),n[b]=!0)}else i>=d&&c[x](y[Tg]);l(d,y)}},c.debugToConsole=function(d){YK("debug",d),m("warning",d)},c[bE]=function(d){YK("warn",d),m("warning",d)},c.errorToConsole=function(d){YK("error",d),m("error",d)},c.resetInternalMessageCount=function(){r=0,n={}},c[hK]=l,c[ka]=function(d){u&&u.rm(),u=null};function l(d,h){if(!p()){var g=!0,v=Lnt+h[SE];if(n[v]?g=!1:n[v]=!0,g&&(d<=o&&(c.queue[$t](h),r++,m(d===1?"error":"warn",h)),r===s)){var _="Internal events throttle limit per PageView reached for this app.",y=new Z_(23,_,!1);c.queue[$t](y),d===1?c.errorToConsole(_):c[bE](_)}}}function f(d){return Fa(oi(d,Ont,c).cfg,function(h){var g=h.cfg;i=g[JO],o=g.loggingLevelTelemetry,s=g.maxMessageLimit,a=g.enableDebug})}function p(){return r>=s}function m(d,h){var g=VK(e||{});g&&g[La]&&g[La](d,h)}})}return t.__ieDyn=1,t}()});function eX(){!jf&&(jf=mc(function(){return pr()}))}function Unt(t,e){var r=qd[kg]||b5[kg];return r||(r=qd[kg]=qd(t,e),b5[kg]=r),r}function y5(t){return t?t.isEnabled():!0}function zSe(t,e){return e&&t&&ce(t.ignoreCookies)?Xe(t.ignoreCookies,e)!==-1:!1}function Bnt(t,e){return e&&t&&ce(t.blockedCookies)&&Xe(t.blockedCookies,e)!==-1?!0:zSe(t,e)}function HSe(t,e){var r=e[Eg];if(oe(r)){var n=void 0;Re(t[USe])||(n=!t[USe]),Re(t[JK])||(n=!t[JK]),r=n}return r}function tX(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n&&n[kg]?r=n[kg]:r=qd(e)}return r||(r=Unt(e,(t||{})[Vr])),r}function qd(t,e){var r,n,i,o,s,a,u,c,l;t=oi(t||b5,null,e).cfg,s=Fa(t,function(p){p[al](p.cfg,Fnt),n=p.ref(p.cfg,"cookieCfg"),i=n[a5]||"/",o=n[s5],a=HSe(t,n)!==!1,u=n.getCookie||qnt,c=n.setCookie||VSe,l=n.delCookie||VSe},e);var f=(r={isEnabled:function(){var p=HSe(t,n)!==!1&&a&&$E(e),m=b5[kg];return p&&m&&f!==m&&(p=y5(m)),p},setEnabled:function(p){a=p!==!1,n[Eg]=p},set:function(p,m,d,h,g){var v=!1;if(y5(f)&&!Bnt(n,p)){var _={},y=St(m||vt),x=Qr(y,";");if(x!==-1&&(y=St(dc(m,x)),_=YSe(un(m,x+1))),Hf(_,s5,h||o,ns,Re),!oe(d)){var b=Rg();if(Re(_[XK])){var T=qt(),k=T+d*1e3;if(k>0){var U=new Date;U.setTime(k),Hf(_,XK,GSe(U,b?MSe:FSe)||GSe(U,b?MSe:FSe)||vt,ns)}}b||Hf(_,"max-age",vt+d,null,Re)}var z=J_();z&&z.protocol==="https:"&&(Hf(_,"secure",null,null,Re),QK===null&&(QK=!x5((dr()||{})[hw])),QK&&Hf(_,"SameSite","None",null,Re)),Hf(_,a5,g||i,null,Re),c(p,jSe(y,_)),v=!0}return v},get:function(p){var m=vt;return y5(f)&&!zSe(n,p)&&(m=u(p)),m},del:function(p,m){var d=!1;return y5(f)&&(d=f.purge(p,m)),d},purge:function(p,m){var d,h=!1;if($E(e)){var g=(d={},d[a5]=m||"/",d[XK]="Thu, 01 Jan 1970 00:00:01 GMT",d);Rg()||(g["max-age"]="0"),l(p,jSe(vt,g)),h=!0}return h}},r[ka]=function(p){s&&s.rm(),s=null},r);return f[kg]=f,f}function $E(t){if(_5===null){_5=!1,!jf&&eX();try{var e=jf.v||{};_5=e[ZK]!==void 0}catch(r){dn(t,2,68,"Cannot access document.cookie - "+Q_(r),{exception:le(r)})}}return _5}function YSe(t){var e={};if(t&&t[at]){var r=St(t)[Bf](";");K(r,function(n){if(n=St(n||vt),n){var i=Qr(n,"=");i===-1?e[n]=null:e[St(dc(n,i))]=St(un(n,i+1))}})}return e}function GSe(t,e){return we(t[e])?t[e]():null}function jSe(t,e){var r=t||vt;return de(e,function(n,i){r+="; "+n+(oe(i)?vt:"="+i)}),r}function qnt(t){var e=vt;if(!jf&&eX(),jf.v){var r=jf.v[ZK]||vt;BSe!==r&&(qSe=YSe(r),BSe=r),e=St(qSe[t]||vt)}return e}function VSe(t,e){!jf&&eX(),jf.v&&(jf.v[ZK]=t+"="+e)}function x5(t){return We(t)?!!(Ei(t,"CPU iPhone OS 12")||Ei(t,"iPad; CPU OS 12")||Ei(t,"Macintosh; Intel Mac OS X 10_14")&&Ei(t,"Version/")&&Ei(t,"Safari")||Ei(t,"Macintosh; Intel Mac OS X 10_14")&&_c(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ei(t,"Chrome/5")||Ei(t,"Chrome/6")||Ei(t,"UnrealEngine")&&!Ei(t,"Chrome")||Ei(t,"UCBrowser/12")||Ei(t,"UCBrowser/11")):!1}var KK,ty,MSe,FSe,ZK,XK,USe,JK,kg,_5,QK,BSe,jf,qSe,b5,Fnt,rX=E(()=>{ve();DSe();Ng();wn();Bd();GE();Md();Gi();MSe="toGMTString",FSe="toUTCString",ZK="cookie",XK="expires",USe="isCookieUseDisabled",JK="disableCookiesUsage",kg="_ckMgr",_5=null,QK=null,BSe=null,qSe={},b5={},Fnt=(KK={cookieCfg:NSe((ty={},ty[s5]={fb:"cookieDomain",dfVal:ME},ty.path={fb:"cookiePath",dfVal:ME},ty.enabled=Ec,ty.ignoreCookies=Ec,ty.blockedCookies=Ec,ty)),cookieDomain:Ec,cookiePath:Ec},KK[JK]=Ec,KK)});function Uw(t,e,r,n){K(t,function(i){if(i&&i[e])if(r)In(function(){return n(i)},0);else try{n(i)}catch{}})}var Hnt,Bw,nX=E(()=>{Jr();Nd();ve();Ng();wn();Gi();Hnt={perfEvtsSendAll:!1};Bw=function(){function t(e){this.listeners=[];var r,n,i=[],o=oi(e,Hnt);n=o[pu](function(s){r=!!s.cfg.perfEvtsSendAll}),nt(t,this,function(s){Ke(s,"listeners",{g:function(){return i}}),s[EE]=function(a){i[$t](a)},s[TE]=function(a){for(var u=Xe(i,a);u>-1;)i[Mf](u,1),u=Xe(i,a)},s[kE]=function(a){Uw(i,kE,!0,function(u){u[kE](a)})},s[wg]=function(a,u){Uw(i,wg,!0,function(c){c[wg](a,u)})},s[LE]=function(a,u){Uw(i,LE,u,function(c){c[LE](a,u)})},s[qf]=function(a){a&&(r||!a[vw]())&&Uw(i,qf,!1,function(u){a[cl]?In(function(){return u[qf](a)},0):u[qf](a)})},s[ka]=function(a){var u=function(){n&&n.rm(),n=null,i=[]},c;if(Uw(i,"unload",!1,function(l){var f=l[ka](a);f&&(c||(c=[]),c[$t](f))}),c)return xi(function(l){return du(bw(c),function(){u(),l()})});u()}})}return t.__ieDyn=1,t}()});function si(t,e,r,n,i){if(t){var o=t;if(o[OE]&&(o=o[OE]()),o){var s=void 0,a=o[Y_](iX);try{if(s=o.create(e(),n,i),s){if(a&&s[ul]&&(s[ul](ry[oX],a),a[Y_]&&a[ul])){var u=a[Y_](ry[qw]);u||(u=[],a[ul](ry[qw],u)),u[$t](s)}return o[ul](iX,s),r(s)}}catch(c){s&&s[ul]&&s[ul]("exception",c)}finally{s&&o.fire(s),o[ul](iX,a)}}}return r()}function sX(){return Gnt}var WE,oX,qw,Gnt,ry,Hw,iX,E5=E(()=>{Jr();ve();wn();Gi();WE="ctx",oX="ParentContextKey",qw="ChildrenContextKey",Gnt=null,ry=function(){function t(e,r,n){var i=this;if(i.start=qt(),i[Ds]=e,i[cl]=n,i[vw]=function(){return!1},we(r)){var o;Ke(i,"payload",{g:function(){return!o&&we(r)&&(o=r(),r=null),o}})}i[Y_]=function(s){return s?s===t[oX]||s===t[qw]?i[s]:(i[WE]||{})[s]:null},i[ul]=function(s,a){if(s)if(s===t[oX])i[s]||(i[vw]=function(){return!0}),i[s]=a;else if(s===t[qw])i[s]=a;else{var u=i[WE]=i[WE]||{};u[s]=a}},i[e5]=function(){var s=0,a=i[Y_](t[qw]);if(ce(a))for(var u=0;u<a[at];u++){var c=a[u];c&&(s+=c[xg])}i[xg]=qt()-i.start,i.exTime=i[xg]-s,i[e5]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Hw=function(){function t(e){this.ctx={},nt(t,this,function(r){r.create=function(n,i,o){return new ry(n,i,o)},r.fire=function(n){n&&(n[e5](),e&&we(e[qf])&&e[qf](n))},r[ul]=function(n,i){if(n){var o=r[WE]=r[WE]||{};o[n]=i}},r[Y_]=function(n){return(r[WE]||{})[n]}})}return t.__ieDyn=1,t}(),iX="CoreUtils.doPerf"});function Gw(){var t=ny();return un(t,0,8)+"-"+un(t,8,12)+"-"+un(t,12,16)+"-"+un(t,16,20)+"-"+un(t,20)}function ny(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=vt,r,n=0;n<4;n++)r=Fd(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(Fd()&3)|0];return is(e,0,8)+is(e,9,4)+"4"+is(e,13,3)+i+is(e,16,3)+is(e,19,12)}var aX=E(()=>{"use strict";ve();Gi();c5()});function Hd(t,e,r){return t&&t[at]===e&&t!==r?!!t.match(/^[\da-f]*$/i):!1}function WSe(t,e,r){return Hd(t,e)?t:r}function KSe(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[at]<2;)e="0"+e;return e}function lX(t,e,r,n){var i;return i={},i[V_]=Hd(n,2,uX)?n:cX,i[IE]=KE(t)?t:ny(),i[wE]=XE(e)?e:dc(ny(),16),i.traceFlags=r>=0&&r<=255?r:1,i}function jw(t,e){var r;if(!t||(ce(t)&&(t=t[0]||""),!t||!We(t)||t[at]>8192))return null;if(t.indexOf(",")!==-1){var n=t[Bf](",");t=n[e>0&&n[at]>e?e:0]}var i=jnt.exec(St(t));return!i||i[1]===uX||i[2]===T5||i[3]===S5?null:(r={version:(i[1]||vt)[_g](),traceId:(i[2]||vt)[_g](),spanId:(i[3]||vt)[_g]()},r[Cg]=parseInt(i[4],16),r)}function KE(t){return Hd(t,32,T5)}function XE(t){return Hd(t,16,S5)}function C5(t){return!(!t||!Hd(t[V_],2,uX)||!Hd(t[IE],32,T5)||!Hd(t[wE],16,S5)||!Hd(KSe(t[Cg]),2))}function fX(t){return C5(t)?(t[Cg]&$Se)===$Se:!1}function pX(t){if(t){var e=KSe(t[Cg]);Hd(e,2)||(e="01");var r=t[V_]||cX;return r!=="00"&&r!=="ff"&&(r=cX),"".concat(r.toLowerCase(),"-").concat(WSe(t.traceId,32,T5).toLowerCase(),"-").concat(WSe(t.spanId,16,S5).toLowerCase(),"-").concat(e.toLowerCase())}return""}function dX(t){var e="traceparent",r=jw(OK(e),t);return r||(r=jw(MK(e),t)),r}var jnt,cX,uX,T5,S5,$Se,mX=E(()=>{ve();wn();aX();GE();Gi();jnt=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,cX="00",uX="ff",T5="00000000000000000000000000000000",S5="0000000000000000",$Se=1});function Gd(t){return Vnt.get(t,"state",{},!0)}function hX(t,e){for(var r=[],n=null,i=t[xc](),o;i;){var s=i[bg]();if(s){n&&n[Sg]&&s[Ma]&&n[Sg](s),o=Gd(s);var a=!!o[Da];s[Da]&&(a=s[Da]()),a||r[$t](s),n=s,i=i[xc]()}}K(r,function(u){var c=t[Xn]();u[j_](t.getCfg(),c,e,t[xc]()),o=Gd(u),!u[Xn]&&!o[Xn]&&(o[Xn]=c),o[Da]=!0,delete o[bc]})}function I5(t){return t.sort(function(e,r){var n=0;if(r){var i=r[Ma];e[Ma]?n=i?e[W_]-r[W_]:1:i&&(n=-1)}else n=e?1:-1;return n})}function XSe(t){var e={};return{getName:function(){return e[Ds]},setName:function(r){t&&t.setName(r),e[Ds]=r},getTraceId:function(){return e[IE]},setTraceId:function(r){t&&t.setTraceId(r),KE(r)&&(e[IE]=r)},getSpanId:function(){return e[wE]},setSpanId:function(r){t&&t.setSpanId(r),XE(r)&&(e[wE]=r)},getTraceFlags:function(){return e[Cg]},setTraceFlags:function(r){t&&t.setTraceFlags(r),e[Cg]=r}}}var Vnt,gX=E(()=>{"use strict";ve();wn();jE();Gi();mX();Vnt=u5("plugin")});function Ynt(t,e,r){for(;t;){if(t[bg]()===r)return t;t=t[xc]()}return Lg([r],e.config||{},e)}function vX(t,e,r,n){var i=null,o=[];e||(e=oi({},null,r[Vr])),n!==null&&(i=n?Ynt(t,r,n):t);var s={_next:u,ctx:{core:function(){return r},diagLog:function(){return ey(r,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:l,getConfig:f,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(m){i=m},iterate:p,onComplete:a}};function a(m,d){for(var h=[],g=2;g<arguments.length;g++)h[g-2]=arguments[g];m&&o[$t]({func:m,self:Re(d)?s.ctx:d,args:h})}function u(){var m=i;if(i=m?m[xc]():null,!m){var d=o;d&&d[at]>0&&(K(d,function(h){try{h.func.call(h.self,h.args)}catch(g){dn(r[Vr],2,73,"Unexpected Exception during onComplete - "+le(g))}}),o=[])}return m}function c(m,d){var h=null,g=e.cfg;if(g&&m){var v=g[Dd];!v&&d&&(v={}),g[Dd]=v,v=e.ref(g,Dd),v&&(h=v[m],!h&&d&&(h={}),v[m]=h,h=e.ref(v,m))}return h}function l(m,d){var h=c(m,!0);return d&&de(d,function(g,v){if(oe(h[g])){var _=e.cfg[g];(_||!oe(_))&&(h[g]=_)}Nw(e,h,g,v)}),e[al](h,d)}function f(m,d,h){h===void 0&&(h=!1);var g,v=c(m,!1),_=e.cfg;return v&&(v[d]||!oe(v[d]))?g=v[d]:(_[d]||!oe(_[d]))&&(g=_[d]),g||!oe(g)?g:h}function p(m){for(var d;d=s._next();){var h=d[bg]();h&&m(h)}}return s}function Sc(t,e,r,n){var i=oi(e),o=vX(t,i,r,n),s=o.ctx;function a(c){var l=o._next();return l&&l[Ma](c,s),!l}function u(c,l){return c===void 0&&(c=null),ce(c)&&(c=Lg(c,i.cfg,r,l)),Sc(c||s[xc](),i.cfg,r,l)}return s[co]=a,s[Uf]=u,s}function QE(t,e,r){var n=oi(e.config),i=vX(t,n,e,r),o=i.ctx;function s(u){var c=i._next();return c&&c[ka](o,u),!c}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=Lg(u,n.cfg,e,c)),QE(u||o[xc](),e,c)}return o[co]=s,o[Uf]=a,o}function Vw(t,e,r){var n=oi(e.config),i=vX(t,n,e,r),o=i.ctx;function s(u){return o.iterate(function(c){we(c[z_])&&c[z_](o,u)})}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=Lg(u,n.cfg,e,c)),Vw(u||o[xc](),e,c)}return o[co]=s,o[Uf]=a,o}function Lg(t,e,r,n){var i=null,o=!n;if(ce(t)&&t[at]>0){var s=null;K(t,function(a){if(!o&&n===a&&(o=!0),o&&a&&we(a[Ma])){var u=$nt(a,e,r);i||(i=u),s&&s._setNext(u),s=u}})}return n&&!i?Lg([n],e,r):i}function $nt(t,e,r){var n=null,i=we(t[Ma]),o=we(t[Sg]),s;t?s=t[Ff]+"-"+t[W_]+"-"+ZSe++:s="Unknown-0-"+ZSe++;var a={getPlugin:function(){return t},getNext:function(){return n},processTelemetry:l,unload:f,update:p,_id:s,_setNext:function(m){n=m}};function u(){var m;return t&&we(t[JSe])&&(m=t[JSe]()),m||(m=Sc(a,e,r)),m}function c(m,d,h,g,v){var _=!1,y=t?t[Ff]:znt,x=m[QSe];return x||(x=m[QSe]={}),m.setNext(n),t&&si(m[Xn](),function(){return y+":"+h},function(){x[s]=!0;try{var b=n?n._id:vt;b&&(x[b]=!1),_=d(m)}catch(k){var T=n?x[n._id]:!0;T&&(_=!0),(!n||!T)&&dn(m[La](),1,73,"Plugin ["+y+"] failed during "+h+" - "+le(k)+", run flags: "+le(x))}},g,v),_}function l(m,d){d=d||u();function h(g){if(!t||!i)return!1;var v=Gd(t);return v[bc]||v[xw]?!1:(o&&t[Sg](n),t[Ma](m,g),!0)}c(d,h,"processTelemetry",function(){return{item:m}},!m.sync)||d[co](m)}function f(m,d){function h(){var g=!1;if(t){var v=Gd(t),_=t[Xn]||v[Xn];t&&(!_||_===m.core())&&!v[bc]&&(v[Xn]=null,v[bc]=!0,v[Da]=!1,t[bc]&&t[bc](m,d)===!0&&(g=!0))}return g}c(m,h,"unload",function(){},d[cl])||m[co](d)}function p(m,d){function h(){var g=!1;if(t){var v=Gd(t),_=t[Xn]||v[Xn];t&&(!_||_===m.core())&&!v[bc]&&t[z_]&&t[z_](m,d)===!0&&(g=!0)}return g}c(m,h,"update",function(){},!1)||m[co](d)}return qi(a)}var znt,QSe,JSe,ZSe,_X,w5=E(()=>{"use strict";ve();BK();Ng();wn();Bd();Md();Gi();E5();gX();znt="TelemetryPluginChain",QSe="_hasRun",JSe="_getTelCtx",ZSe=0;_X=function(){function t(e,r,n,i){var o=this,s=Sc(e,r,n,i);Ld(o,s,cn(s))}return t}()});function iy(){var t=[];function e(n){n&&t[$t](n)}function r(n,i){K(t,function(o){try{o(n,i)}catch(s){dn(n[La](),2,73,"Unexpected error calling unload handler - "+le(s))}}),t=[]}return{add:e,run:r}}var A5=E(()=>{ve();wn();Bd()});function R5(){var t=[];function e(n){var i=t;t=[],K(i,function(o){try{(o.rm||o.remove).call(o)}catch(s){dn(n,2,73,"Unloading:"+le(s))}})}function r(n){n&&Kn(t,n)}return{run:e,add:r}}var yX=E(()=>{ve();Bd()});var bX,Og,Wnt,oy,xX=E(()=>{"use strict";Jr();ve();Ng();wn();Bd();Md();Gi();w5();A5();yX();Og="getPlugin",Wnt=(bX={},bX[Dd]={isVal:ME,v:{}},bX),oy=function(){function t(){var e=this,r,n,i,o,s;c(),nt(t,e,function(l){l[j_]=function(f,p,m,d){u(f,p,d),r=!0},l[bc]=function(f,p){var m,d=l[Xn];if(!d||f&&d!==f[Xn]())return;var h,g=!1,v=f||QE(null,d,i&&i[Og]?i[Og]():i),_=p||(m={reason:0},m[cl]=!1,m);function y(){g||(g=!0,o.run(v,p),s.run(v[La]()),h===!0&&v[co](_),c())}return!l[CE]||l[CE](v,_,y)!==!0?y():h=!0,h},l[z_]=function(f,p){var m=l[Xn];if(!m||f&&m!==f[Xn]())return;var d,h=!1,g=f||Vw(null,m,i&&i[Og]?i[Og]():i),v=p||{reason:0};function _(){h||(h=!0,u(g.getCfg(),g.core(),g[xc]()))}return!l._doUpdate||l._doUpdate(g,v,_)!==!0?_():d=!0,d},kd(l,"_addUnloadCb",function(){return o},"add"),kd(l,"_addHook",function(){return s},"add"),Ke(l,"_unloadHooks",{g:function(){return s}})}),e[La]=function(l){return a(l)[La]()},e[Da]=function(){return r},e.setInitialized=function(l){r=l},e[Sg]=function(l){i=l},e[co]=function(l,f){f?f[co](l):i&&we(i[Ma])&&i[Ma](l,null)},e._getTelCtx=a;function a(l){l===void 0&&(l=null);var f=l;if(!f){var p=n||Sc(null,{},e[Xn]);i&&i[Og]?f=p[Uf](null,i[Og]):f=p[Uf](null,i)}return f}function u(l,f,p){oi(l,Wnt,ey(f)),!p&&f&&(p=f[QO]()[xc]());var m=i;i&&i[Og]&&(m=i[Og]()),e[Xn]=f,n=Sc(p,l,f,m)}function c(){r=!1,e[Xn]=null,n=null,i=null,s=R5(),o=iy()}}return t.__ieDyn=1,t}()});function Knt(t,e,r){var n={id:e,fn:r};Kn(t,n);var i={remove:function(){K(t,function(o,s){if(o.id===n.id)return t[Mf](s,1),-1})}};return i}function Xnt(t,e,r){for(var n=!1,i=t[at],o=0;o<i;++o){var s=t[o];if(s)try{if(s.fn[yg](null,[e])===!1){n=!0;break}}catch(a){dn(r,2,64,"Telemetry initializer failed: "+Q_(a),{exception:le(a)},!0)}}return!n}var eCe,tCe=E(()=>{bi();Jr();ve();wn();xX();Bd();Md();Gi();eCe=function(t){Ns(e,t);function e(){var r=t.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),nt(e,r,function(s,a){s.addTelemetryInitializer=function(u){return Knt(i,n++,u)},s[Ma]=function(u,c){Xnt(i,u,c?c[La]():s[La]())&&s[co](u,c)},s[CE]=function(){o()}});function o(){n=0,i=[]}return r}return e.__ieDyn=1,e}(oy)});function Znt(t,e){return new Hw(e)}function eit(t,e,r){var n,i=[],o=[],s={};return K(r,function(a){(oe(a)||oe(a[j_]))&&Qt(oCe);var u=a[W_],c=a[Ff];a&&u&&(oe(s[u])?s[u]=c:Ud(t,"Two extensions have same priority #"+u+" - "+s[u]+", "+c)),!u||u<e?i[$t](a):o[$t](a)}),n={},n[Xn]=i,n[Ig]=o,n}function nCe(t,e){var r=!1;return K(e,function(n){if(n===t)return r=!0,-1}),r}function TX(t,e,r,n){r&&de(r,function(i,o){n&&dt(o)&&dt(e[i])&&TX(t,e[i],o,n),n&&dt(o)&&dt(e[i])?TX(t,e[i],o,n):t.set(e,i,o)})}function iCe(t,e){var r=null,n=-1;return K(t,function(i,o){if(i.w===e)return r=i,n=o,-1}),{i:n,l:r}}function tit(t,e){var r=iCe(t,e).l;return r||(r={w:e,rm:function(){var n=iCe(t,e);n.i!==-1&&t[Mf](n.i,1)}},t[$t](r)),r}function rit(t,e,r){K(e,function(n){var i=Fa(t,n.w,r);delete n.w,n.rm=function(){i.rm()}})}var Mg,oCe,Qnt,rCe,Jnt,EX,zw,sCe=E(()=>{"use strict";bi();Jr();Nd();ve();Ng();wn();ASe();PSe();rX();jE();zK();Bd();Md();Gi();nX();E5();w5();gX();tCe();A5();yX();oCe="Plugins must provide initialize method",Qnt="_notificationManager",rCe="SDK is still unloading...",Jnt="SDK is not initialized",EX=Wn((Mg={cookieCfg:{}},Mg[$_]={rdOnly:!0,ref:!0,v:[]},Mg[Ig]={rdOnly:!0,ref:!0,v:[]},Mg[Dd]={ref:!0,v:{}},Mg[o5]=Ec,Mg.loggingLevelConsole=0,Mg.diagnosticLogInterval=Ec,Mg));zw=function(){function t(){var e,r,n,i,o,s,a,u,c,l,f,p,m,d,h,g,v,_,y,x,b,T,k,U,z,D,fe,Q;nt(t,this,function(O){M(),O._getDbgPlgTargets=function(){return[k]},O[Da]=function(){return r},O[j_]=function(N,G,te,ie){m&&Qt(rCe),O[Da]()&&Qt("Core cannot be initialized more than once"),e=oi(N,EX,te||O[Vr],!1),N=e.cfg,Me(e[pu](function(Ge){b=Ge.cfg.instrumentationKey;var mt=Ge.ref(Ge.cfg,Dd);de(mt,function(Lt){Ge.ref(mt,Lt)}),oe(b)&&Qt("Please provide instrumentation key")})),o=ie,it(),De(),O[Vr]=te;var ne=N[$_];if(l=[],l[$t].apply(l,F_(F_([],G,!1),ne,!1)),f=N[Ig],W(null),(!p||p[at]===0)&&Qt("No "+Ig+" available"),f&&f[at]>1){var Oe=O[bg]("TeeChannelController");(!Oe||!Oe.plugin)&&dn(n,1,28,"TeeChannel required")}rit(N,T,n),T=null,r=!0,O.releaseQueue(),O[dK]()},O.getChannels=function(){var N=[];return p&&K(p,function(G){N[$t](G)}),qi(N)},O.track=function(N){si(O[OE](),function(){return"AppInsightsCore:track"},function(){N===null&&(he(N),Qt("Invalid telemetry item")),!N[Ds]&&oe(N[Ds])&&(he(N),Qt("telemetry name required")),N.iKey=N.iKey||b,N[xg]=N[xg]||X_(new Date),N.ver=N.ver||"4.0",!m&&O[Da]()?L()[co](N):i[$t](N)},function(){return{item:N}},!N.sync)},O[QO]=L,O[xE]=function(){return o||(o=new Bw(e.cfg),O[Qnt]=o),o},O[EE]=function(N){O[xE]()[EE](N)},O[TE]=function(N){o&&o[TE](N)},O.getCookieMgr=function(){return u||(u=qd(e.cfg,O[Vr])),u},O.setCookieMgr=function(N){u!==N&&(zE(u,!1),u=N)},O[OE]=function(){return!s&&!a&&Me(e[pu](function(N){if(N.cfg.enablePerfMgr){var G=N.cfg[o5];we(G)&&(a=G(O,O[xE]()))}})),s||a||sX()},O.setPerfMgr=function(N){s=N},O.eventCnt=function(){return i[at]},O.releaseQueue=function(){if(r&&i[at]>0){var N=i;i=[],K(N,function(G){L()[co](G)})}},O[dK]=function(N){return h=N||null,Q=!1,D&&D[G_](),w(!0)};function w(N){if((!D||!D[Eg])&&!Q){var G=N||n&&n.queue[at]>0;G&&(fe||(fe=!0,Me(e[pu](function(te){var ie=te.cfg.diagnosticLogInterval;(!ie||!(ie>0))&&(ie=1e4);var ne=!1;D&&(ne=D[Eg],D[G_]()),D=fw(Ve,ie),D.unref(),D[Eg]=ne}))),D[Eg]=!0)}return D}O[mK]=function(){Q=!0,D&&D[G_](),Ve()},Ld(O,function(){return d},["addTelemetryInitializer"]),O[ka]=function(N,G,te){var ie;N===void 0&&(N=!0),r||Qt(Jnt),m&&Qt(rCe);var ne=(ie={reason:50},ie[cl]=N,ie.flushComplete=!1,ie),Oe;N&&!G&&(Oe=xi(function(Lt){G=Lt}));var Ge=QE(ae(),O);Ge[mw](function(){_.run(O[Vr]),GK([u,o,n],N,function(){M(),G&&G(ne)})},O);function mt(Lt){ne.flushComplete=Lt,m=!0,v.run(Ge,ne),O[mK](),Ge[co](ne)}return Ve(),lt(N,mt,6,te)||mt(!1),Oe},O[bg]=H,O.addPlugin=function(N,G,te,ie){if(!N){ie&&ie(!1),Tt(oCe);return}var ne=H(N[Ff]);if(ne&&!G){ie&&ie(!1),Tt("Plugin ["+N[Ff]+"] is already loaded!");return}var Oe={reason:16};function Ge(Gr){l[$t](N),Oe.added=[N],W(Oe),ie&&ie(!0)}if(ne){var mt=[ne.plugin],Lt={reason:2,isAsync:!!te};Pe(mt,Lt,function(Gr){Gr?(Oe.removed=mt,Oe.reason|=32,Ge(!0)):ie&&ie(!1)})}else Ge(!1)},O.updateCfg=function(N,G){G===void 0&&(G=!0);var te;if(O[Da]()){te={reason:1,cfg:e.cfg,oldCfg:M_({},e.cfg),newConfig:M_({},N),merge:G},N=te.newConfig;var ie=e.cfg;N[$_]=ie[$_],N[Ig]=ie[Ig]}e._block(function(ne){var Oe=ne.cfg;TX(ne,Oe,N,G),G||de(Oe,function(Ge){Nr(N,Ge)||ne.set(Oe,Ge,Ec)}),ne[al](Oe,EX)},!0),e[H_](),te&&st(te)},O.evtNamespace=function(){return g},O.flush=lt,O.getTraceCtx=function(N){return x||(x=XSe()),x},O.setTraceCtx=function(N){x=N||null},O.addUnloadHook=Me,kd(O,"addUnloadCb",function(){return v},"add"),O.onCfgChange=function(N){var G;return r?G=Fa(e.cfg,N,O[Vr]):G=tit(T,N),{rm:function(){G.rm()}}},O.getWParam=function(){return gc()||e.cfg.enableWParam?0:-1};function P(){var N={};U=[];var G=function(te){te&&K(te,function(ie){if(ie[Ff]&&ie[V_]&&!N[ie.identifier]){var ne=ie[Ff]+"="+ie[V_];U[$t](ne),N[ie.identifier]=ie}})};G(p),f&&K(f,function(te){G(te)}),G(l)}function M(){r=!1,e=oi({},EX,O[Vr]),e.cfg[JO]=1,Ke(O,"config",{g:function(){return e.cfg},s:function(G){O.updateCfg(G,!1)}}),Ke(O,"pluginVersionStringArr",{g:function(){return U||P(),U}}),Ke(O,"pluginVersionString",{g:function(){return z||(U||P(),z=U.join(";")),z||vt}}),Ke(O,"logger",{g:function(){return n||(n=new Dg(e.cfg),e[Vr]=n),n},s:function(G){e[Vr]=G,n!==G&&(zE(n,!1),n=G)}}),O[Vr]=new Dg(e.cfg),k=[];var N=O.config[$_]||[];N.splice(0,N[at]),Kn(N,k),d=new eCe,i=[],zE(o,!1),o=null,s=null,a=null,zE(u,!1),u=null,c=null,l=[],f=null,p=null,m=!1,h=null,g=Tc("AIBaseCore",!0),v=iy(),x=null,b=null,_=R5(),T=[],z=null,U=null,Q=!1}function L(){var N=Sc(ae(),e.cfg,O);return N[mw](w),N}function W(N){var G=eit(O[Vr],RSe,l);c=null,z=null,U=null,p=(f||[])[0]||[],p=I5(Kn(p,G[Ig]));var te=Kn(I5(G[Xn]),p);k=qi(te);var ie=O.config[$_]||[];ie.splice(0,ie[at]),Kn(ie,k);var ne=L();p&&p[at]>0&&hX(ne[Uf](p),te),hX(ne,te),N&&st(N)}function H(N){var G=null,te=null,ie=[];return K(k,function(ne){if(ne[Ff]===N&&ne!==d)return te=ne,-1;ne.getChannel&&ie[$t](ne)}),!te&&ie[at]>0&&K(ie,function(ne){if(te=ne.getChannel(N),!te)return-1}),te&&(G={plugin:te,setEnabled:function(ne){Gd(te)[xw]=!ne},isEnabled:function(){var ne=Gd(te);return!ne[bc]&&!ne[xw]},remove:function(ne,Oe){var Ge;ne===void 0&&(ne=!0);var mt=[te],Lt=(Ge={reason:1},Ge[cl]=ne,Ge);Pe(mt,Lt,function(Gr){Gr&&W({reason:32,removed:mt}),Oe&&Oe(Gr)})}}),G}function ae(){if(!c){var N=(k||[]).slice();Xe(N,d)===-1&&N[$t](d),c=Lg(I5(N),e.cfg,O)}return c}function Pe(N,G,te){if(N&&N[at]>0){var ie=Lg(N,e.cfg,O),ne=QE(ie,O);ne[mw](function(){var Oe=!1,Ge=[];K(l,function(Lt,Gr){nCe(Lt,N)?Oe=!0:Ge[$t](Lt)}),l=Ge,z=null,U=null;var mt=[];f&&(K(f,function(Lt,Gr){var ui=[];K(Lt,function(la){nCe(la,N)?Oe=!0:ui[$t](la)}),mt[$t](ui)}),f=mt),te&&te(Oe),w()}),ne[co](G)}else te(!1)}function Ve(){if(n&&n.queue){var N=n.queue.slice(0);n.queue[at]=0,K(N,function(G){var te,ie=(te={},te[Ds]=h||"InternalMessageId: "+G[SE],te.iKey=b,te[xg]=X_(new Date),te.baseType=Z_.dataType,te.baseData={message:G[Tg]},te);O.track(ie)})}}function lt(N,G,te,ie){var ne=1,Oe=!1,Ge=null;ie=ie||5e3;function mt(){ne--,Oe&&ne===0&&(Ge&&Ge[G_](),Ge=null,G&&G(Oe),G=null)}if(p&&p[at]>0){var Lt=L()[Uf](p);Lt.iterate(function(Gr){if(Gr.flush){ne++;var ui=!1;Gr.flush(N,function(){ui=!0,mt()},te)||ui||(N&&Ge==null?Ge=In(function(){Ge=null,mt()},ie):mt())}})}return Oe=!0,mt(),!0}function it(){!o&&O[xE](),Me(e[pu](function(N){var G=N.cfg.disableDbgExt;G===!0&&y&&(o[TE](y),y=null),o&&!y&&G!==!0&&(y=kSe(N.cfg),o[EE](y))}))}function De(){Me(e[pu](function(N){var G=N.cfg.enablePerfMgr;!G&&a&&(a=null),G&&Ew(N.cfg,o5,Znt)}))}function st(N){var G=Vw(ae(),O);G[mw](w),(!O._updateHook||O._updateHook(G,N)!==!0)&&G[co](N)}function Tt(N){var G=O[Vr];G?(dn(G,2,73,N),w()):Qt(N)}function he(N){var G=O[xE]();G&&G[wg]([N],2)}function Me(N){_.add(N)}})}return t.__ieDyn=1,t}()});function fCe(t){return t&&t[Pd]?t[Pd](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,vt):t}function D5(t,e){var r;if(e){var n=vt;ce(e)?(n=vt,K(e,function(o){o=fCe(o),o&&(o[0]!=="."&&(o="."+o),n+=o)})):n=fCe(e),n&&(n[0]!=="."&&(n="."+n),t=(t||vt)+n)}var i=sit.exec(t||vt)||[];return r={},r[Oa]=i[1],r.ns=(i[2]||vt).replace(nit,".").replace(iit,vt)[Bf](".").sort().join("."),r}function SX(t,e,r){var n=[],i=$w.get(t,P5,{},!1),o=D5(e,r);return de(i,function(s,a){K(a,function(u){var c;(!o[Oa]||o[Oa]===u.evtName[Oa])&&(!o.ns||o.ns===o.ns)&&n[$t]((c={},c[Ds]=u.evtName[Oa]+(u.evtName.ns?"."+u.evtName.ns:vt),c.handler=u[gw],c))})}),n}function yCe(t,e,r){r===void 0&&(r=!0);var n=$w.get(t,P5,{},r),i=n[e];return i||(i=n[e]=[]),i}function bCe(t,e,r,n){t&&e&&e[Oa]&&(t[lCe]?t[lCe](e[Oa],r,n):t[uCe]&&t[uCe](dCe+e[Oa],r))}function ait(t,e,r,n){var i=!1;return t&&e&&e[Oa]&&r&&(t[cCe]?(t[cCe](e[Oa],r,n),i=!0):t[aCe]&&(t[aCe](dCe+e[Oa],r),i=!0)),i}function pCe(t,e,r,n){for(var i=e[at];i--;){var o=e[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(bCe(t,o.evtName,o[gw],o.capture),e[Mf](i,1))}}function cit(t,e,r){if(e[Oa])pCe(t,yCe(t,e[Oa]),e,r);else{var n=$w.get(t,P5,{});de(n,function(i,o){pCe(t,o,e,r)}),cn(n)[at]===0&&$w.kill(t,P5)}}function jd(t,e){var r;return e?(ce(e)?r=[t].concat(e):r=[t,e],r=D5("xx",r).ns[Bf](".")):r=t,r}function sy(t,e,r,n,i){var o;i===void 0&&(i=!1);var s=!1;if(t)try{var a=D5(e,n);if(s=ait(t,a,r,i),s&&$w.accept(t)){var u=(o={guid:oit++,evtName:a},o[gw]=r,o.capture=i,o);yCe(t,a.type)[$t](u)}}catch{}return s}function ay(t,e,r,n,i){if(i===void 0&&(i=!1),t)try{var o=D5(e,n),s=!1;cit(t,o,function(a){return o.ns&&!r||a[gw]===r?(s=!0,!0):!1}),s||bCe(t,o,r,i)}catch{}}function CX(t,e,r,n){return n===void 0&&(n=!1),sy(t,e,r,null,n)}function IX(t,e,r,n){n===void 0&&(n=!1),ay(t,e,r,null,n)}function k5(t,e,r){var n=!1,i=pn();i&&(n=sy(i,t,e,r),n=sy(i.body,t,e,r)||n);var o=pr();return o&&(n=sy(o,t,e,r)||n),n}function L5(t,e,r){var n=pn();n&&(ay(n,t,e,r),ay(n.body,t,e,r));var i=pr();i&&ay(i,t,e,r)}function JE(t,e,r,n){var i=!1;return e&&t&&t[at]>0&&K(t,function(o){o&&(!r||Xe(r,o)===-1)&&(i=k5(o,e,n)||i)}),i}function O5(t,e,r,n){var i=!1;return e&&t&&ce(t)&&(i=JE(t,e,r,n),!i&&r&&r[at]>0&&(i=JE(t,e,null,n))),i}function Fg(t,e,r){t&&ce(t)&&K(t,function(n){n&&L5(n,e,r)})}function Ww(t,e,r){return O5([gCe,hCe,N5],t,e,r)}function Kw(t,e){Fg([gCe,hCe,N5],t,e)}function ZE(t,e,r){function n(s){var a=pr();t&&a&&a.visibilityState==="hidden"&&t(s)}var i=jd(vCe,r),o=JE([N5],t,e,i);return(!e||Xe(e,Yw)===-1)&&(o=JE([Yw],n,e,i)||o),!o&&e&&(o=ZE(t,null,r)),o}function Xw(t,e){var r=jd(vCe,e);Fg([N5],t,r),Fg([Yw],null,r)}function eT(t,e,r){function n(s){var a=pr();t&&a&&a.visibilityState==="visible"&&t(s)}var i=jd(_Ce,r),o=JE([mCe],t,e,i);return o=JE([Yw],n,e,i)||o,!o&&e&&(o=eT(t,null,r)),o}function Qw(t,e){var r=jd(_Ce,e);Fg([mCe],t,r),Fg([Yw],null,r)}var dCe,aCe,cCe,uCe,lCe,P5,Yw,N5,mCe,hCe,gCe,vCe,_Ce,nit,iit,oit,$w,sit,xCe=E(()=>{ve();wn();jE();Gi();dCe="on",aCe="attachEvent",cCe="addEventListener",uCe="detachEvent",lCe="removeEventListener",P5="events",Yw="visibilitychange",N5="pagehide",mCe="pageshow",hCe="unload",gCe="beforeunload",vCe=Tc("aiEvtPageHide"),_Ce=Tc("aiEvtPageShow"),nit=/\.[\.]+/g,iit=/[\.]+$/,oit=1,$w=u5("events"),sit=/^([^.]*)(?:\.(.+)|)/});var wX,ECe=E(()=>{KO();wX=yc({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3})});var tT=E(()=>{VTe();zTe();sCe();xX();c5();aX();Md();ve();KO();xCe();GE();bi();nX();E5();Bd();w5();ECe();rX();jE();A5();mX();Ng();d5()});var Vf,TCe,AX,M5,F5=E(()=>{Vf="",TCe="https://browser.events.data.microsoft.com/OneCollector/1.0/",AX="version",M5="properties"});var RX,PX,rT,zf,NX,kn,cy,Vd,U5,B5,q5,H5,Jw,G5=E(()=>{RX="initialize",PX="logger",rT="indexOf",zf="timings",NX="pollInternalLogs",kn="value",cy="kind",Vd="length",U5="processTelemetryStart",B5="handleField",q5="rmSanitizer",H5="rmFieldSanitizer",Jw="canHandle"});function Io(t){return!(t===Vf||oe(t))}function j5(t){if(t){var e=Qr(t,"-");if(e>-1)return dc(t,e)}return Vf}function ACe(){return DX===null&&(DX=!Re(Uint8Array)&&!dit()&&!Ag()),DX}function V5(t){return!!(t&&yi(t)&&t>=1&&t<=4)}function z5(t,e,r){if(!e&&!Io(e)||typeof t!="string")return null;var n=typeof e;if(n==="string"||n==="number"||n==="boolean"||ce(e))e={value:e};else if(n==="object"&&!CCe.call(e,"value"))e={value:r?JSON.stringify(e):e};else if(oe(e[kn])||e[kn]===Vf||!We(e[kn])&&!yi(e[kn])&&!rs(e[kn])&&!ce(e[kn]))return null;if(ce(e[kn])&&!LX(e[kn]))return null;if(!oe(e[cy])){if(ce(e[kn])||!Zw(e[cy]))return null;e[kn]=e[kn].toString()}return e}function Y5(t,e,r){var n=-1;if(!Re(t))if(e>0&&(e===32?n=8192:e<=13&&(n=e<<5)),pit(r))n===-1&&(n=0),n|=r;else{var i=fit[Yf(t)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function RCe(t,e,r){r===void 0&&(r=!0);var n;return t&&(n=t.get(e),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||Vf}function PCe(t){t===void 0&&(t="D");var e=Gw();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,Vf)),e}function uy(t,e,r,n,i){var o={},s=!1,a=0,u=arguments[Vd],c=arguments;for(rs(c[0])&&(s=c[0],a++);a<u;a++){var t=c[a];de(t,function(f,p){s&&p&&Bt(p)?ce(p)?(o[f]=o[f]||[],K(p,function(m,d){m&&Bt(m)?o[f][d]=uy(!0,o[f][d],m):o[f][d]=m})):o[f]=uy(!0,o[f],p):o[f]=p})}return o}function Zw(t){return t===0||t>0&&t<=13||t===32}function pit(t){return t>=0&&t<=9}function dit(){var t=dr();if(!Re(t)&&t.userAgent){var e=t.userAgent.toLowerCase();if((e[rT]("safari")>=0||e[rT]("firefox")>=0)&&e[rT]("chrome")<0)return!0}return!1}function LX(t){return t[Vd]>0}function eA(t,e){var r=t;r[zf]=r[zf]||{},r[zf][U5]=r[zf][U5]||{},r[zf][U5][e]=Ua()}function Yf(t){var e=0;if(t!=null){var r=typeof t;r==="string"?e=1:r==="number"?e=2:r==="boolean"?e=3:r===ts&&(e=4,ce(t)?(e=4096,t[Vd]>0&&(e|=Yf(t[0]))):CCe.call(t,"value")&&(e=8192|Yf(t[kn])))}return e}function $5(){return!!tt("chrome")}function W5(t,e,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function s(u,c,l){try{u[c]=l}catch{}}var a=new XMLHttpRequest;return n&&s(a,uit,n),r&&s(a,SCe,r),a.open(t,e,!i),r&&s(a,SCe,r),!i&&o&&s(a,lit,o),a}function Ug(t){return t>0}var zd,kX,nT,CCe,uit,SCe,lit,fit,DX,ICe,wCe,Ua,K5=E(()=>{tT();bi();ve();F5();G5();kX="4.0.4",nT="1DS-Web-JS-"+kX,CCe=J2.hasOwnProperty,uit="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",SCe="withCredentials",lit="timeout",fit=(zd={},zd[0]=0,zd[2]=6,zd[1]=1,zd[3]=7,zd[4098]=6,zd[4097]=1,zd[4099]=7,zd),DX=null,ICe=gc(),wCe=ol();Ua=Ad});function hit(t){return t&&(!t.getProperty||!t.setProperty)&&Qt("Invalid property storage override passed."),!0}var mit,NCe,DCe=E(()=>{bi();Jr();tT();ve();F5();K5();G5();mit=Wn({endpointUrl:TCe,propertyStorageOverride:{isVal:hit}});NCe=function(t){Ns(e,t);function e(){var r=t.call(this)||this;return nt(e,r,function(n,i){n[RX]=function(o,s,a,u){si(n,function(){return"AppInsightsCore.initialize"},function(){try{i[RX](oi(o,mit,a||n[PX],!1).cfg,s,a,u)}catch(f){var c=n[PX],l=le(f);l[rT]("channels")!==-1&&(l+=`
 - Channels must be provided through config.channels only!`),dn(c,1,514,"SDK Initialization Failed - no telemetry will be sent: "+l)}},function(){return{config:o,extensions:s,logger:a,notificationManager:u}})},n.track=function(o){si(n,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s[zf]=s[zf]||{},s[zf].trackStart=Ua(),V5(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=nT;var u=s.baseData=s.baseData||{};u[M5]=u[M5]||{};var c=u[M5];c[AX]=c[AX]||n.pluginVersionString||Vf}i.track(s)},function(){return{item:o}},!o.sync)},n[NX]=function(o){return i[NX](o||"InternalLog")}}),r}return e.__ieDyn=1,e}(zw)});var kCe,LCe,OCe,MCe,FCe,UCe=E(()=>{tT();kCe=yc({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),LCe=yc({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),OCe=yc({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),MCe=yc({Normal:1,Critical:2}),FCe=yc({NONE:0,ERROR:1,WARNING:2,INFORMATION:3})});var BCe,qCe=E(()=>{tT();ve();F5();K5();G5();BCe=function(){function t(e){var r=this,n={},i=[],o=[];e&&o.push(e);function s(l,f){var p,m=n[l];if(m&&(p=m[f]),!p&&p!==null){if(We(l)&&We(f))if(o[Vd]>0){for(var d=0;d<o[Vd];d++)if(o[d][B5](l,f)){p={canHandle:!0,fieldHandler:o[d]};break}}else i[Vd]===0&&(p={canHandle:!0});if(!p&&p!==null){p=null;for(var d=0;d<i[Vd];d++)if(i[d][B5](l,f)){p={canHandle:!0,handler:i[d],fieldHandler:null};break}}m||(m=n[l]={}),m[f]=p}return p}r.clearCache=function(){n={}},r.addSanitizer=function(l){l&&(UO(i,l)||i.push(l),n={})},r.addFieldSanitizer=function(l){l&&(UO(o,l)||o.push(l),n={})},r[q5]=function(l){if(l){var f=Xe(i,l);f!==-1&&(i.splice(f,1),n={}),K(i,function(p){p&&p[q5]&&p[q5](l)})}},r[H5]=function(l){if(l){var f=Xe(o,l);f!==-1&&(o.splice(f,1),n={}),K(i,function(p){p&&p[H5]&&p[H5](l)})}},r.isEmpty=function(){return gg(i)+gg(o)===0},r[B5]=function(l,f){var p=s(l,f);return p?p[Jw]:!1},r[kn]=function(l,f,p,m){var d=s(l,f);if(d&&d[Jw]){if(!d||!d[Jw])return null;if(d.handler)return d.handler[kn](l,f,p,m);if(!We(f)||oe(p)||p===Vf)return null;var h=null,g=Yf(p);if((g&8192)===8192){var v=g&-8193;if(h=p,!Io(h[kn])||v!==1&&v!==2&&v!==3&&(v&4096)!==4096)return null}else g===1||g===2||g===3||(g&4096)===4096?h=u(l,f,p):g===4&&(h=u(l,f,m?JSON.stringify(p):p));if(h)return a(d,l,f,g,h,m)}return null},r.property=function(l,f,p,m){var d=s(l,f);if(!d||!d[Jw]||!We(f)||oe(p)||!Io(p[kn]))return null;var h=Yf(p[kn]);return h===0?null:a(d,l,f,h,p,m)};function a(l,f,p,m,d,h){if(l.handler)return l.handler.property(f,p,d,h);if(!oe(d[cy])){if((m&4096)===4096||!Zw(d[cy]))return null;d[kn]=d[kn].toString()}return c(l.fieldHandler,f,p,m,d)}function u(l,f,p){return Io(p)?{value:p}:null}function c(l,f,p,m,d){if(d&&l){var h=l.getSanitizer(f,p,m,d[cy],d.propertyType);if(h)if(m===4){var g={},v=d[kn];de(v,function(y,x){var b=f+"."+p;if(Io(x)){var T=u(b,y,x);T=c(l,b,y,Yf(x),T),T&&(g[y]=T[kn])}}),d[kn]=g}else{var _={path:f,name:p,type:m,prop:d,sanitizer:r};d=h.call(r,_)}}return d}}return t.getFieldType=Yf,t}()});var HCe={};Jn(HCe,{AppInsightsCore:()=>NCe,BaseTelemetryPlugin:()=>oy,DiagnosticLogger:()=>Dg,EventLatency:()=>LCe,EventPersistence:()=>MCe,EventPropertyType:()=>OCe,EventsDiscardedReason:()=>sl,FullVersionString:()=>nT,InternalAppInsightsCore:()=>zw,LoggingSeverity:()=>wX,MinChannelPriorty:()=>pK,NotificationManager:()=>Bw,PerfEvent:()=>ry,PerfManager:()=>Hw,ProcessTelemetryContext:()=>_X,TraceLevel:()=>FCe,Undefined:()=>Co,ValueKind:()=>kCe,ValueSanitizer:()=>BCe,Version:()=>kX,_InternalLogMessage:()=>Z_,__getRegisteredEvents:()=>SX,_logInternalMessage:()=>WK,_throwInternal:()=>dn,_warnToConsole:()=>Ud,addEventHandler:()=>k5,addEventListeners:()=>O5,addPageHideEventListener:()=>ZE,addPageShowEventListener:()=>eT,addPageUnloadEventListener:()=>Ww,areCookiesSupported:()=>$E,arrForEach:()=>K,arrIndexOf:()=>Xe,arrMap:()=>vc,arrReduce:()=>Id,attachEvent:()=>CX,blockDynamicConversion:()=>kw,cookieAvailable:()=>$E,createCookieMgr:()=>qd,createDynamicConfig:()=>oi,createEnumStyle:()=>yc,createGuid:()=>PCe,createProcessTelemetryContext:()=>Sc,createTraceParent:()=>lX,createUniqueNamespace:()=>Tc,createUnloadHandlerContainer:()=>iy,dateNow:()=>qt,detachEvent:()=>IX,disallowsSameSiteNone:()=>x5,doPerf:()=>si,dumpObj:()=>le,eventOff:()=>ay,eventOn:()=>sy,extend:()=>uy,findW3cTraceParent:()=>dX,forceDynamicConversion:()=>HK,formatTraceParent:()=>pX,generateW3CId:()=>ny,getCommonSchemaMetaData:()=>Y5,getConsole:()=>Tw,getCookieValue:()=>RCe,getCrypto:()=>Cw,getDocument:()=>pr,getDynamicConfigHandler:()=>Dw,getExceptionName:()=>Q_,getFieldValueType:()=>Yf,getGlobal:()=>Hi,getGlobalInst:()=>tt,getHistory:()=>hg,getIEVersion:()=>LK,getISOString:()=>X_,getJSON:()=>Sw,getLocation:()=>J_,getMsCrypto:()=>Iw,getNavigator:()=>dr,getPerformance:()=>Ps,getSetValue:()=>Ew,getTenantId:()=>j5,getTime:()=>Ua,getWindow:()=>pn,hasDocument:()=>gc,hasHistory:()=>L_,hasJSON:()=>UE,hasNavigator:()=>Na,hasOwnProperty:()=>Dn,hasWindow:()=>ol,isArray:()=>ce,isArrayValid:()=>LX,isBeaconsSupported:()=>BE,isBoolean:()=>rs,isChromium:()=>$5,isDate:()=>Td,isDocumentObjectAvailable:()=>ICe,isError:()=>so,isFetchSupported:()=>qE,isFunction:()=>we,isGreaterThanZero:()=>Ug,isIE:()=>Rg,isLatency:()=>V5,isNotTruthy:()=>N_,isNullOrUndefined:()=>oe,isNumber:()=>yi,isObject:()=>Bt,isReactNative:()=>Ag,isSampledFlag:()=>fX,isString:()=>We,isTruthy:()=>ns,isTypeof:()=>P_,isUint8ArrayAvailable:()=>ACe,isUndefined:()=>Re,isValidSpanId:()=>XE,isValidTraceId:()=>KE,isValidTraceParent:()=>C5,isValueAssigned:()=>Io,isValueKind:()=>Zw,isWindowObjectAvailable:()=>wCe,isXhrSupported:()=>HE,mergeEvtNamespace:()=>jd,newGuid:()=>Gw,newId:()=>Pw,normalizeJsName:()=>K_,objDefineAccessors:()=>k_,objForEachKey:()=>de,objFreeze:()=>qi,objKeys:()=>cn,objSeal:()=>D_,onConfigChange:()=>Fa,openXhr:()=>W5,optimizeObject:()=>Od,parseTraceParent:()=>jw,perfNow:()=>Ad,proxyAssign:()=>wK,proxyFunctionAs:()=>kd,proxyFunctions:()=>Ld,random32:()=>Fd,randomValue:()=>FK,removeEventHandler:()=>L5,removeEventListeners:()=>Fg,removePageHideEventListener:()=>Xw,removePageShowEventListener:()=>Qw,removePageUnloadEventListener:()=>Kw,safeGetCookieMgr:()=>tX,safeGetLogger:()=>ey,sanitizeProperty:()=>z5,setEnableEnvMocks:()=>kK,setProcessTelemetryTimings:()=>eA,setValue:()=>Hf,strContains:()=>Ei,strEndsWith:()=>_c,strFunction:()=>A_,strObject:()=>ts,strPrototype:()=>Is,strStartsWith:()=>Of,strTrim:()=>St,strUndefined:()=>Co,throwError:()=>Qt,toISOString:()=>X_,useXDomainRequest:()=>ww});var ly=E(()=>{DCe();UCe();qCe();tT();K5()});var fy,X5,Q5,OX=E(()=>{fy="REAL_TIME",X5="NEAR_REAL_TIME",Q5="BEST_EFFORT"});var ll,J5,GCe,Z5,jCe,MX,VCe,zCe,YCe,FX,UX,e6,$Ce,BX,WCe,qX,t6,HX,r6,n6,i6,tA,GX,KCe,iT,jX,o6,rA=E(()=>{ll="",J5="POST",GCe="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Z5="drop",jCe="send",MX="requeue",VCe="rspFail",zCe="oth",YCe="no-cache, no-store",FX="application/x-json-stream",UX="cache-control",e6="content-type",$Ce="kill-tokens",BX="kill-duration",WCe="kill-duration-seconds",qX="time-delta-millis",t6="client-version",HX="client-id",r6="time-delta-to-apply-millis",n6="upload-time",i6="apikey",tA="AuthMsaDeviceTicket",GX="AuthXToken",KCe="NoResponseBody",iT="msfpc",jX="trace",o6="user"});var nA,s6,a6,c6,iA,kt,mu,hu,Ti,$f,wo,fl,py,oT,sT,u6,aT,l6,f6,XCe,VX,zX,QCe,JCe,p6,d6,YX,$X,WX,ZCe,cT,Bg,KX,pl,oA,Wf,XX,QX,uT,ks,Ba,sA,lT,m6,aA,eIe,h6,g6,fT,JX,cA,v6,_6,y6,b6,x6,uA,tIe,rIe,ZX,eQ,nIe,iIe,oIe,lA,qg,E6,dy,pT=E(()=>{nA="allowRequestSending",s6="firstRequestSent",a6="shouldAddClockSkewHeaders",c6="getClockSkewHeaderValue",iA="setClockSkew",kt="length",mu="concat",hu="iKey",Ti="count",$f="events",wo="push",fl="split",py="splice",oT="toLowerCase",sT="hdrs",u6="useHdrs",aT="initialize",l6="setTimeoutOverride",f6="clearTimeoutOverride",XCe="payloadPreprocessor",VX="overrideEndpointUrl",zX="avoidOptions",QCe="disableEventTimings",JCe="stringifyObjects",p6="enableCompoundKey",d6="disableXhrSync",YX="disableFetchKeepAlive",$X="useSendBeacon",WX="alwaysUseXhrOverride",ZCe="unloadTransports",cT="urlString",Bg="timeout",KX="ontimeout",pl="data",oA="_sendReason",Wf="headers",XX="getResponseHeader",QX="getAllResponseHeaders",uT="_thePayload",ks="batches",Ba="sendType",sA="canSendRequest",lT="sendQueuedRequests",m6="isCompletelyIdle",aA="setUnloading",eIe="isTenantKilled",h6="sendSynchronousBatch",g6="_transport",fT="getWParam",JX="isBeacon",cA="timings",v6="isTeardown",_6="isSync",y6="sendPOST",b6="setKillSwitchTenants",x6="_backOffTransmission",uA="identifier",tIe="disableOptimizeObj",rIe="ignoreMc1Ms0CookieProcessing",ZX="eventsLimitInMem",eQ="autoFlushEventsLimit",nIe="disableAutoBatchFlushLimit",iIe="overrideInstrumentationKey",oIe="disableTelemetry",lA="sendAttempt",qg="latency",E6="baseData",dy="sync"});function aIe(t){var e=(t.ext||{}).intweb;return e&&Io(e[iT])?e[iT]:null}function sIe(t){for(var e=null,r=0;e===null&&r<t[kt];r++)e=aIe(t[r]);return e}var dT,tQ=E(()=>{ly();rA();pT();dT=function(){function t(e,r){var n=r?[][mu](r):[],i=this,o=sIe(n);i[hu]=function(){return e},i.Msfpc=function(){return o||ll},i[Ti]=function(){return n[kt]},i[$f]=function(){return n},i.addEvent=function(s){return s?(n[wo](s),o||(o=aIe(s)),!0):!1},i[fl]=function(s,a){var u;if(s<n[kt]){var c=n[kt]-s;oe(a)||(c=a<c?a:c),u=n[py](s,c),o=sIe(n)}return new t(e,u)}}return t.create=function(e,r){return new t(e,r)},t}()});var rQ,cIe=E(()=>{Jr();pT();rQ=function(){function t(){var e=!0,r=!0,n=!0,i="use-collector-delta",o=!1;nt(t,this,function(s){s[nA]=function(){return e},s[s6]=function(){n&&(n=!1,o||(e=!1))},s[a6]=function(){return r},s[c6]=function(){return i},s[iA]=function(a){o||(a?(i=a,r=!0,o=!0):r=!1,e=!0)}})}return t.__ieDyn=1,t}()});var git,nQ,uIe=E(()=>{Jr();ly();pT();git=1e3,nQ=function(){function t(){var e={};function r(n){var i=[];return n&&K(n,function(o){i[wo](St(o))}),i}nt(t,this,function(n){n[b6]=function(i,o){if(i&&o)try{var s=r(i[fl](","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*git,u=0;u<s[kt];++u)e[s[u]]=qt()+a}catch{return[]}return[]},n[eIe]=function(i){var o=e,s=St(i);return o[s]!==void 0&&o[s]>qt()?!0:(delete o[s],!1)}})}return t.__ieDyn=1,t}()});function fIe(t){return!(t>=300&&t<500&&t!=408&&t!=429||t==501||t==505)}function T6(t){var e=0,r=lIe*vit,n=lIe*_it,i=Math.floor(Math.random()*(n-r))+r;return e=Math.pow(2,t)*i,Math.min(e,yit)}var vit,_it,lIe,yit,iQ=E(()=>{vit=.8,_it=1.2,lIe=3e3,yit=6e5});function dIe(t,e,r,n){if(n&&t){var i=Y5(n.value,n.kind,n.propertyType);if(i>-1){var o=t[pIe];o||(o=t[pIe]={f:{}});var s=o[S6];if(s||(s=o[S6]={}),e)for(var a=0;a<e.length;a++){var u=e[a];s[u]||(s[u]={f:{}});var c=s[u][S6];c||(c=s[u][S6]={}),s=c}s=s[r]={},ce(n.value)?s.a={t:i}:s.t=i}}}var bit,xit,mIe,hIe,Eit,pIe,S6,Tit,gIe,vIe=E(()=>{Jr();ly();tQ();rA();ve();bit=20,xit=3984588,mIe=65e3,hIe=2e6,Eit=Math.min(hIe,mIe),pIe="metadata",S6="f",Tit=/\./,gIe=function(){function t(e,r,n,i){var o="data",s="baseData",a="ext",u=!!i,c=!0,l=r,f={};nt(t,this,function(p){p.createPayload=function(h,g,v,_,y,x){return{apiKeys:[],payloadBlob:ll,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:g,isSync:v,isBeacon:_,sendType:x,sendReason:y}},p.appendPayload=function(h,g,v){var _=h&&g&&!h.overflow;return _&&si(e,function(){return"Serializer:appendPayload"},function(){for(var y=g.events(),x=h.payloadBlob,b=h.numEvents,T=!1,k=[],U=[],z=h.isBeacon,D=z?mIe:xit,fe=z?Eit:hIe,Q=0,O=0;Q<y.length;){var w=y[Q];if(w){if(b>=v){h.overflow=g.split(Q);break}var P=p.getEventBlob(w);if(P&&P.length<=fe){var M=P.length,L=x.length;if(L+M>D){h.overflow=g.split(Q);break}x&&(x+=`
`),x+=P,O++,O>bit&&(is(x,0,1),O=0),T=!0,b++}else P?k.push(w):U.push(w),y.splice(Q,1),Q--}Q++}if(k.length>0&&h.sizeExceed.push(dT.create(g.iKey(),k)),U.length>0&&h.failedEvts.push(dT.create(g.iKey(),U)),T){h.batches.push(g),h.payloadBlob=x,h.numEvents=b;var W=g.iKey();Xe(h.apiKeys,W)===-1&&h.apiKeys.push(W)}},function(){return{payload:h,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),_},p.getEventBlob=function(h){try{return si(e,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=h.name,g.time=h.time,g.ver=h.ver,g.iKey="o:"+j5(h.iKey);var v={},_=h[a];_&&(g[a]=v,de(_,function(b,T){var k=v[b]={};d(T,k,"ext."+b,!0,null,null,!0)}));var y=g[o]={};y.baseType=h.baseType;var x=y[s]={};return d(h.baseData,x,s,!1,[s],function(b,T,k){dIe(v,b,T,k)},c),d(h.data,y,o,!1,[],function(b,T,k){dIe(v,b,T,k)},c),JSON.stringify(g)},function(){return{item:h}})}catch{return null}};function m(h,g){var v=f[h];return v===void 0&&(h.length>=7&&(v=Of(h,"ext.metadata")||Of(h,"ext.web")),f[h]=v),v}function d(h,g,v,_,y,x,b){de(h,function(T,k){var U=null;if(k||Io(k)){var z=v,D=T,fe=y,Q=g;if(u&&!_&&Tit.test(T)){var O=T.split("."),w=O.length;if(w>1){fe&&(fe=fe.slice());for(var P=0;P<w-1;P++){var M=O[P];Q=Q[M]=Q[M]||{},z+="."+M,fe&&fe.push(M)}D=O[w-1]}}var L=_&&m(z,D);if(!L&&l&&l.handleField(z,D)?U=l.value(z,D,k,n):U=z5(D,k,n),U){var W=U.value;if(Q[D]=W,x&&x(fe,D,U),b&&typeof W=="object"&&!ce(W)){var H=fe;H&&(H=H.slice(),H.push(D)),d(k,W,z+"."+D,_,H,x,b)}}}})}})}return t.__ieDyn=1,t}()});function mT(t,e){return{set:function(r,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return eK([t,e],r,n,i)}}}var oQ=E(()=>{ve()});function hy(t,e,r){aQ[t]=e,r!==!1&&(cQ[e]=t)}function yIe(t){try{return t.responseText}catch{}return ll}function bIe(t,e){var r=!1;if(t&&e){var n=cn(t);if(n&&n[kt]>0)for(var i=e[oT](),o=0;o<n[kt];o++){var s=n[o];if(s&&Dn(e,s)&&s[oT]()===i){r=!0;break}}}return r}function hT(t,e,r,n){e&&r&&r[kt]>0&&(n&&aQ[e]?(t[sT][aQ[e]]=r,t[u6]=!0):t.url+="&"+e+"="+r)}function xIe(t,e){return e&&(yi(e)?t=[e][mu](t):ce(e)&&(t=e[mu](t))),t}function Iit(t,e,r){for(var n=0;n<t[kt];n++)if(t[n].name===e){t[n].value=r;return}t[wo]({name:e,value:r})}function wit(t,e){for(var r=0;r<t[kt];r++)if(t[r].name===e){t[py](r,1);return}}var my,sQ,_Ie,Sit,Cit,aQ,cQ,EIe,TIe=E(()=>{Jr();ly();ve();cIe();rA();uIe();iQ();vIe();oQ();pT();sQ="sendAttempt",_Ie="&"+KCe+"=true",Sit="?cors=true&"+e6[oT]()+"="+FX,Cit=(my={},my[1]=MX,my[100]=MX,my[200]="sent",my[8004]=Z5,my[8003]=Z5,my),aQ={},cQ={};hy(tA,tA,!1);hy(t6,t6);hy(HX,"Client-Id");hy(i6,i6);hy(r6,r6);hy(n6,n6);hy(GX,GX);EIe=function(){function t(e,r,n,i){var o,s=new nQ,a=!1,u=new rQ,c=!1,l=0,f,p,m,d,h=!0,g=[],v={},_=[],y=null,x=!1,b,T=!1,k=!1,U,z,D,fe,Q,O=[],w,P,M=[],L,W;nt(t,this,function(H){lt();var ae=!0;H[aT]=function(Y,Ee,F){L||(d=Ee,b=Ee.getCookieMgr(),f=F,p=f.diagLog(),Kn(O,Fa(Y,function($){var se,_e=$.cfg,ue=$.cfg.extensionConfig[F.identifier];W=mT(ue[l6],ue[f6]),Io(_e.anonCookieName)?Iit(g,"anoncknm",_e.anonCookieName):wit(g,"anoncknm"),w=ue[XCe],P=ue.payloadListener;var B=ue.httpXHROverride,X=ue[VX]?ue[VX]:_e.endpointUrl;o=X+Sit,k=Re(ue[zX])?!0:!ue[zX],x=!ue[QCe];var J=ue.valueSanitizer,ye=ue[JCe],pe=!!_e[p6];Re(ue[p6])||(pe=!!ue[p6]),U=ue.xhrTimeout,z=!!ue[d6],D=!!ue[YX],Q=ue.addNoResponse!==!1,Ee.getPlugin("LocalStorage")&&(D=!0),c=!Ag(),y=new gIe(d,J,ye,pe),oe(ue[$X])||(c=!!ue[$X]);var Ye=B,ft=ue[WX]?B:null,gr=ue[WX]?B:null,lr=[3,2];if(!B){h=!1;var Ci=J_();Ci&&Ci.protocol&&Ci.protocol[oT]()==="file:"&&(ae=!1);var Ii=[];Ag()?(Ii=[2,1],lr=[2,1,3]):Ii=[1,2,3],Ii=xIe(Ii,ue.transports),B=Pe(Ii,!1),B||Ud(p,"No available transport to send events"),Ye=Pe(Ii,!0)}ft||(lr=xIe(lr,ue[ZCe]),ft=Pe(lr,!0)),fe=!h&&(c&&BE()||!D&&qE(!0)),m=(se={},se[0]=B,se[1]=Ye||Pe([1,2,3],!0),se[2]=ft||Ye||Pe([1],!0),se[3]=gr||Pe([2,3],!0)||Ye||Pe([1],!0),se)})),L=!0)},H.addResponseHandler=function(Y){return M[wo](Y),{rm:function(){var Ee=M.indexOf(Y);Ee>=0&&M[py](Ee,1)}}};function Pe(Y,Ee){for(var F=0,$=null,se=0;$==null&&se<Y[kt];)F=Y[se],F===1?ww()?$=Ve:HE()&&($=De):F===2&&qE(Ee)&&(!Ee||Ee&&!D)?$=it:c&&F===3&&BE()&&($=Tt),se++;return $?{_transport:F,_isSync:Ee,sendPOST:$}:null}H._getDbgPlgTargets=function(){return[m[0],s,y,m]};function Ve(Y,Ee,F){var $=new XDomainRequest;$.open(J5,Y[cT]),Y[Bg]&&($[Bg]=Y[Bg]),$.onload=function(){var se=yIe($);st(Ee,200,{},se),Im(se)},$.onerror=function(){st(Ee,400,{})},$[KX]=function(){st(Ee,500,{})},$.onprogress=function(){},F?$.send(Y[pl]):W.set(function(){$.send(Y[pl])},0)}function lt(){var Y;o=null,s=new nQ,a=!1,u=new rQ,c=!1,l=0,f=null,p=null,m=null,d=null,h=!0,g=[],v={},_=[],y=null,x=!1,b=null,T=!1,k=!1,U=Y,z=Y,D=Y,fe=Y,Q=Y,O=[],w=Y,P=Y,M=[],L=!1,W=mT()}function it(Y,Ee,F){var $,se=Y[cT],_e=!1,ue=!1,B=($={body:Y[pl],method:J5},$[GCe]=!0,$);F&&(B.keepalive=!0,Y[oA]===2&&(_e=!0,Q&&(se+=_Ie))),ae&&(B.credentials="include"),Y.headers&&cn(Y.headers)[kt]>0&&(B[Wf]=Y[Wf]);var X=function(ye,pe,Ye){ue||(ue=!0,st(Ee,ye,pe,Ye),Im(Ye))},J=function(){ue||(ue=!0,st(Ee,0,{}))};fetch(se,B).then(function(ye){var pe={},Ye=ll,ft=ye[Wf];ft&&ft.forEach(function(gr,lr){pe[lr]=gr}),ye.body?ye.text().then(function(gr){Ye=gr,X(ye.status,pe,Ye)},J):X(ye.status,pe,"")}).catch(J),_e&&!ue&&(ue=!0,st(Ee,200,{})),!ue&&Y[Bg]>0&&W.set(function(){ue||(ue=!0,st(Ee,500,{}))},Y[Bg])}function De(Y,Ee,F){var $=Y[cT];function se(X,J,ye){if(!X[ye]&&J&&J[XX]){var pe=J[XX](ye);pe&&(X[ye]=St(pe))}return X}function _e(X){var J={};return X[QX]?J=Z0(X[QX]()):(J=se(J,X,qX),J=se(J,X,BX),J=se(J,X,WCe)),J}function ue(X,J){st(Ee,X.status,_e(X),J)}F&&Y[d6]&&(F=!1);var B=W5(J5,$,ae,!0,F,Y[Bg]);de(Y[Wf],function(X,J){B.setRequestHeader(X,J)}),B.onload=function(){var X=yIe(B);ue(B,X),Im(X)},B.onerror=function(){ue(B)},B[KX]=function(){ue(B)},B.send(Y[pl])}function st(Y,Ee,F,$){try{Y(Ee,F,$)}catch(se){dn(p,2,518,le(se))}}function Tt(Y,Ee,F){var $=Y,se=200,_e=$[uT],ue=Y[cT]+(Q?_Ie:ll);try{var B=dr();if(!B.sendBeacon(ue,Y[pl]))if(_e){var X=!!d.getPlugin("LocalStorage"),J=[],ye=[];K(_e[ks],function(pe){if(J&&pe&&pe[Ti]()>0)for(var Ye=pe[$f](),ft=0;ft<Ye[kt];ft++)if(B.sendBeacon(ue,y.getEventBlob(Ye[ft])))ye[wo](pe[ft]);else{J[wo](pe[fl](ft));break}else J[wo](pe[fl](0))}),ye[kt]>0&&(_e.sentEvts=ye),X||fa(J,8003,_e[Ba],!0)}else se=0}catch(pe){Ud(p,"Failed to send telemetry using sendBeacon API. Ex:"+le(pe)),se=0}finally{st(Ee,se,{},ll)}}function he(Y){return Y===2||Y===3}function Me(Y){return T&&he(Y)&&(Y=2),Y}H.addHeader=function(Y,Ee){v[Y]=Ee},H[sA]=function(){return N()&&u[nA]()},H[lT]=function(Y,Ee){Re(Y)&&(Y=0),T&&(Y=Me(Y),Ee=2),te(_,Y,0)&&ne(G(),0,!1,Y,Ee||0)},H[m6]=function(){return!a&&l===0&&_[kt]===0},H[aA]=function(Y){T=Y},H.addBatch=function(Y){if(Y&&Y[Ti]()>0){if(s.isTenantKilled(Y[hu]()))return!1;_[wo](Y)}return!0},H.teardown=function(){_[kt]>0&&ne(G(),0,!0,2,2),K(O,function(Y){Y&&Y.rm&&Y.rm()}),O=[]},H.pause=function(){a=!0},H.resume=function(){a=!1,H[lT](0,4)},H[h6]=function(Y,Ee,F){Y&&Y[Ti]()>0&&(oe(Ee)&&(Ee=1),T&&(Ee=Me(Ee),F=2),ne([Y],0,!1,Ee,F||0))};function N(){return!a&&l<r}function G(){var Y=_;return _=[],Y}function te(Y,Ee,F){var $=!1;return Y&&Y[kt]>0&&!a&&m[Ee]&&y&&($=Ee!==0||N()&&(F>0||u[nA]())),$}function ie(Y){var Ee={};return Y&&K(Y,function(F,$){Ee[$]={iKey:F[hu](),evts:F[$f]()}}),Ee}function ne(Y,Ee,F,$,se){if(!(!Y||Y[kt]===0)){if(a){fa(Y,1,$);return}$=Me($);try{var _e=Y,ue=$!==0;si(d,function(){return"HttpManager:_sendBatches"},function(B){B&&(Y=Y.slice(0));for(var X=[],J=null,ye=Ua(),pe=m[$]||(ue?m[1]:m[0]),Ye=pe&&pe[g6],ft=fe&&(T||he($)||Ye===3||pe._isSync&&Ye===2);te(Y,$,Ee);){var gr=Y.shift();gr&&gr[Ti]()>0&&(s.isTenantKilled(gr[hu]())?X[wo](gr):(J=J||y.createPayload(Ee,F,ue,ft,se,$),y.appendPayload(J,gr,e)?J.overflow!==null&&(Y=[J.overflow][mu](Y),J.overflow=null,mt(J,ye,Ua(),se),ye=Ua(),J=null):(mt(J,ye,Ua(),se),ye=Ua(),Y=[gr][mu](Y),J=null)))}J&&mt(J,ye,Ua(),se),Y[kt]>0&&(_=Y[mu](_)),fa(X,8004,$)},function(){return{batches:ie(_e),retryCount:Ee,isTeardown:F,isSynchronous:ue,sendReason:se,useSendBeacon:he($),sendType:$}},!ue)}catch(B){dn(p,2,48,"Unexpected Exception sending batch: "+le(B))}}}function Oe(Y,Ee){var F={url:o,hdrs:{},useHdrs:!1};Ee?(F[sT]=uy(F[sT],v),F.useHdrs=cn(F.hdrs)[kt]>0):de(v,function(B,X){cQ[B]?hT(F,cQ[B],X,!1):(F[sT][B]=X,F[u6]=!0)}),hT(F,HX,"NO_AUTH",Ee),hT(F,t6,nT,Ee);var $=ll;K(Y.apiKeys,function(B){$[kt]>0&&($+=","),$+=B}),hT(F,i6,$,Ee),hT(F,n6,qt().toString(),Ee);var se=w1(Y);if(Io(se)&&(F.url+="&ext.intweb.msfpc="+se),u[a6]()&&hT(F,r6,u[c6](),Ee),d[fT]){var _e=d[fT]();_e>=0&&(F.url+="&w="+_e)}for(var ue=0;ue<g[kt];ue++)F.url+="&"+g[ue].name+"="+g[ue].value;return F}function Ge(Y,Ee,F){Y[Ee]=Y[Ee]||{},Y[Ee][f.identifier]=F}function mt(Y,Ee,F,$){if(Y&&Y.payloadBlob&&Y.payloadBlob[kt]>0){var se=!!w,_e=m[Y.sendType];!he(Y[Ba])&&Y[JX]&&Y.sendReason===2&&(_e=m[2]||m[3]||_e);var ue=k;(Y.isBeacon||_e[g6]===3)&&(ue=!1);var B=Oe(Y,ue);ue=ue||B[u6];var X=Ua();si(d,function(){return"HttpManager:_doPayloadSend"},function(){for(var J=0;J<Y.batches[kt];J++)for(var ye=Y[ks][J],pe=ye[$f](),Ye=0;Ye<pe[kt];Ye++){var ft=pe[Ye];if(x){var gr=ft[cA]=ft[cA]||{};Ge(gr,"sendEventStart",X),Ge(gr,"serializationStart",Ee),Ge(gr,"serializationCompleted",F)}ft[sQ]>0?ft[sQ]++:ft[sQ]=1}fa(Y[ks],1e3+($||0),Y[Ba],!0);var lr={data:Y.payloadBlob,urlString:B.url,headers:B[sT],_thePayload:Y,_sendReason:$,timeout:U,disableXhrSync:z,disableFetchKeepAlive:D};ue&&(bIe(lr[Wf],UX)||(lr[Wf][UX]=YCe),bIe(lr[Wf],e6)||(lr[Wf][e6]=FX));var Ci=null;_e&&(Ci=function(Ii){u[s6]();var Dc=function(jr,Ou){Gr(jr,Ou,Y,$)},Or=Y[v6]||Y[_6];try{_e[y6](Ii,Dc,Or),P&&P(lr,Ii,Or,Y[JX])}catch(jr){Ud(p,"Unexpected exception sending payload. Ex:"+le(jr)),st(Dc,0,{})}}),si(d,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ci)if(Y[Ba]===0&&l++,se&&!Y.isBeacon&&_e[g6]!==3){var Ii={data:lr[pl],urlString:lr[cT],headers:uy({},lr[Wf]),timeout:lr[Bg],disableXhrSync:lr[d6],disableFetchKeepAlive:lr[YX]},Dc=!1;si(d,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{w(Ii,function(Or){Dc=!0,!h&&!Or[uT]&&(Or[uT]=Or[uT]||lr[uT],Or[oA]=Or[oA]||lr[oA]),Ci(Or)},Y.isSync||Y[v6])}catch{Dc||Ci(lr)}})}else Ci(lr)})},function(){return{thePayload:Y,serializationStart:Ee,serializationCompleted:F,sendReason:$}},Y[_6])}Y.sizeExceed&&Y.sizeExceed[kt]>0&&fa(Y.sizeExceed,8003,Y[Ba]),Y.failedEvts&&Y.failedEvts[kt]>0&&fa(Y.failedEvts,8002,Y[Ba])}function Lt(Y,Ee){x&&K(Y,function(F){var $=F[cA]=F[cA]||{};Ge($,"sendEventCompleted",Ee)})}function Gr(Y,Ee,F,$){var se=9e3,_e=null,ue=!1,B=!1;try{var X=!0;if(typeof Y!==Co){if(Ee){u[iA](Ee[qX]);var J=Ee[BX]||Ee["kill-duration-seconds"];K(s[b6](Ee[$Ce],J),function(pe){K(F[ks],function(Ye){if(Ye[hu]()===pe){_e=_e||[];var ft=Ye[fl](0);F.numEvents-=ft[Ti](),_e[wo](ft)}})})}if(Y==200||Y==204){se=200;return}(!fIe(Y)||F.numEvents<=0)&&(X=!1),se=9e3+Y%1e3}if(X){se=100;var ye=F.retryCnt;F[Ba]===0&&(ye<n?(ue=!0,Cm(function(){F[Ba]===0&&l--,ne(F[ks],ye+1,F[v6],T?2:F[Ba],5)},T,T6(ye))):(B=!0,T&&(se=8001)))}}finally{ue||(u[iA](),ui(F,se,$,B)),fa(_e,8004,F[Ba])}}function ui(Y,Ee,F,$){try{$&&f[x6]();var se=Y[ks];Ee===200&&(se=Y.sentEvts||Y[ks],!$&&!Y[_6]&&f._clearBackOff(),la(se)),fa(se,Ee,Y[Ba],!0)}finally{Y[Ba]===0&&(l--,F!==5&&H.sendQueuedRequests(Y[Ba],F))}}function la(Y){if(x){var Ee=Ua();K(Y,function(F){F&&F[Ti]()>0&&Lt(F[$f](),Ee)})}}function Cm(Y,Ee,F){Ee?Y():W.set(Y,F)}function Z0(Y){var Ee={};if(We(Y)){var F=St(Y)[fl](/[\r\n]+/);K(F,function($){if($){var se=$.indexOf(": ");if(se!==-1){var _e=St($.substring(0,se))[oT](),ue=St($.substring(se+1));Ee[_e]=ue}else Ee[St($)]=1}})}return Ee}function w1(Y){for(var Ee=0;Ee<Y.batches[kt];Ee++){var F=Y[ks][Ee].Msfpc();if(F)return encodeURIComponent(F)}return ll}function Im(Y){var Ee=M;try{for(var F=0;F<Ee[kt];F++)try{Ee[F](Y)}catch(se){dn(p,1,519,"Response handler failed: "+se)}if(Y){var $=JSON.parse(Y);Io($.webResult)&&Io($.webResult[iT])&&b.set("MSFPC",$.webResult[iT],365*86400)}}catch{}}function fa(Y,Ee,F,$){if(Y&&Y[kt]>0&&i){var se=i[ev(Ee)];if(se){var _e=F!==0;si(d,function(){return"HttpManager:_sendBatchesNotification"},function(){Cm(function(){try{se.call(i,Y,Ee,_e,F)}catch(ue){dn(p,1,74,"send request notification failed: "+ue)}},$||_e,0)},function(){return{batches:ie(Y),reason:Ee,isSync:_e,sendSync:$,sendType:F}},!_e)}}}function ev(Y){var Ee=Cit[Y];return Io(Ee)||(Ee=zCe,Y>=9e3&&Y<=9999?Ee=VCe:Y>=8e3&&Y<=8999?Ee=Z5:Y>=1e3&&Y<=1999&&(Ee=jCe)),Ee}})}return t.__ieDyn=1,t}()});function kit(t){return t&&t[y6]}var Ait,SIe,Rit,IIe,wIe,Pit,CIe,Nit,uQ,gy,Ao,Dit,AIe,RIe=E(()=>{bi();Jr();ly();Nd();ve();OX();tQ();TIe();rA();iQ();oQ();pT();Ait=.25,SIe=500,Rit=20,IIe=6,wIe=2,Pit=4,CIe=2,Nit=1,uQ=1e4,gy="eventsDiscarded",Ao=void 0,Dit=Wn({eventsLimitInMem:{isVal:Ug,v:uQ},immediateEventLimit:{isVal:Ug,v:500},autoFlushEventsLimit:{isVal:Ug,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:kit,v:Ao},overrideInstrumentationKey:Ao,overrideEndpointUrl:Ao,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Ao,clearTimeoutOverride:Ao,payloadPreprocessor:Ao,payloadListener:Ao,disableEventTimings:Ao,valueSanitizer:Ao,stringifyObjects:Ao,enableCompoundKey:Ao,disableOptimizeObj:!1,transports:Ao,unloadTransports:Ao,useSendBeacon:Ao,disableFetchKeepAlive:Ao,avoidOptions:!1,xhrTimeout:Ao,disableXhrSync:Ao,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:yi,v:IIe},maxUnloadEventRetryAttempts:{isVal:yi,v:wIe},addNoResponse:Ao});AIe=function(t){Ns(e,t);function e(){var r=t.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="4.0.4";var n,i=!1,o=[],s,a=!1,u=0,c,l=0,f,p={},m=fy,d,h,g,v,_,y,x,b,T,k,U,z,D,fe,Q,O,w,P,M,L,W,H;return nt(e,r,function(ae,Pe){N(),ae._getDbgPlgTargets=function(){return[_,n]},ae[aT]=function(B,X,J){si(X,function(){return"PostChannel:initialize"},function(){Pe[aT](B,X,J),M=X.getNotifyMgr();try{Q=jd(Tc(ae[uA]),X.evtNamespace&&X.evtNamespace()),ae._addHook(Fa(B,function(ye){var pe=ye.cfg,Ye=Sc(null,pe,X);n=Ye.getExtCfg(ae[uA],Dit),O=mT(n[l6],n[f6]),U=!n[tIe]&&$5(),w=n[rIe],lt(X),f=n[ZX],c=n.immediateEventLimit,x=n[eQ],D=n.maxEventRetryAttempts,fe=n.maxUnloadEventRetryAttempts,P=n[nIe],ue(),W=n[iIe],H=!!n[oIe],L&&Ve();var ft=pe.disablePageUnloadEvents||[];L=Ww(it,ft,Q),L=ZE(it,ft,Q)||L,L=eT(De,pe.disablePageShowEvents,Q)||L})),_[aT](B,ae.core,ae)}catch(ye){throw ae.setInitialized(!1),ye}},function(){return{theConfig:B,core:X,extensions:J}})},ae.processTelemetry=function(B,X){eA(B,ae[uA]),X=X||ae._getTelCtx(X);var J=B;!H&&!i&&(W&&(J[hu]=W),st(J,!0),z?ie(2,2):Me()),ae.processNext(J,X)},ae._doTeardown=function(B,X){ie(2,2),i=!0,_.teardown(),Ve(),N()};function Ve(){Kw(null,Q),Xw(null,Q),Qw(null,Q)}function lt(B){var X=B[fT];B[fT]=function(){var J=0;return w&&(J=J|2),J|X.call(B)}}function it(B){var X=B||pn().event;X.type!=="beforeunload"&&(z=!0,_[aA](z)),ie(2,2)}function De(B){z=!1,_[aA](z)}function st(B,X){if(B[lA]||(B[lA]=0),B[qg]||(B[qg]=1),B.ext&&B.ext[jX]&&delete B.ext[jX],B.ext&&B.ext[o6]&&B.ext[o6].id&&delete B.ext[o6].id,U&&(B.ext=Od(B.ext),B[E6]&&(B[E6]=Od(B[E6])),B[pl]&&(B[pl]=Od(B[pl]))),B[dy]){if(g||a)B[qg]=3,B[dy]=!1;else if(_){U&&(B=Od(B)),_[h6](dT.create(B[hu],[B]),B[dy]===!0?1:B[dy],3);return}}var J=B[qg],ye=l,pe=f;J===4&&(ye=u,pe=c);var Ye=!1;if(ye<pe)Ye=!mt(B,X);else{var ft=1,gr=Rit;J===4&&(ft=4,gr=1),Ye=!0,Lt(B[hu],B[qg],ft,gr)&&(Ye=!mt(B,X))}Ye&&ev(gy,[B],sl.QueueFull)}ae.setEventQueueLimits=function(B,X){n[ZX]=f=Ug(B)?B:uQ,n[eQ]=x=Ug(X)?X:0,ue();var J=l>B;if(!J&&b>0)for(var ye=1;!J&&ye<=3;ye++){var pe=y[ye];pe&&pe[ks]&&K(pe[ks],function(Ye){Ye&&Ye[Ti]()>=b&&(J=!0)})}Ge(!0,J)},ae.pause=function(){te(),a=!0,_.pause()},ae.resume=function(){a=!1,_.resume(),Me()},ae._loadTransmitProfiles=function(B){Z0(),de(B,function(X,J){var ye=J[kt];if(ye>=2){var pe=ye>2?J[2]:0;if(J[py](0,ye-2),J[1]<0&&(J[0]=-1),J[1]>0&&J[0]>0){var Ye=J[0]/J[1];J[0]=Math.ceil(Ye)*J[1]}pe>=0&&J[1]>=0&&pe>J[1]&&(pe=J[1]),J[wo](pe),p[X]=J}})},ae.flush=function(B,X,J){B===void 0&&(B=!0);var ye;if(!a)if(J=J||1,B)X||(ye=xi(function(Ye){X=Ye})),s==null?(te(),ui(1,0,J),s=G(function(){s=null,la(X,J)},0)):o[wo](X);else{var pe=te();Tt(1,1,J),X&&X(),pe&&Me()}return ye},ae.setMsaAuthTicket=function(B){_.addHeader(tA,B)},ae.hasEvents=he,ae._setTransmitProfile=function(B){m!==B&&p[B]!==void 0&&(te(),m=B,Me())},Ld(ae,function(){return _},["addResponseHandler"]);function Tt(B,X,J){var ye=ui(B,X,J);return _[lT](X,J),ye}function he(){return l>0}function Me(){if(T>=0&&ui(T,0,k)&&_[lT](0,k),u>0&&!h&&!a){var B=p[m][2];B>=0&&(h=G(function(){h=null,Tt(4,0,1),Me()},B))}var X=p[m][1];!d&&!s&&X>=0&&!a&&(he()?d=G(function(){d=null,Tt(v===0?3:1,0,1),v++,v%=2,Me()},X):v=0)}ae[x6]=function(){g<Pit&&(g++,te(),Me())},ae._clearBackOff=function(){g&&(g=0,te(),Me())};function N(){n=null,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,f=uQ,p={},m=fy,d=null,h=null,g=0,v=0,y={},x=0,L=!1,b=0,T=-1,k=null,U=!0,z=!1,D=IIe,fe=wIe,Q=null,W=null,H=!1,O=mT(),_=new EIe(SIe,CIe,Nit,{requeue:Im,send:Ee,sent:F,drop:$,rspFail:se,oth:_e}),w1(),ne(),ue()}function G(B,X){X===0&&g&&(X=1);var J=1e3;return g&&(J=T6(g-1)),O.set(B,X*J)}function te(){return d!==null?(d.cancel(),d=null,v=0,!0):!1}function ie(B,X){te(),s&&(s.cancel(),s=null),a||Tt(1,B,X)}function ne(){y[4]={batches:[],iKeyMap:{}},y[3]={batches:[],iKeyMap:{}},y[2]={batches:[],iKeyMap:{}},y[1]={batches:[],iKeyMap:{}}}function Oe(B,X,J){var ye=y[X];ye||(X=1,ye=y[X]);var pe=ye.iKeyMap[B];return!pe&&J&&(pe=dT.create(B),ye.batches[wo](pe),ye.iKeyMap[B]=pe),pe}function Ge(B,X){_[sA]()&&!g&&(x>0&&l>x&&(X=!0),X&&s==null&&ae.flush(B,function(){},20))}function mt(B,X){U&&(B=Od(B));var J=B[qg],ye=Oe(B[hu],J,!0);return ye.addEvent(B)?(J!==4?(l++,X&&B[lA]===0&&Ge(!B.sync,b>0&&ye[Ti]()>=b)):u++,!0):!1}function Lt(B,X,J,ye){for(;J<=X;){var pe=Oe(B,X,!0);if(pe&&pe[Ti]()>0){var Ye=pe[fl](0,ye),ft=Ye[Ti]();if(ft>0)return J===4?u-=ft:l-=ft,Y(gy,[Ye],sl.QueueFull),!0}J++}return Gr(),!1}function Gr(){for(var B=0,X=0,J=function(pe){var Ye=y[pe];Ye&&Ye[ks]&&K(Ye[ks],function(ft){pe===4?B+=ft[Ti]():X+=ft[Ti]()})},ye=1;ye<=4;ye++)J(ye);l=X,u=B}function ui(B,X,J){var ye=!1,pe=X===0;return!pe||_[sA]()?si(ae.core,function(){return"PostChannel._queueBatches"},function(){for(var Ye=[],ft=4;ft>=B;){var gr=y[ft];gr&&gr.batches&&gr.batches[kt]>0&&(K(gr[ks],function(lr){_.addBatch(lr)?ye=ye||lr&&lr[Ti]()>0:Ye=Ye[mu](lr[$f]()),ft===4?u-=lr[Ti]():l-=lr[Ti]()}),gr[ks]=[],gr.iKeyMap={}),ft--}Ye[kt]>0&&ev(gy,Ye,sl.KillSwitch),ye&&T>=B&&(T=-1,k=0)},function(){return{latency:B,sendType:X,sendReason:J}},!pe):(T=T>=0?Math.min(T,B):B,k=Math.max(k,J)),ye}function la(B,X){Tt(1,0,X),Gr(),Cm(function(){B&&B(),o[kt]>0?s=G(function(){s=null,la(o.shift(),X)},0):(s=null,Me())})}function Cm(B){_[m6]()?B():s=G(function(){s=null,Cm(B)},Ait)}function Z0(){te(),w1(),m=fy,Me()}function w1(){p={},p[fy]=[2,1,0],p[X5]=[6,3,0],p[Q5]=[18,9,0]}function Im(B,X){var J=[],ye=D;z&&(ye=fe),K(B,function(pe){pe&&pe[Ti]()>0&&K(pe[$f](),function(Ye){Ye&&(Ye[dy]&&(Ye[qg]=4,Ye[dy]=!1),Ye[lA]<ye?(eA(Ye,ae[uA]),st(Ye,!1)):J[wo](Ye))})}),J[kt]>0&&ev(gy,J,sl.NonRetryableStatus),z&&ie(2,2)}function fa(B,X){var J=M||{},ye=J[B];if(ye)try{ye.apply(J,X)}catch(pe){dn(ae.diagLog(),1,74,B+" notification failed: "+pe)}}function ev(B,X){for(var J=[],ye=2;ye<arguments.length;ye++)J[ye-2]=arguments[ye];X&&X[kt]>0&&fa(B,[X][mu](J))}function Y(B,X){for(var J=[],ye=2;ye<arguments.length;ye++)J[ye-2]=arguments[ye];X&&X[kt]>0&&K(X,function(pe){pe&&pe[Ti]()>0&&fa(B,[pe.events()][mu](J))})}function Ee(B,X,J){B&&B[kt]>0&&fa("eventsSendRequest",[X>=1e3&&X<=1999?X-1e3:0,J!==!0])}function F(B,X){Y("eventsSent",B,X),Me()}function $(B,X){Y(gy,B,X>=8e3&&X<=8999?X-8e3:sl.Unknown)}function se(B){Y(gy,B,sl.NonRetryableStatus),Me()}function _e(B,X){Y(gy,B,sl.Unknown),Me()}function ue(){P?b=0:b=Math.max(SIe*(CIe+1),f/6)}}),r}return e.__ieDyn=1,e}(oy)});var PIe={};Jn(PIe,{BE_PROFILE:()=>Q5,NRT_PROFILE:()=>X5,PostChannel:()=>AIe,RT_PROFILE:()=>fy});var NIe=E(()=>{OX();RIe()});var kIe=R(Kf=>{"use strict";var Lit=Kf&&Kf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oit=Kf&&Kf.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DIe=Kf&&Kf.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Lit(e,t,r);return Oit(e,t),e};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.oneDataSystemClientFactory=void 0;var Mit=async(t,e,r)=>{let n=await Promise.resolve().then(()=>DIe((ly(),wi(HCe)))),i=await Promise.resolve().then(()=>DIe((NIe(),wi(PIe)))),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};a.extensionConfig[s.identifier]=l}let c=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{c&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},Fit=async(t,e,r)=>{let n=await Mit(t,e,r);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{return new Promise((a,u)=>{if(!n){a();return}n.flush(!0,c=>{if(!c){u("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};Kf.oneDataSystemClientFactory=Fit});var gT,lQ,LIe=E(()=>{ve();gT=nw,lQ=xO});var vT,vy,Ln,_y,fA,pA,Yd,dA,C6,dl,fQ,Xf,OIe,I6,MIe,mA,FIe,w6,UIe,A6,_T,pQ,dQ,mQ,yT,BIe,hQ,gQ,hA,gu=E(()=>{vT="toLowerCase",vy="blkVal",Ln="length",_y="rdOnly",fA="notify",pA="warnToConsole",Yd="throwInternal",dA="setDf",C6="watch",dl="logger",fQ="apply",Xf="push",OIe="splice",I6="hdlr",MIe="cancel",mA="name",FIe="unload",w6="version",UIe="loggingLevelConsole",A6="messageId",_T="message",pQ="diagLog",dQ="userAgent",mQ="split",yT="replace",BIe="logInternalMessage",hQ="traceId",gQ="spanId",hA="traceFlags"});function qIe(t,e){vQ||(vQ=wd("AggregationError",function(n,i){i[Ln]>1&&(n.errors=i[1])}));var r=t||"One or more errors occurred.";throw K(e,function(n,i){r+=`
`.concat(i," > ").concat(le(n))}),new vQ(r,e||[])}var vQ,HIe=E(()=>{ve();gu()});var GIe,ji,jIe,Qf=E(()=>{GIe=void 0,ji="",jIe="Not dynamic - "});function gA(t){return!oe(t)}function _Q(t){var e=t;return e&&We(e)&&(e=e[yT](Bit,function(r,n){return n.toUpperCase()}),e=e[yT](qit,"_"),e=e[yT](Hit,function(r,n){return"_"+n})),e}function R6(t,e){return t&&e?Qr(t,e)!==-1:!1}function vA(t){return t&&t.toISOString()||""}function Hg(t){return so(t)?t[mA]:ji}function yQ(t){return function(){function e(){var r=this;t&&de(t,function(n,i){r[n]=i})}return e}()}var Uit,Bit,qit,Hit,scr,P6=E(()=>{ve();gu();Qf();Uit="getPrototypeOf",Bit=/-([a-z])/g,qit=/([^\w\d_$])/g,Hit=/^(\d+[\w\d_$])/,scr=Object[Uit]});function TQ(){return typeof console!==Co?console:tt(Git)}function bT(){return!!(typeof JSON===ts&&JSON||tt(VIe)!==null)}function _A(){return bT()?JSON||tt(VIe):null}function SQ(){return tt(jit)}function CQ(){return tt(Vit)}function IQ(){var t=dr();if(t&&(t[dQ]!==xQ||bQ===null)){xQ=t[dQ];var e=(xQ||ji)[vT]();bQ=R6(e,zit)||R6(e,Yit)}return bQ}function wQ(t){return(EQ===null||t===!1)&&(EQ=Na()&&!!dr().sendBeacon),EQ}function zIe(t,e){if(t)for(var r=0;r<t[Ln];r++){var n=t[r];if(n[mA]&&n[mA]===e)return n}return{}}function AQ(t){var e=pr();return e&&t?zIe(e.querySelectorAll("meta"),t).content:null}function RQ(t){var e,r=Ps();if(r){var n=r.getEntriesByType("navigation")||[];e=zIe((n[Ln]>0?n[0]:{}).serverTiming,t).description}return e}var Git,VIe,jit,Vit,zit,Yit,bQ,xQ,EQ,yA=E(()=>{"use strict";bi();ve();gu();P6();Qf();Git="console",VIe="JSON",jit="crypto",Vit="msCrypto",zit="msie",Yit="trident/",bQ=null,xQ=null,EQ=null});function $it(t){t<0&&(t>>>=0),bA=$Ie+t&Gg,xA=WIe-t&Gg,KIe=!0}function Wit(){try{var t=qt()&2147483647;$it((Math.random()*YIe^t)+t)}catch{}}function PQ(t){return t>0?Math.floor(yy()/Gg*(t+1))>>>0:0}function yy(t){var e=0,r=SQ()||CQ();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&Gg),e===0&&IQ()&&(KIe||Wit(),e=XIe()&Gg),e===0&&(e=Math.floor(YIe*Math.random()|0)),t||(e>>>=0),e}function XIe(t){xA=36969*(xA&65535)+(xA>>16)&Gg,bA=18e3*(bA&65535)+(bA>>16)&Gg;var e=(xA<<16)+(bA&65535)>>>0&Gg|0;return t||(e>>>=0),e}function NQ(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=yy()>>>0,n=0,i=ji;i[Ln]<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(yy()<<2&4294967295|r&3)>>>0,n=0);return i}var YIe,Gg,$Ie,WIe,KIe,bA,xA,N6=E(()=>{ve();gu();yA();Qf();YIe=4294967296,Gg=4294967295,$Ie=123456789,WIe=987654321,KIe=!1,bA=$Ie,xA=WIe});function QIe(t,e){return e===void 0&&(e=!1),_Q(t+Qit+++(e?"."+Kit:ji)+Xit)}var Kit,Xit,Qit,JIe=E(()=>{P6();Qf();N6();Kit="3.0.6",Xit="."+NQ(6),Qit=0});function D6(t){return t&&Bt(t)&&(t.isVal||t.fb||Nr(t,"v")||Nr(t,"mrg")||Nr(t,"ref")||t.set)}function ZIe(t,e,r){var n,i=r.dfVal||kf;if(e&&r.fb){var o=r.fb;ce(o)||(o=[o]);for(var s=0;s<o[Ln];s++){var a=o[s],u=e[a];if(i(u)?n=u:t&&(u=t.cfg[a],i(u)&&(n=u),t.set(t.cfg,Cr(a),u)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}function DQ(t,e,r){var n=r;if(r&&D6(r)&&(n=ZIe(t,e,r)),n){D6(n)&&(n=DQ(t,e,n));var i;ce(n)?(i=[],i[Ln]=n[Ln]):dt(n)&&(i={}),i&&(de(n,function(o,s){s&&D6(s)&&(s=DQ(t,e,s)),i[o]=s}),n=i)}return n}function kQ(t,e,r,n){var i,o,s,a=n,u,c,l,f;D6(a)?(i=a.isVal,o=a.set,l=a[_y],f=a[vy],u=a.mrg,c=a.ref,!c&&Re(c)&&(c=!!u),s=ZIe(t,e,a)):s=n,f&&t[vy](e,r);var p,m=!0,d=e[r];(d||!oe(d))&&(p=d,m=!1,i&&p!==s&&!i(p)&&(p=s,m=!0),o&&(p=o(p,s,e),m=p===s)),m?s?p=DQ(t,e,s):p=s:(dt(p)||ce(s))&&u&&s&&(dt(s)||ce(s))&&de(s,function(h,g){kQ(t,p,h,g)}),t.set(e,r,p),c&&t.ref(e,r),l&&t[_y](e,r)}var e2e=E(()=>{ve();gu()});function LQ(t){if(t){var e;if(ce(t)?(e=[],e[Ln]=t[Ln]):dt(t)&&(e={}),e)return de(t,function(r,n){e[r]=LQ(n)}),e}return t}function r2e(t){if(t){var e=t[Jf]||t;if(e.cfg&&(e.cfg===t||e.cfg[Jf]===e))return e}return null}function n2e(t){if(t&&(dt(t)||ce(t)))try{t[t2e]=!0}catch{}return t}function k6(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[Jit],!n&&!r[t2e]&&(n=dt(r)||ce(r))),n}function L6(t){kr("InvalidAccess:"+t)}var Jf,t2e,Jit,OQ=E(()=>{ve();gu();Jf=os("[[ai_dynCfg_1]]"),t2e=os("[[ai_blkDynCfg_1]]"),Jit=os("[[ai_frcDynCfg_1]]")});function eot(t,e,r){ce(e)&&K(Zit,function(n){var i=e[n];e[n]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[fQ](this,o);return EA(t,e,r,"Patching"),a}})}function O6(t,e){var r=pc(t,e);return r&&r.get}function tot(t,e,r,n){var i={n:r,h:[],trk:function(c){c&&c.fn&&(Xe(i.h,c)===-1&&i.h[Xf](c),t.trk(c,i))},clr:function(c){var l=Xe(i.h,c);l!==-1&&i.h[OIe](l,1)}},o=!0,s=!1;function a(){o&&(s=s||k6(a,t,n),n&&!n[Jf]&&s&&(n=EA(t,n,r,"Converting")),o=!1);var c=t.act;return c&&i.trk(c),n}a[t.prop]={chng:function(){t.add(i)}};function u(c){if(n!==c){a[t.ro]&&!t.upd&&L6("["+r+"] is read-only:"+le(e)),o&&(s=s||k6(a,t,n),o=!1);var l=s&&a[t.rf];if(s)if(l){de(n,function(p){n[p]=c?c[p]:GIe});try{de(c,function(p,m){TA(t,n,p,m)}),c=n}catch(p){xT((t.hdlr||{})[dl],r,"Assigning",p),s=!1}}else n&&n[Jf]&&de(n,function(p){var m=O6(n,p);if(m){var d=m[t.prop];d&&d.chng()}});if(c!==n){var f=c&&k6(a,t,c);!l&&f&&(c=EA(t,c,r,"Converting")),n=c,s=f}t.add(i)}}Ke(e,i.n,{g:a,s:u})}function TA(t,e,r,n){if(e){var i=O6(e,r),o=i&&!!i[t.prop];o?e[r]=n:tot(t,e,r,n)}return e}function M6(t,e,r,n){if(e){var i=O6(e,r),o=i&&!!i[t.prop],s=n&&n[0],a=n&&n[1],u=n&&n[2];if(!o){if(u)try{n2e(e)}catch(c){xT((t.hdlr||{})[dl],r,"Blocking",c)}try{TA(t,e,r,e[r]),i=O6(e,r)}catch(c){xT((t.hdlr||{})[dl],r,"State",c)}}s&&(i[t.rf]=s),a&&(i[t.ro]=a),u&&(i[t.blkVal]=!0)}return e}function EA(t,e,r,n){try{de(e,function(i,o){TA(t,e,i,o)}),e[Jf]||(ln(e,Jf,{get:function(){return t[I6]}}),eot(t,e,r))}catch(i){xT((t.hdlr||{})[dl],r,n,i)}return e}var Zit,xT,i2e=E(()=>{ve();Qf();gu();OQ();Zit=["push","pop","shift","unshift","splice"],xT=function(t,e,r,n){t&&t[Yd](3,108,"".concat(r," [").concat(e,"] failed - ")+le(n))}});function o2e(t){var e,r=Cn(SA+"get"+t.uid+CA),n=Cn(SA+"ro"+t.uid+CA),i=Cn(SA+"rf"+t.uid+CA),o=Cn(SA+"blkVal"+t.uid+CA),s=Cn(SA+"dtl"+t.uid+CA),a=null,u=null,c;function l(d,h){var g=c.act;try{c.act=d,d&&d[s]&&(K(d[s],function(_){_.clr(d)}),d[s]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t[dA].bind(t),ref:t.ref.bind(t),rdOnly:t[_y].bind(t)})}catch(_){var v=t[dl];throw v&&v[Yd](1,107,le(_)),_}finally{c.act=g||null}}function f(){if(a){var d=a;a=null,u&&u[MIe](),u=null;var h=[];if(K(d,function(g){if(g&&(g[s]&&(K(g[s],function(v){v.clr(g)}),g[s]=null),g.fn))try{l(g,g.fn)}catch(v){h[Xf](v)}}),a)try{f()}catch(g){h[Xf](g)}h[Ln]>0&&qIe("Watcher error(s): ",h)}}function p(d){if(d&&d.h[Ln]>0){a||(a=[]),u||(u=In(function(){u=null,f()},0));for(var h=0;h<d.h[Ln];h++){var g=d.h[h];g&&Xe(a,g)===-1&&a[Xf](g)}}}function m(d,h){if(d){var g=d[s]=d[s]||[];Xe(g,h)===-1&&g[Xf](h)}}return c=(e={prop:r,ro:n,rf:i},e[vy]=o,e[I6]=t,e.add=p,e[fA]=f,e.use=l,e.trk=m,e),c}var SA,CA,s2e=E(()=>{ve();HIe();gu();SA="[[ai_",CA="]]"});function rot(t,e){var r={fn:e,rm:function(){r.fn=null,t=null,e=null}};return t.use(r,e),r}function not(t,e,r){var n,i=r2e(e);if(i)return i;var o=QIe("dyncfg",!0),s=e&&r!==!1?e:LQ(e),a;function u(){a[fA]()}function c(v,_,y){try{v=TA(a,v,_,y)}catch(x){xT(t,_,"Setting value",x)}return v[_]}function l(v){return rot(a,v)}function f(v,_){a.use(null,function(y){var x=a.upd;try{Re(_)||(a.upd=_),v(y)}finally{a.upd=x}})}function p(v,_){var y;return M6(a,v,_,(y={},y[0]=!0,y))[_]}function m(v,_){var y;return M6(a,v,_,(y={},y[1]=!0,y))[_]}function d(v,_){var y;return M6(a,v,_,(y={},y[2]=!0,y))[_]}function h(v,_){return _&&de(_,function(y,x){kQ(g,v,y,x)}),v}var g=(n={uid:null,cfg:s},n[dl]=t,n[fA]=u,n.set=c,n[dA]=h,n[C6]=l,n.ref=p,n[_y]=m,n[vy]=d,n._block=f,n);return Ke(g,"uid",{c:!1,e:!1,w:!1,v:o}),a=o2e(g),EA(a,s,"config","Creating"),g}function iot(t,e){t?(t[pA](e),t[Yd](2,108,e)):L6(e)}function F6(t,e,r,n){var i=not(r,t||{},n);return e&&i[dA](i.cfg,e),i}function IA(t,e,r){var n=t[Jf]||t;return n.cfg&&(n.cfg===t||n.cfg[Jf]===n)?n[C6](e):(iot(r,jIe+le(t)),F6(t,null,r)[C6](e))}var MQ=E(()=>{ve();JIe();Qf();gu();e2e();i2e();s2e();OQ()});function oot(){var t=tt("Microsoft");return t&&(U6=t.ApplicationInsights),U6}function a2e(t){var e=U6;return!e&&t.disableDbgExt!==!0&&(e=U6||oot()),e?e.ChromeDbgExt:null}var U6,c2e=E(()=>{ve();U6=null});function u2e(t){return t?'"'+t[yT](/\"/g,ji)+'"':ji}function FQ(t,e){var r=TQ();if(r){var n="log";r[t]&&(n=t),we(r[n])&&r[n](e)}}function BQ(t,e){return(t||{})[dl]||new qQ(e)}function fot(t){return t||new qQ}function ss(t,e,r,n,i,o){o===void 0&&(o=!1),fot(t)[Yd](e,r,n,i,o)}var ET,l2e,sot,aot,cot,uot,lot,UQ,qQ,f2e=E(()=>{"use strict";Jr();ve();MQ();gu();c2e();yA();Qf();l2e="warnToConsole",sot="AI (Internal): ",aot="AI: ",cot="AITR_",uot={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},lot=(ET={},ET[0]=null,ET[1]="errorToConsole",ET[2]=l2e,ET[3]="debugToConsole",ET);UQ=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o[A6]=e,o[_T]=(n?aot:sot)+e;var s=ji;bT()&&(s=_A().stringify(i));var a=(r?" message:"+u2e(r):ji)+(i?" props:"+u2e(s):ji);o[_T]+=a}return t.dataType="MessageData",t}();qQ=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,s,a,u;nt(t,this,function(c){u=f(e||{}),c.consoleLoggingLevel=function(){return i},c[Yd]=function(d,h,g,v,_){_===void 0&&(_=!1);var y=new UQ(h,g,_,v);if(a)throw le(y);var x=lot[d]||l2e;if(Re(y[_T]))m("throw"+(d===1?"Critical":"Warning"),y);else{if(_){var b=+y[A6];!n[b]&&i>=d&&(c[x](y[_T]),n[b]=!0)}else i>=d&&c[x](y[_T]);l(d,y)}},c.debugToConsole=function(d){FQ("debug",d),m("warning",d)},c[pA]=function(d){FQ("warn",d),m("warning",d)},c.errorToConsole=function(d){FQ("error",d),m("error",d)},c.resetInternalMessageCount=function(){r=0,n={}},c[BIe]=l,c[FIe]=function(d){u&&u.rm(),u=null};function l(d,h){if(!p()){var g=!0,v=cot+h[A6];if(n[v]?g=!1:n[v]=!0,g&&(d<=o&&(c.queue[Xf](h),r++,m(d===1?"error":"warn",h)),r===s)){var _="Internal events throttle limit per PageView reached for this app.",y=new UQ(23,_,!1);c.queue[Xf](y),d===1?c.errorToConsole(_):c[pA](_)}}}function f(d){return IA(F6(d,uot,c).cfg,function(h){var g=h.cfg;i=g[UIe],o=g.loggingLevelTelemetry,s=g.maxMessageLimit,a=g.enableDebug})}function p(){return r>=s}function m(d,h){var g=a2e(e||{});g&&g[pQ]&&g[pQ](d,h)}})}return t.__ieDyn=1,t}()});function HQ(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=ji,r,n=0;n<4;n++)r=yy(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(yy()&3)|0];return is(e,0,8)+is(e,9,4)+"4"+is(e,13,3)+i+is(e,16,3)+is(e,19,12)}var p2e=E(()=>{"use strict";ve();Qf();N6()});function $d(t,e,r){return t&&t[Ln]===e&&t!==r?!!t.match(/^[\da-f]*$/i):!1}function m2e(t,e,r){return $d(t,e)?t:r}function h2e(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[Ln]<2;)e="0"+e;return e}function VQ(t,e,r,n){var i;return i={},i[w6]=$d(n,2,jQ)?n:GQ,i[hQ]=TT(t)?t:HQ(),i[gQ]=ST(e)?e:dc(HQ(),16),i.traceFlags=r>=0&&r<=255?r:1,i}function wA(t,e){var r;if(!t||(ce(t)&&(t=t[0]||""),!t||!We(t)||t[Ln]>8192))return null;if(t.indexOf(",")!==-1){var n=t[mQ](",");t=n[e>0&&n[Ln]>e?e:0]}var i=pot.exec(St(t));return!i||i[1]===jQ||i[2]===B6||i[3]===q6?null:(r={version:(i[1]||ji)[vT](),traceId:(i[2]||ji)[vT](),spanId:(i[3]||ji)[vT]()},r[hA]=parseInt(i[4],16),r)}function TT(t){return $d(t,32,B6)}function ST(t){return $d(t,16,q6)}function H6(t){return!(!t||!$d(t[w6],2,jQ)||!$d(t[hQ],32,B6)||!$d(t[gQ],16,q6)||!$d(h2e(t[hA]),2))}function zQ(t){return H6(t)?(t[hA]&d2e)===d2e:!1}function YQ(t){if(t){var e=h2e(t[hA]);$d(e,2)||(e="01");var r=t[w6]||GQ;return r!=="00"&&r!=="ff"&&(r=GQ),"".concat(r.toLowerCase(),"-").concat(m2e(t.traceId,32,B6).toLowerCase(),"-").concat(m2e(t.spanId,16,q6).toLowerCase(),"-").concat(e.toLowerCase())}return""}function $Q(t){var e="traceparent",r=wA(AQ(e),t);return r||(r=wA(RQ(e),t)),r}var pot,GQ,jQ,B6,q6,d2e,g2e=E(()=>{ve();gu();p2e();yA();Qf();pot=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,GQ="00",jQ="ff",B6="00000000000000000000000000000000",q6="0000000000000000",d2e=1});var Ro=E(()=>{N6();P6();ve();LIe();yA();bi();f2e();g2e();MQ()});var CT,IT,wT,AA,jg,Zf,uo,G6,vu=E(()=>{CT="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",IT="sampleRate",wT="ProcessLegacy",AA="http.method",jg="https://dc.services.visualstudio.com",Zf="/v2/track",uo="not_specified",G6="iKey"});var Wd,WQ=E(()=>{Ro();Wd=lQ({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})});var Kd,_t,ep,Vg,Xd,j6,Vi,ml,zg,V6,z6,Y6,KQ,$6,W6,by,AT,XQ,RA,xy,_u,Ls,Os,Ey,tp,Ty,K6,X6,QQ,Sy,Yg,PA,NA,Cy,RT,Iy,JQ,Po=E(()=>{Kd="split",_t="length",ep="toLowerCase",Vg="ingestionendpoint",Xd="toString",j6="removeItem",Vi="name",ml="message",zg="count",V6="preTriggerDate",z6="disabled",Y6="interval",KQ="daysOfMonth",$6="date",W6="getUTCDate",by="stringify",AT="pathname",XQ="correlationHeaderExcludePatterns",RA="extensionConfig",xy="exceptions",_u="parsedStack",Ls="properties",Os="measurements",Ey="sizeInBytes",tp="typeName",Ty="severityLevel",K6="problemGroup",X6="isManual",QQ="CreateFromInterface",Sy="assembly",Yg="fileName",PA="hasFullStack",NA="level",Cy="method",RT="line",Iy="duration",JQ="receivedResponse"});function Q6(t,e,r){var n=e[_t],i=ZQ(t,e);if(i[_t]!==n){for(var o=0,s=i;r[s]!==void 0;)o++,s=un(i,0,147)+eJ(o);i=s}return i}function ZQ(t,e){var r;return e&&(e=St(Cr(e)),e[_t]>150&&(r=un(e,0,150),ss(t,2,57,"name is too long.  It has been truncated to 150 characters.",{name:e},!0))),r||e}function qr(t,e,r){r===void 0&&(r=1024);var n;return e&&(r=r||1024,e=St(Cr(e)),e[_t]>r&&(n=un(e,0,r),ss(t,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:e},!0))),n||e}function $g(t,e){return e8(t,e,2048,66)}function PT(t,e){var r;return e&&e[_t]>32768&&(r=un(e,0,32768),ss(t,2,56,"message is too long, it has been truncated to 32768 characters.",{message:e},!0)),r||e}function J6(t,e){var r;if(e){var n=""+e;n[_t]>32768&&(r=un(n,0,32768),ss(t,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0))}return r||e}function Ms(t,e){if(e){var r={};de(e,function(n,i){if(Bt(i)&&bT())try{i=_A()[by](i)}catch(o){ss(t,2,49,"custom property is not valid",{exception:o},!0)}i=qr(t,i,8192),n=Q6(t,n,r),r[n]=i}),e=r}return e}function Fs(t,e){if(e){var r={};de(e,function(n,i){n=Q6(t,n,r),r[n]=i}),e=r}return e}function Z6(t,e){return e&&e8(t,e,128,69)[Xd]()}function e8(t,e,r,n){var i;return e&&(e=St(Cr(e)),e[_t]>r&&(i=un(e,0,r),ss(t,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:e},!0))),i||e}function eJ(t){var e="00"+t;return is(e,e[_t]-3)}var yu=E(()=>{Ro();ve();Po()});function wy(t){var e=_2e,r=dot,n=r[e];return v2e.createElement?r[e]||(n=r[e]=v2e.createElement("a")):n={host:tJ(t,!0)},n.href=t,e++,e>=r[_t]&&(e=0),_2e=e,n}function y2e(t){var e,r=wy(t);return r&&(e=r.href),e}function b2e(t){var e,r=wy(t);return r&&(e=r[AT]),e}function x2e(t,e){return t?t.toUpperCase()+" "+e:e}function tJ(t,e){var r=DA(t,e)||"";if(r){var n=r.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[_t]>3&&We(n[2])&&n[2][_t]>0)return n[2]+(n[3]||"")}return r}function DA(t,e){var r=null;if(t){var n=t.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(n!=null&&n[_t]>2&&We(n[2])&&n[2][_t]>0&&(r=n[2]||"",e&&n[_t]>2)){var i=(n[1]||"")[ep](),o=n[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),r+=o}}return r}var v2e,_2e,dot,rJ=E(()=>{Ro();Po();v2e=pr()||{},_2e=0,dot=[null,null,null,null,null]});function NT(t){return Xe(mot,t[ep]())!==-1}function E2e(t){nJ=t}function T2e(){return nJ}function S2e(t,e,r){if(!e||t&&t.disableCorrelationHeaders)return!1;if(t&&t[XQ]){for(var n=0;n<t.correlationHeaderExcludePatterns[_t];n++)if(t[XQ][n].test(e))return!1}var i=wy(e).host[ep]();if(i&&(Qr(i,":443")!==-1||Qr(i,":80")!==-1)&&(i=(DA(e,!0)||"")[ep]()),(!t||!t.enableCorsCorrelation)&&i&&i!==r)return!1;var o=t&&t.correlationHeaderDomains;if(o){var s;if(K(o,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||l.test(i)}),!s)return!1}var a=t&&t.correlationHeaderExcludedDomains;if(!a||a[_t]===0)return!0;for(var n=0;n<a[_t];n++){var u=new RegExp(a[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i[_t]>0}function C2e(t){if(t){var e=iJ(t,Wd[1]);if(e&&e!==nJ)return e}}function iJ(t,e){if(t)for(var r=t[Kd](","),n=0;n<r[_t];++n){var i=r[n][Kd]("=");if(i[_t]===2&&i[0]===e)return i[1]}}function I2e(t,e,r,n){var i,o=n,s=n;if(e&&e[_t]>0){var a=wy(e);if(i=a.host,!o)if(a[AT]!=null){var u=a.pathname[_t]===0?"/":a[AT];u.charAt(0)!=="/"&&(u="/"+u),s=a[AT],o=qr(t,r?r+" "+u:u)}else o=qr(t,e)}else i=n,o=n;return{target:i,name:o,data:s}}function w2e(){var t=Ps();if(t&&t.now&&t.timing){var e=t.now()+t.timing.navigationStart;if(e>0)return e}return qt()}function A2e(t,e){var r=null;return t!==0&&e!==0&&!oe(t)&&!oe(e)&&(r=e-t),r}function R2e(t,e){var r=t||{};return{getName:function(){return r[Vi]},setName:function(n){e&&e.setName(n),r[Vi]=n},getTraceId:function(){return r.traceID},setTraceId:function(n){e&&e.setTraceId(n),TT(n)&&(r.traceID=n)},getSpanId:function(){return r.parentID},setSpanId:function(n){e&&e.setSpanId(n),ST(n)&&(r.parentID=n)},getTraceFlags:function(){return r.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),r.traceFlags=n}}}var mot,nJ,oJ=E(()=>{Ro();ve();vu();WQ();yu();rJ();Po();mot=[jg+Zf,"https://breeze.aimon.applicationinsights.io"+Zf,"https://dc-int.services.visualstudio.com"+Zf],nJ="cid-v1:"});var DT,P2e,sJ=E(()=>{Ro();DT=gT({LocalStorage:0,SessionStorage:1}),P2e=gT({AI:0,AI_AND_W3C:1,W3C:2})});function aJ(){return kT()?t8(DT.LocalStorage):null}function t8(t){try{if(oe(Hi()))return null;var e=new Date()[Xd](),r=tt(t===DT.LocalStorage?"localStorage":"sessionStorage"),n=N2e+e;r.setItem(n,e);var i=r.getItem(n)!==e;if(r[j6](n),!i)return r}catch{}return null}function cJ(){return Ay()?t8(DT.SessionStorage):null}function D2e(){Wg=!1,Kg=!1}function r8(t){N2e=t||""}function k2e(){Wg=kT(!0),Kg=Ay(!0)}function kT(t){return(t||Wg===void 0)&&(Wg=!!t8(DT.LocalStorage)),Wg}function n8(t,e){var r=aJ();if(r!==null)try{return r.getItem(e)}catch(n){Wg=!1,ss(t,2,1,"Browser failed read of local storage. "+Hg(n),{exception:le(n)})}return null}function i8(t,e,r){var n=aJ();if(n!==null)try{return n.setItem(e,r),!0}catch(i){Wg=!1,ss(t,2,3,"Browser failed write to local storage. "+Hg(i),{exception:le(i)})}return!1}function L2e(t,e){var r=aJ();if(r!==null)try{return r[j6](e),!0}catch(n){Wg=!1,ss(t,2,5,"Browser failed removal of local storage item. "+Hg(n),{exception:le(n)})}return!1}function Ay(t){return(t||Kg===void 0)&&(Kg=!!t8(DT.SessionStorage)),Kg}function O2e(){var t=[];return Ay()&&de(tt("sessionStorage"),function(e){t.push(e)}),t}function o8(t,e){var r=cJ();if(r!==null)try{return r.getItem(e)}catch(n){Kg=!1,ss(t,2,2,"Browser failed read of session storage. "+Hg(n),{exception:le(n)})}return null}function s8(t,e,r){var n=cJ();if(n!==null)try{return n.setItem(e,r),!0}catch(i){Kg=!1,ss(t,2,4,"Browser failed write to session storage. "+Hg(i),{exception:le(i)})}return!1}function M2e(t,e){var r=cJ();if(r!==null)try{return r[j6](e),!0}catch(n){Kg=!1,ss(t,2,6,"Browser failed removal of session storage item. "+Hg(n),{exception:le(n)})}return!1}var Wg,Kg,N2e,uJ=E(()=>{Ro();sJ();Po();Wg=void 0,Kg=void 0,N2e=""});var hot,F2e,U2e=E(()=>{Ro();ve();uJ();Po();hot="appInsightsThrottle",F2e=function(){function t(e,r){var n=this,i,o,s,a,u,c,l,f=!1,p=!1;d(),n._getDbgPlgTargets=function(){return[l]},n.getConfig=function(){return s},n.canThrottle=function(w){var P=fe(w),M=h(w);return _(M,i,P)},n.isTriggered=function(w){return Q(w)},n.isReady=function(){return f},n.flush=function(w){try{var P=O(w);if(P&&P[_t]>0){var M=P.slice(0);return l[w]=[],K(M,function(L){m(L.msgID,L[ml],L.severity,!1)}),!0}}catch{}return!1},n.flushAll=function(){try{if(l){var w=!0;return de(l,function(P){var M=n.flush(parseInt(P));w=w&&M}),w}}catch{}return!1},n.onReadyState=function(w,P){return P===void 0&&(P=!0),f=oe(w)?!0:w,f&&P?n.flushAll():null},n.sendMessage=function(w,P,M){return m(w,P,M,!0)};function m(w,P,M,L){if(f){var W=D(w);if(!W)return;var H=h(w),ae=fe(w),Pe=_(H,i,ae),Ve=!1,lt=0,it=Q(w);try{Pe&&!it?(lt=Math.min(H.limit.maxSendNumber,ae[zg]+1),ae[zg]=0,Ve=!0,u[w]=!0,ae[V6]=new Date):(u[w]=Pe,ae[zg]+=1);var De=y(w);k(o,De,ae);for(var st=0;st<lt;st++)z(w,o,P,M)}catch{}return{isThrottled:Ve,throttleNum:lt}}else if(L){var Tt=O(w);Tt.push({msgID:w,message:P,severity:M})}return null}function d(){o=BQ(e),u={},a={},l={},s={},g(109),c=gA(r)?r:"",e.addUnloadHook(IA(e.config,function(w){var P=w.cfg;i=kT();var M=P.throttleMgrCfg||{};de(M,function(L,W){g(parseInt(L),W)})}))}function h(w){return s[w]||s[109]}function g(w,P){var M,L;try{var W=P||{},H={};H[z6]=!!W[z6];var ae=W[Y6]||{};p=ae?.daysOfMonth&&ae?.daysOfMonth[_t]>0,H[Y6]=v(ae);var Pe={samplingRate:((M=W.limit)===null||M===void 0?void 0:M.samplingRate)||100,maxSendNumber:((L=W.limit)===null||L===void 0?void 0:L.maxSendNumber)||1};H.limit=Pe,s[w]=H}catch{}}function v(w){w=w||{};var P=w?.monthInterval,M=w?.dayInterval;return oe(P)&&oe(M)&&(w.monthInterval=3,p||(w[KQ]=[28],p=!0)),w={monthInterval:w?.monthInterval,dayInterval:w?.dayInterval,daysOfMonth:w?.daysOfMonth},w}function _(w,P,M){if(w&&!w[z6]&&P&&gA(M)){var L=T(),W=M[$6],H=w[Y6],ae=1;if(H?.monthInterval){var Pe=(L.getUTCFullYear()-W.getUTCFullYear())*12+L.getUTCMonth()-W.getUTCMonth();ae=U(H.monthInterval,0,Pe)}var Ve=1;if(p)Ve=Xe(H[KQ],L[W6]());else if(H?.dayInterval){var lt=Math.floor((L.getTime()-W.getTime())/864e5);Ve=U(H.dayInterval,0,lt)}return ae>=0&&Ve>=0}return!1}function y(w,P){var M=gA(P)?P:"";return w?hot+M+"-"+w:null}function x(w){try{if(w){var P=new Date;return w.getUTCFullYear()===P.getUTCFullYear()&&w.getUTCMonth()===P.getUTCMonth()&&w[W6]()===P[W6]()}}catch{}return!1}function b(w,P,M){try{var L={date:T(),count:0};if(w){var W=JSON.parse(w),H={date:T(W[$6])||L[$6],count:W[zg]||L[zg],preTriggerDate:W.preTriggerDate?T(W[V6]):void 0};return H}else return k(P,M,L),L}catch{}return null}function T(w){try{if(w){var P=new Date(w);if(!isNaN(P.getDate()))return P}else return new Date}catch{}return null}function k(w,P,M){try{return i8(w,P,St(JSON[by](M)))}catch{}return!1}function U(w,P,M){return w<=0?1:M>=P&&(M-P)%w==0?Math.floor((M-P)/w)+1:-1}function z(w,P,M,L){ss(P,L||1,w,M)}function D(w){try{var P=h(w);return PQ(1e6)<=P.limit.samplingRate}catch{}return!1}function fe(w){try{var P=a[w];if(!P){var M=y(w,c);P=b(n8(o,M),o,M),a[w]=P}return a[w]}catch{}return null}function Q(w){var P=u[w];if(oe(P)){P=!1;var M=fe(w);M&&(P=x(M[V6])),u[w]=P}return u[w]}function O(w){return l=l||{},oe(l[w])&&(l[w]=[]),l[w]}}return t}()});function kA(t){if(!t)return{};var e=t[Kd](got),r=Id(e,function(i,o){var s=o[Kd](vot);if(s[_t]===2){var a=s[0][ep](),u=s[1];i[a]=u}return i},{});if(cn(r)[_t]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[Vg]=r[Vg]||"https://"+n+"dc."+r.endpointsuffix}r[Vg]=r[Vg]||jg,_c(r[Vg],"/")&&(r[Vg]=r[Vg].slice(0,-1))}return r}var got,vot,B2e,q2e=E(()=>{Ro();vu();Po();got=";",vot="=";B2e={parse:kA}});var a8,H2e=E(()=>{Ro();vu();Po();yu();a8=function(){function t(e,r,n){var i=this,o=this;o.ver=1,o.sampleRate=100,o.tags={},o[Vi]=qr(e,n)||uo,o.data=r,o.time=vA(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return i.sampleRate===100?4:1},tags:1,data:1}}return t}()});var rp,G2e=E(()=>{vu();Po();yu();rp=function(){function t(e,r,n,i){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var o=this;o.ver=2,o[Vi]=qr(e,r)||uo,o[Ls]=Ms(e,n),o[Os]=Fs(e,i)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}()});function dJ(t,e){var r=t;return r&&!We(r)&&(JSON&&JSON[by]?(r=JSON[by](t),e&&(!r||r==="{}")&&(we(t[Xd])?r=t[Xd]():r=""+t)):r=""+t+" - (Missing JSON.stringify)"),r||""}function $2e(t,e){var r=t;return t&&(r&&!We(r)&&(r=t[pJ]||t[Y2e]||r),r&&!We(r)&&(r=dJ(r,!0)),t.filename&&(r=r+" @"+(t.filename||"")+":"+(t.lineno||"?")+":"+(t.colno||"?"))),e&&e!=="String"&&e!=="Object"&&e!=="Error"&&Qr(r||"",e)===-1&&(r=e+": "+r),r||""}function yot(t){try{if(Bt(t))return"hasFullStack"in t&&"typeName"in t}catch{}return!1}function bot(t){try{if(Bt(t))return"ver"in t&&"exceptions"in t&&"properties"in t}catch{}return!1}function V2e(t){return t&&t.src&&We(t.src)&&t.obj&&ce(t.obj)}function Ry(t){var e=t||"";We(e)||(We(e[qa])?e=e[qa]:e=""+e);var r=e[Kd](`
`);return{src:e,obj:r}}function xot(t){for(var e=[],r=t[Kd](`
`),n=0;n<r[_t];n++){var i=r[n];r[n+1]&&(i+="@"+r[n+1],n++),e.push(i)}return{src:t,obj:e}}function W2e(t){var e=null;if(t)try{if(t[qa])e=Ry(t[qa]);else if(t[LT]&&t[LT][qa])e=Ry(t[LT][qa]);else if(t.exception&&t.exception[qa])e=Ry(t.exception[qa]);else if(V2e(t))e=t;else if(V2e(t[fJ]))e=t[fJ];else if(pn()&&pn().opera&&t[pJ])e=xot(t[ml]);else if(t.reason&&t.reason[qa])e=Ry(t.reason[qa]);else if(We(t))e=Ry(t);else{var r=t[pJ]||t[Y2e]||"";We(t[j2e])&&(r&&(r+=`
`),r+=" from "+t[j2e]),r&&(e=Ry(r))}}catch(n){e=Ry(n)}return e||{src:"",obj:null}}function Eot(t){var e="";return t&&(t.obj?K(t.obj,function(r){e+=r+`
`}):e=t.src||""),e}function Tot(t){var e,r=t.obj;if(r&&r[_t]>0){e=[];var n=0,i=0;K(r,function(d){var h=d[Xd]();if(mJ.regex.test(h)){var g=new mJ(h,n++);i+=g[Ey],e.push(g)}});var o=32*1024;if(i>o)for(var s=0,a=e[_t]-1,u=0,c=s,l=a;s<a;){var f=e[s][Ey],p=e[a][Ey];if(u+=f+p,u>o){var m=l-c+1;e.splice(c,m);break}c=s,l=a,s++,a--}}return e}function c8(t){var e="";if(t&&(e=t.typeName||t[Vi]||"",!e))try{var r=/function (.{1,200})\(/,n=r.exec(t.constructor[Xd]());e=n&&n[_t]>1?n[1]:""}catch{}return e}function lJ(t){if(t)try{if(!We(t)){var e=c8(t),r=dJ(t,!1);return(!r||r==="{}")&&(t[LT]&&(t=t[LT],e=c8(t)),r=dJ(t,!0)),Qr(r,e)!==0&&e!=="String"?e+":"+r:r}}catch{}return""+(t||"")}var _ot,LT,qa,fJ,j2e,pJ,Y2e,Xg,z2e,mJ,K2e=E(()=>{bi();Ro();ve();vu();Po();yu();_ot="<no_method>",LT="error",qa="stack",fJ="stackDetails",j2e="errorSrc",pJ="message",Y2e="description";Xg=function(){function t(e,r,n,i,o,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,bot(r)?(a[xy]=r[xy]||[],a[Ls]=r[Ls],a[Os]=r[Os],r[Ty]&&(a[Ty]=r[Ty]),r.id&&(a.id=r.id),r[K6]&&(a[K6]=r[K6]),oe(r[X6])||(a[X6]=r[X6])):(n||(n={}),a[xy]=[new z2e(e,r,n)],a[Ls]=Ms(e,n),a[Os]=Fs(e,i),o&&(a[Ty]=o),s&&(a.id=s))}return t.CreateAutoException=function(e,r,n,i,o,s,a,u){var c,l=c8(o||s||e);return c={},c[ml]=$2e(e,l),c.url=r,c.lineNumber=n,c.columnNumber=i,c.error=lJ(o||s||e),c.evt=lJ(s||e),c[tp]=l,c.stackDetails=W2e(a||o||s),c.errorSrc=u,c},t.CreateFromInterface=function(e,r,n,i){var o=r[xy]&&vc(r[xy],function(a){return z2e[QQ](e,a)}),s=new t(e,fu(fu({},r),{exceptions:o}),n,i);return s},t.prototype.toInterface=function(){var e,r=this,n=r.exceptions,i=r.properties,o=r.measurements,s=r.severityLevel,a=r.problemGroup,u=r.id,c=r.isManual,l=n instanceof Array&&vc(n,function(f){return f.toInterface()})||void 0;return e={ver:"4.0"},e[xy]=l,e.severityLevel=s,e.properties=i,e.measurements=o,e.problemGroup=a,e.id=u,e.isManual=c,e},t.CreateSimpleException=function(e,r,n,i,o,s){var a;return{exceptions:[(a={},a[PA]=!0,a.message=e,a.stack=o,a.typeName=r,a)]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=lJ,t}(),z2e=function(){function t(e,r,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var i=this;if(yot(r))i[tp]=r[tp],i[ml]=r[ml],i[qa]=r[qa],i[_u]=r[_u]||[],i[PA]=r[PA];else{var o=r,s=o&&o.evt;so(o)||(o=o[LT]||s||o),i[tp]=qr(e,c8(o))||uo,i[ml]=PT(e,$2e(r||o,i[tp]))||uo;var a=r[fJ]||W2e(r);i[_u]=Tot(a),ce(i[_u])&&vc(i[_u],function(u){u[Sy]=qr(e,u[Sy]),u[Yg]=qr(e,u[Yg])}),i[qa]=J6(e,Eot(a)),i.hasFullStack=ce(i.parsedStack)&&i.parsedStack[_t]>0,n&&(n[tp]=n[tp]||i[tp])}}return t.prototype.toInterface=function(){var e,r=this,n=r[_u]instanceof Array&&vc(r[_u],function(o){return o.toInterface()}),i=(e={id:r.id,outerId:r.outerId,typeName:r[tp],message:r[ml],hasFullStack:r[PA],stack:r[qa]},e[_u]=n||void 0,e);return i},t.CreateFromInterface=function(e,r){var n=r[_u]instanceof Array&&vc(r[_u],function(o){return mJ[QQ](o)})||r[_u],i=new t(e,fu(fu({},r),{parsedStack:n}));return i},t}(),mJ=function(){function t(e,r){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var n=this;if(n[Ey]=0,typeof e=="string"){var i=e;n[NA]=r,n[Cy]=_ot,n[Sy]=St(i),n[Yg]="",n[RT]=0;var o=i.match(t.regex);o&&o[_t]>=5&&(n[Cy]=St(o[2])||n[Cy],n[Yg]=St(o[4]),n[RT]=parseInt(o[5])||0)}else n[NA]=e[NA],n[Cy]=e[Cy],n[Sy]=e[Sy],n[Yg]=e[Yg],n[RT]=e[RT],n[Ey]=0;n.sizeInBytes+=n.method[_t],n.sizeInBytes+=n.fileName[_t],n.sizeInBytes+=n.assembly[_t],n[Ey]+=t.baseSize,n.sizeInBytes+=n.level.toString()[_t],n.sizeInBytes+=n.line.toString()[_t]}return t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){var e=this;return{level:e[NA],method:e[Cy],assembly:e[Sy],fileName:e[Yg],line:e[RT]}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}()});var X2e,Q2e=E(()=>{X2e=function(){function t(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return t}()});var np,J2e=E(()=>{vu();Po();Q2e();yu();np=function(){function t(e,r,n,i,o,s,a,u,c){this.aiDataContract={ver:1,metrics:1,properties:0};var l=this;l.ver=2;var f=new X2e;f[zg]=i>0?i:void 0,f.max=isNaN(s)||s===null?void 0:s,f.min=isNaN(o)||o===null?void 0:o,f[Vi]=qr(e,r)||uo,f.value=n,f.stdDev=isNaN(a)||a===null?void 0:a,l.metrics=[f],l[Ls]=Ms(e,u),l[Os]=Fs(e,c)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}()});function Z2e(t,e){return e===void 0&&(e=!1),t==null?e:t.toString()[ep]()==="true"}function OT(t){(isNaN(t)||t<0)&&(t=0),t=Math.round(t);var e=LA+t%1e3,r=LA+Math.floor(t/1e3)%60,n=LA+Math.floor(t/(1e3*60))%60,i=LA+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));return e=e[_t]===1?"00"+e:e[_t]===2?"0"+e:e,r=r[_t]<2?"0"+r:r,n=n[_t]<2?"0"+n:n,i=i[_t]<2?"0"+i:i,(o>0?o+".":LA)+i+":"+n+":"+r+"."+e}function ewe(t,e){var r=null;return K(t,function(n){if(n.identifier===e)return r=n,-1}),r}function twe(t,e,r,n,i){return!i&&We(t)&&(t==="Script error."||t==="Script error")}var LA,u8=E(()=>{Ro();Po();LA=""});var Qg,rwe=E(()=>{vu();u8();Po();yu();Qg=function(){function t(e,r,n,i,o,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var u=this;u.ver=2,u.id=Z6(e,a),u.url=$g(e,n),u[Vi]=qr(e,r)||uo,isNaN(i)||(u[Iy]=OT(i)),u[Ls]=Ms(e,o),u[Os]=Fs(e,s)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}()});var Jg,nwe=E(()=>{u8();oJ();Po();yu();Jg=function(){function t(e,r,n,i,o,s,a,u,c,l,f,p){c===void 0&&(c="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var m=this;m.ver=2,m.id=r,m[Iy]=OT(o),m.success=s,m.resultCode=a+"",m.type=qr(e,c);var d=I2e(e,n,u,i);m.data=$g(e,i)||d.data,m.target=qr(e,d.target),l&&(m.target="".concat(m.target," | ").concat(l)),m[Vi]=qr(e,d[Vi]),m[Ls]=Ms(e,f),m[Os]=Fs(e,p)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}()});var Zg,iwe=E(()=>{vu();Po();yu();Zg=function(){function t(e,r,n,i,o){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var s=this;s.ver=2,r=r||uo,s[ml]=PT(e,r),s[Ls]=Ms(e,i),s[Os]=Fs(e,o),n&&(s[Ty]=n)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}()});var e0,owe=E(()=>{vu();Po();yu();e0=function(){function t(e,r,n,i,o,s,a){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var u=this;u.ver=2,u.url=$g(e,n),u[Vi]=qr(e,r)||uo,u[Ls]=Ms(e,o),u[Os]=Fs(e,s),a&&(u.domProcessing=a.domProcessing,u[Iy]=a[Iy],u.networkConnect=a.networkConnect,u.perfTotal=a.perfTotal,u[JQ]=a[JQ],u.sentRequest=a.sentRequest)}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}()});var ip,swe=E(()=>{ip=function(){function t(e,r){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=r}return t}()});var l8,awe=E(()=>{Ro();l8=gT({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})});var cwe,uwe=E(()=>{Ro();Po();cwe=function(){function t(){}return t.getConfig=function(e,r,n,i){i===void 0&&(i=!1);var o;return n&&e[RA]&&e[RA][n]&&!oe(e[RA][n][r])?o=e[RA][n][r]:o=e[r],oe(o)?i:o},t}()});function r0(t){var e="ai."+t+".";return function(r){return e+r}}var OA,lo,f8,MT,hJ,t0,Py,MA,FT,gJ=E(()=>{bi();Ro();OA=r0("application"),lo=r0("device"),f8=r0("location"),MT=r0("operation"),hJ=r0("session"),t0=r0("user"),Py=r0("cloud"),MA=r0("internal"),FT=function(t){Ns(e,t);function e(){return t.call(this)||this}return e}(yQ({applicationVersion:OA("ver"),applicationBuild:OA("build"),applicationTypeId:OA("typeId"),applicationId:OA("applicationId"),applicationLayer:OA("layer"),deviceId:lo("id"),deviceIp:lo("ip"),deviceLanguage:lo("language"),deviceLocale:lo("locale"),deviceModel:lo("model"),deviceFriendlyName:lo("friendlyName"),deviceNetwork:lo("network"),deviceNetworkName:lo("networkName"),deviceOEMName:lo("oemName"),deviceOS:lo("os"),deviceOSVersion:lo("osVersion"),deviceRoleInstance:lo("roleInstance"),deviceRoleName:lo("roleName"),deviceScreenResolution:lo("screenResolution"),deviceType:lo("type"),deviceMachineName:lo("machineName"),deviceVMName:lo("vmName"),deviceBrowser:lo("browser"),deviceBrowserVersion:lo("browserVersion"),locationIp:f8("ip"),locationCountry:f8("country"),locationProvince:f8("province"),locationCity:f8("city"),operationId:MT("id"),operationName:MT("name"),operationParentId:MT("parentId"),operationRootId:MT("rootId"),operationSyntheticSource:MT("syntheticSource"),operationCorrelationVector:MT("correlationVector"),sessionId:hJ("id"),sessionIsFirst:hJ("isFirst"),sessionIsNew:hJ("isNew"),userAccountAcquisitionDate:t0("accountAcquisitionDate"),userAccountId:t0("accountId"),userAgent:t0("userAgent"),userId:t0("id"),userStoreRegion:t0("storeRegion"),userAuthUserId:t0("authUserId"),userAnonymousUserAcquisitionDate:t0("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:t0("authUserAcquisitionDate"),cloudName:Py("name"),cloudRole:Py("role"),cloudRoleVer:Py("roleVer"),cloudRoleInstance:Py("roleInstance"),cloudEnvironment:Py("environment"),cloudLocation:Py("location"),cloudDeploymentUnit:Py("deploymentUnit"),internalNodeName:MA("nodeName"),internalSdkVersion:MA("sdkVersion"),internalAgentVersion:MA("agentVersion"),internalSnippet:MA("snippet"),internalSdkSrc:MA("sdkSrc")}))});function vJ(t,e,r,n,i,o){var s;r=qr(n,r)||uo,(oe(t)||oe(e)||oe(r))&&Qt("Input doesn't contain all required fields");var a="";t[G6]&&(a=t[G6],delete t[G6]);var u=(s={},s[Vi]=r,s.time=vA(new Date),s.iKey=a,s.ext=o||{},s.tags=[],s.data={},s.baseType=e,s.baseData=t,s);return oe(i)||de(i,function(c,l){u.data[c]=l}),u}var lwe,fwe=E(()=>{Ro();vu();yu();Po();lwe=function(){function t(){}return t.create=vJ,t}()});var pwe,zi,dwe=E(()=>{gJ();pwe={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},zi=new FT});function mwe(t){var e=null;if(we(Event))e=new Event(t);else{var r=pr();r&&r.createEvent&&(e=r.createEvent("Event"),e.initEvent(t,!0,!0))}return e}var hwe=E(()=>{Ro()});var gwe={};Jn(gwe,{AnalyticsPluginIdentifier:()=>Cot,BreezeChannelIdentifier:()=>_J,ConfigurationManager:()=>cwe,ConnectionStringParser:()=>B2e,ContextTagKeys:()=>FT,CtxTagKeys:()=>zi,DEFAULT_BREEZE_ENDPOINT:()=>jg,DEFAULT_BREEZE_PATH:()=>Zf,Data:()=>ip,DisabledPropertyName:()=>CT,DistributedTracingModes:()=>P2e,Envelope:()=>a8,Event:()=>rp,Exception:()=>Xg,Extensions:()=>pwe,HttpMethod:()=>AA,Metric:()=>np,PageView:()=>Qg,PageViewPerformance:()=>e0,ProcessLegacy:()=>wT,PropertiesPluginIdentifier:()=>Sot,RemoteDependencyData:()=>Jg,RequestHeaders:()=>Wd,SampleRate:()=>IT,SeverityLevel:()=>l8,TelemetryItemCreator:()=>lwe,ThrottleMgr:()=>F2e,Trace:()=>Zg,correlationIdCanIncludeCorrelationHeader:()=>S2e,correlationIdGetCorrelationContext:()=>C2e,correlationIdGetCorrelationContextValue:()=>iJ,correlationIdGetPrefix:()=>T2e,correlationIdSetPrefix:()=>E2e,createDistributedTraceContextFromTrace:()=>R2e,createDomEvent:()=>mwe,createTelemetryItem:()=>vJ,createTraceParent:()=>VQ,dataSanitizeException:()=>J6,dataSanitizeId:()=>Z6,dataSanitizeInput:()=>e8,dataSanitizeKey:()=>ZQ,dataSanitizeKeyAndAddUniqueness:()=>Q6,dataSanitizeMeasurements:()=>Fs,dataSanitizeMessage:()=>PT,dataSanitizeProperties:()=>Ms,dataSanitizeString:()=>qr,dataSanitizeUrl:()=>$g,dateTimeUtilsDuration:()=>A2e,dateTimeUtilsNow:()=>w2e,dsPadNumber:()=>eJ,findW3cTraceParent:()=>$Q,formatTraceParent:()=>YQ,getExtensionByName:()=>ewe,isBeaconApiSupported:()=>wQ,isCrossOriginError:()=>twe,isInternalApplicationInsightsEndpoint:()=>NT,isSampledFlag:()=>zQ,isValidSpanId:()=>ST,isValidTraceId:()=>TT,isValidTraceParent:()=>H6,msToTimeSpan:()=>OT,parseConnectionString:()=>kA,parseTraceParent:()=>wA,strNotSpecified:()=>uo,stringToBoolOrDefault:()=>Z2e,urlGetAbsoluteUrl:()=>y2e,urlGetCompleteUrl:()=>x2e,urlGetPathName:()=>b2e,urlParseFullHost:()=>DA,urlParseHost:()=>tJ,urlParseUrl:()=>wy,utlCanUseLocalStorage:()=>kT,utlCanUseSessionStorage:()=>Ay,utlDisableStorage:()=>D2e,utlEnableStorage:()=>k2e,utlGetLocalStorage:()=>n8,utlGetSessionStorage:()=>o8,utlGetSessionStorageKeys:()=>O2e,utlRemoveSessionStorage:()=>M2e,utlRemoveStorage:()=>L2e,utlSetLocalStorage:()=>i8,utlSetSessionStorage:()=>s8,utlSetStoragePrefix:()=>r8});var Sot,_J,Cot,Qd=E(()=>{oJ();U2e();q2e();WQ();vu();H2e();G2e();K2e();J2e();rwe();nwe();iwe();owe();swe();awe();uwe();gJ();yu();fwe();dwe();sJ();u8();Ro();hwe();uJ();rJ();Sot="AppInsightsPropertiesPlugin",_J="AppInsightsChannelPlugin",Cot="ApplicationInsightsAnalytics"});var UT,n0,mn,Ny,FA,BT,Jd,Dy,p8,Ha,d8,No,m8,h8,vwe,_we,yJ,g8,bJ,qT,v8,hl,ywe,ky,bwe,Ly,Zd,_8,HT,GT,gl,xJ,Oy,em,UA,EJ,jT,y8,tm,xwe,op,b8,TJ,My,vl,x8,fo=E(()=>{UT="toLowerCase",n0="blkVal",mn="length",Ny="rdOnly",FA="notify",BT="warnToConsole",Jd="throwInternal",Dy="setDf",p8="watch",Ha="logger",d8="apply",No="push",m8="splice",h8="hdlr",vwe="cancel",_we="initialize",yJ="identifier",g8="isInitialized",bJ="getPlugin",qT="name",v8="time",hl="processNext",ywe="getProcessTelContext",ky="unload",bwe="loggingLevelConsole",Ly="createNew",Zd="teardown",_8="messageId",HT="message",GT="isAsync",gl="diagLog",xJ="_doTeardown",Oy="update",em="getNext",UA="setNextPlugin",EJ="userAgent",jT="split",y8="nodeType",tm="replace",xwe="logInternalMessage",op="type",b8="handler",TJ="isChildEvt",My="getCtx",vl="setCtx",x8="complete"});function Ewe(t,e){SJ||(SJ=wd("AggregationError",function(n,i){i[mn]>1&&(n.errors=i[1])}));var r=t||"One or more errors occurred.";throw K(e,function(n,i){r+=`
`.concat(i," > ").concat(le(n))}),new SJ(r,e||[])}var SJ,Twe=E(()=>{ve();fo()});var Swe,zr,ra,Cwe,VT,i0,Iwe,CJ,IJ,wwe,bu=E(()=>{Swe=void 0,zr="",ra="core",Cwe="disabled",VT="extensionConfig",i0="processTelemetry",Iwe="priority",CJ="perfEvent",IJ="getPerfMgr",wwe="Not dynamic - "});function wJ(t){return!oe(t)}function BA(t){var e=t;return e&&We(e)&&(e=e[tm](wot,function(r,n){return n.toUpperCase()}),e=e[tm](Aot,"_"),e=e[tm](Rot,function(r,n){return"_"+n})),e}function zT(t,e){return t&&e?Qr(t,e)!==-1:!1}function AJ(t){return t&&t.toISOString()||""}function Cc(t){return so(t)?t[qT]:zr}function RJ(t,e,r,n,i){var o=r;return t&&(o=t[e],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,t[e]=o)),o}function Pot(t,e){var r=null,n=null;return we(t)?r=t:n=t,function(){var i=arguments;if(r&&(n=r()),n)return n[e][d8](n,i)}}function E8(t,e,r,n,i){t&&e&&r&&(i!==!1||Re(t[e]))&&(t[e]=Pot(r,n))}function T8(t){return t&&Lf&&(t=cg(Lf({},t))),t}function S8(t,e,r,n,i,o){var s=arguments,a=s[0]||{},u=s[mn],c=!1,l=1;for(u>0&&rs(a)&&(c=a,a=s[l]||{},l++),Bt(a)||(a={});l<u;l++){var f=s[l],p=ce(f),m=Bt(f);for(var d in f){var h=p&&d in f||m&&Nr(f,d);if(h){var g=f[d],v=void 0;if(c&&g&&((v=ce(g))||dt(g))){var _=a[d];v?ce(_)||(_=[]):dt(_)||(_={}),g=S8(c,_,g)}g!==void 0&&(a[d]=g)}}}return a}var Iot,wot,Aot,Rot,mpr,qA=E(()=>{bi();ve();fo();bu();Iot="getPrototypeOf",wot=/-([a-z])/g,Aot=/([^\w\d_$])/g,Rot=/^(\d+[\w\d_$])/,mpr=Object[Iot]});function Pwe(t,e){var r=!1;if(t){try{if(r=e in t,!r){var n=t[Is];n&&(r=e in n)}}catch{}if(!r)try{var i=new t;r=!Re(i[e])}catch{}}return r}function OJ(){return typeof console!==Co?console:tt(Dot)}function $T(){return!!(typeof JSON===ts&&JSON||tt(Awe)!==null)}function Ic(){return $T()?JSON||tt(Awe):null}function MJ(){return tt(kot)}function FJ(){return tt(Lot)}function UJ(){var t=dr();if(t&&(t[EJ]!==NJ||PJ===null)){NJ=t[EJ];var e=(NJ||zr)[UT]();PJ=zT(e,kJ)||zT(e,LJ)}return PJ}function BJ(t){if(t===void 0&&(t=null),!t){var e=dr()||{};t=e?(e.userAgent||zr)[UT]():zr}var r=(t||zr)[UT]();if(zT(r,kJ)){var n=pr()||{};return Math.max(parseInt(r[jT](kJ)[1]),n[Not]||0)}else if(zT(r,LJ)){var i=parseInt(r[jT](LJ)[1]);if(i)return i+4}return null}function WT(t){return(DJ===null||t===!1)&&(DJ=Na()&&!!dr().sendBeacon),DJ}function C8(t){var e=!1;try{e=!!tt("fetch");var r=tt("Request");e&&t&&r&&(e=Pwe(r,"keepalive"))}catch{}return e}function qJ(){return YT===null&&(YT=typeof XDomainRequest!==Co,YT&&I8()&&(YT=YT&&!Pwe(tt(Rwe),"withCredentials"))),YT}function I8(){var t=!1;try{var e=tt(Rwe);t=!!e}catch{}return t}var Not,Dot,Awe,kot,Lot,kJ,LJ,Rwe,PJ,NJ,YT,DJ,w8=E(()=>{"use strict";bi();ve();fo();qA();bu();Not="documentMode",Dot="console",Awe="JSON",kot="crypto",Lot="msCrypto",kJ="msie",LJ="trident/",Rwe="XMLHttpRequest",PJ=null,NJ=null,YT=null,DJ=null});function Oot(t){t<0&&(t>>>=0),HA=kwe+t&Fy,GA=Lwe-t&Fy,Owe=!0}function Mot(){try{var t=qt()&2147483647;Oot((Math.random()*Dwe^t)+t)}catch{}}function Nwe(t){var e=0,r=MJ()||FJ();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&Fy),e===0&&UJ()&&(Owe||Mot(),e=Fot()&Fy),e===0&&(e=Math.floor(Dwe*Math.random()|0)),t||(e>>>=0),e}function Fot(t){GA=36969*(GA&65535)+(GA>>16)&Fy,HA=18e3*(HA&65535)+(HA>>16)&Fy;var e=(GA<<16)+(HA&65535)>>>0&Fy|0;return t||(e>>>=0),e}function Mwe(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Nwe()>>>0,n=0,i=zr;i[mn]<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Nwe()<<2&4294967295|r&3)>>>0,n=0);return i}var Dwe,Fy,kwe,Lwe,Owe,HA,GA,Fwe=E(()=>{ve();fo();w8();bu();Dwe=4294967296,Fy=4294967295,kwe=123456789,Lwe=987654321,Owe=!1,HA=kwe,GA=Lwe});function Bwe(t){return t[y8]===1||t[y8]===9||!+t[y8]}function qot(t,e){var r=e[t.id];if(!r){r={};try{Bwe(e)&&Ke(e,t.id,{e:!1,v:r})}catch{}}return r}function _l(t,e){return e===void 0&&(e=!1),BA(t+Bot+++(e?"."+Uwe:zr)+Uot)}function A8(t){var e={id:_l("_aiData-"+(t||zr)+"."+Uwe),accept:function(r){return Bwe(r)},get:function(r,n,i,o){var s=r[e.id];return s?s[BA(n)]:(o&&(s=qot(e,r),s[BA(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return e}var Uwe,Uot,Bot,jA=E(()=>{ve();fo();qA();bu();Fwe();Uwe="3.0.6",Uot="."+Mwe(6),Bot=0});function R8(t){return t&&Bt(t)&&(t.isVal||t.fb||Nr(t,"v")||Nr(t,"mrg")||Nr(t,"ref")||t.set)}function qwe(t,e,r){var n,i=r.dfVal||kf;if(e&&r.fb){var o=r.fb;ce(o)||(o=[o]);for(var s=0;s<o[mn];s++){var a=o[s],u=e[a];if(i(u)?n=u:t&&(u=t.cfg[a],i(u)&&(n=u),t.set(t.cfg,Cr(a),u)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}function HJ(t,e,r){var n=r;if(r&&R8(r)&&(n=qwe(t,e,r)),n){R8(n)&&(n=HJ(t,e,n));var i;ce(n)?(i=[],i[mn]=n[mn]):dt(n)&&(i={}),i&&(de(n,function(o,s){s&&R8(s)&&(s=HJ(t,e,s)),i[o]=s}),n=i)}return n}function VA(t,e,r,n){var i,o,s,a=n,u,c,l,f;R8(a)?(i=a.isVal,o=a.set,l=a[Ny],f=a[n0],u=a.mrg,c=a.ref,!c&&Re(c)&&(c=!!u),s=qwe(t,e,a)):s=n,f&&t[n0](e,r);var p,m=!0,d=e[r];(d||!oe(d))&&(p=d,m=!1,i&&p!==s&&!i(p)&&(p=s,m=!0),o&&(p=o(p,s,e),m=p===s)),m?s?p=HJ(t,e,s):p=s:(dt(p)||ce(s))&&u&&s&&(dt(s)||ce(s))&&de(s,function(h,g){VA(t,p,h,g)}),t.set(e,r,p),c&&t.ref(e,r),l&&t[Ny](e,r)}var GJ=E(()=>{ve();fo()});function jJ(t){if(t){var e;if(ce(t)?(e=[],e[mn]=t[mn]):dt(t)&&(e={}),e)return de(t,function(r,n){e[r]=jJ(n)}),e}return t}function Gwe(t){if(t){var e=t[sp]||t;if(e.cfg&&(e.cfg===t||e.cfg[sp]===e))return e}return null}function jwe(t){if(t&&(dt(t)||ce(t)))try{t[Hwe]=!0}catch{}return t}function P8(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[Hot],!n&&!r[Hwe]&&(n=dt(r)||ce(r))),n}function N8(t){kr("InvalidAccess:"+t)}var sp,Hwe,Hot,VJ=E(()=>{ve();fo();sp=os("[[ai_dynCfg_1]]"),Hwe=os("[[ai_blkDynCfg_1]]"),Hot=os("[[ai_frcDynCfg_1]]")});function jot(t,e,r){ce(e)&&K(Got,function(n){var i=e[n];e[n]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[d8](this,o);return zA(t,e,r,"Patching"),a}})}function D8(t,e){var r=pc(t,e);return r&&r.get}function Vot(t,e,r,n){var i={n:r,h:[],trk:function(c){c&&c.fn&&(Xe(i.h,c)===-1&&i.h[No](c),t.trk(c,i))},clr:function(c){var l=Xe(i.h,c);l!==-1&&i.h[m8](l,1)}},o=!0,s=!1;function a(){o&&(s=s||P8(a,t,n),n&&!n[sp]&&s&&(n=zA(t,n,r,"Converting")),o=!1);var c=t.act;return c&&i.trk(c),n}a[t.prop]={chng:function(){t.add(i)}};function u(c){if(n!==c){a[t.ro]&&!t.upd&&N8("["+r+"] is read-only:"+le(e)),o&&(s=s||P8(a,t,n),o=!1);var l=s&&a[t.rf];if(s)if(l){de(n,function(p){n[p]=c?c[p]:Swe});try{de(c,function(p,m){YA(t,n,p,m)}),c=n}catch(p){KT((t.hdlr||{})[Ha],r,"Assigning",p),s=!1}}else n&&n[sp]&&de(n,function(p){var m=D8(n,p);if(m){var d=m[t.prop];d&&d.chng()}});if(c!==n){var f=c&&P8(a,t,c);!l&&f&&(c=zA(t,c,r,"Converting")),n=c,s=f}t.add(i)}}Ke(e,i.n,{g:a,s:u})}function YA(t,e,r,n){if(e){var i=D8(e,r),o=i&&!!i[t.prop];o?e[r]=n:Vot(t,e,r,n)}return e}function k8(t,e,r,n){if(e){var i=D8(e,r),o=i&&!!i[t.prop],s=n&&n[0],a=n&&n[1],u=n&&n[2];if(!o){if(u)try{jwe(e)}catch(c){KT((t.hdlr||{})[Ha],r,"Blocking",c)}try{YA(t,e,r,e[r]),i=D8(e,r)}catch(c){KT((t.hdlr||{})[Ha],r,"State",c)}}s&&(i[t.rf]=s),a&&(i[t.ro]=a),u&&(i[t.blkVal]=!0)}return e}function zA(t,e,r,n){try{de(e,function(i,o){YA(t,e,i,o)}),e[sp]||(ln(e,sp,{get:function(){return t[h8]}}),jot(t,e,r))}catch(i){KT((t.hdlr||{})[Ha],r,n,i)}return e}var Got,KT,Vwe=E(()=>{ve();bu();fo();VJ();Got=["push","pop","shift","unshift","splice"],KT=function(t,e,r,n){t&&t[Jd](3,108,"".concat(r," [").concat(e,"] failed - ")+le(n))}});function zwe(t){var e,r=Cn($A+"get"+t.uid+WA),n=Cn($A+"ro"+t.uid+WA),i=Cn($A+"rf"+t.uid+WA),o=Cn($A+"blkVal"+t.uid+WA),s=Cn($A+"dtl"+t.uid+WA),a=null,u=null,c;function l(d,h){var g=c.act;try{c.act=d,d&&d[s]&&(K(d[s],function(_){_.clr(d)}),d[s]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t[Dy].bind(t),ref:t.ref.bind(t),rdOnly:t[Ny].bind(t)})}catch(_){var v=t[Ha];throw v&&v[Jd](1,107,le(_)),_}finally{c.act=g||null}}function f(){if(a){var d=a;a=null,u&&u[vwe](),u=null;var h=[];if(K(d,function(g){if(g&&(g[s]&&(K(g[s],function(v){v.clr(g)}),g[s]=null),g.fn))try{l(g,g.fn)}catch(v){h[No](v)}}),a)try{f()}catch(g){h[No](g)}h[mn]>0&&Ewe("Watcher error(s): ",h)}}function p(d){if(d&&d.h[mn]>0){a||(a=[]),u||(u=In(function(){u=null,f()},0));for(var h=0;h<d.h[mn];h++){var g=d.h[h];g&&Xe(a,g)===-1&&a[No](g)}}}function m(d,h){if(d){var g=d[s]=d[s]||[];Xe(g,h)===-1&&g[No](h)}}return c=(e={prop:r,ro:n,rf:i},e[n0]=o,e[h8]=t,e.add=p,e[FA]=f,e.use=l,e.trk=m,e),c}var $A,WA,Ywe=E(()=>{ve();Twe();fo();$A="[[ai_",WA="]]"});function zot(t,e){var r={fn:e,rm:function(){r.fn=null,t=null,e=null}};return t.use(r,e),r}function Yot(t,e,r){var n,i=Gwe(e);if(i)return i;var o=_l("dyncfg",!0),s=e&&r!==!1?e:jJ(e),a;function u(){a[FA]()}function c(v,_,y){try{v=YA(a,v,_,y)}catch(x){KT(t,_,"Setting value",x)}return v[_]}function l(v){return zot(a,v)}function f(v,_){a.use(null,function(y){var x=a.upd;try{Re(_)||(a.upd=_),v(y)}finally{a.upd=x}})}function p(v,_){var y;return k8(a,v,_,(y={},y[0]=!0,y))[_]}function m(v,_){var y;return k8(a,v,_,(y={},y[1]=!0,y))[_]}function d(v,_){var y;return k8(a,v,_,(y={},y[2]=!0,y))[_]}function h(v,_){return _&&de(_,function(y,x){VA(g,v,y,x)}),v}var g=(n={uid:null,cfg:s},n[Ha]=t,n[FA]=u,n.set=c,n[Dy]=h,n[p8]=l,n.ref=p,n[Ny]=m,n[n0]=d,n._block=f,n);return Ke(g,"uid",{c:!1,e:!1,w:!1,v:o}),a=zwe(g),zA(a,s,"config","Creating"),g}function $ot(t,e){t?(t[BT](e),t[Jd](2,108,e)):N8(e)}function yl(t,e,r,n){var i=Yot(r,t||{},n);return e&&i[Dy](i.cfg,e),i}function KA(t,e,r){var n=t[sp]||t;return n.cfg&&(n.cfg===t||n.cfg[sp]===n)?n[p8](e):($ot(r,wwe+le(t)),yl(t,null,r)[p8](e))}var XA=E(()=>{ve();jA();bu();fo();GJ();Vwe();Ywe();VJ()});function zJ(t,e){if(t&&t[ky])return t[ky](e)}var $we=E(()=>{fo()});function Wot(t,e,r){return!t&&oe(t)?e:rs(t)?t:Cr(t)[UT]()==="true"}function L8(t,e,r){return{fb:r,isVal:t,v:e}}function xu(t,e){return{fb:e,set:Wot,v:!!t}}var Wwe=E(()=>{ve();fo()});function Kot(){var t=tt("Microsoft");return t&&(O8=t.ApplicationInsights),O8}function Kwe(t){var e=O8;return!e&&t.disableDbgExt!==!0&&(e=O8||Kot()),e?e.ChromeDbgExt:null}var O8,Xwe=E(()=>{ve();O8=null});function Qwe(t){return t?'"'+t[tm](/\"/g,zr)+'"':zr}function YJ(t,e){var r=OJ();if(r){var n="log";r[t]&&(n=t),we(r[n])&&r[n](e)}}function Uy(t,e){return(t||{})[Ha]||new WJ(e)}function Zwe(t){return t||new WJ}function yt(t,e,r,n,i,o){o===void 0&&(o=!1),Zwe(t)[Jd](e,r,n,i,o)}function QA(t,e){Zwe(t)[BT](e)}var XT,Jwe,Xot,Qot,Jot,Zot,est,$J,WJ,QT=E(()=>{"use strict";Jr();ve();XA();fo();Xwe();w8();bu();Jwe="warnToConsole",Xot="AI (Internal): ",Qot="AI: ",Jot="AITR_",Zot={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},est=(XT={},XT[0]=null,XT[1]="errorToConsole",XT[2]=Jwe,XT[3]="debugToConsole",XT);$J=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o[_8]=e,o[HT]=(n?Qot:Xot)+e;var s=zr;$T()&&(s=Ic().stringify(i));var a=(r?" message:"+Qwe(r):zr)+(i?" props:"+Qwe(s):zr);o[HT]+=a}return t.dataType="MessageData",t}();WJ=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,s,a,u;nt(t,this,function(c){u=f(e||{}),c.consoleLoggingLevel=function(){return i},c[Jd]=function(d,h,g,v,_){_===void 0&&(_=!1);var y=new $J(h,g,_,v);if(a)throw le(y);var x=est[d]||Jwe;if(Re(y[HT]))m("throw"+(d===1?"Critical":"Warning"),y);else{if(_){var b=+y[_8];!n[b]&&i>=d&&(c[x](y[HT]),n[b]=!0)}else i>=d&&c[x](y[HT]);l(d,y)}},c.debugToConsole=function(d){YJ("debug",d),m("warning",d)},c[BT]=function(d){YJ("warn",d),m("warning",d)},c.errorToConsole=function(d){YJ("error",d),m("error",d)},c.resetInternalMessageCount=function(){r=0,n={}},c[xwe]=l,c[ky]=function(d){u&&u.rm(),u=null};function l(d,h){if(!p()){var g=!0,v=Jot+h[_8];if(n[v]?g=!1:n[v]=!0,g&&(d<=o&&(c.queue[No](h),r++,m(d===1?"error":"warn",h)),r===s)){var _="Internal events throttle limit per PageView reached for this app.",y=new $J(23,_,!1);c.queue[No](y),d===1?c.errorToConsole(_):c[BT](_)}}}function f(d){return KA(yl(d,Zot,c).cfg,function(h){var g=h.cfg;i=g[bwe],o=g.loggingLevelTelemetry,s=g.maxMessageLimit,a=g.enableDebug})}function p(){return r>=s}function m(d,h){var g=Kwe(e||{});g&&g[gl]&&g[gl](d,h)}})}return t.__ieDyn=1,t}()});function eAe(t,e,r,n,i){if(t){var o=t;if(o[IJ]&&(o=o[IJ]()),o){var s=void 0,a=o[My](KJ);try{if(s=o.create(e(),n,i),s){if(a&&s[vl]&&(s[vl](M8[XJ],a),a[My]&&a[vl])){var u=a[My](M8[JA]);u||(u=[],a[vl](M8[JA],u)),u[No](s)}return o[vl](KJ,s),r(s)}}catch(c){s&&s[vl]&&s[vl]("exception",c)}finally{s&&o.fire(s),o[vl](KJ,a)}}}return r()}var JT,XJ,JA,M8,Edr,KJ,tAe=E(()=>{Jr();ve();fo();bu();JT="ctx",XJ="ParentContextKey",JA="ChildrenContextKey",M8=function(){function t(e,r,n){var i=this;if(i.start=qt(),i[qT]=e,i[GT]=n,i[TJ]=function(){return!1},we(r)){var o;Ke(i,"payload",{g:function(){return!o&&we(r)&&(o=r(),r=null),o}})}i[My]=function(s){return s?s===t[XJ]||s===t[JA]?i[s]:(i[JT]||{})[s]:null},i[vl]=function(s,a){if(s)if(s===t[XJ])i[s]||(i[TJ]=function(){return!0}),i[s]=a;else if(s===t[JA])i[s]=a;else{var u=i[JT]=i[JT]||{};u[s]=a}},i[x8]=function(){var s=0,a=i[My](t[JA]);if(ce(a))for(var u=0;u<a[mn];u++){var c=a[u];c&&(s+=c[v8])}i[v8]=qt()-i.start,i.exTime=i[v8]-s,i[x8]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Edr=function(){function t(e){this.ctx={},nt(t,this,function(r){r.create=function(n,i,o){return new M8(n,i,o)},r.fire=function(n){n&&(n[x8](),e&&we(e[CJ])&&e[CJ](n))},r[vl]=function(n,i){if(n){var o=r[JT]=r[JT]||{};o[n]=i}},r[My]=function(n){return(r[JT]||{})[n]}})}return t.__ieDyn=1,t}(),KJ="CoreUtils.doPerf"});function F8(t){return tst.get(t,"state",{},!0)}var tst,rAe=E(()=>{"use strict";jA();tst=A8("plugin")});function nst(t,e,r){for(;t;){if(t[bJ]()===r)return t;t=t[em]()}return ZA([r],e.config||{},e)}function QJ(t,e,r,n){var i=null,o=[];e||(e=yl({},null,r[Ha])),n!==null&&(i=n?nst(t,r,n):t);var s={_next:u,ctx:{core:function(){return r},diagLog:function(){return Uy(r,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:l,getConfig:f,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(m){i=m},iterate:p,onComplete:a}};function a(m,d){for(var h=[],g=2;g<arguments.length;g++)h[g-2]=arguments[g];m&&o[No]({func:m,self:Re(d)?s.ctx:d,args:h})}function u(){var m=i;if(i=m?m[em]():null,!m){var d=o;d&&d[mn]>0&&(K(d,function(h){try{h.func.call(h.self,h.args)}catch(g){yt(r[Ha],2,73,"Unexpected Exception during onComplete - "+le(g))}}),o=[])}return m}function c(m,d){var h=null,g=e.cfg;if(g&&m){var v=g[VT];!v&&d&&(v={}),g[VT]=v,v=e.ref(g,VT),v&&(h=v[m],!h&&d&&(h={}),v[m]=h,h=e.ref(v,m))}return h}function l(m,d){var h=c(m,!0);return d&&de(d,function(g,v){if(oe(h[g])){var _=e.cfg[g];(_||!oe(_))&&(h[g]=_)}VA(e,h,g,v)}),e[Dy](h,d)}function f(m,d,h){h===void 0&&(h=!1);var g,v=c(m,!1),_=e.cfg;return v&&(v[d]||!oe(v[d]))?g=v[d]:(_[d]||!oe(_[d]))&&(g=_[d]),g||!oe(g)?g:h}function p(m){for(var d;d=s._next();){var h=d[bJ]();h&&m(h)}}return s}function o0(t,e,r,n){var i=yl(e),o=QJ(t,i,r,n),s=o.ctx;function a(c){var l=o._next();return l&&l[i0](c,s),!l}function u(c,l){return c===void 0&&(c=null),ce(c)&&(c=ZA(c,i.cfg,r,l)),o0(c||s[em](),i.cfg,r,l)}return s[hl]=a,s[Ly]=u,s}function JJ(t,e,r){var n=yl(e.config),i=QJ(t,n,e,r),o=i.ctx;function s(u){var c=i._next();return c&&c[ky](o,u),!c}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=ZA(u,n.cfg,e,c)),JJ(u||o[em](),e,c)}return o[hl]=s,o[Ly]=a,o}function ZJ(t,e,r){var n=yl(e.config),i=QJ(t,n,e,r),o=i.ctx;function s(u){return o.iterate(function(c){we(c[Oy])&&c[Oy](o,u)})}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=ZA(u,n.cfg,e,c)),ZJ(u||o[em](),e,c)}return o[hl]=s,o[Ly]=a,o}function ZA(t,e,r,n){var i=null,o=!n;if(ce(t)&&t[mn]>0){var s=null;K(t,function(a){if(!o&&n===a&&(o=!0),o&&a&&we(a[i0])){var u=ist(a,e,r);i||(i=u),s&&s._setNext(u),s=u}})}return n&&!i?ZA([n],e,r):i}function ist(t,e,r){var n=null,i=we(t[i0]),o=we(t[UA]),s;t?s=t[yJ]+"-"+t[Iwe]+"-"+oAe++:s="Unknown-0-"+oAe++;var a={getPlugin:function(){return t},getNext:function(){return n},processTelemetry:l,unload:f,update:p,_id:s,_setNext:function(m){n=m}};function u(){var m;return t&&we(t[iAe])&&(m=t[iAe]()),m||(m=o0(a,e,r)),m}function c(m,d,h,g,v){var _=!1,y=t?t[yJ]:rst,x=m[nAe];return x||(x=m[nAe]={}),m.setNext(n),t&&eAe(m[ra](),function(){return y+":"+h},function(){x[s]=!0;try{var b=n?n._id:zr;b&&(x[b]=!1),_=d(m)}catch(k){var T=n?x[n._id]:!0;T&&(_=!0),(!n||!T)&&yt(m[gl](),1,73,"Plugin ["+y+"] failed during "+h+" - "+le(k)+", run flags: "+le(x))}},g,v),_}function l(m,d){d=d||u();function h(g){if(!t||!i)return!1;var v=F8(t);return v[Zd]||v[Cwe]?!1:(o&&t[UA](n),t[i0](m,g),!0)}c(d,h,"processTelemetry",function(){return{item:m}},!m.sync)||d[hl](m)}function f(m,d){function h(){var g=!1;if(t){var v=F8(t),_=t[ra]||v[ra];t&&(!_||_===m.core())&&!v[Zd]&&(v[ra]=null,v[Zd]=!0,v[g8]=!1,t[Zd]&&t[Zd](m,d)===!0&&(g=!0))}return g}c(m,h,"unload",function(){},d[GT])||m[hl](d)}function p(m,d){function h(){var g=!1;if(t){var v=F8(t),_=t[ra]||v[ra];t&&(!_||_===m.core())&&!v[Zd]&&t[Oy]&&t[Oy](m,d)===!0&&(g=!0)}return g}c(m,h,"update",function(){},!1)||m[hl](d)}return qi(a)}var rst,nAe,iAe,oAe,eZ=E(()=>{"use strict";ve();GJ();XA();fo();QT();bu();tAe();rAe();rst="TelemetryPluginChain",nAe="_hasRun",iAe="_getTelCtx",oAe=0});function sAe(){var t=[];function e(n){n&&t[No](n)}function r(n,i){K(t,function(o){try{o(n,i)}catch(s){yt(n[gl](),2,73,"Unexpected error calling unload handler - "+le(s))}}),t=[]}return{add:e,run:r}}var aAe=E(()=>{ve();fo();QT()});function cAe(){var t=[];function e(n){var i=t;t=[],K(i,function(o){try{(o.rm||o.remove).call(o)}catch(s){yt(n,2,73,"Unloading:"+le(s))}})}function r(n){n&&Kn(t,n)}return{run:e,add:r}}var uAe=E(()=>{ve();QT()});var tZ,s0,ost,rZ,lAe=E(()=>{"use strict";Jr();ve();XA();fo();QT();qA();bu();eZ();aAe();uAe();s0="getPlugin",ost=(tZ={},tZ[VT]={isVal:wJ,v:{}},tZ),rZ=function(){function t(){var e=this,r,n,i,o,s;c(),nt(t,e,function(l){l[_we]=function(f,p,m,d){u(f,p,d),r=!0},l[Zd]=function(f,p){var m,d=l[ra];if(!d||f&&d!==f[ra]())return;var h,g=!1,v=f||JJ(null,d,i&&i[s0]?i[s0]():i),_=p||(m={reason:0},m[GT]=!1,m);function y(){g||(g=!0,o.run(v,p),s.run(v[gl]()),h===!0&&v[hl](_),c())}return!l[xJ]||l[xJ](v,_,y)!==!0?y():h=!0,h},l[Oy]=function(f,p){var m=l[ra];if(!m||f&&m!==f[ra]())return;var d,h=!1,g=f||ZJ(null,m,i&&i[s0]?i[s0]():i),v=p||{reason:0};function _(){h||(h=!0,u(g.getCfg(),g.core(),g[em]()))}return!l._doUpdate||l._doUpdate(g,v,_)!==!0?_():d=!0,d},E8(l,"_addUnloadCb",function(){return o},"add"),E8(l,"_addHook",function(){return s},"add"),Ke(l,"_unloadHooks",{g:function(){return s}})}),e[gl]=function(l){return a(l)[gl]()},e[g8]=function(){return r},e.setInitialized=function(l){r=l},e[UA]=function(l){i=l},e[hl]=function(l,f){f?f[hl](l):i&&we(i[i0])&&i[i0](l,null)},e._getTelCtx=a;function a(l){l===void 0&&(l=null);var f=l;if(!f){var p=n||o0(null,{},e[ra]);i&&i[s0]?f=p[Ly](null,i[s0]):f=p[Ly](null,i)}return f}function u(l,f,p){yl(l,ost,Uy(f)),!p&&f&&(p=f[ywe]()[em]());var m=i;i&&i[s0]&&(m=i[s0]()),e[ra]=f,n=o0(p,l,f,m)}function c(){r=!1,e[ra]=null,n=null,i=null,s=cAe(),o=sAe()}}return t.__ieDyn=1,t}()});function hAe(t){return t&&t[tm]?t[tm](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,zr):t}function iZ(t,e){var r;if(e){var n=zr;ce(e)?(n=zr,K(e,function(o){o=hAe(o),o&&(o[0]!=="."&&(o="."+o),n+=o)})):n=hAe(e),n&&(n[0]!=="."&&(n="."+n),t=(t||zr)+n)}var i=ust.exec(t||zr)||[];return r={},r[op]=i[1],r.ns=(i[2]||zr).replace(sst,".").replace(ast,zr)[jT](".").sort().join("."),r}function _Ae(t,e,r){r===void 0&&(r=!0);var n=U8.get(t,nZ,{},r),i=n[e];return i||(i=n[e]=[]),i}function yAe(t,e,r,n){t&&e&&e[op]&&(t[mAe]?t[mAe](e[op],r,n):t[dAe]&&t[dAe](vAe+e[op],r))}function lst(t,e,r,n){var i=!1;return t&&e&&e[op]&&r&&(t[pAe]?(t[pAe](e[op],r,n),i=!0):t[fAe]&&(t[fAe](vAe+e[op],r),i=!0)),i}function gAe(t,e,r,n){for(var i=e[mn];i--;){var o=e[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(yAe(t,o.evtName,o[b8],o.capture),e[m8](i,1))}}function fst(t,e,r){if(e[op])gAe(t,_Ae(t,e[op]),e,r);else{var n=U8.get(t,nZ,{});de(n,function(i,o){gAe(t,o,e,r)}),cn(n)[mn]===0&&U8.kill(t,nZ)}}function eR(t,e){var r;return e?(ce(e)?r=[t].concat(e):r=[t,e],r=iZ("xx",r).ns[jT](".")):r=t,r}function B8(t,e,r,n,i){var o;i===void 0&&(i=!1);var s=!1;if(t)try{var a=iZ(e,n);if(s=lst(t,a,r,i),s&&U8.accept(t)){var u=(o={guid:cst++,evtName:a},o[b8]=r,o.capture=i,o);_Ae(t,a.type)[No](u)}}catch{}return s}function oZ(t,e,r,n,i){if(i===void 0&&(i=!1),t)try{var o=iZ(e,n),s=!1;fst(t,o,function(a){return o.ns&&!r||a[b8]===r?(s=!0,!0):!1}),s||yAe(t,o,r,i)}catch{}}var vAe,fAe,pAe,dAe,mAe,nZ,nmr,imr,sst,ast,cst,U8,ust,bAe=E(()=>{ve();fo();jA();bu();vAe="on",fAe="attachEvent",pAe="addEventListener",dAe="detachEvent",mAe="removeEventListener",nZ="events",nmr=_l("aiEvtPageHide"),imr=_l("aiEvtPageShow"),sst=/\.[\.]+/g,ast=/[\.]+$/,cst=1,U8=A8("events"),ust=/^([^.]*)(?:\.(.+)|)/});var By=E(()=>{lAe();$we();qA();ve();bAe();w8();QT();eZ();jA();XA();Wwe()});var a0,xAe=E(()=>{a0="duration"});var Yi,q8,po,ap,qy,Nt,c0,u0,Eu,l0,rm,tR,rR,ZT,nm,f0,H8,im,nR,om,iR,oR,eS,Hy,sR,G8,sm,tS,j8,rS,Do,nS,V8,sZ,aZ,z8,cZ,uZ,am,lZ,fZ,pZ,dZ,mZ,Y8,iS,EAe,p0,$8,aR,cR,TAe,oS,W8,hZ,K8,SAe,cm=E(()=>{Yi="tags",q8="deviceType",po="data",ap="name",qy="traceID",Nt="length",c0="stringify",u0="measurements",Eu="dataType",l0="envelopeType",rm="toString",tR="onLine",rR="isOnline",ZT="_get",nm="enqueue",f0="count",H8="eventsLimitInMem",im="push",nR="emitLineDelimitedJson",om="clear",iR="batchPayloads",oR="createNew",eS="markAsSent",Hy="clearSent",sR="bufferOverride",G8="BUFFER_KEY",sm="SENT_BUFFER_KEY",tS="MAX_BUFFER_SIZE",j8="sendPOST",rS="triggerSend",Do="diagLog",nS="_sender",V8="customHeaders",sZ="maxBatchSizeInBytes",aZ="onunloadDisableBeacon",z8="isBeaconApiDisabled",cZ="alwaysUseXhrOverride",uZ="enableSessionStorageBuffer",am="_buffer",lZ="onunloadDisableFetch",fZ="disableSendBeaconSplit",pZ="instrumentationKey",dZ="convertUndefined",mZ="maxBatchInterval",Y8="baseType",iS="sampleRate",EAe="_xhrReadyStateChange",p0="_onError",$8="_onPartialSuccess",aR="_onSuccess",cR="itemsAccepted",TAe="itemsReceived",oS="oriPayload",W8="setRequestHeader",hZ="eventsSendRequest",K8="getSamplingScore",SAe="getHashCodeScore"});function $i(t,e,r){return RJ(t,e,r,ns)}function pst(t,e,r){var n=r[Yi]=r[Yi]||{},i=e.ext=e.ext||{},o=e[Yi]=e[Yi]||[],s=i.user;s&&($i(n,zi.userAuthUserId,s.authId),$i(n,zi.userId,s.id||s.localId));var a=i.app;a&&$i(n,zi.sessionId,a.sesId);var u=i.device;u&&($i(n,zi.deviceId,u.id||u.localId),$i(n,zi[q8],u.deviceClass),$i(n,zi.deviceIp,u.ip),$i(n,zi.deviceModel,u.model),$i(n,zi[q8],u[q8]));var c=e.ext.web;if(c){$i(n,zi.deviceLanguage,c.browserLang),$i(n,zi.deviceBrowserVersion,c.browserVer),$i(n,zi.deviceBrowser,c.browser);var l=r[po]=r[po]||{},f=l[On]=l[On]||{},p=f[ko]=f[ko]||{};$i(p,"domain",c.domain),$i(p,"isManual",c.isManual?CAe:null),$i(p,"screenRes",c.screenRes),$i(p,"userConsent",c.userConsent?CAe:null)}var m=i.os;m&&$i(n,zi.deviceOS,m[ap]);var d=i.trace;d&&($i(n,zi.operationParentId,d.parentID),$i(n,zi.operationName,qr(t,d[ap])),$i(n,zi.operationId,d[qy]));for(var h={},g=o[Nt]-1;g>=0;g--){var v=o[g];de(v,function(y,x){h[y]=x}),o.splice(g,1)}de(o,function(y,x){h[y]=x});var _=fu(fu({},n),h);_[zi.internalSdkVersion]||(_[zi.internalSdkVersion]=qr(t,"javascript:".concat(dst.Version),64)),r[Yi]=T8(_)}function d0(t,e,r){oe(t)||de(t,function(n,i){yi(i)?r[n]=i:We(i)?e[n]=i:$T()&&(e[n]=Ic()[c0](i))})}function Gy(t,e){oe(t)||de(t,function(r,n){t[r]=n||e})}function jy(t,e,r,n){var i=new a8(t,n,e);$i(i,"sampleRate",r[IT]),(r[On]||{}).startTime&&(i.time=AJ(r[On].startTime)),i.iKey=r.iKey;var o=r.iKey.replace(/-/g,"");return i[ap]=i[ap].replace("{0}",o),pst(t,r,i),r[Yi]=r[Yi]||[],T8(i)}function Vy(t,e){oe(e[On])&&yt(t,1,46,"telemetryItem.baseData cannot be null.")}function IAe(t,e,r){Vy(t,e);var n=e[On][u0]||{},i=e[On][ko]||{};d0(e[po],i,n),oe(r)||Gy(i,r);var o=e[On];if(oe(o))return QA(t,"Invalid input for dependency data"),null;var s=o[ko]&&o[ko][AA]?o[ko][AA]:"GET",a=new Jg(t,o.id,o.target,o[ap],o[a0],o.success,o.responseCode,s,o.type,o.correlationContext,i,n),u=new ip(Jg[Eu],a);return jy(t,Jg[l0],e,u)}function vZ(t,e,r){Vy(t,e);var n={},i={};e[gZ]!==rp[Eu]&&(n.baseTypeSource=e[gZ]),e[gZ]===rp[Eu]?(n=e[On][ko]||{},i=e[On][u0]||{}):e[On]&&d0(e[On],n,i),d0(e[po],n,i),oe(r)||Gy(n,r);var o=e[On][ap],s=new rp(t,o,n,i),a=new ip(rp[Eu],s);return jy(t,rp[l0],e,a)}function wAe(t,e,r){Vy(t,e);var n=e[On][u0]||{},i=e[On][ko]||{};d0(e[po],i,n),oe(r)||Gy(i,r);var o=e[On],s=Xg.CreateFromInterface(t,o,i,n),a=new ip(Xg[Eu],s);return jy(t,Xg[l0],e,a)}function AAe(t,e,r){Vy(t,e);var n=e[On],i=n[ko]||{},o=n[u0]||{};d0(e[po],i,o),oe(r)||Gy(i,r);var s=new np(t,n[ap],n.average,n.sampleCount,n.min,n.max,n.stdDev,i,o),a=new ip(np[Eu],s);return jy(t,np[l0],e,a)}function RAe(t,e,r){Vy(t,e);var n,i=e[On];!oe(i)&&!oe(i[ko])&&!oe(i[ko][a0])?(n=i[ko][a0],delete i[ko][a0]):!oe(e[po])&&!oe(e[po][a0])&&(n=e[po][a0],delete e[po][a0]);var o=e[On],s;((e.ext||{}).trace||{})[qy]&&(s=e.ext.trace[qy]);var a=o.id||s,u=o[ap],c=o.uri,l=o[ko]||{},f=o[u0]||{};if(oe(o.refUri)||(l.refUri=o.refUri),oe(o.pageType)||(l.pageType=o.pageType),oe(o.isLoggedIn)||(l.isLoggedIn=o.isLoggedIn[rm]()),!oe(o[ko])){var p=o[ko];de(p,function(h,g){l[h]=g})}d0(e[po],l,f),oe(r)||Gy(l,r);var m=new Qg(t,u,c,n,l,f,a),d=new ip(Qg[Eu],m);return jy(t,Qg[l0],e,d)}function PAe(t,e,r){Vy(t,e);var n=e[On],i=n[ap],o=n.uri||n.url,s=n[ko]||{},a=n[u0]||{};d0(e[po],s,a),oe(r)||Gy(s,r);var u=new e0(t,i,o,void 0,s,a,n),c=new ip(e0[Eu],u);return jy(t,e0[l0],e,c)}function NAe(t,e,r){Vy(t,e);var n=e[On].message,i=e[On].severityLevel,o=e[On][ko]||{},s=e[On][u0]||{};d0(e[po],o,s),oe(r)||Gy(o,r);var a=new Zg(t,n,i,o,s),u=new ip(Zg[Eu],a);return jy(t,Zg[l0],e,u)}var gZ,On,ko,CAe,dst,DAe=E(()=>{bi();Qd();By();xAe();cm();gZ="baseType",On="baseData",ko="properties",CAe="true";dst={Version:"3.0.6"}});function kAe(t,e){oZ(t,null,null,e)}function LAe(t){var e,r=pr(),n=dr(),i=!1,o=!0,s=eR(_l("OfflineListener"),t);try{if(u(pn())&&(i=!0),r){var a=r.body||r;a.ononline&&u(a)&&(i=!0)}i&&n&&!oe(n[tR])&&(o=n[tR])}catch{i=!1}function u(m){var d=!1;return m&&(d=B8(m,"online",c,s),d&&B8(m,"offline",l,s)),d}function c(){o=!0}function l(){o=!1}function f(){var m=!0;return i?m=o:n&&!oe(n[tR])&&(m=n[tR]),m}function p(){var m=pn();if(m&&i){if(kAe(m,s),r){var d=r.body||r;Re(d.ononline)||kAe(d,s)}i=!1}}return e={},e[rR]=f,e.isListening=function(){return i},e.unload=p,e}var OAe=E(()=>{By();cm()});var MAe,X8,_Z,FAe=E(()=>{bi();Jr();Qd();By();cm();MAe=function(){function t(e,r){var n=[],i=!1;this[ZT]=function(){return n},this._set=function(o){return n=o,n},nt(t,this,function(o){o[nm]=function(s){if(o[f0]()>=r[H8]){i||(yt(e,2,105,"Maximum in-memory buffer size reached: "+o[f0](),!0),i=!0);return}n[im](s)},o[f0]=function(){return n[Nt]},o.size=function(){for(var s=n[Nt],a=0;a<n[Nt];a++)s+=n[a][Nt];return r[nR]||(s+=2),s},o[om]=function(){n=[],i=!1},o.getItems=function(){return n.slice(0)},o[iR]=function(s){if(s&&s[Nt]>0){var a=r[nR]?s.join(`
`):"["+s.join(",")+"]";return a}return null},o[oR]=function(s,a,u){var c=n.slice(0);s=s||e,a=a||{};var l=u?new _Z(s,a):new X8(s,a);return K(c,function(f){l[nm](f)}),l}})}return t.__ieDyn=1,t}(),X8=function(t){Ns(e,t);function e(r,n){var i=t.call(this,r,n)||this;return nt(e,i,function(o,s){o[eS]=function(a){s[om]()},o[Hy]=function(a){}}),i}return e.__ieDyn=1,e}(MAe),_Z=function(t){Ns(e,t);function e(r,n){var i=t.call(this,r,n)||this,o=!1,s=n?.namePrefix,a=n[sR]||{getItem:o8,setItem:s8},u=a.getItem,c=a.setItem;return nt(e,i,function(l,f){var p=g(e[G8]),m=g(e[sm]),d=l._set(p.concat(m));d[Nt]>e[tS]&&(d[Nt]=e[tS]),v(e[sm],[]),v(e[G8],d),l[nm]=function(_){if(l[f0]()>=e[tS]){o||(yt(r,2,67,"Maximum buffer size reached: "+l[f0](),!0),o=!0);return}f[nm](_),v(e.BUFFER_KEY,l[ZT]())},l[om]=function(){f[om](),v(e.BUFFER_KEY,l[ZT]()),v(e[sm],[]),o=!1},l[eS]=function(_){v(e[G8],l._set(h(_,l[ZT]())));var y=g(e[sm]);y instanceof Array&&_ instanceof Array&&(y=y.concat(_),y[Nt]>e[tS]&&(yt(r,1,67,"Sent buffer reached its maximum size: "+y[Nt],!0),y[Nt]=e[tS]),v(e[sm],y))},l[Hy]=function(_){var y=g(e[sm]);y=h(_,y),v(e[sm],y)},l[oR]=function(_,y,x){x=!!x;var b=l[ZT]().slice(0),T=g(e[sm]).slice(0);_=_||r,y=y||{},l[om]();var k=x?new e(_,y):new X8(_,y);return K(b,function(U){k[nm](U)}),x&&k[eS](T),k};function h(_,y){var x=[];return K(y,function(b){!we(b)&&Xe(_,b)===-1&&x[im](b)}),x}function g(_){var y=_;try{y=s?s+"_"+y:y;var x=u(r,y);if(x){var b=Ic().parse(x);if(We(b)&&(b=Ic().parse(b)),b&&ce(b))return b}}catch(T){yt(r,1,42," storage key: "+y+", "+Cc(T),{exception:le(T)})}return[]}function v(_,y){var x=_;try{x=s?s+"_"+x:x;var b=JSON[c0](y);c(r,x,b)}catch(T){c(r,x,JSON[c0]([])),yt(r,2,41," storage key: "+x+", "+Cc(T)+". Buffer cleared",{exception:le(T)})}}}),i}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}(MAe)});var UAe,BAe=E(()=>{Jr();By();cm();UAe=function(){function t(e){nt(t,this,function(r){r.serialize=function(s){var a=n(s,"root");try{return Ic()[c0](a)}catch(u){yt(e,1,48,u&&we(u[rm])?u[rm]():"Error serializing object",null,!0)}};function n(s,a){var u="__aiCircularRefCheck",c={};if(!s)return yt(e,1,48,"cannot serialize object because it is null or undefined",{name:a},!0),c;if(s[u])return yt(e,2,50,"Circular reference detected while serializing object",{name:a},!0),c;if(!s.aiDataContract){if(a==="measurements")c=o(s,"number",a);else if(a==="properties")c=o(s,"string",a);else if(a==="tags")c=o(s,"string",a);else if(ce(s))c=i(s,a);else{yt(e,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:a},!0);try{Ic()[c0](s),c=s}catch(l){yt(e,1,48,l&&we(l[rm])?l[rm]():"Error serializing object",null,!0)}}return c}return s[u]=!0,de(s.aiDataContract,function(l,f){var p=we(f)?f()&1:f&1,m=we(f)?f()&4:f&4,d=f&2,h=s[l]!==void 0,g=Bt(s[l])&&s[l]!==null;if(p&&!h&&!d)yt(e,1,24,"Missing required field specification. The field is required but not present on source",{field:l,name:a});else if(!m){var v=void 0;g?d?v=i(s[l],l):v=n(s[l],l):v=s[l],v!==void 0&&(c[l]=v)}}),delete s[u],c}function i(s,a){var u;if(s)if(!ce(s))yt(e,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:a},!0);else{u=[];for(var c=0;c<s[Nt];c++){var l=s[c],f=n(l,a+"["+c+"]");u[im](f)}}return u}function o(s,a,u){var c;return s&&(c={},de(s,function(l,f){if(a==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f[rm]?c[l]=f[rm]():c[l]="invalid field: toString() is not defined.";else if(a==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var p=parseFloat(f);isNaN(p)?c[l]="NaN":c[l]=p}else c[l]="invalid field: "+u+" is of unknown type.",yt(e,1,c[l],null,!0)})),c}})}return t.__ieDyn=1,t}()});var mst,qAe,HAe=E(()=>{cm();mst=8,qAe=function(){function t(){}return t.prototype.getHashCodeScore=function(e){var r=this.getHashCode(e)/t.INT_MAX_VALUE;return r*100},t.prototype.getHashCode=function(e){if(e==="")return 0;for(;e[Nt]<mst;)e=e.concat(e);for(var r=5381,n=0;n<e[Nt];++n)r=(r<<5)+r+e.charCodeAt(n),r=r&r;return Math.abs(r)},t.INT_MAX_VALUE=2147483647,t}()});var GAe,jAe=E(()=>{Qd();cm();HAe();GAe=function(){function t(){var e=this,r=new qAe,n=new FT;e[K8]=function(i){var o=0;return i[Yi]&&i[Yi][n.userId]?o=r.getHashCodeScore(i[Yi][n.userId]):i.ext&&i.ext.user&&i.ext.user.id?o=r[SAe](i.ext.user.id):i[Yi]&&i[Yi][n.operationId]?o=r.getHashCodeScore(i[Yi][n.operationId]):i.ext&&i.ext.telemetryTrace&&i.ext.telemetryTrace[qy]?o=r.getHashCodeScore(i.ext.telemetryTrace[qy]):o=Math.random()*100,o}}return t}()});var VAe,zAe=E(()=>{Qd();By();cm();jAe();VAe=function(){function t(e,r){this.INT_MAX_VALUE=2147483647;var n=r||Uy(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[iS]=e,this.samplingScoreGenerator=new GAe}return t.prototype.isSampledIn=function(e){var r=this[iS],n=!1;return r==null||r>=100||e.baseType===np[Eu]?!0:(n=this.samplingScoreGenerator[K8](e)<r,n)},t}()});function Q8(t){try{return t.responseText}catch{}return null}function gst(t){return t&&t[j8]}function vst(t){return!isNaN(t)&&t>0&&t<=100}var ai,um,m0,hst,YAe,_st,uR,$Ae=E(()=>{bi();Jr();Qd();By();Nd();ve();DAe();OAe();FAe();BAe();zAe();cm();m0=void 0,hst=65e3;YAe=Wn((ai={endpointUrl:L8(ns,jg+Zf)},ai[nR]=xu(),ai[mZ]=15e3,ai[sZ]=102400,ai.disableTelemetry=xu(),ai[uZ]=xu(!0),ai.isRetryDisabled=xu(),ai[z8]=xu(!0),ai[fZ]=xu(),ai.disableXhr=xu(),ai[lZ]=xu(),ai[aZ]=xu(),ai[pZ]=m0,ai.namePrefix=m0,ai.samplingPercentage=L8(vst,100),ai[V8]=m0,ai[dZ]=m0,ai[H8]=1e4,ai[sR]=!1,ai.httpXHROverride={isVal:gst,v:m0},ai[cZ]=xu(),ai));_st=(um={},um[rp.dataType]=vZ,um[Zg.dataType]=NAe,um[Qg.dataType]=RAe,um[e0.dataType]=PAe,um[Xg.dataType]=wAe,um[np.dataType]=AAe,um[Jg.dataType]=IAe,um),uR=function(t){Ns(e,t);function e(){var r=t.call(this)||this;r.priority=1001,r.identifier=_J;var n,i,o,s,a,u,c,l,f=0,p,m,d,h,g,v,_,y,x,b,T,k,U,z,D,fe,Q,O,w,P,M,L,W;return nt(e,r,function(H,ae){Ee(),H.pause=function(){la(),s=!0},H.resume=function(){s&&(s=!1,i=null,Tt(),ui())},H.flush=function(F,$,se){if(F===void 0&&(F=!0),!s){la();try{return H[rS](F,null,se||1)}catch(_e){yt(H[Do](),1,22,"flush failed, telemetry will not be collected: "+Cc(_e),{exception:le(_e)})}}},H.onunloadFlush=function(){if(!s)if(_||O)try{return H[rS](!0,G,2)}catch(F){yt(H[Do](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Cc(F),{exception:le(F)})}else H.flush(!1)},H.addHeader=function(F,$){l[F]=$},H.initialize=function(F,$,se,_e){H.isInitialized()&&yt(H[Do](),1,28,"Sender is already initialized"),ae.initialize(F,$,se,_e);var ue=H.identifier;u=new UAe($.logger),n=0,i=null,o=0,H[nS]=null,c=0;var B=H[Do]();d=eR(_l("Sender"),$.evtNamespace&&$.evtNamespace()),m=LAe(d),H._addHook(KA(F,function(X){var J=X.cfg;J.storagePrefix&&r8(J.storagePrefix);var ye=o0(null,J,$),pe=ye.getExtCfg(ue,YAe);Ke(H,"_senderConfig",{g:function(){return pe}}),g!==pe.endpointUrl&&(h=g=pe.endpointUrl),y&&y!==pe[V8]&&K(y,function(jr){delete l[jr.header]}),v=pe[sZ],_=(pe[aZ]===!1||pe[z8]===!1)&&WT(),O=pe[cZ],w=!!pe.disableXhr;var Ye=pe[sR],ft=!!pe[uZ]&&(!!Ye||Ay()),gr=pe.namePrefix,lr=ft!==z||ft&&fe!==gr||ft&&D!==Ye;if(H[am]){if(lr)try{H._buffer=H._buffer[oR](B,pe,ft)}catch(jr){yt(H[Do](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Cc(jr),{exception:le(jr)})}Tt()}else H[am]=ft?new _Z(B,pe):new X8(B,pe);fe=gr,z=ft,D=Ye,P=!pe[lZ]&&C8(!0),W=!!pe[fZ],H._sample=new VAe(pe.samplingPercentage,B),b=pe[pZ],Y(b,J)||yt(B,1,100,"Invalid Instrumentation key "+b),y=pe[V8],!NT(h)&&y&&y[Nt]>0?K(y,function(jr){r.addHeader(jr.header,jr.value)}):y=null,Q=pe.enableSendPromise;var Ci=pe.httpXHROverride,Ii=null,Dc=null;Ii=Ve([1,2],!1);var Or={sendPOST:ne};M=function(jr,Ou){return it(Or,jr,Ou)},L=function(jr,Ou){return it(Or,jr,Ou,!1)},!pe[z8]&&WT()&&(Ii=Ve([3],!1)),Ii=O?Ci:Ii||Ci||Or,H[nS]=function(jr,Ou){return it(Ii,jr,Ou)},P&&(p=Oe),Dc=O?Ci:Ve([3,1],!0)||Ci,(O||!p)&&Dc&&(p=function(jr,Ou){return it(Dc,jr,Ou)}),p||(p=M),x=pe.disableTelemetry,T=pe[dZ]||m0,k=pe.isRetryDisabled,U=pe[mZ]}))},H.processTelemetry=function(F,$){$=H._getTelCtx($);var se=$[Do]();try{if(x)return;if(!F){yt(se,1,7,"Cannot send empty telemetry");return}if(F.baseData&&!F[Y8]){yt(se,1,70,"Cannot send telemetry without baseData and baseType");return}if(F[Y8]||(F[Y8]="EventData"),!H[nS]){yt(se,1,28,"Sender was not initialized");return}if(Pe(F))F[IT]=H._sample[iS];else{yt(se,2,33,"Telemetry item was sampled out and not sent",{SampleRate:H._sample[iS]});return}var _e=F.iKey||b,ue=e.constructEnvelope(F,_e,se,T);if(!ue){yt(se,1,47,"Unable to create an AppInsights envelope");return}var B=!1;if(F[Yi]&&F[Yi][wT]&&(K(F[Yi][wT],function(ye){try{ye&&ye(ue)===!1&&(B=!0,QA(se,"Telemetry processor check returns false"))}catch(pe){yt(se,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Cc(pe),{exception:le(pe)},!0)}}),delete F[Yi][wT]),B)return;var X=u.serialize(ue),J=H[am];Tt(X),J[nm](X),ui()}catch(ye){yt(se,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Cc(ye),{exception:le(ye)})}H.processNext(F,$)},H[EAe]=function(F,$,se){F.readyState===4&&he(F.status,$,F.responseURL,se,Z0(F),Q8(F)||F.response)},H[rS]=function(F,$,se){F===void 0&&(F=!0);var _e;if(!s)try{var ue=H[am];if(x)ue[om]();else{if(ue[f0]()>0){var B=ue.getItems();ev(se||0,F),$?_e=$.call(H,B,F):_e=H[nS](B,F)}o=+new Date}la()}catch(J){var X=BJ();(!X||X>9)&&yt(H[Do](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Cc(J),{exception:le(J)})}return _e},H._doTeardown=function(F,$){H.onunloadFlush(),zJ(m,!1),Ee()},H[p0]=function(F,$,se){yt(H[Do](),2,26,"Failed to send telemetry.",{message:$}),H._buffer&&H._buffer[Hy](F)},H[$8]=function(F,$){for(var se=[],_e=[],ue=$.errors.reverse(),B=0,X=ue;B<X.length;B++){var J=X[B],ye=F.splice(J.index,1)[0];Cm(J.statusCode)?_e[im](ye):se[im](ye)}F[Nt]>0&&H[aR](F,$[cR]),se[Nt]>0&&H[p0](se,Z0(null,["partial success",$[cR],"of",$.itemsReceived].join(" "))),_e[Nt]>0&&(Lt(_e),yt(H[Do](),2,40,"Partial success. Delivered: "+F[Nt]+", Failed: "+se[Nt]+". Will retry to send "+_e[Nt]+" our of "+$[TAe]+" items"))},H[aR]=function(F,$){H._buffer&&H._buffer[Hy](F)},H._xdrOnLoad=function(F,$){var se=Q8(F);if(F&&(se+""=="200"||se===""))n=0,H[aR]($,0);else{var _e=mt(se);_e&&_e.itemsReceived&&_e.itemsReceived>_e[cR]&&!k?H[$8]($,_e):H[p0]($,Im(F))}};function Pe(F){return H._sample.isSampledIn(F)}function Ve(F,$){for(var se,_e=null,ue=null,B=0;ue==null&&B<F[Nt];)_e=F[B],!w&&_e===1?qJ()?ue=w1:I8()&&(ue=ne):_e===2&&C8($)?ue=st:WT()&&_e===3&&(ue=ie),B++;return ue?(se={},se[j8]=ue,se):null}function lt(F,$,se,_e){$===200&&F?H._onSuccess(F,F[Nt]):_e&&H[p0](F,_e)}function it(F,$,se,_e){_e===void 0&&(_e=!0);var ue=function(J,ye,pe){return lt($,J,ye,pe)},B=De($),X=F&&F[j8];return X&&B?(_e&&H._buffer[eS]($),X(B,ue,!se)):null}function De(F){var $;if(ce(F)&&F[Nt]>0){var se=H._buffer[iR](F),_e=($={},$[po]=se,$.urlString=h,$.headers=l,$.disableXhrSync=w,$.disableFetchKeepAlive=!P,$[oS]=F,$);return _e}return null}function st(F,$,se){return Ge(F,$,!1)}function Tt(F){var $=F?F[Nt]:0;return H[am].size()+$>v?((!m||m[rR]())&&H[rS](!0,null,10),!0):!1}function he(F,$,se,_e,ue,B){var X=null;if(H._appId||(X=mt(B),X&&X.appId&&(H._appId=X.appId)),(F<200||F>=300)&&F!==0){if((F===301||F===307||F===308)&&!Me(se)){H[p0]($,ue);return}!k&&Cm(F)?(Lt($),yt(H[Do](),2,40,". Response code "+F+". Will retry to send "+$[Nt]+" items.")):H[p0]($,ue)}else if(m&&!m[rR]()){if(!k){var J=10;Lt($,J),yt(H[Do](),2,40,". Offline - Response Code: ".concat(F,". Offline status: ").concat(!m.isOnline(),". Will retry to send ").concat($.length," items."))}}else Me(se),F===206?(X||(X=mt(B)),X&&!k?H[$8]($,X):H[p0]($,ue)):(n=0,H[aR]($,_e))}function Me(F){return c>=10?!1:!oe(F)&&F!==""&&F!==h?(h=F,++c,!0):!1}function N(F,$,se,_e){try{F($,se,_e)}catch{}}function G(F,$){var se=function(ue,B,X){return lt(F,ue,B,X)};if(p)p(F,!1);else{var _e=De(F);ie(_e,se,!$)}}function te(F,$){var se=dr(),_e=h,ue=H[am],B=ue[iR](F),X=new Blob([B],{type:"text/plain;charset=UTF-8"}),J=se.sendBeacon(_e,X);return J&&H._onSuccess(F,F[Nt]),J}function ie(F,$,se){var _e=F,ue=_e&&_e[oS];if(ce(ue)&&ue[Nt]>0&&!te(ue,$))if(W)L&&L(ue,!0),yt(H[Do](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var B=[],X=0;X<ue[Nt];X++){var J=ue[X];te([J],$)||B[im](J)}B[Nt]>0&&(L&&L(B,!0),yt(H[Do](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function ne(F,$,se){var _e=F,ue,B,X,J=new XMLHttpRequest,ye=h;try{J[CT]=!0}catch{}return J.open("POST",ye,!se),J[W8]("Content-type","application/json"),NT(ye)&&J[W8](Wd[6],Wd[7]),K(cn(l),function(pe){J[W8](pe,l[pe])}),J.onreadystatechange=function(){var pe=_e[oS];H._xhrReadyStateChange(J,pe,pe[Nt]),J.readyState===4&&B&&B(!0)},J.onerror=function(pe){N($,400,{},Z0(J)),X&&X(pe)},!se&&Q&&(ue=xi(function(pe,Ye){B=pe,X=Ye})),J.send(F[po]),ue}function Oe(F,$){var se=function(X,J,ye){return lt(F,X,J,ye)};if(ce(F)){for(var _e=F[Nt],ue=0;ue<F[Nt];ue++)_e+=F[ue][Nt];var B=De(F);f+_e<=hst?Ge(B,se,!0):WT()?ie(B,se,!$):(L&&L(F,!0),yt(H[Do](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Ge(F,$,se){var _e,ue=h,B=F,X=B[po],J=new Blob([X],{type:"application/json"}),ye,pe,Ye,ft=new Headers,gr=X[Nt],lr=!1,Ci=!1;NT(ue)&&ft.append(Wd[6],Wd[7]),K(cn(l),function(Or){ft.append(Or,l[Or])});var Ii=(_e={method:"POST",headers:ft,body:J},_e[CT]=!0,_e);se&&(Ii.keepalive=!0,lr=!0,f+=gr);var Dc=new Request(ue,Ii);try{Dc[CT]=!0}catch{}!se&&Q&&(ye=xi(function(Or,jr){pe=Or,Ye=jr}));try{du(fetch(Dc),function(Or){if(se&&(f-=gr,gr=0),!Ci)if(Ci=!0,Or.rejected)N($,400,{},Or.reason&&Or.reason.message),Ye&&Ye(Or.reason);else{var jr=Or.value;jr.ok?du(jr.text(),function(Ou){var Gre=B[oS];he(jr.status,Gre,jr.url,Gre[Nt],jr.statusText,Ou.value||""),pe&&pe(!0)}):(N($,400,{},jr.statusText),pe&&pe(!1))}})}catch(Or){Ci||(N($,400,{},le(Or)),Ye&&Ye(Or))}return lr&&!Ci&&(Ci=!0,N($,200,{}),pe&&pe(!0)),ye}function mt(F){try{if(F&&F!==""){var $=Ic().parse(F);if($&&$.itemsReceived&&$.itemsReceived>=$[cR]&&$.itemsReceived-$.itemsAccepted===$.errors[Nt])return $}}catch(se){yt(H[Do](),1,43,"Cannot parse the response. "+Cc(se),{response:F})}return null}function Lt(F,$){if($===void 0&&($=1),!(!F||F[Nt]===0)){var se=H[am];se[Hy](F),n++;for(var _e=0,ue=F;_e<ue.length;_e++){var B=ue[_e];se[nm](B)}Gr($),ui()}}function Gr(F){var $=10,se;if(n<=1)se=$;else{var _e=(Math.pow(2,n)-1)/2,ue=Math.floor(Math.random()*_e*$)+1;ue=F*ue,se=Math.max(Math.min(ue,3600),$)}var B=qt()+se*1e3;i=B}function ui(){if(!a&&!s){var F=i?Math.max(0,i-qt()):0,$=Math.max(U,F);a=In(function(){a=null,H[rS](!0,null,1)},$)}}function la(){a&&a.cancel(),a=null,i=null}function Cm(F){return F===401||F===403||F===408||F===429||F===500||F===502||F===503||F===504}function Z0(F,$){return F?"XMLHttpRequest,Status:"+F.status+",Response:"+Q8(F)||F.response||"":$}function w1(F,$,se){var _e=F,ue=pn(),B=new XDomainRequest,X=_e[po];B.onload=function(){var pe=_e[oS];H._xdrOnLoad(B,pe)},B.onerror=function(){N($,400,{},Im(B))};var J=ue&&ue.location&&ue.location.protocol||"";if(h.lastIndexOf(J,0)!==0){yt(H[Do](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),H._buffer[om]();return}var ye=h.replace(/^(https?:)/,"");B.open("POST",ye),B.send(X)}function Im(F,$){return F?"XDomainRequest,Response:"+Q8(F)||"":$}function fa(){var F="getNotifyMgr";return H.core[F]?H.core[F]():H.core._notificationManager}function ev(F,$){var se=fa();if(se&&se[hZ])try{se[hZ](F,$)}catch(_e){yt(H[Do](),1,74,"send request notification failed: "+Cc(_e),{exception:le(_e)})}}function Y(F,$){var se=$.disableInstrumentationKeyValidation,_e=oe(se)?!1:se;if(_e)return!0;var ue="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",B=new RegExp(ue);return B.test(F)}function Ee(){H[nS]=null,H[am]=null,H._appId=null,H._sample=null,l={},m=null,n=0,i=null,o=null,s=!1,a=null,u=null,c=0,f=0,p=null,d=null,h=null,g=null,v=0,_=!1,y=null,x=!1,b=null,T=m0,k=!1,z=null,fe=m0,w=!1,P=!1,W=!1,M=null,L=null,Ke(H,"_senderConfig",{g:function(){return S8({},YAe)}})}}),r}return e.constructEnvelope=function(r,n,i,o){var s;n!==r.iKey&&!oe(n)?s=fu(fu({},r),{iKey:n}):s=r;var a=_st[s.baseType]||vZ;return a(i,s,o)},e}(rZ)});var yZ=E(()=>{$Ae()});var bZ,zy,Rt,Yy,$y,sS,lm,bl,Tu,Zr,h0,ur,g0,J8,Wy,Ky,cp,Ga,v0,xZ,Su,_0,mo,Z8,aS,cS,uS,y0,EZ,ja,lR,eM,tM,up,wc,lS,b0,xl,Va,fS,Xy,Ac,x0,fR,rM,nM,pS,WAe,pR,Qy,El,iM,oM,sM,aM,Mn=E(()=>{bZ="toLowerCase",zy="blkVal",Rt="length",Yy="rdOnly",$y="notify",sS="warnToConsole",lm="throwInternal",bl="setDf",Tu="watch",Zr="logger",h0="apply",ur="push",g0="splice",J8="hdlr",Wy="cancel",Ky="initialize",cp="identifier",Ga="isInitialized",v0="getPlugin",xZ="pollInternalLogs",Su="name",_0="time",mo="processNext",Z8="getProcessTelContext",aS="getNotifyMgr",cS="addNotificationListener",uS="removeNotificationListener",y0="enabled",EZ="stopPollingInternalLogs",ja="unload",lR="onComplete",eM="version",tM="loggingLevelConsole",up="createNew",wc="teardown",lS="messageId",b0="message",xl="isAsync",Va="diagLog",fS="_doTeardown",Xy="update",Ac="getNext",x0="setNextPlugin",fR="userAgent",rM="split",nM="nodeType",pS="replace",WAe="logInternalMessage",pR="isChildEvt",Qy="getCtx",El="setCtx",iM="complete",oM="traceId",sM="spanId",aM="traceFlags"});function KAe(t,e){TZ||(TZ=wd("AggregationError",function(n,i){i[Rt]>1&&(n.errors=i[1])}));var r=t||"One or more errors occurred.";throw K(e,function(n,i){r+=`
`.concat(i," > ").concat(le(n))}),new TZ(r,e||[])}var TZ,XAe=E(()=>{ve();Mn()});var Rc,Dr,E0,Qn,cM,dR,fm,Jy,za,Zy,dS,T0,mS,lp,hS,uM,lM,QAe,as=E(()=>{Rc=void 0,Dr="",E0="channels",Qn="core",cM="createPerfMgr",dR="disabled",fm="extensionConfig",Jy="extensions",za="processTelemetry",Zy="priority",dS="eventsSent",T0="eventsDiscarded",mS="eventsSendRequest",lp="perfEvent",hS="getPerfMgr",uM="domain",lM="path",QAe="Not dynamic - "});function gS(t){return!oe(t)}function mR(t){var e=t;return e&&We(e)&&(e=e[pS](bst,function(r,n){return n.toUpperCase()}),e=e[pS](xst,"_"),e=e[pS](Est,function(r,n){return"_"+n})),e}function cs(t,e){return t&&e?Qr(t,e)!==-1:!1}function fM(t){return t&&t.toISOString()||""}function hR(t){return so(t)?t[Su]:Dr}function S0(t,e,r,n,i){var o=r;return t&&(o=t[e],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,t[e]=o)),o}function SZ(t,e,r){var n;return t?(n=t[e],!n&&oe(n)&&(n=Re(r)?{}:r,t[e]=n)):n=Re(r)?{}:r,n}function Tst(t,e){var r=null,n=null;return we(t)?r=t:n=t,function(){var i=arguments;if(r&&(n=r()),n)return n[e][h0](n,i)}}function e1(t,e,r,n,i){t&&e&&r&&(i!==!1||Re(t[e]))&&(t[e]=Tst(r,n))}function t1(t,e,r,n){return t&&e&&Bt(t)&&ce(r)&&K(r,function(i){We(i)&&e1(t,i,e,i,n)}),t}var yst,bst,xst,Est,tgr,C0=E(()=>{ve();Mn();as();yst="getPrototypeOf",bst=/-([a-z])/g,xst=/([^\w\d_$])/g,Est=/^(\d+[\w\d_$])/,tgr=Object[yst]});function ZAe(t){if(t&&Pst){var e=tt("__mockLocation");if(e)return e}return typeof location===ts&&location?location:tt(Sst)}function eRe(){return typeof console!==Co?console:tt(Cst)}function wZ(){return!!(typeof JSON===ts&&JSON||tt(JAe)!==null)}function tRe(){return wZ()?JSON||tt(JAe):null}function rRe(){return tt(Ist)}function nRe(){return tt(wst)}function gR(){var t=dr();if(t&&(t[fR]!==IZ||CZ===null)){IZ=t[fR];var e=(IZ||Dr)[bZ]();CZ=cs(e,Ast)||cs(e,Rst)}return CZ}var Sst,Cst,JAe,Ist,wst,Ast,Rst,CZ,IZ,Pst,pM=E(()=>{"use strict";bi();ve();Mn();C0();as();Sst="location",Cst="console",JAe="JSON",Ist="crypto",wst="msCrypto",Ast="msie",Rst="trident/",CZ=null,IZ=null,Pst=!1});function Nst(t){t<0&&(t>>>=0),vR=sRe+t&r1,_R=aRe-t&r1,cRe=!0}function Dst(){try{var t=qt()&2147483647;Nst((Math.random()*oRe^t)+t)}catch{}}function iRe(t){var e=0,r=rRe()||nRe();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&r1),e===0&&gR()&&(cRe||Dst(),e=kst()&r1),e===0&&(e=Math.floor(oRe*Math.random()|0)),t||(e>>>=0),e}function kst(t){_R=36969*(_R&65535)+(_R>>16)&r1,vR=18e3*(vR&65535)+(vR>>16)&r1;var e=(_R<<16)+(vR&65535)>>>0&r1|0;return t||(e>>>=0),e}function uRe(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=iRe()>>>0,n=0,i=Dr;i[Rt]<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(iRe()<<2&4294967295|r&3)>>>0,n=0);return i}var oRe,r1,sRe,aRe,cRe,vR,_R,lRe=E(()=>{ve();Mn();pM();as();oRe=4294967296,r1=4294967295,sRe=123456789,aRe=987654321,cRe=!1,vR=sRe,_R=aRe});function pRe(t){return t[nM]===1||t[nM]===9||!+t[nM]}function Mst(t,e){var r=e[t.id];if(!r){r={};try{pRe(e)&&Ke(e,t.id,{e:!1,v:r})}catch{}}return r}function yR(t,e){return e===void 0&&(e=!1),mR(t+Ost+++(e?"."+fRe:Dr)+Lst)}function dRe(t){var e={id:yR("_aiData-"+(t||Dr)+"."+fRe),accept:function(r){return pRe(r)},get:function(r,n,i,o){var s=r[e.id];return s?s[mR(n)]:(o&&(s=Mst(e,r),s[mR(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return e}var fRe,Lst,Ost,dM=E(()=>{ve();Mn();C0();as();lRe();fRe="3.0.6",Lst="."+uRe(6),Ost=0});function mM(t){return t&&Bt(t)&&(t.isVal||t.fb||Nr(t,"v")||Nr(t,"mrg")||Nr(t,"ref")||t.set)}function mRe(t,e,r){var n,i=r.dfVal||kf;if(e&&r.fb){var o=r.fb;ce(o)||(o=[o]);for(var s=0;s<o[Rt];s++){var a=o[s],u=e[a];if(i(u)?n=u:t&&(u=t.cfg[a],i(u)&&(n=u),t.set(t.cfg,Cr(a),u)),i(n))break}}return!i(n)&&i(r.v)&&(n=r.v),n}function AZ(t,e,r){var n=r;if(r&&mM(r)&&(n=mRe(t,e,r)),n){mM(n)&&(n=AZ(t,e,n));var i;ce(n)?(i=[],i[Rt]=n[Rt]):dt(n)&&(i={}),i&&(de(n,function(o,s){s&&mM(s)&&(s=AZ(t,e,s)),i[o]=s}),n=i)}return n}function bR(t,e,r,n){var i,o,s,a=n,u,c,l,f;mM(a)?(i=a.isVal,o=a.set,l=a[Yy],f=a[zy],u=a.mrg,c=a.ref,!c&&Re(c)&&(c=!!u),s=mRe(t,e,a)):s=n,f&&t[zy](e,r);var p,m=!0,d=e[r];(d||!oe(d))&&(p=d,m=!1,i&&p!==s&&!i(p)&&(p=s,m=!0),o&&(p=o(p,s,e),m=p===s)),m?s?p=AZ(t,e,s):p=s:(dt(p)||ce(s))&&u&&s&&(dt(s)||ce(s))&&de(s,function(h,g){bR(t,p,h,g)}),t.set(e,r,p),c&&t.ref(e,r),l&&t[Yy](e,r)}var RZ=E(()=>{ve();Mn()});function PZ(t){if(t){var e;if(ce(t)?(e=[],e[Rt]=t[Rt]):dt(t)&&(e={}),e)return de(t,function(r,n){e[r]=PZ(n)}),e}return t}function gRe(t){if(t){var e=t[fp]||t;if(e.cfg&&(e.cfg===t||e.cfg[fp]===e))return e}return null}function vRe(t){if(t&&(dt(t)||ce(t)))try{t[hRe]=!0}catch{}return t}function hM(t,e,r){var n=!1;return r&&!t[e.blkVal]&&(n=r[Fst],!n&&!r[hRe]&&(n=dt(r)||ce(r))),n}function gM(t){kr("InvalidAccess:"+t)}var fp,hRe,Fst,NZ=E(()=>{ve();Mn();fp=os("[[ai_dynCfg_1]]"),hRe=os("[[ai_blkDynCfg_1]]"),Fst=os("[[ai_frcDynCfg_1]]")});function Bst(t,e,r){ce(e)&&K(Ust,function(n){var i=e[n];e[n]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[h0](this,o);return xR(t,e,r,"Patching"),a}})}function vM(t,e){var r=pc(t,e);return r&&r.get}function qst(t,e,r,n){var i={n:r,h:[],trk:function(c){c&&c.fn&&(Xe(i.h,c)===-1&&i.h[ur](c),t.trk(c,i))},clr:function(c){var l=Xe(i.h,c);l!==-1&&i.h[g0](l,1)}},o=!0,s=!1;function a(){o&&(s=s||hM(a,t,n),n&&!n[fp]&&s&&(n=xR(t,n,r,"Converting")),o=!1);var c=t.act;return c&&i.trk(c),n}a[t.prop]={chng:function(){t.add(i)}};function u(c){if(n!==c){a[t.ro]&&!t.upd&&gM("["+r+"] is read-only:"+le(e)),o&&(s=s||hM(a,t,n),o=!1);var l=s&&a[t.rf];if(s)if(l){de(n,function(p){n[p]=c?c[p]:Rc});try{de(c,function(p,m){ER(t,n,p,m)}),c=n}catch(p){vS((t.hdlr||{})[Zr],r,"Assigning",p),s=!1}}else n&&n[fp]&&de(n,function(p){var m=vM(n,p);if(m){var d=m[t.prop];d&&d.chng()}});if(c!==n){var f=c&&hM(a,t,c);!l&&f&&(c=xR(t,c,r,"Converting")),n=c,s=f}t.add(i)}}Ke(e,i.n,{g:a,s:u})}function ER(t,e,r,n){if(e){var i=vM(e,r),o=i&&!!i[t.prop];o?e[r]=n:qst(t,e,r,n)}return e}function _M(t,e,r,n){if(e){var i=vM(e,r),o=i&&!!i[t.prop],s=n&&n[0],a=n&&n[1],u=n&&n[2];if(!o){if(u)try{vRe(e)}catch(c){vS((t.hdlr||{})[Zr],r,"Blocking",c)}try{ER(t,e,r,e[r]),i=vM(e,r)}catch(c){vS((t.hdlr||{})[Zr],r,"State",c)}}s&&(i[t.rf]=s),a&&(i[t.ro]=a),u&&(i[t.blkVal]=!0)}return e}function xR(t,e,r,n){try{de(e,function(i,o){ER(t,e,i,o)}),e[fp]||(ln(e,fp,{get:function(){return t[J8]}}),Bst(t,e,r))}catch(i){vS((t.hdlr||{})[Zr],r,n,i)}return e}var Ust,vS,_Re=E(()=>{ve();as();Mn();NZ();Ust=["push","pop","shift","unshift","splice"],vS=function(t,e,r,n){t&&t[lm](3,108,"".concat(r," [").concat(e,"] failed - ")+le(n))}});function yRe(t){var e,r=Cn(TR+"get"+t.uid+SR),n=Cn(TR+"ro"+t.uid+SR),i=Cn(TR+"rf"+t.uid+SR),o=Cn(TR+"blkVal"+t.uid+SR),s=Cn(TR+"dtl"+t.uid+SR),a=null,u=null,c;function l(d,h){var g=c.act;try{c.act=d,d&&d[s]&&(K(d[s],function(_){_.clr(d)}),d[s]=[]),h({cfg:t.cfg,set:t.set.bind(t),setDf:t[bl].bind(t),ref:t.ref.bind(t),rdOnly:t[Yy].bind(t)})}catch(_){var v=t[Zr];throw v&&v[lm](1,107,le(_)),_}finally{c.act=g||null}}function f(){if(a){var d=a;a=null,u&&u[Wy](),u=null;var h=[];if(K(d,function(g){if(g&&(g[s]&&(K(g[s],function(v){v.clr(g)}),g[s]=null),g.fn))try{l(g,g.fn)}catch(v){h[ur](v)}}),a)try{f()}catch(g){h[ur](g)}h[Rt]>0&&KAe("Watcher error(s): ",h)}}function p(d){if(d&&d.h[Rt]>0){a||(a=[]),u||(u=In(function(){u=null,f()},0));for(var h=0;h<d.h[Rt];h++){var g=d.h[h];g&&Xe(a,g)===-1&&a[ur](g)}}}function m(d,h){if(d){var g=d[s]=d[s]||[];Xe(g,h)===-1&&g[ur](h)}}return c=(e={prop:r,ro:n,rf:i},e[zy]=o,e[J8]=t,e.add=p,e[$y]=f,e.use=l,e.trk=m,e),c}var TR,SR,bRe=E(()=>{ve();XAe();Mn();TR="[[ai_",SR="]]"});function Hst(t,e){var r={fn:e,rm:function(){r.fn=null,t=null,e=null}};return t.use(r,e),r}function Gst(t,e,r){var n,i=gRe(e);if(i)return i;var o=yR("dyncfg",!0),s=e&&r!==!1?e:PZ(e),a;function u(){a[$y]()}function c(v,_,y){try{v=ER(a,v,_,y)}catch(x){vS(t,_,"Setting value",x)}return v[_]}function l(v){return Hst(a,v)}function f(v,_){a.use(null,function(y){var x=a.upd;try{Re(_)||(a.upd=_),v(y)}finally{a.upd=x}})}function p(v,_){var y;return _M(a,v,_,(y={},y[0]=!0,y))[_]}function m(v,_){var y;return _M(a,v,_,(y={},y[1]=!0,y))[_]}function d(v,_){var y;return _M(a,v,_,(y={},y[2]=!0,y))[_]}function h(v,_){return _&&de(_,function(y,x){bR(g,v,y,x)}),v}var g=(n={uid:null,cfg:s},n[Zr]=t,n[$y]=u,n.set=c,n[bl]=h,n[Tu]=l,n.ref=p,n[Yy]=m,n[zy]=d,n._block=f,n);return Ke(g,"uid",{c:!1,e:!1,w:!1,v:o}),a=yRe(g),xR(a,s,"config","Creating"),g}function jst(t,e){t?(t[sS](e),t[lm](2,108,e)):gM(e)}function Wi(t,e,r,n){var i=Gst(r,t||{},n);return e&&i[bl](i.cfg,e),i}function pp(t,e,r){var n=t[fp]||t;return n.cfg&&(n.cfg===t||n.cfg[fp]===n)?n[Tu](e):(jst(r,QAe+le(t)),Wi(t,null,r)[Tu](e))}var I0=E(()=>{ve();dM();as();Mn();RZ();_Re();bRe();NZ()});function _S(t,e){if(t&&t[ja])return t[ja](e)}function DZ(t,e,r){var n;return r||(n=xi(function(i){r=i})),t&&gg(t)>0?du(_S(t[0],e),function(){DZ(ao(t,1),e,r)}):r(),n}var xRe=E(()=>{Nd();ve();Mn()});var ERe,TRe=E(()=>{ERe=500});function kZ(t){return{mrg:!0,v:t}}function LZ(t,e,r){return{fb:r,isVal:t,v:e}}var OZ=E(()=>{});function Vst(t,e){return function(){var r=arguments,n=FZ(e);if(n){var i=n.listener;i&&i[t]&&i[t][h0](i,r)}}}function zst(){var t=tt("Microsoft");return t&&(bM=t.ApplicationInsights),bM}function FZ(t){var e=bM;return!e&&t.disableDbgExt!==!0&&(e=bM||zst()),e?e.ChromeDbgExt:null}function SRe(t){if(!yM){yM={};for(var e=0;e<MZ[Rt];e++)yM[MZ[e]]=Vst(MZ[e],t)}return yM}var MZ,bM,yM,UZ=E(()=>{ve();Mn();as();MZ=[dS,T0,mS,lp],bM=null});function CRe(t){return t?'"'+t[pS](/\"/g,Dr)+'"':Dr}function BZ(t,e){var r=eRe();if(r){var n="log";r[t]&&(n=t),we(r[n])&&r[n](e)}}function EM(t,e){return(t||{})[Zr]||new CR(e)}function wRe(t){return t||new CR}function Ya(t,e,r,n,i,o){o===void 0&&(o=!1),wRe(t)[lm](e,r,n,i,o)}function ARe(t,e){wRe(t)[sS](e)}var yS,IRe,Yst,$st,Wst,Kst,Xst,xM,CR,w0=E(()=>{"use strict";Jr();ve();I0();Mn();UZ();pM();as();IRe="warnToConsole",Yst="AI (Internal): ",$st="AI: ",Wst="AITR_",Kst={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Xst=(yS={},yS[0]=null,yS[1]="errorToConsole",yS[2]=IRe,yS[3]="debugToConsole",yS);xM=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o[lS]=e,o[b0]=(n?$st:Yst)+e;var s=Dr;wZ()&&(s=tRe().stringify(i));var a=(r?" message:"+CRe(r):Dr)+(i?" props:"+CRe(s):Dr);o[b0]+=a}return t.dataType="MessageData",t}();CR=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={},i,o,s,a,u;nt(t,this,function(c){u=f(e||{}),c.consoleLoggingLevel=function(){return i},c[lm]=function(d,h,g,v,_){_===void 0&&(_=!1);var y=new xM(h,g,_,v);if(a)throw le(y);var x=Xst[d]||IRe;if(Re(y[b0]))m("throw"+(d===1?"Critical":"Warning"),y);else{if(_){var b=+y[lS];!n[b]&&i>=d&&(c[x](y[b0]),n[b]=!0)}else i>=d&&c[x](y[b0]);l(d,y)}},c.debugToConsole=function(d){BZ("debug",d),m("warning",d)},c[sS]=function(d){BZ("warn",d),m("warning",d)},c.errorToConsole=function(d){BZ("error",d),m("error",d)},c.resetInternalMessageCount=function(){r=0,n={}},c[WAe]=l,c[ja]=function(d){u&&u.rm(),u=null};function l(d,h){if(!p()){var g=!0,v=Wst+h[lS];if(n[v]?g=!1:n[v]=!0,g&&(d<=o&&(c.queue[ur](h),r++,m(d===1?"error":"warn",h)),r===s)){var _="Internal events throttle limit per PageView reached for this app.",y=new xM(23,_,!1);c.queue[ur](y),d===1?c.errorToConsole(_):c[sS](_)}}}function f(d){return pp(Wi(d,Kst,c).cfg,function(h){var g=h.cfg;i=g[tM],o=g.loggingLevelTelemetry,s=g.maxMessageLimit,a=g.enableDebug})}function p(){return r>=s}function m(d,h){var g=FZ(e||{});g&&g[Va]&&g[Va](d,h)}})}return t.__ieDyn=1,t}()});function zZ(){!dp&&(dp=mc(function(){return pr()}))}function SM(t){return t?t.isEnabled():!0}function HRe(t,e){return e&&t&&ce(t.ignoreCookies)?Xe(t.ignoreCookies,e)!==-1:!1}function Jst(t,e){return e&&t&&ce(t.blockedCookies)&&Xe(t.blockedCookies,e)!==-1?!0:HRe(t,e)}function MRe(t,e){var r=e[y0];if(oe(r)){var n=void 0;Re(t[NRe])||(n=!t[NRe]),Re(t[jZ])||(n=!t[jZ]),r=n}return r}function GRe(t,e){var r,n,i,o,s,a,u,c,l;t=Wi(t||ORe,null,e).cfg,s=pp(t,function(p){p[bl](p.cfg,Qst),n=p.ref(p.cfg,"cookieCfg"),i=n[lM]||"/",o=n[uM],a=MRe(t,n)!==!1,u=n.getCookie||Zst,c=n.setCookie||qRe,l=n.delCookie||qRe},e);var f=(r={isEnabled:function(){var p=MRe(t,n)!==!1&&a&&FRe(e),m=ORe[DRe];return p&&m&&f!==m&&(p=SM(m)),p},setEnabled:function(p){a=p!==!1,n[y0]=p},set:function(p,m,d,h,g){var v=!1;if(SM(f)&&!Jst(n,p)){var _={},y=St(m||Dr),x=Qr(y,";");if(x!==-1&&(y=St(dc(m,x)),_=jRe(un(m,x+1))),S0(_,uM,h||o,ns,Re),!oe(d)){var b=gR();if(Re(_[HZ])){var T=qt(),k=T+d*1e3;if(k>0){var U=new Date;U.setTime(k),S0(_,HZ,URe(U,b?RRe:PRe)||URe(U,b?RRe:PRe)||Dr,ns)}}b||S0(_,"max-age",Dr+d,null,Re)}var z=ZAe();z&&z.protocol==="https:"&&(S0(_,"secure",null,null,Re),GZ===null&&(GZ=!eat((dr()||{})[fR])),GZ&&S0(_,"SameSite","None",null,Re)),S0(_,lM,g||i,null,Re),c(p,BRe(y,_)),v=!0}return v},get:function(p){var m=Dr;return SM(f)&&!HRe(n,p)&&(m=u(p)),m},del:function(p,m){var d=!1;return SM(f)&&(d=f.purge(p,m)),d},purge:function(p,m){var d,h=!1;if(FRe(e)){var g=(d={},d[lM]=m||"/",d[HZ]="Thu, 01 Jan 1970 00:00:01 GMT",d);gR()||(g["max-age"]="0"),l(p,BRe(Dr,g)),h=!0}return h}},r[ja]=function(p){s&&s.rm(),s=null},r);return f[DRe]=f,f}function FRe(t){if(TM===null){TM=!1,!dp&&zZ();try{var e=dp.v||{};TM=e[VZ]!==void 0}catch(r){Ya(t,2,68,"Cannot access document.cookie - "+hR(r),{exception:le(r)})}}return TM}function jRe(t){var e={};if(t&&t[Rt]){var r=St(t)[rM](";");K(r,function(n){if(n=St(n||Dr),n){var i=Qr(n,"=");i===-1?e[n]=null:e[St(dc(n,i))]=St(un(n,i+1))}})}return e}function URe(t,e){return we(t[e])?t[e]():null}function BRe(t,e){var r=t||Dr;return de(e,function(n,i){r+="; "+n+(oe(i)?Dr:"="+i)}),r}function Zst(t){var e=Dr;if(!dp&&zZ(),dp.v){var r=dp.v[VZ]||Dr;kRe!==r&&(LRe=jRe(r),kRe=r),e=St(LRe[t]||Dr)}return e}function qRe(t,e){!dp&&zZ(),dp.v&&(dp.v[VZ]=t+"="+e)}function eat(t){return We(t)?!!(cs(t,"CPU iPhone OS 12")||cs(t,"iPad; CPU OS 12")||cs(t,"Macintosh; Intel Mac OS X 10_14")&&cs(t,"Version/")&&cs(t,"Safari")||cs(t,"Macintosh; Intel Mac OS X 10_14")&&_c(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||cs(t,"Chrome/5")||cs(t,"Chrome/6")||cs(t,"UnrealEngine")&&!cs(t,"Chrome")||cs(t,"UCBrowser/12")||cs(t,"UCBrowser/11")):!1}var qZ,n1,RRe,PRe,VZ,HZ,NRe,jZ,DRe,TM,GZ,kRe,dp,LRe,ORe,Qst,VRe=E(()=>{ve();OZ();I0();Mn();w0();pM();C0();as();RRe="toGMTString",PRe="toUTCString",VZ="cookie",HZ="expires",NRe="isCookieUseDisabled",jZ="disableCookiesUsage",DRe="_ckMgr",TM=null,GZ=null,kRe=null,LRe={},ORe={},Qst=(qZ={cookieCfg:kZ((n1={},n1[uM]={fb:"cookieDomain",dfVal:gS},n1.path={fb:"cookiePath",dfVal:gS},n1.enabled=Rc,n1.ignoreCookies=Rc,n1.blockedCookies=Rc,n1)),cookieDomain:Rc,cookiePath:Rc},qZ[jZ]=Rc,qZ)});function IR(t,e,r,n){K(t,function(i){if(i&&i[e])if(r)In(function(){return n(i)},0);else try{n(i)}catch{}})}var tat,zRe,YRe=E(()=>{Jr();Nd();ve();I0();Mn();as();tat={perfEvtsSendAll:!1};zRe=function(){function t(e){this.listeners=[];var r,n,i=[],o=Wi(e,tat);n=o[Tu](function(s){r=!!s.cfg.perfEvtsSendAll}),nt(t,this,function(s){Ke(s,"listeners",{g:function(){return i}}),s[cS]=function(a){i[ur](a)},s[uS]=function(a){for(var u=Xe(i,a);u>-1;)i[g0](u,1),u=Xe(i,a)},s[dS]=function(a){IR(i,dS,!0,function(u){u[dS](a)})},s[T0]=function(a,u){IR(i,T0,!0,function(c){c[T0](a,u)})},s[mS]=function(a,u){IR(i,mS,u,function(c){c[mS](a,u)})},s[lp]=function(a){a&&(r||!a[pR]())&&IR(i,lp,!1,function(u){a[xl]?In(function(){return u[lp](a)},0):u[lp](a)})},s[ja]=function(a){var u=function(){n&&n.rm(),n=null,i=[]},c;if(IR(i,"unload",!1,function(l){var f=l[ja](a);f&&(c||(c=[]),c[ur](f))}),c)return xi(function(l){return du(bw(c),function(){u(),l()})});u()}})}return t.__ieDyn=1,t}()});function IM(t,e,r,n,i){if(t){var o=t;if(o[hS]&&(o=o[hS]()),o){var s=void 0,a=o[Qy](YZ);try{if(s=o.create(e(),n,i),s){if(a&&s[El]&&(s[El](CM[$Z],a),a[Qy]&&a[El])){var u=a[Qy](CM[wR]);u||(u=[],a[El](CM[wR],u)),u[ur](s)}return o[El](YZ,s),r(s)}}catch(c){s&&s[El]&&s[El]("exception",c)}finally{s&&o.fire(s),o[El](YZ,a)}}}return r()}function WRe(){return rat}var bS,$Z,wR,rat,CM,$Re,YZ,WZ=E(()=>{Jr();ve();Mn();as();bS="ctx",$Z="ParentContextKey",wR="ChildrenContextKey",rat=null,CM=function(){function t(e,r,n){var i=this;if(i.start=qt(),i[Su]=e,i[xl]=n,i[pR]=function(){return!1},we(r)){var o;Ke(i,"payload",{g:function(){return!o&&we(r)&&(o=r(),r=null),o}})}i[Qy]=function(s){return s?s===t[$Z]||s===t[wR]?i[s]:(i[bS]||{})[s]:null},i[El]=function(s,a){if(s)if(s===t[$Z])i[s]||(i[pR]=function(){return!0}),i[s]=a;else if(s===t[wR])i[s]=a;else{var u=i[bS]=i[bS]||{};u[s]=a}},i[iM]=function(){var s=0,a=i[Qy](t[wR]);if(ce(a))for(var u=0;u<a[Rt];u++){var c=a[u];c&&(s+=c[_0])}i[_0]=qt()-i.start,i.exTime=i[_0]-s,i[iM]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),$Re=function(){function t(e){this.ctx={},nt(t,this,function(r){r.create=function(n,i,o){return new CM(n,i,o)},r.fire=function(n){n&&(n[iM](),e&&we(e[lp])&&e[lp](n))},r[El]=function(n,i){if(n){var o=r[bS]=r[bS]||{};o[n]=i}},r[Qy]=function(n){return(r[bS]||{})[n]}})}return t.__ieDyn=1,t}(),YZ="CoreUtils.doPerf"});function KRe(t,e,r){return t&&t[Rt]===e&&t!==r?!!t.match(/^[\da-f]*$/i):!1}function XRe(t){return KRe(t,32,nat)}function QRe(t){return KRe(t,16,iat)}var nat,iat,JRe=E(()=>{Mn();nat="00000000000000000000000000000000",iat="0000000000000000"});function pm(t){return oat.get(t,"state",{},!0)}function KZ(t,e){for(var r=[],n=null,i=t[Ac](),o;i;){var s=i[v0]();if(s){n&&n[x0]&&s[za]&&n[x0](s),o=pm(s);var a=!!o[Ga];s[Ga]&&(a=s[Ga]()),a||r[ur](s),n=s,i=i[Ac]()}}K(r,function(u){var c=t[Qn]();u[Ky](t.getCfg(),c,e,t[Ac]()),o=pm(u),!u[Qn]&&!o[Qn]&&(o[Qn]=c),o[Ga]=!0,delete o[wc]})}function wM(t){return t.sort(function(e,r){var n=0;if(r){var i=r[za];e[za]?n=i?e[Zy]-r[Zy]:1:i&&(n=-1)}else n=e?1:-1;return n})}function ZRe(t){var e={};return{getName:function(){return e[Su]},setName:function(r){t&&t.setName(r),e[Su]=r},getTraceId:function(){return e[oM]},setTraceId:function(r){t&&t.setTraceId(r),XRe(r)&&(e[oM]=r)},getSpanId:function(){return e[sM]},setSpanId:function(r){t&&t.setSpanId(r),QRe(r)&&(e[sM]=r)},getTraceFlags:function(){return e[aM]},setTraceFlags:function(r){t&&t.setTraceFlags(r),e[aM]=r}}}var oat,XZ=E(()=>{"use strict";ve();Mn();dM();as();JRe();oat=dRe("plugin")});function aat(t,e,r){for(;t;){if(t[v0]()===r)return t;t=t[Ac]()}return A0([r],e.config||{},e)}function QZ(t,e,r,n){var i=null,o=[];e||(e=Wi({},null,r[Zr])),n!==null&&(i=n?aat(t,r,n):t);var s={_next:u,ctx:{core:function(){return r},diagLog:function(){return EM(r,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:l,getConfig:f,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(m){i=m},iterate:p,onComplete:a}};function a(m,d){for(var h=[],g=2;g<arguments.length;g++)h[g-2]=arguments[g];m&&o[ur]({func:m,self:Re(d)?s.ctx:d,args:h})}function u(){var m=i;if(i=m?m[Ac]():null,!m){var d=o;d&&d[Rt]>0&&(K(d,function(h){try{h.func.call(h.self,h.args)}catch(g){Ya(r[Zr],2,73,"Unexpected Exception during onComplete - "+le(g))}}),o=[])}return m}function c(m,d){var h=null,g=e.cfg;if(g&&m){var v=g[fm];!v&&d&&(v={}),g[fm]=v,v=e.ref(g,fm),v&&(h=v[m],!h&&d&&(h={}),v[m]=h,h=e.ref(v,m))}return h}function l(m,d){var h=c(m,!0);return d&&de(d,function(g,v){if(oe(h[g])){var _=e.cfg[g];(_||!oe(_))&&(h[g]=_)}bR(e,h,g,v)}),e[bl](h,d)}function f(m,d,h){h===void 0&&(h=!1);var g,v=c(m,!1),_=e.cfg;return v&&(v[d]||!oe(v[d]))?g=v[d]:(_[d]||!oe(_[d]))&&(g=_[d]),g||!oe(g)?g:h}function p(m){for(var d;d=s._next();){var h=d[v0]();h&&m(h)}}return s}function i1(t,e,r,n){var i=Wi(e),o=QZ(t,i,r,n),s=o.ctx;function a(c){var l=o._next();return l&&l[za](c,s),!l}function u(c,l){return c===void 0&&(c=null),ce(c)&&(c=A0(c,i.cfg,r,l)),i1(c||s[Ac](),i.cfg,r,l)}return s[mo]=a,s[up]=u,s}function xS(t,e,r){var n=Wi(e.config),i=QZ(t,n,e,r),o=i.ctx;function s(u){var c=i._next();return c&&c[ja](o,u),!c}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=A0(u,n.cfg,e,c)),xS(u||o[Ac](),e,c)}return o[mo]=s,o[up]=a,o}function AR(t,e,r){var n=Wi(e.config),i=QZ(t,n,e,r),o=i.ctx;function s(u){return o.iterate(function(c){we(c[Xy])&&c[Xy](o,u)})}function a(u,c){return u===void 0&&(u=null),ce(u)&&(u=A0(u,n.cfg,e,c)),AR(u||o[Ac](),e,c)}return o[mo]=s,o[up]=a,o}function A0(t,e,r,n){var i=null,o=!n;if(ce(t)&&t[Rt]>0){var s=null;K(t,function(a){if(!o&&n===a&&(o=!0),o&&a&&we(a[za])){var u=cat(a,e,r);i||(i=u),s&&s._setNext(u),s=u}})}return n&&!i?A0([n],e,r):i}function cat(t,e,r){var n=null,i=we(t[za]),o=we(t[x0]),s;t?s=t[cp]+"-"+t[Zy]+"-"+rPe++:s="Unknown-0-"+rPe++;var a={getPlugin:function(){return t},getNext:function(){return n},processTelemetry:l,unload:f,update:p,_id:s,_setNext:function(m){n=m}};function u(){var m;return t&&we(t[tPe])&&(m=t[tPe]()),m||(m=i1(a,e,r)),m}function c(m,d,h,g,v){var _=!1,y=t?t[cp]:sat,x=m[ePe];return x||(x=m[ePe]={}),m.setNext(n),t&&IM(m[Qn](),function(){return y+":"+h},function(){x[s]=!0;try{var b=n?n._id:Dr;b&&(x[b]=!1),_=d(m)}catch(k){var T=n?x[n._id]:!0;T&&(_=!0),(!n||!T)&&Ya(m[Va](),1,73,"Plugin ["+y+"] failed during "+h+" - "+le(k)+", run flags: "+le(x))}},g,v),_}function l(m,d){d=d||u();function h(g){if(!t||!i)return!1;var v=pm(t);return v[wc]||v[dR]?!1:(o&&t[x0](n),t[za](m,g),!0)}c(d,h,"processTelemetry",function(){return{item:m}},!m.sync)||d[mo](m)}function f(m,d){function h(){var g=!1;if(t){var v=pm(t),_=t[Qn]||v[Qn];t&&(!_||_===m.core())&&!v[wc]&&(v[Qn]=null,v[wc]=!0,v[Ga]=!1,t[wc]&&t[wc](m,d)===!0&&(g=!0))}return g}c(m,h,"unload",function(){},d[xl])||m[mo](d)}function p(m,d){function h(){var g=!1;if(t){var v=pm(t),_=t[Qn]||v[Qn];t&&(!_||_===m.core())&&!v[wc]&&t[Xy]&&t[Xy](m,d)===!0&&(g=!0)}return g}c(m,h,"update",function(){},!1)||m[mo](d)}return qi(a)}var sat,ePe,tPe,rPe,JZ=E(()=>{"use strict";ve();RZ();I0();Mn();w0();as();WZ();XZ();sat="TelemetryPluginChain",ePe="_hasRun",tPe="_getTelCtx",rPe=0});function AM(){var t=[];function e(n){n&&t[ur](n)}function r(n,i){K(t,function(o){try{o(n,i)}catch(s){Ya(n[Va](),2,73,"Unexpected error calling unload handler - "+le(s))}}),t=[]}return{add:e,run:r}}var ZZ=E(()=>{ve();Mn();w0()});function RM(){var t=[];function e(n){var i=t;t=[],K(i,function(o){try{(o.rm||o.remove).call(o)}catch(s){Ya(n,2,73,"Unloading:"+le(s))}})}function r(n){n&&Kn(t,n)}return{run:e,add:r}}var eee=E(()=>{ve();w0()});var tee,R0,uat,nPe,iPe=E(()=>{"use strict";Jr();ve();I0();Mn();w0();C0();as();JZ();ZZ();eee();R0="getPlugin",uat=(tee={},tee[fm]={isVal:gS,v:{}},tee),nPe=function(){function t(){var e=this,r,n,i,o,s;c(),nt(t,e,function(l){l[Ky]=function(f,p,m,d){u(f,p,d),r=!0},l[wc]=function(f,p){var m,d=l[Qn];if(!d||f&&d!==f[Qn]())return;var h,g=!1,v=f||xS(null,d,i&&i[R0]?i[R0]():i),_=p||(m={reason:0},m[xl]=!1,m);function y(){g||(g=!0,o.run(v,p),s.run(v[Va]()),h===!0&&v[mo](_),c())}return!l[fS]||l[fS](v,_,y)!==!0?y():h=!0,h},l[Xy]=function(f,p){var m=l[Qn];if(!m||f&&m!==f[Qn]())return;var d,h=!1,g=f||AR(null,m,i&&i[R0]?i[R0]():i),v=p||{reason:0};function _(){h||(h=!0,u(g.getCfg(),g.core(),g[Ac]()))}return!l._doUpdate||l._doUpdate(g,v,_)!==!0?_():d=!0,d},e1(l,"_addUnloadCb",function(){return o},"add"),e1(l,"_addHook",function(){return s},"add"),Ke(l,"_unloadHooks",{g:function(){return s}})}),e[Va]=function(l){return a(l)[Va]()},e[Ga]=function(){return r},e.setInitialized=function(l){r=l},e[x0]=function(l){i=l},e[mo]=function(l,f){f?f[mo](l):i&&we(i[za])&&i[za](l,null)},e._getTelCtx=a;function a(l){l===void 0&&(l=null);var f=l;if(!f){var p=n||i1(null,{},e[Qn]);i&&i[R0]?f=p[up](null,i[R0]):f=p[up](null,i)}return f}function u(l,f,p){Wi(l,uat,EM(f)),!p&&f&&(p=f[Z8]()[Ac]());var m=i;i&&i[R0]&&(m=i[R0]()),e[Qn]=f,n=i1(p,l,f,m)}function c(){r=!1,e[Qn]=null,n=null,i=null,s=RM(),o=AM()}}return t.__ieDyn=1,t}()});function lat(t,e,r){var n={id:e,fn:r};Kn(t,n);var i={remove:function(){K(t,function(o,s){if(o.id===n.id)return t[g0](s,1),-1})}};return i}function fat(t,e,r){for(var n=!1,i=t[Rt],o=0;o<i;++o){var s=t[o];if(s)try{if(s.fn[h0](null,[e])===!1){n=!0;break}}catch(a){Ya(r,2,64,"Telemetry initializer failed: "+hR(a),{exception:le(a)},!0)}}return!n}var oPe,sPe=E(()=>{bi();Jr();ve();Mn();iPe();w0();C0();as();oPe=function(t){Ns(e,t);function e(){var r=t.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),nt(e,r,function(s,a){s.addTelemetryInitializer=function(u){return lat(i,n++,u)},s[za]=function(u,c){fat(i,u,c?c[Va]():s[Va]())&&s[mo](u,c)},s[fS]=function(){o()}});function o(){n=0,i=[]}return r}return e.__ieDyn=1,e}(nPe)});function mat(t,e){return new $Re(e)}function hat(t,e,r){var n,i=[],o=[],s={};return K(r,function(a){(oe(a)||oe(a[Ky]))&&Qt(lPe);var u=a[Zy],c=a[cp];a&&u&&(oe(s[u])?s[u]=c:ARe(t,"Two extensions have same priority #"+u+" - "+s[u]+", "+c)),!u||u<e?i[ur](a):o[ur](a)}),n={},n[Qn]=i,n[E0]=o,n}function cPe(t,e){var r=!1;return K(e,function(n){if(n===t)return r=!0,-1}),r}function nee(t,e,r,n){r&&de(r,function(i,o){n&&dt(o)&&dt(e[i])&&nee(t,e[i],o,n),n&&dt(o)&&dt(e[i])?nee(t,e[i],o,n):t.set(e,i,o)})}function uPe(t,e){var r=null,n=-1;return K(t,function(i,o){if(i.w===e)return r=i,n=o,-1}),{i:n,l:r}}function gat(t,e){var r=uPe(t,e).l;return r||(r={w:e,rm:function(){var n=uPe(t,e);n.i!==-1&&t[g0](n.i,1)}},t[ur](r)),r}function vat(t,e,r){K(e,function(n){var i=pp(t,n.w,r);delete n.w,n.rm=function(){i.rm()}})}var P0,lPe,pat,aPe,dat,ree,RR,fPe=E(()=>{"use strict";bi();Jr();Nd();ve();I0();Mn();xRe();TRe();VRe();dM();UZ();w0();C0();as();YRe();WZ();JZ();XZ();sPe();ZZ();eee();lPe="Plugins must provide initialize method",pat="_notificationManager",aPe="SDK is still unloading...",dat="SDK is not initialized",ree=Wn((P0={cookieCfg:{}},P0[Jy]={rdOnly:!0,ref:!0,v:[]},P0[E0]={rdOnly:!0,ref:!0,v:[]},P0[fm]={ref:!0,v:{}},P0[cM]=Rc,P0.loggingLevelConsole=0,P0.diagnosticLogInterval=Rc,P0));RR=function(){function t(){var e,r,n,i,o,s,a,u,c,l,f,p,m,d,h,g,v,_,y,x,b,T,k,U,z,D,fe,Q;nt(t,this,function(O){M(),O._getDbgPlgTargets=function(){return[k]},O[Ga]=function(){return r},O[Ky]=function(N,G,te,ie){m&&Qt(aPe),O[Ga]()&&Qt("Core cannot be initialized more than once"),e=Wi(N,ree,te||O[Zr],!1),N=e.cfg,Me(e[Tu](function(Ge){b=Ge.cfg.instrumentationKey;var mt=Ge.ref(Ge.cfg,fm);de(mt,function(Lt){Ge.ref(mt,Lt)}),oe(b)&&Qt("Please provide instrumentation key")})),o=ie,it(),De(),O[Zr]=te;var ne=N[Jy];if(l=[],l[ur].apply(l,F_(F_([],G,!1),ne,!1)),f=N[E0],W(null),(!p||p[Rt]===0)&&Qt("No "+E0+" available"),f&&f[Rt]>1){var Oe=O[v0]("TeeChannelController");(!Oe||!Oe.plugin)&&Ya(n,1,28,"TeeChannel required")}vat(N,T,n),T=null,r=!0,O.releaseQueue(),O[xZ]()},O.getChannels=function(){var N=[];return p&&K(p,function(G){N[ur](G)}),qi(N)},O.track=function(N){IM(O[hS](),function(){return"AppInsightsCore:track"},function(){N===null&&(he(N),Qt("Invalid telemetry item")),!N[Su]&&oe(N[Su])&&(he(N),Qt("telemetry name required")),N.iKey=N.iKey||b,N[_0]=N[_0]||fM(new Date),N.ver=N.ver||"4.0",!m&&O[Ga]()?L()[mo](N):i[ur](N)},function(){return{item:N}},!N.sync)},O[Z8]=L,O[aS]=function(){return o||(o=new zRe(e.cfg),O[pat]=o),o},O[cS]=function(N){O[aS]()[cS](N)},O[uS]=function(N){o&&o[uS](N)},O.getCookieMgr=function(){return u||(u=GRe(e.cfg,O[Zr])),u},O.setCookieMgr=function(N){u!==N&&(_S(u,!1),u=N)},O[hS]=function(){return!s&&!a&&Me(e[Tu](function(N){if(N.cfg.enablePerfMgr){var G=N.cfg[cM];we(G)&&(a=G(O,O[aS]()))}})),s||a||WRe()},O.setPerfMgr=function(N){s=N},O.eventCnt=function(){return i[Rt]},O.releaseQueue=function(){if(r&&i[Rt]>0){var N=i;i=[],K(N,function(G){L()[mo](G)})}},O[xZ]=function(N){return h=N||null,Q=!1,D&&D[Wy](),w(!0)};function w(N){if((!D||!D[y0])&&!Q){var G=N||n&&n.queue[Rt]>0;G&&(fe||(fe=!0,Me(e[Tu](function(te){var ie=te.cfg.diagnosticLogInterval;(!ie||!(ie>0))&&(ie=1e4);var ne=!1;D&&(ne=D[y0],D[Wy]()),D=fw(Ve,ie),D.unref(),D[y0]=ne}))),D[y0]=!0)}return D}O[EZ]=function(){Q=!0,D&&D[Wy](),Ve()},t1(O,function(){return d},["addTelemetryInitializer"]),O[ja]=function(N,G,te){var ie;N===void 0&&(N=!0),r||Qt(dat),m&&Qt(aPe);var ne=(ie={reason:50},ie[xl]=N,ie.flushComplete=!1,ie),Oe;N&&!G&&(Oe=xi(function(Lt){G=Lt}));var Ge=xS(ae(),O);Ge[lR](function(){_.run(O[Zr]),DZ([u,o,n],N,function(){M(),G&&G(ne)})},O);function mt(Lt){ne.flushComplete=Lt,m=!0,v.run(Ge,ne),O[EZ](),Ge[mo](ne)}return Ve(),lt(N,mt,6,te)||mt(!1),Oe},O[v0]=H,O.addPlugin=function(N,G,te,ie){if(!N){ie&&ie(!1),Tt(lPe);return}var ne=H(N[cp]);if(ne&&!G){ie&&ie(!1),Tt("Plugin ["+N[cp]+"] is already loaded!");return}var Oe={reason:16};function Ge(Gr){l[ur](N),Oe.added=[N],W(Oe),ie&&ie(!0)}if(ne){var mt=[ne.plugin],Lt={reason:2,isAsync:!!te};Pe(mt,Lt,function(Gr){Gr?(Oe.removed=mt,Oe.reason|=32,Ge(!0)):ie&&ie(!1)})}else Ge(!1)},O.updateCfg=function(N,G){G===void 0&&(G=!0);var te;if(O[Ga]()){te={reason:1,cfg:e.cfg,oldCfg:M_({},e.cfg),newConfig:M_({},N),merge:G},N=te.newConfig;var ie=e.cfg;N[Jy]=ie[Jy],N[E0]=ie[E0]}e._block(function(ne){var Oe=ne.cfg;nee(ne,Oe,N,G),G||de(Oe,function(Ge){Nr(N,Ge)||ne.set(Oe,Ge,Rc)}),ne[bl](Oe,ree)},!0),e[$y](),te&&st(te)},O.evtNamespace=function(){return g},O.flush=lt,O.getTraceCtx=function(N){return x||(x=ZRe()),x},O.setTraceCtx=function(N){x=N||null},O.addUnloadHook=Me,e1(O,"addUnloadCb",function(){return v},"add"),O.onCfgChange=function(N){var G;return r?G=pp(e.cfg,N,O[Zr]):G=gat(T,N),{rm:function(){G.rm()}}},O.getWParam=function(){return gc()||e.cfg.enableWParam?0:-1};function P(){var N={};U=[];var G=function(te){te&&K(te,function(ie){if(ie[cp]&&ie[eM]&&!N[ie.identifier]){var ne=ie[cp]+"="+ie[eM];U[ur](ne),N[ie.identifier]=ie}})};G(p),f&&K(f,function(te){G(te)}),G(l)}function M(){r=!1,e=Wi({},ree,O[Zr]),e.cfg[tM]=1,Ke(O,"config",{g:function(){return e.cfg},s:function(G){O.updateCfg(G,!1)}}),Ke(O,"pluginVersionStringArr",{g:function(){return U||P(),U}}),Ke(O,"pluginVersionString",{g:function(){return z||(U||P(),z=U.join(";")),z||Dr}}),Ke(O,"logger",{g:function(){return n||(n=new CR(e.cfg),e[Zr]=n),n},s:function(G){e[Zr]=G,n!==G&&(_S(n,!1),n=G)}}),O[Zr]=new CR(e.cfg),k=[];var N=O.config[Jy]||[];N.splice(0,N[Rt]),Kn(N,k),d=new oPe,i=[],_S(o,!1),o=null,s=null,a=null,_S(u,!1),u=null,c=null,l=[],f=null,p=null,m=!1,h=null,g=yR("AIBaseCore",!0),v=AM(),x=null,b=null,_=RM(),T=[],z=null,U=null,Q=!1}function L(){var N=i1(ae(),e.cfg,O);return N[lR](w),N}function W(N){var G=hat(O[Zr],ERe,l);c=null,z=null,U=null,p=(f||[])[0]||[],p=wM(Kn(p,G[E0]));var te=Kn(wM(G[Qn]),p);k=qi(te);var ie=O.config[Jy]||[];ie.splice(0,ie[Rt]),Kn(ie,k);var ne=L();p&&p[Rt]>0&&KZ(ne[up](p),te),KZ(ne,te),N&&st(N)}function H(N){var G=null,te=null,ie=[];return K(k,function(ne){if(ne[cp]===N&&ne!==d)return te=ne,-1;ne.getChannel&&ie[ur](ne)}),!te&&ie[Rt]>0&&K(ie,function(ne){if(te=ne.getChannel(N),!te)return-1}),te&&(G={plugin:te,setEnabled:function(ne){pm(te)[dR]=!ne},isEnabled:function(){var ne=pm(te);return!ne[wc]&&!ne[dR]},remove:function(ne,Oe){var Ge;ne===void 0&&(ne=!0);var mt=[te],Lt=(Ge={reason:1},Ge[xl]=ne,Ge);Pe(mt,Lt,function(Gr){Gr&&W({reason:32,removed:mt}),Oe&&Oe(Gr)})}}),G}function ae(){if(!c){var N=(k||[]).slice();Xe(N,d)===-1&&N[ur](d),c=A0(wM(N),e.cfg,O)}return c}function Pe(N,G,te){if(N&&N[Rt]>0){var ie=A0(N,e.cfg,O),ne=xS(ie,O);ne[lR](function(){var Oe=!1,Ge=[];K(l,function(Lt,Gr){cPe(Lt,N)?Oe=!0:Ge[ur](Lt)}),l=Ge,z=null,U=null;var mt=[];f&&(K(f,function(Lt,Gr){var ui=[];K(Lt,function(la){cPe(la,N)?Oe=!0:ui[ur](la)}),mt[ur](ui)}),f=mt),te&&te(Oe),w()}),ne[mo](G)}else te(!1)}function Ve(){if(n&&n.queue){var N=n.queue.slice(0);n.queue[Rt]=0,K(N,function(G){var te,ie=(te={},te[Su]=h||"InternalMessageId: "+G[lS],te.iKey=b,te[_0]=fM(new Date),te.baseType=xM.dataType,te.baseData={message:G[b0]},te);O.track(ie)})}}function lt(N,G,te,ie){var ne=1,Oe=!1,Ge=null;ie=ie||5e3;function mt(){ne--,Oe&&ne===0&&(Ge&&Ge[Wy](),Ge=null,G&&G(Oe),G=null)}if(p&&p[Rt]>0){var Lt=L()[up](p);Lt.iterate(function(Gr){if(Gr.flush){ne++;var ui=!1;Gr.flush(N,function(){ui=!0,mt()},te)||ui||(N&&Ge==null?Ge=In(function(){Ge=null,mt()},ie):mt())}})}return Oe=!0,mt(),!0}function it(){!o&&O[aS](),Me(e[Tu](function(N){var G=N.cfg.disableDbgExt;G===!0&&y&&(o[uS](y),y=null),o&&!y&&G!==!0&&(y=SRe(N.cfg),o[cS](y))}))}function De(){Me(e[Tu](function(N){var G=N.cfg.enablePerfMgr;!G&&a&&(a=null),G&&SZ(N.cfg,cM,mat)}))}function st(N){var G=AR(ae(),O);G[lR](w),(!O._updateHook||O._updateHook(G,N)!==!0)&&G[mo](N)}function Tt(N){var G=O[Zr];G?(Ya(G,2,73,N),w()):Qt(N)}function he(N){var G=O[aS]();G&&G[T0]([N],2)}function Me(N){_.add(N)}})}return t.__ieDyn=1,t}()});var iee=E(()=>{fPe();C0();ve();I0();OZ()});var PM,NM,pPe=E(()=>{PM="instrumentationKey",NM="connectionString"});var dPe={};Jn(dPe,{AppInsightsCore:()=>RR,ApplicationInsights:()=>bat,Sender:()=>uR,SeverityLevel:()=>l8,arrForEach:()=>K,isNullOrUndefined:()=>oe,proxyFunctions:()=>t1,throwError:()=>Qt});function yat(t){return t&&t>0}var _at,bat,mPe=E(()=>{Jr();yZ();Qd();iee();ve();pPe();iee();Qd();yZ();_at={diagnosticLogInterval:LZ(yat,1e4)};bat=function(){function t(e){var r=new RR,n;(oe(e)||oe(e[PM])&&oe(e[NM]))&&Qt("Invalid input configuration"),nt(t,this,function(o){Ke(o,"config",{g:function(){return n}}),s(),o.initialize=s,o.track=i,t1(o,r,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function s(){var a=Wi(e||{},_at);n=a.cfg,r.addUnloadHook(pp(a,function(){if(n[NM]){var u=kA(n[NM]),c=u.ingestionendpoint;n.endpointUrl=c?c+Zf:n.endpointUrl,n[PM]=u.instrumentationkey||n[PM]}})),r.initialize(n,[new uR])}});function i(o){o&&(o.baseData=o.baseData||{},o.baseType=o.baseType||"EventData"),r.track(o)}}return t.__ieDyn=1,t}()});var hPe=R(mp=>{"use strict";var xat=mp&&mp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Eat=mp&&mp.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tat=mp&&mp.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&xat(e,t,r);return Eat(e,t),e};Object.defineProperty(mp,"__esModule",{value:!0});mp.appInsightsClientFactory=void 0;var Sat=(Qd(),wi(gwe)),Cat=pW(),Iat=async(t,e,r)=>{let n;try{let o=await Promise.resolve().then(()=>Tat((mPe(),wi(dPe))));if(n=new o.ApplicationInsights({instrumentationKey:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[Sat.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};r?.length&&Cat.TelemetryUtil.applyReplacements(a,r),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};mp.appInsightsClientFactory=Iat});var yPe=R(dm=>{"use strict";var wat=dm&&dm.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Aat=dm&&dm.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aee=dm&&dm.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wat(e,t,r);return Aat(e,t),e};Object.defineProperty(dm,"__esModule",{value:!0});var oee=aee(require("os")),gPe=aee(require("vscode")),Rat=aee(require("https")),Pat=wEe(),Nat=AEe(),vPe=pW(),Dat=kIe(),kat=hPe();function _Pe(){return{sendPOST:(e,r)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=Rat.request(e.urlString,n,o=>{o.on("data",function(s){r(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){r(0,{})})});i.write(e.data,o=>{o&&r(0,{})}),i.end()}catch{r(0,{})}}}}var see=class extends Pat.BaseTelemetryReporter{constructor(e,r){let n=s=>(0,kat.appInsightsClientFactory)(s,_Pe(),r);vPe.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,Dat.oneDataSystemClientFactory)(s,gPe,_Pe()));let i={release:oee.release(),platform:oee.platform(),architecture:oee.arch()},o=new Nat.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,gPe,{additionalCommonProperties:vPe.TelemetryUtil.getAdditionalCommonProperties(i)})}};dm.default=see});var _Ne=R((nwr,vNe)=>{function uNe(t){return Array.isArray(t)?t:[t]}var dNe="",lNe=" ",Fee="\\",Rct=/^\s+$/,Pct=/(?:[^\\]|^)\\$/,Nct=/^\\!/,Dct=/^\\#/,kct=/\r?\n/g,Lct=/^\.*\/|^\.+$/,Uee="/",mNe="node-ignore";typeof Symbol<"u"&&(mNe=Symbol.for("node-ignore"));var fNe=mNe,Oct=(t,e,r)=>Object.defineProperty(t,e,{value:r}),Mct=/([0-z])-([0-z])/g,hNe=()=>!1,Fct=t=>t.replace(Mct,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:dNe),Uct=t=>{let{length:e}=t;return t.slice(0,e-e%2)},Bct=[[/\\?\s+$/,t=>t.indexOf("\\")===0?lNe:dNe],[/\\\s/g,()=>lNe],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return e+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Fee],[/\\\\/g,()=>Fee],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,i)=>e===Fee?`\\[${r}${Uct(n)}${i}`:i==="]"&&n.length%2===0?`[${Fct(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],pNe=Object.create(null),qct=(t,e)=>{let r=pNe[t];return r||(r=Bct.reduce((n,i)=>n.replace(i[0],i[1].bind(t)),t),pNe[t]=r),e?new RegExp(r,"i"):new RegExp(r)},Hee=t=>typeof t=="string",Hct=t=>t&&Hee(t)&&!Rct.test(t)&&!Pct.test(t)&&t.indexOf("#")!==0,Gct=t=>t.split(kct),Bee=class{constructor(e,r,n,i){this.origin=e,this.pattern=r,this.negative=n,this.regex=i}},jct=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(Nct,"!").replace(Dct,"#");let i=qct(t,e);return new Bee(r,t,n,i)},Vct=(t,e)=>{throw new e(t)},hm=(t,e,r)=>Hee(t)?t?hm.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),gNe=t=>Lct.test(t);hm.isNotRelative=gNe;hm.convert=t=>t;var qee=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){Oct(this,fNe,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[fNe]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Hct(e)){let r=jct(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,uNe(Hee(e)?Gct(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(e)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(e,r,n,i){let o=e&&hm.convert(e);return hm(o,e,this._allowRelativePaths?hNe:Vct),this._t(o,r,n,i)}_t(e,r,n,i){if(e in r)return r[e];if(i||(i=e.split(Uee)),i.pop(),!i.length)return r[e]=this._testOne(e,n);let o=this._t(i.join(Uee)+Uee,r,n,i);return r[e]=o.ignored?o:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return uNe(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},E9=t=>new qee(t),zct=t=>hm(t&&hm.convert(t),t,hNe);E9.isPathValid=zct;E9.default=E9;vNe.exports=E9;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");hm.convert=t;let e=/^[a-z]:\//i;hm.isNotRelative=r=>e.test(r)||gNe(r)}});var CNe=R((awr,SNe)=>{"use strict";SNe.exports=ENe;function ENe(t,e,r){t instanceof RegExp&&(t=xNe(t,r)),e instanceof RegExp&&(e=xNe(e,r));var n=TNe(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function xNe(t,e){var r=e.match(t);return r?r[0]:null}ENe.range=TNe;function TNe(t,e,r){var n,i,o,s,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){if(t===e)return[u,c];for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var kNe=R((cwr,DNe)=>{var INe=CNe();DNe.exports=Wct;var wNe="\0SLASH"+Math.random()+"\0",ANe="\0OPEN"+Math.random()+"\0",jee="\0CLOSE"+Math.random()+"\0",RNe="\0COMMA"+Math.random()+"\0",PNe="\0PERIOD"+Math.random()+"\0";function Gee(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Yct(t){return t.split("\\\\").join(wNe).split("\\{").join(ANe).split("\\}").join(jee).split("\\,").join(RNe).split("\\.").join(PNe)}function $ct(t){return t.split(wNe).join("\\").split(ANe).join("{").split(jee).join("}").split(RNe).join(",").split(PNe).join(".")}function NNe(t){if(!t)return[""];var e=[],r=INe("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=NNe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function Wct(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),VR(Yct(t),!0).map($ct)):[]}function Kct(t){return"{"+t+"}"}function Xct(t){return/^-?0\d/.test(t)}function Qct(t,e){return t<=e}function Jct(t,e){return t>=e}function VR(t,e){var r=[],n=INe("{","}",t);if(!n)return[t];var i=n.pre,o=n.post.length?VR(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];r.push(a)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=u||c,f=n.body.indexOf(",")>=0;if(!l&&!f)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+jee+n.post,VR(t)):[t];var p;if(l)p=n.body.split(/\.\./);else if(p=NNe(n.body),p.length===1&&(p=VR(p[0],!1).map(Kct),p.length===1))return o.map(function(D){return n.pre+p[0]+D});var m;if(l){var d=Gee(p[0]),h=Gee(p[1]),g=Math.max(p[0].length,p[1].length),v=p.length==3?Math.abs(Gee(p[2])):1,_=Qct,y=h<d;y&&(v*=-1,_=Jct);var x=p.some(Xct);m=[];for(var b=d;_(b,h);b+=v){var T;if(c)T=String.fromCharCode(b),T==="\\"&&(T="");else if(T=String(b),x){var k=g-T.length;if(k>0){var U=new Array(k+1).join("0");b<0?T="-"+U+T.slice(1):T=U+T}}m.push(T)}}else{m=[];for(var z=0;z<p.length;z++)m.push.apply(m,VR(p[z],!1))}for(var z=0;z<m.length;z++)for(var s=0;s<o.length;s++){var a=i+m[z]+o[s];(!e||l||a)&&r.push(a)}}return r}});var Ht=R((jwr,YNe)=>{YNe.exports={options:{usePureJavaScript:!1}}});var KNe=R((Vwr,WNe)=>{var Yee={};WNe.exports=Yee;var $Ne={};Yee.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Mut(t,e);else{var i=0,o=e.length,s=e.charAt(0),a=[0];for(i=0;i<t.length;++i){for(var u=0,c=t[i];u<a.length;++u)c+=a[u]<<8,a[u]=c%o,c=c/o|0;for(;c>0;)a.push(c%o),c=c/o|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=e[a[i]]}if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join(`\r
`)}return n};Yee.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=$Ne[e];if(!r){r=$Ne[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,o=e.charAt(0),s=[0],n=0;n<t.length;n++){var a=r[t.charCodeAt(n)];if(a===void 0)return;for(var u=0,c=a;u<s.length;++u)c+=s[u]*i,s[u]=c&255,c>>=8;for(;c>0;)s.push(c&255),c>>=8}for(var l=0;t[l]===o&&l<t.length-1;++l)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function Mut(t,e){var r=0,n=e.length,i=e.charAt(0),o=[0];for(r=0;r<t.length();++r){for(var s=0,a=t.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=e[o[r]];return u}});var br=R((zwr,ZNe)=>{var XNe=Ht(),QNe=KNe(),V=ZNe.exports=XNe.util=XNe.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){V.nextTick=process.nextTick,typeof setImmediate=="function"?V.setImmediate=setImmediate:V.setImmediate=V.nextTick;return}if(typeof setImmediate=="function"){V.setImmediate=function(){return setImmediate.apply(void 0,arguments)},V.nextTick=function(a){return setImmediate(a)};return}if(V.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var c=e.slice();e.length=0,c.forEach(function(l){l()})}};var s=a,t="forge.setImmediate",e=[];V.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(c){c()})}).observe(i,{attributes:!0});var o=V.setImmediate;V.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),o(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}V.nextTick=V.setImmediate})();V.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;V.globalScope=function(){return V.isNodejs?global:typeof self>"u"?window:self}();V.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};V.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};V.isArrayBufferView=function(t){return t&&V.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function $R(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}V.ByteBuffer=$ee;function $ee(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(V.isArrayBuffer(t)||V.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof $ee||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}V.ByteStringBuffer=$ee;var Fut=4096;V.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Fut&&(this.data.substr(0,1),this._constructedStringLength=0)};V.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};V.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};V.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};V.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};V.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};V.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(V.encodeUtf8(t))};V.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};V.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};V.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};V.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};V.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};V.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};V.ByteStringBuffer.prototype.putInt=function(t,e){$R(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};V.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};V.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};V.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};V.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};V.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};V.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};V.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};V.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};V.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};V.ByteStringBuffer.prototype.getInt=function(t){$R(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};V.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};V.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};V.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};V.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};V.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};V.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};V.ByteStringBuffer.prototype.copy=function(){var t=V.createBuffer(this.data);return t.read=this.read,t};V.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};V.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};V.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};V.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};V.ByteStringBuffer.prototype.toString=function(){return V.decodeUtf8(this.bytes())};function Uut(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=V.isArrayBuffer(t),n=V.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}V.DataBuffer=Uut;V.DataBuffer.prototype.length=function(){return this.write-this.read};V.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};V.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};V.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};V.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};V.DataBuffer.prototype.putBytes=function(t,e){if(V.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(V.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof V.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&V.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof V.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var o;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.hex.decode(t,o,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),o=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.base64.decode(t,o,this.write),this;if(e==="utf8"&&(t=V.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=V.binary.raw.decode(o),this;if(e==="utf16")return this.accommodate(t.length*2),o=new Uint16Array(this.data.buffer,this.write),this.write+=V.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};V.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};V.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};V.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};V.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};V.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};V.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};V.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};V.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};V.DataBuffer.prototype.putInt=function(t,e){$R(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};V.DataBuffer.prototype.putSignedInt=function(t,e){return $R(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};V.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};V.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};V.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};V.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};V.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};V.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};V.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};V.DataBuffer.prototype.getInt=function(t){$R(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};V.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};V.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};V.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};V.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};V.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};V.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};V.DataBuffer.prototype.copy=function(){return new V.DataBuffer(this)};V.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};V.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};V.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};V.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};V.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return V.binary.raw.encode(e);if(t==="hex")return V.binary.hex.encode(e);if(t==="base64")return V.binary.base64.encode(e);if(t==="utf8")return V.text.utf8.decode(e);if(t==="utf16")return V.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};V.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=V.encodeUtf8(t)),new V.ByteBuffer(t)};V.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};V.xorBytes=function(t,e,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+=o,n};V.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};V.bytesToHex=function(t){return V.createBuffer(t).toHex()};V.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var B0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",q0=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],JNe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";V.encode64=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.length;)i=t.charCodeAt(a++),o=t.charCodeAt(a++),s=t.charCodeAt(a++),r+=B0.charAt(i>>2),r+=B0.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=B0.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":B0.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};V.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,o,s=0;s<t.length;)r=q0[t.charCodeAt(s++)-43],n=q0[t.charCodeAt(s++)-43],i=q0[t.charCodeAt(s++)-43],o=q0[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),o!==64&&(e+=String.fromCharCode((i&3)<<6|o)));return e};V.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};V.decodeUtf8=function(t){return decodeURIComponent(escape(t))};V.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:QNe.encode,decode:QNe.decode}};V.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};V.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};V.binary.hex.encode=V.bytesToHex;V.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,o=r;for(t.length&1&&(i=1,n[o++]=parseInt(t[0],16));i<t.length;i+=2)n[o++]=parseInt(t.substr(i,2),16);return e?o-r:n};V.binary.base64.encode=function(t,e){for(var r="",n="",i,o,s,a=0;a<t.byteLength;)i=t[a++],o=t[a++],s=t[a++],r+=B0.charAt(i>>2),r+=B0.charAt((i&3)<<4|o>>4),isNaN(o)?r+="==":(r+=B0.charAt((o&15)<<2|s>>6),r+=isNaN(s)?"=":B0.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};V.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,o,s,a,u=0,c=r;u<t.length;)i=q0[t.charCodeAt(u++)-43],o=q0[t.charCodeAt(u++)-43],s=q0[t.charCodeAt(u++)-43],a=q0[t.charCodeAt(u++)-43],n[c++]=i<<2|o>>4,s!==64&&(n[c++]=(o&15)<<4|s>>2,a!==64&&(n[c++]=(s&3)<<6|a));return e?c-r:n.subarray(0,c)};V.binary.base58.encode=function(t,e){return V.binary.baseN.encode(t,JNe,e)};V.binary.base58.decode=function(t,e){return V.binary.baseN.decode(t,JNe,e)};V.text={utf8:{},utf16:{}};V.text.utf8.encode=function(t,e,r){t=V.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n};V.text.utf8.decode=function(t){return V.decodeUtf8(String.fromCharCode.apply(null,t))};V.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var o=r,s=r,a=0;a<t.length;++a)i[s++]=t.charCodeAt(a),o+=2;return e?o-r:n};V.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};V.deflate=function(t,e,r){if(e=V.decode64(t.deflate(V.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};V.inflate=function(t,e,r){var n=t.inflate(V.encode64(e)).rval;return n===null?null:V.decode64(n)};var Wee=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=V.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Kee=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(V.decode64(r))),r},But=function(t,e,r,n){var i=Kee(t,e);i===null&&(i={}),i[r]=n,Wee(t,e,i)},qut=function(t,e,r){var n=Kee(t,e);return n!==null&&(n=r in n?n[r]:null),n},Hut=function(t,e,r){var n=Kee(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),Wee(t,e,n)}},Gut=function(t,e){Wee(t,e,null)},R9=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,o=!1,s=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),o=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),o=!0)}catch(u){s=u}if(o)break}if(!o)throw s;return n};V.setItem=function(t,e,r,n,i){R9(But,arguments,i)};V.getItem=function(t,e,r,n){return R9(qut,arguments,n)};V.removeItem=function(t,e,r,n){R9(Hut,arguments,n)};V.clearItems=function(t,e,r){R9(Gut,arguments,r)};V.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};V.format=function(t){for(var e=/%./g,r,n,i=0,o=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&o.push(n),s=e.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[i+++1]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(t.substring(s)),o.join("")};V.formatNumber=function(t,e,r,n){var i=t,o=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,a=n===void 0?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=c.length>3?c.length%3:0;return u+(l?c.substr(0,l)+a:"")+c.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-c).toFixed(o).slice(2):"")};V.formatSize=function(t){return t>=1073741824?t=V.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=V.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=V.formatNumber(t/1024,0)+" KiB":t=V.formatNumber(t,0)+" bytes",t};V.bytesFromIP=function(t){return t.indexOf(".")!==-1?V.bytesFromIPv4(t):t.indexOf(":")!==-1?V.bytesFromIPv6(t):null};V.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=V.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};V.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=V.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var o=V.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}return n.getBytes()};V.bytesToIP=function(t){return t.length===4?V.bytesToIPv4(t):t.length===16?V.bytesToIPv6(t):null};V.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};V.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=V.bytesToHex(t[i]+t[i+1]);o[0]==="0"&&o!=="0";)o=o.substr(1);if(o==="0"){var s=r[r.length-1],a=e.length;!s||a!==s.end+1?r.push({start:a,end:a}):(s.end=a,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(o)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};V.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in V&&!t.update)return e(null,V.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return V.cores=navigator.hardwareConcurrency,e(null,V.cores);if(typeof Worker>"u")return V.cores=1,e(null,V.cores);if(typeof Blob>"u")return V.cores=2,e(null,V.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var a=Date.now(),u=a+4;Date.now()<u;);self.postMessage({st:a,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,a,u){if(a===0){var c=Math.floor(s.reduce(function(l,f){return l+f},0)/s.length);return V.cores=Math.max(1,c),URL.revokeObjectURL(r),e(null,V.cores)}i(u,function(l,f){s.push(o(u,f)),n(s,a-1,u)})}function i(s,a){for(var u=[],c=[],l=0;l<s;++l){var f=new Worker(r);f.addEventListener("message",function(p){if(c.push(p.data),c.length===s){for(var m=0;m<s;++m)u[m].terminate();a(null,c)}}),u.push(f)}for(var l=0;l<s;++l)u[l].postMessage(l)}function o(s,a){for(var u=[],c=0;c<s;++c)for(var l=a[c],f=u[c]=[],p=0;p<s;++p)if(c!==p){var m=a[p];(l.st>m.st&&l.st<m.et||m.st>l.st&&m.st<l.et)&&f.push(p)}return u.reduce(function(d,h){return Math.max(d,h.length)},0)}}});var P9=R((Ywr,eDe)=>{var Mo=Ht();br();eDe.exports=Mo.cipher=Mo.cipher||{};Mo.cipher.algorithms=Mo.cipher.algorithms||{};Mo.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Mo.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Mo.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Mo.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Mo.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Mo.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Mo.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Mo.cipher.algorithms[t]=e};Mo.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Mo.cipher.algorithms?Mo.cipher.algorithms[t]:null};var Xee=Mo.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Xee.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Mo.util.createBuffer(),this.output=t.output||Mo.util.createBuffer(),this.mode.start(e)};Xee.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};Xee.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var Jee=R(($wr,tDe)=>{var Fo=Ht();br();Fo.cipher=Fo.cipher||{};var Jt=tDe.exports=Fo.cipher.modes=Fo.cipher.modes||{};Jt.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Jt.ecb.prototype.start=function(t){};Jt.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Jt.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};Jt.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Jt.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Jt.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Jt.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=N9(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Jt.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};Jt.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Jt.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};Jt.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};Jt.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Fo.util.createBuffer(),this._partialBytes=0};Jt.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=N9(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Jt.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Jt.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Jt.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Fo.util.createBuffer(),this._partialBytes=0};Jt.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=N9(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Jt.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Jt.ofb.prototype.decrypt=Jt.ofb.prototype.encrypt;Jt.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Fo.util.createBuffer(),this._partialBytes=0};Jt.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=N9(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Jt.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}D9(this._inBlock)};Jt.ctr.prototype.decrypt=Jt.ctr.prototype.encrypt;Jt.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Fo.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Jt.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=Fo.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=Fo.util.createBuffer(t.additionalData):r=Fo.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=Fo.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Qee(n*8)))}this._inBlock=this._j0.slice(0),D9(this._inBlock),this._partialBytes=0,r=Fo.util.createBuffer(r),this._aDataLength=Qee(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Jt.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-n)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(o<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),D9(this._inBlock)};Jt.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),D9(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Jt.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=Fo.util.createBuffer();var n=this._aDataLength.concat(Qee(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var o=0;o<this._ints;++o)this.tag.putInt32(this._s[o]^i[o]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Jt.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var o=t[i/32|0]&1<<31-i%32;o&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Jt.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};Jt.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,o=this._m[r][i];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e};Jt.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};Jt.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,o=new Array(i),s=0;s<i;++s){var a=[0,0,0,0],u=s/n|0,c=(n-1-s%n)*e;a[u]=1<<e-1<<c,o[s]=this.generateSubHashTable(this.multiply(a,t),e)}return o};Jt.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var s=1;s<o;++s){var a=i[o],u=i[s];i[o+s]=[a[0]^u[0],a[1]^u[1],a[2]^u[2],a[3]^u[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var c=i[o^n];i[o]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i};function N9(t,e){if(typeof t=="string"&&(t=Fo.util.createBuffer(t)),Fo.util.isArray(t)&&t.length>4){var r=t;t=Fo.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!Fo.util.isArray(t)){for(var i=[],o=e/4,n=0;n<o;++n)i.push(t.getInt32());t=i}return t}function D9(t){t[t.length-1]=t[t.length-1]+1&4294967295}function Qee(t){return[t/4294967296|0,t&4294967295]}});var H0=R((Wwr,oDe)=>{var hn=Ht();P9();Jee();br();oDe.exports=hn.aes=hn.aes||{};hn.aes.startEncrypting=function(t,e,r,n){var i=k9({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};hn.aes.createEncryptionCipher=function(t,e){return k9({key:t,output:null,decrypt:!1,mode:e})};hn.aes.startDecrypting=function(t,e,r,n){var i=k9({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};hn.aes.createDecryptionCipher=function(t,e){return k9({key:t,output:null,decrypt:!0,mode:e})};hn.aes.Algorithm=function(t,e){tte||nDe();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return ete(r._w,n,i,!1)},decrypt:function(n,i){return ete(r._w,n,i,!0)}}}),r._init=!1};hn.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=hn.util.createBuffer(e);else if(hn.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=hn.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!hn.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!hn.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var o=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=iDe(e,t.decrypt&&!s),this._init=!0}};hn.aes._expandKey=function(t,e){return tte||nDe(),iDe(t,e)};hn.aes._updateBlock=ete;LS("AES-ECB",hn.cipher.modes.ecb);LS("AES-CBC",hn.cipher.modes.cbc);LS("AES-CFB",hn.cipher.modes.cfb);LS("AES-OFB",hn.cipher.modes.ofb);LS("AES-CTR",hn.cipher.modes.ctr);LS("AES-GCM",hn.cipher.modes.gcm);function LS(t,e){var r=function(){return new hn.aes.Algorithm(t,e)};hn.cipher.registerAlgorithm(t,r)}var tte=!1,kS=4,oa,Zee,rDe,m1,wl;function nDe(){tte=!0,rDe=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;oa=new Array(256),Zee=new Array(256),m1=new Array(4),wl=new Array(4);for(var e=0;e<4;++e)m1[e]=new Array(256),wl[e]=new Array(256);for(var r=0,n=0,i,o,s,a,u,c,l,e=0;e<256;++e){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,oa[r]=a,Zee[a]=r,u=t[a],i=t[r],o=t[i],s=t[o],c=u<<24^a<<16^a<<8^(a^u),l=(i^o^s)<<24^(r^s)<<16^(r^o^s)<<8^(r^i^s);for(var f=0;f<4;++f)m1[f][r]=c,wl[f][a]=l,c=c<<24|c>>>8,l=l<<24|l>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function iDe(t,e){for(var r=t.slice(0),n,i=1,o=r.length,s=o+6+1,a=kS*s,u=o;u<a;++u)n=r[u-1],u%o===0?(n=oa[n>>>16&255]<<24^oa[n>>>8&255]<<16^oa[n&255]<<8^oa[n>>>24]^rDe[i]<<24,i++):o>6&&u%o===4&&(n=oa[n>>>24]<<24^oa[n>>>16&255]<<16^oa[n>>>8&255]<<8^oa[n&255]),r[u]=r[u-o]^n;if(e){var c,l=wl[0],f=wl[1],p=wl[2],m=wl[3],d=r.slice(0);a=r.length;for(var u=0,h=a-kS;u<a;u+=kS,h-=kS)if(u===0||u===a-kS)d[u]=r[h],d[u+1]=r[h+3],d[u+2]=r[h+2],d[u+3]=r[h+1];else for(var g=0;g<kS;++g)c=r[h+g],d[u+(3&-g)]=l[oa[c>>>24]]^f[oa[c>>>16&255]]^p[oa[c>>>8&255]]^m[oa[c&255]];r=d}return r}function ete(t,e,r,n){var i=t.length/4-1,o,s,a,u,c;n?(o=wl[0],s=wl[1],a=wl[2],u=wl[3],c=Zee):(o=m1[0],s=m1[1],a=m1[2],u=m1[3],c=oa);var l,f,p,m,d,h,g;l=e[0]^t[0],f=e[n?3:1]^t[1],p=e[2]^t[2],m=e[n?1:3]^t[3];for(var v=3,_=1;_<i;++_)d=o[l>>>24]^s[f>>>16&255]^a[p>>>8&255]^u[m&255]^t[++v],h=o[f>>>24]^s[p>>>16&255]^a[m>>>8&255]^u[l&255]^t[++v],g=o[p>>>24]^s[m>>>16&255]^a[l>>>8&255]^u[f&255]^t[++v],m=o[m>>>24]^s[l>>>16&255]^a[f>>>8&255]^u[p&255]^t[++v],l=d,f=h,p=g;r[0]=c[l>>>24]<<24^c[f>>>16&255]<<16^c[p>>>8&255]<<8^c[m&255]^t[++v],r[n?3:1]=c[f>>>24]<<24^c[p>>>16&255]<<16^c[m>>>8&255]<<8^c[l&255]^t[++v],r[2]=c[p>>>24]<<24^c[m>>>16&255]<<16^c[l>>>8&255]<<8^c[f&255]^t[++v],r[n?1:3]=c[m>>>24]<<24^c[l>>>16&255]<<16^c[f>>>8&255]<<8^c[p&255]^t[++v]}function k9(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=hn.cipher.createDecipher(r,t.key):n=hn.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof hn.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var G0=R((Kwr,sDe)=>{var WR=Ht();WR.pki=WR.pki||{};var rte=sDe.exports=WR.pki.oids=WR.oids=WR.oids||{};function Ce(t,e){rte[t]=e,rte[e]=t}function Lr(t,e){rte[t]=e}Ce("1.2.840.113549.1.1.1","rsaEncryption");Ce("1.2.840.113549.1.1.4","md5WithRSAEncryption");Ce("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Ce("1.2.840.113549.1.1.7","RSAES-OAEP");Ce("1.2.840.113549.1.1.8","mgf1");Ce("1.2.840.113549.1.1.9","pSpecified");Ce("1.2.840.113549.1.1.10","RSASSA-PSS");Ce("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Ce("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Ce("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Ce("1.3.101.112","EdDSA25519");Ce("1.2.840.10040.4.3","dsa-with-sha1");Ce("1.3.14.3.2.7","desCBC");Ce("1.3.14.3.2.26","sha1");Ce("1.3.14.3.2.29","sha1WithRSASignature");Ce("2.16.840.1.101.3.4.2.1","sha256");Ce("2.16.840.1.101.3.4.2.2","sha384");Ce("2.16.840.1.101.3.4.2.3","sha512");Ce("2.16.840.1.101.3.4.2.4","sha224");Ce("2.16.840.1.101.3.4.2.5","sha512-224");Ce("2.16.840.1.101.3.4.2.6","sha512-256");Ce("1.2.840.113549.2.2","md2");Ce("1.2.840.113549.2.5","md5");Ce("1.2.840.113549.1.7.1","data");Ce("1.2.840.113549.1.7.2","signedData");Ce("1.2.840.113549.1.7.3","envelopedData");Ce("1.2.840.113549.1.7.4","signedAndEnvelopedData");Ce("1.2.840.113549.1.7.5","digestedData");Ce("1.2.840.113549.1.7.6","encryptedData");Ce("1.2.840.113549.1.9.1","emailAddress");Ce("1.2.840.113549.1.9.2","unstructuredName");Ce("1.2.840.113549.1.9.3","contentType");Ce("1.2.840.113549.1.9.4","messageDigest");Ce("1.2.840.113549.1.9.5","signingTime");Ce("1.2.840.113549.1.9.6","counterSignature");Ce("1.2.840.113549.1.9.7","challengePassword");Ce("1.2.840.113549.1.9.8","unstructuredAddress");Ce("1.2.840.113549.1.9.14","extensionRequest");Ce("1.2.840.113549.1.9.20","friendlyName");Ce("1.2.840.113549.1.9.21","localKeyId");Ce("1.2.840.113549.1.9.22.1","x509Certificate");Ce("1.2.840.113549.1.12.10.1.1","keyBag");Ce("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Ce("1.2.840.113549.1.12.10.1.3","certBag");Ce("1.2.840.113549.1.12.10.1.4","crlBag");Ce("1.2.840.113549.1.12.10.1.5","secretBag");Ce("1.2.840.113549.1.12.10.1.6","safeContentsBag");Ce("1.2.840.113549.1.5.13","pkcs5PBES2");Ce("1.2.840.113549.1.5.12","pkcs5PBKDF2");Ce("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Ce("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Ce("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Ce("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Ce("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Ce("1.2.840.113549.2.7","hmacWithSHA1");Ce("1.2.840.113549.2.8","hmacWithSHA224");Ce("1.2.840.113549.2.9","hmacWithSHA256");Ce("1.2.840.113549.2.10","hmacWithSHA384");Ce("1.2.840.113549.2.11","hmacWithSHA512");Ce("1.2.840.113549.3.7","des-EDE3-CBC");Ce("2.16.840.1.101.3.4.1.2","aes128-CBC");Ce("2.16.840.1.101.3.4.1.22","aes192-CBC");Ce("2.16.840.1.101.3.4.1.42","aes256-CBC");Ce("2.5.4.3","commonName");Ce("2.5.4.4","surname");Ce("2.5.4.5","serialNumber");Ce("2.5.4.6","countryName");Ce("2.5.4.7","localityName");Ce("2.5.4.8","stateOrProvinceName");Ce("2.5.4.9","streetAddress");Ce("2.5.4.10","organizationName");Ce("2.5.4.11","organizationalUnitName");Ce("2.5.4.12","title");Ce("2.5.4.13","description");Ce("2.5.4.15","businessCategory");Ce("2.5.4.17","postalCode");Ce("2.5.4.42","givenName");Ce("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Ce("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Ce("2.16.840.1.113730.1.1","nsCertType");Ce("2.16.840.1.113730.1.13","nsComment");Lr("2.5.29.1","authorityKeyIdentifier");Lr("2.5.29.2","keyAttributes");Lr("2.5.29.3","certificatePolicies");Lr("2.5.29.4","keyUsageRestriction");Lr("2.5.29.5","policyMapping");Lr("2.5.29.6","subtreesConstraint");Lr("2.5.29.7","subjectAltName");Lr("2.5.29.8","issuerAltName");Lr("2.5.29.9","subjectDirectoryAttributes");Lr("2.5.29.10","basicConstraints");Lr("2.5.29.11","nameConstraints");Lr("2.5.29.12","policyConstraints");Lr("2.5.29.13","basicConstraints");Ce("2.5.29.14","subjectKeyIdentifier");Ce("2.5.29.15","keyUsage");Lr("2.5.29.16","privateKeyUsagePeriod");Ce("2.5.29.17","subjectAltName");Ce("2.5.29.18","issuerAltName");Ce("2.5.29.19","basicConstraints");Lr("2.5.29.20","cRLNumber");Lr("2.5.29.21","cRLReason");Lr("2.5.29.22","expirationDate");Lr("2.5.29.23","instructionCode");Lr("2.5.29.24","invalidityDate");Lr("2.5.29.25","cRLDistributionPoints");Lr("2.5.29.26","issuingDistributionPoint");Lr("2.5.29.27","deltaCRLIndicator");Lr("2.5.29.28","issuingDistributionPoint");Lr("2.5.29.29","certificateIssuer");Lr("2.5.29.30","nameConstraints");Ce("2.5.29.31","cRLDistributionPoints");Ce("2.5.29.32","certificatePolicies");Lr("2.5.29.33","policyMappings");Lr("2.5.29.34","policyConstraints");Ce("2.5.29.35","authorityKeyIdentifier");Lr("2.5.29.36","policyConstraints");Ce("2.5.29.37","extKeyUsage");Lr("2.5.29.46","freshestCRL");Lr("2.5.29.54","inhibitAnyPolicy");Ce("1.3.6.1.4.1.11129.2.4.2","timestampList");Ce("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Ce("1.3.6.1.5.5.7.3.1","serverAuth");Ce("1.3.6.1.5.5.7.3.2","clientAuth");Ce("1.3.6.1.5.5.7.3.3","codeSigning");Ce("1.3.6.1.5.5.7.3.4","emailProtection");Ce("1.3.6.1.5.5.7.3.8","timeStamping")});var Al=R((Xwr,cDe)=>{var An=Ht();br();G0();var He=cDe.exports=An.asn1=An.asn1||{};He.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};He.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};He.create=function(t,e,r,n,i){if(An.util.isArray(n)){for(var o=[],s=0;s<n.length;++s)n[s]!==void 0&&o.push(n[s]);n=o}var a={tagClass:t,type:e,constructed:r,composed:r||An.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=He.copy(a)),a};He.copy=function(t,e){var r;if(An.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(He.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:He.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};He.equals=function(t,e,r){if(An.util.isArray(t)){if(!An.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!He.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&He.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};He.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function KR(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var jut=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var o=r&127;KR(t,e,o),n=t.getInt(o<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};He.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=An.util.createBuffer(t));var r=t.length(),n=L9(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function L9(t,e,r,n){var i;KR(t,e,2);var o=t.getByte();e--;var s=o&192,a=o&31;i=t.length();var u=jut(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var c=new Error("Too few bytes to read ASN.1 value.");throw c.available=t.length(),c.remaining=e,c.requested=u,c}u=e}var l,f,p=(o&32)===32;if(p)if(l=[],u===void 0)for(;;){if(KR(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),l.push(L9(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),l.push(L9(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(l===void 0&&s===He.Class.UNIVERSAL&&a===He.Type.BITSTRING&&(f=t.bytes(u)),l===void 0&&n.decodeBitStrings&&s===He.Class.UNIVERSAL&&a===He.Type.BITSTRING&&u>1){var m=t.read,d=e,h=0;if(a===He.Type.BITSTRING&&(KR(t,e,1),h=t.getByte(),e--),h===0)try{i=t.length();var g={strict:!0,decodeBitStrings:!0},v=L9(t,e,r+1,g),_=i-t.length();e-=_,a==He.Type.BITSTRING&&_++;var y=v.tagClass;_===u&&(y===He.Class.UNIVERSAL||y===He.Class.CONTEXT_SPECIFIC)&&(l=[v])}catch{}l===void 0&&(t.read=m,e=d)}if(l===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(a===He.Type.BMPSTRING)for(l="";u>0;u-=2)KR(t,e,2),l+=String.fromCharCode(t.getInt16()),e-=2;else l=t.getBytes(u),e-=u}var x=f===void 0?null:{bitStringContents:f};return He.create(s,a,p,l,x)}He.toDer=function(t){var e=An.util.createBuffer(),r=t.tagClass|t.type,n=An.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=He.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var o=0;o<t.value.length;++o)t.value[o]!==void 0&&n.putBuffer(He.toDer(t.value[o]))}else if(t.type===He.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)n.putInt16(t.value.charCodeAt(o));else t.type===He.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),a="";do a+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(a.length|128);for(var o=a.length-1;o>=0;--o)e.putByte(a.charCodeAt(o))}return e.putBuffer(n),e};He.oidToDer=function(t){var e=t.split("."),r=An.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,o,s,a=2;a<e.length;++a){n=!0,i=[],o=parseInt(e[a],10);do s=o&127,o=o>>>7,n||(s|=128),i.push(s),n=!1;while(o>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};He.derToOid=function(t){var e;typeof t=="string"&&(t=An.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};He.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),o=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),a=0;if(t.length>11){var u=t.charAt(10),c=10;u!=="+"&&u!=="-"&&(a=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,0),c&&(u=t.charAt(c),u==="+"||u==="-")){var l=parseInt(t.substr(c+1,2),10),f=parseInt(t.substr(c+4,2),10),p=l*60+f;p*=6e4,u==="+"?e.setTime(+e-p):e.setTime(+e+p)}return e};He.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),a=parseInt(t.substr(12,2),10),u=0,c=0,l=!1;t.charAt(t.length-1)==="Z"&&(l=!0);var f=t.length-5,p=t.charAt(f);if(p==="+"||p==="-"){var m=parseInt(t.substr(f+1,2),10),d=parseInt(t.substr(f+4,2),10);c=m*60+d,c*=6e4,p==="+"&&(c*=-1),l=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),l?(e.setUTCFullYear(r,n,i),e.setUTCHours(o,s,a,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(o,s,a,u)),e};He.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};He.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};He.integerToDer=function(t){var e=An.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};He.derToInteger=function(t){typeof t=="string"&&(t=An.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};He.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&An.util.isArray(e.value))for(var o=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[o]&&(i=He.validate(t.value[o],e.value[s],r,n),i?++o:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var a;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var u=t.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var aDe=/[^\\u0000-\\u00ff]/;He.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",o=0;o<e*r;++o)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case He.Class.UNIVERSAL:n+="Universal:";break;case He.Class.APPLICATION:n+="Application:";break;case He.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case He.Class.PRIVATE:n+="Private:";break}if(t.tagClass===He.Class.UNIVERSAL)switch(n+=t.type,t.type){case He.Type.NONE:n+=" (None)";break;case He.Type.BOOLEAN:n+=" (Boolean)";break;case He.Type.INTEGER:n+=" (Integer)";break;case He.Type.BITSTRING:n+=" (Bit string)";break;case He.Type.OCTETSTRING:n+=" (Octet string)";break;case He.Type.NULL:n+=" (Null)";break;case He.Type.OID:n+=" (Object Identifier)";break;case He.Type.ODESC:n+=" (Object Descriptor)";break;case He.Type.EXTERNAL:n+=" (External or Instance of)";break;case He.Type.REAL:n+=" (Real)";break;case He.Type.ENUMERATED:n+=" (Enumerated)";break;case He.Type.EMBEDDED:n+=" (Embedded PDV)";break;case He.Type.UTF8:n+=" (UTF8)";break;case He.Type.ROID:n+=" (Relative Object Identifier)";break;case He.Type.SEQUENCE:n+=" (Sequence)";break;case He.Type.SET:n+=" (Set)";break;case He.Type.PRINTABLESTRING:n+=" (Printable String)";break;case He.Type.IA5String:n+=" (IA5String (ASCII))";break;case He.Type.UTCTIME:n+=" (UTC time)";break;case He.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case He.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,a="",o=0;o<t.value.length;++o)t.value[o]!==void 0&&(s+=1,a+=He.prettyPrint(t.value[o],e+1,r),o+1<t.value.length&&(a+=","));n+=i+"Sub values: "+s+a}else{if(n+=i+"Value: ",t.type===He.Type.OID){var u=He.derToOid(t.value);n+=u,An.pki&&An.pki.oids&&u in An.pki.oids&&(n+=" ("+An.pki.oids[u]+") ")}if(t.type===He.Type.INTEGER)try{n+=He.derToInteger(t.value)}catch{n+="0x"+An.util.bytesToHex(t.value)}else if(t.type===He.Type.BITSTRING){if(t.value.length>1?n+="0x"+An.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var c=t.value.charCodeAt(0);c==1?n+=" (1 unused bit shown)":c>1&&(n+=" ("+c+" unused bits shown)")}}else if(t.type===He.Type.OCTETSTRING)aDe.test(t.value)||(n+="("+t.value+") "),n+="0x"+An.util.bytesToHex(t.value);else if(t.type===He.Type.UTF8)try{n+=An.util.decodeUtf8(t.value)}catch(l){if(l.message==="URI malformed")n+="0x"+An.util.bytesToHex(t.value)+" (malformed UTF8)";else throw l}else t.type===He.Type.PRINTABLESTRING||t.type===He.Type.IA5String?n+=t.value:aDe.test(t.value)?n+="0x"+An.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var hp=R((Qwr,uDe)=>{var O9=Ht();uDe.exports=O9.md=O9.md||{};O9.md.algorithms=O9.md.algorithms||{}});var OS=R((Jwr,lDe)=>{var gm=Ht();hp();br();var Vut=lDe.exports=gm.hmac=gm.hmac||{};Vut.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(o,s){if(o!==null)if(typeof o=="string")if(o=o.toLowerCase(),o in gm.md.algorithms)e=gm.md.algorithms[o].create();else throw new Error('Unknown hash algorithm "'+o+'"');else e=o;if(s===null)s=t;else{if(typeof s=="string")s=gm.util.createBuffer(s);else if(gm.util.isArray(s)){var a=s;s=gm.util.createBuffer();for(var u=0;u<a.length;++u)s.putByte(a[u])}var c=s.length();c>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=gm.util.createBuffer(),n=gm.util.createBuffer(),c=s.length();for(var u=0;u<c;++u){var a=s.at(u);r.putByte(54^a),n.putByte(92^a)}if(c<e.blockLength)for(var a=e.blockLength-c,u=0;u<a;++u)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(o){e.update(o)},i.getMac=function(){var o=e.digest().bytes();return e.start(),e.update(n),e.update(o),e.digest()},i.digest=i.getMac,i}});var F9=R((Zwr,mDe)=>{var gp=Ht();hp();br();var pDe=mDe.exports=gp.md5=gp.md5||{};gp.md.md5=gp.md.algorithms.md5=pDe;pDe.create=function(){dDe||zut();var t=null,e=gp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=gp.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=gp.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),fDe(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=gp.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(nte.substr(0,n.blockLength-s));for(var a,u=0,c=n.fullMessageLength.length-1;c>=0;--c)a=n.fullMessageLength[c]*8+u,u=a/4294967296>>>0,i.putInt32Le(a>>>0);var l={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};fDe(l,r,i);var f=gp.util.createBuffer();return f.putInt32Le(l.h0),f.putInt32Le(l.h1),f.putInt32Le(l.h2),f.putInt32Le(l.h3),f},n};var nte=null,M9=null,XR=null,MS=null,dDe=!1;function zut(){nte="\x80",nte+=gp.util.fillString("\0",64),M9=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],XR=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],MS=new Array(64);for(var t=0;t<64;++t)MS[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);dDe=!0}function fDe(t,e,r){for(var n,i,o,s,a,u,c,l,f=r.length();f>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,l=0;l<16;++l)e[l]=r.getInt32Le(),u=a^o&(s^a),n=i+u+MS[l]+e[l],c=XR[l],i=a,a=s,s=o,o+=n<<c|n>>>32-c;for(;l<32;++l)u=s^a&(o^s),n=i+u+MS[l]+e[M9[l]],c=XR[l],i=a,a=s,s=o,o+=n<<c|n>>>32-c;for(;l<48;++l)u=o^s^a,n=i+u+MS[l]+e[M9[l]],c=XR[l],i=a,a=s,s=o,o+=n<<c|n>>>32-c;for(;l<64;++l)u=s^(o|~a),n=i+u+MS[l]+e[M9[l]],c=XR[l],i=a,a=s,s=o,o+=n<<c|n>>>32-c;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,f-=64}}});var h1=R((eAr,gDe)=>{var B9=Ht();br();var hDe=gDe.exports=B9.pem=B9.pem||{};hDe.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=U9(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=U9(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=U9(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=U9(t.headers[i]);return t.procType&&(r+=`\r
`),r+=B9.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};hDe.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,o;o=r.exec(t),!!o;){var s=o[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var a={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:B9.util.decode64(o[3])};if(e.push(a),!!o[2]){for(var u=o[2].split(i),c=0;o&&c<u.length;){for(var l=u[c].replace(/\s+$/,""),f=c+1;f<u.length;++f){var p=u[f];if(!/\s/.test(p[0]))break;l+=p,c=f}if(o=l.match(n),o){for(var m={name:o[1],values:[]},d=o[2].split(","),h=0;h<d.length;++h)m.values.push(Yut(d[h]));if(a.procType)if(!a.contentDomain&&m.name==="Content-Domain")a.contentDomain=d[0]||"";else if(!a.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:d[0],parameters:d[1]||null}}else a.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:d[0],type:d[1]}}}++c}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function U9(t){for(var e=t.name+": ",r=[],n=function(u,c){return" "+c},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var o=0,s=-1,i=0;i<e.length;++i,++o)if(o>65&&s!==-1){var a=e[s];a===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+a+e.substr(s+1),o=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function Yut(t){return t.replace(/^\s+/,"")}});var QR=R((tAr,_De)=>{var Un=Ht();P9();Jee();br();_De.exports=Un.des=Un.des||{};Un.des.startEncrypting=function(t,e,r,n){var i=q9({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Un.des.createEncryptionCipher=function(t,e){return q9({key:t,output:null,decrypt:!1,mode:e})};Un.des.startDecrypting=function(t,e,r,n){var i=q9({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Un.des.createDecryptionCipher=function(t,e){return q9({key:t,output:null,decrypt:!0,mode:e})};Un.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return vDe(r._keys,n,i,!1)},decrypt:function(n,i){return vDe(r._keys,n,i,!0)}}}),r._init=!1};Un.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Un.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=tlt(e),this._init=!0}};vp("DES-ECB",Un.cipher.modes.ecb);vp("DES-CBC",Un.cipher.modes.cbc);vp("DES-CFB",Un.cipher.modes.cfb);vp("DES-OFB",Un.cipher.modes.ofb);vp("DES-CTR",Un.cipher.modes.ctr);vp("3DES-ECB",Un.cipher.modes.ecb);vp("3DES-CBC",Un.cipher.modes.cbc);vp("3DES-CFB",Un.cipher.modes.cfb);vp("3DES-OFB",Un.cipher.modes.ofb);vp("3DES-CTR",Un.cipher.modes.ctr);function vp(t,e){var r=function(){return new Un.des.Algorithm(t,e)};Un.cipher.registerAlgorithm(t,r)}var $ut=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Wut=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Kut=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Xut=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Qut=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Jut=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Zut=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],elt=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function tlt(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],d=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],h=t.length()>8?3:1,g=[],v=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],_=0,y,x=0;x<h;x++){var b=t.getInt32(),T=t.getInt32();y=(b>>>4^T)&252645135,T^=y,b^=y<<4,y=(T>>>-16^b)&65535,b^=y,T^=y<<-16,y=(b>>>2^T)&858993459,T^=y,b^=y<<2,y=(T>>>-16^b)&65535,b^=y,T^=y<<-16,y=(b>>>1^T)&1431655765,T^=y,b^=y<<1,y=(T>>>8^b)&16711935,b^=y,T^=y<<8,y=(b>>>1^T)&1431655765,T^=y,b^=y<<1,y=b<<8|T>>>20&240,b=T<<24|T<<8&16711680|T>>>8&65280|T>>>24&240,T=y;for(var k=0;k<v.length;++k){v[k]?(b=b<<2|b>>>26,T=T<<2|T>>>26):(b=b<<1|b>>>27,T=T<<1|T>>>27),b&=-15,T&=-15;var U=e[b>>>28]|r[b>>>24&15]|n[b>>>20&15]|i[b>>>16&15]|o[b>>>12&15]|s[b>>>8&15]|a[b>>>4&15],z=u[T>>>28]|c[T>>>24&15]|l[T>>>20&15]|f[T>>>16&15]|p[T>>>12&15]|m[T>>>8&15]|d[T>>>4&15];y=(z>>>16^U)&65535,g[_++]=U^y,g[_++]=z^y<<16}}return g}function vDe(t,e,r,n){var i=t.length===32?3:9,o;i===3?o=n?[30,-2,-2]:[0,32,2]:o=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,a=e[0],u=e[1];s=(a>>>4^u)&252645135,u^=s,a^=s<<4,s=(a>>>16^u)&65535,u^=s,a^=s<<16,s=(u>>>2^a)&858993459,a^=s,u^=s<<2,s=(u>>>8^a)&16711935,a^=s,u^=s<<8,s=(a>>>1^u)&1431655765,u^=s,a^=s<<1,a=a<<1|a>>>31,u=u<<1|u>>>31;for(var c=0;c<i;c+=3){for(var l=o[c+1],f=o[c+2],p=o[c];p!=l;p+=f){var m=u^t[p],d=(u>>>4|u<<28)^t[p+1];s=a,a=u,u=s^(Wut[m>>>24&63]|Xut[m>>>16&63]|Jut[m>>>8&63]|elt[m&63]|$ut[d>>>24&63]|Kut[d>>>16&63]|Qut[d>>>8&63]|Zut[d&63])}s=a,a=u,u=s}a=a>>>1|a<<31,u=u>>>1|u<<31,s=(a>>>1^u)&1431655765,u^=s,a^=s<<1,s=(u>>>8^a)&16711935,a^=s,u^=s<<8,s=(u>>>2^a)&858993459,a^=s,u^=s<<2,s=(a>>>16^u)&65535,u^=s,a^=s<<16,s=(a>>>4^u)&252645135,u^=s,a^=s<<4,r[0]=a,r[1]=u}function q9(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=Un.cipher.createDecipher(r,t.key):n=Un.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(o,s){var a=null;s instanceof Un.util.ByteBuffer&&(a=s,s={}),s=s||{},s.output=a,s.iv=o,i.call(n,s)},n}});var H9=R((rAr,yDe)=>{var sa=Ht();OS();hp();br();var rlt=sa.pkcs5=sa.pkcs5||{},vm;sa.util.isNodejs&&!sa.options.usePureJavaScript&&(vm=require("crypto"));yDe.exports=sa.pbkdf2=rlt.pbkdf2=function(t,e,r,n,i,o){if(typeof i=="function"&&(o=i,i=null),sa.util.isNodejs&&!sa.options.usePureJavaScript&&vm.pbkdf2&&(i===null||typeof i!="object")&&(vm.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),o?vm.pbkdf2Sync.length===4?vm.pbkdf2(t,e,r,n,function(y,x){if(y)return o(y);o(null,x.toString("binary"))}):vm.pbkdf2(t,e,r,n,i,function(y,x){if(y)return o(y);o(null,x.toString("binary"))}):vm.pbkdf2Sync.length===4?vm.pbkdf2Sync(t,e,r,n).toString("binary"):vm.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in sa.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=sa.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var a=new Error("Derived key is too long.");if(o)return o(a);throw a}var u=Math.ceil(n/s),c=n-(u-1)*s,l=sa.hmac.create();l.start(i,t);var f="",p,m,d;if(!o){for(var h=1;h<=u;++h){l.start(null,null),l.update(e),l.update(sa.util.int32ToBytes(h)),p=d=l.digest().getBytes();for(var g=2;g<=r;++g)l.start(null,null),l.update(d),m=l.digest().getBytes(),p=sa.util.xorBytes(p,m,s),d=m;f+=h<u?p:p.substr(0,c)}return f}var h=1,g;function v(){if(h>u)return o(null,f);l.start(null,null),l.update(e),l.update(sa.util.int32ToBytes(h)),p=d=l.digest().getBytes(),g=2,_()}function _(){if(g<=r)return l.start(null,null),l.update(d),m=l.digest().getBytes(),p=sa.util.xorBytes(p,m,s),d=m,++g,sa.util.setImmediate(_);f+=h<u?p:p.substr(0,c),++h,v()}v()}});var ote=R((nAr,SDe)=>{var _p=Ht();hp();br();var xDe=SDe.exports=_p.sha256=_p.sha256||{};_p.md.sha256=_p.md.algorithms.sha256=xDe;xDe.create=function(){EDe||nlt();var t=null,e=_p.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=_p.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=_p.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),bDe(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=_p.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(ite.substr(0,n.blockLength-s));for(var a,u,c=n.fullMessageLength[0]*8,l=0;l<n.fullMessageLength.length-1;++l)a=n.fullMessageLength[l+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};bDe(f,r,i);var p=_p.util.createBuffer();return p.putInt32(f.h0),p.putInt32(f.h1),p.putInt32(f.h2),p.putInt32(f.h3),p.putInt32(f.h4),p.putInt32(f.h5),p.putInt32(f.h6),p.putInt32(f.h7),p},n};var ite=null,EDe=!1,TDe=null;function nlt(){ite="\x80",ite+=_p.util.fillString("\0",64),TDe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],EDe=!0}function bDe(t,e,r){for(var n,i,o,s,a,u,c,l,f,p,m,d,h,g,v,_=r.length();_>=64;){for(c=0;c<16;++c)e[c]=r.getInt32();for(;c<64;++c)n=e[c-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[c-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[c]=n+e[c-7]+i+e[c-16]|0;for(l=t.h0,f=t.h1,p=t.h2,m=t.h3,d=t.h4,h=t.h5,g=t.h6,v=t.h7,c=0;c<64;++c)s=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),a=g^d&(h^g),o=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),u=l&f|p&(l^f),n=v+s+a+TDe[c]+e[c],i=o+u,v=g,g=h,h=d,d=m+n>>>0,m=p,p=f,f=l,l=n+i>>>0;t.h0=t.h0+l|0,t.h1=t.h1+f|0,t.h2=t.h2+p|0,t.h3=t.h3+m|0,t.h4=t.h4+d|0,t.h5=t.h5+h|0,t.h6=t.h6+g|0,t.h7=t.h7+v|0,_-=64}}});var ste=R((iAr,CDe)=>{var yp=Ht();br();var G9=null;yp.util.isNodejs&&!yp.options.usePureJavaScript&&!process.versions["node-webkit"]&&(G9=require("crypto"));var ilt=CDe.exports=yp.prng=yp.prng||{};ilt.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(c,l){if(!l)return e.generateSync(c);var f=e.plugin.cipher,p=e.plugin.increment,m=e.plugin.formatKey,d=e.plugin.formatSeed,h=yp.util.createBuffer();e.key=null,g();function g(v){if(v)return l(v);if(h.length()>=c)return l(null,h.getBytes(c));if(e.generated>1048575&&(e.key=null),e.key===null)return yp.util.nextTick(function(){o(g)});var _=f(e.key,e.seed);e.generated+=_.length,h.putBytes(_),e.key=m(f(e.key,p(e.seed))),e.seed=d(f(e.key,e.seed)),yp.util.setImmediate(g)}},e.generateSync=function(c){var l=e.plugin.cipher,f=e.plugin.increment,p=e.plugin.formatKey,m=e.plugin.formatSeed;e.key=null;for(var d=yp.util.createBuffer();d.length()<c;){e.generated>1048575&&(e.key=null),e.key===null&&s();var h=l(e.key,e.seed);e.generated+=h.length,d.putBytes(h),e.key=p(l(e.key,f(e.seed))),e.seed=m(l(e.key,e.seed))}return d.getBytes(c)};function o(c){if(e.pools[0].messageLength>=32)return a(),c();var l=32-e.pools[0].messageLength<<5;e.seedFile(l,function(f,p){if(f)return c(f);e.collect(p),a(),c()})}function s(){if(e.pools[0].messageLength>=32)return a();var c=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(c)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var c=e.plugin.md.create();c.update(e.keyBytes);for(var l=1,f=0;f<32;++f)e.reseeds%l===0&&(c.update(e.pools[f].digest().getBytes()),e.pools[f].start()),l=l<<1;e.keyBytes=c.digest().getBytes(),c.start(),c.update(e.keyBytes);var p=c.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(p),e.generated=0}function u(c){var l=null,f=yp.util.globalScope,p=f.crypto||f.msCrypto;p&&p.getRandomValues&&(l=function(b){return p.getRandomValues(b)});var m=yp.util.createBuffer();if(l)for(;m.length()<c;){var d=Math.max(1,Math.min(c-m.length(),65536)/4),h=new Uint32Array(Math.floor(d));try{l(h);for(var g=0;g<h.length;++g)m.putInt32(h[g])}catch(b){if(!(typeof QuotaExceededError<"u"&&b instanceof QuotaExceededError))throw b}}if(m.length()<c)for(var v,_,y,x=Math.floor(Math.random()*65536);m.length()<c;){_=16807*(x&65535),v=16807*(x>>16),_+=(v&32767)<<16,_+=v>>15,_=(_&2147483647)+(_>>31),x=_&4294967295;for(var g=0;g<3;++g)y=x>>>(g<<3),y^=Math.floor(Math.random()*256),m.putByte(y&255)}return m.getBytes(c)}return G9?(e.seedFile=function(c,l){G9.randomBytes(c,function(f,p){if(f)return l(f);l(null,p.toString())})},e.seedFileSync=function(c){return G9.randomBytes(c).toString()}):(e.seedFile=function(c,l){try{l(null,u(c))}catch(f){l(f)}},e.seedFileSync=u),e.collect=function(c){for(var l=c.length,f=0;f<l;++f)e.pools[e.pool].update(c.substr(f,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(c,l){for(var f="",p=0;p<l;p+=8)f+=String.fromCharCode(c>>p&255);e.collect(f)},e.registerWorker=function(c){if(c===self)e.seedFile=function(f,p){function m(d){var h=d.data;h.forge&&h.forge.prng&&(self.removeEventListener("message",m),p(h.forge.prng.err,h.forge.prng.bytes))}self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:f}}})};else{var l=function(f){var p=f.data;p.forge&&p.forge.prng&&e.seedFile(p.forge.prng.needed,function(m,d){c.postMessage({forge:{prng:{err:m,bytes:d}}})})};c.addEventListener("message",l)}},e}});var Au=R((oAr,ate)=>{var Uo=Ht();H0();ote();ste();br();(function(){if(Uo.random&&Uo.random.getBytes){ate.exports=Uo.random;return}(function(t){var e={},r=new Array(4),n=Uo.util.createBuffer();e.formatKey=function(f){var p=Uo.util.createBuffer(f);return f=new Array(4),f[0]=p.getInt32(),f[1]=p.getInt32(),f[2]=p.getInt32(),f[3]=p.getInt32(),Uo.aes._expandKey(f,!1)},e.formatSeed=function(f){var p=Uo.util.createBuffer(f);return f=new Array(4),f[0]=p.getInt32(),f[1]=p.getInt32(),f[2]=p.getInt32(),f[3]=p.getInt32(),f},e.cipher=function(f,p){return Uo.aes._updateBlock(f,p,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(f){return++f[3],f},e.md=Uo.md.sha256;function i(){var f=Uo.prng.create(e);return f.getBytes=function(p,m){return f.generate(p,m)},f.getBytesSync=function(p){return f.generate(p)},f}var o=i(),s=null,a=Uo.util.globalScope,u=a.crypto||a.msCrypto;if(u&&u.getRandomValues&&(s=function(f){return u.getRandomValues(f)}),Uo.options.usePureJavaScript||!Uo.util.isNodejs&&!s){if(typeof window>"u"||window.document,o.collectInt(+new Date,32),typeof navigator<"u"){var c="";for(var l in navigator)try{typeof navigator[l]=="string"&&(c+=navigator[l])}catch{}o.collect(c),c=null}t&&(t().mousemove(function(f){o.collectInt(f.clientX,16),o.collectInt(f.clientY,16)}),t().keypress(function(f){o.collectInt(f.charCode,8)}))}if(!Uo.random)Uo.random=o;else for(var l in o)Uo.random[l]=o[l];Uo.random.createInstance=i,ate.exports=Uo.random})(typeof jQuery<"u"?jQuery:null)})()});var ute=R((sAr,ADe)=>{var $a=Ht();br();var cte=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],IDe=[1,2,3,5],olt=function(t,e){return t<<e&65535|(t&65535)>>16-e},slt=function(t,e){return(t&65535)>>e|t<<16-e&65535};ADe.exports=$a.rc2=$a.rc2||{};$a.rc2.expandKey=function(t,e){typeof t=="string"&&(t=$a.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,o=Math.ceil(i/8),s=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(cte[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-o,cte[r.at(128-o)&s]),a=127-o;a>=0;a--)r.setAt(a,cte[r.at(a+1)^r.at(a+o)]);return r};var wDe=function(t,e,r){var n=!1,i=null,o=null,s=null,a,u,c,l,f=[];for(t=$a.rc2.expandKey(t,e),c=0;c<64;c++)f.push(t.getInt16Le());r?(a=function(d){for(c=0;c<4;c++)d[c]+=f[l]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),d[c]=olt(d[c],IDe[c]),l++},u=function(d){for(c=0;c<4;c++)d[c]+=f[d[(c+3)%4]&63]}):(a=function(d){for(c=3;c>=0;c--)d[c]=slt(d[c],IDe[c]),d[c]-=f[l]+(d[(c+3)%4]&d[(c+2)%4])+(~d[(c+3)%4]&d[(c+1)%4]),l--},u=function(d){for(c=3;c>=0;c--)d[c]-=f[d[(c+3)%4]&63]});var p=function(d){var h=[];for(c=0;c<4;c++){var g=i.getInt16Le();s!==null&&(r?g^=s.getInt16Le():s.putInt16Le(g)),h.push(g&65535)}l=r?0:63;for(var v=0;v<d.length;v++)for(var _=0;_<d[v][0];_++)d[v][1](h);for(c=0;c<4;c++)s!==null&&(r?s.putInt16Le(h[c]):h[c]^=s.getInt16Le()),o.putInt16Le(h[c])},m=null;return m={start:function(d,h){d&&typeof d=="string"&&(d=$a.util.createBuffer(d)),n=!1,i=$a.util.createBuffer(),o=h||new $a.util.createBuffer,s=d,m.output=o},update:function(d){for(n||i.putBuffer(d);i.length()>=8;)p([[5,a],[1,u],[6,a],[1,u],[5,a]])},finish:function(d){var h=!0;if(r)if(d)h=d(8,i,!r);else{var g=i.length()===8?8:8-i.length();i.fillWithByte(g,g)}if(h&&(n=!0,m.update()),!r&&(h=i.length()===0,h))if(d)h=d(8,o,!r);else{var v=o.length(),_=o.at(v-1);_>v?h=!1:o.truncate(_)}return h}},m};$a.rc2.startEncrypting=function(t,e,r){var n=$a.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};$a.rc2.createEncryptionCipher=function(t,e){return wDe(t,e,!0)};$a.rc2.startDecrypting=function(t,e,r){var n=$a.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};$a.rc2.createDecryptionCipher=function(t,e){return wDe(t,e,!1)}});var ZR=R((aAr,MDe)=>{var lte=Ht();MDe.exports=lte.jsbn=lte.jsbn||{};var _m,alt=0xdeadbeefcafe,RDe=(alt&16777215)==15715070;function be(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}lte.jsbn.BigInteger=be;function xr(){return new be(null)}function clt(t,e,r,n,i,o){for(;--o>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function ult(t,e,r,n,i,o){for(var s=e&32767,a=e>>15;--o>=0;){var u=this.data[t]&32767,c=this.data[t++]>>15,l=a*u+c*s;u=s*u+((l&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(l>>>15)+a*c+(i>>>30),r.data[n++]=u&1073741823}return i}function PDe(t,e,r,n,i,o){for(var s=e&16383,a=e>>14;--o>=0;){var u=this.data[t]&16383,c=this.data[t++]>>14,l=a*u+c*s;u=s*u+((l&16383)<<14)+r.data[n]+i,i=(u>>28)+(l>>14)+a*c,r.data[n++]=u&268435455}return i}typeof navigator>"u"?(be.prototype.am=PDe,_m=28):RDe&&navigator.appName=="Microsoft Internet Explorer"?(be.prototype.am=ult,_m=30):RDe&&navigator.appName!="Netscape"?(be.prototype.am=clt,_m=26):(be.prototype.am=PDe,_m=28);be.prototype.DB=_m;be.prototype.DM=(1<<_m)-1;be.prototype.DV=1<<_m;var fte=52;be.prototype.FV=Math.pow(2,fte);be.prototype.F1=fte-_m;be.prototype.F2=2*_m-fte;var llt="0123456789abcdefghijklmnopqrstuvwxyz",j9=new Array,US,Ru;US=48;for(Ru=0;Ru<=9;++Ru)j9[US++]=Ru;US=97;for(Ru=10;Ru<36;++Ru)j9[US++]=Ru;US=65;for(Ru=10;Ru<36;++Ru)j9[US++]=Ru;function NDe(t){return llt.charAt(t)}function DDe(t,e){var r=j9[t.charCodeAt(e)];return r??-1}function flt(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function plt(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function j0(t){var e=xr();return e.fromInt(t),e}function dlt(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,o=0;--n>=0;){var s=r==8?t[n]&255:DDe(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,o==0?this.data[this.t++]=s:o+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this.data[this.t++]=s>>this.DB-o):this.data[this.t-1]|=s<<o,o+=r,o>=this.DB&&(o-=this.DB)}r==8&&t[0]&128&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&be.ZERO.subTo(this,this)}function mlt(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function hlt(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this.data[s]>>a)>0&&(i=!0,o=NDe(n));s>=0;)a<e?(n=(this.data[s]&(1<<a)-1)<<e-a,n|=this.data[--s]>>(a+=this.DB-e)):(n=this.data[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=NDe(n));return i?o:"0"}function glt(){var t=xr();return be.ZERO.subTo(this,t),t}function vlt(){return this.s<0?this.negate():this}function _lt(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function V9(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function ylt(){return this.t<=0?0:this.DB*(this.t-1)+V9(this.data[this.t-1]^this.s&this.DM)}function blt(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function xlt(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Elt(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,o=Math.floor(t/this.DB),s=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+o+1]=this.data[a]>>n|s,s=(this.data[a]&i)<<r;for(a=o-1;a>=0;--a)e.data[a]=0;e.data[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function Tlt(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,o=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&o)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&o)<<i),e.t=this.t-r,e.clamp()}function Slt(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Clt(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&be.ZERO.subTo(e,e)}function Ilt(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function wlt(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=xr());var o=xr(),s=this.s,a=t.s,u=this.DB-V9(n.data[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,l=o.data[c-1];if(l!=0){var f=l*(1<<this.F1)+(c>1?o.data[c-2]>>this.F2:0),p=this.FV/f,m=(1<<this.F1)/f,d=1<<this.F2,h=r.t,g=h-c,v=e??xr();for(o.dlShiftTo(g,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),be.ONE.dlShiftTo(c,v),v.subTo(o,o);o.t<c;)o.data[o.t++]=0;for(;--g>=0;){var _=r.data[--h]==l?this.DM:Math.floor(r.data[h]*p+(r.data[h-1]+d)*m);if((r.data[h]+=o.am(0,_,r,g,0,c))<_)for(o.dlShiftTo(g,v),r.subTo(v,r);r.data[h]<--_;)r.subTo(v,r)}e!=null&&(r.drShiftTo(c,e),s!=a&&be.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&be.ZERO.subTo(r,r)}}}function Alt(t){var e=xr();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(be.ZERO)>0&&t.subTo(e,e),e}function g1(t){this.m=t}function Rlt(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function Plt(t){return t}function Nlt(t){t.divRemTo(this.m,null,t)}function Dlt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function klt(t,e){t.squareTo(e),this.reduce(e)}g1.prototype.convert=Rlt;g1.prototype.revert=Plt;g1.prototype.reduce=Nlt;g1.prototype.mulTo=Dlt;g1.prototype.sqrTo=klt;function Llt(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function v1(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Olt(t){var e=xr();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(be.ZERO)>0&&this.m.subTo(e,e),e}function Mlt(t){var e=xr();return t.copyTo(e),this.reduce(e),e}function Flt(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Ult(t,e){t.squareTo(e),this.reduce(e)}function Blt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}v1.prototype.convert=Olt;v1.prototype.revert=Mlt;v1.prototype.reduce=Flt;v1.prototype.mulTo=Blt;v1.prototype.sqrTo=Ult;function qlt(){return(this.t>0?this.data[0]&1:this.s)==0}function Hlt(t,e){if(t>4294967295||t<1)return be.ONE;var r=xr(),n=xr(),i=e.convert(this),o=V9(t)-1;for(i.copyTo(r);--o>=0;)if(e.sqrTo(r,n),(t&1<<o)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function Glt(t,e){var r;return t<256||e.isEven()?r=new g1(e):r=new v1(e),this.exp(t,r)}be.prototype.copyTo=flt;be.prototype.fromInt=plt;be.prototype.fromString=dlt;be.prototype.clamp=mlt;be.prototype.dlShiftTo=blt;be.prototype.drShiftTo=xlt;be.prototype.lShiftTo=Elt;be.prototype.rShiftTo=Tlt;be.prototype.subTo=Slt;be.prototype.multiplyTo=Clt;be.prototype.squareTo=Ilt;be.prototype.divRemTo=wlt;be.prototype.invDigit=Llt;be.prototype.isEven=qlt;be.prototype.exp=Hlt;be.prototype.toString=hlt;be.prototype.negate=glt;be.prototype.abs=vlt;be.prototype.compareTo=_lt;be.prototype.bitLength=ylt;be.prototype.mod=Alt;be.prototype.modPowInt=Glt;be.ZERO=j0(0);be.ONE=j0(1);function jlt(){var t=xr();return this.copyTo(t),t}function Vlt(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function zlt(){return this.t==0?this.s:this.data[0]<<24>>24}function Ylt(){return this.t==0?this.s:this.data[0]<<16>>16}function $lt(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Wlt(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Klt(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=j0(r),i=xr(),o=xr(),s="";for(this.divRemTo(n,i,o);i.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,o);return o.intValue().toString(t)+s}function Xlt(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=DDe(t,a);if(u<0){t.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(s,0),o=0,s=0)}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&be.ZERO.subTo(this,this)}function Qlt(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(be.ONE.shiftLeft(t-1),pte,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(be.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Jlt(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function Zlt(t){return this.compareTo(t)==0}function eft(t){return this.compareTo(t)<0?this:t}function tft(t){return this.compareTo(t)>0?this:t}function rft(t,e,r){var n,i,o=Math.min(t.t,this.t);for(n=0;n<o;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=o;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function nft(t,e){return t&e}function ift(t){var e=xr();return this.bitwiseTo(t,nft,e),e}function pte(t,e){return t|e}function oft(t){var e=xr();return this.bitwiseTo(t,pte,e),e}function kDe(t,e){return t^e}function sft(t){var e=xr();return this.bitwiseTo(t,kDe,e),e}function LDe(t,e){return t&~e}function aft(t){var e=xr();return this.bitwiseTo(t,LDe,e),e}function cft(){for(var t=xr(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function uft(t){var e=xr();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function lft(t){var e=xr();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function fft(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function pft(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+fft(this.data[t]);return this.s<0?this.t*this.DB:-1}function dft(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function mft(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=dft(this.data[r]^e);return t}function hft(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function gft(t,e){var r=be.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function vft(t){return this.changeBit(t,pte)}function _ft(t){return this.changeBit(t,LDe)}function yft(t){return this.changeBit(t,kDe)}function bft(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function xft(t){var e=xr();return this.addTo(t,e),e}function Eft(t){var e=xr();return this.subTo(t,e),e}function Tft(t){var e=xr();return this.multiplyTo(t,e),e}function Sft(t){var e=xr();return this.divRemTo(t,e,null),e}function Cft(t){var e=xr();return this.divRemTo(t,null,e),e}function Ift(t){var e=xr(),r=xr();return this.divRemTo(t,e,r),new Array(e,r)}function wft(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Aft(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function JR(){}function ODe(t){return t}function Rft(t,e,r){t.multiplyTo(e,r)}function Pft(t,e){t.squareTo(e)}JR.prototype.convert=ODe;JR.prototype.revert=ODe;JR.prototype.mulTo=Rft;JR.prototype.sqrTo=Pft;function Nft(t){return this.exp(t,new JR)}function Dft(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function kft(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function BS(t){this.r2=xr(),this.q3=xr(),be.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Lft(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=xr();return t.copyTo(e),this.reduce(e),e}function Oft(t){return t}function Mft(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Fft(t,e){t.squareTo(e),this.reduce(e)}function Uft(t,e,r){t.multiplyTo(e,r),this.reduce(r)}BS.prototype.convert=Lft;BS.prototype.revert=Oft;BS.prototype.reduce=Mft;BS.prototype.mulTo=Uft;BS.prototype.sqrTo=Fft;function Bft(t,e){var r=t.bitLength(),n,i=j0(1),o;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?o=new g1(e):e.isEven()?o=new BS(e):o=new v1(e);var s=new Array,a=3,u=n-1,c=(1<<n)-1;if(s[1]=o.convert(this),n>1){var l=xr();for(o.sqrTo(s[1],l);a<=c;)s[a]=xr(),o.mulTo(l,s[a-2],s[a]),a+=2}var f=t.t-1,p,m=!0,d=xr(),h;for(r=V9(t.data[f])-1;f>=0;){for(r>=u?p=t.data[f]>>r-u&c:(p=(t.data[f]&(1<<r+1)-1)<<u-r,f>0&&(p|=t.data[f-1]>>this.DB+r-u)),a=n;!(p&1);)p>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),m)s[p].copyTo(i),m=!1;else{for(;a>1;)o.sqrTo(i,d),o.sqrTo(d,i),a-=2;a>0?o.sqrTo(i,d):(h=i,i=d,d=h),o.mulTo(d,s[p],i)}for(;f>=0&&!(t.data[f]&1<<r);)o.sqrTo(i,d),h=i,i=d,d=h,--r<0&&(r=this.DB-1,--f)}return o.revert(i)}function qft(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),r.rShiftTo(o,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r}function Hft(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function Gft(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return be.ZERO;for(var r=t.clone(),n=this.clone(),i=j0(1),o=j0(0),s=j0(0),a=j0(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!o.isEven())&&(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),o.subTo(a,o)):(n.subTo(r,n),e&&s.subTo(i,s),a.subTo(o,a))}if(n.compareTo(be.ONE)!=0)return be.ZERO;if(a.compareTo(t)>=0)return a.subtract(t);if(a.signum()<0)a.addTo(t,a);else return a;return a.signum()<0?a.add(t):a}var Rl=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],jft=(1<<26)/Rl[Rl.length-1];function Vft(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Rl[Rl.length-1]){for(e=0;e<Rl.length;++e)if(r.data[0]==Rl[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Rl.length;){for(var n=Rl[e],i=e+1;i<Rl.length&&n<jft;)n*=Rl[i++];for(n=r.modInt(n);e<i;)if(n%Rl[e++]==0)return!1}return r.millerRabin(t)}function zft(t){var e=this.subtract(be.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=Yft(),o,s=0;s<t;++s){do o=new be(this.bitLength(),i);while(o.compareTo(be.ONE)<=0||o.compareTo(e)>=0);var a=o.modPow(n,this);if(a.compareTo(be.ONE)!=0&&a.compareTo(e)!=0){for(var u=1;u++<r&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(be.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function Yft(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}be.prototype.chunkSize=$lt;be.prototype.toRadix=Klt;be.prototype.fromRadix=Xlt;be.prototype.fromNumber=Qlt;be.prototype.bitwiseTo=rft;be.prototype.changeBit=gft;be.prototype.addTo=bft;be.prototype.dMultiply=wft;be.prototype.dAddOffset=Aft;be.prototype.multiplyLowerTo=Dft;be.prototype.multiplyUpperTo=kft;be.prototype.modInt=Hft;be.prototype.millerRabin=zft;be.prototype.clone=jlt;be.prototype.intValue=Vlt;be.prototype.byteValue=zlt;be.prototype.shortValue=Ylt;be.prototype.signum=Wlt;be.prototype.toByteArray=Jlt;be.prototype.equals=Zlt;be.prototype.min=eft;be.prototype.max=tft;be.prototype.and=ift;be.prototype.or=oft;be.prototype.xor=sft;be.prototype.andNot=aft;be.prototype.not=cft;be.prototype.shiftLeft=uft;be.prototype.shiftRight=lft;be.prototype.getLowestSetBit=pft;be.prototype.bitCount=mft;be.prototype.testBit=hft;be.prototype.setBit=vft;be.prototype.clearBit=_ft;be.prototype.flipBit=yft;be.prototype.add=xft;be.prototype.subtract=Eft;be.prototype.multiply=Tft;be.prototype.divide=Sft;be.prototype.remainder=Cft;be.prototype.divideAndRemainder=Ift;be.prototype.modPow=Bft;be.prototype.modInverse=Gft;be.prototype.pow=Nft;be.prototype.gcd=qft;be.prototype.isProbablePrime=Vft});var qS=R((cAr,qDe)=>{var bp=Ht();hp();br();var UDe=qDe.exports=bp.sha1=bp.sha1||{};bp.md.sha1=bp.md.algorithms.sha1=UDe;UDe.create=function(){BDe||$ft();var t=null,e=bp.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,o=0;o<i;++o)n.fullMessageLength.push(0);return e=bp.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,o){o==="utf8"&&(i=bp.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=s[1],s[1]=s[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),FDe(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=bp.util.createBuffer();i.putBytes(e.bytes());var o=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=o&n.blockLength-1;i.putBytes(dte.substr(0,n.blockLength-s));for(var a,u,c=n.fullMessageLength[0]*8,l=0;l<n.fullMessageLength.length-1;++l)a=n.fullMessageLength[l+1]*8,u=a/4294967296>>>0,c+=u,i.putInt32(c>>>0),c=a>>>0;i.putInt32(c);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};FDe(f,r,i);var p=bp.util.createBuffer();return p.putInt32(f.h0),p.putInt32(f.h1),p.putInt32(f.h2),p.putInt32(f.h3),p.putInt32(f.h4),p},n};var dte=null,BDe=!1;function $ft(){dte="\x80",dte+=bp.util.fillString("\0",64),BDe=!0}function FDe(t,e,r){for(var n,i,o,s,a,u,c,l,f=r.length();f>=64;){for(i=t.h0,o=t.h1,s=t.h2,a=t.h3,u=t.h4,l=0;l<16;++l)n=r.getInt32(),e[l]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<20;++l)n=e[l-3]^e[l-8]^e[l-14]^e[l-16],n=n<<1|n>>>31,e[l]=n,c=a^o&(s^a),n=(i<<5|i>>>27)+c+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<32;++l)n=e[l-3]^e[l-8]^e[l-14]^e[l-16],n=n<<1|n>>>31,e[l]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<40;++l)n=e[l-6]^e[l-16]^e[l-28]^e[l-32],n=n<<2|n>>>30,e[l]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<60;++l)n=e[l-6]^e[l-16]^e[l-28]^e[l-32],n=n<<2|n>>>30,e[l]=n,c=o&s|a&(o^s),n=(i<<5|i>>>27)+c+u+2400959708+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<80;++l)n=e[l-6]^e[l-16]^e[l-28]^e[l-32],n=n<<2|n>>>30,e[l]=n,c=o^s^a,n=(i<<5|i>>>27)+c+u+3395469782+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+o|0,t.h2=t.h2+s|0,t.h3=t.h3+a|0,t.h4=t.h4+u|0,f-=64}}});var mte=R((uAr,GDe)=>{var xp=Ht();br();Au();qS();var HDe=GDe.exports=xp.pkcs1=xp.pkcs1||{};HDe.encode_rsa_oaep=function(t,e,r){var n,i,o,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,o=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,o=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),o?o.start():o=xp.md.sha1.create(),s||(s=o);var a=Math.ceil(t.n.bitLength()/8),u=a-2*o.digestLength-2;if(e.length>u){var c=new Error("RSAES-OAEP input message length is too long.");throw c.length=e.length,c.maxLength=u,c}n||(n=""),o.update(n,"raw");for(var l=o.digest(),f="",p=u-e.length,m=0;m<p;m++)f+="\0";var d=l.getBytes()+f+""+e;if(!i)i=xp.random.getBytes(o.digestLength);else if(i.length!==o.digestLength){var c=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw c.seedLength=i.length,c.digestLength=o.digestLength,c}var h=z9(i,a-o.digestLength-1,s),g=xp.util.xorBytes(d,h,d.length),v=z9(g,o.digestLength,s),_=xp.util.xorBytes(i,v,i.length);return"\0"+_+g};HDe.decode_rsa_oaep=function(t,e,r){var n,i,o;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=e.length,g.expectedLength=s,g}if(i===void 0?i=xp.md.sha1.create():i.start(),o||(o=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),u=e.charAt(0),c=e.substring(1,i.digestLength+1),l=e.substring(1+i.digestLength),f=z9(l,i.digestLength,o),p=xp.util.xorBytes(c,f,c.length),m=z9(p,s-i.digestLength-1,o),d=xp.util.xorBytes(l,m,l.length),h=d.substring(0,i.digestLength),g=u!=="\0",v=0;v<i.digestLength;++v)g|=a.charAt(v)!==h.charAt(v);for(var _=1,y=i.digestLength,x=i.digestLength;x<d.length;x++){var b=d.charCodeAt(x),T=b&1^1,k=_?65534:0;g|=b&k,_=_&T,y+=_}if(g||d.charCodeAt(y)!==1)throw new Error("Invalid RSAES-OAEP padding.");return d.substring(y+1)};function z9(t,e,r){r||(r=xp.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),o=0;o<i;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var gte=R((lAr,hte)=>{var V0=Ht();br();ZR();Au();(function(){if(V0.prime){hte.exports=V0.prime;return}var t=hte.exports=V0.prime=V0.prime||{},e=V0.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(f,p){return f|p};t.generateProbablePrime=function(f,p,m){typeof p=="function"&&(m=p,p={}),p=p||{};var d=p.algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var h=p.prng||V0.random,g={nextBytes:function(v){for(var _=h.getBytesSync(v.length),y=0;y<v.length;++y)v[y]=_.charCodeAt(y)}};if(d.name==="PRIMEINC")return o(f,g,d.options,m);throw new Error("Invalid prime generation algorithm: "+d.name)};function o(f,p,m,d){return"workers"in m?u(f,p,m,d):s(f,p,m,d)}function s(f,p,m,d){var h=c(f,p),g=0,v=l(h.bitLength());"millerRabinTests"in m&&(v=m.millerRabinTests);var _=10;"maxBlockTime"in m&&(_=m.maxBlockTime),a(h,f,p,g,v,_,d)}function a(f,p,m,d,h,g,v){var _=+new Date;do{if(f.bitLength()>p&&(f=c(p,m)),f.isProbablePrime(h))return v(null,f);f.dAddOffset(r[d++%8],0)}while(g<0||+new Date-_<g);V0.util.setImmediate(function(){a(f,p,m,d,h,g,v)})}function u(f,p,m,d){if(typeof Worker>"u")return s(f,p,m,d);var h=c(f,p),g=m.workers,v=m.workLoad||100,_=v*30/8,y=m.workerScript||"forge/prime.worker.js";if(g===-1)return V0.util.estimateCores(function(b,T){b&&(T=2),g=T-1,x()});x();function x(){g=Math.max(1,g);for(var b=[],T=0;T<g;++T)b[T]=new Worker(y);for(var k=g,T=0;T<g;++T)b[T].addEventListener("message",z);var U=!1;function z(D){if(!U){--k;var fe=D.data;if(fe.found){for(var Q=0;Q<b.length;++Q)b[Q].terminate();return U=!0,d(null,new e(fe.prime,16))}h.bitLength()>f&&(h=c(f,p));var O=h.toString(16);D.target.postMessage({hex:O,workLoad:v}),h.dAddOffset(_,0)}}}}function c(f,p){var m=new e(f,p),d=f-1;return m.testBit(d)||m.bitwiseTo(e.ONE.shiftLeft(d),i,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}function l(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}})()});var eP=R((fAr,KDe)=>{var ct=Ht();Al();ZR();G0();mte();gte();Au();br();typeof mr>"u"&&(mr=ct.jsbn.BigInteger);var mr,vte=ct.util.isNodejs?require("crypto"):null,Z=ct.asn1,Pu=ct.util;ct.pki=ct.pki||{};KDe.exports=ct.pki.rsa=ct.rsa=ct.rsa||{};var Dt=ct.pki,Wft=[6,4,2,4,2,4,6,2],Kft={name:"PrivateKeyInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},Xft={name:"RSAPrivateKey",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Qft={name:"RSAPublicKey",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Z.Class.UNIVERSAL,type:Z.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Jft=ct.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Z.Class.UNIVERSAL,type:Z.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},Zft={name:"DigestInfo",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:Z.Class.UNIVERSAL,type:Z.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:Z.Class.UNIVERSAL,type:Z.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:Z.Class.UNIVERSAL,type:Z.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},ept=function(t){var e;if(t.algorithm in Dt.oids)e=Dt.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=Z.oidToDer(e).getBytes(),i=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]),o=Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[]);o.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,n)),o.value.push(Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,""));var s=Z.create(Z.Class.UNIVERSAL,Z.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(o),i.value.push(s),Z.toDer(i).getBytes()},$De=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(mr.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(mr.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new mr(ct.util.bytesToHex(ct.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(mr.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),o=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(o)<0;)i=i.add(e.p);var s=i.subtract(o).multiply(e.qInv).mod(e.p).multiply(e.q).add(o);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};Dt.rsa.encrypt=function(t,e,r){var n=r,i,o=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=WDe(t,e,r)):(i=ct.util.createBuffer(),i.putBytes(t));for(var s=new mr(i.toHex(),16),a=$De(s,e,n),u=a.toString(16),c=ct.util.createBuffer(),l=o-Math.ceil(u.length/2);l>0;)c.putByte(0),--l;return c.putBytes(ct.util.hexToBytes(u)),c.getBytes()};Dt.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=i,o}var s=new mr(ct.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=$De(s,e,r),u=a.toString(16),c=ct.util.createBuffer(),l=i-Math.ceil(u.length/2);l>0;)c.putByte(0),--l;return c.putBytes(ct.util.hexToBytes(u)),n!==!1?Y9(c.getBytes(),e,r):c.getBytes()};Dt.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||ct.random,i={nextBytes:function(a){for(var u=n.getBytesSync(a.length),c=0;c<a.length;++c)a[c]=u.charCodeAt(c)}},o=r.algorithm||"PRIMEINC",s;if(o==="PRIMEINC")s={algorithm:o,state:0,bits:t,rng:i,eInt:e||65537,e:new mr(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+o);return s};Dt.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new mr(null);r.fromInt(30);for(var n=0,i=function(f,p){return f|p},o=+new Date,s,a=0;t.keys===null&&(e<=0||a<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,c=u-1;t.pqState===0?(t.num=new mr(u,t.rng),t.num.testBit(c)||t.num.bitwiseTo(mr.ONE.shiftLeft(c),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(rpt(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(Wft[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(mr.ONE),t.q1=t.q.subtract(mr.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(mr.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var l=t.e.modInverse(t.phi);t.keys={privateKey:Dt.rsa.setPrivateKey(t.n,t.e,l,t.p,t.q,l.mod(t.p1),l.mod(t.q1),t.q.modInverse(t.p)),publicKey:Dt.rsa.setPublicKey(t.n,t.e)}}s=+new Date,a+=s-o,o=s}return t.keys!==null};Dt.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!ct.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(jDe("generateKeyPair"))return vte.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,u,c){if(a)return n(a);n(null,{privateKey:Dt.privateKeyFromPem(c),publicKey:Dt.publicKeyFromPem(u)})});if(VDe("generateKey")&&VDe("exportKey"))return Pu.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:YDe(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return Pu.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var u=Dt.privateKeyFromAsn1(Z.fromDer(ct.util.createBuffer(a)));n(null,{privateKey:u,publicKey:Dt.setRsaPublicKey(u.n,u.e)})}});if(zDe("generateKey")&&zDe("exportKey")){var i=Pu.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:YDe(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var u=a.target.result,c=Pu.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);c.oncomplete=function(l){var f=l.target.result,p=Dt.privateKeyFromAsn1(Z.fromDer(ct.util.createBuffer(f)));n(null,{privateKey:p,publicKey:Dt.setRsaPublicKey(p.n,p.e)})},c.onerror=function(l){n(l)}},i.onerror=function(a){n(a)};return}}else if(jDe("generateKeyPairSync")){var o=vte.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Dt.privateKeyFromPem(o.privateKey),publicKey:Dt.publicKeyFromPem(o.publicKey)}}}var s=Dt.rsa.createKeyPairGenerationState(t,e,r);if(!n)return Dt.rsa.stepKeyPairGenerationState(s,0),s.keys;tpt(s,r,n)};Dt.setRsaPublicKey=Dt.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,o){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,u,c){return WDe(a,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,u){return ct.pkcs1.encode_rsa_oaep(u,a,o)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return Dt.rsa.encrypt(s,r,!0)},r.verify=function(n,i,o,s){typeof o=="string"?o=o.toUpperCase():o===void 0&&(o="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),o==="RSASSA-PKCS1-V1_5"?o={verify:function(u,c){c=Y9(c,r,!0);var l=Z.fromDer(c,{parseAllBytes:s._parseAllDigestBytes}),f={},p=[];if(!Z.validate(l,Zft,f,p)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=p,m}var d=Z.derToOid(f.algorithmIdentifier);if(!(d===ct.oids.md2||d===ct.oids.md5||d===ct.oids.sha1||d===ct.oids.sha224||d===ct.oids.sha256||d===ct.oids.sha384||d===ct.oids.sha512||d===ct.oids["sha512-224"]||d===ct.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=d,m}if((d===ct.oids.md2||d===ct.oids.md5)&&!("parameters"in f))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===f.digest}}:(o==="NONE"||o==="NULL"||o===null)&&(o={verify:function(u,c){return c=Y9(c,r,!0),u===c}});var a=Dt.rsa.decrypt(i,r,!0,!1);return o.verify(n,a,r.n.bitLength())},r};Dt.setRsaPrivateKey=Dt.rsa.setPrivateKey=function(t,e,r,n,i,o,s,a){var u={n:t,e,d:r,p:n,q:i,dP:o,dQ:s,qInv:a};return u.decrypt=function(c,l,f){typeof l=="string"?l=l.toUpperCase():l===void 0&&(l="RSAES-PKCS1-V1_5");var p=Dt.rsa.decrypt(c,u,!1,!1);if(l==="RSAES-PKCS1-V1_5")l={decode:Y9};else if(l==="RSA-OAEP"||l==="RSAES-OAEP")l={decode:function(m,d){return ct.pkcs1.decode_rsa_oaep(d,m,f)}};else if(["RAW","NONE","NULL",null].indexOf(l)!==-1)l={decode:function(m){return m}};else throw new Error('Unsupported encryption scheme: "'+l+'".');return l.decode(p,u,!1)},u.sign=function(c,l){var f=!1;typeof l=="string"&&(l=l.toUpperCase()),l===void 0||l==="RSASSA-PKCS1-V1_5"?(l={encode:ept},f=1):(l==="NONE"||l==="NULL"||l===null)&&(l={encode:function(){return c}},f=1);var p=l.encode(c,u.n.bitLength());return Dt.rsa.encrypt(p,u,f)},u};Dt.wrapRsaPrivateKey=function(t){return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(0).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(Dt.oids.rsaEncryption).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,"")]),Z.create(Z.Class.UNIVERSAL,Z.Type.OCTETSTRING,!1,Z.toDer(t).getBytes())])};Dt.privateKeyFromAsn1=function(t){var e={},r=[];if(Z.validate(t,Kft,e,r)&&(t=Z.fromDer(ct.util.createBuffer(e.privateKey))),e={},r=[],!Z.validate(t,Xft,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,o,s,a,u,c,l,f;return i=ct.util.createBuffer(e.privateKeyModulus).toHex(),o=ct.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=ct.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=ct.util.createBuffer(e.privateKeyPrime1).toHex(),u=ct.util.createBuffer(e.privateKeyPrime2).toHex(),c=ct.util.createBuffer(e.privateKeyExponent1).toHex(),l=ct.util.createBuffer(e.privateKeyExponent2).toHex(),f=ct.util.createBuffer(e.privateKeyCoefficient).toHex(),Dt.setRsaPrivateKey(new mr(i,16),new mr(o,16),new mr(s,16),new mr(a,16),new mr(u,16),new mr(c,16),new mr(l,16),new mr(f,16))};Dt.privateKeyToAsn1=Dt.privateKeyToRSAPrivateKey=function(t){return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Z.integerToDer(0).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.n)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.e)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.d)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.p)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.q)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.dP)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.dQ)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.qInv))])};Dt.publicKeyFromAsn1=function(t){var e={},r=[];if(Z.validate(t,Jft,e,r)){var n=Z.derToOid(e.publicKeyOid);if(n!==Dt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!Z.validate(t,Qft,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var o=ct.util.createBuffer(e.publicKeyModulus).toHex(),s=ct.util.createBuffer(e.publicKeyExponent).toHex();return Dt.setRsaPublicKey(new mr(o,16),new mr(s,16))};Dt.publicKeyToAsn1=Dt.publicKeyToSubjectPublicKeyInfo=function(t){return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.OID,!1,Z.oidToDer(Dt.oids.rsaEncryption).getBytes()),Z.create(Z.Class.UNIVERSAL,Z.Type.NULL,!1,"")]),Z.create(Z.Class.UNIVERSAL,Z.Type.BITSTRING,!1,[Dt.publicKeyToRSAPublicKey(t)])])};Dt.publicKeyToRSAPublicKey=function(t){return Z.create(Z.Class.UNIVERSAL,Z.Type.SEQUENCE,!0,[Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.n)),Z.create(Z.Class.UNIVERSAL,Z.Type.INTEGER,!1,Ep(t.e))])};function WDe(t,e,r){var n=ct.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=t.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var s=i-3-t.length,a;if(r===0||r===1){a=r===0?0:255;for(var u=0;u<s;++u)n.putByte(a)}else for(;s>0;){for(var c=0,l=ct.random.getBytes(s),u=0;u<s;++u)a=l.charCodeAt(u),a===0?++c:n.putByte(a);s=c}return n.putByte(0),n.putBytes(t),n}function Y9(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),o=ct.util.createBuffer(t),s=o.getByte(),a=o.getByte();if(s!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(a===0){u=i-3-n;for(var c=0;c<u;++c)if(o.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(u=0;o.length()>1;){if(o.getByte()!==255){--o.read;break}++u}else if(a===2)for(u=0;o.length()>1;){if(o.getByte()===0){--o.read;break}++u}var l=o.getByte();if(l!==0||u!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function tpt(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){o(t.pBits,function(a,u){if(a)return r(a);if(t.p=u,t.q!==null)return s(a,t.q);o(t.qBits,s)})}function o(a,u){ct.prime.generateProbablePrime(a,n,u)}function s(a,u){if(a)return r(a);if(t.q=u,t.p.compareTo(t.q)<0){var c=t.p;t.p=t.q,t.q=c}if(t.p.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)!==0){t.p=null,i();return}if(t.q.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)!==0){t.q=null,o(t.qBits,s);return}if(t.p1=t.p.subtract(mr.ONE),t.q1=t.q.subtract(mr.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(mr.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,o(t.qBits,s);return}var l=t.e.modInverse(t.phi);t.keys={privateKey:Dt.rsa.setPrivateKey(t.n,t.e,l,t.p,t.q,l.mod(t.p1),l.mod(t.q1),t.q.modInverse(t.p)),publicKey:Dt.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Ep(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=ct.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function rpt(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function jDe(t){return ct.util.isNodejs&&typeof vte[t]=="function"}function VDe(t){return typeof Pu.globalScope<"u"&&typeof Pu.globalScope.crypto=="object"&&typeof Pu.globalScope.crypto.subtle=="object"&&typeof Pu.globalScope.crypto.subtle[t]=="function"}function zDe(t){return typeof Pu.globalScope<"u"&&typeof Pu.globalScope.msCrypto=="object"&&typeof Pu.globalScope.msCrypto.subtle=="object"&&typeof Pu.globalScope.msCrypto.subtle[t]=="function"}function YDe(t){for(var e=ct.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var _te=R((pAr,eke)=>{var $e=Ht();H0();Al();QR();hp();G0();H9();h1();Au();ute();eP();br();typeof XDe>"u"&&(XDe=$e.jsbn.BigInteger);var XDe,me=$e.asn1,Mt=$e.pki=$e.pki||{};eke.exports=Mt.pbe=$e.pbe=$e.pbe||{};var _1=Mt.oids,npt={name:"EncryptedPrivateKeyInfo",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},ipt={name:"PBES2Algorithms",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:me.Class.UNIVERSAL,type:me.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},opt={name:"pkcs-12PbeParams",tagClass:me.Class.UNIVERSAL,type:me.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:me.Class.UNIVERSAL,type:me.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:me.Class.UNIVERSAL,type:me.Type.INTEGER,constructed:!1,capture:"iterations"}]};Mt.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=$e.random.getBytesSync(r.saltSize),i=r.count,o=me.integerToDer(i),s,a,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var c,l,f;switch(r.algorithm){case"aes128":s=16,c=16,l=_1["aes128-CBC"],f=$e.aes.createEncryptionCipher;break;case"aes192":s=24,c=16,l=_1["aes192-CBC"],f=$e.aes.createEncryptionCipher;break;case"aes256":s=32,c=16,l=_1["aes256-CBC"],f=$e.aes.createEncryptionCipher;break;case"des":s=8,c=8,l=_1.desCBC,f=$e.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),d=ZDe(m),h=$e.pkcs5.pbkdf2(e,n,i,s,d),g=$e.random.getBytesSync(c),v=f(h);v.start(g),v.update(me.toDer(t)),v.finish(),u=v.output.getBytes();var _=spt(n,o,s,m);a=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(_1.pkcs5PBES2).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(_1.pkcs5PBKDF2).getBytes()),_]),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(l).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,g)])])])}else if(r.algorithm==="3des"){s=24;var y=new $e.util.ByteBuffer(n),h=Mt.pbe.generatePkcs12Key(e,y,1,i,s),g=Mt.pbe.generatePkcs12Key(e,y,2,i,s),v=$e.des.createEncryptionCipher(h);v.start(g),v.update(me.toDer(t)),v.finish(),u=v.output.getBytes(),a=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(_1["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,n),me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,o.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=r.algorithm,p}var x=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[a,me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,u)]);return x};Mt.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!me.validate(t,npt,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=me.derToOid(n.encryptionOid),a=Mt.pbe.getCipher(s,n.encryptionParams,e),u=$e.util.createBuffer(n.encryptedData);return a.update(u),a.finish()&&(r=me.fromDer(a.output)),r};Mt.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:me.toDer(t).getBytes()};return $e.pem.encode(r,{maxline:e})};Mt.encryptedPrivateKeyFromPem=function(t){var e=$e.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return me.fromDer(e.body)};Mt.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Mt.wrapRsaPrivateKey(Mt.privateKeyToAsn1(t));return n=Mt.encryptPrivateKeyInfo(n,e,r),Mt.encryptedPrivateKeyToPem(n)}var i,o,s,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,o=$e.random.getBytesSync(16),a=$e.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,o=$e.random.getBytesSync(16),a=$e.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,o=$e.random.getBytesSync(16),a=$e.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,o=$e.random.getBytesSync(8),a=$e.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,o=$e.random.getBytesSync(8),a=$e.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var c=$e.pbe.opensslDeriveBytes(e,o.substr(0,8),s),l=a(c);l.start(o),l.update(me.toDer(Mt.privateKeyToAsn1(t))),l.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:$e.util.bytesToHex(o).toUpperCase()},body:l.output.getBytes()};return $e.pem.encode(f)};Mt.decryptRsaPrivateKey=function(t,e){var r=null,n=$e.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var o,s;switch(n.dekInfo.algorithm){case"DES-CBC":o=8,s=$e.des.createDecryptionCipher;break;case"DES-EDE3-CBC":o=24,s=$e.des.createDecryptionCipher;break;case"AES-128-CBC":o=16,s=$e.aes.createDecryptionCipher;break;case"AES-192-CBC":o=24,s=$e.aes.createDecryptionCipher;break;case"AES-256-CBC":o=32,s=$e.aes.createDecryptionCipher;break;case"RC2-40-CBC":o=5,s=function(f){return $e.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":o=8,s=function(f){return $e.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":o=16,s=function(f){return $e.rc2.createDecryptionCipher(f,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=$e.util.hexToBytes(n.dekInfo.parameters),u=$e.pbe.opensslDeriveBytes(e,a.substr(0,8),o),c=s(u);if(c.start(a),c.update($e.util.createBuffer(n.body)),c.finish())r=c.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Mt.decryptPrivateKeyInfo(me.fromDer(r),e):r=me.fromDer(r),r!==null&&(r=Mt.privateKeyFromAsn1(r)),r};Mt.pbe.generatePkcs12Key=function(t,e,r,n,i,o){var s,a;if(typeof o>"u"||o===null){if(!("sha1"in $e.md))throw new Error('"sha1" hash algorithm unavailable.');o=$e.md.sha1.create()}var u=o.digestLength,c=o.blockLength,l=new $e.util.ByteBuffer,f=new $e.util.ByteBuffer;if(t!=null){for(a=0;a<t.length;a++)f.putInt16(t.charCodeAt(a));f.putInt16(0)}var p=f.length(),m=e.length(),d=new $e.util.ByteBuffer;d.fillWithByte(r,c);var h=c*Math.ceil(m/c),g=new $e.util.ByteBuffer;for(a=0;a<h;a++)g.putByte(e.at(a%m));var v=c*Math.ceil(p/c),_=new $e.util.ByteBuffer;for(a=0;a<v;a++)_.putByte(f.at(a%p));var y=g;y.putBuffer(_);for(var x=Math.ceil(i/u),b=1;b<=x;b++){var T=new $e.util.ByteBuffer;T.putBytes(d.bytes()),T.putBytes(y.bytes());for(var k=0;k<n;k++)o.start(),o.update(T.getBytes()),T=o.digest();var U=new $e.util.ByteBuffer;for(a=0;a<c;a++)U.putByte(T.at(a%u));var z=Math.ceil(m/c)+Math.ceil(p/c),D=new $e.util.ByteBuffer;for(s=0;s<z;s++){var fe=new $e.util.ByteBuffer(y.getBytes(c)),Q=511;for(a=U.length()-1;a>=0;a--)Q=Q>>8,Q+=U.at(a)+fe.at(a),fe.setAt(a,Q&255);D.putBuffer(fe)}y=D,l.putBuffer(T)}return l.truncate(l.length()-i),l};Mt.pbe.getCipher=function(t,e,r){switch(t){case Mt.oids.pkcs5PBES2:return Mt.pbe.getCipherForPBES2(t,e,r);case Mt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Mt.oids["pbewithSHAAnd40BitRC2-CBC"]:return Mt.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Mt.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!me.validate(e,ipt,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}if(t=me.derToOid(n.kdfOid),t!==Mt.oids.pkcs5PBKDF2){var o=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw o.oid=t,o.supportedOids=["pkcs5PBKDF2"],o}if(t=me.derToOid(n.encOid),t!==Mt.oids["aes128-CBC"]&&t!==Mt.oids["aes192-CBC"]&&t!==Mt.oids["aes256-CBC"]&&t!==Mt.oids["des-EDE3-CBC"]&&t!==Mt.oids.desCBC){var o=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw o.oid=t,o.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],o}var s=n.kdfSalt,a=$e.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var u,c;switch(Mt.oids[t]){case"aes128-CBC":u=16,c=$e.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,c=$e.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,c=$e.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,c=$e.des.createDecryptionCipher;break;case"desCBC":u=8,c=$e.des.createDecryptionCipher;break}var l=JDe(n.prfOid),f=$e.pkcs5.pbkdf2(r,s,a,u,l),p=n.encIv,m=c(f);return m.start(p),m};Mt.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!me.validate(e,opt,n,i)){var o=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var s=$e.util.createBuffer(n.salt),a=$e.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var u,c,l;switch(t){case Mt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,c=8,l=$e.des.startDecrypting;break;case Mt.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,c=8,l=function(h,g){var v=$e.rc2.createDecryptionCipher(h,40);return v.start(g,null),v};break;default:var o=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw o.oid=t,o}var f=JDe(n.prfOid),p=Mt.pbe.generatePkcs12Key(r,s,1,a,u,f);f.start();var m=Mt.pbe.generatePkcs12Key(r,s,2,a,c,f);return l(p,m)};Mt.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in $e.md))throw new Error('"md5" hash algorithm unavailable.');n=$e.md.md5.create()}e===null&&(e="");for(var i=[QDe(n,t+e)],o=16,s=1;o<r;++s,o+=16)i.push(QDe(n,i[s-1]+t+e));return i.join("").substr(0,r)};function QDe(t,e){return t.start().update(e).digest().getBytes()}function JDe(t){var e;if(!t)e="hmacWithSHA1";else if(e=Mt.oids[me.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return ZDe(e)}function ZDe(t){var e=$e.md;switch(t){case"hmacWithSHA224":e=$e.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function spt(t,e,r,n){var i=me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OCTETSTRING,!1,t),me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(me.create(me.Class.UNIVERSAL,me.Type.INTEGER,!1,$e.util.hexToBytes(r.toString(16))),me.create(me.Class.UNIVERSAL,me.Type.SEQUENCE,!0,[me.create(me.Class.UNIVERSAL,me.Type.OID,!1,me.oidToDer(Mt.oids[n]).getBytes()),me.create(me.Class.UNIVERSAL,me.Type.NULL,!1,"")])),i}});var yte=R((dAr,nke)=>{var HS=Ht();Al();br();var je=HS.asn1,GS=nke.exports=HS.pkcs7asn1=HS.pkcs7asn1||{};HS.pkcs7=HS.pkcs7||{};HS.pkcs7.asn1=GS;var tke={name:"ContentInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:je.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};GS.contentInfoValidator=tke;var rke={name:"EncryptedContentInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:je.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:je.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};GS.envelopedDataValidator={name:"EnvelopedData",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:je.Class.UNIVERSAL,type:je.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(rke)};GS.encryptedDataValidator={name:"EncryptedData",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"version"}].concat(rke)};var apt={name:"SignerInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:je.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:je.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:je.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};GS.signedDataValidator={name:"SignedData",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:je.Class.UNIVERSAL,type:je.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},tke,{name:"SignedData.Certificates",tagClass:je.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:je.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:je.Class.UNIVERSAL,type:je.Type.SET,capture:"signerInfos",optional:!0,value:[apt]}]};GS.recipientInfoValidator={name:"RecipientInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:je.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var bte=R((mAr,ike)=>{var y1=Ht();br();y1.mgf=y1.mgf||{};var cpt=ike.exports=y1.mgf.mgf1=y1.mgf1=y1.mgf1||{};cpt.create=function(t){var e={generate:function(r,n){for(var i=new y1.util.ByteBuffer,o=Math.ceil(n/t.digestLength),s=0;s<o;s++){var a=new y1.util.ByteBuffer;a.putInt32(s),t.start(),t.update(r+a.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return e}});var ske=R((hAr,oke)=>{var $9=Ht();bte();oke.exports=$9.mgf=$9.mgf||{};$9.mgf.mgf1=$9.mgf1});var W9=R((gAr,ake)=>{var b1=Ht();Au();br();var upt=ake.exports=b1.pss=b1.pss||{};upt.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=b1.util.createBuffer(i));var o;if("saltLength"in t)o=t.saltLength;else if(i!==null)o=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==o)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||b1.random,a={};return a.encode=function(u,c){var l,f=c-1,p=Math.ceil(f/8),m=u.digest().getBytes();if(p<n+o+2)throw new Error("Message is too long to encrypt.");var d;i===null?d=s.getBytesSync(o):d=i.bytes();var h=new b1.util.ByteBuffer;h.fillWithByte(0,8),h.putBytes(m),h.putBytes(d),e.start(),e.update(h.getBytes());var g=e.digest().getBytes(),v=new b1.util.ByteBuffer;v.fillWithByte(0,p-o-n-2),v.putByte(1),v.putBytes(d);var _=v.getBytes(),y=p-n-1,x=r.generate(g,y),b="";for(l=0;l<y;l++)b+=String.fromCharCode(_.charCodeAt(l)^x.charCodeAt(l));var T=65280>>8*p-f&255;return b=String.fromCharCode(b.charCodeAt(0)&~T)+b.substr(1),b+g+"\xBC"},a.verify=function(u,c,l){var f,p=l-1,m=Math.ceil(p/8);if(c=c.substr(-m),m<n+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(c.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var d=m-n-1,h=c.substr(0,d),g=c.substr(d,n),v=65280>>8*m-p&255;if(h.charCodeAt(0)&v)throw new Error("Bits beyond keysize not zero as expected.");var _=r.generate(g,d),y="";for(f=0;f<d;f++)y+=String.fromCharCode(h.charCodeAt(f)^_.charCodeAt(f));y=String.fromCharCode(y.charCodeAt(0)&~v)+y.substr(1);var x=m-n-o-2;for(f=0;f<x;f++)if(y.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(y.charCodeAt(x)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var b=y.substr(-o),T=new b1.util.ByteBuffer;T.fillWithByte(0,8),T.putBytes(u),T.putBytes(b),e.start(),e.update(T.getBytes());var k=e.digest().getBytes();return g===k},a}});var Q9=R((vAr,pke)=>{var ut=Ht();H0();Al();QR();hp();ske();G0();h1();W9();eP();br();var S=ut.asn1,ke=pke.exports=ut.pki=ut.pki||{},hr=ke.oids,ci={};ci.CN=hr.commonName;ci.commonName="CN";ci.C=hr.countryName;ci.countryName="C";ci.L=hr.localityName;ci.localityName="L";ci.ST=hr.stateOrProvinceName;ci.stateOrProvinceName="ST";ci.O=hr.organizationName;ci.organizationName="O";ci.OU=hr.organizationalUnitName;ci.organizationalUnitName="OU";ci.E=hr.emailAddress;ci.emailAddress="E";var uke=ut.pki.rsa.publicKeyValidator,lpt={name:"Certificate",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:S.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:S.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:S.Class.UNIVERSAL,type:S.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:S.Class.UNIVERSAL,type:S.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:S.Class.UNIVERSAL,type:S.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:S.Class.UNIVERSAL,type:S.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},uke,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:S.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:S.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:S.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:S.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},fpt={name:"rsapss",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:S.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:S.Class.UNIVERSAL,type:S.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:S.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:S.Class.UNIVERSAL,type:S.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:S.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:S.Class.UNIVERSAL,type:S.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:S.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:S.Class.UNIVERSAL,type:S.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},ppt={name:"CertificationRequestInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},uke,{name:"CertificationRequestInfo.attributes",tagClass:S.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:S.Class.UNIVERSAL,type:S.Type.SET,constructed:!0}]}]}]},dpt={name:"CertificationRequest",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[ppt,{name:"CertificationRequest.signatureAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:S.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ke.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,o,s=0;s<t.value.length;++s){n=t.value[s];for(var a=0;a<n.value.length;++a)o={},i=n.value[a],o.type=S.derToOid(i.value[0].value),o.value=i.value[1].value,o.valueTagClass=i.value[1].type,o.type in hr&&(o.name=hr[o.type],o.name in ci&&(o.shortName=ci[o.name])),e&&(e.update(o.type),e.update(o.value)),r.push(o)}return r};ke.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=S.derToOid(n.value[0].value),o=n.value[1].value,s=0;s<o.length;++s){var a={};if(a.type=i,a.value=o[s].value,a.valueTagClass=o[s].type,a.type in hr&&(a.name=hr[a.type],a.name in ci&&(a.shortName=ci[a.name])),a.type===hr.extensionRequest){a.extensions=[];for(var u=0;u<a.value.length;++u)a.extensions.push(ke.certificateExtensionFromAsn1(a.value[u]))}e.push(a)}return e};function z0(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}var K9=function(t,e,r){var n={};if(t!==hr["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:hr.sha1},mgf:{algorithmOid:hr.mgf1,hash:{algorithmOid:hr.sha1}},saltLength:20});var i={},o=[];if(!S.validate(e,fpt,i,o)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=o,s}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=S.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=S.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=S.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},X9=function(t){switch(hr[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return ut.md.sha1.create();case"md5WithRSAEncryption":return ut.md.md5.create();case"sha256WithRSAEncryption":return ut.md.sha256.create();case"sha384WithRSAEncryption":return ut.md.sha384.create();case"sha512WithRSAEncryption":return ut.md.sha512.create();case"RSASSA-PSS":return ut.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},lke=function(t){var e=t.certificate,r;switch(e.signatureOid){case hr.sha1WithRSAEncryption:case hr.sha1WithRSASignature:break;case hr["RSASSA-PSS"]:var n,i;if(n=hr[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||ut.md[n]===void 0){var o=new Error("Unsupported MGF hash function.");throw o.oid=e.signatureParameters.mgf.hash.algorithmOid,o.name=n,o}if(i=hr[e.signatureParameters.mgf.algorithmOid],i===void 0||ut.mgf[i]===void 0){var o=new Error("Unsupported MGF function.");throw o.oid=e.signatureParameters.mgf.algorithmOid,o.name=i,o}if(i=ut.mgf[i].create(ut.md[n].create()),n=hr[e.signatureParameters.hash.algorithmOid],n===void 0||ut.md[n]===void 0){var o=new Error("Unsupported RSASSA-PSS hash function.");throw o.oid=e.signatureParameters.hash.algorithmOid,o.name=n,o}r=ut.pss.create(ut.md[n].create(),i,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)};ke.certificateFromPem=function(t,e,r){var n=ut.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var o=S.fromDer(n.body,r);return ke.certificateFromAsn1(o,e)};ke.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:S.toDer(ke.certificateToAsn1(t)).getBytes()};return ut.pem.encode(r,{maxline:e})};ke.publicKeyFromPem=function(t){var e=ut.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=S.fromDer(e.body);return ke.publicKeyFromAsn1(n)};ke.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:S.toDer(ke.publicKeyToAsn1(t)).getBytes()};return ut.pem.encode(r,{maxline:e})};ke.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:S.toDer(ke.publicKeyToRSAPublicKey(t)).getBytes()};return ut.pem.encode(r,{maxline:e})};ke.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||ut.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=S.toDer(ke.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=S.toDer(ke.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var o=r.digest();if(e.encoding==="hex"){var s=o.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}else{if(e.encoding==="binary")return o.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return o};ke.certificationRequestFromPem=function(t,e,r){var n=ut.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var o=S.fromDer(n.body,r);return ke.certificationRequestFromAsn1(o,e)};ke.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:S.toDer(ke.certificationRequestToAsn1(t)).getBytes()};return ut.pem.encode(r,{maxline:e})};ke.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return z0(t.issuer,e)},t.issuer.addField=function(e){Nu([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return z0(t.subject,e)},t.subject.addField=function(e){Nu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Nu(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Nu(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)fke(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||ut.md.sha1.create();var n=hr[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=ke.getTBSCertificate(t);var o=S.toDer(t.tbsCertificate);t.md.update(o.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,o=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw o.expectedIssuer=i.attributes,o.actualIssuer=n.attributes,o}var s=e.md;if(s===null){s=X9({signatureOid:e.signatureOid,type:"certificate"});var a=e.tbsCertificate||ke.getTBSCertificate(e),u=S.toDer(a);s.update(u.getBytes())}return s!==null&&(r=lke({certificate:t,md:s,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var o,s,a=0;r&&a<n.attributes.length;++a)o=n.attributes[a],s=i.attributes[a],(o.type!==s.type||o.value!==s.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return ke.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=hr.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return ut.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};ke.certificateFromAsn1=function(t,e){var r={},n=[];if(!S.validate(t,lpt,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var o=S.derToOid(r.publicKeyOid);if(o!==ke.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=ke.createCertificate();s.version=r.certVersion?r.certVersion.charCodeAt(0):0;var a=ut.util.createBuffer(r.certSerialNumber);s.serialNumber=a.toHex(),s.signatureOid=ut.asn1.derToOid(r.certSignatureOid),s.signatureParameters=K9(s.signatureOid,r.certSignatureParams,!0),s.siginfo.algorithmOid=ut.asn1.derToOid(r.certinfoSignatureOid),s.siginfo.parameters=K9(s.siginfo.algorithmOid,r.certinfoSignatureParams,!1),s.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(S.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(S.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(S.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(S.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=u[0],s.validity.notAfter=u[1],s.tbsCertificate=r.tbsCertificate,e){s.md=X9({signatureOid:s.signatureOid,type:"certificate"});var c=S.toDer(s.tbsCertificate);s.md.update(c.getBytes())}var l=ut.md.sha1.create(),f=S.toDer(r.certIssuer);l.update(f.getBytes()),s.issuer.getField=function(d){return z0(s.issuer,d)},s.issuer.addField=function(d){Nu([d]),s.issuer.attributes.push(d)},s.issuer.attributes=ke.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(s.issuer.uniqueId=r.certIssuerUniqueId),s.issuer.hash=l.digest().toHex();var p=ut.md.sha1.create(),m=S.toDer(r.certSubject);return p.update(m.getBytes()),s.subject.getField=function(d){return z0(s.subject,d)},s.subject.addField=function(d){Nu([d]),s.subject.attributes.push(d)},s.subject.attributes=ke.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(s.subject.uniqueId=r.certSubjectUniqueId),s.subject.hash=p.digest().toHex(),r.certExtensions?s.extensions=ke.certificateExtensionsFromAsn1(r.certExtensions):s.extensions=[],s.publicKey=ke.publicKeyFromAsn1(r.subjectPublicKeyInfo),s};ke.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(ke.certificateExtensionFromAsn1(n.value[i]));return e};ke.certificateExtensionFromAsn1=function(t){var e={};if(e.id=S.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===S.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in hr){if(e.name=hr[e.id],e.name==="keyUsage"){var r=S.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=S.fromDer(e.value);r.value.length>0&&r.value[0].type===S.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var o=null;r.value.length>0&&r.value[0].type===S.Type.INTEGER?o=r.value[0].value:r.value.length>1&&(o=r.value[1].value),o!==null&&(e.pathLenConstraint=S.derToInteger(o))}else if(e.name==="extKeyUsage")for(var r=S.fromDer(e.value),s=0;s<r.value.length;++s){var a=S.derToOid(r.value[s].value);a in hr?e[hr[a]]=!0:e[a]=!0}else if(e.name==="nsCertType"){var r=S.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var u,r=S.fromDer(e.value),c=0;c<r.value.length;++c){u=r.value[c];var l={type:u.type,value:u.value};switch(e.altNames.push(l),u.type){case 1:case 2:case 6:break;case 7:l.ip=ut.util.bytesToIP(u.value);break;case 8:l.oid=S.derToOid(u.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var r=S.fromDer(e.value);e.subjectKeyIdentifier=ut.util.bytesToHex(r.value)}}return e};ke.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!S.validate(t,dpt,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var o=S.derToOid(r.publicKeyOid);if(o!==ke.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=ke.createCertificationRequest();if(s.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,s.signatureOid=ut.asn1.derToOid(r.csrSignatureOid),s.signatureParameters=K9(s.signatureOid,r.csrSignatureParams,!0),s.siginfo.algorithmOid=ut.asn1.derToOid(r.csrSignatureOid),s.siginfo.parameters=K9(s.siginfo.algorithmOid,r.csrSignatureParams,!1),s.signature=r.csrSignature,s.certificationRequestInfo=r.certificationRequestInfo,e){s.md=X9({signatureOid:s.signatureOid,type:"certification request"});var a=S.toDer(s.certificationRequestInfo);s.md.update(a.getBytes())}var u=ut.md.sha1.create();return s.subject.getField=function(c){return z0(s.subject,c)},s.subject.addField=function(c){Nu([c]),s.subject.attributes.push(c)},s.subject.attributes=ke.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),s.subject.hash=u.digest().toHex(),s.publicKey=ke.publicKeyFromAsn1(r.subjectPublicKeyInfo),s.getAttribute=function(c){return z0(s,c)},s.addAttribute=function(c){Nu([c]),s.attributes.push(c)},s.attributes=ke.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),s};ke.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return z0(t.subject,e)},t.subject.addField=function(e){Nu([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return z0(t,e)},t.addAttribute=function(e){Nu([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Nu(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Nu(e),t.attributes=e},t.sign=function(e,r){t.md=r||ut.md.sha1.create();var n=hr[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=ke.getCertificationRequestInfo(t);var o=S.toDer(t.certificationRequestInfo);t.md.update(o.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=X9({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||ke.getCertificationRequestInfo(t),i=S.toDer(n);r.update(i.getBytes())}return r!==null&&(e=lke({certificate:t,md:r,signature:t.signature})),e},t};function jS(t){for(var e=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,o=0;o<i.length;++o){r=i[o];var s=r.value,a=S.Type.PRINTABLESTRING;"valueTagClass"in r&&(a=r.valueTagClass,a===S.Type.UTF8&&(s=ut.util.encodeUtf8(s))),n=S.create(S.Class.UNIVERSAL,S.Type.SET,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(r.type).getBytes()),S.create(S.Class.UNIVERSAL,a,!1,s)])]),e.value.push(n)}return e}function Nu(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in ke.oids?e.name=ke.oids[e.type]:e.shortName&&e.shortName in ci&&(e.name=ke.oids[ci[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in ke.oids)e.type=ke.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in ci&&(e.shortName=ci[e.name]),e.type===hr.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=S.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(ke.certificateExtensionToAsn1(fke(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}function fke(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in ke.oids&&(t.name=ke.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in ke.oids)t.id=ke.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,o=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(o|=128,n=7);var s=String.fromCharCode(n);o!==0?s+=String.fromCharCode(i)+String.fromCharCode(o):i!==0&&(s+=String.fromCharCode(i)),t.value=S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,s)}else if(t.name==="basicConstraints")t.value=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(S.create(S.Class.UNIVERSAL,S.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in t&&t.value.value.push(S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);var a=t.value.value;for(var u in t)t[u]===!0&&(u in hr?a.push(S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(hr[u]).getBytes())):u.indexOf(".")!==-1&&a.push(S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(u).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var s=String.fromCharCode(n);i!==0&&(s+=String.fromCharCode(i)),t.value=S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,s)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);for(var c,l=0;l<t.altNames.length;++l){c=t.altNames[l];var s=c.value;if(c.type===7&&c.ip){if(s=ut.util.bytesFromIP(c.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else c.type===8&&(c.oid?s=S.oidToDer(S.oidToDer(c.oid)):s=S.oidToDer(s));t.value.value.push(S.create(S.Class.CONTEXT_SPECIFIC,c.type,!1,s))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=S.create(S.Class.UNIVERSAL,S.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var f=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=f.toHex(),t.value=S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,f.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);var a=t.value.value;if(t.keyIdentifier){var p=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;a.push(S.create(S.Class.CONTEXT_SPECIFIC,0,!1,p))}if(t.authorityCertIssuer){var m=[S.create(S.Class.CONTEXT_SPECIFIC,4,!0,[jS(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];a.push(S.create(S.Class.CONTEXT_SPECIFIC,1,!0,m))}if(t.serialNumber){var d=ut.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);a.push(S.create(S.Class.CONTEXT_SPECIFIC,2,!1,d))}}else if(t.name==="cRLDistributionPoints"){t.value=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);for(var a=t.value.value,h=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]),g=S.create(S.Class.CONTEXT_SPECIFIC,0,!0,[]),c,l=0;l<t.altNames.length;++l){c=t.altNames[l];var s=c.value;if(c.type===7&&c.ip){if(s=ut.util.bytesFromIP(c.ip),s===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else c.type===8&&(c.oid?s=S.oidToDer(S.oidToDer(c.oid)):s=S.oidToDer(s));g.value.push(S.create(S.Class.CONTEXT_SPECIFIC,c.type,!1,s))}h.value.push(S.create(S.Class.CONTEXT_SPECIFIC,0,!0,[g])),a.push(h)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}function xte(t,e){switch(t){case hr["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(S.create(S.Class.CONTEXT_SPECIFIC,0,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(e.hash.algorithmOid).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(S.create(S.Class.CONTEXT_SPECIFIC,1,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(e.mgf.algorithmOid).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(e.mgf.hash.algorithmOid).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(S.create(S.Class.CONTEXT_SPECIFIC,2,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(e.saltLength).getBytes())])),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,r);default:return S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")}}function mpt(t){var e=S.create(S.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],o=i.value,s=S.Type.UTF8;"valueTagClass"in i&&(s=i.valueTagClass),s===S.Type.UTF8&&(o=ut.util.encodeUtf8(o));var a=!1;"valueConstructed"in i&&(a=i.valueConstructed);var u=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(i.type).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SET,!0,[S.create(S.Class.UNIVERSAL,s,a,o)])]);e.value.push(u)}return e}var hpt=new Date("1950-01-01T00:00:00Z"),gpt=new Date("2050-01-01T00:00:00Z");function cke(t){return t>=hpt&&t<gpt?S.create(S.Class.UNIVERSAL,S.Type.UTCTIME,!1,S.dateToUtcTime(t)):S.create(S.Class.UNIVERSAL,S.Type.GENERALIZEDTIME,!1,S.dateToGeneralizedTime(t))}ke.getTBSCertificate=function(t){var e=cke(t.validity.notBefore),r=cke(t.validity.notAfter),n=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.CONTEXT_SPECIFIC,0,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(t.version).getBytes())]),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,ut.util.hexToBytes(t.serialNumber)),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(t.siginfo.algorithmOid).getBytes()),xte(t.siginfo.algorithmOid,t.siginfo.parameters)]),jS(t.issuer),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[e,r]),jS(t.subject),ke.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(S.create(S.Class.CONTEXT_SPECIFIC,1,!0,[S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(S.create(S.Class.CONTEXT_SPECIFIC,2,!0,[S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(ke.certificateExtensionsToAsn1(t.extensions)),n};ke.getCertificationRequestInfo=function(t){var e=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(t.version).getBytes()),jS(t.subject),ke.publicKeyToAsn1(t.publicKey),mpt(t)]);return e};ke.distinguishedNameToAsn1=function(t){return jS(t)};ke.certificateToAsn1=function(t){var e=t.tbsCertificate||ke.getTBSCertificate(t);return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[e,S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(t.signatureOid).getBytes()),xte(t.signatureOid,t.signatureParameters)]),S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,"\0"+t.signature)])};ke.certificateExtensionsToAsn1=function(t){var e=S.create(S.Class.CONTEXT_SPECIFIC,3,!0,[]),r=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(ke.certificateExtensionToAsn1(t[n]));return e};ke.certificateExtensionToAsn1=function(t){var e=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);e.value.push(S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(t.id).getBytes())),t.critical&&e.value.push(S.create(S.Class.UNIVERSAL,S.Type.BOOLEAN,!1,"\xFF"));var r=t.value;return typeof t.value!="string"&&(r=S.toDer(r).getBytes()),e.value.push(S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,r)),e};ke.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||ke.getCertificationRequestInfo(t);return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[e,S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(t.signatureOid).getBytes()),xte(t.signatureOid,t.signatureParameters)]),S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,"\0"+t.signature)])};ke.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(s){var a=r(s.issuer);return a},e.addCertificate=function(s){if(typeof s=="string"&&(s=ut.pki.certificateFromPem(s)),n(s.subject),!e.hasCertificate(s))if(s.subject.hash in e.certs){var a=e.certs[s.subject.hash];ut.util.isArray(a)||(a=[a]),a.push(s),e.certs[s.subject.hash]=a}else e.certs[s.subject.hash]=s},e.hasCertificate=function(s){typeof s=="string"&&(s=ut.pki.certificateFromPem(s));var a=r(s.subject);if(!a)return!1;ut.util.isArray(a)||(a=[a]);for(var u=S.toDer(ke.certificateToAsn1(s)).getBytes(),c=0;c<a.length;++c){var l=S.toDer(ke.certificateToAsn1(a[c])).getBytes();if(u===l)return!0}return!1},e.listAllCertificates=function(){var s=[];for(var a in e.certs)if(e.certs.hasOwnProperty(a)){var u=e.certs[a];if(!ut.util.isArray(u))s.push(u);else for(var c=0;c<u.length;++c)s.push(u[c])}return s},e.removeCertificate=function(s){var a;if(typeof s=="string"&&(s=ut.pki.certificateFromPem(s)),n(s.subject),!e.hasCertificate(s))return null;var u=r(s.subject);if(!ut.util.isArray(u))return a=e.certs[s.subject.hash],delete e.certs[s.subject.hash],a;for(var c=S.toDer(ke.certificateToAsn1(s)).getBytes(),l=0;l<u.length;++l){var f=S.toDer(ke.certificateToAsn1(u[l])).getBytes();c===f&&(a=u[l],u.splice(l,1))}return u.length===0&&delete e.certs[s.subject.hash],a};function r(s){return n(s),e.certs[s.hash]||null}function n(s){if(!s.hash){var a=ut.md.sha1.create();s.attributes=ke.RDNAttributesAsArray(jS(s),a),s.hash=a.digest().toHex()}}if(t)for(var i=0;i<t.length;++i){var o=t[i];e.addCertificate(o)}return e};ke.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ke.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var o=!0,s=null,a=0;do{var u=e.shift(),c=null,l=!1;if(i&&(i<u.validity.notBefore||i>u.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:ke.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:i}),s===null){if(c=e[0]||t.getIssuer(u),c===null&&u.isIssuer(u)&&(l=!0,c=u),c){var f=c;ut.util.isArray(f)||(f=[f]);for(var p=!1;!p&&f.length>0;){c=f.shift();try{p=c.verify(u)}catch{}}p||(s={message:"Certificate signature is invalid.",error:ke.certificateError.bad_certificate})}s===null&&(!c||l)&&!t.hasCertificate(u)&&(s={message:"Certificate is not trusted.",error:ke.certificateError.unknown_ca})}if(s===null&&c&&!u.isIssuer(c)&&(s={message:"Certificate issuer is invalid.",error:ke.certificateError.bad_certificate}),s===null)for(var m={keyUsage:!0,basicConstraints:!0},d=0;s===null&&d<u.extensions.length;++d){var h=u.extensions[d];h.critical&&!(h.name in m)&&(s={message:"Certificate has an unsupported critical extension.",error:ke.certificateError.unsupported_certificate})}if(s===null&&(!o||e.length===0&&(!c||l))){var g=u.getExtension("basicConstraints"),v=u.getExtension("keyUsage");if(v!==null&&(!v.keyCertSign||g===null)&&(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ke.certificateError.bad_certificate}),s===null&&g!==null&&!g.cA&&(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ke.certificateError.bad_certificate}),s===null&&v!==null&&"pathLenConstraint"in g){var _=a-1;_>g.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:ke.certificateError.bad_certificate})}}var y=s===null?!0:s.error,x=r.verify?r.verify(y,a,n):y;if(x===!0)s=null;else throw y===!0&&(s={message:"The application rejected the certificate.",error:ke.certificateError.bad_certificate}),(x||x===0)&&(typeof x=="object"&&!ut.util.isArray(x)?(x.message&&(s.message=x.message),x.error&&(s.error=x.error)):typeof x=="string"&&(s.error=x)),s;o=!1,++a}while(e.length>0);return!0}});var Tte=R((_Ar,mke)=>{var gn=Ht();Al();OS();G0();yte();_te();Au();eP();qS();br();Q9();var q=gn.asn1,Zt=gn.pki,rP=mke.exports=gn.pkcs12=gn.pkcs12||{},dke={name:"ContentInfo",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:q.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},vpt={name:"PFX",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,capture:"version"},dke,{name:"PFX.macData",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:q.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:q.Class.UNIVERSAL,type:q.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:q.Class.UNIVERSAL,type:q.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:q.Class.UNIVERSAL,type:q.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},_pt={name:"SafeBag",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:q.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:q.Class.UNIVERSAL,type:q.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},ypt={name:"Attribute",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:q.Class.UNIVERSAL,type:q.Type.SET,constructed:!0,capture:"values"}]},bpt={name:"CertBag",tagClass:q.Class.UNIVERSAL,type:q.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:q.Class.UNIVERSAL,type:q.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:q.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:q.Class.UNIVERSAL,type:q.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function tP(t,e,r,n){for(var i=[],o=0;o<t.length;o++)for(var s=0;s<t[o].safeBags.length;s++){var a=t[o].safeBags[s];if(!(n!==void 0&&a.type!==n)){if(e===null){i.push(a);continue}a.attributes[e]!==void 0&&a.attributes[e].indexOf(r)>=0&&i.push(a)}}return i}rP.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!q.validate(t,vpt,n,i)){var o=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw o.errors=o,o}var s={version:n.version.charCodeAt(0),safeContents:[],getBags:function(g){var v={},_;return"localKeyId"in g?_=g.localKeyId:"localKeyIdHex"in g&&(_=gn.util.hexToBytes(g.localKeyIdHex)),_===void 0&&!("friendlyName"in g)&&"bagType"in g&&(v[g.bagType]=tP(s.safeContents,null,null,g.bagType)),_!==void 0&&(v.localKeyId=tP(s.safeContents,"localKeyId",_,g.bagType)),"friendlyName"in g&&(v.friendlyName=tP(s.safeContents,"friendlyName",g.friendlyName,g.bagType)),v},getBagsByFriendlyName:function(g,v){return tP(s.safeContents,"friendlyName",g,v)},getBagsByLocalKeyId:function(g,v){return tP(s.safeContents,"localKeyId",g,v)}};if(n.version.charCodeAt(0)!==3){var o=new Error("PKCS#12 PFX of version other than 3 not supported.");throw o.version=n.version.charCodeAt(0),o}if(q.derToOid(n.contentType)!==Zt.oids.data){var o=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw o.oid=q.derToOid(n.contentType),o}var a=n.content.value[0];if(a.tagClass!==q.Class.UNIVERSAL||a.type!==q.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(a=Ete(a),n.mac){var u=null,c=0,l=q.derToOid(n.macAlgorithm);switch(l){case Zt.oids.sha1:u=gn.md.sha1.create(),c=20;break;case Zt.oids.sha256:u=gn.md.sha256.create(),c=32;break;case Zt.oids.sha384:u=gn.md.sha384.create(),c=48;break;case Zt.oids.sha512:u=gn.md.sha512.create(),c=64;break;case Zt.oids.md5:u=gn.md.md5.create(),c=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+l);var f=new gn.util.ByteBuffer(n.macSalt),p="macIterations"in n?parseInt(gn.util.bytesToHex(n.macIterations),16):1,m=rP.generateKey(r,f,3,p,c,u),d=gn.hmac.create();d.start(u,m),d.update(a.value);var h=d.getMac();if(h.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return xpt(s,a.value,e,r),s};function Ete(t){if(t.composed||t.constructed){for(var e=gn.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function xpt(t,e,r,n){if(e=q.fromDer(e,r),e.tagClass!==q.Class.UNIVERSAL||e.type!==q.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var o=e.value[i],s={},a=[];if(!q.validate(o,dke,s,a)){var u=new Error("Cannot read ContentInfo.");throw u.errors=a,u}var c={encrypted:!1},l=null,f=s.content.value[0];switch(q.derToOid(s.contentType)){case Zt.oids.data:if(f.tagClass!==q.Class.UNIVERSAL||f.type!==q.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");l=Ete(f).value;break;case Zt.oids.encryptedData:l=Ept(f,n),c.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=q.derToOid(s.contentType),u}c.safeBags=Tpt(l,r,n),t.safeContents.push(c)}}function Ept(t,e){var r={},n=[];if(!q.validate(t,gn.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var o=q.derToOid(r.contentType);if(o!==Zt.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=o,i}o=q.derToOid(r.encAlgorithm);var s=Zt.pbe.getCipher(o,r.encParameter,e),a=Ete(r.encryptedContentAsn1),u=gn.util.createBuffer(a.value);if(s.update(u),!s.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return s.output.getBytes()}function Tpt(t,e,r){if(!e&&t.length===0)return[];if(t=q.fromDer(t,e),t.tagClass!==q.Class.UNIVERSAL||t.type!==q.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var o=t.value[i],s={},a=[];if(!q.validate(o,_pt,s,a)){var u=new Error("Cannot read SafeBag.");throw u.errors=a,u}var c={type:q.derToOid(s.bagId),attributes:Spt(s.bagAttributes)};n.push(c);var l,f,p=s.bagValue.value[0];switch(c.type){case Zt.oids.pkcs8ShroudedKeyBag:if(p=Zt.decryptPrivateKeyInfo(p,r),p===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case Zt.oids.keyBag:try{c.key=Zt.privateKeyFromAsn1(p)}catch{c.key=null,c.asn1=p}continue;case Zt.oids.certBag:l=bpt,f=function(){if(q.derToOid(s.certId)!==Zt.oids.x509Certificate){var d=new Error("Unsupported certificate type, only X.509 supported.");throw d.oid=q.derToOid(s.certId),d}var h=q.fromDer(s.cert,e);try{c.cert=Zt.certificateFromAsn1(h,!0)}catch{c.cert=null,c.asn1=h}};break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=c.type,u}if(l!==void 0&&!q.validate(p,l,s,a)){var u=new Error("Cannot read PKCS#12 "+l.name);throw u.errors=a,u}f()}return n}function Spt(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!q.validate(t[r],ypt,n,i)){var o=new Error("Cannot read PKCS#12 BagAttribute.");throw o.errors=i,o}var s=q.derToOid(n.oid);if(Zt.oids[s]!==void 0){e[Zt.oids[s]]=[];for(var a=0;a<n.values.length;++a)e[Zt.oids[s]].push(n.values[a].value)}}return e}rP.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,o;if(i!==null)i=gn.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var s=gn.util.isArray(e)?e[0]:e;typeof s=="string"&&(s=Zt.certificateFromPem(s));var a=gn.md.sha1.create();a.update(q.toDer(Zt.certificateToAsn1(s)).getBytes()),i=a.digest().getBytes()}else i=gn.random.getBytes(20);var u=[];i!==null&&u.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.localKeyId).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&u.push(q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.friendlyName).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SET,!0,[q.create(q.Class.UNIVERSAL,q.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(o=q.create(q.Class.UNIVERSAL,q.Type.SET,!0,u));var c=[],l=[];e!==null&&(gn.util.isArray(e)?l=e:l=[e]);for(var f=[],p=0;p<l.length;++p){e=l[p],typeof e=="string"&&(e=Zt.certificateFromPem(e));var m=p===0?o:void 0,d=Zt.certificateToAsn1(e),h=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.certBag).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.x509Certificate).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,q.toDer(d).getBytes())])])]),m]);f.push(h)}if(f.length>0){var g=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,f),v=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.data).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,q.toDer(g).getBytes())])]);c.push(v)}var _=null;if(t!==null){var y=Zt.wrapRsaPrivateKey(Zt.privateKeyToAsn1(t));r===null?_=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.keyBag).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[y]),o]):_=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.pkcs8ShroudedKeyBag).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[Zt.encryptPrivateKeyInfo(y,r,n)]),o]);var x=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[_]),b=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.data).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,q.toDer(x).getBytes())])]);c.push(b)}var T=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,c),k;if(n.useMac){var a=gn.md.sha1.create(),U=new gn.util.ByteBuffer(gn.random.getBytes(n.saltSize)),z=n.count,t=rP.generateKey(r,U,3,z,20),D=gn.hmac.create();D.start(a,t),D.update(q.toDer(T).getBytes());var fe=D.getMac();k=q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.sha1).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.NULL,!1,"")]),q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,fe.getBytes())]),q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,U.getBytes()),q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(z).getBytes())])}return q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.INTEGER,!1,q.integerToDer(3).getBytes()),q.create(q.Class.UNIVERSAL,q.Type.SEQUENCE,!0,[q.create(q.Class.UNIVERSAL,q.Type.OID,!1,q.oidToDer(Zt.oids.data).getBytes()),q.create(q.Class.CONTEXT_SPECIFIC,0,!0,[q.create(q.Class.UNIVERSAL,q.Type.OCTETSTRING,!1,q.toDer(T).getBytes())])]),k])};rP.generateKey=gn.pbe.generatePkcs12Key});var Cte=R((yAr,hke)=>{var Y0=Ht();Al();G0();_te();h1();H9();Tte();W9();eP();br();Q9();var Ste=Y0.asn1,VS=hke.exports=Y0.pki=Y0.pki||{};VS.pemToDer=function(t){var e=Y0.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Y0.util.createBuffer(e.body)};VS.privateKeyFromPem=function(t){var e=Y0.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=Ste.fromDer(e.body);return VS.privateKeyFromAsn1(n)};VS.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:Ste.toDer(VS.privateKeyToAsn1(t)).getBytes()};return Y0.pem.encode(r,{maxline:e})};VS.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:Ste.toDer(t).getBytes()};return Y0.pem.encode(r,{maxline:e})}});var Nte=R((bAr,Tke)=>{var xe=Ht();Al();OS();F9();h1();Cte();Au();qS();br();var t7=function(t,e,r,n){var i=xe.util.createBuffer(),o=t.length>>1,s=o+(t.length&1),a=t.substr(0,s),u=t.substr(o,s),c=xe.util.createBuffer(),l=xe.hmac.create();r=e+r;var f=Math.ceil(n/16),p=Math.ceil(n/20);l.start("MD5",a);var m=xe.util.createBuffer();c.putBytes(r);for(var d=0;d<f;++d)l.start(null,null),l.update(c.getBytes()),c.putBuffer(l.digest()),l.start(null,null),l.update(c.bytes()+r),m.putBuffer(l.digest());l.start("SHA1",u);var h=xe.util.createBuffer();c.clear(),c.putBytes(r);for(var d=0;d<p;++d)l.start(null,null),l.update(c.getBytes()),c.putBuffer(l.digest()),l.start(null,null),l.update(c.bytes()+r),h.putBuffer(l.digest());return i.putBytes(xe.util.xorBytes(m.getBytes(),h.getBytes(),n)),i},Cpt=function(t,e,r){var n=xe.hmac.create();n.start("SHA1",t);var i=xe.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},Ipt=function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=xe.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},wpt=function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=xe.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},Pc=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return xe.util.createBuffer(t.getBytes(r))},Du=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},A={};A.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};A.SupportedVersions=[A.Versions.TLS_1_1,A.Versions.TLS_1_0];A.Version=A.SupportedVersions[0];A.MaxFragment=15360;A.ConnectionEnd={server:0,client:1};A.PRFAlgorithm={tls_prf_sha256:0};A.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};A.CipherType={stream:0,block:1,aead:2};A.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};A.CompressionMethod={none:0,deflate:1};A.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};A.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};A.Alert={};A.Alert.Level={warning:1,fatal:2};A.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};A.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};A.CipherSuites={};A.getCipherSuite=function(t){var e=null;for(var r in A.CipherSuites){var n=A.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};A.handleUnexpected=function(t,e){var r=!t.open&&t.entity===A.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})};A.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(A.queue(t,A.createAlert(t,{level:A.Alert.Level.warning,description:A.Alert.Description.no_renegotiation})),A.flush(t)),t.process()};A.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===A.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});else{var o=e.fragment,s=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:xe.util.createBuffer(o.getBytes(32)),session_id:Pc(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=Pc(o,2),n.compression_methods=Pc(o,1)),s=r-(s-o.length()),s>0){for(var a=Pc(o,2);a.length()>0;)n.extensions.push({type:[a.getByte(),a.getByte()],data:Pc(a,2)});if(!i)for(var u=0;u<n.extensions.length;++u){var c=n.extensions[u];if(c.type[0]===0&&c.type[1]===0)for(var l=Pc(c.data,2);l.length()>0;){var f=l.getByte();if(f!==0)break;t.session.extensions.server_name.serverNameList.push(Pc(l,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=A.getCipherSuite(n.cipher_suite);else for(var p=xe.util.createBuffer(n.cipher_suites.bytes());p.length()>0&&(t.session.cipherSuite=A.getCipherSuite(p.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure},cipherSuite:xe.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=A.CompressionMethod.none}return n};A.createSecurityParameters=function(t,e){var r=t.entity===A.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,o=r?n:A.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:A.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}};A.handleServerHello=function(t,e,r){var n=A.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}});t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=_ke,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=Rpt,t.session.resuming=!1,A.createSecurityParameters(t,n)),t.session.id=i,t.process()}};A.handleClientHello=function(t,e,r){var n=A.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),o=null;if(t.sessionCache&&(o=t.sessionCache.getSession(i),o===null?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),i.length===0&&(i=xe.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},o)t.version=t.session.version=o.version,t.session.sp=o.sp;else{for(var s,a=1;a<A.SupportedVersions.length&&(s=A.SupportedVersions[a],!(s.minor<=n.version.minor));++a);t.version={major:s.major,minor:s.minor},t.session.version=t.version}o!==null?(t.expect=Rte,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?Mpt:Ate,t.session.resuming=!1,A.createSecurityParameters(t,n)),t.open=!0,A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createServerHello(t)})),t.session.resuming?(A.queue(t,A.createRecord(t,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),t.state.pending=A.createConnectionState(t),t.state.current.write=t.state.pending.write,A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createFinished(t)}))):(A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createCertificate(t)})),t.fail||(A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createServerKeyExchange(t)})),t.verifyClient!==!1&&A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createCertificateRequest(t)})),A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createServerHelloDone(t)})))),A.flush(t),t.process()}};A.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_list:Pc(n,3)},o,s,a=[];try{for(;i.certificate_list.length()>0;)o=Pc(i.certificate_list,3),s=xe.asn1.fromDer(o),o=xe.pki.certificateFromAsn1(s,!0),a.push(o)}catch(c){return t.error(t,{message:"Could not parse certificate list.",cause:c,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var u=t.entity===A.ConnectionEnd.client;(u||t.verifyClient===!0)&&a.length===0?t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}}):a.length===0?t.expect=u?gke:Ate:(u?t.session.serverCertificate=a[0]:t.session.clientCertificate=a[0],A.verifyCertificateChain(t,a)&&(t.expect=u?gke:Ate)),t.process()};A.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});t.expect=Ppt,t.process()};A.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:Pc(n,2).getBytes()},o=null;if(t.getPrivateKey)try{o=t.getPrivateKey(t,t.session.serverCertificate),o=xe.pki.privateKeyFromPem(o)}catch(u){t.error(t,{message:"Could not get private key.",cause:u,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}if(o===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}});try{var s=t.session.sp;s.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var a=t.session.clientHelloVersion;if(a.major!==s.pre_master_secret.charCodeAt(0)||a.minor!==s.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{s.pre_master_secret=xe.random.getBytes(48)}t.expect=Rte,t.session.clientCertificate!==null&&(t.expect=Fpt),t.process()};A.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:Pc(n,1),certificate_authorities:Pc(n,2)};t.session.certificateRequest=i,t.expect=Npt,t.process()};A.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:Pc(n,2).getBytes()},s=xe.util.createBuffer();s.putBuffer(t.session.md5.digest()),s.putBuffer(t.session.sha1.digest()),s=s.getBytes();try{var a=t.session.clientCertificate;if(!a.publicKey.verify(s,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.handshake_failure}})}t.expect=Rte,t.process()};A.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.insufficient_security}},i=0,o=t.verify(t,n.alert.description,i,[]);if(o!==!0)return(o||o===0)&&(typeof o=="object"&&!xe.util.isArray(o)?(o.message&&(n.message=o.message),o.alert&&(n.alert.description=o.alert)):typeof o=="number"&&(n.alert.description=o)),t.error(t,n)}t.session.certificateRequest!==null&&(e=A.createRecord(t,{type:A.ContentType.handshake,data:A.createCertificate(t)}),A.queue(t,e)),e=A.createRecord(t,{type:A.ContentType.handshake,data:A.createClientKeyExchange(t)}),A.queue(t,e),t.expect=Lpt;var s=function(a,u){a.session.certificateRequest!==null&&a.session.clientCertificate!==null&&A.queue(a,A.createRecord(a,{type:A.ContentType.handshake,data:A.createCertificateVerify(a,u)})),A.queue(a,A.createRecord(a,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),a.state.pending=A.createConnectionState(a),a.state.current.write=a.state.pending.write,A.queue(a,A.createRecord(a,{type:A.ContentType.handshake,data:A.createFinished(a)})),a.expect=_ke,A.flush(a),a.process()};if(t.session.certificateRequest===null||t.session.clientCertificate===null)return s(t,null);A.getClientSignature(t,s)};A.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.illegal_parameter}});var r=t.entity===A.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=A.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Dpt:Upt,t.process()};A.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=e.fragment.getBytes();n=xe.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var s=t.entity===A.ConnectionEnd.client,a=s?"server finished":"client finished",u=t.session.sp,c=12,l=t7;if(n=l(u.master_secret,a,n.getBytes(),c),n.getBytes()!==o)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&s||!t.session.resuming&&!s)&&(A.queue(t,A.createRecord(t,{type:A.ContentType.change_cipher_spec,data:A.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,A.queue(t,A.createRecord(t,{type:A.ContentType.handshake,data:A.createFinished(t)}))),t.expect=s?kpt:Bpt,t.handshaking=!1,++t.handshakes,t.peerCertificate=s?t.session.serverCertificate:t.session.clientCertificate,A.flush(t),t.isConnected=!0,t.connected(t),t.process()};A.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case A.Alert.Description.close_notify:i="Connection closed.";break;case A.Alert.Description.unexpected_message:i="Unexpected message.";break;case A.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case A.Alert.Description.decryption_failed:i="Decryption failed.";break;case A.Alert.Description.record_overflow:i="Record overflow.";break;case A.Alert.Description.decompression_failure:i="Decompression failed.";break;case A.Alert.Description.handshake_failure:i="Handshake failure.";break;case A.Alert.Description.bad_certificate:i="Bad certificate.";break;case A.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case A.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case A.Alert.Description.certificate_expired:i="Certificate expired.";break;case A.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case A.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case A.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case A.Alert.Description.access_denied:i="Access denied.";break;case A.Alert.Description.decode_error:i="Decode error.";break;case A.Alert.Description.decrypt_error:i="Decrypt error.";break;case A.Alert.Description.export_restriction:i="Export restriction.";break;case A.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case A.Alert.Description.insufficient_security:i="Insufficient security.";break;case A.Alert.Description.internal_error:i="Internal error.";break;case A.Alert.Description.user_canceled:i="User canceled.";break;case A.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===A.Alert.Description.close_notify)return t.close();t.error(t,{message:i,send:!1,origin:t.entity===A.ConnectionEnd.client?"server":"client",alert:n}),t.process()};A.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=xe.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in e7[t.entity][t.expect]?(t.entity===A.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:xe.md.md5.create(),sha1:xe.md.sha1.create()}),n!==A.HandshakeType.hello_request&&n!==A.HandshakeType.certificate_verify&&n!==A.HandshakeType.finished&&(t.session.md5.update(o),t.session.sha1.update(o)),e7[t.entity][t.expect][n](t,e,i)):A.handleUnexpected(t,e)};A.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};A.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===A.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>o.length)return t.process();A.queue(t,A.createRecord(t,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_response,o)})),A.flush(t)}else if(n===A.HeartbeatMessageType.heartbeat_response){if(o!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,xe.util.createBuffer(o))}t.process()};var Apt=0,Rpt=1,gke=2,Ppt=3,Npt=4,_ke=5,Dpt=6,kpt=7,Lpt=8,Opt=0,Mpt=1,Ate=2,Fpt=3,Rte=4,Upt=5,Bpt=6,I=A.handleUnexpected,yke=A.handleChangeCipherSpec,ls=A.handleAlert,aa=A.handleHandshake,bke=A.handleApplicationData,ps=A.handleHeartbeat,Pte=[];Pte[A.ConnectionEnd.client]=[[I,ls,aa,I,ps],[I,ls,aa,I,ps],[I,ls,aa,I,ps],[I,ls,aa,I,ps],[I,ls,aa,I,ps],[yke,ls,I,I,ps],[I,ls,aa,I,ps],[I,ls,aa,bke,ps],[I,ls,aa,I,ps]];Pte[A.ConnectionEnd.server]=[[I,ls,aa,I,ps],[I,ls,aa,I,ps],[I,ls,aa,I,ps],[I,ls,aa,I,ps],[yke,ls,I,I,ps],[I,ls,aa,I,ps],[I,ls,aa,bke,ps],[I,ls,aa,I,ps]];var $0=A.handleHelloRequest,qpt=A.handleServerHello,xke=A.handleCertificate,vke=A.handleServerKeyExchange,Ite=A.handleCertificateRequest,J9=A.handleServerHelloDone,Eke=A.handleFinished,e7=[];e7[A.ConnectionEnd.client]=[[I,I,qpt,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,xke,vke,Ite,J9,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,vke,Ite,J9,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,I,Ite,J9,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,I,I,J9,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Eke],[$0,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[$0,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];var Hpt=A.handleClientHello,Gpt=A.handleClientKeyExchange,jpt=A.handleCertificateVerify;e7[A.ConnectionEnd.server]=[[I,Hpt,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,xke,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Gpt,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,jpt,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,Eke],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]];A.generateKeys=function(t,e){var r=t7,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,o=t.version.major===A.Versions.TLS_1_0.major&&t.version.minor===A.Versions.TLS_1_0.minor;o&&(i+=2*e.fixed_iv_length);var s=r(e.master_secret,"key expansion",n,i),a={client_write_MAC_key:s.getBytes(e.mac_key_length),server_write_MAC_key:s.getBytes(e.mac_key_length),client_write_key:s.getBytes(e.enc_key_length),server_write_key:s.getBytes(e.enc_key_length)};return o&&(a.client_write_IV=s.getBytes(e.fixed_iv_length),a.server_write_IV=s.getBytes(e.fixed_iv_length)),a};A.createConnectionState=function(t){var e=t.entity===A.ConnectionEnd.client,r=function(){var o={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(s){return!0},compressionState:null,compressFunction:function(s){return!0},updateSequenceNumber:function(){o.sequenceNumber[1]===4294967295?(o.sequenceNumber[1]=0,++o.sequenceNumber[0]):++o.sequenceNumber[1]}};return o},n={read:r(),write:r()};if(n.read.update=function(o,s){return n.read.cipherFunction(s,n.read)?n.read.compressFunction(o,s,n.read)||o.error(o,{message:"Could not decompress record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.decompression_failure}}):o.error(o,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_record_mac}}),!o.fail},n.write.update=function(o,s){return n.write.compressFunction(o,s,n.write)?n.write.cipherFunction(s,n.write)||o.error(o,{message:"Could not encrypt record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):o.error(o,{message:"Could not compress record.",send:!1,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}),!o.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=A.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case A.CompressionMethod.none:break;case A.CompressionMethod.deflate:n.read.compressFunction=wpt,n.write.compressFunction=Ipt;break;default:throw new Error("Unsupported compression algorithm.")}}return n};A.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=xe.util.createBuffer();return r.putInt32(e),r.putBytes(xe.random.getBytes(28)),r};A.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};A.createAlert=function(t,e){var r=xe.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),A.createRecord(t,{type:A.ContentType.alert,data:r})};A.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=xe.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),o=xe.util.createBuffer();o.putByte(A.CompressionMethod.none);var s=o.length(),a=xe.util.createBuffer();if(t.virtualHost){var u=xe.util.createBuffer();u.putByte(0),u.putByte(0);var c=xe.util.createBuffer();c.putByte(0),Du(c,2,xe.util.createBuffer(t.virtualHost));var l=xe.util.createBuffer();Du(l,2,c),Du(u,2,l),a.putBuffer(u)}var f=a.length();f>0&&(f+=2);var p=t.session.id,m=p.length+1+2+4+28+2+i+1+s+f,d=xe.util.createBuffer();return d.putByte(A.HandshakeType.client_hello),d.putInt24(m),d.putByte(t.version.major),d.putByte(t.version.minor),d.putBytes(t.session.sp.client_random),Du(d,1,xe.util.createBuffer(p)),Du(d,2,e),Du(d,1,o),f>0&&Du(d,2,a),d};A.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=xe.util.createBuffer();return n.putByte(A.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),Du(n,1,xe.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};A.createCertificate=function(t){var e=t.entity===A.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=xe.util.createBuffer();if(r!==null)try{xe.util.isArray(r)||(r=[r]);for(var o=null,s=0;s<r.length;++s){var a=xe.pem.decode(r[s])[0];if(a.type!=="CERTIFICATE"&&a.type!=="X509 CERTIFICATE"&&a.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=a.type,u}if(a.procType&&a.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var c=xe.util.createBuffer(a.body);o===null&&(o=xe.asn1.fromDer(c.bytes(),!1));var l=xe.util.createBuffer();Du(l,3,c),i.putBuffer(l)}r=xe.pki.certificateFromAsn1(o),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(m){return t.error(t,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate}})}var f=3+i.length(),p=xe.util.createBuffer();return p.putByte(A.HandshakeType.certificate),p.putInt24(f),Du(p,3,i),p};A.createClientKeyExchange=function(t){var e=xe.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(xe.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,o=xe.util.createBuffer();return o.putByte(A.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(e.length),o.putBytes(e),o};A.createServerKeyExchange=function(t){var e=0,r=xe.util.createBuffer();return e>0&&(r.putByte(A.HandshakeType.server_key_exchange),r.putInt24(e)),r};A.getClientSignature=function(t,e){var r=xe.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,i,o){var s=null;if(n.getPrivateKey)try{s=n.getPrivateKey(n,n.session.clientCertificate),s=xe.pki.privateKeyFromPem(s)}catch(a){n.error(n,{message:"Could not get private key.",cause:a,send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}})}s===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.internal_error}}):i=s.sign(i,null),o(n,i)},t.getSignature(t,r,e)};A.createCertificateVerify=function(t,e){var r=e.length+2,n=xe.util.createBuffer();return n.putByte(A.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};A.createCertificateRequest=function(t){var e=xe.util.createBuffer();e.putByte(1);var r=xe.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],o=xe.pki.distinguishedNameToAsn1(i.subject),s=xe.asn1.toDer(o);r.putInt16(s.length()),r.putBuffer(s)}var a=1+e.length()+2+r.length(),u=xe.util.createBuffer();return u.putByte(A.HandshakeType.certificate_request),u.putInt24(a),Du(u,1,e),Du(u,2,r),u};A.createServerHelloDone=function(t){var e=xe.util.createBuffer();return e.putByte(A.HandshakeType.server_hello_done),e.putInt24(0),e};A.createChangeCipherSpec=function(){var t=xe.util.createBuffer();return t.putByte(1),t};A.createFinished=function(t){var e=xe.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===A.ConnectionEnd.client,n=t.session.sp,i=12,o=t7,s=r?"client finished":"server finished";e=o(n.master_secret,s,e.getBytes(),i);var a=xe.util.createBuffer();return a.putByte(A.HandshakeType.finished),a.putInt24(e.length()),a.putBuffer(e),a};A.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=xe.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(xe.random.getBytes(o)),n};A.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===A.ContentType.handshake||e.type===A.ContentType.alert||e.type===A.ContentType.change_cipher_spec))){if(e.type===A.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=A.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>A.MaxFragment;)n.push(A.createRecord(t,{type:e.type,data:xe.util.createBuffer(i.slice(0,A.MaxFragment))})),i=i.slice(A.MaxFragment);i.length>0&&n.push(A.createRecord(t,{type:e.type,data:xe.util.createBuffer(i)}))}for(var o=0;o<n.length&&!t.fail;++o){var s=n[o],a=t.state.current.write;a.update(t,s)&&t.records.push(s)}}};A.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var wte=function(t){switch(t){case!0:return!0;case xe.pki.certificateError.bad_certificate:return A.Alert.Description.bad_certificate;case xe.pki.certificateError.unsupported_certificate:return A.Alert.Description.unsupported_certificate;case xe.pki.certificateError.certificate_revoked:return A.Alert.Description.certificate_revoked;case xe.pki.certificateError.certificate_expired:return A.Alert.Description.certificate_expired;case xe.pki.certificateError.certificate_unknown:return A.Alert.Description.certificate_unknown;case xe.pki.certificateError.unknown_ca:return A.Alert.Description.unknown_ca;default:return A.Alert.Description.bad_certificate}},Vpt=function(t){switch(t){case!0:return!0;case A.Alert.Description.bad_certificate:return xe.pki.certificateError.bad_certificate;case A.Alert.Description.unsupported_certificate:return xe.pki.certificateError.unsupported_certificate;case A.Alert.Description.certificate_revoked:return xe.pki.certificateError.certificate_revoked;case A.Alert.Description.certificate_expired:return xe.pki.certificateError.certificate_expired;case A.Alert.Description.certificate_unknown:return xe.pki.certificateError.certificate_unknown;case A.Alert.Description.unknown_ca:return xe.pki.certificateError.unknown_ca;default:return xe.pki.certificateError.bad_certificate}};A.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(o,s,a){var u=wte(o),c=t.verify(t,o,s,a);if(c!==!0){if(typeof c=="object"&&!xe.util.isArray(c)){var l=new Error("The application rejected the certificate.");throw l.send=!0,l.alert={level:A.Alert.Level.fatal,description:A.Alert.Description.bad_certificate},c.message&&(l.message=c.message),c.alert&&(l.alert.description=c.alert),l}c!==o&&(c=Vpt(c))}return c},xe.pki.verifyCertificateChain(t.caStore,e,r)}catch(o){var i=o;(typeof i!="object"||xe.util.isArray(i))&&(i={send:!0,alert:{level:A.Alert.Level.fatal,description:wte(o)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:A.Alert.Level.fatal,description:wte(i.error)}),t.error(t,i)}return!t.fail};A.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(i){var o=null,s=null;if(i?s=xe.util.bytesToHex(i):r.order.length>0&&(s=r.order[0]),s!==null&&s in r.cache){o=r.cache[s],delete r.cache[s];for(var a in r.order)if(r.order[a]===s){r.order.splice(a,1);break}}return o},r.setSession=function(i,o){if(r.order.length===r.capacity){var s=r.order.shift();delete r.cache[s]}var s=xe.util.bytesToHex(i);r.order.push(s),r.cache[s]=o}}return r};A.createConnection=function(t){var e=null;t.caStore?xe.util.isArray(t.caStore)?e=xe.pki.createCaStore(t.caStore):e=t.caStore:e=xe.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in A.CipherSuites)r.push(A.CipherSuites[n])}var i=t.server?A.ConnectionEnd.server:A.ConnectionEnd.client,o=t.sessionCache?A.createSessionCache(t.sessionCache):null,s={version:{major:A.Version.major,minor:A.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:o,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(l,f,p,m){return f},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:xe.util.createBuffer(),tlsData:xe.util.createBuffer(),data:xe.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(l,f){f.origin=f.origin||(l.entity===A.ConnectionEnd.client?"client":"server"),f.send&&(A.queue(l,A.createAlert(l,f.alert)),A.flush(l));var p=f.fatal!==!1;p&&(l.fail=!0),t.error(l,f),p&&l.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};s.reset=function(l){s.version={major:A.Version.major,minor:A.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=s.entity===A.ConnectionEnd.client?Apt:Opt,s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(l||typeof l>"u"),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=A.createConnectionState(s)},s.reset();var a=function(l,f){var p=f.type-A.ContentType.change_cipher_spec,m=Pte[l.entity][l.expect];p in m?m[p](l,f):A.handleUnexpected(l,f)},u=function(l){var f=0,p=l.input,m=p.length();if(m<5)f=5-m;else{l.record={type:p.getByte(),version:{major:p.getByte(),minor:p.getByte()},length:p.getInt16(),fragment:xe.util.createBuffer(),ready:!1};var d=l.record.version.major===l.version.major;d&&l.session&&l.session.version&&(d=l.record.version.minor===l.version.minor),d||l.error(l,{message:"Incompatible TLS version.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.protocol_version}})}return f},c=function(l){var f=0,p=l.input,m=p.length();if(m<l.record.length)f=l.record.length-m;else{l.record.fragment.putBytes(p.getBytes(l.record.length)),p.compact();var d=l.state.current.read;d.update(l,l.record)&&(l.fragmented!==null&&(l.fragmented.type===l.record.type?(l.fragmented.fragment.putBuffer(l.record.fragment),l.record=l.fragmented):l.error(l,{message:"Invalid fragmented record.",send:!0,alert:{level:A.Alert.Level.fatal,description:A.Alert.Description.unexpected_message}})),l.record.ready=!0)}return f};return s.handshake=function(l){if(s.entity!==A.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&s.handshakes===0&&(s.fail=!1),s.handshaking=!0,l=l||"";var f=null;l.length>0&&(s.sessionCache&&(f=s.sessionCache.getSession(l)),f===null&&(l="")),l.length===0&&s.sessionCache&&(f=s.sessionCache.getSession(),f!==null&&(l=f.id)),s.session={id:l,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:xe.md.md5.create(),sha1:xe.md.sha1.create()},f&&(s.version=f.version,s.session.sp=f.sp),s.session.sp.client_random=A.createRandom().getBytes(),s.open=!0,A.queue(s,A.createRecord(s,{type:A.ContentType.handshake,data:A.createClientHello(s)})),A.flush(s)}},s.process=function(l){var f=0;return l&&s.input.putBytes(l),s.fail||(s.record!==null&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),s.record===null&&(f=u(s)),!s.fail&&s.record!==null&&!s.record.ready&&(f=c(s)),!s.fail&&s.record!==null&&s.record.ready&&a(s,s.record)),f},s.prepare=function(l){return A.queue(s,A.createRecord(s,{type:A.ContentType.application_data,data:xe.util.createBuffer(l)})),A.flush(s)},s.prepareHeartbeatRequest=function(l,f){return l instanceof xe.util.ByteBuffer&&(l=l.bytes()),typeof f>"u"&&(f=l.length),s.expectedHeartbeatPayload=l,A.queue(s,A.createRecord(s,{type:A.ContentType.heartbeat,data:A.createHeartbeat(A.HeartbeatMessageType.heartbeat_request,l,f)})),A.flush(s)},s.close=function(l){if(!s.fail&&s.sessionCache&&s.session){var f={id:s.session.id,version:s.session.version,sp:s.session.sp};f.sp.keys=null,s.sessionCache.setSession(f.id,f)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,A.queue(s,A.createAlert(s,{level:A.Alert.Level.warning,description:A.Alert.Description.close_notify})),A.flush(s)),s.closed(s)),s.reset(l)},s};Tke.exports=xe.tls=xe.tls||{};for(Z9 in A)typeof A[Z9]!="function"&&(xe.tls[Z9]=A[Z9]);var Z9;xe.tls.prf_tls1=t7;xe.tls.hmac_sha1=Cpt;xe.tls.createSessionCache=A.createSessionCache;xe.tls.createConnection=A.createConnection});var Ike=R((xAr,Cke)=>{var W0=Ht();H0();Nte();var ku=Cke.exports=W0.tls;ku.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=ku.BulkCipherAlgorithm.aes,t.cipher_type=ku.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ku.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:Ske};ku.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=ku.BulkCipherAlgorithm.aes,t.cipher_type=ku.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ku.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:Ske};function Ske(t,e,r){var n=e.entity===W0.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:W0.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:W0.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=Wpt,t.write.cipherFunction=zpt,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=ku.hmac_sha1}function zpt(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var i;t.version.minor===ku.Versions.TLS_1_0.minor?i=e.cipherState.init?null:e.cipherState.iv:i=W0.random.getBytesSync(16),e.cipherState.init=!0;var o=e.cipherState.cipher;return o.start({iv:i}),t.version.minor>=ku.Versions.TLS_1_1.minor&&o.output.putBytes(i),o.update(t.fragment),o.finish(Ypt)&&(t.fragment=o.output,t.length=t.fragment.length(),r=!0),r}function Ypt(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function $pt(t,e,r){var n=!0;if(r){for(var i=e.length(),o=e.last(),s=i-1-o;s<i-1;++s)n=n&&e.at(s)==o;n&&e.truncate(o+1)}return n}function Wpt(t,e){var r=!1,n;t.version.minor===ku.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var i=e.cipherState.cipher;i.start({iv:n}),i.update(t.fragment),r=i.finish($pt);var o=e.macLength,s=W0.random.getBytesSync(o),a=i.output.length();a>=o?(t.fragment=i.output.getBytes(a-o),s=i.output.getBytes(o)):t.fragment=i.output.getBytes(),t.fragment=W0.util.createBuffer(t.fragment),t.length=t.fragment.length();var u=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=Kpt(e.macKey,s,u)&&r,r}function Kpt(t,e,r){var n=W0.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}});var Lte=R((EAr,Pke)=>{var Rn=Ht();hp();br();var nP=Pke.exports=Rn.sha512=Rn.sha512||{};Rn.md.sha512=Rn.md.algorithms.sha512=nP;var Ake=Rn.sha384=Rn.sha512.sha384=Rn.sha512.sha384||{};Ake.create=function(){return nP.create("SHA-384")};Rn.md.sha384=Rn.md.algorithms.sha384=Ake;Rn.sha512.sha256=Rn.sha512.sha256||{create:function(){return nP.create("SHA-512/256")}};Rn.md["sha512/256"]=Rn.md.algorithms["sha512/256"]=Rn.sha512.sha256;Rn.sha512.sha224=Rn.sha512.sha224||{create:function(){return nP.create("SHA-512/224")}};Rn.md["sha512/224"]=Rn.md.algorithms["sha512/224"]=Rn.sha512.sha224;nP.create=function(t){if(Rke||Xpt(),typeof t>"u"&&(t="SHA-512"),!(t in x1))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=x1[t],r=null,n=Rn.util.createBuffer(),i=new Array(80),o=0;o<80;++o)i[o]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var a={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var u=a.messageLengthSize/4,c=0;c<u;++c)a.fullMessageLength.push(0);n=Rn.util.createBuffer(),r=new Array(e.length);for(var c=0;c<e.length;++c)r[c]=e[c].slice(0);return a},a.start(),a.update=function(u,c){c==="utf8"&&(u=Rn.util.encodeUtf8(u));var l=u.length;a.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var f=a.fullMessageLength.length-1;f>=0;--f)a.fullMessageLength[f]+=l[1],l[1]=l[0]+(a.fullMessageLength[f]/4294967296>>>0),a.fullMessageLength[f]=a.fullMessageLength[f]>>>0,l[0]=l[1]/4294967296>>>0;return n.putBytes(u),wke(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var u=Rn.util.createBuffer();u.putBytes(n.bytes());var c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,l=c&a.blockLength-1;u.putBytes(Dte.substr(0,a.blockLength-l));for(var f,p,m=a.fullMessageLength[0]*8,d=0;d<a.fullMessageLength.length-1;++d)f=a.fullMessageLength[d+1]*8,p=f/4294967296>>>0,m+=p,u.putInt32(m>>>0),m=f>>>0;u.putInt32(m);for(var h=new Array(r.length),d=0;d<r.length;++d)h[d]=r[d].slice(0);wke(h,i,u);var g=Rn.util.createBuffer(),v;t==="SHA-512"?v=h.length:t==="SHA-384"?v=h.length-2:v=h.length-4;for(var d=0;d<v;++d)g.putInt32(h[d][0]),(d!==v-1||t!=="SHA-512/224")&&g.putInt32(h[d][1]);return g},a};var Dte=null,Rke=!1,kte=null,x1=null;function Xpt(){Dte="\x80",Dte+=Rn.util.fillString("\0",128),kte=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],x1={},x1["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],x1["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],x1["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],x1["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Rke=!0}function wke(t,e,r){for(var n,i,o,s,a,u,c,l,f,p,m,d,h,g,v,_,y,x,b,T,k,U,z,D,fe,Q,O,w,P,M,L,W,H,ae,Pe,Ve=r.length();Ve>=128;){for(P=0;P<16;++P)e[P][0]=r.getInt32()>>>0,e[P][1]=r.getInt32()>>>0;for(;P<80;++P)W=e[P-2],M=W[0],L=W[1],n=((M>>>19|L<<13)^(L>>>29|M<<3)^M>>>6)>>>0,i=((M<<13|L>>>19)^(L<<3|M>>>29)^(M<<26|L>>>6))>>>0,ae=e[P-15],M=ae[0],L=ae[1],o=((M>>>1|L<<31)^(M>>>8|L<<24)^M>>>7)>>>0,s=((M<<31|L>>>1)^(M<<24|L>>>8)^(M<<25|L>>>7))>>>0,H=e[P-7],Pe=e[P-16],L=i+H[1]+s+Pe[1],e[P][0]=n+H[0]+o+Pe[0]+(L/4294967296>>>0)>>>0,e[P][1]=L>>>0;for(h=t[0][0],g=t[0][1],v=t[1][0],_=t[1][1],y=t[2][0],x=t[2][1],b=t[3][0],T=t[3][1],k=t[4][0],U=t[4][1],z=t[5][0],D=t[5][1],fe=t[6][0],Q=t[6][1],O=t[7][0],w=t[7][1],P=0;P<80;++P)c=((k>>>14|U<<18)^(k>>>18|U<<14)^(U>>>9|k<<23))>>>0,l=((k<<18|U>>>14)^(k<<14|U>>>18)^(U<<23|k>>>9))>>>0,f=(fe^k&(z^fe))>>>0,p=(Q^U&(D^Q))>>>0,a=((h>>>28|g<<4)^(g>>>2|h<<30)^(g>>>7|h<<25))>>>0,u=((h<<4|g>>>28)^(g<<30|h>>>2)^(g<<25|h>>>7))>>>0,m=(h&v|y&(h^v))>>>0,d=(g&_|x&(g^_))>>>0,L=w+l+p+kte[P][1]+e[P][1],n=O+c+f+kte[P][0]+e[P][0]+(L/4294967296>>>0)>>>0,i=L>>>0,L=u+d,o=a+m+(L/4294967296>>>0)>>>0,s=L>>>0,O=fe,w=Q,fe=z,Q=D,z=k,D=U,L=T+i,k=b+n+(L/4294967296>>>0)>>>0,U=L>>>0,b=y,T=x,y=v,x=_,v=h,_=g,L=i+s,h=n+o+(L/4294967296>>>0)>>>0,g=L>>>0;L=t[0][1]+g,t[0][0]=t[0][0]+h+(L/4294967296>>>0)>>>0,t[0][1]=L>>>0,L=t[1][1]+_,t[1][0]=t[1][0]+v+(L/4294967296>>>0)>>>0,t[1][1]=L>>>0,L=t[2][1]+x,t[2][0]=t[2][0]+y+(L/4294967296>>>0)>>>0,t[2][1]=L>>>0,L=t[3][1]+T,t[3][0]=t[3][0]+b+(L/4294967296>>>0)>>>0,t[3][1]=L>>>0,L=t[4][1]+U,t[4][0]=t[4][0]+k+(L/4294967296>>>0)>>>0,t[4][1]=L>>>0,L=t[5][1]+D,t[5][0]=t[5][0]+z+(L/4294967296>>>0)>>>0,t[5][1]=L>>>0,L=t[6][1]+Q,t[6][0]=t[6][0]+fe+(L/4294967296>>>0)>>>0,t[6][1]=L>>>0,L=t[7][1]+w,t[7][0]=t[7][0]+O+(L/4294967296>>>0)>>>0,t[7][1]=L>>>0,Ve-=128}}});var Nke=R(Ote=>{var Qpt=Ht();Al();var Bo=Qpt.asn1;Ote.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};Ote.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Bo.Class.UNIVERSAL,type:Bo.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Vke=R((SAr,jke)=>{var ds=Ht();ZR();Au();Lte();br();var Fke=Nke(),Jpt=Fke.publicKeyValidator,Zpt=Fke.privateKeyValidator;typeof Dke>"u"&&(Dke=ds.jsbn.BigInteger);var Dke,Ute=ds.util.ByteBuffer,Wa=typeof Buffer>"u"?Uint8Array:Buffer;ds.pki=ds.pki||{};jke.exports=ds.pki.ed25519=ds.ed25519=ds.ed25519||{};var er=ds.ed25519;er.constants={};er.constants.PUBLIC_KEY_BYTE_LENGTH=32;er.constants.PRIVATE_KEY_BYTE_LENGTH=64;er.constants.SEED_BYTE_LENGTH=32;er.constants.SIGN_BYTE_LENGTH=64;er.constants.HASH_BYTE_LENGTH=64;er.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=ds.random.getBytesSync(er.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==er.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+er.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ym({message:e,encoding:"binary"});for(var r=new Wa(er.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Wa(er.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return ndt(r,n),{publicKey:r,privateKey:n}};er.privateKeyFromAsn1=function(t){var e={},r=[],n=ds.asn1.validate(t,Zpt,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=ds.asn1.derToOid(e.privateKeyOid),s=ds.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=e.privateKey,u=ym({message:ds.asn1.fromDer(a).value,encoding:"binary"});return{privateKeyBytes:u}};er.publicKeyFromAsn1=function(t){var e={},r=[],n=ds.asn1.validate(t,Jpt,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var o=ds.asn1.derToOid(e.publicKeyOid),s=ds.oids.EdDSA25519;if(o!==s)throw new Error('Invalid OID "'+o+'"; OID must be "'+s+'".');var a=e.ed25519PublicKey;if(a.length!==er.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return ym({message:a,encoding:"binary"})};er.publicKeyFromPrivateKey=function(t){t=t||{};var e=ym({message:t.privateKey,encoding:"binary"});if(e.length!==er.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+er.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Wa(er.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};er.sign=function(t){t=t||{};var e=ym(t),r=ym({message:t.privateKey,encoding:"binary"});if(r.length===er.constants.SEED_BYTE_LENGTH){var n=er.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==er.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+er.constants.SEED_BYTE_LENGTH+" or "+er.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Wa(er.constants.SIGN_BYTE_LENGTH+e.length);idt(i,e,e.length,r);for(var o=new Wa(er.constants.SIGN_BYTE_LENGTH),s=0;s<o.length;++s)o[s]=i[s];return o};er.verify=function(t){t=t||{};var e=ym(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=ym({message:t.signature,encoding:"binary"});if(r.length!==er.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+er.constants.SIGN_BYTE_LENGTH);var n=ym({message:t.publicKey,encoding:"binary"});if(n.length!==er.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+er.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Wa(er.constants.SIGN_BYTE_LENGTH+e.length),o=new Wa(er.constants.SIGN_BYTE_LENGTH+e.length),s;for(s=0;s<er.constants.SIGN_BYTE_LENGTH;++s)i[s]=r[s];for(s=0;s<e.length;++s)i[s+er.constants.SIGN_BYTE_LENGTH]=e[s];return odt(o,i,i.length,n)>=0};function ym(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Wa)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new Ute(e,r)}else if(!(e instanceof Ute))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Wa(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}var Bte=ht(),r7=ht([1]),edt=ht([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),tdt=ht([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),kke=ht([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Lke=ht([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Mte=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),rdt=ht([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function iP(t,e){var r=ds.md.sha512.create(),n=new Ute(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var o=new Wa(er.constants.HASH_BYTE_LENGTH),s=0;s<64;++s)o[s]=i.charCodeAt(s);return o}function ndt(t,e){var r=[ht(),ht(),ht(),ht()],n,i=iP(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,jte(r,i),Gte(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function idt(t,e,r,n){var i,o,s=new Float64Array(64),a=[ht(),ht(),ht(),ht()],u=iP(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var c=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=u[32+i];var l=iP(t.subarray(32),r+32);for(qte(l),jte(a,l),Gte(t,a),i=32;i<64;++i)t[i]=n[i];var f=iP(t,r+64);for(qte(f),i=32;i<64;++i)s[i]=0;for(i=0;i<32;++i)s[i]=l[i];for(i=0;i<32;++i)for(o=0;o<32;o++)s[i+o]+=f[i]*u[o];return Uke(t.subarray(32),s),c}function odt(t,e,r,n){var i,o,s=new Wa(32),a=[ht(),ht(),ht(),ht()],u=[ht(),ht(),ht(),ht()];if(o=-1,r<64||sdt(u,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var c=iP(t,r);if(qte(c),Hke(a,u,c),jte(u,e.subarray(32)),Hte(a,u),Gte(s,a),r-=64,Bke(e,0,s,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return o=r,o}function Uke(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*Mte[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*Mte[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*Mte[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function qte(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;Uke(t,e)}function Hte(t,e){var r=ht(),n=ht(),i=ht(),o=ht(),s=ht(),a=ht(),u=ht(),c=ht(),l=ht();YS(r,t[1],t[0]),YS(l,e[1],e[0]),tn(r,r,l),zS(n,t[0],t[1]),zS(l,e[0],e[1]),tn(n,n,l),tn(i,t[3],e[3]),tn(i,i,tdt),tn(o,t[2],e[2]),zS(o,o,o),YS(s,n,r),YS(a,o,i),zS(u,o,i),zS(c,n,r),tn(t[0],s,a),tn(t[1],c,u),tn(t[2],u,a),tn(t[3],s,c)}function Oke(t,e,r){for(var n=0;n<4;++n)Gke(t[n],e[n],r)}function Gte(t,e){var r=ht(),n=ht(),i=ht();ldt(i,e[2]),tn(r,e[0],i),tn(n,e[1],i),n7(t,n),t[31]^=qke(r)<<7}function n7(t,e){var r,n,i,o=ht(),s=ht();for(r=0;r<16;++r)s[r]=e[r];for(Fte(s),Fte(s),Fte(s),n=0;n<2;++n){for(o[0]=s[0]-65517,r=1;r<15;++r)o[r]=s[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=s[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,Gke(s,o,1-i)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function sdt(t,e){var r=ht(),n=ht(),i=ht(),o=ht(),s=ht(),a=ht(),u=ht();return K0(t[2],r7),adt(t[1],e),E1(i,t[1]),tn(o,i,edt),YS(i,i,t[2]),zS(o,t[2],o),E1(s,o),E1(a,s),tn(u,a,s),tn(r,u,i),tn(r,r,o),cdt(r,r),tn(r,r,i),tn(r,r,o),tn(r,r,o),tn(t[0],r,o),E1(n,t[0]),tn(n,n,o),Mke(n,i)&&tn(t[0],t[0],rdt),E1(n,t[0]),tn(n,n,o),Mke(n,i)?-1:(qke(t[0])===e[31]>>7&&YS(t[0],Bte,t[0]),tn(t[3],t[0],t[1]),0)}function adt(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function cdt(t,e){var r=ht(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)E1(r,r),n!==1&&tn(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Mke(t,e){var r=new Wa(32),n=new Wa(32);return n7(r,t),n7(n,e),Bke(r,0,n,0)}function Bke(t,e,r,n){return udt(t,e,r,n,32)}function udt(t,e,r,n,i){var o,s=0;for(o=0;o<i;++o)s|=t[e+o]^r[n+o];return(1&s-1>>>8)-1}function qke(t){var e=new Wa(32);return n7(e,t),e[0]&1}function Hke(t,e,r){var n,i;for(K0(t[0],Bte),K0(t[1],r7),K0(t[2],r7),K0(t[3],Bte),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,Oke(t,e,n),Hte(e,t),Hte(t,t),Oke(t,e,n)}function jte(t,e){var r=[ht(),ht(),ht(),ht()];K0(r[0],kke),K0(r[1],Lke),K0(r[2],r7),tn(r[3],kke,Lke),Hke(t,r,e)}function K0(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function ldt(t,e){var r=ht(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)E1(r,r),n!==2&&n!==4&&tn(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Fte(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function Gke(t,e,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function ht(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function zS(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function YS(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function E1(t,e){tn(t,e,e)}function tn(t,e,r){var n,i,o=0,s=0,a=0,u=0,c=0,l=0,f=0,p=0,m=0,d=0,h=0,g=0,v=0,_=0,y=0,x=0,b=0,T=0,k=0,U=0,z=0,D=0,fe=0,Q=0,O=0,w=0,P=0,M=0,L=0,W=0,H=0,ae=r[0],Pe=r[1],Ve=r[2],lt=r[3],it=r[4],De=r[5],st=r[6],Tt=r[7],he=r[8],Me=r[9],N=r[10],G=r[11],te=r[12],ie=r[13],ne=r[14],Oe=r[15];n=e[0],o+=n*ae,s+=n*Pe,a+=n*Ve,u+=n*lt,c+=n*it,l+=n*De,f+=n*st,p+=n*Tt,m+=n*he,d+=n*Me,h+=n*N,g+=n*G,v+=n*te,_+=n*ie,y+=n*ne,x+=n*Oe,n=e[1],s+=n*ae,a+=n*Pe,u+=n*Ve,c+=n*lt,l+=n*it,f+=n*De,p+=n*st,m+=n*Tt,d+=n*he,h+=n*Me,g+=n*N,v+=n*G,_+=n*te,y+=n*ie,x+=n*ne,b+=n*Oe,n=e[2],a+=n*ae,u+=n*Pe,c+=n*Ve,l+=n*lt,f+=n*it,p+=n*De,m+=n*st,d+=n*Tt,h+=n*he,g+=n*Me,v+=n*N,_+=n*G,y+=n*te,x+=n*ie,b+=n*ne,T+=n*Oe,n=e[3],u+=n*ae,c+=n*Pe,l+=n*Ve,f+=n*lt,p+=n*it,m+=n*De,d+=n*st,h+=n*Tt,g+=n*he,v+=n*Me,_+=n*N,y+=n*G,x+=n*te,b+=n*ie,T+=n*ne,k+=n*Oe,n=e[4],c+=n*ae,l+=n*Pe,f+=n*Ve,p+=n*lt,m+=n*it,d+=n*De,h+=n*st,g+=n*Tt,v+=n*he,_+=n*Me,y+=n*N,x+=n*G,b+=n*te,T+=n*ie,k+=n*ne,U+=n*Oe,n=e[5],l+=n*ae,f+=n*Pe,p+=n*Ve,m+=n*lt,d+=n*it,h+=n*De,g+=n*st,v+=n*Tt,_+=n*he,y+=n*Me,x+=n*N,b+=n*G,T+=n*te,k+=n*ie,U+=n*ne,z+=n*Oe,n=e[6],f+=n*ae,p+=n*Pe,m+=n*Ve,d+=n*lt,h+=n*it,g+=n*De,v+=n*st,_+=n*Tt,y+=n*he,x+=n*Me,b+=n*N,T+=n*G,k+=n*te,U+=n*ie,z+=n*ne,D+=n*Oe,n=e[7],p+=n*ae,m+=n*Pe,d+=n*Ve,h+=n*lt,g+=n*it,v+=n*De,_+=n*st,y+=n*Tt,x+=n*he,b+=n*Me,T+=n*N,k+=n*G,U+=n*te,z+=n*ie,D+=n*ne,fe+=n*Oe,n=e[8],m+=n*ae,d+=n*Pe,h+=n*Ve,g+=n*lt,v+=n*it,_+=n*De,y+=n*st,x+=n*Tt,b+=n*he,T+=n*Me,k+=n*N,U+=n*G,z+=n*te,D+=n*ie,fe+=n*ne,Q+=n*Oe,n=e[9],d+=n*ae,h+=n*Pe,g+=n*Ve,v+=n*lt,_+=n*it,y+=n*De,x+=n*st,b+=n*Tt,T+=n*he,k+=n*Me,U+=n*N,z+=n*G,D+=n*te,fe+=n*ie,Q+=n*ne,O+=n*Oe,n=e[10],h+=n*ae,g+=n*Pe,v+=n*Ve,_+=n*lt,y+=n*it,x+=n*De,b+=n*st,T+=n*Tt,k+=n*he,U+=n*Me,z+=n*N,D+=n*G,fe+=n*te,Q+=n*ie,O+=n*ne,w+=n*Oe,n=e[11],g+=n*ae,v+=n*Pe,_+=n*Ve,y+=n*lt,x+=n*it,b+=n*De,T+=n*st,k+=n*Tt,U+=n*he,z+=n*Me,D+=n*N,fe+=n*G,Q+=n*te,O+=n*ie,w+=n*ne,P+=n*Oe,n=e[12],v+=n*ae,_+=n*Pe,y+=n*Ve,x+=n*lt,b+=n*it,T+=n*De,k+=n*st,U+=n*Tt,z+=n*he,D+=n*Me,fe+=n*N,Q+=n*G,O+=n*te,w+=n*ie,P+=n*ne,M+=n*Oe,n=e[13],_+=n*ae,y+=n*Pe,x+=n*Ve,b+=n*lt,T+=n*it,k+=n*De,U+=n*st,z+=n*Tt,D+=n*he,fe+=n*Me,Q+=n*N,O+=n*G,w+=n*te,P+=n*ie,M+=n*ne,L+=n*Oe,n=e[14],y+=n*ae,x+=n*Pe,b+=n*Ve,T+=n*lt,k+=n*it,U+=n*De,z+=n*st,D+=n*Tt,fe+=n*he,Q+=n*Me,O+=n*N,w+=n*G,P+=n*te,M+=n*ie,L+=n*ne,W+=n*Oe,n=e[15],x+=n*ae,b+=n*Pe,T+=n*Ve,k+=n*lt,U+=n*it,z+=n*De,D+=n*st,fe+=n*Tt,Q+=n*he,O+=n*Me,w+=n*N,P+=n*G,M+=n*te,L+=n*ie,W+=n*ne,H+=n*Oe,o+=38*b,s+=38*T,a+=38*k,u+=38*U,c+=38*z,l+=38*D,f+=38*fe,p+=38*Q,m+=38*O,d+=38*w,h+=38*P,g+=38*M,v+=38*L,_+=38*W,y+=38*H,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=v+i+65535,i=Math.floor(n/65536),v=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=p,t[8]=m,t[9]=d,t[10]=h,t[11]=g,t[12]=v,t[13]=_,t[14]=y,t[15]=x}});var Wke=R((CAr,$ke)=>{var Nc=Ht();br();Au();ZR();$ke.exports=Nc.kem=Nc.kem||{};var zke=Nc.jsbn.BigInteger;Nc.kem.rsa={};Nc.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||Nc.random,n={};return n.encrypt=function(i,o){var s=Math.ceil(i.n.bitLength()/8),a;do a=new zke(Nc.util.bytesToHex(r.getBytesSync(s)),16).mod(i.n);while(a.compareTo(zke.ONE)<=0);a=Nc.util.hexToBytes(a.toString(16));var u=s-a.length;u>0&&(a=Nc.util.fillString("\0",u)+a);var c=i.encrypt(a,"NONE"),l=t.generate(a,o);return{encapsulation:c,key:l}},n.decrypt=function(i,o,s){var a=i.decrypt(o,"NONE");return t.generate(a,s)},n};Nc.kem.kdf1=function(t,e){Yke(this,t,0,e||t.digestLength)};Nc.kem.kdf2=function(t,e){Yke(this,t,1,e||t.digestLength)};function Yke(t,e,r,n){t.generate=function(i,o){for(var s=new Nc.util.ByteBuffer,a=Math.ceil(o/n)+r,u=new Nc.util.ByteBuffer,c=r;c<a;++c){u.putInt32(c),e.start(),e.update(i+u.getBytes());var l=e.digest();s.putBytes(l.getBytes(n))}return s.truncate(s.length()-o),s.getBytes()}}});var Jke=R((IAr,Qke)=>{var ir=Ht();br();Qke.exports=ir.log=ir.log||{};ir.log.levels=["none","error","warning","info","debug","verbose","max"];var i7={},Yte=[],sP=null;ir.log.LEVEL_LOCKED=2;ir.log.NO_LEVEL_CHECK=4;ir.log.INTERPOLATE=8;for(Tp=0;Tp<ir.log.levels.length;++Tp)Vte=ir.log.levels[Tp],i7[Vte]={index:Tp,name:Vte.toUpperCase()};var Vte,Tp;ir.log.logMessage=function(t){for(var e=i7[t.level].index,r=0;r<Yte.length;++r){var n=Yte[r];if(n.flags&ir.log.NO_LEVEL_CHECK)n.f(t);else{var i=i7[n.level].index;e<=i&&n.f(n,t)}}};ir.log.prepareStandard=function(t){"standard"in t||(t.standard=i7[t.level].name+" ["+t.category+"] "+t.message)};ir.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=ir.util.format.apply(this,e)}};ir.log.prepareStandardFull=function(t){"standardFull"in t||(ir.log.prepareStandard(t),t.standardFull=t.standard)};for(zte=["error","warning","info","debug","verbose"],Tp=0;Tp<zte.length;++Tp)(function(e){ir.log[e]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:e,category:r,message:n,arguments:i};ir.log.logMessage(o)}})(zte[Tp]);var zte,Tp;ir.log.makeLogger=function(t){var e={flags:0,f:t};return ir.log.setLevel(e,"none"),e};ir.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&ir.log.LEVEL_LOCKED))for(var n=0;n<ir.log.levels.length;++n){var i=ir.log.levels[n];if(e==i){t.level=e,r=!0;break}}return r};ir.log.lock=function(t,e){typeof e>"u"||e?t.flags|=ir.log.LEVEL_LOCKED:t.flags&=~ir.log.LEVEL_LOCKED};ir.log.addLogger=function(t){Yte.push(t)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(Kke={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},aP=function(t,e){ir.log.prepareStandard(e);var r=Kke[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)},$S=ir.log.makeLogger(aP)):(aP=function(e,r){ir.log.prepareStandardFull(r),console.log(r.standardFull)},$S=ir.log.makeLogger(aP)),ir.log.setLevel($S,"debug"),ir.log.addLogger($S),sP=$S):console={log:function(){}};var $S,Kke,aP;sP!==null&&typeof window<"u"&&window.location&&(oP=new URL(window.location.href).searchParams,oP.has("console.level")&&ir.log.setLevel(sP,oP.get("console.level").slice(-1)[0]),oP.has("console.lock")&&(Xke=oP.get("console.lock").slice(-1)[0],Xke=="true"&&ir.log.lock(sP)));var oP,Xke;ir.log.consoleLogger=sP});var e4e=R((wAr,Zke)=>{Zke.exports=hp();F9();qS();ote();Lte()});var n4e=R((AAr,r4e)=>{var Fe=Ht();H0();Al();QR();G0();h1();yte();Au();br();Q9();var j=Fe.asn1,ca=r4e.exports=Fe.pkcs7=Fe.pkcs7||{};ca.messageFromPem=function(t){var e=Fe.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=j.fromDer(e.body);return ca.messageFromAsn1(n)};ca.messageToPem=function(t,e){var r={type:"PKCS7",body:j.toDer(t.toAsn1()).getBytes()};return Fe.pem.encode(r,{maxline:e})};ca.messageFromAsn1=function(t){var e={},r=[];if(!j.validate(t,ca.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=j.derToOid(e.contentType),o;switch(i){case Fe.pki.oids.envelopedData:o=ca.createEnvelopedData();break;case Fe.pki.oids.encryptedData:o=ca.createEncryptedData();break;case Fe.pki.oids.signedData:o=ca.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return o.fromAsn1(e.content.value[0]),o};ca.createSignedData=function(){var t=null;return t={type:Fe.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(Wte(t,n,ca.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var i=t.rawCapture.certificates.value,o=0;o<i.length;++o)t.certificates.push(Fe.pki.certificateFromAsn1(i[o]))},toAsn1:function(){t.contentInfo||t.sign();for(var n=[],i=0;i<t.certificates.length;++i)n.push(Fe.pki.certificateToAsn1(t.certificates[i]));var o=[],s=j.create(j.Class.CONTEXT_SPECIFIC,0,!0,[j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,j.integerToDer(t.version).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&s.value[0].value.push(j.create(j.Class.CONTEXT_SPECIFIC,0,!0,n)),o.length>0&&s.value[0].value.push(j.create(j.Class.CONTEXT_SPECIFIC,1,!0,o)),s.value[0].value.push(j.create(j.Class.UNIVERSAL,j.Type.SET,!0,t.signerInfos)),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.type).getBytes()),s])},addSigner:function(n){var i=n.issuer,o=n.serialNumber;if(n.certificate){var s=n.certificate;typeof s=="string"&&(s=Fe.pki.certificateFromPem(s)),i=s.issuer.attributes,o=s.serialNumber}var a=n.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof a=="string"&&(a=Fe.pki.privateKeyFromPem(a));var u=n.digestAlgorithm||Fe.pki.oids.sha1;switch(u){case Fe.pki.oids.sha1:case Fe.pki.oids.sha256:case Fe.pki.oids.sha384:case Fe.pki.oids.sha512:case Fe.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var c=n.authenticatedAttributes||[];if(c.length>0){for(var l=!1,f=!1,p=0;p<c.length;++p){var m=c[p];if(!l&&m.type===Fe.pki.oids.contentType){if(l=!0,f)break;continue}if(!f&&m.type===Fe.pki.oids.messageDigest){if(f=!0,l)break;continue}}if(!l||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:a,version:1,issuer:i,serialNumber:o,digestAlgorithm:u,signatureAlgorithm:Fe.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:c,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(Fe.pki.oids.data).getBytes())]),"content"in t)){var i;t.content instanceof Fe.util.ByteBuffer?i=t.content.bytes():typeof t.content=="string"&&(i=Fe.util.encodeUtf8(t.content)),n.detached?t.detachedContent=j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,i):t.contentInfo.value.push(j.create(j.Class.CONTEXT_SPECIFIC,0,!0,[j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,i)]))}if(t.signers.length!==0){var o=e();r(o)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Fe.pki.certificateFromPem(n)),t.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},t;function e(){for(var n={},i=0;i<t.signers.length;++i){var o=t.signers[i],s=o.digestAlgorithm;s in n||(n[s]=Fe.md[Fe.pki.oids[s]].create()),o.authenticatedAttributes.length===0?o.md=n[s]:o.md=Fe.md[Fe.pki.oids[s]].create()}t.digestAlgorithmIdentifiers=[];for(var s in n)t.digestAlgorithmIdentifiers.push(j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(s).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,!1,"")]));return n}function r(n){var i;if(t.detachedContent?i=t.detachedContent:(i=t.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=j.derToOid(t.contentInfo.value[0].value),s=j.toDer(i);s.getByte(),j.getBerValueLength(s),s=s.getBytes();for(var a in n)n[a].start().update(s);for(var u=new Date,c=0;c<t.signers.length;++c){var l=t.signers[c];if(l.authenticatedAttributes.length===0){if(o!==Fe.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{l.authenticatedAttributesAsn1=j.create(j.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=j.create(j.Class.UNIVERSAL,j.Type.SET,!0,[]),p=0;p<l.authenticatedAttributes.length;++p){var m=l.authenticatedAttributes[p];m.type===Fe.pki.oids.messageDigest?m.value=n[l.digestAlgorithm].digest():m.type===Fe.pki.oids.signingTime&&(m.value||(m.value=u)),f.value.push($te(m)),l.authenticatedAttributesAsn1.value.push($te(m))}s=j.toDer(f).getBytes(),l.md.start().update(s)}l.signature=l.key.sign(l.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=gdt(t.signers)}};ca.createEncryptedData=function(){var t=null;return t={type:Fe.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Fe.pki.oids["aes256-CBC"]},fromAsn1:function(e){Wte(t,e,ca.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(t.encryptedContent.key=e),t4e(t)}},t};ca.createEnvelopedData=function(){var t=null;return t={type:Fe.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Fe.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=Wte(t,e,ca.asn1.envelopedDataValidator);t.recipients=ddt(r.recipientInfos.value)},toAsn1:function(){return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.type).getBytes()),j.create(j.Class.CONTEXT_SPECIFIC,0,!0,[j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,j.integerToDer(t.version).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SET,!0,mdt(t.recipients)),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,vdt(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],o=i.issuer;if(i.serialNumber===e.serialNumber&&o.length===r.length){for(var s=!0,a=0;a<r.length;++a)if(o[a].type!==r[a].type||o[a].value!==r[a].value){s=!1;break}if(s)return i}}return null},decrypt:function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case Fe.pki.oids.rsaEncryption:case Fe.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=Fe.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}t4e(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:Fe.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,i,o;switch(r){case Fe.pki.oids["aes128-CBC"]:n=16,i=16,o=Fe.aes.createEncryptionCipher;break;case Fe.pki.oids["aes192-CBC"]:n=24,i=16,o=Fe.aes.createEncryptionCipher;break;case Fe.pki.oids["aes256-CBC"]:n=32,i=16,o=Fe.aes.createEncryptionCipher;break;case Fe.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=Fe.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=Fe.util.createBuffer(Fe.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=Fe.util.createBuffer(Fe.random.getBytes(i));var s=o(e);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var a=0;a<t.recipients.length;++a){var u=t.recipients[a];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case Fe.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}},t};function fdt(t){var e={},r=[];if(!j.validate(t,ca.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:Fe.pki.RDNAttributesAsArray(e.issuer),serialNumber:Fe.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:j.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}function pdt(t){return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,j.integerToDer(t.version).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[Fe.pki.distinguishedNameToAsn1({attributes:t.issuer}),j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,Fe.util.hexToBytes(t.serialNumber))]),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.encryptedContent.algorithm).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,!1,"")]),j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function ddt(t){for(var e=[],r=0;r<t.length;++r)e.push(fdt(t[r]));return e}function mdt(t){for(var e=[],r=0;r<t.length;++r)e.push(pdt(t[r]));return e}function hdt(t){var e=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,j.integerToDer(t.version).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[Fe.pki.distinguishedNameToAsn1({attributes:t.issuer}),j.create(j.Class.UNIVERSAL,j.Type.INTEGER,!1,Fe.util.hexToBytes(t.serialNumber))]),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.digestAlgorithm).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.signatureAlgorithm).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,!1,"")])),e.value.push(j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=j.create(j.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var i=t.unauthenticatedAttributes[n];r.values.push($te(i))}e.value.push(r)}return e}function gdt(t){for(var e=[],r=0;r<t.length;++r)e.push(hdt(t[r]));return e}function $te(t){var e;if(t.type===Fe.pki.oids.contentType)e=j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.value).getBytes());else if(t.type===Fe.pki.oids.messageDigest)e=j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===Fe.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=t.value;if(typeof i=="string"){var o=Date.parse(i);isNaN(o)?i.length===13?i=j.utcTimeToDate(i):i=j.generalizedTimeToDate(i):i=new Date(o)}i>=r&&i<n?e=j.create(j.Class.UNIVERSAL,j.Type.UTCTIME,!1,j.dateToUtcTime(i)):e=j.create(j.Class.UNIVERSAL,j.Type.GENERALIZEDTIME,!1,j.dateToGeneralizedTime(i))}return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.type).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SET,!0,[e])])}function vdt(t){return[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(Fe.pki.oids.data).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,!0,[j.create(j.Class.UNIVERSAL,j.Type.OID,!1,j.oidToDer(t.algorithm).getBytes()),t.parameter?j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),j.create(j.Class.CONTEXT_SPECIFIC,0,!0,[j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,!1,t.content.getBytes())])]}function Wte(t,e,r){var n={},i=[];if(!j.validate(e,r,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}var s=j.derToOid(n.contentType);if(s!==Fe.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var a="";if(Fe.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==j.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=n.encryptedContent[u].value}else a=n.encryptedContent;t.encryptedContent={algorithm:j.derToOid(n.encAlgorithm),parameter:Fe.util.createBuffer(n.encParameter.value),content:Fe.util.createBuffer(a)}}if(n.content){var a="";if(Fe.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==j.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=n.content[u].value}else a=n.content;t.content=Fe.util.createBuffer(a)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}function t4e(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case Fe.pki.oids["aes128-CBC"]:case Fe.pki.oids["aes192-CBC"]:case Fe.pki.oids["aes256-CBC"]:e=Fe.aes.createDecryptionCipher(t.encryptedContent.key);break;case Fe.pki.oids.desCBC:case Fe.pki.oids["des-EDE3-CBC"]:e=Fe.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}});var o4e=R((RAr,i4e)=>{var Ki=Ht();H0();OS();F9();qS();br();var s7=i4e.exports=Ki.ssh=Ki.ssh||{};s7.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",i=e===""?"none":"aes256-cbc",o="PuTTY-User-Key-File-2: "+n+`\r
`;o+="Encryption: "+i+`\r
`,o+="Comment: "+r+`\r
`;var s=Ki.util.createBuffer();WS(s,n),Sp(s,t.e),Sp(s,t.n);var a=Ki.util.encode64(s.bytes(),64),u=Math.floor(a.length/66)+1;o+="Public-Lines: "+u+`\r
`,o+=a;var c=Ki.util.createBuffer();Sp(c,t.d),Sp(c,t.p),Sp(c,t.q),Sp(c,t.qInv);var l;if(!e)l=Ki.util.encode64(c.bytes(),64);else{var f=c.length()+16-1;f-=f%16;var p=o7(c.bytes());p.truncate(p.length()-f+c.length()),c.putBuffer(p);var m=Ki.util.createBuffer();m.putBuffer(o7("\0\0\0\0",e)),m.putBuffer(o7("\0\0\0",e));var d=Ki.aes.createEncryptionCipher(m.truncate(8),"CBC");d.start(Ki.util.createBuffer().fillWithByte(0,16)),d.update(c.copy()),d.finish();var h=d.output;h.truncate(16),l=Ki.util.encode64(h.bytes(),64)}u=Math.floor(l.length/66)+1,o+=`\r
Private-Lines: `+u+`\r
`,o+=l;var g=o7("putty-private-key-file-mac-key",e),v=Ki.util.createBuffer();WS(v,n),WS(v,i),WS(v,r),v.putInt32(s.length()),v.putBuffer(s),v.putInt32(c.length()),v.putBuffer(c);var _=Ki.hmac.create();return _.start("sha1",g),_.update(v.bytes()),o+=`\r
Private-MAC: `+_.digest().toHex()+`\r
`,o};s7.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=Ki.util.createBuffer();return WS(n,r),Sp(n,t.e),Sp(n,t.n),r+" "+Ki.util.encode64(n.bytes())+" "+e};s7.privateKeyToOpenSSH=function(t,e){return e?Ki.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):Ki.pki.privateKeyToPem(t)};s7.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Ki.md.md5.create(),n="ssh-rsa",i=Ki.util.createBuffer();WS(i,n),Sp(i,t.e),Sp(i,t.n),r.start(),r.update(i.getBytes());var o=r.digest();if(e.encoding==="hex"){var s=o.toHex();return e.delimiter?s.match(/.{2}/g).join(e.delimiter):s}else{if(e.encoding==="binary")return o.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return o};function Sp(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=Ki.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}function WS(t,e){t.putInt32(e.length),t.putString(e)}function o7(){for(var t=Ki.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}});var a4e=R((PAr,s4e)=>{s4e.exports=Ht();H0();Ike();Al();P9();QR();Vke();OS();Wke();Jke();e4e();bte();H9();h1();mte();Tte();n4e();Cte();gte();ste();W9();Au();ute();o4e();Nte();br()});var c4e=R((NAr,_dt)=>{_dt.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var f4e=R((DAr,Kte)=>{var c7=a4e(),u4e=c4e(),a7=Kte.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function l4e(t){let e=c7.pki.pemToDer(t),r=c7.asn1,n=r.fromDer(e.data.toString("binary")).value[0].value,i=n[0],o=i.tagClass===r.Class.CONTEXT_SPECIFIC&&i.type===0&&i.constructed,s=n.slice(o);return{serial:s[0],issuer:s[2],valid:s[3],subject:s[4]}}function ydt(t){let e=l4e(t),r=new Date,n=e.subject.value.map(s=>s.value[0].value[1].value).join("/"),i=e.valid.value.map(s=>s.value).join(" - "),o=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${i}`,`Saved	${r.toLocaleDateString()} ${o} by ${u4e.name}@${u4e.version}`,String(t)].join(`
`)}Kte.exports.transform=function(t){return function(e){try{switch(t){case a7.der:return c7.pki.pemToDer(e);case a7.pem:return e;case a7.txt:return ydt(e);case a7.asn1:return l4e(e);default:return c7.pki.certificateFromPem(e)}}catch{return}}}});var p4e=R((kAr,KS)=>{var Xte=require("https"),Qte=f4e();if(process.platform!=="darwin")KS.exports.all=()=>[],KS.exports.each=()=>{};else{let a=function(c,l,f){return f.indexOf(c)===l};bdt=a;let t=require("child_process"),e=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],i=t.spawnSync("/usr/bin/security",n).stdout.toString().split(e),o=t.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(e);Xte.globalAgent.options.ca=Xte.globalAgent.options.ca||[];let s=Xte.globalAgent.options.ca,u=i.concat(o);u.filter(a).forEach(c=>s.push(c)),KS.exports.der2=Qte.validFormats,KS.exports.all=function(c){return u.map(Qte.transform(c)).filter(l=>l)},KS.exports.each=function(c,l){return typeof c=="function"&&(l=c,c=void 0),u.map(Qte.transform(c)).filter(f=>f).forEach(l)}}var bdt});var vre=R((oRr,x4e)=>{var cP=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Rdt=typeof AbortController=="function",f7=Rdt?AbortController:class{constructor(){this.signal=new _4e}abort(){this.signal.dispatchEvent("abort")}},Pdt=typeof AbortSignal=="function",Ndt=typeof f7.AbortSignal=="function",_4e=Pdt?AbortSignal:Ndt?f7.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if(e==="abort"){this.aborted=!0;let r={type:e,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(e,r){e==="abort"&&this._listeners.push(r)}removeEventListener(e,r){e==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},hre=new Set,pre=(t,e)=>{let r=`LRU_CACHE_OPTION_${t}`;p7(r)&&gre(r,`${t} option`,`options.${e}`,QS)},dre=(t,e)=>{let r=`LRU_CACHE_METHOD_${t}`;if(p7(r)){let{prototype:n}=QS,{get:i}=Object.getOwnPropertyDescriptor(n,t);gre(r,`${t} method`,`cache.${e}()`,i)}},Ddt=(t,e)=>{let r=`LRU_CACHE_PROPERTY_${t}`;if(p7(r)){let{prototype:n}=QS,{get:i}=Object.getOwnPropertyDescriptor(n,t);gre(r,`${t} property`,`cache.${e}`,i)}},y4e=(...t)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...t):console.error(...t)},p7=t=>!hre.has(t),gre=(t,e,r,n)=>{hre.add(t);let i=`The ${e} is deprecated. Please use ${r} instead.`;y4e(i,"DeprecationWarning",t,n)},T1=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),b4e=t=>T1(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?XS:null:null,XS=class extends Array{constructor(e){super(e),this.fill(0)}},mre=class{constructor(e){if(e===0)return[];let r=b4e(e);this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},QS=class t{constructor(e={}){let{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:o,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:u,dispose:c,disposeAfter:l,noDisposeOnSet:f,noUpdateTTL:p,maxSize:m=0,sizeCalculation:d,fetchMethod:h,fetchContext:g,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:_}=e,{length:y,maxAge:x,stale:b}=e instanceof t?{}:e;if(r!==0&&!T1(r))throw new TypeError("max option must be a nonnegative integer");let T=r?b4e(r):Array;if(!T)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=d||y,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=h||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=g,!this.fetchMethod&&g!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new T(r),this.prev=new T(r),this.head=0,this.tail=0,this.free=new mre(r),this.initialFill=1,this.size=0,typeof c=="function"&&(this.dispose=c),typeof l=="function"?(this.disposeAfter=l,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!v,this.maxSize!==0){if(!T1(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!b,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=T1(i)||i===0?i:1,this.ttlAutopurge=!!o,this.ttl=n||x||0,this.ttl){if(!T1(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let k="LRU_CACHE_UNBOUNDED";p7(k)&&(hre.add(k),y4e("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",k,t))}b&&pre("stale","allowStale"),x&&pre("maxAge","ttl"),y&&pre("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new XS(this.max),this.starts=new XS(this.max),this.setItemTTL=(n,i,o=cP.now())=>{if(this.starts[n]=i!==0?o:0,this.ttls[n]=i,i!==0&&this.ttlAutopurge){let s=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},i+1);s.unref&&s.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?cP.now():0};let e=0,r=()=>{let n=cP.now();if(this.ttlResolution>0){e=n;let i=setTimeout(()=>e=0,this.ttlResolution);i.unref&&i.unref()}return n};this.getRemainingTTL=n=>{let i=this.keyMap.get(n);return i===void 0?0:this.ttls[i]===0||this.starts[i]===0?1/0:this.starts[i]+this.ttls[i]-(e||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(e||r())-this.starts[n]>this.ttls[n]}updateItemAge(e){}setItemTTL(e,r,n){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new XS(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,r,n,i)=>{if(!T1(n))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(n=i(r,e),!T1(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(e,r)=>{this.sizes[e]=r;let n=this.maxSize-this.sizes[e];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,r){}requireSize(e,r,n,i){if(n||i)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((e||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(let e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(let e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(let e of this.indexes())yield this.keyList[e]}*rkeys(){for(let e of this.rindexes())yield this.keyList[e]}*values(){for(let e of this.indexes())yield this.valList[e]}*rvalues(){for(let e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,r={}){for(let n of this.indexes())if(e(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(e,r=this){for(let n of this.indexes())e.call(r,this.valList[n],this.keyList[n],this)}rforEach(e,r=this){for(let n of this.rindexes())e.call(r,this.valList[n],this.keyList[n],this)}get prune(){return dre("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),e=!0);return e}dump(){let e=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],i=this.valList[r],s={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){s.ttl=this.ttls[r];let a=cP.now()-this.starts[r];s.start=Math.floor(Date.now()-a)}this.sizes&&(s.size=this.sizes[r]),e.unshift([n,s])}return e}load(e){this.clear();for(let[r,n]of e){if(n.start){let i=Date.now()-n.start;n.start=cP.now()-i}this.set(r,n.value,n)}}dispose(e,r,n){}set(e,r,{ttl:n=this.ttl,start:i,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL}={}){if(s=this.requireSize(e,r,s,a),this.maxSize&&s>this.maxSize)return this;let c=this.size===0?void 0:this.keyMap.get(e);if(c===void 0)c=this.newIndex(),this.keyList[c]=e,this.valList[c]=r,this.keyMap.set(e,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,s),u=!1;else{let l=this.valList[c];r!==l&&(this.isBackgroundFetch(l)?l.__abortController.abort():o||(this.dispose(l,e,"set"),this.disposeAfter&&this.disposed.push([l,e,"set"])),this.removeItemSize(c),this.valList[c]=r,this.addItemSize(c,s)),this.moveToTail(c)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(c,n,i),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let e=this.valList[this.head];return this.evict(!0),e}}evict(e){let r=this.head,n=this.keyList[r],i=this.valList[r];return this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,n,"evict"),this.disposeAfter&&this.disposed.push([i,n,"evict"])),this.removeItemSize(r),e&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(e,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(e);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(e,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(e);if(n!==void 0&&(r||!this.isStale(n))){let i=this.valList[n];return this.isBackgroundFetch(i)?i.__staleWhileFetching:i}}backgroundFetch(e,r,n,i){let o=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(o))return o;let s=new f7,a={signal:s.signal,options:n,context:i},u=p=>(s.signal.aborted||this.set(e,p,a.options),p),c=p=>{if(this.valList[r]===f&&(!n.noDeleteOnFetchRejection||f.__staleWhileFetching===void 0?this.delete(e):this.valList[r]=f.__staleWhileFetching),f.__returned===f)throw p},l=p=>p(this.fetchMethod(e,o,a)),f=new Promise(l).then(u,c);return f.__abortController=s,f.__staleWhileFetching=o,f.__returned=null,r===void 0?(this.set(e,f,a.options),r=this.keyMap.get(e)):this.valList[r]=f,f}isBackgroundFetch(e){return e&&typeof e=="object"&&typeof e.then=="function"&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||e.__returned===null)}async fetch(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,fetchContext:f=this.fetchContext,forceRefresh:p=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:u,noUpdateTTL:c,noDeleteOnFetchRejection:l},d=this.keyMap.get(e);if(d===void 0){let h=this.backgroundFetch(e,d,m,f);return h.__returned=h}else{let h=this.valList[d];if(this.isBackgroundFetch(h))return r&&h.__staleWhileFetching!==void 0?h.__staleWhileFetching:h.__returned=h;if(!p&&!this.isStale(d))return this.moveToTail(d),n&&this.updateItemAge(d),h;let g=this.backgroundFetch(e,d,m,f);return r&&g.__staleWhileFetching!==void 0?g.__staleWhileFetching:g.__returned=g}}get(e,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet}={}){let o=this.keyMap.get(e);if(o!==void 0){let s=this.valList[o],a=this.isBackgroundFetch(s);return this.isStale(o)?a?r?s.__staleWhileFetching:void 0:(i||this.delete(e),r?s:void 0):a?void 0:(this.moveToTail(o),n&&this.updateItemAge(o),s)}}connect(e,r){this.prev[r]=e,this.next[e]=r}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return dre("del","delete"),this.delete}delete(e){let r=!1;if(this.size!==0){let n=this.keyMap.get(e);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let i=this.valList[n];this.isBackgroundFetch(i)?i.__abortController.abort():(this.dispose(i,e,"delete"),this.disposeAfter&&this.disposed.push([i,e,"delete"])),this.keyMap.delete(e),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let e of this.rindexes({allowStale:!0})){let r=this.valList[e];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[e];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return dre("reset","clear"),this.clear}get length(){return Ddt("length","size"),this.size}static get AbortController(){return f7}static get AbortSignal(){return _4e}};x4e.exports=QS});var bre=R((sRr,E4e)=>{"use strict";var uP=class extends Error{constructor(e,r){super(e),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}},_re=class extends uP{constructor(e,r,n){super(e,r),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}},yre=class extends uP{constructor(e,r="aborted"){super(e,r)}};E4e.exports={FetchBaseError:uP,FetchError:_re,AbortError:yre}});var xm=R((aRr,S4e)=>{"use strict";var{constants:{MAX_LENGTH:kdt}}=require("buffer"),{pipeline:d7,PassThrough:Ldt}=require("stream"),{promisify:Odt}=require("util"),{createGunzip:Mdt,createInflate:Fdt,createBrotliDecompress:Udt,constants:{Z_SYNC_FLUSH:T4e}}=require("zlib"),Bdt=ou()("helix-fetch:utils"),qdt=Odt(d7),Hdt=(t,e)=>t===204||t===304||+e["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(e["content-encoding"]),Gdt=(t,e,r,n)=>{if(!Hdt(t,e))return r;let i=o=>{o&&(Bdt(`encountered error while decoding stream: ${o}`),n(o))};switch(e["content-encoding"].trim()){case"gzip":case"x-gzip":return d7(r,Mdt({flush:T4e,finishFlush:T4e}),i);case"deflate":case"x-deflate":return d7(r,Fdt(),i);case"br":return d7(r,Udt(),i);default:return r}},jdt=t=>{if(!t||typeof t!="object"||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},m7=(t,e)=>{if(Buffer.isBuffer(t))return t.length;switch(typeof t){case"string":return t.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(t)?Symbol.keyFor(t).length*2:(t.toString().length-8)*2;case"object":return Array.isArray(t)?Vdt(t,e):zdt(t,e);default:return 0}},Vdt=(t,e)=>(e.add(t),t.map(r=>e.has(r)?0:m7(r,e)).reduce((r,n)=>r+n,0)),zdt=(t,e)=>{if(t==null)return 0;e.add(t);let r=0,n=[];for(let i in t)n.push(i);return n.push(...Object.getOwnPropertySymbols(t)),n.forEach(i=>{if(r+=m7(i,e),typeof t[i]=="object"&&t[i]!==null){if(e.has(t[i]))return;e.add(t[i])}r+=m7(t[i],e)}),r},Ydt=t=>m7(t,new WeakSet),$dt=async t=>{let e=new Ldt,r=0,n=[];return e.on("data",i=>{if(r+i.length>kdt)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(i),r+=i.length}),await qdt(t,e),Buffer.concat(n,r)};S4e.exports={decodeStream:Gdt,isPlainObject:jdt,sizeof:Ydt,streamToBuffer:$dt}});var g7=R((cRr,A4e)=>{"use strict";var{PassThrough:C4e,Readable:Em}=require("stream"),{types:{isAnyArrayBuffer:w4e}}=require("util"),{FetchError:Wdt,FetchBaseError:Kdt}=bre(),{streamToBuffer:Xdt}=xm(),Qdt=Buffer.alloc(0),Lu=Symbol("Body internals"),Jdt=t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),I4e=async t=>{if(t[Lu].disturbed)throw new TypeError("Already read");if(t[Lu].error)throw new TypeError(`Stream had error: ${t[Lu].error.message}`);t[Lu].disturbed=!0;let{stream:e}=t[Lu];return e===null?Qdt:Xdt(e)},h7=class{constructor(e){let r;e==null?r=null:e instanceof URLSearchParams?r=Em.from(e.toString()):e instanceof Em?r=e:Buffer.isBuffer(e)?r=Em.from(e):w4e(e)?r=Em.from(Buffer.from(e)):typeof e=="string"||e instanceof String?r=Em.from(e):r=Em.from(String(e)),this[Lu]={stream:r,disturbed:!1,error:null},e instanceof Em&&r.on("error",n=>{let i=n instanceof Kdt?n:new Wdt(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[Lu].error=i})}get body(){return this[Lu].stream}get bodyUsed(){return this[Lu].disturbed}async buffer(){return I4e(this)}async arrayBuffer(){return Jdt(await this.buffer())}async text(){return(await I4e(this)).toString()}async json(){return JSON.parse(await this.text())}};Object.defineProperties(h7.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var Zdt=t=>{if(t[Lu].disturbed)throw new TypeError("Cannot clone: already read");let{stream:e}=t[Lu],r=e;if(e instanceof Em){r=new C4e;let n=new C4e;e.pipe(r),e.pipe(n),t[Lu].stream=n}return r},emt=t=>t===null?null:typeof t=="string"?"text/plain; charset=utf-8":t instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(t)||w4e(t)||t instanceof Em?null:"text/plain; charset=utf-8";A4e.exports={Body:h7,cloneStream:Zdt,guessContentType:emt}});var JS=R((uRr,D4e)=>{"use strict";var{validateHeaderName:R4e,validateHeaderValue:P4e}=require("http"),{isPlainObject:tmt}=xm(),Tm=Symbol("Headers internals"),lP=t=>{let e=typeof t!="string"?String(t):t;if(typeof R4e=="function")R4e(e);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let r=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return e.toLowerCase()},N4e=(t,e)=>{let r=typeof t!="string"?String(t):t;if(typeof P4e=="function")P4e(e,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},v7=class t{constructor(e={}){if(this[Tm]={map:new Map},e instanceof t)e.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(e))e.forEach(([r,n])=>{this.append(r,n)});else if(tmt(e))for(let[r,n]of Object.entries(e))this.append(r,n)}set(e,r){this[Tm].map.set(lP(e),N4e(r,e))}has(e){return this[Tm].map.has(lP(e))}get(e){let r=this[Tm].map.get(lP(e));return r===void 0?null:r}append(e,r){let n=lP(e),i=N4e(r,e),o=this[Tm].map.get(n);this[Tm].map.set(n,o?`${o}, ${i}`:i)}delete(e){this[Tm].map.delete(lP(e))}forEach(e,r){for(let n of this.keys())e.call(r,this.get(n),n)}keys(){return Array.from(this[Tm].map.keys()).sort()}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[Tm].map)}};Object.defineProperties(v7.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((t,e)=>(t[e]={enumerable:!0},t),{}));D4e.exports={Headers:v7}});var xre=R((lRr,k4e)=>{"use strict";var{EventEmitter:rmt}=require("events"),Pl=Symbol("AbortSignal internals"),ZS=class{constructor(){this[Pl]={eventEmitter:new rmt,onabort:null,aborted:!1}}get aborted(){return this[Pl].aborted}get onabort(){return this[Pl].onabort}set onabort(e){this[Pl].onabort=e}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(e,r){this[Pl].eventEmitter.removeListener(e,r)}addEventListener(e,r){this[Pl].eventEmitter.on(e,r)}dispatchEvent(e){let r={type:e,target:this},n=`on${e}`;typeof this[Pl][n]=="function"&&this[n](r),this[Pl].eventEmitter.emit(e,r)}fire(){this[Pl].aborted=!0,this.dispatchEvent("abort")}};Object.defineProperties(ZS.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var y7=class extends ZS{constructor(e){if(!Number.isInteger(e))throw new TypeError(`Expected an integer, got ${typeof e}`);super(),this[Pl].timerId=setTimeout(()=>{this.fire()},e)}clear(){clearTimeout(this[Pl].timerId)}};Object.defineProperties(y7.prototype,{clear:{enumerable:!0}});var _7=Symbol("AbortController internals"),b7=class{constructor(){this[_7]={signal:new ZS}}get signal(){return this[_7].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[_7].signal.aborted||this[_7].signal.fire()}};Object.defineProperties(b7.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});k4e.exports={AbortController:b7,AbortSignal:ZS,TimeoutSignal:y7}});var fP=R((fRr,M4e)=>{"use strict";var{randomBytes:nmt}=require("crypto"),{Readable:imt}=require("stream"),Tre=t=>typeof t=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&typeof t.type=="string"&&typeof t.size=="number"&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),omt=t=>t!=null&&typeof t=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(e=>typeof t[e]).filter(e=>e!=="function").length===0&&t[Symbol.toStringTag]==="FormData",L4e=t=>`--${t}--\r
\r
`,O4e=(t,e,r)=>{let n="";return n+=`--${t}\r
`,n+=`Content-Disposition: form-data; name="${e}"`,Tre(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`};async function*smt(t,e){for(let[r,n]of t)yield O4e(e,r,n),Tre(n)?yield*n.stream():yield n,yield`\r
`;yield L4e(e)}var amt=(t,e)=>{let r=0;for(let[n,i]of t)r+=Buffer.byteLength(O4e(e,n,i)),r+=Tre(i)?i.size:Buffer.byteLength(String(i)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(L4e(e)),r},Ere=class{constructor(e){this.fd=e,this.boundary=nmt(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=amt(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return imt.from(smt(this.fd,this.boundary))}};M4e.exports={isFormData:omt,FormDataSerializer:Ere}});var U4e=R((pRr,F4e)=>{"use strict";var{AbortSignal:cmt}=xre(),{Body:umt,cloneStream:lmt,guessContentType:fmt}=g7(),{Headers:pmt}=JS(),{isPlainObject:dmt}=xm(),{isFormData:mmt,FormDataSerializer:hmt}=fP(),gmt=20,Q0=Symbol("Request internals"),x7=class t extends umt{constructor(e,r={}){let n=e instanceof t?e:null,i=n?new URL(n.url):new URL(e),o=r.method||n&&n.method||"GET";if(o=o.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(o))throw new TypeError("Request with GET/HEAD method cannot have body");let s=r.body||(n&&n.body?lmt(n):null),a=new pmt(r.headers||n&&n.headers||{});if(mmt(s)&&!a.has("content-type")){let f=new hmt(s);s=f.stream(),a.set("content-type",f.contentType()),!a.has("transfer-encoding")&&!a.has("content-length")&&a.set("content-length",f.length())}if(!a.has("content-type"))if(dmt(s))s=JSON.stringify(s),a.set("content-type","application/json");else{let f=fmt(s);f&&a.set("content-type",f)}super(s);let u=n?n.signal:null;if("signal"in r&&(u=r.signal),u&&!(u instanceof cmt))throw new TypeError("signal needs to be an instance of AbortSignal");let c=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(c))throw new TypeError(`'${c}' is not a valid redirect option`);let l=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(l))throw new TypeError(`'${l}' is not a valid cache option`);this[Q0]={init:{...r},method:o,redirect:c,cache:l,headers:a,parsedURL:i,signal:u},r.follow===void 0?!n||n.follow===void 0?this.follow=gmt:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[Q0].method}get url(){return this[Q0].parsedURL.toString()}get headers(){return this[Q0].headers}get redirect(){return this[Q0].redirect}get cache(){return this[Q0].cache}get signal(){return this[Q0].signal}clone(){return new t(this)}get init(){return this[Q0].init}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(x7.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});F4e.exports={Request:x7}});var Sre=R((dRr,B4e)=>{"use strict";var{Body:vmt,cloneStream:_mt,guessContentType:ymt}=g7(),{Headers:bmt}=JS(),{isPlainObject:xmt}=xm(),{isFormData:Emt,FormDataSerializer:Tmt}=fP(),Nl=Symbol("Response internals"),E7=class t extends vmt{constructor(e=null,r={}){let n=new bmt(r.headers),i=e;if(Emt(i)&&!n.has("content-type")){let o=new Tmt(i);i=o.stream(),n.set("content-type",o.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",o.length())}if(i!==null&&!n.has("content-type"))if(xmt(i))i=JSON.stringify(i),n.set("content-type","application/json");else{let o=ymt(i);o&&n.set("content-type",o)}super(i),this[Nl]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Nl].url||""}get status(){return this[Nl].status}get statusText(){return this[Nl].statusText}get ok(){return this[Nl].status>=200&&this[Nl].status<300}get redirected(){return this[Nl].counter>0}get headers(){return this[Nl].headers}get httpVersion(){return this[Nl].httpVersion}get decoded(){return this[Nl].decoded}static redirect(e,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new t(null,{headers:{location:new URL(e).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new t(_mt(this),{...this[Nl]})}get[Symbol.toStringTag](){return this.constructor.name}};Object.defineProperties(E7.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});B4e.exports={Response:E7}});var H4e=R((hRr,q4e)=>{"use strict";var Smt=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),Cmt=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),Imt=new Set([500,502,503,504]),wmt={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},Amt={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function S1(t){let e=parseInt(t,10);return isFinite(e)?e:0}function Rmt(t){return t?Imt.has(t.status):!0}function Cre(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function Pmt(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}q4e.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=Cre(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=Cre(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":Pmt(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&Cmt.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||Smt.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=Cre(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)wmt[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return S1(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return S1(this._rescc["s-maxage"])}if(this._rescc["max-age"])return S1(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+S1(this._rescc["stale-if-error"]),n=e+S1(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+S1(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+S1(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&Rmt(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in r.headers&&!Amt[s]?r.headers[s]:this._resHeaders[s];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var z4e=R((gRr,V4e)=>{"use strict";var Nmt=H4e(),{Headers:Dmt}=JS(),G4e=t=>({url:t.url,method:t.method,headers:t.headers.plain()}),j4e=t=>({status:t.status,headers:t.headers.plain()}),Ire=class{constructor(e,r,n){this.policy=new Nmt(G4e(e),j4e(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(e){return this.policy.satisfiesWithoutRevalidation(G4e(e))}responseHeaders(e){return new Dmt(this.policy.responseHeaders(j4e(e)))}timeToLive(){return this.policy.timeToLive()}};V4e.exports=Ire});var W4e=R((vRr,$4e)=>{"use strict";var{Readable:kmt}=require("stream"),{Headers:Y4e}=JS(),{Response:Lmt}=Sre(),J0=Symbol("CacheableResponse internals"),Omt=t=>t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),wre=class t extends Lmt{constructor(e,r){super(e,r);let n=new Y4e(r.headers);this[J0]={headers:n,bufferedBody:e}}get headers(){return this[J0].headers}set headers(e){if(e instanceof Y4e)this[J0].headers=e;else throw new TypeError("instance of Headers expected")}get body(){return kmt.from(this[J0].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[J0].bufferedBody}async arrayBuffer(){return Omt(this[J0].bufferedBody)}async text(){return this[J0].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:e,status:r,statusText:n,headers:i,httpVersion:o,decoded:s,counter:a}=this;return new t(this[J0].bufferedBody,{url:e,status:r,statusText:n,headers:i,httpVersion:o,decoded:s,counter:a})}get[Symbol.toStringTag](){return this.constructor.name}},Mmt=async t=>{let e=await t.buffer(),{url:r,status:n,statusText:i,headers:o,httpVersion:s,decoded:a,counter:u}=t;return new wre(e,{url:r,status:n,statusText:i,headers:o,httpVersion:s,decoded:a,counter:u})};$4e.exports={cacheableResponse:Mmt}});var T7=R((_Rr,K4e)=>{"use strict";var Are=class extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};K4e.exports={RequestAbortedError:Are}});var eLe=R((yRr,Z4e)=>{"use strict";var Q4e=require("http"),J4e=require("https"),{Readable:Fmt}=require("stream"),Sm=ou()("helix-fetch:h1"),{RequestAbortedError:X4e}=T7(),{decodeStream:Umt}=xm(),Bmt=(t,e)=>{let{h1:r,options:{h1:n,rejectUnauthorized:i}}=t;return e==="https:"?r.httpsAgent?r.httpsAgent:n||typeof i=="boolean"?(r.httpsAgent=new J4e.Agent(typeof i=="boolean"?{...n||{},rejectUnauthorized:i}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new Q4e.Agent(n),r.httpAgent):void 0},qmt=t=>{t.h1={}},Hmt=async({h1:t})=>{t.httpAgent&&(Sm("resetContext: destroying httpAgent"),t.httpAgent.destroy(),delete t.httpAgent),t.httpsAgent&&(Sm("resetContext: destroying httpsAgent"),t.httpsAgent.destroy(),delete t.httpsAgent)},Gmt=(t,e,r)=>{let{statusCode:n,statusMessage:i,httpVersion:o,httpVersionMajor:s,httpVersionMinor:a,headers:u}=t,c=e?Umt(n,u,t,r):t;return{statusCode:n,statusText:i,httpVersion:o,httpVersionMajor:s,httpVersionMinor:a,headers:u,readable:c,decoded:!!(e&&c!==t)}},jmt=async(t,e,r)=>{let{request:n}=e.protocol==="https:"?J4e:Q4e,i=Bmt(t,e.protocol),o={...r,agent:i},{socket:s,body:a}=o;return s&&(delete o.socket,s.assigned||(s.assigned=!0,i?o.agent=new Proxy(i,{get:(u,c)=>c==="createConnection"&&!s.inUse?(l,f)=>{Sm(`agent reusing socket #${s.id} (${s.servername})`),s.inUse=!0,f(null,s)}:u[c]}):o.createConnection=(u,c)=>{Sm(`reusing socket #${s.id} (${s.servername})`),s.inUse=!0,c(null,s)})),new Promise((u,c)=>{Sm(`${o.method} ${e.href}`);let l,{signal:f}=o,p=()=>{f.removeEventListener("abort",p),s&&!s.inUse&&(Sm(`discarding redundant socket used for ALPN: #${s.id} ${s.servername}`),s.destroy()),c(new X4e),l&&l.abort()};if(f){if(f.aborted){c(new X4e);return}f.addEventListener("abort",p)}l=n(e,o),l.once("response",m=>{f&&f.removeEventListener("abort",p),s&&!s.inUse&&(Sm(`discarding redundant socket used for ALPN: #${s.id} ${s.servername}`),s.destroy()),u(Gmt(m,o.decode,c))}),l.once("error",m=>{f&&f.removeEventListener("abort",p),s&&!s.inUse&&(Sm(`discarding redundant socket used for ALPN: #${s.id} ${s.servername}`),s.destroy()),l.aborted||(Sm(`${o.method} ${e.href} failed with: ${m.message}`),l.abort(),c(m))}),a instanceof Fmt?a.pipe(l):(a&&l.write(a),l.end())})};Z4e.exports={request:jmt,setupContext:qmt,resetContext:Hmt}});var iLe=R((bRr,nLe)=>{"use strict";var{connect:Vmt,constants:zmt}=require("http2"),{Readable:Ymt}=require("stream"),Pn=ou()("helix-fetch:h2"),{RequestAbortedError:tLe}=T7(),{decodeStream:$mt}=xm(),{NGHTTP2_CANCEL:pP}=zmt,Wmt=5*60*1e3,Kmt=5e3,Xmt=t=>{t.h2={sessionCache:{}}},Qmt=async({h2:t})=>Promise.all(Object.values(t.sessionCache).map(e=>new Promise(r=>{e.on("close",r),Pn(`resetContext: destroying session (socket #${e.socket&&e.socket.id}, ${e.socket&&e.socket.servername})`),e.destroy()}))),rLe=(t,e,r,n=()=>{})=>{let i={...t},o=i[":status"];delete i[":status"];let s=r?$mt(o,t,e,n):e;return{statusCode:o,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:i,readable:s,decoded:!!(r&&s!==e)}},Jmt=(t,e,r,n,i,o)=>{let{options:{h2:{pushPromiseHandler:s,pushHandler:a,pushedStreamIdleTimeout:u=Kmt}}}=t,c=i[":path"],l=`${e}${c}`;Pn(`received PUSH_PROMISE: ${l}, stream #${n.id}, headers: ${JSON.stringify(i)}, flags: ${o}`),s&&s(l,i,()=>{n.close(pP)}),n.on("push",(f,p)=>{Pn(`received push headers for ${e}${c}, stream #${n.id}, headers: ${JSON.stringify(f)}, flags: ${p}`),n.setTimeout(u,()=>{Pn(`closing pushed stream #${n.id} after ${u} ms of inactivity`),n.close(pP)}),a&&a(l,i,rLe(f,n,r))}),n.on("aborted",()=>{Pn(`pushed stream #${n.id} aborted`)}),n.on("error",f=>{Pn(`pushed stream #${n.id} encountered error: ${f}`)}),n.on("frameError",(f,p,m)=>{Pn(`pushed stream #${n.id} encountered frameError: type: ${f}, code: ${p}, id: ${m}`)})},Zmt=async(t,e,r)=>{let{origin:n,pathname:i,search:o,hash:s}=e,a=`${i}${o}${s}`,{options:{h2:u={}},h2:{sessionCache:c}}=t,{idleSessionTimeout:l=Wmt,pushPromiseHandler:f,pushHandler:p}=u,m={...r},{method:d,headers:h,socket:g,body:v,decode:_}=m;return g&&delete m.socket,h.host&&(h[":authority"]=h.host,delete h.host),new Promise((y,x)=>{let b=c[n];if(!b||b.closed||b.destroyed){let D=!(t.options.rejectUnauthorized===!1||u.rejectUnauthorized===!1),fe={...u,rejectUnauthorized:D};g&&!g.inUse&&(fe.createConnection=()=>(Pn(`reusing socket #${g.id} (${g.servername})`),g.inUse=!0,g)),b=Vmt(n,{...fe,settings:{enablePush:!!(f||p)}}),b.setMaxListeners(1e3),b.setTimeout(l,()=>{Pn(`closing session ${n} after ${l} ms of inactivity`),b.close()}),b.once("connect",()=>{Pn(`session ${n} established`),Pn(`caching session ${n}`),c[n]=b}),b.on("localSettings",O=>{Pn(`session ${n} localSettings: ${JSON.stringify(O)}`)}),b.on("remoteSettings",O=>{Pn(`session ${n} remoteSettings: ${JSON.stringify(O)}`)}),b.once("close",()=>{Pn(`session ${n} closed`),c[n]===b&&(Pn(`discarding cached session ${n}`),delete c[n])}),b.once("error",O=>{Pn(`session ${n} encountered error: ${O}`),c[n]===b&&(Pn(`discarding cached session ${n}`),delete c[n])}),b.on("frameError",(O,w,P)=>{Pn(`session ${n} encountered frameError: type: ${O}, code: ${w}, id: ${P}`)}),b.once("goaway",(O,w,P)=>{Pn(`session ${n} received GOAWAY frame: errorCode: ${O}, lastStreamID: ${w}, opaqueData: ${P?P.toString():void 0}`)}),b.on("stream",(O,w,P)=>{Jmt(t,n,_,O,w,P)})}else g&&g.id!==b.socket.id&&!g.inUse&&(Pn(`discarding redundant socket used for ALPN: #${g.id} ${g.servername}`),g.destroy());Pn(`${d} ${e.host}${a}`);let T,{signal:k}=m,U=()=>{k.removeEventListener("abort",U),x(new tLe),T&&T.close(pP)};if(k){if(k.aborted){x(new tLe);return}k.addEventListener("abort",U)}let z=D=>{Pn(`session ${n} encountered error during ${m.method} ${e.href}: ${D}`),x(D)};b.once("error",z),T=b.request({":method":d,":path":a,...h}),T.once("response",D=>{b.off("error",z),k&&k.removeEventListener("abort",U),y(rLe(D,T,m.decode,x))}),T.once("error",D=>{b.off("error",z),k&&k.removeEventListener("abort",U),T.rstCode!==pP&&(Pn(`${m.method} ${e.href} failed with: ${D.message}`),T.close(pP),x(D))}),T.once("frameError",(D,fe,Q)=>{b.off("error",z),Pn(`encountered frameError during ${m.method} ${e.href}: type: ${D}, code: ${fe}, id: ${Q}`)}),T.on("push",(D,fe)=>{Pn(`received 'push' event: headers: ${JSON.stringify(D)}, flags: ${fe}`)}),v instanceof Ymt?v.pipe(T):(v&&T.write(v),T.end())})};nLe.exports={request:Zmt,setupContext:Xmt,resetContext:Qmt}});var sLe=R((xRr,oLe)=>{"use strict";var{EventEmitter:eht}=require("events"),tht=()=>{let t={},e=new eht;return e.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!t[r]){t[r]=!0,n();return}let i=o=>{t[r]||(t[r]=!0,e.removeListener(r,i),n(o))};e.on(r,i)}),release:(r,n)=>{Reflect.deleteProperty(t,r),setImmediate(()=>e.emit(r,n))}}};oLe.exports=tht});var aLe=R((ERr,rht)=>{rht.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var pLe=R((TRr,fLe)=>{"use strict";var{Readable:nht}=require("stream"),iht=require("tls"),{types:{isAnyArrayBuffer:oht}}=require("util"),sht=vre(),Rre=ou()("helix-fetch:core"),{RequestAbortedError:S7}=T7(),Pre=eLe(),C7=iLe(),aht=sLe(),{isPlainObject:cht}=xm(),{isFormData:uht,FormDataSerializer:lht}=fP(),{version:fht}=aLe(),Nre="h2",Dre="h2c",kre="http/1.0",C1="http/1.1",pht=100,dht=60*60*1e3,mht=[Nre,C1,kre],hht=`helix-fetch/${fht}`,ght={method:"GET",compress:!0,decode:!0},cLe=0,uLe=aht(),lLe=(t,e)=>new Promise((r,n)=>{let{signal:i}=e,o,s=()=>{i.removeEventListener("abort",s);let c=new S7;n(c),o&&o.destroy(c)};if(i){if(i.aborted){n(new S7);return}i.addEventListener("abort",s)}let a=+t.port||443,u=c=>{i&&i.removeEventListener("abort",s),c instanceof S7||(Rre(`connecting to ${t.hostname}:${a} failed with: ${c.message}`),n(c))};o=iht.connect(a,t.hostname,e),o.once("secureConnect",()=>{i&&i.removeEventListener("abort",s),o.off("error",u),cLe+=1,o.id=cLe,o.secureConnecting=!1,Rre(`established TLS connection: #${o.id} (${o.servername})`),r(o)}),o.once("error",u)}),vht=async(t,e)=>{let r=await uLe.acquire(t.origin);try{return r||(r=await lLe(t,e)),r}finally{uLe.release(t.origin,r)}},_ht=async(t,e,r)=>{let n=`${e.protocol}//${e.host}`,i=t.alpnCache.get(n);if(i)return{protocol:i};switch(e.protocol){case"http:":return i=C1,t.alpnCache.set(n,i),{protocol:i};case"http2:":return i=Dre,t.alpnCache.set(n,i),{protocol:i};case"https:":break;default:throw new TypeError(`unsupported protocol: ${e.protocol}`)}let{options:{rejectUnauthorized:o,h1:s={},h2:a={}}}=t,u=!(o===!1||s.rejectUnauthorized===!1||a.rejectUnauthorized===!1),c={servername:e.hostname,ALPNProtocols:t.alpnProtocols,signal:r,rejectUnauthorized:u};t.options.ca&&(c.ca=t.options.ca);let l=await vht(e,c);return i=l.alpnProtocol,i||(i=C1),t.alpnCache.set(n,i),{protocol:i,socket:l}},yht=t=>{let e={};return Object.keys(t).forEach(r=>{e[r.toLowerCase()]=t[r]}),e},bht=async(t,e,r,n)=>{let i=e.protocol==="https:",o;e.port?o=e.port:i?o=443:o=80;let s={...r,host:e.host,hostname:e.hostname,port:o},a=await t(s);if(i){let c={...s,ALPNProtocols:n};c.socket=a,c.servername=s.host;let l=await lLe(e,c);return{protocol:l.alpnProtocol||C1,socket:l}}return{protocol:a.alpnProtocol||C1,socket:a}},xht=async(t,e,r)=>{let n=new URL(e),i={...ght,...r||{}};typeof i.method=="string"&&(i.method=i.method.toUpperCase()),i.headers=yht(i.headers||{}),i.headers.host===void 0&&(i.headers.host=n.host),t.userAgent&&i.headers["user-agent"]===void 0&&(i.headers["user-agent"]=t.userAgent);let o;if(i.body instanceof URLSearchParams)o="application/x-www-form-urlencoded; charset=utf-8",i.body=i.body.toString();else if(uht(i.body)){let c=new lht(i.body);o=c.contentType(),i.body=c.stream(),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(c.length()))}else typeof i.body=="string"||i.body instanceof String?o="text/plain; charset=utf-8":cht(i.body)?(i.body=JSON.stringify(i.body),o="application/json"):oht(i.body)&&(i.body=Buffer.from(i.body));i.headers["content-type"]===void 0&&o!==void 0&&(i.headers["content-type"]=o),i.body!=null&&(i.body instanceof nht||(!(typeof i.body=="string"||i.body instanceof String)&&!Buffer.isBuffer(i.body)&&(i.body=String(i.body)),i.headers["transfer-encoding"]===void 0&&i.headers["content-length"]===void 0&&(i.headers["content-length"]=String(Buffer.isBuffer(i.body)?i.body.length:Buffer.byteLength(i.body,"utf-8"))))),i.headers.accept===void 0&&(i.headers.accept="*/*"),i.body==null&&["POST","PUT"].includes(i.method)&&(i.headers["content-length"]="0"),i.compress&&i.headers["accept-encoding"]===void 0&&(i.headers["accept-encoding"]="gzip,deflate,br");let{signal:s}=i,{protocol:a,socket:u=null}=t.socketFactory?await bht(t.socketFactory,n,i,t.alpnProtocols):await _ht(t,n,s);switch(Rre(`${n.host} -> ${a}`),a){case Nre:try{return await C7.request(t,n,u?{...i,socket:u}:i)}catch(c){let{code:l,message:f}=c;throw l==="ERR_HTTP2_ERROR"&&f==="Protocol error"&&t.alpnCache.delete(`${n.protocol}//${n.host}`),c}case Dre:return C7.request(t,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),u?{...i,socket:u}:i);case kre:case C1:return Pre.request(t,n,u?{...i,socket:u}:i);default:throw new TypeError(`unsupported protocol: ${a}`)}},Eht=async t=>(t.alpnCache.clear(),Promise.all([Pre.resetContext(t),C7.resetContext(t)])),Tht=t=>{let{options:{alpnProtocols:e=mht,alpnCacheTTL:r=dht,alpnCacheSize:n=pht,userAgent:i=hht,socketFactory:o}}=t;t.alpnProtocols=e,t.alpnCache=new sht({max:n,ttl:r}),t.userAgent=i,t.socketFactory=o,Pre.setupContext(t),C7.setupContext(t)};fLe.exports={request:xht,setupContext:Tht,resetContext:Eht,RequestAbortedError:S7,ALPN_HTTP2:Nre,ALPN_HTTP2C:Dre,ALPN_HTTP1_1:C1,ALPN_HTTP1_0:kre}});var mLe=R((SRr,dLe)=>{"use strict";var Sht=ou()("helix-fetch:core"),{request:Cht,setupContext:Iht,resetContext:wht,RequestAbortedError:Aht,ALPN_HTTP2:Rht,ALPN_HTTP2C:Pht,ALPN_HTTP1_1:Nht,ALPN_HTTP1_0:Dht}=pLe(),Lre=class t{constructor(e){this.options={...e||{}},Iht(this)}api(){return{request:async(e,r)=>this.request(e,r),context:(e={})=>new t(e).api(),setCA:e=>this.setCA(e),reset:async()=>this.reset(),RequestAbortedError:Aht,ALPN_HTTP2:Rht,ALPN_HTTP2C:Pht,ALPN_HTTP1_1:Nht,ALPN_HTTP1_0:Dht}}async request(e,r){return Cht(this,e,r)}setCA(e){this.options.ca=e}async reset(){return Sht("resetting context"),wht(this)}};dLe.exports=new Lre().api()});var yLe=R((CRr,_Le)=>{"use strict";var{EventEmitter:kht}=require("events"),{Readable:dP}=require("stream"),Ore=ou()("helix-fetch"),Lht=vre(),{Body:Oht}=g7(),{Headers:Bre}=JS(),{Request:I1}=U4e(),{Response:Fre}=Sre(),{FetchBaseError:Mht,FetchError:mP,AbortError:I7}=bre(),{AbortController:Fht,AbortSignal:Uht,TimeoutSignal:Bht}=xre(),qht=z4e(),{cacheableResponse:Hht}=W4e(),{sizeof:Ght}=xm(),{isFormData:jht}=fP(),{context:Vht,RequestAbortedError:zht}=mLe(),hLe=["GET","HEAD"],Yht=500,$ht=100*1024*1024,Mre="push",gLe=async(t,e,r)=>{let{request:n}=t.context,i=e instanceof I1&&typeof r>"u"?e:new I1(e,r),{method:o,body:s,signal:a,compress:u,decode:c,follow:l,redirect:f,init:{body:p}}=i,m;if(a&&a.aborted){let b=new I7("The operation was aborted.");throw i.init.body instanceof dP&&i.init.body.destroy(b),b}try{m=await n(i.url,{...r,method:o,headers:i.headers.plain(),body:p&&!(p instanceof dP)&&!jht(p)?p:s,compress:u,decode:c,follow:l,redirect:f,signal:a})}catch(b){throw p instanceof dP&&p.destroy(b),b instanceof TypeError?b:b instanceof zht?new I7("The operation was aborted."):new mP(b.message,"system",b)}let d=()=>{a.removeEventListener("abort",d);let b=new I7("The operation was aborted.");i.init.body instanceof dP&&i.init.body.destroy(b),m.readable.emit("error",b)};a&&a.addEventListener("abort",d);let{statusCode:h,statusText:g,httpVersion:v,headers:_,readable:y,decoded:x}=m;if([301,302,303,307,308].includes(h)){let{location:b}=_,T=b==null?null:new URL(b,i.url);switch(i.redirect){case"manual":break;case"error":throw a&&a.removeEventListener("abort",d),new mP(`uri requested responds with a redirect, redirect mode is set to 'error': ${i.url}`,"no-redirect");case"follow":{if(T===null)break;if(i.counter>=i.follow)throw a&&a.removeEventListener("abort",d),new mP(`maximum redirect reached at: ${i.url}`,"max-redirect");let k={headers:new Bre(i.headers),follow:i.follow,compress:i.compress,decode:i.decode,counter:i.counter+1,method:i.method,body:i.body,signal:i.signal};if(h!==303&&i.body&&i.init.body instanceof dP)throw a&&a.removeEventListener("abort",d),new mP("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(h===303||(h===301||h===302)&&i.method==="POST")&&(k.method="GET",k.body=void 0,k.headers.delete("content-length")),a&&a.removeEventListener("abort",d),gLe(t,new I1(T,k))}default:}}return a&&(y.once("end",()=>{a.removeEventListener("abort",d)}),y.once("error",()=>{a.removeEventListener("abort",d)})),new Fre(y,{url:i.url,status:h,statusText:g,headers:_,httpVersion:v,decoded:x,counter:i.counter})},vLe=async(t,e,r)=>{if(t.options.maxCacheSize===0||!hLe.includes(e.method))return r;let n=new qht(e,r,{shared:!1});if(n.storable()){let i=await Hht(r);return t.cache.set(e.url,{policy:n,response:i},n.timeToLive()),i}else return r},Wht=async(t,e,r)=>{let n=new I1(e,r);if(t.options.maxCacheSize!==0&&hLe.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:s,response:a}=t.cache.get(n.url)||{};if(s&&s.satisfiesWithoutRevalidation(n)){a.headers=new Bre(s.responseHeaders(a));let u=a.clone();return u.fromCache=!0,u}}let o=await gLe(t,n);return n.cache!=="no-store"?vLe(t,n,o):o},Kht=(t,e={})=>{let r=new URL(t);if(typeof e!="object"||Array.isArray(e))throw new TypeError("qs: object expected");return Object.entries(e).forEach(([n,i])=>{Array.isArray(i)?i.forEach(o=>r.searchParams.append(n,o)):r.searchParams.append(n,i)}),r.href},Xht=t=>new Bht(t),Ure=class t{constructor(e){this.options={...e};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:$ht,i=Yht;n===0&&(n=1,i=1);let o=({response:a},u)=>Ght(a);this.cache=new Lht({max:i,maxSize:n,sizeCalculation:o}),this.eventEmitter=new kht,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:s}=this.options.h2;s&&(this.options.h2.pushPromiseHandler=(a,u,c)=>{let l={...u};Object.keys(l).filter(f=>f.startsWith(":")).forEach(f=>delete l[f]),this.pushPromiseHandler(a,l,c)},this.options.h2.pushHandler=(a,u,c)=>{let l={...u};Object.keys(l).filter(v=>v.startsWith(":")).forEach(v=>delete l[v]);let{statusCode:f,statusText:p,httpVersion:m,headers:d,readable:h,decoded:g}=c;this.pushHandler(a,l,new Fre(h,{url:a,status:f,statusText:p,headers:d,httpVersion:m,decoded:g}))}),this.context=Vht(this.options)}api(){return{fetch:async(e,r)=>this.fetch(e,r),Body:Oht,Headers:Bre,Request:I1,Response:Fre,AbortController:Fht,AbortSignal:Uht,FetchBaseError:Mht,FetchError:mP,AbortError:I7,context:(e={})=>new t(e).api(),setCA:e=>this.setCA(e),noCache:(e={})=>new t({...e,maxCacheSize:0}).api(),h1:(e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(e={})=>new t({...e,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(e={})=>new t({...e,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:e=>this.onPush(e),offPush:e=>this.offPush(e),createUrl:Kht,timeoutSignal:Xht,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(e,r){return Wht(this,e,r)}setCA(e){this.options.ca=e,this.context.setCA(e)}onPush(e){return this.eventEmitter.on(Mre,e)}offPush(e){return this.eventEmitter.off(Mre,e)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(e,r,n){Ore(`received server push promise: ${e}, headers: ${JSON.stringify(r)}`);let i=new I1(e,{headers:r}),{policy:o}=this.cache.get(e)||{};o&&o.satisfiesWithoutRevalidation(i)&&(Ore(`already cached, reject push promise: ${e}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(e,r,n){Ore(`caching resource pushed by server: ${e}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let i=await vLe(this,new I1(e,{headers:r}),n);this.eventEmitter.emit(Mre,e,i)}};_Le.exports=new Ure().api()});var xLe=R((IRr,bLe)=>{"use strict";bLe.exports=yLe()});var igt={};Jn(igt,{activate:()=>tgt,createExtensionContext:()=>kLe,onDeactivate:()=>LLe});module.exports=wi(igt);var M7=Ie(vn());wne().install();var Hr=require("vscode");var Rm=new class{constructor(){this.contributions=new Set}start(t){for(let e of this.contributions)e(t)}registerContribution(t){this.contributions.add(t)}};function Wt(t){return{name:t,_serviceIdentifierBrand:!0}}var cC=class{constructor(e,r){this.constructionStack=[];this.instances=new Map;this.isSealed=!1;this.base=r;let n=new Error().stack?.split(`
`);if(n&&this.constructionStack.push(...n.slice(1)),e)for(let[i,o]of e)this.instances.set(i,o)}get(e){let r=this.tryGet(e);if(r)return r;throw new Error(`No instance of ${Ane(e)} has been registered.
${this}`)}safeGet(e){return this.tryGet(e)}tryGet(e){let r=this.instances.get(e);if(r)return r;if(this.base)return this.base.tryGet(e)}define(e,r){if(this.isSealed)throw new Error("This accessor is sealed and cannot be modified anymore.");let n=this.instances.get(e);return this.instances.set(e,r),n}defineIfNotDefined(e,r){if(!(typeof this.tryGet(e)<"u"))return this.define(e,r())}seal(){this.isSealed=!0}toString(){let e=`    Accessor created at:
`;for(let r of this.constructionStack||[])e+=`    ${r}
`;return e+=this.base?.toString()??"",e}get debug(){let e={};for(let[r,n]of this.instances)e[Ane(r)]=n;return e}};function Ane(t){return t.name}var wP=Wt("IChatAgentService"),Rne="workspace",Pne="vscode",kl="terminal";var Xa=Nne(),sF=Xa.buildType!=="dev",k1=Xa.isPreRelease||!sF;function F3e(t){return typeof t=="string"}function Dne(t){return Array.isArray(t)&&t.every(e=>F3e(e))}function aF(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}var Pm="github.copilot",Be=Wt("IConfigurationService"),RP=class{getConfigMixedWithDefaults(e){if(this.isDefaultSettingOverwritten(e)){let r=this.getConfig(e);return aF(r)&&aF(e.defaultValue)?{...e.defaultValue,...r}:r}return e.defaultValue}},AP;function B3e(){if(!AP){AP=new Map;let t=Xa.contributes.configuration.properties;for(let e of Object.keys(t))typeof t[e].default<"u"&&AP.set(e,t[e].default)}return AP}function or(t,e){let r=B3e().get(`${Pm}.${t}`);if(typeof r<"u"&&e!==r)throw new Error(`The default value for setting ${t} is different in package.json and in code`);let n=t.indexOf("."),i=t.substring(0,n);if(i!=="editor"&&i!=="chat"&&i!=="advanced"&&i!=="notebook")throw new Error(`Unexpected setting section ${i} in setting ${t}`);let o=t.substring(n+1);return{id:t,firstPart:i,secondPart:o,defaultValue:e}}var qe={EnableCodeActions:or("editor.enableCodeActions",!0),LocaleOverride:or("chat.localeOverride","auto"),WelcomeMessage:or("chat.welcomeMessage","first"),AuthProvider:or("advanced.authProvider","github"),NotebookIterativeImproving:or("notebook.iterativeImproving",!1),DebugOverrideProxyUrl:or("advanced.debug.overrideProxyUrl",""),DebugChatOverrideProxyUrl:or("advanced.debug.chatOverrideProxyUrl",""),DebugTestOverrideProxyUrl:or("advanced.debug.testOverrideProxyUrl",""),DebugOverrideEngine:or("advanced.debug.overrideEngine",""),DebugOverrideChatEngine:or("advanced.debug.overrideChatEngine","gpt-3.5-turbo"),DebugOverrideChatMaxTokenNum:or("advanced.debug.overrideChatMaxTokenNum",0),DebugOverrideChatOffTopicModel:or("advanced.debug.overrideChatOffTopicModel",""),DebugOverrideChatOffTopicModelTokenizer:or("advanced.debug.overrideChatOffTopicModelTokenizer",""),DebugOverrideChatOffTopicModelThreshold:or("advanced.debug.overrideChatOffTopicModelThreshold",0),DebugOverrideLogLevels:or("advanced.debug.overrideLogLevels",{}),DebugFilterLogCategories:or("advanced.debug.filterLogCategories",[]),DebugReportFeedback:or("advanced.debug.reportFeedback",!1),DebugUseNodeFetcher:or("advanced.debug.useNodeFetcher",!1),DebugUseElectronFetcher:or("advanced.debug.useElectronFetcher",!1),ConversationSlashCommandEnablements:or("advanced.slashCommands",{"*":!1}),ConversationVariablesEnablements:or("advanced.variables",{"*":k1}),ConversationAdditionalPromptContext:or("advanced.conversationAdditionalPromptContext","firstTurn"),ConversationLoggingEnabled:or("advanced.conversationLoggingEnabled",!1),ConversationIntentDetection:or("advanced.conversationIntentDetection",!1),KerberosServicePrincipal:or("advanced.kerberosServicePrincipal",""),AgentsEndpointUrl:or("advanced.agentsEndpointUrl","https://api.githubcopilot.com"),EnableRemoteAgents:or("advanced.enableRemoteAgents",!1),ExplainIntentRefer:or("advanced.explain.refer",!0),FixUseGPT4InInlineChat:or("advanced.fix.useGPT4InInlineChat",!1),WorkspaceNewFlowEnabled:or("advanced.workspace.useNewFlow",!0),WorkspaceCodeSearchEnabled:or("advanced.workspace.codeSearchEnabled",void 0),WorkspaceUseAdaEnabled:or("advanced.workspace.useAda",void 0),WorkspaceRerankStrategy:or("advanced.workspace.rerankStrategy",void 0),InlineChatStreaming:or("advanced.inlineChatStreaming","progressive"),UseProjectTemplates:or("advanced.new.useProjectTemplates",!1)};var cF=class{constructor(e,r){this.uri=e;this.value=r}};function q3e(t){return Array.isArray(t)}var H3e,li=class t{constructor(e,r){this[H3e]="ResourceMap";if(e instanceof t)this.map=new Map(e.map),this.toKey=r??t.defaultToKey;else if(q3e(e)){this.map=new Map,this.toKey=r??t.defaultToKey;for(let[n,i]of e)this.set(n,i)}else this.map=new Map,this.toKey=e??t.defaultToKey}static{this.defaultToKey=e=>e.toString()}set(e,r){return this.map.set(this.toKey(e),new cF(e,r)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,r){typeof r<"u"&&(e=e.bind(r));for(let[n,i]of this.map)e(i.value,i.uri,this)}*values(){for(let e of this.map.values())yield e.value}*keys(){for(let e of this.map.values())yield e.uri}*entries(){for(let e of this.map.values())yield[e.uri,e.value]}*[(H3e=Symbol.toStringTag,Symbol.iterator)](){for(let[,e]of this.map)yield[e.uri,e.value]}},G3e,PP=class{constructor(e,r){this[G3e]="ResourceSet";!e||typeof e=="function"?this._map=new li(e):(this._map=new li(r),e.forEach(this.add,this))}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,r){this._map.forEach((n,i)=>e.call(r,i,i,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[(G3e=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}};var j3e,uF=class{constructor(){this[j3e]="LinkedMap";this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=0){let n=this._map.get(e);if(n)return r!==0&&this.touch(n,r),n.value}set(e,r,n=0){let i=this._map.get(e);if(i)i.value=r,n!==0&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.key,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}values(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:n.value,done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}entries(){let e=this,r=this._state,n=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==r)throw new Error("LinkedMap got modified during iteration.");if(n){let o={value:[n.key,n.value],done:!1};return n=n.next,o}else return{value:void 0,done:!0}}};return i}[(j3e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==1&&r!==2)){if(r===1){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===2){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}},L1=class extends uF{constructor(r,n=1){super();this._limit=r,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(r){this._limit=r,this.checkTrim()}get ratio(){return this._ratio}set ratio(r){this._ratio=Math.min(Math.max(0,r),1),this.checkTrim()}get(r,n=2){return super.get(r,n)}peek(r){return super.get(r,0)}set(r,n){return super.set(r,n,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};var NP=class{constructor(){this.map=new Map}add(e,r){let n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(r)}delete(e,r){let n=this.map.get(e);n&&(n.delete(r),n.size===0&&this.map.delete(e))}forEach(e,r){let n=this.map.get(e);n&&n.forEach(r)}get(e){let r=this.map.get(e);return r||new Set}};var Vt=class{isProduction(){return sF}isPreRelease(){return k1}getBuildType(){return Xa.buildType}getVersion(){return Xa.version}getBuild(){return Xa.build}getName(){return Xa.name}getEditorVersionHeaders(){return{"Editor-Version":this.getEditorInfo().format(),"Editor-Plugin-Version":this.getEditorPluginInfo().format()}}},uC=class{constructor(e,r){this.name=e;this.version=r}format(){return`${this.name}/${this.version}`}};var lF=class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?DP.isErrorNoTelemetry(e)?new DP(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(r=>{r(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}},V3e=new lF;function kP(t){z3e(t)||V3e.onUnexpectedError(t)}var fF="Canceled";function z3e(t){return t instanceof O1?!0:t instanceof Error&&t.name===fF&&t.message===fF}var O1=class extends Error{constructor(){super(fF),this.name=this.message}};function Ho(t){return t?new Error(`Illegal argument: ${t}`):new Error("Illegal argument")}var DP=class t extends Error{constructor(r){super(r);this.name="CodeExpectedError"}static fromError(r){if(r instanceof t)return r;let n=new t;return n.message=r.message,n.stack=r.stack,n}static isErrorNoTelemetry(r){return r.name==="CodeExpectedError"}},Fu=class t extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}};function pF(t,e){let r=this,n=!1,i;return function(){if(n)return i;if(n=!0,e)try{i=t.apply(r,arguments)}finally{e()}else i=t.apply(r,arguments);return i}}function dF(t,e){let r=lC(t,e);return r===-1?void 0:t[r]}function lC(t,e,r=0,n=t.length){let i=r,o=n;for(;i<o;){let s=Math.floor((i+o)/2);e(t[s])?i=s+1:o=s}return i-1}function LP(t,e,r=0,n=t.length){let i=r,o=n;for(;i<o;){let s=Math.floor((i+o)/2);e(t[s])?o=s:i=s+1}return i}var kne=class t{constructor(e){this._array=e;this._findLastMonotonousLastIdx=0}static{this.assertInvariants=!1}findLastMonotonous(e){if(t.assertInvariants){if(this._prevFindLastPredicate){for(let n of this._array)if(this._prevFindLastPredicate(n)&&!e(n))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=e}let r=lC(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=r+1,r===-1?void 0:this._array[r]}};function One(t,e){let r=0,n=t-1;for(;r<=n;){let i=(r+n)/2|0,o=e(i);if(o<0)r=i+1;else if(o>0)n=i-1;else return i}return-(r+1)}function Er(t){return t.filter(e=>!!e)}function OP(t,e){let r;if(typeof e=="number"){let n=e;r=()=>{let i=Math.sin(n++)*179426549;return i-Math.floor(i)}}else r=Math.random;for(let n=t.length-1;n>0;n-=1){let i=Math.floor(r()*(n+1)),o=t[n];t[n]=t[i],t[i]=o}}var Mne;(a=>{function t(u){return u<0}a.isLessThan=t;function e(u){return u<=0}a.isLessThanOrEqual=e;function r(u){return u>0}a.isGreaterThan=r;function n(u){return u===0}a.isNeitherLessOrGreaterThan=n,a.greaterThan=1,a.lessThan=-1,a.neitherLessOrGreaterThan=0})(Mne||={});function Fne(t,e){return(r,n)=>e(t(r),t(n))}var Une=(t,e)=>t-e;var Lne=class t{constructor(e){this.iterate=e}static{this.empty=new t(e=>{})}forEach(e){this.iterate(r=>(e(r),!0))}toArray(){let e=[];return this.iterate(r=>(e.push(r),!0)),e}filter(e){return new t(r=>this.iterate(n=>e(n)?r(n):!0))}map(e){return new t(r=>this.iterate(n=>r(e(n))))}some(e){let r=!1;return this.iterate(n=>(r=e(n),!r)),r}findFirst(e){let r;return this.iterate(n=>e(n)?(r=n,!1):!0),r}findLast(e){let r;return this.iterate(n=>(e(n)&&(r=n),!0)),r}findLastMaxBy(e){let r,n=!0;return this.iterate(i=>((n||Mne.isGreaterThan(e(i,r)))&&(n=!1,r=i),!0)),r}};function Bne(t,e){let r=Object.create(null);for(let n of t){let i=e(n),o=r[i];o||(o=r[i]=[]),o.push(n)}return r}var mF;(_=>{function t(y){return y&&typeof y=="object"&&typeof y[Symbol.iterator]=="function"}_.is=t;let e=Object.freeze([]);function r(){return e}_.empty=r;function*n(y){yield y}_.single=n;function i(y){return t(y)?y:n(y)}_.wrap=i;function o(y){return y||e}_.from=o;function*s(y){for(let x=y.length-1;x>=0;x--)yield y[x]}_.reverse=s;function a(y){return!y||y[Symbol.iterator]().next().done===!0}_.isEmpty=a;function u(y){return y[Symbol.iterator]().next().value}_.first=u;function c(y,x){for(let b of y)if(x(b))return!0;return!1}_.some=c;function l(y,x){for(let b of y)if(x(b))return b}_.find=l;function*f(y,x){for(let b of y)x(b)&&(yield b)}_.filter=f;function*p(y,x){let b=0;for(let T of y)yield x(T,b++)}_.map=p;function*m(...y){for(let x of y)yield*x}_.concat=m;function d(y,x,b){let T=b;for(let k of y)T=x(T,k);return T}_.reduce=d;function*h(y,x,b=y.length){for(x<0&&(x+=y.length),b<0?b+=y.length:b>y.length&&(b=y.length);x<b;x++)yield y[x]}_.slice=h;function g(y,x=Number.POSITIVE_INFINITY){let b=[];if(x===0)return[b,y];let T=y[Symbol.iterator]();for(let k=0;k<x;k++){let U=T.next();if(U.done)return[b,_.empty()];b.push(U.value)}return[b,{[Symbol.iterator](){return T}}]}_.consume=g;async function v(y){let x=[];for await(let b of y)x.push(b);return Promise.resolve(x)}_.asyncToArray=v})(mF||={});var W3e=!1,M1=null,qne=class t{constructor(){this.livingDisposables=new Map}static{this.idx=0}getDisposableData(e){let r=this.livingDisposables.get(e);return r||(r={parent:null,source:null,isSingleton:!1,value:e,idx:t.idx++},this.livingDisposables.set(e,r)),r}trackDisposable(e){let r=this.getDisposableData(e);r.source||(r.source=new Error().stack)}setParent(e,r){let n=this.getDisposableData(e);n.parent=r}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,r){let n=r.get(e);if(n)return n;let i=e.parent?this.getRootParent(this.getDisposableData(e.parent),r):e;return r.set(e,i),i}getTrackedDisposables(){let e=new Map;return[...this.livingDisposables.entries()].filter(([,n])=>n.source!==null&&!this.getRootParent(n,e).isSingleton).flatMap(([n])=>n)}computeLeakingDisposables(e=10,r){let n;if(r)n=r;else{let u=new Map,c=[...this.livingDisposables.values()].filter(f=>f.source!==null&&!this.getRootParent(f,u).isSingleton);if(c.length===0)return;let l=new Set(c.map(f=>f.value));if(n=c.filter(f=>!(f.parent&&l.has(f.parent))),n.length===0)throw new Error("There are cyclic diposable chains!")}if(!n)return;function i(u){function c(f,p){for(;f.length>0&&p.some(m=>typeof m=="string"?m===f[0]:f[0].match(m));)f.shift()}let l=u.source.split(`
`).map(f=>f.trim().replace("at ","")).filter(f=>f!=="");return c(l,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),l.reverse()}let o=new NP;for(let u of n){let c=i(u);for(let l=0;l<=c.length;l++)o.add(c.slice(0,l).join(`
`),u)}n.sort(Fne(u=>u.idx,Une));let s="",a=0;for(let u of n.slice(0,e)){a++;let c=i(u),l=[];for(let f=0;f<c.length;f++){let p=c[f];p=`(shared with ${o.get(c.slice(0,f+1).join(`
`)).size}/${n.length} leaks) at ${p}`;let d=o.get(c.slice(0,f).join(`
`)),h=Bne([...d].map(g=>i(g)[f]),g=>g);delete h[c[f]];for(let[g,v]of Object.entries(h))l.unshift(`    - stacktraces of ${v.length} other leaks continue with ${g}`);l.unshift(p)}s+=`


==================== Leaking disposable ${a}/${n.length}: ${u.value.constructor.name} ====================
${l.join(`
`)}
============================================================

`}return n.length>e&&(s+=`


... and ${n.length-e} more leaking disposables

`),{leaks:n,details:s}}};function K3e(t){M1=t}if(W3e){let t="__is_disposable_tracked__";K3e(new class{trackDisposable(e){let r=new Error("Potentially leaked disposable").stack;setTimeout(()=>{e[t]||console.log(r)},3e3)}setParent(e,r){if(e&&e!==fi.None)try{e[t]=!0}catch{}}markAsDisposed(e){if(e&&e!==fi.None)try{e[t]=!0}catch{}}markAsSingleton(e){}})}function MP(t){return M1?.trackDisposable(t),t}function FP(t){M1?.markAsDisposed(t)}function hF(t,e){M1?.setParent(t,e)}function X3e(t,e){if(M1)for(let r of t)M1.setParent(r,e)}function gF(t){if(mF.is(t)){let e=[];for(let r of t)if(r)try{r.dispose()}catch(n){e.push(n)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}function Hne(...t){let e=Nm(()=>gF(t));return X3e(t,e),e}function Nm(t){let e=MP({dispose:pF(()=>{FP(e),t()})});return e}var rn=class t{constructor(){this._toDispose=new Set;this._isDisposed=!1;MP(this)}static{this.DISABLE_DISPOSED_WARNING=!1}dispose(){this._isDisposed||(FP(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{gF(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return hF(e,this),this._isDisposed?t.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),hF(e,null))}},fi=class{constructor(){this._store=new rn;MP(this),hF(this._store,this)}static{this.None=Object.freeze({dispose(){}})}dispose(){FP(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}};var F1=class{constructor(){this._store=new Map;this._isDisposed=!1;MP(this)}dispose(){FP(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{gF(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,r,n=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),n||this._store.get(e)?.dispose(),this._store.set(e,r)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}};var yn=class t{static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},vF=class{constructor(){this._first=yn.Undefined;this._last=yn.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===yn.Undefined}clear(){let e=this._first;for(;e!==yn.Undefined;){let r=e.next;e.prev=yn.Undefined,e.next=yn.Undefined,e=r}this._first=yn.Undefined,this._last=yn.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new yn(e);if(this._first===yn.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==yn.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==yn.Undefined){let e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==yn.Undefined&&e.next!==yn.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===yn.Undefined&&e.next===yn.Undefined?(this._first=yn.Undefined,this._last=yn.Undefined):e.next===yn.Undefined?(this._last=this._last.prev,this._last.next=yn.Undefined):e.prev===yn.Undefined&&(this._first=this._first.next,this._first.prev=yn.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==yn.Undefined;)yield e.element,e=e.next}};var Q3e=globalThis.performance&&typeof globalThis.performance.now=="function",UP=class t{static create(e){return new t(e)}constructor(e){this._now=Q3e&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}};var Gne=!1,J3e=!1,B1;(O=>{O.None=()=>fi.None;function e(w){if(J3e){let{onDidAddListener:P}=w,M=fC.create(),L=0;w.onDidAddListener=()=>{++L===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),M.print()),P?.()}}}function r(w,P){return p(w,()=>{},0,void 0,!0,void 0,P)}O.defer=r;function n(w){return(P,M=null,L)=>{let W=!1,H;return H=w(ae=>{if(!W)return H?H.dispose():W=!0,P.call(M,ae)},null,L),W&&H.dispose(),H}}O.once=n;function i(w,P,M){return l((L,W=null,H)=>w(ae=>L.call(W,P(ae)),null,H),M)}O.map=i;function o(w,P,M){return l((L,W=null,H)=>w(ae=>{P(ae),L.call(W,ae)},null,H),M)}O.forEach=o;function s(w,P,M){return l((L,W=null,H)=>w(ae=>P(ae)&&L.call(W,ae),null,H),M)}O.filter=s;function a(w){return w}O.signal=a;function u(...w){return(P,M=null,L)=>{let W=Hne(...w.map(H=>H(ae=>P.call(M,ae))));return f(W,L)}}O.any=u;function c(w,P,M,L){let W=M;return i(w,H=>(W=P(W,H),W),L)}O.reduce=c;function l(w,P){let M,L={onWillAddFirstListener(){M=w(W.fire,W)},onDidRemoveLastListener(){M?.dispose()}};P||e(L);let W=new hs(L);return P?.add(W),W.event}function f(w,P){return P instanceof Array?P.push(w):P&&P.add(w),w}function p(w,P,M=100,L=!1,W=!1,H,ae){let Pe,Ve,lt,it=0,De,st={leakWarningThreshold:H,onWillAddFirstListener(){Pe=w(he=>{it++,Ve=P(Ve,he),L&&!lt&&(Tt.fire(Ve),Ve=void 0),De=()=>{let Me=Ve;Ve=void 0,lt=void 0,(!L||it>1)&&Tt.fire(Me),it=0},typeof M=="number"?(clearTimeout(lt),lt=setTimeout(De,M)):lt===void 0&&(lt=0,queueMicrotask(De))})},onWillRemoveListener(){W&&it>0&&De?.()},onDidRemoveLastListener(){De=void 0,Pe.dispose()}};ae||e(st);let Tt=new hs(st);return ae?.add(Tt),Tt.event}O.debounce=p;function m(w,P=0,M){return O.debounce(w,(L,W)=>L?(L.push(W),L):[W],P,void 0,!0,void 0,M)}O.accumulate=m;function d(w,P=(L,W)=>L===W,M){let L=!0,W;return s(w,H=>{let ae=L||!P(H,W);return L=!1,W=H,ae},M)}O.latch=d;function h(w,P,M){return[O.filter(w,P,M),O.filter(w,L=>!P(L),M)]}O.split=h;function g(w,P=!1,M=[],L){let W=M.slice(),H=w(Ve=>{W?W.push(Ve):Pe.fire(Ve)});L&&L.add(H);let ae=()=>{W?.forEach(Ve=>Pe.fire(Ve)),W=null},Pe=new hs({onWillAddFirstListener(){H||(H=w(Ve=>Pe.fire(Ve)),L&&L.add(H))},onDidAddFirstListener(){W&&(P?setTimeout(ae):ae())},onDidRemoveLastListener(){H&&H.dispose(),H=null}});return L&&L.add(Pe),Pe.event}O.buffer=g;function v(w,P){return(L,W,H)=>{let ae=P(new y);return w(function(Pe){let Ve=ae.evaluate(Pe);Ve!==_&&L.call(W,Ve)},void 0,H)}}O.chain=v;let _=Symbol("HaltChainable");class y{constructor(){this.steps=[]}map(P){return this.steps.push(P),this}forEach(P){return this.steps.push(M=>(P(M),M)),this}filter(P){return this.steps.push(M=>P(M)?M:_),this}reduce(P,M){let L=M;return this.steps.push(W=>(L=P(L,W),L)),this}latch(P=(M,L)=>M===L){let M=!0,L;return this.steps.push(W=>{let H=M||!P(W,L);return M=!1,L=W,H?W:_}),this}evaluate(P){for(let M of this.steps)if(P=M(P),P===_)break;return P}}function x(w,P,M=L=>L){let L=(...Pe)=>ae.fire(M(...Pe)),W=()=>w.on(P,L),H=()=>w.removeListener(P,L),ae=new hs({onWillAddFirstListener:W,onDidRemoveLastListener:H});return ae.event}O.fromNodeEventEmitter=x;function b(w,P,M=L=>L){let L=(...Pe)=>ae.fire(M(...Pe)),W=()=>w.addEventListener(P,L),H=()=>w.removeEventListener(P,L),ae=new hs({onWillAddFirstListener:W,onDidRemoveLastListener:H});return ae.event}O.fromDOMEventEmitter=b;function T(w){return new Promise(P=>n(w)(P))}O.toPromise=T;function k(w){let P=new hs;return w.then(M=>{P.fire(M)},()=>{P.fire(void 0)}).finally(()=>{P.dispose()}),P.event}O.fromPromise=k;function U(w,P,M){return P(M),w(L=>P(L))}O.runAndSubscribe=U;function z(w,P){let M=null;function L(H){M?.dispose(),M=new rn,P(H,M)}L(void 0);let W=w(H=>L(H));return Nm(()=>{W.dispose(),M?.dispose()})}O.runAndSubscribeWithStore=z;class D{constructor(P,M){this._observable=P;this._counter=0;this._hasChanged=!1;let L={onWillAddFirstListener:()=>{P.addObserver(this)},onDidRemoveLastListener:()=>{P.removeObserver(this)}};M||e(L),this.emitter=new hs(L),M&&M.add(this.emitter)}beginUpdate(P){this._counter++}handlePossibleChange(P){}handleChange(P,M){this._hasChanged=!0}endUpdate(P){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function fe(w,P){return new D(w,P).emitter.event}O.fromObservable=fe;function Q(w){return(P,M,L)=>{let W=0,H=!1,ae={beginUpdate(){W++},endUpdate(){W--,W===0&&(w.reportChanges(),H&&(H=!1,P.call(M)))},handlePossibleChange(){},handleChange(){H=!0}};w.addObserver(ae),w.reportChanges();let Pe={dispose(){w.removeObserver(ae)}};return L instanceof rn?L.add(Pe):Array.isArray(L)&&L.push(Pe),Pe}}O.fromObservableLight=Q})(B1||={});var _F=class t{constructor(e){this.listenerCount=0;this.invocationCount=0;this.elapsedOverall=0;this.durations=[];this.name=`${e}_${t._idPool++}`,t.all.add(this)}static{this.all=new Set}static{this._idPool=0}start(e){this._stopWatch=new UP,this.listenerCount=e}stop(){if(this._stopWatch){let e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}},jne=-1;var yF=class{constructor(e,r=Math.random().toString(18).slice(2,5)){this.threshold=e;this.name=r;this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,r){let n=this.threshold;if(n<=0||r<n)return;this._stacks||(this._stacks=new Map);let i=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,i+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=n*.5;let o,s=0;for(let[a,u]of this._stacks)(!o||s<u)&&(o=a,s=u);console.warn(`[${this.name}] potential listener LEAK detected, having ${r} listeners already. MOST frequent listener (${s}):`),console.warn(o)}return()=>{let o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}},fC=class t{constructor(e){this.value=e}static create(){return new t(new Error().stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}},Z3e=0,U1=class{constructor(e){this.value=e;this.id=Z3e++}},eOe=2,tOe=(t,e)=>{if(t instanceof U1)e(t);else for(let r=0;r<t.length;r++){let n=t[r];n&&e(n)}},hs=class{constructor(e){this._size=0;this._options=e,this._leakageMon=jne>0||this._options?.leakWarningThreshold?new yF(this._options?.leakWarningThreshold??jne):void 0,this._perfMon=this._options?._profName?new _F(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){if(!this._disposed){if(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners){if(Gne){let e=this._listeners;queueMicrotask(()=>{tOe(e,r=>r.stack?.print())})}this._listeners=void 0,this._size=0}this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose()}}get event(){return this._event??=(e,r,n)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),fi.None;if(this._disposed)return fi.None;r&&(e=e.bind(r));let i=new U1(e),o,s;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(i.stack=fC.create(),o=this._leakageMon.check(i.stack,this._size+1)),Gne&&(i.stack=s??fC.create()),this._listeners?this._listeners instanceof U1?(this._deliveryQueue??=new bF,this._listeners=[this._listeners,i]):this._listeners.push(i):(this._options?.onWillAddFirstListener?.(this),this._listeners=i,this._options?.onDidAddFirstListener?.(this)),this._size++;let a=Nm(()=>{o?.(),this._removeListener(i)});return n instanceof rn?n.add(a):Array.isArray(n)&&n.push(a),a},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}let r=this._listeners,n=r.indexOf(e);if(n===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,r[n]=void 0;let i=this._deliveryQueue.current===this;if(this._size*eOe<=r.length){let o=0;for(let s=0;s<r.length;s++)r[s]?r[o++]=r[s]:i&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);r.length=o}}_deliver(e,r){if(!e)return;let n=this._options?.onListenerError||kP;if(!n){e.value(r);return}try{e.value(r)}catch(i){n(i)}}_deliverQueue(e){let r=e.current._listeners;for(;e.i<e.end;)this._deliver(r[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof U1)this._deliver(this._listeners,e);else{let r=this._deliveryQueue;r.enqueue(this,e,this._listeners.length),this._deliverQueue(r)}this._perfMon?.stop()}hasListeners(){return this._size>0}};var bF=class{constructor(){this.i=-1;this.end=0}enqueue(e,r,n){this.i=0,this.end=n,this.current=e,this.value=r}reset(){this.i=this.end,this.current=void 0,this.value=void 0}};var Go=class{constructor(){this._onCopilotToken=new hs;this.onCopilotToken=this._onCopilotToken.event}dispose(){this._onCopilotToken.dispose()}emit(e,r){this._onCopilotToken.fire({token:e,envelope:r})}};var Ip=class{constructor(e,r,n){this.trackingId=r,this.optedIn=n??!1,this.setupUpdateOnToken(e)}setupUpdateOnToken(e){e.get(Go).onCopilotToken(r=>{let n=r.token.getTokenValue("rt")==="1",i=r.token.getTokenValue("tid"),o=r.token.organization_list;i!==void 0&&(this.trackingId=i,this.organizationsList=o?.toString(),this.optedIn=n)})}},rOe="https://copilot-telemetry.githubusercontent.com/telemetry",Dm=class{constructor(e=rOe){this.url=e}getUrl(){return this.url}},pt=Wt("ITelemetryService"),xt=Wt("IGHTelemetryService");var wp=class t{constructor(e,r,n){this.variables=e,this.assignmentContext=r,this.features=n}static createFallbackConfig(e,r){return e.get(xt).sendExpProblemTelemetry({reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new t({},"","")}addToTelemetry(e){e.properties["VSCode.ABExp.Features"]=this.features,e.properties["abexp.assignmentcontext"]=this.assignmentContext}};var Yr=Wt("IFetcherService"),BP=(n=>(n[n.Helix=0]="Helix",n[n.Node=1]="Node",n[n.Electron=2]="Electron",n))(BP||{}),km=class{constructor(e,r,n,i,o,s){this.status=e;this.statusText=r;this.headers=n;this.getText=i;this.getJson=o;this.getBody=s;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){return this.getJson()}async body(){return this.getBody()}};var Ll=class{},qP=class extends Ll{async fetchExperiments(e,r){let n=e.get(Yr),i;try{i=await n.fetch("https://default.exp-tas.com/vscode/ab",{method:"GET",headers:r})}catch(u){return wp.createFallbackConfig(e,`Error fetching ExP config: ${u}`)}if(!i.ok)return wp.createFallbackConfig(e,`ExP responded with ${i.status}`);let o=await i.json(),s=o.Configs.find(u=>u.Id==="vscode")??{Id:"vscode",Parameters:{}},a=Object.entries(s.Parameters).map(([u,c])=>u+(c?"":"cf"));return new wp(s.Parameters,o.AssignmentContext,a.join(";"))}},HP=class extends Ll{async fetchExperiments(e,r){return wp.createEmptyConfig()}};var iOe={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},GP=class t{constructor(e){this.filters=e;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(e){for(let[r,n]of Object.entries(e.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(e){for(let[r,n]of Object.entries(this.filters)){let i=iOe[r];i!==void 0&&(e.properties[i]=n)}}stringify(){let e=Object.keys(this.filters);return e.sort(),e.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(e,r){return new t({...this.filters,[e]:r})}};var jP=class{constructor(e){this.prefix=e}getCurrentAndUpComingValues(e){let r=this.getValue(e),n=this.getUpcomingValues(e);return[r,n]}},xF=class extends jP{getValue(e){return this.prefix}getUpcomingValues(e){return[]}},Vne=t=>new xF(t),VP=class extends jP{constructor(r,n=.5,i=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=i}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],i=this.getUpcomingTimePeriodBucketStrings(r),o=this.getUpcomingByCallBucketStrings();for(let s of i)for(let a of o)n.push(this.prefix+s+a);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets===void 0?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs===void 0?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};var zne="X-Copilot-ClientTimeBucket",EF=class{now(){return new Date}},zP=class{constructor(e,r=new EF){this.specs=new Map;this.prefix=e,this.clock=r,this.defaultGranularity=Vne(e)}selectGranularity(e){for(let[r,n]of this.specs.entries())if(e.extends(r))return n;return this.defaultGranularity}update(e,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(e);else{let i=new VP(this.prefix);isNaN(r)||i.setByCallBuckets(r),isNaN(n)||i.setTimePeriod(n*3600*1e3),this.specs.set(e,i)}}extendFilters(e){let r=this.selectGranularity(e),[n,i]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:e.withChange(zne,n),otherFilterSettingsToPrefetch:i.map(o=>e.withChange(zne,o))}}};var TF=class{constructor(e){this.accessor=e;this.cache=new L1(200)}async fetchExpConfig(e){let r=this.cache.get(e.stringify());return r||(r=new SF(()=>this.accessor.get(Ll).fetchExperiments(this.accessor,e.toHeaders()),1e3*60*60),this.cache.set(e.stringify(),r)),r.run()}getCachedExpConfig(e){return this.cache.get(e.stringify())?.value()}},SF=class{constructor(e,r=1/0){this.producer=e;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(e){try{this.result=await e}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}},Us=class t{constructor(e){this.accessor=e;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new TF(this.accessor)}static{this.upcomingDynamicFilterCheckDelayMs=20}static{this.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11)}registerStaticFilters(e){Object.assign(this.staticFilters,e)}registerDynamicFilter(e,r){this.dynamicFilters[e]=r}getDynamicFilterValues(){let e={};for(let[r,n]of Object.entries(this.dynamicFilters))e[r]=n();return e}async getAssignment(e,r={},n){let i=this.getGranularityDirectory(),o=this.makeFilterSettings(r),s=i.extendFilters(o),a=await this.getExpConfig(s.newFilterSettings);i.update(o,+(a.variables.copilotbycallbuckets??NaN),+(a.variables.copilottimeperiodsizeinh??NaN));let u=i.extendFilters(o),c=u.newFilterSettings,l=await this.getExpConfig(c),f=new Promise(p=>setTimeout(p,t.upcomingDynamicFilterCheckDelayMs));for(let p of u.otherFilterSettingsToPrefetch)f=f.then(async()=>{await new Promise(m=>setTimeout(m,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(p)});return this.prepareForUpcomingFilters(c),n&&(n.filtersAndExp={exp:l,filters:c}),l.variables[e]}getGranularityDirectory(){if(!this.granularityDirectory){let e=this.accessor.get(Vt).machineId;this.granularityDirectory=new zP(e)}return this.granularityDirectory}makeFilterSettings(e){return new GP({...this.staticFilters,...this.getDynamicFilterValues(),...e})}async getExpConfig(e){try{return this.assignments.fetchExpConfig(e)}catch(r){return wp.createFallbackConfig(this.accessor,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(e){if(!(new Date().getMinutes()<60-t.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(i=>setTimeout(i,t.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(e.withChange(r,n()))}async fastCancellation(){return await this.getAssignment("copilotoverridefastcancellation")??!0}async chatExpModel(){return await this.getAssignment("copilotchatexpmodel")??""}async chatMaxNumTokens(){return await this.getAssignment("copilotchatmaxnumtokens")??0}async chatOffTopicModel(){return await this.getAssignment("copilotchatofftopicmodel")??""}async chatOffTopicModelTokenizer(){return await this.getAssignment("copilotchatofftopicmodeltokenizer")??""}async chatOffTopicModelThreshold(){return await this.getAssignment("copilotchatofftopicmodelthreshold")??0}async addExpAndFilterToTelemetry(e){let r=this.makeFilterSettings({});e.filtersAndExp={filters:r,exp:await this.getExpConfig(r)}}};var Ae=class t{constructor(e,r){this.logTargets=e;this.configurationService=r;this.loggers=new Map;this.promptResponseLoggers=new Map;this.myLogTarget={logIt:(n,i,...o)=>{this.logTargets.forEach(s=>s.logIt(n,i,...o))}}}get defaultLogger(){return this.getLogger("extension")}getLogger(e){return t._getLogger(e,this.loggers,r=>new WP(r,this.myLogTarget,this.configurationService))}getPromptResponseLogger(e){return t._getLogger(e,this.promptResponseLoggers,r=>new CF(r,this.myLogTarget,this.configurationService))}registerAppender(e){return this.logTargets.push(e),Nm(()=>{let r=this.logTargets.indexOf(e);r!==-1&&this.logTargets.splice(r,1)})}static _getLogger(e,r,n){let i=r.get(e);return typeof i>"u"&&(i=n(e),r.set(e,i)),i}},pC=(i=>(i[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.WARN=2]="WARN",i[i.ERROR=3]="ERROR",i))(pC||{}),YP=class{logIt(e,r,...n){e===3?console.error(r,...n):e===2&&console.warn(r,...n)}},$P=class{constructor(e){this.output=e}logIt(e,r,...n){this.output.appendLine(`${r} ${n.map(oOe)}`)}},WP=class{constructor(e,r,n){this.category=e;this.target=r;this.configurationService=n}stringToLevel(e){return pC[e]}log(e,...r){if(!this.shouldLog(e,this.category))return;let n=`[${this.category}]`;this.target.logIt(e,n,...r)}shouldLog(e,r){let n=this.configurationService.getConfig(qe.DebugFilterLogCategories);if(n.length>0&&!n.includes(r))return!1;let i=this.configurationService.getConfig(qe.DebugOverrideLogLevels),o=this.stringToLevel(i[this.category])??this.stringToLevel(i["*"])??1;return e>=o}debug(...e){this.log(0,...e)}info(...e){this.log(1,...e)}warn(...e){this.log(2,...e)}error(...e){this.log(3,...e)}exception(e,r){let n=r?`${r}: `:"",i=e instanceof Error?e:new Error("Non-error thrown: "+e);this.log(3,`${n}${i.stack}`)}},CF=class extends WP{logPrompt(e){if(!this.conversationLoggingEnabled())return;let r=`
---------------------------------
`;super.info(r+e.map(n=>`${n.role.toUpperCase()}:
${n.content}`).join(r)+r)}logResponse(e){if(!this.conversationLoggingEnabled())return;let r=`
---------------------------------
`;if(typeof e!="string"){if(e.type!=="success"){super.info(`${r}RESPONSE FAILED DUE TO ${e.type}${r}`);return}Array.isArray(e.value)?e.value.length===1?e=e.value[0]:e=`${e.value.map(n=>`<<${n}>>`).join(", ")}`:e=e.value}super.info(`${r}ASSISTANT:
${e}${r}`)}debug(e,...r){this.conversationLoggingEnabled()&&super.debug(e,...r)}info(e,...r){this.conversationLoggingEnabled()&&super.info(e,...r)}warn(e,...r){this.conversationLoggingEnabled()&&super.warn(e,...r)}error(e,...r){this.conversationLoggingEnabled()&&super.error(e,...r)}conversationLoggingEnabled(){return this.configurationService.getConfig(qe.ConversationLoggingEnabled)}};function oOe(t){switch(typeof t){case"object":return JSON.stringify(t);default:return String(t)}}var Xi=Wt("IExperimentationService"),KP=class{constructor(){this.initializePromise=Promise.resolve();this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};var Ri=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let t;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?t=crypto.getRandomValues.bind(crypto):t=function(n){for(let i=0;i<n.length;i++)n[i]=Math.floor(Math.random()*256);return n};let e=new Uint8Array(16),r=[];for(let n=0;n<256;n++)r.push(n.toString(16).padStart(2,"0"));return function(){t(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let i=0,o="";return o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o+="-",o+=r[e[i++]],o+=r[e[i++]],o+="-",o+=r[e[i++]],o+=r[e[i++]],o+="-",o+=r[e[i++]],o+=r[e[i++]],o+="-",o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o+=r[e[i++]],o}}();var Ir=class t{static{this.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"]}constructor(e,r,n){this.properties=e,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(e,r){return new t(e||{},r||{},Date.now())}extendedBy(e,r){let n={...this.properties,...e},i={...this.measurements,...r},o=new t(n,i,this.issuedTime);return o.displayedTime=this.displayedTime,o.filtersAndExp=this.filtersAndExp,o}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=Date.now())}async extendWithExpTelemetry(e){this.filtersAndExp||await e.get(Us).addExpAndFilterToTelemetry(this),this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}extendWithEditorAgnosticFields(e){let r=e.get(Vt);this.properties.editor_version=r.getEditorInfo().format(),this.properties.editor_plugin_version=r.getEditorPluginInfo().format(),this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${r.getVersion()}`,this.properties.common_extname=r.getEditorPluginInfo().name,this.properties.common_extversion=r.getEditorPluginInfo().version,this.properties.common_vscodeversion=r.getEditorInfo().format()}extendWithConfigProperties(e){let r=e.get(Vt),n=e.get(Be).dumpConfig();n["copilot.build"]=r.getBuild(),n["copilot.buildType"]=r.getBuildType();let i=e.get(Ip);i.trackingId&&(n["copilot.trackingId"]=i.trackingId),i.organizationsList&&(n.organizations_list=i.organizationsList),this.properties={...this.properties,...n}}extendWithRequestId(e){let r={completionId:e.completionId,created:e.created.toString(),headerRequestId:e.headerRequestId,serverExperiments:e.serverExperiments,deploymentId:e.deploymentId};this.properties={...this.properties,...r}}static{this.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"]}static maybeRemoveRepoInfoFromPropertiesHack(e,r){if(e)return r;let n={};for(let i in r)t.keysToRemoveFromStandardTelemetryHack.includes(i)||(n[i]=r[i]);return n}sanitizeKeys(){this.properties=t.sanitizeKeys(this.properties),this.measurements=t.sanitizeKeys(this.measurements)}static sanitizeKeys(e){e=e||{};let r={};for(let n in e){let i=t.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[i]=e[n]}return r}updateTimeSinceIssuedAndDisplayed(){let e=Date.now()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=e,this.displayedTime!==void 0){let r=Date.now()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}}async makeReadyForSending(e,r,n){this.extendWithConfigProperties(e),this.extendWithEditorAgnosticFields(e),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(e),this.updateTimeSinceIssuedAndDisplayed();for(let i in this.properties)this.properties[i]===void 0&&delete this.properties[i];aOe(e,this.properties)}};function aOe(t,e){e.unique_id=Ri();let r=t.get(Vt);e.common_extname=r.getEditorPluginInfo().name,e.common_extversion=r.getEditorPluginInfo().version,e.common_vscodeversion=r.getEditorInfo().format()}var cOe=[{max_token_sequence_length:1,last_tokens_to_consider:10},{max_token_sequence_length:10,last_tokens_to_consider:30},{max_token_sequence_length:20,last_tokens_to_consider:45},{max_token_sequence_length:30,last_tokens_to_consider:60}];function Wne(t,e="client"){if(e==="proxy")return!1;let r=t.slice();return r.reverse(),$ne(r)||$ne(r.filter(n=>n.trim().length>0))}function $ne(t){let e=uOe(t);for(let r of cOe){if(t.length<r.last_tokens_to_consider)continue;if(r.last_tokens_to_consider-1-e[r.last_tokens_to_consider-1]<=r.max_token_sequence_length)return!0}return!1}function uOe(t){let e=Array(t.length).fill(0);e[0]=-1;let r=-1;for(let n=1;n<t.length;n++){for(;r>=0&&t[r+1]!==t[n];)r=e[r];t[r+1]===t[n]&&r++,e[n]=r}return e}var At=(n=>(n[n.InlineChat=1]="InlineChat",n[n.PanelChat=2]="PanelChat",n[n.Other=3]="Other",n))(At||{});(e=>{function t(r){switch(r){case 1:return"conversationInline";case 2:return"conversationPanel";default:return"none"}}e.toString=t})(At||={});var G1=Ie(uie()),lie=require("path"),Mr=class{constructor(){}tokenize(e){return this._cl100kTokenizer||(this._cl100kTokenizer=this.initTokenizer()),this._cl100kTokenizer.encode(e)}leadingString(e,r){return this._cl100kTokenizer||(this._cl100kTokenizer=this.initTokenizer()),this._cl100kTokenizer.encodeTrimPrefix(e,r).text}tokenLength(e){return e?this.tokenize(e).length:0}initTokenizer(){return(0,G1.createTokenizer)((0,lie.join)(__dirname,"./cl100k_base.tiktoken"),(0,G1.getSpecialTokensByEncoder)("cl100k_base"),(0,G1.getRegexByEncoder)("cl100k_base"),64e3)}};var FF=3;function Lc(t,e){let r=t.get(Mr),n=0;for(let i of e)n+=UF(r,i);return n+=FF,n}function UF(t,e){let i=3;for(let[o,s]of Object.entries(e))s&&(i+=t.tokenLength(s),o==="name"&&(i+=1));return i}var zF=require("events");function SOe(t,e){let r;return e.length===0?r=t:r=t.replace(/\{(\d+)\}/g,function(n,i){let o=i[0];return typeof e[o]<"u"?e[o]:n}),r}function fie(t,e,...r){return SOe(e,r)}var j1="en",rN=!1,nN=!1,hC=!1,IOe=!1,die=!1,qF=!1,wOe=!1,AOe=!1,ROe=!1,POe=!1,eN,tN=j1,pie=j1,NOe,Ap,Rp=globalThis,Qa;typeof Rp.vscode<"u"&&typeof Rp.vscode.process<"u"?Qa=Rp.vscode.process:typeof process<"u"&&(Qa=process);var mie=typeof Qa?.versions?.electron=="string",DOe=mie&&Qa?.type==="renderer";if(typeof Qa=="object"){rN=Qa.platform==="win32",nN=Qa.platform==="darwin",hC=Qa.platform==="linux",IOe=hC&&!!Qa.env.SNAP&&!!Qa.env.SNAP_REVISION,wOe=mie,ROe=!!Qa.env.CI||!!Qa.env.BUILD_ARTIFACTSTAGINGDIRECTORY,eN=j1,tN=j1;let t=Qa.env.VSCODE_NLS_CONFIG;if(t)try{let e=JSON.parse(t),r=e.availableLanguages["*"];eN=e.locale,pie=e.osLocale,tN=r||j1,NOe=e._translationsConfigFile}catch{}die=!0}else typeof navigator=="object"&&!DOe?(Ap=navigator.userAgent,rN=Ap.indexOf("Windows")>=0,nN=Ap.indexOf("Macintosh")>=0,AOe=(Ap.indexOf("Macintosh")>=0||Ap.indexOf("iPad")>=0||Ap.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,hC=Ap.indexOf("Linux")>=0,POe=Ap?.indexOf("Mobi")>=0,qF=!0,eN=(fie({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"),void 0)||j1,tN=eN,pie=navigator.language):console.error("Unable to resolve platform.");var BF=0;nN?BF=1:rN?BF=3:hC&&(BF=2);var Ml=rN,hie=nN,gie=hC;var vie=die;var _ie=qF,kOe=qF&&typeof Rp.importScripts=="function",yie=kOe?Rp.origin:void 0;var Ol=Ap,Mm=tN,LOe;(n=>{function t(){return Mm}n.value=t;function e(){return Mm.length===2?Mm==="en":Mm.length>=3?Mm[0]==="e"&&Mm[1]==="n"&&Mm[2]==="-":!1}n.isDefaultVariant=e;function r(){return Mm==="en"}n.isDefault=r})(LOe||={});var OOe=typeof Rp.postMessage=="function"&&!Rp.importScripts,bie=(()=>{if(OOe){let t=[];Rp.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=t.length;n<i;n++){let o=t[n];if(o.id===r.data.vscodeScheduleAsyncWork){t.splice(n,1),o.callback();return}}});let e=0;return r=>{let n=++e;t.push({id:n,callback:r}),Rp.postMessage({vscodeScheduleAsyncWork:n},"*")}}return t=>setTimeout(t)})();var MOe=!!(Ol&&Ol.indexOf("Chrome")>=0),mvt=!!(Ol&&Ol.indexOf("Firefox")>=0),hvt=!!(!MOe&&Ol&&Ol.indexOf("Safari")>=0),gvt=!!(Ol&&Ol.indexOf("Edg/")>=0),vvt=!!(Ol&&Ol.indexOf("Android")>=0);var sv,HF=globalThis.vscode;if(typeof HF<"u"&&typeof HF.process<"u"){let t=HF.process;sv={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"?sv={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:sv={get platform(){return Ml?"win32":hie?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};var gC=sv.cwd,xie=sv.env,Eie=sv.platform,bvt=sv.arch;var BOe=65,qOe=97,HOe=90,GOe=122,Bm=46,ho=47,pa=92,Fm=58,jOe=63,iN=class extends Error{constructor(r,n,i){let o;typeof n=="string"&&n.indexOf("not ")===0?(o="must not be",n=n.replace(/^not /,"")):o="must be";let s=r.indexOf(".")!==-1?"property":"argument",a=`The "${r}" ${s} ${o} of type ${n}`;a+=`. Received type ${typeof i}`;super(a);this.code="ERR_INVALID_ARG_TYPE"}};function VOe(t,e){if(t===null||typeof t!="object")throw new iN(e,"Object",t)}function Zn(t,e){if(typeof t!="string")throw new iN(e,"string",t)}var da=Eie==="win32";function Ot(t){return t===ho||t===pa}function GF(t){return t===ho}function Um(t){return t>=BOe&&t<=HOe||t>=qOe&&t<=GOe}function oN(t,e,r,n){let i="",o=0,s=-1,a=0,u=0;for(let c=0;c<=t.length;++c){if(c<t.length)u=t.charCodeAt(c);else{if(n(u))break;u=ho}if(n(u)){if(!(s===c-1||a===1))if(a===2){if(i.length<2||o!==2||i.charCodeAt(i.length-1)!==Bm||i.charCodeAt(i.length-2)!==Bm){if(i.length>2){let l=i.lastIndexOf(r);l===-1?(i="",o=0):(i=i.slice(0,l),o=i.length-1-i.lastIndexOf(r)),s=c,a=0;continue}else if(i.length!==0){i="",o=0,s=c,a=0;continue}}e&&(i+=i.length>0?`${r}..`:"..",o=2)}else i.length>0?i+=`${r}${t.slice(s+1,c)}`:i=t.slice(s+1,c),o=c-s-1;s=c,a=0}else u===Bm&&a!==-1?++a:a=-1}return i}function Tie(t,e){VOe(e,"pathObject");let r=e.dir||e.root,n=e.base||`${e.name||""}${e.ext||""}`;return r?r===e.root?`${r}${n}`:`${r}${t}${n}`:n}var ei={resolve(...t){let e="",r="",n=!1;for(let i=t.length-1;i>=-1;i--){let o;if(i>=0){if(o=t[i],Zn(o,"path"),o.length===0)continue}else e.length===0?o=gC():(o=xie[`=${e}`]||gC(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===pa)&&(o=`${e}\\`));let s=o.length,a=0,u="",c=!1,l=o.charCodeAt(0);if(s===1)Ot(l)&&(a=1,c=!0);else if(Ot(l))if(c=!0,Ot(o.charCodeAt(1))){let f=2,p=f;for(;f<s&&!Ot(o.charCodeAt(f));)f++;if(f<s&&f!==p){let m=o.slice(p,f);for(p=f;f<s&&Ot(o.charCodeAt(f));)f++;if(f<s&&f!==p){for(p=f;f<s&&!Ot(o.charCodeAt(f));)f++;(f===s||f!==p)&&(u=`\\\\${m}\\${o.slice(p,f)}`,a=f)}}}else a=1;else Um(l)&&o.charCodeAt(1)===Fm&&(u=o.slice(0,2),a=2,s>2&&Ot(o.charCodeAt(2))&&(c=!0,a=3));if(u.length>0)if(e.length>0){if(u.toLowerCase()!==e.toLowerCase())continue}else e=u;if(n){if(e.length>0)break}else if(r=`${o.slice(a)}\\${r}`,n=c,c&&e.length>0)break}return r=oN(r,!n,"\\",Ot),n?`${e}\\${r}`:`${e}${r}`||"."},normalize(t){Zn(t,"path");let e=t.length;if(e===0)return".";let r=0,n,i=!1,o=t.charCodeAt(0);if(e===1)return GF(o)?"\\":t;if(Ot(o))if(i=!0,Ot(t.charCodeAt(1))){let a=2,u=a;for(;a<e&&!Ot(t.charCodeAt(a));)a++;if(a<e&&a!==u){let c=t.slice(u,a);for(u=a;a<e&&Ot(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!Ot(t.charCodeAt(a));)a++;if(a===e)return`\\\\${c}\\${t.slice(u)}\\`;a!==u&&(n=`\\\\${c}\\${t.slice(u,a)}`,r=a)}}}else r=1;else Um(o)&&t.charCodeAt(1)===Fm&&(n=t.slice(0,2),r=2,e>2&&Ot(t.charCodeAt(2))&&(i=!0,r=3));let s=r<e?oN(t.slice(r),!i,"\\",Ot):"";return s.length===0&&!i&&(s="."),s.length>0&&Ot(t.charCodeAt(e-1))&&(s+="\\"),n===void 0?i?`\\${s}`:s:i?`${n}\\${s}`:`${n}${s}`},isAbsolute(t){Zn(t,"path");let e=t.length;if(e===0)return!1;let r=t.charCodeAt(0);return Ot(r)||e>2&&Um(r)&&t.charCodeAt(1)===Fm&&Ot(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,r;for(let o=0;o<t.length;++o){let s=t[o];Zn(s,"path"),s.length>0&&(e===void 0?e=r=s:e+=`\\${s}`)}if(e===void 0)return".";let n=!0,i=0;if(typeof r=="string"&&Ot(r.charCodeAt(0))){++i;let o=r.length;o>1&&Ot(r.charCodeAt(1))&&(++i,o>2&&(Ot(r.charCodeAt(2))?++i:n=!1))}if(n){for(;i<e.length&&Ot(e.charCodeAt(i));)i++;i>=2&&(e=`\\${e.slice(i)}`)}return ei.normalize(e)},relative(t,e){if(Zn(t,"from"),Zn(e,"to"),t===e)return"";let r=ei.resolve(t),n=ei.resolve(e);if(r===n||(t=r.toLowerCase(),e=n.toLowerCase(),t===e))return"";let i=0;for(;i<t.length&&t.charCodeAt(i)===pa;)i++;let o=t.length;for(;o-1>i&&t.charCodeAt(o-1)===pa;)o--;let s=o-i,a=0;for(;a<e.length&&e.charCodeAt(a)===pa;)a++;let u=e.length;for(;u-1>a&&e.charCodeAt(u-1)===pa;)u--;let c=u-a,l=s<c?s:c,f=-1,p=0;for(;p<l;p++){let d=t.charCodeAt(i+p);if(d!==e.charCodeAt(a+p))break;d===pa&&(f=p)}if(p!==l){if(f===-1)return n}else{if(c>l){if(e.charCodeAt(a+p)===pa)return n.slice(a+p+1);if(p===2)return n.slice(a+p)}s>l&&(t.charCodeAt(i+p)===pa?f=p:p===2&&(f=3)),f===-1&&(f=0)}let m="";for(p=i+f+1;p<=o;++p)(p===o||t.charCodeAt(p)===pa)&&(m+=m.length===0?"..":"\\..");return a+=f,m.length>0?`${m}${n.slice(a,u)}`:(n.charCodeAt(a)===pa&&++a,n.slice(a,u))},toNamespacedPath(t){if(typeof t!="string"||t.length===0)return t;let e=ei.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===pa){if(e.charCodeAt(1)===pa){let r=e.charCodeAt(2);if(r!==jOe&&r!==Bm)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(Um(e.charCodeAt(0))&&e.charCodeAt(1)===Fm&&e.charCodeAt(2)===pa)return`\\\\?\\${e}`;return t},dirname(t){Zn(t,"path");let e=t.length;if(e===0)return".";let r=-1,n=0,i=t.charCodeAt(0);if(e===1)return Ot(i)?t:".";if(Ot(i)){if(r=n=1,Ot(t.charCodeAt(1))){let a=2,u=a;for(;a<e&&!Ot(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&Ot(t.charCodeAt(a));)a++;if(a<e&&a!==u){for(u=a;a<e&&!Ot(t.charCodeAt(a));)a++;if(a===e)return t;a!==u&&(r=n=a+1)}}}}else Um(i)&&t.charCodeAt(1)===Fm&&(r=e>2&&Ot(t.charCodeAt(2))?3:2,n=r);let o=-1,s=!0;for(let a=e-1;a>=n;--a)if(Ot(t.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(r===-1)return".";o=r}return t.slice(0,o)},basename(t,e){e!==void 0&&Zn(e,"ext"),Zn(t,"path");let r=0,n=-1,i=!0,o;if(t.length>=2&&Um(t.charCodeAt(0))&&t.charCodeAt(1)===Fm&&(r=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=r;--o){let u=t.charCodeAt(o);if(Ot(u)){if(!i){r=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=r;--o)if(Ot(t.charCodeAt(o))){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){Zn(t,"path");let e=0,r=-1,n=0,i=-1,o=!0,s=0;t.length>=2&&t.charCodeAt(1)===Fm&&Um(t.charCodeAt(0))&&(e=n=2);for(let a=t.length-1;a>=e;--a){let u=t.charCodeAt(a);if(Ot(u)){if(!o){n=a+1;break}continue}i===-1&&(o=!1,i=a+1),u===Bm?r===-1?r=a:s!==1&&(s=1):r!==-1&&(s=-1)}return r===-1||i===-1||s===0||s===1&&r===i-1&&r===n+1?"":t.slice(r,i)},format:Tie.bind(null,"\\"),parse(t){Zn(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let r=t.length,n=0,i=t.charCodeAt(0);if(r===1)return Ot(i)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(Ot(i)){if(n=1,Ot(t.charCodeAt(1))){let f=2,p=f;for(;f<r&&!Ot(t.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&Ot(t.charCodeAt(f));)f++;if(f<r&&f!==p){for(p=f;f<r&&!Ot(t.charCodeAt(f));)f++;f===r?n=f:f!==p&&(n=f+1)}}}}else if(Um(i)&&t.charCodeAt(1)===Fm){if(r<=2)return e.root=e.dir=t,e;if(n=2,Ot(t.charCodeAt(2))){if(r===3)return e.root=e.dir=t,e;n=3}}n>0&&(e.root=t.slice(0,n));let o=-1,s=n,a=-1,u=!0,c=t.length-1,l=0;for(;c>=n;--c){if(i=t.charCodeAt(c),Ot(i)){if(!u){s=c+1;break}continue}a===-1&&(u=!1,a=c+1),i===Bm?o===-1?o=c:l!==1&&(l=1):o!==-1&&(l=-1)}return a!==-1&&(o===-1||l===0||l===1&&o===a-1&&o===s+1?e.base=e.name=t.slice(s,a):(e.name=t.slice(s,o),e.base=t.slice(s,a),e.ext=t.slice(o,a))),s>0&&s!==n?e.dir=t.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},zOe=(()=>{if(da){let t=/\\/g;return()=>{let e=gC().replace(t,"/");return e.slice(e.indexOf("/"))}}return()=>gC()})(),wr={resolve(...t){let e="",r=!1;for(let n=t.length-1;n>=-1&&!r;n--){let i=n>=0?t[n]:zOe();Zn(i,"path"),i.length!==0&&(e=`${i}/${e}`,r=i.charCodeAt(0)===ho)}return e=oN(e,!r,"/",GF),r?`/${e}`:e.length>0?e:"."},normalize(t){if(Zn(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===ho,r=t.charCodeAt(t.length-1)===ho;return t=oN(t,!e,"/",GF),t.length===0?e?"/":r?"./":".":(r&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return Zn(t,"path"),t.length>0&&t.charCodeAt(0)===ho},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){let n=t[r];Zn(n,"path"),n.length>0&&(e===void 0?e=n:e+=`/${n}`)}return e===void 0?".":wr.normalize(e)},relative(t,e){if(Zn(t,"from"),Zn(e,"to"),t===e||(t=wr.resolve(t),e=wr.resolve(e),t===e))return"";let r=1,n=t.length,i=n-r,o=1,s=e.length-o,a=i<s?i:s,u=-1,c=0;for(;c<a;c++){let f=t.charCodeAt(r+c);if(f!==e.charCodeAt(o+c))break;f===ho&&(u=c)}if(c===a)if(s>a){if(e.charCodeAt(o+c)===ho)return e.slice(o+c+1);if(c===0)return e.slice(o+c)}else i>a&&(t.charCodeAt(r+c)===ho?u=c:c===0&&(u=0));let l="";for(c=r+u+1;c<=n;++c)(c===n||t.charCodeAt(c)===ho)&&(l+=l.length===0?"..":"/..");return`${l}${e.slice(o+u)}`},toNamespacedPath(t){return t},dirname(t){if(Zn(t,"path"),t.length===0)return".";let e=t.charCodeAt(0)===ho,r=-1,n=!0;for(let i=t.length-1;i>=1;--i)if(t.charCodeAt(i)===ho){if(!n){r=i;break}}else n=!1;return r===-1?e?"/":".":e&&r===1?"//":t.slice(0,r)},basename(t,e){e!==void 0&&Zn(e,"ext"),Zn(t,"path");let r=0,n=-1,i=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){let u=t.charCodeAt(o);if(u===ho){if(!i){r=o+1;break}}else a===-1&&(i=!1,a=o+1),s>=0&&(u===e.charCodeAt(s)?--s===-1&&(n=o):(s=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===ho){if(!i){r=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":t.slice(r,n)},extname(t){Zn(t,"path");let e=-1,r=0,n=-1,i=!0,o=0;for(let s=t.length-1;s>=0;--s){let a=t.charCodeAt(s);if(a===ho){if(!i){r=s+1;break}continue}n===-1&&(i=!1,n=s+1),a===Bm?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===r+1?"":t.slice(e,n)},format:Tie.bind(null,"/"),parse(t){Zn(t,"path");let e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;let r=t.charCodeAt(0)===ho,n;r?(e.root="/",n=1):n=0;let i=-1,o=0,s=-1,a=!0,u=t.length-1,c=0;for(;u>=n;--u){let l=t.charCodeAt(u);if(l===ho){if(!a){o=u+1;break}continue}s===-1&&(a=!1,s=u+1),l===Bm?i===-1?i=u:c!==1&&(c=1):i!==-1&&(c=-1)}if(s!==-1){let l=o===0&&r?1:o;i===-1||c===0||c===1&&i===s-1&&i===o+1?e.base=e.name=t.slice(l,s):(e.name=t.slice(l,i),e.base=t.slice(l,s),e.ext=t.slice(i,s))}return o>0?e.dir=t.slice(0,o-1):r&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};wr.win32=ei.win32=ei;wr.posix=ei.posix=wr;var jF=da?ei.normalize:wr.normalize,YOe=da?ei.isAbsolute:wr.isAbsolute,$Oe=da?ei.join:wr.join,Sie=da?ei.resolve:wr.resolve,Cie=da?ei.relative:wr.relative,Iie=da?ei.dirname:wr.dirname,xvt=da?ei.basename:wr.basename,Evt=da?ei.extname:wr.extname,Tvt=da?ei.format:wr.format,Svt=da?ei.parse:wr.parse,Cvt=da?ei.toNamespacedPath:wr.toNamespacedPath,V1=da?ei.sep:wr.sep,Ivt=da?ei.delimiter:wr.delimiter;var WOe=/^\w[\w\d+.-]*$/,KOe=/^\//,XOe=/^\/\//;function QOe(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!WOe.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!KOe.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(XOe.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function JOe(t,e){return!t&&!e?"file":t}function ZOe(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==Uu&&(e=Uu+e):e=Uu;break}return e}var $r="",Uu="/",e5e=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Pt=class t{static isUri(e){return e instanceof t?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}constructor(e,r,n,i,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||$r,this.authority=e.authority||$r,this.path=e.path||$r,this.query=e.query||$r,this.fragment=e.fragment||$r):(this.scheme=JOe(e,s),this.authority=r||$r,this.path=ZOe(this.scheme,n||$r),this.query=i||$r,this.fragment=o||$r,QOe(this,s))}get fsPath(){return vC(this,!1)}with(e){if(!e)return this;let{scheme:r,authority:n,path:i,query:o,fragment:s}=e;return r===void 0?r=this.scheme:r===null&&(r=$r),n===void 0?n=this.authority:n===null&&(n=$r),i===void 0?i=this.path:i===null&&(i=$r),o===void 0?o=this.query:o===null&&(o=$r),s===void 0?s=this.fragment:s===null&&(s=$r),r===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&s===this.fragment?this:new qm(r,n,i,o,s)}static parse(e,r=!1){let n=e5e.exec(e);return n?new qm(n[2]||$r,sN(n[4]||$r),sN(n[5]||$r),sN(n[7]||$r),sN(n[9]||$r),r):new qm($r,$r,$r,$r,$r)}static file(e){let r=$r;if(Ml&&(e=e.replace(/\\/g,Uu)),e[0]===Uu&&e[1]===Uu){let n=e.indexOf(Uu,2);n===-1?(r=e.substring(2),e=Uu):(r=e.substring(2,n),e=e.substring(n)||Uu)}return new qm("file",r,e,$r,$r)}static from(e,r){return new qm(e.scheme,e.authority,e.path,e.query,e.fragment,r)}static joinPath(e,...r){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return Ml&&e.scheme==="file"?n=t.file(ei.join(vC(e,!0),...r)).path:n=wr.join(e.path,...r),e.with({path:n})}toString(e=!1){return VF(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof t)return e;{let r=new qm(e);return r._formatted=e.external??null,r._fsPath=e._sep===Pie?e.fsPath??null:null,r}}else return e}};var Pie=Ml?1:void 0,qm=class extends Pt{constructor(){super(...arguments);this._formatted=null;this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=vC(this,!1)),this._fsPath}toString(r=!1){return r?VF(this,!0):(this._formatted||(this._formatted=VF(this,!1)),this._formatted)}toJSON(){let r={$mid:1};return this._fsPath&&(r.fsPath=this._fsPath,r._sep=Pie),this._formatted&&(r.external=this._formatted),this.path&&(r.path=this.path),this.scheme&&(r.scheme=this.scheme),this.authority&&(r.authority=this.authority),this.query&&(r.query=this.query),this.fragment&&(r.fragment=this.fragment),r}},Nie={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function Aie(t,e,r){let n,i=-1;for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||s===45||s===46||s===95||s===126||e&&s===47||r&&s===91||r&&s===93||r&&s===58)i!==-1&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),n!==void 0&&(n+=t.charAt(o));else{n===void 0&&(n=t.substr(0,o));let a=Nie[s];a!==void 0?(i!==-1&&(n+=encodeURIComponent(t.substring(i,o)),i=-1),n+=a):i===-1&&(i=o)}}return i!==-1&&(n+=encodeURIComponent(t.substring(i))),n!==void 0?n:t}function t5e(t){let e;for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);n===35||n===63?(e===void 0&&(e=t.substr(0,r)),e+=Nie[n]):e!==void 0&&(e+=t[r])}return e!==void 0?e:t}function vC(t,e){let r;return t.authority&&t.path.length>1&&t.scheme==="file"?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?e?r=t.path.substr(1):r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,Ml&&(r=r.replace(/\//g,"\\")),r}function VF(t,e){let r=e?t5e:Aie,n="",{scheme:i,authority:o,path:s,query:a,fragment:u}=t;if(i&&(n+=i,n+=":"),(o||i==="file")&&(n+=Uu,n+=Uu),o){let c=o.indexOf("@");if(c!==-1){let l=o.substr(0,c);o=o.substr(c+1),c=l.lastIndexOf(":"),c===-1?n+=r(l,!1,!1):(n+=r(l.substr(0,c),!1,!1),n+=":",n+=r(l.substr(c+1),!1,!0)),n+="@"}o=o.toLowerCase(),c=o.lastIndexOf(":"),c===-1?n+=r(o,!1,!0):(n+=r(o.substr(0,c),!1,!0),n+=o.substr(c))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){let c=s.charCodeAt(1);c>=65&&c<=90&&(s=`/${String.fromCharCode(c+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){let c=s.charCodeAt(0);c>=65&&c<=90&&(s=`${String.fromCharCode(c+32)}:${s.substr(2)}`)}n+=r(s,!0,!1)}return a&&(n+="?",n+=r(a,!1,!1)),u&&(n+="#",n+=e?u:Aie(u,!1,!1)),n}function Die(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+Die(t.substr(3)):t}}var Rie=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function sN(t){return t.match(Rie)?t.replace(Rie,e=>Die(e)):t}var kie="github.com",r5e=`https://${kie}`,Pp=class{},aN=class extends Pp{constructor(r=r5e){super();this.recalculateUrls(r)}isGitHubEnterprise(){return this.isEnterprise}getTokenUrl(r){return r.devOverride?.copilotTokenUrl??this.tokenUrl}getNotificationUrl(r){return r.devOverride?.notificationUrl??this.notificationUrl}updateBaseUrl(r,n){if(!n)return;let i=this.baseUri;this.recalculateUrls(n),i.toString()!==this.baseUri.toString()&&r.get(gt).resetCopilotToken(r)}recalculateUrls(r){this.baseUri=Pt.parse(r);let n=Pt.parse(`${this.baseUri.scheme}://api.${this.baseUri.authority}`);this.isEnterprise=this.baseUri.authority!==kie,this.tokenUrl=Pt.joinPath(n,"/copilot_internal/v2/token").toString(),this.notificationUrl=Pt.joinPath(n,"/copilot_internal/notification").toString()}};var z1=Wt("IUrlOpener");var av=class{};var n5e=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],cv=class{constructor(){this.notifiedErrorCodes=[]}async notifyUser(e,r){n5e.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(e,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(e,r){let n="https://aka.ms/copilot-ssc",i="Your current Copilot license doesn't support proxy connections with self-signed certificates.";e.get(Ae).getLogger("certificates").error(`${i} Please visit ${n} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(e,i,n)}showCertificateWarningMessage(e,r,n){let i={title:"Learn more"};e.get(av).showWarningMessage(r,i).then(o=>{o?.title===i.title&&e.get(z1).open(n)})}didNotifyBefore(e){return this.notifiedErrorCodes.indexOf(e)!==-1}};var Np=class{constructor(e,r,n){this.token=e;this.organization_list=r;this.public_suggestions=n;this.tokenMap=this.parseToken(e)}parseToken(e){let r=new Map,i=e?.split(":")[0]?.split(";");for(let o of i){let[s,a]=o.split("=");r.set(s,a)}return r}get isInternal(){let e=["4535c7beffc844b46bb1ed4aa04d759a","a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","1cb18ac6eedd49b43d74a1c5beb0b955"];if(!this.organization_list)return!1;for(let r of this.organization_list)if(e.includes(r))return!0;return!1}getTokenValue(e){return this.tokenMap.get(e)}};var gt=class{constructor(){this.copilotTokenRefreshEventEmitter=new zF.EventEmitter;this.githubTokenChangedEventEmitter=new zF.EventEmitter}};function Oie(t){return t.get(Ae).getLogger("auth")}var i5e=60,o5e="token_refreshed",s5e="github_token_changed";function Hm(){return Math.floor(Date.now()/1e3)}async function cN(t,e){let r=Oie(t),n=t.get(xt),i=t.get(pt);n.sendTelemetry("auth.new_login"),i.sendGHTelemetryEvent("auth.new_login");let o=await a5e(t,e);if(!o)return r.info("Failed to get copilot token"),n.sendErrorTelemetry("auth.request_failed"),{kind:"failure",reason:"FailedToGetToken"};let s=await o.json();if(!s)return r.info("Failed to get copilot token"),n.sendErrorTelemetry("auth.request_read_failed"),{kind:"failure",reason:"FailedToGetToken"};if(o.status===401)return r.info("Failed to get copilot token due to 401 status"),n.sendErrorTelemetry("auth.unknown_401"),{kind:"failure",reason:"HTTP401"};if(!o.ok||!s.token)return r.info(`Invalid copilot token: missing token: ${o.status} ${o.statusText}`),n.sendErrorTelemetry("auth.invalid_token",Ir.createAndMarkAsIssued({status:o.status.toString(),status_text:o.statusText})),{kind:"failure",reason:"NotAuthorized",...s.error_details};let a=s.expires_at;s.expires_at=Hm()+s.refresh_in+i5e;let{token:u,organization_list:c,...l}=s,f=new Np(u,c);t.get(Go).emit(f,l);let p=Ir.createAndMarkAsIssued({},{adjusted_expires_at:s.expires_at,expires_at:a,current_time:Hm()});return n.sendTelemetry("auth.new_token",p),i.sendGHTelemetryEvent("auth.new_token",p.properties,p.measurements),{kind:"success",...s}}async function a5e(t,e){let r=t.get(Pp).getTokenUrl(e);try{return await t.get(Yr).fetch(r,{headers:{Authorization:`token ${e.token}`,...t.get(Vt).getEditorVersionHeaders()}})}catch(n){throw t.get(cv).notifyUser(t,n),n}}var Y1=class extends gt{constructor(r,n){super();this.completionsToken=r;this.embeddingsToken=n;this.wasReset=!1}getAnyGitHubToken(){return Promise.resolve(this.completionsToken)}getPermissiveGitHubToken(){return Promise.resolve(this.completionsToken)}async getCopilotToken(r,n){return new Np(this.completionsToken)}async getEmbeddingsToken(r,n){return new Np(this.embeddingsToken??this.completionsToken)}resetCopilotToken(r,n){this.wasReset=!0}async checkCopilotToken(r){return{status:"OK"}}},yC=class extends gt{constructor(r){super();this.githubToken=r;this.copilotToken=void 0}getAnyGitHubToken(){return Promise.resolve(this.githubToken.token)}getPermissiveGitHubToken(){return Promise.resolve(this.githubToken.token)}async getCopilotToken(r,n){if(!this.copilotToken||this.copilotToken.expires_at<Hm()||n){let i=await cN(r,this.githubToken);if(i.kind==="failure")throw Error(`Failed to get copilot token: ${i.reason.toString()} ${i.message??""}`);this.copilotToken={...i},uN(r,this,i.refresh_in)}return new Np(this.copilotToken.token,this.copilotToken.organization_list,this.copilotToken.public_suggestions)}async checkCopilotToken(r){if(!this.copilotToken||this.copilotToken.expires_at<Hm()){let i=await cN(r,this.githubToken);if(i.kind==="failure")return i;this.copilotToken={...i},uN(r,this,i.refresh_in)}return{status:"OK"}}resetCopilotToken(r,n){n!==void 0&&(r.get(xt).sendTelemetry("auth.reset_token_"+n),r.get(pt).sendGHTelemetryEvent("auth.reset_token_"+n)),Oie(r).debug(`Resetting copilot token on HTTP error ${n||"unknown"}`),this.copilotToken=void 0}},Lie=new WeakMap;function uN(t,e,r){let n=Hm(),i=Lie.get(e)??Lie.set(e,{value:0}).get(e);i.value>0||(i.value++,setTimeout(async()=>{let o,s="";try{i.value--,await e.getCopilotToken(t,!0),o="success",e.copilotTokenRefreshEventEmitter.emit(o5e)}catch(u){o="failure",s=u.toString()}let a=Ir.createAndMarkAsIssued({result:o},{time_taken:Hm()-n,refresh_count:i.value});s&&(a.properties.reason=s),t.get(xt).sendTelemetry("auth.token_refresh",a),t.get(pt).sendGHTelemetryEvent("auth.token_refresh",a.properties,a.measurements)},r*1e3))}function Mie(t,e){t.provider.id==="github"&&e.githubTokenChangedEventEmitter.emit(s5e,t)}function bC(t,e){return{headerRequestId:t.headers.get("x-request-id")||"",completionId:e&&e.id?e.id:"",created:e&&e.created?e.created:0,serverExperiments:t.headers.get("X-Copilot-Experiment")||"",deploymentId:t.headers.get("azureml-model-deployment")||""}}function Fie(t){let e=t.headers.get("openai-processing-ms");return e?parseInt(e,10):0}function Uie(t){if(typeof t!="object"||t===null||!("details"in t))return!1;let{details:e}=t;return typeof e=="object"&&e!==null&&"type"in e&&"description"in e&&typeof e.type=="string"&&typeof e.description=="string"}var Gm=class{},c5e=30*1e3;function jm(t,e,r,n,i,o,s){let a=t.get(Vt),u={Authorization:`Bearer ${r}`,"X-Request-Id":i,"X-GitHub-Api-Version":"2023-07-07","VScode-SessionId":a.sessionId,"VScode-MachineId":a.machineId,...a.getEditorVersionHeaders(),...e.getExtraHeaders?e.getExtraHeaders():{}};e.interceptBody&&e.interceptBody(o),t.get($1).contributeHeaders(u),n&&(u["OpenAI-Intent"]=n);let c={method:"POST",headers:u,json:o,timeout:c5e},l=t.get(xt),f=t.get(pt),p=t.get(Yr);if(s){let d=p.makeAbortController();s.onCancellationRequested(()=>{l.sendTelemetry("networking.cancelRequest",Ir.createAndMarkAsIssued({headerRequestId:i})),f.sendGHTelemetryEvent("networking.cancelRequest",{headerRequestId:i}),d.abort()}),c.signal=d.signal}return p.fetch(e.url,c).catch(d=>{if(d.code==="ECONNRESET"||d.code==="ETIMEDOUT"||d.code==="ERR_HTTP2_INVALID_SESSION"||d.message==="ERR_HTTP2_GOAWAY_SESSION")return l.sendTelemetry("networking.disconnectAll"),f.sendGHTelemetryEvent("networking.disconnectAll"),p.disconnectAll().then(()=>p.fetch(e.url,c));throw d})}var $1=class{constructor(){this.contributors=[]}add(e){this.contributors.push(e)}remove(e){let r=this.contributors.indexOf(e);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(e){for(let r of this.contributors)r.contributeHeaderValues(e)}size(){return this.contributors.length}};var YF=class{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.newText=[];this.tokens=[];this.text_offset=[]}append(e){e.text&&(this.text.push(e.text),this.newText.push(e.text)),e.delta?.content&&(this.text.push(e.delta.content),this.newText.push(e.delta.content)),e.logprobs&&(this.tokens.push(e.logprobs.tokens??[]),this.text_offset.push(e.logprobs.text_offset??[]),this.logprobs.push(e.logprobs.token_logprobs??[]),this.top_logprobs.push(e.logprobs.top_logprobs??[]))}flush(){let e=this.newText.join("");return this.newText=[],e}};function l5e(t){let e=t.split(`
`),r=e.pop();return[e.filter(n=>n!==""),r]}var lN=class t{constructor(e,r,n,i,o,s,a,u,c){this.expectedNumChoices=r;this.ourRequestId=n;this.response=i;this.body=o;this.telemetryData=s;this.dropCompletionReasons=a;this.fastCancellation=u;this.cancellationToken=c;this.requestId=bC(this.response);this.stats=new $F(this.expectedNumChoices);this.solutions={};this.logger=e.get(Ae).getLogger("streamChoices"),this.ghTelemetry=e.get(xt),this.telemetryService=e.get(pt)}static async create(e,r,n,i,o,s,a){let u=await i.body();u.setEncoding("utf8");let c=await e.get(Us).fastCancellation();return new t(e,r,n,i,u,o,s??["content_filter"],c,a)}async*processSSE(e=async()=>{}){try{yield*this.processSSEInner(e)}finally{this.fastCancellation&&this.cancel(),this.logger.info(`request done: requestId: [${this.ourRequestId}] responseId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),this.logger.debug(`request stats: ${this.stats}`)}}async*processSSEInner(e){let r="",n=!1;e:for await(let i of this.body){if(this.maybeCancel("after awaiting body chunk"))return;this.logger.debug("chunk",i.toString());let[o,s]=l5e(r+i.toString());r=s;for(let a of o){let u=a.slice(5).trim();if(u==="[DONE]"){yield*this.finishSolutions();return}let c;try{c=JSON.parse(u)}catch{this.logger.error(`Error parsing JSON stream data for request id ${this.requestId.headerRequestId}:`,a),Dp(this.ghTelemetry,`Error parsing JSON stream data for request id ${this.requestId.headerRequestId}:`,a);continue}if(!c.choices){c.copilot_references||(c.error!==void 0?(this.logger.error(`Error in response for request id ${this.requestId.headerRequestId}:`,c.error.message),Dp(this.ghTelemetry,`Error in response for request id ${this.requestId.headerRequestId}:`,c.error.message)):(this.logger.error(`Unexpected response with no choices or error for request id ${this.requestId.headerRequestId}`),Dp(this.ghTelemetry,`Unexpected response with no choices or error for request id ${this.requestId.headerRequestId}`)));continue}if(this.requestId.created===0&&(this.requestId=bC(this.response,c),this.requestId.created===0&&c.choices?.length&&(this.logger.error(`Request id invalid, should have "completionId" and "created": ${JSON.stringify(this.requestId)}`,this.requestId),Dp(this.ghTelemetry,`Request id invalid, should have "completionId" and "created": ${JSON.stringify(this.requestId)}`,this.requestId))),this.allSolutionsDone()&&this.fastCancellation)break e;for(let l=0;l<c.choices.length;l++){let f=c.choices[l];this.logger.debug("choice",f),this.stats.add(f.index),f.index in this.solutions||(this.solutions[f.index]=new YF);let p=this.solutions[f.index];if(p===null)continue;let m,d=async _=>(_&&(!Array.isArray(_)||!_.every(y=>Uie(y)))&&(_=void 0),m=await e(p.text.join(""),f.index,{text:p.flush(),codeVulnAnnotations:_}),m!==void 0&&(n=!0),this.maybeCancel("after awaiting finishedCb"));if(f.delta?.annotations?.CodeVulnerability){if(await d()||!n&&(p.append(f),await d(f.delta.annotations.CodeVulnerability)))continue}else{p.append(f);let _=f.text?.indexOf(`
`)>-1||f.delta?.content?.includes(`
`);if((f.finish_reason||_)&&await d())continue}if(!(!!f.finish_reason||m!==void 0))continue;let g=f.finish_reason??"client-trimmed",v=this.telemetryData.extendedBy({completionChoiceFinishReason:g});if(this.ghTelemetry.sendTelemetry("completion.finishReason",v),this.telemetryService.sendGHTelemetryEvent("completion.finishReason",v.properties,v.measurements),this.dropCompletionReasons.includes(f.finish_reason)?this.solutions[f.index]=null:(this.stats.markYielded(f.index),yield{solution:p,finishOffset:m,reason:f.finish_reason??"client-trimmed",filterReason:f5e(f),requestId:this.requestId,index:f.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[f.index]=null}}}for(let[i,o]of Object.entries(this.solutions)){let s=Number(i);if(o!==null&&(this.stats.markYielded(s),yield{solution:o,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:s},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0&&!n)try{let i=JSON.parse(r);i.error!==void 0&&(this.logger.error(`Error in response: ${i.error.message}`,i.error),Dp(this.ghTelemetry,`Error in response: ${i.error.message}`,i.error))}catch{this.logger.error(`Error parsing extraData for request id ${this.requestId.headerRequestId}: ${r}`),Dp(this.ghTelemetry,`Error parsing extraData for request id ${this.requestId.headerRequestId}: ${r}`)}}async*finishSolutions(){for(let[e,r]of Object.entries(this.solutions)){let n=Number(e);if(r!==null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(e){return this.cancellationToken?.isCancellationRequested?(this.logger.debug("Cancelled: "+e),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let e=Object.values(this.solutions);return e.length===this.expectedNumChoices&&e.every(r=>r===null)}};function qie(t,e){let n={text:e.text.join(""),tokens:e.text};if(e.logprobs.length===0)return n;let i=e.logprobs.reduce((u,c)=>u.concat(c),[]),o=e.top_logprobs.reduce((u,c)=>u.concat(c),[]),s=e.text_offset.reduce((u,c)=>u.concat(c),[]),a=e.tokens.reduce((u,c)=>u.concat(c),[]);return{...n,logprobs:{token_logprobs:i,top_logprobs:o,text_offset:s,tokens:a}}}function f5e(t){if(t.finish_reason!=="content_filter")return;if(!!t.delta?.annotations?.TextCopyright)return"snippy";if(t.content_filter_results){for(let r of Object.keys(t.content_filter_results))if(t.content_filter_results[r]?.filtered)return r}}var $F=class{constructor(e){this.choices=new Map;for(let r=0;r<e;r++)this.choices.set(r,new WF)}add(e){this.choices.get(e).increment()}markYielded(e){this.choices.get(e).markYielded()}toString(){return Array.from(this.choices.entries()).map(([e,r])=>`${e}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}},WF=class{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};function Dp(t,e,r){let n=[e,r],i=n.length>0?JSON.stringify(n):"no msg";t.sendRestrictedErrorTelemetry("log",Ir.createAndMarkAsIssued({context:"fetch",level:pC[3],message:i})),t.sendErrorTelemetry("log",Ir.createAndMarkAsIssued({context:"fetch",level:pC[3],message:"[redacted]"}))}var Hie=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),Oc;(n=>{function t(i){return i===n.None||i===n.Cancelled||i instanceof W1?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}n.isCancellationToken=t,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:B1.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Hie})})(Oc||={});var W1=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Hie:(this._emitter||(this._emitter=new hs),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}},K1=class{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new W1),this._token}cancel(){this._token?this._token instanceof W1&&this._token.cancel():this._token=Oc.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof W1&&this._token.dispose():this._token=Oc.None}};var fN=class{constructor(e){this.fn=e;this.lastCache=void 0;this.lastArgKey=void 0}get(e){let r=JSON.stringify(e);return this.lastArgKey!==r&&(this.lastArgKey=r,this.lastCache=this.fn(e)),this.lastCache}};var ma=class{constructor(e){this.executor=e;this._didRun=!1}get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}};function pN(t){return t.split(/\r\n|\r|\n/)}function Yie(t){for(let e=0,r=t.length;e<r;e++){let n=t.charCodeAt(e);if(n!==32&&n!==9)return e}return-1}function dN(t,e,r){let n=[],i=0;for(let o of t.matchAll(e)){if(n.push(t.slice(i,o.index)),o.index===void 0)throw new Error("match.index should be defined");i=o.index+o[0].length,n.push(r(o[0],...o.slice(1),o.index,t,o.groups))}return n.push(t.slice(i)),Promise.all(n).then(o=>o.join(""))}function $ie(t,e){return t<e?-1:t>e?1:0}function p5e(t,e,r=0,n=t.length,i=0,o=e.length){for(;r<n&&i<o;r++,i++){let u=t.charCodeAt(r),c=e.charCodeAt(i);if(u<c)return-1;if(u>c)return 1}let s=n-r,a=o-i;return s<a?-1:s>a?1:0}function Wie(t,e,r=0,n=t.length,i=0,o=e.length){for(;r<n&&i<o;r++,i++){let u=t.charCodeAt(r),c=e.charCodeAt(i);if(u===c)continue;if(u>=128||c>=128)return p5e(t.toLowerCase(),e.toLowerCase(),r,n,i,o);Gie(u)&&(u-=32),Gie(c)&&(c-=32);let l=u-c;if(l!==0)return l}let s=n-r,a=o-i;return s<a?-1:s>a?1:0}function Gie(t){return t>=97&&t<=122}function mN(t,e){return t.length===e.length&&Wie(t,e)===0}function KF(t,e){let r=e.length;return e.length>t.length?!1:Wie(t,e,0,r)===0}function Kie(t,e){let r=Math.min(t.length,e.length),n;for(n=0;n<r;n++)if(t.charCodeAt(n)!==e.charCodeAt(n))return n;return r}function Xie(t,e){let r=Math.min(t.length,e.length),n,i=t.length-1,o=e.length-1;for(n=0;n<r;n++)if(t.charCodeAt(i-n)!==e.charCodeAt(o-n))return n;return r}var U_t=String.fromCharCode(65279);var jie=class t{static{this._INSTANCE=null}static getInstance(){return t._INSTANCE||(t._INSTANCE=new t),t._INSTANCE}constructor(){this._data=d5e()}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;let r=this._data,n=r.length/3,i=1;for(;i<=n;)if(e<r[3*i])i=2*i;else if(e>r[3*i+1])i=2*i+1;else return r[3*i+2];return 0}};function d5e(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}var Vie=class t{constructor(e){this.confusableDictionary=e}static{this.ambiguousCharacterData=new ma(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'))}static{this.cache=new fN(e=>{function r(l){let f=new Map;for(let p=0;p<l.length;p+=2)f.set(l[p],l[p+1]);return f}function n(l,f){let p=new Map(l);for(let[m,d]of f)p.set(m,d);return p}function i(l,f){if(!l)return f;let p=new Map;for(let[m,d]of l)f.has(m)&&p.set(m,d);return p}let o=this.ambiguousCharacterData.value,s=e.filter(l=>!l.startsWith("_")&&l in o);s.length===0&&(s=["_default"]);let a;for(let l of s){let f=r(o[l]);a=i(a,f)}let u=r(o._common),c=n(u,a);return new t(c)})}static getInstance(e){return t.cache.get(Array.from(e))}static{this._locales=new ma(()=>Object.keys(t.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")))}static getLocales(){return t._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}},zie=class t{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static{this._data=void 0}static getData(){return this._data||(this._data=new Set(t.getRawData())),this._data}static isInvisibleCharacter(e){return t.getData().has(e)}static get codePoints(){return t.getData()}};function Vm(t){return t===47||t===92}function XF(t){return t.replace(/[\\/]/g,wr.sep)}function Qie(t){return t.indexOf("/")===-1&&(t=XF(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}function QF(t,e=wr.sep){if(!t)return"";let r=t.length,n=t.charCodeAt(0);if(Vm(n)){if(Vm(t.charCodeAt(1))&&!Vm(t.charCodeAt(2))){let o=3,s=o;for(;o<r&&!Vm(t.charCodeAt(o));o++);if(s!==o&&!Vm(t.charCodeAt(o+1))){for(o+=1;o<r;o++)if(Vm(t.charCodeAt(o)))return t.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(h5e(n)&&t.charCodeAt(1)===58)return Vm(t.charCodeAt(2))?t.slice(0,2)+e:t.slice(0,2);let i=t.indexOf("://");if(i!==-1){for(i+=3;i<r;i++)if(Vm(t.charCodeAt(i)))return t.slice(0,i+1)}return""}function JF(t,e,r,n=V1){if(t===e)return!0;if(!t||!e||e.length>t.length)return!1;if(r){if(!KF(t,e))return!1;if(e.length===t.length)return!0;let o=e.length;return e.charAt(e.length-1)===n&&o--,t.charAt(o)===n}return e.charAt(e.length-1)!==n&&(e+=n),t.indexOf(e)===0}function h5e(t){return t>=65&&t<=90||t>=97&&t<=122}var Bn;(M=>(M.inMemory="inmemory",M.vscode="vscode",M.internal="private",M.walkThrough="walkThrough",M.walkThroughSnippet="walkThroughSnippet",M.http="http",M.https="https",M.file="file",M.mailto="mailto",M.untitled="untitled",M.data="data",M.command="command",M.vscodeRemote="vscode-remote",M.vscodeRemoteResource="vscode-remote-resource",M.vscodeManagedRemoteResource="vscode-managed-remote-resource",M.vscodeUserData="vscode-userdata",M.vscodeCustomEditor="vscode-custom-editor",M.vscodeNotebookCell="vscode-notebook-cell",M.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",M.vscodeNotebookCellOutput="vscode-notebook-cell-output",M.vscodeInteractiveInput="vscode-interactive-input",M.vscodeSettings="vscode-settings",M.vscodeWorkspaceTrust="vscode-workspace-trust",M.vscodeTerminal="vscode-terminal",M.vscodeChatSesssion="vscode-chat-editor",M.webviewPanel="webview-panel",M.vscodeWebview="vscode-webview",M.extension="extension",M.vscodeFileResource="vscode-file",M.tmp="tmp",M.vsls="vsls",M.vscodeSourceControl="vscode-scm"))(Bn||={});var v5e="tkn",ZF=class{constructor(){this._hosts=Object.create(null);this._ports=Object.create(null);this._connectionTokens=Object.create(null);this._preferredWebSchema="http";this._delegate=null;this._remoteResourcesPath=`/${Bn.vscodeRemoteResource}`}setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e){this._remoteResourcesPath=`${e}/${Bn.vscodeRemoteResource}`}set(e,r,n){this._hosts[e]=r,this._ports[e]=n}setConnectionToken(e,r){this._connectionTokens[e]=r}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return kP(a),e}let r=e.authority,n=this._hosts[r];n&&n.indexOf(":")!==-1&&n.indexOf("[")===-1&&(n=`[${n}]`);let i=this._ports[r],o=this._connectionTokens[r],s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&${v5e}=${encodeURIComponent(o)}`),Pt.from({scheme:_ie?this._preferredWebSchema:Bn.vscodeRemoteResource,authority:`${n}:${i}`,path:this._remoteResourcesPath,query:s})}},_5e=new ZF;var y5e="vscode-app",eU=class t{static{this.FALLBACK_AUTHORITY=y5e}asBrowserUri(e){let r=this.toUri(e,require);return this.uriToBrowserUri(r)}uriToBrowserUri(e){return e.scheme===Bn.vscodeRemote?_5e.rewrite(e):e.scheme===Bn.file&&(vie||yie===`${Bn.vscodeFileResource}://${t.FALLBACK_AUTHORITY}`)?e.with({scheme:Bn.vscodeFileResource,authority:e.authority||t.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){let r=this.toUri(e,require);return this.uriToFileUri(r)}uriToFileUri(e){return e.scheme===Bn.vscodeFileResource?e.with({scheme:Bn.file,authority:e.authority!==t.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,r){return Pt.isUri(e)?e:Pt.parse(r.toUrl(e))}},W_t=new eU,b5e;(o=>{let t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);o.CoopAndCoep=Object.freeze(t.get("3"));let r="vscode-coi";function n(s){let a;typeof s=="string"?a=new URL(s).searchParams:s instanceof URL?a=s.searchParams:Pt.isUri(s)&&(a=new URL(s.toString(!0)).searchParams);let u=a?.get(r);if(u)return t.get(u)}o.getHeadersFromQuery=n;function i(s,a,u){if(!globalThis.crossOriginIsolated)return;let c=a&&u?"3":u?"2":"1";s instanceof URLSearchParams?s.set(r,c):s[r]=c}o.addSearchParam=i})(b5e||={});function kp(t){return vC(t,!0)}var xC=class{constructor(e){this._ignorePathCasing=e}compare(e,r,n=!1){return e===r?0:$ie(this.getComparisonKey(e,n),this.getComparisonKey(r,n))}isEqual(e,r,n=!1){return e===r?!0:!e||!r?!1:this.getComparisonKey(e,n)===this.getComparisonKey(r,n)}getComparisonKey(e,r=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:r?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,r,n=!1){if(e.scheme===r.scheme){if(e.scheme===Bn.file)return JF(kp(e),kp(r),this._ignorePathCasing(e))&&e.query===r.query&&(n||e.fragment===r.fragment);if(Jie(e.authority,r.authority))return JF(e.path,r.path,this._ignorePathCasing(e),"/")&&e.query===r.query&&(n||e.fragment===r.fragment)}return!1}joinPath(e,...r){return Pt.joinPath(e,...r)}basenameOrAuthority(e){return Bu(e)||e.authority}basename(e){return wr.basename(e.path)}extname(e){return wr.extname(e.path)}dirname(e){if(e.path.length===0)return e;let r;return e.scheme===Bn.file?r=Pt.file(Iie(kp(e))).path:(r=wr.dirname(e.path),e.authority&&r.length&&r.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),r="/")),e.with({path:r})}normalizePath(e){if(!e.path.length)return e;let r;return e.scheme===Bn.file?r=Pt.file(jF(kp(e))).path:r=wr.normalize(e.path),e.with({path:r})}relativePath(e,r){if(e.scheme!==r.scheme||!Jie(e.authority,r.authority))return;if(e.scheme===Bn.file){let o=Cie(kp(e),kp(r));return Ml?XF(o):o}let n=e.path||"/",i=r.path||"/";if(this._ignorePathCasing(e)){let o=0;for(let s=Math.min(n.length,i.length);o<s&&!(n.charCodeAt(o)!==i.charCodeAt(o)&&n.charAt(o).toLowerCase()!==i.charAt(o).toLowerCase());o++);n=i.substr(0,o)+n.substr(o)}return wr.relative(n,i)}resolvePath(e,r){if(e.scheme===Bn.file){let n=Pt.file(Sie(kp(e),r));return e.with({authority:n.authority,path:n.path})}return r=Qie(r),e.with({path:wr.resolve(e.path,r)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,r){return e===r||e!==void 0&&r!==void 0&&mN(e,r)}hasTrailingPathSeparator(e,r=V1){if(e.scheme===Bn.file){let n=kp(e);return n.length>QF(n).length&&n[n.length-1]===r}else{let n=e.path;return n.length>1&&n.charCodeAt(n.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,r=V1){return Zie(e,r)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,r=V1){let n=!1;if(e.scheme===Bn.file){let i=kp(e);n=i!==void 0&&i.length===QF(i).length&&i[i.length-1]===r}else{r="/";let i=e.path;n=i.length===1&&i.charCodeAt(i.length-1)===47}return!n&&!Zie(e,r)?e.with({path:e.path+"/"}):e}},vr=new xC(()=>!1),tyt=new xC(t=>t.scheme===Bn.file?!gie:!0),ryt=new xC(t=>!0),eoe=vr.isEqual.bind(vr),nyt=vr.isEqualOrParent.bind(vr),iyt=vr.getComparisonKey.bind(vr),oyt=vr.basenameOrAuthority.bind(vr),Bu=vr.basename.bind(vr),Bs=vr.extname.bind(vr),syt=vr.dirname.bind(vr),ayt=vr.joinPath.bind(vr),cyt=vr.normalizePath.bind(vr),toe=vr.relativePath.bind(vr),uyt=vr.resolvePath.bind(vr),lyt=vr.isAbsolutePath.bind(vr),Jie=vr.isEqualAuthority.bind(vr),Zie=vr.hasTrailingPathSeparator.bind(vr),fyt=vr.removeTrailingPathSeparator.bind(vr),pyt=vr.addTrailingPathSeparator.bind(vr);var x5e;(o=>{o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function i(s){let a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(l=>{let[f,p]=l.split(":");f&&p&&a.set(f,p)});let c=s.path.substring(0,s.path.indexOf(";"));return c&&a.set(o.META_DATA_MIME,c),a}o.parseMetaData=i})(x5e||={});var T5e=Symbol("MicrotaskDelay");function vN(t,e,r){return new Promise((n,i)=>{let o=e.onCancellationRequested(()=>{o.dispose(),n(r)});t.then(n,i).finally(()=>o.dispose())})}function Lp(t,e,r){let n,i=setTimeout(()=>{n?.(void 0),r?.()},e);return Promise.race([t.finally(()=>clearTimeout(i)),new Promise(o=>n=o)])}var X1=class{constructor(e){this._size=0;this._isDisposed=!1;this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new hs}whenIdle(){return this.size>0?B1.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((r,n)=>{this.outstandingPromises.push({factory:e,c:r,e:n}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){let e=this.outstandingPromises.shift();this.runningPromises++;let r=e.factory();r.then(e.c,e.e),r.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._onDrained.dispose()}};var hN=class{constructor(e,r){this._token=-1,typeof e=="function"&&typeof r=="number"&&this.setIfNotSet(e,r)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,r){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},r)}setIfNotSet(e,r){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},r))}},gN=class{constructor(){this.disposable=void 0}cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,r,n=globalThis){this.cancel();let i=n.setInterval(()=>{e()},r);this.disposable=Nm(()=>{n.clearInterval(i),this.disposable=void 0})}dispose(){this.cancel()}};var S5e,tU;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?tU=(t,e)=>{bie(()=>{if(r)return;let n=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,n-Date.now())}}))});let r=!1;return{dispose(){r||(r=!0)}}}:tU=(t,e,r)=>{let n=t.requestIdleCallback(e,typeof r=="number"?{timeout:r}:void 0),i=!1;return{dispose(){i||(i=!0,t.cancelIdleCallback(n))}}},S5e=t=>tU(globalThis,t)})();var ha=class{get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}constructor(){this.p=new Promise((e,r)=>{this.completeCallback=e,this.errorCallback=r})}complete(e){return new Promise(r=>{this.completeCallback(e),this.outcome={outcome:0,value:e},r()})}error(e){return new Promise(r=>{this.errorCallback(e),this.outcome={outcome:1,value:e},r()})}cancel(){return this.error(new O1)}},C5e;(r=>{async function t(n){let i,o=await Promise.all(n.map(s=>s.then(a=>a,a=>{i||(i=a)})));if(typeof i<"u")throw i;return o}r.settled=t;function e(n){return new Promise(async(i,o)=>{try{await n(i,o)}catch(s){o(s)}})}r.withAsyncBody=e})(C5e||={});var Fl=class t{static fromArray(e){return new t(r=>{r.emitMany(e)})}static fromPromise(e){return new t(async r=>{r.emitMany(await e)})}static fromPromises(e){return new t(async r=>{await Promise.all(e.map(async n=>r.emitOne(await n)))})}static merge(e){return new t(async r=>{await Promise.all(e.map(async n=>{for await(let i of n)r.emitOne(i)}))})}static{this.EMPTY=t.fromArray([])}constructor(e){this._state=0,this._results=[],this._error=null,this._onStateChanged=new hs,queueMicrotask(async()=>{let r={emitOne:n=>this.emitOne(n),emitMany:n=>this.emitMany(n),reject:n=>this.reject(n)};try{await Promise.resolve(e(r)),this.resolve()}catch(n){this.reject(n)}finally{r.emitOne=void 0,r.emitMany=void 0,r.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await B1.toPromise(this._onStateChanged.event)}while(!0)}}}static map(e,r){return new t(async n=>{for await(let i of e)n.emitOne(r(i))})}map(e){return t.map(this,e)}static filter(e,r){return new t(async n=>{for await(let i of e)r(i)&&n.emitOne(i)})}filter(e){return t.filter(this,e)}static coalesce(e){return t.filter(e,r=>!!r)}coalesce(){return t.coalesce(this)}static async toPromise(e){let r=[];for await(let n of e)r.push(n);return r}toPromise(){return t.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}};var uv=class{constructor(){this._deferred=new ha;this._asyncIterable=new Fl(n=>{if(e){n.reject(e);return}return r&&n.emitMany(r),this._errorFn=i=>n.reject(i),this._emitFn=i=>n.emitOne(i),this._deferred.p});let e,r;this._emitFn=n=>{r||(r=[]),r.push(n)},this._errorFn=n=>{e||(e=n)}}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(e){this._errorFn(e),this._deferred.complete()}emitOne(e){this._emitFn(e)}};function lv(){let t=Ri(),e=Ir.createAndMarkAsIssued({messageId:t});return new rU(e)}var rU=class t{constructor(e){this.raw=e}get properties(){return this.raw.properties}get measurements(){return this.raw.measurements}markAsDisplayed(){this.raw.markAsDisplayed()}extendedBy(e,r){let n=this.raw.extendedBy(e,r);return new t(n)}};function _N(t,e,r,n,i,o,s){let a=t.turns[t.turns.length-1].contextParts.map(l=>l.kind).sort(),u={source:"user",turnIndex:(t.turns.length-1).toString(),conversationId:e,uiKind:r,inputSources:a.join(",")},c={promptTokenLen:i,messageCharLen:n.length};return o&&(u.suggestion=o),s=s.extendedBy(u,c),s}function yN(t,e,r,n,i,o){n!==void 0&&(o=o.extendedBy({offTopic:n.toString()})),nU(t,i,e,r,{},{},o)}function bN(t,e,r,n,i,o,s,a){let u=iU(i);nU(t,s,n,i,{source:"model",turnIndex:e.turns.length.toString(),conversationId:r,headerRequestId:o,uiKind:n,codeBlockLanguages:JSON.stringify({...u})},{messageCharLen:i.length,numCodeBlocks:u.length},a)}function xN(t,e,r,n,i,o,s,a){nU(t,s,n,i,{source:"offTopic",turnIndex:e.turns.length.toString(),conversationId:r,userMessageId:o,uiKind:n},{messageCharLen:i.length},a)}function nU(t,e,r,n,i,o,s){let a={...n?{messageText:n}:{},...i};e&&(i.languageId=e.languageId,o.documentLength=e.getText().length);let u=s.extendedBy(i,o),c=s.extendedBy(a),l=I5e(r),f=t.get(xt);return f.sendTelemetry(`${l}.message`,u.raw),f.sendRestrictedTelemetry(`${l}.messageText`,c.raw),u.raw}function EN(t,e,r,n,i){return Q1(t,i,{suggestion:e,messageId:r,suggestionId:n},{},"conversation.suggestionShown")}function Q1(t,e,r,n,i,o){let s=o??Ir.createAndMarkAsIssued();e&&(r.languageId=e.languageId,n.documentLength=e.getText().length);let a=s.extendedBy(r,n);return t.get(xt).sendTelemetry(i,a),t.get(pt).sendGHTelemetryEvent(i,a.properties,a.measurements),a}async function TN(t,e,r){let n=r.extendedBy({messagesJson:JSON.stringify(e)});await t.get(xt).sendRestrictedTelemetry("engine.messages",n)}function I5e(t){switch(t){case"conversationInline":return"inlineConversation";case"conversationPanel":default:return"conversation"}}function iU(t){let e=t.split(`
`),r=[],n=[];for(let i=0;i<e.length;i++){let o=e[i];o.startsWith("```")&&(n.length>0&&o==="```"?r.push(n.pop()):n.length===0&&n.push(o.substring(3)))}return r}function noe(t){if(t!==void 0&&t!==0&&t.hostname==="github.com")return t.owner+"/"+t.repo}function w5e(t,e,r,n,i,o,s,a,u){return TN(t,[e],u),{message:e,choiceIndex:n,requestId:i,blockFinished:o,finishReason:s,filterReason:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:u}}function ioe(t,e,r){let n=t.get(Ae).getLogger("streamMessages"),i=e.solution.text.join(""),o=!1;e.finishOffset!==void 0&&(n.debug(`message ${e.index}: early finish at offset ${e.finishOffset}`),i=i.substring(0,e.finishOffset),o=!0),n.info(`message ${e.index} returned. finish reason: [${e.reason}]`),n.debug(`message ${e.index} details: finishOffset: [${e.finishOffset}] completionId: [{${e.requestId.completionId}}] created: [{${e.requestId.created}}]`);let s=qie(t,e.solution),a={role:"assistant",content:i};return w5e(t,a,s,e.index,e.requestId,o,e.reason,e.filterReason,r)}async function ooe(t,e,r,n,i,o,s){let a=t.get(Ae).getLogger("chat fetch"),u=R5e(t,r);if(o?.isCancellationRequested)return{type:"canceled",reason:"before fetch request"};a.info(`url ${e.url}`),a.info(`modelMaxPromptTokens ${e.modelMaxPromptTokens}`),a.info(`modelMaxResponseTokens ${u.max_tokens??1024}`),a.info(`chat model ${r.model}`),r.intent_model&&a.info(`intent model ${r.intent_model}`),r.intent_tokenizer&&a.info(`intent tokenizer ${r.intent_tokenizer}`),r.intent_threshold&&a.info(`intent threshold ${r.intent_threshold}`);let c=r.secretKey??(await t.get(gt).getCopilotToken(t)).token;if(!c)return a.error(`Failed to send request to ${e.url} due to missing key`),Dp(t.get(xt),`Failed to send request to ${e.url} due to missing key`),{type:"failed",failKind:"tokenExpiredOrInvalid",reason:"key is missing"};let l=await N5e(t,e,r.ourRequestId,u,c,r.location,o,s);if(o?.isCancellationRequested){let h=await l.body();try{h.destroy()}catch(g){a.exception(g,"Error destroying stream"),t.get(xt).sendExceptionTelemetry(g,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(l.status!==200){let h=A5e(e,t,r.location,r.ourRequestId);return a.info("Request ID for failed request: ",r.ourRequestId),P5e(t,h,l)}let f=r.postOptions?.n??1,m=(await lN.create(t,f,r.ourRequestId,l,n,[],o)).processSSE(i);return{type:"success",chatCompletions:Fl.map(m,h=>ioe(t,h,n)),getProcessingTime:()=>Fie(l)}}function A5e(t,e,r,n){return Ir.createAndMarkAsIssued({endpoint:"completions",engineName:"chat",uiKind:At.toString(r),headerRequestId:n})}function R5e(t,e){let r={messages:e.messages,model:e.model};e.postOptions&&Object.assign(r,e.postOptions);let n=noe(e.repoInfo);return n!==void 0&&(r.nwo=n),e.intent&&(r.intent=e.intent,e.intent_model&&(r.intent_model=e.intent_model),e.intent_tokenizer&&(r.intent_tokenizer=e.intent_tokenizer),e.intent_threshold&&(r.intent_threshold=e.intent_threshold)),r}async function P5e(t,e,r){let n=t.get(Ae).getLogger("chat fetch"),i=t.get(xt),o=t.get(pt);if(e.properties.error=`Response status was ${r.status}`,e.properties.status=String(r.status),i.sendTelemetry("request.shownWarning",e),o.sendGHTelemetryEvent("request.shownWarning",e.properties,e.measurements),r.status===401||r.status===403)return t.get(gt).resetCopilotToken(t,r.status),{type:"failed",failKind:"tokenExpiredOrInvalid",reason:`token expired or invalid: ${r.status}`};if(r.status===499)return n.info("Cancelled by server"),{type:"failed",failKind:"serverCanceled",reason:"canceled by server"};let s=await r.text();return r.status===466?(n.info(s),{type:"failed",failKind:"clientNotSupported",reason:`client not supported: ${s}`}):r.status===400&&s.includes("off_topic")?{type:"failed",failKind:"offTopic",reason:"filtered as off_topic by intent classifier: message was not programming related"}:r.status===429?{type:"failed",failKind:"rateLimited",reason:s}:r.status>=500&&r.status<600?{type:"failed",failKind:"serverError",reason:`${r.status} ${s}`}:r.status===422?{type:"failed",failKind:"contentFilter",reason:"Filtered by Responsible AI Service"}:(n.error("Unhandled status from server:",r.status,s),Dp(t.get(xt),"Unhandled status from server: "+r.status,s),{type:"failed",failKind:"unknown",reason:`unhandled status from server: ${r.status} ${s}`})}function N5e(t,e,r,n,i,o,s,a){let u=t.get(Ae).getLogger("chat fetch"),c=t.get(xt),l=t.get(pt),f=Ir.createAndMarkAsIssued({endpoint:"completions",engineName:"chat",uiKind:At.toString(o),...a},{maxTokenWindow:e.modelMaxPromptTokens});for(let[d,h]of Object.entries(n))d!=="messages"&&(f.properties[`request.option.${d}`]=JSON.stringify(h)??"undefined");f.properties.headerRequestId=r,c.sendTelemetry("request.sent",f),l.sendGHTelemetryEvent("request.sent",f.properties,f.measurements);let p=Date.now(),m=D5e(o);return jm(t,e,i,m,r,n,s).then(d=>{let h=bC(d,void 0);f.extendWithRequestId(h);let g=Date.now()-p;return f.measurements.totalTimeMs=g,u.info(`request.response: [${e.url}], took ${g} ms`),u.debug("request.response properties",f.properties),u.debug("request.response measurements",f.measurements),u.debug(`messages: ${JSON.stringify(n.messages)}`),c.sendTelemetry("request.response",f),l.sendGHTelemetryEvent("request.response",f.properties,f.measurements),d}).catch(d=>{if(t.get(Yr).isAbortError(d))throw d;let g=f.extendedBy({error:"Network exception"});c.sendTelemetry("request.shownWarning",g),l.sendGHTelemetryEvent("request.shownWarning",g.properties,g.measurements),f.properties.code=String(d.code??""),f.properties.errno=String(d.errno??""),f.properties.message=String(d.message??""),f.properties.type=String(d.type??"");let v=Date.now()-p;throw f.measurements.totalTimeMs=v,u.debug(`request.response: [${e.url}] took ${v} ms`),u.debug("request.error properties",f.properties),u.debug("request.error measurements",f.measurements),c.sendTelemetry("request.error",f),l.sendGHTelemetryEvent("request.error",f.properties,f.measurements),d}).finally(()=>{TN(t,n.messages,f)})}function D5e(t){switch(t){case 2:return"conversation-panel";case 1:return"conversation-inline"}}var Tr=class{async fetchOne(e,r,n,i,o,s,a,u){let c=await this.fetchMany(e,r,n,i,o,{...s,n:1},a,u);return c.type==="success"?{...c,value:c.value[0]}:c}},SN=class t extends Tr{constructor(r){super();this.accessor=r;this.logger=r.get(Ae).getPromptResponseLogger("ChatMLFetcher")}async fetchMany(r,n,i,o,s,a,u,c){let l=u?.messageId??Ri(),f=Lc(this.accessor,r),p=await this.accessor.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.maxResponseTokens",!0),m=Math.min(s.modelMaxPromptTokens-f+(p??1024),4096);a={max_tokens:m,...a};let d=t.preparePostOptions(a),h=s.model;c&&(c.intent_model=await this.getOffTopicModelName(),c.intent_tokenizer=await this.getOffTopicModelTokenizer(),c.intent_threshold=await this.getOffTopicModelThreshold());let g={messages:r.filter(_=>_.content&&_.content!==""),model:h,repoInfo:void 0,ourRequestId:l,location:o,postOptions:d,secretKey:a.secretKey,...c},v=Ir.createAndMarkAsIssued({...u,uiKind:At.toString(o)});try{let _=await ooe(this.accessor,s,g,v,n||(async()=>{}),i,u),y=Date.now()-v.issuedTime,x;switch(_.type){case"success":return await this.processSuccessfulResponse(_,g.ourRequestId,m,f,y,v,s);case"canceled":return this.processCanceledResponse(_,g.ourRequestId);case"failed":return x=this.processFailedResponse(_,g.ourRequestId),this.accessor.get(pt).sendMSFTTelemetryEvent("response.error",{type:x.type,source:u?.messageSource??"unknown",requestId:g.ourRequestId,model:s.model},{totalTokenMax:s.modelMaxPromptTokens??-1,promptTokenCount:f,tokenCountMax:m,timeToFirstToken:y}),x}}catch(_){return this.processError(_,g.ourRequestId)}}static preparePostOptions(r){return{...r,stream:!0}}async processSuccessfulResponse(r,n,i,o,s,a,u){let c=[];for await(let p of r.chatCompletions)this.accessor.get(pt).sendMSFTTelemetryEvent("response.success",{reason:p.finishReason,filterReason:p.filterReason,source:a?.properties.messageSource??"unknown",model:u?.model,requestId:n},{totalTokenMax:u?.modelMaxPromptTokens??-1,tokenCountMax:i,promptTokenCount:o,tokenCount:p.numTokens,processingTime:r.getProcessingTime(),timeToFirstToken:s,timeToComplete:a?Date.now()-a.issuedTime:-1}),this.isRepetitive(p,a?.properties)||c.push(p);this.logger.debug(`Received choices: ${JSON.stringify(c,null,2)}`);let l=c.filter(p=>p.finishReason==="stop"||p.finishReason==="client-trimmed");if(l.length>=1)return{type:"success",value:l.map(p=>p.message.content),requestId:n};let f=c[0];switch(f?.finishReason){case"content_filter":return{type:"filtered",category:f.filterReason??"snippy",reason:"Response got filtered.",requestId:n};case"length":return{type:"length",reason:"Response too long.",requestId:n}}return{type:"unknown",reason:"Response contained no choices.",requestId:n}}async getOffTopicModelName(){let r=this.accessor.get(Be).getConfig(qe.DebugOverrideChatOffTopicModel);if(r)return r;let n=await this.accessor.get(Us).chatOffTopicModel();return n||""}async getOffTopicModelTokenizer(){let r=this.accessor.get(Be).getConfig(qe.DebugOverrideChatOffTopicModelTokenizer);if(r)return r;let n=await this.accessor.get(Us).chatOffTopicModelTokenizer();return n||""}async getOffTopicModelThreshold(){let r=this.accessor.get(Be).getConfig(qe.DebugOverrideChatOffTopicModelThreshold);if(r!==0)return r;let n=await this.accessor.get(Us).chatOffTopicModelThreshold();return n!==0?n:0}isRepetitive(r,n){let i=Wne(r.tokens);if(i){let o=Ir.createAndMarkAsIssued();o.extendWithRequestId(r.requestId);let s=o.extendedBy(n);this.accessor.get(xt).sendRestrictedTelemetry("conversation.repetition.detected",s),this.logger.info("Filtered out repetitive conversation result")}return i}processCanceledResponse(r,n){return this.logger.debug("Cancelled after awaiting fetchConversation"),{type:"canceled",reason:r.reason,requestId:n}}processFailedResponse(r,n){return r.failKind==="rateLimited"?{type:"rateLimited",reason:r.reason,requestId:n}:r.failKind==="offTopic"?{type:"offTopic",reason:r.reason,requestId:n}:r.failKind==="tokenExpiredOrInvalid"||r.failKind==="clientNotSupported"||r.reason.includes("Bad request: ")?{type:"badRequest",reason:r.reason,requestId:n}:r.failKind==="serverError"?{type:"failed",reason:r.reason,requestId:n}:r.failKind==="contentFilter"?{type:"filtered",reason:r.reason,category:"snippy",requestId:n}:{type:"failed",reason:r.reason,requestId:n}}processError(r,n){let i=this.accessor.get(Yr);return i.isAbortError(r)?{type:"canceled",reason:"network request aborted",requestId:n}:(this.accessor.get(Ae).defaultLogger.exception(r,"Error on conversation request"),this.accessor.get(xt).sendExceptionTelemetry(r,"Error on conversation request"),i.isDNSLookupFailedError(r)?{type:"failed",reason:"It appears you're not connected to the internet, please check your network connection and try again.",requestId:n}:i.isFetcherError(r)?{type:"failed",reason:`Please check your firewall rules and network connection then try again. Error Code: ${r.code}.`,requestId:n}:{type:"failed",reason:"Error on conversation request. Check the log for more details.",requestId:n})}};var CN=Wt("IGitContextModel");var sr=Ie(require("vscode")),fr=sr.Position,ze=sr.Range,oU=sr.Selection,soe=sr.EventEmitter,fv=sr.CancellationTokenSource;var Vo=sr.TextEdit,sU=sr.WorkspaceEdit,ga=sr.Uri,qu=sr.MarkdownString,va=sr.InteractiveEditorResponseFeedbackKind;var EC=sr.DiagnosticSeverity,pv=sr.ExtensionMode,J1=sr.Location;var IN=sr.ChatVariableLevel,Z1={t:sr.l10n.t};var qn=Wt("IParserService");function wN(t){return{startPosition:{row:t.start.line,column:t.start.character},endPosition:{row:t.end.line,column:t.end.character}}}function AN(t){return new ze(t.startPosition.row,t.startPosition.column,t.endPosition.row,t.endPosition.column)}function Op(t,e){return{startIndex:e.offsetAt(t.start),endIndex:e.offsetAt(t.end)}}var Mc=Wt("ConversationOptions");var go=class{constructor(e){this.anchor=e}},Mp=class{toString(){return Object.getPrototypeOf(this).constructor.name}},Qi=class{constructor(e,r){this.request=e;this.sessionId=r;this.status="in-progress";this.contextParts=[];this.references=[]}addReferences(e){this.references=TC([...this.references,...e])}},eb=class extends Qi{constructor(r,n){super(r);this._getShorterMessage=n}getShorterMessage(){return this._getShorterMessage()}},gs=class t{constructor(e=[]){this.turns=e}copy(){let e=JSON.parse(JSON.stringify(this.turns));return new t(e)}getLatestTurn(){return this.turns[this.turns.length-1]}addTurn(e){this.turns.forEach(r=>r.chatMessages=[]),this.turns.push(e)}removeTurn(e){let r=this.turns.findIndex(n=>n.requestId===e);if(r!==-1)return this.turns.splice(r,1)[0]}insertBeforeLatestTurn(e){this.turns.splice(this.turns.length-1,0,...e)}getState(){return{turns:this.turns}}};function TC(t){let e=new li,r=(i,o)=>{if(i.contains(o))return i;if(o.contains(i))return o;let[s,a]=i.start.line<o.start.line?[i,o]:[o,i];if(s.end.line>=a.start.line-1)return new ze(s.start,a.end)};return t.forEach(i=>{let o=i.anchor;if(!aoe(o))e.set(o,i);else{let s=e.get(o.uri);if(!s)e.set(o.uri,[i]);else if(!(s instanceof go)){let a=[],u=o.range;s.forEach(l=>{if(!aoe(l.anchor))return;let f=r(u,l.anchor.range);f?u=f:a.push(l.anchor)});let c={uri:o.uri,range:u};e.set(o.uri,[...a,c].sort((l,f)=>l.range.start.line-f.range.start.line||l.range.end.line-f.range.end.line).map(l=>new go(l)))}}}),Array.from(e.keys()).sort((i,o)=>i.fsPath.localeCompare(o.fsPath)).map(i=>{let o=e.get(i);return o||[]}).flat()}function aoe(t){return"uri"in t&&"range"in t}var vo=Wt("IVSCodeExtensionContext");var Ja=class{};function aU(t){return typeof t=="object"&&t!==null&&"targetUri"in t}var coe={abap:{start:'"',end:""},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}};var _a={doesContain:(t,e)=>t.startIndex<=e.startIndex&&e.endIndex<=t.endIndex,ofSyntaxNode:t=>({startIndex:t.startIndex,endIndex:t.endIndex}),compare:(t,e)=>t.startIndex-e.startIndex||e.endIndex-t.endIndex,doIntersect:(t,e)=>{let r=Math.max(t.startIndex,e.startIndex),n=Math.min(t.endIndex,e.endIndex);return r<n},len:t=>t.endIndex-t.startIndex,intersectionSize:(t,e)=>{let r=Math.max(t.startIndex,e.startIndex),n=Math.min(t.endIndex,e.endIndex);return Math.max(n-r,0)},isTreeSitterOffsetRange(t){return typeof t.startIndex=="number"&&typeof t.endIndex=="number"}},Hu={isEqual(t,e){return t.row===e.row&&t.column===e.column},isBefore(t,e){return t.row<e.row||t.row===e.row&&t.column<e.column},isAfter(t,e){return Hu.isBefore(e,t)},isBeforeOrEqual(t,e){let r=Hu.isBefore(t,e),n=Hu.isEqual(t,e);return!!(r||n)},equals(t,e){return t.column===e.column&&t.row===e.row},isAfterOrEqual(t,e){return Hu.isBeforeOrEqual(e,t)},ofPoint:t=>({row:t.row,column:t.column})},zm={doesContain:(t,e)=>Hu.isBeforeOrEqual(t.startPosition,e.startPosition)&&Hu.isAfterOrEqual(t.endPosition,e.endPosition),equals:(t,e)=>Hu.equals(t.startPosition,e.startPosition)&&Hu.equals(t.endPosition,e.endPosition),ofSyntaxNode:t=>({startPosition:t.startPosition,endPosition:t.endPosition})},cU={ofSyntaxNode:t=>({type:t.type,startIndex:t.startIndex,endIndex:t.endIndex})},Gu={ofSyntaxNode:t=>({range:zm.ofSyntaxNode(t),startIndex:t.startIndex,text:t.text,endIndex:t.endIndex})},SC=class{constructor(e,r,n,i){this.startIndex=e;this.endIndex=r;this.kind=n;this.children=i}toString(){let e=[];function r(n,i=""){e.push(`${i}${n.kind} [${n.startIndex}, ${n.endIndex}]`),n.children.forEach(o=>r(o,i+"    "))}return r(this),e.join(`
`)}};var RN=class extends Error{constructor(e){super(`Unrecognized language: ${e}`)}},uoe={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",tsx:"tsx",go:"go",ruby:"ruby",csharp:"csharp",cpp:"cpp",java:"java",rust:"rust"};function PN(t){if(t in uoe)return uoe[t]}var ot=class{getWorkspaceFolder(e){return this.getWorkspaceFolders().find(r=>r.scheme===e.scheme&&r.authority===e.authority&&e.fsPath.startsWith(r.fsPath))}};function foe(t,e,r){let n=loe(t,e,r.start),i=loe(t,e,r.end),o=t.offsetAt(r.start),s=t.offsetAt(r.end);return n&&(o=Math.min(o,n.startIndex),s=Math.max(s,n.endIndex)),i&&(o=Math.min(o,i.startIndex),s=Math.max(s,i.endIndex)),new ze(t.positionAt(o),t.positionAt(s))}async function poe(t,e,r,n){let i=t.get(qn),o=i.getTreeSitterAST(e);if(!o)return[];let s=t.get(Ja),a=Op(r,e),u=await Ul(t,e,n,()=>o.getCallExpressions(a),[]),c=await Ul(t,e,n*3,async()=>await Promise.all(u.map(async m=>{let d=e.positionAt(m.startIndex);try{let h=await s.getImplementations(e.uri,d);return h.length?h:await s.getDefinitions(e.uri,d)}catch{return[]}})),[]),l=[];for(let m=0;m<c.length;m++){let d=u[m],h=c[m];for(let g of h){let{uri:v,range:_}=aU(g)?{uri:g.targetUri,range:g.targetRange}:g,y=await t.get(ot).openTextDocument(v),x=i.getTreeSitterAST(e);if(x){let T=(await x.getFunctionDefinitions()).find(k=>k.identifier===d.identifier);if(T){let k=Op(_,y);l.push({uri:v,range:_,version:y.version,identifier:d.identifier,startIndex:k.startIndex,endIndex:k.endIndex,text:T.text})}}}}if(l.length!==0)return l;let f=await Ul(t,e,n,()=>o.getFunctionDefinitions(),[]),p=[];for(let m of f)for(let d of u)m.identifier===d.identifier&&p.push(m);return p.sort((m,d)=>m.startIndex-d.startIndex)}async function doe(t,e,r,n){let i=t.get(qn),o=i.getTreeSitterAST(e);if(!o)return[];let s=t.get(Ja),a=Op(r,e),u=await Ul(t,e,n,()=>o.getNewExpressions(a),[]),c=await Ul(t,e,n*3,async()=>await Promise.all(u.map(async m=>{try{let d=e.positionAt(m.startIndex),h=await s.getImplementations(e.uri,d);return h.length?h:await s.getDefinitions(e.uri,d)}catch{return[]}})),[]),l=[];for(let m=0;m<c.length;m++){let d=u[m],h=c[m];for(let g of h){let{uri:v,range:_}=aU(g)?{uri:g.targetUri,range:g.targetRange}:g,y=await t.get(ot).openTextDocument(v),x=i.getTreeSitterAST(e);if(x){let b=(await x.getClassDeclarations()).find(T=>T.identifier===d.identifier);if(b){let T=Op(_,y);l.push({uri:v,range:_,version:y.version,identifier:d.identifier,startIndex:T.startIndex,endIndex:T.endIndex,text:b.text})}}}}if(l.length!==0)return l;let f=await Ul(t,e,n,()=>o.getClassDeclarations(),[]),p=[];for(let m of f)for(let d of u)m.identifier===d.identifier&&p.push(m);return p.sort((m,d)=>m.startIndex-d.startIndex)}async function moe(t,e,r,n){let o=t.get(qn).getTreeSitterAST(e);if(!o)return[];let s=Op(r,e),a=await Ul(t,e,n,()=>o.getTypeReferences(s),[]),u=await Ul(t,e,n,()=>o.getTypeDeclarations(),[]),c=[];for(let l of u)for(let f of a)l.identifier===f.identifier&&c.push(l);return c.sort((l,f)=>l.startIndex-f.startIndex)}function loe(t,e,r){let n=t.offsetAt(r),i=null;for(let o of e)if(!(o.endIndex<n)){if(o.startIndex>n)break;i=o}return i}function k5e(t,e){return e===0?t.then(r=>({type:"success",value:r})):new Promise((r,n)=>{let i=setTimeout(()=>r({type:"timeout"}),e);t.then(o=>{clearTimeout(i),r({type:"success",value:o})}).catch(o=>{clearTimeout(i),n(o)})})}async function L5e(t,e,r){let i=t.get(qn).getTreeSitterAST(e);if(!i)return[];let o=await Ul(t,e,r,()=>i.getFunctionPositions(),[]);return o.sort((s,a)=>s.startIndex-a.startIndex),o}async function CC(t,e,r){let i=t.get(qn).getTreeSitterAST(e);if(!i)return[];let o=await Ul(t,e,r,()=>i.getFunctionBodies(),[]);return o.sort((s,a)=>s.startIndex-a.startIndex),O5e(o)}function O5e(t){t.sort((r,n)=>r.startIndex-n.startIndex||n.endIndex-r.endIndex);let e=[];for(let r=0,n=t.length;r<n;){e.push(t[r]);let i=r+1;for(;i<t.length&&_a.doesContain(t[r],t[i]);)++i;r=i}return e}async function Ul(t,e,r,n,i){let o=t.get(Ae).getLogger("asyncCompute");try{let s=await k5e(hoe(e,n,i),r);return s.type==="success"?s.value:(o.info(`Computing async parser based result took longer than ${r}ms`),i)}catch(s){return s instanceof RN||(o.exception(s,"Failed to compute async parser based result"),t.get(xt).sendExceptionTelemetry(s,"Failed to compute async parser based result")),i}}async function hoe(t,e,r,n=0){let i=t.version,o=await e();return t.version!==i?n<3?hoe(t,e,r,n+1):r:o}function tb(t){let e=coe[t.languageId];return e?e.end?{languageId:t.languageId,lineCommentToken:"//"}:{languageId:t.languageId,lineCommentToken:e.start}:{languageId:t.languageId,lineCommentToken:"//"}}var Hn=class t{static forDocument(e,r){return this.forUri(e,r.uri)}static forUri(e,r){return`${this.forLanguage(e)}: ${r.path}`}static forLanguage(e){return`${e.lineCommentToken} FILEPATH`}static testLine(e,r){let n=t.forLanguage(e);return r.trimStart().startsWith(n)}};var Di=class{static begin(e,r){return typeof r>"u"?`${e.lineCommentToken} BEGIN:`:`${e.lineCommentToken} BEGIN: ${r}`}static end(e,r){return typeof r>"u"?`${e.lineCommentToken} END:`:`${e.lineCommentToken} END: ${r}`}};function Bl(t){return/```[\s\S]+\n```/m.test(t)}var M5e={analysisTimeoutMs:100};async function Ym(t,e,r){let n=t.get(qn),i=t.get(vo).extensionMode===pv.Test?0:M5e.analysisTimeoutMs,o=Date.now(),s=await L5e(t,e,i),a=Date.now()-o,u=i===0?0:Math.max(10,i-a),c=await CC(t,e,u),l=n.getTreeSitterAST(e),f=l?await l.getStructure():void 0;return{wholeRange:e.validateRange(r),functionPositions:s,functionBodies:c,structure:f}}var ki=class extends Mp{constructor(r,n){super();this.wholeRange=r;this.contextInfo=n}};(e=>{function t(r){return r instanceof e}e.is=t})(ki||={});var qs=class{constructor(e){this.charLimit=e;this._totalChars=0}get totalChars(){return this._totalChars}addLine(e){this._totalChars+=e.length+1}lineWouldFit(e){return this._totalChars+e.length+1<this.charLimit}},_o=class t{constructor(e,r,n,i){this.tracker=e;this.document=r;this.language=n;this.kindOrUniqueStr=i;this.lines=[];this.firstLineIndex=this.document.lineCount;this.lastLineIndex=-1;this.isComplete=!1;this.nonTrimWhitespaceCharCount=0;this._startMarker=Di.begin(n,i),this._endMarker=Di.end(n,i),this.lines=[],this.firstLineIndex=r.lineCount,this.lastLineIndex=-1}get startMarker(){return this._startMarker}get endMarker(){return this._endMarker}get lineCount(){return this.lines.length}get isVerySmallOrEmpty(){return this.nonTrimWhitespaceCharCount<10}get hasContent(){return this.lines.length===0||this.nonTrimWhitespaceCharCount===0?!1:this.lines.length>0}clone(){let e=new t(this.tracker,this.document,this.language,this.kindOrUniqueStr);return e._startMarker=this.startMarker,e._endMarker=this.endMarker,e.lines.push(...this.lines),e.firstLineIndex=this.firstLineIndex,e.lastLineIndex=this.lastLineIndex,e.nonTrimWhitespaceCharCount=this.nonTrimWhitespaceCharCount,e}clear(){this.lines.length=0,this.firstLineIndex=this.document.lineCount,this.lastLineIndex=-1,this.nonTrimWhitespaceCharCount=0}generatePrompt(e){if(!this.hasContent)return[];let r=[];return r.push("```"+this.language.languageId),r.push(Hn.forDocument(this.language,this.document)),e&&r.push(`${this.startMarker}`),r.push(...this.lines),e&&r.push(`${this.endMarker}`),r.push("```"),r}prependLine(e){let n=this.document.lineAt(e).text;return this.tracker.lineWouldFit(n)?(this.firstLineIndex=Math.min(this.firstLineIndex,e),this.lastLineIndex=Math.max(this.lastLineIndex,e),this.lines.unshift(n),this.tracker.addLine(n),this.nonTrimWhitespaceCharCount+=n.trim().length,!0):!1}appendLine(e){let n=this.document.lineAt(e).text;return this.tracker.lineWouldFit(n)?(this.firstLineIndex=Math.min(this.firstLineIndex,e),this.lastLineIndex=Math.max(this.lastLineIndex,e),this.lines.push(n),this.tracker.addLine(n),this.nonTrimWhitespaceCharCount+=n.trim().length,!0):!1}trim(e){let r=e?Math.min(this.lastLineIndex,e.start.line):this.lastLineIndex;for(;this.firstLineIndex<r&&this.lines.length>0&&this.lines[0].trim().length===0;)this.firstLineIndex++,this.lines.shift();let n=e?Math.max(this.firstLineIndex,e.end.line):this.firstLineIndex;for(;n<this.lastLineIndex&&this.lines.length>0&&this.lines[this.lines.length-1].trim().length===0;)this.lastLineIndex--,this.lines.pop()}removeFirstNLines(e){if(e>=this.lineCount){let i=this.lines.slice(0),o=this.nonTrimWhitespaceCharCount;return this.clear(),{lines:i,nonTrimWhitespaceCharCount:o}}let r=this.lines.splice(0,e),n=0;for(let i of r)n+=i.trim().length;return this.firstLineIndex+=e,this.nonTrimWhitespaceCharCount-=n,{lines:r,nonTrimWhitespaceCharCount:n}}removeLastNLines(e){if(e>=this.lineCount){let i=this.lines.slice(0),o=this.nonTrimWhitespaceCharCount;return this.clear(),{lines:i,nonTrimWhitespaceCharCount:o}}let r=this.lines.splice(this.lines.length-e,e),n=0;for(let i of r)n+=i.trim().length;return this.lastLineIndex-=e,this.nonTrimWhitespaceCharCount-=n,{lines:r,nonTrimWhitespaceCharCount:n}}takeFromAbove(e,r){let{lines:n,nonTrimWhitespaceCharCount:i}=e.removeLastNLines(r);this.lines.unshift(...n),this.firstLineIndex-=n.length,this.nonTrimWhitespaceCharCount+=i}takeFromBelow(e,r){let{lines:n,nonTrimWhitespaceCharCount:i}=e.removeFirstNLines(r);this.lines.push(...n),this.lastLineIndex+=n.length,this.nonTrimWhitespaceCharCount+=i}mergeFromAbove(e){e.hasContent&&(this.lines.unshift(...e.lines),this.firstLineIndex=e.firstLineIndex,this.nonTrimWhitespaceCharCount+=e.nonTrimWhitespaceCharCount,e.clear())}mergeFromBelow(e){e.hasContent&&(this.lines.push(...e.lines),this.lastLineIndex=e.lastLineIndex,this.nonTrimWhitespaceCharCount+=e.nonTrimWhitespaceCharCount,e.clear())}toRange(){try{let e=this.lastLineIndex===-1?this.document.lineCount-1:this.lastLineIndex,r=new ze(this.firstLineIndex,0,e,this.document.lineAt(e).text.length);if(this.document.validateRange(r)===r)return r}catch{return}}toString(){return`{${this.firstLineIndex} -> ${this.lastLineIndex}}`}};var Gt=new class{constructor(){this._contextResolvers=new Map}get contextResolvers(){return this._contextResolvers.values()}getContextResolver(t){return this._contextResolvers.get(t)}register(t){return this._contextResolvers.set(t.kind,t),t}};var dv=class t{constructor(e=void 0){this.nodeToDocument=e;this.kind="doc-selection"}async resolveContext(e,r,n){let i=r.documentContext;if(!i)return;let o=i.wholeRange,s=this.nodeToDocument??await t.determineNodeToDocument(e,i),a=await t.generateDocContext(r.endpoint,i,s),u=[];{let l=[];l.push("I have the following code in the selection:"),l.push(...a.range.generatePrompt(!1)),u.push(l.join(`
`))}let c=[{uri:i.document.uri,version:i.document.version,ranges:Er([a.range.toRange()])}];return{kind:this.kind,userMessages:u,usedContext:c,metadata:new ki(o,a)}}static async determineNodeToDocument(e,r){let n=e.get(qn),i=Op(r.selection,r.document),o=n.getTreeSitterAST(r.document);if(o===void 0)return{range:r.wholeRange};let s=Date.now(),a=await o.getNodeToDocument(i),u=Date.now()-s,c=Op(r.wholeRange,r.document);t.sendNodeToDocumentTelemetry(e,i,c,a,r.document.languageId,u);let l=new ze(r.document.positionAt(a.nodeToDocument.startIndex),r.document.positionAt(a.nodeToDocument.endIndex));return{identifier:a.nodeIdentifier,range:l}}static async generateDocContext(e,r,n){let{range:i}=n,o=new qs(e.modelMaxPromptTokens*4/3),s=new _o(o,r.document,r.language,"ed8c6549bwf9"),a=new _o(new qs(0),r.document,r.language,"abpxx6d04wxr"),u=new _o(new qs(0),r.document,r.language,"be15d9bcejpp");for(let c=i.start.line,l=i.end.line;c<=l&&!(c===l&&i.end.character===0||!s.appendLine(c));++c);return s.trim(r.selection),{language:r.language,above:a,range:s,below:u,outlineAbove:"",outlineBelow:""}}static sendNodeToDocumentTelemetry(e,r,n,i,o,s){e.get(pt).sendMSFTTelemetryEvent("getNodeToDocument",{languageId:o,typeOfNodeToDocument:i.nodeToDocument.type,nodeToDocumentStart:i.nodeToDocument.startIndex.toString(),nodeToDocumentEnd:i.nodeToDocument.endIndex.toString(),selectionOffsetRangeStart:r.startIndex.toString(),selectionOffsetRangeEnd:r.endIndex.toString(),wholeRangeOffsetRangeStart:n.startIndex.toString(),wholeRangeOffsetRangeEnd:n.endIndex.toString()},{timeSpentMs:s})}},goe=Gt.register(new dv);var PU=require("util");var Zi=Wt("IFileSystemService");var Fp=Wt("ISearchService"),NN=class{async findFilesWithDefaultExcludes(e,r,n){return this._findFilesWithDefaultExcludesAndExcludes(e,void 0,r,n)}async _findFilesWithDefaultExcludesAndExcludes(e,r,n,i){let o={include:e,maxResults:n,exclude:r,useDefaultExcludes:!0},s=[],a={report(u){s.push(u.uri)}};return await this.findTextInFiles({pattern:"[\\S\\s\\n]+",isRegExp:!0},o,a,i),n===1?s[0]:s}};var Wr=Wt("ITabsAndEditorsService");var yU=Ie(Moe());function Foe(t,e){return typeof e=="string"?yU.default.isMatch(t.fsPath,e,{dot:!0,windows:process.platform==="win32"}):yU.default.isMatch(t.fsPath,e.pattern,{dot:!0,windows:process.platform==="win32"})}var nb={location:"sameFolder",prefix:"test_",suffixes:[".test",".spec","_test","Test","_spec","_test","Tests",".Tests","Spec"]},ib={csharp:{suffixes:["Test"],location:"testFolder"},dart:{suffixes:["_test"],location:"testFolder"},go:{suffixes:["_test"],location:"sameFolder"},java:{suffixes:["Test"],location:"testFolder"},javascript:{suffixes:[".test",".spec"],location:"sameFolder"},kotlin:{suffixes:["Test"],location:"testFolder"},php:{suffixes:["Test"],location:"testFolder"},powershell:{suffixes:[".Tests"],location:"testFolder"},python:{prefix:"test_",location:"testFolder"},ruby:{suffixes:["_test","_spec"],location:"testFolder"},rust:{suffixes:[""],location:"testFolder"},swift:{suffixes:["Tests"],location:"testFolder"},typescript:{suffixes:[".test",".spec"],location:"sameFolder"}},g6e={cs:"csharp",dart:"dart",go:"go",java:"java",js:"javascript",kt:"kotlin",php:"php",ps1:"powershell",py:"python",rb:"ruby",rs:"rust",swift:"swift",ts:"typescript"},v6e=function(){let t={};for(let[e,r]of Object.entries(g6e))t[e]=ib[r];return t}(),AC=class{constructor(e,r){this._search=e;this._tabs=r}_findTabMatchingPattern(e){return this._tabs.tabs.find(n=>n.uri&&n.uri.scheme!==Bn.untitled&&Foe(n.uri,e))?.uri}async findTestFileForSourceFile(e,r){if(e.isUntitled)return;let n=Bu(e.uri),i=Bs(e.uri),o=ib[e.languageId]??nb,s=[];if(o.prefix&&s.push(o.prefix+n),o.suffixes)for(let c of o.suffixes??[]){let l=n.replace(`${i}`,`${c}${i}`);s.push(l)}let a=`**/{${s.join(",")}}`,u=this._findTabMatchingPattern(a);return u||(u=await this._search.findFilesWithDefaultExcludes(a,1,r)),u}async findAnyTestFileForSourceFile(e,r){let n=ib[e.languageId]??nb,i=[];if(n.prefix&&i.push(`${n.prefix}*`),n.suffixes){let a=Bs(e.uri);for(let u of n.suffixes??[])i.push(`*${u}${a}`)}let o=`**/{${i.join(",")}}`,s=this._findTabMatchingPattern(o);return s||(s=await this._search.findFilesWithDefaultExcludes(o,1,r)),s}async findFileForTestFile(e,r){let n=ib[e.languageId]??nb,i=Bu(e.uri),o=[];n.suffixes&&o.splice(0,0,...n.suffixes),n.prefix&&o.splice(0,0,n.prefix);for(let s of o){let a=i.replace(s,"");if(a!==i){let u=`**/${a}`,c=this._findTabMatchingPattern(u);if(c||(c=await this._search.findFilesWithDefaultExcludes(u,1,r)),c)return c}}}};function RC(t){let e;Pt.isUri(t)||(e=ib[t.languageId],t=t.uri);let r=Bu(t),n=Bs(t);return e??=v6e[n.replace(".","")],e?!(e.suffixes&&!e.suffixes.some(o=>r.endsWith(o+n))||e.prefix&&!r.startsWith(e.prefix)):!!(nb.suffixes.some(o=>r.endsWith(o+n))||r.startsWith(nb.prefix))}function Uoe(t){let e=ib[t.languageId]??nb,r=Bu(t.uri);if(e.prefix)return e.prefix+r;let n=Bs(t.uri),i=e.suffixes&&e.suffixes.length>0?e.suffixes[0]:".test";return r.replace(`${n}`,`${i}${n}`)}var _6e="vscode-notebook-cell";function Fr(t){return t.scheme===_6e}var qoe=Ie(vn());function y6e(t,e,...r){return{ctor:t,props:e,children:r.flat()}}function Boe(){throw new Error("This should not be invoked!")}Boe.isFragment=!0;globalThis.vscpp=y6e;globalThis.vscppf=Boe;var Ue=class{get priority(){return this.props.priority??0}constructor(e,r){this.props=e,this.accessor=r}};var $m=class extends Ue{render(){return vscpp(vscppf,null,this.props.children)}},_r=class extends $m{constructor(e,r){e.role="system",super(e,r)}},Le=class extends $m{constructor(e,r){e.role="user",super(e,r)}},MN=class extends $m{constructor(e,r){e.role="assistant",super(e,r)}};var b6e;(e=>e.empty={get:()=>{}})(b6e||={});var Gn=class t{constructor(e,r,n,i){this._accessor=e;this._endpoint=r;this._ctor=n;this._props=i;this._meta=new Map;this._usedContext=[];this._references=[];this._replyInterpreterFactory=null;this._queue=[];this._root=new bU(null,0);this._queue.push({node:this._root,ctor:this._ctor,props:this._props,children:[]})}getAllMeta(){let e=this._meta;return{get(r){return e.get(r)}}}getMeta(e){return this._meta.get(e)}getUsedContext(){return this._usedContext}getReferences(){return TC(this._references)}getReplyInterpreterFactory(){return this._replyInterpreterFactory}async render(e,r){let n={tokenBudget:this._endpoint.modelMaxPromptTokens,zoomLevel:0,endpoint:this._endpoint};return this._doRender(n,void 0,e,r)}async _doRender(e,r,n,i){for(;this._queue.length>0;){let p=this._queue.shift();Array.isArray(p.children)&&(p.props=p.props??{},p.props.children=p.children);let m=new p.ctor(p.props,this._accessor);p.node.setObj(m);let d=await m.prepare?.(e,n,i);p.node.setState(d);let h=m.render(p.node.getState(),e);if(!h)continue;let g=Hoe(h);for(let v of g)this._handlePromptPiece(p.node,v)}let o=this._root.materialize(),s=[],a=[];for(let p=0;p<o.length;p++)s.push({index:p}),a[p]=null;s.sort((p,m)=>FN.cmp(o[p.index],o[m.index]));let u=this._accessor.get(Mr),c=this._endpoint.modelMaxPromptTokens-FF,l=!1;for(;s.length>0;){let p=s.shift().index,m=o[p].chatMessage,d=UF(u,m);if(d>c){l=!0;break}a[p]=m,c-=d}let f=this._endpoint.modelMaxPromptTokens-c;if(l&&(r===void 0||f!==r)){let p={tokenBudget:this._endpoint.modelMaxPromptTokens,zoomLevel:e.zoomLevel+1,endpoint:this._endpoint};return new t(this._accessor,this._endpoint,this._ctor,this._props)._doRender(p,f,n,i)}return{messages:this._validate(Er(a)),tokenCount:f}}_validate(e){let r=e[e.length-1];if(r&&r.role!=="user")throw new Error(qoe.t("Sorry, this message is too long. Please try a shorter question."));return e}_handlePromptPiece(e,r){if(r.kind==="literal"){e.appendStringChild(r.value);return}if(r.kind==="intrinsic"){this._handleIntrinsic(e,r.name,r.props,Goe(r.children));return}let n=e.createChild();this._queue.push({node:n,ctor:r.ctor,props:r.props,children:r.children})}_handleIntrinsic(e,r,n,i){switch(r){case"meta":return this._handleIntrinsicMeta(e,n,i);case"br":return this._handleIntrinsicLineBreak(e,n,i);case"usedContext":return this._handleIntrinsicUsedContext(e,n,i);case"references":return this._handleIntrinsicReferences(e,n,i);case"replyInterpreter":return this._handleIntrinsicReplyInterpreter(e,n,i)}throw new Error(`Unknown intrinsic element ${r}!`)}_handleIntrinsicMeta(e,r,n){if(n.length>0)throw new Error("<meta/> must not have children!");let i=Object.getPrototypeOf(r.value).constructor;if(this._meta.has(i))throw new Error(`Duplicate meta data ${i.name}!`);this._meta.set(i,r.value)}_handleIntrinsicLineBreak(e,r,n){if(n.length>0)throw new Error("<br/> must not have children!");e.appendLineBreak()}_handleIntrinsicUsedContext(e,r,n){if(n.length>0)throw new Error("<usedContext/> must not have children!");this._usedContext.push(...r.value)}_handleIntrinsicReferences(e,r,n){if(n.length>0)throw new Error("<reference/> must not have children!");this._references.push(...r.value)}_handleIntrinsicReplyInterpreter(e,r,n){if(n.length>0)throw new Error("<replyInterpreter/> must not have children!");this._replyInterpreterFactory=r.value}};function Hoe(t){return typeof t>"u"||typeof t=="boolean"?[]:typeof t=="string"||typeof t=="number"?[{kind:"literal",value:String(t)}]:x6e(t)?[...Goe(t.children)]:typeof t.ctor=="string"?[{kind:"intrinsic",name:t.ctor,props:t.props,children:t.children}]:[{kind:"extrinsic",ctor:t.ctor,props:t.props,children:t.children}]}function Goe(t){return(t??[]).reduce((e,r)=>(e.push(...Hoe(r)),e),[])}async function Gl(t,e,r,n){let i=new Gn(t,e,r,n),{messages:o,tokenCount:s}=await i.render(void 0,void 0),a=i.getAllMeta(),u=i.getUsedContext(),c=i.getReferences();return{messages:o,tokenCount:s,metadatas:a,usedContext:u,references:c}}var bU=class t{constructor(e=null,r){this.parent=e;this.childIndex=r;this.kind=0;this._obj=null;this._state=void 0;this._children=[]}setObj(e){this._obj=e}setState(e){this._state=e}getState(){return this._state}createChild(){let e=new t(this,this._children.length);return this._children.push(e),e}appendStringChild(e){this._children.push(new xU(this,e))}appendLineBreak(){this._children.push(new UN(this,!0))}materialize(){let e=[];return this._materialize(e),e}_materialize(e){if(this._obj instanceof $m){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");let r=[];for(let i of this._children)i.collectLeafs(r);let n=[];for(let i of r)i.kind===1?n.push(i.text):(i.isExplicit||n.length>0&&n[n.length-1]!==`
`)&&n.push(`
`);e.push(new FN({role:this._obj.props.role,content:n.join(""),...this._obj.props.name?{name:this._obj.props.name}:{}},this._obj.props.priority,this.childIndex))}else for(let r of this._children){if(r.kind===1||r.kind===2)throw new Error("Cannot have a text node or line break node outside a ChatMessage!");r._materialize(e)}}collectLeafs(e){if(this._obj instanceof $m)throw new Error("Cannot have a ChatMessage nested inside a ChatMessage!");e.push(new UN(this,!1));for(let r of this._children)r.collectLeafs(e)}},FN=class{constructor(e,r,n){this.chatMessage=e;this.priority=r;this.childIndex=n}static cmp(e,r){return e.priority!==r.priority?(r.priority||0)-(e.priority||0):r.childIndex-e.childIndex}},xU=class{constructor(e,r){this.parent=e;this.text=r;this.kind=1}collectLeafs(e){e.push(this)}},UN=class{constructor(e,r){this.parent=e;this.isExplicit=r;this.kind=2}collectLeafs(e){e.push(this)}};function x6e(t){return(typeof t.ctor=="function"&&t.ctor.isFragment)??!1}var vs=class extends Ue{render(){return vscpp(vscppf,null,"```",this.props.language.languageId,vscpp("br",null),this.props.document&&vscpp(vscppf,null,Hn.forDocument(this.props.language,this.props.document),vscpp("br",null)),this.props.code&&vscpp(vscppf,null,this.props.code,vscpp("br",null)),"```")}};var zo=class extends Ue{render(){if(!this.props.codeRegion.hasContent)return;let e=[];return this.props.useMarkers&&e.push(this.props.codeRegion.startMarker),e.push(...this.props.codeRegion.lines),this.props.useMarkers&&e.push(this.props.codeRegion.endMarker),vscpp(vs,{language:this.props.codeRegion.language,document:this.props.codeRegion.document,code:e.join(`
`)})}};var ob=class extends Ue{async prepare(){return await Ym(this.accessor,this.props.documentContext.document,this.props.documentContext.wholeRange)}render(e,r){if(!Fr(this.props.documentContext.document.uri))throw Ho("InlineChatNotebookSelection should be used only with a notebook!");let{wholeRange:n}=e,i=E6e(this.accessor,r.endpoint.modelMaxPromptTokens/3,this.props.documentContext,n),o=this.props.documentContext.document,s=new ki(n,i),a=[{uri:o.uri,version:o.version,ranges:Er([i.range.toRange(),i.above.toRange(),i.below.toRange()])}];return vscpp(vscppf,null,vscpp("usedContext",{value:a}),vscpp("meta",{value:s}),vscpp(PC,{documentContext:this.props.documentContext,above:i.above,range:i.range,below:i.below,aboveCells:i.aboveCells,belowCells:i.belowCells}))}},PC=class extends Ue{render(e,r){if(!Fr(this.props.documentContext.document.uri))throw Ho("InlineChatNotebookSelectionRenderer should be used only with a notebook!");let n=this.props.includeDelimeters??!1,{below:i,above:o,range:s,aboveCells:a,belowCells:u}=this.props,c=a||[],l=u||[],f=this.props.documentContext.language;return vscpp(vscppf,null,(c.length>0||l.length>0)&&vscpp(Le,null,"I am working on a Jupyter notebook.",vscpp("br",null),"This Jupyter Notebook already contains multiple cells.",vscpp("br",null),"The content of cells are listed below, each cell starts with CELL INDEX and a code block started with ```",f.languageId,vscpp("br",null),"Each cell is a block of code that can be executed independently.",vscpp("br",null),"Since it is Jupyter Notebook, if a module is already imported in a cell, it can be used in other cells as well.",vscpp("br",null),"For the same reason, if a variable is defined in a cell, it can be used in other cells as well.",vscpp("br",null),"We should not repeat the same import or variable definition in multiple cells, unless we want to overwrite the previous definition.",vscpp("br",null),"Do not generate CELL INDEX in your answer, it is only used to help you understand the context.",vscpp("br",null),vscpp("br",null),"Below you will find a set of examples of what you should respond with. Please follow the exmaples on how to avoid repeating code.",vscpp("br",null),"## Examples starts here",vscpp("br",null),"Here are the cells in this Jupyter Notebook:",vscpp("br",null),"`CELL INDEX: 0",vscpp("br",null),"```python",vscpp("br",null),"import pandas as pd",vscpp("br",null),vscpp("br",null),"# create a dataframe with sample data",vscpp("br",null),"df = pd.DataFrame({'Name': ['Alice', 'Bob', 'Charlie'], 'Age': [25, 30, 35], 'Gender': ['F', 'M', 'M']})",vscpp("br",null),"print(df)",vscpp("br",null),"```",vscpp("br",null),"---------------------------------",vscpp("br",null),"USER:",vscpp("br",null),"Now I create a new cell in this Jupyter Notebook document at index 1.",vscpp("br",null),"In this new cell, I am working with the following code:",vscpp("br",null),"```python",vscpp("br",null),"```",vscpp("br",null),"---------------------------------",vscpp("br",null),"USER:",vscpp("br",null),"plot the data frame",vscpp("br",null),vscpp("br",null),"---------------------------------",vscpp("br",null),"ChatGPT Answer",vscpp("br",null),"---------------------------------",vscpp("br",null),"To plot the dataframe, we can use the `plot()` method of pandas dataframe. Here's the code:",vscpp("br",null),vscpp("br",null),"```python",vscpp("br",null),"df.plot(x='Name', y='Age', kind='bar')",vscpp("br",null),"```",vscpp("br",null),"## Example ends here",vscpp("br",null),c.length>0&&vscpp(BN,{cells:c,title:`Here are the cells in this Jupyter Notebook:
`}),l.length>0&&vscpp(BN,{cells:l,cellIndexDelta:c.length+1,title:`Here are the cells below the current cell that I am editing in this Jupyter Notebook:
`})),f.languageId==="markdown"?vscpp(EU,{cellIndex:c.length,selected:s,above:o,below:i,includeDelimeters:n}):vscpp(TU,{cellIndex:c.length,selected:s,above:o,below:i,includeDelimeters:n}))}},EU=class extends Ue{render(){let e=this.props.includeDelimeters??(this.props.above.hasContent||this.props.below.hasContent);return vscpp(vscppf,null,vscpp(Le,null,"Now I create a new cell in this Jupyter Notebook document at index ",this.props.cellIndex,".",vscpp("br",null),"This is a markdown cell. Markdown cell is used to describte and document your workflow.",vscpp("br",null),this.props.selected.hasContent?vscpp(vscppf,null,"I have the following content in the selection:",vscpp(zo,{codeRegion:this.props.selected,useMarkers:e})):vscpp(vscppf,null,"In this new cell, I am working with the following content:",vscpp(vs,{language:this.props.selected.language,code:""}))),this.props.above.hasContent&&vscpp(Le,null,"In this new cell, I have the following markdown content above the selection:",vscpp(zo,{codeRegion:this.props.above,useMarkers:this.props.includeDelimeters})),this.props.below.hasContent&&vscpp(Le,null,"In this new cell, I have the following markdown content below the selection:",vscpp(zo,{codeRegion:this.props.below,useMarkers:this.props.includeDelimeters})))}},TU=class extends Ue{render(){let e=this.props.includeDelimeters??(this.props.above.hasContent||this.props.below.hasContent);return vscpp(vscppf,null,vscpp(Le,null,"Now I create a new cell in this Jupyter Notebook document at index ",this.props.cellIndex,".",vscpp("br",null),this.props.selected.hasContent?vscpp(vscppf,null,"I have the following code in the selection:",vscpp(zo,{codeRegion:this.props.selected,useMarkers:e})):vscpp(vscppf,null,"In this new cell, I am working with the following code:",vscpp(vs,{language:this.props.selected.language,code:""}))),this.props.above.hasContent&&vscpp(Le,null,"In this new cell, I have the following code above the selection:",vscpp(zo,{codeRegion:this.props.above,useMarkers:this.props.includeDelimeters})),this.props.below.hasContent&&vscpp(Le,null,"In this new cell, I have the following code below the selection:",vscpp(zo,{codeRegion:this.props.below,useMarkers:this.props.includeDelimeters})))}},BN=class extends Ue{render(){return vscpp(vscppf,null,this.props.title,vscpp("br",null),this.props.cells.map((e,r)=>vscpp(SU,{index:r+(this.props.cellIndexDelta??0),cell:e})))}},SU=class extends Ue{render(){return vscpp(vscppf,null,"CELL INDEX: ",this.props.index,vscpp("br",null),"```",this.props.cell.language.languageId,vscpp("br",null),this.props.cell.lines.join(`
`),vscpp("br",null),"```")}};function E6e(t,e,r,n){let i=e*4,o=new qs(i),s=NC(r.document,r.selection,n,new ze(0,0,r.document.lineCount,0),r.language,o);return qN(t.get(ot),r,s,o)}var sb=class extends Ue{async prepare(){return await Ym(this.accessor,this.props.documentContext.document,this.props.documentContext.wholeRange)}render(e,r){if(Fr(this.props.documentContext.document.uri))throw Ho("InlineChatSelection should not be used with a notebook!");let{wholeRange:n,functionPositions:i,functionBodies:o}=e,s=CU(this.accessor,r.endpoint.modelMaxPromptTokens/3,this.props.documentContext,n,i,o),a=this.props.documentContext.document,u=this.props.documentContext.language,c=new ki(n,s),l=[{uri:a.uri,version:a.version,ranges:Er([s.range.toRange(),s.above.toRange(),s.below.toRange()])}],f=s.above.hasContent||s.below.hasContent||s.outlineAbove.length>0||s.outlineBelow.length>0;return vscpp(vscppf,null,vscpp("usedContext",{value:l}),vscpp("meta",{value:c}),s.outlineAbove.length>0&&vscpp(Le,null,"I have the following code above:",vscpp(vs,{language:u,document:a,code:s.outlineAbove})),s.above.hasContent&&vscpp(Le,null,"I have the following code above the selection:",vscpp(zo,{codeRegion:s.above,useMarkers:f})),s.below.hasContent&&vscpp(Le,null,"I have the following code below the selection:",vscpp(zo,{codeRegion:s.below,useMarkers:f})),s.outlineBelow.length>0&&vscpp(Le,null,"I have the following code below:",vscpp(vs,{language:u,document:a,code:s.outlineBelow})),s.range.hasContent&&vscpp(Le,null,"I have the following code in the selection:",vscpp(zo,{codeRegion:s.range,useMarkers:f})),!s.range.hasContent&&!f&&vscpp(Le,null,"I am in an empty file:",vscpp(vs,{language:u,document:a,code:""})))}};function CU(t,e,r,n,i,o){let s=e*4,a=new qs(s),u=NC(r.document,r.selection,n,new ze(0,0,r.document.lineCount,0),r.language,a);if(!(u.above.hasContent&&!u.above.isComplete))return{language:u.language,above:u.above,range:u.range,below:u.below,outlineAbove:"",outlineBelow:""};let l=new qs(s),f=foe(r.document,i,n),p=new ze(f.start.line,0,f.end.line,r.document.lineAt(f.end.line).range.end.character),m=NC(r.document,r.selection,n,p,r.language,l),d="",h="";if(m.above.isComplete&&m.below.isComplete){let g=joe({document:r.document,functionBodies:o,rangeExpandedToFunctionWholeLines:p}),v=Voe(g,l);d=v.outlineAbove,h=v.outlineBelow}return{language:m.language,above:m.above,range:m.range,below:m.below,outlineAbove:d,outlineBelow:h}}var IU=class{constructor(){this.kind="inline-chat-selection"}async resolveContext(e,r,n){let i=r.documentContext;if(!i)return;let o=Fr(i.document.uri)?ob:sb,{messages:s,metadatas:a,usedContext:u}=await Gl(e,r.endpoint,o,{documentContext:i}),c=a.get(ki);return{kind:this.kind,userMessages:s.map(l=>l.content),usedContext:u,metadata:c}}},zoe=Gt.register(new IU);function NC(t,e,r,n,i,o){if(e.end.character===0&&e.end.line!==e.start.line&&(r.start.line===e.start.line&&r.start.character===0&&r.end.line===e.end.line&&r.end.character===t.lineAt(r.end.line).text.length||r.isEqual(e))){let f=t.lineAt(r.end.line-1);r=new ze(r.start,new fr(r.end.line-1,f.text.length))}let s=new _o(o,t,i,"ed8c6549bwf9"),a=new _o(o,t,i,"abpxx6d04wxr"),u=new _o(o,t,i,"be15d9bcejpp"),c=()=>(a.trim(),s.trim(e),u.trim(),{language:i,above:a,range:s,below:u});for(let f=r.end.line;f>=r.start.line;f--)if(!s.prependLine(f))return c();let l={aboveLineIndex:r.start.line-1,belowLineIndex:r.end.line+1,minimumLineIndex:Math.max(0,n.start.line),maximumLineIndex:Math.min(t.lineCount-1,n.end.line)};return wU(l,a,u),c()}function wU(t,e,r){let n=t.aboveLineIndex,i=!0,o=t.belowLineIndex,s=!0;for(let a=0;a<100&&(i||s);a++)!i||s&&a%4===3?o<=t.maximumLineIndex&&r.appendLine(o)?o++:s=!1:n>=t.minimumLineIndex&&e.prependLine(n)?n--:i=!1;e.isComplete=n<t.minimumLineIndex,r.isComplete=o>t.maximumLineIndex}function joe({document:t,functionBodies:e,rangeExpandedToFunctionWholeLines:r}){let n="";t.languageId==="typescript"&&(n=";");let i=f=>{let m=new ze(t.positionAt(f.startIndex),t.positionAt(f.endIndex));return m.end.line<r.start.line?r.start.line-m.start.line>50:m.start.line>r.end.line?m.end.line-r.end.line>50:!0},o=e.filter(i),s=t.offsetAt(r.start),a=t.offsetAt(r.end),u={startOffset:s,endOffset:a},{outlineAbove:c,outlineBelow:l}=AU(t.getText(),o,u,n);return{outlineAboveRange:c,outlineBelowRange:l}}function AU(t,e,r,n){let i=0,o="",s=r.endOffset,a="";for(let u of e)if(u.endIndex<r.startOffset)o+=t.substring(i,u.startIndex),o+=n,i=u.endIndex;else if(u.startIndex>r.endOffset)a+=t.substring(s,u.startIndex),a+=n,s=u.endIndex;else continue;return o+=t.substring(i,r.startOffset),a+=t.substring(s,t.length),{outlineAbove:o,outlineBelow:a}}function Voe(t,e){let r=/\r\n|\r|\n/g,n=t.outlineAboveRange===""?[]:t.outlineAboveRange.split(r),i=t.outlineBelowRange===""?[]:t.outlineBelowRange.split(r),o=[],s=[],a=m=>e.lineWouldFit(m)?(e.addLine(m),o.unshift(m),!0):!1,u=m=>e.lineWouldFit(m)?(e.addLine(m),s.push(m),!0):!1,c=n.length-1,l=!0,f=0,p=!0;for(let m=0;m<100&&(l||p);m++)!l||p&&m%4===3?f<i.length&&u(i[f])?f++:p=!1:c>=0&&a(n[c])?c--:l=!1;return{outlineAbove:o.join(`
`),outlineBelow:s.join(`
`)}}function qN(t,e,r,n){let i=t.notebookDocuments.find(_=>_.uri.fsPath===e.document.uri.fsPath&&_.getCells().find(y=>y.document===e.document));if(!i)return{...r,outlineAbove:"",outlineBelow:"",aboveCells:[],belowCells:[]};let{language:o,above:s,range:a,below:u}=r,c=s.lines.length+a.lines.length+u.lines.length,l=i.getCells().findIndex(_=>_.document===e.document),f=[],p=[],m=()=>(f.forEach(_=>_.trim()),p.forEach(_=>_.trim()),{language:o,above:s,range:a,below:u,outlineAbove:"",outlineBelow:"",aboveCells:f,belowCells:p}),d=!0,h=!0,g=l-1,v=l+1;for(let _=c;_<100&&(d||h);_++)if(d)if(g>=0){let x=i.cellAt(g).document,b=new _o(n,x,e.language,"CELL:"+x.uri.fragment);for(let T=0;T<x.lineCount;T++)b.appendLine(T);f.unshift(b),g--}else d=!1;else if(v<i.cellCount){let x=i.cellAt(v).document,b=new _o(n,x,e.language,"CELL:"+x.uri.fragment);for(let T=0;T<x.lineCount;T++)b.appendLine(T);p.push(b),v++}else h=!1;return m()}var DC=class{constructor(){this.kind="tests/impl2test";this._onDidFindCandidate=new soe;this.onDidFindCandidate=this._onDidFindCandidate.event;this.metaContextResolverInfo={description:"Information about existing or related files containing tests."};this._decoder=new PU.TextDecoder}async resolveContext(e,r,n){let i=r.documentContext;if(!i||RC(i.document))return;let o=e.get(Zi),s=new AC(e.get(Fp),e.get(Wr)),a=r.endpoint.modelMaxPromptTokens*4/3,u=async(p,m=a)=>{let h=this._decoder.decode(await o.readFile(p)).substring(0,m);return`${Hn.forUri(i.language,p)}

${h}`},c=await s.findTestFileForSourceFile(i.document,n);if(c){this._onDidFindCandidate.fire(c);let p=new qu;return p.appendMarkdown(`

Excerpt of the existing test file:

`),p.appendCodeblock(await u(c),i.document.languageId),p.appendMarkdown(`
Because a test file exists:`),p.appendMarkdown(`
- Do not generate preambles, like imports, copyright headers etc.`),p.appendMarkdown(`
- Do generate code that can be appended to the existing test file.`),{kind:this.kind,userMessages:[p.value],references:[new go(c)]}}let l=await s.findAnyTestFileForSourceFile(i.document,n);if(!l)return;let f=new qu(`This is sample test file:

`);return f.appendCodeblock(await u(l),i.document.languageId),{kind:this.kind,userMessages:[f.value],references:[new go(l)]}}},RU=class{constructor(){this.kind="tests/test2impl";this.metaContextResolverInfo={description:"Information about existing or related files containing tests."};this._decoder=new PU.TextDecoder}async resolveContext(e,r,n){let i=r.documentContext;if(!i||!RC(i.document))return;let o=e.get(Zi),s=new AC(e.get(Fp),e.get(Wr)),a=r.endpoint.modelMaxPromptTokens*4/3;function u(p,m,d=a){return`${Hn.forUri(i.language,p)}

${m.substring(0,d)}`}let c=async p=>{let m=this._decoder.decode(await o.readFile(p));return u(p,m)},l=await s.findFileForTestFile(i.document,n);if(!l)return;let f;try{let p=await e.get(ot).openTextDocument(l),m=p.getText(),d=await CC(e,p,100),{outlineAbove:h,outlineBelow:g}=AU(m,d,{startOffset:m.length,endOffset:m.length},""),v=`${h}
${g}`;f=new qu(`
This is an excerpt of the file that this test is covering:

`),f.appendCodeblock(u(l,v),i.document.languageId)}catch{}return f||(f=new qu(`
This is an excerpt of the file that this test is covering:

`),f.appendCodeblock(await c(l),i.document.languageId)),{kind:this.kind,userMessages:[f.value],references:[new go(l)]}}},vEt=Gt.register(new DC),Yoe=Gt.register(new RU);var Ar=Wt("IIgnoreService"),$oe=class t{static{this.Instance=new t}dispose(){}async init(){}isIgnored(e,r){return!1}isCopilotIgnored(e){return!1}isGitIgnored(e){return!1}asMinimatchPattern(e){}};var T6e=require("path"),NU=class{constructor(){this.kind="current-editor";this.variableInfo={name:"editor",description:"The visible source code in the active editor",defaultEnablement:!0};this.metaContextResolverInfo={description:"Source code in the active document."}}async resolveContext(e,r){let n=e.get(Wr).activeTextEditor,i=e.get(Ar);if(n&&i.isIgnored(n.document.uri,{includeCopilotIgnore:!0,includeGitIgnore:!1}))return;let o=n?.visibleRanges[0];if(o){let s="";n.selection.isSingleLine&&(s=`The cursor is on line: ${n.selection.start.line}`);let a="Excerpt from active file "+T6e.basename(n.document.uri.path)+", lines "+(o.start.line+1)+" to "+(o.end.line+1)+":\n```"+n.document.languageId+`
`+n.document.getText(o)+"\n```\n\n"+s,u=[{uri:n.document.uri,version:n.document.version,ranges:[o]}];return{kind:this.kind,userMessages:[a],usedContext:u,references:[new go({uri:n.document.uri,range:o})]}}}},Woe=Gt.register(new NU);var tae=Ie(require("path"));var qU={};Jn(qU,{arrayReplaceAt:()=>BU,assign:()=>ub,escapeHtml:()=>qp,escapeRE:()=>s8e,fromCodePoint:()=>OC,has:()=>K6e,isMdAsciiPunct:()=>gv,isPunctChar:()=>hv,isSpace:()=>Kt,isString:()=>QN,isValidEntityCode:()=>JN,isWhiteSpace:()=>mv,lib:()=>a8e,normalizeReference:()=>vv,unescapeAll:()=>Xm,unescapeMd:()=>e8e});var zN={};Jn(zN,{decode:()=>kC,encode:()=>jN,format:()=>ab,parse:()=>LC});var Koe={};function S6e(t){let e=Koe[t];if(e)return e;e=Koe[t]=[];for(let r=0;r<128;r++){let n=String.fromCharCode(r);e.push(n)}for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);e[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2)}return e}function HN(t,e){typeof e!="string"&&(e=HN.defaultChars);let r=S6e(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(n){let i="";for(let o=0,s=n.length;o<s;o+=3){let a=parseInt(n.slice(o+1,o+3),16);if(a<128){i+=r[a];continue}if((a&224)===192&&o+3<s){let u=parseInt(n.slice(o+4,o+6),16);if((u&192)===128){let c=a<<6&1984|u&63;c<128?i+="\uFFFD\uFFFD":i+=String.fromCharCode(c),o+=3;continue}}if((a&240)===224&&o+6<s){let u=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16);if((u&192)===128&&(c&192)===128){let l=a<<12&61440|u<<6&4032|c&63;l<2048||l>=55296&&l<=57343?i+="\uFFFD\uFFFD\uFFFD":i+=String.fromCharCode(l),o+=6;continue}}if((a&248)===240&&o+9<s){let u=parseInt(n.slice(o+4,o+6),16),c=parseInt(n.slice(o+7,o+9),16),l=parseInt(n.slice(o+10,o+12),16);if((u&192)===128&&(c&192)===128&&(l&192)===128){let f=a<<18&1835008|u<<12&258048|c<<6&4032|l&63;f<65536||f>1114111?i+="\uFFFD\uFFFD\uFFFD\uFFFD":(f-=65536,i+=String.fromCharCode(55296+(f>>10),56320+(f&1023))),o+=9;continue}}i+="\uFFFD"}return i})}HN.defaultChars=";/?:@&=+$,#";HN.componentChars="";var kC=HN;var Xoe={};function C6e(t){let e=Xoe[t];if(e)return e;e=Xoe[t]=[];for(let r=0;r<128;r++){let n=String.fromCharCode(r);/^[0-9a-z]$/i.test(n)?e.push(n):e.push("%"+("0"+r.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}function GN(t,e,r){typeof e!="string"&&(r=e,e=GN.defaultChars),typeof r>"u"&&(r=!0);let n=C6e(e),i="";for(let o=0,s=t.length;o<s;o++){let a=t.charCodeAt(o);if(r&&a===37&&o+2<s&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3))){i+=t.slice(o,o+3),o+=2;continue}if(a<128){i+=n[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s){let u=t.charCodeAt(o+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[o])}return i}GN.defaultChars=";/?:@&=+$,-_.!~*'()#";GN.componentChars="-_.!~*'()";var jN=GN;function ab(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function VN(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var I6e=/^([a-z0-9.+-]+:)/i,w6e=/:[0-9]*$/,A6e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,R6e=["<",">",'"',"`"," ","\r",`
`,"	"],P6e=["{","}","|","\\","^","`"].concat(R6e),N6e=["'"].concat(P6e),Qoe=["%","/","?",";","#"].concat(N6e),Joe=["/","?","#"],D6e=255,Zoe=/^[+a-z0-9A-Z_-]{0,63}$/,k6e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ese={javascript:!0,"javascript:":!0},tse={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function L6e(t,e){if(t&&t instanceof VN)return t;let r=new VN;return r.parse(t,e),r}VN.prototype.parse=function(t,e){let r,n,i,o=t;if(o=o.trim(),!e&&t.split("#").length===1){let c=A6e.exec(o);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let s=I6e.exec(o);if(s&&(s=s[0],r=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(e||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=o.substr(0,2)==="//",i&&!(s&&ese[s])&&(o=o.substr(2),this.slashes=!0)),!ese[s]&&(i||s&&!tse[s])){let c=-1;for(let d=0;d<Joe.length;d++)n=o.indexOf(Joe[d]),n!==-1&&(c===-1||n<c)&&(c=n);let l,f;c===-1?f=o.lastIndexOf("@"):f=o.lastIndexOf("@",c),f!==-1&&(l=o.slice(0,f),o=o.slice(f+1),this.auth=l),c=-1;for(let d=0;d<Qoe.length;d++)n=o.indexOf(Qoe[d]),n!==-1&&(c===-1||n<c)&&(c=n);c===-1&&(c=o.length),o[c-1]===":"&&c--;let p=o.slice(0,c);o=o.slice(c),this.parseHost(p),this.hostname=this.hostname||"";let m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){let d=this.hostname.split(/\./);for(let h=0,g=d.length;h<g;h++){let v=d[h];if(v&&!v.match(Zoe)){let _="";for(let y=0,x=v.length;y<x;y++)v.charCodeAt(y)>127?_+="x":_+=v[y];if(!_.match(Zoe)){let y=d.slice(0,h),x=d.slice(h+1),b=v.match(k6e);b&&(y.push(b[1]),x.unshift(b[2])),x.length&&(o=x.join(".")+o),this.hostname=y.join(".");break}}}}this.hostname.length>D6e&&(this.hostname=""),m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}let a=o.indexOf("#");a!==-1&&(this.hash=o.substr(a),o=o.slice(0,a));let u=o.indexOf("?");return u!==-1&&(this.search=o.substr(u),o=o.slice(0,u)),o&&(this.pathname=o),tse[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this};VN.prototype.parseHost=function(t){let e=w6e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var LC=L6e;var DU={};Jn(DU,{Any:()=>YN,Cc:()=>$N,Cf:()=>rse,P:()=>cb,Z:()=>WN});var YN=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var $N=/[\0-\x1F\x7F-\x9F]/;var rse=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/;var cb=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/;var WN=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;var nse=new Uint16Array('\u1D41<\xD5\u0131\u028A\u049D\u057B\u05D0\u0675\u06DE\u07A2\u07D6\u080F\u0A4A\u0A91\u0DA1\u0E6D\u0F09\u0F26\u10CA\u1228\u12E1\u1415\u149D\u14C3\u14DF\u1525\0\0\0\0\0\0\u156B\u16CD\u198D\u1C12\u1DDD\u1F7E\u2060\u21B0\u228D\u23C0\u23FB\u2442\u2824\u2912\u2D08\u2E48\u2FCE\u3016\u32BA\u3639\u37AC\u38FE\u3A28\u3A71\u3AE0\u3B2E\u0800EMabcfglmnoprstu\\bfms\x7F\x84\x8B\x90\x95\x98\xA6\xB3\xB9\xC8\xCFlig\u803B\xC6\u40C6P\u803B&\u4026cute\u803B\xC1\u40C1reve;\u4102\u0100iyx}rc\u803B\xC2\u40C2;\u4410r;\uC000\u{1D504}rave\u803B\xC0\u40C0pha;\u4391acr;\u4100d;\u6A53\u0100gp\x9D\xA1on;\u4104f;\uC000\u{1D538}plyFunction;\u6061ing\u803B\xC5\u40C5\u0100cs\xBE\xC3r;\uC000\u{1D49C}ign;\u6254ilde\u803B\xC3\u40C3ml\u803B\xC4\u40C4\u0400aceforsu\xE5\xFB\xFE\u0117\u011C\u0122\u0127\u012A\u0100cr\xEA\xF2kslash;\u6216\u0176\xF6\xF8;\u6AE7ed;\u6306y;\u4411\u0180crt\u0105\u010B\u0114ause;\u6235noullis;\u612Ca;\u4392r;\uC000\u{1D505}pf;\uC000\u{1D539}eve;\u42D8c\xF2\u0113mpeq;\u624E\u0700HOacdefhilorsu\u014D\u0151\u0156\u0180\u019E\u01A2\u01B5\u01B7\u01BA\u01DC\u0215\u0273\u0278\u027Ecy;\u4427PY\u803B\xA9\u40A9\u0180cpy\u015D\u0162\u017Aute;\u4106\u0100;i\u0167\u0168\u62D2talDifferentialD;\u6145leys;\u612D\u0200aeio\u0189\u018E\u0194\u0198ron;\u410Cdil\u803B\xC7\u40C7rc;\u4108nint;\u6230ot;\u410A\u0100dn\u01A7\u01ADilla;\u40B8terDot;\u40B7\xF2\u017Fi;\u43A7rcle\u0200DMPT\u01C7\u01CB\u01D1\u01D6ot;\u6299inus;\u6296lus;\u6295imes;\u6297o\u0100cs\u01E2\u01F8kwiseContourIntegral;\u6232eCurly\u0100DQ\u0203\u020FoubleQuote;\u601Duote;\u6019\u0200lnpu\u021E\u0228\u0247\u0255on\u0100;e\u0225\u0226\u6237;\u6A74\u0180git\u022F\u0236\u023Aruent;\u6261nt;\u622FourIntegral;\u622E\u0100fr\u024C\u024E;\u6102oduct;\u6210nterClockwiseContourIntegral;\u6233oss;\u6A2Fcr;\uC000\u{1D49E}p\u0100;C\u0284\u0285\u62D3ap;\u624D\u0580DJSZacefios\u02A0\u02AC\u02B0\u02B4\u02B8\u02CB\u02D7\u02E1\u02E6\u0333\u048D\u0100;o\u0179\u02A5trahd;\u6911cy;\u4402cy;\u4405cy;\u440F\u0180grs\u02BF\u02C4\u02C7ger;\u6021r;\u61A1hv;\u6AE4\u0100ay\u02D0\u02D5ron;\u410E;\u4414l\u0100;t\u02DD\u02DE\u6207a;\u4394r;\uC000\u{1D507}\u0100af\u02EB\u0327\u0100cm\u02F0\u0322ritical\u0200ADGT\u0300\u0306\u0316\u031Ccute;\u40B4o\u0174\u030B\u030D;\u42D9bleAcute;\u42DDrave;\u4060ilde;\u42DCond;\u62C4ferentialD;\u6146\u0470\u033D\0\0\0\u0342\u0354\0\u0405f;\uC000\u{1D53B}\u0180;DE\u0348\u0349\u034D\u40A8ot;\u60DCqual;\u6250ble\u0300CDLRUV\u0363\u0372\u0382\u03CF\u03E2\u03F8ontourIntegra\xEC\u0239o\u0274\u0379\0\0\u037B\xBB\u0349nArrow;\u61D3\u0100eo\u0387\u03A4ft\u0180ART\u0390\u0396\u03A1rrow;\u61D0ightArrow;\u61D4e\xE5\u02CAng\u0100LR\u03AB\u03C4eft\u0100AR\u03B3\u03B9rrow;\u67F8ightArrow;\u67FAightArrow;\u67F9ight\u0100AT\u03D8\u03DErrow;\u61D2ee;\u62A8p\u0241\u03E9\0\0\u03EFrrow;\u61D1ownArrow;\u61D5erticalBar;\u6225n\u0300ABLRTa\u0412\u042A\u0430\u045E\u047F\u037Crrow\u0180;BU\u041D\u041E\u0422\u6193ar;\u6913pArrow;\u61F5reve;\u4311eft\u02D2\u043A\0\u0446\0\u0450ightVector;\u6950eeVector;\u695Eector\u0100;B\u0459\u045A\u61BDar;\u6956ight\u01D4\u0467\0\u0471eeVector;\u695Fector\u0100;B\u047A\u047B\u61C1ar;\u6957ee\u0100;A\u0486\u0487\u62A4rrow;\u61A7\u0100ct\u0492\u0497r;\uC000\u{1D49F}rok;\u4110\u0800NTacdfglmopqstux\u04BD\u04C0\u04C4\u04CB\u04DE\u04E2\u04E7\u04EE\u04F5\u0521\u052F\u0536\u0552\u055D\u0560\u0565G;\u414AH\u803B\xD0\u40D0cute\u803B\xC9\u40C9\u0180aiy\u04D2\u04D7\u04DCron;\u411Arc\u803B\xCA\u40CA;\u442Dot;\u4116r;\uC000\u{1D508}rave\u803B\xC8\u40C8ement;\u6208\u0100ap\u04FA\u04FEcr;\u4112ty\u0253\u0506\0\0\u0512mallSquare;\u65FBerySmallSquare;\u65AB\u0100gp\u0526\u052Aon;\u4118f;\uC000\u{1D53C}silon;\u4395u\u0100ai\u053C\u0549l\u0100;T\u0542\u0543\u6A75ilde;\u6242librium;\u61CC\u0100ci\u0557\u055Ar;\u6130m;\u6A73a;\u4397ml\u803B\xCB\u40CB\u0100ip\u056A\u056Fsts;\u6203onentialE;\u6147\u0280cfios\u0585\u0588\u058D\u05B2\u05CCy;\u4424r;\uC000\u{1D509}lled\u0253\u0597\0\0\u05A3mallSquare;\u65FCerySmallSquare;\u65AA\u0370\u05BA\0\u05BF\0\0\u05C4f;\uC000\u{1D53D}All;\u6200riertrf;\u6131c\xF2\u05CB\u0600JTabcdfgorst\u05E8\u05EC\u05EF\u05FA\u0600\u0612\u0616\u061B\u061D\u0623\u066C\u0672cy;\u4403\u803B>\u403Emma\u0100;d\u05F7\u05F8\u4393;\u43DCreve;\u411E\u0180eiy\u0607\u060C\u0610dil;\u4122rc;\u411C;\u4413ot;\u4120r;\uC000\u{1D50A};\u62D9pf;\uC000\u{1D53E}eater\u0300EFGLST\u0635\u0644\u064E\u0656\u065B\u0666qual\u0100;L\u063E\u063F\u6265ess;\u62DBullEqual;\u6267reater;\u6AA2ess;\u6277lantEqual;\u6A7Eilde;\u6273cr;\uC000\u{1D4A2};\u626B\u0400Aacfiosu\u0685\u068B\u0696\u069B\u069E\u06AA\u06BE\u06CARDcy;\u442A\u0100ct\u0690\u0694ek;\u42C7;\u405Eirc;\u4124r;\u610ClbertSpace;\u610B\u01F0\u06AF\0\u06B2f;\u610DizontalLine;\u6500\u0100ct\u06C3\u06C5\xF2\u06A9rok;\u4126mp\u0144\u06D0\u06D8ownHum\xF0\u012Fqual;\u624F\u0700EJOacdfgmnostu\u06FA\u06FE\u0703\u0707\u070E\u071A\u071E\u0721\u0728\u0744\u0778\u078B\u078F\u0795cy;\u4415lig;\u4132cy;\u4401cute\u803B\xCD\u40CD\u0100iy\u0713\u0718rc\u803B\xCE\u40CE;\u4418ot;\u4130r;\u6111rave\u803B\xCC\u40CC\u0180;ap\u0720\u072F\u073F\u0100cg\u0734\u0737r;\u412AinaryI;\u6148lie\xF3\u03DD\u01F4\u0749\0\u0762\u0100;e\u074D\u074E\u622C\u0100gr\u0753\u0758ral;\u622Bsection;\u62C2isible\u0100CT\u076C\u0772omma;\u6063imes;\u6062\u0180gpt\u077F\u0783\u0788on;\u412Ef;\uC000\u{1D540}a;\u4399cr;\u6110ilde;\u4128\u01EB\u079A\0\u079Ecy;\u4406l\u803B\xCF\u40CF\u0280cfosu\u07AC\u07B7\u07BC\u07C2\u07D0\u0100iy\u07B1\u07B5rc;\u4134;\u4419r;\uC000\u{1D50D}pf;\uC000\u{1D541}\u01E3\u07C7\0\u07CCr;\uC000\u{1D4A5}rcy;\u4408kcy;\u4404\u0380HJacfos\u07E4\u07E8\u07EC\u07F1\u07FD\u0802\u0808cy;\u4425cy;\u440Cppa;\u439A\u0100ey\u07F6\u07FBdil;\u4136;\u441Ar;\uC000\u{1D50E}pf;\uC000\u{1D542}cr;\uC000\u{1D4A6}\u0580JTaceflmost\u0825\u0829\u082C\u0850\u0863\u09B3\u09B8\u09C7\u09CD\u0A37\u0A47cy;\u4409\u803B<\u403C\u0280cmnpr\u0837\u083C\u0841\u0844\u084Dute;\u4139bda;\u439Bg;\u67EAlacetrf;\u6112r;\u619E\u0180aey\u0857\u085C\u0861ron;\u413Ddil;\u413B;\u441B\u0100fs\u0868\u0970t\u0500ACDFRTUVar\u087E\u08A9\u08B1\u08E0\u08E6\u08FC\u092F\u095B\u0390\u096A\u0100nr\u0883\u088FgleBracket;\u67E8row\u0180;BR\u0899\u089A\u089E\u6190ar;\u61E4ightArrow;\u61C6eiling;\u6308o\u01F5\u08B7\0\u08C3bleBracket;\u67E6n\u01D4\u08C8\0\u08D2eeVector;\u6961ector\u0100;B\u08DB\u08DC\u61C3ar;\u6959loor;\u630Aight\u0100AV\u08EF\u08F5rrow;\u6194ector;\u694E\u0100er\u0901\u0917e\u0180;AV\u0909\u090A\u0910\u62A3rrow;\u61A4ector;\u695Aiangle\u0180;BE\u0924\u0925\u0929\u62B2ar;\u69CFqual;\u62B4p\u0180DTV\u0937\u0942\u094CownVector;\u6951eeVector;\u6960ector\u0100;B\u0956\u0957\u61BFar;\u6958ector\u0100;B\u0965\u0966\u61BCar;\u6952ight\xE1\u039Cs\u0300EFGLST\u097E\u098B\u0995\u099D\u09A2\u09ADqualGreater;\u62DAullEqual;\u6266reater;\u6276ess;\u6AA1lantEqual;\u6A7Dilde;\u6272r;\uC000\u{1D50F}\u0100;e\u09BD\u09BE\u62D8ftarrow;\u61DAidot;\u413F\u0180npw\u09D4\u0A16\u0A1Bg\u0200LRlr\u09DE\u09F7\u0A02\u0A10eft\u0100AR\u09E6\u09ECrrow;\u67F5ightArrow;\u67F7ightArrow;\u67F6eft\u0100ar\u03B3\u0A0Aight\xE1\u03BFight\xE1\u03CAf;\uC000\u{1D543}er\u0100LR\u0A22\u0A2CeftArrow;\u6199ightArrow;\u6198\u0180cht\u0A3E\u0A40\u0A42\xF2\u084C;\u61B0rok;\u4141;\u626A\u0400acefiosu\u0A5A\u0A5D\u0A60\u0A77\u0A7C\u0A85\u0A8B\u0A8Ep;\u6905y;\u441C\u0100dl\u0A65\u0A6FiumSpace;\u605Flintrf;\u6133r;\uC000\u{1D510}nusPlus;\u6213pf;\uC000\u{1D544}c\xF2\u0A76;\u439C\u0480Jacefostu\u0AA3\u0AA7\u0AAD\u0AC0\u0B14\u0B19\u0D91\u0D97\u0D9Ecy;\u440Acute;\u4143\u0180aey\u0AB4\u0AB9\u0ABEron;\u4147dil;\u4145;\u441D\u0180gsw\u0AC7\u0AF0\u0B0Eative\u0180MTV\u0AD3\u0ADF\u0AE8ediumSpace;\u600Bhi\u0100cn\u0AE6\u0AD8\xEB\u0AD9eryThi\xEE\u0AD9ted\u0100GL\u0AF8\u0B06reaterGreate\xF2\u0673essLes\xF3\u0A48Line;\u400Ar;\uC000\u{1D511}\u0200Bnpt\u0B22\u0B28\u0B37\u0B3Areak;\u6060BreakingSpace;\u40A0f;\u6115\u0680;CDEGHLNPRSTV\u0B55\u0B56\u0B6A\u0B7C\u0BA1\u0BEB\u0C04\u0C5E\u0C84\u0CA6\u0CD8\u0D61\u0D85\u6AEC\u0100ou\u0B5B\u0B64ngruent;\u6262pCap;\u626DoubleVerticalBar;\u6226\u0180lqx\u0B83\u0B8A\u0B9Bement;\u6209ual\u0100;T\u0B92\u0B93\u6260ilde;\uC000\u2242\u0338ists;\u6204reater\u0380;EFGLST\u0BB6\u0BB7\u0BBD\u0BC9\u0BD3\u0BD8\u0BE5\u626Fqual;\u6271ullEqual;\uC000\u2267\u0338reater;\uC000\u226B\u0338ess;\u6279lantEqual;\uC000\u2A7E\u0338ilde;\u6275ump\u0144\u0BF2\u0BFDownHump;\uC000\u224E\u0338qual;\uC000\u224F\u0338e\u0100fs\u0C0A\u0C27tTriangle\u0180;BE\u0C1A\u0C1B\u0C21\u62EAar;\uC000\u29CF\u0338qual;\u62ECs\u0300;EGLST\u0C35\u0C36\u0C3C\u0C44\u0C4B\u0C58\u626Equal;\u6270reater;\u6278ess;\uC000\u226A\u0338lantEqual;\uC000\u2A7D\u0338ilde;\u6274ested\u0100GL\u0C68\u0C79reaterGreater;\uC000\u2AA2\u0338essLess;\uC000\u2AA1\u0338recedes\u0180;ES\u0C92\u0C93\u0C9B\u6280qual;\uC000\u2AAF\u0338lantEqual;\u62E0\u0100ei\u0CAB\u0CB9verseElement;\u620CghtTriangle\u0180;BE\u0CCB\u0CCC\u0CD2\u62EBar;\uC000\u29D0\u0338qual;\u62ED\u0100qu\u0CDD\u0D0CuareSu\u0100bp\u0CE8\u0CF9set\u0100;E\u0CF0\u0CF3\uC000\u228F\u0338qual;\u62E2erset\u0100;E\u0D03\u0D06\uC000\u2290\u0338qual;\u62E3\u0180bcp\u0D13\u0D24\u0D4Eset\u0100;E\u0D1B\u0D1E\uC000\u2282\u20D2qual;\u6288ceeds\u0200;EST\u0D32\u0D33\u0D3B\u0D46\u6281qual;\uC000\u2AB0\u0338lantEqual;\u62E1ilde;\uC000\u227F\u0338erset\u0100;E\u0D58\u0D5B\uC000\u2283\u20D2qual;\u6289ilde\u0200;EFT\u0D6E\u0D6F\u0D75\u0D7F\u6241qual;\u6244ullEqual;\u6247ilde;\u6249erticalBar;\u6224cr;\uC000\u{1D4A9}ilde\u803B\xD1\u40D1;\u439D\u0700Eacdfgmoprstuv\u0DBD\u0DC2\u0DC9\u0DD5\u0DDB\u0DE0\u0DE7\u0DFC\u0E02\u0E20\u0E22\u0E32\u0E3F\u0E44lig;\u4152cute\u803B\xD3\u40D3\u0100iy\u0DCE\u0DD3rc\u803B\xD4\u40D4;\u441Eblac;\u4150r;\uC000\u{1D512}rave\u803B\xD2\u40D2\u0180aei\u0DEE\u0DF2\u0DF6cr;\u414Cga;\u43A9cron;\u439Fpf;\uC000\u{1D546}enCurly\u0100DQ\u0E0E\u0E1AoubleQuote;\u601Cuote;\u6018;\u6A54\u0100cl\u0E27\u0E2Cr;\uC000\u{1D4AA}ash\u803B\xD8\u40D8i\u016C\u0E37\u0E3Cde\u803B\xD5\u40D5es;\u6A37ml\u803B\xD6\u40D6er\u0100BP\u0E4B\u0E60\u0100ar\u0E50\u0E53r;\u603Eac\u0100ek\u0E5A\u0E5C;\u63DEet;\u63B4arenthesis;\u63DC\u0480acfhilors\u0E7F\u0E87\u0E8A\u0E8F\u0E92\u0E94\u0E9D\u0EB0\u0EFCrtialD;\u6202y;\u441Fr;\uC000\u{1D513}i;\u43A6;\u43A0usMinus;\u40B1\u0100ip\u0EA2\u0EADncareplan\xE5\u069Df;\u6119\u0200;eio\u0EB9\u0EBA\u0EE0\u0EE4\u6ABBcedes\u0200;EST\u0EC8\u0EC9\u0ECF\u0EDA\u627Aqual;\u6AAFlantEqual;\u627Cilde;\u627Eme;\u6033\u0100dp\u0EE9\u0EEEuct;\u620Fortion\u0100;a\u0225\u0EF9l;\u621D\u0100ci\u0F01\u0F06r;\uC000\u{1D4AB};\u43A8\u0200Ufos\u0F11\u0F16\u0F1B\u0F1FOT\u803B"\u4022r;\uC000\u{1D514}pf;\u611Acr;\uC000\u{1D4AC}\u0600BEacefhiorsu\u0F3E\u0F43\u0F47\u0F60\u0F73\u0FA7\u0FAA\u0FAD\u1096\u10A9\u10B4\u10BEarr;\u6910G\u803B\xAE\u40AE\u0180cnr\u0F4E\u0F53\u0F56ute;\u4154g;\u67EBr\u0100;t\u0F5C\u0F5D\u61A0l;\u6916\u0180aey\u0F67\u0F6C\u0F71ron;\u4158dil;\u4156;\u4420\u0100;v\u0F78\u0F79\u611Cerse\u0100EU\u0F82\u0F99\u0100lq\u0F87\u0F8Eement;\u620Builibrium;\u61CBpEquilibrium;\u696Fr\xBB\u0F79o;\u43A1ght\u0400ACDFTUVa\u0FC1\u0FEB\u0FF3\u1022\u1028\u105B\u1087\u03D8\u0100nr\u0FC6\u0FD2gleBracket;\u67E9row\u0180;BL\u0FDC\u0FDD\u0FE1\u6192ar;\u61E5eftArrow;\u61C4eiling;\u6309o\u01F5\u0FF9\0\u1005bleBracket;\u67E7n\u01D4\u100A\0\u1014eeVector;\u695Dector\u0100;B\u101D\u101E\u61C2ar;\u6955loor;\u630B\u0100er\u102D\u1043e\u0180;AV\u1035\u1036\u103C\u62A2rrow;\u61A6ector;\u695Biangle\u0180;BE\u1050\u1051\u1055\u62B3ar;\u69D0qual;\u62B5p\u0180DTV\u1063\u106E\u1078ownVector;\u694FeeVector;\u695Cector\u0100;B\u1082\u1083\u61BEar;\u6954ector\u0100;B\u1091\u1092\u61C0ar;\u6953\u0100pu\u109B\u109Ef;\u611DndImplies;\u6970ightarrow;\u61DB\u0100ch\u10B9\u10BCr;\u611B;\u61B1leDelayed;\u69F4\u0680HOacfhimoqstu\u10E4\u10F1\u10F7\u10FD\u1119\u111E\u1151\u1156\u1161\u1167\u11B5\u11BB\u11BF\u0100Cc\u10E9\u10EEHcy;\u4429y;\u4428FTcy;\u442Ccute;\u415A\u0280;aeiy\u1108\u1109\u110E\u1113\u1117\u6ABCron;\u4160dil;\u415Erc;\u415C;\u4421r;\uC000\u{1D516}ort\u0200DLRU\u112A\u1134\u113E\u1149ownArrow\xBB\u041EeftArrow\xBB\u089AightArrow\xBB\u0FDDpArrow;\u6191gma;\u43A3allCircle;\u6218pf;\uC000\u{1D54A}\u0272\u116D\0\0\u1170t;\u621Aare\u0200;ISU\u117B\u117C\u1189\u11AF\u65A1ntersection;\u6293u\u0100bp\u118F\u119Eset\u0100;E\u1197\u1198\u628Fqual;\u6291erset\u0100;E\u11A8\u11A9\u6290qual;\u6292nion;\u6294cr;\uC000\u{1D4AE}ar;\u62C6\u0200bcmp\u11C8\u11DB\u1209\u120B\u0100;s\u11CD\u11CE\u62D0et\u0100;E\u11CD\u11D5qual;\u6286\u0100ch\u11E0\u1205eeds\u0200;EST\u11ED\u11EE\u11F4\u11FF\u627Bqual;\u6AB0lantEqual;\u627Dilde;\u627FTh\xE1\u0F8C;\u6211\u0180;es\u1212\u1213\u1223\u62D1rset\u0100;E\u121C\u121D\u6283qual;\u6287et\xBB\u1213\u0580HRSacfhiors\u123E\u1244\u1249\u1255\u125E\u1271\u1276\u129F\u12C2\u12C8\u12D1ORN\u803B\xDE\u40DEADE;\u6122\u0100Hc\u124E\u1252cy;\u440By;\u4426\u0100bu\u125A\u125C;\u4009;\u43A4\u0180aey\u1265\u126A\u126Fron;\u4164dil;\u4162;\u4422r;\uC000\u{1D517}\u0100ei\u127B\u1289\u01F2\u1280\0\u1287efore;\u6234a;\u4398\u0100cn\u128E\u1298kSpace;\uC000\u205F\u200ASpace;\u6009lde\u0200;EFT\u12AB\u12AC\u12B2\u12BC\u623Cqual;\u6243ullEqual;\u6245ilde;\u6248pf;\uC000\u{1D54B}ipleDot;\u60DB\u0100ct\u12D6\u12DBr;\uC000\u{1D4AF}rok;\u4166\u0AE1\u12F7\u130E\u131A\u1326\0\u132C\u1331\0\0\0\0\0\u1338\u133D\u1377\u1385\0\u13FF\u1404\u140A\u1410\u0100cr\u12FB\u1301ute\u803B\xDA\u40DAr\u0100;o\u1307\u1308\u619Fcir;\u6949r\u01E3\u1313\0\u1316y;\u440Eve;\u416C\u0100iy\u131E\u1323rc\u803B\xDB\u40DB;\u4423blac;\u4170r;\uC000\u{1D518}rave\u803B\xD9\u40D9acr;\u416A\u0100di\u1341\u1369er\u0100BP\u1348\u135D\u0100ar\u134D\u1350r;\u405Fac\u0100ek\u1357\u1359;\u63DFet;\u63B5arenthesis;\u63DDon\u0100;P\u1370\u1371\u62C3lus;\u628E\u0100gp\u137B\u137Fon;\u4172f;\uC000\u{1D54C}\u0400ADETadps\u1395\u13AE\u13B8\u13C4\u03E8\u13D2\u13D7\u13F3rrow\u0180;BD\u1150\u13A0\u13A4ar;\u6912ownArrow;\u61C5ownArrow;\u6195quilibrium;\u696Eee\u0100;A\u13CB\u13CC\u62A5rrow;\u61A5own\xE1\u03F3er\u0100LR\u13DE\u13E8eftArrow;\u6196ightArrow;\u6197i\u0100;l\u13F9\u13FA\u43D2on;\u43A5ing;\u416Ecr;\uC000\u{1D4B0}ilde;\u4168ml\u803B\xDC\u40DC\u0480Dbcdefosv\u1427\u142C\u1430\u1433\u143E\u1485\u148A\u1490\u1496ash;\u62ABar;\u6AEBy;\u4412ash\u0100;l\u143B\u143C\u62A9;\u6AE6\u0100er\u1443\u1445;\u62C1\u0180bty\u144C\u1450\u147Aar;\u6016\u0100;i\u144F\u1455cal\u0200BLST\u1461\u1465\u146A\u1474ar;\u6223ine;\u407Ceparator;\u6758ilde;\u6240ThinSpace;\u600Ar;\uC000\u{1D519}pf;\uC000\u{1D54D}cr;\uC000\u{1D4B1}dash;\u62AA\u0280cefos\u14A7\u14AC\u14B1\u14B6\u14BCirc;\u4174dge;\u62C0r;\uC000\u{1D51A}pf;\uC000\u{1D54E}cr;\uC000\u{1D4B2}\u0200fios\u14CB\u14D0\u14D2\u14D8r;\uC000\u{1D51B};\u439Epf;\uC000\u{1D54F}cr;\uC000\u{1D4B3}\u0480AIUacfosu\u14F1\u14F5\u14F9\u14FD\u1504\u150F\u1514\u151A\u1520cy;\u442Fcy;\u4407cy;\u442Ecute\u803B\xDD\u40DD\u0100iy\u1509\u150Drc;\u4176;\u442Br;\uC000\u{1D51C}pf;\uC000\u{1D550}cr;\uC000\u{1D4B4}ml;\u4178\u0400Hacdefos\u1535\u1539\u153F\u154B\u154F\u155D\u1560\u1564cy;\u4416cute;\u4179\u0100ay\u1544\u1549ron;\u417D;\u4417ot;\u417B\u01F2\u1554\0\u155BoWidt\xE8\u0AD9a;\u4396r;\u6128pf;\u6124cr;\uC000\u{1D4B5}\u0BE1\u1583\u158A\u1590\0\u15B0\u15B6\u15BF\0\0\0\0\u15C6\u15DB\u15EB\u165F\u166D\0\u1695\u169B\u16B2\u16B9\0\u16BEcute\u803B\xE1\u40E1reve;\u4103\u0300;Ediuy\u159C\u159D\u15A1\u15A3\u15A8\u15AD\u623E;\uC000\u223E\u0333;\u623Frc\u803B\xE2\u40E2te\u80BB\xB4\u0306;\u4430lig\u803B\xE6\u40E6\u0100;r\xB2\u15BA;\uC000\u{1D51E}rave\u803B\xE0\u40E0\u0100ep\u15CA\u15D6\u0100fp\u15CF\u15D4sym;\u6135\xE8\u15D3ha;\u43B1\u0100ap\u15DFc\u0100cl\u15E4\u15E7r;\u4101g;\u6A3F\u0264\u15F0\0\0\u160A\u0280;adsv\u15FA\u15FB\u15FF\u1601\u1607\u6227nd;\u6A55;\u6A5Clope;\u6A58;\u6A5A\u0380;elmrsz\u1618\u1619\u161B\u161E\u163F\u164F\u1659\u6220;\u69A4e\xBB\u1619sd\u0100;a\u1625\u1626\u6221\u0461\u1630\u1632\u1634\u1636\u1638\u163A\u163C\u163E;\u69A8;\u69A9;\u69AA;\u69AB;\u69AC;\u69AD;\u69AE;\u69AFt\u0100;v\u1645\u1646\u621Fb\u0100;d\u164C\u164D\u62BE;\u699D\u0100pt\u1654\u1657h;\u6222\xBB\xB9arr;\u637C\u0100gp\u1663\u1667on;\u4105f;\uC000\u{1D552}\u0380;Eaeiop\u12C1\u167B\u167D\u1682\u1684\u1687\u168A;\u6A70cir;\u6A6F;\u624Ad;\u624Bs;\u4027rox\u0100;e\u12C1\u1692\xF1\u1683ing\u803B\xE5\u40E5\u0180cty\u16A1\u16A6\u16A8r;\uC000\u{1D4B6};\u402Amp\u0100;e\u12C1\u16AF\xF1\u0288ilde\u803B\xE3\u40E3ml\u803B\xE4\u40E4\u0100ci\u16C2\u16C8onin\xF4\u0272nt;\u6A11\u0800Nabcdefiklnoprsu\u16ED\u16F1\u1730\u173C\u1743\u1748\u1778\u177D\u17E0\u17E6\u1839\u1850\u170D\u193D\u1948\u1970ot;\u6AED\u0100cr\u16F6\u171Ek\u0200ceps\u1700\u1705\u170D\u1713ong;\u624Cpsilon;\u43F6rime;\u6035im\u0100;e\u171A\u171B\u623Dq;\u62CD\u0176\u1722\u1726ee;\u62BDed\u0100;g\u172C\u172D\u6305e\xBB\u172Drk\u0100;t\u135C\u1737brk;\u63B6\u0100oy\u1701\u1741;\u4431quo;\u601E\u0280cmprt\u1753\u175B\u1761\u1764\u1768aus\u0100;e\u010A\u0109ptyv;\u69B0s\xE9\u170Cno\xF5\u0113\u0180ahw\u176F\u1771\u1773;\u43B2;\u6136een;\u626Cr;\uC000\u{1D51F}g\u0380costuvw\u178D\u179D\u17B3\u17C1\u17D5\u17DB\u17DE\u0180aiu\u1794\u1796\u179A\xF0\u0760rc;\u65EFp\xBB\u1371\u0180dpt\u17A4\u17A8\u17ADot;\u6A00lus;\u6A01imes;\u6A02\u0271\u17B9\0\0\u17BEcup;\u6A06ar;\u6605riangle\u0100du\u17CD\u17D2own;\u65BDp;\u65B3plus;\u6A04e\xE5\u1444\xE5\u14ADarow;\u690D\u0180ako\u17ED\u1826\u1835\u0100cn\u17F2\u1823k\u0180lst\u17FA\u05AB\u1802ozenge;\u69EBriangle\u0200;dlr\u1812\u1813\u1818\u181D\u65B4own;\u65BEeft;\u65C2ight;\u65B8k;\u6423\u01B1\u182B\0\u1833\u01B2\u182F\0\u1831;\u6592;\u65914;\u6593ck;\u6588\u0100eo\u183E\u184D\u0100;q\u1843\u1846\uC000=\u20E5uiv;\uC000\u2261\u20E5t;\u6310\u0200ptwx\u1859\u185E\u1867\u186Cf;\uC000\u{1D553}\u0100;t\u13CB\u1863om\xBB\u13CCtie;\u62C8\u0600DHUVbdhmptuv\u1885\u1896\u18AA\u18BB\u18D7\u18DB\u18EC\u18FF\u1905\u190A\u1910\u1921\u0200LRlr\u188E\u1890\u1892\u1894;\u6557;\u6554;\u6556;\u6553\u0280;DUdu\u18A1\u18A2\u18A4\u18A6\u18A8\u6550;\u6566;\u6569;\u6564;\u6567\u0200LRlr\u18B3\u18B5\u18B7\u18B9;\u655D;\u655A;\u655C;\u6559\u0380;HLRhlr\u18CA\u18CB\u18CD\u18CF\u18D1\u18D3\u18D5\u6551;\u656C;\u6563;\u6560;\u656B;\u6562;\u655Fox;\u69C9\u0200LRlr\u18E4\u18E6\u18E8\u18EA;\u6555;\u6552;\u6510;\u650C\u0280;DUdu\u06BD\u18F7\u18F9\u18FB\u18FD;\u6565;\u6568;\u652C;\u6534inus;\u629Flus;\u629Eimes;\u62A0\u0200LRlr\u1919\u191B\u191D\u191F;\u655B;\u6558;\u6518;\u6514\u0380;HLRhlr\u1930\u1931\u1933\u1935\u1937\u1939\u193B\u6502;\u656A;\u6561;\u655E;\u653C;\u6524;\u651C\u0100ev\u0123\u1942bar\u803B\xA6\u40A6\u0200ceio\u1951\u1956\u195A\u1960r;\uC000\u{1D4B7}mi;\u604Fm\u0100;e\u171A\u171Cl\u0180;bh\u1968\u1969\u196B\u405C;\u69C5sub;\u67C8\u016C\u1974\u197El\u0100;e\u1979\u197A\u6022t\xBB\u197Ap\u0180;Ee\u012F\u1985\u1987;\u6AAE\u0100;q\u06DC\u06DB\u0CE1\u19A7\0\u19E8\u1A11\u1A15\u1A32\0\u1A37\u1A50\0\0\u1AB4\0\0\u1AC1\0\0\u1B21\u1B2E\u1B4D\u1B52\0\u1BFD\0\u1C0C\u0180cpr\u19AD\u19B2\u19DDute;\u4107\u0300;abcds\u19BF\u19C0\u19C4\u19CA\u19D5\u19D9\u6229nd;\u6A44rcup;\u6A49\u0100au\u19CF\u19D2p;\u6A4Bp;\u6A47ot;\u6A40;\uC000\u2229\uFE00\u0100eo\u19E2\u19E5t;\u6041\xEE\u0693\u0200aeiu\u19F0\u19FB\u1A01\u1A05\u01F0\u19F5\0\u19F8s;\u6A4Don;\u410Ddil\u803B\xE7\u40E7rc;\u4109ps\u0100;s\u1A0C\u1A0D\u6A4Cm;\u6A50ot;\u410B\u0180dmn\u1A1B\u1A20\u1A26il\u80BB\xB8\u01ADptyv;\u69B2t\u8100\xA2;e\u1A2D\u1A2E\u40A2r\xE4\u01B2r;\uC000\u{1D520}\u0180cei\u1A3D\u1A40\u1A4Dy;\u4447ck\u0100;m\u1A47\u1A48\u6713ark\xBB\u1A48;\u43C7r\u0380;Ecefms\u1A5F\u1A60\u1A62\u1A6B\u1AA4\u1AAA\u1AAE\u65CB;\u69C3\u0180;el\u1A69\u1A6A\u1A6D\u42C6q;\u6257e\u0261\u1A74\0\0\u1A88rrow\u0100lr\u1A7C\u1A81eft;\u61BAight;\u61BB\u0280RSacd\u1A92\u1A94\u1A96\u1A9A\u1A9F\xBB\u0F47;\u64C8st;\u629Birc;\u629Aash;\u629Dnint;\u6A10id;\u6AEFcir;\u69C2ubs\u0100;u\u1ABB\u1ABC\u6663it\xBB\u1ABC\u02EC\u1AC7\u1AD4\u1AFA\0\u1B0Aon\u0100;e\u1ACD\u1ACE\u403A\u0100;q\xC7\xC6\u026D\u1AD9\0\0\u1AE2a\u0100;t\u1ADE\u1ADF\u402C;\u4040\u0180;fl\u1AE8\u1AE9\u1AEB\u6201\xEE\u1160e\u0100mx\u1AF1\u1AF6ent\xBB\u1AE9e\xF3\u024D\u01E7\u1AFE\0\u1B07\u0100;d\u12BB\u1B02ot;\u6A6Dn\xF4\u0246\u0180fry\u1B10\u1B14\u1B17;\uC000\u{1D554}o\xE4\u0254\u8100\xA9;s\u0155\u1B1Dr;\u6117\u0100ao\u1B25\u1B29rr;\u61B5ss;\u6717\u0100cu\u1B32\u1B37r;\uC000\u{1D4B8}\u0100bp\u1B3C\u1B44\u0100;e\u1B41\u1B42\u6ACF;\u6AD1\u0100;e\u1B49\u1B4A\u6AD0;\u6AD2dot;\u62EF\u0380delprvw\u1B60\u1B6C\u1B77\u1B82\u1BAC\u1BD4\u1BF9arr\u0100lr\u1B68\u1B6A;\u6938;\u6935\u0270\u1B72\0\0\u1B75r;\u62DEc;\u62DFarr\u0100;p\u1B7F\u1B80\u61B6;\u693D\u0300;bcdos\u1B8F\u1B90\u1B96\u1BA1\u1BA5\u1BA8\u622Arcap;\u6A48\u0100au\u1B9B\u1B9Ep;\u6A46p;\u6A4Aot;\u628Dr;\u6A45;\uC000\u222A\uFE00\u0200alrv\u1BB5\u1BBF\u1BDE\u1BE3rr\u0100;m\u1BBC\u1BBD\u61B7;\u693Cy\u0180evw\u1BC7\u1BD4\u1BD8q\u0270\u1BCE\0\0\u1BD2re\xE3\u1B73u\xE3\u1B75ee;\u62CEedge;\u62CFen\u803B\xA4\u40A4earrow\u0100lr\u1BEE\u1BF3eft\xBB\u1B80ight\xBB\u1BBDe\xE4\u1BDD\u0100ci\u1C01\u1C07onin\xF4\u01F7nt;\u6231lcty;\u632D\u0980AHabcdefhijlorstuwz\u1C38\u1C3B\u1C3F\u1C5D\u1C69\u1C75\u1C8A\u1C9E\u1CAC\u1CB7\u1CFB\u1CFF\u1D0D\u1D7B\u1D91\u1DAB\u1DBB\u1DC6\u1DCDr\xF2\u0381ar;\u6965\u0200glrs\u1C48\u1C4D\u1C52\u1C54ger;\u6020eth;\u6138\xF2\u1133h\u0100;v\u1C5A\u1C5B\u6010\xBB\u090A\u016B\u1C61\u1C67arow;\u690Fa\xE3\u0315\u0100ay\u1C6E\u1C73ron;\u410F;\u4434\u0180;ao\u0332\u1C7C\u1C84\u0100gr\u02BF\u1C81r;\u61CAtseq;\u6A77\u0180glm\u1C91\u1C94\u1C98\u803B\xB0\u40B0ta;\u43B4ptyv;\u69B1\u0100ir\u1CA3\u1CA8sht;\u697F;\uC000\u{1D521}ar\u0100lr\u1CB3\u1CB5\xBB\u08DC\xBB\u101E\u0280aegsv\u1CC2\u0378\u1CD6\u1CDC\u1CE0m\u0180;os\u0326\u1CCA\u1CD4nd\u0100;s\u0326\u1CD1uit;\u6666amma;\u43DDin;\u62F2\u0180;io\u1CE7\u1CE8\u1CF8\u40F7de\u8100\xF7;o\u1CE7\u1CF0ntimes;\u62C7n\xF8\u1CF7cy;\u4452c\u026F\u1D06\0\0\u1D0Arn;\u631Eop;\u630D\u0280lptuw\u1D18\u1D1D\u1D22\u1D49\u1D55lar;\u4024f;\uC000\u{1D555}\u0280;emps\u030B\u1D2D\u1D37\u1D3D\u1D42q\u0100;d\u0352\u1D33ot;\u6251inus;\u6238lus;\u6214quare;\u62A1blebarwedg\xE5\xFAn\u0180adh\u112E\u1D5D\u1D67ownarrow\xF3\u1C83arpoon\u0100lr\u1D72\u1D76ef\xF4\u1CB4igh\xF4\u1CB6\u0162\u1D7F\u1D85karo\xF7\u0F42\u026F\u1D8A\0\0\u1D8Ern;\u631Fop;\u630C\u0180cot\u1D98\u1DA3\u1DA6\u0100ry\u1D9D\u1DA1;\uC000\u{1D4B9};\u4455l;\u69F6rok;\u4111\u0100dr\u1DB0\u1DB4ot;\u62F1i\u0100;f\u1DBA\u1816\u65BF\u0100ah\u1DC0\u1DC3r\xF2\u0429a\xF2\u0FA6angle;\u69A6\u0100ci\u1DD2\u1DD5y;\u445Fgrarr;\u67FF\u0900Dacdefglmnopqrstux\u1E01\u1E09\u1E19\u1E38\u0578\u1E3C\u1E49\u1E61\u1E7E\u1EA5\u1EAF\u1EBD\u1EE1\u1F2A\u1F37\u1F44\u1F4E\u1F5A\u0100Do\u1E06\u1D34o\xF4\u1C89\u0100cs\u1E0E\u1E14ute\u803B\xE9\u40E9ter;\u6A6E\u0200aioy\u1E22\u1E27\u1E31\u1E36ron;\u411Br\u0100;c\u1E2D\u1E2E\u6256\u803B\xEA\u40EAlon;\u6255;\u444Dot;\u4117\u0100Dr\u1E41\u1E45ot;\u6252;\uC000\u{1D522}\u0180;rs\u1E50\u1E51\u1E57\u6A9Aave\u803B\xE8\u40E8\u0100;d\u1E5C\u1E5D\u6A96ot;\u6A98\u0200;ils\u1E6A\u1E6B\u1E72\u1E74\u6A99nters;\u63E7;\u6113\u0100;d\u1E79\u1E7A\u6A95ot;\u6A97\u0180aps\u1E85\u1E89\u1E97cr;\u4113ty\u0180;sv\u1E92\u1E93\u1E95\u6205et\xBB\u1E93p\u01001;\u1E9D\u1EA4\u0133\u1EA1\u1EA3;\u6004;\u6005\u6003\u0100gs\u1EAA\u1EAC;\u414Bp;\u6002\u0100gp\u1EB4\u1EB8on;\u4119f;\uC000\u{1D556}\u0180als\u1EC4\u1ECE\u1ED2r\u0100;s\u1ECA\u1ECB\u62D5l;\u69E3us;\u6A71i\u0180;lv\u1EDA\u1EDB\u1EDF\u43B5on\xBB\u1EDB;\u43F5\u0200csuv\u1EEA\u1EF3\u1F0B\u1F23\u0100io\u1EEF\u1E31rc\xBB\u1E2E\u0269\u1EF9\0\0\u1EFB\xED\u0548ant\u0100gl\u1F02\u1F06tr\xBB\u1E5Dess\xBB\u1E7A\u0180aei\u1F12\u1F16\u1F1Als;\u403Dst;\u625Fv\u0100;D\u0235\u1F20D;\u6A78parsl;\u69E5\u0100Da\u1F2F\u1F33ot;\u6253rr;\u6971\u0180cdi\u1F3E\u1F41\u1EF8r;\u612Fo\xF4\u0352\u0100ah\u1F49\u1F4B;\u43B7\u803B\xF0\u40F0\u0100mr\u1F53\u1F57l\u803B\xEB\u40EBo;\u60AC\u0180cip\u1F61\u1F64\u1F67l;\u4021s\xF4\u056E\u0100eo\u1F6C\u1F74ctatio\xEE\u0559nential\xE5\u0579\u09E1\u1F92\0\u1F9E\0\u1FA1\u1FA7\0\0\u1FC6\u1FCC\0\u1FD3\0\u1FE6\u1FEA\u2000\0\u2008\u205Allingdotse\xF1\u1E44y;\u4444male;\u6640\u0180ilr\u1FAD\u1FB3\u1FC1lig;\u8000\uFB03\u0269\u1FB9\0\0\u1FBDg;\u8000\uFB00ig;\u8000\uFB04;\uC000\u{1D523}lig;\u8000\uFB01lig;\uC000fj\u0180alt\u1FD9\u1FDC\u1FE1t;\u666Dig;\u8000\uFB02ns;\u65B1of;\u4192\u01F0\u1FEE\0\u1FF3f;\uC000\u{1D557}\u0100ak\u05BF\u1FF7\u0100;v\u1FFC\u1FFD\u62D4;\u6AD9artint;\u6A0D\u0100ao\u200C\u2055\u0100cs\u2011\u2052\u03B1\u201A\u2030\u2038\u2045\u2048\0\u2050\u03B2\u2022\u2025\u2027\u202A\u202C\0\u202E\u803B\xBD\u40BD;\u6153\u803B\xBC\u40BC;\u6155;\u6159;\u615B\u01B3\u2034\0\u2036;\u6154;\u6156\u02B4\u203E\u2041\0\0\u2043\u803B\xBE\u40BE;\u6157;\u615C5;\u6158\u01B6\u204C\0\u204E;\u615A;\u615D8;\u615El;\u6044wn;\u6322cr;\uC000\u{1D4BB}\u0880Eabcdefgijlnorstv\u2082\u2089\u209F\u20A5\u20B0\u20B4\u20F0\u20F5\u20FA\u20FF\u2103\u2112\u2138\u0317\u213E\u2152\u219E\u0100;l\u064D\u2087;\u6A8C\u0180cmp\u2090\u2095\u209Dute;\u41F5ma\u0100;d\u209C\u1CDA\u43B3;\u6A86reve;\u411F\u0100iy\u20AA\u20AErc;\u411D;\u4433ot;\u4121\u0200;lqs\u063E\u0642\u20BD\u20C9\u0180;qs\u063E\u064C\u20C4lan\xF4\u0665\u0200;cdl\u0665\u20D2\u20D5\u20E5c;\u6AA9ot\u0100;o\u20DC\u20DD\u6A80\u0100;l\u20E2\u20E3\u6A82;\u6A84\u0100;e\u20EA\u20ED\uC000\u22DB\uFE00s;\u6A94r;\uC000\u{1D524}\u0100;g\u0673\u061Bmel;\u6137cy;\u4453\u0200;Eaj\u065A\u210C\u210E\u2110;\u6A92;\u6AA5;\u6AA4\u0200Eaes\u211B\u211D\u2129\u2134;\u6269p\u0100;p\u2123\u2124\u6A8Arox\xBB\u2124\u0100;q\u212E\u212F\u6A88\u0100;q\u212E\u211Bim;\u62E7pf;\uC000\u{1D558}\u0100ci\u2143\u2146r;\u610Am\u0180;el\u066B\u214E\u2150;\u6A8E;\u6A90\u8300>;cdlqr\u05EE\u2160\u216A\u216E\u2173\u2179\u0100ci\u2165\u2167;\u6AA7r;\u6A7Aot;\u62D7Par;\u6995uest;\u6A7C\u0280adels\u2184\u216A\u2190\u0656\u219B\u01F0\u2189\0\u218Epro\xF8\u209Er;\u6978q\u0100lq\u063F\u2196les\xF3\u2088i\xED\u066B\u0100en\u21A3\u21ADrtneqq;\uC000\u2269\uFE00\xC5\u21AA\u0500Aabcefkosy\u21C4\u21C7\u21F1\u21F5\u21FA\u2218\u221D\u222F\u2268\u227Dr\xF2\u03A0\u0200ilmr\u21D0\u21D4\u21D7\u21DBrs\xF0\u1484f\xBB\u2024il\xF4\u06A9\u0100dr\u21E0\u21E4cy;\u444A\u0180;cw\u08F4\u21EB\u21EFir;\u6948;\u61ADar;\u610Firc;\u4125\u0180alr\u2201\u220E\u2213rts\u0100;u\u2209\u220A\u6665it\xBB\u220Alip;\u6026con;\u62B9r;\uC000\u{1D525}s\u0100ew\u2223\u2229arow;\u6925arow;\u6926\u0280amopr\u223A\u223E\u2243\u225E\u2263rr;\u61FFtht;\u623Bk\u0100lr\u2249\u2253eftarrow;\u61A9ightarrow;\u61AAf;\uC000\u{1D559}bar;\u6015\u0180clt\u226F\u2274\u2278r;\uC000\u{1D4BD}as\xE8\u21F4rok;\u4127\u0100bp\u2282\u2287ull;\u6043hen\xBB\u1C5B\u0AE1\u22A3\0\u22AA\0\u22B8\u22C5\u22CE\0\u22D5\u22F3\0\0\u22F8\u2322\u2367\u2362\u237F\0\u2386\u23AA\u23B4cute\u803B\xED\u40ED\u0180;iy\u0771\u22B0\u22B5rc\u803B\xEE\u40EE;\u4438\u0100cx\u22BC\u22BFy;\u4435cl\u803B\xA1\u40A1\u0100fr\u039F\u22C9;\uC000\u{1D526}rave\u803B\xEC\u40EC\u0200;ino\u073E\u22DD\u22E9\u22EE\u0100in\u22E2\u22E6nt;\u6A0Ct;\u622Dfin;\u69DCta;\u6129lig;\u4133\u0180aop\u22FE\u231A\u231D\u0180cgt\u2305\u2308\u2317r;\u412B\u0180elp\u071F\u230F\u2313in\xE5\u078Ear\xF4\u0720h;\u4131f;\u62B7ed;\u41B5\u0280;cfot\u04F4\u232C\u2331\u233D\u2341are;\u6105in\u0100;t\u2338\u2339\u621Eie;\u69DDdo\xF4\u2319\u0280;celp\u0757\u234C\u2350\u235B\u2361al;\u62BA\u0100gr\u2355\u2359er\xF3\u1563\xE3\u234Darhk;\u6A17rod;\u6A3C\u0200cgpt\u236F\u2372\u2376\u237By;\u4451on;\u412Ff;\uC000\u{1D55A}a;\u43B9uest\u803B\xBF\u40BF\u0100ci\u238A\u238Fr;\uC000\u{1D4BE}n\u0280;Edsv\u04F4\u239B\u239D\u23A1\u04F3;\u62F9ot;\u62F5\u0100;v\u23A6\u23A7\u62F4;\u62F3\u0100;i\u0777\u23AElde;\u4129\u01EB\u23B8\0\u23BCcy;\u4456l\u803B\xEF\u40EF\u0300cfmosu\u23CC\u23D7\u23DC\u23E1\u23E7\u23F5\u0100iy\u23D1\u23D5rc;\u4135;\u4439r;\uC000\u{1D527}ath;\u4237pf;\uC000\u{1D55B}\u01E3\u23EC\0\u23F1r;\uC000\u{1D4BF}rcy;\u4458kcy;\u4454\u0400acfghjos\u240B\u2416\u2422\u2427\u242D\u2431\u2435\u243Bppa\u0100;v\u2413\u2414\u43BA;\u43F0\u0100ey\u241B\u2420dil;\u4137;\u443Ar;\uC000\u{1D528}reen;\u4138cy;\u4445cy;\u445Cpf;\uC000\u{1D55C}cr;\uC000\u{1D4C0}\u0B80ABEHabcdefghjlmnoprstuv\u2470\u2481\u2486\u248D\u2491\u250E\u253D\u255A\u2580\u264E\u265E\u2665\u2679\u267D\u269A\u26B2\u26D8\u275D\u2768\u278B\u27C0\u2801\u2812\u0180art\u2477\u247A\u247Cr\xF2\u09C6\xF2\u0395ail;\u691Barr;\u690E\u0100;g\u0994\u248B;\u6A8Bar;\u6962\u0963\u24A5\0\u24AA\0\u24B1\0\0\0\0\0\u24B5\u24BA\0\u24C6\u24C8\u24CD\0\u24F9ute;\u413Amptyv;\u69B4ra\xEE\u084Cbda;\u43BBg\u0180;dl\u088E\u24C1\u24C3;\u6991\xE5\u088E;\u6A85uo\u803B\xAB\u40ABr\u0400;bfhlpst\u0899\u24DE\u24E6\u24E9\u24EB\u24EE\u24F1\u24F5\u0100;f\u089D\u24E3s;\u691Fs;\u691D\xEB\u2252p;\u61ABl;\u6939im;\u6973l;\u61A2\u0180;ae\u24FF\u2500\u2504\u6AABil;\u6919\u0100;s\u2509\u250A\u6AAD;\uC000\u2AAD\uFE00\u0180abr\u2515\u2519\u251Drr;\u690Crk;\u6772\u0100ak\u2522\u252Cc\u0100ek\u2528\u252A;\u407B;\u405B\u0100es\u2531\u2533;\u698Bl\u0100du\u2539\u253B;\u698F;\u698D\u0200aeuy\u2546\u254B\u2556\u2558ron;\u413E\u0100di\u2550\u2554il;\u413C\xEC\u08B0\xE2\u2529;\u443B\u0200cqrs\u2563\u2566\u256D\u257Da;\u6936uo\u0100;r\u0E19\u1746\u0100du\u2572\u2577har;\u6967shar;\u694Bh;\u61B2\u0280;fgqs\u258B\u258C\u0989\u25F3\u25FF\u6264t\u0280ahlrt\u2598\u25A4\u25B7\u25C2\u25E8rrow\u0100;t\u0899\u25A1a\xE9\u24F6arpoon\u0100du\u25AF\u25B4own\xBB\u045Ap\xBB\u0966eftarrows;\u61C7ight\u0180ahs\u25CD\u25D6\u25DErrow\u0100;s\u08F4\u08A7arpoon\xF3\u0F98quigarro\xF7\u21F0hreetimes;\u62CB\u0180;qs\u258B\u0993\u25FAlan\xF4\u09AC\u0280;cdgs\u09AC\u260A\u260D\u261D\u2628c;\u6AA8ot\u0100;o\u2614\u2615\u6A7F\u0100;r\u261A\u261B\u6A81;\u6A83\u0100;e\u2622\u2625\uC000\u22DA\uFE00s;\u6A93\u0280adegs\u2633\u2639\u263D\u2649\u264Bppro\xF8\u24C6ot;\u62D6q\u0100gq\u2643\u2645\xF4\u0989gt\xF2\u248C\xF4\u099Bi\xED\u09B2\u0180ilr\u2655\u08E1\u265Asht;\u697C;\uC000\u{1D529}\u0100;E\u099C\u2663;\u6A91\u0161\u2669\u2676r\u0100du\u25B2\u266E\u0100;l\u0965\u2673;\u696Alk;\u6584cy;\u4459\u0280;acht\u0A48\u2688\u268B\u2691\u2696r\xF2\u25C1orne\xF2\u1D08ard;\u696Bri;\u65FA\u0100io\u269F\u26A4dot;\u4140ust\u0100;a\u26AC\u26AD\u63B0che\xBB\u26AD\u0200Eaes\u26BB\u26BD\u26C9\u26D4;\u6268p\u0100;p\u26C3\u26C4\u6A89rox\xBB\u26C4\u0100;q\u26CE\u26CF\u6A87\u0100;q\u26CE\u26BBim;\u62E6\u0400abnoptwz\u26E9\u26F4\u26F7\u271A\u272F\u2741\u2747\u2750\u0100nr\u26EE\u26F1g;\u67ECr;\u61FDr\xEB\u08C1g\u0180lmr\u26FF\u270D\u2714eft\u0100ar\u09E6\u2707ight\xE1\u09F2apsto;\u67FCight\xE1\u09FDparrow\u0100lr\u2725\u2729ef\xF4\u24EDight;\u61AC\u0180afl\u2736\u2739\u273Dr;\u6985;\uC000\u{1D55D}us;\u6A2Dimes;\u6A34\u0161\u274B\u274Fst;\u6217\xE1\u134E\u0180;ef\u2757\u2758\u1800\u65CAnge\xBB\u2758ar\u0100;l\u2764\u2765\u4028t;\u6993\u0280achmt\u2773\u2776\u277C\u2785\u2787r\xF2\u08A8orne\xF2\u1D8Car\u0100;d\u0F98\u2783;\u696D;\u600Eri;\u62BF\u0300achiqt\u2798\u279D\u0A40\u27A2\u27AE\u27BBquo;\u6039r;\uC000\u{1D4C1}m\u0180;eg\u09B2\u27AA\u27AC;\u6A8D;\u6A8F\u0100bu\u252A\u27B3o\u0100;r\u0E1F\u27B9;\u601Arok;\u4142\u8400<;cdhilqr\u082B\u27D2\u2639\u27DC\u27E0\u27E5\u27EA\u27F0\u0100ci\u27D7\u27D9;\u6AA6r;\u6A79re\xE5\u25F2mes;\u62C9arr;\u6976uest;\u6A7B\u0100Pi\u27F5\u27F9ar;\u6996\u0180;ef\u2800\u092D\u181B\u65C3r\u0100du\u2807\u280Dshar;\u694Ahar;\u6966\u0100en\u2817\u2821rtneqq;\uC000\u2268\uFE00\xC5\u281E\u0700Dacdefhilnopsu\u2840\u2845\u2882\u288E\u2893\u28A0\u28A5\u28A8\u28DA\u28E2\u28E4\u0A83\u28F3\u2902Dot;\u623A\u0200clpr\u284E\u2852\u2863\u287Dr\u803B\xAF\u40AF\u0100et\u2857\u2859;\u6642\u0100;e\u285E\u285F\u6720se\xBB\u285F\u0100;s\u103B\u2868to\u0200;dlu\u103B\u2873\u2877\u287Bow\xEE\u048Cef\xF4\u090F\xF0\u13D1ker;\u65AE\u0100oy\u2887\u288Cmma;\u6A29;\u443Cash;\u6014asuredangle\xBB\u1626r;\uC000\u{1D52A}o;\u6127\u0180cdn\u28AF\u28B4\u28C9ro\u803B\xB5\u40B5\u0200;acd\u1464\u28BD\u28C0\u28C4s\xF4\u16A7ir;\u6AF0ot\u80BB\xB7\u01B5us\u0180;bd\u28D2\u1903\u28D3\u6212\u0100;u\u1D3C\u28D8;\u6A2A\u0163\u28DE\u28E1p;\u6ADB\xF2\u2212\xF0\u0A81\u0100dp\u28E9\u28EEels;\u62A7f;\uC000\u{1D55E}\u0100ct\u28F8\u28FDr;\uC000\u{1D4C2}pos\xBB\u159D\u0180;lm\u2909\u290A\u290D\u43BCtimap;\u62B8\u0C00GLRVabcdefghijlmoprstuvw\u2942\u2953\u297E\u2989\u2998\u29DA\u29E9\u2A15\u2A1A\u2A58\u2A5D\u2A83\u2A95\u2AA4\u2AA8\u2B04\u2B07\u2B44\u2B7F\u2BAE\u2C34\u2C67\u2C7C\u2CE9\u0100gt\u2947\u294B;\uC000\u22D9\u0338\u0100;v\u2950\u0BCF\uC000\u226B\u20D2\u0180elt\u295A\u2972\u2976ft\u0100ar\u2961\u2967rrow;\u61CDightarrow;\u61CE;\uC000\u22D8\u0338\u0100;v\u297B\u0C47\uC000\u226A\u20D2ightarrow;\u61CF\u0100Dd\u298E\u2993ash;\u62AFash;\u62AE\u0280bcnpt\u29A3\u29A7\u29AC\u29B1\u29CCla\xBB\u02DEute;\u4144g;\uC000\u2220\u20D2\u0280;Eiop\u0D84\u29BC\u29C0\u29C5\u29C8;\uC000\u2A70\u0338d;\uC000\u224B\u0338s;\u4149ro\xF8\u0D84ur\u0100;a\u29D3\u29D4\u666El\u0100;s\u29D3\u0B38\u01F3\u29DF\0\u29E3p\u80BB\xA0\u0B37mp\u0100;e\u0BF9\u0C00\u0280aeouy\u29F4\u29FE\u2A03\u2A10\u2A13\u01F0\u29F9\0\u29FB;\u6A43on;\u4148dil;\u4146ng\u0100;d\u0D7E\u2A0Aot;\uC000\u2A6D\u0338p;\u6A42;\u443Dash;\u6013\u0380;Aadqsx\u0B92\u2A29\u2A2D\u2A3B\u2A41\u2A45\u2A50rr;\u61D7r\u0100hr\u2A33\u2A36k;\u6924\u0100;o\u13F2\u13F0ot;\uC000\u2250\u0338ui\xF6\u0B63\u0100ei\u2A4A\u2A4Ear;\u6928\xED\u0B98ist\u0100;s\u0BA0\u0B9Fr;\uC000\u{1D52B}\u0200Eest\u0BC5\u2A66\u2A79\u2A7C\u0180;qs\u0BBC\u2A6D\u0BE1\u0180;qs\u0BBC\u0BC5\u2A74lan\xF4\u0BE2i\xED\u0BEA\u0100;r\u0BB6\u2A81\xBB\u0BB7\u0180Aap\u2A8A\u2A8D\u2A91r\xF2\u2971rr;\u61AEar;\u6AF2\u0180;sv\u0F8D\u2A9C\u0F8C\u0100;d\u2AA1\u2AA2\u62FC;\u62FAcy;\u445A\u0380AEadest\u2AB7\u2ABA\u2ABE\u2AC2\u2AC5\u2AF6\u2AF9r\xF2\u2966;\uC000\u2266\u0338rr;\u619Ar;\u6025\u0200;fqs\u0C3B\u2ACE\u2AE3\u2AEFt\u0100ar\u2AD4\u2AD9rro\xF7\u2AC1ightarro\xF7\u2A90\u0180;qs\u0C3B\u2ABA\u2AEAlan\xF4\u0C55\u0100;s\u0C55\u2AF4\xBB\u0C36i\xED\u0C5D\u0100;r\u0C35\u2AFEi\u0100;e\u0C1A\u0C25i\xE4\u0D90\u0100pt\u2B0C\u2B11f;\uC000\u{1D55F}\u8180\xAC;in\u2B19\u2B1A\u2B36\u40ACn\u0200;Edv\u0B89\u2B24\u2B28\u2B2E;\uC000\u22F9\u0338ot;\uC000\u22F5\u0338\u01E1\u0B89\u2B33\u2B35;\u62F7;\u62F6i\u0100;v\u0CB8\u2B3C\u01E1\u0CB8\u2B41\u2B43;\u62FE;\u62FD\u0180aor\u2B4B\u2B63\u2B69r\u0200;ast\u0B7B\u2B55\u2B5A\u2B5Flle\xEC\u0B7Bl;\uC000\u2AFD\u20E5;\uC000\u2202\u0338lint;\u6A14\u0180;ce\u0C92\u2B70\u2B73u\xE5\u0CA5\u0100;c\u0C98\u2B78\u0100;e\u0C92\u2B7D\xF1\u0C98\u0200Aait\u2B88\u2B8B\u2B9D\u2BA7r\xF2\u2988rr\u0180;cw\u2B94\u2B95\u2B99\u619B;\uC000\u2933\u0338;\uC000\u219D\u0338ghtarrow\xBB\u2B95ri\u0100;e\u0CCB\u0CD6\u0380chimpqu\u2BBD\u2BCD\u2BD9\u2B04\u0B78\u2BE4\u2BEF\u0200;cer\u0D32\u2BC6\u0D37\u2BC9u\xE5\u0D45;\uC000\u{1D4C3}ort\u026D\u2B05\0\0\u2BD6ar\xE1\u2B56m\u0100;e\u0D6E\u2BDF\u0100;q\u0D74\u0D73su\u0100bp\u2BEB\u2BED\xE5\u0CF8\xE5\u0D0B\u0180bcp\u2BF6\u2C11\u2C19\u0200;Ees\u2BFF\u2C00\u0D22\u2C04\u6284;\uC000\u2AC5\u0338et\u0100;e\u0D1B\u2C0Bq\u0100;q\u0D23\u2C00c\u0100;e\u0D32\u2C17\xF1\u0D38\u0200;Ees\u2C22\u2C23\u0D5F\u2C27\u6285;\uC000\u2AC6\u0338et\u0100;e\u0D58\u2C2Eq\u0100;q\u0D60\u2C23\u0200gilr\u2C3D\u2C3F\u2C45\u2C47\xEC\u0BD7lde\u803B\xF1\u40F1\xE7\u0C43iangle\u0100lr\u2C52\u2C5Ceft\u0100;e\u0C1A\u2C5A\xF1\u0C26ight\u0100;e\u0CCB\u2C65\xF1\u0CD7\u0100;m\u2C6C\u2C6D\u43BD\u0180;es\u2C74\u2C75\u2C79\u4023ro;\u6116p;\u6007\u0480DHadgilrs\u2C8F\u2C94\u2C99\u2C9E\u2CA3\u2CB0\u2CB6\u2CD3\u2CE3ash;\u62ADarr;\u6904p;\uC000\u224D\u20D2ash;\u62AC\u0100et\u2CA8\u2CAC;\uC000\u2265\u20D2;\uC000>\u20D2nfin;\u69DE\u0180Aet\u2CBD\u2CC1\u2CC5rr;\u6902;\uC000\u2264\u20D2\u0100;r\u2CCA\u2CCD\uC000<\u20D2ie;\uC000\u22B4\u20D2\u0100At\u2CD8\u2CDCrr;\u6903rie;\uC000\u22B5\u20D2im;\uC000\u223C\u20D2\u0180Aan\u2CF0\u2CF4\u2D02rr;\u61D6r\u0100hr\u2CFA\u2CFDk;\u6923\u0100;o\u13E7\u13E5ear;\u6927\u1253\u1A95\0\0\0\0\0\0\0\0\0\0\0\0\0\u2D2D\0\u2D38\u2D48\u2D60\u2D65\u2D72\u2D84\u1B07\0\0\u2D8D\u2DAB\0\u2DC8\u2DCE\0\u2DDC\u2E19\u2E2B\u2E3E\u2E43\u0100cs\u2D31\u1A97ute\u803B\xF3\u40F3\u0100iy\u2D3C\u2D45r\u0100;c\u1A9E\u2D42\u803B\xF4\u40F4;\u443E\u0280abios\u1AA0\u2D52\u2D57\u01C8\u2D5Alac;\u4151v;\u6A38old;\u69BClig;\u4153\u0100cr\u2D69\u2D6Dir;\u69BF;\uC000\u{1D52C}\u036F\u2D79\0\0\u2D7C\0\u2D82n;\u42DBave\u803B\xF2\u40F2;\u69C1\u0100bm\u2D88\u0DF4ar;\u69B5\u0200acit\u2D95\u2D98\u2DA5\u2DA8r\xF2\u1A80\u0100ir\u2D9D\u2DA0r;\u69BEoss;\u69BBn\xE5\u0E52;\u69C0\u0180aei\u2DB1\u2DB5\u2DB9cr;\u414Dga;\u43C9\u0180cdn\u2DC0\u2DC5\u01CDron;\u43BF;\u69B6pf;\uC000\u{1D560}\u0180ael\u2DD4\u2DD7\u01D2r;\u69B7rp;\u69B9\u0380;adiosv\u2DEA\u2DEB\u2DEE\u2E08\u2E0D\u2E10\u2E16\u6228r\xF2\u1A86\u0200;efm\u2DF7\u2DF8\u2E02\u2E05\u6A5Dr\u0100;o\u2DFE\u2DFF\u6134f\xBB\u2DFF\u803B\xAA\u40AA\u803B\xBA\u40BAgof;\u62B6r;\u6A56lope;\u6A57;\u6A5B\u0180clo\u2E1F\u2E21\u2E27\xF2\u2E01ash\u803B\xF8\u40F8l;\u6298i\u016C\u2E2F\u2E34de\u803B\xF5\u40F5es\u0100;a\u01DB\u2E3As;\u6A36ml\u803B\xF6\u40F6bar;\u633D\u0AE1\u2E5E\0\u2E7D\0\u2E80\u2E9D\0\u2EA2\u2EB9\0\0\u2ECB\u0E9C\0\u2F13\0\0\u2F2B\u2FBC\0\u2FC8r\u0200;ast\u0403\u2E67\u2E72\u0E85\u8100\xB6;l\u2E6D\u2E6E\u40B6le\xEC\u0403\u0269\u2E78\0\0\u2E7Bm;\u6AF3;\u6AFDy;\u443Fr\u0280cimpt\u2E8B\u2E8F\u2E93\u1865\u2E97nt;\u4025od;\u402Eil;\u6030enk;\u6031r;\uC000\u{1D52D}\u0180imo\u2EA8\u2EB0\u2EB4\u0100;v\u2EAD\u2EAE\u43C6;\u43D5ma\xF4\u0A76ne;\u660E\u0180;tv\u2EBF\u2EC0\u2EC8\u43C0chfork\xBB\u1FFD;\u43D6\u0100au\u2ECF\u2EDFn\u0100ck\u2ED5\u2EDDk\u0100;h\u21F4\u2EDB;\u610E\xF6\u21F4s\u0480;abcdemst\u2EF3\u2EF4\u1908\u2EF9\u2EFD\u2F04\u2F06\u2F0A\u2F0E\u402Bcir;\u6A23ir;\u6A22\u0100ou\u1D40\u2F02;\u6A25;\u6A72n\u80BB\xB1\u0E9Dim;\u6A26wo;\u6A27\u0180ipu\u2F19\u2F20\u2F25ntint;\u6A15f;\uC000\u{1D561}nd\u803B\xA3\u40A3\u0500;Eaceinosu\u0EC8\u2F3F\u2F41\u2F44\u2F47\u2F81\u2F89\u2F92\u2F7E\u2FB6;\u6AB3p;\u6AB7u\xE5\u0ED9\u0100;c\u0ECE\u2F4C\u0300;acens\u0EC8\u2F59\u2F5F\u2F66\u2F68\u2F7Eppro\xF8\u2F43urlye\xF1\u0ED9\xF1\u0ECE\u0180aes\u2F6F\u2F76\u2F7Approx;\u6AB9qq;\u6AB5im;\u62E8i\xED\u0EDFme\u0100;s\u2F88\u0EAE\u6032\u0180Eas\u2F78\u2F90\u2F7A\xF0\u2F75\u0180dfp\u0EEC\u2F99\u2FAF\u0180als\u2FA0\u2FA5\u2FAAlar;\u632Eine;\u6312urf;\u6313\u0100;t\u0EFB\u2FB4\xEF\u0EFBrel;\u62B0\u0100ci\u2FC0\u2FC5r;\uC000\u{1D4C5};\u43C8ncsp;\u6008\u0300fiopsu\u2FDA\u22E2\u2FDF\u2FE5\u2FEB\u2FF1r;\uC000\u{1D52E}pf;\uC000\u{1D562}rime;\u6057cr;\uC000\u{1D4C6}\u0180aeo\u2FF8\u3009\u3013t\u0100ei\u2FFE\u3005rnion\xF3\u06B0nt;\u6A16st\u0100;e\u3010\u3011\u403F\xF1\u1F19\xF4\u0F14\u0A80ABHabcdefhilmnoprstux\u3040\u3051\u3055\u3059\u30E0\u310E\u312B\u3147\u3162\u3172\u318E\u3206\u3215\u3224\u3229\u3258\u326E\u3272\u3290\u32B0\u32B7\u0180art\u3047\u304A\u304Cr\xF2\u10B3\xF2\u03DDail;\u691Car\xF2\u1C65ar;\u6964\u0380cdenqrt\u3068\u3075\u3078\u307F\u308F\u3094\u30CC\u0100eu\u306D\u3071;\uC000\u223D\u0331te;\u4155i\xE3\u116Emptyv;\u69B3g\u0200;del\u0FD1\u3089\u308B\u308D;\u6992;\u69A5\xE5\u0FD1uo\u803B\xBB\u40BBr\u0580;abcfhlpstw\u0FDC\u30AC\u30AF\u30B7\u30B9\u30BC\u30BE\u30C0\u30C3\u30C7\u30CAp;\u6975\u0100;f\u0FE0\u30B4s;\u6920;\u6933s;\u691E\xEB\u225D\xF0\u272El;\u6945im;\u6974l;\u61A3;\u619D\u0100ai\u30D1\u30D5il;\u691Ao\u0100;n\u30DB\u30DC\u6236al\xF3\u0F1E\u0180abr\u30E7\u30EA\u30EEr\xF2\u17E5rk;\u6773\u0100ak\u30F3\u30FDc\u0100ek\u30F9\u30FB;\u407D;\u405D\u0100es\u3102\u3104;\u698Cl\u0100du\u310A\u310C;\u698E;\u6990\u0200aeuy\u3117\u311C\u3127\u3129ron;\u4159\u0100di\u3121\u3125il;\u4157\xEC\u0FF2\xE2\u30FA;\u4440\u0200clqs\u3134\u3137\u313D\u3144a;\u6937dhar;\u6969uo\u0100;r\u020E\u020Dh;\u61B3\u0180acg\u314E\u315F\u0F44l\u0200;ips\u0F78\u3158\u315B\u109Cn\xE5\u10BBar\xF4\u0FA9t;\u65AD\u0180ilr\u3169\u1023\u316Esht;\u697D;\uC000\u{1D52F}\u0100ao\u3177\u3186r\u0100du\u317D\u317F\xBB\u047B\u0100;l\u1091\u3184;\u696C\u0100;v\u318B\u318C\u43C1;\u43F1\u0180gns\u3195\u31F9\u31FCht\u0300ahlrst\u31A4\u31B0\u31C2\u31D8\u31E4\u31EErrow\u0100;t\u0FDC\u31ADa\xE9\u30C8arpoon\u0100du\u31BB\u31BFow\xEE\u317Ep\xBB\u1092eft\u0100ah\u31CA\u31D0rrow\xF3\u0FEAarpoon\xF3\u0551ightarrows;\u61C9quigarro\xF7\u30CBhreetimes;\u62CCg;\u42DAingdotse\xF1\u1F32\u0180ahm\u320D\u3210\u3213r\xF2\u0FEAa\xF2\u0551;\u600Foust\u0100;a\u321E\u321F\u63B1che\xBB\u321Fmid;\u6AEE\u0200abpt\u3232\u323D\u3240\u3252\u0100nr\u3237\u323Ag;\u67EDr;\u61FEr\xEB\u1003\u0180afl\u3247\u324A\u324Er;\u6986;\uC000\u{1D563}us;\u6A2Eimes;\u6A35\u0100ap\u325D\u3267r\u0100;g\u3263\u3264\u4029t;\u6994olint;\u6A12ar\xF2\u31E3\u0200achq\u327B\u3280\u10BC\u3285quo;\u603Ar;\uC000\u{1D4C7}\u0100bu\u30FB\u328Ao\u0100;r\u0214\u0213\u0180hir\u3297\u329B\u32A0re\xE5\u31F8mes;\u62CAi\u0200;efl\u32AA\u1059\u1821\u32AB\u65B9tri;\u69CEluhar;\u6968;\u611E\u0D61\u32D5\u32DB\u32DF\u332C\u3338\u3371\0\u337A\u33A4\0\0\u33EC\u33F0\0\u3428\u3448\u345A\u34AD\u34B1\u34CA\u34F1\0\u3616\0\0\u3633cute;\u415Bqu\xEF\u27BA\u0500;Eaceinpsy\u11ED\u32F3\u32F5\u32FF\u3302\u330B\u330F\u331F\u3326\u3329;\u6AB4\u01F0\u32FA\0\u32FC;\u6AB8on;\u4161u\xE5\u11FE\u0100;d\u11F3\u3307il;\u415Frc;\u415D\u0180Eas\u3316\u3318\u331B;\u6AB6p;\u6ABAim;\u62E9olint;\u6A13i\xED\u1204;\u4441ot\u0180;be\u3334\u1D47\u3335\u62C5;\u6A66\u0380Aacmstx\u3346\u334A\u3357\u335B\u335E\u3363\u336Drr;\u61D8r\u0100hr\u3350\u3352\xEB\u2228\u0100;o\u0A36\u0A34t\u803B\xA7\u40A7i;\u403Bwar;\u6929m\u0100in\u3369\xF0nu\xF3\xF1t;\u6736r\u0100;o\u3376\u2055\uC000\u{1D530}\u0200acoy\u3382\u3386\u3391\u33A0rp;\u666F\u0100hy\u338B\u338Fcy;\u4449;\u4448rt\u026D\u3399\0\0\u339Ci\xE4\u1464ara\xEC\u2E6F\u803B\xAD\u40AD\u0100gm\u33A8\u33B4ma\u0180;fv\u33B1\u33B2\u33B2\u43C3;\u43C2\u0400;deglnpr\u12AB\u33C5\u33C9\u33CE\u33D6\u33DE\u33E1\u33E6ot;\u6A6A\u0100;q\u12B1\u12B0\u0100;E\u33D3\u33D4\u6A9E;\u6AA0\u0100;E\u33DB\u33DC\u6A9D;\u6A9Fe;\u6246lus;\u6A24arr;\u6972ar\xF2\u113D\u0200aeit\u33F8\u3408\u340F\u3417\u0100ls\u33FD\u3404lsetm\xE9\u336Ahp;\u6A33parsl;\u69E4\u0100dl\u1463\u3414e;\u6323\u0100;e\u341C\u341D\u6AAA\u0100;s\u3422\u3423\u6AAC;\uC000\u2AAC\uFE00\u0180flp\u342E\u3433\u3442tcy;\u444C\u0100;b\u3438\u3439\u402F\u0100;a\u343E\u343F\u69C4r;\u633Ff;\uC000\u{1D564}a\u0100dr\u344D\u0402es\u0100;u\u3454\u3455\u6660it\xBB\u3455\u0180csu\u3460\u3479\u349F\u0100au\u3465\u346Fp\u0100;s\u1188\u346B;\uC000\u2293\uFE00p\u0100;s\u11B4\u3475;\uC000\u2294\uFE00u\u0100bp\u347F\u348F\u0180;es\u1197\u119C\u3486et\u0100;e\u1197\u348D\xF1\u119D\u0180;es\u11A8\u11AD\u3496et\u0100;e\u11A8\u349D\xF1\u11AE\u0180;af\u117B\u34A6\u05B0r\u0165\u34AB\u05B1\xBB\u117Car\xF2\u1148\u0200cemt\u34B9\u34BE\u34C2\u34C5r;\uC000\u{1D4C8}tm\xEE\xF1i\xEC\u3415ar\xE6\u11BE\u0100ar\u34CE\u34D5r\u0100;f\u34D4\u17BF\u6606\u0100an\u34DA\u34EDight\u0100ep\u34E3\u34EApsilo\xEE\u1EE0h\xE9\u2EAFs\xBB\u2852\u0280bcmnp\u34FB\u355E\u1209\u358B\u358E\u0480;Edemnprs\u350E\u350F\u3511\u3515\u351E\u3523\u352C\u3531\u3536\u6282;\u6AC5ot;\u6ABD\u0100;d\u11DA\u351Aot;\u6AC3ult;\u6AC1\u0100Ee\u3528\u352A;\u6ACB;\u628Alus;\u6ABFarr;\u6979\u0180eiu\u353D\u3552\u3555t\u0180;en\u350E\u3545\u354Bq\u0100;q\u11DA\u350Feq\u0100;q\u352B\u3528m;\u6AC7\u0100bp\u355A\u355C;\u6AD5;\u6AD3c\u0300;acens\u11ED\u356C\u3572\u3579\u357B\u3326ppro\xF8\u32FAurlye\xF1\u11FE\xF1\u11F3\u0180aes\u3582\u3588\u331Bppro\xF8\u331Aq\xF1\u3317g;\u666A\u0680123;Edehlmnps\u35A9\u35AC\u35AF\u121C\u35B2\u35B4\u35C0\u35C9\u35D5\u35DA\u35DF\u35E8\u35ED\u803B\xB9\u40B9\u803B\xB2\u40B2\u803B\xB3\u40B3;\u6AC6\u0100os\u35B9\u35BCt;\u6ABEub;\u6AD8\u0100;d\u1222\u35C5ot;\u6AC4s\u0100ou\u35CF\u35D2l;\u67C9b;\u6AD7arr;\u697Bult;\u6AC2\u0100Ee\u35E4\u35E6;\u6ACC;\u628Blus;\u6AC0\u0180eiu\u35F4\u3609\u360Ct\u0180;en\u121C\u35FC\u3602q\u0100;q\u1222\u35B2eq\u0100;q\u35E7\u35E4m;\u6AC8\u0100bp\u3611\u3613;\u6AD4;\u6AD6\u0180Aan\u361C\u3620\u362Drr;\u61D9r\u0100hr\u3626\u3628\xEB\u222E\u0100;o\u0A2B\u0A29war;\u692Alig\u803B\xDF\u40DF\u0BE1\u3651\u365D\u3660\u12CE\u3673\u3679\0\u367E\u36C2\0\0\0\0\0\u36DB\u3703\0\u3709\u376C\0\0\0\u3787\u0272\u3656\0\0\u365Bget;\u6316;\u43C4r\xEB\u0E5F\u0180aey\u3666\u366B\u3670ron;\u4165dil;\u4163;\u4442lrec;\u6315r;\uC000\u{1D531}\u0200eiko\u3686\u369D\u36B5\u36BC\u01F2\u368B\0\u3691e\u01004f\u1284\u1281a\u0180;sv\u3698\u3699\u369B\u43B8ym;\u43D1\u0100cn\u36A2\u36B2k\u0100as\u36A8\u36AEppro\xF8\u12C1im\xBB\u12ACs\xF0\u129E\u0100as\u36BA\u36AE\xF0\u12C1rn\u803B\xFE\u40FE\u01EC\u031F\u36C6\u22E7es\u8180\xD7;bd\u36CF\u36D0\u36D8\u40D7\u0100;a\u190F\u36D5r;\u6A31;\u6A30\u0180eps\u36E1\u36E3\u3700\xE1\u2A4D\u0200;bcf\u0486\u36EC\u36F0\u36F4ot;\u6336ir;\u6AF1\u0100;o\u36F9\u36FC\uC000\u{1D565}rk;\u6ADA\xE1\u3362rime;\u6034\u0180aip\u370F\u3712\u3764d\xE5\u1248\u0380adempst\u3721\u374D\u3740\u3751\u3757\u375C\u375Fngle\u0280;dlqr\u3730\u3731\u3736\u3740\u3742\u65B5own\xBB\u1DBBeft\u0100;e\u2800\u373E\xF1\u092E;\u625Cight\u0100;e\u32AA\u374B\xF1\u105Aot;\u65ECinus;\u6A3Alus;\u6A39b;\u69CDime;\u6A3Bezium;\u63E2\u0180cht\u3772\u377D\u3781\u0100ry\u3777\u377B;\uC000\u{1D4C9};\u4446cy;\u445Brok;\u4167\u0100io\u378B\u378Ex\xF4\u1777head\u0100lr\u3797\u37A0eftarro\xF7\u084Fightarrow\xBB\u0F5D\u0900AHabcdfghlmoprstuw\u37D0\u37D3\u37D7\u37E4\u37F0\u37FC\u380E\u381C\u3823\u3834\u3851\u385D\u386B\u38A9\u38CC\u38D2\u38EA\u38F6r\xF2\u03EDar;\u6963\u0100cr\u37DC\u37E2ute\u803B\xFA\u40FA\xF2\u1150r\u01E3\u37EA\0\u37EDy;\u445Eve;\u416D\u0100iy\u37F5\u37FArc\u803B\xFB\u40FB;\u4443\u0180abh\u3803\u3806\u380Br\xF2\u13ADlac;\u4171a\xF2\u13C3\u0100ir\u3813\u3818sht;\u697E;\uC000\u{1D532}rave\u803B\xF9\u40F9\u0161\u3827\u3831r\u0100lr\u382C\u382E\xBB\u0957\xBB\u1083lk;\u6580\u0100ct\u3839\u384D\u026F\u383F\0\0\u384Arn\u0100;e\u3845\u3846\u631Cr\xBB\u3846op;\u630Fri;\u65F8\u0100al\u3856\u385Acr;\u416B\u80BB\xA8\u0349\u0100gp\u3862\u3866on;\u4173f;\uC000\u{1D566}\u0300adhlsu\u114B\u3878\u387D\u1372\u3891\u38A0own\xE1\u13B3arpoon\u0100lr\u3888\u388Cef\xF4\u382Digh\xF4\u382Fi\u0180;hl\u3899\u389A\u389C\u43C5\xBB\u13FAon\xBB\u389Aparrows;\u61C8\u0180cit\u38B0\u38C4\u38C8\u026F\u38B6\0\0\u38C1rn\u0100;e\u38BC\u38BD\u631Dr\xBB\u38BDop;\u630Eng;\u416Fri;\u65F9cr;\uC000\u{1D4CA}\u0180dir\u38D9\u38DD\u38E2ot;\u62F0lde;\u4169i\u0100;f\u3730\u38E8\xBB\u1813\u0100am\u38EF\u38F2r\xF2\u38A8l\u803B\xFC\u40FCangle;\u69A7\u0780ABDacdeflnoprsz\u391C\u391F\u3929\u392D\u39B5\u39B8\u39BD\u39DF\u39E4\u39E8\u39F3\u39F9\u39FD\u3A01\u3A20r\xF2\u03F7ar\u0100;v\u3926\u3927\u6AE8;\u6AE9as\xE8\u03E1\u0100nr\u3932\u3937grt;\u699C\u0380eknprst\u34E3\u3946\u394B\u3952\u395D\u3964\u3996app\xE1\u2415othin\xE7\u1E96\u0180hir\u34EB\u2EC8\u3959op\xF4\u2FB5\u0100;h\u13B7\u3962\xEF\u318D\u0100iu\u3969\u396Dgm\xE1\u33B3\u0100bp\u3972\u3984setneq\u0100;q\u397D\u3980\uC000\u228A\uFE00;\uC000\u2ACB\uFE00setneq\u0100;q\u398F\u3992\uC000\u228B\uFE00;\uC000\u2ACC\uFE00\u0100hr\u399B\u399Fet\xE1\u369Ciangle\u0100lr\u39AA\u39AFeft\xBB\u0925ight\xBB\u1051y;\u4432ash\xBB\u1036\u0180elr\u39C4\u39D2\u39D7\u0180;be\u2DEA\u39CB\u39CFar;\u62BBq;\u625Alip;\u62EE\u0100bt\u39DC\u1468a\xF2\u1469r;\uC000\u{1D533}tr\xE9\u39AEsu\u0100bp\u39EF\u39F1\xBB\u0D1C\xBB\u0D59pf;\uC000\u{1D567}ro\xF0\u0EFBtr\xE9\u39B4\u0100cu\u3A06\u3A0Br;\uC000\u{1D4CB}\u0100bp\u3A10\u3A18n\u0100Ee\u3980\u3A16\xBB\u397En\u0100Ee\u3992\u3A1E\xBB\u3990igzag;\u699A\u0380cefoprs\u3A36\u3A3B\u3A56\u3A5B\u3A54\u3A61\u3A6Airc;\u4175\u0100di\u3A40\u3A51\u0100bg\u3A45\u3A49ar;\u6A5Fe\u0100;q\u15FA\u3A4F;\u6259erp;\u6118r;\uC000\u{1D534}pf;\uC000\u{1D568}\u0100;e\u1479\u3A66at\xE8\u1479cr;\uC000\u{1D4CC}\u0AE3\u178E\u3A87\0\u3A8B\0\u3A90\u3A9B\0\0\u3A9D\u3AA8\u3AAB\u3AAF\0\0\u3AC3\u3ACE\0\u3AD8\u17DC\u17DFtr\xE9\u17D1r;\uC000\u{1D535}\u0100Aa\u3A94\u3A97r\xF2\u03C3r\xF2\u09F6;\u43BE\u0100Aa\u3AA1\u3AA4r\xF2\u03B8r\xF2\u09EBa\xF0\u2713is;\u62FB\u0180dpt\u17A4\u3AB5\u3ABE\u0100fl\u3ABA\u17A9;\uC000\u{1D569}im\xE5\u17B2\u0100Aa\u3AC7\u3ACAr\xF2\u03CEr\xF2\u0A01\u0100cq\u3AD2\u17B8r;\uC000\u{1D4CD}\u0100pt\u17D6\u3ADCr\xE9\u17D4\u0400acefiosu\u3AF0\u3AFD\u3B08\u3B0C\u3B11\u3B15\u3B1B\u3B21c\u0100uy\u3AF6\u3AFBte\u803B\xFD\u40FD;\u444F\u0100iy\u3B02\u3B06rc;\u4177;\u444Bn\u803B\xA5\u40A5r;\uC000\u{1D536}cy;\u4457pf;\uC000\u{1D56A}cr;\uC000\u{1D4CE}\u0100cm\u3B26\u3B29y;\u444El\u803B\xFF\u40FF\u0500acdefhiosw\u3B42\u3B48\u3B54\u3B58\u3B64\u3B69\u3B6D\u3B74\u3B7A\u3B80cute;\u417A\u0100ay\u3B4D\u3B52ron;\u417E;\u4437ot;\u417C\u0100et\u3B5D\u3B61tr\xE6\u155Fa;\u43B6r;\uC000\u{1D537}cy;\u4436grarr;\u61DDpf;\uC000\u{1D56B}cr;\uC000\u{1D4CF}\u0100jn\u3B85\u3B87;\u600Dj;\u600C'.split("").map(t=>t.charCodeAt(0)));var ise=new Uint16Array("\u0200aglq	\x1B\u026D\0\0p;\u4026os;\u4027t;\u403Et;\u403Cuot;\u4022".split("").map(t=>t.charCodeAt(0)));var kU,O6e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),LU=(kU=String.fromCodePoint)!==null&&kU!==void 0?kU:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function OU(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=O6e.get(t))!==null&&e!==void 0?e:t}var bo;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(bo||(bo={}));var M6e=32,Wm;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(Wm||(Wm={}));function MU(t){return t>=bo.ZERO&&t<=bo.NINE}function F6e(t){return t>=bo.UPPER_A&&t<=bo.UPPER_F||t>=bo.LOWER_A&&t<=bo.LOWER_F}function U6e(t){return t>=bo.UPPER_A&&t<=bo.UPPER_Z||t>=bo.LOWER_A&&t<=bo.LOWER_Z||MU(t)}function B6e(t){return t===bo.EQUALS||U6e(t)}var yo;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(yo||(yo={}));var jl;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(jl||(jl={}));var KN=class{constructor(e,r,n){this.decodeTree=e,this.emitCodePoint=r,this.errors=n,this.state=yo.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=jl.Strict}startEntity(e){this.decodeMode=e,this.state=yo.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,r){switch(this.state){case yo.EntityStart:return e.charCodeAt(r)===bo.NUM?(this.state=yo.NumericStart,this.consumed+=1,this.stateNumericStart(e,r+1)):(this.state=yo.NamedEntity,this.stateNamedEntity(e,r));case yo.NumericStart:return this.stateNumericStart(e,r);case yo.NumericDecimal:return this.stateNumericDecimal(e,r);case yo.NumericHex:return this.stateNumericHex(e,r);case yo.NamedEntity:return this.stateNamedEntity(e,r)}}stateNumericStart(e,r){return r>=e.length?-1:(e.charCodeAt(r)|M6e)===bo.LOWER_X?(this.state=yo.NumericHex,this.consumed+=1,this.stateNumericHex(e,r+1)):(this.state=yo.NumericDecimal,this.stateNumericDecimal(e,r))}addToNumericResult(e,r,n,i){if(r!==n){let o=n-r;this.result=this.result*Math.pow(i,o)+parseInt(e.substr(r,o),i),this.consumed+=o}}stateNumericHex(e,r){let n=r;for(;r<e.length;){let i=e.charCodeAt(r);if(MU(i)||F6e(i))r+=1;else return this.addToNumericResult(e,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,n,r,16),-1}stateNumericDecimal(e,r){let n=r;for(;r<e.length;){let i=e.charCodeAt(r);if(MU(i))r+=1;else return this.addToNumericResult(e,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,n,r,10),-1}emitNumericEntity(e,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===bo.SEMI)this.consumed+=1;else if(this.decodeMode===jl.Strict)return 0;return this.emitCodePoint(OU(this.result),this.consumed),this.errors&&(e!==bo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,r){let{decodeTree:n}=this,i=n[this.treeIndex],o=(i&Wm.VALUE_LENGTH)>>14;for(;r<e.length;r++,this.excess++){let s=e.charCodeAt(r);if(this.treeIndex=q6e(n,i,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===jl.Attribute&&(o===0||B6e(s))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],o=(i&Wm.VALUE_LENGTH)>>14,o!==0){if(s===bo.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==jl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;let{result:r,decodeTree:n}=this,i=(n[r]&Wm.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,r,n){let{decodeTree:i}=this;return this.emitCodePoint(r===1?i[e]&~Wm.VALUE_LENGTH:i[e+1],n),r===3&&this.emitCodePoint(i[e+2],n),n}end(){var e;switch(this.state){case yo.NamedEntity:return this.result!==0&&(this.decodeMode!==jl.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case yo.NumericDecimal:return this.emitNumericEntity(0,2);case yo.NumericHex:return this.emitNumericEntity(0,3);case yo.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case yo.EntityStart:return 0}}};function ose(t){let e="",r=new KN(t,n=>e+=LU(n));return function(i,o){let s=0,a=0;for(;(a=i.indexOf("&",a))>=0;){e+=i.slice(s,a),r.startEntity(o);let c=r.write(i,a+1);if(c<0){s=a+r.end();break}s=a+c,a=c===0?s+1:s}let u=e+i.slice(s);return e="",u}}function q6e(t,e,r,n){let i=(e&Wm.BRANCH_LENGTH)>>7,o=e&Wm.JUMP_TABLE;if(i===0)return o!==0&&n===o?r:-1;if(o){let u=n-o;return u<0||u>=i?-1:t[r+u]-1}let s=r,a=s+i-1;for(;s<=a;){let u=s+a>>>1,c=t[u];if(c<n)s=u+1;else if(c>n)a=u-1;else return t[u+i]}return-1}var H6e=ose(nse),JEt=ose(ise);function Km(t,e=jl.Legacy){return H6e(t,e)}function XN(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}var G6e=new Map(XN([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(XN([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(XN([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(XN([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var j6e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),V6e=String.prototype.codePointAt!=null?(t,e)=>t.codePointAt(e):(t,e)=>(t.charCodeAt(e)&64512)===55296?(t.charCodeAt(e)-55296)*1024+t.charCodeAt(e+1)-56320+65536:t.charCodeAt(e);function FU(t,e){return function(n){let i,o=0,s="";for(;i=t.exec(n);)o!==i.index&&(s+=n.substring(o,i.index)),s+=e.get(i[0].charCodeAt(0)),o=i.index+1;return s+n.substring(o)}}var sse=FU(/[&<>'"]/g,j6e),ase=FU(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),cse=FU(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]));var use;(function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"})(use||(use={}));var lse;(function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"})(lse||(lse={}));function $6e(t){return Object.prototype.toString.call(t)}function QN(t){return $6e(t)==="[object String]"}var W6e=Object.prototype.hasOwnProperty;function K6e(t,e){return W6e.call(t,e)}function ub(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){if(r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){t[n]=r[n]})}}),t}function BU(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function JN(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function OC(t){if(t>65535){t-=65536;let e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}var dse=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,X6e=/&([a-z#][a-z0-9]{1,31});/gi,Q6e=new RegExp(dse.source+"|"+X6e.source,"gi"),J6e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Z6e(t,e){if(e.charCodeAt(0)===35&&J6e.test(e)){let n=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return JN(n)?OC(n):t}let r=Km(t);return r!==t?r:t}function e8e(t){return t.indexOf("\\")<0?t:t.replace(dse,"$1")}function Xm(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Q6e,function(e,r,n){return r||Z6e(e,n)})}var t8e=/[&<>"]/,r8e=/[&<>"]/g,n8e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function i8e(t){return n8e[t]}function qp(t){return t8e.test(t)?t.replace(r8e,i8e):t}var o8e=/[.?*+^$[\]\\(){}|-]/g;function s8e(t){return t.replace(o8e,"\\$&")}function Kt(t){switch(t){case 9:case 32:return!0}return!1}function mv(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function hv(t){return cb.test(t)}function gv(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function vv(t){return t=t.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(t=t.replace(/ẞ/g,"\xDF")),t.toLowerCase().toUpperCase()}var a8e={mdurl:zN,ucmicro:DU};var VU={};Jn(VU,{parseLinkDestination:()=>GU,parseLinkLabel:()=>HU,parseLinkTitle:()=>jU});function HU(t,e,r){let n,i,o,s,a=t.posMax,u=t.pos;for(t.pos=e+1,n=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),o===93&&(n--,n===0)){i=!0;break}if(s=t.pos,t.md.inline.skipToken(t),o===91){if(s===t.pos-1)n++;else if(r)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}function GU(t,e,r){let n,i=e,o={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<r;){if(n=t.charCodeAt(i),n===10||n===60)return o;if(n===62)return o.pos=i+1,o.str=Xm(t.slice(e+1,i)),o.ok=!0,o;if(n===92&&i+1<r){i+=2;continue}i++}return o}let s=0;for(;i<r&&(n=t.charCodeAt(i),!(n===32||n<32||n===127));){if(n===92&&i+1<r){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(n===40&&(s++,s>32))return o;if(n===41){if(s===0)break;s--}i++}return e===i||s!==0||(o.str=Xm(t.slice(e,i)),o.pos=i,o.ok=!0),o}function jU(t,e,r){let n,i,o=0,s=e,a={ok:!1,pos:0,lines:0,str:""};if(s>=r||(i=t.charCodeAt(s),i!==34&&i!==39&&i!==40))return a;for(s++,i===40&&(i=41);s<r;){if(n=t.charCodeAt(s),n===i)return a.pos=s+1,a.lines=o,a.str=Xm(t.slice(e+1,s)),a.ok=!0,a;if(n===40&&i===41)return a;n===10?o++:n===92&&s+1<r&&(s++,t.charCodeAt(s)===10&&o++),s++}return a}var Vl={};Vl.code_inline=function(t,e,r,n,i){let o=t[e];return"<code"+i.renderAttrs(o)+">"+qp(o.content)+"</code>"};Vl.code_block=function(t,e,r,n,i){let o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+qp(t[e].content)+`</code></pre>
`};Vl.fence=function(t,e,r,n,i){let o=t[e],s=o.info?Xm(o.info).trim():"",a="",u="";if(s){let l=s.split(/(\s+)/g);a=l[0],u=l.slice(2).join("")}let c;if(r.highlight?c=r.highlight(o.content,a,u)||qp(o.content):c=qp(o.content),c.indexOf("<pre")===0)return c+`
`;if(s){let l=o.attrIndex("class"),f=o.attrs?o.attrs.slice():[];l<0?f.push(["class",r.langPrefix+a]):(f[l]=f[l].slice(),f[l][1]+=" "+r.langPrefix+a);let p={attrs:f};return`<pre><code${i.renderAttrs(p)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(o)}>${c}</code></pre>
`};Vl.image=function(t,e,r,n,i){let o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)};Vl.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};Vl.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};Vl.text=function(t,e){return qp(t[e].content)};Vl.html_block=function(t,e){return t[e].content};Vl.html_inline=function(t,e){return t[e].content};function lb(){this.rules=ub({},Vl)}lb.prototype.renderAttrs=function(e){let r,n,i;if(!e.attrs)return"";for(i="",r=0,n=e.attrs.length;r<n;r++)i+=" "+qp(e.attrs[r][0])+'="'+qp(e.attrs[r][1])+'"';return i};lb.prototype.renderToken=function(e,r,n){let i=e[r],o="";if(i.hidden)return"";i.block&&i.nesting!==-1&&r&&e[r-1].hidden&&(o+=`
`),o+=(i.nesting===-1?"</":"<")+i.tag,o+=this.renderAttrs(i),i.nesting===0&&n.xhtmlOut&&(o+=" /");let s=!1;if(i.block&&(s=!0,i.nesting===1&&r+1<e.length)){let a=e[r+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===i.tag)&&(s=!1)}return o+=s?`>
`:">",o};lb.prototype.renderInline=function(t,e,r){let n="",i=this.rules;for(let o=0,s=t.length;o<s;o++){let a=t[o].type;typeof i[a]<"u"?n+=i[a](t,o,e,r,this):n+=this.renderToken(t,o,e)}return n};lb.prototype.renderInlineAsText=function(t,e,r){let n="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":n+=t[i].content;break;case"image":n+=this.renderInlineAsText(t[i].children,e,r);break;case"html_inline":case"html_block":n+=t[i].content;break;case"softbreak":case"hardbreak":n+=`
`;break;default:}return n};lb.prototype.render=function(t,e,r){let n="",i=this.rules;for(let o=0,s=t.length;o<s;o++){let a=t[o].type;a==="inline"?n+=this.renderInline(t[o].children,e,r):typeof i[a]<"u"?n+=i[a](t,o,e,r,this):n+=this.renderToken(t,o,e,r)}return n};var mse=lb;function Vu(){this.__rules__=[],this.__cache__=null}Vu.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Vu.prototype.__compile__=function(){let t=this,e=[""];t.__rules__.forEach(function(r){r.enabled&&r.alt.forEach(function(n){e.indexOf(n)<0&&e.push(n)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(n){n.enabled&&(r&&n.alt.indexOf(r)<0||t.__cache__[r].push(n.fn))})})};Vu.prototype.at=function(t,e,r){let n=this.__find__(t),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null};Vu.prototype.before=function(t,e,r,n){let i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Vu.prototype.after=function(t,e,r,n){let i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Vu.prototype.push=function(t,e,r){let n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null};Vu.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);let r=[];return t.forEach(function(n){let i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};Vu.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};Vu.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);let r=[];return t.forEach(function(n){let i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};Vu.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};var _v=Vu;function fb(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}fb.prototype.attrIndex=function(e){if(!this.attrs)return-1;let r=this.attrs;for(let n=0,i=r.length;n<i;n++)if(r[n][0]===e)return n;return-1};fb.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};fb.prototype.attrSet=function(e,r){let n=this.attrIndex(e),i=[e,r];n<0?this.attrPush(i):this.attrs[n]=i};fb.prototype.attrGet=function(e){let r=this.attrIndex(e),n=null;return r>=0&&(n=this.attrs[r][1]),n};fb.prototype.attrJoin=function(e,r){let n=this.attrIndex(e);n<0?this.attrPush([e,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};var Hp=fb;function hse(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}hse.prototype.Token=Hp;var gse=hse;var c8e=/\r\n?|\n/g,u8e=/\0/g;function zU(t){let e;e=t.src.replace(c8e,`
`),e=e.replace(u8e,"\uFFFD"),t.src=e}function YU(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}function $U(t){let e=t.tokens;for(let r=0,n=e.length;r<n;r++){let i=e[r];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}function l8e(t){return/^<a[>\s]/i.test(t)}function f8e(t){return/^<\/a\s*>/i.test(t)}function WU(t){let e=t.tokens;if(t.md.options.linkify)for(let r=0,n=e.length;r<n;r++){if(e[r].type!=="inline"||!t.md.linkify.pretest(e[r].content))continue;let i=e[r].children,o=0;for(let s=i.length-1;s>=0;s--){let a=i[s];if(a.type==="link_close"){for(s--;i[s].level!==a.level&&i[s].type!=="link_open";)s--;continue}if(a.type==="html_inline"&&(l8e(a.content)&&o>0&&o--,f8e(a.content)&&o++),!(o>0)&&a.type==="text"&&t.md.linkify.test(a.content)){let u=a.content,c=t.md.linkify.match(u),l=[],f=a.level,p=0;c.length>0&&c[0].index===0&&s>0&&i[s-1].type==="text_special"&&(c=c.slice(1));for(let m=0;m<c.length;m++){let d=c[m].url,h=t.md.normalizeLink(d);if(!t.md.validateLink(h))continue;let g=c[m].text;c[m].schema?c[m].schema==="mailto:"&&!/^mailto:/i.test(g)?g=t.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):g=t.md.normalizeLinkText(g):g=t.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,"");let v=c[m].index;if(v>p){let b=new t.Token("text","",0);b.content=u.slice(p,v),b.level=f,l.push(b)}let _=new t.Token("link_open","a",1);_.attrs=[["href",h]],_.level=f++,_.markup="linkify",_.info="auto",l.push(_);let y=new t.Token("text","",0);y.content=g,y.level=f,l.push(y);let x=new t.Token("link_close","a",-1);x.level=--f,x.markup="linkify",x.info="auto",l.push(x),p=c[m].lastIndex}if(p<u.length){let m=new t.Token("text","",0);m.content=u.slice(p),m.level=f,l.push(m)}e[r].children=i=BU(i,s,l)}}}}var vse=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,p8e=/\((c|tm|r)\)/i,d8e=/\((c|tm|r)\)/ig,m8e={c:"\xA9",r:"\xAE",tm:"\u2122"};function h8e(t,e){return m8e[e.toLowerCase()]}function g8e(t){let e=0;for(let r=t.length-1;r>=0;r--){let n=t[r];n.type==="text"&&!e&&(n.content=n.content.replace(d8e,h8e)),n.type==="link_open"&&n.info==="auto"&&e--,n.type==="link_close"&&n.info==="auto"&&e++}}function v8e(t){let e=0;for(let r=t.length-1;r>=0;r--){let n=t[r];n.type==="text"&&!e&&vse.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),n.type==="link_open"&&n.info==="auto"&&e--,n.type==="link_close"&&n.info==="auto"&&e++}}function KU(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(p8e.test(t.tokens[e].content)&&g8e(t.tokens[e].children),vse.test(t.tokens[e].content)&&v8e(t.tokens[e].children))}var _8e=/['"]/,_se=/['"]/g,yse="\u2019";function ZN(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function y8e(t,e){let r,n=[];for(let i=0;i<t.length;i++){let o=t[i],s=t[i].level;for(r=n.length-1;r>=0&&!(n[r].level<=s);r--);if(n.length=r+1,o.type!=="text")continue;let a=o.content,u=0,c=a.length;e:for(;u<c;){_se.lastIndex=u;let l=_se.exec(a);if(!l)break;let f=!0,p=!0;u=l.index+1;let m=l[0]==="'",d=32;if(l.index-1>=0)d=a.charCodeAt(l.index-1);else for(r=i-1;r>=0&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r--)if(t[r].content){d=t[r].content.charCodeAt(t[r].content.length-1);break}let h=32;if(u<c)h=a.charCodeAt(u);else for(r=i+1;r<t.length&&!(t[r].type==="softbreak"||t[r].type==="hardbreak");r++)if(t[r].content){h=t[r].content.charCodeAt(0);break}let g=gv(d)||hv(String.fromCharCode(d)),v=gv(h)||hv(String.fromCharCode(h)),_=mv(d),y=mv(h);if(y?f=!1:v&&(_||g||(f=!1)),_?p=!1:g&&(y||v||(p=!1)),h===34&&l[0]==='"'&&d>=48&&d<=57&&(p=f=!1),f&&p&&(f=g,p=v),!f&&!p){m&&(o.content=ZN(o.content,l.index,yse));continue}if(p)for(r=n.length-1;r>=0;r--){let x=n[r];if(n[r].level<s)break;if(x.single===m&&n[r].level===s){x=n[r];let b,T;m?(b=e.md.options.quotes[2],T=e.md.options.quotes[3]):(b=e.md.options.quotes[0],T=e.md.options.quotes[1]),o.content=ZN(o.content,l.index,T),t[x.token].content=ZN(t[x.token].content,x.pos,b),u+=T.length-1,x.token===i&&(u+=b.length-1),a=o.content,c=a.length,n.length=r;continue e}}f?n.push({token:i,pos:l.index,single:m,level:s}):p&&m&&(o.content=ZN(o.content,l.index,yse))}}}function XU(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!_8e.test(t.tokens[e].content)||y8e(t.tokens[e].children,t)}function QU(t){let e,r,n=t.tokens,i=n.length;for(let o=0;o<i;o++){if(n[o].type!=="inline")continue;let s=n[o].children,a=s.length;for(e=0;e<a;e++)s[e].type==="text_special"&&(s[e].type="text");for(e=r=0;e<a;e++)s[e].type==="text"&&e+1<a&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==r&&(s[r]=s[e]),r++);e!==r&&(s.length=r)}}var JU=[["normalize",zU],["block",YU],["inline",$U],["linkify",WU],["replacements",KU],["smartquotes",XU],["text_join",QU]];function ZU(){this.ruler=new _v;for(let t=0;t<JU.length;t++)this.ruler.push(JU[t][0],JU[t][1])}ZU.prototype.process=function(t){let e=this.ruler.getRules("");for(let r=0,n=e.length;r<n;r++)e[r](t)};ZU.prototype.State=gse;var bse=ZU;function zl(t,e,r,n){this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;let i=this.src;for(let o=0,s=0,a=0,u=0,c=i.length,l=!1;s<c;s++){let f=i.charCodeAt(s);if(!l)if(Kt(f)){a++,f===9?u+=4-u%4:u++;continue}else l=!0;(f===10||s===c-1)&&(f!==10&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(u),this.bsCount.push(0),l=!1,a=0,u=0,o=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}zl.prototype.push=function(t,e,r){let n=new Hp(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};zl.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};zl.prototype.skipEmptyLines=function(e){for(let r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};zl.prototype.skipSpaces=function(e){for(let r=this.src.length;e<r;e++){let n=this.src.charCodeAt(e);if(!Kt(n))break}return e};zl.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!Kt(this.src.charCodeAt(--e)))return e+1;return e};zl.prototype.skipChars=function(e,r){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===r;e++);return e};zl.prototype.skipCharsBack=function(e,r,n){if(e<=n)return e;for(;e>n;)if(r!==this.src.charCodeAt(--e))return e+1;return e};zl.prototype.getLines=function(e,r,n,i){if(e>=r)return"";let o=new Array(r-e);for(let s=0,a=e;a<r;a++,s++){let u=0,c=this.bMarks[a],l=c,f;for(a+1<r||i?f=this.eMarks[a]+1:f=this.eMarks[a];l<f&&u<n;){let p=this.src.charCodeAt(l);if(Kt(p))p===9?u+=4-(u+this.bsCount[a])%4:u++;else if(l-c<this.tShift[a])u++;else break;l++}u>n?o[s]=new Array(u-n+1).join(" ")+this.src.slice(l,f):o[s]=this.src.slice(l,f)}return o.join("")};zl.prototype.Token=Hp;var xse=zl;function eB(t,e){let r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.slice(r,n)}function Ese(t){let e=[],r=t.length,n=0,i=t.charCodeAt(n),o=!1,s=0,a="";for(;n<r;)i===124&&(o?(a+=t.substring(s,n-1),s=n):(e.push(a+t.substring(s,n)),a="",s=n+1)),o=i===92,n++,i=t.charCodeAt(n);return e.push(a+t.substring(s)),e}function tB(t,e,r,n){if(e+2>r)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;let s=t.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58||o>=t.eMarks[i])return!1;let a=t.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58&&!Kt(a)||s===45&&Kt(a))return!1;for(;o<t.eMarks[i];){let y=t.src.charCodeAt(o);if(y!==124&&y!==45&&y!==58&&!Kt(y))return!1;o++}let u=eB(t,e+1),c=u.split("|"),l=[];for(let y=0;y<c.length;y++){let x=c[y].trim();if(!x){if(y===0||y===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?l.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?l.push("left"):l.push("")}if(u=eB(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=Ese(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();let f=c.length;if(f===0||f!==l.length)return!1;if(n)return!0;let p=t.parentType;t.parentType="table";let m=t.md.block.ruler.getRules("blockquote"),d=t.push("table_open","table",1),h=[e,0];d.map=h;let g=t.push("thead_open","thead",1);g.map=[e,e+1];let v=t.push("tr_open","tr",1);v.map=[e,e+1];for(let y=0;y<c.length;y++){let x=t.push("th_open","th",1);l[y]&&(x.attrs=[["style","text-align:"+l[y]]]);let b=t.push("inline","",0);b.content=c[y].trim(),b.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let _;for(i=e+2;i<r&&!(t.sCount[i]<t.blkIndent);i++){let y=!1;for(let b=0,T=m.length;b<T;b++)if(m[b](t,i,r,!0)){y=!0;break}if(y||(u=eB(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4)break;if(c=Ese(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),i===e+2){let b=t.push("tbody_open","tbody",1);b.map=_=[e+2,0]}let x=t.push("tr_open","tr",1);x.map=[i,i+1];for(let b=0;b<f;b++){let T=t.push("td_open","td",1);l[b]&&(T.attrs=[["style","text-align:"+l[b]]]);let k=t.push("inline","",0);k.content=c[b]?c[b].trim():"",k.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return _&&(t.push("tbody_close","tbody",-1),_[1]=i),t.push("table_close","table",-1),h[1]=i,t.parentType=p,t.line=i,!0}function rB(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let n=e+1,i=n;for(;n<r;){if(t.isEmpty(n)){n++;continue}if(t.sCount[n]-t.blkIndent>=4){n++,i=n;continue}break}t.line=i;let o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,o.map=[e,t.line],!0}function nB(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>o)return!1;let s=t.src.charCodeAt(i);if(s!==126&&s!==96)return!1;let a=i;i=t.skipChars(i,s);let u=i-a;if(u<3)return!1;let c=t.src.slice(a,i),l=t.src.slice(i,o);if(s===96&&l.indexOf(String.fromCharCode(s))>=0)return!1;if(n)return!0;let f=e,p=!1;for(;f++,!(f>=r||(i=a=t.bMarks[f]+t.tShift[f],o=t.eMarks[f],i<o&&t.sCount[f]<t.blkIndent));)if(t.src.charCodeAt(i)===s&&!(t.sCount[f]-t.blkIndent>=4)&&(i=t.skipChars(i,s),!(i-a<u)&&(i=t.skipSpaces(i),!(i<o)))){p=!0;break}u=t.sCount[e],t.line=f+(p?1:0);let m=t.push("fence","code",0);return m.info=l,m.content=t.getLines(e+1,f,u,!0),m.markup=c,m.map=[e,t.line],!0}function iB(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],s=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(n)return!0;let a=[],u=[],c=[],l=[],f=t.md.block.ruler.getRules("blockquote"),p=t.parentType;t.parentType="blockquote";let m=!1,d;for(d=e;d<r;d++){let y=t.sCount[d]<t.blkIndent;if(i=t.bMarks[d]+t.tShift[d],o=t.eMarks[d],i>=o)break;if(t.src.charCodeAt(i++)===62&&!y){let b=t.sCount[d]+1,T,k;t.src.charCodeAt(i)===32?(i++,b++,k=!1,T=!0):t.src.charCodeAt(i)===9?(T=!0,(t.bsCount[d]+b)%4===3?(i++,b++,k=!1):k=!0):T=!1;let U=b;for(a.push(t.bMarks[d]),t.bMarks[d]=i;i<o;){let z=t.src.charCodeAt(i);if(Kt(z))z===9?U+=4-(U+t.bsCount[d]+(k?1:0))%4:U++;else break;i++}m=i>=o,u.push(t.bsCount[d]),t.bsCount[d]=t.sCount[d]+1+(T?1:0),c.push(t.sCount[d]),t.sCount[d]=U-b,l.push(t.tShift[d]),t.tShift[d]=i-t.bMarks[d];continue}if(m)break;let x=!1;for(let b=0,T=f.length;b<T;b++)if(f[b](t,d,r,!0)){x=!0;break}if(x){t.lineMax=d,t.blkIndent!==0&&(a.push(t.bMarks[d]),u.push(t.bsCount[d]),l.push(t.tShift[d]),c.push(t.sCount[d]),t.sCount[d]-=t.blkIndent);break}a.push(t.bMarks[d]),u.push(t.bsCount[d]),l.push(t.tShift[d]),c.push(t.sCount[d]),t.sCount[d]=-1}let h=t.blkIndent;t.blkIndent=0;let g=t.push("blockquote_open","blockquote",1);g.markup=">";let v=[e,0];g.map=v,t.md.block.tokenize(t,e,d);let _=t.push("blockquote_close","blockquote",-1);_.markup=">",t.lineMax=s,t.parentType=p,v[1]=t.line;for(let y=0;y<l.length;y++)t.bMarks[y+e]=a[y],t.tShift[y+e]=l[y],t.sCount[y+e]=c[y],t.bsCount[y+e]=u[y];return t.blkIndent=h,!0}function oB(t,e,r,n){let i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e],s=t.src.charCodeAt(o++);if(s!==42&&s!==45&&s!==95)return!1;let a=1;for(;o<i;){let c=t.src.charCodeAt(o++);if(c!==s&&!Kt(c))return!1;c===s&&a++}if(a<3)return!1;if(n)return!0;t.line=e+1;let u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(a+1).join(String.fromCharCode(s)),!0}function Tse(t,e){let r=t.eMarks[e],n=t.bMarks[e]+t.tShift[e],i=t.src.charCodeAt(n++);if(i!==42&&i!==45&&i!==43)return-1;if(n<r){let o=t.src.charCodeAt(n);if(!Kt(o))return-1}return n}function Sse(t,e){let r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e],i=r;if(i+1>=n)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=n)return-1;if(o=t.src.charCodeAt(i++),o>=48&&o<=57){if(i-r>=10)return-1;continue}if(o===41||o===46)break;return-1}return i<n&&(o=t.src.charCodeAt(i),!Kt(o))?-1:i}function b8e(t,e){let r=t.level+2;for(let n=e+2,i=t.tokens.length-2;n<i;n++)t.tokens[n].level===r&&t.tokens[n].type==="paragraph_open"&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}function sB(t,e,r,n){let i,o,s,a,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let l=!1;n&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(l=!0);let f,p,m;if((m=Sse(t,u))>=0){if(f=!0,s=t.bMarks[u]+t.tShift[u],p=Number(t.src.slice(s,m-1)),l&&p!==1)return!1}else if((m=Tse(t,u))>=0)f=!1;else return!1;if(l&&t.skipSpaces(m)>=t.eMarks[u])return!1;if(n)return!0;let d=t.src.charCodeAt(m-1),h=t.tokens.length;f?(a=t.push("ordered_list_open","ol",1),p!==1&&(a.attrs=[["start",p]])):a=t.push("bullet_list_open","ul",1);let g=[u,0];a.map=g,a.markup=String.fromCharCode(d);let v=!1,_=t.md.block.ruler.getRules("list"),y=t.parentType;for(t.parentType="list";u<r;){o=m,i=t.eMarks[u];let x=t.sCount[u]+m-(t.bMarks[u]+t.tShift[u]),b=x;for(;o<i;){let P=t.src.charCodeAt(o);if(P===9)b+=4-(b+t.bsCount[u])%4;else if(P===32)b++;else break;o++}let T=o,k;T>=i?k=1:k=b-x,k>4&&(k=1);let U=x+k;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(d);let z=[u,0];a.map=z,f&&(a.info=t.src.slice(s,m-1));let D=t.tight,fe=t.tShift[u],Q=t.sCount[u],O=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=U,t.tight=!0,t.tShift[u]=T-t.bMarks[u],t.sCount[u]=b,T>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,u,r,!0),(!t.tight||v)&&(c=!1),v=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=O,t.tShift[u]=fe,t.sCount[u]=Q,t.tight=D,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(d),u=t.line,z[1]=u,u>=r||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let w=!1;for(let P=0,M=_.length;P<M;P++)if(_[P](t,u,r,!0)){w=!0;break}if(w)break;if(f){if(m=Sse(t,u),m<0)break;s=t.bMarks[u]+t.tShift[u]}else if(m=Tse(t,u),m<0)break;if(d!==t.src.charCodeAt(m-1))break}return f?a=t.push("ordered_list_close","ol",-1):a=t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(d),g[1]=u,t.line=u,t.parentType=y,c&&b8e(t,h),!0}function aB(t,e,r,n){let i=0,o=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(o)!==91)return!1;for(;++o<s;)if(t.src.charCodeAt(o)===93&&t.src.charCodeAt(o-1)!==92){if(o+1===s||t.src.charCodeAt(o+1)!==58)return!1;break}let u=t.lineMax,c=t.md.block.ruler.getRules("reference"),l=t.parentType;for(t.parentType="reference";a<u&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3||t.sCount[a]<0)continue;let b=!1;for(let T=0,k=c.length;T<k;T++)if(c[T](t,a,u,!0)){b=!0;break}if(b)break}let f=t.getLines(e,a,t.blkIndent,!1).trim();s=f.length;let p=-1;for(o=1;o<s;o++){let b=f.charCodeAt(o);if(b===91)return!1;if(b===93){p=o;break}else b===10?i++:b===92&&(o++,o<s&&f.charCodeAt(o)===10&&i++)}if(p<0||f.charCodeAt(p+1)!==58)return!1;for(o=p+2;o<s;o++){let b=f.charCodeAt(o);if(b===10)i++;else if(!Kt(b))break}let m=t.md.helpers.parseLinkDestination(f,o,s);if(!m.ok)return!1;let d=t.md.normalizeLink(m.str);if(!t.md.validateLink(d))return!1;o=m.pos,i+=m.lines;let h=o,g=i,v=o;for(;o<s;o++){let b=f.charCodeAt(o);if(b===10)i++;else if(!Kt(b))break}let _=t.md.helpers.parseLinkTitle(f,o,s),y;for(o<s&&v!==o&&_.ok?(y=_.str,o=_.pos,i+=_.lines):(y="",o=h,i=g);o<s;){let b=f.charCodeAt(o);if(!Kt(b))break;o++}if(o<s&&f.charCodeAt(o)!==10&&y)for(y="",o=h,i=g;o<s;){let b=f.charCodeAt(o);if(!Kt(b))break;o++}if(o<s&&f.charCodeAt(o)!==10)return!1;let x=vv(f.slice(1,p));return x?(n||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[x]>"u"&&(t.env.references[x]={title:y,href:d}),t.parentType=l,t.line=e+i+1),!0):!1}var Cse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"];var x8e="[a-zA-Z_:][a-zA-Z0-9:._-]*",E8e="[^\"'=<>`\\x00-\\x20]+",T8e="'[^']*'",S8e='"[^"]*"',C8e="(?:"+E8e+"|"+T8e+"|"+S8e+")",I8e="(?:\\s+"+x8e+"(?:\\s*=\\s*"+C8e+")?)",Ise="<[A-Za-z][A-Za-z0-9\\-]*"+I8e+"*\\s*\\/?>",wse="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",w8e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",A8e="<[?][\\s\\S]*?[?]>",R8e="<![A-Z]+\\s+[^>]*>",P8e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Ase=new RegExp("^(?:"+Ise+"|"+wse+"|"+w8e+"|"+A8e+"|"+R8e+"|"+P8e+")"),Rse=new RegExp("^(?:"+Ise+"|"+wse+")");var pb=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Cse.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Rse.source+"\\s*$"),/^$/,!1]];function cB(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let s=t.src.slice(i,o),a=0;for(;a<pb.length&&!pb[a][0].test(s);a++);if(a===pb.length)return!1;if(n)return pb[a][2];let u=e+1;if(!pb[a][1].test(s)){for(;u<r&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],o=t.eMarks[u],s=t.src.slice(i,o),pb[a][1].test(s)){s.length!==0&&u++;break}}t.line=u;let c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}function uB(t,e,r,n){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.src.charCodeAt(i);if(s!==35||i>=o)return!1;let a=1;for(s=t.src.charCodeAt(++i);s===35&&i<o&&a<=6;)a++,s=t.src.charCodeAt(++i);if(a>6||i<o&&!Kt(s))return!1;if(n)return!0;o=t.skipSpacesBack(o,i);let u=t.skipCharsBack(o,35,i);u>i&&Kt(t.src.charCodeAt(u-1))&&(o=u),t.line=e+1;let c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];let l=t.push("inline","",0);l.content=t.src.slice(i,o).trim(),l.map=[e,t.line],l.children=[];let f=t.push("heading_close","h"+String(a),-1);return f.markup="########".slice(0,a),!0}function lB(t,e,r){let n=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;let i=t.parentType;t.parentType="paragraph";let o=0,s,a=e+1;for(;a<r&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let m=t.bMarks[a]+t.tShift[a],d=t.eMarks[a];if(m<d&&(s=t.src.charCodeAt(m),(s===45||s===61)&&(m=t.skipChars(m,s),m=t.skipSpaces(m),m>=d))){o=s===61?1:2;break}}if(t.sCount[a]<0)continue;let p=!1;for(let m=0,d=n.length;m<d;m++)if(n[m](t,a,r,!0)){p=!0;break}if(p)break}if(!o)return!1;let u=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;let c=t.push("heading_open","h"+String(o),1);c.markup=String.fromCharCode(s),c.map=[e,t.line];let l=t.push("inline","",0);l.content=u,l.map=[e,t.line-1],l.children=[];let f=t.push("heading_close","h"+String(o),-1);return f.markup=String.fromCharCode(s),t.parentType=i,!0}function fB(t,e,r){let n=t.md.block.ruler.getRules("paragraph"),i=t.parentType,o=e+1;for(t.parentType="paragraph";o<r&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3||t.sCount[o]<0)continue;let c=!1;for(let l=0,f=n.length;l<f;l++)if(n[l](t,o,r,!0)){c=!0;break}if(c)break}let s=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o;let a=t.push("paragraph_open","p",1);a.map=[e,t.line];let u=t.push("inline","",0);return u.content=s,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}var eD=[["table",tB,["paragraph","reference"]],["code",rB],["fence",nB,["paragraph","reference","blockquote","list"]],["blockquote",iB,["paragraph","reference","blockquote","list"]],["hr",oB,["paragraph","reference","blockquote","list"]],["list",sB,["paragraph","reference","blockquote"]],["reference",aB],["html_block",cB,["paragraph","reference","blockquote"]],["heading",uB,["paragraph","reference","blockquote"]],["lheading",lB],["paragraph",fB]];function tD(){this.ruler=new _v;for(let t=0;t<eD.length;t++)this.ruler.push(eD[t][0],eD[t][1],{alt:(eD[t][2]||[]).slice()})}tD.prototype.tokenize=function(t,e,r){let n=this.ruler.getRules(""),i=n.length,o=t.md.options.maxNesting,s=e,a=!1;for(;s<r&&(t.line=s=t.skipEmptyLines(s),!(s>=r||t.sCount[s]<t.blkIndent));){if(t.level>=o){t.line=r;break}let u=t.line,c=!1;for(let l=0;l<i;l++)if(c=n[l](t,s,r,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),s=t.line,s<r&&t.isEmpty(s)&&(a=!0,s++,t.line=s)}};tD.prototype.parse=function(t,e,r,n){if(!t)return;let i=new this.State(t,e,r,n);this.tokenize(i,i.line,i.lineMax)};tD.prototype.State=xse;var Pse=tD;function MC(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}MC.prototype.pushPending=function(){let t=new Hp("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};MC.prototype.push=function(t,e,r){this.pending&&this.pushPending();let n=new Hp(t,e,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};MC.prototype.scanDelims=function(t,e){let r,n,i=!0,o=!0,s=this.posMax,a=this.src.charCodeAt(t),u=t>0?this.src.charCodeAt(t-1):32,c=t;for(;c<s&&this.src.charCodeAt(c)===a;)c++;let l=c-t,f=c<s?this.src.charCodeAt(c):32,p=gv(u)||hv(String.fromCharCode(u)),m=gv(f)||hv(String.fromCharCode(f)),d=mv(u),h=mv(f);return h?i=!1:m&&(d||p||(i=!1)),d?o=!1:p&&(h||m||(o=!1)),e?(r=i,n=o):(r=i&&(!o||p),n=o&&(!i||m)),{can_open:r,can_close:n,length:l}};MC.prototype.Token=Hp;var Nse=MC;function N8e(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function pB(t,e){let r=t.pos;for(;r<t.posMax&&!N8e(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}var D8e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function dB(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;let r=t.pos,n=t.posMax;if(r+3>n||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47)return!1;let i=t.pending.match(D8e);if(!i)return!1;let o=i[1],s=t.md.linkify.matchAtStart(t.src.slice(r-o.length));if(!s)return!1;let a=s.url;if(a.length<=o.length)return!1;a=a.replace(/\*+$/,"");let u=t.md.normalizeLink(a);if(!t.md.validateLink(u))return!1;if(!e){t.pending=t.pending.slice(0,-o.length);let c=t.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";let l=t.push("text","",0);l.content=t.md.normalizeLinkText(a);let f=t.push("link_close","a",-1);f.markup="linkify",f.info="auto"}return t.pos+=a.length-o.length,!0}function mB(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==10)return!1;let n=t.pending.length-1,i=t.posMax;if(!e)if(n>=0&&t.pending.charCodeAt(n)===32)if(n>=1&&t.pending.charCodeAt(n-1)===32){let o=n-1;for(;o>=1&&t.pending.charCodeAt(o-1)===32;)o--;t.pending=t.pending.slice(0,o),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<i&&Kt(t.src.charCodeAt(r));)r++;return t.pos=r,!0}var hB=[];for(let t=0;t<256;t++)hB.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){hB[t.charCodeAt(0)]=1});function gB(t,e){let r=t.pos,n=t.posMax;if(t.src.charCodeAt(r)!==92||(r++,r>=n))return!1;let i=t.src.charCodeAt(r);if(i===10){for(e||t.push("hardbreak","br",0),r++;r<n&&(i=t.src.charCodeAt(r),!!Kt(i));)r++;return t.pos=r,!0}let o=t.src[r];if(i>=55296&&i<=56319&&r+1<n){let a=t.src.charCodeAt(r+1);a>=56320&&a<=57343&&(o+=t.src[r+1],r++)}let s="\\"+o;if(!e){let a=t.push("text_special","",0);i<256&&hB[i]!==0?a.content=o:a.content=s,a.markup=s,a.info="escape"}return t.pos=r+1,!0}function vB(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==96)return!1;let i=r;r++;let o=t.posMax;for(;r<o&&t.src.charCodeAt(r)===96;)r++;let s=t.src.slice(i,r),a=s.length;if(t.backticksScanned&&(t.backticks[a]||0)<=i)return e||(t.pending+=s),t.pos+=a,!0;let u=r,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<o&&t.src.charCodeAt(u)===96;)u++;let l=u-c;if(l===a){if(!e){let f=t.push("code_inline","code",0);f.markup=s,f.content=t.src.slice(r,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[l]=c}return t.backticksScanned=!0,e||(t.pending+=s),t.pos+=a,!0}function k8e(t,e){let r=t.pos,n=t.src.charCodeAt(r);if(e||n!==126)return!1;let i=t.scanDelims(t.pos,!0),o=i.length,s=String.fromCharCode(n);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=s,o--);for(let u=0;u<o;u+=2)a=t.push("text","",0),a.content=s+s,t.delimiters.push({marker:n,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}function Dse(t,e){let r,n=[],i=e.length;for(let o=0;o<i;o++){let s=e[o];if(s.marker!==126||s.end===-1)continue;let a=e[s.end];r=t.tokens[s.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[a.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="",t.tokens[a.token-1].type==="text"&&t.tokens[a.token-1].content==="~"&&n.push(a.token-1)}for(;n.length;){let o=n.pop(),s=o+1;for(;s<t.tokens.length&&t.tokens[s].type==="s_close";)s++;s--,o!==s&&(r=t.tokens[s],t.tokens[s]=t.tokens[o],t.tokens[o]=r)}}function L8e(t){let e=t.tokens_meta,r=t.tokens_meta.length;Dse(t,t.delimiters);for(let n=0;n<r;n++)e[n]&&e[n].delimiters&&Dse(t,e[n].delimiters)}var _B={tokenize:k8e,postProcess:L8e};function O8e(t,e){let r=t.pos,n=t.src.charCodeAt(r);if(e||n!==95&&n!==42)return!1;let i=t.scanDelims(t.pos,n===42);for(let o=0;o<i.length;o++){let s=t.push("text","",0);s.content=String.fromCharCode(n),t.delimiters.push({marker:n,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}function kse(t,e){let r=e.length;for(let n=r-1;n>=0;n--){let i=e[n];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;let o=e[i.end],s=n>0&&e[n-1].end===i.end+1&&e[n-1].marker===i.marker&&e[n-1].token===i.token-1&&e[i.end+1].token===o.token+1,a=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=s?"strong_open":"em_open",u.tag=s?"strong":"em",u.nesting=1,u.markup=s?a+a:a,u.content="";let c=t.tokens[o.token];c.type=s?"strong_close":"em_close",c.tag=s?"strong":"em",c.nesting=-1,c.markup=s?a+a:a,c.content="",s&&(t.tokens[e[n-1].token].content="",t.tokens[e[i.end+1].token].content="",n--)}}function M8e(t){let e=t.tokens_meta,r=t.tokens_meta.length;kse(t,t.delimiters);for(let n=0;n<r;n++)e[n]&&e[n].delimiters&&kse(t,e[n].delimiters)}var yB={tokenize:O8e,postProcess:M8e};function bB(t,e){let r,n,i,o,s="",a="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;let l=t.pos,f=t.posMax,p=t.pos+1,m=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(m<0)return!1;let d=m+1;if(d<f&&t.src.charCodeAt(d)===40){for(c=!1,d++;d<f&&(r=t.src.charCodeAt(d),!(!Kt(r)&&r!==10));d++);if(d>=f)return!1;if(u=d,i=t.md.helpers.parseLinkDestination(t.src,d,t.posMax),i.ok){for(s=t.md.normalizeLink(i.str),t.md.validateLink(s)?d=i.pos:s="",u=d;d<f&&(r=t.src.charCodeAt(d),!(!Kt(r)&&r!==10));d++);if(i=t.md.helpers.parseLinkTitle(t.src,d,t.posMax),d<f&&u!==d&&i.ok)for(a=i.str,d=i.pos;d<f&&(r=t.src.charCodeAt(d),!(!Kt(r)&&r!==10));d++);}(d>=f||t.src.charCodeAt(d)!==41)&&(c=!0),d++}if(c){if(typeof t.env.references>"u")return!1;if(d<f&&t.src.charCodeAt(d)===91?(u=d+1,d=t.md.helpers.parseLinkLabel(t,d),d>=0?n=t.src.slice(u,d++):d=m+1):d=m+1,n||(n=t.src.slice(p,m)),o=t.env.references[vv(n)],!o)return t.pos=l,!1;s=o.href,a=o.title}if(!e){t.pos=p,t.posMax=m;let h=t.push("link_open","a",1),g=[["href",s]];h.attrs=g,a&&g.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=d,t.posMax=f,!0}function xB(t,e){let r,n,i,o,s,a,u,c,l="",f=t.pos,p=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;let m=t.pos+2,d=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(d<0)return!1;if(o=d+1,o<p&&t.src.charCodeAt(o)===40){for(o++;o<p&&(r=t.src.charCodeAt(o),!(!Kt(r)&&r!==10));o++);if(o>=p)return!1;for(c=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(l=t.md.normalizeLink(a.str),t.md.validateLink(l)?o=a.pos:l=""),c=o;o<p&&(r=t.src.charCodeAt(o),!(!Kt(r)&&r!==10));o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<p&&c!==o&&a.ok)for(u=a.str,o=a.pos;o<p&&(r=t.src.charCodeAt(o),!(!Kt(r)&&r!==10));o++);else u="";if(o>=p||t.src.charCodeAt(o)!==41)return t.pos=f,!1;o++}else{if(typeof t.env.references>"u")return!1;if(o<p&&t.src.charCodeAt(o)===91?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(c,o++):o=d+1):o=d+1,i||(i=t.src.slice(m,d)),s=t.env.references[vv(i)],!s)return t.pos=f,!1;l=s.href,u=s.title}if(!e){n=t.src.slice(m,d);let h=[];t.md.inline.parse(n,t.md,t.env,h);let g=t.push("image","img",0),v=[["src",l],["alt",""]];g.attrs=v,g.children=h,g.content=n,u&&v.push(["title",u])}return t.pos=o,t.posMax=p,!0}var F8e=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,U8e=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function EB(t,e){let r=t.pos;if(t.src.charCodeAt(r)!==60)return!1;let n=t.pos,i=t.posMax;for(;;){if(++r>=i)return!1;let s=t.src.charCodeAt(r);if(s===60)return!1;if(s===62)break}let o=t.src.slice(n+1,r);if(U8e.test(o)){let s=t.md.normalizeLink(o);if(!t.md.validateLink(s))return!1;if(!e){let a=t.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";let u=t.push("text","",0);u.content=t.md.normalizeLinkText(o);let c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=o.length+2,!0}if(F8e.test(o)){let s=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(s))return!1;if(!e){let a=t.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";let u=t.push("text","",0);u.content=t.md.normalizeLinkText(o);let c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=o.length+2,!0}return!1}function B8e(t){return/^<a[>\s]/i.test(t)}function q8e(t){return/^<\/a\s*>/i.test(t)}function H8e(t){let e=t|32;return e>=97&&e<=122}function TB(t,e){if(!t.md.options.html)return!1;let r=t.posMax,n=t.pos;if(t.src.charCodeAt(n)!==60||n+2>=r)return!1;let i=t.src.charCodeAt(n+1);if(i!==33&&i!==63&&i!==47&&!H8e(i))return!1;let o=t.src.slice(n).match(Ase);if(!o)return!1;if(!e){let s=t.push("html_inline","",0);s.content=o[0],B8e(s.content)&&t.linkLevel++,q8e(s.content)&&t.linkLevel--}return t.pos+=o[0].length,!0}var G8e=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,j8e=/^&([a-z][a-z0-9]{1,31});/i;function SB(t,e){let r=t.pos,n=t.posMax;if(t.src.charCodeAt(r)!==38||r+1>=n)return!1;if(t.src.charCodeAt(r+1)===35){let o=t.src.slice(r).match(G8e);if(o){if(!e){let s=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=t.push("text_special","",0);a.content=JN(s)?OC(s):OC(65533),a.markup=o[0],a.info="entity"}return t.pos+=o[0].length,!0}}else{let o=t.src.slice(r).match(j8e);if(o){let s=Km(o[0]);if(s!==o[0]){if(!e){let a=t.push("text_special","",0);a.content=s,a.markup=o[0],a.info="entity"}return t.pos+=o[0].length,!0}}}return!1}function Lse(t){let e={},r=t.length;if(!r)return;let n=0,i=-2,o=[];for(let s=0;s<r;s++){let a=t[s];if(o.push(0),(t[n].marker!==a.marker||i!==a.token-1)&&(n=s),i=a.token,a.length=a.length||0,!a.close)continue;e.hasOwnProperty(a.marker)||(e[a.marker]=[-1,-1,-1,-1,-1,-1]);let u=e[a.marker][(a.open?3:0)+a.length%3],c=n-o[n]-1,l=c;for(;c>u;c-=o[c]+1){let f=t[c];if(f.marker===a.marker&&f.open&&f.end<0){let p=!1;if((f.close||a.open)&&(f.length+a.length)%3===0&&(f.length%3!==0||a.length%3!==0)&&(p=!0),!p){let m=c>0&&!t[c-1].open?o[c-1]+1:0;o[s]=s-c+m,o[c]=m,a.open=!1,f.end=s,f.close=!1,l=-1,i=-2;break}}}l!==-1&&(e[a.marker][(a.open?3:0)+(a.length||0)%3]=l)}}function CB(t){let e=t.tokens_meta,r=t.tokens_meta.length;Lse(t.delimiters);for(let n=0;n<r;n++)e[n]&&e[n].delimiters&&Lse(e[n].delimiters)}function IB(t){let e,r,n=0,i=t.tokens,o=t.tokens.length;for(e=r=0;e<o;e++)i[e].nesting<0&&n--,i[e].level=n,i[e].nesting>0&&n++,i[e].type==="text"&&e+1<o&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==r&&(i[r]=i[e]),r++);e!==r&&(i.length=r)}var wB=[["text",pB],["linkify",dB],["newline",mB],["escape",gB],["backticks",vB],["strikethrough",_B.tokenize],["emphasis",yB.tokenize],["link",bB],["image",xB],["autolink",EB],["html_inline",TB],["entity",SB]],AB=[["balance_pairs",CB],["strikethrough",_B.postProcess],["emphasis",yB.postProcess],["fragments_join",IB]];function FC(){this.ruler=new _v;for(let t=0;t<wB.length;t++)this.ruler.push(wB[t][0],wB[t][1]);this.ruler2=new _v;for(let t=0;t<AB.length;t++)this.ruler2.push(AB[t][0],AB[t][1])}FC.prototype.skipToken=function(t){let e=t.pos,r=this.ruler.getRules(""),n=r.length,i=t.md.options.maxNesting,o=t.cache;if(typeof o[e]<"u"){t.pos=o[e];return}let s=!1;if(t.level<i){for(let a=0;a<n;a++)if(t.level++,s=r[a](t,!0),t.level--,s){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;s||t.pos++,o[e]=t.pos};FC.prototype.tokenize=function(t){let e=this.ruler.getRules(""),r=e.length,n=t.posMax,i=t.md.options.maxNesting;for(;t.pos<n;){let o=t.pos,s=!1;if(t.level<i){for(let a=0;a<r;a++)if(s=e[a](t,!1),s){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(t.pos>=n)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};FC.prototype.parse=function(t,e,r,n){let i=new this.State(t,e,r,n);this.tokenize(i);let o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](i)};FC.prototype.State=Nse;var Ose=FC;function Mse(t){let e={};t=t||{},e.src_Any=YN.source,e.src_Cc=$N.source,e.src_Z=WN.source,e.src_P=cb.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");let r="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function RB(t){return Array.prototype.slice.call(arguments,1).forEach(function(r){r&&Object.keys(r).forEach(function(n){t[n]=r[n]})}),t}function nD(t){return Object.prototype.toString.call(t)}function V8e(t){return nD(t)==="[object String]"}function z8e(t){return nD(t)==="[object Object]"}function Y8e(t){return nD(t)==="[object RegExp]"}function Fse(t){return nD(t)==="[object Function]"}function $8e(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Bse={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function W8e(t){return Object.keys(t||{}).reduce(function(e,r){return e||Bse.hasOwnProperty(r)},!1)}var K8e={"http:":{validate:function(t,e,r){let n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){let n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){let n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},X8e="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Q8e="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function J8e(t){t.__index__=-1,t.__text_cache__=""}function Z8e(t){return function(e,r){let n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}function Use(){return function(t,e){e.normalize(t)}}function rD(t){let e=t.re=Mse(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(X8e),r.push(e.src_xn),e.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");let i=[];t.__compiled__={};function o(a,u){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+u)}Object.keys(t.__schemas__).forEach(function(a){let u=t.__schemas__[a];if(u===null)return;let c={validate:null,link:null};if(t.__compiled__[a]=c,z8e(u)){Y8e(u.validate)?c.validate=Z8e(u.validate):Fse(u.validate)?c.validate=u.validate:o(a,u),Fse(u.normalize)?c.normalize=u.normalize:u.normalize?o(a,u):c.normalize=Use();return}if(V8e(u)){i.push(a);return}o(a,u)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:Use()};let s=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map($8e).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),J8e(t)}function eMe(t,e){let r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}function PB(t,e){let r=new eMe(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function Za(t,e){if(!(this instanceof Za))return new Za(t,e);e||W8e(t)&&(e=t,t={}),this.__opts__=RB({},Bse,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=RB({},K8e,t),this.__compiled__={},this.__tlds__=Q8e,this.__tlds_replaced__=!1,this.re={},rD(this)}Za.prototype.add=function(e,r){return this.__schemas__[e]=r,rD(this),this};Za.prototype.set=function(e){return this.__opts__=RB(this.__opts__,e),this};Za.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let r,n,i,o,s,a,u,c,l;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(r=u.exec(e))!==null;)if(o=this.testSchemaAt(e,r[2],u.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=e.indexOf("@"),l>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};Za.prototype.pretest=function(e){return this.re.pretest.test(e)};Za.prototype.testSchemaAt=function(e,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,n,this):0};Za.prototype.match=function(e){let r=[],n=0;this.__index__>=0&&this.__text_cache__===e&&(r.push(PB(this,n)),n=this.__last_index__);let i=n?e.slice(n):e;for(;this.test(i);)r.push(PB(this,n)),i=i.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};Za.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;let r=this.re.schema_at_start.exec(e);if(!r)return null;let n=this.testSchemaAt(e,r[2],r[0].length);return n?(this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+n,PB(this,0)):null};Za.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),rD(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,rD(this),this)};Za.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Za.prototype.onCompile=function(){};var qse=Za;var Gse="-",tMe=/^xn--/,rMe=/[^\0-\x7F]/,nMe=/[\x2E\u3002\uFF0E\uFF61]/g,iMe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},NB=35,Yl=Math.floor,DB=String.fromCharCode;function Qm(t){throw new RangeError(iMe[t])}function oMe(t,e){let r=[],n=t.length;for(;n--;)r[n]=e(t[n]);return r}function jse(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]),t=t.replace(nMe,".");let i=t.split("."),o=oMe(i,e).join(".");return n+o}function Vse(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let o=t.charCodeAt(r++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),r--)}else e.push(i)}return e}var sMe=t=>String.fromCodePoint(...t),aMe=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:36},Hse=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},zse=function(t,e,r){let n=0;for(t=r?Yl(t/700):t>>1,t+=Yl(t/e);t>NB*26>>1;n+=36)t=Yl(t/NB);return Yl(n+(NB+1)*t/(t+38))},Yse=function(t){let e=[],r=t.length,n=0,i=128,o=72,s=t.lastIndexOf(Gse);s<0&&(s=0);for(let a=0;a<s;++a)t.charCodeAt(a)>=128&&Qm("not-basic"),e.push(t.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){let u=n;for(let l=1,f=36;;f+=36){a>=r&&Qm("invalid-input");let p=aMe(t.charCodeAt(a++));p>=36&&Qm("invalid-input"),p>Yl((2147483647-n)/l)&&Qm("overflow"),n+=p*l;let m=f<=o?1:f>=o+26?26:f-o;if(p<m)break;let d=36-m;l>Yl(2147483647/d)&&Qm("overflow"),l*=d}let c=e.length+1;o=zse(n-u,c,u==0),Yl(n/c)>2147483647-i&&Qm("overflow"),i+=Yl(n/c),n%=c,e.splice(n++,0,i)}return String.fromCodePoint(...e)},$se=function(t){let e=[];t=Vse(t);let r=t.length,n=128,i=0,o=72;for(let u of t)u<128&&e.push(DB(u));let s=e.length,a=s;for(s&&e.push(Gse);a<r;){let u=2147483647;for(let l of t)l>=n&&l<u&&(u=l);let c=a+1;u-n>Yl((2147483647-i)/c)&&Qm("overflow"),i+=(u-n)*c,n=u;for(let l of t)if(l<n&&++i>2147483647&&Qm("overflow"),l===n){let f=i;for(let p=36;;p+=36){let m=p<=o?1:p>=o+26?26:p-o;if(f<m)break;let d=f-m,h=36-m;e.push(DB(Hse(m+d%h,0))),f=Yl(d/h)}e.push(DB(Hse(f,0))),o=zse(i,c,a===s),i=0,++a}++i,++n}return e.join("")},cMe=function(t){return jse(t,function(e){return tMe.test(e)?Yse(e.slice(4).toLowerCase()):e})},uMe=function(t){return jse(t,function(e){return rMe.test(e)?"xn--"+$se(e):e})},lMe={version:"2.3.1",ucs2:{decode:Vse,encode:sMe},decode:Yse,encode:$se,toASCII:uMe,toUnicode:cMe};var kB=lMe;var Wse={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}};var Kse={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}};var Xse={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}};var fMe={default:Wse,zero:Kse,commonmark:Xse},pMe=/^(vbscript|javascript|file|data):/,dMe=/^data:image\/(gif|png|jpeg|webp);/;function mMe(t){let e=t.trim().toLowerCase();return pMe.test(e)?dMe.test(e):!0}var Qse=["http:","https:","mailto:"];function hMe(t){let e=LC(t,!0);if(e.hostname&&(!e.protocol||Qse.indexOf(e.protocol)>=0))try{e.hostname=kB.toASCII(e.hostname)}catch{}return jN(ab(e))}function gMe(t){let e=LC(t,!0);if(e.hostname&&(!e.protocol||Qse.indexOf(e.protocol)>=0))try{e.hostname=kB.toUnicode(e.hostname)}catch{}return kC(ab(e),kC.defaultChars+"%")}function Fc(t,e){if(!(this instanceof Fc))return new Fc(t,e);e||QN(t)||(e=t||{},t="default"),this.inline=new Ose,this.block=new Pse,this.core=new bse,this.renderer=new mse,this.linkify=new qse,this.validateLink=mMe,this.normalizeLink=hMe,this.normalizeLinkText=gMe,this.utils=qU,this.helpers=ub({},VU),this.options={},this.configure(t),e&&this.set(e)}Fc.prototype.set=function(t){return ub(this.options,t),this};Fc.prototype.configure=function(t){let e=this;if(QN(t)){let r=t;if(t=fMe[r],!t)throw new Error('Wrong `markdown-it` preset "'+r+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};Fc.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));let n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};Fc.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));let n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};Fc.prototype.use=function(t){let e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Fc.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");let r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};Fc.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Fc.prototype.parseInline=function(t,e){let r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};Fc.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var LB=Fc;function Li(t,e,r=!0){let n=e.matchAll(/^\s*(```+)/gm),i=Math.max(3,...Array.from(n,s=>s[1].length+1)),o="`".repeat(i);return`${o}${t}
${r?e.trim():e}
${o}`}function Uc(t){let e=[],n=new LB().parse(t,{});for(let i of Jse(n))i.map&&i.type==="fence"&&e.push({startMarkup:i.markup,code:i.content.replace(/\n$/,""),language:i.info.trim(),startLine:i.map[0],endLine:i.map[1]});return e}function*Jse(t){for(let e of t)e.children&&(yield*Jse(e.children)),yield e}var eae=Ie(require("path"));var eo=class extends Ue{render(){return vscpp(vscppf,null,"```",this.props.languageId??"",vscpp("br",null),this.props.code&&vscpp(vscppf,null,this.props.code,vscpp("br",null)),"```")}};var Zse=Ie(require("path"));var iD=class extends Ue{render(e,r){let n=this.accessor.get(Wr).activeTextEditor,i=this.accessor.get(Ar);if(n&&i.isIgnored(n.document.uri,{includeCopilotIgnore:!0,includeGitIgnore:!1}))return;let o=n?.visibleRanges[0];if(o){if(!n.selection.isEmpty)return;let s=[{uri:n.document.uri,version:n.document.version,ranges:[o]}],a=[new go({uri:n.document.uri,range:o})];return vscpp(vscppf,null,vscpp("usedContext",{value:s}),vscpp("references",{value:a}),vscpp(Le,{priority:this.props.priority},"Excerpt from active file ",Zse.basename(n.document.uri.path),", lines ",o.start.line+1," to ",o.end.line+1,":",vscpp("br",null),vscpp(eo,{code:n.document.getText(o),languageId:n.document.languageId}),vscpp("br",null),vscpp("br",null),n.selection.isSingleLine&&vscpp(vscppf,null,"The cursor is on line: ",n.selection.start.line)))}}};var to=class t extends Ue{constructor(){super(...arguments);this.fallBackToCurrentEditorContext=!1}static{this.variableInfo={name:"selection",description:"The current selection in the active editor",defaultEnablement:!0}}async prepare(r){this.fallBackToCurrentEditorContext=await this.accessor.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.currentEditorImplicitContext",!0)??!1}render(r,n){let i=t.getCurrentSelection(this.accessor.get(Wr));if(!i)return this.fallBackToCurrentEditorContext?vscpp(iD,null):void 0;if(this.accessor.get(Ar).isIgnored(i.activeDocument.uri,{includeCopilotIgnore:!0,includeGitIgnore:!1}))return;let s=[{uri:i.activeDocument.uri,version:i.activeDocument.version,ranges:[i.range]}],a=[new go(new J1(i.activeDocument.uri,i.range))];return vscpp(vscppf,null,vscpp("usedContext",{value:s}),vscpp("references",{value:a}),vscpp(Le,{priority:this.props.priority},"Active selection:",vscpp("br",null),vscpp("br",null),vscpp("br",null),i.fileName&&vscpp(vscppf,null,"From the file: ",eae.basename(i.fileName),vscpp("br",null)),vscpp(eo,{code:i.selectedText,languageId:i.languageId}),vscpp("br",null),vscpp("br",null)))}static getCurrentSelection(r){let n=r.activeTextEditor,i=n?.document;if(i){let o=n.selection;if(o&&!o.isEmpty){let s=i.languageId,a=i.getText(o);return{languageId:s,selectedText:a,activeDocument:i,range:o,fileName:i.fileName}}}}};var UC=class{constructor(){this.kind="current-selection";this.variableInfo=to.variableInfo;this.metaContextResolverInfo={description:"Active selection."}}async resolveContext(e,r){let{messages:n,references:i,usedContext:o}=await Gl(e,r.endpoint,to,{});if(n.length>0)return{kind:this.kind,userMessages:n.map(s=>s.content),usedContext:o,references:i}}static formatSelection(e){return`

${e.fileName?`From the file: ${tae.basename(e.fileName)}
`:""}${Li(e.languageId,e.selectedText)}

`}},db=Gt.register(new UC);var mb=class extends Ue{async prepare(){let e={implementations:[],activeDocument:void 0},r=to.getCurrentSelection(this.accessor.get(Wr)),n=this.accessor.get(Ar);if(!r||n.isIgnored(r.activeDocument.uri,{includeCopilotIgnore:!0,includeGitIgnore:!1}))return e;let i=r.activeDocument,o=this.accessor.get(vo).extensionMode===pv.Test?0:200,s=[];for(let{header:a,findImpls:u}of[{header:"Relevant function implementations",findImpls:poe},{header:"Relevant class declarations",findImpls:doe},{header:"Relevant type declarations",findImpls:moe}])s.push([a,await u(this.accessor,i,r.range,o)]);return{implementations:s,activeDocument:i}}render(e,r){if(!e.implementations.length||!e.activeDocument)return;let n=[],i=[],o=[];for(let[s,a]of e.implementations){let{references:u,usedContext:c,text:l}=vMe(e.activeDocument,a);if(l.length===0)continue;let f=vscpp(Le,{priority:this.props.priority},s,":",vscpp("br",null),vscpp("br",null),l.map(p=>vscpp(vscppf,null,vscpp(eo,{code:p,languageId:e.activeDocument?.languageId}),vscpp("br",null))));n.push(f),i.push(...u),o.push(...c)}return vscpp(vscppf,null,vscpp("usedContext",{value:o}),vscpp("references",{value:i}),...n)}};function vMe(t,e){let r=[],n=new Map,i=new Set,o=[];for(let s of e){let a=s.uri??t.uri,u=s.range??new ze(t.positionAt(s.startIndex),t.positionAt(s.endIndex)),c=`${a.toString()}-${u.start.line}-${u.start.character}-${u.end.line}-${u.end.character}`;if(i.has(c))continue;i.add(c),r.push(new go(new J1(a,u))),o.push(s.text);let[l,f]=n.get(a)??[s.version??t.version,[]];f.push(u),n.set(a,[l,f])}return{references:r,usedContext:[...n.entries()].map(([s,[a,u]])=>({uri:s,version:a,ranges:u})),text:o}}var OB=class{constructor(){this.kind="current-selection-implementations";this.metaContextResolverInfo={description:"Relevant implementations referenced in active selection."}}async resolveContext(e,r,n,i){let{references:o,messages:s,usedContext:a}=await Gl(e,r.endpoint,mb,{});return{kind:this.kind,references:o,userMessages:s.map(u=>u.content),usedContext:a}}},HIt=Gt.register(new OB);var $l=class extends fi{};var MB=class{constructor(){this.kind="debug-console-output";this.variableInfo={name:"debugConsole",description:"The output in the debug console",defaultEnablement:!1};this.metaContextResolverInfo={description:"Debug console output."}}async resolveContext(e){return{kind:this.kind,userMessages:[`Debug console output:
`+e.get($l).consoleOutput]}}},KIt=Gt.register(new MB);var di=class{constructor(e){this._ignoreService=e}waitForNewDiagnostics(e,r,n=5e3){if(this._ignoreService.isCopilotIgnored(e))return Promise.resolve([]);let i,o,s;return new Promise(a=>{i=r.onCancellationRequested(()=>a([])),s=setTimeout(()=>a(this.getDiagnostics(e)),n),o=this.onDidChangeDiagnostics(u=>{for(let c of u.uris)if(eoe(c,e)){a(this.getDiagnostics(e));break}})}).finally(()=>{i.dispose(),o.dispose(),clearTimeout(s)})}};function oD(t){return t.map(e=>e.range).reduce((e,r)=>e.union(r))}function rae(t){return t.severity===EC.Error}var _Me=200,nae=300,Wl=class extends Ue{render(e,r){let{diagnostics:n,documentContext:i}=this.props,o,s=(a,u)=>{let c=i.document.getText(new ze(a.start.line,0,a.end.line+1,0)).trim();return c.length>0&&c.length<u?c:""};return this.props.diagnostics.length>0&&vscpp(Le,null,"The code has the following ",n[0].source," problems",n.map((a,u)=>vscpp(vscppf,null,vscpp("br",null),"Problem ",u+1,":",vscpp("br",null),(o=s(a.range,_Me))&&vscpp(vscppf,null,"This code",vscpp("br",null),vscpp(eo,{code:o}),vscpp("br",null),"has the problem reported:",vscpp("br",null)),vscpp(eo,{code:a.message}),vscpp(BC,{diagnostic:a}))))}},BC=class extends Ue{async prepare(){let e=this.accessor.get(ot),r=this.accessor.get(qn);return{info:await yMe(e,r,this.props.diagnostic.relatedInformation)}}render(e,r){return e.info?vscpp(vscppf,null,"This diagnostic has some related code:",vscpp("br",null),e.info):void 0}};async function yMe(t,e,r){let n=[];if(r)for(let i of r)try{let o=i.location,s=await t.openTextDocument(o.uri),a=o.range,u=e.getTreeSitterAST(s),c;if(u){let l=wN(a),f=await u.getCoarseParentScope(l);c=s.getText(AN(f))}(!c||c.length>nae)&&(c=s.getText(a)),c.length<=nae&&n.push(Li("",c))}catch{}return n.join(`
`)}function sD(t,e,r,n){let i=t.modelMaxPromptTokens*4/3,o=new qs(i),s=e.document,a=e.language,u=new _o(o,s,a,"ed8c6549bwf9"),c=new _o(o,s,a,"abpxx6d04wxr"),l=new _o(o,s,a,"be15d9bcejpp"),f=()=>(c.trim(),u.trim(),l.trim(),{contextInfo:{language:a,above:c,range:u,below:l,outlineAbove:"",outlineBelow:""},tracker:o});if(!bMe(u,r,n))return f();let m={aboveLineIndex:n.start.line-1,belowLineIndex:n.end.line+1,minimumLineIndex:0,maximumLineIndex:s.lineCount-1};return wU(m,c,l),f()}function bMe(t,e,r){let n=Math.floor((e.start.line+e.end.line)/2),i=Math.max(n-r.start.line,r.end.line-n);t.appendLine(n);for(let o=1;o<=i;o++){let s=n-o,a=n+o;if(s>=r.start.line&&!t.prependLine(s)||a<=r.end.line&&!t.appendLine(a))return!1}return!0}function Kl(t,e,r,n){let i=t.getDiagnostics(e).filter(o=>!!o.range.intersection(r));if(n){let o=i.filter(s=>n.includes(s.message));if(o.length>0)return o}return i}async function aD(t,e,r){let n=wN(e),i=Math.max(r,e.end.line-e.start.line+r),o=await t.getFixSelectionOfInterest(n,i);return AN(o)}var FB=class{constructor(){this.kind="diagnostics";this.metaContextResolverInfo={description:"Diagnostics in the active editor."}}async resolveContext(e,r,n){let i=r.documentContext;if(!i)return;let o=Kl(e.get(di),i.document.uri,i.selection,r.message),{messages:s,usedContext:a}=await Gl(e,r.endpoint,Wl,{documentContext:i,diagnostics:o});return{kind:this.kind,userMessages:s.map(u=>u.content),usedContext:a}}},S2t=Gt.register(new FB);var Oi=Wt("IEmbeddingsComputer"),xMe=.72;function iae(t,e,r,n=xMe){return e.flatMap(i=>{let o=0;for(let s of t){let a=i.embedding.reduce((u,c,l)=>u+c*s[l],0);o=Math.max(o,a)}return{score:o,item:i}}).filter(i=>i.score>n).sort((i,o)=>o.score-i.score).slice(0,r).map(i=>i.item)}function Xl(t,e){let r=t.reduce((o,s,a)=>o+s*e[a],0),n=Math.sqrt(t.reduce((o,s)=>o+s*s,0)),i=Math.sqrt(e.reduce((o,s)=>o+s*s,0));return r/(n*i)}var Hs=class{};var hb=class{constructor(e,r,n,i){this.accessor=e;this.cacheType=r;this.cacheKey=n;this.cacheVersion=i;this.cacheVersionKey=`${n}-version`,this.fileSystem=e.get(Zi)}get cacheStorageUri(){return this.cacheType===2?this.accessor.get(vo).storageUri:this.accessor.get(vo).globalStorageUri}get cacheVersionMementoStorage(){return this.cacheType===2?this.accessor.get(vo).workspaceState:this.accessor.get(vo).globalState}async updateCache(e){if(!this.cacheStorageUri||!this.fileSystem.isWritableFileSystem(this.cacheStorageUri.scheme))return;try{await this.fileSystem.stat(this.cacheStorageUri)}catch{await this.fileSystem.createDirectory(this.cacheStorageUri)}await this.cacheVersionMementoStorage.update(this.cacheVersionKey,this.cacheVersion),this.cacheVersionMementoStorage.get(this.cacheKey)&&await this.cacheVersionMementoStorage.update(this.cacheKey,void 0);let n=Pt.joinPath(this.cacheStorageUri,`${this.cacheKey}.json`);try{await(e===void 0?this.fileSystem.delete(n,{useTrash:!1}):this.fileSystem.writeFile(n,Buffer.from(JSON.stringify(e))))}catch{e!==void 0&&console.error(`Failed to write embeddings cache to ${n}`)}}async getCache(){if(!(!this.cacheStorageUri||this.cacheVersionMementoStorage.get(this.cacheVersionKey)!==this.cacheVersion))try{let r=await this.fileSystem.readFile(Pt.joinPath(this.cacheStorageUri,`${this.cacheKey}.json`));return JSON.parse(r.toString())}catch{return}}async clearCache(){return this.updateCache(void 0)}},Ql=class t extends hb{constructor(r,n,i,o,s){super(r,n,i,o);this.fetcher=r.get(Yr),this.remoteCacheVersionKey=`${i}-version-remote`,this.remoteCacheURL=t.calculateRemoteCDNURL(s,o),this.remoteCacheLatestUpdateURL=t.calculateRemoteCDNLatestURL(s,o)}async fetchRemoteCache(){if(this._remoteCache)return this._remoteCache;try{let r=await this.fetcher.fetch(this.remoteCacheURL,{method:"GET"});if(r.ok)return this._remoteCache=await r.json(),this._remoteCache;console.error(`Failed to fetch remote embeddings cache from ${this.remoteCacheURL}`);return}catch{console.error(`Failed to fetch remote embeddings cache from ${this.remoteCacheURL}`);return}}async fetchRemoteCacheLatest(){try{let r=await this.fetcher.fetch(this.remoteCacheLatestUpdateURL,{method:"GET"});if(r.ok)return r.text();console.error(`Failed to fetch remote embeddings cache from ${this.remoteCacheLatestUpdateURL}`);return}catch{console.error(`Failed to fetch remote embeddings cache from ${this.remoteCacheLatestUpdateURL}`);return}}async getCache(){let r=await this.fetchRemoteCacheLatest(),n=await super.getCache();if(n&&r===this.cacheVersionMementoStorage.get(this.remoteCacheVersionKey))return n;let i=await this.fetchRemoteCache();return await this.cacheVersionMementoStorage.update(this.remoteCacheVersionKey,r),await this.updateCache(i),i}async updateCache(r,n){if(r===void 0)return super.updateCache(r);if(!await super.getCache()||n)return super.updateCache(r)}static calculateRemoteCDNURL(r,n){return`https://embeddings.vscode-cdn.net/embeddings/v${n}/${r}/core.json`}static calculateRemoteCDNLatestURL(r,n){return`https://embeddings.vscode-cdn.net/embeddings/v${n}/${r}/latest.txt`}},UB=class t extends Ql{constructor(r,n,i,o,s){super(r,n,i,o,s);this._wasRemoteExtensionCacheUpdated=!1;this.baseExtensionCDNURL=t.calculateBaseRemoteExtensionCDNURL(s,o)}constructExposedCache(){if(!this._remoteExtensionCache)return;let r={...this._remoteExtensionCache.core};for(let n in this._remoteExtensionCache.extensions){let i=this._remoteExtensionCache.extensions[n];for(let o in i)r[o]=i[o]}return r}async fetchRemoteExtensionCache(r){let n=`${this.baseExtensionCDNURL}/${r}.json`;try{let i=await this.fetcher.fetch(n,{method:"GET"});if(i.ok)return await i.json();if(i.status===404)return{};console.error(`Failed to fetch remote embeddings cache from ${n}`);return}catch{console.error(`Failed to fetch remote embeddings cache from ${n}`);return}}async getCache(){let r=await super.getCache();if(r===void 0)return;let n={core:{},extensions:{}};r&&t.isEmbeddingsCacheEntriesWithExtensions(r)?n=r:n={core:r,extensions:{}};let i=t.getInstalledExtensionIds(this.accessor),o=!1;for(let a in n.extensions)i.includes(a)||(delete n.extensions[a],o=!0);let s=i.filter(a=>!(a in n.extensions)||n.extensions[a]===void 0);for(let a of s){let u=await this.fetchRemoteExtensionCache(a);u&&(n.extensions[a]=u)}return this._remoteExtensionCache=n,this._wasRemoteExtensionCacheUpdated=s.length>0||o,this.constructExposedCache()}async updateCache(r,n){let i=r?super.updateCache(this._remoteExtensionCache,n||this._wasRemoteExtensionCacheUpdated):super.updateCache(r,n||this._wasRemoteExtensionCacheUpdated);return this._wasRemoteExtensionCacheUpdated=!1,i}static isEmbeddingsCacheEntriesWithExtensions(r){return"core"in r&&"extensions"in r}static getInstalledExtensionIds(r){return r.get(Hs).getAllExtensions().filter(n=>!n.id.startsWith("vscode")).map(n=>n.id)}static calculateBaseRemoteExtensionCDNURL(r,n){return`https://embeddings.vscode-cdn.net/embeddings/v${n}/${r}`}},cD=class{constructor(e,r,n,i,o,s,a){this.cacheKey=i;this.embeddingsComputer=s;this._isIndexLoaded=!1;this._logger=r.get(Ae).getPromptResponseLogger(e),this._items=new Map,a?.type&&!a.supportsExtensions?this._embeddingsCache=new Ql(r,n,i,o,a.type):a?.type&&a.supportsExtensions?this._embeddingsCache=new UB(r,n,i,o,a.type):this._embeddingsCache=new hb(r,n,i,o)}get isIndexLoaded(){return this._isIndexLoaded}set isIndexLoaded(e){this._isIndexLoaded=e}async rebuildCache(){return await this._embeddingsCache.clearCache(),this._items.clear(),this.calculateEmbeddings()}nClosestValues(e,r){let n=Array.from(this._items.values()).map(i=>{if(!i.embedding)return{item:i,similarity:0};let o=Xl(e,i.embedding);return{item:i,similarity:o}});return n=n.filter(i=>i.similarity>0),n.sort((i,o)=>o.similarity-i.similarity),n.slice(0,r).map(i=>i.item)}hasItem(e){return this._items.has(e)}getItem(e){return this._items.get(e)}async calculateEmbeddings(){return this._calculationPromise?this._calculationPromise:(this._calculationPromise=this._calculateEmbeddings(),this._calculationPromise.then(()=>this._calculationPromise=void 0))}async _calculateEmbeddings(){let e=Date.now(),r=await this.getLatestItems(),n=await this._embeddingsCache.getCache(),i=new Map;for(let o of r){let s=o,a=this._items.get(o.key),u=o.key;a?.embedding?s=a:n&&n[u]&&(s={...o,...n[u]}),i.set(u,s)}this._items=i,await this._embeddingsCache.updateCache(n),this._logger.debug(`Embeddings for ${this.cacheKey} calculated in ${Date.now()-e}ms`),this.isIndexLoaded=!0}async fetchEmbeddingsForItems(e){return this.embeddingsComputer.computeEmbeddings(e.map(r=>this.getEmbeddingQueryString(r)),void 0)}};function Gp(t){let e=t.split(".");return`${e[0]}.${e[1]}`}var BB=class{constructor(e){let r=Gp(e.get(Vt).getEditorInfo().version);this.embeddingsCache=new Ql(e,1,"api",r,"api")}async updateIndex(){this.apiChunks=await this.embeddingsCache.getCache()}nClosestValues(e,r,n=0){if(!this.apiChunks)return[];let i=this.apiChunks.map(o=>{if(!o.embedding)return{text:o.text,similarity:0};let s=Xl(e,o.embedding);return{text:this.toContextString(o),similarity:s}});return i=i.filter(o=>o.similarity>n),i.sort((o,s)=>s.similarity-o.similarity),i.slice(0,r).map(o=>o.text)}toContextString(e){return e.type==="code"?`Snippet from vscode.d.ts:
${Li(e.lang,e.text)}`:e.type==="command"?`${e.text}`:e.type==="documentationCodeBlock"?`Example code from documentation:
${Li(e.lang,e.text)}`:""}},qB=class{constructor(){this.kind="extension-api"}async resolveContext(e,r,n){this.embeddingComputer??=e.get(Oi);let i=r.message;if(!i||(this.apiEmbeddingsIndex||(this.apiEmbeddingsIndex=new BB(e)),await this.apiEmbeddingsIndex.updateIndex(),n.isCancellationRequested))return;let o=await this.embeddingComputer?.computeEmbeddings([i],n);if(!n.isCancellationRequested&&o&&o.length>0){let s=this.apiEmbeddingsIndex.nClosestValues(o[0],5,.7);if(s.length){let a=["Below are some potentially relevant code samples related to VS Code extension development. You may use information from these samples to help you answer the question if you believe it is relevant:",s.join(`

`)].join(`
`);return{kind:this.kind,userMessages:[a]}}}}},oae=Gt.register(new qB);var HB=class{constructor(e){let r=Gp(e.get(Vt).getEditorInfo().version);this.embeddingsCache=new Ql(e,1,"extensionEmbeddings",r,"extensions")}async updateIndex(){this._embeddings=await this.embeddingsCache.getCache()}nClosestValues(e,r,n=0){if(!this._embeddings)return[];let i=Object.entries(this._embeddings).map(o=>{if(!o[1].embedding)return{key:`${o[1].name}(${o[0]})`,similarity:0};let s=Xl(e,o[1].embedding);return{key:`${o[1].name}(${o[0]})`,similarity:s}});return i=i.filter(o=>o.similarity>n),i.sort((o,s)=>s.similarity-o.similarity),i.slice(0,r).map(o=>o.key)}},EMe=`
The current question is related to VS Code extensions. The application is currently open.
If an extension is not a valid answer, but it still relates to VS Code, please still respond.
Please do not guess a response and instead just respond with a polite apology if you are unsure.
If you believe the given context given to you is incorrect or not relevant you may ignore it.
At the end of your response, you must include a section wrapped with [COMMANDS START] and [COMMANDS END] that lists all extension IDs you referenced in your response.
The user cannot see the context you are given, so you must not mention it. If you want to refer to it, you must include it in your reply.
`.trimStart(),GB=class{constructor(){this.kind="extensions"}async resolveContext(e,r,n){let i=EMe+`

`;this._embeddingCompute??=e.get(Oi);let o=r.message;if(!o||(this._extensionsIndex||(this._extensionsIndex=new HB(e),await this._extensionsIndex.updateIndex()),n.isCancellationRequested))return;let s=await this._embeddingCompute?.computeEmbeddings([o],n);if(!(!s||n.isCancellationRequested)&&s&&s.length>0){let a=this._extensionsIndex.nClosestValues(s[0],5);if(a.length)return i+=`Here are some possible extensions:
`,i+=a.join(`

`),{kind:this.kind,userMessages:[`Relevant information about extensions for VS Code:
`+i]}}}},rwt=Gt.register(new GB);var sae=Ie(require("path"));var ec=Wt("IGitService");function lD(t){if(!t)return;if(t.remoteFetchUrls?.length===1)return jB(t.remoteFetchUrls[0]);let e=t.remotes.findIndex(n=>n===t.upstreamRemote);if(e!==-1){let n=t.remoteFetchUrls?.[e];if(n){let i=jB(n);if(i)return i}}let r=t.remotes.findIndex(n=>n==="origin");if(r!==-1){let n=t.remoteFetchUrls?.[r];if(n){let i=jB(n);if(i)return i}}}function jB(t){t=t.replace(/^git@/,""),t=t.replace(/\.git$/,"");try{let e=Pt.parse(t);return e.authority!=="github.com"&&e.scheme!=="github.com"?void 0:e.path.replace(/^\//,"")}catch{return}}var VB=class{constructor(){this.kind="git-metadata";this.variableInfo={name:"git",description:"Information about the current git repository"};this.metaContextResolverInfo={description:"Metadata about the current git repository."}}async resolveContext(e,r,n){let i=e.get(ot),s=e.get(ec).repositories,a=i.getWorkspaceFolders();if(!s||!a)return;if(a.length>1){let c=r.documentContext?.document.uri??e.get(Wr).activeTextEditor?.document.uri;if(c){let l=i.getWorkspaceFolder(c);if(l){let f=a.findIndex(p=>p.toString()===l.toString());f!==-1&&(s=[s[f]],a=[a[f]])}}}let u=[];for(let c=0;c<s.length;c++){if(n.isCancellationRequested)return;let l=s[c],f=a[c];if(!l)continue;let p=[];p.push(`Workspace Folder: ${sae.basename(f.path)}`),p.push("```"),l.headBranchName?(p.push(`Current Branch name: ${l.headBranchName}`),p.push(`Upstream: ${l.upstreamBranchName?l.upstreamBranchName:"none"}`)):p.push("Detached HEAD?: yes"),p.push(`Is currently rebasing?: ${l.isRebasing?"yes":"no"}`),p.push(`Remotes: ${(l.remotes??[]).join(", ")}`),p.push("```"),u.push(p.join(`
`))}return{kind:this.kind,userMessages:[`Metadata about the current git repository:
`+u.join(`
`)]}}},dwt=Gt.register(new VB);var _s=class extends fi{};var zB=class{constructor(){this.kind="terminal-buffer";this.variableInfo={name:"terminalBuffer",description:"The active terminal's buffer",defaultEnablement:!1};this.metaContextResolverInfo={description:"The active terminal's buffer."}}async resolveContext(e){let r=e.get(_s).terminalBuffer;return{kind:this.kind,userMessages:[`The active terminal's buffer:
`+r]}}},aae=Gt.register(new zB);var YB=class{constructor(){this.kind="terminal-last-command";this.variableInfo={name:"terminalLastCommand",description:"The active terminal's last run command",defaultEnablement:!0};this.metaContextResolverInfo={description:"The active terminal's last run command."}}async resolveContext(e){let r=e.get(_s).terminalLastCommand;if(!r)return;let n=[];r.commandLine&&(n.push("The following is the last command run in the terminal:"),n.push(r.commandLine)),r.cwd&&(n.push("It was run in the directory:"),n.push(typeof r.cwd=="object"?r.cwd.toString():r.cwd)),r.output&&(n.push("It has the following output:"),n.push(r.output));let i=n.join(`
`);return{kind:this.kind,userMessages:[`The active terminal's last run command:
`+i]}}},cae=Gt.register(new YB);var $B=class{constructor(){this.kind="terminal-selection";this.variableInfo={name:"terminalSelection",description:"The active terminal's selection",defaultEnablement:!0};this.metaContextResolverInfo={description:"The active terminal's selection."}}async resolveContext(e){let r=e.get(_s).terminalSelection;return{kind:this.kind,userMessages:[`The active terminal's selection:
`+r]}}},uae=Gt.register(new $B);var WB=class{constructor(){this.kind="terminal-shell-type";this.variableInfo={name:"terminalShellType"}}async resolveContext(e){let r=e.get(_s).terminalShellType;return{kind:this.kind,userMessages:[`The active terminal's shell type:
`+r]}}},lae=Gt.register(new WB);var wq=Ie(vn());var Cae=Ie(vn());var mi=new class{constructor(){this.commands=new Set}registerCommand(t){this.commands.add(t)}getCommand(t,e){return this.getCommands(e).find(r=>r.commandId===t)}getCommands(t){return Array.from(this.commands.values()).filter(e=>e.locations.includes(t))}};var Jl={workspace:["explain","tests","fix","new","newNotebook","semanticSearch"],vscode:["search","api"],terminal:[]};function fae(t){if(Object.keys(Jl).includes(t))return{agent:t};for(let[e,r]of Object.entries(Jl))if(r.includes(t))return{agent:e,command:t}}function KB(){return`
You are an AI programming assistant.
`.trim()}function tc(){return`
When asked for your name, you must respond with "GitHub Copilot".
Follow the user's requirements carefully & to the letter.`.trim()}function jp(){return`
Your expertise is strictly limited to software development topics.
Follow Microsoft content policies.
Avoid content that violates copyrights.
For questions not related to software development, simply give a reminder that you are an AI programming assistant.
Keep your answers short and impersonal.`.trim()}async function TMe(t,e,r){let n=Object.entries(Jl).reduce((i,[o,s])=>{let a=mi.getCommand(o,e)?.intent?.description;i+=`
* ${a}`;for(let u of s){let c=mi.getCommand(u,e)?.intent?.description;i+=`
* ${c}`}return i},"You can answer general programming questions and perform the following tasks:");try{n+=`
You use the ${r.model.toUpperCase()} version of OpenAI's GPT models.`}catch{}return n}function SMe(){return`
First think step-by-step - describe your plan for what to build in pseudocode, written out in great detail.
Then output the code in a single code block.
Minimize any other prose.
`.trim()}function yv(){return`
Use Markdown formatting in your answers.
Make sure to include the programming language name at the start of the Markdown code blocks.
Avoid wrapping the whole response in triple backticks.
The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.
The active document is the source code the user is looking at right now.
You can only give one reply for each conversation turn.
`.trim()}async function gb(t,e,r,n={includeCodeGenerationRules:!0,includeCapabilities:!1}){let i=`
${n.roleplay??KB()}
${tc()}
${jp()}
`;return n.roleplay||(i+=`
${(await TMe(t,e,r)).trim()}
`),i+=`
${n.includeCodeGenerationRules?SMe():""}
${yv()}
${Gs(t)}
`.trim(),i}var XB=["auto","en","fr","it","de","es","ru","zh-CN","zh-TW","ja","ko","cs","pt-br","tr","pl"];function Gs(t){let r=t.get(Be).getConfig(qe.LocaleOverride);if(!XB.find(i=>r===i))return"";let n=r!=="auto"?r:t.get(Hs).language;return n==="en"?"":`Respond in the following locale: ${n}`}var Kr=class extends Ue{render(){return vscpp(vscppf,null,jp())}};var Jm=class extends Ue{render(){let e=this.props.language;return vscpp(vscppf,null,"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"Follow the user's requirements carefully & to the letter.",vscpp("br",null),"The user has a ",e.languageId," file opened in a code editor.",vscpp("br",null),"The user includes some code snippets from the file.",vscpp("br",null),"Each code block starts with ``` and ",Hn.forLanguage(e),".",vscpp("br",null),"Answer with a single ",e.languageId," code block.",vscpp("br",null),"If you modify existing code, you will use the ",Di.begin(e)," and ",Di.end(e)," markers.")}};var fD=class extends Ue{render(e,r){if(Fr(this.props.documentContext.document.uri))throw Ho("InlineChatBasePrompt should not be used with a notebook!");let n=this.props.documentContext.language;return vscpp(vscppf,null,vscpp(_r,null,vscpp(Jm,{language:n}),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),vscpp(sb,{documentContext:this.props.documentContext}),vscpp(Le,null,this.props.query))}};var vb=class{constructor(e,r,n,i){this.originalStart=e,this.originalLength=r,this.modifiedStart=n,this.modifiedLength=i}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}},qC=class{constructor(e){this.lines=e}getElements(){let e=[];for(let r=0,n=this.lines.length;r<n;r++)e[r]=this.lines[r].trim();return e}getCharCount(){let e=0;for(let r of this.lines)e+=r.length;return e}},Zm=class{static Assert(e,r){if(!e)throw new Error(r)}},eh=class{static Copy(e,r,n,i,o){for(let s=0;s<o;s++)n[i+s]=e[r+s]}static Copy2(e,r,n,i,o){for(let s=0;s<o;s++)n[i+s]=e[r+s]}};var pD=class{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new vb(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,r){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_originalCount++}AddModifiedElement(e,r){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,r),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}},dD=class t{constructor(e,r){let[n,i]=t._getElements(e),[o,s]=t._getElements(r);this._originalStringElements=n,this._originalElementsOrHash=i,this._modifiedStringElements=o,this._modifiedElementsOrHash=s,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _getElements(e){let r=e.getElements(),n=new Int32Array(r.length);for(let i=0,o=r.length;i<o;i++)n[i]=this._stringHash(r[i],0);return[r,n]}static _numberHash(e,r){return(r<<5)-r+e|0}static _stringHash(e,r){r=this._numberHash(149417,r);for(let n=0,i=e.length;n<i;n++)r=this._numberHash(e.charCodeAt(n),r);return r}ElementsAreEqual(e,r){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[r]?!1:this._originalStringElements[e]===this._modifiedStringElements[r]}ComputeDiff(){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1)}_ComputeDiff(e,r,n,i){return this.ComputeDiffRecursive(e,r,n,i)}ComputeDiffRecursive(e,r,n,i){for(;e<=r&&n<=i&&this.ElementsAreEqual(e,n);)e++,n++;for(;r>=e&&i>=n&&this.ElementsAreEqual(r,i);)r--,i--;if(e>r||n>i){let l;return n<=i?(Zm.Assert(e===r+1,"originalStart should only be one more than originalEnd"),l=[new vb(e,0,n,i-n+1)]):e<=r?(Zm.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),l=[new vb(e,r-e+1,n,0)]):(Zm.Assert(e===r+1,"originalStart should only be one more than originalEnd"),Zm.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),l=[]),l}let o=[0],s=[0],a=this.ComputeRecursionPoint(e,r,n,i,o,s),u=o[0],c=s[0];if(a!==null)return a;{let l=this.ComputeDiffRecursive(e,u,n,c),f=this.ComputeDiffRecursive(u+1,r,c+1,i);return this.ConcatenateChanges(l,f)}}WALKTRACE(e,r,n,i,o,s,a,u,c,l,f,p,m,d,h,g,v){let _=null,y=null,x=new pD,b=r,T=n,k=m[0]-g[0]-i,U=-1073741824,z=this.m_forwardHistory.length-1;do{let D=k+e;D===b||D<T&&c[D-1]<c[D+1]?(f=c[D+1],d=f-k-i,f<U&&x.MarkNextChange(),U=f,x.AddModifiedElement(f+1,d),k=D+1-e):(f=c[D-1]+1,d=f-k-i,f<U&&x.MarkNextChange(),U=f-1,x.AddOriginalElement(f,d+1),k=D-1-e),z>=0&&(c=this.m_forwardHistory[z],e=c[0],b=1,T=c.length-1)}while(--z>=-1);_=x.getReverseChanges(),x=new pD,b=s,T=a,k=m[0]-g[0]-u,U=1073741824,z=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{let D=k+o;D===b||D<T&&l[D-1]>=l[D+1]?(f=l[D+1]-1,d=f-k-u,f>U&&x.MarkNextChange(),U=f+1,x.AddOriginalElement(f+1,d+1),k=D+1-o):(f=l[D-1],d=f-k-u,f>U&&x.MarkNextChange(),U=f,x.AddModifiedElement(f+1,d+1),k=D-1-o),z>=0&&(l=this.m_reverseHistory[z],o=l[0],b=1,T=l.length-1)}while(--z>=-1);return y=x.getChanges(),this.ConcatenateChanges(_,y)}ComputeRecursionPoint(e,r,n,i,o,s){let a=0,u=0,c=0,l=0,f=0,p=0;e--,n--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];let m=r-e+(i-n),d=m+1,h=new Int32Array(d),g=new Int32Array(d),v=i-n,_=r-e,y=e-n,x=r-i,T=(_-v)%2===0;h[v]=e,g[_]=r;for(let k=1;k<=m/2+1;k++){let U=0,z=0;c=this.ClipDiagonalBound(v-k,k,v,d),l=this.ClipDiagonalBound(v+k,k,v,d);for(let D=c;D<=l;D+=2){D===c||D<l&&h[D-1]<h[D+1]?a=h[D+1]:a=h[D-1]+1,u=a-(D-v)-y;let fe=a;for(;a<r&&u<i&&this.ElementsAreEqual(a+1,u+1);)a++,u++;if(h[D]=a,a+u>U+z&&(U=a,z=u),!T&&Math.abs(D-_)<=k-1&&a>=g[D])return o[0]=a,s[0]=u,fe<=g[D]&&1447>0&&k<=1448?this.WALKTRACE(v,c,l,y,_,f,p,x,h,g,a,r,o,u,i,s,T):null}f=this.ClipDiagonalBound(_-k,k,_,d),p=this.ClipDiagonalBound(_+k,k,_,d);for(let D=f;D<=p;D+=2){D===f||D<p&&g[D-1]>=g[D+1]?a=g[D+1]-1:a=g[D-1],u=a-(D-_)-x;let fe=a;for(;a>e&&u>n&&this.ElementsAreEqual(a,u);)a--,u--;if(g[D]=a,T&&Math.abs(D-v)<=k&&a<=h[D])return o[0]=a,s[0]=u,fe>=h[D]&&1447>0&&k<=1448?this.WALKTRACE(v,c,l,y,_,f,p,x,h,g,a,r,o,u,i,s,T):null}if(k<=1447){let D=new Int32Array(l-c+2);D[0]=v-c+1,eh.Copy2(h,c,D,1,l-c+1),this.m_forwardHistory.push(D),D=new Int32Array(p-f+2),D[0]=_-f+1,eh.Copy2(g,f,D,1,p-f+1),this.m_reverseHistory.push(D)}}return this.WALKTRACE(v,c,l,y,_,f,p,x,h,g,a,r,o,u,i,s,T)}ConcatenateChanges(e,r){let n=[];if(e.length===0||r.length===0)return r.length>0?r:e;if(this.ChangesOverlap(e[e.length-1],r[0],n)){let i=new Array(e.length+r.length-1);return eh.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],eh.Copy(r,1,i,e.length,r.length-1),i}else{let i=new Array(e.length+r.length);return eh.Copy(e,0,i,0,e.length),eh.Copy(r,0,i,e.length,r.length),i}}ChangesOverlap(e,r,n){if(Zm.Assert(e.originalStart<=r.originalStart,"Left change is not less than or equal to right change"),Zm.Assert(e.modifiedStart<=r.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=r.originalStart||e.modifiedStart+e.modifiedLength>=r.modifiedStart){let i=e.originalStart,o=e.originalLength,s=e.modifiedStart,a=e.modifiedLength;return e.originalStart+e.originalLength>=r.originalStart&&(o=r.originalStart+r.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=r.modifiedStart&&(a=r.modifiedStart+r.modifiedLength-e.modifiedStart),n[0]=new vb(i,o,s,a),!0}else return n[0]=null,!1}ClipDiagonalBound(e,r,n,i){if(e>=0&&e<i)return e;let o=n,s=i-n-1,a=r%2===0;if(e<0){let u=o%2===0;return a===u?0:1}else{let u=s%2===0;return a===u?i-1:i-2}}};var QB=class{constructor(){this.spacesDiff=0;this.looksLikeAlignment=!1}};function CMe(t,e,r,n,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<n;o++){let p=t.charCodeAt(o),m=r.charCodeAt(o);if(p!==m)break}let s=0,a=0;for(let p=o;p<e;p++)t.charCodeAt(p)===32?s++:a++;let u=0,c=0;for(let p=o;p<n;p++)r.charCodeAt(p)===32?u++:c++;if(s>0&&a>0||u>0&&c>0)return;let l=Math.abs(a-c),f=Math.abs(s-u);if(l===0){i.spacesDiff=f,f>0&&0<=u-1&&u-1<t.length&&u<r.length&&r.charCodeAt(u)!==32&&t.charCodeAt(u-1)===32&&t.charCodeAt(t.length-1)===44&&(i.looksLikeAlignment=!0);return}if(f%l===0){i.spacesDiff=f/l;return}}function HC(t,e,r){let n=Math.min(t.getLineCount(),1e4),i=0,o=0,s="",a=0,u=[2,4,6,8,3,5,7],c=8,l=[0,0,0,0,0,0,0,0,0],f=new QB;for(let d=1;d<=n;d++){let h=t.getLineLength(d),g=t.getLineContent(d),v=!1,_=0,y=0,x=0;for(let T=0,k=h;T<k;T++){let U=g.charCodeAt(T);if(U===9)x++;else if(U===32)y++;else{v=!0,_=T;break}}if(!v||(x>0?i++:y>1&&o++,CMe(s,a,g,_,f),f.looksLikeAlignment&&!(r&&e===f.spacesDiff)))continue;let b=f.spacesDiff;b<=c&&l[b]++,s=g,a=_}let p=r;i!==o&&(p=i<o);let m=e;if(p){let d=p?0:.1*n;u.forEach(h=>{let g=l[h];g>d&&(d=g,m=h)}),m===4&&l[4]>0&&l[2]>0&&l[2]>=l[4]/2&&(m=2)}return{insertSpaces:p,tabSize:m}}function IMe(t,e){let r=0,n=0,i=t.length;for(;n<i;){let o=t.charCodeAt(n);if(o===32)r++;else if(o===9)r=r-r%e+e;else break;n++}return n===i?~r:r}function mD(t,e){let r=IMe(t,e);return r<0?Math.floor(~r/e):Math.floor(r/e)}function wMe(t,e){return t+e-t%e}function AMe(t,e,r){let n=0;for(let o=0;o<t.length;o++)t.charAt(o)==="	"?n=wMe(n,e):n++;let i="";if(!r){let o=Math.floor(n/e);n=n%e;for(let s=0;s<o;s++)i+="	"}for(let o=0;o<n;o++)i+=" ";return i}function JB(t,e,r){let n=Yie(t);return n===-1&&(n=t.length),AMe(t.substring(0,n),e,r)+t.substring(n)}var js=class{constructor(e,r,n){this.firstLineIndex=e;this.endLineIndex=r;this.lines=n}toTextEdit(){let e=this.lines.length>0?this.lines.join(`
`)+`
`:"";return Vo.replace(new ze(this.firstLineIndex,0,this.endLineIndex,0),e)}},GC;(e=>{function t(r){return r.length===0?[]:r.split(/\r\n|\r|\n/g)}e.fromString=t})(GC||={});var Vp=class t{constructor(e,r){this.text=e;this.languageId=r}static fromDocumentContext(e){return new t(e.document.getText(),e.language.languageId)}};function bv(t,e,r,n,i,o){let s=GC.fromString(r);if(s.length===e.range.lines.length&&e.range.lines.every((f,p)=>f===s[p]))return[];let a=[],u=!1;for(let f of s){let p=hD(e,f);p===null?a.push(f):(p.type==="fakestart"||p.type==="fakend")&&(u=!0)}let c;if(n===4)c=new js(e.range.lastLineIndex,e.range.lastLineIndex,s);else{let f=PMe(e,s,i),p=FMe(t,e,a,i);if(!f)c=p;else if(!p)c=f;else{let m=pae(f);pae(p)<m?c=p:c=f}c||(c=RMe(t,e,n,i,u,a))}o&&(c=_ae(o,c,i));let l=[c];return o&&(l=yae(o,l)),l.map(f=>f.toTextEdit())}function vae(t,e,r,n){let i=n.text.split(/\r\n|\r|\n/g),o=GC.fromString(t);if(/^\s*$/.test(i[e.line])){let s=new js(e.line,e.line,o);return s=_ae(n,s,r),yae(n,[s]).map(u=>u.toTextEdit())}else{let s=o.length>1;return[Vo.insert(e,s?`
`+t:t)]}}function _ae(t,e,r){let n=t.text.split(/\r\n|\r|\n/g),i=n.slice(0,e.firstLineIndex),o=n.slice(e.endLineIndex),s=e.lines.slice(0),[,a]=hae(i,s);a>0&&s.splice(0,a),a>0&&(s=th(s,{whichLine:"bottomMost",lines:i.slice(i.length-a)},r).slice(0));let[u]=hae(s,o);return u>0&&s.splice(s.length-u,u),new js(e.firstLineIndex,e.endLineIndex,s)}function RMe(t,e,r,n,i,o){let s=t.get(Ae).getLogger("editGeneration");return i?(s.info("(case 6) Appending to selected code"),gae(e.range,o,n)):r===3?(s.info("(case 7) Appending to selected code"),gae(e.range,o,n)):r===1?(s.info("(case 8) Prepending to selected code"),HMe(e.range,th(o,e.range.lines.filter(a=>a.trim()!=="").length>0?{whichLine:"topMost",lines:e.range.lines}:{whichLine:"bottomMost",lines:e.above.lines},n))):(s.info("(Default) Replacing selected code"),Zl(e.range,o,n))}function pae(t){let e=t.endLineIndex-t.firstLineIndex,r=t.lines.length;return e+r}function PMe(t,e,r){let n=null,i=[];for(let o of e){let s=hD(t,o);if(s===null){i.push(o);continue}if(n){if(s.type==="end"&&s.endMarker===n)return Zl(n,i,r);if(s.type==="end"&&n===t.above&&s.endMarker===t.range){let a=t.range.clone();return a.mergeFromAbove(t.above.clone()),Zl(a,i,r)}if(s.type==="end"&&n===t.above&&s.endMarker===t.below){let a=t.range.clone();return a.mergeFromAbove(t.above.clone()),a.mergeFromBelow(t.below.clone()),Zl(a,i,r)}}else s.type==="start"&&(n=s.startMarker,i=[])}if(i.length>0&&n)return Zl(n,i,r)}function yae(t,e){let r=[],n=t.text.split(/\r\n|\r|\n/g),i=NMe(n,a=>dae(a,t.languageId)),o=[];for(let a of e){if(a.endLineIndex<=i+1)return e;let u=!1,c=[],l=a.lines;for(let f of l)dae(f,t.languageId)?(o.push(DMe(f)),u=!0):u&&f.length===0||(c.push(f),u=!1);if(!u&&c.length>0){if(a.firstLineIndex<i+1)return e;r.push(new js(a.firstLineIndex,a.endLineIndex,c))}}if(o.length===0)return e;let s=i+1;return r.unshift(new js(s,s,o)),r}function NMe(t,e){for(let r=t.length-1;r>=0;r--)if(e(t[r]))return r;return-1}function DMe(t){return t.replace(/^\s+/g,"")}function dae(t,e){switch(e){case"java":return!!t.match(/^\s*import\s/);case"typescript":case"javascript":return!!t.match(/^\s*import[\s{*]|^\s*[var|const|let].*=\s*require\(/);case"php":return!!t.match(/^\s*use/);case"rust":return!!t.match(/^\s*use\s+[\w:{}, ]+\s*(as\s+\w+)?;/);case"python":return!!t.match(/^\s*from\s+[\w.]+\s+import\s+[\w, *]+$/)||!!t.match(/^\s*import\s+[\w, ]+$/);default:return!1}}var kMe=/^(\t+)/,ZB=new Map;function LMe(t){return ZB.has(t)||ZB.set(t,new RegExp(`^(( {${t}})+)`)),ZB.get(t)}function eq(t,e,r){let n=e?LMe(r):kMe,i=t.match(n);return i?[i[0],i[0].length/(e?r:1)]:["",0]}function OMe(t){let e={getLineCount:function(){return t.length},getLineLength:function(o){return t[o-1].length},getLineContent:function(o){return t[o-1]}},{insertSpaces:r,tabSize:n}=HC(e,4,!1),i=Number.MAX_VALUE;for(let o of t){if(/^\s*$/.test(o))continue;let[,s]=eq(o,r,n);i=Math.min(i,s)}return{insertSpaces:r,tabSize:n,minIndentLevel:i}}function mae(t,e){if(e===0)return"";if(t===" ")switch(e){case 2:return"  ";case 4:return"    ";case 8:return"        ";case 12:return"            "}if(t==="	")switch(e){case 1:return"	";case 2:return"		";case 3:return"			"}return new Array(e).fill(t).join("")}function MMe(t,e){let r=t.lines,n;if(t.whichLine==="topMost")n=r.find(i=>i!=="");else for(let i=r.length-1;i>=0;--i)if(r[i]!==""){n=r[i];break}return n===void 0?0:eq(n,e.insertSpaces,e.tabSize)[1]}function th(t,e,r){if(r===void 0)return t;let n=MMe(e,r),i=OMe(t),o=r.insertSpaces?mae(" ",r.tabSize):"	";return t.map(s=>{if(s==="")return"";{let[a,u]=eq(s,i.insertSpaces,i.tabSize),c=s.substring(a.length);return mae(o,n+(u-i.minIndentLevel))+c}})}function hD(t,e){switch(e){case t.above.startMarker:return{type:"start",startMarker:t.above};case t.above.endMarker:return{type:"end",endMarker:t.above};case t.range.startMarker:return{type:"start",startMarker:t.range};case t.range.endMarker:return{type:"end",endMarker:t.range};case t.below.startMarker:return{type:"start",startMarker:t.below};case t.below.endMarker:return{type:"end",endMarker:t.below}}return e.trimStart().startsWith(Di.begin(t.language))?{type:"fakestart"}:e.trimStart().startsWith(Di.end(t.language))?{type:"fakend"}:null}function FMe(t,e,r,n){let i=(m,d,h)=>{let g=0;for(let x of m)for(let b=x.originalStart;b<x.originalStart+x.originalLength;b++){let T=d.lines[b];g+=T.length}let v=d.getCharCount(),_=h.getCharCount(),y=v-g;return{equalCharCount:y,originalCharCount:v,modifiedCharCount:_,originalCharRatio:v>0?y/v:0,modifiedCharRatio:_>0?y/_:0}},o=m=>{let d=new qC(m.lines),h=new qC(r),v=new dD(d,h).ComputeDiff();return i(v,d,h)},s=e.range.clone();s.mergeFromAbove(e.above.clone()),s.mergeFromBelow(e.below.clone());let a=o(s),u=o(e.range),c={diffToEntireScore:a,diffToRangeScore:u},l=t.get(Ae).getLogger("editGeneration");if(l.info(`Diff metrics: ${JSON.stringify(c,null,"	")}`),a.originalCharCount>30&&a.originalCharRatio>.7)return l.info("(case 1) Replacing entire code"),Zl(s,r,n);if(u.originalCharCount>20&&u.originalCharRatio>.7)return l.info("(case 2) Replacing selected code"),Zl(e.range,r,n);let f=Math.min(a.originalCharRatio,a.modifiedCharRatio),p=Math.min(u.originalCharRatio,u.modifiedCharRatio);if(f>.2&&f>p)return l.info("(case 3) Replacing entire code"),Zl(s,r,n);if(p>.2)return l.info("(case 4) Replacing selected code"),Zl(e.range,r,n);if(!e.range.hasContent)return l.info("(case 5) Replacing empty selected code"),Zl(e.range,r,n,{whichLine:"bottomMost",lines:e.above.lines})}function Zl(t,e,r,n){let o=th(e,n??{whichLine:"topMost",lines:t.lines},r).slice(0),s=t.lines.slice(0),a=t.firstLineIndex,u=t.lastLineIndex;if(s.length===1&&s[0]==="")return new js(u,u,o);let c=UMe(s,o);if(a+=c,s.splice(0,c),o.splice(0,c),s.length===0)return new js(u+1,u+1,o);let l=BMe(s,o);return u-=l,s.splice(s.length-l,l),o.splice(o.length-l,l),s.length===0?new js(a,a,o):new js(a,u+1,o)}function UMe(t,e){let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[n]!==e[n])return n;return r}function BMe(t,e){let r=Math.min(t.length,e.length);for(let n=0;n<r;n++)if(t[t.length-1-n]!==e[e.length-1-n])return n;return r}function hae(t,e){let r=t.filter(a=>!/^\s*$/.test(a)),n=e.filter(a=>!/^\s*$/.test(a)),i=qMe(r,n);if(i===0)return[0,0];let o=0;for(let a=0;a<i;a++)for(o++;/^\s*$/.test(t[t.length-o]);)o++;let s=0;for(let a=0;a<i;a++)for(s++;/^\s*$/.test(e[s]);)s++;return[o,s]}function qMe(t,e){for(let r=Math.min(t.length,e.length);r>0;r--){let n=t.length-r,i=!0;for(let o=0;o<r;o++)if(t[n+o]!==e[o]){i=!1;break}if(i)return r}return 0}function HMe(t,e){return new js(t.firstLineIndex,t.firstLineIndex,e)}function gae(t,e,r){let n=th(e,{whichLine:"bottomMost",lines:t.lines},r),i=t.lastLineIndex+1;return new js(i,i,n)}var Yo=Ie(vn());function zp(t,e,r,n){return{type:"inlineEdit",edits:t,newWholeRange:e,content:r,followUp:n}}function Yp(t,e,r){let n=GMe(t,e);if(!n)return null;let{code:i,contentBeforeCode:o,language:s}=n;if(Hn.testLine(r,i)){let a=i.indexOf(`
`);i=i.substring(a).trim()}return{code:i,contentBeforeCode:o,language:s}}function GMe(t,e){e=e.trim();let n=Uc(e).at(0);if(n){let u=pN(e);return{code:n.code,contentBeforeCode:u.slice(0,n.startLine).join(`
`).trimEnd(),language:n.language}}let i=e.split(/\r\n|\r|\n/g),o=!1,s=[],a=[];for(let u of i){let c=hD(t,u);if(o){if(c)return a.push(u),{code:a.join(`
`),contentBeforeCode:s.join(`
`),language:""};a.push(u)}else c?(o=!0,a.push(u)):s.push(u)}return null}var ef=class{};async function bae(t,e,r,n,i){let o=await Promise.all(e.map(s=>s.resolveContext(t,r,n,i)));return Er(o)}function xae(t,e){let r=[],n=new Map;for(let o of t)e.has(o.kind)||n.has(o.kind)||(n.set(o.kind,r.length),r.push(o));let i=n.get(Woe.kind);return i!==void 0&&n.has(db.kind)&&r.splice(i,1),r}var rh=class{constructor(e,r){this.accessor=e;this.maxTokenTestOverride=r}async toChatMessages(e,r,n,i=!1){let o=await this.computeMaxRequestTokens(n),s=e.turns.filter(l=>l.status==="success"||l.status==="in-progress"),a=[{role:"system",content:r}],u=Lc(this.accessor,a),c=[];for(let l=s.length-1;l>=0;l--){let f=l===s.length-1,p=s[l],m=await this.turnToMessages(p,f),d=Lc(this.accessor,m);for(;u+d>=o&&m.length>=1;)m.shift(),d=Lc(this.accessor,m);if(!m.length&&p instanceof eb){let h=await p.getShorterMessage();for(m.push({role:"user",content:h,isContext:!0}),d=Lc(this.accessor,m);u+d>=o&&m.length>=1;)m.shift(),d=Lc(this.accessor,m);if(!m.length)throw new Error(Z1.t("Sorry, the included context is too long."))}if(f&&!m.length)throw new Error(Z1.t("Sorry, this message is too long. Please try a shorter question."));if(u+d<o)c=[...m,...c],u+=d;else break}if(a.push(...c),i){let l=a[a.length-1];for(let f=a.length-2;f>=0;f--){let p=a[f];if(p.isContext)l.content=p.content+`

`+l.content,a.splice(f,1);else break}}return{messages:a.map(l=>({role:l.role,content:l.content})),tokenCount:u}}computeMaxRequestTokens(e){return this.maxTokenTestOverride??e.modelMaxPromptTokens}async turnToMessages(e,r){let n=[];return r&&e.contextParts.forEach(i=>{i.userMessages.forEach(o=>{n.push({role:"user",content:o+`

`})})}),n.push({role:"user",content:e.request.message,isContext:e.request.isContext}),e.response&&e.response.type!=="meta"&&n.push({role:"assistant",content:e.response.message}),n}};var Bc=class{constructor(e,r,n,i){this.accessor=e;this.options=r;this.location=n;this.context=i;this._promptVariablesService=e.get(ef)}get selectionContextMetadata(){return this._selectionContextMetadata}async buildPrompt(e,r,n,i,o,s){let a=e.getLatestTurn(),u=await this._promptVariablesService.resolveVariablesInPrompt(a.request.message,n),c=new Set(u.parts.map(_=>_.kind));a.request.message=u.message;let l=this.options.contextResolvers;Array.isArray(l)||(l=await l.provideResolvers(e,o,s)),l=xae(l,c);let f={conversation:e,endpoint:r,message:a.request.message,documentContext:this.context},p=await bae(this.accessor,l,f,s,i),m=[],d=[];for(let{userMessages:_,usedContext:y,references:x,metadata:b,getShorterMessage:T}of[u.parts,p].flat()){for(let k of _)T?m.push(new eb({message:k,type:"user",isContext:!0},T)):m.push(new Qi({message:k,type:"user",isContext:!0}));y&&i.report({documents:y}),x&&d.push(...x),!this._selectionContextMetadata&&ki.is(b)&&(this._selectionContextMetadata=b)}let h=TC(d);for(let _ of h)i.report({reference:_.anchor});e=new gs(e.turns),m.length>0&&e.insertBeforeLatestTurn(m);let g;if(this.location===1){let _=this.options.rules??(this.context&&jMe(this.context));g=this.createInlineChatSystemMessage(_??"")}else this.location===2&&(g=await this.createPanelChatSystemMessage(r));if(g??=await gb(this.accessor,this.location,r),this.options.turnFilter&&this.location===2){let _=this.options.turnFilter(e.turns);e=new gs(_)}let v=e.getLatestTurn();return v&&(v.references=h,this.options.queryPrefix&&(v.request.message=`${this.options.queryPrefix} ${v.request.message}`.trim())),new rh(this.accessor).toChatMessages(e,g,r,!1)}async createPanelChatSystemMessage(e){let r=this.options.systemPromptOptions?.roleplay||this.options.systemPromptOptions?await gb(this.accessor,this.location,e,this.options.systemPromptOptions):await gb(this.accessor,this.location,e,{includeCodeGenerationRules:!0,includeCapabilities:!0}),n=this.options.rules??"";return`
${r}

${n?"Additional Rules":""}
${n??""}

${this.options.systemPromptOptions?.examples?"Examples:":""}
${this.options.systemPromptOptions?.examples??""}
`.trim()}createInlineChatSystemMessage(e){return`
${this.options.systemPromptOptions?.roleplay??KB()}
${tc()}
${e}
${jp()}
${Gs(this.accessor)}
`.trim()}},jMe=t=>`
The user has a ${t.language.languageId} file opened in a code editor.
The user includes some code snippets from the file.
Each code block starts with \`\`\` and ${Hn.forLanguage(t.language)}.
Answer with a single ${t.language.languageId} code block.
If you modify existing code, you will use the ${Di.begin(t.language)} and ${Di.end(t.language)} markers.
${Fr(t.document.uri)?VMe():""}
`.trim();function VMe(){return`
When dealing with Jupyter Notebook, if a module is already imported in a cell, it can be used in other cells directly without importing it again. For the same reason, if a variable is defined in a cell, it can be used in other cells as well
When dealing with Jupyter Notebook, cells below the current cell can be executed before the current cell, you must use the variables defined in the cells below, unless you want to overwrite them.
When dealing with Jupyter Notebook, do not generate CELL INDEX in the code blocks in your answer, it is only used to help you understand the context.
`.trim()}var gD=class{constructor(e,r,n,i){this.myDocument=e;this.language=r;this.selection=n;this.editStrategy=i;this.replyIndentationTracker=null}async processStream(e){e=YMe(e),e=zMe(e,this.language);let r=this.myDocument.firstSentLineIndex;for await(let n of this.findInitialAnchor(e))typeof n!="string"?r=this.handleFirstReplyLine(n.anchor,n.line):r=this.handleSubsequentReplyLine(r,n);return this.myDocument.didReplaceEdits&&r<=this.myDocument.lastRangeLine.lineIndex&&this.myDocument.deleteLines(r,this.myDocument.lastRangeLine.lineIndex),this.myDocument.didEdits}handleFirstReplyLine(e,r){if(e){this.replyIndentationTracker=new vD(this.myDocument,e.lineIndex,r);let o=this.replyIndentationTracker.reindent(r,this.myDocument.indentStyle);return this.myDocument.getLine(e.lineIndex).sentInCodeBlock===2?this.myDocument.replaceLines(this.myDocument.firstRangeLine.lineIndex,e.lineIndex,o):this.myDocument.replaceLine(e.lineIndex,o)}let n=this.myDocument.firstRangeLine.lineIndex;this.replyIndentationTracker=new vD(this.myDocument,n,r);let i=this.replyIndentationTracker.reindent(r,this.myDocument.indentStyle);if(this.selection.isEmpty){let o=this.myDocument.getLine(n).content;if(/^\s*$/.test(o)||i.adjustedContent.startsWith(o))return this.myDocument.replaceLine(n,i,!0)}return this.editStrategy===1?this.myDocument.insertLineBefore(n,i):this.editStrategy===3||this.editStrategy===4?this.myDocument.insertLineAfter(n,i):this.myDocument.replaceLine(n,i)}handleSubsequentReplyLine(e,r){let n=this.replyIndentationTracker.reindent(r,this.myDocument.indentStyle);if(n.trimmedContent!==""||this.myDocument.didReplaceEdits){let o=this.matchReplyLine(n,e);if(o)return this.myDocument.replaceLines(e,o.lineIndex,n)}if(e>=this.myDocument.getLineCount())return this.myDocument.appendLineAtEndOfDocument(n);let i=this.myDocument.getLine(e);return!i.isSent||i.content===""||n.trimmedContent===""?this.myDocument.insertLineBefore(e,n):i.indentLevel<n.adjustedIndentLevel?this.myDocument.insertLineBefore(e,n):i.indentLevel===n.adjustedIndentLevel&&!this.myDocument.didReplaceEdits?this.myDocument.insertLineBefore(e,n):this.myDocument.replaceLine(e,n)}matchReplyLine(e,r){let n=e.trimmedContent.length<=3;for(let i=r;i<this.myDocument.getLineCount();i++){let o=this.myDocument.getLine(i);if(o.isSent){if(o.normalizedContent===e.adjustedContent)return new Eb(i);if(o.trimmedContent.length>0&&o.indentLevel<e.adjustedIndentLevel||n&&o.trimmedContent.length>0)return null}}return null}findInitialAnchor(e){return new Fl(async r=>{let n=[],i=0,o=!1;for await(let s of e)if(o)r.emitOne(s);else if(n.push(s),i+=s.trim().length,i>10){let a=this.searchForEqualSentLines(n);o=!0,r.emitOne(new tq(n[0],a)),r.emitMany(n.slice(1))}})}searchForEqualSentLines(e){let r=e.map(n=>n.trim());for(let n=this.myDocument.firstSentLineIndex,i=this.myDocument.getLineCount()-e.length;n<=i;n++){if(!this.myDocument.getLine(n).isSent)continue;let o=!0;for(let s=0;s<r.length;s++){let a=this.myDocument.getLine(n+s);if(!a.isSent||a.trimmedContent!==r[s]){o=!1;break}}if(o)return new Eb(n)}return null}},vD=class{constructor(e,r,n){let i=0;for(let s=r;s>=0;s--){let a=e.getLine(s);if(a.content.length>0){i=a.indentLevel,s!==r&&a.content.endsWith("{")&&(i+=1);break}}this._replyIndentStyle=_b.guessIndentStyleFromLine(n);let o=mD(n,this._replyIndentStyle?.tabSize??4);this.indentDelta=o-i}reindent(e,r){if(e==="")return new _D("",0,"",0);this._replyIndentStyle||(this._replyIndentStyle=_b.guessIndentStyleFromLine(e));let n=0,i=0,o=a=>(n=a,i=Math.max(n-this.indentDelta,0),i),s=_b.reindentLine(e,this._replyIndentStyle??{insertSpaces:!0,tabSize:4},r,o);return new _D(e,n,s,i)}},tq=class{constructor(e,r){this.line=e;this.anchor=r}},yb=class{constructor(e,r){this.lineIndex=e;this.sentInCodeBlock=r}},bb=class{constructor(e,r){this.startLineIndex=e;this.endLineIndex=r}},xb=class{constructor(e,r,n,i,o){this.progress=e;this.lines=[];this._didEdits=!1;this._didReplaceEdits=!1;this.indentStyle=_b.getDocumentIndentStyle(r,o);let s=r.split(/\r\n|\r|\n/g);for(let a=0;a<s.length;a++)this.lines[a]=new nh(s[a],this.indentStyle);this.firstSentLineIndex=Number.MAX_SAFE_INTEGER;for(let a of n)this.lines[a.lineIndex].markSent(a.sentInCodeBlock),this.firstSentLineIndex=Math.min(this.firstSentLineIndex,a.lineIndex);this.firstSentLineIndex=Math.min(this.firstSentLineIndex,i.startLineIndex),this.firstRangeLine=new Eb(i.startLineIndex),this.lastRangeLine=new Eb(i.endLineIndex)}get didEdits(){return this._didEdits}get didReplaceEdits(){return this._didReplaceEdits}getText(){return this.lines.map(e=>e.content).join(`
`)}getLineCount(){return this.lines.length}getLine(e){if(e<0||e>=this.lines.length)throw new Error("Invalid index");return this.lines[e]}replaceLine(e,r,n=!1){return this.lines[e]=new nh(r.adjustedContent,this.indentStyle),this.progress.report({edits:[new Vo(new ze(e,0,e,1e3),r.adjustedContent)]}),this._didEdits=!0,this._didReplaceEdits=!n,e+1}replaceLines(e,r,n){if(e>r)throw new Error("Invalid range");return e===r?this.replaceLine(e,n):(this.lines.splice(e,r-e+1,new nh(n.adjustedContent,this.indentStyle)),this.progress.report({edits:[new Vo(new ze(e,0,r,1e3),n.adjustedContent)]}),this._didEdits=!0,this._didReplaceEdits=!0,e+1)}appendLineAtEndOfDocument(e){return this.lines.push(new nh(e.adjustedContent,this.indentStyle)),this.progress.report({edits:[new Vo(new ze(this.lines.length-1,1e3,this.lines.length-1,1e3),`
`+e.adjustedContent)]}),this._didEdits=!0,this.lines.length}insertLineAfter(e,r){return this.lines.splice(e+1,0,new nh(r.adjustedContent,this.indentStyle)),this.progress.report({edits:[new Vo(new ze(e,1e3,e,1e3),`
`+r.adjustedContent)]}),this._didEdits=!0,e+2}insertLineBefore(e,r){return this.lines.splice(e,0,new nh(r.adjustedContent,this.indentStyle)),this.progress.report({edits:[new Vo(new ze(e,0,e,0),r.adjustedContent+`
`)]}),this._didEdits=!0,e+1}deleteLines(e,r){return this.lines.splice(e,r-e+1),this.progress.report({edits:[new Vo(new ze(e,0,r+1,0),"")]}),this._didEdits=!0,this._didReplaceEdits=!0,e+1}},_D=class{constructor(e,r,n,i){this.originalContent=e;this.originalIndentLevel=r;this.adjustedContent=n;this.adjustedIndentLevel=i;this.trimmedContent=this.originalContent.trim()}},Eb=class{constructor(e){this.lineIndex=e}};var nh=class{constructor(e,r){this.content=e;this._indentStyle=r;this._sentInCodeBlock=0;this._trimmedContent=null;this._normalizedContent=null;this._indentLevel=-1}get isSent(){return this._sentInCodeBlock!==0}get sentInCodeBlock(){return this._sentInCodeBlock}get trimmedContent(){return this._trimmedContent===null&&(this._trimmedContent=this.content.trim()),this._trimmedContent}get normalizedContent(){return this._normalizedContent===null&&(this._normalizedContent=JB(this.content,this._indentStyle.tabSize,this._indentStyle.insertSpaces)),this._normalizedContent}get indentLevel(){return this._indentLevel===-1&&(this._indentLevel=mD(this.content,this._indentStyle.tabSize)),this._indentLevel}markSent(e){this._sentInCodeBlock=e}},_b=class t{static getDocumentIndentStyle(e,r){if(r)return r;let n=e.split(/\r\n|\r|\n/);return HC({getLineCount:function(){return n.length},getLineLength:function(o){return n[o-1].length},getLineContent:function(o){return n[o-1]}},4,!1)}static guessIndentStyleFromLine(e){let r=t._getLeadingWhitespace(e);return r===""||r===" "?void 0:HC({getLineCount:function(){return 1},getLineLength:function(i){return e.length},getLineContent:function(i){return e}},4,!1)}static reindentLine(e,r,n,i=o=>o){let o=mD(e,r.tabSize),s=i(o);for(;o>0;)e=this._outdent(e,r),o--;for(;o<s;)e="	"+e,o++;return JB(e,n.tabSize,n.insertSpaces)}static _outdent(e,r){let n=0;for(;n<e.length;){let i=e.charCodeAt(n);if(i===9){n++;break}if(i!==32||n===r.tabSize)break;n++}return e.substring(n)}static _getLeadingWhitespace(e){for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n!==32&&n!==9)return e.substring(0,r)}return e}};function rq(t){return new Fl(async e=>{let r;(a=>(a[a.BeforeCodeBlock=0]="BeforeCodeBlock",a[a.InCodeBlock=1]="InCodeBlock",a[a.AfterCodeBlock=2]="AfterCodeBlock"))(r||={});let n=0;for await(let i of t){if(n===0){if(/^```/.test(i)){n=1,e.emitOne({value:i,kind:2});continue}}else n===1&&/^```/.test(i)&&(n=2);e.emitOne({value:i,kind:n===1?1:2})}})}function zMe(t,e){return new Fl(async r=>{let n=Di.begin(e),i=Di.end(e),o=!0,s=!1;for await(let a of t){if(o&&Hn.testLine(e,a)){o=!1;continue}!s&&/^\s*$/.test(a)||a.startsWith(n)||a.startsWith(i)||a.trim()!=="$PLACEHOLDER$"&&(s=!0,r.emitOne(a))}})}function YMe(t){let e=$Me(t);return rq(e).filter(n=>n.kind===1).map(n=>n.value)}function $Me(t){return new Fl(async e=>{let r="";for await(let n of t){r+=n;do{let i=r.indexOf(`
`);if(i===-1)break;let o=r.substring(0,i);r=r.substring(i+1),e.emitOne(o)}while(!0)}r.length>0&&e.emitOne(r)})}var tf=class extends Mp{constructor(r){super();this.factory=r}create(r,n){return this.factory(r,n)}};var jC=class t{constructor(){this._data=new Map;this._messages={0:t._shuffleArray(t._progressMessages[0]),1:t._shuffleArray(t._progressMessages[1]),2:t._shuffleArray(t._progressMessages[2]),3:t._shuffleArray(t._progressMessages[3])}}static{this._progressMessages={0:[Yo.t("Fetching response, it won't be long now."),Yo.t("Working hard to get your response..."),Yo.t("Request is being processed, sit tight!"),Yo.t("Response is being prepared, please be patient.")],1:[Yo.t("Data is on its way, please wait a moment."),Yo.t("Request is being processed, sit tight!"),Yo.t("Response is being prepared, please be patient.")],2:[Yo.t("Data is on its way, please wait a moment."),Yo.t("Source code arriving..."),Yo.t("Hold on tight, we're almost there!"),Yo.t("Response is being prepared, please be patient."),Yo.t("Code chunks incoming..."),Yo.t("Receiving code, please wait..."),Yo.t("Code is being processed, please wait...")],3:[Yo.t("Almost done, just a few more seconds..."),Yo.t("Processing response, please wait...")]}}next(e){let r=this._data.get(e);if(r){if(Date.now()-r.time<3579)return this._messages[e][r.index];r.index+=1,r.time=Date.now();let n=this._messages[e];return n[Math.min(n.length-1,r.index)]}else return this._data.set(e,{index:0,time:Date.now()}),this._messages[e][0]}static _shuffleArray(e){return OP(e),e}},yD=class{constructor(e){this.progress=e;this._progressMessages=new jC;this._lastText=void 0}_reportProgress(e){let r=this._progressMessages.next(e);this.progress.report({message:r})}update(e){return this._reportProgress(this._lastText?e.includes("```")?2:1:0),this._lastText=e,{shouldFinish:Bl(e)}}async finish(){if(!this._lastText)throw new Error("No text");return this._reportProgress(3),await this.interpretReply(this._lastText)}},Tb=class t extends yD{constructor(r,n){super(n);this.replyInterpreter=r}static createFactory(r){return n=>new t(r,n)}interpretReply(r){return this.replyInterpreter(r,this.progress)}},xv=class t extends yD{constructor(r,n,i,o,s){super(s);this.accessor=r;this.selectionContextMetadata=n;this.context=i;this.editStrategy=o}static createFactory(r,n,i,o=2){return s=>{if(!n.selectionContextMetadata)throw new Error("code reply NEEDS a selection context");return new t(r,n.selectionContextMetadata,i,o,s)}}interpretReply(r){let{contextInfo:n,wholeRange:i}=this.selectionContextMetadata,o=Yp(n,r,this.context.language);if(!o)return{type:"conversational",content:r};let{code:s}=o,a=bv(this.accessor,n,s,this.editStrategy,this.context.fileIndentInfo,Vp.fromDocumentContext(this.context));return zp(a,i)}},bD=class t{constructor(e){this._progress=e;this._responseStream=new uv;this._lastLength=0;this._lastText=void 0;this._promise=void 0;this._progressMessages=new jC}static createFactory(){return e=>new t(e)}_reportProgress(e){let r=this._progressMessages.next(e);this._progress.report({message:r})}update(e){this._promise||(this._reportProgress(0),this._promise=this.processStream(this._responseStream,this._progress)),this._reportProgress(1);let r=e.slice(this._lastLength);return this._lastLength=e.length,this._lastText=e,this._responseStream.emitOne(r),{shouldFinish:!1}}async finish(){return this._responseStream.resolve(),{type:"conversational",content:this._lastText??""}}async processStream(e,r){for await(let n of e.asyncIterable)r.report({content:n});return!1}};function KMe(t,e){let r=new Ev(t),n=e.map(i=>{let o=i.range;return{startOffset:r.getOffset(o.start),endOffset:r.getOffset(o.end),text:i.newText}});n.sort((i,o)=>o.startOffset-i.startOffset||o.endOffset-i.endOffset);for(let i of n)t=t.substring(0,i.startOffset)+i.text+t.substring(i.endOffset);return t}var Ev=class{constructor(e){this.textLength=e.length,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0),this.lineLengthsByLineIdx=[];let r=0;for(let n=0;n<e.length;n++)e.charAt(n)===`
`?(this.lineStartOffsetByLineIdx.push(n+1),this.lineLengthsByLineIdx.push(r),r=0):r++;this.lineLengthsByLineIdx.push(r)}getOffset(e){return e=this.validatePosition(e),this.lineStartOffsetByLineIdx[e.line]+e.character}getPosition(e){e<0&&(e=0),e>this.textLength&&(e=this.textLength);let r=this.findLineIdxOfOffset(e),n=this.lineStartOffsetByLineIdx[r];return new fr(r,e-n)}validatePosition(e){let{line:r,character:n}=e;return r<0?(r=0,n=0):r>=this.lineLengthsByLineIdx.length?(r=this.lineLengthsByLineIdx.length-1,n=this.lineLengthsByLineIdx[r]):n<0?n=0:n>this.lineLengthsByLineIdx[r]&&(n=this.lineLengthsByLineIdx[r]),new fr(r,n)}validateRange(e){return new ze(this.validatePosition(e.start),this.validatePosition(e.end))}findLineIdxOfOffset(e){let r=0,n=this.lineStartOffsetByLineIdx.length-1;for(;r<n;){let i=Math.floor((r+n)/2),o=this.lineStartOffsetByLineIdx[i];if(e<o)n=i-1;else{if(e===o)return i;{let s=this.lineStartOffsetByLineIdx[i+1];if(e<s)return i;r=i+1}}}return r}},VC=class t{constructor(e,r,n,i,o){this._accessor=e;this._selectionContextMetadata=r;this._context=n;this._editStrategy=i;this._progress=o;this._lastText=void 0;this._initialDocText=this._context.document.getText();this._documentInfo=Vp.fromDocumentContext(this._context);if(!this._selectionContextMetadata)throw new Error("code reply NEEDS a selection context");let s;{let a=this._selectionContextMetadata.contextInfo,u=[],c=(f,p)=>{for(let m=0;m<f.lines.length;m++){let d=f.firstLineIndex+m;u.push(new yb(d,p))}};c(a.above,1),c(a.range,2),c(a.below,3);let l=new bb(a.range.firstLineIndex,a.range.firstLineIndex+a.range.lines.length-1);s=new xb(o,this._context.document.getText(),u,l,this._context.fileIndentInfo)}this.streaming=new zC(o,s,this._context.language,this._context.selection,this._editStrategy)}static createFactory(e,r,n,i=2){return(o,s)=>{if(!r.selectionContextMetadata)throw new Error("code reply NEEDS a selection context");return s?new t(e,r.selectionContextMetadata,n,i,o):new xv(e,r.selectionContextMetadata,n,i,o)}}update(e){return this.streaming.update(e),this._lastText=e,{shouldFinish:Bl(this._lastText)}}async finish(){if(!this._lastText)throw new Error("No text");let{didStreamingEdits:e}=await this.streaming.finish(),r=await this._interpretReply(this._lastText);if(r.type==="inlineEdit"){let n=KMe(this._initialDocText,r.edits);return{type:"inlineEdit",edits:[{range:new ze(new fr(0,0),new fr(Number.MAX_SAFE_INTEGER,0)),newText:n}],newWholeRange:r.newWholeRange}}return e&&this._progress.report({edits:[{range:new ze(new fr(0,0),new fr(Number.MAX_SAFE_INTEGER,0)),newText:this._initialDocText}]}),r}_interpretReply(e){let{contextInfo:r,wholeRange:n}=this._selectionContextMetadata,i=Yp(r,e,this._context.language);if(!i)return{type:"conversational",content:e};let{code:o}=i,s=bv(this._accessor,r,o,this._editStrategy,this._context.fileIndentInfo,this._documentInfo);return zp(s,n)}},zC=class{constructor(e,r,n,i,o){this._progress=e;this._streamingWorkingCopyDocument=r;this._responseStream=new uv;this._lastLength=0;this._lastText=void 0;this._progressMessages=new jC;let s=new gD(this._streamingWorkingCopyDocument,n,i,o);this._streamingPromise=s.processStream(this._responseStream.asyncIterable)}update(e){this._reportMessageProgress(this._lastText?2:0),this._lastText=e;let r=e.slice(this._lastLength);this._lastLength=e.length,this._responseStream.emitOne(r)}_reportMessageProgress(e){let r=this._progressMessages.next(e);this._progress.report({message:r})}async finish(){return this._responseStream.resolve(),{didStreamingEdits:await this._streamingPromise}}},oh=class{constructor(e){this.opts=e;this.id=e.id,this.locations=Array.isArray(e.location)?e.location:[e.location],this.description=e.description,this.intentDetectionInput={sampleQuestion:e.modelSampleQuestion,modelDescription:e.modelDescription??e.description},this.commandInfo=e.commandInfo}async invoke(e,r){let n=r.location,i=r.documentContext,o=new Bc(e,this.opts,n,i),s=this.opts.endpoint??await jt(e,n,this.id);return{intent:this,location:n,promptCrafter:o,endpoint:s,followUps:this.opts.followUps,responseProcessor:this.opts.responseProcessor,createReplyInterpreter:i&&VC.createFactory(e,o,i)}}};var hi=class t{constructor(e,r){this.start=e;this.endExclusive=r;if(e>r)throw new Fu(`Invalid range: ${this.toString()}`)}static addRange(e,r){let n=0;for(;n<r.length&&r[n].endExclusive<e.start;)n++;let i=n;for(;i<r.length&&r[i].start<=e.endExclusive;)i++;if(n===i)r.splice(n,0,e);else{let o=Math.min(e.start,r[n].start),s=Math.max(e.endExclusive,r[i-1].endExclusive);r.splice(n,i-n,new t(o,s))}}static tryCreate(e,r){if(!(e>r))return new t(e,r)}static ofLength(e){return new t(0,e)}static ofStartAndLength(e,r){return new t(e,e+r)}get isEmpty(){return this.start===this.endExclusive}delta(e){return new t(this.start+e,this.endExclusive+e)}deltaStart(e){return new t(this.start+e,this.endExclusive)}deltaEnd(e){return new t(this.start,this.endExclusive+e)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(e){return this.start===e.start&&this.endExclusive===e.endExclusive}containsRange(e){return this.start<=e.start&&e.endExclusive<=this.endExclusive}contains(e){return this.start<=e&&e<this.endExclusive}join(e){return new t(Math.min(this.start,e.start),Math.max(this.endExclusive,e.endExclusive))}intersect(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);if(r<=n)return new t(r,n)}intersects(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<n}intersectsOrTouches(e){let r=Math.max(this.start,e.start),n=Math.min(this.endExclusive,e.endExclusive);return r<=n}isBefore(e){return this.endExclusive<=e.start}isAfter(e){return this.start>=e.endExclusive}slice(e){return e.slice(this.start,this.endExclusive)}clip(e){if(this.isEmpty)throw new Fu(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,e))}clipCyclic(e){if(this.isEmpty)throw new Fu(`Invalid clipping range: ${this.toString()}`);return e<this.start?this.endExclusive-(this.start-e)%this.length:e>=this.endExclusive?this.start+(e-this.start)%this.length:e}map(e){let r=[];for(let n=this.start;n<this.endExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.start;r<this.endExclusive;r++)e(r)}};var Tv=class{constructor(e){this._lineStartOffsets=[0];let r=0;for(;;){let n=e.indexOf(`
`,r);if(n===-1)break;this._lineStartOffsets.push(n+1),r=n+1}}positionToOffset(e){return e.lineNumber>=this._lineStartOffsets.length?this._lineStartOffsets[this._lineStartOffsets.length-1]+e.column-1:this._lineStartOffsets[e.lineNumber-1]+e.column-1}};var ro=class t{constructor(e){this.edits=e;let r=-1;for(let n of e){if(!(n.replaceRange.start>=r))throw new Error(`Edits must be disjoint and sorted. Found ${n} after ${r}`);r=n.replaceRange.endExclusive}}static{this.empty=new t([])}static from(e){let r=e.map(i=>new Mi(hi.ofStartAndLength(i.rangeOffset,i.rangeLength),i.text));return r.reverse(),new t(r)}static async fromDiff(e,r,n){let i=await n.computeDiff(e,r,{maxComputationTimeMs:5e3,computeMoves:!1,ignoreTrimWhitespace:!1}),o=new Tv(e),s=new Tv(r),a=[];for(let u of i.changes)for(let c of u.innerChanges??[]){let l=s.positionToOffset(c.modifiedRange.getStartPosition()),f=s.positionToOffset(c.modifiedRange.getEndPosition()),p=r.substring(l,f),m=o.positionToOffset(c.originalRange.getStartPosition()),d=o.positionToOffset(c.originalRange.getEndPosition()),h=new hi(m,d);a.push(new Mi(h,p))}return new t(a)}normalize(){let e=[],r;for(let n of this.edits)n.newText.length===0&&n.replaceRange.length===0||(r&&r.replaceRange.endExclusive===n.replaceRange.start?r=new Mi(r.replaceRange.join(n.replaceRange),r.newText+n.newText):(r&&e.push(r),r=n));return r&&e.push(r),new t(e)}toString(){return`[${this.edits.map(r=>r.toString()).join(", ")}]`}apply(e){let r=e;for(let n=this.edits.length-1;n>=0;n--){let i=this.edits[n];r=r.substring(0,i.replaceRange.start)+i.newText+r.substring(i.replaceRange.endExclusive)}return r}compose(e){return XMe(this,e)}inverse(e){let r=[],n=0;for(let i of this.edits)r.push(new Mi(hi.ofStartAndLength(i.replaceRange.start+n,i.newText.length),e.substring(i.replaceRange.start,i.replaceRange.endExclusive))),n+=i.newText.length-i.replaceRange.length;return new t(r)}getNewTextRanges(){let e=[],r=0;for(let n of this.edits)e.push(hi.ofStartAndLength(n.replaceRange.start+r,n.newText.length)),r+=n.newText.length-n.replaceRange.length;return e}get isEmpty(){return this.edits.length===0}tryRebase(e){let r=[],n=0,i=0,o=0;for(;i<this.edits.length||n<e.edits.length;){let s=e.edits[n],a=this.edits[i];if(a)s?a.replaceRange.intersects(s.replaceRange)?i++:a.replaceRange.start<s.replaceRange.start?(r.push(new Mi(a.replaceRange.delta(o),a.newText)),i++):(n++,o+=s.newText.length-s.replaceRange.length):(r.push(new Mi(a.replaceRange.delta(o),a.newText)),i++);else break}return new t(r)}removeCommonSuffixPrefix(e){let r=[];for(let n of this.edits){let i=n.removeCommonSuffixPrefix(e);i.isEmpty||r.push(i)}return new t(r)}},Mi=class t{constructor(e,r){this.replaceRange=e;this.newText=r}toString(){return`${this.replaceRange} -> "${this.newText}"`}removeCommonSuffixPrefix(e){let r=e.substring(this.replaceRange.start,this.replaceRange.endExclusive),n=Kie(r,this.newText),i=Math.min(r.length-n,this.newText.length-n,Xie(r,this.newText)),o=new hi(this.replaceRange.start+n,this.replaceRange.endExclusive-i),s=this.newText.substring(n,this.newText.length-i);return new t(o,s)}get isEmpty(){return this.newText.length===0&&this.replaceRange.length===0}};function XMe(t,e){if(t=t.normalize(),e=e.normalize(),t.isEmpty)return e;if(e.isEmpty)return t;let r=[...t.edits],n=[],i=0;for(let o of e.edits){for(;;){let c=r[0];if(!c||c.replaceRange.start+i+c.newText.length>=o.replaceRange.start)break;r.shift(),n.push(c),i+=c.newText.length-c.replaceRange.length}let s=i,a,u;for(;;){let c=r[0];if(!c||c.replaceRange.start+i>o.replaceRange.endExclusive)break;a||(a=c),u=c,r.shift(),i+=c.newText.length-c.replaceRange.length}if(!a)n.push(new Mi(o.replaceRange.delta(-i),o.newText));else{let c="",l=o.replaceRange.start-(a.replaceRange.start+s);l>0&&(c=a.newText.slice(0,l));let f=u.replaceRange.endExclusive+i-o.replaceRange.endExclusive;if(f>0){let d=new Mi(hi.ofStartAndLength(u.replaceRange.endExclusive,0),u.newText.slice(-f));r.unshift(d),i-=d.newText.length-d.replaceRange.length}let p=c+o.newText,m=new hi(Math.min(a.replaceRange.start,o.replaceRange.start-s),o.replaceRange.endExclusive-i);n.push(new Mi(m,p))}}for(;;){let o=r.shift();if(!o)break;n.push(o)}return new ro(n).normalize()}function Eae(t,e,r,n){let i=e.getText();if(i.length<=t)return new Sb(i,new ro([]));let o=nq.convertToLinkedTree(i,n),s=e.offsetAt(r.start),a=e.offsetAt(r.end);return QMe(t,o,s,a)}function QMe(t,e,r,n){JMe(e,r,n);let i=[];e.visit(a=>{a.isSurviving||i.push(a)});let o=a=>a.endIndex<r?r-a.endIndex:a.startIndex>n?3*(a.startIndex-n):0;i.sort((a,u)=>{if(a.scopeDistance===u.scopeDistance){if(a.depth===u.depth){let c=o(a),l=o(u);return c-l}return a.depth-u.depth}return a.scopeDistance-u.scopeDistance});let s=e.getSummarizedDocumentBuilder();for(;i.length>0&&s.textLength<t;){i.shift().markToKeep();let u=e.getSummarizedDocumentBuilder();if(u.textLength<=t)s=u;else break}return s.finalize()}function JMe(t,e,r){let[n,i]=t.findLeaf(e);i<0&&n.markSelectedWhitespace(~i);{let o=n;for(;o&&o.startIndex<r;)o.markSelected(),o=o.nextLeaf}t.propagateScopeDistancesToChildren()}var nq=class t{constructor(e,r,n,i,o,s,a,u){this._originalText=e;this.parent=r;this.startIndex=n;this.endIndex=i;this.kind=o;this.children=s;this.depth=a;this.myIndex=u;this._scopeDistance=Number.MAX_SAFE_INTEGER;this._isSurviving=!1;this._summarizedDocumentBuilder=null;this._survivingWhitespaceBeforeChild=-1;this._hasSurvivingChildren=!1}static convertToLinkedTree(e,r){let n=new t(e,null,r.startIndex,r.endIndex,r.kind,[],0,0);return t._convertChildrenToLinkedTree(e,r,n,1),n}static _convertChildrenToLinkedTree(e,r,n,i){for(let o=0;o<r.children.length;o++){let s=r.children[o],a=new t(e,n,s.startIndex,s.endIndex,s.kind,[],i,o);n.children.push(a),t._convertChildrenToLinkedTree(e,s,a,i+1)}}get scopeDistance(){return this._scopeDistance}get isSurviving(){return this._isSurviving}toString(){return`Node (${this.startIndex}-${this.endIndex} :: ${this._originalText.substring(this.startIndex,this.endIndex)})`}markSelected(){this.markToKeep();{let e=1,r=this.parent;for(;r&&r._scopeDistance>e;)r._scopeDistance=e,e++,r=r.parent}}markSelectedWhitespace(e){this._survivingWhitespaceBeforeChild=e}markToKeep(){if(!this.isSurviving){this._isSurviving=!0;{let e=this.parent;for(;e;)e._summarizedDocumentBuilder=null,e._hasSurvivingChildren=!0,e._isSurviving=!0,e=e.parent}}}propagateScopeDistancesToChildren(){for(let e of this.children)e._scopeDistance>this._scopeDistance&&(e._scopeDistance=this._scopeDistance),e.propagateScopeDistancesToChildren()}findLeaf(e){if(this.children.length===0)return[this,0];let r=One(this.children.length,n=>{let i=this.children[n];return e>=i.startIndex&&e<=i.endIndex?0:e<i.startIndex?1:-1});return r<0?[this,r]:this.children[r].findLeaf(e)}get nextLeaf(){let e=this;do{let r=e.nextSibling;if(r)return r.leftMostLeafChild;e=e.parent}while(e);return null}get leftMostLeafChild(){let e=this;for(;e.children.length>0;)e=e.children[0];return e}get prevSibling(){let e=this.parent,r=this.myIndex-1;return e&&r>=0?e.children[r]:null}get nextSibling(){let e=this.parent,r=this.myIndex+1;return e&&r<e.children.length?e.children[r]:null}getSummarizedDocumentBuilder(){return this._summarizedDocumentBuilder===null&&(this._summarizedDocumentBuilder=new oq(this._originalText,this.startIndex,this.endIndex),this._extractSurvivingText(this._summarizedDocumentBuilder)),this._summarizedDocumentBuilder}_extractSurvivingText(e){if(!this.isSurviving)throw new Error("Unexpected!");if(this.children.length===0)return e.appendText(this.startIndex,this.endIndex);let r=e.createSurvivingStringPiece(this.startIndex,this.children[0].startIndex),n=e.createSurvivingStringPiece(this.children[this.children.length-1].endIndex,this.endIndex);if(!this._hasSurvivingChildren){let i=r.trimEnd(),o=n.trimStart();i.endsWith("{")&&o.startsWith("}")?(e.appendSurvivingStringPiece(i),e.setNextElideText("\u2026"),e.appendSurvivingStringPiece(o)):(e.appendSurvivingStringPiece(r),e.appendSurvivingStringPiece(n));return}e.appendSurvivingStringPiece(r.trimDupNewLines());for(let i=0;i<this.children.length;i++){let o=this.children[i],s=o.isSurviving,a=i>0?this.children[i-1]:null,u=a&&a.isSurviving;if(a){if(this._survivingWhitespaceBeforeChild===i){let c=e.createSurvivingStringPiece(a.endIndex,o.startIndex);e.appendSurvivingStringPiece(c)}else if(u&&s){let c=e.createSurvivingStringPiece(a.endIndex,o.startIndex);e.appendSurvivingStringPiece(c.trimDupNewLines())}}s&&e.appendChildBuilder(o.getSummarizedDocumentBuilder())}e.appendSurvivingStringPiece(n.trimDupNewLines())}visit(e){e(this);for(let r of this.children)r.visit(e)}},iq=class t{constructor(e,r,n){this.allText=e;this.startIndex=r;this.endIndex=n}get text(){return this.allText.substring(this.startIndex,this.endIndex)}trimStart(){let e=this.text.trimStart();return e.length===this.text.length?this:new t(this.allText,this.endIndex-e.length,this.endIndex)}trimStartDupNewLines(){let e=this.text.replace(/^\n+/g,`
`);return e.length===this.text.length?this:new t(this.allText,this.endIndex-e.length,this.endIndex)}trimEnd(){let e=this.text.trimEnd();return e.length===this.text.length?this:new t(this.allText,this.startIndex,this.startIndex+e.length)}trimEndDupNewLines(){let e=this.text.replace(/\n+$/g,`
`);return e.length===this.text.length?this:new t(this.allText,this.startIndex,this.startIndex+e.length)}trimDupNewLines(){return this.trimStartDupNewLines().trimEndDupNewLines()}startsWith(e){return this.text.startsWith(e)}endsWith(e){return this.text.endsWith(e)}},Sb=class{constructor(e,r){this.originalText=e;this.edits=r;this._transformer=null;this._text=null}get transformer(){return this._transformer||(this._transformer=new Ev(this.text)),this._transformer}get text(){return this._text||(this._text=this._createText()),this._text}_createText(){let e=[],r=0,n=this.originalText;for(let i of this.edits.edits)e.push(n.substring(r,i.replaceRange.start)),e.push(i.newText),r=i.replaceRange.endExclusive;return e.push(n.substring(r)),e.join("")}convertOriginalOffsetToPostEditsOffset(e){let r=0;for(let n of this.edits.edits)if(n.replaceRange.start<=e){if(e<n.replaceRange.endExclusive)return n.replaceRange.start+r;r+=n.newText.length-n.replaceRange.length}else break;return e+r}},oq=class{constructor(e,r,n){this._allText=e;this._scopeStartIndex=r;this._scopeEndIndex=n;this._elidedRanges=[];this._len=0;this._nextElidedRangeReplacementText=null;this._firstStartIndex=-1,this._lastEndIndex=r}createSurvivingStringPiece(e,r){return new iq(this._allText,e,r)}get textLength(){return this._len}finalize(){let e=[];return this._scopeStartIndex<this._firstStartIndex&&e.push(new Mi(new hi(this._scopeStartIndex,this._firstStartIndex),"")),e=e.concat(this._elidedRanges),this._lastEndIndex<this._scopeEndIndex&&e.push(new Mi(new hi(this._lastEndIndex,this._scopeEndIndex),"")),new Sb(this._allText,new ro(e))}appendSurvivingStringPiece(e){this.appendText(e.startIndex,e.endIndex)}appendText(e,r){this._markSurviving(e,r);let n=this._allText.substring(e,r);this._len+=n.length}appendChildBuilder(e){this._markSurviving(e._firstStartIndex,e._lastEndIndex),this._elidedRanges=this._elidedRanges.concat(e._elidedRanges),this._len+=e._len}_markSurviving(e,r){this._firstStartIndex===-1?this._firstStartIndex=e:e>this._lastEndIndex&&(this._nextElidedRangeReplacementText?(this._len+=this._nextElidedRangeReplacementText.length,this._elidedRanges.push(new Mi(new hi(this._lastEndIndex,e),this._nextElidedRangeReplacementText)),this._nextElidedRangeReplacementText=null):this._elidedRanges.push(new Mi(new hi(this._lastEndIndex,e),""))),this._lastEndIndex=r}setNextElideText(e){this._nextElidedRangeReplacementText=e}};var xD=class{constructor(e){this._derivedDocument=e;this._workingCopyOriginalDocument=new sq(this._derivedDocument.originalText)}get text(){return this._derivedDocument.text}createTransformingProgress(e){return{report:r=>{e.report(this._transformProgressItem(r))}}}_transformProgressItem(e){if(!e.edits)return e;let r=this._workingCopyOriginalDocument,n=this._derivedDocument,i=n.edits,s=Tae(n.transformer,e.edits).tryRebase(i.inverse(r.text)),a=i.tryRebase(s),u={...e,edits:Sae(r.transformer,s)};return this._workingCopyOriginalDocument.applyOffsetEdits(s),this._derivedDocument=new Sb(this._workingCopyOriginalDocument.text,a),u}rebaseEdits(e){let r=this._workingCopyOriginalDocument,n=this._derivedDocument,i=n.edits,s=Tae(n.transformer,e).tryRebase(i.inverse(r.text));return Sae(r.transformer,s)}},sq=class{constructor(e){this._text=e;this._transformer=null}get text(){return this._text}get transformer(){return this._transformer||(this._transformer=new Ev(this._text)),this._transformer}applyOffsetEdits({edits:e}){let r=this._text;for(let n=e.length-1;n>=0;n--){let i=e[n];r=r.substring(0,i.replaceRange.start)+i.newText+r.substring(i.replaceRange.endExclusive)}this._text=r,this._transformer=null}};function Tae(t,e){let r=e.map(n=>new Vo(t.validateRange(n.range),n.newText));return new ro(r.map(n=>{let i=t.getOffset(n.range.start),o=t.getOffset(n.range.end);return new Mi(new hi(i,o),n.newText)}))}function Sae(t,{edits:e}){return e.map(r=>{let n=t.getPosition(r.replaceRange.start),i=t.getPosition(r.replaceRange.endExclusive);return new Vo(new ze(n,i),r.newText)})}var ED=class extends Ue{async prepare(){return await Ym(this.accessor,this.props.documentContext.document,this.props.documentContext.wholeRange)}render(e,r){if(Fr(this.props.documentContext.document.uri))throw Ho("InlineChatGenerateCodePrompt should not be used with a notebook!");if(e.structure)return this._renderWithStructure(e,e.structure,r);let{wholeRange:n,functionPositions:i,functionBodies:o}=e,s=CU(this.accessor,r.endpoint.modelMaxPromptTokens/3,this.props.documentContext,n,i,o),a=this.props.documentContext.document,u=this.props.documentContext.language,c=new ki(n,s),l=[{uri:a.uri,version:a.version,ranges:Er([s.range.toRange(),s.above.toRange(),s.below.toRange()])}],f=(v,_)=>v.length===0?_:v.charCodeAt(v.length-1)!==10?v+`
`+_:v+_,p="";s.outlineAbove.length>0&&(p=f(p,s.outlineAbove)),s.above.hasContent&&(p=f(p,s.above.lines.join(`
`)));let m="";s.below.hasContent&&(m=f(m,s.below.lines.join(`
`))),s.outlineBelow.length>0&&(m=f(m,s.outlineBelow));let d=p.length>0,h=m.length>0,g=!d&&!h;return vscpp(vscppf,null,vscpp("usedContext",{value:l}),vscpp("meta",{value:c}),vscpp(_r,null,"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"You are a world class expert in programming, and especially good at ",u.languageId,".",vscpp("br",null),d&&h&&vscpp(vscppf,null,"The user will paste some code from below and above the cursor.",vscpp("br",null)),d&&h&&vscpp(vscppf,null,"You must insert code surrounded with ```  which fits perfectly between above and below.",vscpp("br",null)),d&&h&&vscpp(vscppf,null,"You must not update the code from the user.",vscpp("br",null)),d&&!h&&vscpp(vscppf,null,"The user will paste some code from above the cursor.",vscpp("br",null)),d&&!h&&vscpp(vscppf,null,"You must insert code surrounded with ```  which fits perfectly after above.",vscpp("br",null)),d&&!h&&vscpp(vscppf,null,"You must not update the code from the user.",vscpp("br",null)),!d&&h&&vscpp(vscppf,null,"The user will paste some code from below the cursor.",vscpp("br",null)),!d&&h&&vscpp(vscppf,null,"You must insert code surrounded with ```  which fits perfectly above the user's code.",vscpp("br",null)),!d&&h&&vscpp(vscppf,null,"You must not update the code from the user.",vscpp("br",null)),g&&vscpp(vscppf,null,"You must generate a code block surrounded with ``` that will be used in a new file",vscpp("br",null)),vscpp(Kr,null),vscpp("br",null),["Here is an example:","","[EXAMPLE 1]","[USER]: File name: `/Users/someone/Projects/proj01/example.ts`.","[USER]: I have the following code below the cursor:","```","   return a2 + b2;","}","```","[USER]: Fill in the code","[USER]: I have the following code above the cursor:","```","function sumSquared(a: number, b: number) {","```","[ASSISTANT]: Sure, here it is:","```","   const a2 = a * a;","   const b2 = b * b;","```","","[EXAMPLE 2]","[USER]: File name: `/Users/someone/Projects/proj01/sample.ts`.","[USER]: I have the following code below the cursor:","```","   sayHello() { console.log(`hello`); }","}","```","[USER]: add sayGoodBye","[USER]: I have the following code above the cursor:","```","class Person {","```","[ASSISTANT]: Sure, here it is:","```","   sayGoodBye() { console.log(`good bye`); }","```"].join(`
`)),vscpp(Le,null,"File name: `",a.uri.path,"`.",vscpp("br",null)),this.props.history&&vscpp(Le,null,this.props.history),h&&vscpp(Le,null,"I have the following code below the cursor:",vscpp(eo,{code:m})),vscpp(Le,null,this.props.query),d&&vscpp(Le,null,"I have the following code above the cursor:",vscpp(eo,{code:p})),g&&vscpp(Le,null,"I am in an empty file:",vscpp(vs,{language:u,document:a,code:""})))}_renderWithStructure(e,r,n){let{language:i,document:o}=this.props.documentContext,a=n.endpoint.modelMaxPromptTokens/3*4,u=Eae(a,this.props.documentContext.document,e.wholeRange,r),c=o.offsetAt(e.wholeRange.end),l=u.convertOriginalOffsetToPostEditsOffset(c),f=u.transformer.getPosition(l),p=u.text.length>0,m=u.text.substring(0,l),d=u.text.substring(l),h=`${m}$PLACEHOLDER$${d}`;return vscpp(vscppf,null,vscpp("replyInterpreter",{value:(v,_)=>new aq(v,_,u,f,i,this.props.documentContext.fileIndentInfo,4)}),vscpp(_r,null,"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"You are a world class expert in programming, and especially good at ",i.languageId,".",vscpp("br",null),"The user needs help to write some new code.",vscpp("br",null),"Your reply must not contain $PLACEHOLDER$.",vscpp("br",null),p&&vscpp(vscppf,null,"The user includes existing code and marks with $PLACEHOLDER$ where the new code should go.",vscpp("br",null)),!p&&vscpp(vscppf,null,"You must generate a code block surrounded with ``` that will be used in a new file",vscpp("br",null)),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),p&&vscpp(Le,null,"I have the following code in a file called `",o.uri.path,"`:",vscpp(eo,{languageId:i.languageId,code:h})),vscpp(Le,null,this.props.query,vscpp("br",null),p&&vscpp(vscppf,null,"The code that would fit at $PLACEHOLDER$ is:")))}},aq=class{constructor(e,r,n,i,o,s,a){this._cursorPosition=i;this._language=o;this._fileIndentInfo=s;this._streaming=void 0;this._lastText=void 0;if(this._workingCopySummarizedDoc=new xD(n),r){let u=this._workingCopySummarizedDoc.createTransformingProgress(e),c=new xb(u,this._workingCopySummarizedDoc.text,this._workingCopySummarizedDoc.text.split(`
`).map((l,f)=>new yb(f,4)),new bb(i.line,i.line),s);this._streaming=new zC(u,c,o,new oU(i,i),a)}}update(e){return this._streaming?.update(e),this._lastText=e,{shouldFinish:Bl(e)}}async finish(){let{didStreamingEdits:e}=await this._streaming?.finish()??{didStreamingEdits:!1};if(e)return{type:"inlineEdit",edits:[],newWholeRange:void 0};if(!this._lastText)throw new Error("No text");let n=Uc(this._lastText).at(0);if(!n)return{type:"conversational",content:this._lastText};let i=vae(n.code,this._cursorPosition,this._fileIndentInfo,new Vp(this._workingCopySummarizedDoc.text,this._language.languageId));return{type:"inlineEdit",edits:this._workingCopySummarizedDoc.rebaseEdits(i),newWholeRange:void 0}}};var TD=class extends Ue{render(){if(!Fr(this.props.documentContext.document.uri))throw Ho("InlineChatNotebookBasePrompt should be used only with a notebook!");let e=this.props.documentContext.language;return vscpp(vscppf,null,vscpp(_r,null,vscpp(Jm,{language:e}),vscpp("br",null),"When dealing with Jupyter Notebook, if a module is already imported in a cell, it can be used in other cells directly without importing it again. For the same reason, if a variable is defined in a cell, it can be used in other cells as well",vscpp("br",null),"When dealing with Jupyter Notebook, cells below the current cell can be executed before the current cell, you must use the variables defined in the cells below, unless you want to overwrite them.",vscpp("br",null),"When dealing with Jupyter Notebook, do not generate CELL INDEX in the code blocks in your answer, it is only used to help you understand the context.",vscpp("br",null),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),vscpp(ob,{documentContext:this.props.documentContext}),vscpp(Le,null,this.props.query))}};var sh=class t{constructor(e,r,n){this.accessor=e;this.documentContext=r;this.editStrategy=n;this.replyInterpreterFactory=null}static async createIntentInvocation(e,r,n,i,o){let{location:s,documentContext:a}=n;if(!a)throw new Error("Open a file to add code.");let u=new t(r,a,i);return{intent:e,location:s,endpoint:o,promptCrafter:u,createReplyInterpreter:(c,l)=>u.createReplyInterpreter(c,l)}}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns[e.turns.length-2].request.message:void 0,l;Fr(this.documentContext.document.uri)?l=TD:l=this.editStrategy===4?ED:fD;let f=new Gn(this.accessor,r,l,{documentContext:this.documentContext,query:u,history:c}),p=await f.render(i,s);return this.replyInterpreterFactory=f.getReplyInterpreterFactory(),this.selectionContextMetadata=f.getMeta(ki),p}createReplyInterpreter(e,r){if(this.replyInterpreterFactory)return this.replyInterpreterFactory(e,r);if(!this.selectionContextMetadata)throw new Error("Could not create reply interpreter without selection context metadata");return r?new VC(this.accessor,this.selectionContextMetadata,this.documentContext,this.editStrategy,e):new xv(this.accessor,this.selectionContextMetadata,this.documentContext,this.editStrategy,e)}};var ah=class t{constructor(){this.id=t.ID;this.description=Cae.t("Make changes to existing code");this.intentDetectionInput={sampleQuestion:"Change this method to use async/await",modelDescription:"Make changes to existing code"};this.locations=[1];this.commandInfo={hiddenFromUser:!0}}static{this.ID="edit"}async invoke(e,r){let n=await jt(e,this.locations[0],this.id);return sh.createIntentInvocation(this,e,r,2,n)}};var Cq=Ie(vn());function Iae(t,e){let r=t;for(let n of e){let i=n.range.start,o=n.range.end,s=r.start,a=r.end,u=n.newText.split(`
`).length,c=u-(o.line-i.line)-1,l=s.line,f=s.line;o.isBefore(s)?(l=s.line+c,f=a.line+c):i.isBefore(s)&&o.isAfterOrEqual(s)&&o.isBeforeOrEqual(a)?(l=i.line,f=a.line+c):i.isAfterOrEqual(s)&&i.isBeforeOrEqual(a)&&o.isAfter(a)?(l=s.line,f=o.line+c):i.isAfter(a)?(l=s.line,f=a.line):r.contains(n.range)?(l=s.line,f=a.line+c):n.range.contains(r)&&(l=i.line,f=i.line+u-1),r=new ze(l,0,f,0)}return r}var ZMe=15,SD=class extends Ue{async prepare(){let{document:e,selection:r}=this.props.documentContext,n=Kl(this.accessor.get(di),e.uri,r,this.props.query),i=n.length>0?oD(n):r,o=this.accessor.get(qn).getTreeSitterAST(e),s=o?await aD(o,i,ZMe):i;return{range:i,rangeOfInterest:s,diagnostics:n}}render({range:e,rangeOfInterest:r,diagnostics:n},i){let o=this.props.documentContext;if(Fr(this.props.documentContext.document.uri))throw Ho("InlineFix4Prompt should not be used with a notebook!");let{contextInfo:s}=sD(i.endpoint,o,e,r),a=o.document,u=[{uri:a.uri,version:a.version,ranges:Er([s.range.toRange(),s.above.toRange(),s.below.toRange()])}];return vscpp(vscppf,null,vscpp("usedContext",{value:u}),vscpp("meta",{value:new tf(c=>new YC(this.accessor,e,s,o,c))}),vscpp(_r,null,"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"Follow the user's requirements carefully & to the letter.",vscpp("br",null),"First think step-by-step how you would fix the issue.",vscpp("br",null),"You are expected to either edit the selected code or propose a bash command to install missing packages.",vscpp("br",null),"If you propose a code change, use a single code block that starts with ``` and ",Hn.forLanguage(o.language),".",vscpp("br",null),"If you propose to run a bash command, use a code block that starts with ```bash.",vscpp("br",null),"When adding missing imports, always insert them inside of the selected code at the top, do not replace the rest of the selected code.",vscpp("br",null),"Describe in a single sentence how you would solve the problem. After that sentence, add an empty line. Then add a code block with the fix.",vscpp("br",null),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),s.above.hasContent&&vscpp(Le,null,"I have the following code above the selection:",vscpp("br",null),vscpp(zo,{codeRegion:s.above,useMarkers:!0})),s.below.hasContent&&vscpp(Le,null,"I have the following code below the selection:",vscpp("br",null),vscpp(zo,{codeRegion:s.below,useMarkers:!0})),s.range.hasContent&&vscpp(Le,null,"I have the following code in the selection:",vscpp("br",null),vscpp(zo,{codeRegion:s.range,useMarkers:!0}))||vscpp(Le,null,"There is no code in the selection.",vscpp("br",null)),vscpp(Le,null,"Only change the code inside of the selection, delimited by markers '",s.range.startMarker,"' and '",s.range.endMarker,"'. The code block with the suggested changes should also contain the markers."),vscpp(Wl,{documentContext:o,diagnostics:n}),vscpp(Le,null,"Describe in a single sentence how you would solve the problem. After that sentence, add an empty line. Then add a code block with the fix.",vscpp("br",null),this.props.query,vscpp("br",null)))}},YC=class{constructor(e,r,n,i,o){this.accessor=e;this.wholeRange=r;this.contextInfo=n;this.documentContext=i;this.progress=o;this._lastText=void 0}update(e){return this._lastText=e,{shouldFinish:Bl(e)}}async finish(){if(!this._lastText)throw new Error("No text");let e=Yp(this.contextInfo,this._lastText,this.documentContext.language);if(!e||e.language==="bash"||e.language==="ps1")return{type:"conversational",content:this._lastText};let r=e.contentBeforeCode.match(/^.+/)?.[0],n=this.generateEdits(e.code),i=this.documentContext.document.version,o=s=>this.generateFollowUps(n,this.wholeRange,i,s);return zp(n,this.wholeRange,r,o)}generateEdits(e){return bv(this.accessor,this.contextInfo,e,2,this.documentContext.fileIndentInfo,Vp.fromDocumentContext(this.documentContext))}async generateFollowUps(e,r,n,i){let s=await this.accessor.get(di).waitForNewDiagnostics(this.documentContext.document.uri,i);if(!i.isCancellationRequested&&s.length&&this.documentContext.document.version!==n){let a=Iae(r,e),u=s.filter(c=>rae(c)&&c.range.intersection(a));if(u.length)return u.length===1?[{title:Z1.t("An error remains after applying the change, click here to iterate."),message:`/fix ${u[0].message}`}]:[{title:Z1.t("{0} errors remain after applying the change, click here to iterate.",u.length),message:"/fix Fix the remaining errors"}]}}};var $C=class extends Ue{static{this.NUM_LINES_LIMIT=100}async prepare(){let{document:e,wholeRange:r}=this.props.documentContext,{wholeRange:n}=await Ym(this.accessor,e,r);return{wholeRange:n}}render(e,r){let{document:n,language:i,selection:o}=this.props.documentContext;if(Fr(this.props.documentContext.document.uri))throw Ho("InlineFix4Prompt should not be used with a notebook!");let s=e.wholeRange,a=e9e(r.endpoint.modelMaxPromptTokens/3,this.props.documentContext,s),u=[{uri:n.uri,version:n.version,ranges:Er([a.toRange()])}],c=Kl(this.accessor.get(di),n.uri,o,this.props.query);return vscpp(vscppf,null,vscpp("usedContext",{value:u}),vscpp("meta",{value:new tf(l=>new cq(s,a,l))}),vscpp(_r,null,"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"The user has a ",i.languageId," file opened in a code editor.",vscpp("br",null),"The user expects you to propose a fix for one or more problems in that file.",vscpp("br",null),"For the response always follow these instructions:",vscpp("br",null),"Describe in a single sentence how you would solve the problem. After that sentence, add an empty line. Then add a code block with the fix.",vscpp("br",null),"When proposing a change in the code, use a single code block that starts with ```",i.languageId,". Provide the full code as provided, with the fix applied, including all unchanged lines.",vscpp("br",null),"When proposing to fix the problem by running a terminal command, provide the terminal script in a code block that starts with ```bash.",vscpp("br",null),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),a.hasContent&&vscpp(Le,null,"I have the following code open in the editor, starting from line ",a.firstLineIndex+1," to line ",a.lastLineIndex+1,":",vscpp(vs,{language:i,code:a.lines.join(`
`)}),vscpp("br",null),"The user has currently selected from line ",s.start.line+1,", column ",s.start.character+1," to line ",s.end.line+1," column ",s.end.character+1,"."),!a.hasContent&&vscpp(Le,null,"I am in an empty file:",vscpp(vs,{language:i,code:""})),c.length>0&&vscpp(Le,null,"We have ",c.length," ",c[0].source," ",c.length===1?"problem":"problems"," in this file:",vscpp("br",null),c.map(l=>vscpp(vscppf,null,"At line ",l.range.start.line+1," column ",l.range.start.character+1,": ",vscpp("br",null),l.message," ",vscpp("br",null),vscpp(BC,{diagnostic:l})))),vscpp(Le,null,this.props.query))}};function e9e(t,e,r){let n=t*4,i=new qs(n),o=new _o(i,e.document,e.language,"ed8c6549bwf9"),s=!1,a=p=>{o.prependLine(p)||(s=!0)},u=p=>{o.appendLine(p)||(s=!0)},c=e.document.lineCount,l=r.end.line;for(l=r.end.line;!s&&l>=r.start.line;l--)a(l);let f=r.end.line+1;for(;!s&&(l>=0||f<c);)l>=0&&a(l--),l>=0&&a(l--),f<c&&u(f++);return o.trim(e.selection),o}var cq=class{constructor(e,r,n){this.wholeRange=e;this.contextInfo=r;this._lastText=void 0}update(e){return this._lastText=e,{shouldFinish:Bl(e)}}async finish(){if(!this._lastText)throw new Error("No text");let e=t9e(this._lastText);if(!e||e.language==="bash"||e.language==="ps1")return{type:"conversational",content:this._lastText};let r=e.contentBeforeCode.match(/^.+/)?.[0],n=new js(this.contextInfo.firstLineIndex,this.contextInfo.lastLineIndex+1,GC.fromString(e.code));return zp([n.toTextEdit()],this.wholeRange,r)}};function t9e(t){let r=Uc(t).at(0);if(r){let n=pN(t);return{code:r.code,contentBeforeCode:n.slice(0,r.startLine).join(`
`).trimEnd(),language:r.language}}}var r9e=15,CD=class extends Ue{async prepare(){let{document:e,selection:r}=this.props.documentContext,n=Kl(this.accessor.get(di),e.uri,r,this.props.query),i=n.length>0?oD(n):r,o=this.accessor.get(qn).getTreeSitterAST(e),s=o?await aD(o,i,r9e):i;return{range:i,rangeOfInterest:s,diagnostics:n}}render({range:e,rangeOfInterest:r,diagnostics:n},i){let o=this.props.documentContext;if(!Fr(this.props.documentContext.document.uri))throw Ho("InlineFix4Prompt should not be used with a non-notebook!");let s=sD(i.endpoint,o,e,r),a=qN(this.accessor.get(ot),o,s.contextInfo,s.tracker),u=o.document,c=[{uri:u.uri,version:u.version,ranges:Er([a.range.toRange(),a.above.toRange(),a.below.toRange()])}];return vscpp(vscppf,null,vscpp("usedContext",{value:c}),vscpp("meta",{value:new tf(l=>new uq(this.accessor,e,a,o,l))}),vscpp(_r,null,vscpp(Jm,{language:o.language}),vscpp("br",null),"When dealing with Jupyter Notebook, if a module is already imported in a cell, it can be used in other cells directly without importing it again. For the same reason, if a variable is defined in a cell, it can be used in other cells as well",vscpp("br",null),"When dealing with Jupyter Notebook, cells below the current cell can be executed before the current cell, you must use the variables defined in the cells below, unless you want to overwrite them.",vscpp("br",null),"When dealing with Jupyter Notebook, do not generate CELL INDEX in the code blocks in your answer, it is only used to help you understand the context.",vscpp("br",null),"If you suggest to run a terminal command, use a code block that starts with ```bash.",vscpp("br",null),'When fixing "ModuleNotFoundError" or "Import could not be resolved" errors, always use magic command "%pip install" to add the missing packages. The imports MUST be inserted at the top of the code block and it should not replace existing code.',vscpp("br",null),"You should not import the same module twice.",vscpp("br",null),vscpp(Kr,null)),this.props.history&&vscpp(Le,null,this.props.history),vscpp(PC,{documentContext:o,above:a.above,range:a.range,below:a.below,aboveCells:a.aboveCells,belowCells:a.belowCells,includeDelimeters:!0}),vscpp(Wl,{documentContext:o,diagnostics:n}),vscpp(Le,null,"Describe in a single sentence how you would solve the problem. After that sentence, add an empty line. Then add a code block with the fix.",vscpp("br",null),this.props.query,vscpp("br",null)))}},uq=class extends YC{generateEdits(e){let r=e.split(`
`),n=[],i=[];for(let a of r)a.match(/^[%\!]pip/)?n.push(a):i.push(a);if(!n.length)return super.generateEdits(e);let o=[],s=th(n,{whichLine:"topMost",lines:this.contextInfo.range.lines},this.documentContext.fileIndentInfo).join(`
`)+`
`;return o.push(new Vo(new ze(this.wholeRange.start,this.wholeRange.start),s)),i.length&&o.push(...super.generateEdits(i.join(`
`))),o}};var Cb=class extends Ue{async prepare(){let e=Object.entries(Jl).reduce((r,[n,i])=>{let o=mi.getCommand(n,this.props.location)?.intent?.description;r+=`
* ${o}`;for(let s of i){let a=mi.getCommand(s,this.props.location)?.intent?.description;r+=`
* ${a}`}return r},"");return{modelName:this.props.endpoint.model.toUpperCase(),commandDescriptions:e}}render(e){return vscpp(vscppf,null,"You can answer general programming questions and perform the following tasks:",e.commandDescriptions,vscpp("br",null),"You use the ",e.modelName," version of OpenAI's GPT models.")}};var ZC=Ie(vn()),Vae=Ie(require("path"));var Fae=Ie(vn());var WC=class extends Error{constructor(){super(...arguments);this.name="ERROR_TYPE_MISSING_INACCESSIBLE_REPO_ORG"}},lq=class extends Error{constructor(){super(...arguments);this.name="ERROR_TYPE_DOCS_EMBEDDINGS_UNAVAILABLE"}},fq=class extends Error{constructor(){super(...arguments);this.name="ERROR_TYPE_NOT_INDEXED"}},pq=class extends Error{constructor(){super(...arguments);this.name="ERROR_TYPE_MAX_RETRIES_EXCEEDED"}},dq=class extends Error{constructor(){super(...arguments);this.name="ERROR_TYPE_NO_ACCESS_TO_ENDPOINT"}};function ID({error:t,message:e}){switch(t){case"ERROR_TYPE_MISSING_INACCESSIBLE_REPO_ORG":return new WC(e);case"ERROR_TYPE_DOCS_EMBEDDINGS_UNAVAILABLE":return new lq(e);case"ERROR_TYPE_MAX_RETRIES_EXCEEDED":return new pq(e);case"ERROR_TYPE_NO_ACCESS_TO_ENDPOINT":return new dq(e);case"ERROR_TYPE_NOT_INDEXED":return new fq(e);default:return new Error(e)}}function wae(t){let e=[`repo:${t.repo}`];return t.lang&&e.push(`(lang:${t.lang.join(" OR lang:")})`),t.notLang&&e.push(`NOT (lang:${t.notLang.join(" OR lang:")})`),t.path&&e.push(`(path:${t.path.join(" OR path:")})`),t.notPath&&e.push(`NOT (path:${t.notPath.join(" OR path:")})`),e.join(" ")}var wD=class{constructor(e){this._accessor=e;this._logger=this._accessor.get(Ae).getLogger("CodeOrDocsSearchClient");this._configurationService=this._accessor.get(Be)}async isAvailable(){try{return this._logger.debug("Trying to use API to see if it is available"),await this.search("the",{repo:"microsoft/vscode"},1,.1,void 0),!0}catch{return!1}}async search(e,r,n=6,i=.766,o){let s=this._accessor.get(gt),a=await s.getPermissiveGitHubToken({silent:!0})??await s.getAnyGitHubToken(),u=`${this._configurationService.getConfig(qe.AgentsEndpointUrl)}/search/${this.slug}`,c=5,l=0,f=new Set,p;for(;l<c;)try{let m={url:u,modelMaxPromptTokens:0,getExtraHeaders(){return{Accept:"application/json","Copilot-Integration-Id":"vscode-chat"}}},d=await jm(this._accessor,m,a??"",void 0,Ri(),{query:e,scopingQuery:wae(r),similarity:i,limit:n},o),h=await d.text();if(d.status===404||d.status===400&&h.includes("unknown integration")){this._logger.debug(`[repo:${r.repo}] ${this.slug} search endpoint not available for this user.`),p=ID({error:"ERROR_TYPE_NO_ACCESS_TO_ENDPOINT",message:`${this.slug}: ${h}`});break}let g;try{g=JSON.parse(h)}catch{throw new Error(`Status: ${d.status}. Error: ${h}`)}if(!g)return this._logger.debug(`[repo:${r.repo}] Got 0 results from ${this.slug} search for query: ${e}`),[];if(Array.isArray(g))return this._logger.debug(`[repo:${r.repo}] Got ${g.length} results from ${this.slug} search for query: ${e}`),g;this._logger.debug(`[repo:${r.repo}] Error thrown when querying '${e}': ${h}`),p=ID(g);break}catch(m){l++;let d=l*1e3;f.add(`Error fetching ${this.slug} search. ${m.message??m}`),this._logger.warn(`[repo:${r.repo}] Error fetching ${this.slug} search. Retrying in ${l} seconds. Query: ${e}`),await new Promise(h=>setTimeout(h,d))}throw l>=c&&(this._logger.warn(`[repo:${r.repo}] Max Retry Error thrown while querying '${e}'`),p=ID({error:"ERROR_TYPE_MAX_RETRIES_EXCEEDED",message:`${this.slug} search timed out after ${c} retries. ${Array.from(f).join(`
`)}`})),this._accessor.get(xt).sendExceptionTelemetry(p,`${this.slug} search failed`),p}},Sv=class extends wD{constructor(){super(...arguments);this.slug="code"}},Cv=class extends wD{constructor(){super(...arguments);this.slug="docs"}};var Nae=require("crypto"),Dae=Ie(Pae()),kae=require("util");var Ib=class{constructor(e,r){this.baseUri=e;this.pattern=r}get base(){throw new Error("Not implemented")}};var f9e=1e5,p9e=1*1024*1024,d9e=new Set(["jpg","jpeg","jpe","png","gif","bmp","tif","tiff","tga","ico","webp","svg","eps","heif","heic","pdf","raw","mp4","m4v","mkv","webm","mov","avi","wmv","flv","mp3","wav","m4a","flac","ogg","wma","weba","aac","7z","bz2","gz","gz","rar","tar","xz","zip","vsix","db","bin","dat","hex","map","wasm","pyc","pdb","sym","git"]),m9e=["node_modules","out","dist",".git",".yarn",".npm",".venv","foo.asar",".vscode-test"],h9e=[".DS_Store","Thumbs.db","package-lock.json","yarn.lock"],g9e=["vscode","vscode-userdata","output","inmemory","private","git"];function Iv(t,e){if(g9e.includes(t.scheme)||e&&!["file","untitled"].includes(t.scheme)&&!e.getWorkspaceFolders().some(i=>t.scheme===i.scheme))return!1;let r=Bs(t).replace(/\./,"").toLowerCase();return!(d9e.has(r)||h9e.includes(Bu(t).toLowerCase())||t.fsPath.toLowerCase().split(/[/\\]/g).some(i=>m9e.includes(i)))}async function v9e(t,e=f9e,r){let n=t.get(ot),i=t.get(Fp),o=t.get(Ar);if(await o.init(),r?.isCancellationRequested)return[];let s=new li;for(let a of n.getWorkspaceFolders()??[]){if(s.size>=e)break;let u=await i.findFilesWithDefaultExcludes(new Ib(a,"**/*"),e-s.size,r);if(r?.isCancellationRequested)return[];for(let c of u){let l=await o.isIgnored(c);Iv(c,n)&&!l&&s.set(c)}}return s.keys()}var RD=class{constructor(e,r){this._uri=e;this._accessor=r;this._isDisposed=!1;this._disposedCts=new fv}dispose(){this._isDisposed=!0,this._disposedCts.cancel(),this._disposedCts.dispose()}get uri(){return this._uri}async getHash(e){if(this._hash===void 0){let r=await this.getText(e);r!==void 0&&(this._hash=(0,Nae.createHash)("sha256").update(r).digest("hex"))}return this._hash}async getBasicChunks(e){return this._basicChunks??=this.getText(this._disposedCts.token).then(r=>this._isDisposed?[]:XC({text:r,accessor:this._accessor,uri:this._uri,shouldSemanticChunk:!1})),await vN(this._basicChunks,e)??[]}async getSemanticChunks(e){return ND(this.uri)?(this._semanticChunks??=this.getText(this._disposedCts.token).then(r=>this._isDisposed?[]:XC({text:r,accessor:this._accessor,uri:this._uri,shouldSemanticChunk:!0})),await vN(this._semanticChunks,e)??[]):this.getBasicChunks(e)}},vq=class extends RD{constructor(r,n,i){super(r,n);this._fs=i}async getText(r){return this._text??=this._fs.readFile(this.uri).then(async n=>this._isDisposed||n.byteLength>=p9e||await(0,Dae.isBinaryFile)(Buffer.from(n))||this._isDisposed?"":new kae.TextDecoder().decode(n),n=>""),await vN(this._text,r)??""}},PD=class extends RD{constructor(r,n){super(r.uri,n);this._textDocument=r}async getText(r){return this._textDocument.getText()}},rc=class{constructor(e){this._textDocumentFiles=new li;this._fsFiles=new li;this._disposables=[];this._listeners=new Set;this._accessor=e,this._fileSystem=e.get(Zi)}get size(){return this._fsFiles.size}dispose(){this._disposables.forEach(e=>e.dispose());for(let e of this._fsFiles.values())e.dispose();this._fsFiles.clear();for(let e of this._textDocumentFiles.values())e.dispose();this._textDocumentFiles.clear()}get(e){return this._textDocumentFiles.get(e)||this._fsFiles.get(e)}*entries(){let e=new li;for(let[r,n]of this._textDocumentFiles.entries())yield[r,n],e.set(r);for(let[r,n]of this._fsFiles.entries())e.has(r)||(e.set(r),yield[r,n])}*keys(){for(let[e]of this.entries())yield e}*values(){for(let[e,r]of this.entries())yield r}addListener(e){return this._listeners.has(e)?{dispose:()=>{}}:(this._listeners.add(e),{dispose:()=>{this._listeners.delete(e)}})}registerListeners(){let e=this._accessor.get(ot),r=this._accessor.get(Zi),n=this._accessor.get(ot),i=s=>{if(!Iv(s.uri,n))return;let a=this._textDocumentFiles.get(s.uri),u=this._fsFiles.get(s.uri);a&&a.dispose(),this._textDocumentFiles.set(s.uri,new PD(s,this._accessor)),!a&&!u?this._listeners.forEach(c=>c.onDidCreateFile?.(s.uri)):this._listeners.forEach(c=>c.onDidChangeFile?.(s.uri))};this._disposables.push(e.onDidOpenTextDocument(i)),this._disposables.push(e.onDidChangeTextDocument(s=>i(s.document))),this._disposables.push(e.onDidCloseTextDocument(s=>{let a=this._textDocumentFiles.get(s.uri);if(!a)return;this._textDocumentFiles.delete(s.uri),a.dispose(),this._fsFiles.get(s.uri)?this._listeners.forEach(c=>c.onDidChangeFile?.(s.uri)):this._listeners.forEach(c=>c.onDidDeleteFile?.(s.uri))}));let o=r.createFileSystemWatcher("**/*");this._disposables.push(o),this._disposables.push(o.onDidChange(s=>{if(!Iv(s,n))return;let a=this._fsFiles.has(s);this.createOrUpdateFsEntry(s),a?this._listeners.forEach(u=>u.onDidChangeFile?.(s)):this._listeners.forEach(u=>u.onDidCreateFile?.(s))})),this._disposables.push(o.onDidCreate(s=>{Iv(s,n)&&(this._fsFiles.has(s)||(this.createOrUpdateFsEntry(s),this._listeners.forEach(a=>a.onDidCreateFile?.(s))))})),this._disposables.push(o.onDidDelete(s=>{let a=this._fsFiles.get(s);a&&(a.dispose(),this._fsFiles.delete(s),this._listeners.forEach(u=>u.onDidDeleteFile?.(s)))}))}initialize(){return this._initializedWorkspacePromise??=(async()=>{this.registerListeners();let e=this._accessor.get(ot);await e.ensureWorkspaceIsFullyLoaded();for(let n of e.textDocuments)Iv(n.uri,e)&&this._textDocumentFiles.set(n.uri,new PD(n,this._accessor));let r=await v9e(this._accessor,void 0,Oc.None);for(let n of r)this.createOrUpdateFsEntry(n)})(),this._initializedWorkspacePromise}createOrUpdateFsEntry(e){let r=this._fsFiles.get(e);r&&r.dispose();let n=new vq(e,this._accessor,this._fileSystem);this._fsFiles.set(e,n)}};var lh=class extends fi{constructor(r){super();this._accessor=r}async toSemanticChunks(r,n){let i=this._accessor.get(rc),o=new li;for(let a of r){let u=o.get(a.file);u?u.push(a):o.set(a.file,[a])}let s=await Promise.all(Array.from(o,async([a,u])=>{let c=i.get(a);if(c&&ND(a)){let l=await c.getSemanticChunks(n);if(n.isCancellationRequested)return[];let f=new Set;for(let p of u){let m=!1;for(let d of l)d.range.intersection(p.range)&&(f.add(d),m=!0);m||f.add(p)}return Array.from(f)}else return u}));return Array.from(new Set(s.flat()))}};var Lae=require("path");var _9e="1.0.8",zu=class t{constructor(e){this._accessor=e;this._embeddingsMemoryCache=new Map;this.shouldSearchTimeout=!0;this._embeddingsComputer=e.get(Oi),this._workspaceIndex=e.get(rc),this._embeddingsStorageCache=new hb(e,2,"workspaceEmbeddingsCache",_9e),this._logger=e.get(Ae).getLogger("WorkspaceChunkEmbeddingsIndex"),this.loadCacheFromStorage()}static{this._MAX_EMBEDDINGS_COMPUTATION_TIME=1e4}static{this._MAX_CHUNK_LENGTH=2e3}get size(){return this._workspaceIndex.size}workspaceEmbeddingsInitialized(){return this._initializedWorkspacePromise??=this._workspaceIndex.initialize(),this._initializedWorkspacePromise}async triggerIndexing(e){let r=Array.from(this._workspaceIndex.values()),n=new Array;for(let o of r){let s=await o.getSemanticChunks(e);s=s.filter(a=>a.text.length<t._MAX_CHUNK_LENGTH),n.push(...s)}if(e.isCancellationRequested)return;let i=await this.getEmbeddings(n,e);this._logger.debug(`Indexed ${i.length} chunks`)}async searchFileChunks(e,r,n,i){let o;if(i)o=i;else{o=new Array;let u=(await Promise.all(Array.from(this._workspaceIndex.values(),c=>c.getSemanticChunks(n)))).flat();if(n.isCancellationRequested)return[];o.push(...u)}o=o.filter(u=>u.text.length<t._MAX_CHUNK_LENGTH);let s=this.shouldSearchTimeout?await Lp(this.getEmbeddings(o,n),t._MAX_EMBEDDINGS_COMPUTATION_TIME):await this.getEmbeddings(o,n);if(!s)throw new Error("Timeout computing embeddings");return iae(e,s,r)}async loadCacheFromStorage(){let e=await this._embeddingsStorageCache.getCache();e||await this._embeddingsStorageCache.clearCache(),this._embeddingsMemoryCache.clear();for(let[r,n]of Object.entries(e??{}))this._embeddingsMemoryCache.set(r,n)}async getEmbeddings(e,r){let n=new Array;for(let s of e){let a=this._embeddingsMemoryCache.get(s.text);a?s.embedding=a:n.push(s)}if(n.length===0)return e;let i=n.map(s=>{let a=this._accessor.get(ot).getWorkspaceFolder(s.file),u=a?(0,Lae.relative)(a.path,s.file.path):s.file.fsPath;return y9e(s,u)}),o=await this.computeEmbeddingsWithRetry(i,r);for(let s=0;s<n.length;s++){let a=n[s];a.embedding=o[s],this._embeddingsMemoryCache.set(a.text,a.embedding)}return e}async computeEmbeddingsWithRetry(e,r){let i=0,o;for(;i<3;)try{if(o=await this._embeddingsComputer.computeEmbeddings(e,r),!o)throw new Error("Failed to compute embeddings");return o}catch(s){if(i++,i===3)throw s;if(r.isCancellationRequested)throw new Error("Cancelled computing embeddings");this._logger.warn(`Error computing embeddings. Retrying in ${i} seconds. Error: ${s}`),await new Promise(a=>setTimeout(a,1e3*i))}throw new Error("Failed to compute embeddings")}};function y9e(t,e){return`File: \`${e}\`
${Li(Bs(t.file).replace(".",""),t.text)}`}var QC=class extends lh{constructor(r){super(r);this.id="codesearch";this._codeSearchClient=r.get(Sv),this._workspaceChunkIndex=r.get(rc),this._embeddingsIndex=r.get(zu),this._logger=r.get(Ae).getLogger("CodeSearchChunkSearch")}async searchFileChunks(r,n,i){if(!r.length||i.isCancellationRequested)return[];if(await this.initialized(),i.isCancellationRequested)return[];this._logger.debug("Fetching related workspace chunks in repository...");let o=await this.getSimilarFilesFromCodeSearch(r);return o?(this._logger.debug("Remapping chunks to semantic chunks..."),await this.toSemanticChunks(o,i)):[]}async isAvailable(){let r=this._accessor.get(Be).getConfig(qe.WorkspaceCodeSearchEnabled);return r===!1||r===void 0&&await this._accessor.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.useCodeSearch",!0)!==!0?!1:(this._isAvailable===void 0&&(this._isAvailable=this._codeSearchClient.isAvailable()),this._isAvailable)}initialized(){return this._embeddingsIndex.workspaceEmbeddingsInitialized()}async getSimilarFilesFromCodeSearch(r){let n=this._accessor.get(ot).getWorkspaceFolders(),i=this._accessor.safeGet(ec)?.repositories;if(!i){if(n.length)throw new Error("No repo contexts available for workspace folders");return}let o=[];for(let u=0;u<i.length;u++){let c=i[u];if(!c)continue;let l=lD(c);if(!l)continue;let f=n[u];for(let p of r)o.push(this.doCodeSearch(p.fullText,f,{repo:l}))}return(await Promise.all(o)).flat().sort((u,c)=>c.score-u.score)}async doCodeSearch(r,n,i){return(await this._codeSearchClient.search(r,i)).map(s=>{let a=this._workspaceChunkIndex.get(Pt.joinPath(n,s.path));if(a)return{file:a.uri,score:s.score,text:s.contents,range:new ze(s.range.start,0,s.range.end+1,0)}}).filter(s=>!!s)}};var DD=class t extends lh{constructor(r,n=!1){super(r);this._inTests=n;this.id="ada";this._embeddingsComputer=r.get(Oi),this._embeddingsIndex=r.get(zu),this._logger=r.get(Ae).getLogger("EmbeddingsCacheChunkSearch"),n&&(this._embeddingsIndex.shouldSearchTimeout=!1)}static{this.FILE_CAP=200}async searchFileChunks(r,n,i){if(!r.length||i.isCancellationRequested)return[];this._logger.debug("Computing embeddings for query...");let o=await this._embeddingsComputer.computeEmbeddings(r.map(s=>s.fullText),i);if(!o){if(this._inTests)throw new Error("Failed to compute query embeddings");return[]}return i.isCancellationRequested?[]:(await this.initialized(),i.isCancellationRequested?[]:(this._logger.debug("Fetching related workspace chunks in repository..."),await this._embeddingsIndex.searchFileChunks(o,n,i)))}async isAvailable(){return this._isAvailable===void 0&&(this._isAvailable=this.doIsAvailable()),this._isAvailable}async doIsAvailable(){return await this.initialized(),this._embeddingsIndex.size<t.FILE_CAP&&this.triggerIndexing(),!1}initialized(){return this._embeddingsIndex.workspaceEmbeddingsInitialized()}triggerIndexing(){this._initializedWorkspacePromise||(this._initializedWorkspacePromise=this._embeddingsIndex.triggerIndexing(Oc.None).then(()=>{this._isAvailable=Promise.resolve(!0),this._logger.debug("Workspace Chunk Embeddings Index initialized.")}).catch(r=>{this._logger.warn(`Failed to index workspace: ${r}`),this._initializedWorkspacePromise=void 0}))}};var Mae=Ie(require("path"));var Oae=require("worker_threads"),yq=class{constructor(e,r){this.logger=r;this.handlers=new Map;this.nextId=1;this.worker=new Oae.Worker(e),this.worker.on("message",({id:n,err:i,res:o})=>{let s=this.handlers.get(n);s&&(this.handlers.delete(n),i?s.reject(i):s.resolve(o))}),this.worker.on("error",n=>this.handleError(n)),this.worker.on("exit",n=>{n!==0&&this.handleError(new Error(`Worker thread exited with code ${n}.`))})}terminate(){this.worker.removeAllListeners(),this.worker.terminate(),this.handlers.clear()}handleError(e){this.logger?.exception(e);for(let r of this.handlers.values())r.reject(e);this.handlers.clear()}remoteCall(e,r){let n=this.nextId++,i,o,s=new Promise((a,u)=>{i=a,o=u});return this.handlers.set(n,{resolve:i,reject:o}),this.worker.postMessage({id:n,fn:e,args:r}),s}},fh=class{constructor(e,r){this.worker=new yq(e,r);let n={get:(i,o)=>(typeof o=="string"&&!i[o]&&(i[o]=(...s)=>{if(!this.worker)throw new Error("Worker was terminated!");return this.worker.remoteCall(o,s)}),i[o])};this.proxy=new Proxy(Object.create(null),n)}terminate(){this.worker.terminate()}};function JC(t,e){if(!t)return t;if(Array.isArray(t))return t.map(r=>JC(r,e));if(typeof t=="object"){let r=e(t);if(r)return r;let n={};for(let i in t)n[i]=JC(t[i],e);return n}return t}var b9e=Mae.default.join(__dirname,"tfidfWorker.js"),kD=class extends fi{constructor(r){super();this.id="tfidf";this._tfIdfWorker=new ma(()=>new fh(b9e));let n=i=>{let o=this._workspaceIndex.get(i);o&&this.addOrUpdateTfidfEntries([o])};this._workspaceIndex=r.get(rc),this._register(this._workspaceIndex.addListener({onDidChangeFile:n,onDidCreateFile:n,onDidDeleteFile:i=>{this._tfIdfWorker.value.proxy.delete(i)}}))}dispose(){super.dispose(),this._tfIdfWorker.hasValue&&this._tfIdfWorker.value.terminate()}initialized(){return this._initializePromise??=this._initializeWorkspaceFiles(),this._initializePromise}async searchFileChunks(r,n,i){if(await this.initialized(),i.isCancellationRequested)return[];let o=await this._tfIdfWorker.value.proxy.search(r.map(s=>s.keywords.join(", ")),n,-1/0);return E9e(o)}async isAvailable(){return await this.initialized(),!0}async _initializeWorkspaceFiles(){await this._workspaceIndex.initialize(),await this.addOrUpdateTfidfEntries(this._workspaceIndex.values())}async addOrUpdateTfidfEntries(r){let n=new X1(20);this._tfIdfWorker.value.proxy.addOrUpdate(x9e(await Promise.all(Array.from(r,i=>n.queue(async()=>({uri:i.uri,text:await i.getText(Oc.None),chunks:await i.getBasicChunks(Oc.None)}))))))}};function x9e(t){return JC(t,e=>{if(Pt.isUri(e))return{$mid:"uri",...e};if(e instanceof ze)return{$mid:"range",start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character}}})}function E9e(t){return JC(t,e=>{if(e.$mid==="range")return new ze(e.start.line,e.start.character,e.end.line,e.end.character);if(e.$mid==="uri")return Pt.revive(e)})}var LD=class extends lh{constructor(r){super(r);this.id="tfidf";this._tfidf=this._register(new kD(r)),this._logger=r.get(Ae).getLogger("TfIdfWithRerankChunkSearch")}async searchFileChunks(r,n,i){this._logger.debug("Performing full workspace search for chunks...");let s=await this._tfidf.searchFileChunks(r,n*2,i);if(i.isCancellationRequested||!s.length)return[];this._logger.debug("Remapping chunks to semantic chunks...");let a=await this.toSemanticChunks(s,i);return i.isCancellationRequested||!a.length?[]:a}isAvailable(){return this._tfidf.isAvailable()}};var $p=class t{constructor(e,r){this._accessor=e;this._forcedChunkSearchStrategy=r;this._workspaceChunkEmbeddingsIndex=this._accessor.get(zu);this._embeddingsComputer=this._accessor.get(Oi);this._logger=this._accessor.get(Ae).getLogger("WorkspaceChunkSearch");this._inTests=!!this._forcedChunkSearchStrategy,this._embeddingsCacheChunkSearch=new DD(e,this._inTests),this._codeSearchChunkSearch=new QC(e),this._tfIdfWithSemanticChunkSearch=new LD(e)}static{this.ADDITIONAL_RESULTS_TIMEOUT=5e3}dispose(){this._embeddingsCacheChunkSearch.dispose(),this._codeSearchChunkSearch.dispose(),this._tfIdfWithSemanticChunkSearch.dispose()}async triggerIndexing(){await Promise.allSettled([this._tfIdfWithSemanticChunkSearch.isAvailable(),this._embeddingsCacheChunkSearch.isAvailable()])}async searchFileChunks(e,r,n,i){let o=await this.getStrategies();if(i.isCancellationRequested)return[];let s=o.map(()=>new ha);for(let p=0;p<o.length;p++){let m=o[p],d=s[p];m.searchFileChunks(r,n,i).then(h=>{d.isSettled||d.complete(h)}).catch(h=>{d.isSettled||d.error(h)})}let a=s.map(p=>p.p);try{await Promise.any(a)}catch(p){let m=p;throw m.errors.length===1?m.errors[0]:p}if(i.isCancellationRequested)return[];let u=await Lp(Promise.allSettled(a),t.ADDITIONAL_RESULTS_TIMEOUT);if(i.isCancellationRequested)return[];if(!u){for(let p of s)p.isSettled||await p.cancel();u=await Promise.allSettled(a)}if(i.isCancellationRequested)return[];let c=new Array,l;for(let p=0;p<u.length;p++){let m=u[p],d=o[p];if(m.status==="fulfilled"){l||(l=d.id),c.push(...m.value);continue}if(m.reason instanceof WC&&d instanceof QC)try{if(await this._accessor.get(gt).getPermissiveGitHubToken({silent:!0}))continue;if(await this._accessor.get(gt).getPermissiveGitHubToken({forceNewSession:{detail:Fae.t("More permissions are required to search private repositories")}})){let g=await d.searchFileChunks(r,n,i);l=d.id,c.unshift(...g)}}catch{}}this.reportTopSuccessfulFlow(l);let f=this._accessor.get(Ar);return c=c.filter(p=>!f.isCopilotIgnored(p.file)),this.rerankChunks(e,r,c,n,i)}async rerankChunks(e,r,n,i,o){return this._accessor.get(Be).getConfig(qe.WorkspaceRerankStrategy)==="model"?this.sortChunksUsingModel(e,r,n,i,o):await this.getShouldUseAda()?o.isCancellationRequested?[]:this.rerankChunksUsingAda(r,n,i,o):n.slice(0,i)}async rerankChunksUsingAda(e,r,n,i){let o=await this._embeddingsComputer.computeEmbeddings(e.map(s=>s.fullText),i);if(i.isCancellationRequested)return[];if(!o){if(this._inTests){let s=new Error("Failed to compute query embeddings");throw this._logger.exception(s),this._accessor.get(xt).sendExceptionTelemetry(s,"Error"),s}return this._logger.warn("Failed to compute query embeddings"),r.slice(0,n)}try{return await this._workspaceChunkEmbeddingsIndex.searchFileChunks(o,n,i,r)}catch(s){return this._logger.warn("Failed to search chunk embeddings index: ",s),r.slice(0,n)}}async sortChunksUsingModel(e,r,n,i,o){let s=this._accessor.get(Tr),a=[];for(let u=0;u<n.length;u+=i){let c=n.slice(u,u+i),l=[...a,...c];OP(l);let f=await s.fetchOne([{role:"system",content:`
The user will provide you with question and a numbered list of code snippets.
You are to sort the code snippets by most to least helpful in answering the question.
If a code snippet is not related to the question in possible any way, you may opt not to include it in the list.
Return an ordered list of snippet numbers.
Only return snippet numbers.
Do not explain.
				`.trim()},{role:"user",content:`
Question: ${r[0].fullText}

${l.map((m,d)=>`# Snippet ${d}
 ${Li("",m.text)}`).join(`

`)}
					`.trim()}],async m=>{},o,2,e,{temperature:.1,top_p:1,stop:["dontStopBelieving"]},{messageSource:"workspaceChunkRerank"});if(o.isCancellationRequested)return[];if(f.type!=="success"){console.warn("Model re-rank failed");continue}let p=new Set(Array.from(f.value.matchAll(/\d+/g),m=>parseInt(m[0])));a=Er(Array.from(p).map(m=>l.at(m))).slice(0,i)}return a}async getStrategies(){let e=new Array;switch(this._forcedChunkSearchStrategy){case"codesearch":e.push(this._codeSearchChunkSearch);break;case"ada":e.push(this._embeddingsCacheChunkSearch);break;case"tfidf":e.push(this._tfIdfWithSemanticChunkSearch);break;default:await this._codeSearchChunkSearch.isAvailable()&&e.push(this._codeSearchChunkSearch),await this.getShouldUseAda()&&await this._embeddingsCacheChunkSearch.isAvailable()&&e.push(this._embeddingsCacheChunkSearch),e.push(this._tfIdfWithSemanticChunkSearch);break}return this._logger.debug(`Using ${e.map(r=>r.id).join(", ")} for chunk search`),e}async getShouldUseAda(){let e=this._accessor.get(Be).getConfig(qe.WorkspaceUseAdaEnabled);return e!==void 0?e:await this._accessor.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.workspaceUseAda",!0)??!0}reportTopSuccessfulFlow(e){this._logger.debug(`'${e}' was the top working workspace chunk search strategy`),this._accessor.get(pt).sendMSFTTelemetryEvent("workspaceChunkSearchStrategy",{strategy:e??"none"})}};function Uae(t,e,r){return Math.min(Math.max(t,e),r)}var xo=class extends Ue{render(e,r){let n=[],i=this.props.history.filter(s=>s.status==="success"||s.status==="in-progress"),o=0;for(let s of i){let a=this.props.priority&&this.props.priority-i.length+o;s.request.type==="user"&&n.push(vscpp(Le,{priority:a},s.request.message)),s.response?.type==="model"&&n.push(vscpp(MN,{priority:a},s.response.message)),o+=1}return vscpp(vscppf,null,n)}};var bq=class extends Ue{render(e,r){return vscpp(vscppf,null,this.props.history&&vscpp(xo,{priority:600,history:this.props.history}),vscpp(_r,{priority:1e3},"You are a coding assistant who help the user answer questions about code in their workspace by providing a list of relevant keywords they can search for to answer the question.",vscpp("br",null),"The user will provide you with potentially relevant information from the workspace. This information may be incomplete.",vscpp("br",null),"DO NOT ask the user for additional information or clarification.",vscpp("br",null),"DO NOT try to answer the user's question directly.",vscpp("br",null),vscpp("br",null),"# Additional Rules",vscpp("br",null),vscpp("br",null),"Think step by step:",vscpp("br",null),"1. Read the user's question to understand what they are asking about their workspace.",vscpp("br",null),"2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.",vscpp("br",null),"3. Output a precise version of question that resolves all pronouns to the nouns they stand for. Be sure to preserve the exact meaning of the question by only changing ambiguous pronouns.",vscpp("br",null),"4. Then output a short markdown list of up to 8 relevant keywords that user could try searching for to answer their question. These keywords could used as file name, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.",vscpp("br",null),"5. For each keyword in the markdown list of related keywords, if applicable add a comma separated list of variations after it. For example: for 'encode' possible variations include 'encoding', 'encoded', 'encoder', 'encoders'. Consider synonyms and plural forms. Do not repeat variations.",vscpp("br",null),vscpp("br",null),"# Examples",vscpp("br",null),vscpp("br",null),"User: Where's the code for base64 encoding?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),vscpp("br",null),"Where's the code for base64 encoding?",vscpp("br",null),vscpp("br",null),"- base64 encoding, base64 encoder, base64 encode",vscpp("br",null),"- base64, base 64",vscpp("br",null),"- encode, encoded, encoder, encoders"),this.props.fileTree&&vscpp(Le,{priority:700},this.props.fileTree),vscpp(Le,{priority:1e3},this.props.query))}};async function qae(t,e,r,n,i){let o=e.turns.length>1?e.turns.slice(0,-1):[];return new Gn(t,r,bq,{query:n,history:o,fileTree:i}).render()}function Hae(t){return t.reduce((r,n)=>r+n.value.length,0)+Math.max(0,t.length-1)}async function S9e(t,e=1/0,r){let n=Gae(0,t,e),i=e-Hae(n);for(;;){let o=!1,s=[];for(let a of n)if(a.type==="text")s.push(a);else if(a.type==="dir"){s.push({type:"text",value:a.value});let u=await a.getChildren();if(r?.isCancellationRequested)return"";let c=Gae(a.level+1,u,i-1);c.length&&(o=!0,i-=Hae(c)+1,s.push(...c))}if(n=s,!o)break}return n.map(o=>o.value).join(`
`)}function Gae(t,e,r){let n="	".repeat(t),i=[],o=r;for(let s=0;s<e.length;++s){let a=e[s],u=n+a.name+(a.type===2?"/":"");if(u.length>o){let c=n+"...";for(;c.length>o&&i.length>0;)o+=i.pop().value.length+1;c.length<=o&&i.push({type:"text",value:c});break}a.type===2?i.push({type:"dir",level:t,value:u,getChildren:a.getChildren}):i.push({type:"text",value:u}),o-=u.length,s!==e.length-1&&(o-=1)}return i}async function jae(t,e,r,n){let i=t.get(Zi),o=t.get(Ar);async function s(u){let c;try{c=await i.readDirectory(u)}catch(l){return console.error(l),[]}return n.isCancellationRequested?[]:(c.sort((l,f)=>l[0].localeCompare(f[0])),Promise.all(c.map(async l=>{let f=Pt.joinPath(u,l[0]);return Iv(f)&&!await o.isIgnored(f)?l:null})).then(l=>l.filter(f=>f!==null).map(f=>f[1]===2?{type:2,name:f[0],getChildren:()=>s(Pt.joinPath(u,f[0]))}:{type:1,name:f[0]})))}if(await o.init(),n.isCancellationRequested)return"";let a=await s(e);return n.isCancellationRequested?"":S9e(a,r,n)}var C9e=/^[\*\-]\s*(.+)/m;function Eq(t,e){let r=e.trim().split(`
`),n=0,i=[];for(let s of Array.from(r).reverse()){let a=s.match(C9e);if(a){let u=a[1].split(/,/g).map(c=>c.trim());u.length&&i.unshift({keyword:u[0],variations:u.slice(1)})}else if(i.length)break;n++}return{rephrasedQuestion:r.slice(0,-n).join(`
`).trim()||t.trim(),keywords:i}}var xq=class{constructor(){this.kind="workspace"}async resolveContext(e,r,n,i){let o=e.get(pt),s=r.message;if(!s||!r.conversation)return;let a=e.get(Tr);this.logger||(this.logger=e.get(Ae).getLogger("workspaceResolver")),this.logger.debug("Determining workspace structure..."),i?.report({message:ZC.t("Determining workspace structure")});let u=await OD(e,1e3,n);if(n.isCancellationRequested)return;this.logger.debug("Asking the model to update the user question and provide queries..."),i?.report({message:ZC.t("Deciding which workspace information to collect")});let{messages:c}=await qae(e,r.conversation,r.endpoint,s,u);if(n.isCancellationRequested)return;let l=await a.fetchOne(c,async p=>{},n,2,r.endpoint,{temperature:.1,top_p:1,stop:["dontStopBelieving"]},{messageSource:"workspaceIntent"});if(n.isCancellationRequested)return;if(l.type!=="success")throw o.sendMSFTTelemetryEvent("workspaceResolver.error",{type:l.type,reason:l.reason,requestId:l.requestId}),new Error(ZC.t("Encountered an error while deciding what workspace information to collect: ({0}) {1}",l.type,l.reason));let f=Eq(s,l.value);return this.logger.debug("Running all tools..."),i?.report({message:ZC.t("Gathering workspace info")}),this.runTools(e,r,f,n)}async runTools(e,r,n,i){let o={resolverContext:r,fullQuestionText:n.rephrasedQuestion,keywords:n.keywords};return(await Promise.all([OD(e,500,i).then(a=>a?{kind:this.kind,userMessages:[a]}:void 0),...R9e.map(a=>a.resolve(e,o,i))])).reduce((a,u)=>({kind:this.kind,userMessages:[...a.userMessages,...u?.userMessages??[]],references:[...a.references??[],...u?.references??[]],usedContext:[...a.usedContext??[],...u?.usedContext??[]]}),{kind:this.kind,userMessages:[]})}};async function OD(t,e=500,r){let n=t.get(ot).getWorkspaceFolders().at(0);if(!n)return;let i=await jae(t,n,e,r);return eI("I am working in a workspace that has the following structure:","",Li("",i))}var I9e=new class{constructor(){this.timeout=15e3}async resolve(t,e,r){let n=t.get(ot),i=await wv(t,{valueFor4096:8,maxMultiplier:4});if(r.isCancellationRequested)return;let o=await this.getSymbols(t,e);if(!(!o.length||r.isCancellationRequested))return{kind:"workspace",userMessages:[eI("Here are some potentially relevant symbols from the current workspace:","",...zae(o.map(s=>`- ${s.name} \u2014 ${tI(n,s.location.uri)}`)).slice(0,i))]}}async getSymbols(t,e){let r=t.get(Ar),n=await Promise.all(e.keywords.flatMap(o=>[o.keyword,...o.variations]).map(o=>Lp(t.get(Ja).getWorkspaceSymbols(o),this.timeout))),i=await Promise.all(n.flat().map(async o=>(o?await r.isIgnored(o.location.uri):!1)?null:o));return Er(i).filter(Boolean)}},w9e=new class{constructor(){this.timeout=15e3}async resolve(t,e,r){let n=t.get(ot),i=await wv(t,{valueFor4096:8,maxMultiplier:4});if(r.isCancellationRequested)return;let o=await this.findFiles(t,e,i,r);if(!(!o.length||r.isCancellationRequested))return{kind:"workspace",userMessages:[eI("Here are some potentially relevant file names from the workspace:","",...zae(o.map(s=>`- ${tI(n,s)}`)).slice(0,i))]}}async findFiles(t,e,r,n){let i=t.get(Ar),o=t.get(Fp),s=await Promise.all(e.keywords.flatMap(c=>[c.keyword,...c.variations]).map(c=>Lp(Promise.resolve(o.findFilesWithDefaultExcludes(`**/*${c}*`,r,n)),this.timeout))),a=Er(s.flat()),u=await Promise.all(a.map(c=>i.isIgnored(c)));return a.filter((c,l)=>!u[l])}},A9e=new class{async resolve(t,e,r){let n=t.get(ot),i=t.get($p),o=await wv(t,{valueFor4096:8,maxMultiplier:4});if(r.isCancellationRequested)return;let s={fullText:e.fullQuestionText,keywords:e.keywords.flatMap(l=>[l.keyword,...l.variations])},a=(await i.searchFileChunks(e.resolverContext.endpoint,[s],o,r)).slice(0,o);if(r.isCancellationRequested||!a.length)return;let u=new li;for(let l of a){let f=u.get(l.file)??[];l.isFullFile?f=[l]:f.some(p=>p.isFullFile||p.range.contains(l.range))||(f=[...f.filter(p=>!l.range.contains(p.range)),l]),u.set(l.file,f)}let c=Array.from(u.values()).flatMap(l=>l.sort((f,p)=>f.range.start.compareTo(p.range.start)||f.range.end.compareTo(p.range.end)).map(f=>new go(f.isFullFile?f.file:new J1(f.file,f.range))));return{kind:"workspace",userMessages:[eI("Here are some potentially relevant code excerpts from the workspace:","",a.map(l=>{let f=tI(n,l.file);return eI(`\`${f}\``,Li(Bs(l.file).replace(/\./g,""),l.text))}).join(`

`))],references:c}}},R9e=[I9e,w9e,A9e];function tI(t,e){let r=t.getWorkspaceFolder(e);return r?Vae.relative(r.path,e.path):e.fsPath}function zae(t){return[...new Set(t)]}function eI(...t){return t.join(`
`)}async function wv(t,e){let n=(await t.get(qc).getChatEndpointInfo()).modelMaxPromptTokens/4096;return Uae(Math.round(e.valueFor4096*n),e.valueFor4096,e.valueFor4096*e.maxMultiplier)}var MD=Gt.register(new xq);var rI=250;function ph(t){return new fr(t.row,t.column)}function dh(t){return new ze(ph(t.range.startPosition),ph(t.range.endPosition))}function rf(t){return t.replace(/\s+$/,"")}function Yae(t,e=2e4){return t.length>e?t.slice(0,e):t}var mh=class{constructor(e){this._accessor=e}genericWholeFileChunking({text:e,maxTokenLength:r=rI,removeEmptyLines:n=!0}){let i=e.split(/\r\n|\n/),o=new fr(0,0),s=[],a=[],u=0,c,l=()=>{let h=Tq(a);c=h.shortestLeadingCommonWhitespace,a=h.trimmedLines},f=(h,g)=>{a.push(h),u+=g},p=()=>u,m=h=>{let g=a.map(y=>y||`
`);if(g.length===1)g[0]=g[0]?.trim();else if(g.length===0)return;let v=new fr(h,g[g.length-1].length),_=new ze(o,v);s.push({text:g.reduce((y,x)=>y+x,""),range:_}),a=[],u=0,o=new fr(v.line+1,0),c=void 0},d=new ze(0,0,i.length-1,i[i.length-1].length);return this._processLinesIntoChunks(i,d,r,"",m,l,f,p,()=>c,n),a&&(c===void 0&&l(),m(d.end.line)),s.filter(h=>!n||h.text.length&&/[\w\d]{2}/.test(h.text))}_processLinesIntoChunks(e,r,n,i,o,s,a,u,c,l,f=()=>!1,p=0){let m=this._accessor.get(Mr),d=r.start.line,h=(v,_)=>{let y=n-(f()?p:0),x=c(),b=Yae(v);b=rf(b),x!==void 0&&(b.startsWith(x)?b=i+b.substring(x.length):o(d+_));let T=u(),k=m.tokenLength(b);T+k>y?x===void 0&&s?(s(),h(b,_)):(o(d+_),b.length&&h(m.leadingString(b,y),_)):b.length&&a(b+(_===e.length-1?"":`
`),k)},g="";for(let v=0;v<e.length;v++){let _=rf(e[v]);if(_.length===0&&v!==e.length-1){l||a(void 0,1);continue}h(g+_,v),g=""}}genericChunking({lineRangeText:e,maxTokenLength:r=rI,removeEmptyLines:n=!0,extraLineRangeSeparator:i="",numTokensInEllipsis:o=0}){let s=!0;if(r<0)throw Error("Cannot chunk text, not enough chunk room");if(e.length===0)return[];let a=e[0].range.start,u=[],c=this._accessor.get(Mr),l=c.tokenLength(i),f=[],p=0,m=(g,v)=>{f.push(g),p+=v},d=()=>p,h=g=>{s=!1;let v=f.map(x=>x||`
`);if(v.length===0){f=[],p=0;return}let _=new fr(g,v[v.length-1].length),y=new ze(a,_);u.push({text:rf(v.reduce((x,b)=>x+b,"")),range:y}),f=[],p=0,v[v.length-1].endsWith(`
`)?a=new fr(_.line+1,0):a=new fr(_.line,v[v.length-1].length)};for(let g=0;g<e.length;g++){let v=e[g];if(p>0&&g>0){let _=r-p;v.text.length>2e4||c.tokenLength(v.text)>_?(m(i,l),h(e[g-1].range.end.line)):l>0&&m(i,l)}this._processLinesIntoChunks(v.text.split(/\n/),v.range,r,"",h,void 0,m,d,()=>{},n,()=>s,o)}if(f&&h(e[e.length-1].range.end.line),u.length){let g=u[u.length-1];u.pop(),this._processLinesIntoChunks(g.text.split(/\n/),g.range,r-o,"",h,void 0,m,d,()=>{},n,()=>s,o),f&&h(e[e.length-1].range.end.line)}return u.filter(g=>!n||g.text.length&&/[^\s]/.test(g.text))}};function Tq(t){let e=t.map(o=>{if(!o)return;let s=o.match(/^\s+/),a=s?s[0]:"",u=o.substring(a?.length);return[a,u]}),r=e.filter(o=>!!o),n=P9e(r)??"",i=n.length;return{trimmedLines:e.map(o=>o?o[0].substring(i)+o[1]:void 0),shortestLeadingCommonWhitespace:n}}function P9e(t){let e;for(let r of t){if(e===void 0){e=r[0];continue}e=N9e(e,r[0])}return e??""}function N9e(t,e){let r=t.length<e.length?t:e;if(r.length===0)return"";for(let n=1;n<r.length;n++)t.substring(0,n)!==e.substring(0,n)&&r.substring(0,n-1);return r}var wb=class{constructor(e,r,n){this._queryTree=e;this.accessor=r;this._naiveChunker=new mh(r);let i=this.accessor.get(Mr);this._inlineComment=n?.blockWrap??{start:"",end:""},this._elipsisPlaceholder=n?.elipsisPlaceholder??"...",this._lookForIndentInHeader=n?.lookForIndentInHeader??!0,this._numTokensInEllipsis=i.tokenLength(this._elipsisPlaceholder)+1}get _summaryPlaceHolder(){return this._inlineComment.start+this._elipsisPlaceholder+this._inlineComment.end}async parse(e,r){let n=await this._queryTree,i=this._parseBlocks(n.roots,"",e,r),o=i.content.flat(),s=i.outline??[],a=this.createOutlineSummary("","",e,{text:n.syntaxTreeRoot.text,range:dh(n.syntaxTreeRoot)},s,new ze(0,0,n.syntaxTreeRoot.range.endPosition.row,n.syntaxTreeRoot.range.endPosition.column),"");return a.length===1&&(a[0]={...a[0],isFullFile:!0}),o.push(...a),o}_parseBlocks(e,r,n,i){return this._parseSemanticStructure(e,r,n,i,(o,s,a,u)=>{let c=u+s.text,l=()=>{if(c.trim().length===0)return{content:{text:[],isFull:!0}};let h;try{h=this._naiveChunker.genericChunking({lineRangeText:[{range:s.range,text:c}],maxTokenLength:a,numTokensInEllipsis:this._numTokensInEllipsis})}catch{return{content:{text:[],isFull:!1},outline:[]}}return{content:{text:h,isFull:!0}}};if(this.accessor.get(Mr).tokenLength(c)<=a)return{content:{text:[{range:s.range,text:c.replace(/(^\s*\n)|(\n\s*$)/g,"")}],isFull:!0}};if(o.length===0)return l();let p=this._parseBlocks(o,u,a,i),m=p.content,d=p.outline;return{content:{text:m,isFull:!1},outline:d}})}_createOutlineBody(e,r,n){let i=(n+e.text).split(`
`),o=e.range.start,s=[],a=o,u=p=>{let m=p.line-o.line,d=p.character;return o.line===p.line&&(d=p.character-o.character),new fr(m,d)},c=p=>{let m=p.line-o.line,d=m>=i.length||p.character===i[m].length-1;return{newPosition:new fr(p.line,p.character+1),isNewLine:d}},l=(p,m)=>{if(p.line>m.line||p.line===m.line&&p.character>m.character)return;let d=[],h=u(p),g=u(m),v=i[h.line].substring(h.character);if(h.line===g.line){let y=v.substring(0,g.character-h.character),x=c(m);a=x.newPosition,x.isNewLine&&(y+=`
`),d.push(y)}else{let y=i[g.line].substring(0,g.character);y=y.replace(new RegExp(`${n}$`),"");let x=c(m);a=x.newPosition,x.isNewLine&&(y+=`
`),d.push(v+`
`);for(let b=h.line+1;b<g.line;b++)d.push(i[b]+`
`);d.push(y)}let _=d.join("");s.push({text:_.replace(/(^\s+\n)/,""),range:new ze(p,m)})},f=p=>{s.push({text:p.summary+`

`,range:p.range})};return r.sort((p,m)=>p.range.start.line-m.range.start.line||p.range.end.line-m.range.end.line),r.forEach(p=>{l(a,p.range.start),f(p),a=c(p.range.end).newPosition}),l(a,e.range.end),s}createOutlineSummary(e,r,n,i,o,s,a){let u=this._createOutlineBody(i,o.map(l=>({summary:rf(l.summary),range:l.range})),a),c;try{c=this._naiveChunker.genericChunking({lineRangeText:u,removeEmptyLines:!1,maxTokenLength:n,numTokensInEllipsis:this._numTokensInEllipsis})}catch{return[]}return this._createSummary(e,r,c,s,a)}_createSummary(e,r,n,i,o){return n.length===0?[]:Er(n.map((s,a)=>{let u=e.length===0?"":`${e}`;a!==0&&(u+=`${o}${this._elipsisPlaceholder}
`);let c="";if(a!==n.length-1&&(c+=`
${o}${this._elipsisPlaceholder}`),r.length>0&&(c+=r),Array.isArray(s))return Er(s.map(l=>{if(l.text.trim().length!==0)return{range:l.range,text:u+l.text+c}}));if(s.text.trim().length!==0)return{range:new ze(a===0?i.start:s.range.start,s.range.end),text:u+s.text+c}})).flat()}findNewIndent(e,r,n){let o=(this._lookForIndentInHeader?r.text.substring(0,n.startIndex-r.startIndex):n.text).match(new RegExp(`\\n+(\\s*)${e}${this._lookForIndentInHeader?"$":""}`));return o&&o.length>1?o[1]:""}};var Hc=class extends wb{_parseSemanticStructure(e,r,n,i,o){let s=[],a=c=>{let l=[],f=c.info,p=f.mainBlock,m=f.detailBlocks.comments,d=f.detailBlocks.body,h=this._getInnerLineRangeText({text:d.text,range:dh(d)}),g=d.startIndex-p.startIndex+h.prefix.length,v=this.findNewIndent(r,p,d),_="";for(let P of m)_+=r+P.text+`
`;let y=r+p.text.substring(0,g),x=_+y,b=dh(p);m.length>0&&(b=b.with(ph(m[0].range.startPosition)));let T=this.accessor.get(Mr),k=i*n,U=x.replace(/(\n*)(\n\s*)$/g,`
`),z=T.tokenLength(U);z>k&&(U=y,z=T.tokenLength(y),z>k&&(U="",z=0));let D=h.suffix+p.text.substring(d.endIndex-p.startIndex),fe=T.tokenLength(U+`
`+D),Q=n-fe,O=o(c.children,h.body,Q,r+v);b=new ze(b.start,ph(p.range.endPosition)),l.push(...this._createSummary(U,D,O.content.text,b,r+v));let w=rf(_+r+p.text.substring(0,d.startIndex-p.startIndex));return s.push({summary:w+" "+this._summaryPlaceHolder,range:b}),O.outline!==void 0&&l.push(...this.createOutlineSummary(U,D,Q,h.body,O.outline,b,r+v)),l},u=e.map(c=>a(c));return{outline:s,content:u}}_getInnerLineRangeText(e){let r=e.text.replace(/(^\s*\{\s*)|(\s*\}\s*$)/g,""),n=e.text.indexOf(r),i=e.text.substring(0,n),o=e.text.substring(n+r.length),s=(i.match(/\n/g)||[]).length,a=i.match(/\n(.+)$/g)?.length??0,u=(r.match(/\n/g)||[]).length,c=r.match(/\n(.+)$/g)?.length??0,l=new fr(e.range.start.line+s,s===0?e.range.start.character+a:a),f=new fr(e.range.start.line+u,u===0?e.range.start.character+c:c),p=i.replace(/\{[^\S\r\n]*/g,"{"),m=o.replace(/\}[^\S\r\n]*/g,"}");return{prefix:p,body:{text:r,range:new ze(l,f)},suffix:m}}};var FD=class{constructor(e,r){this._text=e;this.accessor=r;this.naiveChunker=new mh(r)}parse(e){let r=this._getLineRangeText();return this.naiveChunker.genericChunking({lineRangeText:r,maxTokenLength:e,extraLineRangeSeparator:`

`})}_getLineRangeText(){let e=this._text.split(`
`),r=[],n=new fr(0,0),i=[];for(let o=0;o<e.length;o++)if(e[o].trim().length===0){r.length>0&&(i.push({text:r.join(`
`),range:new ze(n,new fr(o,e[o].length))}),r.length=0,n=new fr(o+1,0));continue}else r.push(e[o]);return r.length>0&&i.push({text:r.join(`
`),range:new ze(n,new fr(e.length-1,e[e.length-1].length-1))}),i}};var UD=class extends wb{_parseSemanticStructure(e,r,n,i,o){let s=[],a=c=>{let l=[],f=c.info,p=f.mainBlock,m=f.detailBlocks.decorator,d=f.detailBlocks.docstring,h=f.detailBlocks.body,g=p.text.length-1;d?g=d.endIndex-p.startIndex:h&&(g=h.startIndex-p.startIndex);let v=this.findNewIndent(r,p,h),_=m?r+m.text+`
`:"",y=r+p.text.substring(0,g),x=_+y+`
`,b=dh(p);m&&(b=b.with(ph(m.range.startPosition)));let T=this.accessor.get(Mr),k=i*n,U=x.replace(/\n+\s*$/g,`
`),z=rf(x),D=T.tokenLength(U);D>k&&(U=r+x.substring(0,h.startIndex-p.startIndex),D=T.tokenLength(U),D>k&&(U="",D=0)),b=new ze(b.start,ph(p.range.endPosition)),s.push({summary:d?z+`
${v}`+this._summaryPlaceHolder:z+" "+this._summaryPlaceHolder,range:b});let fe={text:h.text,range:dh(h)},Q=o(c.children,fe,n-D,r+v),O=r+p.text.substring(0,h.startIndex-p.startIndex).replace(/\n+\s*$/g,`
`);return Q.content.isFull&&(U=O),l.push(...this._createSummary(U,"",Q.content.text,b,r+v)),Q.outline!==void 0&&l.push(...this.createOutlineSummary(O,"",n-D,fe,Q.outline,b,r+v)),l},u=e.map(c=>a(c));return{outline:s,content:u}}};var D9e=.6;function nf(t){return t!=="python"&&t!=="ruby"?{elipsisPlaceholder:"/*...*/",blockWrap:{start:"{",end:"}"},lookForIndentInHeader:!1}:{}}var k9e=[{fileExtensions:["ts","mts","cts"],parse:(t,e,r)=>new Hc(of(r,t,"typescript"),r,nf("typescript")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["tsx"],parse:(t,e,r)=>new Hc(of(r,t,"tsx"),r,nf("tsx")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["js","mjs","cjs","jsx"],parse:(t,e,r)=>new Hc(of(r,t,"javascript"),r,nf("javascript")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["py"],parse:(t,e,r)=>new UD(of(r,t,"python"),r,nf("python")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["java"],parse:(t,e,r)=>new Hc(of(r,t,"java"),r,nf("java")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["cpp","cc","c++","cp","cxx","cppm","hpp","h","c"],parse:(t,e,r)=>new Hc(of(r,t,"cpp"),r,nf("cpp")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["cs"],parse:(t,e,r)=>new Hc(of(r,t,"csharp"),r,nf("csharp")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["go"],parse:(t,e,r)=>new Hc(of(r,t,"go"),r,nf("go")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["md"],parse:(t,e,r)=>Promise.resolve(new FD(t,r).parse(e.maxTokenLength))},{fileExtensions:["rb"],parse:(t,e,r)=>new Hc(of(r,t,"ruby"),r,nf("ruby")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)},{fileExtensions:["rs"],parse:(t,e,r)=>new Hc(of(r,t,"rust"),r,nf("rust")).parse(e.maxTokenLength,e.maxHeaderLengthFactor)}];function Wae(t){let e=Bs(t).toLowerCase().replace(/\./,"");return k9e.find(r=>r.fileExtensions.includes(e))}function ND(t){return!!Wae(t)}var Sq;async function of(t,e,r){let n=e.replace(/\r\n/g,`
`),i=t.get(qn);return Sq=Sq?.then(()=>i.getSemanticChunkTree(r,n))??i.getSemanticChunkTree(r,n),await Sq}async function XC({text:t,accessor:e,maxTokenLength:r,uri:n,maxHeaderLengthFactor:i=D9e,shouldSemanticChunk:o=!1}){let s=[];r===void 0&&(r=await L9e(e));try{if(o){let a=await Wae(n)?.parse(t,{maxTokenLength:r,maxHeaderLengthFactor:i},e);a&&s.push(...a.map(u=>({file:n,text:u.text,range:u.range,isFullFile:u.isFullFile})))}}catch(a){let u=e.get(Ae).getLogger("WorkspaceChunkSearch");u.error("Error parsing semantic chunks for the following file: "+n.fsPath),u.error(a),s=[]}if(!s.length){let a=new mh(e).genericWholeFileChunking({text:t,maxTokenLength:r});s.push(...a.map(u=>({file:n,text:u.text,range:u.range,isFullFile:a.length===1})))}return s.filter(a=>a.text)}async function L9e(t){return wv(t,{valueFor4096:rI,maxMultiplier:4})}var BD=class extends Ue{async prepare(e){let r=await this.accessor.get(ot).openTextDocument(this.props.variableValue),n=r.getText().replace(/\r/g,""),i=n;switch(e.zoomLevel){case 0:break;default:if(r.languageId==="markdown")i=await this.truncateMarkdownContent(n,r,e,i);else{let o=await CC(this.accessor,r,1e3);i=O9e(n,o,"")}}return{variableBody:Li(r.languageId,i)}}async truncateMarkdownContent(e,r,n,i){let o=await XC({text:e,accessor:this.accessor,uri:r.uri,shouldSemanticChunk:!0}),s=`

<!-- Content truncated -->`,a=this.accessor.get(Mr),u=a.tokenize(s).length,c=Math.floor(n.tokenBudget/4)-u,l="",f=0,p=!1;for(let m of o){let d=a.tokenize(m.text);if(d.length+f>c){p=!0;break}l+=`

`+m.text,f+=d.length}return p&&(l+=s),i=l,i}render(e,r){if(e.variableBody)return vscpp(Le,{priority:this.props.priority},"# ",this.props.variableName.toUpperCase()," CONTEXT",vscpp("br",null),e.variableBody)}};function O9e(t,e,r){if(e.length===0)return t;let n=0,i="";for(let o of e)n<o.startIndex&&(i+=t.substring(n,o.startIndex),i+=r,n=o.endIndex);return i}var hh=class extends Ue{async prepare(){let{query:e,chatVariables:r}=this.props,n=/(^|\s)\[([^\]]+)\]\(values:([^\)]+)\)/ig,i=[];for(;;){let o=n.exec(e);if(!o)return{data:i,rewrittenMessage:e};let[s,a,u,c]=o,l=r[c];if(!l||l.length===0)continue;let f=c.replace(/^#/,""),p=l.find(m=>m.level===IN.Full)??l[0];p.kind==="github.docset"?e=e.slice(0,o.index)+a+p.value+e.slice(o.index+s.length):(i.push({variableName:f,variableValue:p.value}),e=e.slice(0,o.index)+a+`[${u}](#${f}-context)`+e.slice(o.index+s.length))}}render(e,r){let n=[];for(let{variableName:i,variableValue:o}of e.data)o instanceof ga?n.push(vscpp(BD,{variableName:i,variableValue:o})):n.push(vscpp(Le,{priority:this.props.priority&&this.props.priority-1},"# ",i.toUpperCase()," CONTEXT",vscpp("br",null),o));return vscpp(vscppf,null,...n,vscpp(Le,{priority:this.props.priority},e.rewrittenMessage))}};var qD=class extends Ue{render(e,r){let n=this.props.documentContext,i=({document:s,selection:a})=>Kl(this.accessor.get(di),s.uri,a,this.props.query),o=Gs(this.accessor);return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"Follow the user's requirements carefully & to the letter.",vscpp("br",null),vscpp(Kr,null),vscpp("br",null),vscpp("br",null),vscpp(Cb,{location:2,endpoint:this.props.endpoint}),vscpp("br",null),"First think step-by-step - describe your plan for what to build in pseudocode, written out in great detail.",vscpp("br",null),"Then output the code in a single code block.",vscpp("br",null),"Minimize any other prose.",vscpp("br",null),"Use Markdown formatting in your answers.",vscpp("br",null),"Make sure to include the programming language name at the start of the Markdown code blocks.",vscpp("br",null),"Avoid wrapping the whole response in triple backticks.",vscpp("br",null),"The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.",vscpp("br",null),"The active document is the source code the user is looking at right now.",vscpp("br",null),"You can only give one reply for each conversation turn.",vscpp("br",null),vscpp("br",null),"Additional Rules",vscpp("br",null),"You specialize in being a highly skilled code generator. Your task is to help the Developer fix an issue.",vscpp("br",null),"If context is provided, try to match the style of the provided code as best as possible.",vscpp("br",null),"Generated code is readable and properly indented.",vscpp("br",null),"Markdown blocks are used to denote code.",vscpp("br",null),"Preserve user's code comment blocks, do not exclude them when refactoring code.",vscpp("br",null),"Pay especially close attention to the selection or exception context.",vscpp("br",null),"Given a description of what to do you can refactor, fix or enhance the existing code.",!!o&&vscpp(vscppf,null,vscpp("br",null),o)),this.props.history&&vscpp(xo,{priority:700,history:this.props.history}),vscpp(to,{priority:800}),n&&vscpp(Wl,{priority:800,documentContext:n,diagnostics:i(n)}),vscpp(hh,{priority:900,chatVariables:this.props.chatVariables,query:this.props.query}))}};var HD=class extends Ue{render(e,r){let n=Gs(this.accessor);return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are an AI programming assistant.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"Follow the user's requirements carefully & to the letter.",vscpp("br",null),vscpp(Kr,null),vscpp("br",null),vscpp("br",null),vscpp(Cb,{location:2,endpoint:this.props.endpoint}),vscpp("br",null),"First think step-by-step - describe your plan for what to build in pseudocode, written out in great detail.",vscpp("br",null),"Then output the code in a single code block.",vscpp("br",null),"Minimize any other prose.",vscpp("br",null),"Use Markdown formatting in your answers.",vscpp("br",null),"Make sure to include the programming language name at the start of the Markdown code blocks.",vscpp("br",null),"Avoid wrapping the whole response in triple backticks.",vscpp("br",null),"The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.",vscpp("br",null),"The active document is the source code the user is looking at right now.",vscpp("br",null),"You can only give one reply for each conversation turn.",!!n&&vscpp(vscppf,null,vscpp("br",null),n)),this.props.history&&vscpp(xo,{priority:700,history:this.props.history}),!this.props.chatVariables[to.variableInfo.name]&&vscpp(to,{priority:800}),vscpp(hh,{priority:900,chatVariables:this.props.chatVariables,query:this.props.query}))}};var Ab=class t{constructor(e,r=HD,n){this.accessor=e;this.prompt=r;this.documentContext=n}static async createIntentInvocation(e,r,n,i){let{location:o,documentContext:s}=n,a=new t(r,i,s),u=await jt(r,o,e.id);return{intent:e,location:o,endpoint:u,promptCrafter:a}}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns.slice(0,-1):[],l=new Gn(this.accessor,r,this.prompt,{documentContext:this.documentContext,endpoint:r,query:u,history:c,chatVariables:n}),f=await l.render(i,s);for(let p of l.getReferences())i.report({reference:p.anchor});return f}};var GD=class t{constructor(e,r,n){this.accessor=e;this.prompt=r;this.documentContext=n}static async createIntentInvocation(e,r,n,i,o){let{location:s,documentContext:a}=n;if(!a)throw new Error("Open a file to add code.");let u=new t(r,i,a);return{intent:e,location:s,endpoint:o,promptCrafter:u,createReplyInterpreter:u.createReplyInterpreter.bind(u)}}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns[e.turns.length-2].request.message:void 0,l=new Gn(this.accessor,r,this.prompt,{documentContext:this.documentContext,query:u,history:c}),f=await l.render();return this.replyInterpreterFactory=l.getMeta(tf),f}createReplyInterpreter(e,r){if(!this.replyInterpreterFactory)throw new Error("No reply interpreter factory available.");return this.replyInterpreterFactory.create(e,r)}};var M9e={3:"gpt-3.5-turbo",4:"gpt-4",cl:"code-llama"},Rb=class{constructor(){this.id="fix";this.locations=[1,2];this.description=Cq.t("Propose a fix for the problems in the selected code");this.intentDetectionInput={sampleQuestion:"There is a problem in this code. Rewrite the code to show it with the bug fixed."};this.commandInfo={sampleRequest:Cq.t("There is a problem in this code. Rewrite the code to show it with the bug fixed.")}}static{this.ID="fix"}async invoke(e,r){let n=r.documentContext;if(!n)throw new Error("Open a file to fix an issue");let i=r.location;if(i===2)return Ab.createIntentInvocation(this,e,r,qD);let o=r.intentArgument?M9e[r.intentArgument]:void 0,s=await jt(e,i,this.id,o),a=SD;return Fr(n.document.uri)&&n.document.languageId==="python"?a=CD:s.model==="gpt-4"&&(n.document.lineCount<$C.NUM_LINES_LIMIT||o==="gpt-4")&&(a=$C),GD.createIntentInvocation(this,e,r,a,s)}};var Xae=Ie(vn());var gh=class t{constructor(){this.id=t.ID;this.description=Xae.t("Generate new code");this.intentDetectionInput={sampleQuestion:"Add a function that returns the sum of two numbers",modelDescription:"Generate new code"};this.locations=[1];this.commandInfo={hiddenFromUser:!0}}static{this.ID="generate"}async invoke(e,r){let n=await jt(e,this.locations[0],this.id);return sh.createIntentInvocation(this,e,r,4,n)}};var Gc=class t{constructor(){this.id=t.ID;this.locations=[1,2];this.description="Intent of this command is unclear or is not related to information technologies";this.commandInfo={hiddenFromUser:!0};this.intentDetectionInput={sampleQuestion:"Add a dog to this comment."}}static{this.ID="unknown"}static{this.Instance=new t}async invoke(e,r){if(r.location===1){let n=await jt(e,1,this.id);return sh.createIntentInvocation(this,e,r,2,n)}return Ab.createIntentInvocation(this,e,r)}};async function F9e(t){let e=t.get(Be),r=t.get(vo),n=e.getConfig(qe.DebugTestOverrideProxyUrl);return r.extensionMode===pv.Test&&n.length>0?n:e.getConfig(qe.DebugChatOverrideProxyUrl)??e.getConfig(qe.DebugOverrideProxyUrl)}async function U9e(t,e){let r=await F9e(t);return r.length===0?(r="https://api.githubcopilot.com",`${r}${e}`):r}async function B9e(t){return U9e(t,"/chat/completions")}async function q9e(t){return"https://api.githubcopilot.com/embeddings"}async function jt(t,e,r,n){let i=t.get(Xi),o;if(n)o=n;else if(e===2)await i.getTreatmentVariableAsync("vscode","copilotchat.panelGpt4",!0)!==!1&&(o="gpt-4");else if(e===1)switch(r){case Rb.ID:{let s=t.get(Be).getConfig(qe.FixUseGPT4InInlineChat);(await i.getTreatmentVariableAsync("vscode","copilotchat.fixInlineGpt4",!0)||s)&&(o="gpt-4")}case gh.ID:case ah.ID:case Gc.ID:{let s=t.get(Be),a=s.isDefaultSettingOverwritten(qe.DebugOverrideChatEngine)?s.getConfig(qe.DebugOverrideChatEngine):void 0;a===void 0&&await t.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.inlineChatGpt4",!0)&&(a="gpt-4")}}return t.get(qc).getChatEndpointInfo(o)}async function Pb(t){return t.get(qc).getChatEndpointInfo(void 0)}async function H9e(t,e){let n=(await t.get(gt).getCopilotToken(t)).isInternal?t.get(Be).getConfig(qe.DebugOverrideChatMaxTokenNum):0;if(n>0)return n;let o=await t.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.panelGpt4Context",!0);switch(e){case"gpt-3.5-turbo":return 7168;case"gpt-4":return o||3072;default:return 7168}}var qc=class{constructor(e){this.accessor=e;this._chatEndpoints=new Map}async defaultModel(){if(!this._defaultModel){let e=(await this.accessor.get(gt).getCopilotToken(this.accessor)).isInternal;this._defaultModel??=e?this.accessor.get(Be).getConfig(qe.DebugOverrideChatEngine):"gpt-3.5-turbo"}return this._defaultModel}async getChatEndpointInfo(e){let r=e??await this.defaultModel(),n=this._chatEndpoints.get(r);if(n)return n;let i=await B9e(this.accessor),o=await H9e(this.accessor,r),s=await this.shouldDisableSnippy();return n=new nI(i,r,o,s),this._chatEndpoints.set(r,n),n}async shouldDisableSnippy(){let e=await this.accessor.get(gt).getCopilotToken(this.accessor),r=this.accessor.get(vo).extensionMode===pv.Development;return e.isInternal&&r}async getEmbeddingsEndpointInfo(){if(this._embeddingsEndpoint)return this._embeddingsEndpoint;let e=await this.shouldDisableSnippy(),r=await q9e(this.accessor);return this._embeddingsEndpoint=new Iq(r,16,e),this._embeddingsEndpoint}},nI=class{constructor(e,r,n,i){this.url=e;this.disableSnippy=i;this._maxTokens=n,this.model=r}get modelMaxPromptTokens(){return this._maxTokens}interceptBody(e){e&&this.disableSnippy&&(e.snippy={enabled:!1},Object.keys(e).forEach(r=>{r.startsWith("intent")&&delete e[r]}))}getExtraHeaders(){let e={};return this.disableSnippy&&(e["Editor-Plugin-Version"]="simulation-tests-plugin/2",e["Editor-Version"]="simulation-tests-editor/1.85"),{"Openai-Organization":"github-copilot","Copilot-Integration-Id":this.disableSnippy?"vscode-chat-dev":"vscode-chat",...e}}},Iq=class{constructor(e,r=1,n){this.url=e;this.maxBatchSize=r;this.isDev=n;this.modelMaxPromptTokens=8192}getExtraHeaders(){return{"Openai-Organization":"github-copilot","Copilot-Integration-Id":this.isDev?"vscode-chat-dev":"vscode-chat"}}};var Aq=class{constructor(){this.kind="terminal-workspace"}async resolveContext(e,r,n,i){let o=r.message;if(!o)return;let s=e.get(Tr);this.logger||(this.logger=e.get(Ae).getLogger("workspaceResolver")),this.logger.debug("Determining whether workspace info is needed..."),i?.report({message:wq.t("Determining whether to fetch info on the workspace")});let a=await s.fetchOne(Er([{role:"system",content:G9e},{role:"user",content:o}]),async u=>{},n,2,await Pb(e),{temperature:.1,top_p:1,stop:["dontStopBelieving"]},{messageSource:"workspaceIntent"});if(!n.isCancellationRequested){if(a.type!=="success")throw new Error(wq.t("Encountered an error while deciding what workspace information to collect: {0}",a.type));return a.value.trim()!=="0"?MD.resolveContext(e,r,n,i):{kind:this.kind,userMessages:[]}}}},G9e=`
# Additional Rules

Think step by step:
1. Read the user's question to understand whether the question likely requires knowledge of the workspace.

2. Respond with 0 for general terminal questions unrelated to the workspace, or respond with 1 if workspace knowledge is required. If unsure, respond with 1.

# Examples

User: build the project

Response:

1

User: print hello world

Response:

0`.trim(),Qae=Gt.register(new Aq);function jD(t,e=!1){let r=t.length,n=0,i="",o=0,s=16,a=0,u=0,c=0,l=0,f=0;function p(y,x){let b=0,T=0;for(;b<y||!x;){let k=t.charCodeAt(n);if(k>=48&&k<=57)T=T*16+k-48;else if(k>=65&&k<=70)T=T*16+k-65+10;else if(k>=97&&k<=102)T=T*16+k-97+10;else break;n++,b++}return b<y&&(T=-1),T}function m(y){n=y,i="",o=0,s=16,f=0}function d(){let y=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&Nb(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&Nb(t.charCodeAt(n)))for(n++;n<t.length&&Nb(t.charCodeAt(n));)n++;else return f=3,t.substring(y,n);let x=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&Nb(t.charCodeAt(n))){for(n++;n<t.length&&Nb(t.charCodeAt(n));)n++;x=n}else f=3;return t.substring(y,x)}function h(){let y="",x=n;for(;;){if(n>=r){y+=t.substring(x,n),f=2;break}let b=t.charCodeAt(n);if(b===34){y+=t.substring(x,n),n++;break}if(b===92){if(y+=t.substring(x,n),n++,n>=r){f=2;break}switch(t.charCodeAt(n++)){case 34:y+='"';break;case 92:y+="\\";break;case 47:y+="/";break;case 98:y+="\b";break;case 102:y+="\f";break;case 110:y+=`
`;break;case 114:y+="\r";break;case 116:y+="	";break;case 117:let k=p(4,!0);k>=0?y+=String.fromCharCode(k):f=4;break;default:f=5}x=n;continue}if(b>=0&&b<=31)if(iI(b)){y+=t.substring(x,n),f=2;break}else f=6;n++}return y}function g(){if(i="",f=0,o=n,u=a,l=c,n>=r)return o=r,s=17;let y=t.charCodeAt(n);if(Rq(y)){do n++,i+=String.fromCharCode(y),y=t.charCodeAt(n);while(Rq(y));return s=15}if(iI(y))return n++,i+=String.fromCharCode(y),y===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),a++,c=n,s=14;switch(y){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=h(),s=10;case 47:let x=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!iI(t.charCodeAt(n));)n++;return i=t.substring(x,n),s=12}if(t.charCodeAt(n+1)===42){n+=2;let b=r-1,T=!1;for(;n<b;){let k=t.charCodeAt(n);if(k===42&&t.charCodeAt(n+1)===47){n+=2,T=!0;break}n++,iI(k)&&(k===13&&t.charCodeAt(n)===10&&n++,a++,c=n)}return T||(n++,f=1),i=t.substring(x,n),s=13}return i+=String.fromCharCode(y),n++,s=16;case 45:if(i+=String.fromCharCode(y),n++,n===r||!Nb(t.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=d(),s=11;default:for(;n<r&&v(y);)n++,y=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(y),n++,s=16}}function v(y){if(Rq(y)||iI(y))return!1;switch(y){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function _(){let y;do y=g();while(y>=12&&y<=15);return y}return{setPosition:m,getPosition:()=>n,scan:e?_:g,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>n-o,getTokenStartLine:()=>u,getTokenStartCharacter:()=>o-l,getTokenError:()=>f}}function Rq(t){return t===32||t===9}function iI(t){return t===10||t===13}function Nb(t){return t>=48&&t<=57}var Jae;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(Jae||(Jae={}));var VD;(function(t){t.DEFAULT={allowTrailingComma:!1}})(VD||(VD={}));function Zae(t,e=[],r=VD.DEFAULT){let n=null,i=[],o=[];function s(u){Array.isArray(i)?i.push(u):n!==null&&(i[n]=u)}return ece(t,{onObjectBegin:()=>{let u={};s(u),o.push(i),i=u,n=null},onObjectProperty:u=>{n=u},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let u=[];s(u),o.push(i),i=u,n=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(u,c,l)=>{e.push({error:u,offset:c,length:l})}},r),i[0]}function ece(t,e,r=VD.DEFAULT){let n=jD(t,!1),i=[];function o(Q){return Q?()=>Q(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function s(Q){return Q?()=>Q(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(Q){return Q?O=>Q(O,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function u(Q){return Q?O=>Q(O,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let c=s(e.onObjectBegin),l=u(e.onObjectProperty),f=o(e.onObjectEnd),p=s(e.onArrayBegin),m=o(e.onArrayEnd),d=u(e.onLiteralValue),h=a(e.onSeparator),g=o(e.onComment),v=a(e.onError),_=r&&r.disallowComments,y=r&&r.allowTrailingComma;function x(){for(;;){let Q=n.scan();switch(n.getTokenError()){case 4:b(14);break;case 5:b(15);break;case 3:b(13);break;case 1:_||b(11);break;case 2:b(12);break;case 6:b(16);break}switch(Q){case 12:case 13:_?b(10):g();break;case 16:b(1);break;case 15:case 14:break;default:return Q}}}function b(Q,O=[],w=[]){if(v(Q),O.length+w.length>0){let P=n.getToken();for(;P!==17;){if(O.indexOf(P)!==-1){x();break}else if(w.indexOf(P)!==-1)break;P=x()}}}function T(Q){let O=n.getTokenValue();return Q?d(O):(l(O),i.push(O)),x(),!0}function k(){switch(n.getToken()){case 11:let Q=n.getTokenValue(),O=Number(Q);isNaN(O)&&(b(2),O=0),d(O);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return x(),!0}function U(){return n.getToken()!==10?(b(3,[],[2,5]),!1):(T(!1),n.getToken()===6?(h(":"),x(),fe()||b(4,[],[2,5])):b(5,[],[2,5]),i.pop(),!0)}function z(){c(),x();let Q=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(Q||b(4,[],[]),h(","),x(),n.getToken()===2&&y)break}else Q&&b(6,[],[]);U()||b(4,[],[2,5]),Q=!0}return f(),n.getToken()!==2?b(7,[2],[]):x(),!0}function D(){p(),x();let Q=!0,O=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(O||b(4,[],[]),h(","),x(),n.getToken()===4&&y)break}else O&&b(6,[],[]);Q?(i.push(0),Q=!1):i[i.length-1]++,fe()||b(4,[],[4,5]),O=!0}return m(),Q||i.pop(),n.getToken()!==4?b(8,[4],[]):x(),!0}function fe(){switch(n.getToken()){case 3:return D();case 1:return z();case 10:return T(!0);default:return k()}}return x(),n.getToken()===17?r.allowEmptyContent?!0:(b(4,[],[]),!1):fe()?(n.getToken()!==17&&b(9,[],[]),!0):(b(4,[],[]),!1)}var tce;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(tce||(tce={}));var rce;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(rce||(rce={}));var oI=Zae;var nce;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(nce||(nce={}));function Pq(t){let e=`Setting Id: ${t.key}
`;if(e+=`Type: ${t.type}
`,e+=`Description: ${t.description??t.markdownDescription??""}
`,t.enum){e+=`Possible values:
`;for(let r=0;r<t.enum.length;r++)e+=` - ${t.enum[r]} - ${t.enumDescriptions?.[r]??""}
`}return e+=`
`,e}var zD=class extends cD{constructor(r,n,i,o,s,a,u,c){super(r,n,i,o,s,a,c);this.relatedInformationConfig=u;this.isIndexLoaded=!1}async provideRelatedInformation(r,n){let i=Date.now();if(!this.isIndexLoaded)return this.calculateEmbeddings(),this._logger.debug(`Related Information: Index not loaded yet triggering background calculation, returning ${Date.now()-i}ms`),[];if(n.isCancellationRequested)return this._logger.debug(`Related Information: Request cancelled, returning ${Date.now()-i}ms`),[];let o=Date.now(),s=await this.embeddingsComputer.computeEmbeddings([r],n);if(this._logger.debug(`Related Information: Remote similarly request took ${Date.now()-o}ms`),n.isCancellationRequested||!s||!s[0])return this._logger.debug(`Related Information: Request cancelled or no match found, returning ${Date.now()-i}ms`),[];let a=[];for(let c of this._items.values()){if(n.isCancellationRequested){this._logger.debug(`Related Information: Request cancelled, returning ${Date.now()-i}ms`);break}if(c.embedding){let l=Xl(s[0],c.embedding);l>this.relatedInformationConfig.threshold&&a.push(this.toRelatedInformation(c,l))}}return this._logger.debug(`Related Information: Successfully Calculated, returning ${Date.now()-i}ms`),a.sort((c,l)=>l.weight-c.weight).slice(0,this.relatedInformationConfig.maxResults)}},vh=class extends zD{constructor(r,n){super("CommandIdIndex",r,1,"commandEmbeddings",Gp(r.get(Vt).getEditorInfo().version),n,{type:2,threshold:.7,maxResults:100},{type:"commands",supportsExtensions:!0});this.accessor=r}async getLatestItems(){let r=await this.accessor.get(Hs).getAllCommands();return r.push({label:"Extensions: Search the marketplace for extensions",command:"workbench.extensions.search",keybinding:"Not set"}),r.push({label:"Extensions: Install extension from marketplace",command:"workbench.extensions.installExtension",keybinding:"Not set"}),r.map(n=>({key:n.command,label:n.label.replace("View: Toggle","View: Toggle or Show or Hide"),originalLabel:n.label,keybinding:n.keybinding??"Not set"}))}getEmbeddingQueryString(r){return`${r.label} - ${r.key}`}toRelatedInformation(r,n){return{type:2,weight:n,command:r.key}}},_h=class extends zD{constructor(r,n){super("SettingsIndex",r,1,"settingEmbeddings",Gp(r.get(Vt).getEditorInfo().version),n,{type:4,threshold:.7,maxResults:100},{type:"settings",supportsExtensions:!0});this.accessor=r;this.isIndexLoaded=!1}async getLatestItems(){let r=await this.accessor.get(Hs).getAllSettings(),n=[];for(let i of Object.keys(r)){let o=r[i];o.deprecationMessage||o.markdownDeprecationMessage||n.push({...o,key:i})}return n}getEmbeddingQueryString(r){return Pq(r)}toRelatedInformation(r,n){return{type:4,weight:n,setting:r.key}}},Wp=class{constructor(e){this._commandIdIndex=e.get(vh),this._settingsIndex=e.get(_h)}async loadIndexes(){await Promise.all([this._commandIdIndex.isIndexLoaded?Promise.resolve():this._commandIdIndex.calculateEmbeddings(),this._settingsIndex.isIndexLoaded?Promise.resolve():this._settingsIndex.calculateEmbeddings()])}async nClosestValues(e,r){return await this.loadIndexes(),{commands:this._commandIdIndex.nClosestValues(e,r),settings:this._settingsIndex.nClosestValues(e,r)}}hasSetting(e){return this._settingsIndex.hasItem(e)}hasCommand(e){return this._commandIdIndex.hasItem(e)}getSetting(e){return this._settingsIndex.getItem(e)}getCommand(e){return this._commandIdIndex.getItem(e)}};async function ice(t,e){let r=t.get(Wp);await r.loadIndexes();let n=X9e(r,e.response?.message??"");return Q9e(r,n.settings,n.commands)}function X9e(t,e){let r=[];e=e.replace(/\n/g,"");for(let u of Uc(e)){if(u.language!=="json"&&u.language!=="")continue;let c;try{c=oI(u.code)}catch{}c&&!Array.isArray(c)&&r.push(c)}let n=[],i=/\[COMMANDS START\]```(?:json)?(.+)\[COMMANDS END\]/g,o;for(o of e.matchAll(i)){let u=o[1].trim(),c;try{c=oI(u)}catch{}c&&Array.isArray(c)&&n.push(...c)}let s=r.map(u=>{for(let c of Object.keys(u))if(!t.hasSetting(c))return!1;return!0}).some(u=>u===!1),a=n.map(u=>{if(u.command&&!t.hasCommand(u.command))return!1}).some(u=>u===!1);return{settings:r,commands:n,validationFailed:s||a}}async function Q9e(t,e,r){let n=[],i=r.length;for(let o of e){let s="";for(let a of Object.keys(o))n.some(u=>u.args&&u.args[0].includes(`@id:${a}`))||t.hasSetting(a)&&(s+=`@id:${a} `);s=s.trimEnd(),s&&n.push({commandId:"workbench.action.openSettings",args:[s],title:"Show in Settings Editor"})}for(let o of r)if(o.command==="workbench.extensions.search"||o.command==="workbench.extensions.installExtension"){let s=(Array.isArray(o.args)?o.args:[o.args]).filter(a=>typeof a=="string");if(s.length===1){let a=["featured","popular","recentlyPublished","recommended","updates","builtin","enabled","disabled","installed","workspaceUnsupported"];s[0].includes(":")&&!s[0].startsWith("@")?s[0]=`@${s[0]}`:a.includes(s[0])&&(s[0]=`@${s[0]}`)}n.push({commandId:"workbench.extensions.search",args:s,title:"Search Extension Marketplace"})}else{let s=t.getCommand(o.command);if(!s)continue;n.push({commandId:"workbench.action.quickOpen",args:[`>${s.originalLabel}`],title:i>1?`Show "${s.originalLabel}"`:"Show in Command Palette"})}return n}var oce=require("util");var Av=class{constructor(){this.indicators=new Map;this.contentIndicators=new Map;this._labels=[];this.initIndicators()}get labels(){if(this._labels.includes("javascript")&&this._labels.includes("typescript")){let e=this._labels.indexOf("javascript");this._labels.splice(e,1)}return this._labels}async collectContext(e){let r=e.get(ot).getWorkspaceFolders();if(r)for(let n=0;n<r.length;n++)await this.addContextForFolders(e,r[n])}async addContextForFolders(e,r){for(let[n,i]of this.indicators.entries())await this.addLabelIfApplicable(e,r,n,i)}async addLabelIfApplicable(e,r,n,i){let o=ga.joinPath(r,n);try{await e.get(Zi).stat(o),i.forEach(a=>this._labels.push(a));let s=this.contentIndicators.get(n);if(s){let a=await e.get(Zi).readFile(o);try{s(new oce.TextDecoder().decode(a)).forEach(c=>this._labels.push(c))}catch{}}}catch{}}initIndicators(){this.addIndicator("package.json","javascript","npm"),this.addIndicator("tsconfig.json","typescript"),this.addIndicator("pom.xml","java","maven"),this.addIndicator("build.gradle","java","gradle"),this.addIndicator("requirements.txt","python","pip"),this.addIndicator("Pipfile","python","pip"),this.addIndicator("Cargo.toml","rust","cargo"),this.addIndicator("go.mod","go","go.mod"),this.addIndicator("pubspec.yaml","dart","pub"),this.addIndicator("build.sbt","scala","sbt"),this.addIndicator("build.boot","clojure","boot"),this.addIndicator("project.clj","clojure","lein"),this.addIndicator("mix.exs","elixir","mix"),this.addIndicator("composer.json","php","composer"),this.addIndicator("Gemfile","ruby","bundler"),this.addIndicator("build.xml","java","ant"),this.addIndicator("build.gradle.kts","java","gradle"),this.addIndicator("yarn.lock","yarn"),this.addContentIndicator("package.json",this.collectPackageJsonIndicators)}addIndicator(e,...r){this.indicators.set(e,r)}addContentIndicator(e,r){this.contentIndicators.set(e,r)}collectPackageJsonIndicators(e){let r=[],n=JSON.parse(e),i=n.dependencies,o=n.devDependencies;i&&(i["@angular/core"]&&r.push("angular"),i.react&&r.push("react"),i.vue&&r.push("vue")),o&&o.typescript&&r.push("typescript");let s=n.engines;return s&&(s.node&&r.push("node"),s.vscode&&r.push("vscode extension")),r}};var yh=class extends Ue{async prepare(){let e=this.accessor.get(Av);return await e.collectContext(this.accessor),{labels:[...new Set(e.labels)].sort()}}render(e,r){if(e.labels.length!==0)return vscpp(vscppf,null,vscpp(Le,{priority:this.props.priority},"I am working on a project of the following nature:",vscpp("br",null),e.labels.reduce((n,i)=>`${n}
- ${i}`,"").trim()))}};var Nq=class{constructor(){this.kind="project-labels"}async resolveContext(e,r){let{messages:n}=await Gl(e,r.endpoint,yh,{});if(n.length>0)return{kind:this.kind,userMessages:n.map(i=>i.content)}}},bh=Gt.register(new Nq);var sf=class{async reportInline(e,r,n){}async reportChat(e){}};var cf=Ie(vn()),Lq=Ie(require("path"));var xh=Wt("IGithubRepositoryService");var YD=class extends Ue{render(e,r){return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are a VS Code assistant. Your job is to suggest a filetree directory structure for a project that a user wants to create. If a step does not relate to filetree directory structures, do not respond. Please do not guess a response and instead just respond with a polite apology if you are unsure.",vscpp("br",null),tc(),vscpp(Kr,null),vscpp("br",null),yv(),Gs(this.accessor),vscpp("br",null),vscpp("br",null),"Additional Rules",vscpp("br",null),"You should generate a markdown file tree structure for the same project and include it in your response.",vscpp("br",null),"You should only list common files for the user's desired project type.",vscpp("br",null),"You should always include a README.md file which describes the project.",vscpp("br",null),"Do not include folders and files generated after compiling, building or running the project such as node_modules, dist, build, out",vscpp("br",null),"Do not include image files such as png, jpg, ico, etc",vscpp("br",null),"Do not include any descriptions or explanations in your response.",vscpp("br",null),["","Examples:","","Below you will find a set of examples of what you should respond with. Please follow these examples as closely as possible.","","## Valid setup question","","User: Create a TypeScript express app","Assistant:","","Sure, here's a proposed directory structure for a TypeScript Express app:","","```filetree","my-express-app","\u251C\u2500\u2500 src","\u2502   \u251C\u2500\u2500 app.ts","\u2502   \u251C\u2500\u2500 controllers","\u2502   \u2502   \u2514\u2500\u2500 index.ts","\u2502   \u251C\u2500\u2500 routes","\u2502   \u2502   \u2514\u2500\u2500 index.ts","\u2502   \u2514\u2500\u2500 types","\u2502       \u2514\u2500\u2500 index.ts","\u251C\u2500\u2500 package.json","\u251C\u2500\u2500 tsconfig.json","\u2514\u2500\u2500 README.md","```","","## Invalid setup question","","User: Create a horse project","Assistant: Sorry, I don't know how to set up a horse project."].join(`
`)),this.props.history&&vscpp(vscppf,null,vscpp(xo,{priority:600,history:this.props.history.filter(n=>n.intentInvocation?.intent.id===sce||n.request.type!=="user"&&n.request.type!=="follow-up")})),vscpp(Le,{priority:900},this.props.query))}};var Dq=Ie(vn()),WD=Ie(require("path"));async function sI(t,e,r,n){let i=null,o=!1;i=setTimeout(()=>{o||t.report(e)},n);try{let s=await r;return o=!0,s}finally{i&&clearTimeout(i)}}var $D=class{constructor(e){let r=Gp(e.get(Vt).getEditorInfo().version);this.embeddingsCache=new Ql(e,1,"projectTemplateEmbeddings",r,"project-templates")}async updateIndex(){this._embeddings=await this.embeddingsCache.getCache()}nClosestValues(e,r,n=0){if(!this._embeddings)return[];let i=Object.entries(this._embeddings).map(o=>{if(!o[1].embedding)return{key:`${o[0]}`,similarity:0};let s=Xl(e,o[1].embedding);return{key:`${o[0]} `,similarity:s}});return i=i.filter(o=>o.similarity>n),i.sort((o,s)=>s.similarity-o.similarity),i.slice(0,r).map(o=>o.key)}};var J9e=`
The current question is related to sample git repositories.
The user cannot see the context you are given, so you must not mention it.
At the end of your response, if ORG information is provided, you must include a section wrapped with [ORG START] and [ORG END] that includes the ORG value.
At the end of your response, if REPO information is provided, you must include a section wrapped with [REPO START] and [REPO END] that includes the REPO value.
At the end of your response, if PATH information is provided, you must include a section wrapped with [PATH START] and [PATH END] that includes the PATH value.
Please respond as shown below incorporating ORG, REPO and PATH provided in the context.
[Input]:
ORG: Microsoft
REPO: vscode-extension-samples
PATH: getting-started-sample
URL: https://github.com/microsoft/vscode-extension-samples/tree/main/getting-started-sample

[Output]
Sure, here's a project, [Getting Started Sample](https://github.com/microsoft/vscode-extension-samples/tree/main/getting-started-sample), you can use to get started.
[ORG START]Microsoft[ORG END]
[REPO START]vscode-extension-samples[REPO END]
[PATH START]getting-started-sample[PATH END]
`.trimStart(),KD=class{constructor(){this.kind="new-workspace";this.metaContextResolverInfo={description:"Relevant information about GitHub repositories."}}async resolveContext(e,r,n,i){let o=J9e+`

`;this._embeddingCompute??=e.get(Oi);let s=r.message;if(!s||!i)return;this._projectTemplatesIndex||(this._projectTemplatesIndex=new $D(e),await this._projectTemplatesIndex.updateIndex());let a=await this._embeddingCompute?.computeEmbeddings([s],n);if(!a||!a.length||n.isCancellationRequested)return;i.report({message:Dq.t("Searching project template index...")});let u=await this._projectTemplatesIndex.nClosestValues(a[0],1,.75);if(u.length){let c=u[0]?.split(":"),l=c[0].trim(),f=c[1].trim(),p=c[2].trim();if(!l||!f||!p)return;let m=p===".",d=m?f:WD.default.basename(p);o+=`ORG: ${l} 
`,o+=`REPO: ${f} 
`,o+=`PATH: ${p} 
`;let h=e.get(xh),g=await sI(i,{message:Dq.t("Fetching project contents...")},h.getRepositoryItems(l,f,p),500);if(m)o+=`URL:https://github.com/${l}/${f}
`;else{let v=WD.default.dirname(g[0].html_url);o+=`URL:${v}
`}return g.map(v=>v.path=m?WD.default.join(f,v.path):v.path.replace(p,d)),{kind:this.kind,userMessages:[o],metadata:new Rv(g)}}}},Rv=class extends Mp{constructor(r){super();this.githubRepoItems=r}};(e=>{function t(r){return r instanceof e}e.is=t})(Rv||={});var af=class{constructor(e){this.deltaApplier=e;this._appliedLength=0;this._appliedText=""}get appliedText(){return Promise.resolve(this._appliedText)}apply(e){let r=e.substring(this._appliedLength,e.length);this.append(r)}async append(e){this.deltaApplier(e),this._appliedLength+=e.length,this._appliedText+=e}},XD=class extends af{constructor(){super(r=>this._source.emitOne(r));this._source=new uv}get asyncIterable(){return this._source.asyncIterable}finish(){this._source.resolve()}};var QD=class{constructor(e,r,n,i,o,s,a){this.accessor=e;this.id=r;this.description=n;this.roleplay=i;this.rules=o;this.sampleQuestion=s;this.options=a;this.limiter=new X1(1);this.logger=e.get(Ae).getLogger("GenerateFileContentsPrompt")}turnFilter(e){return e.filter(r=>r.intentInvocation?.intent.id==="new"||r.request.type!=="user"&&r.request.type!=="follow-up")}buildPrompt(){return[this.roleplay,this.rules,this.sampleQuestion].join(`
`)}async run(e,r,n){return this.limiter.queue(()=>this.doRun(e,r,n))}async doRun(e,r,n){let i=this.buildPrompt();for(let[a,u]of Object.entries(r))i=i.replace(`{${a}}`,u);this.logger.info("prompt: "+i);let o=await jt(this.accessor,2,this.id),s=await this.accessor.get(Tr).fetchOne([{role:"system",content:jp()},...e,{role:"user",content:i}],async a=>{},n,2,o,{temperature:this.options.temperature,top_p:this.options.topP,stop:["stopIt"]},{messageSource:"newIntent"});return s.type!=="success"?(this.logError("fetch failure type: "+s.type+", reason: "+s.reason),""):(this.log("fetch response: "+s.value),s.value)}logError(e){this.logger.error(`[newIntent] ${this.id} `,e)}log(...e){this.logger.info(`[newIntent] ${this.id} `,...e)}};function Z9e(t,e,r={}){let n=`Below you will find a set of examples of what you should respond with. Please follow these examples as closely as possible.

	## Valid question

	User: ${t}
	Assistant: ${e}`;for(let[i,o]of Object.entries(r))n=n.replace(`{${i}}`,o);return n}var JD=class extends QD{constructor(e,r){let n="I want to set up the following project: {PROJECT_DESCRIPTION}.\n		This is the project tree structure:\n		```markdown\n		{PROJECT_TREE_STRUCTURE}\n		```\n		",i=`
		Think step by step and respond with a text description that lists and summarizes each file inside this project.
		List the classes, types, interfaces, functions, and constants it exports and imports if it is a code file.
		You should be as specific as possible when listing the public properties and methods for each exported class.
		Do not use code blocks or backticks. Do not include any text before or after the file contents.
		Do not include product names such as Visual Studio in the comments.`.trim(),o="The project has the following files:\n		`src/app.ts`: This file is the entry point of the application. It creates an instance of the express app and sets up middleware and routes.\n		`src/controllers/index.ts`: This file exports a class `IndexController` which has a method `getIndex` that handles the root route of the application.\n		`src/routes/index.ts`: This file exports a function `setRoutes` which sets up the routes for the application. It uses the `IndexController` to handle the root route.\n		`src/types/index.ts`: This file exports interfaces `Request` and `Response` which extend the interfaces from the `express` library.\n		`tsconfig.json`: This file is the configuration file for TypeScript. It specifies the compiler options and the files to include in the compilation.\n		`package.json`: This file is the configuration file for npm. It lists the dependencies and scripts for the project.\n		`README.md`: This file contains the documentation for the project.",s=Z9e(n+i,o,{PROJECT_DESCRIPTION:"Create a TypeScript Express app",PROJECT_TREE_STRUCTURE:`
		my-express-app
		\u251C\u2500\u2500 src
		\u2502   \u251C\u2500\u2500 app.ts
		\u2502   \u251C\u2500\u2500 controllers
		\u2502   \u2502   \u2514\u2500\u2500 index.ts
		\u2502   \u251C\u2500\u2500 routes
		\u2502   \u2502   \u2514\u2500\u2500 index.ts
		\u2502   \u2514\u2500\u2500 types
		\u2502       \u2514\u2500\u2500 index.ts
		\u251C\u2500\u2500 package.json
		\u251C\u2500\u2500 tsconfig.json
		\u2514\u2500\u2500 README.md`});super(e,"generateProjectPlan","Generate a plan for the contents of a project",n,i,s,r)}async run(e,r,n){return super.run(e,r,n)}},ZD=class extends QD{constructor(e,r){super(e,"generateFile","Generate the contents of a file","I want to set up the following project: {PROJECT_DESCRIPTION}.\n			This is the project tree structure:\n			```markdown\n			{PROJECT_TREE_STRUCTURE}\n			```\n			The project should adhere to the following specification:\n			{PROJECT_SPECIFICATION}",`
Think step by step and give me just the file {FILEPATH} within this project. The code should not contain bugs.
If the file is supposed to be empty, please respond with a code comment saying that this file is intentionally left blank.
Do not include comments in json files.
Do not use code blocks or backticks.
Do not include product names such as Visual Studio in the comments.`.trim(),"",r)}async run(e,r,n){let i=await super.run(e,r,n),o=e7e(r.FILEPATH,i);return i.length!==0&&o.length===0&&(this.logError("failed to parse content"),this.log(`failed to parse ${r.FILEPATH} content 
 ${i}`)),o.startsWith("Sorry, I cannot generate file contents")?(this.logError("AI failed to generate file contents"),this.log(`failed to generate ${r.FILEPATH} content 
 ${i}`),""):o}};function e7e(t,e){e=e.trimEnd().replace("[RESPONSE END]","");function r(n,i){try{let o=i.exec(n.trim());if(o&&o.length>2)return o[2]}catch(o){console.error(o)}return n}if(t.endsWith(".md")){let n=r(e,/^```([a-zA-Z]+)?\s*([\s\S]+?)\s*```$/),[i,...o]=n.split("#");return i.length?["",...o].join("#"):n}else return r(e,/```([^\n]+)?\s*\n([\s\S]+?)\s*```/g)}var Yu=class{constructor(e){this.copilotContentManager=new Oq(e),this.githubContentManager=new Mq(e)}setCopilotContent(e,r,n,i,o,s){this.copilotContentManager.set(e,r,n,i,o,s)}setGithubContent(e,r,n,i,o,s,a){this.githubContentManager.set(e,r,n,i,o,s,a)}get(e){return e.scheme==="vscode-copilot-github-workspace"?this.githubContentManager.get(e.authority,e.path):this.copilotContentManager.get(e.authority,e.path)}},Oq=class{constructor(e){this.accessor=e;this.promises=[];this.responseScopedData=new Map;this.generatePlanPrompt=new JD(this.accessor,{maxResponseTokens:void 0,temperature:.1,topP:1,additionalPromptContext:"none",rejectionMessage:""});this.generateFilePrompt=new ZD(this.accessor,{maxResponseTokens:void 0,temperature:.1,topP:1,additionalPromptContext:"none",rejectionMessage:""})}set(e,r,n,i,o,s){let a=this.generatePlanPrompt.run(s,{PROJECT_DESCRIPTION:n,PROJECT_TREE_STRUCTURE:i},new fv().token);this.promises.push(a),this._getResponseScopedData(e).set(r,{userPrompt:n,projectStructure:i,projectSpecification:a,chatMessages:s,fileTreeData:this._prefetch(n,i,a,o.treeData,s)})}get(e,r){let{projectName:n,path:i}=this._getProjectMetadata(r),s=this._getResponseScopedData(e).get(n);if(!s)return;let a=s.fileTreeData;for(let u of i)a=a?.children?.find(c=>c.label===u);if(a&&!a?.content&&!a?.children){let u=a;u.content=this._getFileContent(s.userPrompt,s.projectStructure,s.projectSpecification,r,s.chatMessages).catch(()=>u.content=void 0)}return a}_prefetch(e,r,n,i,o){let s=Date.now();return i.children?{...i,type:2,children:i.children.map(a=>this._prefetch(e,r,n,a,o)),ctime:s}:{...i,type:1,content:void 0,ctime:s}}async _getFileContent(e,r,n,i,o,s=new fv().token){return this.generateFilePrompt.run(o,{PROJECT_DESCRIPTION:e,PROJECT_TREE_STRUCTURE:r,PROJECT_SPECIFICATION:await n,FILEPATH:i},s).then(a=>Buffer.from(a))}_getResponseScopedData(e){let r=this.responseScopedData.get(e);return r||(r=new Map,this.responseScopedData.set(e,r)),r}_getProjectMetadata(e){let[,r,...n]=e.split("/");return{projectName:r,path:n}}},Mq=class{constructor(e){this.responseScopedData=new Map;this.repositoryService=e.get(xh)}set(e,r,n,i,o,s,a){this._getResponseScopedData(e).set(r,{org:n,repo:i,path:o,projectNode:s,fileTreeData:a.treeData})}get(e,r){let{projectName:n,path:i}=this._getProjectMetadata(r),s=this._getResponseScopedData(e).get(n);if(!s)return;let a=s.fileTreeData;for(let u of i)a=a?.children?.find(c=>c.label===u);if(a&&!a?.content&&!a?.children){let u=a,c=s.path==="."?Lq.default.relative(s.repo,r):Lq.default.join(s.path,"..",r);u.content=this.repositoryService.getRepositoryItemContent(s.org,s.repo,c).catch(()=>u.content=void 0)}return a}_getProjectMetadata(e){let[,r,...n]=e.split("/");return{projectName:r,path:n}}_getResponseScopedData(e){let r=this.responseScopedData.get(e);return r||(r=new Map,this.responseScopedData.set(e,r)),r}},sce="new",tk=class{constructor(){this.id="new";this.locations=[2];this.description=cf.t("Scaffold code for a new workspace");this.intentDetectionInput={modelDescription:"Scaffolds a new project from scratch based on requirements from the user.",sampleQuestion:"Create a RESTful API server using typescript"};this.commandInfo={followupPlaceholder:"Provide additional instructions to refine the proposed workspace",shouldRepopulate:!0,allowsEmptyArgs:!1,yieldsTo:[{command:"fix"},{command:"explain"},{command:"workspace"},{command:"tests"}],defaultEnablement:!0,sampleRequest:cf.t("Create a RESTful API server using typescript")}}static{this.ID="new"}async invoke(e,r,n){let i=r.location,o=await jt(e,i,this.id);return new Fq(e,this,o,i)}async asSlashCommand(e,r){return{command:this.id,detail:this.description}}},Fq=class{constructor(e,r,n,i){this.accessor=e;this.intent=r;this.endpoint=n;this.location=i;this.responseProcessor=(e,r,n,i)=>{let o=!1,s="",a="",u,c=/```filetree\n/,l=/```[^\n]*/,f=i.filter(h=>h.role!=="system"),p=!!this.githubItems?.length,m=new af(h=>{let g=r.requestId??"";if(r.response||(r.response={message:s,type:"model"}),r.response.message+=h,s+=h,h&&!h.includes("START]"))n.report({content:h});else{let{org:v,repo:_,path:y}=cce(s);if(v&&_&&y&&this.githubItems&&u){let x=ace(this.githubItems),b={treeData:ek(g,x,void 0,!0)};b.treeData.children?.length===0?u.complete({content:cf.t("Sorry, something went wrong. Please try asking your question again.")}):(u.complete(b),e.get(Yu).setGithubContent(g,b.treeData.label,v,_,y,x,b))}else u||(u=new ha,n.report({message:cf.t("Generating workspace preview...")}),u.p.then(x=>n.report(x)))}}),d=new af(h=>{let g=r.requestId??"";if(r.response||(r.response={message:s,type:"model"}),r.response.message+=h,s+=h,!h)return;let v=r.request.message,_=h.match(/```filetree\n([\s\S]+?)\n```/);if(_){let[y,x]=h.split(_[0]);a=_[1];let b=kq(a),T={treeData:ek(g,b)};n.report({content:y}),n.report({message:cf.t("Generating workspace preview...")}),n.report(T),n.report({content:x}),e.get(Yu).setCopilotContent(g,T.treeData.label,v,a,T,f)}else if((h.trim().match(l)||a.match(l))&&o&&u){a=a.trim(),o=!1;let[y,x]=a.split(l);a=y;let b=kq(a),T={treeData:ek(g,b)};T.treeData.children?.length===0?u.complete({content:cf.t("Sorry, something went wrong. Please try asking your question again.")}):(u.complete(T),e.get(Yu).setCopilotContent(g,T.treeData.label,v,a,T,f))}else if((h.match(c)||s.match(c))&&!o&&!u){o=!0;let[y,x]=s.split(c);a+=x,u=new ha,n.report({message:cf.t("Generating workspace preview...")}),u.p.then(b=>n.report(b))}else o?a+=h:!o&&(!s.match(/```/)||u)&&n.report({content:h})});return{get appliedText(){return Promise.resolve(s)},apply:h=>p?m.apply(h):d.apply(h),get includeConversationFollowups(){return Promise.resolve(!p)}}};this.followUps=(e,r)=>{let n=e.get(Ae).getPromptResponseLogger("new");if(!r.response?.message)return Promise.resolve([]);let{isGithubRepo:i}=cce(r.response.message),o;if(i){if(!this.githubItems)return n.info("[workspaceIntent] Failed to parse GitHub repo structure."),Promise.resolve([]);o=ace(this.githubItems)}else{let c=/```[^\n]*\n([\s\S]+?)\n```/,l=r.response.message.match(c),f=l&&l[1].trim();if(!f)return n.info(`[workspaceIntent] Response validation failed for response: 
`+JSON.stringify(r.response.message)),Promise.resolve([]);o=kq(f)}let s=[];if(lce(o,"",s),s.length===0)return n.info("[workspaceIntent] Failed to fetch project items."),Promise.resolve([]);let a=[],u={commandId:"github.copilot.createProject",args:[s,r.requestId,i],title:cf.t("Create Workspace")};if(a.push(u),i){let c={message:`@workspace /new ${r.request.message}`,title:cf.t("Regenerate workspace preview using Copilot")};a.push(c)}return Promise.resolve(a)};let o=this;this.promptCrafter=new class{async getShouldUseProjectTemplate(a){let u=a.get(Be).getConfig(qe.UseProjectTemplates);return u!==void 0?u:await a.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.useProjectTemplates",!0)?(await a.get(gt).getCopilotToken(a)).public_suggestions!=="enabled":!1}async buildPrompt(a,u,c,l,f,p){let m=a.getLatestTurn(),d=m.request.message,h=a.turns.length>1?a.turns.slice(0,-1):[];if(h[h.length-1]?.request?.message!==m.request.message&&await this.getShouldUseProjectTemplate(e)){let _={conversation:a,endpoint:u,message:m.request.message},y=await new KD().resolveContext(e,_,p,l);if(y&&y.userMessages.length){let x=y.metadata;if(Rv.is(x)&&(o.githubItems=x.githubRepoItems),m.request.type!=="user")throw new Error("Expected current turn to be user message");let b={role:"user",content:m.request.message};return{messages:[{role:"system",content:y.userMessages[0]},b],tokenCount:0}}}return await new Gn(e,u,YD,{query:d,history:h}).render(l,p)}}}},t7e=["dockerfile","license","makefile","readme","procfile","gemfile","rakefile","jenkinsfile","vagrantfile"];function r7e(t){return/\.[^/.]+$/.test(t)&&t7e.indexOf(t.toLowerCase())===-1}function n7e(t){let e=t.indexOf("\u2500\u2500 "),r=e-t.indexOf(`
`,e)-1;return r===-1?0:r}var i7e=["node_modules","out","bin","debug","obj","lib",".dll",".pdb",".lib",".jpg",".png",".ico",".gif",".svg",".jpeg",".tiff",".bmp",".webp",".jpeg",".gitignore","LICENSE.txt","yarn.lock","package-lock.json"];function uce(t){let e=[];for(let r of t.children)i7e.some(n=>r.name.endsWith(n))||e.push(r);t.children=e;for(let r of t.children)uce(r);return t}function kq(t){let e=t.trim().split(`
`),r={name:"",depth:0,parent:void 0,children:[]},n=r;for(let i of e){let o=n7e(i),s=i.lastIndexOf("\u2500\u2500 "),u={name:s>=0?i.substring(s+3):i,depth:o,parent:void 0,children:[]};if(o===0){r.name=i;continue}else if(n.depth<o)u.parent=n,n.children.push(u);else if(n.depth===o)u.parent=n.parent,n.parent?.children.push(u);else{for(;n.depth!==o&&n.parent;)n=n.parent;u.parent=n.parent,n.parent?.children.push(u)}n=u}return uce(r)}function ace(t){let e=t[0].path.split("/")[0],r={name:e,depth:0,parent:void 0,children:[]},n={rootName:r};for(let i of t.map(o=>o.path)){let o=i.split("/"),s=e,a=r;for(let u=1;u<o.length;u++){let c=o[u];if(s+=`/${c}`,!n[s]){let l={name:c,depth:u,parent:a,children:[]};a.children.push(l),n[s]=l}a=n[s]}}return r}function lce(t,e="",r){let n=e===""?t.name:`${e}/${t.name}`;r.push({type:t.children.length||!r7e(t.name)?2:1,path:n});for(let i of t.children)lce(i,n,r)}function ek(t,e,r="",n){let i=r===""?e.name:`${r}/${e.name}`,o=[],s=e.children.sort((a,u)=>a.children.length&&u.children.length?a.name.localeCompare(u.name):a.children.length?-1:1);for(let a of s)o.push(ek(t,a,i,n));return{label:e.name,uri:Uq(t,i,n),children:o.length?o:void 0}}function Uq(t,e,r=!1){return ga.from({scheme:r?"vscode-copilot-github-workspace":"vscode-copilot-workspace",authority:t??"",path:`/${e}`})}function cce(t){let e=s=>{let a=t.match(s);return a?a[1]:void 0},r=e(/\[ORG START\](.*?)\[ORG END\]/),n=e(/\[REPO START\](.*?)\[REPO END\]/),i=e(/\[PATH START\](.*?)\[PATH END\]/);return{org:r,repo:n,path:i,isGithubRepo:!!(r&&n&&i)}}var rk=Ie(require("fs"));var qq=`${process.env.HOME||process.env.USERPROFILE}/.copilot-testing-gh-token`,Bq;function fce(){return Bq||(Bq=o7e()),Bq}var o7e=()=>{if(process.env.GITHUB_PAT)return new Y1(process.env.GITHUB_PAT);if(process.env.GITHUB_OAUTH_TOKEN)return new yC({token:process.env.GITHUB_OAUTH_TOKEN});let t=s7e();if(t)return new yC({token:t.trim()});throw new Error(`Tests: either GITHUB_PAT must be set, or there must be a GitHub token from an app with access to Copilot in ${qq}. Run "npm run get_token" to get one.`)};function s7e(){if(rk.existsSync(qq))return rk.readFileSync(qq).toString()}var Kp=class t{constructor(e){this.flags=e}static fromEnvironment(e){return new t({debug:c7e(process.argv,process.env),telemetryLogging:u7e(process.env),testMode:e,recordInput:l7e(process.argv,process.env)})}};function a7e(t){return t.get(Kp).flags.testMode}function pce(t){return a7e(t)}function c7e(t,e){return t.includes("--debug")||Hq(e,"GITHUB_COPILOT_DEBUG")}function u7e(t){return Hq(t,"COPILOT_LOG_TELEMETRY")}function l7e(t,e){return t.includes("--record")||Hq(e,"GITHUB_COPILOT_RECORD")}function Hq(t,e){if(e in t){let r=t[e];return r==="1"||r?.toLowerCase()==="true"}return!1}var nk=class{constructor(){this.openedUrls=[]}open(e){this.openedUrls.push(e)}};var Db=require("vscode");var dce=["user:email"],p7e=["read:user"],mce=["read:user","user:email","repo","workflow"],Gq="You are not signed in to GitHub. Please sign in to use Copilot.";function jq(t){return t.getConfig(qe.AuthProvider)==="github-enterprise"?"github-enterprise":"github"}async function Pv(t){let e=jq(t),r=await Db.authentication.getSession(e,mce,{silent:!0});return r??=await Db.authentication.getSession(e,dce,{silent:!0}),r??=await Db.authentication.getSession(e,p7e,{silent:!0}),r}async function hce(t,e){let r=jq(t);return await Db.authentication.getSession(r,mce,e)}async function gce(t,e){let r=t.provider,n=jq(e.get(Be));if(r.id===n){let{defaultLogger:i}=e.get(Ae);if(await Db.authentication.getSession(n,dce,{silent:!0}))return await e.get(gt).getCopilotToken(e,!0);e.get(gt).resetCopilotToken(e),i.warn(Gq)}}var ik=Ie(require("vscode"));function vce(t){return typeof t=="string"?t:JSON.stringify(t)}var ok=class extends RP{constructor(){super();this.config=ik.workspace.getConfiguration(Pm),ik.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(Pm)&&(this.config=ik.workspace.getConfiguration(Pm))})}getConfig(r){return this.config[r.firstPart]&&this.config[r.firstPart][r.secondPart]!==void 0?this.config[r.firstPart][r.secondPart]:r.defaultValue}isDefaultSettingOverwritten(r){return this.config[r.firstPart]&&this.config[r.firstPart][r.secondPart]!==void 0}dumpConfig(){let r={};try{let n=Xa.contributes.configuration?.properties??{};for(let i in n){let s=i.replace(`${Pm}.`,"").split(".").reduce((a,u)=>a[u],this.config);typeof s=="object"&&s!==null?Object.keys(s).filter(a=>a!=="secret_key").forEach(a=>r[`${i}.${a}`]=vce(s[a])):r[i]=vce(s)}}catch(n){console.error(`Failed to retrieve configuration properties ${n}`)}return r}};var Yq=require("vscode"),_ce=[];function yce(){return _ce.join(`
`)}function d7e(t,e){t.push(m7e(e)),t.length>40&&t.shift()}var Vq=class{constructor(e){this.session=e}onWillStartSession(){}onWillReceiveMessage(e){}onDidSendMessage(e){if(Yq.debug.activeDebugSession!==this.session)return;let r=this.extractOutput(e);r&&d7e(_ce,r)}extractOutput(e){if(e.event==="output"&&(e.body.category==="stdout"||e.body.category==="stderr"))return e.body.output}onWillStopSession(){}onError(e){}onExit(e,r){}};function m7e(t){let e=/(:?\x1b\[|\x9B)[=?>!]?[\d;:]*["$#'* ]?[a-zA-Z@^`{}|~]/g;return t&&(t=t.replace(e,"")),t}function bce(){return[Yq.debug.registerDebugAdapterTrackerFactory("*",new zq)]}var zq=class{createDebugAdapterTracker(e){return new Vq(e)}};var sk=class extends $l{constructor(){super();for(let e of bce())this._register(e)}get consoleOutput(){return yce()}};var kb=class{constructor(e){this.accessor=e}async computeEmbeddings(e,r){this._embeddingEndpoint||(this._embeddingEndpoint=await this.accessor.get(qc).getEmbeddingsEndpointInfo());let n=this._embeddingEndpoint.maxBatchSize,i=this._embeddingEndpoint.modelMaxPromptTokens;return this.fetchResponseWithBatches(e,r,i,n)}async fetchResponseWithBatches(e,r,n,i){let o=[],s=this.accessor.get(Mr),a=[],u=0;for(let c of e){let l=s.tokenLength(c);if(u+l>=n||a.length>=i){let f=await this.rawEmbeddingsFetchWithTelemetry(this.accessor,Ri(),a,r);if(f.type==="failed")return;o.push(...f.embeddings),a=[],u=0}a.push(c),u+=l}if(a.length>0){let c=await this.rawEmbeddingsFetchWithTelemetry(this.accessor,Ri(),a,r);if(c.type==="failed")return;o.push(...c.embeddings)}return o.length===0?void 0:o}async rawEmbeddingsFetchWithTelemetry(e,r,n,i){let o=Date.now(),s=this.accessor.get(pt),a=await this.rawEmbeddingsFetch(e,r,n,i);return a.type==="failed"?(s.sendMSFTTelemetryErrorEvent("embedding.error",{type:a.type,reason:a.reason}),a):(s.sendMSFTTelemetryEvent("embedding.success",{},{batchSize:n.length,inputTokenCount:n.reduce((u,c)=>u+this.accessor.get(Mr).tokenLength(c),0),timeToComplete:Date.now()-o}),a)}async rawEmbeddingsFetch(e,r,n,i){this._embeddingEndpoint||(this._embeddingEndpoint=await this.accessor.get(qc).getEmbeddingsEndpointInfo());try{let o=e.get(gt),s=o instanceof Y1?await o.getEmbeddingsToken(e):await o.getCopilotToken(e),a={input:n,model:"text-embedding-ada-002"};this._embeddingEndpoint.interceptBody?.(a);let u=await jm(e,this._embeddingEndpoint,s.token,"copilot-panel",r,a,i),c=await u.json();return u.status===200&&c.data?{type:"success",embeddings:c.data.map(l=>l.embedding)}:{type:"failed",reason:c.error}}catch(o){let s=o?.message??"Unknown error";return s.match(/Unexpected.*JSON/i)&&(s="timeout"),{type:"failed",reason:s}}}};var Nv=Ie(require("vscode"));var ak=class extends Hs{get language(){return Nv.env.language}getAllExtensions(){return Nv.extensions.all}async getAllCommands(){return Nv.commands.executeCommand("_getAllCommands")}async getAllSettings(){return Nv.commands.executeCommand("_getAllSettings")}};var Dv=class{};function Ece(t){let e=t.get(Us),r=t.get(Be);e.registerStaticFilters(h7e(t)),e.registerDynamicFilter("X-Copilot-OverrideEngine",()=>r.getConfig(qe.DebugOverrideEngine))}function h7e(t){let e=g7e(t),r=t.get(Dv).addEditorSpecificFilters();return{...e,...r}}function g7e(t){let e=t.get(Vt),r=e.getEditorInfo();return{"X-VSCode-AppVersion":xce(r.version),"X-MSEdge-ClientId":e.machineId,"X-VSCode-ExtensionName":e.getName(),"X-VSCode-ExtensionVersion":xce(e.getVersion()),"X-VSCode-TargetPopulation":"public"}}function xce(t){return t.split("-")[0]}var $q=Ie(require("vscode"));var ck=class extends Dv{addEditorSpecificFilters(){return{"X-VSCode-Build":$q.env.appName,"X-VSCode-Language":$q.env.language}}};var Eh=class{};var Th=class{};var pk=require("vscode");var uk=class extends Ue{render(){return vscpp(vscppf,null,vscpp(_r,null,vscpp(Wq,null),vscpp(Kr,null)),vscpp(Le,null,vscpp(Xq,{diff:this.props.diff}),vscpp(Kq,null)))}},Wq=class extends Ue{render(){return vscpp(vscppf,null,"You are an AI programming assistant.",vscpp("br",null),"You are helping a software developer to commit some changes to a Git repository.")}},Kq=class extends Ue{render(){let e=this.accessor.get(Hs),n=this.accessor.get(Be).getConfig(qe.LocaleOverride),i=n!=="auto"?n:e.language,o=XB.find(s=>i===s);return vscpp(vscppf,null,"The commit message should be short and concise that describes the changes in the code.",vscpp("br",null),"The commit message should start with *** and end with ***.",o&&i!=="en"&&vscpp(vscppf,null,"The commit message should be translated into the following locale: ",i))}},Xq=class extends Ue{render(){return vscpp(vscppf,null,"Below is a git diff that contains the changes that the developer has made:",vscpp("br",null),this.props.diff.join(`

`),vscpp("br",null),"Based on the git diff, please suggest a commit message for the developer to use.")}};var Lb=class{constructor(e){this.accessor=e;this.telemetryService=e.get(pt),this.logger=e.get(Ae).getPromptResponseLogger("git commit message generator"),this.options=e.get(Mc)}async generateGitCommitMessage(e,r,n){let i=Date.now(),o=await jt(this.accessor,3),s=Math.floor(o.modelMaxPromptTokens*4/3),a=this.processDiff(e,s),c=await new Gn(this.accessor,o,uk,{diff:a}).render(void 0,void 0),l=Math.min(this.options.temperature*(1+r),2),f=Date.now(),p=await this.accessor.get(Tr).fetchOne(c.messages,void 0,n,3,o,{temperature:l,top_p:this.options.topP},{messageSource:"command.generateGitCommitMessagePrompt"});if(this.logger.logResponse(p),this.telemetryService.sendMSFTTelemetryEvent("git.generateCommitMessage",{model:o.model,requestId:p.requestId,responseType:p.type},{attemptCount:r,originalDiffFileCount:e.length,originalDiffLength:e.join("").length,processedDiffFileCount:a.length,processedDiffLength:a.join("").length,timeToRequest:f-i,timeToComplete:Date.now()-i}),p.type==="success")return this.processGeneratedCommitMessage(p.value)}processDiff(e,r){let n=[...e],i=r-Math.floor(r*.1),o=n.join(`

`).length;if(o>i)for(n.sort((s,a)=>s.length-a.length);o>i&&n.length>0;){let s=n.pop();o-=s.length}return n}processGeneratedCommitMessage(e){let r=Array.from(e.matchAll(/\*{3}/gm),o=>o.index);if(r.length<2)return e;let n=r[0],i=r[r.length-1];return n!==void 0&&i!==void 0?e.substring(n+3,i):e}};var lk=class{constructor(e,r){this.originalText=e;this._combinedEditsSinceStart=ro.empty;this._text=r.apply(this.originalText),this._textAfterTrackedEdits=this._text,this._originalEdits=r}handleEdits(e){let r=e.apply(this._text),n=this._combinedEditsSinceStart.compose(e);n=n.removeCommonSuffixPrefix(this._textAfterTrackedEdits),this._combinedEditsSinceStart=n,this._text=r}computeTrackedEditsSurvivalScore(){let e=0,r=0,n=0,i=0,o=this._originalEdits.getNewTextRanges(),s=v7e(o,this._combinedEditsSinceStart);for(let a=0;a<o.length;a++){let u=this._originalEdits.edits[a],c=this.originalText.substring(u.replaceRange.start,u.replaceRange.endExclusive),l=u.newText,f=s[a],p=this._text.substring(f.start,f.endExclusive),m=aI(p,l),d=aI(l,c),h=aI(p,c);if(d!==1){let _=1-Math.max(h-d,0)/(1-d);n+=u.replaceRange.length*_,i+=u.replaceRange.length}let g=u.newText.length*m,v=u.newText.length;e+=g,r+=v}return{fourGram:r===0?1:e/r,noRevert:i===0?1:n/i}}};function aI(t,e){if(t.length<4||e.length<4)return t===e?1:0;let n=new Map;for(let a=0;a<=t.length-4;a++){let u=t.substring(a,a+4),c=n.get(u)||0;n.set(u,c+1)}for(let a=0;a<=e.length-4;a++){let u=e.substring(a,a+4),c=n.get(u)||0;n.set(u,c-1)}let i=t.length-4+1+e.length-4+1,o=0;for(let a of n.values())o+=Math.abs(a);return(i-o)/i}function v7e(t,e){t=t.slice();let r=[],n=0;for(let i of e.edits){for(;;){let s=t[0];if(!s||s.endExclusive>=i.replaceRange.start)break;t.shift(),r.push(s.delta(n))}let o=[];for(;;){let s=t[0];if(!s||!s.intersectsOrTouches(i.replaceRange))break;t.shift(),o.push(s)}for(let s=o.length-1;s>=0;s--){let a=o[s],u=a.intersect(i.replaceRange).length;a=a.deltaEnd(-u+(s===0?i.newText.length:0));let c=a.start-i.replaceRange.start;c>0&&(a=a.delta(-c)),s!==0&&(a=a.delta(i.newText.length)),a=a.delta(-(i.newText.length-i.replaceRange.length)),t.unshift(a)}n+=i.newText.length-i.replaceRange.length}for(;;){let i=t[0];if(!i)break;t.shift(),r.push(i.delta(n))}return r}var fk=class extends Eh{constructor(r){super();this.accessor=r;this._commitMessages=new Map;this._disposables=new rn;this._repositoryDisposables=new F1;let n=()=>{this._disposables.add(this._gitExtensionApi.onDidOpenRepository(this._onDidOpenRepository,this)),this._disposables.add(this._gitExtensionApi.onDidCloseRepository(this._onDidCloseRepository,this));for(let o of this._gitExtensionApi.repositories)this._onDidOpenRepository(o)},i=this.accessor.get(Th);this._gitExtensionApi=i.getExtensionApi(),this._gitExtensionApi?n():this._disposables.add(i.onDidChange(()=>{this._gitExtensionApi=i.getExtensionApi(),n()}))}async generateCommitMessage(r,n){if(!n||n.isCancellationRequested||!r||!this._gitExtensionApi)return;let i=this._gitExtensionApi.getRepository(r);i&&await pk.window.withProgress({location:pk.ProgressLocation.SourceControl},async()=>{let o=await i.getDiff(),s=this._getAttemptCount(i,o),u=await new Lb(this.accessor).generateGitCommitMessage(o,s,n);if(u&&(i.inputBox.value=u,i.state.HEAD&&i.state.HEAD.commit)){let c=this._commitMessages.get(i.rootUri.toString())??new Map;c.set(i.state.HEAD.commit,{attemptCount:s,changes:o,message:u}),this._commitMessages.set(i.rootUri.toString(),c)}})}_getAttemptCount(r,n){let o=this._commitMessages.get(r.rootUri.toString())?.get(r.state.HEAD?.commit??"");if(!o||o.changes.length!==n.length)return 1;for(let s=0;s<n.length;s++)if(o.changes[s]!==n[s])return 1;return o.attemptCount+1}_onDidOpenRepository(r){typeof r.onDidCommit!==void 0&&this._repositoryDisposables.set(r,r.onDidCommit(()=>this._onDidCommit(r),this))}_onDidCloseRepository(r){this._repositoryDisposables.deleteAndDispose(r),this._commitMessages.delete(r.rootUri.toString())}async _onDidCommit(r){let n=r.state.HEAD;if(!n?.commit)return;let i=this._commitMessages.get(r.rootUri.toString());if(!i)return;let o=await r.getCommit(n.commit),s=o.parents.length>0?o.parents[0]:"",a=i.get(s);if(!a)return;let u=aI(o.message,a.message);this.accessor.get(pt).sendMSFTTelemetryEvent("git.generateCommitMessageSurvival",void 0,{attemptCount:a.attemptCount,survivalRateFourGram:u}),i.delete(s),this._commitMessages.set(r.rootUri.toString(),i)}dispose(){this._repositoryDisposables.dispose(),this._disposables.dispose()}};var kv=Ie(require("vscode"));var dk=class extends Th{constructor(r){super();this.accessor=r;this._onDidChange=new kv.EventEmitter;this.onDidChange=this._onDidChange.event;this._disposables=[];this._logger=r.get(Ae).getLogger("gitExtensionService"),this._logger.info("Initializing Git extension service."),this._disposables.push(...this._initializeExtensionApi())}getExtensionApi(){return this._api}_initializeExtensionApi(){let r=[],n=kv.extensions.getExtension("vscode.git"),i=async()=>{let o=await n.activate();this._logger.info("Successfully activated the vscode.git extension.");let s=a=>{this._logger.info(`Enablement state of the vscode.git extension: ${a}.`),a&&(this._api=o.getAPI(1),this._onDidChange.fire(),this._logger.info("Successfully registered Git commit message provider."))};r.push(o.onDidChangeEnablement(s)),s(o.enabled)};if(n)i();else{this._logger.info("vscode.git extension is not yet activated.");let o=kv.extensions.onDidChange(()=>{!n&&kv.extensions.getExtension("vscode.git")&&(n=kv.extensions.getExtension("vscode.git"),i(),o.dispose())})}return r}};var hk=Ie(require("vscode")),mk=class t{getRepository(e){let r=this.getGitExtensionAPI();if(r)return t.repoToRepoContext(r.getRepository(e))}getGitExtensionAPI(){let e=hk.extensions.getExtension("vscode.git");return e?(e.activate(),e.exports.getAPI(1)):void 0}static repoToRepoContext(e){if(e)return{headBranchName:e.state.HEAD?.name,upstreamBranchName:e.state.HEAD?.upstream?.name,upstreamRemote:e.state.HEAD?.upstream?.remote,isRebasing:e.state.rebaseCommit!==null,remotes:e.state.remotes.map(r=>r.name),remoteFetchUrls:e.state.remotes.map(r=>r.fetchUrl)}}get repositories(){let e=hk.workspace.workspaceFolders;if(!e)return;let r=this.getGitExtensionAPI();if(r)return e.map(n=>{let i=r.getRepository(n.uri);return t.repoToRepoContext(i)})}};var gk=class{constructor(e){this.accessor=e;this.fetcherService=e.get(Yr)}async isAvailable(e,r){let n=await this.accessor.get(gt).getAnyGitHubToken();try{return(await this.fetcherService.fetch(`https://api.github.com/repos/${e}/${r}`,{method:"GET",headers:{Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28",Authorization:`Bearer ${n}`}})).ok}catch{return!1}}async getRepositoryItems(e,r,n){let i=[];try{let o=await this.accessor.get(gt).getPermissiveGitHubToken({silent:!0}),s=await this.fetcherService.fetch(`https://api.github.com/repos/${e}/${r}/contents/${n}`,{method:"GET",headers:{Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28",Authorization:`Bearer ${o}`}});if(s.ok){let a=await s.json();if(Array.isArray(a))for(let u of a)"name"in u&&"path"in u&&"type"in u&&"html_url"in u&&(i.push({name:u.name,path:u.path,type:u.type,html_url:u.html_url}),u.type==="dir"&&i.push(...await this.getRepositoryItems(e,r,u.path)))}else console.error(`Failed to contents from ${e}:${r}:${n}`)}catch{console.error(`Failed to contents from ${e}:${r}:${n}`)}return i}async getRepositoryItemContent(e,r,n){try{let i=await this.accessor.get(gt).getPermissiveGitHubToken({silent:!0}),o=await this.fetcherService.fetch(`https://api.github.com/repos/${e}/${r}/contents/${n}`,{method:"GET",headers:{Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28",Authorization:`Bearer ${i}`}});if(o.ok){let s=await o.json();if("content"in s){let a=Buffer.from(s.content,"base64");return new Uint8Array(a)}throw new Error("Unexpected data from GitHub")}}catch{console.error(`Failed to contents from ${e}:${r}:${n}`)}}};var Qq=Ie(require("vscode"));var vk=class extends di{constructor(r){super(r);this.onDidChangeDiagnostics=Qq.languages.onDidChangeDiagnostics}getDiagnostics(r){return this._ignoreService.isCopilotIgnored(r)?[]:Qq.languages.getDiagnostics(r)}};var cI=Ie(require("vscode"));var _k=class extends Ja{constructor(r){super();this._ignoreService=r}async getDefinitions(r,n){return this._ignoreService.isCopilotIgnored(r)?[]:await cI.commands.executeCommand("vscode.executeDefinitionProvider",r,n)}async getImplementations(r,n){return this._ignoreService.isCopilotIgnored(r)?[]:await cI.commands.executeCommand("vscode.executeImplementationProvider",r,n)}async getReferences(r,n){return this._ignoreService.isCopilotIgnored(r)?[]:await cI.commands.executeCommand("vscode.executeReferenceProvider",r,n)}async getWorkspaceSymbols(r){return await cI.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",r)}};var Sh=class{async loadKerberos(){}};var Ch=class{async loadCaCerts(){}};var Jq=Ie(require("vscode"));var yk=class extends Sh{async loadKerberos(){try{return require(`${Jq.env.appRoot}/node_modules.asar/kerberos`)}catch{}try{return require(`${Jq.env.appRoot}/node_modules/kerberos`)}catch{}}};var Cce=require("vscode");var Ice="github-enterprise",Tce="https://github.com";function Sce(t){return t.getConfig(qe.AuthProvider)==="github-enterprise"?Cce.workspace.getConfiguration(Ice).get("uri")??Tce:Tce}var bk=class extends aN{constructor(r){super(Sce(r));this.configurationService=r}updateBaseUrl(r,n){super.updateBaseUrl(r,Sce(this.configurationService))}};function wce(t,e){(t.affectsConfiguration(`${Pm}.advanced`)||t.affectsConfiguration(`${Ice}.uri`))&&e.get(Pp).updateBaseUrl(e)}var Ace=Ie(require("os")),Zq=Ie(require("vscode"));var xk=class extends Ch{async loadCaCerts(){let e=await this.loadBuiltInWinCAModule(),r=new Set,n=new e.Crypt32;try{let i;for(;i=n.next();)r.add(_7e(i))}finally{n.done()}return Array.from(r)}async loadBuiltInWinCAModule(){try{return require(`${Zq.env.appRoot}/node_modules.asar/@vscode/windows-ca-certs`)}catch{}try{return require(`${Zq.env.appRoot}/node_modules/@vscode/windows-ca-certs`)}catch{}}};function _7e(t){let e=["-----BEGIN CERTIFICATE-----"],r=t.toString("base64");for(let n=0;n<r.length;n+=64)e.push(r.substr(n,64));return e.push("-----END CERTIFICATE-----",""),e.join(Ace.EOL)}var eue=Ie(require("path"));var fH={};Jn(fH,{_clean:()=>E7e,_extractDoc:()=>V7e,_getCallExpressions:()=>P7e,_getClassDeclarations:()=>D7e,_getCoarseParentScope:()=>B7e,_getDocumentableNodeIfOnIdentifier:()=>H7e,_getFixSelectionOfInterest:()=>q7e,_getFunctionBodies:()=>U7e,_getFunctionDefinitions:()=>N7e,_getFunctionPositions:()=>F7e,_getNewExpressions:()=>O7e,_getNodeMatchingSelection:()=>Jce,_getNodeToDocument:()=>j7e,_getSemanticChunkTree:()=>M7e,_getStructure:()=>Y7e,_getTestableNode:()=>G7e,_getTypeDeclarations:()=>k7e,_getTypeReferences:()=>L7e,_parse:()=>$o});var lI=Ie(require("path")),Sk=Ie(Rce());function Pce(t,e,r){let n=0,i=t.length;for(;n<i;){let o=n+i>>>1;r(t[o],e)?n=o+1:i=o}return n}function Nce(t,e){if(t.length===0)return;let r=t[0];for(let n=1;n<t.length;n++){let i=t[n];e(i,r)>0&&(r=i)}return r}var eH=class{constructor(e=10){this.values=new Map;this.lruKeys=[];if(e<1)throw new Error("Cache size must be at least 1");this.size=e}removeKeyFromLRU(e){let r=this.lruKeys.indexOf(e);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(e){this.removeKeyFromLRU(e),this.lruKeys.push(e)}clear(){this.values.clear(),this.lruKeys=[]}deleteKey(e){this.removeKeyFromLRU(e);let r=this.values.get(e);return r!==void 0&&this.values.delete(e),r}get(e){if(this.values.has(e)){let r=this.values.get(e);return this.touchKeyInLRU(e),r}}keys(){return this.lruKeys.slice()}getValues(){return this.values.values()}put(e,r){let n;if(!this.values.has(e)&&this.lruKeys.length===this.size){let i=this.lruKeys.shift(),o=this.deleteKey(i);n=[i,o]}return this.values.set(e,r),this.touchKeyInLRU(e),n}},Ek=class{constructor(e){this.actual=new eH(e)}dispose(){this.clear()}clear(){let e=this.actual.getValues();for(let r of e)r.dispose();this.actual.clear()}deleteKey(e){let r=this.actual.deleteKey(e);r&&r.dispose()}get(e){return this.actual.get(e)}keys(){return this.actual.keys()}getValues(){return this.actual.getValues()}put(e,r){let n=this.actual.put(e,r);n&&n[1].dispose()}};var Tk=class{constructor(e,r){this.syntaxTreeRoot=r;this.roots=[];this.formTree(e)}formTree(e){e.sort((o,s)=>o.mainBlock.startIndex-s.mainBlock.startIndex||o.mainBlock.endIndex-s.mainBlock.endIndex);let r=[],n=()=>r[r.length-1],i=(o,s)=>o.mainBlock.startIndex===s.mainBlock.startIndex&&o.mainBlock.endIndex===s.mainBlock.endIndex;for(let o of e){let s={info:o,children:[]},a=n();if(!a){this.roots.push(s),r.push(s);continue}if(!i(a.info,o)){for(;a&&!_a.doesContain(a.info.mainBlock,o.mainBlock);)r.pop(),a=n();a?a.children.push(s):this.roots.push(s),r.push(s)}}}};var Dce=(()=>{function t(e,...r){return e.length===1?e[0]:e.reduce((n,i,o)=>`${n}${i}${r[o]||""}`,"")}return{typescript:t,python:t}})();function $u(t,e){return Object.fromEntries(t.map(r=>[r,e]))}var kce={...$u(["javascript","typescript","tsx"],[[`[
				(call_expression
					function: (identifier) @identifier)
				(call_expression
					function: (member_expression
						(property_identifier) @identifier))
			] @call_expression`]]),python:[[`[
				(call
					function: (identifier) @identifier)
				(call
					function: (attribute
						attribute: (identifier) @identifier))
			] @call_expression`]],csharp:[[`[
				(invocation_expression
					function: (identifier) @identifier)
				(invocation_expression
					function: (member_access_expression
						name: (identifier) @identifier))
			  ] @call_expression`]],go:[[`[
				(call_expression
					((selector_expression
						(field_identifier) @identifier)))
				(call_expression
					(identifier) @identifier)
			] @call_expression`]],java:[[`[
				(method_invocation
				  name: (identifier) @identifier)
			] @call_expression`]],ruby:[[`[
				(call (identifier) @identifier
					(#not-match? @identifier "new|send|public_send|method"))
				(call
					receiver: (identifier)
					method: (identifier) @method
					(#match? @method "^(send|public_send|method)")
					arguments: (argument_list
						(simple_symbol) @symbol))
			] @call_expression`]],cpp:[[`[
				(call_expression (identifier) @identifier)
				(call_expression
					(field_expression
						field: (field_identifier) @identifier))
				(call_expression
					(call_expression
						(primitive_type)
						(argument_list
							(pointer_expression
							(identifier) @identifier))))
			] @call_expression`]],rust:[[`[
				(call_expression (identifier) @identifier)
				(call_expression (field_expression (identifier) (field_identifier) @identifier))
				(call_expression (scoped_identifier (identifier) (identifier) @identifier (#not-match? @identifier "new")))
			] @call_expression`]]},Lce={...$u(["javascript","typescript","tsx"],[["(class_declaration) @class_declaration"]]),java:[["(class_declaration) @class_declaration"]],csharp:[["(class_declaration) @class_declaration"]],python:[["(class_definition) @class_declaration"]],cpp:[["(class_specifier) @class_declaration"]],ruby:[["(class) @class_declaration"]],go:[[`(type_declaration
				(type_spec
					(type_identifier) @type_identifier)) @class_declaration`]],rust:[["(impl_item (type_identifier) @type_identifier) @class_declaration"]]},Oce={typescript:[[`[
				(interface_declaration)
				(type_alias_declaration)
			] @type_declaration`]],csharp:[[`(interface_declaration
				(identifier) @type_identifier) @type_declaration`]],cpp:[[`[
				(struct_specifier
					(type_identifier) @type_identifier)
				(union_specifier
					(type_identifier) @type_identifier)
				(enum_specifier
					(type_identifier) @type_identifier)
			] @type_declaration`]],java:[[`(interface_declaration
				(identifier) @type_identifier) @type_declaration`]],go:[[`(type_declaration
				(type_spec
					(type_identifier) @type_identifier)) @type_declaration`]],ruby:[["((constant) @type_identifier) @type_declaration"]],python:[[`(class_definition
				(identifier) @type_identifier) @type_declaration`]]},Mce={typescript:[["(type_identifier) @type_identifier"]],go:[["(type_identifier) @type_identifier"]],ruby:[["(constant) @type_identifier"]],csharp:[[`[
				(base_list
					(identifier) @type_identifier)
				(variable_declaration
					(identifier) @type_identifier)
			]`]],cpp:[["(type_identifier) @type_identifier"]],java:[["(type_identifier) @type_identifier"]],python:[[`[
				(type (identifier) @type_identifier)
				(argument_list
					(identifier) @type_identifier)
			]`]]},Fce={...$u(["javascript","typescript","tsx"],[[`(new_expression
				constructor: (identifier) @new_expression)`]]),python:[[`(call
				function: (identifier) @new_expression)`]],csharp:[[`(object_creation_expression
				(identifier) @new_expression)`]],java:[[`(object_creation_expression
				(type_identifier) @new_expression)`]],cpp:[[`(declaration
				(type_identifier) @new_expression)`]],go:[["(composite_literal (type_identifier) @new_expression)"]],ruby:[[`((call
				receiver: ((constant) @new_expression)
				method: (identifier) @method)
					(#eq? @method "new"))`]],rust:[[`(call_expression
				(scoped_identifier
					(identifier) @new_expression
					(identifier) @identifier
					(#eq? @identifier "new")))`]]},Uce={python:[[`[
				(function_definition
					name: (identifier) @identifier
					body: (block
							(expression_statement (string))? @docstring) @body)
				(assignment
					left: (identifier) @identifier
					right: (lambda) @body)
			] @function`],['(ERROR ("def" (identifier) (parameters))) @function']],...$u(["javascript","typescript","tsx"],[[`[
				(function
					name: (identifier)? @identifier
					body: (statement_block) @body)
				(function_declaration
					name: (identifier)? @identifier
					body: (statement_block) @body)
				(generator_function
					name: (identifier)? @identifier
					body: (statement_block) @body)
				(generator_function_declaration
					name: (identifier)? @identifier
					body: (statement_block) @body)
				(method_definition
					name: (property_identifier)? @identifier
					body: (statement_block) @body)
				(arrow_function
					body: (statement_block) @body)
			] @function`]]),go:[[`[
				(function_declaration
					name: (identifier) @identifier
					body: (block) @body)
				(method_declaration
					name: (field_identifier) @identifier
					body: (block) @body)
			] @function`]],ruby:[[`[
				(method
					name: (_) @identifier
					parameters: (method_parameters)? @params
					[(_)+ "end"] @body)
				(singleton_method
					name: (_) @identifier
					parameters: (method_parameters)? @params
					[(_)+ "end"] @body)
			] @function`]],csharp:[[`[
				(constructor_declaration
					(identifier) @identifier
					(block) @body)
				(destructor_declaration
					(identifier) @identifier
					(block) @body)
				(operator_declaration
					(block) @body)
				(method_declaration
					(identifier) @identifier
					(block) @body)
				(local_function_statement
					(identifier) @identifier
					(block) @body)
			] @function`]],cpp:[[`(function_definition
					(_
					(identifier) @identifier)
				(compound_statement) @body) @function`]],java:[[`[
				(constructor_declaration
					name: (identifier) @identifier
					body: (constructor_body) @body)
				(method_declaration
					name: (_) @identifier
					body: (block) @body)
				(lambda_expression
					body: (block) @body)
			] @function`]],rust:[[`[
				(function_item (identifier) @identifier)
				(let_declaration (identifier) @identifier)
			] @function`]]},Bce={...$u(["javascript","typescript","tsx"],[[`((comment) @comment
			(#match? @comment "^\\\\/\\\\*\\\\*")) @docComment`]]),java:[[`((block_comment) @block_comment
			(#match? @block_comment "^\\\\/\\\\*\\\\*")) @docComment`]],cpp:[[`((comment) @comment
			(#match? @comment "^\\\\/\\\\*\\\\*")) @docComment`]],csharp:[[`(
			((comment) @c
				(#match? @c "^\\\\/\\\\/\\\\/"))+
		) @docComment`]],rust:[[`((line_comment) @comment
			(#match? @comment "^///|^//!"))+ @docComment`]],go:[["((comment)+) @docComment"]],ruby:[["((comment)+) @docComment"]],python:[[`(expression_statement
			(string) @docComment)`]]},qce={javascript:[[`[
			(function_declaration
				(identifier) @function.identifier
			) @function

			(generator_function_declaration
				name: (identifier) @generator_function.identifier
			) @generator_function

			(class_declaration
				name: (identifier) @class.identifier ;; note: (type_identifier) in typescript
				body: (class_body
							(method_definition
								name: (property_identifier) @method.identifier
							) @method
						)
			) @class
		]`]],...$u(["typescript","tsx"],[[`[
				(function_declaration
					(identifier) @function.identifier
				) @function

				(generator_function_declaration
					name: (identifier) @generator_function.identifier
				) @generator_function

				(class_declaration
					name: (type_identifier) @class.identifier
					body: (class_body
								(method_definition
									name: (property_identifier) @method.identifier
								) @method
							)
				) @class
			]`]]),python:[[`[
				(function_definition
					name: (identifier) @function.identifier
				) @function
			]`]],go:[[`[
				(function_declaration
					name: (identifier) @function.identifier
				) @function

				(method_declaration
					name: (identifier) @method.identifier
				) @method
			]`]],ruby:[[`[
				(method
					name: (identifier) @method.identifier
				) @method

				(singleton_method
					name: (_) @singleton_method.identifier
				) @singleton_method
			]`]],csharp:[[`[
				(constructor_declaration
					(identifier) @constructor.identifier
				) @constructor

				(destructor_declaration
					(identifier) @destructor.identifier
				) @destructor

				(method_declaration
					(identifier) @method.identifier
				) @method

				(local_function_statement
					(identifier) @local_function.identifier
				) @local_function
			]`]],cpp:[[`[
				(function_definition
					(_
						(identifier) @identifier)
				) @function
			]`]],java:[[`(class_declaration
			body: (_
						[
							(constructor_declaration
								(modifiers)? @constructor.modifiers
								(#not-eq? @constructor.modifiers "private")
                                name: (identifier) @constructor.identifier
							) @constructor

							(method_declaration
								(modifiers)? @method.modifiers
								(#not-eq? @method.modifiers "private")
                                name: (identifier) @method.identifier
							) @method
						]
					)
		) @class`]],rust:[[`[
				(function_item
					(identifier) @function.identifier
				) @function,
			]`]]},Hce={...$u(["typescript","tsx"],[[Dce.typescript`
			[
				(comment) @comment ;; split into multiple comment kinds?

				(declaration) @declaration

				;; class declaration related

				(public_field_definition) @public_field_definition
				(method_definition) @method_definition

				;; statements

				(import_statement) @import_statement
				(export_statement) @export_statement

				(expression_statement) @expression_statement

				(for_in_statement) @for_in_statement
				(for_statement) @for_statement
				(break_statement) @break_statement
				(continue_statement) @continue_statement
				(do_statement) @do_statement
				(if_statement) @if_statement
				(switch_statement) @switch_statement
				(switch_case) @switch_case
				(try_statement) @try_statement
				(throw_statement) @throw_statement
				(debugger_statement) @debugger_statement
				(return_statement) @return_statement
			]
			`]]),python:[[Dce.python`
			[
				(comment) @comment

				;; simple statements
				(assert_statement) @assert_statement
				(break_statement) @break_statement
				(continue_statement) @continue_statement
				(delete_statement) @delete_statement
				(exec_statement) @exec_statement
				(expression_statement) @expression_statement
				(future_import_statement) @future_import_statement
				(global_statement) @global_statement
				(import_from_statement) @import_from_statement
				(import_statement) @import_statement
				(nonlocal_statement) @nonlocal_statement
				(pass_statement) @pass_statement
				(print_statement) @print_statement
				(raise_statement) @raise_statement
				(return_statement) @return_statement
				(type_alias_statement) @type_alias_statement


				;; compound statements

				(class_definition) @class_definition
				(decorated_definition) @decorated_definition
				(for_statement) @for_statement
				(function_definition) @function_definition
				(if_statement) @if_statement
				(try_statement) @try_statement
				(while_statement) @while_statement
				(with_statement) @with_statement


				;; expressions

				(expression_list) @expression_list
				(expression_statement) @expression_statement
			]
		`]],javascript:[],go:[],ruby:[],csharp:[],cpp:[],java:[],rust:[]},Gce={...$u(["typescript","tsx"],["program","interface_declaration","class_declaration","function_declaration","function","type_alias_declaration","method_definition"]),javascript:["program","class_declaration","function_declaration","function","method_definition"],java:["program","class_declaration","interface_declaration","method_declaration"],cpp:["translation_unit","class_declaration","function_definition"],csharp:["compilation_unit","class_declaration","interface_declaration","method_declaration"],python:["module","class_definition","function_definition"],go:["source_file","type_declaration","function_declaration","method_declaration"],ruby:["program","method","class","method"],rust:["source_file","function_item","impl_item","let_declaration"]},jce={typescript:[[uf("typescript")]],tsx:[[uf("tsx")]],javascript:[[uf("javascript")]],java:[[uf("java")]],cpp:[[uf("cpp")]],csharp:[[uf("csharp")]],python:[[uf("python")]],go:[[uf("go")]],ruby:[[uf("ruby")]],rust:[[uf("rust")]]},y7e={...$u(["typescript","tsx","javascript"],["for_in_statement","for_statement","if_statement","while_statement","do_statement","try_statement","switch_statement"]),java:["for_statement","enhanced_for_statement","if_statement","while_statement","do_statement","try_statement","switch_expression"],cpp:["for_statement","for_range_loop","if_statement","while_statement","do_statement","try_statement","switch_statement"],csharp:["for_statement","for_each_statement","if_statement","while_statement","do_statement","try_statement","switch_expression"],python:["for_statement","if_statement","while_statement","try_statement"],go:["for_statement","if_statement","type_switch_statement"],ruby:["while","for","if","case"],rust:["for_statement","if_statement","while_statement","loop_statement","match_expression"]},b7e={...$u(["typescript","tsx"],["lexical_declaration","expression_statement","public_field_definition"]),javascript:["call_expression","expression_statement","variable_declaration","public_field_definition"],java:["expression_statement","local_variable_declaration","field_declaration"],cpp:["field_declaration","expression_statement","declaration"],csharp:["field_declaration","expression_statement"],python:["expression_statement"],go:["short_var_declaration","call_expression"],ruby:["call","assignment"],rust:["expression_statement","let_declaration","use_declaration","assignment_expression","macro_definition","extern_crate_declaration"]},x7e={...$u(["typescript","tsx"],["class_declaration","function_declaration","generator_function_declaration","interface_declaration","internal_module","method_definition"]),javascript:["class_declaration","function_declaration","generator_function_declaration","method_definition"],java:["class_declaration","constructor_declaration","enum_declaration","interface_declaration","method_declaration","module_declaration"],cpp:["class_specifier","function_definition","namespace_definition","struct_specifier"],csharp:["class_declaration","constructor_declaration","destructor_declaration","enum_declaration","interface_declaration","method_declaration","namespace_declaration","struct_declaration"],python:["function_definition","class_definition"],go:["function_declaration","method_declaration"],ruby:["class","method","module"],rust:["function_item","impl_item","mod_item","struct_item","trait_item","union_item"]},Vce={typescript:[[lf("typescript")]],tsx:[[lf("tsx")]],javascript:[[lf("javascript")]],java:[[lf("java")]],cpp:[[lf("cpp")]],csharp:[[lf("csharp")]],python:[[lf("python")]],go:[[lf("go")]],rust:[[lf("rust")]],ruby:[[lf("ruby")]]};function uf(t){return Gce[t].map(e=>`(${e}) @scope`).join(`
`)}function lf(t){return`[
		${x7e[t].map(r=>`(${r})`).join(`
`)}
	] @definition`}function uI(t,e){return Gce[t].includes(e.type)||y7e[t].includes(e.type)}function tH(t,e){return b7e[t].includes(e.type)}var rH=class{constructor(){this.loadedLanguagesCache=new Map}loadLanguage(e){return this.loadedLanguagesCache.has(e)||this.loadedLanguagesCache.set(e,this._doLoadLanguage(e)),this.loadedLanguagesCache.get(e)}_doLoadLanguage(e){let n=`tree-sitter-${e==="csharp"?"c-sharp":e}.wasm`,i=lI.basename(__dirname)==="dist"?lI.resolve(__dirname,n):lI.resolve(__dirname,"../../../../dist",n);return Sk.default.Language.load(i)}},nH=class t{static{this.CACHE_SIZE_PER_LANGUAGE=5}constructor(){this.caches=new Map,this.languageLoader=new rH,this._parser=null}get parser(){return this._parser||(this._parser=new Sk.default),this._parser}async parse(e,r){await Sk.default.init();let n=this.getParseTreeCache(e),i=n.get(r);if(i)return i.createReference();let o=await this.languageLoader.loadLanguage(e);this.parser.setLanguage(o);let s=this.parser.parse(r),a=new oH(s);return n.put(r,a),a.createReference()}delete(){this._parser&&(this.parser.delete(),this._parser=null);for(let e of this.caches.values())e.dispose()}getParseTreeCache(e){let r=this.caches.get(e);return r||(r=new Ek(t.CACHE_SIZE_PER_LANGUAGE),this.caches.set(e,r)),r}},iH=class{constructor(e){this._tree=e;this._refCount=1}get tree(){if(this._refCount===0)throw new Error("Cannot access disposed RefCountedParseTree");return this._tree}ref(){if(this._refCount===0)throw new Error("Cannot ref disposed RefCountedParseTree");this._refCount++}deref(){if(this._refCount===0)throw new Error("Cannot deref disposed RefCountedParseTree");this._refCount--,this._refCount===0&&this._tree.delete()}},oH=class{constructor(e){this._tree=new iH(e)}dispose(){this._tree.deref()}createReference(){return new sH(this._tree)}},sH=class{constructor(e){this._parseTree=e;this._parseTree.ref()}get tree(){return this._parseTree.tree}dispose(){this._parseTree.deref()}},Wce=new nH;function E7e(){Wce.delete()}function $o(t,e){return Wce.parse(t,e)}var aH=class{constructor(e){this.language=e;this.map=new Map}getQuery(e){return this.map.has(e)||this.map.set(e,this.language.query(e)),this.map.get(e)}},cH=class t{constructor(){this.map=new Map}static{this.INSTANCE=new t}getQuery(e,r){return this.map.has(e)||this.map.set(e,new aH(e)),this.map.get(e).getQuery(r)}};function Wu(t,e){let r=[];for(let n of t){let i=cH.INSTANCE.getQuery(e.tree.getLanguage(),n[0]);r.push(...i.matches(e))}return r}function T7e(t,e){let r=jce[t];return Wu(r,e)}function uH(t,e){let r=Uce[t];return Wu(r,e)}function S7e(t,e){let r=kce[t];return r?Wu(r,e):[]}function C7e(t,e){let r=Lce[t];return r?Wu(r,e):[]}function I7e(t,e){let r=Oce[t];return r?Wu(r,e):[]}function w7e(t,e){let r=Mce[t];return r?Wu(r,e):[]}function A7e(t,e){let r=Fce[t];return r?Wu(r,e):[]}function R7e(t,e){let r=Vce[t];return Wu(r,e)}async function P7e(t,e,r){let n=await $o(t,e);try{return S7e(t,n.tree.rootNode).reduce((s,a)=>{let u=a.captures.find(c=>c.name==="call_expression").node;if(_a.doIntersect(r,u)){let c,l;t==="ruby"&&(l=a.captures.find(f=>f.name==="symbol")?.node,c=l?.text?.slice(1)),l??=a.captures.find(f=>f.name==="identifier")?.node,c??=l?.text,s.push({identifier:c??"",text:u.text,startIndex:(l??u).startIndex,endIndex:(l??u).endIndex})}return s},[])}finally{n.dispose()}}async function N7e(t,e){let r=await $o(t,e);try{return uH(t,r.tree.rootNode).map(o=>{let s=o.captures.find(u=>u.name==="function").node;return{identifier:o.captures.find(u=>u.name==="identifier")?.node.text??"",text:s.text,startIndex:s.startIndex,endIndex:s.endIndex}})}finally{r.dispose()}}async function D7e(t,e){let r=await $o(t,e);try{return C7e(t,r.tree.rootNode).map(o=>{let s=o.captures.find(u=>u.name==="class_declaration").node;return{identifier:s?.children.find(u=>u.type==="type_identifier"||u.type==="identifier"||u.type==="constant")?.text??"",text:s.text,startIndex:s.startIndex,endIndex:s.endIndex}})}finally{r.dispose()}}async function k7e(t,e){let r=await $o(t,e);try{return I7e(t,r.tree.rootNode).map(o=>{let s=o.captures.find(u=>u.name==="type_declaration").node,a=o.captures.find(u=>u.name==="type_identifier")?.node.text;return a||(a=s?.children.find(u=>u.type==="type_identifier")?.text),{identifier:a??"",text:s.text,startIndex:s.startIndex,endIndex:s.endIndex}})}finally{r.dispose()}}async function L7e(t,e,r){let n=await $o(t,e);try{return w7e(t,n.tree.rootNode).reduce((s,a)=>{let u=a.captures.find(c=>c.name==="type_identifier").node;return _a.doIntersect(r,u)&&s.push({identifier:u.text,text:u.text,startIndex:u.startIndex,endIndex:u.endIndex}),s},[])}finally{n.dispose()}}async function O7e(t,e,r){let n=await $o(t,e);try{return A7e(t,n.tree.rootNode).reduce((s,a)=>{let u=a.captures.find(c=>c.name==="new_expression").node;return _a.doIntersect(r,u)&&s.push({identifier:u.text,text:u.text,startIndex:u.startIndex,endIndex:u.endIndex}),s},[])}finally{n.dispose()}}async function M7e(t,e){let r=await $o(t,e);try{let n=R7e(t,r.tree.rootNode);return $7e(t,n,r.tree.rootNode)}finally{r.dispose()}}async function F7e(t,e){let r=await $o(t,e);try{return uH(t,r.tree.rootNode).map(o=>{let s=o.captures.find(a=>a.name==="function").node;return{startIndex:s.startIndex,endIndex:s.endIndex}})}finally{r.dispose()}}async function U7e(t,e){let r=await $o(t,e);try{return uH(t,r.tree.rootNode).map(o=>{let s=o.captures.find(a=>a.name==="body").node;return{startIndex:s.startIndex,endIndex:s.endIndex}})}finally{r.dispose()}}async function B7e(t,e,r){let n=await $o(t,e);try{let i=T7e(t,n.tree.rootNode),o;for(let s of i){let a=s.captures[0].node,u=zm.ofSyntaxNode(a);if(zm.doesContain(u,r)&&(o=a),Hu.isBefore(r.endPosition,u.startPosition))break}if(o)return zm.ofSyntaxNode(o);throw new Error("No parent node found")}finally{n.dispose()}}async function q7e(t,e,r,n){let i=await $o(t,e);try{let o=i.tree.rootNode.descendantForPosition(r.startPosition,r.endPosition),s={startPosition:o.startPosition,endPosition:o.endPosition},a=Xce(t,o,n,r,!0);return zm.equals(s,a)?Kce(t,o):a}finally{i.dispose()}}function Kce(t,e){let r=e.parent,n={startPosition:e.startPosition,endPosition:e.endPosition};if(uI(t,e)||!r)return n;let{filteredRanges:i,indexOfInterest:o}=Qce(t,r.children,n,!1);if(o-1>=0&&o+1<=i.length-1){let s=i[o-1],a=i[o+1];return{startPosition:s.startPosition,endPosition:a.endPosition}}return Kce(t,r)}function Xce(t,e,r,n,i){let o=e.children;if(e.endPosition.row-e.startPosition.row+1<=r){let a=uI(t,e)?{startPosition:e.startPosition,endPosition:e.endPosition}:Yce(t,o,r,n,i),u=e.parent;return u?Xce(t,u,r,a,!1):a}return Yce(t,o,r,n,i)}function zce(t,e){return e.endPosition.row-t.startPosition.row+1}function Yce(t,e,r,n,i){if(e.length===0)return n;let{filteredRanges:o,indexOfInterest:s}=Qce(t,e,n,i),a=0,u=o.length-1,c=o[a],l=o[u];for(;zce(c,l)>r&&a!==u;)s-a<u-s?(u--,l=o[u]):(a++,c=o[a]);return zce(c,l)<=r?{startPosition:c.startPosition,endPosition:l.endPosition}:n}function Qce(t,e,r,n){let i,o;if(n?(i=e.filter(s=>uI(t,s)||tH(t,s)),o=Pce(i,r,(s,a)=>Hu.isBefore(s.startPosition,a.startPosition)),i.splice(o,0,r)):(i=e.filter(s=>zm.doesContain(s,r)||uI(t,s)||tH(t,s)),o=i.findIndex(s=>zm.doesContain(s,r))),o===-1)throw new Error("Valid index not found");return{filteredRanges:i,indexOfInterest:o}}function Jce(t,e,r){let n=[t.rootNode],i=[];for(;;){let o=n.map(s=>[s,_a.intersectionSize(s,e)]).filter(([s,a])=>a>0).sort(([s,a],[u,c])=>c-a);if(o.length===0)return i.length===0?void 0:Nce(i,([s,a],[u,c])=>a-c)[0];{let s=o.map(([a,u])=>{let c=_a.len(a),l=Math.abs(_a.len(e)-u),p=(u-l)/c;return[a,p]});i.push(...s.filter(([a,u])=>lH(a,r))),n=[],n.push(...s.flatMap(([a,u])=>a.children))}}}async function H7e(t,e,r){let n=await $o(t,e);try{let i=n.tree.rootNode.descendantForIndex(r.startIndex,r.endIndex);if(i.type.match(/identifier/)&&(i.parent===null||lH(i.parent,t))){let o=i.parent,s=o===null?void 0:{startIndex:o.startIndex,endIndex:o.endIndex};return{identifier:i.text,nodeRange:s}}}finally{n.dispose()}}async function G7e(t,e,r){let n=await $o(t,e);try{let i=qce[t],a=Wu(i,n.tree.rootNode).flatMap(({captures:u})=>u).filter(({name:u})=>u.endsWith("identifier")).find(({node:u})=>_a.doesContain(u,r));return a?{identifier:a.node.text}:void 0}catch{return}finally{n.dispose()}}async function j7e(t,e,r){let n=await $o(t,e);try{let o=r.startIndex===r.endIndex?void 0:Jce(n.tree,r,t);if(o)return{nodeIdentifier:$ce(o,t),nodeToDocument:cU.ofSyntaxNode(o),nodeSelectionBy:"matchingSelection"};let a=n.tree.rootNode.descendantForIndex(r.startIndex,r.endIndex),u=0;for(;!lH(a,t)&&a.parent!==null;)a=a.parent,++u;return{nodeIdentifier:$ce(a,t),nodeToDocument:cU.ofSyntaxNode(a),nodeSelectionBy:"expanding"}}finally{n.dispose()}}function $ce(t,e){switch(e){case"python":case"csharp":return t.children.find(r=>r.type.match(/identifier/))?.text;case"go":{let r=t.children.find(i=>i.type.match(/identifier/));return r?r.text:t.children.find(i=>i.type.match(/spec/))?.children.find(i=>i.type.match(/identifier/))?.text}case"javascript":case"javascriptreact":case"typescript":case"typescriptreact":case"cpp":case"java":{let r=t.children.find(i=>i.type.match(/identifier/));return r?r.text:t.children.find(i=>i.type.match(/declarator/))?.children.find(i=>i.type.match(/identifier/))?.text}case"ruby":return t.children.find(r=>r.type.match(/constant|identifier/))?.text;default:return t.children.find(r=>r.type.match(/identifier/))?.text}}function lH(t,e){switch(e){case"typescript":case"tsx":case"javascript":return t.type.match(/definition|declaration|declarator|export_statement/);case"go":return t.type.match(/definition|declaration|declarator|var_spec/);case"cpp":return t.type.match(/definition|declaration|declarator|class_specifier/);case"ruby":return t.type.match(/module|class|method|assignment/);default:return t.type.match(/definition|declaration|declarator/)}}async function V7e(t,e){if(!new Set(["javascript","typescript","java","cpp","csharp","go","ruby"]).has(t))return;let n=await $o(t,e);try{let i=Bce[t],o=Wu(i,n.tree.rootNode).flatMap(a=>a.captures.filter(u=>u.name==="docComment")),s=z7e(o);if(s.length>1&&(s=s.filter(a=>a.includes(`
`)||!a.match(/(code implementation|implementation details)/i))),s.length===1)return s[0]}finally{n.dispose()}}function z7e(t){let e=[];for(let r=0;r<t.length;++r){let n=[t[r].node.text];for(;r+1<t.length&&t[r].node.endPosition.row+1===t[r+1].node.startPosition.row;)++r,n.push(t[r].node.text);e.push(n.join(`
`))}return e}async function Y7e(t,e){let r=await $o(t,e),n=Hce[t];try{let i=Wu(n,r.tree.rootNode).flatMap(a=>a.captures).sort((a,u)=>_a.compare(a.node,u.node)),o=new SC(0,e.length,"root",[]),s=[o];for(let a=0;a<i.length;++a){let c=i[a].node,l;do l=s.pop();while(l&&!_a.doesContain(l,c));if(new Set(["export_statement","ambient_declaration"]).has(l.kind))l.kind=c.type,s.push(l);else{let p=new SC(c.startIndex,c.endIndex,c.type,[]);l.children.push(p),s.push(l,p)}}return o}catch(i){console.error(i instanceof Error?i:new Error(i))}finally{r.dispose()}}function $7e(t,e,r){let n;switch(t){case"python":n=Q7e(e);break;case"ruby":n=X7e(e);break;default:{n=W7e(e,t);break}}return new Tk(n,Gu.ofSyntaxNode(r))}function W7e(t,e){let r=new Map;return t.forEach(n=>{let o=n.captures.find(a=>a.name==="definition")?.node,s=o?.childForFieldName("body");if(o&&s){let a;switch(e){case"typescript":case"javascript":a=J7e(o);break;case"java":case"rust":a=Z7e(o);break;default:{a=fI(o);break}}r.get(o.id)||r.set(o.id,{mainBlock:Gu.ofSyntaxNode(o),detailBlocks:{comments:a.map(c=>Gu.ofSyntaxNode(c)),body:Gu.ofSyntaxNode(s)}})}}),Array.from(r.values())}function K7e(t){if(!(t.length<2))for(let e=1;e<t.length;e++){let r=t[e];if(!r.type.includes("parameters"))return r}}function X7e(t){let e=new Map;return t.forEach(r=>{let i=r.captures.find(o=>o.name==="definition")?.node;if(i){let o=i.namedChildren,s=K7e(o);if(s){let a=o[o.length-1],u=i.text.substring(s.startIndex-i.startIndex,a.endIndex-i.startIndex),c=fI(i);e.get(i.id)||e.set(i.id,{mainBlock:Gu.ofSyntaxNode(i),detailBlocks:{comments:c.map(f=>Gu.ofSyntaxNode(f)),body:{range:{startPosition:{row:s.startPosition.row,column:s.startPosition.column},endPosition:{row:a.endPosition.row,column:a.endPosition.column}},startIndex:s.startIndex,text:u,endIndex:a.endIndex}}})}}}),Array.from(e.values())}function Q7e(t){let e=new Map;return t.forEach(r=>{let i=r.captures.find(s=>s.name==="definition")?.node,o=i?.childForFieldName("body");if(i&&o){let s=tFe(o),a=eFe(i);e.set(i.id,{mainBlock:Gu.ofSyntaxNode(i),detailBlocks:{docstring:s?Gu.ofSyntaxNode(s):void 0,decorator:a?Gu.ofSyntaxNode(a):void 0,body:Gu.ofSyntaxNode(o)}});return}}),Array.from(e.values())}function fI(t,e=["comment"]){let r=[],n=t.previousNamedSibling;for(;n&&e.some(i=>i===n?.type);)r.push(n),n=n.previousNamedSibling;return r.reverse()}function J7e(t){let e=t.parent;return e?.type==="export_statement"?fI(e):fI(t)}function Z7e(t){return fI(t,["block_comment","line_comment"])}function eFe(t){let e=t.previousNamedSibling;return e?.type==="decorator"?e:void 0}function tFe(t){let e=t.firstChild;if(!e||e.type!=="expression_statement")return;let r=e.firstChild;return r?.type==="string"?r:void 0}var rFe=eue.join(__dirname,"worker2.js"),Ck=class{constructor(e,r){this._parser=new pH(fH,rFe,r,e.getLogger("parser proxy"))}dispose(){this._parser.dispose()}getTreeSitterAST(e){let r=PN(e.languageId);if(r)return this.getTreeSitterASTForWASMLanguage(r,e.getText())}getTreeSitterASTForWASMLanguage(e,r){let n=this._parser.proxy;return{getFunctionPositions:()=>n._getFunctionPositions(e,r),getFunctionBodies:()=>n._getFunctionBodies(e,r),getCoarseParentScope:i=>n._getCoarseParentScope(e,r,i),getFixSelectionOfInterest:(i,o)=>n._getFixSelectionOfInterest(e,r,i,o),getCallExpressions:i=>n._getCallExpressions(e,r,i),getFunctionDefinitions:()=>n._getFunctionDefinitions(e,r),getNewExpressions:i=>n._getNewExpressions(e,r,i),getClassDeclarations:()=>n._getClassDeclarations(e,r),getTypeDeclarations:()=>n._getTypeDeclarations(e,r),getTypeReferences:i=>n._getTypeReferences(e,r,i),getDocumentableNodeIfOnIdentifier:i=>n._getDocumentableNodeIfOnIdentifier(e,r,i),getTestableNode:i=>n._getTestableNode(e,r,i),getNodeToDocument:i=>n._getNodeToDocument(e,r,i),getStructure:()=>n._getStructure(e,r)}}extractDoc(e,r){return this._parser.proxy._extractDoc(e,r)}getSemanticChunkTree(e,r){return this._parser.proxy._getSemanticChunkTree(e,r)}getStructure(e,r){return this._parser.proxy._getStructure(e,r)}},pH=class{constructor(e,r,n,i){this._workerPath=r;this._useWorker=n;this._local=new Proxy(e,{get:(o,s,a)=>{let u=o[s];return typeof u!="function"?u:async(...c)=>{let l=await u.apply(o,Zce(c));return Zce(l)}}}),this._worker=new ma(()=>new fh(this._workerPath,i))}get proxy(){return this._useWorker?this._worker.value.proxy:this._local}dispose(){this._worker.hasValue&&this._worker.value.terminate()}};function Zce(t){return typeof t>"u"?t:JSON.parse(JSON.stringify(t))}var Xp=class{constructor(e){this._variableEnablements=e.get(Be).getConfigMixedWithDefaults(qe.ConversationVariablesEnablements)}isVariableEnabled(e){return typeof this._variableEnablements[e.name]=="boolean"?this._variableEnablements[e.name]:typeof e.defaultEnablement=="boolean"?e.defaultEnablement:!!this._variableEnablements["*"]}getVariables(){let e=[];for(let r of Gt.contextResolvers)r.variableInfo&&this.isVariableEnabled(r.variableInfo)&&e.push({name:r.variableInfo.name,kind:r.kind,description:r.variableInfo.description,resolve:r.resolveContext.bind(r)});return e}getVariable(e){return this.getVariables().find(r=>r.name===e)}};var Ik=class extends ef{constructor(r){super();this._chatVariableService=r.get(Xp),this._fsService=r.get(Zi)}async resolveVariablesInPrompt(r,n){let i=/(^|\s)\[([^\]]+)\]\(values:([^\)]+)\)/ig,o=[];for(;;){let s=i.exec(r);if(!s)return{parts:o,message:r};let[a,u,c,l]=s,f=n[l];if(!f||f.length===0)continue;let p=l.replace(/^#/,""),m=f.find(d=>d.level===IN.Full)??f[0];if(m.value instanceof ga){let d=(await this._fsService.readFile(m.value)).toString().replace(/\r/g,"");m.value=Li("",d)}if(m.kind==="github.docset")r=r.slice(0,s.index)+u+m.value+r.slice(s.index+a.length);else{let d=this._chatVariableService.getVariable(l);o.push({kind:d?.kind??"variable",userMessages:[nFe(p)+m.value]}),r=r.slice(0,s.index)+u+`[${c}](#${p}-context)`+r.slice(s.index+a.length)}}}};function nFe(t){return`# ${t.toUpperCase()} CONTEXT
`}var wk=require("vscode");var Lv=class extends fi{async loadWorkspaceContents(r){return await(await this.getApi()).loadWorkspaceContents?.(r)??!1}getApi(){return this.getRemoteExtension().activate()}getRemoteExtension(){if(this._remoteHub!==void 0)return this._remoteHub;if(this._remoteHub=wk.extensions.getExtension("ms-vscode.remote-repositories")??wk.extensions.getExtension("GitHub.remoteHub")??wk.extensions.getExtension("GitHub.remoteHub-insiders"),this._remoteHub===void 0)throw new Error("No Remote repository extension found.");return this._remoteHub}};var dH=Ie(require("vscode"));var Ob=class extends NN{findTextInFiles(e,r,n,i){return Promise.resolve(dH.workspace.findTextInFiles(e,r,o=>n.report(o),i))}findFiles(e,r,n,i){return dH.workspace.findFiles(e,r,n,i)}};var Ak=class extends Ob{constructor(r){super();this._ignoreService=r.get(Ar)}async findFilesWithDefaultExcludes(r,n,i){let o=this._ignoreService.asMinimatchPattern({includeCopilotIgnore:!0,includeGitIgnore:!1});return this._findFilesWithDefaultExcludesAndExcludes(r,o,n,i)}async findFiles(r,n,i,o){return(await super.findFiles(r,n,i,o)).filter(a=>!this._ignoreService.isCopilotIgnored(a))}async findTextInFiles(r,n,i,o){let s={report:a=>{this._ignoreService.isCopilotIgnored(a.uri)||i.report(a)}};return super.findTextInFiles(r,n,s,o)}};var ys=Ie(require("vscode"));var Rk=class{constructor(e){this._ignoreService=e;this._store=new rn;this._tabGroupsUseInfo=new Map;this._tabClock=0;this.onDidChangeActiveTextEditor=ys.window.onDidChangeActiveTextEditor;this.onDidChangeTabs=ys.window.tabGroups.onDidChangeTabs;this._store.add(ys.window.tabGroups.onDidChangeTabGroups(r=>{r.closed.forEach(n=>this._tabGroupsUseInfo.delete(n)),this._tabGroupsUseInfo.set(ys.window.tabGroups.activeTabGroup,this._tabClock++)}))}dispose(){this._store.dispose()}get activeTextEditor(){let e=ys.window.activeTextEditor;if(e&&e.document.uri.scheme!=="output")return this._ignoreService.isCopilotIgnored(e.document.uri)?void 0:e;let r=new li;ys.window.visibleTextEditors.forEach(i=>r.set(i.document.uri,i));let n=[...this._tabGroupsUseInfo];n.sort((i,o)=>o[1]-i[1]);for(let[i]of n)if(i.activeTab){let o=this._asTabInfo(i.activeTab);if(o.uri&&r.has(o.uri)){let s=r.get(o.uri);return s&&this._ignoreService.isCopilotIgnored(s.document.uri)?void 0:s}}}get tabs(){return ys.window.tabGroups.all.flatMap(r=>r.tabs).map(this._asTabInfo,this).filter(r=>r.uri?!this._ignoreService.isCopilotIgnored(r.uri):!0)}_asTabInfo(e){let r;return e.input instanceof ys.TabInputText||e.input instanceof ys.TabInputNotebook?r=e.input.uri:(e.input instanceof ys.TabInputTextDiff||e.input instanceof ys.TabInputNotebookDiff)&&(r=e.input.modified),{tab:e,uri:r}}};var Pk=class{sendInternalMSFTTelemetryEvent(e,r,n){}sendMSFTTelemetryEvent(e,r,n){}sendMSFTTelemetryErrorEvent(e,r,n){}sendGHTelemetryEvent(e,r,n){}sendGHTelemetryErrorEvent(e,r,n){}sendTelemetryEvent(e,r,n,i){}sendTelemetryErrorEvent(e,r,n,i){}setSharedProperty(e,r){}postEvent(e,r){}};var axe=Ie(sxe()),q3=Ie(require("os"));var C_=class{constructor(e,r,n){this.namespace=r;this.client=VZe(e,n),cxe(e,this.client)}separateData(e){let r={},n={};for(let[i,o]of Object.entries(e))typeof o=="number"?n[i]=o:r[i]=o;return{properties:r,measurements:n}}sendEventData(e,r){let{properties:n,measurements:i}=this.separateData(r||{});this.client.trackEvent({name:this.qualifyEventName(e),properties:n,measurements:i})}sendErrorData(e,r){let{properties:n,measurements:i}=this.separateData(r||{});this.client.trackException({exception:e,properties:n,measurements:i})}flush(){return new Promise(e=>{this.client.flush({callback:()=>{e(void 0)}})})}qualifyEventName(e){return e.includes(this.namespace)?e:`${this.namespace}/${e}`}};function VZe(t,e){let r=new axe.TelemetryClient(e);return r.config.enableAutoCollectRequests=!1,r.config.enableAutoCollectPerformance=!1,r.config.enableAutoCollectExceptions=!1,r.config.enableAutoCollectConsole=!1,r.config.enableAutoCollectDependencies=!1,r.config.noDiagnosticChannel=!0,cxe(t,r),r}function cxe(t,e){e.commonProperties=zZe(e.commonProperties,t),e.context.tags[e.context.keys.cloudRoleInstance]="REDACTED",e.config.endpointUrl=t.get(Dm).getUrl()}function zZe(t,e){t=t||{},t.common_os=q3.platform(),t.common_platformversion=q3.release();let r=e.get(Vt);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}var H3="7d7048df-6dd0-4048-bb23-b716c1461f8f",uxe="3fdd7f28-937a-48c8-9a21-ba337db23bd1";async function G3(t,e,r){let n=t.get(xt);if(await n.deactivate(),!r)return;let i=new C_(t,e,H3),o=new C_(t,e,uxe);return n.setReporter(i),n.setSecureReporter(o),{dispose(){n.setReporter(void 0),n.setSecureReporter(void 0),i.flush(),o.flush()}}}var Q2=Ie(CEe());function Ert(t){return t?Q2.TargetPopulation.Insiders:Q2.TargetPopulation.Public}async function IEe(t,e,r){let n=t.extension.id,i=t.extension.packageJSON.version,o=Ert(r);return(0,Q2.getExperimentationService)(n,i,o,e,t.globalState)}var bPe=require("vscode");var cee=Ie(yPe());var DM=class{constructor(e,r,n,i){this._sharedProperties={};this._isInternal=!1;i.onCopilotToken(async o=>{if(this._username=(await Pv(e))?.account?.label,this._sku=o.token.getTokenValue("sku"),this._isInternal=o.token.isInternal,this.sendTelemetryEvent("token",{},{chatEnabled:o.envelope.chat_enabled?1:0,snippyEnabled:o.envelope.public_suggestions==="enabled"?1:0,telemetryEnabled:o.envelope.telemetry==="enabled"?1:0}),!o.token.organization_list||!o.envelope.chat_enabled){this._internalTelemetryReporter=void 0;return}o.token.isInternal&&(this._internalTelemetryReporter=new cee.default(r))}),this._externalTelemetryReporter=new cee.default(n)}dispose(){this._externalTelemetryReporter.dispose(),this._internalTelemetryReporter?.dispose()}setSharedProperty(e,r){this._sharedProperties[e]=r}postEvent(e,r){let n={};for(let[i,o]of r)n[i]=o;this._isInternal&&this.sendInternalTelemetryEvent(e,n),this.sendTelemetryEvent(e,n)}sendInternalTelemetryEvent(e,r,n){this._internalTelemetryReporter&&(r={...r,"common.userName":this._username??"undefined",...this._sharedProperties},this._internalTelemetryReporter.sendRawTelemetryEvent(e,r,n))}sendTelemetryEvent(e,r,n){r={...r,"common.sku":this._sku??"undefined",...this._sharedProperties},this._isInternal&&(n={...n,"common.internal":1}),this._externalTelemetryReporter.sendTelemetryEvent(e,r,n)}sendTelemetryErrorEvent(e,r,n){r={...r,"common.sku":this._sku??"undefined"},this._isInternal&&(n={...n,"common.internal":1}),this._externalTelemetryReporter.sendTelemetryErrorEvent(e,r,n)}};var kM=class{constructor(e,r,n,i,o){let s=r.get(Be),a=r.get(Go);this._microsoftTelemetryService=new DM(s,n,i,a),this._ghTelemetryService=bPe.env.createTelemetryLogger(new C_(r,e,o))}dispose(){this._microsoftTelemetryService.dispose(),this._ghTelemetryService.dispose()}sendMSFTTelemetryEvent(e,r,n){this._microsoftTelemetryService.sendTelemetryEvent(e,r,n)}sendMSFTTelemetryErrorEvent(e,r,n){this._microsoftTelemetryService.sendTelemetryErrorEvent(e,r,n)}sendGHTelemetryEvent(e,r,n){this._ghTelemetryService.logUsage(e,{properties:r,measurements:n})}sendGHTelemetryErrorEvent(e,r,n){this._ghTelemetryService.logError(e,{properties:r,measurements:n})}sendInternalMSFTTelemetryEvent(e,r,n){this._microsoftTelemetryService.sendInternalTelemetryEvent(e,r,n)}sendTelemetryEvent(e,r,n,i){r.github&&this.sendGHTelemetryEvent(e,n,i),r.microsoft&&this.sendMSFTTelemetryEvent(e,n,i)}sendTelemetryErrorEvent(e,r,n,i){r.github&&this.sendGHTelemetryErrorEvent(e,n,i),r.microsoft&&this.sendMSFTTelemetryErrorEvent(e,n,i)}setSharedProperty(e,r){this._microsoftTelemetryService.setSharedProperty(e,r)}postEvent(e,r){this._microsoftTelemetryService.postEvent(e,r)}};var EPe=require("path"),TPe=require("process"),N0=require("vscode"),LM=new Map,lee=new Map;function SPe(){let t=N0.window.activeTerminal;return t===void 0?"":LM.get(t)?.join(`
`)||""}function CPe(){let t=N0.window.activeTerminal;if(t!==void 0)return lee.get(t)?.at(-1)}function IPe(){try{return N0.window.activeTerminal?.selection??""}catch{return""}}var uee;function wPe(){let t=N0.window.activeTerminal;if(t&&"shellPath"in t.creationOptions){let e=t.creationOptions.shellPath;if(e){let r,n=(0,EPe.basename)(e);if(n==="bash.exe")r="Git Bash";else{let i=n.replace(/\..+/,"");switch(i){case"pwsh":case"powershell":r="powershell";case"":break;default:r=i}}if(r)return uee=r,r}}return uee||(TPe.platform==="win32"?"powershell":"bash")}function xPe(t,e){t.push(e),t.length>40&&t.shift()}function Lat(t){let e=/(:?\x1b\[|\x9B)[=?>!]?[\d;:]*["$#'* ]?[a-zA-Z@^`{}|~]/g;return t&&(t=t.replace(e,"")),t}function APe(){return[N0.window.onDidWriteTerminalData(t=>{let e=LM.get(t.terminal);e||(e=[],LM.set(t.terminal,e)),xPe(e,Lat(t.data))}),N0.window.onDidExecuteTerminalCommand(t=>{let e=lee.get(t.terminal);e||(e=[],lee.set(t.terminal,e)),xPe(e,t)}),N0.window.onDidCloseTerminal(t=>{LM.delete(t)})]}var OM=class extends _s{constructor(){super();for(let e of APe())this._register(e)}get terminalBuffer(){return SPe()}get terminalLastCommand(){return CPe()}get terminalSelection(){return IPe()}get terminalShellType(){return wPe()}};var D0=require("vscode");function RPe(t){return t.scheme==="vscode-vfs"&&t.authority.startsWith("github")}var MM=class extends ot{constructor(r){super();this._accessor=r;this.onDidOpenTextDocument=D0.workspace.onDidOpenTextDocument;this.onDidChangeTextDocument=D0.workspace.onDidChangeTextDocument;this.onDidCloseTextDocument=D0.workspace.onDidCloseTextDocument;this._logger=this._accessor.get(Ae).getLogger("ExtensionTextDocumentManager")}get textDocuments(){return D0.workspace.textDocuments}async openTextDocument(r){return await D0.workspace.openTextDocument(r)}get notebookDocuments(){return D0.workspace.notebookDocuments}getWorkspaceFolders(){return D0.workspace.workspaceFolders?.map(r=>r.uri)??[]}ensureWorkspaceIsFullyLoaded(){return this._fullyLoadedPromise??=(async()=>{let r=this._accessor.get(Lv);for(let n of this.getWorkspaceFolders())if(RPe(n)){this._logger.debug(`Preloading virtual workspace contents for ${n}`);try{let i=await r.loadWorkspaceContents(n);this._logger.info(`loading virtual workspace contents resulted in ${i} for: ${n}`)}catch(i){this._logger.error(`Error loading virtual workspace contents for ${n}: ${i}`)}}})(),this._fullyLoadedPromise}};var na=Ie(require("vscode"));var ES=class t{constructor(e,r){this.accessor=e;this.outputChannelProvider=r;this.requestCount=-1;this.logger=e.get(Ae).getPromptResponseLogger("chat")}logRequest(e){this.requestCount++,this.logInfo("REQUEST",`User:${this.headerSeparator()}${this.printMessageContent(e.message)}`)}logMessages(e){this.logInfo("PROMPT MESSAGES",e.map(r=>`${this.getDisplayRole(r.role)}:${this.headerSeparator()}${this.printMessageContent(r.content)}`).join(`
`))}logProgress(e,r){let n="markdownContent"in e?e.markdownContent.value:"content"in e?e.content:void 0;n&&(r?this.logInfo("RESPONSE",`Assistant:	${n}`):this.logInfo("",`${this.bodySeparator()}${n}`,!1))}logResponse(e){this.logInfo("",""),e.errorDetails&&this.logInfo("ERROR DETAILS",JSON.stringify(e.errorDetails,void 0,4))}logFollowups(e){this.logInfo("FOLLOWUPS","Followups:	"+e.map((r,n)=>`${r.title}
${this.bodySeparator()}`).join(`
${this.bodySeparator()}`))}logThrownError(e){this.logInfo("THROWN ERROR",e.stack?e.stack:e.message)}logIntent(e,r){this.logInfo("INTENT",e!==void 0?`User intent determined to be '${e}' via the ${r?"user":"model"}`:"Intent could not be determined")}logInfo(e,r,n=!0){if(!this.accessor.get(Be).getConfig(qe.ConversationLoggingEnabled))return;let o=new Date().toISOString();e&&(r=`[${e} ${this.requestCount}]
${r}`,r=`${o} [info] ${r}`),t.outputChannel===void 0&&(t.outputChannel=this.outputChannelProvider()),n?(this.logger.info(r+`
`),t.outputChannel.appendLine(r+`
`)):(this.logger.info(r),t.outputChannel.append(r))}printMessageContent(e){return e.split(`
`).join(`
${this.bodySeparator()}`)}headerSeparator(){return"		"}bodySeparator(){return"			"}getDisplayRole(e){switch(e){case"system":return"System";case"user":return"User";case"assistant":return"Assistant"}}};var fee=Ie(vn());var PPe=Ie(vn());var FM=class extends Ue{constructor(){super(...arguments);this._docsSearchAvailable=!1}async prepare(r,n,i){switch(r.zoomLevel){case 0:{let o=n?await sI(n,{message:PPe.t("Searching doc index....")},this.searchDocsSearchForContext(this.props.query,10,i),1e3):await this.searchDocsSearchForContext(this.props.query,10,i),s=this.accessor.get(Wp);this._embeddingCompute??=this.accessor.get(Oi);let a=await this._embeddingCompute?.computeEmbeddings([this.props.query],void 0);if(!a)return{docSearchResults:o,settings:[],commands:[]};let{commands:u,settings:c}=n?await sI(n,{message:"Searching command and setting index...."},s.nClosestValues(a[0],5),500):await s.nClosestValues(a[0],5);return{docSearchResults:o,settings:c,commands:u}}default:return{docSearchResults:await this.searchDocsSearchForContext(this.props.query,10,i),settings:[],commands:[]}}}async searchDocsSearchForContext(r,n,i){return this._docsSearchClient||(this._docsSearchClient=this.accessor.get(Cv),this._docsSearchAvailable=await this._docsSearchClient.isAvailable()),this._docsSearchAvailable?this._docsSearchClient.search(r,{repo:"microsoft/vscode-docs"},n,.75,i):[]}render(r){return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are a VS Code assistant. Your job is to assist users in using VS Code by providing knowledge to accomplish their task. This knowledge should focus on settings and commands, but also includes documentation. Please do not guess a response and instead just respond with a polite apology if you are unsure.",vscpp("br",null),'When asked for your name, you must respond with "GitHub Copilot".',vscpp("br",null),"Follow the user's requirements carefully & to the letter.",vscpp("br",null),"Your expertise is strictly limited to software development topics.",vscpp("br",null),"Follow Microsoft content policies.",vscpp("br",null),"Avoid content that violates copyrights.",vscpp("br",null),"For questions not related to software development, simply give a reminder that you are an AI programming assistant.",vscpp("br",null),"Keep your answers short and impersonal.",vscpp("br",null),"Use Markdown formatting in your answers.",vscpp("br",null),"Make sure to include the programming language name at the start of the Markdown code blocks.",vscpp("br",null),"Avoid wrapping the whole response in triple backticks.",vscpp("br",null),"The user works in an IDE called Visual Studio Code which has a concept for editors with open files, integrated unit test support, an output pane that shows the output of running the code as well as an integrated terminal.",vscpp("br",null),"The active document is the source code the user is looking at right now.",vscpp("br",null),"You can only give one reply for each conversation turn.",vscpp("br",null),vscpp("br",null),"Additional Rules",vscpp("br",null),"You must respond with either a setting to set or a command to execute when applicable.",vscpp("br",null),"When referring to a command, you must use the command name in markdown bold syntax.",vscpp("br",null),"When referring to any commands, you must include a section wrapped with [COMMANDS START] and [COMMANDS END] at the end of your response which lists all commands you referenced in your response in the order they were referenced in a JSON code block containing a JSON array.",vscpp("br",null),"If a command or setting references another command or setting, you must respond with the original setting or command and the referenced setting or command.",vscpp("br",null),"All referenced settings must be properly formatted in a JSON markdown code block to allow copying them into the user's settings.json file.",vscpp("br",null),"You must not respond with a setting that is not in a properly formatted JSON markdown code block.",vscpp("br",null),"If a setting and command will accomplish the same thing, you must suggest the command instead.",vscpp("br",null),"You must not suggest opening the settings editor.",vscpp("br",null),"If answering with a keybinding, please still include the command bound to the keybinding.",vscpp("br",null),"If a keybinding contains a backtick you must escape it. For example the keybinding Ctrl + backtick would be written as ``ctrl + ` ``",vscpp("br",null),"You must not suggest opening the command palette to execute commands.",vscpp("br",null),"You must not suggest commands or settings identifiers that do not exist.",vscpp("br",null),"If you believe the context given to you is incorrect or not relevant you may ignore it.",vscpp("br",null),'If an extension might help the user, you may suggest a search query for the extension marketplace. You must also include the command **Search marketplace** (`workbench.extensions.search`) with args set to the suggested query in the commands section at the end of your response. The query can also contain the tags "@popular", "@recommended", or "@featured" to filter the results.',vscpp("br",null),vscpp("br",null),"Examples:",vscpp("br",null),vscpp("br",null),"[EXAMPLES START]",vscpp("br",null),"Below you will find a set of examples of what you should respond with. Please follow these examples as closely as possible.",vscpp("br",null),vscpp("br",null),"## Settings response",vscpp("br",null),"Question: How do I disable telemetry?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),vscpp(eo,{code:`{
	"telemetry.telemetryLevel": "off"
}`,languageId:"json"}),"is a setting which can be used to disable telemetry.",vscpp("br",null),vscpp("br",null),"## Command response",vscpp("br",null),"Question: How do I close all editors?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),"You can use the **Close All Editors** command to close all editors.",vscpp("br",null),vscpp("br",null),"[COMMANDS START]",vscpp("br",null),vscpp(eo,{code:`[
	{"command": "workbench.action.closeAllEditors" }
]`,languageId:"json"}),"[COMMANDS END]",vscpp("br",null),vscpp("br",null),"## No such command",vscpp("br",null),"Question: How do I move the terminal to a new window?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),"There is no such command.",vscpp("br",null),vscpp("br",null),"## Invalid Question",vscpp("br",null),"Question: How do I bake a potato?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),"Sorry this question isn't related to VS Code.",vscpp("br",null),vscpp("br",null),"## Marketplace search",vscpp("br",null),"Question: How do I add PHP support?",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),"You can use the **Search marketplace** command to search for extensions that add PHP support.",vscpp("br",null),vscpp("br",null),"[COMMANDS START]",vscpp("br",null),vscpp(eo,{code:`[
	{"command": "workbench.extensions.search", "args": "php" }
]`,languageId:"json"}),"[COMMANDS END]"),vscpp(xo,{history:this.props.history}),vscpp(Le,{priority:800},"Relevant information about VS Code:",vscpp("br",null),"The current question is related to VS Code. The application is currently open.",vscpp("br",null),"If a command or setting is not a valid answer, but it still relates to VS Code, please still respond.",vscpp("br",null),"Please do not guess a response and instead just respond with a polite apology if you are unsure.",vscpp("br",null),"If you believe the given context given to you is incorrect or not relevant you may ignore it.",vscpp("br",null),"At the end of your response, if you reference a command, you must include a section wrapped with [COMMANDS START] and [COMMANDS END] that lists all commands you referenced in your response.",vscpp("br",null),"The user cannot see the context you are given, so you must not mention it. If you want to refer to it, you must include it in your reply.",vscpp("br",null),'Below is a list of commands and settings we found which might be relevant to the question. For view related commands "Toggle" often means Show or Hide. A setting may reference another setting, that will appear as \\`#setting.id#\\`, you must return the referenced setting as well. You may use this context to help you formulate your response, but are not required to.',vscpp("br",null),r.commands.length&&vscpp(vscppf,null,"Here are some possible commands:",vscpp("br",null)),r.commands.length&&vscpp(vscppf,null,r.commands.map(n=>`- ${n.label} ("${n.key}") (Keybinding: "${n.keybinding}")`).join(`
`),vscpp("br",null)),r.settings.length&&vscpp(vscppf,null,"Here are some possible settings:",vscpp("br",null)),r.settings.length&&vscpp(vscppf,null,r.settings.map(n=>Pq(n)).join(`
`),vscpp("br",null)),this._docsSearchAvailable&&vscpp(vscppf,null,"Below is a list of information from the VS Code documentation which might be relevant to the question. Feel free to use this context to help you formulate your response, but you are not required to.",vscpp("br",null)),this._docsSearchAvailable&&vscpp(vscppf,null,r.docSearchResults.map(n=>`##${n?.title?.trim()} - ${n.path}
${n.contents}`).join(`
`))),vscpp(Le,{priority:900},this.props.query))}};var pee=class{constructor(e){this.accessor=e}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns.slice(0,-1):[],l=new Gn(this.accessor,r,FM,{query:u,history:c}),f=await l.render(i,s);for(let p of l.getReferences())i.report({reference:p.anchor});return f}},UM="vscode",BM=class{constructor(){this.id=UM;this.locations=[2];this.description=fee.t("Ask questions about VS Code");this.intentDetectionInput={sampleQuestion:"What is the command to open the integrated terminal?",modelDescription:"Looks up information about VS Code via commands, settings, and documentation to accomplish the given editor-specific task."};this.commandInfo={allowsEmptyArgs:!1,sampleRequest:fee.t("What is the command to open the integrated terminal?")}}static{this.ID=UM}async invoke(e,r,n){let i=r.location,o=await jt(e,i,this.id);return{intent:this,location:i,endpoint:o,promptCrafter:new pee(e),followUps:ice}}};var hee=Ie(vn());var Oat=["code","doc","edit","search","workspace","tests","fix","explain","terminal","unknown","api","newNotebook","new"],Si=new class{constructor(){this.intents=new Set}registerIntent(t){t.locations.every(e=>this.getIntent(t.id,e))||(this.intents.add(t),(!t.commandInfo||!t.commandInfo.hiddenFromUser)&&mi.registerCommand({commandId:t.id,intent:t,details:t.description,locations:t.locations}))}getIntents(t){let e=r=>{let n=Oat.indexOf(r);return n===-1?Number.MAX_SAFE_INTEGER:n};return Array.from(this.intents.values()).filter(r=>r.locations.includes(t)).sort((r,n)=>e(r.id)-e(n.id))}getIntent(t,e){return this.getIntents(e).find(r=>r.id===t)}};var kPe=require("path");var PR="_github.copilot.openRelativePath",NR="_github.copilot.openSymbolInFile";function NPe(t,e){return`[\`${t}\`](${LPe(PR,[e.replace(/\\/g,"/")])} "${OPe(e)}")`}function mee(t,e){return`[\`${t}\`](${LPe(NR,[e.replace(/\\/g,"/"),t])} "${OPe(e)}")`}function LPe(t,e){return`command:${t}?${encodeURIComponent(JSON.stringify(e))}`}function OPe(t){return t.replace(/"/g,'\\"')}var dee=new Set;function MPe(t){return dee.add(t),{dispose:()=>dee.delete(t)}}var qM=class{constructor(e,r,n){this.references=e;this.workspaceFolders=r;this.fileSystem=n;this._isInCodeBlock=!1;this.additionalLinkifiers=Array.from(dee,i=>i(e,r,n))}async linkify(e,r){if(e.startsWith("```")&&(this._isInCodeBlock=!this._isInCodeBlock),this._isInCodeBlock)return e;if(e=await dN(e,/\[`([^`\[\]]+?)`]\((\S+?\.\w+)\)/g,async(i,o,s)=>{let a=Pt.joinPath(this.workspaceFolders[0],s);return await DPe(this.fileSystem,a)?mee(o,s):"`"+o+"`"}),r?.isCancellationRequested)return"";let n=async(i,o,s)=>{if(/^\w+:/.test(s)||!this.workspaceFolders.length)return i;let a=Pt.joinPath(this.workspaceFolders[0],s);if(await DPe(this.fileSystem,a))return NPe(s,s);let u=Bu(a),c=this.references.map(l=>Pt.isUri(l.anchor)?l.anchor:l.anchor.uri).find(l=>Bu(l)===u);if(c){let l=(0,kPe.relative)(this.workspaceFolders[0].fsPath,c.fsPath);return NPe(s,l)}return o};if(e=await dN(e,/\[([^`\s]+)\]\((\1)\)/g,n),r?.isCancellationRequested)return"";e=await dN(e,/(?<!\[)(`([^`\s]+)`)(?!\])/g,n);for(let i of this.additionalLinkifiers)if(e=await i.linkify(e,r),r?.isCancellationRequested)return"";return e=e.replace(/\[([^\[\]]+)]\((\S+?\.\w+)\)/g,(i,o,s)=>/^\w+:/.test(s)?i:o),e}};async function DPe(t,e){try{return await t.stat(e),!0}catch{return!1}}var TS=class{constructor(e,r,n,i){this._appliedText="";this._p=Promise.resolve("");let o=e.get(Zi),s=e.get(ot);this._appliesTextPromise=new ha,i.onCancellationRequested(()=>this._appliesTextPromise.cancel());let a=r.references,u=new qM(a,s.getWorkspaceFolders(),o);this._deltaCallback=new af(c=>{this._p=this._p.then(async()=>{c=await u.linkify(c,i);let l=new qu(c);return l.isTrusted={enabledCommands:[PR,NR]},this._appliedText+=c,n.report({markdownContent:l}),this._appliedText})})}get appliedText(){return this._appliesTextPromise.p}apply(e){this._deltaCallback.apply(e)}finish(){this._p.then(e=>this._appliesTextPromise.complete(e),e=>this._appliesTextPromise.error(e))}};var Mat=`
Think step by step:

1. Read the provided relevant workspace information (code excerpts, file names, and symbols) to understand the user's workspace.

2. Consider how to answer the user's prompt based on the provided information and your specialized coding knowledge. Always assume that the user is asking about the code in their workspace instead of asking a general programming question. Prefer using variables, functions, types, and classes from the workspace over those from the standard library.

3. Generate a response that clearly and accurately answers the user's question. In your response, add fully qualified links for referenced symbols (example: [\`namespace.VariableName\`](path/to/file.ts)) and links for files (example: [path/to/file](path/to/file.ts)) so that the user can open them. If you do not have enough information to answer the question, respond with "I'm sorry, I can't answer that question with what I currently know about your workspace".

Remember that you MUST add links for all referenced symbols from the workspace and fully qualify the symbol name in the link, for example: [\`namespace.functionName\`](path/to/util.ts).
Remember that you MUST add links for all workspace files, for example: [path/to/file.js](path/to/file.js)
`.trim(),Fat=`
Question:
What file implements base64 encoding?

Response:
Base64 encoding is implemented in [src/base64.ts](src/base64.ts) as [\`encode\`](src/base64.ts) function.


Question:
How can I join strings with newlines?

Response:
You can use the [\`joinLines\`](src/utils/string.ts) function from [src/utils/string.ts](src/utils/string.ts) to join multiple strings with newlines.


Question:
How do I build this project?

Response:
To build this TypeScript project, run the \`build\` script in the [package.json](package.json) file:

\`\`\`sh
npm run build
\`\`\`


Question:
How do I read a file?

Response:
To read a file, you can use a [\`FileReader\`](src/fs/fileReader.ts) class from [src/fs/fileReader.ts](src/fs/fileReader.ts).
`.trim(),o1="workspace",Uat=new oh({location:2,id:o1,description:hee.t("Ask a question about the files in your current workspace"),modelSampleQuestion:"How do I build this project?",commandInfo:{allowsEmptyArgs:!1,defaultEnablement:!0,sampleRequest:hee.t("How do I build this project?")},systemPromptOptions:{roleplay:"You are a software engineer with expert knowledge of the codebase the user has open in their workspace.",examples:Fat},rules:Mat,contextResolvers:[bh,db,MD],responseProcessor:(t,e,r,n,i)=>new TS(t,e,r,i)});Si.registerIntent(Uat);var Cu=Ie(vn());var SS=class{constructor(e,r,n){this.accessor=e;this.messageConverter=r;this.options=n;this.logger=e.get(Ae).getLogger("ConversationFollowUp")}async followUp(e,r,n){let i=e.copy();i.addTurn(new Qi({type:"meta",message:`Write a short one-sentence question that the user can ask that naturally follows from the previous few questions and answers. It should not ask a question which is already answered in the conversation. It should be a question that you are capable of answering. Reply with only the text of the question and nothing else.
					${Gs(this.accessor)}`.trim()}));let o=n?{...n}:{};o.messageSource="chat.followup";let s=await Pb(this.accessor),a=await gb(this.accessor,2,s),{messages:u}=await this.messageConverter.toChatMessages(i,a,s),c=await this.accessor.get(Tr).fetchOne(u,void 0,r,2,s,{temperature:this.options.temperature,top_p:this.options.topP},o);if(c.type==="success"){let l=[];return c.value&&l.push(c.value.trim()),l}else return this.logger.error(`Failed to fetch followups because of response type (${c.type}) and reason (${c.reason})`,c),[]}};var gee;(e=>{function t(r,n,i){let{options:o,document:s,selection:a,visibleRanges:u}=n,c={insertSpaces:o.insertSpaces,tabSize:o.tabSize},l=tb(s);return i||(u.length===1?i=u[0]:u.length>1?i=u[0].union(u[u.length-1]):i=a),{document:s,fileIndentInfo:c,language:l,selection:a,wholeRange:i}}e.fromEditor=t})(gee||={});var CS=class t{constructor(e,r){this.accessor=e;this.location=r;this.logger=e.get(Ae).getPromptResponseLogger("intent detection"),this.ghTelemetry=e.get(xt),this.options=e.get(Mc)}async detectIntent(e,r,n,i,o,s){let a;try{if(e){let d=e.selection,h=new ze(new fr(Math.max(d.start.line-5,0),0),new fr(Math.min(d.end.line+5,e.document.lineCount),e.document.lineAt(d.end.line).text.length));a=e.document.getText(h)}}catch{}let u=e?.document.uri.path,c=this.createIntentDetectionPrompt(r,o,u,a),l=[{role:"system",content:c}];this.logger.logPrompt(l);let f=await Pb(this.accessor),p=await this.accessor.get(Tr).fetchMany(l,void 0,n,this.location,f,{temperature:this.options.temperature,top_p:this.options.topP,stop:[";"],n:1},{messageSource:"chat.intentprompt"}),m=this.handleResult(p,i,r);return this.sendTelemetry(o,m?.id,e?.language.languageId,s),this.sendInternalTelemetry(r,o,u,a,m?.id,e?.language.languageId,s),m}handleResult(e,r,n){if(this.logger.logResponse(e),e.type!=="success"){this.sendPromptIntentErrorTelemetry(r,e);return}let i=e.value.map(u=>u.trimStart().split(`
`)[0].replace(/function id:|response:/i,"").trim()),o=i.map(u=>Si.getIntent(u,this.location)).filter(u=>u!==void 0&&u.id!==Gc.ID),s=t.pickMostFrequent(o);this.logger.info(`picked intent "${s?.id}" from ${JSON.stringify(e.value,null,"	")}`);let a=r.extendedBy({messageText:n,promptContext:i.join(),intent:s?.id||"unknown"});return this.ghTelemetry.sendRestrictedTelemetry("conversation.promptIntent",a.raw),s}sendPromptIntentErrorTelemetry(e,r){let n=e.extendedBy({resultType:r.type,reason:r.reason});this.ghTelemetry.sendRestrictedTelemetry("conversation.promptIntentError",n.raw)}static pickMostFrequent(e){if(e.length===0)return;let r=new Map;for(let i of e){let o=r.get(i.id)??[0,i];o[0]+=1,r.set(i.id,o)}let[,n]=[...r.values()].reduce((i,o)=>i[0]>o[0]?i:o);return n}createIntentDetectionPrompt(e,r,n,i){let o=Si.getIntents(this.location),s=n?` in file ${n}`:"",a=i?`Current active file contains following excerpt:
\`\`\`
${i}
\`\`\``:"";return`
${tc()}

A software developer is using an AI chatbot in a code editor${s}.
${a}
The developer added the following request to the chat and your goal is to select a function to perform the request.
${r?`The developer probably wants Function Id '${r}', pick different only if you're certain.`:""}
Request: ${e}

Available functions:
${o.map(u=>`Function Id: ${u.id}
Function Description: ${u.intentDetectionInput.modelDescription||u.description}
`).join(`
`)}

Here are some examples to make the instructions clearer:
${o.map(u=>`Request: ${u.intentDetectionInput.sampleQuestion}
Response: ${u.id}
`).join(`
`)}
Request: ${e}
Response:
`.trim()}sendTelemetry(e,r,n,i){this.accessor.safeGet(pt)?.sendMSFTTelemetryEvent("intentDetection",{chatLocation:At.toString(this.location),preferredIntent:e??"<none>",detectedIntent:r??"<none>",languageId:n??"<none>",isRerunWithoutIntentDetection:String(i)??"<none>"})}sendInternalTelemetry(e,r,n,i,o,s,a){i=i&&i.length<5e3?i:void 0,this.accessor.safeGet(pt)?.sendInternalMSFTTelemetryEvent("intentDetection",{chatLocation:At.toString(this.location),request:e,preferredIntent:r??"<none>",filePath:n??"<none>",fileExerpt:i??"<none>",detectedIntent:o??"<none>",languageId:s??"<none>",isRerunWithoutIntentDetection:String(a)??"<none>"},{})}};var IS=class{constructor(e,r,n){this.stopStartMappings=e;this.progress=r;this.processNonReportedDelta=n;this.stagedDeltasToApply=[];this.currentStartStop=void 0;this._appliedText="";this.nonReportedDeltas=[]}get appliedText(){return Promise.resolve(this._appliedText)}apply(e,r){return this.applyDelta(r)}applyDeltaToProgress(e){let r=e.codeVulnAnnotations?.map(n=>({title:n.details.type,description:n.details.description}));(e.text||r?.length)&&this.progress.report({content:e.text,vulnerabilities:r?.length?r:void 0})}updateStagedDeltasUpToIndex(e,r){let n=[];for(let i=0;i<e+r;){let o=this.stagedDeltasToApply.shift();if(o){if(i+o.text.length<=e)n.push(o);else if(i<e||i<e+r){if(i<e){let a={...o};a.text=o.text.substring(0,e-i),n.push(a)}let s={...o};s.text=o.text.substring(e-i+r),s.text&&this.stagedDeltasToApply.unshift(s)}i+=o.text.length}else break}return n}checkForKeyWords(e,r,n=this.applyDeltaToProgress.bind(this)){let i=this.stagedDeltasToApply.map(o=>o.text).join("")+r.text;for(let o of e){let s=i.indexOf(o);if(s===-1)continue;return this.stagedDeltasToApply.push(r),this.updateStagedDeltasUpToIndex(s,o.length).forEach(u=>n(u)),o}for(let o of e)for(let s=o.length-1;s>0;s--){let a=o.substring(0,s);if(i.endsWith(a)){this.stagedDeltasToApply=[...this.stagedDeltasToApply,r];return}}[...this.stagedDeltasToApply,r].forEach(o=>{n(o)}),this.stagedDeltasToApply=[]}postReportRecordProgress(e){this.nonReportedDeltas.push(e)}applyDelta(e){if(this._appliedText+=e.text,this.currentStartStop===void 0){let r=this.checkForKeyWords(this.stopStartMappings.map(n=>n.stop),e);r&&(this.currentStartStop=this.stopStartMappings.find(n=>n.stop===r));return}else{if(!this.currentStartStop.start)return;this.checkForKeyWords([this.currentStartStop.start],e,this.postReportRecordProgress.bind(this))&&(this.processNonReportedDelta&&this.processNonReportedDelta(this.nonReportedDeltas).forEach(i=>this.applyDeltaToProgress({text:i})),this.currentStartStop=void 0,this.stagedDeltasToApply.length>0&&this.applyDelta({text:""}))}}};var wS=class{constructor(e,r,n,i,o,s){this.options=r;this.username=n;this.conversationLogger=i;this.isInternal=o;this.sessionId=s;this.inputPlaceholder=Cu.t("Ask Copilot or type / for commands");this._telemetryService=e.get(pt),this.accessor=e,this.conversation=new gs,this.intentDetector=new CS(e,2),this.conversation=this.intializeConversation(),this.messageConverter=new rh(this.accessor,this.options.maxResponseTokens),this.conversationFollowUp=new SS(this.accessor,this.messageConverter,this.options)}get responder(){return{name:"GitHub Copilot"}}get requester(){return{name:this.username??Cu.t("You"),icon:this.username?Pt.parse(`https://avatars.githubusercontent.com/${this.username}`):void 0}}addHistory(e){for(let r of e){let n=r.response.map(o=>"content"in o?o.content:null).filter(o=>!!o).join(""),i=new Qi({message:r.request.prompt,type:"user"});i.response={message:n,type:"model"},this.conversation.addTurn(i)}}setFollowupsEnablement(e){this.options.disableFollowups=!e}intializeConversation(){return new gs}async provideResponseWithProgress(e,r,n,i){this.refreshFollowupsCancellationToken();try{let o=!0,s={report:l=>{"responseId"in l||(this.conversationLogger?.logProgress(l,o),o=!1),r.report(l)}},a=this.newTurn(e),u=lv();u.markAsDisplayed();let c=await this._provideResponseWithProgress(a,e,s,n,u,i);return this.conversationLogger?.logResponse(c),this._telemetryService.sendInternalMSFTTelemetryEvent("interactiveSessionResponse",{chatLocation:"panel",intent:a.intentInvocation?.intent.id??"",request:e.prompt,response:a.response?.message??"",sessionId:this.sessionId},{turnNumber:this.conversation.turns.length}),{...c,responseId:a.requestId,session:this}}catch(o){throw this.conversationLogger?.logThrownError(o),o}}newTurn(e){let r={message:e.prompt,type:"user"},n=new Qi(r,this.sessionId);return this.conversation.addTurn(n),n}async _provideResponseWithProgress(e,r,n,i,o,s){if(i.isCancellationRequested)return e.status="cancelled",{errorDetails:{message:Cu.t("Cancelled")}};try{let a=this.accessor.get(Wr).activeTextEditor,u=e.request.message;this.conversationLogger?.logRequest(e.request);let c={command:s.intentId?mi.getCommand(s.intentId,2):void 0,restOfQuery:u};if(c.command?.intent&&!(c.command.intent.commandInfo?.allowsEmptyArgs??!0)&&!c.restOfQuery){let y=fae(c.command.intent.id),x="";return y&&(x=`@${y.agent} `,y.command&&(x+=` /${y.command}`),x+=` ${c.command.details}`),e.response={message:Cu.t(`Please specify a question when using this command.

Usage: {0}`,x),type:"meta"},e.status="error",{errorDetails:{message:e.response.message,responseIsFiltered:!1,responseIsIncomplete:!1}}}let l=c?.command?.intent,f;l&&(e.request={message:c.restOfQuery||l.intentDetectionInput.sampleQuestion,type:"user"},this.conversationLogger?.logIntent(l.id,!0)),!l&&this.accessor.get(Be).getConfig(qe.ConversationIntentDetection)?(l=f=await this.intentDetector.detectIntent(void 0,u,i,o,void 0,void 0),this.conversationLogger?.logIntent(l?.id,!1)):this.isInternal&&(f=l||this.conversation.turns.length!==1?void 0:await this.intentDetector.detectIntent(void 0,u,i,o,void 0,void 0)),l??=Gc.Instance;let p=a?gee.fromEditor(this.accessor,a):void 0,m=await l.invoke(this.accessor,{location:2,documentContext:p},void 0);e.intentInvocation=m;for(let[y,x]of Object.entries(r.variables)){let b=!1;for(let T of x)T.value instanceof ga&&this.accessor.get(Ar).isCopilotIgnored(T.value)&&(b=!0);b&&(e.request.message=e.request.message.replace(`[${y}](values:${y})`,""),delete r.variables[y])}let d=m.endpoint,{messages:h,tokenCount:g}=await m.promptCrafter.buildPrompt(this.conversation,d,r.variables,n,o,i),v=this.conversation.getLatestTurn()?.contextParts.map(y=>y.kind)??[];if(this._telemetryService.sendInternalMSFTTelemetryEvent("interactiveSessionMessage",{intent:l?.id??"none",detectedIntent:f?.id??"none",contextTypes:v.join(","),query:c.restOfQuery},{}),e.chatMessages=h,this.conversationLogger?.logMessages(h),o=_N(this.conversation,this.sessionId,"conversationPanel",u,g,l?.id,o),i.isCancellationRequested)return e.status="cancelled",{errorDetails:{message:Cu.t("Cancelled")}};let _=m?.responseProcessor?m.responseProcessor(this.accessor,e,n,h,i):new IS([{stop:"[COMMANDS START]"}],n);return await this.fetchConversationResponse(e,d,u,h,i,n,_,o,{messageId:o.properties.messageId,messageSource:"chat.user"})}catch(a){this.accessor.get(Ae).defaultLogger.exception(a),this.accessor.get(xt).sendExceptionTelemetry(a,"Error"),this.conversationLogger?.logThrownError(a);let u=a.message;return e.status="error",e.response={message:u,type:"meta"},{errorDetails:{message:u,responseIsIncomplete:!0}}}}async fetchConversationResponse(e,r,n,i,o,s,a,u,c){let l=lv();e.requestId=l.properties.messageId;let f=Date.now(),p=0,m=new Set,d=await this.accessor.get(Tr).fetchOne(i,async(b,T,k)=>{p===0&&(p=Date.now()),k.codeVulnAnnotations&&(!((b.match(/(^|\n)```/g)?.length??0)%2===1)||b.match(/(^|\n)```\w*\s*$/))&&(k.codeVulnAnnotations=void 0),k.codeVulnAnnotations&&(k.codeVulnAnnotations=k.codeVulnAnnotations.filter(U=>!m.has(U.details.type)),k.codeVulnAnnotations.forEach(U=>m.add(U.details.type))),a.apply(b,k)},o,2,r,{temperature:this.options.temperature,top_p:this.options.topP},c,{intent:!0});a.finish?.();let h=await a.appliedText,g=h?iU(h):[],v=u.raw.displayedTime??f,_=["programming-related tasks","programming related questions","related to programming"],y=0;d.type==="success"&&!h.trim().includes(`
`)&&_.some(b=>h.toLowerCase().includes(b))&&(y=1);let x=this.accessor.get(Mr);switch(this._telemetryService.sendMSFTTelemetryEvent("panel.request",{command:e.intentInvocation?.intent.id??"none",contextTypes:e.contextParts.map(b=>b.kind).join(",")??"none",promptTypes:i.map(b=>`${b.role}${b.name?`-${b.name}`:""}:${b.content.length}`).join(","),conversationId:this.sessionId,requestId:e.requestId,responseId:d.requestId,responseType:d.type,codeBlocks:g.join(","),model:r.model},{turn:this.conversation.turns.length,textBlocks:g.length?-1:h.split(/\n{2,}/).length??0,maybeOffTopic:y,messageTokenCount:x.tokenLength(e.request.message),promptTokenCount:Lc(this.accessor,i),userPromptCount:i.filter(b=>b.role==="user").length,responseTokenCount:x.tokenLength(h)??0,timeToRequest:f-v,timeToFirstToken:p?p-v:-1,timeToComplete:Date.now()-v}),yN(this.accessor,"conversationPanel",n,d.type==="offTopic",this.accessor.get(Wr).activeTextEditor?.document,u),d.type){case"success":return await this.processSuccessfulFetchResult(e,a,d.requestId,l);case"offTopic":return this.processOffTopicFetchResult(s,e,n,u);case"canceled":return e.status="cancelled",e.response={message:"Cancelled",type:"user"},{errorDetails:e.response};case"rateLimited":return e.status="error",{errorDetails:{message:Cu.t("Sorry, your request was rate-limited. Please wait and try sending again later."),responseIsFiltered:!0}};case"badRequest":case"failed":return e.status="error",e.response={message:d.reason,type:"server"},{errorDetails:e.response};case"filtered":return e.status="filtered",{errorDetails:{message:this.getFilteredMessage(d.category),responseIsFiltered:!0}};case"length":return e.status="error",{errorDetails:{message:Cu.t("Sorry, the response hit the length limit. Please rephrase your prompt.")}};case"unknown":return e.status="error",{errorDetails:{message:Cu.t("Sorry, no response was returned."),responseIsFiltered:!1}}}}getFilteredMessage(e){switch(e){case"hate":case"self_harm":case"sexual":case"violence":return Cu.t({message:"Sorry, the response was filtered by the Responsible AI Service. Please rephrase your prompt and try again. [Learn more](https://aka.ms/copilot-chat-filtered-docs).",comment:["{Locked='](https://aka.ms/copilot-chat-filtered-docs)'}"]});default:return Cu.t({message:"Sorry, the response matched public code so it was blocked. Please rephrase your prompt. [Learn more](https://aka.ms/copilot-chat-filtered-docs).",comment:["{Locked='](https://aka.ms/copilot-chat-filtered-docs)'}"]})}}async processSuccessfulFetchResult(e,r,n,i){let o=await r.appliedText;return o.length>0?(e.status="success",e.response={message:o,type:"model"},i.markAsDisplayed(),bN(this.accessor,this.conversation,this.sessionId,"conversationPanel",o,n,this.accessor.get(Wr).activeTextEditor?.document,i),{followupsPromise:this.computeFollowups(await r.includeConversationFollowups??!0,{messageId:i.properties.messageId})}):(e.status="error",e.response={message:Cu.t("The model unexpectedly did not return a response, which may indicate a service issue. Please report a bug."),type:"meta"},{errorDetails:e.response})}processOffTopicFetchResult(e,r,n,i){let o=lv();return e.report({content:this.options.rejectionMessage}),r.response={message:this.options.rejectionMessage,type:"offtopic-detection"},r.status="off-topic",o.markAsDisplayed(),xN(this.accessor,this.conversation,this.sessionId,"conversationPanel",n,i.properties.messageId,this.accessor.get(Wr).activeTextEditor?.document,o),{followupsPromise:this.computeFollowups(!1)}}getLatestTurn(){return this.conversation.getLatestTurn()}removeRequest(e){let r=this.conversation.removeTurn(e);this._telemetryService.sendMSFTTelemetryEvent("panel.action.remove",{command:r?.intentInvocation?.intent.id,contextTypes:r?.contextParts.map(n=>n.kind).join(",")??"none",responseType:r?.response?.type,conversationId:this.sessionId,requestId:e})}refreshFollowupsCancellationToken(){this.lastResponseFollowupsCancellation?.cancel(),this.lastResponseFollowupsCancellation?.dispose(),this.lastResponseFollowupsCancellation=new fv}async computeFollowups(e=!0,r){if(this.options.disableFollowups)return[];let n=this.lastResponseFollowupsCancellation.token,o=(e?await this.conversationFollowUp.followUp(this.conversation,n,r):[]).map(c=>Bat(c,this.accessor,r));n.isCancellationRequested||this.conversationLogger?.logFollowups(o);let s=this.conversation.getLatestTurn(),a=[],u=s?.intentInvocation;return u?.followUps&&(a=await u.followUps(this.accessor,s)),o.concat(a)}};function Bat(t,e,r){let n=r??{};return n.suggestionId=Ri(),n.suggestionType="Follow-up from model",EN(e,n.suggestionType,n.messageId,n.suggestionId,e.get(Wr).activeTextEditor?.document),{message:t,title:t,metadata:n}}var k0=Ie(require("vscode"));function FPe(t,e){let r=k0.window.activeTextEditor?.document,n=k0.window.activeTextEditor?.selection,i=e.result,o=t.get(pt);switch(e.action.kind){case"copy":o.sendMSFTTelemetryEvent("panel.action.copy",{languageId:r?.languageId,requestId:i.responseId},{codeBlockIndex:e.action.codeBlockIndex,copyType:e.action.copyKind,characterCount:e.action.copiedCharacters,lineCount:e.action.copiedText.split(`
`).length});break;case"insert":o.sendMSFTTelemetryEvent("panel.action.insert",{languageId:r?.languageId,requestId:i.responseId},{codeBlockIndex:e.action.codeBlockIndex,characterCount:e.action.totalCharacters});break;case"runInTerminal":o.sendMSFTTelemetryEvent("panel.action.runinterminal",{languageId:r?.languageId,requestId:i.responseId,blockLanguage:e.action.languageId},{codeBlockIndex:e.action.codeBlockIndex});break;case"followUp":break;case"bug":t.get(sf)?.reportChat(i.session);break}if(e.action.kind==="copy"||e.action.kind==="insert"){let s={};s={totalCharacters:e.action.totalCharacters},e.action.kind==="copy"&&(s={...s,copiedCharacters:e.action.copiedCharacters}),r&&n&&(s={...s,cursorLocation:r.offsetAt(n.active)}),Q1(t,k0.window.activeTextEditor?.document,{codeBlockIndex:e.action.codeBlockIndex.toString(),messageId:i.responseId},s,e.action.kind==="copy"?"conversation.acceptedCopy":"conversation.acceptedInsert")}}function UPe(t,e){let r=k0.window.activeTextEditor?.document,n=e.result;t.get(pt).sendMSFTTelemetryEvent("panel.action.vote",{languageId:r?.languageId,requestId:n.responseId},{direction:e.kind===k0.ChatAgentResultFeedbackKind.Helpful?1:2}),Q1(t,r,{rating:e.kind===k0.ChatAgentResultFeedbackKind.Helpful?"positive":"negative",messageId:n.responseId},{},"conversation.messageRating")}var HM=class{constructor(e){this.accessor=e}async register(e){let r=new vee(this.accessor,e);return await r.register(),r}},vee=class{constructor(e,r){this.accessor=e;this.options=r;this._disposables=new rn;this._logger=new ES(this.accessor,()=>this._disposables.add(na.window.createOutputChannel("GitHub Copilot Chat Conversation","log")))}dispose(){this._disposables.dispose()}async register(){this._isInternal=(await this.accessor.get(gt).getCopilotToken(this.accessor))?.isInternal,this._disposables.add(this.registerWorkspaceAgent()),this._disposables.add(this.registerVSCodeAgent()),this._disposables.add(this.registerTerminalAgent()),this._disposables.add(this.registerDefaultAgent())}createAgent(e,r){let n=na.chat.createChatAgent(e,this.getChatAgentHandler(r));return n.onDidPerformAction(i=>FPe(this.accessor,i)),n.onDidReceiveFeedback(i=>UPe(this.accessor,i)),n.supportIssueReporting=this.accessor.get(Be).getConfig(qe.DebugReportFeedback),n}registerWorkspaceAgent(){let e=this.createAgent(Rne,o1);return e.fullName="Workspace",e.description="Ask about your workspace",e.followupProvider={provideFollowups:(r,n)=>"followupsPromise"in r?r.followupsPromise:[]},e.iconPath=new na.ThemeIcon("code"),e.subCommandProvider={provideSubCommands:r=>this.getSubCommands(Jl.workspace)},e.isSecondary=!0,e.sampleRequest=mi.getCommand("workspace",2)?.intent?.commandInfo?.sampleRequest,e}registerVSCodeAgent(){let e=this.createAgent(Pne,UM);e.fullName="VS Code",e.description="Ask about VS Code",e.followupProvider={provideFollowups:(n,i)=>"followupsPromise"in n?n.followupsPromise:[]},e.subCommandProvider={provideSubCommands:n=>this.getSubCommands(Jl.vscode)};let r=na.env.appName.includes("Insiders")||na.env.appName.includes("OSS");return e.iconPath=Pt.joinPath(this.accessor.get(vo).extensionUri,"assets",r?"vscode-chat-avatar-insiders.svg":"vscode-chat-avatar-stable.svg"),e.sampleRequest=mi.getCommand("vscode",2)?.intent?.commandInfo?.sampleRequest,e}registerTerminalAgent(){let e=this.createAgent(kl,"terminal");return e.fullName="Terminal",e.description="Ask how to do something in the terminal",e.followupProvider={provideFollowups:(r,n)=>"followupsPromise"in r?r.followupsPromise:[]},e.iconPath=new na.ThemeIcon("terminal"),e.subCommandProvider={provideSubCommands:r=>this.getSubCommands(Jl.terminal)},e.sampleRequest=mi.getCommand("terminal",2)?.intent?.commandInfo?.sampleRequest,e}registerDefaultAgent(){let e=this.createAgent("copilot","");e.isDefault=!0,e.helpTextPrefix=na.l10n.t("You can ask me general programming questions, or chat with the following agents which have specialized expertise and can perform actions:");let r=na.l10n.t({message:`To have a great conversation, ask me questions as if I was a real programmer:

* **Show me the code** you want to talk about by having the files open and selecting the most important lines.
* **Make refinements** by asking me follow-up questions, adding clarifications, providing errors, etc.
* **Review my suggested code** and tell me about issues or improvements, so I can iterate on it.

You can also ask me questions about your editor selection by [starting an inline chat session](command:inlineChat.start).

Learn more about [GitHub Copilot](https://docs.github.com/copilot/getting-started-with-github-copilot?tool=vscode) in [Visual Studio Code](https://code.visualstudio.com/docs/editor/artificial-intelligence).`,comment:"{Locked='](command:inlineChat.start)'}"}),n=new na.MarkdownString(r);return n.isTrusted={enabledCommands:["inlineChat.start"]},e.helpTextPostfix=n,e.fullName="GitHub Copilot",e.description="",e.followupProvider={provideFollowups:(i,o)=>"followupsPromise"in i?i.followupsPromise:[]},e.subCommandProvider={provideSubCommands:i=>[]},e}getSubCommands(e){let r=[];return e.forEach(n=>{let i=mi.getCommand(n,2)?.intent;i&&i.commandInfo?.defaultEnablement!==!1&&r.push({name:i.id,description:i.description,followupPlaceholder:i.commandInfo?.followupPlaceholder,shouldRepopulate:i.commandInfo?.shouldRepopulate,sampleRequest:i.commandInfo?.sampleRequest})}),r}getChatAgentHandler(e){return async(r,n,i,o)=>{let s=new wS(this.accessor,this.options,"",this._logger,this._isInternal,"");s.addHistory(n.history);let a=r.slashCommand?.name??e;return await s.provideResponseWithProgress(r,i,o,{intentId:a})}}};var ge=Ie(require("vscode"));var L0=Ie(vn());function BPe(t,e){let r=t.notebookDocuments.find(i=>i.uri.fsPath===e.uri.fsPath&&i.getCells().find(o=>o.document===e));return r?r.getCells().findIndex(i=>i.document===e):-1}var GM=class{constructor(e,r,n,i,o,s,a){this._accessor=e;this._document=r;this._originalDocumentText=n;this._edits=i;this._sharedProps=s;this._sharedMeasures=a;this._editSurvivalTracker=new lk(this._originalDocumentText,this._edits);this._store=new rn;let u=this._accessor.get(ot);this._store.add(u.onDidChangeTextDocument(c=>{if(c.document!==this._document)return;let l=ro.from(c.contentChanges);this._editSurvivalTracker.handleEdits(l)})),this._editSurvivalTracker.handleEdits(o),this._reportAfter(30*1e3),this._reportAfter(120*1e3),this._reportAfter(300*1e3),this._reportAfter(600*1e3,()=>{this._store.dispose()})}_reportAfter(e,r){let n=new hN(()=>{this._report(e),n.dispose(),r&&r()},e);this._store.add(n)}_report(e){let r=this._editSurvivalTracker.computeTrackedEditsSurvivalScore();this._accessor.get(pt).sendMSFTTelemetryEvent("inline.trackEditSurvival",this._sharedProps,{...this._sharedMeasures,survivalRateFourGram:r.fourGram,survivalRateNoRevert:r.noRevert,timeDelayMs:e})}};var jM={top_p:1,temperature:.1};var s1=class{constructor(e){this.accessor=e;this.commandPrefix="/";this.readConfig()}readConfig(){this._enabledCommands=this.accessor.get(Be).getConfigMixedWithDefaults(qe.ConversationSlashCommandEnablements)}isCommandEnabled(e,r){if(this._enabledCommands===void 0)return!1;if(this._enabledCommands[e]===void 0){if(this._enabledCommands["*"])return!0;let n=mi.getCommand(e,r)?.intent?.commandInfo?.defaultEnablement;return typeof n=="boolean"?n:!0}return!!this._enabledCommands[e]}parse(e,r){if(e=e.trimStart(),e.startsWith(this.commandPrefix)){let n=/\/(?<intentId>\w+)(?::(?<intentArgument>\w*))?(?<restOfQuery>\s.*)?/s.exec(e)?.groups,i=n?.intentId??"",o=n?.intentArgument??"",s=(n?.restOfQuery??"").trim(),a=mi.getCommand(i,r);if(this.readConfig(),a&&this.isCommandEnabled(i,r))return{command:a,intentArgument:o,restOfQuery:s}}return{restOfQuery:e}}getCommand(e,r){return this.allCommands(r).find(n=>n.commandId===e)}allCommands(e){return this.readConfig(),mi.getCommands(e).filter(r=>this.isCommandEnabled(r.commandId,e))}};async function _ee(t,e,r,n,i,o,s){let a=new s1(t),u,c,l="",f=a.parse(e,1);if(f.command)c=f.command.intent,l=f.restOfQuery,u=f.intentArgument;else{let d=t.get(Be),h=new CS(t,1),g=r===void 0?!1:!r,v=h.detectIntent(n,e,s,o,i?.preferredIntent,g);(r===void 0||r)&&(d.isDefaultSettingOverwritten(qe.ConversationIntentDetection)?d.getConfig(qe.ConversationIntentDetection):!0)&&(c=await v),l=e}let p;c&&i&&(p=i.slashCommands.find(d=>d.command===c.id)),c??=Gc.Instance;let m=await c.invoke(t,{location:1,documentContext:n,intentArgument:u},p);return{queryWithoutCommand:l,intentInvocation:m,slashCommand:p}}async function yee(t,e,r,n){let i=new gs;if(e&&e.length>0){let s=`The current code is a result of a previous interaction with you. Here are my previous messages: 
- ${e.join(`
- `)}`,a=new Qi({message:s,type:"user"});i.addTurn(a)}let o=new Qi({message:t.queryWithoutCommand,type:"user"});return o.intentInvocation=t.intentInvocation,i.addTurn(o),await t.intentInvocation.promptCrafter.buildPrompt(i,t.intentInvocation.endpoint,{},{report(){}},r,n)}var AS=Wt("IDiffService");var VM=class extends fi{constructor(r,n,i){super();this._initialText=r;this._document=n;this._serviceAccessor=i;this._additionalEdits=ro.empty;this._documentText=this._document.getText();let o=i.get(ot);this._register(o.onDidChangeTextDocument(s=>{if(s.document.uri.toString()!==this._document.uri.toString())return;let a=ro.from(s.contentChanges);this._additionalEdits=this._additionalEdits.compose(a)}))}async compute(){let r=this._serviceAccessor.get(AS),n=await ro.fromDiff(this._initialText,this._documentText,r);return{getEditsSinceInitial:()=>{if(this._store.isDisposed)throw new Fu("EditComputer has been disposed");return n.compose(this._additionalEdits)}}}};var a1=class t{constructor(e,r){this.lineNumber=e,this.column=r}with(e=this.lineNumber,r=this.column){return e===this.lineNumber&&r===this.column?this:new t(e,r)}delta(e=0,r=0){return this.with(this.lineNumber+e,this.column+r)}equals(e){return t.equals(this,e)}static equals(e,r){return!e&&!r?!0:!!e&&!!r&&e.lineNumber===r.lineNumber&&e.column===r.column}isBefore(e){return t.isBefore(this,e)}static isBefore(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<r.column}isBeforeOrEqual(e){return t.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,r){return e.lineNumber<r.lineNumber?!0:r.lineNumber<e.lineNumber?!1:e.column<=r.column}static compare(e,r){let n=e.lineNumber|0,i=r.lineNumber|0;if(n===i){let o=e.column|0,s=r.column|0;return o-s}return n-i}clone(){return new t(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new t(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}};var zM=class{constructor(e,r){this.initialText=e;this._accessor=r;this._document=new bee(e)}addEdits(e){let r=qat(e,this._document);this._document.apply(r)}getText(){return this._document.getValue()}async getEdits(){let e=this.getText(),r=this._accessor.get(AS);return await ro.fromDiff(this.initialText,e,r)}};function qat(t,e){return new ro(t.map(r=>{let n=e.positionToOffset(r.range.start),i=e.positionToOffset(r.range.end);return new Mi(new hi(n,i),r.newText)}))}var bee=class{constructor(e=""){this._converter=void 0;this._value="";this._value=e}getValue(){return this._value}apply(e){this._value=e.apply(this._value),this._converter=void 0}positionToOffset(e){return this._converter||(this._converter=new Tv(this._value)),this._converter.positionToOffset(new a1(e.line+1,e.character+1))}};var xee=class{constructor(e,r,n,i,o,s,a,u){this.placeholder=e;this.slashCommands=r;this.wholeRange=n;this.document=i;this.formattingOptions=o;this.message=s;this.input=a;this.preferredIntent=u;this._requests=[];this.aiEditCollector=void 0;this.sessionId=Ri(),this.conversation=void 0}addRequest(e){this._requests.push(e)}getRequests(){return this._requests}},YM=class t{constructor(e,r){this.accessor=e;this.rejectionMessage=r;this.logger=e.get(Ae).getPromptResponseLogger("interactiveEditor"),this.tabAndEditorsService=e.get(Wr),this.languageDiagnosticService=e.get(di),this._telemetryService=e.get(pt),this.logger.info(`CopilotInteractiveEditorSessionProvider created, with rejection message: ${this.rejectionMessage}`)}async prepareInteractiveEditorSession(e){let r;if(this.tabAndEditorsService.activeTextEditor?.document.uri.toString()===e.document.uri.toString()){let p=this.tabAndEditorsService.activeTextEditor.options;r={insertSpaces:p.insertSpaces,tabSize:p.tabSize}}let n,i=this.languageDiagnosticService.getDiagnostics(e.document.uri).find(p=>p.range.contains(e.selection));i&&(i.severity===EC.Warning||i.severity===EC.Error)&&(n=`/fix ${i.message}`);let o={document:e.document,fileIndentInfo:r,language:tb(e.document),selection:e.selection,wholeRange:e.selection},s=[];for(let p of mi.getCommands(1))p.intent?.asSlashCommand?s.push(await p.intent.asSlashCommand(this.accessor,o)):s.push({command:p.commandId,detail:p.details,executeImmediately:p.executeImmediately});let a=[L0.t({message:"{0} Copilot generated code may be incorrect",args:["$(copilot-logo)"],comment:["{Locked='Copilot'}","Do not translate 'Copilot'"]})],u=L0.t({message:"{0} You can also type / for commands",args:["$(copilot-logo)"],comment:["{Locked='Copilot'}","Do not translate 'Copilot'"]}),c,l;e.selection.isEmpty&&e.document.lineAt(e.selection.start.line).text.trim()===""?(a.push(u,L0.t({message:"{0} You can also select code to make an edit",args:["$(copilot-logo)"],comment:["{Locked='Copilot'}","Do not translate 'Copilot'"]})),l=L0.t("Ask Copilot to generate code..."),c=gh.ID):!e.selection.isEmpty&&e.selection.start.line!==e.selection.end.line?(a.push(u),l=L0.t("Ask Copilot to edit code..."),c=ah.ID):l=L0.t("Ask Copilot or type / for commands");let f=a[Math.floor(Math.random()*a.length)];return new xee(l,s,e.selection,e.document,r,f,n,c)}async provideInteractiveEditorResponse(e,r,n,i){this.logger.info(`CopilotInteractiveEditorSessionProvider query: ${r.prompt}`),n.report({message:L0.t("Fetching response..."),edits:[]}),r.attempt===0&&e.addRequest(r.prompt);let o=this.accessor.get(Be).getConfig(qe.InlineChatStreaming),s=r.live;if(o==="off")s=!1;else if(o==="instant"){let l=n;n={report:f=>{l.report({...f,editsShouldBeInstant:!0})}}}let a=e.aiEditCollector=new zM(e.document.getText(),this.accessor),u=n;n={report(l){l.edits&&a.addEdits(l.edits),u.report(l)}};let c=await this.fetchResponse(e,r,n,s,i);if(c)return"edits"in c?.parsedReply&&a.addEdits(c.parsedReply.edits),Hat(c,s)}async provideFollowups(e,r,n){if(!Fr(e.document.uri)||!e.conversation||!e.wholeRange?.isEmpty)return;let i=BPe(this.accessor.get(ot),e.document);if(i<0)return;let o=new rh(this.accessor),s=this.accessor.get(Mc);return(await new SS(this.accessor,o,s).followUp(e.conversation,n)).map(c=>({commandId:"notebook.cell.insertCodeCellWithChat",title:`$(sparkle) ${c}`,args:[{index:i+1,input:c,autoSend:!0}]}))}handleInteractiveEditorResponseFeedback(e,r,n){if(this.logger.debug("CopilotInteractiveEditorSessionProvider feedback received"),n===va.Bug&&e.conversation){this.accessor.get(sf)?.reportInline(e.conversation,r.promptQuery,r.reply);return}let i={messageId:r.messageId},o,{selection:s,wholeRange:a,intent:u,query:c}=r.promptQuery,l=e.conversation?.getLatestTurn()?.requestId??"",f=e.sessionId,p=u?.id,m=e.document.languageId,d=r.reply.type,h=d==="inlineEdit"?r.reply.edits:null,g=qPe(s,this.languageDiagnosticService.getDiagnostics(e.document.uri)),v=Fr(e.document.uri)?1:0,_={languageId:m,replyType:d,conversationId:f,requestId:l,command:p},y={selectionLineCount:s?Math.abs(s.end.line-s.start.line):-1,wholeRangeLineCount:a?Math.abs(a.end.line-a.start.line):-1,editCount:h?.length??-1,editLineCount:h?.reduce((b,T)=>b+T.newText.split(`
`).length,0)??-1,isNotebook:v,problemsCount:g.fileDiagnosticsTelemetry.problemsCount,selectionProblemsCount:g.selectionDiagnosticsTelemetry.problemsCount,diagnosticsCount:g.fileDiagnosticsTelemetry.diagnosticsCount,selectionDiagnosticsCount:g.selectionDiagnosticsTelemetry.diagnosticsCount},x=(b,T)=>{this._telemetryService.sendInternalMSFTTelemetryEvent(b,{language:m,intent:p,query:c,conversationId:f,requestId:l,replyType:d,problems:g.fileDiagnosticsTelemetry.problems,selectionProblems:g.selectionDiagnosticsTelemetry.problems,diagnosticCodes:g.fileDiagnosticsTelemetry.diagnosticCodes,selectionDiagnosticCodes:g.selectionDiagnosticsTelemetry.diagnosticCodes},{isNotebook:v,...T})};if(n===va.Accepted&&e.aiEditCollector){let b=e.aiEditCollector,T=new VM(e.aiEditCollector.getText(),e.document,this.accessor);(async()=>{try{let[k,U]=await Promise.all([b.getEdits(),T.compute()]),z=U.getEditsSinceInitial();new GM(this.accessor,e.document,b.initialText,k,z,_,y)}finally{T.dispose()}})()}if(e.aiEditCollector=void 0,n===va.Helpful||n===va.Unhelpful){let b=n===va.Helpful?1:0;this._telemetryService.sendMSFTTelemetryEvent("inline.action.vote",_,{...y,vote:b}),x("interactiveSessionVote",{vote:b})}else if(n===va.Undone||n===va.Accepted){let b=n===va.Accepted?1:0;this._telemetryService.sendMSFTTelemetryEvent("inline.done",_,{...y,accepted:b}),x("interactiveSessionDone",{accepted:b})}switch(n){case va.Helpful:i.rating="positive",o="inlineConversation.messageRating";break;case va.Unhelpful:i.rating="negative",o="inlineConversation.messageRating";break;case va.Undone:i.action="undo",o="inlineConversation.undo";break;case va.Accepted:i.action="accept",o="inlineConversation.accept";break;case va.Bug:o="";break}o&&Q1(this.accessor,e.document,i,{},o)}async fetchResponse(e,r,n,i,o){let s=lv(),a=Date.now(),u={document:e.document,fileIndentInfo:e.formattingOptions,language:tb(e.document),selection:r.selection,wholeRange:r.wholeRange};(e.getRequests().length>1||r.attempt>0)&&(e.preferredIntent=void 0);let c=await _ee(this.accessor,r.prompt,r.withIntentDetection,u,e,s,o),l=c.intentInvocation;n.report({slashCommand:c.slashCommand});let{messages:f}=await yee(c,e.getRequests().slice(0,-1),s,o);if(o.isCancellationRequested)return;let p=e.conversation,m=p===void 0;p||(p=e.conversation=new gs);let d=f.map(M=>M.content).join(`
`),h=new Qi({message:d,type:"user"});h.chatMessages=f,p.addTurn(h),s=_N(p,e.sessionId,"conversationInline",r.prompt,Gat(this.accessor,f),l.intent.id,s);let g=s.properties.messageId;h.requestId=g,this.logger.logPrompt(f);let v,_,y=0,x=l.createReplyInterpreter(n,i),b=async M=>(y===0&&(y=Date.now()),x.update(M).shouldFinish?M.length:void 0),T=Date.now(),k=l.endpoint;try{v=await this.accessor.get(Tr).fetchOne(f,b,o,1,k,{temperature:t.pickTemperature(r),top_p:jM.top_p},{messageId:g,messageSource:"inline.user"},{intent:!0})}catch(M){throw this.logger.exception(M,"Fetching failed: "),this.accessor.get(xt).sendExceptionTelemetry(M,"Fetching failed: "),h.status="error",h.response={message:M.message,type:"server"},new Error("Failed to make request")}this.logger.logResponse(v),yN(this.accessor,"conversationInline",r.prompt,v.type==="offTopic",this.tabAndEditorsService.activeTextEditor?.document,s);let U=Fr(e.document.uri)?1:0,z=qPe(r.selection,this.languageDiagnosticService.getDiagnostics(e.document.uri)),D=this.accessor.get(Mr),fe=M=>{this._telemetryService.sendMSFTTelemetryEvent("inline.request",{command:l.intent.id??"",contextTypes:"none",promptTypes:f.map(L=>`${L.role}${L.name?`-${L.name}`:""}:${L.content.length}`).join(","),conversationId:e.sessionId,requestId:g,languageId:this.tabAndEditorsService.activeTextEditor?.document?.languageId,responseType:v.type,replyType:M?.type,model:k.model,diagnosticsProvider:z.diagnosticsProvider},{firstTurn:m?1:0,isNotebook:U,messageTokenCount:D.tokenLength(c.queryWithoutCommand),promptTokenCount:Lc(this.accessor,f),responseTokenCount:v.type==="success"?D.tokenLength(v.value):-1,implicitCommand:r.prompt.trim().startsWith(`/${l.intent.id}`)?0:1,attemptCount:r.attempt||0,selectionLineCount:r.selection?Math.abs(r.selection.end.line-r.selection.start.line)+1:-1,wholeRangeLineCount:r.wholeRange?Math.abs(r.wholeRange.end.line-r.wholeRange.start.line)+1:-1,editCount:M?.type==="inlineEdit"?M.edits.length:-1,editLineCount:M?.type==="inlineEdit"?M.edits.reduce((L,W)=>L+W.newText.split(`
`).length,0):-1,problemsCount:z.fileDiagnosticsTelemetry.problemsCount,selectionProblemsCount:z.selectionDiagnosticsTelemetry.problemsCount,diagnosticsCount:z.fileDiagnosticsTelemetry.diagnosticsCount,selectionDiagnosticsCount:z.selectionDiagnosticsTelemetry.diagnosticsCount,timeToRequest:T-a,timeToFirstToken:y?y-a:-1,timeToComplete:Date.now()-a})},Q=(M,L)=>{this._telemetryService.sendInternalMSFTTelemetryEvent("interactiveSessionResponse",{chatLocation:"inline",intent:l.intent.id??"",problems:z.fileDiagnosticsTelemetry.problems,selectionProblems:z.selectionDiagnosticsTelemetry.problems,diagnosticCodes:z.fileDiagnosticsTelemetry.diagnosticCodes,selectionDiagnosticCodes:z.selectionDiagnosticsTelemetry.diagnosticCodes,diagnosticsProvider:z.diagnosticsProvider,language:this.tabAndEditorsService.activeTextEditor?.document?.languageId,request:r.prompt,responseType:M,response:L},{isNotebook:U})};switch(v.type){case"rateLimited":{let M=`Response failed ${v.type}: ${v.reason}`;throw h.status="error",h.response={message:M,type:"server"},fe(),Q(v.type,M),new Error("Oops, your request failed due to a rate limit. Please try again later.")}case"badRequest":{let M=`Response failed ${v.type}: ${v.reason}`;throw h.status="error",h.response={message:M,type:"server"},fe(),Q(v.type,M),new Error("Failed to make request")}case"failed":{this.logger.error(`Response failed: ${v.reason}`),h.status="error";let M=v.reason;throw h.response={message:M,type:"server"},fe(),Q(v.type,M),new Error("Failed to make request")}case"canceled":{this.logger.debug(`Response canceled: ${v.reason}`),h.status="error";let M="Cancelled";h.response={message:M,type:"user"},fe(),Q(v.type,M);return}case"unknown":{let M=`Response is empty: ${v.reason}`;this.logger.info(M),h.status="error",h.response={message:M,type:"server"},fe(),Q(v.type,M);return}case"filtered":{let M=`Response got filtered: ${v.reason}`;throw this.logger.info(M),h.status="filtered",h.response={message:M,type:"server"},fe(),Q(v.type,M),new Error("Oops, response got filtered. Please rephrase your prompt.")}case"offTopic":{this.logger.info(`Response marked as offtopic: ${v.reason}`),h.status="off-topic";let M=this.rejectionMessage;h.response={message:M,type:"offtopic-detection"},fe(),Q(v.type,M),xN(this.accessor,p,e.sessionId,"conversationInline",r.prompt,g,e.document,s);return}case"length":{let M=`Response was too long: ${v.reason}`;this.logger.info(M),h.status="error",h.response={message:M,type:"server"},fe(),Q(v.type,M);return}case"success":break;default:{this.logger.error("Unexpected response type"),this.logger.info(JSON.stringify(v)),h.status="error";let M=`Unexpected response type: ${JSON.stringify(v)}`;h.response={message:M,type:"server"},fe(),Q("unknown",M);return}}if(_=v.value,_.length===0){this.logger.info("Response is empty."),fe(),Q("unknown","Empty response");return}x.update(_);let O=await x.finish();h.status="success";let w=_;return h.response={message:w,type:"model"},fe(O),Q("success",w),s=s.extendedBy({replyType:O.type}),bN(this.accessor,p,e.sessionId,"conversationInline",_,g,e.document,s),this.logger.info(`Parsed response: ${JSON.stringify(O,null,"	")}`),{promptQuery:{query:c.queryWithoutCommand,...u,intent:l.intent},parsedReply:O,messageId:s.properties.messageId}}static pickTemperature(e){return"attempt"in e&&typeof e.attempt=="number"?Math.min(jM.temperature*(e.attempt+1),2):jM.temperature}};function Hat(t,e){let{promptQuery:r,parsedReply:n,messageId:i}=t;if(n.type==="conversational")return{contents:new qu(n.content),promptQuery:r,reply:n,messageId:i};let o=n.content!==void 0?new qu(n.content):void 0;return n.type==="workspaceEdit"?{edits:n.workspaceEdit,promptQuery:r,reply:n,messageId:i,contents:o}:{edits:n.edits,wholeRange:n.newWholeRange,reply:n,promptQuery:r,messageId:i,contents:n.content!==void 0?new qu(n.content):void 0}}function Gat(t,e){let r=t.get(Mr),n=0;for(let i of e)n+=r.tokenLength(i.content);return n}function qPe(t,e){let r=e.filter(c=>t.intersection(c.range)),n={problems:e.map(c=>c.message).join(", "),problemsCount:e.length,diagnosticCodes:"",diagnosticsCount:0},i={problems:r.map(c=>c.message).join(", "),problemsCount:r.length,diagnosticCodes:"",diagnosticsCount:0},o=new Map,s=new Map;e.forEach(c=>{let l=c.code,f=typeof l=="string"||typeof l=="number"?l.toString():l?l.value.toString():"";o.set(f,(o.get(f)||0)+1),t.intersection(c.range)&&s.set(f,(s.get(f)||0)+1)});let a=c=>{let l="";return c.forEach((f,p)=>{l+=`${p}:${f},`}),l};n.diagnosticCodes=a(o),n.diagnosticsCount=o.size,i.diagnosticCodes=a(s),i.diagnosticsCount=s.size;let u=e.length>0?e[0].source??"":"";return{fileDiagnosticsTelemetry:n,selectionDiagnosticsTelemetry:i,diagnosticsProvider:u}}var Eee=Ie(vn());var Tee=class{constructor(e,r,n){this.turn=r;this.progress=n;this.stagedTextToApply="";this.reporting=!0;this._appliedText="";this._resolvedContentDeferredPromise=new ha;this._incodeblock=!1;this.conversationCallback=new af(i=>this.applyDelta(i))}get appliedText(){return Promise.resolve(this._appliedText)}apply(e){this.conversationCallback.apply(e)}applyDeltaToTurn(e){this.turn.response||(this.turn.response={message:e,type:"model"}),this._appliedText+=e,this.turn.response.message+=e}applyDeltaToProgress(e){this.progress.report({content:e})}applyDelta(e){if(!this.reporting){this.applyDeltaToTurn(e);return}if(e=this.stagedTextToApply+e,this._incodeblock){let n=e.indexOf("```");if(n===-1){this.stagedTextToApply=e,this.applyDeltaToProgress(""),this.applyDeltaToTurn("");return}else{this._incodeblock=!1,e=e.substring(0,n)+"```";try{this.applyDeltaToTurn(e)}catch{}finally{this.reporting=!1,this.stagedTextToApply="",this._resolvedContentDeferredPromise.complete({content:""})}return}}let r=e.indexOf("```");if(r!==-1){this._incodeblock=!0;let n=e.indexOf("```",r+3);if(n!==-1){this._incodeblock=!1,this.applyDeltaToProgress(e.substring(0,r)),this.applyDeltaToProgress(e.substring(n+3)),this.applyDeltaToTurn(e),this.reporting=!1,this.stagedTextToApply="";return}else{let i=e.substring(0,r);this.applyDeltaToProgress(i),this.applyDeltaToTurn(e),this.stagedTextToApply="",this.progress.report({message:"Thinking ..."}),this._resolvedContentDeferredPromise.p.then(o=>this.progress.report(o));return}}this.applyDeltaToProgress(e),this.applyDeltaToTurn(e),this.stagedTextToApply=""}},jat=`
DO NOT include Introduction or Conclusion section in the outline!
Focus only on sections that will need code!

Generate the outline as two parts:
- First part is markdown bullet list of section titles
- Second part is the JSON data that will validate against this JSON schema, wrap the response in code block. We assume that a code block begins with \`\`\`[optionally the language] and ends with \`\`\`

The JSON schema is:
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
	"description": {
	  "type": "string"
	},
	"sections": {
	  "type": "array",
	  "items": {
		"type": "object",
		"properties": {
		  "title": {
			"type": "string"
		  },
		  "content": {
			"type": "string"
		  }
		},
		"required": ["title", "content"]
	  }
	}
  },
  "required": ["sections"]
}`,Vat=`
Below you will find a set of examples of what you should respond with. Please follow these examples as closely as possible.

## Valid notebook creation question

user: Creating Random Arrays with Numpy

assistant: Here's an outline for a Jupyter notebook that creates Random Arrays with Numpy:

* **Import Required Libraries**
* **Create Random Arrays**
* **Seed the Random Number Generator**
* **Generate Random Integers**

\`\`\`json
{
  "description": "A Jupyter notebook that creates Random Arrays with Numpy.",
  "sections": [
    {
      "title": "Import Required Libraries",
      "content": "Import the necessary libraries, including NumPy."
    },
    {
      "title": "Create Random Arrays",
      "content": "Use NumPy to create random arrays of various shapes and sizes, including 1D, 2D, and 3D arrays."
    },
    {
      "title": "Seed the Random Number Generator",
      "content": "Use the seed() function to seed the random number generator for reproducibility."
    },
	{
	  "title": "Generate Random Integers",
	  "content": "Use the randint() function to generate random integers within a specified range."
	}
  ]
}
\`\`\`
`;function zat(){let t=new oh({location:2,id:"newNotebook",description:Eee.t("Create a new Jupyter Notebook"),modelDescription:"Creates a new Jupyter Notebook for tasks such as data analysis, scientific computing, and machine learning.",modelSampleQuestion:"How do I create a notebook to load data from a csv file?",commandInfo:{allowsEmptyArgs:!1,yieldsTo:[{command:"fix"},{command:"explain"},{command:"workspace"},{command:"tests"}],defaultEnablement:!0,sampleRequest:Eee.t("How do I create a notebook to load data from a csv file?")},systemPromptOptions:{examples:Vat,roleplay:"You are an AI that creates a detailed content outline for a Jupyter notebook on a given topic."},rules:jat,turnFilter:e=>e.filter(r=>r.intentInvocation?.intent.id==="newNotebook"||r.request.type!=="user"&&r.request.type!=="follow-up"),responseProcessor:(e,r,n)=>new Tee(e,r,n),followUps:async(e,r)=>{let n=(r.response?.message??"").replace(/\n/g,""),o=/```(?:json)?(.+)/g.exec(n);if(o)try{let s=o[1],a=s.indexOf("```"),u=a===-1?s:s.substring(0,a);return[{commandId:"github.copilot.newNotebook",args:[JSON.parse(u)],title:"Create Notebook"}]}catch{}return[]},contextResolvers:[bh,db]});Si.registerIntent(t)}Rm.registerContribution(zat);async function HPe(t,e,r,n,i,o,s){let a={messageSource:"slash.newNotebook"},u=`
	You are an AI that writes Python code for a single section of a Jupyter notebook.
	Overall topic of the notebook: ${n}
	Title of the notebook section: ${i.title}
	Description of the notebok section: ${i.content}
	Given this information, write all the code for this section and this section only.
	Your output should be valid Python code with inline comments.
	You should return the code directly without any explantion.
	You should not print message to explain the code or purpose of the code.

	Code in the notebook so far:

	${o}

	Please make sure the new code you generate works fine with the code above.
	You should return the code directly, without wrapping it inside \`\`\`.

	Please make sure that the new code is syntactically valid Python code. It can be validated by running it in a Python interpreter.
	For example, it should pass the validation through builtin module codeop \`codeop.compile_command(statement)\`.
	`,l=await t.get(Tr).fetchOne([{content:u,role:"user"}],void 0,s,2,e,{temperature:r.temperature,top_p:r.topP},a);if(l.type==="success")return l.value}async function GPe(t,e,r,n,i,o,s,a){let u={messageSource:"slash.newNotebook"},c=`
You are an AI that improves Python code with respect to readability and performance for a single section of a Jupyter notebook.
You MUST return Python code as your answer.
DO NOT explain in inline comments for your the improvements
Overall topic of the notebook: ${n}
Title of the notebook section: ${i.title}
Description of the notebok section: ${i.content}

Code in the notebook so far:

${o}

Given this information, improve the following code.

Make sure the new code you generate works fine with the code above.
Make sure if a module is already imported in the code above, it can be used in the new code directly without importing it again. For the same reason, if a variable is defined above, it can be used in new code as well.
Make sure to return the code only - don't give an explanation of the improvements.

${s}
	`,f=await t.get(Tr).fetchOne([{content:c,role:"user"}],void 0,a,2,e,{temperature:r.temperature,top_p:r.topP},u);if(f.type==="success")return f.value}var $M=Ie(require("vscode"));var WM=class{constructor(e){this.ctx=e}async provideChatResponse(e,r,n,i){let o=e.map(c=>{let l={content:c.content,name:c.name,role:"user"};switch(c.role){case $M.ChatMessageRole.System:l.role="system";break;case $M.ChatMessageRole.Assistant:l.role="assistant";break;case $M.ChatMessageRole.User:l.role="user";break}return l}),s=await jt(this.ctx,3),a=this.ctx.get(Tr),u=0;await a.fetchMany(o,async(c,l)=>{let f=c.substring(u);u+=f.length,n.report({part:f,index:l})},i,3,s,{n:r.n,stream:!0})}};var DR=Ie(require("vscode"));var KM=class t{constructor(e){this.accessor=e;this.disposables=new rn;this.lastContext={commitMessages:[],patches:[]};this.internalLogger=e.get(Ae).getPromptResponseLogger("GitHub pull request title and description generator"),this.logger=e.get(Ae).getLogger("githubTitleAndDescriptionProvider"),this.logger.info("Initializing GitHub PR title and description provider provider."),this.options=e.get(Mc)}dispose(){this.disposables.dispose()}isRegenerate(e,r){if(e.length!==this.lastContext.commitMessages.length||r.length!==this.lastContext.patches.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==this.lastContext.commitMessages[n])return!1;for(let n=0;n<r.length;n++)if(r[n]!==this.lastContext.patches[n])return!1;return!0}async provideTitleAndDescription(e,r,n){let i,o,s,a;if(Dne(e))i=e,o=r,a=n;else{let m=e;i=m.commitMessages,o=m.patches,s=m.issues,a=r}let u=await jt(this.accessor,3),c=Math.floor(u.modelMaxPromptTokens*4/3),l=this.createPRTitleAndDescriptionPrompt(i,o,s,c),f=[{role:"system",content:l}];this.internalLogger.logPrompt(f);let p=await this.accessor.get(Tr).fetchOne(f,void 0,a,3,u,{temperature:this.isRegenerate(i,o)?this.options.temperature+.1:this.options.temperature,top_p:this.options.topP},{messageSource:"extension.providePullRequestTitleAndDescription"});if(this.internalLogger.logResponse(p),this.lastContext={commitMessages:i,patches:o},p.type==="success")return t.parseFetchResult(p.value)}static parseFetchResult(e,r=!0){e=e.trim();let n=e,i=n.indexOf("+++");if(i===-1)return;let o=n.lastIndexOf("+++");n=n.substring(i+3,o>i+3?o:void 0).trim().replace(/\+\+\+?(\n)\+\+\+/,"+++");let s=n.split("+++").filter(l=>l.trim().length>0),a;if(s.length===1)a=s[0].split(`
`);else if(s.length>1){let l=s.slice(1).map(f=>f.split(`
`)).flat().filter(f=>f.trim().length>0);a=[s[0],...l]}else return;let u,c;if(a.length===1){if(u=a[0].trim(),r&&e.includes(`
`)&&e.split("+++").length===3)return this.parseFetchResult(e+"+++",!1)}else if(a.length>1){u=a[0].trim(),c="";let l=a.slice(1);for(let f of l)f.includes("commit message")||(c+=`${f.trim()}

`)}if(u)return u=u.replace(/Title\:\s/,"").trim(),c&&(c=c.replace(/Description\:\s/,"").trim()),{title:u,description:c}}createPRTitleAndDescriptionPrompt(e,r,n,i){let o=e.map(l=>`* ${l}`).join(`
`),s=i-Math.floor(i*.1)-o.length,a=r.join(`

`).length;if(a>s)for(r.sort((l,f)=>l.length-f.length);a>s&&r.length>0;){let l=r.pop();a-=l.length}let u;n&&n.length>0?u=`You are an AI assistant for a software developer who is about to make a pull request to a GitHub repository to fix the following issues:
${n.map(f=>`
-------
Issue ${f.reference}:
${f.content}`).join()}
-------
`:u=`You are an AI assistant for a software developer who is about to make a pull request to a GitHub repository.
`;let c;return n&&n.length>0?c=`Example One:
	+++Batch mark/unmark files as viewed
	+++Previously, when marking/unmarking a folder as viewed, a request was sent for every single file. This PR ensures that only one request is sent when marking/unmarking a folder as viewed.
	Fixes #4520+++
Example two:
	+++Fallback to hybrid after 20 process ports
	+++Additionally the \`remote.autoForwardPortsSource\` setting has been updated to remove the \`markdownDescription\` reference to a reload being required for changes to take effect.
	Fixes microsoft/vscode-internalbacklog#4533+++`:c=`Example One:
	+++Batch mark/unmark files as viewed
	+++Previously, when marking/unmarking a folder as viewed, a request was sent for every single file. This PR ensures that only one request is sent when marking/unmarking a folder as viewed.+++
Example two:
	+++Fallback to hybrid after 20 process ports
	+++Additionally the \`remote.autoForwardPortsSource\` setting has been updated to remove the \`markdownDescription\` reference to a reload being required for changes to take effect.+++`,`
${tc()}
${jp()}

${u}
Pull requests have a short and concise title that describes the changes in the code and a slightly longer description.
The description can be more detailed but should still be concise. Do not list commits, files or patches. Do not make up an issue reference if the pull request isn't fixing an issue.
The title and description of a pull request should be markdown and start with +++ and end with +++. Here are two good examples.
--------
${c}
--------
These are the commits that will be included in the pull request you are about to make:
${o}
Below is a list of git patches that contain the file changes for all the files that will be included in the pull request:
${r.join(`

`)}

Based on the git patches and on the git commit messages above, the title and description of the pull request should be:
`}};var XM=class extends KM{constructor(r){super(r);this.initializeGitHubPRExtensionApi()}getExtension(){return DR.extensions.getExtension("github.vscode-pull-request-github")}initializeGitHubPRExtensionApi(){let r=this.getExtension(),n=async()=>{if(r){let i=await r.activate();this.logger.info("Successfully activated the GitHub.vscode-pull-request-github extension."),this.gitHubExtensionApi=i,this.registerTitleAndDescriptionProvider()}};if(r)n();else{this.logger.info("GitHub.vscode-pull-request-github extension is not yet activated.");let i=DR.extensions.onDidChange(()=>{r=this.getExtension(),r&&(n(),i.dispose())});this.disposables.add(i)}}async registerTitleAndDescriptionProvider(){if(this.gitHubExtensionApi)try{this.disposables.add(this.gitHubExtensionApi.registerTitleAndDescriptionProvider(DR.l10n.t("Generate with Copilot"),this)),this.logger.info("Successfully registered GitHub PR title and description provider.")}catch{}}};var Tl=Ie(require("vscode"));var QM=class{provideMappedEdits(e,r,n,i){if(n.documents.length===0)return null;let o=n.documents[0],s=e.uri.toString(),a=o.find(_=>_.uri.toString()===s);if(!a)return null;let u=a.ranges;if(u.length!==1||r.length!==1)return null;let c=u[0],l=r[0];if(!e.getText(new Tl.Range(new Tl.Position(c.start.line,0),new Tl.Position(c.start.line,c.start.character))).match(/^\s*$/))return null;let p=Tl.window.activeTextEditor,m;if(p&&p.options&&e.languageId===p.document.languageId){let _=p.options,y=typeof _.tabSize=="number"?_.tabSize:4,x=typeof _.insertSpaces=="boolean"?_.insertSpaces:!0;m={tabSize:y,insertSpaces:x}}let d=new Tl.Range(new Tl.Position(c.start.line,0),c.end),h=e.getText(d),g=th(l.split(`
`),{whichLine:"topMost",lines:h.split(`
`)},m).join(`
`),v=new Tl.WorkspaceEdit;return v.replace(e.uri,d,g),v}};var Fn=Ie(require("vscode"));var JM=Ie(vn());var Yat=6e4,$at=1500,c1=class t{constructor(){this.id=t.ID;this.description=JM.t("Add documentation comment for this symbol");this.intentDetectionInput={sampleQuestion:"Add jsdoc to this method"};this.locations=[1];this.commandInfo={executeImmediately:!0}}static{this.ID="doc"}async asSlashCommand(e,r){if(r.document.lineCount>$at||r.document.getText().length>Yat)return new kR("Add documentation comment for this symbol");let n=await dv.determineNodeToDocument(e,r),i=n.identifier?JM.t("Add documentation comment for '{0}'",n.identifier):JM.t("Add documentation comment for this symbol");return new kR(i,n)}async invoke(e,r,n){let i=r.documentContext;if(!i)throw new Error("Open a file to add documentation.");let o;n instanceof kR?o=n.nodeToDocument:e.get(Ae).getLogger("InlineDocIntent#invoke").warn("Unexpected: SlashCommand given to intent invocation is not a DocSlashCommand");let s=await jt(e,r.location,this.id);return new See(e,s,i,this,o)}},kR=class{constructor(e,r=void 0){this.detail=e;this.nodeToDocument=r;this.command=c1.ID;this.executeImmediately=!0}},See=class t{constructor(e,r,n,i,o=void 0){this.accessor=e;this.endpoint=r;this.context=n;this.intent=i;this.nodeToDocument=o;this.location=1;this.createReplyInterpreter=Tb.createFactory(async e=>{if(!this.contextInfo||!this.wholeRange)throw new Error("doc intent NEEDS a selection context");let r=Yp(this.contextInfo,e,this.context.language);if(!r)return{type:"conversational",content:e};let n=PN(this.context.document.languageId),i=r.code;if(n){let s=Date.now(),a=await this.accessor.get(qn).extractDoc(n,i),u=Date.now()-s;t._sendExtractDocTelemetry(this.accessor.get(pt),this.context.document.languageId,i.length,a,u),a&&(i=a)}let o=bv(this.accessor,this.contextInfo,i,1,this.context.fileIndentInfo);return zp(o,this.wholeRange)});let s=this,a=this.computeRules(n);this.promptCrafter=new class extends Bc{constructor(){super(e,{rules:a,contextResolvers:[]},1,n)}async buildPrompt(u,c,l,f,p,m){s.nodeToDocument||(s.nodeToDocument=await dv.determineNodeToDocument(s.accessor,s.context));let d=await new dv(s.nodeToDocument).resolveContext(s.accessor,{endpoint:c,conversation:u,documentContext:s.context,message:void 0},void 0);if(d){let h=d.metadata;ki.is(h)&&(s.contextInfo=h.contextInfo,s.wholeRange=h.wholeRange);let g=await s.computeQueryPrefix(e,n),v=[];for(let y of d.userMessages)v.push(new Qi({message:y,type:"user"}));let _=u.getLatestTurn();if(!_)throw new Error("No last message");_.request.message=`${g} ${_.request.message}`.trim(),u=new gs([v,u.turns].flat())}return super.buildPrompt(u,c,l,f,p,m)}}}computeRules(e){return`
- Each code block starts with \`\`\` and ${Hn.forLanguage(e.language)}.
- You always answer with ${e.language.languageId} code.
- When the user asks you to document something, you must answer in the form of a ${e.language.languageId} code block.`.trim()}async computeQueryPrefix(e,r){let n,i;this.nodeToDocument===void 0||!this.nodeToDocument.identifier?(n=!1,i="the selection"):(n=!0,i=this.nodeToDocument.identifier);let o;switch(r.document.languageId){case"typescript":case"typescriptreact":o=n?"a TSDoc comment":"TSDoc comment";break;case"javascript":case"javascriptreact":o=n?"a JSDoc comment":"JSDoc comment";break;case"python":o="docstring";break;default:o="documentation comment"}return`Please add ${o} for ${i}.`}static _sendExtractDocTelemetry(e,r,n,i,o){e.sendMSFTTelemetryEvent("extractDoc",{languageId:r,couldExtractDoc:i===void 0?"false":"true"},{codeBlockLen:n,timeSpentMs:o})}};var jPe=Ie(vn());var ZM=class extends Ue{render(e,r){return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are a world-class coding tutor. Your code explanations perfectly balance high-level concepts and granular details. Your approach ensures that students not only understand how to write code, but also grasp the underlying principles that guide effective programming.",vscpp("br",null),tc(),vscpp(Kr,null),vscpp("br",null),yv(),Gs(this.accessor),vscpp("br",null),vscpp("br",null),"Additional Rules",vscpp("br",null),"Think step by step:",vscpp("br",null),"1. Examine the provided code selection and any other context like user question, related errors, project details, class definitions, etc.",vscpp("br",null),"2. If you are unsure about the code, concepts, or the user's question, ask clarifying questions.",vscpp("br",null),"3. If the user provided a specific question or error, answer it based on the selected code and additional provided context. Otherwise focus on explaining the selected code.",vscpp("br",null),"4. Provide suggestions if you see opportunities to improve code readability, performance, etc.",vscpp("br",null),vscpp("br",null),"Focus on being clear, helpful, and thorough without assuming extensive prior knowledge.",vscpp("br",null),"Use developer-friendly terms and analogies in your explanations.",vscpp("br",null),"Identify 'gotchas' or less obvious parts of the code that might trip up someone new.",vscpp("br",null),"Provide clear and relevant examples aligned with any provided context."),this.props.history&&vscpp(vscppf,null,vscpp(xo,{priority:600,history:this.props.history})),vscpp(yh,{priority:700}),!this.props.chatVariables[to.variableInfo.name]&&vscpp(to,{priority:900}),vscpp(mb,{priority:800}),vscpp(hh,{priority:900,chatVariables:this.props.chatVariables,query:this.props.query}))}};var Cee="Write an explanation for the active selection as paragraphs of text.",e9=class{constructor(e){this.accessor=e}async buildPrompt(e,r,n,i,o,s){let a=e.getLatestTurn(),u=a.request.message,c=e.turns.length>1?e.turns.slice(0,-1):[],l=new Gn(this.accessor,r,ZM,{query:u,history:c,chatVariables:n}),f=await l.render(i,s),p=l.getReferences();for(let m of p)i.report({reference:m.anchor});return a.addReferences(p),f}},t9=class{constructor(){this.id="explain";this.locations=[2,1];this.description=jPe.t("Explain how the selected code works");this.intentDetectionInput={sampleQuestion:"Write an explanation for the code above as paragraphs of text."}}static{this.ID="explain"}async invoke(e,r,n){let i=(a,u,c,l,f)=>new TS(a,u,c,f),o=r.location,s=await jt(e,o,this.id);if(o===1){let a=r.documentContext,u=new class extends e9{async buildPrompt(l,f,p,m,d,h){let g=l.getLatestTurn();return g?.request.message===""&&(g.request={message:Cee,type:"user"}),super.buildPrompt(l,f,p,m,d,h)}}(e),c=a&&bD.createFactory();return{intent:this,location:o,endpoint:s,promptCrafter:u,createReplyInterpreter:c,responseProcessor:i}}return{intent:this,location:o,endpoint:s,promptCrafter:new e9(e),responseProcessor:i}}async asSlashCommand(e,r){return{command:this.id,detail:this.description,refer:e.get(Be).getConfig(qe.ExplainIntentRefer)}}};var en=Ie(require("vscode"));var u1=class extends en.CodeAction{constructor(){super(...arguments);this.isAI=!0}},l1=class t{constructor(e){this.accessor=e}static{this.providedCodeActionKinds=[en.CodeActionKind.QuickFix]}static getSevereDiagnostics(e){let r=e.filter(n=>n.severity<=en.DiagnosticSeverity.Warning);return r.length===0?[]:r}static getDiagnosticsAsText(e){return e.map(r=>r.message).join(", ")}async provideCodeActions(e,r,n){if(!en.workspace.getConfiguration("github.copilot.editor").get("enableCodeActions"))return;let o=[];if(!en.window.activeTextEditor)return o;let a=t.getSevereDiagnostics(n.diagnostics);if(a.length===0)return o;let u=a.map(d=>d.range).reduce((d,h)=>d.union(h)),c=new en.Selection(u.start,u.end),l=t.getDiagnosticsAsText(a),f=new u1(en.l10n.t("Fix using Copilot"),en.CodeActionKind.QuickFix);f.diagnostics=a,f.command={title:f.title,command:"vscode.editorChat.start",arguments:[{autoSend:!0,message:`/fix ${l}`,position:u.start,initialSelection:c,initialRange:u}]};let p=new u1(en.l10n.t("Explain using Copilot"),en.CodeActionKind.QuickFix);p.diagnostics=a;let m=`/explain ${l}`;return this.accessor.get(Be).getConfig(qe.ExplainIntentRefer)&&(m=`@${o1} ${m}`),p.command={title:p.title,command:"github.copilot.interactiveEditor.explain",arguments:[m]},o.push(f,p),o}},LR=class{static{this.providedCodeActionKinds=[en.CodeActionKind.RefactorRewrite]}constructor(e){this.logger=e.get(Ae).getLogger("RefactorsProvider"),this.ghTelemetryService=e.get(xt),this.parserService=e.get(qn)}async provideCodeActions(e,r,n){if(!en.workspace.getConfiguration("github.copilot.editor").get("enableCodeActions"))return;let o=this.provideGenerateUsingCopilotCodeAction(e,r),s=await this.provideDocumentUsingCopilotCodeAction(e,r),a=await this.provideTestUsingCopilotCodeAction(e,r);return Er([s,o,a])}provideGenerateUsingCopilotCodeAction(e,r){let n;if(r.isEmpty){let o=e.lineAt(r.start.line).text;r.end.character===o.length&&/^\s*$/g.test(o)&&(n=en.l10n.t("Generate using Copilot"))}else{let o=e.getText(r);/^\s*$/g.test(o)||(n=en.l10n.t("Modify using Copilot"))}if(n===void 0)return;let i=new u1(n,en.CodeActionKind.RefactorRewrite);return i.command={title:i.title,command:"vscode.editorChat.start",arguments:[{position:r.start,initialSelection:new en.Selection(r.start,r.end),initialRange:r}]},i}async provideDocumentUsingCopilotCodeAction(e,r){let n=e.offsetAt(r.start),i=e.offsetAt(r.end),o={startIndex:n,endIndex:i},s,a=this.parserService.getTreeSitterAST(e);if(a)try{s=await a.getDocumentableNodeIfOnIdentifier(o)}catch(f){this.logger.exception(f,"RefactorsProvider: getDocumentableNodeIfOnIdentifier failed"),this.ghTelemetryService.sendExceptionTelemetry(f,"RefactorsProvider: getDocumentableNodeIfOnIdentifier failed")}if(s===void 0)return;let u=en.l10n.t("Document using Copilot: {0}",s.identifier),c=new u1(u,en.CodeActionKind.RefactorRewrite),l=s.nodeRange===void 0?void 0:new ze(e.positionAt(s.nodeRange.startIndex),e.positionAt(s.nodeRange.endIndex));return c.command={title:u,command:"vscode.editorChat.start",arguments:[{autoSend:!0,message:"/doc",initialRange:l}]},c}async provideTestUsingCopilotCodeAction(e,r){let n=e.offsetAt(r.start),i=e.offsetAt(r.end),o={startIndex:n,endIndex:i},s,a=this.parserService.getTreeSitterAST(e);if(a)try{s=await a.getTestableNode(o)}catch(f){this.logger.exception(f,"RefactorsProvider: getTestableNode failed"),this.ghTelemetryService.sendExceptionTelemetry(f,"RefactorsProvider: getTestableNode failed")}if(s===void 0)return;let u=en.l10n.t("Test using Copilot: {0}",s.identifier),c=new u1(u,en.CodeActionKind.RefactorRewrite),l=s.nodeRange===void 0?void 0:new ze(e.positionAt(s.nodeRange.startIndex),e.positionAt(s.nodeRange.endIndex));return c.command={title:u,command:"vscode.editorChat.start",arguments:[{autoSend:!0,message:"/tests",initialRange:l}]},c}};var VPe=require("util"),f1=Ie(require("vscode"));var Wat="application/vnd.code.notebook.error",r9=class{constructor(e){this.accessor=e}async provideCellStatusBarItems(e,r){if(e.kind===f1.NotebookCellKind.Markup){let o=f1.workspace.getConfiguration("notebook.experimental").get("cellChat");if(!o)return[];let s=e.document.getText().trim();if(!o||s.length===0)return[];let a="Generate code from markdown content",u=s;return[{text:"$(sparkle)",alignment:f1.NotebookCellStatusBarAlignment.Left,priority:Number.MAX_SAFE_INTEGER-1,tooltip:a,command:{title:a,command:"notebook.cell.insertCodeCellWithChat",arguments:[{index:e.index+1,input:u,autoSend:!0}]}}]}let n=e.outputs.flatMap(o=>o.items).find(o=>o.mime===Wat);if(!n)return[];let i;try{let o=new VPe.TextDecoder;if(i=JSON.parse(o.decode(n.data)),!i.name&&!i.message)return[];let s="Fix using Copilot",a=[i.name,i.message].filter(Boolean).join(": ").replace(/\s*\(\S+,\s*line\s*\d+\)/,"");return[{text:"$(sparkle)",alignment:f1.NotebookCellStatusBarAlignment.Left,priority:Number.MAX_SAFE_INTEGER-1,tooltip:s,command:{title:s,command:"vscode.editorChat.start",arguments:[{autoSend:!0,message:`/fix ${a}`}]}}]}catch(o){this.accessor.get(Ae).defaultLogger.error(`Failed to parse error output ${o}`)}return[]}};function zPe(t){let e=new rn,r=a=>{let u=`@${o1} /explain `;if(typeof a=="string"&&a)u=a;else{let c=to.getCurrentSelection(t.get(Wr));if(c){let l=Fn.languages.getDiagnostics(c.activeDocument.uri),f=l.filter(m=>!!m.range.intersection(c.range));l1.getSevereDiagnostics(f).length?u+=l1.getDiagnosticsAsText(l):(u+=Cee,u+=UC.formatSelection({languageId:c.languageId,selectedText:c.selectedText}))}}Fn.interactive.sendInteractiveRequestToProvider("copilot",{message:u})},n=()=>Fn.commands.executeCommand("vscode.editorChat.start",{message:"/generate "}),i=()=>Fn.commands.executeCommand("vscode.editorChat.start",{message:`/${c1.ID} `,autoSend:!0,initialRange:Fn.window.activeTextEditor?.selection}),o=()=>Fn.commands.executeCommand("vscode.editorChat.start",{message:"/tests ",autoSend:!0,initialRange:Fn.window.activeTextEditor?.selection}),s=()=>{let a=Fn.window.activeTextEditor;if(!a)return;let u=a.selection,c=Fn.languages.getDiagnostics(a.document.uri).filter(l=>!!u.intersection(l.range)).map(l=>l.message).join(", ");return Fn.commands.executeCommand("vscode.editorChat.start",{message:`/fix ${c}`,autoSend:!0,initialRange:Fn.window.activeTextEditor?.selection})};return e.add(Fn.commands.registerCommand("github.copilot.interactiveEditor.explain",r)),e.add(Fn.commands.registerCommand("github.copilot.interactiveEditor.generate",n)),e.add(Fn.commands.registerCommand("github.copilot.interactiveEditor.generateDocs",i)),e.add(Fn.commands.registerCommand("github.copilot.interactiveEditor.generateTests",o)),e.add(Fn.commands.registerCommand("github.copilot.interactiveEditor.fix",s)),e.add(Fn.languages.registerCodeActionsProvider("*",new l1(t),{providedCodeActionKinds:l1.providedCodeActionKinds})),e.add(Fn.languages.registerCodeActionsProvider("*",new LR(t),{providedCodeActionKinds:LR.providedCodeActionKinds})),e.add(Fn.notebooks.registerNotebookCellStatusBarItemProvider("jupyter-notebook",new r9(t))),e}var Lo=Ie(require("vscode"));var YPe=Ie(require("util")),O0=require("vscode");var OR=new Map;async function $Pe(t){t.get(vo).subscriptions.push(new O0.Disposable(()=>OR.forEach(r=>r.dispose()))),Iee(t)}var Kat=["default","githubissue"],n9;async function Iee(t){return n9||(n9=Xat(t)),n9.finally(()=>n9=void 0)}async function Xat(t){let e=t.get(Ae).getLogger("RemoteAgents");if(!t.get(Be).getConfig(qe.EnableRemoteAgents))return;let n=t.get(Be).getConfig(qe.AgentsEndpointUrl),i=new Set(OR.keys());try{let o=await t.get(gt).getAnyGitHubToken(),a=await(await t.get(Yr).fetch(`${n}/agents`,{method:"GET",headers:{Authorization:YPe.format("Bearer %s",o),...t.get(Vt).getEditorVersionHeaders()}})).text(),u;try{u=JSON.parse(a).agents}catch(c){e.warn(`Invalid remote agent response: ${a} (${c})`);return}for(let c of u)Kat.includes(c.slug.toLowerCase())||i.delete(c.slug)||OR.set(c.slug,Jat(t,e,c,n))}catch(o){e.warn(`Failed to load remote slash commands: ${o}`)}for(let o of i)OR.get(o).dispose(),OR.delete(o)}function Qat(t,e){return e.history.filter(r=>r.request.agentId===t).flatMap(r=>{let n={role:"user",content:r.request.prompt},i=r.response.map(s=>"content"in s?s.content:null).filter(s=>!!s).join(""),o={role:"assistant",content:i};return[n,o]})}function Jat(t,e,r,n){let i=O0.chat.createChatAgent(r.slug,async(o,s,a,u)=>{try{let c=new nI(`${n}/agents/${r.slug}?chat`,"gpt-3.5-turbo",4096),f=await t.get(ef).resolveVariablesInPrompt(o.prompt,o.variables),p=await t.get(Tr).fetchMany([...Qat(r.slug,s),{role:"user",content:f.message,intent:"conversation"}],async(m,d,h)=>{a.report({content:h.text})},u,2,c,{secretKey:await t.get(gt).getAnyGitHubToken()});return p.type!=="success"?(e.warn(`Bad response from /agents/${r.slug}: ${p.type} ${p.reason}`),p.reason.includes("400 no docs found")?{errorDetails:{message:"No docs found"}}:{errorDetails:{message:p.reason}}):{}}catch(c){return e.warn(`/agents/${r.slug} failed: ${c}`),{}}});return i.description=r.description,i.fullName=r.name,i.iconPath=ga.parse(r.avatar_url),i.agentVariableProvider={triggerCharacters:["#"],provider:{async provideCompletionItems(o,s){return(await Zat(t,r.slug,o,e,s)).map(u=>{let c="#"+u.replace(/ /g,""),l=new O0.ChatAgentCompletionItem("#"+u,[{value:c,level:O0.ChatVariableLevel.Full,description:"",kind:"github.docset"}]);return l.insertText=c,l})}}},i}async function Zat(t,e,r,n,i){let a={url:`${t.get(Be).getConfig(qe.AgentsEndpointUrl)}/agents/autocomplete`,modelMaxPromptTokens:0};r.startsWith("#")&&(r=r.substring(1));let c=await t.get(gt).getAnyGitHubToken(),f=await(await jm(t,a,c??"",void 0,Ri(),{agents:[e],query:r},i)).text();try{let p=JSON.parse(f);if(p===null)return[];if(!Array.isArray(p))throw new Error("Expected array");return p.map(m=>m.metadata.display_name)}catch(p){return n.warn(`Invalid autocomplete response (${p.toString()}): ${f}`),[]}}var i9=class{constructor(e,r){this.accessor=e;this.options=r;this.hasShownWelcomeMessage=!1;this.isInternal=!1}getLastSession(){return this.lastSession}async prepareSession(e){if(!this.username){let o=await Pv(this.accessor.get(Be));this.isInternal=(await this.accessor.get(gt).getCopilotToken(this.accessor))?.isInternal,this.username=o?.account?.label}Iee(this.accessor);let r=Ri(),n=new ES(this.accessor,()=>Lo.window.createOutputChannel("GitHub Copilot Chat Conversation",{log:!0})),i=new wS(this.accessor,this.options,this.username,n,this.isInternal,r);return this.lastSession=i,i}async provideSampleQuestions(e){let r=Lo.window.activeNotebookEditor||Lo.window.activeTextEditor?tct():WPe([["","/help",Lo.l10n.t("What can you do?")]]);return ect([...r],this.accessor,"welcome"),r}async provideWelcomeMessage(e){let r=wee(),i=this.accessor.get(Be).getConfig(qe.WelcomeMessage),o=Lo.l10n.t({message:"I'm powered by AI, so surprises and mistakes are possible. Make sure to verify any generated code or suggestions, and [share feedback]({0}) so that we can learn and improve. Check out the [{1} documentation]({2}) to learn more.",args:[r,"Copilot","https://code.visualstudio.com/docs/editor/github-copilot#_chat-view"],comment:["{Locked=']({'}","the [text](url) is a markdown link syntax. Do not add any additional spaces between ] and ("]}),s=this.username?" **@"+this.username+"**":"";if(i==="never"||this.hasShownWelcomeMessage&&i==="first")return[Lo.l10n.t("Hi{0}, how can I help you?",s)];this.hasShownWelcomeMessage=!0;let a="workbench.action.quickchat.launchInlineChat",u=Lo.window.activeNotebookEditor||Lo.window.activeTextEditor?Lo.l10n.t("You can also [start an inline chat session]({0}).",`command:${a}`):"",c=new Lo.MarkdownString(Lo.l10n.t("Welcome,{0}, I'm your {1} and I'm here to help you get things done faster. {2}",s,"Copilot",u));return c.isTrusted={enabledCommands:[a]},[c,o]}};function ect(t,e,r){t.map(n=>{EN(e,n.message,r,n.metadata.suggestionId,Lo.window.activeTextEditor?.document)})}function wee(){return"https://aka.ms/microsoft/vscode-copilot-release"}function tct(){let t="@workspace ";return WPe([[t,"/fix",Lo.l10n.t("the problems in my code")],[t,"/tests",Lo.l10n.t("add unit tests for my code")],[t,"/explain",Lo.l10n.t("how the selected code works")]])}function WPe(t){return t.map(([e,r,n])=>({message:e+r+" ",title:r+" "+n,metadata:{messageId:"welcome",suggestionId:Ri(),suggestionType:"Follow-up from model"}}))}var KPe=require("util"),bt=require("vscode");var Oo=require("vscode"),MR=class{constructor(e){this.contentManager=e;this._onDidChangeFile=new Oo.EventEmitter;this.onDidChangeFile=this._onDidChangeFile.event}async stat(e){let r=this.contentManager.get(e);if(!r)throw Oo.FileSystemError.FileNotFound(e);let n=await r.content?.then(i=>i?.length)??0;return{ctime:r.ctime??0,mtime:r.ctime??0,size:n,type:r.children?Oo.FileType.Directory:Oo.FileType.File,permissions:Oo.FilePermission.Readonly}}readDirectory(e){let r=this.contentManager.get(e);if(!r)throw Oo.FileSystemError.FileNotFound(e);return r.children?.map(n=>[n.label,n.children?Oo.FileType.Directory:Oo.FileType.File])??[]}async readFile(e){let r=this.contentManager.get(e);if(!r)throw Oo.FileSystemError.FileNotFound(e);let n;try{n=await r.content}catch{}return n??new Uint8Array}watch(e,r){return{dispose(){}}}createDirectory(e){throw Oo.FileSystemError.NoPermissions(e)}writeFile(e,r,n){throw Oo.FileSystemError.NoPermissions(e)}delete(e,r){throw Oo.FileSystemError.NoPermissions(e)}rename(e,r,n){throw Oo.FileSystemError.NoPermissions(r)}copy(e,r,n){throw Oo.FileSystemError.NoPermissions(r)}};function XPe(t,e){return bt.Disposable.from(bt.workspace.registerFileSystemProvider("vscode-copilot-workspace",new MR(t.get(Yu)),{isReadonly:new bt.MarkdownString(bt.l10n.t(`This file preview was generated by Copilot and may contain surprises or mistakes.

Ask followup questions to refine it, then press Create Workspace.`))}),bt.workspace.registerFileSystemProvider("vscode-copilot-github-workspace",new MR(t.get(Yu)),{isReadonly:!0}),bt.commands.registerCommand("github.copilot.createProject",async(r,n,i)=>{let o=t.get(p1).getLastInteractiveSession(),s=(await bt.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,openLabel:"Select as Parent Folder"}))?.[0];if(!s)return;let a=r[0].path,u=await rct(s,a),c=new RegExp(a,"g"),l=[];bt.window.tabGroups.all.forEach(f=>{f.tabs.forEach(p=>{p.input instanceof bt.TabInputText&&p.input.uri.scheme==="vscode-copilot-workspace"&&l.push(p)})}),bt.window.tabGroups.close(l,!0),await bt.window.withProgress({location:bt.ProgressLocation.Notification,cancellable:!0},async(f,p)=>{for(let d of r){let h=d.path.replace(c,u),g=bt.Uri.joinPath(s,h);switch(d.type){case bt.FileType.Directory:{f.report({message:bt.l10n.t("Creating folder {0}...",h)}),await bt.workspace.fs.createDirectory(g);break}case bt.FileType.File:{f.report({message:bt.l10n.t("Creating file {0}...",h)});let v=Uq(n,d.path,i),_=await bt.workspace.fs.readFile(v),y=bt.Uri.joinPath(s,h);await bt.workspace.fs.writeFile(y,Buffer.from(_));break}default:break}}let m=bt.Uri.joinPath(s,u);o!==void 0&&bt.interactive.transferChatSession(o,m),t.get(Ae).getLogger("newIntent").info("Opening folder: "+m.fsPath);try{await ict(m)}catch{}await bt.commands.executeCommand("vscode.openFolder",m)})}))}async function rct(t,e){let r=0,n=!0,i=e;for(;n;)try{await bt.workspace.fs.stat(bt.Uri.joinPath(t,i)),i=e+"-"+ ++r}catch{n=!1}return i}async function nct(t){try{return await bt.workspace.fs.stat(t),!0}catch{return!1}}async function ict(t){let e=oct();if(e)if(await nct(e)){let r=await bt.workspace.fs.readFile(e).then(i=>new KPe.TextDecoder().decode(i)),n=JSON.parse(r);n.push(t.toString()),await bt.workspace.fs.writeFile(e,Buffer.from(JSON.stringify(n,null,2)))}else await bt.workspace.fs.writeFile(e,Buffer.from(JSON.stringify([t.toString()],null,2)))}function oct(){let t=bt.env.appName.indexOf("Insider")>0||bt.env.appName.indexOf("Code - OSS Dev")>=0?"Code - Insiders":"Code",e=bt.Uri.file(process.env.HOME||(process.env.USERPROFILE?process.env.USERPROFILE:""));switch(process.platform){case"darwin":return bt.Uri.joinPath(e,"Library","Application Support",t,"User","workspaceStorage","aiGeneratedWorkspaces.json");case"linux":return bt.Uri.joinPath(e,".config",t,"User","workspaceStorage","aiGeneratedWorkspaces.json");case"win32":return process.env.APPDATA?bt.Uri.joinPath(bt.Uri.file(process.env.APPDATA),t,"User","workspaceStorage","aiGeneratedWorkspaces.json"):void 0;default:return}}async function QPe(t,e){let r=t.get(Wr),n=t.get(di),i=t.get(Ja),o=t.get(ot),s=t.get(_s),a=t.get($l),u=t.get(ec),c=o.getWorkspaceFolders().map(v=>v.fsPath+"/"),l=o.notebookDocuments.map(v=>v.uri.fsPath),p=(await Promise.all(e.map(v=>i.getWorkspaceSymbols(v)))).flat().map(v=>({name:v.name,kind:v.kind,containerName:v.containerName,filePath:v.location.uri.fsPath,start:v.location.range.start,end:v.location.range.end})),m=r.activeTextEditor?n.getDiagnostics(r.activeTextEditor.document.uri).map(v=>({start:v.range.start,end:v.range.end,message:v.message,severity:v.severity,relatedInformation:v.relatedInformation?.map(sct)})):[],d=r.activeTextEditor?{selections:r.activeTextEditor?.selections.map(v=>({anchor:v.anchor,active:v.active,isReversed:v.isReversed}))??[],documentFilePath:r.activeTextEditor?.document.uri.fsPath??"",visibleRanges:r.activeTextEditor?.visibleRanges.map(v=>({start:v.start,end:v.end}))??[],languageId:r.activeTextEditor?.document.languageId??"javascript"}:void 0,h=s.terminalLastCommand?{commandLine:s.terminalLastCommand.commandLine,cwd:typeof s.terminalLastCommand.cwd=="object"?s.terminalLastCommand.cwd.toString():s.terminalLastCommand.cwd,exitCode:s.terminalLastCommand.exitCode,output:s.terminalLastCommand.output}:void 0;return{workspaceFoldersFilePaths:c,symbols:p,activeFileDiagnostics:m,activeTextEditor:d,debugConsoleOutput:a.consoleOutput,terminalBuffer:s.terminalBuffer,terminalLastCommand:h,terminalSelection:s.terminalSelection,terminalShellType:s.terminalShellType,repoContexts:u.repositories,notebookDocumentFilePaths:l}}function sct(t){return{filePath:t.location.uri.fsPath,start:t.location.range.start,end:t.location.range.end,message:t.message}}var p1=class{constructor(e){this.accessor=e;this._disposables=new rn;if(this.logger=e.get(Ae).getLogger("chat"),this._enabled=!1,this._activated=!1,ge.interactive?._version!==1){this.logger.warn("Not activating ConversationFeature- api version mismatch");return}this.registerCopilotTokenListener(e)}get enabled(){return this._enabled}set enabled(e){e&&!this.activated&&(this.activated=!0),this._enabled=e,ge.commands.executeCommand("setContext","github.copilot.interactiveSession.disabled",!e)}get activated(){return this._activated}set activated(e){if(this._activated!==e)if(this._activated=e,!e)this._disposables.clear();else{let r=this.accessor.get(Mc);this._disposables.add(this.registerProviders(r)),this._disposables.add(this.registerCommands(r)),this._disposables.add(this.registerRelatedInformationProviders()),this._disposables.add(this.registerChatVariables())}}getLastInteractiveSession(){return this.interactiveSessionProvider?.getLastSession()}dispose(){this._activated=!1,this._disposables.dispose()}[Symbol.dispose](){this.dispose()}registerProviders(e){let r=new rn;try{r.add(ge.chat.registerChatResponseProvider("copilot",new WM(this.accessor),{name:"gpt-3.5-turbo"})),this.interactiveSessionProvider=new i9(this.accessor,e),r.add(ge.interactive.registerInteractiveSessionProvider("copilot",this.interactiveSessionProvider)),this.interactiveEditorSessionProvider=new YM(this.accessor,e.rejectionMessage),r.add(ge.interactive.registerInteractiveEditorSessionProvider(this.interactiveEditorSessionProvider,{supportReportIssue:this.accessor.get(Be).getConfig(qe.DebugReportFeedback)})),r.add({dispose:()=>{this.interactiveEditorSessionProvider=void 0,this.interactiveSessionProvider=void 0}}),"registerMappedEditsProvider"in ge.chat&&r.add(ge.chat.registerMappedEditsProvider("*",new QM)),this.accessor.get(wP).register(e).then(n=>{r.isDisposed?n.dispose():r.add(n)}).catch(n=>{this.logger.error("Registration of chat agents failed:",n.toString())})}catch(n){this.logger.error("Registration of interactive providers failed:",n.toString())}return r}registerCommands(e){let r=new rn,n=o=>"body"in o&&(o.body instanceof ge.MarkdownString||typeof o.body=="string"),i=o=>"range"in o&&o.range instanceof ge.Range;return[ge.commands.registerCommand("github.copilot.interactiveSession.feedback",async()=>ge.env.openExternal(ge.Uri.parse(wee()))),ge.commands.registerCommand("github.copilot.ghpr.applySuggestion",async(o,s)=>{if(!n(o)||!i(s))return;let a=o.body instanceof ge.MarkdownString?o.body.value:o.body;await ge.commands.executeCommand("vscode.editorChat.start",{initialRange:s.range,message:a,autoSend:!0})}),ge.commands.registerCommand("github.copilot.debug.workbenchState",async()=>{let o=await ge.window.showInputBox({prompt:"Enter a comma-separated list of symbol queries. Can be left blank if not using WorkspaceSymbols"}),s=await ge.window.showInputBox({prompt:"Enter a file name - .state.json will be appended as the extension",value:"workspaceState"});if(!s)return;let a=await QPe(this.accessor,o?.split(",")??[]);if(!a)return;let u=ge.workspace.workspaceFolders?.[0].uri;if(!u)return;let c=ge.Uri.joinPath(u,`${s}.state.json`),l=JSON.stringify(a,null,2);l=l.replace(new RegExp(`${u.fsPath}/`,"g"),"./"),ge.workspace.fs.writeFile(c,Buffer.from(l))}),ge.commands.registerCommand("github.copilot.terminal.explainTerminalSelection",async()=>await ge.commands.executeCommand("workbench.action.quickchat.toggle",{query:`@${kl} #terminalSelection`})),ge.commands.registerCommand("github.copilot.terminal.explainTerminalSelectionContextMenu",()=>ge.commands.executeCommand("github.copilot.terminal.explainTerminalSelection")),ge.commands.registerCommand("github.copilot.terminal.explainTerminalLastCommand",async()=>await ge.commands.executeCommand("workbench.action.quickchat.toggle",{query:`@${kl} #terminalLastCommand`})),ge.commands.registerCommand("github.copilot.terminal.suggestCommand",async()=>{await ge.commands.executeCommand("workbench.action.quickchat.toggle",{query:`@${kl} `,isPartialQuery:!0})}),ge.commands.registerCommand("github.copilot.terminal.generateCommitMessage",async()=>{let o=this.accessor.get(CN),s=ge.workspace.workspaceFolders;if(!s?.length)return;let a=s.length===1?s[0].uri:await ge.window.showWorkspaceFolderPick().then(d=>d?.uri);if(!a)return;let u=await o.getRepositoryDiff(a);if(!u?.length){ge.window.showInformationMessage("No changes to commit.");return}let c=new K1,f=await new Lb(this.accessor).generateGitCommitMessage(u,3,c.token);if(!f||c.token.isCancellationRequested)return;let m=`git commit -m "${f.replace(/"/g,'\\"').replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}"`;ge.window.activeTerminal?.sendText(m,!1)}),ge.commands.registerCommand("github.copilot.git.generateCommitMessage",async(o,s,a)=>{await this.accessor.get(Eh).generateCommitMessage(o,a)}),ge.commands.registerCommand(PR,async o=>{let s=ge.workspace.workspaceFolders?.[0].uri;if(!s)return;let a=ge.Uri.joinPath(s,o);if(this.accessor.get(pt).sendMSFTTelemetryEvent("panel.action.filelink"),await u(a))await ge.commands.executeCommand("revealInExplorer",a);else return ge.commands.executeCommand("vscode.open",a);async function u(c){if(a.path.endsWith("/"))return!0;try{return(await ge.workspace.fs.stat(c)).type===ge.FileType.Directory}catch{return!1}}}),ge.commands.registerCommand(NR,async(o,s,a)=>{if(a??=ge.workspace.workspaceFolders?.[0].uri,!a)return;let u=ge.Uri.joinPath(a,o),c=await ge.commands.executeCommand("vscode.executeDocumentSymbolProvider",u);if(c){let l=JPe(c,s);if(this.accessor.get(pt).sendMSFTTelemetryEvent("panel.action.symbollink",{},{hadMatch:l?1:0}),l){let f=l instanceof ge.SymbolInformation?l.location.range:l.selectionRange;return ge.commands.executeCommand("vscode.open",u,{selection:new ge.Range(f.start,f.start)})}}return ge.commands.executeCommand("vscode.open",u)}),MPe((o,s,a)=>{let u=/(?<!\[)`([^`\s]+)`(?!\])/g;return new class{constructor(){this.fileSymbols=new ma(async()=>{let l=new PP;for(let p of o)l.add(Pt.isUri(p.anchor)?p.anchor:p.anchor.uri);let f=new li;return await Promise.all(Array.from(l,async p=>{let m=await Lp(Promise.resolve(ge.commands.executeCommand("vscode.executeDocumentSymbolProvider",p)),5e3);m&&f.set(p,m)})),f});this.resolvedSymbols=new Map}async linkify(l,f){if(!s.length)return l;let p=new Set;for(let[m,d]of l.matchAll(u))this.resolvedSymbols.has(d)||p.add(d);if(p.size){let m=await this.fileSymbols.value;if(f?.isCancellationRequested)return l;for(let d of p){let h;for(let[g,v]of m){let _=v&&JPe(v,d);if(_){h=_ instanceof ge.SymbolInformation?_.location:new ge.Location(g,_.range);break}}this.resolvedSymbols.set(d,h)}}return l.replace(u,(m,d)=>{let h=this.resolvedSymbols.get(d);if(h){let g=toe(s[0],h.uri);if(g)return mee(d,g)}return m})}}}),zPe(this.accessor),cct(),act(this.accessor,e),XPe(this.accessor,e),lct(this.accessor),uct()].forEach(o=>r.add(o)),r}registerRelatedInformationProviders(){let e=new rn;return[ge.ai.registerRelatedInformationProvider(ge.RelatedInformationType.CommandInformation,this.accessor.get(vh)),ge.ai.registerRelatedInformationProvider(ge.RelatedInformationType.SettingInformation,this.accessor.get(_h))].forEach(r=>e.add(r)),e}registerChatVariables(){let e=new rn;return this.accessor.get(Xp).getVariables().forEach(r=>{e.add(ge.chat.registerVariable(r.name,r.description??"",{resolve:async(n,i,o)=>{let s={endpoint:await jt(this.accessor,3),message:i.prompt},a=await r.resolve(this.accessor,s,o);return a?[{level:ge.ChatVariableLevel.Full,value:a.userMessages.join(`

`),description:""}]:[]}}))}),e}registerCopilotTokenListener(e){e.get(Go).onCopilotToken(r=>{this.logger.info(`copilot token chat_enabled: ${r.envelope.chat_enabled}`),this.enabled=r.envelope.chat_enabled??!1})}};function act(t,e){let r=t.get(Be);return ge.commands.registerCommand("github.copilot.newNotebook",async n=>{let i=r.getConfig(qe.NotebookIterativeImproving);await ge.window.withProgress({location:ge.ProgressLocation.Notification},async o=>{let s=new ge.NotebookData([]);s.metadata={custom:{cells:[],metadata:{orig_nbformat:4},nbformat:4,nbformat_minor:2}};let a=await ge.workspace.openNotebookDocument("jupyter-notebook",s),u=await ge.window.showNotebookDocument(a);o.report({message:ge.l10n.t("Generating notebook...")});let c=n.description,l=n.sections,f=await jt(t,2);for(let p of l){let m=u.notebook.getCells().filter(b=>b.kind===ge.NotebookCellKind.Code).map(b=>b.document.getText()).join(`
`),d=new ge.CancellationTokenSource;o.report({message:ge.l10n.t('Generating section "{0}"...',p.title)});let h=await HPe(t,f,e,c,p,m,d.token);if(!h)return;h=h.trim();let g=/```([a-zA-Z]+)?\s*([\s\S]+?)\s*```$/.exec(h);if(g&&g.length>2&&(h=g[2]),i){o.report({message:ge.l10n.t('Improving code for section "{0}"...',p.title)});let b=await GPe(t,f,e,c,p,m,h,d.token);if(!b)return;h=b}let v=new ge.NotebookCellData(ge.NotebookCellKind.Markup,`# ${p.title}
${p.content}`,"markdown"),_=new ge.NotebookCellData(ge.NotebookCellKind.Code,h,"python"),y=ge.NotebookEdit.insertCells(a.cellCount,[v,_]),x=new ge.WorkspaceEdit;x.set(a.uri,[y]),await ge.workspace.applyEdit(x),u.revealRange(new ge.NotebookRange(a.cellCount-1,a.cellCount),ge.NotebookEditorRevealType.Default),u.selection=new ge.NotebookRange(a.cellCount-1,a.cellCount)}o.report({increment:100})})})}function cct(){let t=new rn;return t.add(ge.window.registerTerminalQuickFixProvider("copilot-chat.fixWithCopilot",{provideTerminalQuickFixes(e,r){return[{command:"github.copilot.terminal.explainTerminalLastCommand",title:ge.l10n.t("Explain using Copilot")}]}})),t.add(ge.window.registerTerminalQuickFixProvider("copilot-chat.generateCommitMessage",{async provideTerminalQuickFixes(e,r){return[{command:"github.copilot.terminal.generateCommitMessage",title:ge.l10n.t("Generate Commit Message")}]}})),t}function uct(){return ge.commands.registerCommand("github.copilot.executeSearch",async t=>{let e=t.filesToExclude.length>0||t.filesToInclude.length>0;ge.commands.executeCommand("workbench.view.search.focus").then(()=>ge.commands.executeCommand("workbench.action.search.toggleQueryDetails",{show:e})),ge.commands.executeCommand("workbench.action.findInFiles",t)})}function lct(t){return new XM(t)}function o9(t,e){if(!e.length)return;let r;for(let n of t)if(n.children){let i=n.name===e[0]?{symbol:n,matchCount:1}:void 0;if(i){let a=o9(n.children,e.slice(1));a&&(i={symbol:a.symbol,matchCount:i.matchCount+a.matchCount})}let o=o9(n.children,e),s;i&&o?s=i.matchCount>=o.matchCount?i:o:s=i??o,s&&(!r||s.matchCount>r?.matchCount)&&(r=s)}else n.name===e[0]&&(r??={symbol:n,matchCount:1});return r}function JPe(t,e){function r(n){return Array.from(n.matchAll(/[\w$][\w\d$]*/g),i=>i[0])}return(o9(t,[e])??o9(t,r(e)))?.symbol}var Sl=Ie(require("vscode"));var Aee="---------------------------------",s9=class extends sf{constructor(r){super();this.accessor=r}async _canReport(){return!(!this.accessor.get(Be).getConfig(qe.DebugReportFeedback)||!(await this.accessor.get(gt).getCopilotToken(this.accessor))?.isInternal)}async reportInline(r,n,i){if(!await this._canReport())return;let o=r.getLatestTurn();if(!o)return;let s=n.intent?this._embedCodeblock("INTENT",JSON.stringify(n.intent,null,"	")):"",a=this._embedCodeblock("CONTEXT",JSON.stringify({document:n.document.uri.toString(),fileIndentInfo:n.fileIndentInfo,language:n.language,wholeRange:n.wholeRange,selection:n.selection},null,"	")),u="",c=o.chatMessages;if(c&&c.length>0){let d=c.map(h=>this._embedCodeblock(h.role.toUpperCase(),h.content)).join(`
`);u=`	${Aee}
${this._headerSeparator()}PROMPT MESSAGES:
${d}`}else u=this._embedCodeblock(o.request.type.toUpperCase(),o.request.message);let l=this._embedCodeblock("ASSISTANT",o.response?.message||""),f=this._embedCodeblock("Parsed response",JSON.stringify(i,null,"	")),p=`${s}
${a}
${u}
${l}
${f}
`,m=`
* VS Code version: ${Sl.version}
* Language: ${Sl.env.language}

<details><summary>Details</summary>
<p>

${p}

</p>
</details>
`;await this._reportIssue("Feedback for inline chat",m)}async reportChat(r){if(!await this._canReport())return;let n=r.getLatestTurn();if(!n)return;let i="",o=n.chatMessages;if(o&&o.length>0){let l=o.map(f=>this._embedCodeblock(f.role.toUpperCase(),f.content)).join(`
`);i=`	${Aee}
${this._headerSeparator()}PROMPT MESSAGES:
${l}`}else i=this._embedCodeblock(n.request.type.toUpperCase(),n.request.message);let s=n.intentInvocation?.intent?this._embedCodeblock("INTENT",`[${n.intentInvocation.intent.id}] ${n.intentInvocation.intent.description}`):"",a=this._embedCodeblock("ASSISTANT",n.response?.message||""),u=`${s}
${i}
${a}
`,c=`
* VS Code version: ${Sl.version}
* Language: ${Sl.env.language}

<details><summary>Details</summary>
<p>

${u}

</p>
</details>`;await this._reportIssue("Feedback for sidebar chat",c)}_embedCodeblock(r,n){let i=this._bodySeparator()+n.split(`
`).join(`
${this._bodySeparator()}`);return`	${Aee}
${this._headerSeparator()}${r}:
${i}`}_headerSeparator(){return"	"}_bodySeparator(){return"		"}async _reportIssue(r,n){let i=encodeURIComponent(r);await Sl.env.clipboard.writeText(n);let o=encodeURIComponent("We have written the needed data into your clipboard because it was too large to send. Please paste."),s=`https://github.com/microsoft/vscode-copilot/issues/new?title=${i}&body=${o}`;Sl.env.clipboard.writeText(n),Sl.env.openExternal(Sl.Uri.parse(s))}};var FR=Ie(require("vscode")),a9=class{constructor(){this._disposables=[];this._disposables.push(...this.initializeGitExtensionApi())}initializeGitExtensionApi(){let e=[],r=FR.extensions.getExtension("vscode.git"),n=async()=>{let i=await r.activate(),o=s=>{this._gitExtensionApi=s?i.getAPI(1):void 0};e.push(i.onDidChangeEnablement(o)),o(i.enabled)};if(r)n();else{let i=FR.extensions.onDidChange(()=>{!r&&FR.extensions.getExtension("vscode.git")&&(r=FR.extensions.getExtension("vscode.git"),n(),i.dispose())})}return e}async getRepositoryDiff(e){let r=await this._getRepository(e);if(!r)return;let n=[];if(r.state.indexChanges.length!==0)for(let i of r.state.indexChanges.map(o=>o.uri.fsPath))n.push(await r.diffIndexWithHEAD(i));else for(let i of r.state.workingTreeChanges.map(o=>o.uri.fsPath))n.push(await r.diffWithHEAD(i));return n}async _getRepository(e){return await this._gitExtensionApi?.openRepository(e)??void 0}dispose(){this._disposables.forEach(e=>e.dispose())}};var Ree=Ie(vn());var c9=class extends oh{constructor(){super({location:2,id:"api",description:Ree.t("Ask about VS Code extension development"),systemPromptOptions:{roleplay:"You are an expert in VS Code extension development. You know how to use the VS Code API to extend the editor. Your task is to help the Developer with their VS Code extension development."},modelSampleQuestion:"How do I add text to the status bar?",commandInfo:{sampleRequest:Ree.t("How do I add text to the status bar?")},rules:`
Assume the question is about VS Code extension development.
Politely decline to answer if the question is not about VS Code extension development.
Please do not guess a response and instead just respond with a polite apology if you are unsure.
If you believe the API related context given to you is incorrect or not relevant you may ignore it.
The user cannot see the API context you are given, so you must not mention it. If you want to refer to it, you must include it in your reply.
Do not talk about initial setup of creating an extension unless the user asks about it.
Only provide information to related VS Code extension development.`.trim(),contextResolvers:[oae,bh]})}};var tNe=Ie(vn());var u9=class extends Ue{render(e,r){return vscpp(vscppf,null,vscpp(_r,{priority:1e3},"You are a VS Code search expert who helps to write search queries for text in a workspace. Users want to search across a whole workspace. Your response will contain parameters to use in the search that targets what the user wants.",vscpp("br",null),tc(),vscpp(Kr,null),vscpp("br",null),yv(),Gs(this.accessor),vscpp("br",null),vscpp("br",null),"Additional Rules",vscpp("br",null),"The user's question is ALWAYS related to search or replace. When the user's question does not seem to be related to searching or replacing, you MUST assume that they're searching for or replacing what they are describing.",vscpp("br",null),`For example, if the user says "emojis", try appending "I'm looking for _____" to the beginning (e.g. I'm looking for emojis) to make more sense of it.`,vscpp("br",null),vscpp("br",null),"For all valid questions, you MUST respond with a JSON object with search parameters to use.",vscpp("br",null),'- Your answer MUST wrap the JSON object in "[ARGS START]" and "[ARGS END]". "[ARGS START]" must be on a new line.',vscpp("br",null),'- Your answer MUST have an explanation in full, human-readable sentences. This goes before the "[ARGS START]" line.',vscpp("br",null),vscpp("br",null),'If you put a regex in the "query" parameter, make sure to set "isRegex" to true.',vscpp("br",null),'If you put a regex in the "query" parameter, do not start and/or end with forward slashes to denote a regex literal.',vscpp("br",null),"You MUST NOT give an answer with an empty-string query parameter.",vscpp("br",null),vscpp("br",null),'The "replace" string will be used to replace the query-matched search results.',vscpp("br",null),vscpp("br",null),'If you want to target certain files, set "filesToInclude" to a glob pattern. DO NOT assume the "filesToInclude" and "filesToExclude" without being very sure that the user wants to target these files!',vscpp("br",null),vscpp("br",null),'If the query is case sensitive, set "isCaseSensitive" to true.',vscpp("br",null),vscpp("br",null),"By default, all string fields are the empty string, and all boolean fields are false. Only list the fields you want to change.",vscpp("br",null),vscpp("br",null),"You should write the JSON object of the search parameters in the following format:",vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": ...,',vscpp("br",null),'	"replace": ...,',vscpp("br",null),'	"filesToInclude": ...,',vscpp("br",null),'	"filesToExclude": ...,',vscpp("br",null),'	"isRegex": ...,',vscpp("br",null),'	"isCaseSensitive": ...,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"Examples:",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Search for 'foo' in all files under my 'src' directory.",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"Populate the query field with 'foo' and specify the files to include as 'src/'.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "foo",',vscpp("br",null),'	"filesToInclude": "src" ,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Find all CamelCase words in all files under the 'src/extensions' directory.",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"Perform a regex search for camelCase variables by checking for any word that has a lowercase letter followed by an uppercase letter, followed by any number of lowercase letters. You can use `\\b[a-z]+[A-Z][a-z]+\\b` to acheive this.",vscpp("br",null),"This must be case-sensitive since the capitalization of the letters in our regex matters.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "\\\\b[a-z]+[A-Z][a-z]+\\\\b",',vscpp("br",null),'	"filesToInclude": "src/extensions" ,',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),'	"isCaseSensitive": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Find all hex color codes in css files",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"Perform a search for 6-digit or 3-digit hex color codes using the regex `#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})\\b`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})\\\\b",',vscpp("br",null),'	"filesToInclude": "*.css" ,',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Find all HTTPS links in markdown.",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"Search all URLs that have the HTTPS protocol in a markdown file. Make sure to include all valid URL characters in their respective places. This regex should achieve this: `https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#()?&//=]*)`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "https?:\\\\/\\\\/(www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,6}\\\\b([-a-zA-Z0-9@:%_\\\\+.~#()?&//=]*)",',vscpp("br",null),'	"filesToInclude": "*.md" ,',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Replace all YYYY-MM-DD dates with MM/DD/YYYY dates. Don't do this in typescript files.",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"You will need to use the regex `\\b(\\d{4})-(\\d{2})-(\\d{2})\\b` to match the YYYY-MM-DD date format. Then, you will need to use the replace string `$2/$3/$1` to replace the date with the MM/DD/YYYY format.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "\\\\b(\\\\d{4})-(\\\\d{2})-(\\\\d{2})\\\\b",',vscpp("br",null),'	"replace: "$2/$3/$1",',vscpp("br",null),'	"filesToExclude": "*.ts",',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"Replace all camel case variable names with snake case variable names.",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"To replace all camel case variables with snake case, we will need to:",vscpp("br",null),"1. Find all sequences of lowercase letters succeeded by uppercase letters. Use `([a-z]+)([A-Z])` to capture these sequences.",vscpp("br",null),"2. Separate them with an underscore character. `$1_$2` does this.",vscpp("br",null),"3. Convert both characters to lowercase. Adjust the previous replace text to be `\\l$1_\\l$2`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "([a-z]+)([A-Z])",',vscpp("br",null),'	"replace: "\\\\l$1_\\\\l$2",',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),'	"isCaseSensitive": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"alphanumeric",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"To find all alphanumeric characters, you can use the regex `[a-zA-Z0-9]`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "[a-zA-Z0-9]",',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),'	"isCaseSensitive": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"link",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"To find all web links, use the regex `https?:\\/\\/\\S+`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "https?:\\\\/\\\\/\\\\S+",',vscpp("br",null),'	"isRegex": true,',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),'Search for actionbar files outside of my "extensions" directoy',vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),"To do this, use the query `actionbar` in all files except the ones in `extensions`.",vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "actionbar",',vscpp("br",null),'	"filesToExclude": "extensions",',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null),vscpp("br",null),"### Question:",vscpp("br",null),"typescript for loop",vscpp("br",null),vscpp("br",null),"### Answer:",vscpp("br",null),'To look for "for" loops in most languages, use the query `for\\s*\\(`.',vscpp("br",null),vscpp("br",null),"[ARGS START]",vscpp("br",null),"```json",vscpp("br",null),"{",vscpp("br",null),'	"query": "for\\s*\\(",',vscpp("br",null),'	"isRegex: true,',vscpp("br",null),'	"filesToInclude: "*.ts"',vscpp("br",null),"}",vscpp("br",null),"```",vscpp("br",null),"[ARGS END]",vscpp("br",null)),this.props.history&&vscpp(vscppf,null,vscpp(xo,{priority:600,history:this.props.history})),vscpp(yh,{priority:700}),vscpp(to,{priority:800}),vscpp(Le,{priority:900},this.props.query))}};function fct(t){if(!t)return[];let e=[],r={query:t.query??"",replace:t.replace??"",filesToInclude:t.filesToInclude??"",filesToExclude:t.filesToExclude??"",isRegex:t.isRegex??!1,isCaseSensitive:t.isRegex??!1};return e.push({commandId:"github.copilot.executeSearch",args:[r],title:"Search"}),e}function ZPe(t){let e=Uc(t).at(0),r;if(e){let n;try{n=oI(e.code)}catch{}n&&(r=n)}return r}function pct(t){if(!t)return[];let e=[`| Parameter  | Value |
`,`| ------ | ----- |
`];for(let[r,n]of Object.entries(t)){if(n==="")continue;let i=n;(typeof n=="string"||n instanceof String)&&(i=n.replace(/\|/g,"\\|")),e.push(`| ${r} | \`${i}\` |
`)}return e.push(`
`),e}var eNe="Search for 'foo' in all files under my 'src' directory",Pee=class{constructor(e){this.accessor=e}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns.slice(0,-1):[],l=new Gn(this.accessor,r,u9,{query:u,history:c}),f=await l.render(i,s);for(let p of l.getReferences())i.report({reference:p.anchor});return f}},l9=class{constructor(){this.id="search";this.locations=[2];this.description=tNe.t("Generate query parameters for workspace search");this.intentDetectionInput={sampleQuestion:eNe};this.commandInfo={allowsEmptyArgs:!1,defaultEnablement:k1,sampleRequest:eNe}}static{this.ID="search"}async invoke(e,r,n){let i=r.location,o=await jt(e,i,this.id);return{intent:this,location:i,endpoint:o,promptCrafter:new Pee(e),responseProcessor:(s,a,u)=>new IS([{start:"[ARGS END]",stop:"[ARGS START]"}],u,c=>pct(ZPe(c.join("")))),followUps:async(s,a)=>{let u=ZPe(a.response?.message??"");return fct(u)}}}};var UR=Ie(vn()),nNe=Ie(require("fs"));var f9=class extends Ue{render(e,r){return vscpp(vscppf,null,this.props.history&&vscpp(xo,{priority:600,history:this.props.history}),vscpp(_r,{priority:1e3},vscpp("br",null),"You are a coding assistant who helps the user find relevant code in their workspace by providing a list of relevant keywords they can search for.",vscpp("br",null),"The user will provide you with potentially relevant information from the workspace. This information may be incomplete.",vscpp("br",null),"DO NOT ask the user for additional information or clarification.",vscpp("br",null),"DO NOT try to answer the user's question directly.",vscpp("br",null),vscpp("br",null),"# Additional Rules",vscpp("br",null),vscpp("br",null),"Think step by step:",vscpp("br",null),"1. Read the user's question to understand what they are asking about their workspace.",vscpp("br",null),vscpp("br",null),"2. If there are pronouns in the question, such as 'it', 'that', 'this', try to understand what they refer to by looking at the rest of the question and the conversation history.",vscpp("br",null),vscpp("br",null),"3. Output a precise version of question that resolves all pronouns to the nouns they stand for. Be sure to preserve the exact meaning of the question by only changing ambiguous pronouns.",vscpp("br",null),vscpp("br",null),"4. Then output a short markdown list of up to 8 relevant keywords that user could try searching for to answer their question. These keywords could used as file name, symbol names, abbreviations, or comments in the relevant code. Put the keywords most relevant to the question first. Do not include overly generic keywords. Do not repeat keywords.",vscpp("br",null),vscpp("br",null),"5. For each keyword in the markdown list of related keywords, if applicable add a comma separated list of variations after it. For example: for 'encode' possible variations include 'encoding', 'encoded', 'encoder', 'encoders'. Consider synonyms and plural forms. Do not repeat variations.",vscpp("br",null),vscpp("br",null),"# Examples",vscpp("br",null),vscpp("br",null),"User: base64 encoding",vscpp("br",null),vscpp("br",null),"Response:",vscpp("br",null),vscpp("br",null),"Where's the code for base64 encoding?",vscpp("br",null),vscpp("br",null),"- base64 encoding, base64 encoder, base64 encode",vscpp("br",null),"- base64, base 64",vscpp("br",null),"- encode, encoded, encoder, encoders",vscpp("br",null)),this.props.fileTree&&vscpp(Le,{priority:700},this.props.fileTree),vscpp(Le,{priority:1e3},this.props.query))}};var Nee=class{constructor(e){this.accessor=e}async buildPrompt(e,r,n,i,o,s){let u=e.getLatestTurn().request.message,c=e.turns.length>1?e.turns.slice(0,-1):[],l=await OD(this.accessor,1e3,s),f=new Gn(this.accessor,r,f9,{query:u,history:c,fileTree:l}),p=await f.render();for(let m of f.getReferences())i.report({reference:m.anchor});return p}},rNe="Where is the toolbar code?",p9=class{constructor(){this.id="semanticSearch";this.locations=[2];this.description=UR.t("Find relevant code to your query");this.commandInfo={allowsEmptyArgs:!1,defaultEnablement:!1,sampleRequest:rNe};this.intentDetectionInput={sampleQuestion:rNe}}async invoke(e,r,n){let i=r.location,o=await jt(e,i,this.id);return{intent:this,location:i,endpoint:o,promptCrafter:new Nee(e),responseProcessor:(s,a,u,c,l)=>new Dee(s,u,c,l,o)}}},Dee=class{constructor(e,r,n,i,o){this.accessor=e;this.progress=r;this.token=i;this.endpoint=o;this._appliedLength=0;this._appliedText="";this._userMessage=n[n.length-1].content,this._appliesTextPromise=new ha}get appliedText(){return this._appliesTextPromise.p}apply(e){let r=e.substring(this._appliedLength,e.length);this.append(r)}async append(e){this._appliedLength+=e.length,this._appliedText+=e}finish(){this.progress?.report({message:UR.t("Looking for relevant code")});let e=Eq(this._userMessage,this._appliedText);dct(this.accessor,this.endpoint,e,this.token).then(r=>mct(this.accessor,r,this.progress)).then(r=>this._appliesTextPromise.complete(r),r=>this._appliesTextPromise.error(r))}};async function dct(t,e,r,n){let i=t.get($p),o={fullText:r.rephrasedQuestion,keywords:r.keywords.flatMap(u=>[u.keyword,...u.variations])},s=await wv(t,{valueFor4096:8,maxMultiplier:4}),a=(await i.searchFileChunks(e,[o],s,n)).slice(0,s);return n.isCancellationRequested||!a.length?[]:await vct(a)}function mct(t,e,r){if(e.length===0){let o=UR.t(`No relevant code found. Please be more specific.
`);return r.report({content:o}),o}r.report({content:UR.t(`Here is some relevant code:

`)});let n=t.get(ot),i="";for(let o of e)i+=hct(o,r,n);return i}function hct(t,e,r){let n=[],o=`## ${tI(r,t.file)}

`;return e.report({content:o}),n.push(o),t.locations.forEach(s=>{let a={uri:t.file,range:s.range},u=s.range.start.line,c=s.range.end.line,l=u+1===c?`Line ${u+1}`:`Lines ${u+1}-${c}`;e.report({content:"- "}),e.report({inlineReference:a,title:l}),e.report({content:`

`}),n.push(l+`

`),e.report({content:s.code+`
`}),n.push(s.code+`
`)}),n.join("")}function gct(t,e,r){let n=[],i=0;for(;i<t.length&&n.join(`
`).length<e&&n.length<r;)n.push(t[i]),i++;return n}async function vct(t){let e=[],r=new li;for(let[n,i]of t.entries()){let o=r.get(i.file),s=o?o.rank:n,a=o?[...o.ranges,i.range]:[i.range];r.set(i.file,{ranges:a,rank:s})}for(let[n,i]of r.entries()){let o=i.ranges.filter((f,p)=>{for(let[m,d]of i.ranges.entries())if(p!==m&&(f===d||f.contains(d)))return!1;return!0}),s=[],a;o.sort((f,p)=>f.start.line-p.start.line);for(let f of o)a&&a.end.line>=f.start.line-1?a=a.with(void 0,f.end):(a&&s.push(a),a=f);a&&s.push(a);let c=(await nNe.promises.readFile(n.fsPath,"utf8")).split(`
`),l=[];for(let f of s){let p=f.start.line,m=f.end.line,d=c.slice(p,m);if(!_ct(d,5))continue;let{trimmedLines:h}=Tq(gct(d,1e3,15));h.length<d.length&&h.push("...");let g=Li(Bs(n).replace(/\./g,""),h.join(`
`).replace(/^\n*|\n*$/g,""),!1);l.push({range:f,code:g})}l.length>0&&e.push({result:{file:n,locations:l},rank:i.rank})}return e.sort((n,i)=>n.rank-i.rank).map(n=>n.result)}function _ct(t,e){let r=0;for(let n of t)if(r+=n.trim().length,r>=e)return!0;return!1}var kee=Ie(vn()),iNe=require("process");var yct=`
User: How do I revert a specific commit?
Assistant:
\`\`\`sh
git revert {commit_id}
\`\`\`

User: How do I print all files recursively within a directory?
Assistant:
\`\`\`sh
ls -lR
\`\`\`

User: How do I delete a directory?
Assistant:
\`\`\`pwsh
rmdir {dir_name}
\`\`\`

User: Print all files starting with "pre"
\`\`\`bash
find . -type f -name 'pre*'
\`\`\`
`.trim(),bct=`
Think step by step:

1. Read the provided relevant workspace information (file names, project files in the project root) to understand the user's workspace.

2. Generate a response that clearly and accurately answers the user's question. In your response, follow the following:
    - Prefer single line commands.
    - Omit an explanation unless the suggestion is complex, if an explanation is included then be concise.
    - Provide the command suggestions using the active terminal's shell type for the ${Sct()} operating system.
    - Only use a tool like python or perl when it is not possible with the shell.
    - When there is text that needs to be replaced in the suggestion, prefix the text with '{', suffix the text with '}' and use underscores instead of whitespace.
    - Say "I'm not quite sure how to do that." when you aren't confident in your explanation

3. At the end of the response, list all text that needs to be replaced with associated descriptions in the form of a markdown list
`.trim(),xct={terminalSelection:{location:2,id:"explainTerminal",description:"Explain the terminal selection if it exists, otherwise explain what is happening in the terminal buffer",modelSampleQuestion:"Can you explain what is happening in the terminal selection",systemPromptOptions:{includeCodeGenerationRules:!1,roleplay:"You are a programmer who specializes in using the command line. You are an expert at explaining code to anyone. Your task is to help the Developer understand what is happening in the terminal."},rules:`
Provide well thought out examples
Utilize provided context in examples
Match the style of provided context when using examples
Say "I'm not quite sure how to explain that." when you aren't confident in your explanation`.trim(),contextResolvers:[uae,aae],commandInfo:{executeImmediately:!0}},terminalLastCommand:{location:2,id:"explainTerminalLastCommand",description:"Explain the command that was last run in the terminal",modelSampleQuestion:"Can you explain what is happening in the last terminal command",systemPromptOptions:{includeCodeGenerationRules:!1,roleplay:"You are a programmer who specializes in using the command line. You are an expert at explaining code to anyone. Your task is to help the Developer understand what is happening in the terminal.",examples:'\nBelow you will find a set of examples of how to suggest to fix the command. Please follow these examples as closely as possible.\n```sh\necho "hello world"\n```'},rules:`
Provide well thought out examples
Utilize provided context in examples
Match the style of provided context when using examples
Say "I'm not quite sure how to explain that." when you aren't confident in your explanation
If the command can be fixed, make a suggestion wrapped in a markdown codefenced block`.trim(),contextResolvers:[cae]}},Ect={systemPromptOptions:{includeCodeGenerationRules:!1,roleplay:"You are a programmer who specializes in using the command line. Your task is to help the Developer craft a command to run on the command line.",examples:yct},rules:bct,contextResolvers:[bh,lae,Qae]},Lee=class{constructor(e){this.accessor=e;this.defaultPanelPromptCrafter=new Bc(e,Ect,2,void 0)}async buildPrompt(e,r,n,i,o,s){let a;for(let c of Object.keys(n))if(a=xct[c],a)break;return a?new Bc(this.accessor,a,2,void 0).buildPrompt(e,r,n,i,o,s):this.defaultPanelPromptCrafter.buildPrompt(e,r,n,i,o,s)}};async function Tct(t,e){let r=`@${kl} Explain the suggested command`,n=!1,i=e.response?.message;if(i){let s=Uc(i);if(s.length===0)return[];s.length===1?r=`@${kl} Explain this command:

${o(s[0])}`:(n=!0,r=`@${kl} Explain these commands:${s.map(a=>`

${o(a)}`).join("")}`)}return[{message:r,title:n?"Explain the suggested commands":"Explain the suggested command"}];function o(s){return`${s.startMarkup}${s.language}
${s.code.trim()}
${s.startMarkup}`}}function Sct(){switch(iNe.platform){case"win32":return"Windows";case"darwin":return"macOS";default:return"Linux"}}var d9=class{constructor(){this.locations=[2];this.id="terminal";this.description=kee.t("Ask how to do something in the terminal");this.intentDetectionInput={sampleQuestion:"How do I view all files within a directory including sub-directories"};this.commandInfo={sampleRequest:kee.t("How do I view all files within a directory including sub-directories")}}async invoke(e,r,n){let i=r.location,o=await jt(e,i,this.id);return{intent:this,location:2,endpoint:o,promptCrafter:new Lee(e),followUps:Tct}}};var oNe=Ie(vn());var m9=class{constructor(){this.id="tests";this.locations=[2,1];this.description=oNe.t("Generate unit tests for the selected code");this.intentDetectionInput={sampleQuestion:"Write a set of detailed unit test functions for the code above."};this.commandInfo=void 0}static{this.ID="tests"}async invoke(e,r){let n=r.documentContext;if(!n)throw new Error("Open a file to generate tests.");let i=r.location,o=await jt(e,i,this.id);return RC(n.document)?new Oee(this,o,i,e,n):new Mee(this,o,i,e,n)}},Oee=class{constructor(e,r,n,i,o){this.intent=e;this.endpoint=r;this.location=n;this.accessor=i;this.context=o;this.promptCrafter=new Bc(this.accessor,{queryPrefix:"Please generate tests for my code.",contextResolvers:[zoe,Yoe]},this.location,this.context);this.createReplyInterpreter=xv.createFactory(this.accessor,this.promptCrafter,this.context);this.responseProcessor=(e,r,n)=>{let i=new XD;return(async()=>{let o=[Di.begin(this.context.language),Di.end(this.context.language),Hn.forLanguage(this.context.language)];for await(let s of rq(i.asyncIterable))s.kind===1&&o.some(a=>s.value.startsWith(a))||n.report({content:s.value})})().catch(o=>console.error(o)),i}}},Mee=class{constructor(e,r,n,i,o){this.intent=e;this.endpoint=r;this.location=n;this.accessor=i;this.documentContext=o;this.createReplyInterpreter=Tb.createFactory(async(e,r)=>{let n=Yp(this.promptCrafter.selectionContextMetadata.contextInfo,e,this.documentContext.language);if(!n)return{type:"conversational",content:e};r.report({content:n.contentBeforeCode});let i=n.code,o=this.documentContext.document;if(this.existingTestFile){let c=await this.accessor.get(ot).openTextDocument(this.existingTestFile),l=new sU;return l.set(this.existingTestFile,[Vo.insert(new fr(c.lineCount,0),i)]),{type:"workspaceEdit",workspaceEdit:l}}let s=Uoe(o),a=ga.joinPath(o.uri,`../${s}`).with({scheme:Bn.untitled}),u=new sU;return u.createFile(a,{ignoreIfExists:!0}),u.replace(a,new ze(0,0,0,0),i),{type:"workspaceEdit",workspaceEdit:u}});let s=this;this.promptCrafter=new class extends Bc{constructor(){super(i,{queryPrefix:"Please generate tests for my code.",contextResolvers:[goe]},n,o)}async buildPrompt(a,u,c,l,f,p){let m=new DC,d=m.onDidFindCandidate(g=>{s.existingTestFile=g}),h=await m.resolveContext(i,{endpoint:u,conversation:a,documentContext:o,message:void 0},p);if(d.dispose(),h){h.references?.forEach(v=>l.report({reference:v.anchor}));let g=[];for(let v of h.userMessages)g.push(new Qi({message:v,type:"user"}));a=new gs([a.turns.slice(0,-1),g,a.turns.slice(-1)].flat())}return super.buildPrompt(a,u,c,l,f,p)}}}};Si.registerIntent(new gh);Si.registerIntent(new c1);Si.registerIntent(new ah);Si.registerIntent(new m9);Si.registerIntent(new Rb);Si.registerIntent(new t9);Si.registerIntent(new l9);Si.registerIntent(new p9);Si.registerIntent(new d9);Si.registerIntent(Gc.Instance);Si.registerIntent(new c9);Si.registerIntent(new tk);Si.registerIntent(new BM);var mm=require("vscode");var sNe=!1;async function Cct(t){let e=t.get(Ae).getLogger("auth"),r=await Pv(t.get(Be));if(!r)return e.info("GitHub login failed"),t.get(xt).sendErrorTelemetry("auth.github_login_failed"),{kind:"failure",reason:"GitHubLoginFailed"};e.info(`Logged in as ${r.account.label}`);let n=await cN(t,{token:r.accessToken});return n.kind==="success"&&e.info(`Got Copilot token for ${r.account.label}`),n}var h9=class{async showWarningMessage(e,...r){return{title:await mm.window.showWarningMessage(e,...r.map(i=>i.title))}}},BR=class extends Error{},qR=class extends Error{},HR=class extends Error{};async function Ict(t){let e=await Cct(t);if(e.kind==="failure"&&e.reason==="NotAuthorized"){let r=e.message;if(r?.includes("No access to GitHub Copilot found"))throw new BR(r??"User not authorized");if(r?.includes("Your subscription has ended"))throw new qR(r)}if(e.kind==="failure"){let r=e.message;if(r?.includes("Please contact your enterprise admin to enable your managed account for Copilot for Business"))throw new HR(r)}if(e.kind==="failure"&&e.reason==="HTTP401"){let r="Your GitHub token is invalid. Please sign out from your GitHub account using the VS Code accounts menu and try again.";throw sNe||(sNe=!0,mm.window.showWarningMessage(r)),Error(r)}if(e.kind==="failure"&&e.reason==="GitHubLoginFailed")throw Error("GitHubLoginFailed");if(e.kind==="failure")throw Error("Failed to get copilot token");return e}var g9=class extends gt{constructor(r){super();this.configurationService=r;this.copilotToken=void 0,this._disposable=mm.Disposable.from(mm.authentication.onDidChangeSessions(n=>Mie(n,this)))}dispose(){this._disposable.dispose()}async getAnyGitHubToken(){return(await Pv(this.configurationService))?.accessToken}async getPermissiveGitHubToken(r){return(await hce(this.configurationService,r))?.accessToken}async getCopilotToken(r,n){return(!this.copilotToken||this.copilotToken.expires_at<Hm()||n)&&(this.copilotToken=await Ict(r),uN(r,this,this.copilotToken.refresh_in)),new Np(this.copilotToken.token,this.copilotToken.organization_list,this.copilotToken.public_suggestions)}resetCopilotToken(r,n){n!==void 0&&(r.get(xt).sendTelemetry("auth.reset_token_"+n),r.get(pt).sendGHTelemetryEvent("auth.reset_token_"+n)),r.get(Ae).getLogger("auth").debug(`Resetting copilot token on HTTP error ${n||"unknown"}`),this.copilotToken=void 0}};Rm.registerContribution(function(e){let r=e.get(Ae).getLogger("authContribution"),n=e.get(gt),i=e.get(xh),o=e.safeGet(ec)?.repositories;if(!o){r.debug("No git repositories found");return}let s=o.map(lD).filter(a=>a);(async()=>{if((await Promise.all(s.map(u=>{let[c,l]=u.split("/");return i.isAvailable(c,l)}))).some(u=>!u)){let u=await n.getAnyGitHubToken(),c=await n.getPermissiveGitHubToken({silent:!0});if(!u||c)return;try{await n.getPermissiveGitHubToken({forceNewSession:{detail:mm.l10n.t("We need more permissions to work with this type of repository")}})&&r.debug("Got permissive GitHub token")}catch(l){r.debug("Failed to get permissive GitHub token",l),await n.getPermissiveGitHubToken({})}}})()});var wct=async function(t){await t.get(ot).ensureWorkspaceIsFullyLoaded()};Rm.registerContribution(wct);var aNe=Ie(require("path"));var M0=class t{constructor(e,r,n,i){e>n||e===n&&r>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=r):(this.startLineNumber=e,this.startColumn=r,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return t.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return t.containsPosition(this,e)}static containsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<e.startColumn||r.lineNumber===e.endLineNumber&&r.column>e.endColumn)}static strictContainsPosition(e,r){return!(r.lineNumber<e.startLineNumber||r.lineNumber>e.endLineNumber||r.lineNumber===e.startLineNumber&&r.column<=e.startColumn||r.lineNumber===e.endLineNumber&&r.column>=e.endColumn)}containsRange(e){return t.containsRange(this,e)}static containsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>e.endColumn)}strictContainsRange(e){return t.strictContainsRange(this,e)}static strictContainsRange(e,r){return!(r.startLineNumber<e.startLineNumber||r.endLineNumber<e.startLineNumber||r.startLineNumber>e.endLineNumber||r.endLineNumber>e.endLineNumber||r.startLineNumber===e.startLineNumber&&r.startColumn<=e.startColumn||r.endLineNumber===e.endLineNumber&&r.endColumn>=e.endColumn)}plusRange(e){return t.plusRange(this,e)}static plusRange(e,r){let n,i,o,s;return r.startLineNumber<e.startLineNumber?(n=r.startLineNumber,i=r.startColumn):r.startLineNumber===e.startLineNumber?(n=r.startLineNumber,i=Math.min(r.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),r.endLineNumber>e.endLineNumber?(o=r.endLineNumber,s=r.endColumn):r.endLineNumber===e.endLineNumber?(o=r.endLineNumber,s=Math.max(r.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new t(n,i,o,s)}intersectRanges(e){return t.intersectRanges(this,e)}static intersectRanges(e,r){let n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=r.startLineNumber,u=r.startColumn,c=r.endLineNumber,l=r.endColumn;return n<a?(n=a,i=u):n===a&&(i=Math.max(i,u)),o>c?(o=c,s=l):o===c&&(s=Math.min(s,l)),n>o||n===o&&i>s?null:new t(n,i,o,s)}equalsRange(e){return t.equalsRange(this,e)}static equalsRange(e,r){return!e&&!r?!0:!!e&&!!r&&e.startLineNumber===r.startLineNumber&&e.startColumn===r.startColumn&&e.endLineNumber===r.endLineNumber&&e.endColumn===r.endColumn}getEndPosition(){return t.getEndPosition(this)}static getEndPosition(e){return new a1(e.endLineNumber,e.endColumn)}getStartPosition(){return t.getStartPosition(this)}static getStartPosition(e){return new a1(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,r){return new t(this.startLineNumber,this.startColumn,e,r)}setStartPosition(e,r){return new t(e,r,this.endLineNumber,this.endColumn)}collapseToStart(){return t.collapseToStart(this)}static collapseToStart(e){return new t(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}collapseToEnd(){return t.collapseToEnd(this)}static collapseToEnd(e){return new t(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn)}delta(e){return new t(this.startLineNumber+e,this.startColumn,this.endLineNumber+e,this.endColumn)}static fromPositions(e,r=e){return new t(e.lineNumber,e.column,r.lineNumber,r.column)}static lift(e){return e?new t(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<e.startColumn)}static areIntersecting(e,r){return!(e.endLineNumber<r.startLineNumber||e.endLineNumber===r.startLineNumber&&e.endColumn<=r.startColumn||r.endLineNumber<e.startLineNumber||r.endLineNumber===e.startLineNumber&&r.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,r){if(e&&r){let o=e.startLineNumber|0,s=r.startLineNumber|0;if(o===s){let a=e.startColumn|0,u=r.startColumn|0;if(a===u){let c=e.endLineNumber|0,l=r.endLineNumber|0;if(c===l){let f=e.endColumn|0,p=r.endColumn|0;return f-p}return c-l}return a-u}return o-s}return(e?1:0)-(r?1:0)}static compareRangesUsingEnds(e,r){return e.endLineNumber===r.endLineNumber?e.endColumn===r.endColumn?e.startLineNumber===r.startLineNumber?e.startColumn-r.startColumn:e.startLineNumber-r.startLineNumber:e.endColumn-r.endColumn:e.endLineNumber-r.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}toJSON(){return this}};var ia=class t{static fromRange(e){return new t(e.startLineNumber,e.endLineNumber)}static fromRangeInclusive(e){return new t(e.startLineNumber,e.endLineNumber+1)}static subtract(e,r){return r?e.startLineNumber<r.startLineNumber&&r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(e.startLineNumber,r.startLineNumber),new t(r.endLineNumberExclusive,e.endLineNumberExclusive)]:r.startLineNumber<=e.startLineNumber&&e.endLineNumberExclusive<=r.endLineNumberExclusive?[]:r.endLineNumberExclusive<e.endLineNumberExclusive?[new t(Math.max(r.endLineNumberExclusive,e.startLineNumber),e.endLineNumberExclusive)]:[new t(e.startLineNumber,Math.min(r.startLineNumber,e.endLineNumberExclusive))]:[e]}static joinMany(e){if(e.length===0)return[];let r=new v9(e[0].slice());for(let n=1;n<e.length;n++)r=r.getUnion(new v9(e[n].slice()));return r.ranges}static ofLength(e,r){return new t(e,e+r)}static deserialize(e){return new t(e[0],e[1])}constructor(e,r){if(e>r)throw new Fu(`startLineNumber ${e} cannot be after endLineNumberExclusive ${r}`);this.startLineNumber=e,this.endLineNumberExclusive=r}contains(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(e){return new t(this.startLineNumber+e,this.endLineNumberExclusive+e)}deltaLength(e){return new t(this.startLineNumber,this.endLineNumberExclusive+e)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(e){return new t(Math.min(this.startLineNumber,e.startLineNumber),Math.max(this.endLineNumberExclusive,e.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(e){let r=Math.max(this.startLineNumber,e.startLineNumber),n=Math.min(this.endLineNumberExclusive,e.endLineNumberExclusive);if(r<=n)return new t(r,n)}intersectsStrict(e){return this.startLineNumber<e.endLineNumberExclusive&&e.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(e){return this.startLineNumber<=e.endLineNumberExclusive&&e.startLineNumber<=this.endLineNumberExclusive}equals(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumberExclusive===e.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new M0(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new M0(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(e){let r=[];for(let n=this.startLineNumber;n<this.endLineNumberExclusive;n++)r.push(e(n));return r}forEach(e){for(let r=this.startLineNumber;r<this.endLineNumberExclusive;r++)e(r)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(e){return this.startLineNumber<=e&&e<this.endLineNumberExclusive}toOffsetRange(){return new hi(this.startLineNumber-1,this.endLineNumberExclusive-1)}},v9=class t{constructor(e=[]){this._normalizedRanges=e}get ranges(){return this._normalizedRanges}addRange(e){if(e.length===0)return;let r=LP(this._normalizedRanges,i=>i.endLineNumberExclusive>=e.startLineNumber),n=lC(this._normalizedRanges,i=>i.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)this._normalizedRanges.splice(r,0,e);else if(r===n-1){let i=this._normalizedRanges[r];this._normalizedRanges[r]=i.join(e)}else{let i=this._normalizedRanges[r].join(this._normalizedRanges[n-1]).join(e);this._normalizedRanges.splice(r,n-r,i)}}contains(e){let r=dF(this._normalizedRanges,n=>n.startLineNumber<=e);return!!r&&r.endLineNumberExclusive>e}intersects(e){let r=dF(this._normalizedRanges,n=>n.startLineNumber<e.endLineNumberExclusive);return!!r&&r.endLineNumberExclusive>e.startLineNumber}getUnion(e){if(this._normalizedRanges.length===0)return e;if(e._normalizedRanges.length===0)return this;let r=[],n=0,i=0,o=null;for(;n<this._normalizedRanges.length||i<e._normalizedRanges.length;){let s=null;if(n<this._normalizedRanges.length&&i<e._normalizedRanges.length){let a=this._normalizedRanges[n],u=e._normalizedRanges[i];a.startLineNumber<u.startLineNumber?(s=a,n++):(s=u,i++)}else n<this._normalizedRanges.length?(s=this._normalizedRanges[n],n++):(s=e._normalizedRanges[i],i++);o===null?o=s:o.endLineNumberExclusive>=s.startLineNumber?o=new ia(o.startLineNumber,Math.max(o.endLineNumberExclusive,s.endLineNumberExclusive)):(r.push(o),o=s)}return o!==null&&r.push(o),new t(r)}subtractFrom(e){let r=LP(this._normalizedRanges,s=>s.endLineNumberExclusive>=e.startLineNumber),n=lC(this._normalizedRanges,s=>s.startLineNumber<=e.endLineNumberExclusive)+1;if(r===n)return new t([e]);let i=[],o=e.startLineNumber;for(let s=r;s<n;s++){let a=this._normalizedRanges[s];a.startLineNumber>o&&i.push(new ia(o,a.startLineNumber)),o=a.endLineNumberExclusive}return o<e.endLineNumberExclusive&&i.push(new ia(o,e.endLineNumberExclusive)),new t(i)}toString(){return this._normalizedRanges.map(e=>e.toString()).join(", ")}getIntersection(e){let r=[],n=0,i=0;for(;n<this._normalizedRanges.length&&i<e._normalizedRanges.length;){let o=this._normalizedRanges[n],s=e._normalizedRanges[i],a=o.intersect(s);a&&!a.isEmpty&&r.push(a),o.endLineNumberExclusive<s.endLineNumberExclusive?n++:i++}return new t(r)}getWithDelta(e){return new t(this._normalizedRanges.map(r=>r.delta(e)))}};var _9=class t{constructor(e,r){this.lineRangeMapping=e,this.changes=r}flip(){return new t(this.lineRangeMapping.flip(),this.changes.map(e=>e.flip()))}};var GR=class t{static inverse(e,r,n){let i=[],o=1,s=1;for(let u of e){let c=new RS(new ia(o,u.original.startLineNumber),new ia(s,u.modified.startLineNumber),void 0);c.modified.isEmpty||i.push(c),o=u.original.endLineNumberExclusive,s=u.modified.endLineNumberExclusive}let a=new RS(new ia(o,r+1),new ia(s,n+1),void 0);return a.modified.isEmpty||i.push(a),i}constructor(e,r){this.original=e,this.modified=r}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new t(this.modified,this.original)}join(e){return new t(this.original.join(e.original),this.modified.join(e.modified))}get changedLineCount(){return Math.max(this.original.length,this.modified.length)}},RS=class t extends GR{constructor(r,n,i){super(r,n);this.innerChanges=i}flip(){return new t(this.modified,this.original,this.innerChanges?.map(r=>r.flip()))}},y9=class t{constructor(e,r){this.originalRange=e,this.modifiedRange=r}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new t(this.modifiedRange,this.originalRange)}};var Act=aNe.join(__dirname,"diffWorker.js"),b9=class{constructor(){this._worker=new ma(()=>new fh(Act))}dispose(){this._worker.hasValue&&this._worker.value.terminate()}async computeDiff(e,r,n){let i=await this._worker.value.proxy.computeDiff(e,r,n);return{identical:i.identical,quitEarly:i.quitEarly,changes:s(i.changes),moves:i.moves.map(a=>new _9(new GR(new ia(a[0],a[1]),new ia(a[2],a[3])),s(a[4])))};function s(a){return a.map(u=>new RS(new ia(u[0],u[1]),new ia(u[2],u[3]),u[4]?.map(c=>new y9(new M0(c[0],c[1],c[2],c[3]),new M0(c[4],c[5],c[6],c[7])))))}}};var Cl=Ie(require("vscode")),PS=class{async stat(e){return Cl.workspace.fs.stat(e)}async readDirectory(e){return Cl.workspace.fs.readDirectory(e)}async createDirectory(e){return Cl.workspace.fs.createDirectory(e)}async readFile(e){return Cl.workspace.fs.readFile(e)}async writeFile(e,r){return Cl.workspace.fs.writeFile(e,r)}async delete(e,r){return Cl.workspace.fs.delete(e,r)}async rename(e,r,n){return Cl.workspace.fs.rename(e,r,n)}async copy(e,r,n){return Cl.workspace.fs.copy(e,r,n)}isWritableFileSystem(e){return!!Cl.workspace.fs.isWritableFileSystem(e)}createFileSystemWatcher(e){return Cl.workspace.createFileSystemWatcher(e)}};var x9=class extends PS{constructor(r){super();this._accessor=r}async readFile(r){return this._accessor.get(Ar).isCopilotIgnored(r)?new Uint8Array:super.readFile(r)}};var d1=require("vscode");function cNe(t){if(typeof t!="string")throw new TypeError("Argument must be a string.");if(!t)return t;let e=t.startsWith("!"),r=e?t.slice(1):t,n=r,i=!1;switch(r[0]==="/"&&(i=!0,n=r.slice(1)),n[0]){case"*":r[1]!=="*"&&(n="**/"+n);break;default:if((!i&&!n.includes("/")||n.endsWith("/"))&&(n="**/"+n),n.endsWith("*")||n.endsWith("?"))break;/\.[a-z\d_-]+$/.test(n)||(n.endsWith("/")||(n+="/"),n+="**")}return e?"!"+n:n}var bNe=Ie(_Ne()),Il=require("path"),jR=class{constructor(){this._ignoreMap=new Map;this._ignoreCache=new Map;this._searchRankCache=null}setIgnoreFile(e,r){this._ignoreMap.set(e.fsPath,{ignore:(0,bNe.default)().add(r),patterns:r.split(/\r?\n/).filter(Boolean).map(cNe)}),this._searchRankCache=null,this._ignoreCache.clear()}removeIgnoreFile(e){this._ignoreMap.delete(e.fsPath),this._searchRankCache=null,this._ignoreCache.clear()}removeWorkspace(e){let r=0;for(let n of this._ignoreMap.keys())yNe(e.fsPath,n)&&(this._ignoreMap.delete(n),r+=1);r>0&&(this._searchRankCache=null,this._ignoreCache.clear())}asMinimatchPatterns(){return[...this._ignoreMap.values()].flatMap(e=>e.patterns)}isIgnored(e){if(this._ignoreMap.size===0)return!1;let r=e.fsPath;if(this._ignoreCache.has(r))return this._ignoreCache.get(r);let n=0,i={ignored:!1,unignored:!1};try{let o=this._searchRank;for(let s of o){n+=1;let a=(0,Il.dirname)(s),u=(0,Il.relative)(a,r);if(!u.startsWith("..")&&a!==r&&yNe(a,r)){let c=this._ignoreMap.get(s);if(!c)throw new Error(`No ignore patterns found for ${s}`);if(i=c.ignore.test(u),i.ignored||i.unignored)break}}return this._ignoreCache.set(r,i.ignored),i.ignored}catch{return!1}}get _searchRank(){if(this._searchRankCache!==null)return this._searchRankCache;let e={},r=n=>n.split(Il.sep).length;return this._searchRankCache=[...this._ignoreMap.keys()].sort((n,i)=>(e[i]||=r(i))-(e[n]||=r(n)))}};function yNe(t,e){return t===e?!0:(t.charAt(t.length-1)!==Il.sep&&(t+=Il.sep),(0,Il.normalize)(e).startsWith((0,Il.normalize)(t)))}var HNe=Ie(kNe(),1);var zR=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};var Zct={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},YR=t=>t.replace(/[[\]\\-]/g,"\\$&"),eut=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),LNe=t=>t.join(""),ONe=(t,e)=>{let r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=r+1,s=!1,a=!1,u=!1,c=!1,l=r,f="";e:for(;o<t.length;){let h=t.charAt(o);if((h==="!"||h==="^")&&o===r+1){c=!0,o++;continue}if(h==="]"&&s&&!u){l=o+1;break}if(s=!0,h==="\\"&&!u){u=!0,o++;continue}if(h==="["&&!u){for(let[g,[v,_,y]]of Object.entries(Zct))if(t.startsWith(g,o)){if(f)return["$.",!1,t.length-r,!0];o+=g.length,y?i.push(v):n.push(v),a=a||_;continue e}}if(u=!1,f){h>f?n.push(YR(f)+"-"+YR(h)):h===f&&n.push(YR(h)),f="",o++;continue}if(t.startsWith("-]",o+1)){n.push(YR(h+"-")),o+=2;continue}if(t.startsWith("-",o+1)){f=h,o+=2;continue}n.push(YR(h)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){let h=n[0].length===2?n[0].slice(-1):n[0];return[eut(h),!1,l-r,!1]}let p="["+(c?"^":"")+LNe(n)+"]",m="["+(c?"":"^")+LNe(i)+"]";return[n.length&&i.length?"("+p+"|"+m+")":n.length?p:m,a,l-r,!0]};var F0=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");var tut=new Set(["!","?","+","*","@"]),MNe=t=>tut.has(t),rut="(?!(?:^|/)\\.\\.?(?:$|/))",T9="(?!\\.)",nut=new Set(["[","."]),iut=new Set(["..","."]),sut=new Set("().*{}+?[]^$\\!"),aut=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Vee="[^/]",FNe=Vee+"*?",UNe=Vee+"+?",NS=class t{type;#r;#i;#p=!1;#t=[];#c;#s;#m;#a=!1;#n;#e;#f=!1;constructor(e,r,n={}){this.type=e,e&&(this.#i=!0),this.#c=r,this.#r=this.#c?this.#c.#r:this,this.#n=this.#r===this?n:this.#r.#n,this.#m=this.#r===this?[]:this.#r.#m,e==="!"&&!this.#r.#a&&this.#m.push(this),this.#s=this.#c?this.#c.#t.length:0}get hasMagic(){if(this.#i!==void 0)return this.#i;for(let e of this.#t)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#i=!0;return this.#i}toString(){return this.#e!==void 0?this.#e:this.type?this.#e=this.type+"("+this.#t.map(e=>String(e)).join("|")+")":this.#e=this.#t.map(e=>String(e)).join("")}#h(){if(this!==this.#r)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#m.pop();){if(e.type!=="!")continue;let r=e,n=r.#c;for(;n;){for(let i=r.#s+1;!n.type&&i<n.#t.length;i++)for(let o of e.#t){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#t[i])}r=n,n=r.#c}}return this}push(...e){for(let r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof t&&r.#c===this))throw new Error("invalid part: "+r);this.#t.push(r)}}toJSON(){let e=this.type===null?this.#t.slice().map(r=>typeof r=="string"?r:r.toJSON()):[this.type,...this.#t.map(r=>r.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#r||this.#r.#a&&this.#c?.type==="!")&&e.push({}),e}isStart(){if(this.#r===this)return!0;if(!this.#c?.isStart())return!1;if(this.#s===0)return!0;let e=this.#c;for(let r=0;r<this.#s;r++){let n=e.#t[r];if(!(n instanceof t&&n.type==="!"))return!1}return!0}isEnd(){if(this.#r===this||this.#c?.type==="!")return!0;if(!this.#c?.isEnd())return!1;if(!this.type)return this.#c?.isEnd();let e=this.#c?this.#c.#t.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let r=new t(this.type,e);for(let n of this.#t)r.copyIn(n);return r}static#l(e,r,n,i){let o=!1,s=!1,a=-1,u=!1;if(r.type===null){let m=n,d="";for(;m<e.length;){let h=e.charAt(m++);if(o||h==="\\"){o=!o,d+=h;continue}if(s){m===a+1?(h==="^"||h==="!")&&(u=!0):h==="]"&&!(m===a+2&&u)&&(s=!1),d+=h;continue}else if(h==="["){s=!0,a=m,u=!1,d+=h;continue}if(!i.noext&&MNe(h)&&e.charAt(m)==="("){r.push(d),d="";let g=new t(h,r);m=t.#l(e,g,m,i),r.push(g);continue}d+=h}return r.push(d),m}let c=n+1,l=new t(null,r),f=[],p="";for(;c<e.length;){let m=e.charAt(c++);if(o||m==="\\"){o=!o,p+=m;continue}if(s){c===a+1?(m==="^"||m==="!")&&(u=!0):m==="]"&&!(c===a+2&&u)&&(s=!1),p+=m;continue}else if(m==="["){s=!0,a=c,u=!1,p+=m;continue}if(MNe(m)&&e.charAt(c)==="("){l.push(p),p="";let d=new t(m,l);l.push(d),c=t.#l(e,d,c,i);continue}if(m==="|"){l.push(p),p="",f.push(l),l=new t(null,r);continue}if(m===")")return p===""&&r.#t.length===0&&(r.#f=!0),l.push(p),p="",r.push(...f,l),c;p+=m}return r.type=null,r.#i=void 0,r.#t=[e.substring(n-1)],c}static fromGlob(e,r={}){let n=new t(null,void 0,r);return t.#l(e,n,0,r),n}toMMPattern(){if(this!==this.#r)return this.#r.toMMPattern();let e=this.toString(),[r,n,i,o]=this.toRegExpSource();if(!(i||this.#i||this.#n.nocase&&!this.#n.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#n.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${r}$`,a),{_src:r,_glob:e})}toRegExpSource(e){let r=e??!!this.#n.dot;if(this.#r===this&&this.#h(),!this.type){let u=this.isStart()&&this.isEnd(),c=this.#t.map(m=>{let[d,h,g,v]=typeof m=="string"?t.#v(m,this.#i,u):m.toRegExpSource(e);return this.#i=this.#i||g,this.#p=this.#p||v,d}).join(""),l="";if(this.isStart()&&typeof this.#t[0]=="string"&&!(this.#t.length===1&&iut.has(this.#t[0]))){let d=nut,h=r&&d.has(c.charAt(0))||c.startsWith("\\.")&&d.has(c.charAt(2))||c.startsWith("\\.\\.")&&d.has(c.charAt(4)),g=!r&&!e&&d.has(c.charAt(0));l=h?rut:g?T9:""}let f="";return this.isEnd()&&this.#r.#a&&this.#c?.type==="!"&&(f="(?:$|\\/)"),[l+c+f,F0(c),this.#i=!!this.#i,this.#p]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#u(r);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let u=this.toString();return this.#t=[u],this.type=null,this.#i=void 0,[u,F0(this.toString()),!1,!1]}let s=!n||e||r||!T9?"":this.#u(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#f)a=(this.isStart()&&!r?T9:"")+UNe;else{let u=this.type==="!"?"))"+(this.isStart()&&!r&&!e?T9:"")+FNe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+u}return[a,F0(o),this.#i=!!this.#i,this.#p]}#u(e){return this.#t.map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=r.toRegExpSource(e);return this.#p=this.#p||s,n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")}static#v(e,r,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let u=e.charAt(a);if(i){i=!1,o+=(sut.has(u)?"\\":"")+u;continue}if(u==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(u==="["){let[c,l,f,p]=ONe(e,a);if(f){o+=c,s=s||l,a+=f-1,r=r||p;continue}}if(u==="*"){n&&e==="*"?o+=UNe:o+=FNe,r=!0;continue}if(u==="?"){o+=Vee,r=!0;continue}o+=aut(u)}return[o,F0(e),!!r,s]}};var zee=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");var us=(t,e,r={})=>(zR(e),!r.nocomment&&e.charAt(0)==="#"?!1:new DS(e,r).match(t)),cut=/^\*+([^+@!?\*\[\(]*)$/,uut=t=>e=>!e.startsWith(".")&&e.endsWith(t),lut=t=>e=>e.endsWith(t),fut=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),put=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),dut=/^\*+\.\*+$/,mut=t=>!t.startsWith(".")&&t.includes("."),hut=t=>t!=="."&&t!==".."&&t.includes("."),gut=/^\.\*+$/,vut=t=>t!=="."&&t!==".."&&t.startsWith("."),_ut=/^\*+$/,yut=t=>t.length!==0&&!t.startsWith("."),but=t=>t.length!==0&&t!=="."&&t!=="..",xut=/^\?+([^+@!?\*\[\(]*)?$/,Eut=([t,e=""])=>{let r=GNe([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Tut=([t,e=""])=>{let r=jNe([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Sut=([t,e=""])=>{let r=jNe([t]);return e?n=>r(n)&&n.endsWith(e):r},Cut=([t,e=""])=>{let r=GNe([t]);return e?n=>r(n)&&n.endsWith(e):r},GNe=([t])=>{let e=t.length;return r=>r.length===e&&!r.startsWith(".")},jNe=([t])=>{let e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},VNe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",BNe={win32:{sep:"\\"},posix:{sep:"/"}},Iut=VNe==="win32"?BNe.win32.sep:BNe.posix.sep;us.sep=Iut;var wu=Symbol("globstar **");us.GLOBSTAR=wu;var wut="[^/]",Aut=wut+"*?",Rut="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Put="(?:(?!(?:\\/|^)\\.).)*?",Nut=(t,e={})=>r=>us(r,t,e);us.filter=Nut;var Iu=(t,e={})=>Object.assign({},t,e),Dut=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return us;let e=us;return Object.assign((n,i,o={})=>e(n,i,Iu(t,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,Iu(t,o))}static defaults(i){return e.defaults(Iu(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,Iu(t,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,Iu(t,o))}},unescape:(n,i={})=>e.unescape(n,Iu(t,i)),escape:(n,i={})=>e.escape(n,Iu(t,i)),filter:(n,i={})=>e.filter(n,Iu(t,i)),defaults:n=>e.defaults(Iu(t,n)),makeRe:(n,i={})=>e.makeRe(n,Iu(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,Iu(t,i)),match:(n,i,o={})=>e.match(n,i,Iu(t,o)),sep:e.sep,GLOBSTAR:wu})};us.defaults=Dut;var zNe=(t,e={})=>(zR(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,HNe.default)(t));us.braceExpand=zNe;var kut=(t,e={})=>new DS(t,e).makeRe();us.makeRe=kut;var Lut=(t,e,r={})=>{let n=new DS(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};us.match=Lut;var qNe=/[?*]|[+@!]\(.*?\)|\[|\]/,Out=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),DS=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,r={}){zR(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||VNe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=o[0]===""&&o[1]===""&&(o[2]==="?"||!qNe.test(o[2]))&&!qNe.test(o[3]),c=/^[a-z]:/i.test(o[0]);if(u)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(c)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(u=>this.parse(u))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],u=n[i+2],c=n[i+3];if(a!==".."||!u||u==="."||u===".."||!c||c==="."||c==="..")continue;r=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(r=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){r=!0;let u=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...u),n.length===0&&n.push(""),o-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){let i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);i&&(e[r]=i,e[n]=[])}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<r.length;)if(e[i]===r[o])s.push(a==="b"?r[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&r[o]===e[i+1])s.push(e[i]),i++;else if(n&&r[o]==="**"&&e[i]===r[o+1])s.push(r[o]),o++;else if(e[i]==="*"&&r[o]&&(this.options.dot||!r[o].startsWith("."))&&r[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(r[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(r[o]),i++,o++}else return!1;return e.length===r.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){let i=this.options;if(this.isWindows){let h=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),g=!h&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),v=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),_=!v&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),y=g?3:h?0:void 0,x=_?3:v?0:void 0;if(typeof y=="number"&&typeof x=="number"){let[b,T]=[e[y],r[x]];b.toLowerCase()===T.toLowerCase()&&(r[x]=b,x>y?r=r.slice(x):y>x&&(e=e.slice(y)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,a=0,u=e.length,c=r.length;s<u&&a<c;s++,a++){this.debug("matchOne loop");var l=r[a],f=e[s];if(this.debug(r,l,f),l===!1)return!1;if(l===wu){this.debug("GLOBSTAR",[r,l,f]);var p=s,m=a+1;if(m===c){for(this.debug("** at the end");s<u;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;p<u;){var d=e[p];if(this.debug(`
globstar while`,e,p,r,m,d),this.matchOne(e.slice(p),r.slice(m),n))return this.debug("globstar found match!",p,u,d),!0;if(d==="."||d===".."||!i.dot&&d.charAt(0)==="."){this.debug("dot detected!",e,p,r,m);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,m),p===u))}let h;if(typeof l=="string"?(h=f===l,this.debug("string match",l,f,h)):(h=l.test(f),this.debug("pattern match",l,f,h)),!h)return!1}if(s===u&&a===c)return!0;if(s===u)return n;if(a===c)return s===u-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return zNe(this.pattern,this.options)}parse(e){zR(e);let r=this.options;if(e==="**")return wu;if(e==="")return"";let n,i=null;(n=e.match(_ut))?i=r.dot?but:yut:(n=e.match(cut))?i=(r.nocase?r.dot?put:fut:r.dot?lut:uut)(n[1]):(n=e.match(xut))?i=(r.nocase?r.dot?Tut:Eut:r.dot?Sut:Cut)(n):(n=e.match(dut))?i=r.dot?hut:mut:(n=e.match(gut))&&(i=vut);let o=NS.fromGlob(e,this.options).toMMPattern();return i?Object.assign(o,{test:i}):o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?Aut:r.dot?Rut:Put,i=new Set(r.nocase?["i"]:[]),o=e.map(u=>{let c=u.map(l=>{if(l instanceof RegExp)for(let f of l.flags.split(""))i.add(f);return typeof l=="string"?Out(l):l===wu?wu:l._src});return c.forEach((l,f)=>{let p=c[f+1],m=c[f-1];l!==wu||m===wu||(m===void 0?p!==void 0&&p!==wu?c[f+1]="(?:\\/|"+n+"\\/)?"+p:c[f]=n:p===void 0?c[f-1]=m+"(?:\\/|"+n+")?":p!==wu&&(c[f-1]=m+"(?:\\/|\\/"+n+"\\/)"+p,c[f+1]=wu))}),c.filter(l=>l!==wu).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let u=o[a],c=i;if(n.matchBase&&u.length===1&&(c=[s]),this.matchOne(c,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return us.defaults(e).Minimatch}};us.AST=NS;us.Minimatch=DS;us.escape=zee;us.unescape=F0;var S9=class t{constructor(e){this.accessor=e;this._contentExclusionCache=new Map;this._contentExclusionFetchPromise=void 0;this._isEnabled=!1;this._disposables=[];this._disposables.push(e.get(Go).onCopilotToken(n=>{this._isEnabled=n.envelope.copilotignore_enabled??!1}));let r=new gN;this._disposables.push(r),r.cancelAndSet(()=>{this._contentExclusionFetchPromise||(this._contentExclusionFetchPromise=this.fetchContentExclusionRules())},30*60*1e3)}static{this.CONTENT_EXCLUSION_ENDPOINT="https://api.github.com/copilot_internal/content_exclusion"}isIgnored(e){if(!this._isEnabled)return!1;this.shouldFetchContentExclusionRules()&&!this._contentExclusionFetchPromise&&(this._contentExclusionFetchPromise=this.fetchContentExclusionRules());for(let n of this._contentExclusionCache.values())for(let i of n)if(i=i.startsWith("/")?`**${i}`:i,us(e.path,i,{nocase:!0,matchBase:!0,nonegate:!0}))return!0;let r=this.accessor.get(ec).getRepository(e);for(let n of r?.remoteFetchUrls??[])if(n&&!this._contentExclusionCache.has(n))return!0;return!1}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[],this._contentExclusionCache.clear()}shouldFetchContentExclusionRules(){if(!this._isEnabled)return!1;let e=this.getRemoteFetchUrls();if(e.length===0)return!1;if(e.length!==this._contentExclusionCache.size)return!0;for(let r of e)if(!this._contentExclusionCache.has(r))return!0;return!1}async fetchContentExclusionRules(){let e=this.accessor.get(Yr),r=await this.accessor.get(gt).getAnyGitHubToken(),n=this.getRemoteFetchUrls();for(let i=0;i<n.length;i+=10){let o=n.slice(i,i+10),s=o.join(","),a=new URL(t.CONTENT_EXCLUSION_ENDPOINT);a.searchParams.set("repos",s);let u=await e.fetch(a.toString(),{headers:{Authorization:`token ${r}`}});if(!u.ok)continue;let c=await u.json();for(let l=0;l<c.length;l++){let f=c[l].rules.map(m=>m.paths).flat(),p=o[l];this._contentExclusionCache.set(p,f)}this._contentExclusionFetchPromise=void 0}}getRemoteFetchUrls(){let r=this.accessor.get(ec).repositories;return r?Er(r.map(n=>n?.remoteFetchUrls).flat()):[]}};var C9=".copilotignore",I9=".gitignore",w9=class{constructor(e,r,n){this.accessor=e;this.searchService=r;this.fs=n;this._gitIgnoreFiles=new jR;this._copilotIgnoreFiles=new jR;this._disposables=[];this._remoteContentExclusions=new S9(e),this._disposables.push(this._remoteContentExclusions)}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[]}isIgnored(e,r){let n=this._gitIgnoreFiles.isIgnored(e),i=this._copilotIgnoreFiles.isIgnored(e)||this._remoteContentExclusions.isIgnored(e);return!r||r.includeGitIgnore&&r.includeCopilotIgnore?n||i:r.includeGitIgnore&&!r.includeCopilotIgnore?n:!r.includeGitIgnore&&r.includeCopilotIgnore?i:!1}isCopilotIgnored(e){return this.isIgnored(e,{includeCopilotIgnore:!0,includeGitIgnore:!1})}isGitIgnored(e){return this.isIgnored(e,{includeCopilotIgnore:!1,includeGitIgnore:!0})}asMinimatchPattern(e){let r=[];e.includeCopilotIgnore&&r.push(this._copilotIgnoreFiles.asMinimatchPatterns()),e.includeGitIgnore&&r.push(this._gitIgnoreFiles.asMinimatchPatterns());let n=r.flat();if(n.length!==0)return n.length===1?n[0]:`{${n.join(",")}}`}init(){return this._init??=(async()=>{for(let e of this.accessor.get(ot).getWorkspaceFolders())await this.addWorkspace(e),await this._remoteContentExclusions.fetchContentExclusionRules()})(),this._init}trackIgnoreFile(e,r){e.path.endsWith(I9)?this._gitIgnoreFiles.setIgnoreFile(e,r):e.path.endsWith(C9)&&this._copilotIgnoreFiles.setIgnoreFile(e,r)}removeIgnoreFile(e){e.path.endsWith(I9)?this._gitIgnoreFiles.removeIgnoreFile(e):e.path.endsWith(C9)&&this._copilotIgnoreFiles.removeIgnoreFile(e)}removeWorkspace(e){this._gitIgnoreFiles.removeWorkspace(e),this._copilotIgnoreFiles.removeWorkspace(e)}isIgnoreFile(e){return e.path.endsWith(I9)?!0:!!e.path.endsWith(C9)}async addWorkspace(e){if(e.scheme!=="file")return;let r=await this.searchService.findFilesWithDefaultExcludes(new Ib(e,`**/{${C9},${I9}}`),void 0,Oc.None);for(let n of r){let i=(await this.fs.readFile(n)).toString();this.trackIgnoreFile(n,i)}}};var A9=class extends w9{constructor(e,r,n){super(e,r,n),this.installListeners()}installListeners(){this._disposables.push(d1.workspace.onDidChangeWorkspaceFolders(e=>{for(let r of e.removed)this.removeWorkspace(r.uri);for(let r of e.added)this.addWorkspace(r.uri)})),this._disposables.push(d1.workspace.onDidSaveTextDocument(async e=>{if(this.isIgnoreFile(e.uri)){let r=(await d1.workspace.fs.readFile(e.uri)).toString();this.trackIgnoreFile(e.uri,r)}}),d1.workspace.onDidDeleteFiles(e=>{for(let r of e.files)this.removeIgnoreFile(r)}),d1.workspace.onDidRenameFiles(async e=>{for(let r of e.files)if(this.isIgnoreFile(r.newUri)){let n=(await d1.workspace.fs.readFile(r.newUri)).toString();this.removeIgnoreFile(r.oldUri),this.trackIgnoreFile(r.newUri,n)}}))}};var U0=class{constructor(){this.cache=new Map}get(e){return this.cache.get(e)}set(e,r){this.cache.set(e,r)}};var d4e=Ie(require("fs"));var ua=class{},m4e=(t,e=process.platform)=>new Jte(t.get(Go),xdt(e,t),new sre),Jte=class extends ua{constructor(r,n,i){super();this.realReader=n;this.noopReader=i;this.delegate=n,r.onCopilotToken(o=>{this.delegate=o.token.getTokenValue("ssc")==="1"?this.realReader:this.noopReader})}getAllRootCAs(){return this.delegate.getAllRootCAs()}},xdt=(t,e)=>{let r=e.get(U0).get(t);if(r)return r;let n=Edt(t,e),i=new tre(n),o=new ere(i),s=new Zte(e,o);return e.get(U0).set(t,s),s},Edt=(t,e)=>{switch(t){case"linux":return new rre;case"darwin":return new nre;case"win32":return new ire(e);default:return new ore}},Zte=class extends ua{constructor(r,n){super();this.accessor=r;this.delegate=n}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return this.accessor.get(Ae).getLogger("certificates").warn(`Failed to read root certificates: ${r}`),[]}}},ere=class extends ua{constructor(r){super();this.delegate=r}async getAllRootCAs(){return this.certificates||(this.certificates=await this.delegate.getAllRootCAs()),this.certificates}},tre=class extends ua{constructor(r){super();this.delegate=r}async getAllRootCAs(){let r=await this.delegate.getAllRootCAs(),n=process.env.NODE_EXTRA_CA_CERTS;if(!n)return r;let i=await h4e(n);return r.concat(i)}},rre=class extends ua{async getAllRootCAs(){let e=[];for(let r of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let n=await h4e(r);e=e.concat(n)}return e}},nre=class extends ua{async getAllRootCAs(){let e=p4e();return e.all(e.der2.pem).filter(r=>r!==void 0)}},ire=class extends ua{constructor(r){super();this.accessor=r}async getAllRootCAs(){return await this.accessor.get(Ch).loadCaCerts()||[]}},ore=class extends ua{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}},sre=class extends ua{async getAllRootCAs(){return[]}};async function h4e(t){try{let n=(await d4e.promises.readFile(t,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(o=>o.length>0),i=new Set(n);return Array.from(i)}catch(e){if(e?.code!=="ENOENT")throw e}return[]}var g4e=Ie(require("http"));var Tdt=407,X0=class{},bm=class extends Error{constructor(r,n,i){super(r);this.cause=n;this.responseStatus=i}};function v4e(t){return new are(t,new cre(t))}var are=class extends X0{constructor(r,n,i=process.platform){super();this.accessor=r;this.delegate=n;this.platform=i;this.successfullyAuthorized=new L1(20);this.logger=r.get(Ae).getLogger("proxy-socket-factory")}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(this.logger.debug("Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(i){if(i instanceof bm&&i.responseStatus===Tdt){this.logger.debug("Proxy authorization required, trying to authorize first time");let o=await this.authorizeAndCreateSocket(r,n);if(o)return this.logger.debug("Proxy authorization successful, caching result"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),o}throw i}}async reauthorize(r,n){let i=await this.authorize(n);i&&(this.logger.debug("Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+i)}async authorizeAndCreateSocket(r,n){let i=await this.authorize(n);if(this.logger.debug("Proxy authorization successful, received token"),i)return this.logger.debug("Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+i,await this.delegate.createSocket(r,n)}async authorize(r){this.logger.debug("Loading kerberos module");let n=await Sdt(this.accessor);if(!n){this.logger.debug("Could not load kerberos module");return}let i=this.computeSpn(r);this.logger.debug("Initializing kerberos client using spn",i);let o=await n.initializeClient(i);this.logger.debug("Perform client side kerberos step");let s=await o.step("");return this.logger.debug("Received kerberos server response"),s}computeSpn(r){let n=this.accessor.get(Be),i=n.isDefaultSettingOverwritten(qe.KerberosServicePrincipal)?n.getConfig(qe.KerberosServicePrincipal):r.kerberosServicePrincipal;if(i)return this.logger.debug("Using configured kerberos spn",i),i;let o=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return this.logger.debug("Using default kerberos spn",o),o}getProxyCacheKey(r){return r.host+":"+r.port}},cre=class extends X0{constructor(r){super();this.logger=r.get(Ae).getLogger("proxy-socket-factory")}async createSocket(r,n){let i=this.createConnectRequestOptions(r,n);return new Promise((o,s)=>{this.logger.debug("Attempting to establish connection to proxy");let a=g4e.request(i);a.useChunkedEncodingByDefault=!1,a.once("connect",(u,c,l)=>{this.logger.debug("Socket Connect returned status code",u.statusCode),a.removeAllListeners(),c.removeAllListeners(),u.statusCode!==200?(c.destroy(),s(new bm("tunneling socket could not be established",void 0,u.statusCode))):l.length>0?(c.destroy(),s(new bm("got illegal response body from proxy"))):(this.logger.debug("Successfully established tunneling connection to proxy"),o(c))}),a.once("error",u=>{this.logger.debug("Proxy socket connection error",u.message),a.removeAllListeners(),s(new bm("tunneling socket could not be established",u))}),a.on("timeout",()=>{this.logger.debug("Proxy socket connection timeout"),s(new bm(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${i.host}:${i.port}`))}),a.end()})}createConnectRequestOptions(r,n){let i={...n,method:"CONNECT",path:r.host+":"+r.port,agent:!1,headers:{host:r.host+":"+r.port,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(i.localAddress=r.localAddress),this.configureProxyAuthorization(i,r),i}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};async function Sdt(t){try{return t.get(Sh).loadKerberos()}catch{return}}var Cdt=Ie(require("http")),Idt=Ie(require("https"));var u7=class extends Gm{constructor(r){super();this._runtimeInfoService=r}fetch(r,n){let i=n.headers||{};i["User-Agent"]=`GitHubCopilotChat/${this._runtimeInfoService.getVersion()}`;let o=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");i["Content-Type"]="application/json",o=JSON.stringify(n.json)}let s=n.method||"GET";if(s!=="GET"&&s!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");let a=n.signal??new AbortController().signal;if(a&&!(a instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");return this._fetch(r,s,i,o,a)}_fetch(r,n,i,o,s){return new Promise((a,u)=>{let l=(r.startsWith("https:")?Idt:Cdt).request(r,{method:n,headers:i},f=>{if(s.aborted){f.destroy(),l.destroy(),u(ure(s));return}let p=new lre(l,f,s);a(new km(f.statusCode||0,f.statusMessage||"",p.headers,async()=>p.text(),async()=>p.json(),async()=>p.body()))});l.setTimeout(60*1e3),l.on("error",u),o&&l.write(o),l.end()})}async disconnectAll(){}makeAbortController(){return new AbortController}isAbortError(r){return wdt(r)}isDNSLookupFailedError(r){return r&&r.code==="ENOTFOUND"}isFetcherError(r){return r&&["EADDRINUSE","ECONNREFUSED","ECONNRESET","ENOTFOUND","EPIPE","ETIMEDOUT"].includes(r.code)}};function ure(t){return t.reason}function wdt(t){return t&&t.name==="AbortError"}var lre=class{constructor(e,r,n){this.req=e;this.res=r;this.signal=n;this.headers=new class{get(i){let o=r.headers[i];return Array.isArray(o)?o[0]:o??null}[Symbol.iterator](){let i=Object.keys(r.headers),o=0;return{next:()=>{if(o>=i.length)return{done:!0,value:void 0};let s=i[o++];return{done:!1,value:[s,this.get(s)]}}}}}}text(){return new Promise((e,r)=>{let n=[];this.res.on("data",i=>n.push(i)),this.res.on("end",()=>e(Buffer.concat(n).toString())),this.res.on("error",r),this.signal.addEventListener("abort",()=>{this.res.destroy(),this.req.destroy(),r(ure(this.signal))})})}async json(){let e=await this.text();return JSON.parse(e)}async body(){return this.signal.addEventListener("abort",()=>{this.res.emit("error",ure(this.signal)),this.res.destroy(),this.req.destroy()}),this.res}};var fre=require("stream");var l7=class t extends Gm{constructor(r,n){super();this._net=r;this._runtimeInfoService=n}static create(r){let n=Adt();return n?new t(n,r):null}async fetch(r,n){let i=n.headers||{};i["User-Agent"]=`GitHubCopilotChat/${this._runtimeInfoService.getVersion()}`;let o=n.body;if(n.json){if(n.body)throw new Error("Illegal arguments! Cannot pass in both 'body' and 'json'!");i["Content-Type"]="application/json",o=JSON.stringify(n.json)}let s=n.method||"GET";if(s!=="GET"&&s!=="POST")throw new Error("Illegal arguments! 'method' must be either 'GET' or 'POST'!");let a=n.signal??new AbortController().signal;if(a&&!(a instanceof AbortSignal))throw new Error("Illegal arguments! 'signal' must be an instance of AbortSignal!");return this._fetch(r,s,i,o,a)}async _fetch(r,n,i,o,s){let a=await this._net.fetch(r,{method:n,headers:i,body:o,signal:s});return new km(a.status,a.statusText,a.headers,()=>a.text(),()=>a.json(),async()=>{if(!a.body)return fre.Readable.from([]);let u=a.body[Symbol.asyncIterator]();return fre.Readable.from(u)})}async disconnectAll(){}makeAbortController(){return new AbortController}isAbortError(r){return r&&r.name==="AbortError"}isDNSLookupFailedError(r){return r.message==="net::ERR_INTERNET_DISCONNECTED"}isFetcherError(r){return r&&r.message&&r.message.startsWith("net::")}};function Adt(){try{return require("electron").net}catch{}}var eC=Ie(xLe(),1),wRr={ALPN_HTTP2:eC.default.ALPN_HTTP2,ALPN_HTTP2C:eC.default.ALPN_HTTP2C,ALPN_HTTP1_1:eC.default.ALPN_HTTP1_1,ALPN_HTTP1_0:eC.default.ALPN_HTTP1_0},{fetch:ARr,context:ELe,reset:RRr,noCache:PRr,h1:NRr,keepAlive:DRr,h1NoCache:kRr,keepAliveNoCache:LRr,cacheStats:ORr,clearCache:MRr,offPush:FRr,onPush:URr,createUrl:BRr,timeoutSignal:qRr,Body:HRr,Headers:GRr,Request:jRr,Response:VRr,AbortController:TLe,AbortError:SLe,AbortSignal:zRr,FetchBaseError:YRr,FetchError:qre,ALPN_HTTP2:$Rr,ALPN_HTTP2C:WRr,ALPN_HTTP1_1:KRr,ALPN_HTTP1_0:XRr}=eC.default;var CLe=Ie(require("tls"));var w7=class{constructor(e){this._certificateReader=e.get(ua)}async enhanceProxySettings(e){let r=await this.getCertificates();return{...e,ca:r}}async getCertificates(){let e=await this._certificateReader.getAllRootCAs();if(e.length!==0)return e}async applyToRequestOptions(e){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};e.secureContext=CLe.createSecureContext(n),e.ca=r,e.cert=r,r.map(i=>{e.secureContext.context.addCACert(i)})}};var A7=class extends Gm{constructor(r){super();this.accessor=r;this.createSocketFactory=(r,n)=>async i=>{i.rejectUnauthorized=n,i.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.enhanceProxySettings(r);try{return await this.proxySocketFactory.createSocket(i,o)}catch(s){throw s instanceof bm&&s.cause?new Error(`${s.message}, cause=${s.cause.message}`):new Error(s.message)}};this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new w7(r),this.proxySocketFactory=r.get(X0)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.accessor)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){this._rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.accessor)}get rejectUnauthorized(){return this._rejectUnauthorized}createFetchApi(r){let n=r.get(Vt);return ELe({userAgent:`GitHubCopilotChat/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,this.rejectUnauthorized):void 0,rejectUnauthorized:this.rejectUnauthorized})}async fetch(r,n){let i={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(i);let o=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(o);let s=await this.fetchApi.fetch(r,i);return new km(s.status,s.statusText,s.headers,()=>s.text(),()=>s.json(),async()=>s.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new TLe}isAbortError(r){return r instanceof SLe}isDNSLookupFailedError(r){return r instanceof qre&&r.code==="ENOTFOUND"}isFetcherError(r){return r instanceof qre}};var wLe=require("net"),ALe=require("url"),tC=require("vscode");function Jht(t){return t.HTTPS_PROXY||t.https_proxy||t.HTTP_PROXY||t.http_proxy||null}function RLe(t,e){tC.workspace.onDidChangeConfiguration(r=>{let n=r.affectsConfiguration("http.proxy");(r.affectsConfiguration("http.proxyStrictSSL")||r.affectsConfiguration("http.proxyAuthorization")||r.affectsConfiguration("http.proxyKerberosServicePrincipal")||n)&&ILe(t,e,n)}),ILe(t,e)}var ILe=(t,e,r)=>{let i=tC.workspace.getConfiguration("http").get("proxy")||Jht(e);if(i){let o={},s=tC.workspace.getConfiguration("http").get("proxyAuthorization"),a=tC.workspace.getConfiguration("http").get("proxyStrictSSL",!0);s&&(o["Proxy-Authorization"]=s);let u=i,c=i.split(":");if(c.length>2){if(i.includes("[")){let v=i.indexOf("["),_=i.indexOf("]");u=i.substring(v+1,_)}}else u=c[0];let l=(0,wLe.isIP)(u);l===4?i=`https://${i}`:l===6&&(i.includes("[")?i.startsWith("https://")||(i=`https://${i}`):i=`https://[${i}]`);let{hostname:f,port:p,username:m,password:d}=Zht(i),h=m&&d&&`${decodeURIComponent(m)}:${decodeURIComponent(d)}`;t.proxySettings={host:f,port:parseInt(p),proxyAuth:h,headers:o};let g=tC.workspace.getConfiguration("http").get("proxyKerberosServicePrincipal");g&&(t.proxySettings.kerberosServicePrincipal=g),t.rejectUnauthorized=a}else r&&!i&&(t.proxySettings=void 0)};function Zht(t){try{return new ALe.URL(t)}catch{throw new Error(`Invalid proxy URL: '${t}'`)}}var R7=class extends A7{constructor(e){super(e),RLe(this,process.env)}};var P7=class{get fetchStrategy(){return this._fetchStrategy}set fetchStrategy(e){e===2&&!this._electronFetcher&&(this._logger.warn("Cannot use Electron fetcher: Electron net module is not available!"),e=0),this._logger.info(`Using ${BP[e]} fetcher`),this._fetchStrategy=e}get _fetcher(){switch(this.fetchStrategy){case 1:return this._nodeFetcher;case 0:return this._helixFetcher;case 2:return this._electronFetcher??this._helixFetcher}}constructor(e){this._logger=e.get(Ae).getLogger("FetcherService"),this._nodeFetcher=new u7(e.get(Vt)),this._helixFetcher=new R7(e),this._electronFetcher=l7.create(e.get(Vt)),this._fetchStrategy=0;let r=e.get(Be).getConfig(qe.DebugUseElectronFetcher),n=e.get(Be).getConfig(qe.DebugUseNodeFetcher);this.fetchStrategy=r?2:n?1:0}fetch(e,r){return this._fetcher.fetch(e,r)}disconnectAll(){return this._fetcher.disconnectAll()}makeAbortController(){return this._fetcher.makeAbortController()}isAbortError(e){return this._fetcher.isAbortError(e)}isDNSLookupFailedError(e){return this._fetcher.isDNSLookupFailedError(e)}isFetcherError(e){return this._fetcher.isFetcherError(e)}};var D7=Ie(require("vscode")),N7=class{async open(e){await D7.commands.executeCommand("vscode.open",D7.Uri.parse(e))}};var hP=Ie(require("vscode"));var k7=class extends Vt{get sessionId(){return hP.env.sessionId}get machineId(){return hP.env.machineId}getEditorInfo(){return new uC("vscode",hP.version)}getEditorPluginInfo(){return new uC("copilot-chat",Xa.version)}};var L7=class{sendEventData(e,r){throw new Error("Telemetry disabled")}sendErrorData(e,r){throw new Error("Telemetry disabled")}flush(){return Promise.resolve()}};function PLe(t){return t.replace(/([\s|(]|file:\/\/)(\/[^\s]+)/g,"$1[redacted]").replace(/([\s|(]|file:\/\/)([a-zA-Z]:[(\\|/){1,2}][^\s]+)/gi,"$1[redacted]").replace(/([\s|(]|file:\/\/)(\\[^\s]+)/gi,"$1[redacted]")}var Hre=class{getReporter(e,r){if(!r)return this.reporter;if(O7(e))return this.reporterSecure;if(pce(e))return new L7}setReporter(e){this.reporter=e}setSecureReporter(e){this.reporterSecure=e}async deactivate(){let e=Promise.resolve();this.reporter&&(e=this.reporter.flush?this.reporter.flush():void 0,this.reporter=void 0);let r=Promise.resolve();this.reporterSecure&&(r=this.reporterSecure.flush?this.reporterSecure.flush():void 0,this.reporterSecure=void 0),await Promise.all([e,r])}},gP=class{constructor(e){this.accessor=e;this.reporters=new Hre;this.openPromises=void 0}withPromise(e){return this.openPromises?(this.openPromises.add(e),e.then(r=>{this.openPromises?.delete(e)})):e}async enablePromiseTracking(e){e?this.openPromises||(this.openPromises=new Set):await this.awaitOpenPromises(void 0)}setSecureReporter(e){this.reporters.setSecureReporter(e)}setReporter(e){this.reporters.setReporter(e)}async sendTelemetry(e,r){await this.withPromise(this._sendTelemetry(e,r,!1))}async sendRestrictedTelemetry(e,r){await this.withPromise(this._sendTelemetry(e,r,!0))}async sendErrorTelemetry(e,r){await this.withPromise(this._sendErrorTelemetry(e,r,!1))}async sendRestrictedErrorTelemetry(e,r){await this.withPromise(this._sendErrorTelemetry(e,r,!0))}async sendExpProblemTelemetry(e){await this.withPromise(this._sendExpProblemTelemetry(e))}async sendExceptionTelemetry(e,r){await this.withPromise(this._sendExceptionTelemetry(e,r))}async deactivate(){await this.awaitOpenPromises(new Set),await this.reporters.deactivate()}async awaitOpenPromises(e){if(this.openPromises){let r=[...this.openPromises.values()];this.openPromises=e,await Promise.all(r)}}async _sendTelemetry(e,r,n){if(n&&!O7(this.accessor))return;let i=r||Ir.createAndMarkAsIssued({},{});await i.makeReadyForSending(this.accessor,n??!1,"IncludeExp"),this.sendTelemetryEvent(n??!1,e,i)}async _sendExpProblemTelemetry(e){let r="expProblem",n=Ir.createAndMarkAsIssued(e,{});await n.makeReadyForSending(this.accessor,!1,"SkipExp"),this.sendTelemetryEvent(!1,r,n)}async _sendExceptionTelemetry(e,r){let n=e instanceof Error?e:new Error("Non-error thrown: "+e),i=O7(this.accessor),o=Ir.createAndMarkAsIssued({origin:PLe(r),reason:i?"Exception logged to restricted telemetry":"Exception, not logged due to opt-out"});if(await o.makeReadyForSending(this.accessor,!1,"IncludeExp"),this.sendTelemetryEvent(!1,"exception",o),!i)return;let s=Ir.createAndMarkAsIssued({origin:r});await s.makeReadyForSending(this.accessor,!0,"IncludeExp"),this.sendTelemetryException(!0,n,s)}async _sendErrorTelemetry(e,r,n){if(n&&!O7(this.accessor))return;let i=r||Ir.createAndMarkAsIssued({},{});await i.makeReadyForSending(this.accessor,n??!1,"IncludeExp"),this.sendTelemetryErrorEvent(n??!1,e,i)}sendTelemetryEvent(e,r,n){let i=this.reporters.getReporter(this.accessor,e);if(i){let o=Ir.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties);i.sendEventData(r,{...o,...n.measurements})}}sendTelemetryException(e,r,n){let i=this.reporters.getReporter(this.accessor,e);if(i){let o=Ir.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties);i.sendErrorData(r,{...o,...n.measurements})}}sendTelemetryErrorEvent(e,r,n){let i=this.reporters.getReporter(this.accessor,e);if(i){let o=Ir.maybeRemoveRepoInfoFromPropertiesHack(e,n.properties);i.sendEventData(r,{...o,...n.measurements})}}};function O7(t){return t.get(Ip).optedIn}function NLe(t){t.define(qc,new qc(t)),t.define(Vt,new k7),t.define(AS,new b9),t.define(xt,new gP(t)),t.define(Kp,Kp.fromEnvironment(!1)),t.define(Go,new Go);let e=new A9(t,new Ob,new PS);t.define(Ar,e),t.define(U0,new U0),t.define(ua,m4e(t)),t.define(X0,v4e(t)),t.define(Yr,new P7(t)),t.define(Ip,new Ip(t)),t.define(Dm,new Dm),t.define($1,new $1),t.define(cv,new cv),t.define(z1,new N7),t.define(Ll,new HP),t.define(Zi,new x9(t)),t.define(Oi,new kb(t)),t.define(rc,new rc(t)),t.define(s1,new s1(t)),t.define(Xp,new Xp(t)),t.define(Sv,new Sv(t)),t.define(Cv,new Cv(t))}var egt=Hr.window.createOutputChannel("GitHub Copilot Chat",{log:!0});async function tgt(t,e){if(t.extensionMode===Hr.ExtensionMode.Test&&!e)return t;Hr.l10n.bundle&&M7.config({contents:Hr.l10n.bundle});let r=await kLe(t);t.subscriptions.push(LLe(r));let n=r.get(xt),i=r.get(pt);if(await(async()=>{let s=a=>{let u=a.message||a;n.sendErrorTelemetry("activationFailed",Ir.createAndMarkAsIssued({reason:u})),n.deactivate();let c=u==="GitHubLoginFailed"?Gq:`GitHub Copilot could not connect to server. Extension activation failed: "${u}"`;r.get(Ae).defaultLogger.error(c),Hr.commands.executeCommand("setContext","github.copilot.activated",!1);let l=Hr.authentication.onDidChangeSessions(async f=>{try{await gce(f,r)!==void 0&&(Hr.commands.executeCommand("setContext","github.copilot.activated",!0),_P(r),l.dispose())}catch(p){_P(r,p),s(p)}})};try{await r.get(gt).getCopilotToken(r),Hr.commands.executeCommand("setContext","github.copilot.activated",!0)}catch(a){r.get(Yr).isDNSLookupFailedError(a)&&t.subscriptions.push(ngt(r,s)),_P(r,a),s(a)}t.subscriptions.push(Hr.workspace.onDidChangeConfiguration(a=>wce(a,r))),$Pe(r),Rm.start(r),n.sendTelemetry("extension.activate"),i.sendGHTelemetryEvent("extension.activate")})(),Hr.ExtensionMode.Test===t.extensionMode)return r}async function kLe(t){let e=new cC;e.define(Be,new ok),e.define(Ae,new Ae([new YP,new $P(egt)],e.get(Be)));let r=new Lv;e.define(Lv,r),t.subscriptions.push(r),e.define(qn,new Ck(e.get(Ae),!0)),NLe(e),e.define(vo,t),e.define(zu,new zu(e)),e.define(Fp,new Ak(e));let n=new Rk(e.get(Ar));e.define(Wr,n),e.define(Th,new dk(e)),e.define(Eh,new fk(e)),e.define(ec,new mk),e.define(xh,new gk(e)),e.define(di,new vk(e.get(Ar))),e.define(Hs,new ak),e.define(Ja,new _k(e.get(Ar))),e.define(Sh,new yk),e.define(Ch,new xk),e.define(_s,new OM),e.define($l,new sk),e.define(Us,new Us(e)),e.define(wP,new HM(e));let i=t.extension.packageJSON.internalAIKey??"",o=t.extension.packageJSON.ariaKey??"";if(t.extensionMode===Hr.ExtensionMode.Test)e.define(Kp,Kp.fromEnvironment(!0)),e.define(gt,fce()),e.define(z1,new nk),await DLe(e,t,i,o,"copilot-test",!0);else{let u=new g9(e.get(Be));t.subscriptions.push(u),e.define(gt,u),e.define(Ll,new qP),await DLe(e,t,i,o,t.extension.packageJSON.name,Hr.env.isTelemetryEnabled),await e.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.useElectronFetcher",!0)?e.get(Yr).fetchStrategy=2:await e.get(Xi).getTreatmentVariableAsync("vscode","copilotchat.useNodeFetcher",!0)&&(e.get(Yr).fetchStrategy=1)}e.define(Tr,new SN(e)),e.define(Mr,new Mr),e.define(Oi,new kb(e)),e.define(sf,new s9(e)),e.define(av,new h9),e.define(Dv,new ck),e.define(Pp,new bk(e.get(Be))),e.define(Mc,{maxResponseTokens:void 0,temperature:.1,topP:1,additionalPromptContext:e.get(Be).getConfig(qe.ConversationAdditionalPromptContext),rejectionMessage:M7.t("Sorry, but I can only assist with programming related questions.")}),Ece(e);let s=new MM(e);e.define(ot,s),e.define(vh,new vh(e,e.get(Oi))),e.define(_h,new _h(e,e.get(Oi))),e.define(Wp,new Wp(e)),e.define($p,new $p(e)),e.define(Yu,new Yu(e));let a=new p1(e);return e.define(p1,a),t.subscriptions.push(a),e.define(CN,new a9),e.define(ef,new Ik(e)),e.define(Av,new Av),t.subscriptions.push(e.get(Ar)),e.get(Ar).init(),e.seal(),e}async function rgt(t,e){if(Hr.ExtensionMode.Production===e.extensionMode){let r=t.get(pt),n=await IEe(e,r,t.get(Vt).isPreRelease());t.define(Xi,n)}else t.define(Xi,new KP)}async function DLe(t,e,r,n,i,o){let s=await G3(t,i,o),a=Hr.env.onDidChangeTelemetryEnabled(async u=>{s?.dispose(),s=await G3(t,e.extension.packageJSON.name,u&&Hr.env.isTelemetryEnabled)});if(e.subscriptions.push(a),e.subscriptions.push(new Hr.Disposable(()=>s?.dispose())),Hr.ExtensionMode.Production===e.extensionMode){let u=new kM(e.extension.packageJSON.name,t,r,n,H3);t.define(pt,u),e.subscriptions.push(u)}else t.define(pt,new Pk);rgt(t,e)}function LLe(t){return{dispose:async()=>{let e=t.get(xt);await e.sendTelemetry("extension.deactivate"),e.deactivate()}}}var vP={Offline:"github.copilot.offline",IndividualDisabled:"github.copilot.interactiveSession.individual.disabled",IndividualExpired:"github.copilot.interactiveSession.individual.expired",EnterpriseDisabled:"github.copilot.interactiveSession.enterprise.disabled"};function _P(t,e){let r=Object.values(vP),n;t.get(Yr).isDNSLookupFailedError(e)?n=vP.Offline:e instanceof BR?n=vP.IndividualDisabled:e instanceof qR?n=vP.IndividualExpired:e instanceof HR&&(n=vP.EnterpriseDisabled),n&&Hr.commands.executeCommand("setContext",n,!0);for(let o of r)o!==n&&Hr.commands.executeCommand("setContext",o,!1)}function ngt(t,e){return Hr.commands.registerCommand("github.copilot.offline",async()=>{try{await t.get(gt).getCopilotToken(t),Hr.commands.executeCommand("setContext","github.copilot.activated",!0),_P(t)}catch(r){if(t.get(Yr).isDNSLookupFailedError(r))return;_P(t,r),e(r)}})}0&&(module.exports={activate,createExtensionContext,onDeactivate});
//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
/*! Bundled license information:

@microsoft/applicationinsights-web-snippet/dist/esm/applicationinsights-web-snippet.js:
  (*!
   * Application Insights JavaScript SDK - Web Snippet, 1.0.1
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)
*/
