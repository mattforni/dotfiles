"use strict";var LR=Object.create;var Jc=Object.defineProperty;var qR=Object.getOwnPropertyDescriptor;var UR=Object.getOwnPropertyNames;var BR=Object.getPrototypeOf,KR=Object.prototype.hasOwnProperty;var M=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jR=(t,e)=>{for(var n in e)Jc(t,n,{get:e[n],enumerable:!0})},Gc=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of UR(e))!KR.call(t,r)&&r!==n&&Jc(t,r,{get:()=>e[r],enumerable:!(i=qR(e,r))||i.enumerable});return t},Xc=(t,e,n)=>(Gc(t,e,"default"),n&&Gc(n,e,"default")),ke=(t,e,n)=>(n=t!=null?LR(BR(t)):{},Gc(e||!t||!t.__esModule?Jc(n,"default",{value:t,enumerable:!0}):n,t)),$R=t=>Gc(Jc({},"__esModule",{value:!0}),t);var Ms=M((Bo,Pf)=>{(function(t,e){if(typeof Bo=="object"&&typeof Pf=="object")Pf.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var i in n)(typeof Bo=="object"?Bo:t)[i]=n[i]}})(Bo,()=>(()=>{"use strict";var t={470:r=>{function s(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function o(c,d){for(var p,m="",f=0,u=-1,l=0,h=0;h<=c.length;++h){if(h<c.length)p=c.charCodeAt(h);else{if(p===47)break;p=47}if(p===47){if(!(u===h-1||l===1))if(u!==h-1&&l===2){if(m.length<2||f!==2||m.charCodeAt(m.length-1)!==46||m.charCodeAt(m.length-2)!==46){if(m.length>2){var y=m.lastIndexOf("/");if(y!==m.length-1){y===-1?(m="",f=0):f=(m=m.slice(0,y)).length-1-m.lastIndexOf("/"),u=h,l=0;continue}}else if(m.length===2||m.length===1){m="",f=0,u=h,l=0;continue}}d&&(m.length>0?m+="/..":m="..",f=2)}else m.length>0?m+="/"+c.slice(u+1,h):m=c.slice(u+1,h),f=h-u-1;u=h,l=0}else p===46&&l!==-1?++l:l=-1}return m}var a={resolve:function(){for(var c,d="",p=!1,m=arguments.length-1;m>=-1&&!p;m--){var f;m>=0?f=arguments[m]:(c===void 0&&(c=process.cwd()),f=c),s(f),f.length!==0&&(d=f+"/"+d,p=f.charCodeAt(0)===47)}return d=o(d,!p),p?d.length>0?"/"+d:"/":d.length>0?d:"."},normalize:function(c){if(s(c),c.length===0)return".";var d=c.charCodeAt(0)===47,p=c.charCodeAt(c.length-1)===47;return(c=o(c,!d)).length!==0||d||(c="."),c.length>0&&p&&(c+="/"),d?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,d=0;d<arguments.length;++d){var p=arguments[d];s(p),p.length>0&&(c===void 0?c=p:c+="/"+p)}return c===void 0?".":a.normalize(c)},relative:function(c,d){if(s(c),s(d),c===d||(c=a.resolve(c))===(d=a.resolve(d)))return"";for(var p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var m=c.length,f=m-p,u=1;u<d.length&&d.charCodeAt(u)===47;++u);for(var l=d.length-u,h=f<l?f:l,y=-1,S=0;S<=h;++S){if(S===h){if(l>h){if(d.charCodeAt(u+S)===47)return d.slice(u+S+1);if(S===0)return d.slice(u+S)}else f>h&&(c.charCodeAt(p+S)===47?y=S:S===0&&(y=0));break}var D=c.charCodeAt(p+S);if(D!==d.charCodeAt(u+S))break;D===47&&(y=S)}var x="";for(S=p+y+1;S<=m;++S)S!==m&&c.charCodeAt(S)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+d.slice(u+y):(u+=y,d.charCodeAt(u)===47&&++u,d.slice(u))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var d=c.charCodeAt(0),p=d===47,m=-1,f=!0,u=c.length-1;u>=1;--u)if((d=c.charCodeAt(u))===47){if(!f){m=u;break}}else f=!1;return m===-1?p?"/":".":p&&m===1?"//":c.slice(0,m)},basename:function(c,d){if(d!==void 0&&typeof d!="string")throw new TypeError('"ext" argument must be a string');s(c);var p,m=0,f=-1,u=!0;if(d!==void 0&&d.length>0&&d.length<=c.length){if(d.length===c.length&&d===c)return"";var l=d.length-1,h=-1;for(p=c.length-1;p>=0;--p){var y=c.charCodeAt(p);if(y===47){if(!u){m=p+1;break}}else h===-1&&(u=!1,h=p+1),l>=0&&(y===d.charCodeAt(l)?--l==-1&&(f=p):(l=-1,f=h))}return m===f?f=h:f===-1&&(f=c.length),c.slice(m,f)}for(p=c.length-1;p>=0;--p)if(c.charCodeAt(p)===47){if(!u){m=p+1;break}}else f===-1&&(u=!1,f=p+1);return f===-1?"":c.slice(m,f)},extname:function(c){s(c);for(var d=-1,p=0,m=-1,f=!0,u=0,l=c.length-1;l>=0;--l){var h=c.charCodeAt(l);if(h!==47)m===-1&&(f=!1,m=l+1),h===46?d===-1?d=l:u!==1&&(u=1):d!==-1&&(u=-1);else if(!f){p=l+1;break}}return d===-1||m===-1||u===0||u===1&&d===m-1&&d===p+1?"":c.slice(d,m)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(d,p){var m=p.dir||p.root,f=p.base||(p.name||"")+(p.ext||"");return m?m===p.root?m+f:m+"/"+f:f}(0,c)},parse:function(c){s(c);var d={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return d;var p,m=c.charCodeAt(0),f=m===47;f?(d.root="/",p=1):p=0;for(var u=-1,l=0,h=-1,y=!0,S=c.length-1,D=0;S>=p;--S)if((m=c.charCodeAt(S))!==47)h===-1&&(y=!1,h=S+1),m===46?u===-1?u=S:D!==1&&(D=1):u!==-1&&(D=-1);else if(!y){l=S+1;break}return u===-1||h===-1||D===0||D===1&&u===h-1&&u===l+1?h!==-1&&(d.base=d.name=l===0&&f?c.slice(1,h):c.slice(l,h)):(l===0&&f?(d.name=c.slice(1,u),d.base=c.slice(1,h)):(d.name=c.slice(l,u),d.base=c.slice(l,h)),d.ext=c.slice(u,h)),l>0?d.dir=c.slice(0,l-1):f&&(d.dir="/"),d},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,r.exports=a},674:(r,s)=>{if(Object.defineProperty(s,"__esModule",{value:!0}),s.isWindows=void 0,typeof process=="object")s.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;s.isWindows=o.indexOf("Windows")>=0}},796:function(r,s,o){var a,c,d=this&&this.__extends||(a=function(X,H){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ee,re){ee.__proto__=re}||function(ee,re){for(var we in re)Object.prototype.hasOwnProperty.call(re,we)&&(ee[we]=re[we])},a(X,H)},function(X,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function ee(){this.constructor=X}a(X,H),X.prototype=H===null?Object.create(H):(ee.prototype=H.prototype,new ee)});Object.defineProperty(s,"__esModule",{value:!0}),s.uriToFsPath=s.URI=void 0;var p=o(674),m=/^\w[\w\d+.-]*$/,f=/^\//,u=/^\/\//;function l(X,H){if(!X.scheme&&H)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(X.authority,'", path: "').concat(X.path,'", query: "').concat(X.query,'", fragment: "').concat(X.fragment,'"}'));if(X.scheme&&!m.test(X.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(X.path){if(X.authority){if(!f.test(X.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(X.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var h="",y="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,D=function(){function X(H,ee,re,we,de,ue){ue===void 0&&(ue=!1),typeof H=="object"?(this.scheme=H.scheme||h,this.authority=H.authority||h,this.path=H.path||h,this.query=H.query||h,this.fragment=H.fragment||h):(this.scheme=function(Ke,nt){return Ke||nt?Ke:"file"}(H,ue),this.authority=ee||h,this.path=function(Ke,nt){switch(Ke){case"https":case"http":case"file":nt?nt[0]!==y&&(nt=y+nt):nt=y}return nt}(this.scheme,re||h),this.query=we||h,this.fragment=de||h,l(this,ue))}return X.isUri=function(H){return H instanceof X||!!H&&typeof H.authority=="string"&&typeof H.fragment=="string"&&typeof H.path=="string"&&typeof H.query=="string"&&typeof H.scheme=="string"&&typeof H.fsPath=="string"&&typeof H.with=="function"&&typeof H.toString=="function"},Object.defineProperty(X.prototype,"fsPath",{get:function(){return $(this,!1)},enumerable:!1,configurable:!0}),X.prototype.with=function(H){if(!H)return this;var ee=H.scheme,re=H.authority,we=H.path,de=H.query,ue=H.fragment;return ee===void 0?ee=this.scheme:ee===null&&(ee=h),re===void 0?re=this.authority:re===null&&(re=h),we===void 0?we=this.path:we===null&&(we=h),de===void 0?de=this.query:de===null&&(de=h),ue===void 0?ue=this.fragment:ue===null&&(ue=h),ee===this.scheme&&re===this.authority&&we===this.path&&de===this.query&&ue===this.fragment?this:new F(ee,re,we,de,ue)},X.parse=function(H,ee){ee===void 0&&(ee=!1);var re=S.exec(H);return re?new F(re[2]||h,ce(re[4]||h),ce(re[5]||h),ce(re[7]||h),ce(re[9]||h),ee):new F(h,h,h,h,h)},X.file=function(H){var ee=h;if(p.isWindows&&(H=H.replace(/\\/g,y)),H[0]===y&&H[1]===y){var re=H.indexOf(y,2);re===-1?(ee=H.substring(2),H=y):(ee=H.substring(2,re),H=H.substring(re)||y)}return new F("file",ee,H,h,h)},X.from=function(H){var ee=new F(H.scheme,H.authority,H.path,H.query,H.fragment);return l(ee,!0),ee},X.prototype.toString=function(H){return H===void 0&&(H=!1),J(this,H)},X.prototype.toJSON=function(){return this},X.revive=function(H){if(H){if(H instanceof X)return H;var ee=new F(H);return ee._formatted=H.external,ee._fsPath=H._sep===x?H.fsPath:null,ee}return H},X}();s.URI=D;var x=p.isWindows?1:void 0,F=function(X){function H(){var ee=X!==null&&X.apply(this,arguments)||this;return ee._formatted=null,ee._fsPath=null,ee}return d(H,X),Object.defineProperty(H.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=$(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),H.prototype.toString=function(ee){return ee===void 0&&(ee=!1),ee?J(this,!0):(this._formatted||(this._formatted=J(this,!1)),this._formatted)},H.prototype.toJSON=function(){var ee={$mid:1};return this._fsPath&&(ee.fsPath=this._fsPath,ee._sep=x),this._formatted&&(ee.external=this._formatted),this.path&&(ee.path=this.path),this.scheme&&(ee.scheme=this.scheme),this.authority&&(ee.authority=this.authority),this.query&&(ee.query=this.query),this.fragment&&(ee.fragment=this.fragment),ee},H}(D),A=((c={})[58]="%3A",c[47]="%2F",c[63]="%3F",c[35]="%23",c[91]="%5B",c[93]="%5D",c[64]="%40",c[33]="%21",c[36]="%24",c[38]="%26",c[39]="%27",c[40]="%28",c[41]="%29",c[42]="%2A",c[43]="%2B",c[44]="%2C",c[59]="%3B",c[61]="%3D",c[32]="%20",c);function N(X,H,ee){for(var re=void 0,we=-1,de=0;de<X.length;de++){var ue=X.charCodeAt(de);if(ue>=97&&ue<=122||ue>=65&&ue<=90||ue>=48&&ue<=57||ue===45||ue===46||ue===95||ue===126||H&&ue===47||ee&&ue===91||ee&&ue===93||ee&&ue===58)we!==-1&&(re+=encodeURIComponent(X.substring(we,de)),we=-1),re!==void 0&&(re+=X.charAt(de));else{re===void 0&&(re=X.substr(0,de));var Ke=A[ue];Ke!==void 0?(we!==-1&&(re+=encodeURIComponent(X.substring(we,de)),we=-1),re+=Ke):we===-1&&(we=de)}}return we!==-1&&(re+=encodeURIComponent(X.substring(we))),re!==void 0?re:X}function q(X){for(var H=void 0,ee=0;ee<X.length;ee++){var re=X.charCodeAt(ee);re===35||re===63?(H===void 0&&(H=X.substr(0,ee)),H+=A[re]):H!==void 0&&(H+=X[ee])}return H!==void 0?H:X}function $(X,H){var ee;return ee=X.authority&&X.path.length>1&&X.scheme==="file"?"//".concat(X.authority).concat(X.path):X.path.charCodeAt(0)===47&&(X.path.charCodeAt(1)>=65&&X.path.charCodeAt(1)<=90||X.path.charCodeAt(1)>=97&&X.path.charCodeAt(1)<=122)&&X.path.charCodeAt(2)===58?H?X.path.substr(1):X.path[1].toLowerCase()+X.path.substr(2):X.path,p.isWindows&&(ee=ee.replace(/\//g,"\\")),ee}function J(X,H){var ee=H?q:N,re="",we=X.scheme,de=X.authority,ue=X.path,Ke=X.query,nt=X.fragment;if(we&&(re+=we,re+=":"),(de||we==="file")&&(re+=y,re+=y),de){var je=de.indexOf("@");if(je!==-1){var it=de.substr(0,je);de=de.substr(je+1),(je=it.lastIndexOf(":"))===-1?re+=ee(it,!1,!1):(re+=ee(it.substr(0,je),!1,!1),re+=":",re+=ee(it.substr(je+1),!1,!0)),re+="@"}(je=(de=de.toLowerCase()).lastIndexOf(":"))===-1?re+=ee(de,!1,!0):(re+=ee(de.substr(0,je),!1,!0),re+=de.substr(je))}if(ue){if(ue.length>=3&&ue.charCodeAt(0)===47&&ue.charCodeAt(2)===58)(rt=ue.charCodeAt(1))>=65&&rt<=90&&(ue="/".concat(String.fromCharCode(rt+32),":").concat(ue.substr(3)));else if(ue.length>=2&&ue.charCodeAt(1)===58){var rt;(rt=ue.charCodeAt(0))>=65&&rt<=90&&(ue="".concat(String.fromCharCode(rt+32),":").concat(ue.substr(2)))}re+=ee(ue,!0,!1)}return Ke&&(re+="?",re+=ee(Ke,!1,!1)),nt&&(re+="#",re+=H?nt:N(nt,!1,!1)),re}function Z(X){try{return decodeURIComponent(X)}catch{return X.length>3?X.substr(0,3)+Z(X.substr(3)):X}}s.uriToFsPath=$;var le=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ce(X){return X.match(le)?X.replace(le,function(H){return Z(H)}):X}},679:function(r,s,o){var a=this&&this.__spreadArray||function(f,u,l){if(l||arguments.length===2)for(var h,y=0,S=u.length;y<S;y++)!h&&y in u||(h||(h=Array.prototype.slice.call(u,0,y)),h[y]=u[y]);return f.concat(h||Array.prototype.slice.call(u))};Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=void 0;var c,d=o(470),p=d.posix||d,m="/";(c=s.Utils||(s.Utils={})).joinPath=function(f){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];return f.with({path:p.join.apply(p,a([f.path],u,!1))})},c.resolvePath=function(f){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var h=f.path,y=!1;h[0]!==m&&(h=m+h,y=!0);var S=p.resolve.apply(p,a([h],u,!1));return y&&S[0]===m&&!f.authority&&(S=S.substring(1)),f.with({path:S})},c.dirname=function(f){if(f.path.length===0||f.path===m)return f;var u=p.dirname(f.path);return u.length===1&&u.charCodeAt(0)===46&&(u=""),f.with({path:u})},c.basename=function(f){return p.basename(f.path)},c.extname=function(f){return p.extname(f.path)}}},e={};function n(r){var s=e[r];if(s!==void 0)return s.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}var i={};return(()=>{var r=i;Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.URI=void 0;var s=n(796);Object.defineProperty(r,"URI",{enumerable:!0,get:function(){return s.URI}});var o=n(679);Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return o.Utils}})})(),i})())});var Zc=M(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.setIfDefined=Et.pick=Et.capitalize=Et.textToWords=Et.escapeRegExp=Et.mustBeDefined=Et.isDefined=Et.freqCount=Et.uniqueFilter=Et.unique=void 0;function GR(t){return[...new Set(t)]}Et.unique=GR;function JR(t){let e=new Set;return t?n=>{let i=t(n);return!e.has(i)&&(e.add(i),!0)}:n=>!e.has(n)&&(e.add(n),!0)}Et.uniqueFilter=JR;function XR(t){let e=new Map;return t.forEach(n=>e.set(n,(e.get(n)||0)+1)),[...e.entries()]}Et.freqCount=XR;function FD(t){return t!=null}Et.isDefined=FD;function YR(t){if(FD(t))return t;throw new Error("Value must be defined.")}Et.mustBeDefined=YR;function QR(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Et.escapeRegExp=QR;function ZR(t){let e=/^[\p{L}\w'-]+$/u,n=/(?<![\p{L}\w'-])(?=[\p{L}\w'-])|(?<=[\p{L}\w'-])(?![\p{L}\w'-])/gu;return t.normalize("NFC").split(n).filter(s=>e.test(s))}Et.textToWords=ZR;function e1(t){return t.slice(0,1).toUpperCase()+t.slice(1)}Et.capitalize=e1;function t1(t,e){let n={};for(let i of e)n[i]=t[i];return n}Et.pick=t1;function n1(t,e,n){return n!==void 0&&(t[e]=n),t}Et.setIfDefined=n1});var AD=M((jo,If)=>{(function(e,n){typeof jo=="object"&&typeof If=="object"?If.exports=n():typeof define=="function"&&define.amd?define([],n):typeof jo=="object"?jo.esprima=n():e.esprima=n()})(jo,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(8),o=n(15);function a(f,u,l){var h=null,y=function($,J){l&&l($,J),h&&h.visit($,J)},S=typeof l=="function"?y:null,D=!1;if(u){D=typeof u.comment=="boolean"&&u.comment;var x=typeof u.attachComment=="boolean"&&u.attachComment;(D||x)&&(h=new i.CommentHandler,h.attach=x,u.comment=!0,S=y)}var F=!1;u&&typeof u.sourceType=="string"&&(F=u.sourceType==="module");var A;u&&typeof u.jsx=="boolean"&&u.jsx?A=new r.JSXParser(f,u,S):A=new s.Parser(f,u,S);var N=F?A.parseModule():A.parseScript(),q=N;return D&&h&&(q.comments=h.comments),A.config.tokens&&(q.tokens=A.tokens),A.config.tolerant&&(q.errors=A.errorHandler.errors),q}e.parse=a;function c(f,u,l){var h=u||{};return h.sourceType="module",a(f,h,l)}e.parseModule=c;function d(f,u,l){var h=u||{};return h.sourceType="script",a(f,h,l)}e.parseScript=d;function p(f,u,l){var h=new o.Tokenizer(f,u),y;y=[];try{for(;;){var S=h.getNextToken();if(!S)break;l&&(S=l(S)),y.push(S)}}catch(D){h.errorHandler.tolerate(D)}return h.errorHandler.tolerant&&(y.errors=h.errors()),y}e.tokenize=p;var m=n(2);e.Syntax=m.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===i.Syntax.BlockStatement&&o.body.length===0){for(var c=[],d=this.leading.length-1;d>=0;--d){var p=this.leading[d];a.end.offset>=p.start&&(c.unshift(p.comment),this.leading.splice(d,1),this.trailing.splice(d,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var d=this.trailing[c];d.start>=o.end.offset&&a.unshift(d.comment)}return this.trailing.length=0,a}var p=this.stack[this.stack.length-1];if(p&&p.node.trailingComments){var m=p.node.trailingComments[0];m&&m.range[0]>=o.end.offset&&(a=p.node.trailingComments,delete p.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var d=this.stack[this.stack.length-1];if(d&&d.start>=o.start.offset)c=d.node,this.stack.pop();else break}if(c){for(var p=c.leadingComments?c.leadingComments.length:0,m=p-1;m>=0;--m){var f=c.leadingComments[m];f.range[1]<=o.start.offset&&(a.unshift(f),c.leadingComments.splice(m,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var m=this.leading.length-1;m>=0;--m){var d=this.leading[m];d.start<=o.start.offset&&(a.unshift(d.comment),this.leading.splice(m,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===i.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),d=this.findLeadingComments(a);d.length>0&&(o.leadingComments=d),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",d={type:c,value:o.value};if(o.range&&(d.range=o.range),o.loc&&(d.loc=o.loc),this.comments.push(d),this.attach){var p={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(p.comment.loc=o.loc),o.type=c,this.leading.push(p),this.trailing.push(p)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var y in h)h.hasOwnProperty(y)&&(l[y]=h[y])};return function(l,h){u(l,h);function y(){this.constructor=l}l.prototype=h===null?Object.create(h):(y.prototype=h.prototype,new y)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),s=n(5),o=n(6),a=n(7),c=n(8),d=n(13),p=n(14);d.TokenName[100]="JSXIdentifier",d.TokenName[101]="JSXText";function m(u){var l;switch(u.type){case o.JSXSyntax.JSXIdentifier:var h=u;l=h.name;break;case o.JSXSyntax.JSXNamespacedName:var y=u;l=m(y.namespace)+":"+m(y.name);break;case o.JSXSyntax.JSXMemberExpression:var S=u;l=m(S.object)+"."+m(S.property);break;default:break}return l}var f=function(u){i(l,u);function l(h,y,S){return u.call(this,h,y,S)||this}return l.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():u.prototype.parsePrimaryExpression.call(this)},l.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},l.prototype.finishJSX=function(){this.nextToken()},l.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},l.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},l.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},l.prototype.scanXHTMLEntity=function(h){for(var y="&",S=!0,D=!1,x=!1,F=!1;!this.scanner.eof()&&S&&!D;){var A=this.scanner.source[this.scanner.index];if(A===h)break;if(D=A===";",y+=A,++this.scanner.index,!D)switch(y.length){case 2:x=A==="#";break;case 3:x&&(F=A==="x",S=F||r.Character.isDecimalDigit(A.charCodeAt(0)),x=x&&!F);break;default:S=S&&!(x&&!r.Character.isDecimalDigit(A.charCodeAt(0))),S=S&&!(F&&!r.Character.isHexDigit(A.charCodeAt(0)));break}}if(S&&D&&y.length>2){var N=y.substr(1,y.length-2);x&&N.length>1?y=String.fromCharCode(parseInt(N.substr(1),10)):F&&N.length>2?y=String.fromCharCode(parseInt("0"+N.substr(1),16)):!x&&!F&&p.XHTMLEntities[N]&&(y=p.XHTMLEntities[N])}return y},l.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var y=this.scanner.source[this.scanner.index++];return{type:7,value:y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var S=this.scanner.index,D=this.scanner.source[this.scanner.index++],x="";!this.scanner.eof();){var F=this.scanner.source[this.scanner.index++];if(F===D)break;F==="&"?x+=this.scanXHTMLEntity(D):x+=F}return{type:8,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(h===46){var A=this.scanner.source.charCodeAt(this.scanner.index+1),N=this.scanner.source.charCodeAt(this.scanner.index+2),y=A===46&&N===46?"...":".",S=this.scanner.index;return this.scanner.index+=y.length,{type:7,value:y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(r.Character.isIdentifierStart(h)&&h!==92){var S=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var F=this.scanner.source.charCodeAt(this.scanner.index);if(r.Character.isIdentifierPart(F)&&F!==92)++this.scanner.index;else if(F===45)++this.scanner.index;else break}var q=this.scanner.source.slice(S,this.scanner.index);return{type:100,value:q,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:S,end:this.scanner.index}}return this.scanner.lex()},l.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},l.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,y="";!this.scanner.eof();){var S=this.scanner.source[this.scanner.index];if(S==="{"||S==="<")break;++this.scanner.index,y+=S,r.Character.isLineTerminator(S.charCodeAt(0))&&(++this.scanner.lineNumber,S==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var D={type:101,value:y,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return y.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(D)),D},l.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var y=this.lexJSX();return this.scanner.restoreState(h),y},l.prototype.expectJSX=function(h){var y=this.nextJSXToken();(y.type!==7||y.value!==h)&&this.throwUnexpectedToken(y)},l.prototype.matchJSX=function(h){var y=this.peekJSXToken();return y.type===7&&y.value===h},l.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),y=this.nextJSXToken();return y.type!==100&&this.throwUnexpectedToken(y),this.finalize(h,new s.JSXIdentifier(y.value))},l.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),y=this.parseJSXIdentifier();if(this.matchJSX(":")){var S=y;this.expectJSX(":");var D=this.parseJSXIdentifier();y=this.finalize(h,new s.JSXNamespacedName(S,D))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var x=y;this.expectJSX(".");var F=this.parseJSXIdentifier();y=this.finalize(h,new s.JSXMemberExpression(x,F))}return y},l.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),y,S=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=S;this.expectJSX(":");var x=this.parseJSXIdentifier();y=this.finalize(h,new s.JSXNamespacedName(D,x))}else y=S;return y},l.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),y=this.nextJSXToken();y.type!==8&&this.throwUnexpectedToken(y);var S=this.getTokenRaw(y);return this.finalize(h,new a.Literal(y.value,S))},l.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var y=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(y))},l.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},l.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),y=this.parseJSXAttributeName(),S=null;return this.matchJSX("=")&&(this.expectJSX("="),S=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(y,S))},l.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var y=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(y))},l.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var y=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(y)}return h},l.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var y=this.parseJSXElementName(),S=this.parseJSXAttributes(),D=this.matchJSX("/");return D&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(y,D,S))},l.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var y=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(y))}var S=this.parseJSXElementName(),D=this.parseJSXAttributes(),x=this.matchJSX("/");return x&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(S,x,D))},l.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},l.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var y;return this.matchJSX("}")?(y=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),y=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(y))},l.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var y=this.createJSXChildNode(),S=this.nextJSXText();if(S.start<S.end){var D=this.getTokenRaw(S),x=this.finalize(y,new s.JSXText(S.value,D));h.push(x)}if(this.scanner.source[this.scanner.index]==="{"){var F=this.parseJSXExpressionContainer();h.push(F)}else break}return h},l.prototype.parseComplexJSXElement=function(h){for(var y=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var S=this.createJSXChildNode(),D=this.parseJSXBoundaryElement();if(D.type===o.JSXSyntax.JSXOpeningElement){var x=D;if(x.selfClosing){var F=this.finalize(S,new s.JSXElement(x,[],null));h.children.push(F)}else y.push(h),h={node:S,opening:x,closing:null,children:[]}}if(D.type===o.JSXSyntax.JSXClosingElement){h.closing=D;var A=m(h.opening.name),N=m(h.closing.name);if(A!==N&&this.tolerateError("Expected corresponding JSX closing tag for %0",A),y.length>0){var F=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=y[y.length-1],h.children.push(F),y.pop()}else break}}return h},l.prototype.parseJSXElement=function(){var h=this.createJSXNode(),y=this.parseJSXOpeningElement(),S=[],D=null;if(!y.selfClosing){var x=this.parseComplexJSXElement({node:h,opening:y,closing:D,children:S});S=x.children,D=x.closing}return this.finalize(h,new s.JSXElement(y,S,D))},l.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},l.prototype.isStartOfExpression=function(){return u.prototype.isStartOfExpression.call(this)||this.match("<")},l}(c.Parser);e.JSXParser=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(i){return i<65536?String.fromCharCode(i):String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+(i-65536&1023))},isWhiteSpace:function(i){return i===32||i===9||i===11||i===12||i===160||i>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(i)>=0},isLineTerminator:function(i){return i===10||i===13||i===8232||i===8233},isIdentifierStart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i===92||i>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(i))},isIdentifierPart:function(i){return i===36||i===95||i>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||i===92||i>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(i))},isDecimalDigit:function(i){return i>=48&&i<=57},isHexDigit:function(i){return i>=48&&i<=57||i>=65&&i<=70||i>=97&&i<=102},isOctalDigit:function(i){return i>=48&&i<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function h(y){this.type=i.JSXSyntax.JSXClosingElement,this.name=y}return h}();e.JSXClosingElement=r;var s=function(){function h(y,S,D){this.type=i.JSXSyntax.JSXElement,this.openingElement=y,this.children=S,this.closingElement=D}return h}();e.JSXElement=s;var o=function(){function h(){this.type=i.JSXSyntax.JSXEmptyExpression}return h}();e.JSXEmptyExpression=o;var a=function(){function h(y){this.type=i.JSXSyntax.JSXExpressionContainer,this.expression=y}return h}();e.JSXExpressionContainer=a;var c=function(){function h(y){this.type=i.JSXSyntax.JSXIdentifier,this.name=y}return h}();e.JSXIdentifier=c;var d=function(){function h(y,S){this.type=i.JSXSyntax.JSXMemberExpression,this.object=y,this.property=S}return h}();e.JSXMemberExpression=d;var p=function(){function h(y,S){this.type=i.JSXSyntax.JSXAttribute,this.name=y,this.value=S}return h}();e.JSXAttribute=p;var m=function(){function h(y,S){this.type=i.JSXSyntax.JSXNamespacedName,this.namespace=y,this.name=S}return h}();e.JSXNamespacedName=m;var f=function(){function h(y,S,D){this.type=i.JSXSyntax.JSXOpeningElement,this.name=y,this.selfClosing=S,this.attributes=D}return h}();e.JSXOpeningElement=f;var u=function(){function h(y){this.type=i.JSXSyntax.JSXSpreadAttribute,this.argument=y}return h}();e.JSXSpreadAttribute=u;var l=function(){function h(y,S){this.type=i.JSXSyntax.JSXText,this.value=y,this.raw=S}return h}();e.JSXText=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=function(){function _(L){this.type=i.Syntax.ArrayExpression,this.elements=L}return _}();e.ArrayExpression=r;var s=function(){function _(L){this.type=i.Syntax.ArrayPattern,this.elements=L}return _}();e.ArrayPattern=s;var o=function(){function _(L,W,R){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=L,this.body=W,this.generator=!1,this.expression=R,this.async=!1}return _}();e.ArrowFunctionExpression=o;var a=function(){function _(L,W,R){this.type=i.Syntax.AssignmentExpression,this.operator=L,this.left=W,this.right=R}return _}();e.AssignmentExpression=a;var c=function(){function _(L,W){this.type=i.Syntax.AssignmentPattern,this.left=L,this.right=W}return _}();e.AssignmentPattern=c;var d=function(){function _(L,W,R){this.type=i.Syntax.ArrowFunctionExpression,this.id=null,this.params=L,this.body=W,this.generator=!1,this.expression=R,this.async=!0}return _}();e.AsyncArrowFunctionExpression=d;var p=function(){function _(L,W,R){this.type=i.Syntax.FunctionDeclaration,this.id=L,this.params=W,this.body=R,this.generator=!1,this.expression=!1,this.async=!0}return _}();e.AsyncFunctionDeclaration=p;var m=function(){function _(L,W,R){this.type=i.Syntax.FunctionExpression,this.id=L,this.params=W,this.body=R,this.generator=!1,this.expression=!1,this.async=!0}return _}();e.AsyncFunctionExpression=m;var f=function(){function _(L){this.type=i.Syntax.AwaitExpression,this.argument=L}return _}();e.AwaitExpression=f;var u=function(){function _(L,W,R){var T=L==="||"||L==="&&";this.type=T?i.Syntax.LogicalExpression:i.Syntax.BinaryExpression,this.operator=L,this.left=W,this.right=R}return _}();e.BinaryExpression=u;var l=function(){function _(L){this.type=i.Syntax.BlockStatement,this.body=L}return _}();e.BlockStatement=l;var h=function(){function _(L){this.type=i.Syntax.BreakStatement,this.label=L}return _}();e.BreakStatement=h;var y=function(){function _(L,W){this.type=i.Syntax.CallExpression,this.callee=L,this.arguments=W}return _}();e.CallExpression=y;var S=function(){function _(L,W){this.type=i.Syntax.CatchClause,this.param=L,this.body=W}return _}();e.CatchClause=S;var D=function(){function _(L){this.type=i.Syntax.ClassBody,this.body=L}return _}();e.ClassBody=D;var x=function(){function _(L,W,R){this.type=i.Syntax.ClassDeclaration,this.id=L,this.superClass=W,this.body=R}return _}();e.ClassDeclaration=x;var F=function(){function _(L,W,R){this.type=i.Syntax.ClassExpression,this.id=L,this.superClass=W,this.body=R}return _}();e.ClassExpression=F;var A=function(){function _(L,W){this.type=i.Syntax.MemberExpression,this.computed=!0,this.object=L,this.property=W}return _}();e.ComputedMemberExpression=A;var N=function(){function _(L,W,R){this.type=i.Syntax.ConditionalExpression,this.test=L,this.consequent=W,this.alternate=R}return _}();e.ConditionalExpression=N;var q=function(){function _(L){this.type=i.Syntax.ContinueStatement,this.label=L}return _}();e.ContinueStatement=q;var $=function(){function _(){this.type=i.Syntax.DebuggerStatement}return _}();e.DebuggerStatement=$;var J=function(){function _(L,W){this.type=i.Syntax.ExpressionStatement,this.expression=L,this.directive=W}return _}();e.Directive=J;var Z=function(){function _(L,W){this.type=i.Syntax.DoWhileStatement,this.body=L,this.test=W}return _}();e.DoWhileStatement=Z;var le=function(){function _(){this.type=i.Syntax.EmptyStatement}return _}();e.EmptyStatement=le;var ce=function(){function _(L){this.type=i.Syntax.ExportAllDeclaration,this.source=L}return _}();e.ExportAllDeclaration=ce;var X=function(){function _(L){this.type=i.Syntax.ExportDefaultDeclaration,this.declaration=L}return _}();e.ExportDefaultDeclaration=X;var H=function(){function _(L,W,R){this.type=i.Syntax.ExportNamedDeclaration,this.declaration=L,this.specifiers=W,this.source=R}return _}();e.ExportNamedDeclaration=H;var ee=function(){function _(L,W){this.type=i.Syntax.ExportSpecifier,this.exported=W,this.local=L}return _}();e.ExportSpecifier=ee;var re=function(){function _(L){this.type=i.Syntax.ExpressionStatement,this.expression=L}return _}();e.ExpressionStatement=re;var we=function(){function _(L,W,R){this.type=i.Syntax.ForInStatement,this.left=L,this.right=W,this.body=R,this.each=!1}return _}();e.ForInStatement=we;var de=function(){function _(L,W,R){this.type=i.Syntax.ForOfStatement,this.left=L,this.right=W,this.body=R}return _}();e.ForOfStatement=de;var ue=function(){function _(L,W,R,T){this.type=i.Syntax.ForStatement,this.init=L,this.test=W,this.update=R,this.body=T}return _}();e.ForStatement=ue;var Ke=function(){function _(L,W,R,T){this.type=i.Syntax.FunctionDeclaration,this.id=L,this.params=W,this.body=R,this.generator=T,this.expression=!1,this.async=!1}return _}();e.FunctionDeclaration=Ke;var nt=function(){function _(L,W,R,T){this.type=i.Syntax.FunctionExpression,this.id=L,this.params=W,this.body=R,this.generator=T,this.expression=!1,this.async=!1}return _}();e.FunctionExpression=nt;var je=function(){function _(L){this.type=i.Syntax.Identifier,this.name=L}return _}();e.Identifier=je;var it=function(){function _(L,W,R){this.type=i.Syntax.IfStatement,this.test=L,this.consequent=W,this.alternate=R}return _}();e.IfStatement=it;var rt=function(){function _(L,W){this.type=i.Syntax.ImportDeclaration,this.specifiers=L,this.source=W}return _}();e.ImportDeclaration=rt;var Bt=function(){function _(L){this.type=i.Syntax.ImportDefaultSpecifier,this.local=L}return _}();e.ImportDefaultSpecifier=Bt;var Kt=function(){function _(L){this.type=i.Syntax.ImportNamespaceSpecifier,this.local=L}return _}();e.ImportNamespaceSpecifier=Kt;var Cn=function(){function _(L,W){this.type=i.Syntax.ImportSpecifier,this.local=L,this.imported=W}return _}();e.ImportSpecifier=Cn;var ni=function(){function _(L,W){this.type=i.Syntax.LabeledStatement,this.label=L,this.body=W}return _}();e.LabeledStatement=ni;var un=function(){function _(L,W){this.type=i.Syntax.Literal,this.value=L,this.raw=W}return _}();e.Literal=un;var Kn=function(){function _(L,W){this.type=i.Syntax.MetaProperty,this.meta=L,this.property=W}return _}();e.MetaProperty=Kn;var Mn=function(){function _(L,W,R,T,O){this.type=i.Syntax.MethodDefinition,this.key=L,this.computed=W,this.value=R,this.kind=T,this.static=O}return _}();e.MethodDefinition=Mn;var lt=function(){function _(L){this.type=i.Syntax.Program,this.body=L,this.sourceType="module"}return _}();e.Module=lt;var jn=function(){function _(L,W){this.type=i.Syntax.NewExpression,this.callee=L,this.arguments=W}return _}();e.NewExpression=jn;var Sn=function(){function _(L){this.type=i.Syntax.ObjectExpression,this.properties=L}return _}();e.ObjectExpression=Sn;var Zt=function(){function _(L){this.type=i.Syntax.ObjectPattern,this.properties=L}return _}();e.ObjectPattern=Zt;var $n=function(){function _(L,W,R,T,O,U){this.type=i.Syntax.Property,this.key=W,this.computed=R,this.value=T,this.kind=L,this.method=O,this.shorthand=U}return _}();e.Property=$n;var De=function(){function _(L,W,R,T){this.type=i.Syntax.Literal,this.value=L,this.raw=W,this.regex={pattern:R,flags:T}}return _}();e.RegexLiteral=De;var _e=function(){function _(L){this.type=i.Syntax.RestElement,this.argument=L}return _}();e.RestElement=_e;var dt=function(){function _(L){this.type=i.Syntax.ReturnStatement,this.argument=L}return _}();e.ReturnStatement=dt;var en=function(){function _(L){this.type=i.Syntax.Program,this.body=L,this.sourceType="script"}return _}();e.Script=en;var jt=function(){function _(L){this.type=i.Syntax.SequenceExpression,this.expressions=L}return _}();e.SequenceExpression=jt;var Wn=function(){function _(L){this.type=i.Syntax.SpreadElement,this.argument=L}return _}();e.SpreadElement=Wn;var zt=function(){function _(L,W){this.type=i.Syntax.MemberExpression,this.computed=!1,this.object=L,this.property=W}return _}();e.StaticMemberExpression=zt;var Hn=function(){function _(){this.type=i.Syntax.Super}return _}();e.Super=Hn;var ii=function(){function _(L,W){this.type=i.Syntax.SwitchCase,this.test=L,this.consequent=W}return _}();e.SwitchCase=ii;var Gt=function(){function _(L,W){this.type=i.Syntax.SwitchStatement,this.discriminant=L,this.cases=W}return _}();e.SwitchStatement=Gt;var tn=function(){function _(L,W){this.type=i.Syntax.TaggedTemplateExpression,this.tag=L,this.quasi=W}return _}();e.TaggedTemplateExpression=tn;var $t=function(){function _(L,W){this.type=i.Syntax.TemplateElement,this.value=L,this.tail=W}return _}();e.TemplateElement=$t;var I=function(){function _(L,W){this.type=i.Syntax.TemplateLiteral,this.quasis=L,this.expressions=W}return _}();e.TemplateLiteral=I;var V=function(){function _(){this.type=i.Syntax.ThisExpression}return _}();e.ThisExpression=V;var te=function(){function _(L){this.type=i.Syntax.ThrowStatement,this.argument=L}return _}();e.ThrowStatement=te;var ae=function(){function _(L,W,R){this.type=i.Syntax.TryStatement,this.block=L,this.handler=W,this.finalizer=R}return _}();e.TryStatement=ae;var Ne=function(){function _(L,W){this.type=i.Syntax.UnaryExpression,this.operator=L,this.argument=W,this.prefix=!0}return _}();e.UnaryExpression=Ne;var Oe=function(){function _(L,W,R){this.type=i.Syntax.UpdateExpression,this.operator=L,this.argument=W,this.prefix=R}return _}();e.UpdateExpression=Oe;var qe=function(){function _(L,W){this.type=i.Syntax.VariableDeclaration,this.declarations=L,this.kind=W}return _}();e.VariableDeclaration=qe;var ze=function(){function _(L,W){this.type=i.Syntax.VariableDeclarator,this.id=L,this.init=W}return _}();e.VariableDeclarator=ze;var Te=function(){function _(L,W){this.type=i.Syntax.WhileStatement,this.test=L,this.body=W}return _}();e.WhileStatement=Te;var Ae=function(){function _(L,W){this.type=i.Syntax.WithStatement,this.object=L,this.body=W}return _}();e.WithStatement=Ae;var w=function(){function _(L,W){this.type=i.Syntax.YieldExpression,this.argument=L,this.delegate=W}return _}();e.YieldExpression=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(10),s=n(11),o=n(7),a=n(12),c=n(2),d=n(13),p="ArrowParameterPlaceHolder",m=function(){function f(u,l,h){l===void 0&&(l={}),this.config={range:typeof l.range=="boolean"&&l.range,loc:typeof l.loc=="boolean"&&l.loc,source:null,tokens:typeof l.tokens=="boolean"&&l.tokens,comment:typeof l.comment=="boolean"&&l.comment,tolerant:typeof l.tolerant=="boolean"&&l.tolerant},this.config.loc&&l.source&&l.source!==null&&(this.config.source=String(l.source)),this.delegate=h,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(u,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return f.prototype.throwError=function(u){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var y=Array.prototype.slice.call(arguments,1),S=u.replace(/%(\d)/g,function(A,N){return i.assert(N<y.length,"Message reference must be in range"),y[N]}),D=this.lastMarker.index,x=this.lastMarker.line,F=this.lastMarker.column+1;throw this.errorHandler.createError(D,x,F,S)},f.prototype.tolerateError=function(u){for(var l=[],h=1;h<arguments.length;h++)l[h-1]=arguments[h];var y=Array.prototype.slice.call(arguments,1),S=u.replace(/%(\d)/g,function(A,N){return i.assert(N<y.length,"Message reference must be in range"),y[N]}),D=this.lastMarker.index,x=this.scanner.lineNumber,F=this.lastMarker.column+1;this.errorHandler.tolerateError(D,x,F,S)},f.prototype.unexpectedTokenError=function(u,l){var h=l||s.Messages.UnexpectedToken,y;if(u?(l||(h=u.type===2?s.Messages.UnexpectedEOS:u.type===3?s.Messages.UnexpectedIdentifier:u.type===6?s.Messages.UnexpectedNumber:u.type===8?s.Messages.UnexpectedString:u.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,u.type===4&&(this.scanner.isFutureReservedWord(u.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(u.value)&&(h=s.Messages.StrictReservedWord))),y=u.value):y="ILLEGAL",h=h.replace("%0",y),u&&typeof u.lineNumber=="number"){var S=u.start,D=u.lineNumber,x=this.lastMarker.index-this.lastMarker.column,F=u.start-x+1;return this.errorHandler.createError(S,D,F,h)}else{var S=this.lastMarker.index,D=this.lastMarker.line,F=this.lastMarker.column+1;return this.errorHandler.createError(S,D,F,h)}},f.prototype.throwUnexpectedToken=function(u,l){throw this.unexpectedTokenError(u,l)},f.prototype.tolerateUnexpectedToken=function(u,l){this.errorHandler.tolerate(this.unexpectedTokenError(u,l))},f.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var u=this.scanner.scanComments();if(u.length>0&&this.delegate)for(var l=0;l<u.length;++l){var h=u[l],y=void 0;y={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(y.range=h.range),this.config.loc&&(y.loc=h.loc);var S={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(y,S)}}},f.prototype.getTokenRaw=function(u){return this.scanner.source.slice(u.start,u.end)},f.prototype.convertToken=function(u){var l={type:d.TokenName[u.type],value:this.getTokenRaw(u)};if(this.config.range&&(l.range=[u.start,u.end]),this.config.loc&&(l.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),u.type===9){var h=u.pattern,y=u.flags;l.regex={pattern:h,flags:y}}return l},f.prototype.nextToken=function(){var u=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var l=this.scanner.lex();return this.hasLineTerminator=u.lineNumber!==l.lineNumber,l&&this.context.strict&&l.type===3&&this.scanner.isStrictModeReservedWord(l.value)&&(l.type=4),this.lookahead=l,this.config.tokens&&l.type!==2&&this.tokens.push(this.convertToken(l)),u},f.prototype.nextRegexToken=function(){this.collectComments();var u=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(u))),this.lookahead=u,this.nextToken(),u},f.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},f.prototype.startNode=function(u,l){l===void 0&&(l=0);var h=u.start-u.lineStart,y=u.lineNumber;return h<0&&(h+=l,y--),{index:u.start,line:y,column:h}},f.prototype.finalize=function(u,l){if(this.config.range&&(l.range=[u.index,this.lastMarker.index]),this.config.loc&&(l.loc={start:{line:u.line,column:u.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(l.loc.source=this.config.source)),this.delegate){var h={start:{line:u.line,column:u.column,offset:u.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(l,h)}return l},f.prototype.expect=function(u){var l=this.nextToken();(l.type!==7||l.value!==u)&&this.throwUnexpectedToken(l)},f.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var u=this.lookahead;u.type===7&&u.value===","?this.nextToken():u.type===7&&u.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(u)):this.tolerateUnexpectedToken(u,s.Messages.UnexpectedToken)}else this.expect(",")},f.prototype.expectKeyword=function(u){var l=this.nextToken();(l.type!==4||l.value!==u)&&this.throwUnexpectedToken(l)},f.prototype.match=function(u){return this.lookahead.type===7&&this.lookahead.value===u},f.prototype.matchKeyword=function(u){return this.lookahead.type===4&&this.lookahead.value===u},f.prototype.matchContextualKeyword=function(u){return this.lookahead.type===3&&this.lookahead.value===u},f.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var u=this.lookahead.value;return u==="="||u==="*="||u==="**="||u==="/="||u==="%="||u==="+="||u==="-="||u==="<<="||u===">>="||u===">>>="||u==="&="||u==="^="||u==="|="},f.prototype.isolateCoverGrammar=function(u){var l=this.context.isBindingElement,h=this.context.isAssignmentTarget,y=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=u.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=l,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=y,S},f.prototype.inheritCoverGrammar=function(u){var l=this.context.isBindingElement,h=this.context.isAssignmentTarget,y=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var S=u.call(this);return this.context.isBindingElement=this.context.isBindingElement&&l,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=y||this.context.firstCoverInitializedNameError,S},f.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},f.prototype.parsePrimaryExpression=function(){var u=this.createNode(),l,h,y;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),l=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(u,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),y=this.getTokenRaw(h),l=this.finalize(u,new o.Literal(h.value,y));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),y=this.getTokenRaw(h),l=this.finalize(u,new o.Literal(h.value==="true",y));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),y=this.getTokenRaw(h),l=this.finalize(u,new o.Literal(null,y));break;case 10:l=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,l=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":l=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":l=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),y=this.getTokenRaw(h),l=this.finalize(u,new o.RegexLiteral(h.regex,y,h.pattern,h.flags));break;default:l=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?l=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?l=this.finalize(u,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?l=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),l=this.finalize(u,new o.ThisExpression)):this.matchKeyword("class")?l=this.parseClassExpression():l=this.throwUnexpectedToken(this.nextToken()));break;default:l=this.throwUnexpectedToken(this.nextToken())}return l},f.prototype.parseSpreadElement=function(){var u=this.createNode();this.expect("...");var l=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(u,new o.SpreadElement(l))},f.prototype.parseArrayInitializer=function(){var u=this.createNode(),l=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),l.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),l.push(h)}else l.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(u,new o.ArrayExpression(l))},f.prototype.parsePropertyMethod=function(u){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var l=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=u.simple;var y=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&u.firstRestricted&&this.tolerateUnexpectedToken(u.firstRestricted,u.message),this.context.strict&&u.stricted&&this.tolerateUnexpectedToken(u.stricted,u.message),this.context.strict=l,this.context.allowStrictDirective=h,y},f.prototype.parsePropertyMethodFunction=function(){var u=!1,l=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var y=this.parseFormalParameters(),S=this.parsePropertyMethod(y);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,y.params,S,u))},f.prototype.parsePropertyMethodAsyncFunction=function(){var u=this.createNode(),l=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var y=this.parseFormalParameters(),S=this.parsePropertyMethod(y);return this.context.allowYield=l,this.context.await=h,this.finalize(u,new o.AsyncFunctionExpression(null,y.params,S))},f.prototype.parseObjectPropertyKey=function(){var u=this.createNode(),l=this.nextToken(),h;switch(l.type){case 8:case 6:this.context.strict&&l.octal&&this.tolerateUnexpectedToken(l,s.Messages.StrictOctalLiteral);var y=this.getTokenRaw(l);h=this.finalize(u,new o.Literal(l.value,y));break;case 3:case 1:case 5:case 4:h=this.finalize(u,new o.Identifier(l.value));break;case 7:l.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(l);break;default:h=this.throwUnexpectedToken(l)}return h},f.prototype.isPropertyKey=function(u,l){return u.type===c.Syntax.Identifier&&u.name===l||u.type===c.Syntax.Literal&&u.value===l},f.prototype.parseObjectProperty=function(u){var l=this.createNode(),h=this.lookahead,y,S=null,D=null,x=!1,F=!1,A=!1,N=!1;if(h.type===3){var q=h.value;this.nextToken(),x=this.match("["),N=!this.hasLineTerminator&&q==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),S=N?this.parseObjectPropertyKey():this.finalize(l,new o.Identifier(q))}else this.match("*")?this.nextToken():(x=this.match("["),S=this.parseObjectPropertyKey());var $=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!N&&h.value==="get"&&$)y="get",x=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod();else if(h.type===3&&!N&&h.value==="set"&&$)y="set",x=this.match("["),S=this.parseObjectPropertyKey(),D=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&$)y="init",x=this.match("["),S=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),F=!0;else if(S||this.throwUnexpectedToken(this.lookahead),y="init",this.match(":")&&!N)!x&&this.isPropertyKey(S,"__proto__")&&(u.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),u.value=!0),this.nextToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))D=N?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),F=!0;else if(h.type===3){var q=this.finalize(l,new o.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),A=!0;var J=this.isolateCoverGrammar(this.parseAssignmentExpression);D=this.finalize(l,new o.AssignmentPattern(q,J))}else A=!0,D=q}else this.throwUnexpectedToken(this.nextToken());return this.finalize(l,new o.Property(y,S,x,D,F,A))},f.prototype.parseObjectInitializer=function(){var u=this.createNode();this.expect("{");for(var l=[],h={value:!1};!this.match("}");)l.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(u,new o.ObjectExpression(l))},f.prototype.parseTemplateHead=function(){i.assert(this.lookahead.head,"Template literal must start with a template head");var u=this.createNode(),l=this.nextToken(),h=l.value,y=l.cooked;return this.finalize(u,new o.TemplateElement({raw:h,cooked:y},l.tail))},f.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var u=this.createNode(),l=this.nextToken(),h=l.value,y=l.cooked;return this.finalize(u,new o.TemplateElement({raw:h,cooked:y},l.tail))},f.prototype.parseTemplateLiteral=function(){var u=this.createNode(),l=[],h=[],y=this.parseTemplateHead();for(h.push(y);!y.tail;)l.push(this.parseExpression()),y=this.parseTemplateElement(),h.push(y);return this.finalize(u,new o.TemplateLiteral(h,l))},f.prototype.reinterpretExpressionAsPattern=function(u){switch(u.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:u.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(u.argument);break;case c.Syntax.ArrayExpression:u.type=c.Syntax.ArrayPattern;for(var l=0;l<u.elements.length;l++)u.elements[l]!==null&&this.reinterpretExpressionAsPattern(u.elements[l]);break;case c.Syntax.ObjectExpression:u.type=c.Syntax.ObjectPattern;for(var l=0;l<u.properties.length;l++)this.reinterpretExpressionAsPattern(u.properties[l].value);break;case c.Syntax.AssignmentExpression:u.type=c.Syntax.AssignmentPattern,delete u.operator,this.reinterpretExpressionAsPattern(u.left);break;default:break}},f.prototype.parseGroupExpression=function(){var u;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),u={type:p,params:[],async:!1};else{var l=this.lookahead,h=[];if(this.match("..."))u=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),u={type:p,params:[u],async:!1};else{var y=!1;if(this.context.isBindingElement=!0,u=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var S=[];for(this.context.isAssignmentTarget=!1,S.push(u);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var D=0;D<S.length;D++)this.reinterpretExpressionAsPattern(S[D]);y=!0,u={type:p,params:S,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),S.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var D=0;D<S.length;D++)this.reinterpretExpressionAsPattern(S[D]);y=!0,u={type:p,params:S,async:!1}}else S.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(y)break}y||(u=this.finalize(this.startNode(l),new o.SequenceExpression(S)))}if(!y){if(this.expect(")"),this.match("=>")&&(u.type===c.Syntax.Identifier&&u.name==="yield"&&(y=!0,u={type:p,params:[u],async:!1}),!y)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),u.type===c.Syntax.SequenceExpression)for(var D=0;D<u.expressions.length;D++)this.reinterpretExpressionAsPattern(u.expressions[D]);else this.reinterpretExpressionAsPattern(u);var x=u.type===c.Syntax.SequenceExpression?u.expressions:[u];u={type:p,params:x,async:!1}}this.context.isBindingElement=!1}}}return u},f.prototype.parseArguments=function(){this.expect("(");var u=[];if(!this.match(")"))for(;;){var l=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(u.push(l),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),u},f.prototype.isIdentifierName=function(u){return u.type===3||u.type===4||u.type===1||u.type===5},f.prototype.parseIdentifierName=function(){var u=this.createNode(),l=this.nextToken();return this.isIdentifierName(l)||this.throwUnexpectedToken(l),this.finalize(u,new o.Identifier(l.value))},f.prototype.parseNewExpression=function(){var u=this.createNode(),l=this.parseIdentifierName();i.assert(l.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var y=this.parseIdentifierName();h=new o.MetaProperty(l,y)}else this.throwUnexpectedToken(this.lookahead);else{var S=this.isolateCoverGrammar(this.parseLeftHandSideExpression),D=this.match("(")?this.parseArguments():[];h=new o.NewExpression(S,D),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(u,h)},f.prototype.parseAsyncArgument=function(){var u=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,u},f.prototype.parseAsyncArguments=function(){this.expect("(");var u=[];if(!this.match(")"))for(;;){var l=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(u.push(l),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),u},f.prototype.parseLeftHandSideExpressionAllowCall=function(){var u=this.lookahead,l=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var y;for(this.matchKeyword("super")&&this.context.inFunctionBody?(y=this.createNode(),this.nextToken(),y=this.finalize(y,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):y=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var S=this.parseIdentifierName();y=this.finalize(this.startNode(u),new o.StaticMemberExpression(y,S))}else if(this.match("(")){var D=l&&u.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var x=D?this.parseAsyncArguments():this.parseArguments();if(y=this.finalize(this.startNode(u),new o.CallExpression(y,x)),D&&this.match("=>")){for(var F=0;F<x.length;++F)this.reinterpretExpressionAsPattern(x[F]);y={type:p,params:x,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var S=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),y=this.finalize(this.startNode(u),new o.ComputedMemberExpression(y,S))}else if(this.lookahead.type===10&&this.lookahead.head){var A=this.parseTemplateLiteral();y=this.finalize(this.startNode(u),new o.TaggedTemplateExpression(y,A))}else break;return this.context.allowIn=h,y},f.prototype.parseSuper=function(){var u=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(u,new o.Super)},f.prototype.parseLeftHandSideExpression=function(){i.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var u=this.startNode(this.lookahead),l=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),l=this.finalize(u,new o.ComputedMemberExpression(l,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();l=this.finalize(u,new o.StaticMemberExpression(l,h))}else if(this.lookahead.type===10&&this.lookahead.head){var y=this.parseTemplateLiteral();l=this.finalize(u,new o.TaggedTemplateExpression(l,y))}else break;return l},f.prototype.parseUpdateExpression=function(){var u,l=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(l),y=this.nextToken();u=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&u.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(u.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var S=!0;u=this.finalize(h,new o.UpdateExpression(y.value,u,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(u=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&u.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(u.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var D=this.nextToken().value,S=!1;u=this.finalize(this.startNode(l),new o.UpdateExpression(D,u,S))}return u},f.prototype.parseAwaitExpression=function(){var u=this.createNode();this.nextToken();var l=this.parseUnaryExpression();return this.finalize(u,new o.AwaitExpression(l))},f.prototype.parseUnaryExpression=function(){var u;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var l=this.startNode(this.lookahead),h=this.nextToken();u=this.inheritCoverGrammar(this.parseUnaryExpression),u=this.finalize(l,new o.UnaryExpression(h.value,u)),this.context.strict&&u.operator==="delete"&&u.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?u=this.parseAwaitExpression():u=this.parseUpdateExpression();return u},f.prototype.parseExponentiationExpression=function(){var u=this.lookahead,l=this.inheritCoverGrammar(this.parseUnaryExpression);if(l.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=l,y=this.isolateCoverGrammar(this.parseExponentiationExpression);l=this.finalize(this.startNode(u),new o.BinaryExpression("**",h,y))}return l},f.prototype.binaryPrecedence=function(u){var l=u.value,h;return u.type===7?h=this.operatorPrecedence[l]||0:u.type===4?h=l==="instanceof"||this.context.allowIn&&l==="in"?7:0:h=0,h},f.prototype.parseBinaryExpression=function(){var u=this.lookahead,l=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,y=this.binaryPrecedence(h);if(y>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var S=[u,this.lookahead],D=l,x=this.isolateCoverGrammar(this.parseExponentiationExpression),F=[D,h.value,x],A=[y];y=this.binaryPrecedence(this.lookahead),!(y<=0);){for(;F.length>2&&y<=A[A.length-1];){x=F.pop();var N=F.pop();A.pop(),D=F.pop(),S.pop();var q=this.startNode(S[S.length-1]);F.push(this.finalize(q,new o.BinaryExpression(N,D,x)))}F.push(this.nextToken().value),A.push(y),S.push(this.lookahead),F.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var $=F.length-1;l=F[$];for(var J=S.pop();$>1;){var Z=S.pop(),le=J&&J.lineStart,q=this.startNode(Z,le),N=F[$-1];l=this.finalize(q,new o.BinaryExpression(N,F[$-2],l)),$-=2,J=Z}}return l},f.prototype.parseConditionalExpression=function(){var u=this.lookahead,l=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var y=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var S=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(u),new o.ConditionalExpression(l,y,S)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return l},f.prototype.checkPatternParam=function(u,l){switch(l.type){case c.Syntax.Identifier:this.validateParam(u,l,l.name);break;case c.Syntax.RestElement:this.checkPatternParam(u,l.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(u,l.left);break;case c.Syntax.ArrayPattern:for(var h=0;h<l.elements.length;h++)l.elements[h]!==null&&this.checkPatternParam(u,l.elements[h]);break;case c.Syntax.ObjectPattern:for(var h=0;h<l.properties.length;h++)this.checkPatternParam(u,l.properties[h].value);break;default:break}u.simple=u.simple&&l instanceof o.Identifier},f.prototype.reinterpretAsCoverFormalsList=function(u){var l=[u],h,y=!1;switch(u.type){case c.Syntax.Identifier:break;case p:l=u.params,y=u.async;break;default:return null}h={simple:!0,paramSet:{}};for(var S=0;S<l.length;++S){var D=l[S];D.type===c.Syntax.AssignmentPattern?D.right.type===c.Syntax.YieldExpression&&(D.right.argument&&this.throwUnexpectedToken(this.lookahead),D.right.type=c.Syntax.Identifier,D.right.name="yield",delete D.right.argument,delete D.right.delegate):y&&D.type===c.Syntax.Identifier&&D.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,D),l[S]=D}if(this.context.strict||!this.context.allowYield)for(var S=0;S<l.length;++S){var D=l[S];D.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var x=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(x,h.message)}return{simple:h.simple,params:l,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},f.prototype.parseAssignmentExpression=function(){var u;if(!this.context.allowYield&&this.matchKeyword("yield"))u=this.parseYieldExpression();else{var l=this.lookahead,h=l;if(u=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var y=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(y),u={type:p,params:[y],async:!0}}if(u.type===p||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var S=u.async,D=this.reinterpretAsCoverFormalsList(u);if(D){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var x=this.context.strict,F=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var A=this.context.allowYield,N=this.context.await;this.context.allowYield=!0,this.context.await=S;var q=this.startNode(l);this.expect("=>");var $=void 0;if(this.match("{")){var J=this.context.allowIn;this.context.allowIn=!0,$=this.parseFunctionSourceElements(),this.context.allowIn=J}else $=this.isolateCoverGrammar(this.parseAssignmentExpression);var Z=$.type!==c.Syntax.BlockStatement;this.context.strict&&D.firstRestricted&&this.throwUnexpectedToken(D.firstRestricted,D.message),this.context.strict&&D.stricted&&this.tolerateUnexpectedToken(D.stricted,D.message),u=S?this.finalize(q,new o.AsyncArrowFunctionExpression(D.params,$,Z)):this.finalize(q,new o.ArrowFunctionExpression(D.params,$,Z)),this.context.strict=x,this.context.allowStrictDirective=F,this.context.allowYield=A,this.context.await=N}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&u.type===c.Syntax.Identifier){var le=u;this.scanner.isRestrictedWord(le.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(le.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(u):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var ce=h.value,X=this.isolateCoverGrammar(this.parseAssignmentExpression);u=this.finalize(this.startNode(l),new o.AssignmentExpression(ce,u,X)),this.context.firstCoverInitializedNameError=null}}return u},f.prototype.parseExpression=function(){var u=this.lookahead,l=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(l);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(u),new o.SequenceExpression(h))}return l},f.prototype.parseStatementListItem=function(){var u;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),u=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),u=this.parseImportDeclaration();break;case"const":u=this.parseLexicalDeclaration({inFor:!1});break;case"function":u=this.parseFunctionDeclaration();break;case"class":u=this.parseClassDeclaration();break;case"let":u=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:u=this.parseStatement();break}else u=this.parseStatement();return u},f.prototype.parseBlock=function(){var u=this.createNode();this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseStatementListItem());return this.expect("}"),this.finalize(u,new o.BlockStatement(l))},f.prototype.parseLexicalBinding=function(u,l){var h=this.createNode(),y=[],S=this.parsePattern(y,u);this.context.strict&&S.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(S.name)&&this.tolerateError(s.Messages.StrictVarName);var D=null;return u==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),D=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!l.inFor&&S.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),D=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new o.VariableDeclarator(S,D))},f.prototype.parseBindingList=function(u,l){for(var h=[this.parseLexicalBinding(u,l)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(u,l));return h},f.prototype.isLexicalDeclaration=function(){var u=this.scanner.saveState();this.scanner.scanComments();var l=this.scanner.lex();return this.scanner.restoreState(u),l.type===3||l.type===7&&l.value==="["||l.type===7&&l.value==="{"||l.type===4&&l.value==="let"||l.type===4&&l.value==="yield"},f.prototype.parseLexicalDeclaration=function(u){var l=this.createNode(),h=this.nextToken().value;i.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var y=this.parseBindingList(h,u);return this.consumeSemicolon(),this.finalize(l,new o.VariableDeclaration(y,h))},f.prototype.parseBindingRestElement=function(u,l){var h=this.createNode();this.expect("...");var y=this.parsePattern(u,l);return this.finalize(h,new o.RestElement(y))},f.prototype.parseArrayPattern=function(u,l){var h=this.createNode();this.expect("[");for(var y=[];!this.match("]");)if(this.match(","))this.nextToken(),y.push(null);else{if(this.match("...")){y.push(this.parseBindingRestElement(u,l));break}else y.push(this.parsePatternWithDefault(u,l));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new o.ArrayPattern(y))},f.prototype.parsePropertyPattern=function(u,l){var h=this.createNode(),y=!1,S=!1,D=!1,x,F;if(this.lookahead.type===3){var A=this.lookahead;x=this.parseVariableIdentifier();var N=this.finalize(h,new o.Identifier(A.value));if(this.match("=")){u.push(A),S=!0,this.nextToken();var q=this.parseAssignmentExpression();F=this.finalize(this.startNode(A),new o.AssignmentPattern(N,q))}else this.match(":")?(this.expect(":"),F=this.parsePatternWithDefault(u,l)):(u.push(A),S=!0,F=N)}else y=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),F=this.parsePatternWithDefault(u,l);return this.finalize(h,new o.Property("init",x,y,F,D,S))},f.prototype.parseObjectPattern=function(u,l){var h=this.createNode(),y=[];for(this.expect("{");!this.match("}");)y.push(this.parsePropertyPattern(u,l)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new o.ObjectPattern(y))},f.prototype.parsePattern=function(u,l){var h;return this.match("[")?h=this.parseArrayPattern(u,l):this.match("{")?h=this.parseObjectPattern(u,l):(this.matchKeyword("let")&&(l==="const"||l==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),u.push(this.lookahead),h=this.parseVariableIdentifier(l)),h},f.prototype.parsePatternWithDefault=function(u,l){var h=this.lookahead,y=this.parsePattern(u,l);if(this.match("=")){this.nextToken();var S=this.context.allowYield;this.context.allowYield=!0;var D=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=S,y=this.finalize(this.startNode(h),new o.AssignmentPattern(y,D))}return y},f.prototype.parseVariableIdentifier=function(u){var l=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||u!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(l,new o.Identifier(h.value))},f.prototype.parseVariableDeclaration=function(u){var l=this.createNode(),h=[],y=this.parsePattern(h,"var");this.context.strict&&y.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(y.name)&&this.tolerateError(s.Messages.StrictVarName);var S=null;return this.match("=")?(this.nextToken(),S=this.isolateCoverGrammar(this.parseAssignmentExpression)):y.type!==c.Syntax.Identifier&&!u.inFor&&this.expect("="),this.finalize(l,new o.VariableDeclarator(y,S))},f.prototype.parseVariableDeclarationList=function(u){var l={inFor:u.inFor},h=[];for(h.push(this.parseVariableDeclaration(l));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(l));return h},f.prototype.parseVariableStatement=function(){var u=this.createNode();this.expectKeyword("var");var l=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(u,new o.VariableDeclaration(l,"var"))},f.prototype.parseEmptyStatement=function(){var u=this.createNode();return this.expect(";"),this.finalize(u,new o.EmptyStatement)},f.prototype.parseExpressionStatement=function(){var u=this.createNode(),l=this.parseExpression();return this.consumeSemicolon(),this.finalize(u,new o.ExpressionStatement(l))},f.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},f.prototype.parseIfStatement=function(){var u=this.createNode(),l,h=null;this.expectKeyword("if"),this.expect("(");var y=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),l=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),l=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(u,new o.IfStatement(y,l,h))},f.prototype.parseDoWhileStatement=function(){var u=this.createNode();this.expectKeyword("do");var l=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=l,this.expectKeyword("while"),this.expect("(");var y=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(u,new o.DoWhileStatement(h,y))},f.prototype.parseWhileStatement=function(){var u=this.createNode(),l;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),l=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var y=this.context.inIteration;this.context.inIteration=!0,l=this.parseStatement(),this.context.inIteration=y}return this.finalize(u,new o.WhileStatement(h,l))},f.prototype.parseForStatement=function(){var u=null,l=null,h=null,y=!0,S,D,x=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){u=this.createNode(),this.nextToken();var F=this.context.allowIn;this.context.allowIn=!1;var A=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=F,A.length===1&&this.matchKeyword("in")){var N=A[0];N.init&&(N.id.type===c.Syntax.ArrayPattern||N.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),u=this.finalize(u,new o.VariableDeclaration(A,"var")),this.nextToken(),S=u,D=this.parseExpression(),u=null}else A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(u=this.finalize(u,new o.VariableDeclaration(A,"var")),this.nextToken(),S=u,D=this.parseAssignmentExpression(),u=null,y=!1):(u=this.finalize(u,new o.VariableDeclaration(A,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){u=this.createNode();var q=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")u=this.finalize(u,new o.Identifier(q)),this.nextToken(),S=u,D=this.parseExpression(),u=null;else{var F=this.context.allowIn;this.context.allowIn=!1;var A=this.parseBindingList(q,{inFor:!0});this.context.allowIn=F,A.length===1&&A[0].init===null&&this.matchKeyword("in")?(u=this.finalize(u,new o.VariableDeclaration(A,q)),this.nextToken(),S=u,D=this.parseExpression(),u=null):A.length===1&&A[0].init===null&&this.matchContextualKeyword("of")?(u=this.finalize(u,new o.VariableDeclaration(A,q)),this.nextToken(),S=u,D=this.parseAssignmentExpression(),u=null,y=!1):(this.consumeSemicolon(),u=this.finalize(u,new o.VariableDeclaration(A,q)))}}else{var $=this.lookahead,F=this.context.allowIn;if(this.context.allowIn=!1,u=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=F,this.matchKeyword("in"))(!this.context.isAssignmentTarget||u.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(u),S=u,D=this.parseExpression(),u=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||u.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(u),S=u,D=this.parseAssignmentExpression(),u=null,y=!1;else{if(this.match(",")){for(var J=[u];this.match(",");)this.nextToken(),J.push(this.isolateCoverGrammar(this.parseAssignmentExpression));u=this.finalize(this.startNode($),new o.SequenceExpression(J))}this.expect(";")}}typeof S>"u"&&(this.match(";")||(l=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var Z;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),Z=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var le=this.context.inIteration;this.context.inIteration=!0,Z=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=le}return typeof S>"u"?this.finalize(x,new o.ForStatement(u,l,h,Z)):y?this.finalize(x,new o.ForInStatement(S,D,Z)):this.finalize(x,new o.ForOfStatement(S,D,Z))},f.prototype.parseContinueStatement=function(){var u=this.createNode();this.expectKeyword("continue");var l=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();l=h;var y="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),l===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(u,new o.ContinueStatement(l))},f.prototype.parseBreakStatement=function(){var u=this.createNode();this.expectKeyword("break");var l=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),y="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)||this.throwError(s.Messages.UnknownLabel,h.name),l=h}return this.consumeSemicolon(),l===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(u,new o.BreakStatement(l))},f.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var u=this.createNode();this.expectKeyword("return");var l=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=l?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(u,new o.ReturnStatement(h))},f.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var u=this.createNode(),l;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),l=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),l=this.parseStatement()),this.finalize(u,new o.WithStatement(h,l))},f.prototype.parseSwitchCase=function(){var u=this.createNode(),l;this.matchKeyword("default")?(this.nextToken(),l=null):(this.expectKeyword("case"),l=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(u,new o.SwitchCase(l,h))},f.prototype.parseSwitchStatement=function(){var u=this.createNode();this.expectKeyword("switch"),this.expect("(");var l=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var y=[],S=!1;for(this.expect("{");!this.match("}");){var D=this.parseSwitchCase();D.test===null&&(S&&this.throwError(s.Messages.MultipleDefaultsInSwitch),S=!0),y.push(D)}return this.expect("}"),this.context.inSwitch=h,this.finalize(u,new o.SwitchStatement(l,y))},f.prototype.parseLabelledStatement=function(){var u=this.createNode(),l=this.parseExpression(),h;if(l.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var y=l,S="$"+y.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,S)&&this.throwError(s.Messages.Redeclaration,"Label",y.name),this.context.labelSet[S]=!0;var D=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),D=this.parseClassDeclaration();else if(this.matchKeyword("function")){var x=this.lookahead,F=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(x,s.Messages.StrictFunction):F.generator&&this.tolerateUnexpectedToken(x,s.Messages.GeneratorInLegacyContext),D=F}else D=this.parseStatement();delete this.context.labelSet[S],h=new o.LabeledStatement(y,D)}else this.consumeSemicolon(),h=new o.ExpressionStatement(l);return this.finalize(u,h)},f.prototype.parseThrowStatement=function(){var u=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var l=this.parseExpression();return this.consumeSemicolon(),this.finalize(u,new o.ThrowStatement(l))},f.prototype.parseCatchClause=function(){var u=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var l=[],h=this.parsePattern(l),y={},S=0;S<l.length;S++){var D="$"+l[S].value;Object.prototype.hasOwnProperty.call(y,D)&&this.tolerateError(s.Messages.DuplicateBinding,l[S].value),y[D]=!0}this.context.strict&&h.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var x=this.parseBlock();return this.finalize(u,new o.CatchClause(h,x))},f.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},f.prototype.parseTryStatement=function(){var u=this.createNode();this.expectKeyword("try");var l=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,y=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!y&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(u,new o.TryStatement(l,h,y))},f.prototype.parseDebuggerStatement=function(){var u=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(u,new o.DebuggerStatement)},f.prototype.parseStatement=function(){var u;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:u=this.parseExpressionStatement();break;case 7:var l=this.lookahead.value;l==="{"?u=this.parseBlock():l==="("?u=this.parseExpressionStatement():l===";"?u=this.parseEmptyStatement():u=this.parseExpressionStatement();break;case 3:u=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":u=this.parseBreakStatement();break;case"continue":u=this.parseContinueStatement();break;case"debugger":u=this.parseDebuggerStatement();break;case"do":u=this.parseDoWhileStatement();break;case"for":u=this.parseForStatement();break;case"function":u=this.parseFunctionDeclaration();break;case"if":u=this.parseIfStatement();break;case"return":u=this.parseReturnStatement();break;case"switch":u=this.parseSwitchStatement();break;case"throw":u=this.parseThrowStatement();break;case"try":u=this.parseTryStatement();break;case"var":u=this.parseVariableStatement();break;case"while":u=this.parseWhileStatement();break;case"with":u=this.parseWithStatement();break;default:u=this.parseExpressionStatement();break}break;default:u=this.throwUnexpectedToken(this.lookahead)}return u},f.prototype.parseFunctionSourceElements=function(){var u=this.createNode();this.expect("{");var l=this.parseDirectivePrologues(),h=this.context.labelSet,y=this.context.inIteration,S=this.context.inSwitch,D=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)l.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=y,this.context.inSwitch=S,this.context.inFunctionBody=D,this.finalize(u,new o.BlockStatement(l))},f.prototype.validateParam=function(u,l,h){var y="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(u.stricted=l,u.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(u.paramSet,y)&&(u.stricted=l,u.message=s.Messages.StrictParamDupe)):u.firstRestricted||(this.scanner.isRestrictedWord(h)?(u.firstRestricted=l,u.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(u.firstRestricted=l,u.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(u.paramSet,y)&&(u.stricted=l,u.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(u.paramSet,y,{value:!0,enumerable:!0,writable:!0,configurable:!0}):u.paramSet[y]=!0},f.prototype.parseRestElement=function(u){var l=this.createNode();this.expect("...");var h=this.parsePattern(u);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(l,new o.RestElement(h))},f.prototype.parseFormalParameter=function(u){for(var l=[],h=this.match("...")?this.parseRestElement(l):this.parsePatternWithDefault(l),y=0;y<l.length;y++)this.validateParam(u,l[y],l[y].value);u.simple=u.simple&&h instanceof o.Identifier,u.params.push(h)},f.prototype.parseFormalParameters=function(u){var l;if(l={simple:!0,params:[],firstRestricted:u},this.expect("("),!this.match(")"))for(l.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(l),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:l.simple,params:l.params,stricted:l.stricted,firstRestricted:l.firstRestricted,message:l.message}},f.prototype.matchAsyncFunction=function(){var u=this.matchContextualKeyword("async");if(u){var l=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(l),u=l.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return u},f.prototype.parseFunctionDeclaration=function(u){var l=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var y=h?!1:this.match("*");y&&this.nextToken();var S,D=null,x=null;if(!u||!this.match("(")){var F=this.lookahead;D=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(F.value)&&this.tolerateUnexpectedToken(F,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(F.value)?(x=F,S=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(F.value)&&(x=F,S=s.Messages.StrictReservedWord)}var A=this.context.await,N=this.context.allowYield;this.context.await=h,this.context.allowYield=!y;var q=this.parseFormalParameters(x),$=q.params,J=q.stricted;x=q.firstRestricted,q.message&&(S=q.message);var Z=this.context.strict,le=this.context.allowStrictDirective;this.context.allowStrictDirective=q.simple;var ce=this.parseFunctionSourceElements();return this.context.strict&&x&&this.throwUnexpectedToken(x,S),this.context.strict&&J&&this.tolerateUnexpectedToken(J,S),this.context.strict=Z,this.context.allowStrictDirective=le,this.context.await=A,this.context.allowYield=N,h?this.finalize(l,new o.AsyncFunctionDeclaration(D,$,ce)):this.finalize(l,new o.FunctionDeclaration(D,$,ce,y))},f.prototype.parseFunctionExpression=function(){var u=this.createNode(),l=this.matchContextualKeyword("async");l&&this.nextToken(),this.expectKeyword("function");var h=l?!1:this.match("*");h&&this.nextToken();var y,S=null,D,x=this.context.await,F=this.context.allowYield;if(this.context.await=l,this.context.allowYield=!h,!this.match("(")){var A=this.lookahead;S=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(D=A,y=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(D=A,y=s.Messages.StrictReservedWord)}var N=this.parseFormalParameters(D),q=N.params,$=N.stricted;D=N.firstRestricted,N.message&&(y=N.message);var J=this.context.strict,Z=this.context.allowStrictDirective;this.context.allowStrictDirective=N.simple;var le=this.parseFunctionSourceElements();return this.context.strict&&D&&this.throwUnexpectedToken(D,y),this.context.strict&&$&&this.tolerateUnexpectedToken($,y),this.context.strict=J,this.context.allowStrictDirective=Z,this.context.await=x,this.context.allowYield=F,l?this.finalize(u,new o.AsyncFunctionExpression(S,q,le)):this.finalize(u,new o.FunctionExpression(S,q,le,h))},f.prototype.parseDirective=function(){var u=this.lookahead,l=this.createNode(),h=this.parseExpression(),y=h.type===c.Syntax.Literal?this.getTokenRaw(u).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(l,y?new o.Directive(h,y):new o.ExpressionStatement(h))},f.prototype.parseDirectivePrologues=function(){for(var u=null,l=[];;){var h=this.lookahead;if(h.type!==8)break;var y=this.parseDirective();l.push(y);var S=y.directive;if(typeof S!="string")break;S==="use strict"?(this.context.strict=!0,u&&this.tolerateUnexpectedToken(u,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!u&&h.octal&&(u=h)}return l},f.prototype.qualifiedPropertyName=function(u){switch(u.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return u.value==="[";default:break}return!1},f.prototype.parseGetterMethod=function(){var u=this.createNode(),l=!1,h=this.context.allowYield;this.context.allowYield=!l;var y=this.parseFormalParameters();y.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var S=this.parsePropertyMethod(y);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,y.params,S,l))},f.prototype.parseSetterMethod=function(){var u=this.createNode(),l=!1,h=this.context.allowYield;this.context.allowYield=!l;var y=this.parseFormalParameters();y.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):y.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var S=this.parsePropertyMethod(y);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,y.params,S,l))},f.prototype.parseGeneratorMethod=function(){var u=this.createNode(),l=!0,h=this.context.allowYield;this.context.allowYield=!0;var y=this.parseFormalParameters();this.context.allowYield=!1;var S=this.parsePropertyMethod(y);return this.context.allowYield=h,this.finalize(u,new o.FunctionExpression(null,y.params,S,l))},f.prototype.isStartOfExpression=function(){var u=!0,l=this.lookahead.value;switch(this.lookahead.type){case 7:u=l==="["||l==="("||l==="{"||l==="+"||l==="-"||l==="!"||l==="~"||l==="++"||l==="--"||l==="/"||l==="/=";break;case 4:u=l==="class"||l==="delete"||l==="function"||l==="let"||l==="new"||l==="super"||l==="this"||l==="typeof"||l==="void"||l==="yield";break;default:break}return u},f.prototype.parseYieldExpression=function(){var u=this.createNode();this.expectKeyword("yield");var l=null,h=!1;if(!this.hasLineTerminator){var y=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),l=this.parseAssignmentExpression()):this.isStartOfExpression()&&(l=this.parseAssignmentExpression()),this.context.allowYield=y}return this.finalize(u,new o.YieldExpression(l,h))},f.prototype.parseClassElement=function(u){var l=this.lookahead,h=this.createNode(),y="",S=null,D=null,x=!1,F=!1,A=!1,N=!1;if(this.match("*"))this.nextToken();else{x=this.match("["),S=this.parseObjectPropertyKey();var q=S;if(q.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(l=this.lookahead,A=!0,x=this.match("["),this.match("*")?this.nextToken():S=this.parseObjectPropertyKey()),l.type===3&&!this.hasLineTerminator&&l.value==="async"){var $=this.lookahead.value;$!==":"&&$!=="("&&$!=="*"&&(N=!0,l=this.lookahead,S=this.parseObjectPropertyKey(),l.type===3&&l.value==="constructor"&&this.tolerateUnexpectedToken(l,s.Messages.ConstructorIsAsync))}}var J=this.qualifiedPropertyName(this.lookahead);return l.type===3?l.value==="get"&&J?(y="get",x=this.match("["),S=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod()):l.value==="set"&&J&&(y="set",x=this.match("["),S=this.parseObjectPropertyKey(),D=this.parseSetterMethod()):l.type===7&&l.value==="*"&&J&&(y="init",x=this.match("["),S=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),F=!0),!y&&S&&this.match("(")&&(y="init",D=N?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),F=!0),y||this.throwUnexpectedToken(this.lookahead),y==="init"&&(y="method"),x||(A&&this.isPropertyKey(S,"prototype")&&this.throwUnexpectedToken(l,s.Messages.StaticPrototype),!A&&this.isPropertyKey(S,"constructor")&&((y!=="method"||!F||D&&D.generator)&&this.throwUnexpectedToken(l,s.Messages.ConstructorSpecialMethod),u.value?this.throwUnexpectedToken(l,s.Messages.DuplicateConstructor):u.value=!0,y="constructor")),this.finalize(h,new o.MethodDefinition(S,x,D,y,A))},f.prototype.parseClassElementList=function(){var u=[],l={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():u.push(this.parseClassElement(l));return this.expect("}"),u},f.prototype.parseClassBody=function(){var u=this.createNode(),l=this.parseClassElementList();return this.finalize(u,new o.ClassBody(l))},f.prototype.parseClassDeclaration=function(u){var l=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var y=u&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),S=null;this.matchKeyword("extends")&&(this.nextToken(),S=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var D=this.parseClassBody();return this.context.strict=h,this.finalize(l,new o.ClassDeclaration(y,S,D))},f.prototype.parseClassExpression=function(){var u=this.createNode(),l=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,y=null;this.matchKeyword("extends")&&(this.nextToken(),y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var S=this.parseClassBody();return this.context.strict=l,this.finalize(u,new o.ClassExpression(h,y,S))},f.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var u=this.createNode(),l=this.parseDirectivePrologues();this.lookahead.type!==2;)l.push(this.parseStatementListItem());return this.finalize(u,new o.Module(l))},f.prototype.parseScript=function(){for(var u=this.createNode(),l=this.parseDirectivePrologues();this.lookahead.type!==2;)l.push(this.parseStatementListItem());return this.finalize(u,new o.Script(l))},f.prototype.parseModuleSpecifier=function(){var u=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var l=this.nextToken(),h=this.getTokenRaw(l);return this.finalize(u,new o.Literal(l.value,h))},f.prototype.parseImportSpecifier=function(){var u=this.createNode(),l,h;return this.lookahead.type===3?(l=this.parseVariableIdentifier(),h=l,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(l=this.parseIdentifierName(),h=l,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(u,new o.ImportSpecifier(h,l))},f.prototype.parseNamedImports=function(){this.expect("{");for(var u=[];!this.match("}");)u.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),u},f.prototype.parseImportDefaultSpecifier=function(){var u=this.createNode(),l=this.parseIdentifierName();return this.finalize(u,new o.ImportDefaultSpecifier(l))},f.prototype.parseImportNamespaceSpecifier=function(){var u=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var l=this.parseIdentifierName();return this.finalize(u,new o.ImportNamespaceSpecifier(l))},f.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var u=this.createNode();this.expectKeyword("import");var l,h=[];if(this.lookahead.type===8)l=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var y=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(y,this.lookahead.value)}this.nextToken(),l=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(u,new o.ImportDeclaration(h,l))},f.prototype.parseExportSpecifier=function(){var u=this.createNode(),l=this.parseIdentifierName(),h=l;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(u,new o.ExportSpecifier(l,h))},f.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var u=this.createNode();this.expectKeyword("export");var l;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);l=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);l=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();l=this.finalize(u,new o.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),l=this.finalize(u,new o.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var y=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(y,this.lookahead.value)}this.nextToken();var S=this.parseModuleSpecifier();this.consumeSemicolon(),l=this.finalize(u,new o.ExportAllDeclaration(S))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}l=this.finalize(u,new o.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();l=this.finalize(u,new o.ExportNamedDeclaration(h,[],null))}else{var D=[],x=null,F=!1;for(this.expect("{");!this.match("}");)F=F||this.matchKeyword("default"),D.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),x=this.parseModuleSpecifier(),this.consumeSemicolon();else if(F){var y=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(y,this.lookahead.value)}else this.consumeSemicolon();l=this.finalize(u,new o.ExportNamedDeclaration(null,D,x))}return l},f}();e.Parser=m},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(i,r){if(!i)throw new Error("ASSERT: "+r)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){this.errors=[],this.tolerant=!1}return i.prototype.recordError=function(r){this.errors.push(r)},i.prototype.tolerate=function(r){if(this.tolerant)this.recordError(r);else throw r},i.prototype.constructError=function(r,s){var o=new Error(r);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},i.prototype.createError=function(r,s,o,a){var c="Line "+s+": "+a,d=this.constructError(c,o);return d.index=r,d.lineNumber=s,d.description=a,d},i.prototype.throwError=function(r,s,o,a){throw this.createError(r,s,o,a)},i.prototype.tolerateError=function(r,s,o,a){var c=this.createError(r,s,o,a);if(this.tolerant)this.recordError(c);else throw c},i}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),r=n(4),s=n(11);function o(d){return"0123456789abcdef".indexOf(d.toLowerCase())}function a(d){return"01234567".indexOf(d)}var c=function(){function d(p,m){this.source=p,this.errorHandler=m,this.trackComment=!1,this.isModule=!1,this.length=p.length,this.index=0,this.lineNumber=p.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return d.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},d.prototype.restoreState=function(p){this.index=p.index,this.lineNumber=p.lineNumber,this.lineStart=p.lineStart},d.prototype.eof=function(){return this.index>=this.length},d.prototype.throwUnexpectedToken=function(p){return p===void 0&&(p=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,p)},d.prototype.tolerateUnexpectedToken=function(p){p===void 0&&(p=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,p)},d.prototype.skipSingleLineComment=function(p){var m=[],f,u;for(this.trackComment&&(m=[],f=this.index-p,u={start:{line:this.lineNumber,column:this.index-this.lineStart-p},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(++this.index,r.Character.isLineTerminator(l)){if(this.trackComment){u.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[f+p,this.index-1],range:[f,this.index-1],loc:u};m.push(h)}return l===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,m}}if(this.trackComment){u.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[f+p,this.index],range:[f,this.index],loc:u};m.push(h)}return m},d.prototype.skipMultiLineComment=function(){var p=[],m,f;for(this.trackComment&&(p=[],m=this.index-2,f={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var u=this.source.charCodeAt(this.index);if(r.Character.isLineTerminator(u))u===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(u===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart};var l={multiLine:!0,slice:[m+2,this.index-2],range:[m,this.index],loc:f};p.push(l)}return p}++this.index}else++this.index}if(this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart};var l={multiLine:!0,slice:[m+2,this.index],range:[m,this.index],loc:f};p.push(l)}return this.tolerateUnexpectedToken(),p},d.prototype.scanComments=function(){var p;this.trackComment&&(p=[]);for(var m=this.index===0;!this.eof();){var f=this.source.charCodeAt(this.index);if(r.Character.isWhiteSpace(f))++this.index;else if(r.Character.isLineTerminator(f))++this.index,f===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,m=!0;else if(f===47)if(f=this.source.charCodeAt(this.index+1),f===47){this.index+=2;var u=this.skipSingleLineComment(2);this.trackComment&&(p=p.concat(u)),m=!0}else if(f===42){this.index+=2;var u=this.skipMultiLineComment();this.trackComment&&(p=p.concat(u))}else break;else if(m&&f===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var u=this.skipSingleLineComment(3);this.trackComment&&(p=p.concat(u))}else break;else if(f===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var u=this.skipSingleLineComment(4);this.trackComment&&(p=p.concat(u))}else break;else break}return p},d.prototype.isFutureReservedWord=function(p){switch(p){case"enum":case"export":case"import":case"super":return!0;default:return!1}},d.prototype.isStrictModeReservedWord=function(p){switch(p){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},d.prototype.isRestrictedWord=function(p){return p==="eval"||p==="arguments"},d.prototype.isKeyword=function(p){switch(p.length){case 2:return p==="if"||p==="in"||p==="do";case 3:return p==="var"||p==="for"||p==="new"||p==="try"||p==="let";case 4:return p==="this"||p==="else"||p==="case"||p==="void"||p==="with"||p==="enum";case 5:return p==="while"||p==="break"||p==="catch"||p==="throw"||p==="const"||p==="yield"||p==="class"||p==="super";case 6:return p==="return"||p==="typeof"||p==="delete"||p==="switch"||p==="export"||p==="import";case 7:return p==="default"||p==="finally"||p==="extends";case 8:return p==="function"||p==="continue"||p==="debugger";case 10:return p==="instanceof";default:return!1}},d.prototype.codePointAt=function(p){var m=this.source.charCodeAt(p);if(m>=55296&&m<=56319){var f=this.source.charCodeAt(p+1);if(f>=56320&&f<=57343){var u=m;m=(u-55296)*1024+f-56320+65536}}return m},d.prototype.scanHexEscape=function(p){for(var m=p==="u"?4:2,f=0,u=0;u<m;++u)if(!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index)))f=f*16+o(this.source[this.index++]);else return null;return String.fromCharCode(f)},d.prototype.scanUnicodeCodePointEscape=function(){var p=this.source[this.index],m=0;for(p==="}"&&this.throwUnexpectedToken();!this.eof()&&(p=this.source[this.index++],!!r.Character.isHexDigit(p.charCodeAt(0)));)m=m*16+o(p);return(m>1114111||p!=="}")&&this.throwUnexpectedToken(),r.Character.fromCodePoint(m)},d.prototype.getIdentifier=function(){for(var p=this.index++;!this.eof();){var m=this.source.charCodeAt(this.index);if(m===92)return this.index=p,this.getComplexIdentifier();if(m>=55296&&m<57343)return this.index=p,this.getComplexIdentifier();if(r.Character.isIdentifierPart(m))++this.index;else break}return this.source.slice(p,this.index)},d.prototype.getComplexIdentifier=function(){var p=this.codePointAt(this.index),m=r.Character.fromCodePoint(p);this.index+=m.length;var f;for(p===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),(f===null||f==="\\"||!r.Character.isIdentifierStart(f.charCodeAt(0)))&&this.throwUnexpectedToken()),m=f);!this.eof()&&(p=this.codePointAt(this.index),!!r.Character.isIdentifierPart(p));)f=r.Character.fromCodePoint(p),m+=f,this.index+=f.length,p===92&&(m=m.substr(0,m.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),(f===null||f==="\\"||!r.Character.isIdentifierPart(f.charCodeAt(0)))&&this.throwUnexpectedToken()),m+=f);return m},d.prototype.octalToDecimal=function(p){var m=p!=="0",f=a(p);return!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=!0,f=f*8+a(this.source[this.index++]),"0123".indexOf(p)>=0&&!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(f=f*8+a(this.source[this.index++]))),{code:f,octal:m}},d.prototype.scanIdentifier=function(){var p,m=this.index,f=this.source.charCodeAt(m)===92?this.getComplexIdentifier():this.getIdentifier();if(f.length===1?p=3:this.isKeyword(f)?p=4:f==="null"?p=5:f==="true"||f==="false"?p=1:p=3,p!==3&&m+f.length!==this.index){var u=this.index;this.index=m,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=u}return{type:p,value:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},d.prototype.scanPunctuator=function(){var p=this.index,m=this.source[this.index];switch(m){case"(":case"{":m==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,m="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:m=this.source.substr(this.index,4),m===">>>="?this.index+=4:(m=m.substr(0,3),m==="==="||m==="!=="||m===">>>"||m==="<<="||m===">>="||m==="**="?this.index+=3:(m=m.substr(0,2),m==="&&"||m==="||"||m==="=="||m==="!="||m==="+="||m==="-="||m==="*="||m==="/="||m==="++"||m==="--"||m==="<<"||m===">>"||m==="&="||m==="|="||m==="^="||m==="%="||m==="<="||m===">="||m==="=>"||m==="**"?this.index+=2:(m=this.source[this.index],"<>=!+-*%&|^/".indexOf(m)>=0&&++this.index)))}return this.index===p&&this.throwUnexpectedToken(),{type:7,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.scanHexLiteral=function(p){for(var m="";!this.eof()&&r.Character.isHexDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];return m.length===0&&this.throwUnexpectedToken(),r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+m,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.scanBinaryLiteral=function(p){for(var m="",f;!this.eof()&&(f=this.source[this.index],!(f!=="0"&&f!=="1"));)m+=this.source[this.index++];return m.length===0&&this.throwUnexpectedToken(),this.eof()||(f=this.source.charCodeAt(this.index),(r.Character.isIdentifierStart(f)||r.Character.isDecimalDigit(f))&&this.throwUnexpectedToken()),{type:6,value:parseInt(m,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.scanOctalLiteral=function(p,m){var f="",u=!1;for(r.Character.isOctalDigit(p.charCodeAt(0))?(u=!0,f="0"+this.source[this.index++]):++this.index;!this.eof()&&r.Character.isOctalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];return!u&&f.length===0&&this.throwUnexpectedToken(),(r.Character.isIdentifierStart(this.source.charCodeAt(this.index))||r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(f,8),octal:u,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},d.prototype.isImplicitOctalLiteral=function(){for(var p=this.index+1;p<this.length;++p){var m=this.source[p];if(m==="8"||m==="9")return!1;if(!r.Character.isOctalDigit(m.charCodeAt(0)))return!0}return!0},d.prototype.scanNumericLiteral=function(){var p=this.index,m=this.source[p];i.assert(r.Character.isDecimalDigit(m.charCodeAt(0))||m===".","Numeric literal must start with a decimal digit or a decimal point");var f="";if(m!=="."){if(f=this.source[this.index++],m=this.source[this.index],f==="0"){if(m==="x"||m==="X")return++this.index,this.scanHexLiteral(p);if(m==="b"||m==="B")return++this.index,this.scanBinaryLiteral(p);if(m==="o"||m==="O")return this.scanOctalLiteral(m,p);if(m&&r.Character.isOctalDigit(m.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(m,p)}for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];m=this.source[this.index]}if(m==="."){for(f+=this.source[this.index++];r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];m=this.source[this.index]}if(m==="e"||m==="E")if(f+=this.source[this.index++],m=this.source[this.index],(m==="+"||m==="-")&&(f+=this.source[this.index++]),r.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;r.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];else this.throwUnexpectedToken();return r.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(f),lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.scanStringLiteral=function(){var p=this.index,m=this.source[p];i.assert(m==="'"||m==='"',"String literal must starts with a quote"),++this.index;for(var f=!1,u="";!this.eof();){var l=this.source[this.index++];if(l===m){m="";break}else if(l==="\\")if(l=this.source[this.index++],!l||!r.Character.isLineTerminator(l.charCodeAt(0)))switch(l){case"u":if(this.source[this.index]==="{")++this.index,u+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(l);h===null&&this.throwUnexpectedToken(),u+=h}break;case"x":var y=this.scanHexEscape(l);y===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),u+=y;break;case"n":u+=`
`;break;case"r":u+="\r";break;case"t":u+="	";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="\v";break;case"8":case"9":u+=l,this.tolerateUnexpectedToken();break;default:if(l&&r.Character.isOctalDigit(l.charCodeAt(0))){var S=this.octalToDecimal(l);f=S.octal||f,u+=String.fromCharCode(S.code)}else u+=l;break}else++this.lineNumber,l==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(r.Character.isLineTerminator(l.charCodeAt(0)))break;u+=l}}return m!==""&&(this.index=p,this.throwUnexpectedToken()),{type:8,value:u,octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.scanTemplate=function(){var p="",m=!1,f=this.index,u=this.source[f]==="`",l=!1,h=2;for(++this.index;!this.eof();){var y=this.source[this.index++];if(y==="`"){h=1,l=!0,m=!0;break}else if(y==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,m=!0;break}p+=y}else if(y==="\\")if(y=this.source[this.index++],r.Character.isLineTerminator(y.charCodeAt(0)))++this.lineNumber,y==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(y){case"n":p+=`
`;break;case"r":p+="\r";break;case"t":p+="	";break;case"u":if(this.source[this.index]==="{")++this.index,p+=this.scanUnicodeCodePointEscape();else{var S=this.index,D=this.scanHexEscape(y);D!==null?p+=D:(this.index=S,p+=y)}break;case"x":var x=this.scanHexEscape(y);x===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),p+=x;break;case"b":p+="\b";break;case"f":p+="\f";break;case"v":p+="\v";break;default:y==="0"?(r.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),p+="\0"):r.Character.isOctalDigit(y.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):p+=y;break}else r.Character.isLineTerminator(y.charCodeAt(0))?(++this.lineNumber,y==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,p+=`
`):p+=y}return m||this.throwUnexpectedToken(),u||this.curlyStack.pop(),{type:10,value:this.source.slice(f+1,this.index-h),cooked:p,head:u,tail:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},d.prototype.testRegExp=function(p,m){var f="\uFFFF",u=p,l=this;m.indexOf("u")>=0&&(u=u.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,y,S){var D=parseInt(y||S,16);return D>1114111&&l.throwUnexpectedToken(s.Messages.InvalidRegExp),D<=65535?String.fromCharCode(D):f}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f));try{RegExp(u)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(p,m)}catch{return null}},d.prototype.scanRegExpBody=function(){var p=this.source[this.index];i.assert(p==="/","Regular expression literal must start with a slash");for(var m=this.source[this.index++],f=!1,u=!1;!this.eof();)if(p=this.source[this.index++],m+=p,p==="\\")p=this.source[this.index++],r.Character.isLineTerminator(p.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),m+=p;else if(r.Character.isLineTerminator(p.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(f)p==="]"&&(f=!1);else if(p==="/"){u=!0;break}else p==="["&&(f=!0);return u||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),m.substr(1,m.length-2)},d.prototype.scanRegExpFlags=function(){for(var p="",m="";!this.eof();){var f=this.source[this.index];if(!r.Character.isIdentifierPart(f.charCodeAt(0)))break;if(++this.index,f==="\\"&&!this.eof())if(f=this.source[this.index],f==="u"){++this.index;var u=this.index,l=this.scanHexEscape("u");if(l!==null)for(m+=l,p+="\\u";u<this.index;++u)p+=this.source[u];else this.index=u,m+="u",p+="\\u";this.tolerateUnexpectedToken()}else p+="\\",this.tolerateUnexpectedToken();else m+=f,p+=f}return m},d.prototype.scanRegExp=function(){var p=this.index,m=this.scanRegExpBody(),f=this.scanRegExpFlags(),u=this.testRegExp(m,f);return{type:9,value:"",pattern:m,flags:f,regex:u,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},d.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var p=this.source.charCodeAt(this.index);return r.Character.isIdentifierStart(p)?this.scanIdentifier():p===40||p===41||p===59?this.scanPunctuator():p===39||p===34?this.scanStringLiteral():p===46?r.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():r.Character.isDecimalDigit(p)?this.scanNumericLiteral():p===96||p===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():p>=55296&&p<57343&&r.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},d}();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(12),s=n(13),o=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(d){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(d)>=0},c.prototype.isRegexStart=function(){var d=this.values[this.values.length-1],p=d!==null;switch(d){case"this":case"]":p=!1;break;case")":var m=this.values[this.paren-1];p=m==="if"||m==="while"||m==="for"||m==="with";break;case"}":if(p=!1,this.values[this.curly-3]==="function"){var f=this.values[this.curly-4];p=f?!this.beforeFunctionExpression(f):!1}else if(this.values[this.curly-4]==="function"){var f=this.values[this.curly-5];p=f?!this.beforeFunctionExpression(f):!0}break;default:break}return p},c.prototype.push=function(d){d.type===7||d.type===4?(d.value==="{"?this.curly=this.values.length:d.value==="("&&(this.paren=this.values.length),this.values.push(d.value)):this.values.push(null)},c}(),a=function(){function c(d,p){this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=p?typeof p.tolerant=="boolean"&&p.tolerant:!1,this.scanner=new r.Scanner(d,this.errorHandler),this.scanner.trackComment=p?typeof p.comment=="boolean"&&p.comment:!1,this.trackRange=p?typeof p.range=="boolean"&&p.range:!1,this.trackLoc=p?typeof p.loc=="boolean"&&p.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var d=this.scanner.scanComments();if(this.scanner.trackComment)for(var p=0;p<d.length;++p){var m=d[p],f=this.scanner.source.slice(m.slice[0],m.slice[1]),u={type:m.multiLine?"BlockComment":"LineComment",value:f};this.trackRange&&(u.range=m.range),this.trackLoc&&(u.loc=m.loc),this.buffer.push(u)}if(!this.scanner.eof()){var l=void 0;this.trackLoc&&(l={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),y=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(y);var S={type:s.TokenName[y.type],value:this.scanner.source.slice(y.start,y.end)};if(this.trackRange&&(S.range=[y.start,y.end]),this.trackLoc&&(l.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},S.loc=l),y.type===9){var D=y.pattern,x=y.flags;S.regex={pattern:D,flags:x}}this.buffer.push(S)}}return this.buffer.shift()},c}();e.Tokenizer=a}])})});var tu=M(dn=>{function i1(t){return Array.isArray?Array.isArray(t):eu(t)==="[object Array]"}dn.isArray=i1;function r1(t){return typeof t=="boolean"}dn.isBoolean=r1;function s1(t){return t===null}dn.isNull=s1;function o1(t){return t==null}dn.isNullOrUndefined=o1;function a1(t){return typeof t=="number"}dn.isNumber=a1;function c1(t){return typeof t=="string"}dn.isString=c1;function u1(t){return typeof t=="symbol"}dn.isSymbol=u1;function l1(t){return t===void 0}dn.isUndefined=l1;function d1(t){return eu(t)==="[object RegExp]"}dn.isRegExp=d1;function f1(t){return typeof t=="object"&&t!==null}dn.isObject=f1;function h1(t){return eu(t)==="[object Date]"}dn.isDate=h1;function p1(t){return eu(t)==="[object Error]"||t instanceof Error}dn.isError=p1;function g1(t){return typeof t=="function"}dn.isFunction=g1;function m1(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}dn.isPrimitive=m1;dn.isBuffer=require("buffer").Buffer.isBuffer;function eu(t){return Object.prototype.toString.call(t)}});var qD=M((Cz,LD)=>{var PD=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],ye,RD=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function ID(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let r=RD(t),s=RD(e),o=0;return r<s?(t*=PD[s-r-1],e/=10,o=-1):r>s&&(e*=PD[r-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),i=String(e);return n===i?0:n<i?-1:1}function y1(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function MD(t,e,n,i){let r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;ND(t,e,r),ND(ye,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function ND(t,e,n){for(n--;e<n;){let i=t[e];t[e++]=t[n],t[n--]=i}}function OD(t,e,n,i,r){for(i===e&&i++;i<n;i++){let s=t[i],o=ye[i],a=e,c=i;for(;a<c;){let p=a+c>>>1;r(s,t[p])<0?c=p:a=p+1}let d=i-a;switch(d){case 3:t[a+3]=t[a+2],ye[a+3]=ye[a+2];case 2:t[a+2]=t[a+1],ye[a+2]=ye[a+1];case 1:t[a+1]=t[a],ye[a+1]=ye[a];break;default:for(;d>0;)t[a+d]=t[a+d-1],ye[a+d]=ye[a+d-1],d--}t[a]=s,ye[a]=o}}function Mf(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])>0){for(a=i-r;c<a&&s(t,e[n+r+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}else{for(a=r+1;c<a&&s(t,e[n+r-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let d=o;o=r-c,c=r-d}for(o++;o<c;){let d=o+(c-o>>>1);s(t,e[n+d])>0?o=d+1:c=d}return c}function Nf(t,e,n,i,r,s){let o=0,a=0,c=1;if(s(t,e[n+r])<0){for(a=r+1;c<a&&s(t,e[n+r-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let d=o;o=r-c,c=r-d}else{for(a=i-r;c<a&&s(t,e[n+r+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=r,c+=r}for(o++;o<c;){let d=o+(c-o>>>1);s(t,e[n+d])<0?c=d:o=d+1}return c}var Of=class{constructor(e,n){this.array=e,this.compare=n;let{length:i}=e;this.length=i,this.minGallop=7,this.tmpStorageLength=i<2*256?i>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=i<120?5:i<1542?10:i<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:i}=this,r=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=Nf(i[o],i,r,s,0,n);r+=c,s-=c,s!==0&&(a=Mf(i[r+s-1],i,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(r,s,o,a):this.mergeHigh(r,s,o,a)))}mergeLow(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,d=0;for(d=0;d<n;d++)a[d]=o[e+d],c[d]=ye[e+d];let p=0,m=i,f=e;if(o[f]=o[m],ye[f]=ye[m],f++,m++,--r===0){for(d=0;d<n;d++)o[f+d]=a[p+d],ye[f+d]=c[p+d];return}if(n===1){for(d=0;d<r;d++)o[f+d]=o[m+d],ye[f+d]=ye[m+d];o[f+r]=a[p],ye[f+r]=c[p];return}let{minGallop:u}=this;for(;;){let l=0,h=0,y=!1;do if(s(o[m],a[p])<0){if(o[f]=o[m],ye[f]=ye[m],f++,m++,h++,l=0,--r===0){y=!0;break}}else if(o[f]=a[p],ye[f]=c[p],f++,p++,l++,h=0,--n===1){y=!0;break}while((l|h)<u);if(y)break;do{if(l=Nf(o[m],a,p,n,0,s),l!==0){for(d=0;d<l;d++)o[f+d]=a[p+d],ye[f+d]=c[p+d];if(f+=l,p+=l,n-=l,n<=1){y=!0;break}}if(o[f]=o[m],ye[f]=ye[m],f++,m++,--r===0){y=!0;break}if(h=Mf(a[p],o,m,r,0,s),h!==0){for(d=0;d<h;d++)o[f+d]=o[m+d],ye[f+d]=ye[m+d];if(f+=h,m+=h,r-=h,r===0){y=!0;break}}if(o[f]=a[p],ye[f]=c[p],f++,p++,--n===1){y=!0;break}u--}while(l>=7||h>=7);if(y)break;u<0&&(u=0),u+=2}if(this.minGallop=u,u<1&&(this.minGallop=1),n===1){for(d=0;d<r;d++)o[f+d]=o[m+d],ye[f+d]=ye[m+d];o[f+r]=a[p],ye[f+r]=c[p]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(d=0;d<n;d++)o[f+d]=a[p+d],ye[f+d]=c[p+d]}}mergeHigh(e,n,i,r){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,d=0;for(d=0;d<r;d++)a[d]=o[i+d],c[d]=ye[i+d];let p=e+n-1,m=r-1,f=i+r-1,u=0,l=0;if(o[f]=o[p],ye[f]=ye[p],f--,p--,--n===0){for(u=f-(r-1),d=0;d<r;d++)o[u+d]=a[d],ye[u+d]=c[d];return}if(r===1){for(f-=n,p-=n,l=f+1,u=p+1,d=n-1;d>=0;d--)o[l+d]=o[u+d],ye[l+d]=ye[u+d];o[f]=a[m],ye[f]=c[m];return}let{minGallop:h}=this;for(;;){let y=0,S=0,D=!1;do if(s(a[m],o[p])<0){if(o[f]=o[p],ye[f]=ye[p],f--,p--,y++,S=0,--n===0){D=!0;break}}else if(o[f]=a[m],ye[f]=c[m],f--,m--,S++,y=0,--r===1){D=!0;break}while((y|S)<h);if(D)break;do{if(y=n-Nf(a[m],o,e,n,n-1,s),y!==0){for(f-=y,p-=y,n-=y,l=f+1,u=p+1,d=y-1;d>=0;d--)o[l+d]=o[u+d],ye[l+d]=ye[u+d];if(n===0){D=!0;break}}if(o[f]=a[m],ye[f]=c[m],f--,m--,--r===1){D=!0;break}if(S=r-Mf(o[p],a,0,r,r-1,s),S!==0){for(f-=S,m-=S,r-=S,l=f+1,u=m+1,d=0;d<S;d++)o[l+d]=a[u+d],ye[l+d]=c[u+d];if(r<=1){D=!0;break}}if(o[f]=o[p],ye[f]=ye[p],f--,p--,--n===0){D=!0;break}h--}while(y>=7||S>=7);if(D)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),r===1){for(f-=n,p-=n,l=f+1,u=p+1,d=n-1;d>=0;d--)o[l+d]=o[u+d],ye[l+d]=ye[u+d];o[f]=a[m],ye[f]=c[m]}else{if(r===0)throw new Error("mergeHigh preconditions were not respected");for(u=f-(r-1),d=0;d<r;d++)o[u+d]=a[d],ye[u+d]=c[d]}}};function v1(t,e,n,i){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);ye=[];let{length:r}=t,s=0;for(;s<r;)ye[s]=s++;e?typeof e!="function"&&(i=n,n=e,e=ID):e=ID,n||(n=0),i||(i=r);let o=i-n;if(o<2)return ye;let a=0;if(o<32)return a=MD(t,n,i,e),OD(t,n,i,n+a,e),ye;let c=new Of(t,e),d=y1(o);do{if(a=MD(t,n,i,e),a<d){let p=o;p>d&&(p=d),OD(t,n,n+p,n+a,e),a=p}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),ye}LD.exports={sort:v1}});var BD=M((Sz,UD)=>{"use strict";var C1=Object.prototype.hasOwnProperty;UD.exports=(t,e)=>C1.call(t,e)});var Wo=M((Dz,YD)=>{var Uf=BD(),{isObject:KD,isArray:S1,isString:D1,isNumber:b1}=tu(),Bf="before",$D="after-prop",WD="after-colon",HD="after-value",VD="after",zD="before-all",GD="after-all",w1="[",T1="]",E1="{",x1="}",_1=",",k1="",F1="-",Kf=[Bf,$D,WD,HD,VD],A1=[Bf,zD,GD].map(Symbol.for),JD=":",jD=void 0,$o=(t,e)=>Symbol.for(t+JD+e),nu=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),qf=(t,e,n,i,r,s)=>{let o=$o(r,i);if(!Uf(e,o))return;let a=n===i?o:$o(r,n);nu(t,a,e[o]),s&&delete e[o]},XD=(t,e,n,i,r)=>{Kf.forEach(s=>{qf(t,e,n,i,s,r)})},P1=(t,e,n)=>{e!==n&&Kf.forEach(i=>{let r=$o(i,n);if(!Uf(t,r)){qf(t,t,n,e,i,!0);return}let s=t[r];delete t[r],qf(t,t,n,e,i,!0),nu(t,$o(i,e),s)})},Lf=(t,e)=>{A1.forEach(n=>{let i=e[n];i&&nu(t,n,i)})},R1=(t,e,n)=>(n.forEach(i=>{!D1(i)&&!b1(i)||Uf(e,i)&&(t[i]=e[i],XD(t,e,i,i))}),t);YD.exports={SYMBOL_PREFIXES:Kf,PREFIX_BEFORE:Bf,PREFIX_AFTER_PROP:$D,PREFIX_AFTER_COLON:WD,PREFIX_AFTER_VALUE:HD,PREFIX_AFTER:VD,PREFIX_BEFORE_ALL:zD,PREFIX_AFTER_ALL:GD,BRACKET_OPEN:w1,BRACKET_CLOSE:T1,CURLY_BRACKET_OPEN:E1,CURLY_BRACKET_CLOSE:x1,COLON:JD,COMMA:_1,MINUS:F1,EMPTY:k1,UNDEFINED:jD,symbol:$o,define:nu,copy_comments:XD,swap_comments:P1,assign_non_prop_comments:Lf,assign(t,e,n){if(!KD(t))throw new TypeError("Cannot convert undefined or null to object");if(!KD(e))return t;if(n===jD)n=Object.keys(e),Lf(t,e);else if(S1(n))n.length===0&&Lf(t,e);else throw new TypeError("keys must be array or undefined");return R1(t,e,n)}}});var $f=M((bz,nb)=>{var{isArray:I1}=tu(),{sort:M1}=qD(),{SYMBOL_PREFIXES:N1,UNDEFINED:QD,symbol:O1,copy_comments:L1,swap_comments:tb}=Wo(),q1=t=>{let{length:e}=t,n=0,i=e/2;for(;n<i;n++)tb(t,n,e-n-1)},ZD=(t,e,n,i,r)=>{L1(t,e,n+i,n,r)},Ns=(t,e,n,i,r,s)=>{if(r>0){let a=i;for(;a-- >0;)ZD(t,e,n+a,r,s);return}let o=0;for(;o<i;){let a=o++;ZD(t,e,n+a,r,s)}},eb=(t,e)=>{N1.forEach(n=>{let i=O1(n,e);delete t[i]})},U1=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},jf=class t extends Array{splice(...e){let{length:n}=this,i=super.splice(...e),[r,s,...o]=e;r<0&&(r+=n),arguments.length===1?s=n-r:s=Math.min(n-r,s);let{length:a}=o,c=a-s,d=r+s,p=n-d;return Ns(this,this,d,p,c,!0),i}slice(...e){let{length:n}=this,i=super.slice(...e);if(!i.length)return new t;let[r,s]=e;return s===QD?s=n:s<0&&(s+=n),r<0?r+=n:r===QD&&(r=0),Ns(i,this,r,s-r,-r),i}unshift(...e){let{length:n}=this,i=super.unshift(...e),{length:r}=e;return r>0&&Ns(this,this,0,n,r,!0),i}shift(){let e=super.shift(),{length:n}=this;return eb(this,0),Ns(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),q1(this),this}pop(){let e=super.pop();return eb(this,this.length),e}concat(...e){let{length:n}=this,i=super.concat(...e);return e.length&&(Ns(i,this,0,this.length,0),e.forEach(r=>{let s=n;n+=I1(r)?r.length:1,r instanceof t&&Ns(i,r,0,r.length,s)})),i}sort(...e){let n=M1(this,...e.slice(0,1)),i=Object.create(null);return n.forEach((r,s)=>{if(r===s)return;let o=U1(i,r);o!==s&&(i[s]=o,tb(this,s,o))}),this}};nb.exports={CommentArray:jf}});var Cb=M((wz,vb)=>{var B1=AD(),{CommentArray:K1}=$f(),{PREFIX_BEFORE:ru,PREFIX_AFTER_PROP:j1,PREFIX_AFTER_COLON:$1,PREFIX_AFTER_VALUE:ob,PREFIX_AFTER:Hf,PREFIX_BEFORE_ALL:W1,PREFIX_AFTER_ALL:H1,BRACKET_OPEN:V1,BRACKET_CLOSE:ib,CURLY_BRACKET_OPEN:z1,CURLY_BRACKET_CLOSE:rb,COLON:ab,COMMA:cb,MINUS:sb,EMPTY:G1,UNDEFINED:au,define:Vf,assign_non_prop_comments:J1}=Wo(),ub=t=>B1.tokenize(t,{comment:!0,loc:!0}),zf=[],Sr=null,Mi=null,Gf=[],Dr,lb=!1,db=!1,Ho=null,Vo=null,fn=null,fb,su=null,hb=()=>{Gf.length=zf.length=0,Vo=null,Dr=au},X1=()=>{hb(),Ho.length=0,Mi=Sr=Ho=Vo=fn=su=null},Jf=t=>Symbol.for(Dr!==au?t+ab+Dr:t),Xf=(t,e)=>su?su(t,e):e,pb=()=>{let t=new SyntaxError(`Unexpected token ${fn.value.slice(0,1)}`);throw Object.assign(t,fn.loc.start),t},gb=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,Vo?Vo.loc.end:{line:1,column:0}),t},si=()=>{let t=Ho[++fb];db=fn&&t&&fn.loc.end.line===t.loc.start.line||!1,Vo=fn,fn=t},Wf=()=>(fn||gb(),fn.type==="Punctuator"?fn.value:fn.type),Zr=t=>Wf()===t,iu=t=>{Zr(t)||pb()},Yf=t=>{zf.push(Sr),Sr=t},Qf=()=>{Sr=zf.pop()},mb=()=>{if(!Mi)return;let t=[];for(let n of Mi)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===Mi.length?Mi=null:Mi.splice(0,e),Vf(Sr,Jf(Hf),t))},Cr=t=>{Mi&&(Vf(Sr,Jf(t),Mi),Mi=null)},Ni=t=>{let e=[];for(;fn&&(Zr("LineComment")||Zr("BlockComment"));){let n={...fn,inline:db};e.push(n),si()}if(!lb&&e.length){if(t){Vf(Sr,Jf(t),e);return}Mi=e}},ou=(t,e)=>{e&&Gf.push(Dr),Dr=t},yb=()=>{Dr=Gf.pop()},Y1=()=>{let t={};Yf(t),ou(au,!0);let e=!1,n;for(Ni();!Zr(rb)&&!(e&&(Cr(ob),iu(cb),si(),Ni(),mb(),Zr(rb)));)e=!0,iu("String"),n=JSON.parse(fn.value),ou(n),Cr(ru),si(),Ni(j1),iu(ab),si(),Ni($1),t[n]=Xf(n,Zf()),Ni();return e&&Cr(Hf),si(),Dr=void 0,e||Cr(ru),Qf(),yb(),t},Q1=()=>{let t=new K1;Yf(t),ou(au,!0);let e=!1,n=0;for(Ni();!Zr(ib)&&!(e&&(Cr(ob),iu(cb),si(),Ni(),mb(),Zr(ib)));)e=!0,ou(n),Cr(ru),t[n]=Xf(n,Zf()),n++,Ni();return e&&Cr(Hf),si(),Dr=void 0,e||Cr(ru),Qf(),yb(),t};function Zf(){let t=Wf();if(t===z1)return si(),Y1();if(t===V1)return si(),Q1();let e=G1;t===sb&&(si(),t=Wf(),e=sb);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=fn.value,si(),JSON.parse(e+n);default:}}var Z1=t=>Object(t)===t,eI=(t,e,n)=>{hb(),Ho=ub(t),su=e,lb=n,Ho.length||gb(),fb=-1,si(),Yf({}),Ni(W1);let i=Zf();return Ni(H1),fn&&pb(),!n&&i!==null&&(Z1(i)||(i=new Object(i)),J1(i,Sr)),Qf(),i=Xf("",i),X1(),i};vb.exports={parse:eI,tokenize:ub}});var Db=M((Tz,Sb)=>{"use strict";var Yi="",eh;Sb.exports=tI;function tI(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(eh!==t||typeof eh>"u")eh=t,Yi="";else if(Yi.length>=n)return Yi.substr(0,n);for(;n>Yi.length&&e>1;)e&1&&(Yi+=t),e>>=1,t+=t;return Yi+=t,Yi=Yi.substr(0,n),Yi}});var Rb=M((Ez,Pb)=>{var{isArray:ih,isObject:bb,isFunction:nh,isNumber:nI,isString:iI}=tu(),rI=Db(),{PREFIX_BEFORE_ALL:sI,PREFIX_BEFORE:wb,PREFIX_AFTER_PROP:oI,PREFIX_AFTER_COLON:aI,PREFIX_AFTER_VALUE:cI,PREFIX_AFTER:rh,PREFIX_AFTER_ALL:uI,BRACKET_OPEN:lI,BRACKET_CLOSE:dI,CURLY_BRACKET_OPEN:fI,CURLY_BRACKET_CLOSE:hI,COLON:pI,COMMA:Tb,EMPTY:Jn,UNDEFINED:gI}=Wo(),th=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,sh=" ",es=`
`,Eb="null",xb=t=>`${wb}:${t}`,mI=t=>`${oI}:${t}`,yI=t=>`${aI}:${t}`,_b=t=>`${cI}:${t}`,kb=t=>`${rh}:${t}`,vI={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},CI=t=>(th.lastIndex=0,th.test(t)?t.replace(th,e=>{let n=vI[e];return typeof n=="string"?n:e}):t),Fb=t=>`"${CI(t)}"`,SI=(t,e)=>e?`//${t}`:`/*${t}*/`,Gn=(t,e,n,i)=>{let r=t[Symbol.for(e)];if(!r||!r.length)return Jn;let s=!1,o=r.reduce((a,{inline:c,type:d,value:p})=>{let m=c?sh:es+n;return s=d==="LineComment",a+m+SI(p,s)},Jn);return i||s?o+es+n:o},Os=null,Go=Jn,DI=()=>{Os=null,Go=Jn},zo=(t,e,n)=>t?e?t+e.trim()+es+n:t.trimRight()+es+n:e?e.trimRight()+es+n:Jn,Ab=(t,e,n)=>{let i=Gn(e,wb,n+Go,!0);return zo(i,t,n)},bI=(t,e)=>{let n=e+Go,{length:i}=t,r=Jn,s=Jn;for(let o=0;o<i;o++){o!==0&&(r+=Tb);let a=zo(s,Gn(t,xb(o),n),n);r+=a||es+n,r+=oh(o,t,n)||Eb,r+=Gn(t,_b(o),n),s=Gn(t,kb(o),n)}return r+=zo(s,Gn(t,rh,n),n),lI+Ab(r,t,e)+dI},wI=(t,e)=>{if(!t)return"null";let n=e+Go,i=Jn,r=Jn,s=!0,o=ih(Os)?Os:Object.keys(t),a=c=>{let d=oh(c,t,n);if(d===gI)return;s||(i+=Tb),s=!1;let p=zo(r,Gn(t,xb(c),n),n);i+=p||es+n,i+=Fb(c)+Gn(t,mI(c),n)+pI+Gn(t,yI(c),n)+sh+d+Gn(t,_b(c),n),r=Gn(t,kb(c),n)};return o.forEach(a),i+=zo(r,Gn(t,rh,n),n),fI+Ab(i,t,e)+hI};function oh(t,e,n){let i=e[t];switch(bb(i)&&nh(i.toJSON)&&(i=i.toJSON(t)),nh(Os)&&(i=Os.call(e,t,i)),typeof i){case"string":return Fb(i);case"number":return Number.isFinite(i)?String(i):Eb;case"boolean":case"null":return String(i);case"object":return ih(i)?bI(i,n):wI(i,n);default:}}var TI=t=>iI(t)?t:nI(t)?rI(sh,t):Jn,{toString:EI}=Object.prototype,xI=["[object Number]","[object String]","[object Boolean]"],_I=t=>{if(typeof t!="object")return!1;let e=EI.call(t);return xI.includes(e)};Pb.exports=(t,e,n)=>{let i=TI(n);if(!i)return JSON.stringify(t,e);!nh(e)&&!ih(e)&&(e=null),Os=e,Go=i;let r=_I(t)?JSON.stringify(t):oh("",{"":t},Jn);return DI(),bb(t)?Gn(t,sI,Jn).trimLeft()+r+Gn(t,uI,Jn).trimRight():r}});var Mb=M((xz,Ib)=>{var{parse:kI,tokenize:FI}=Cb(),AI=Rb(),{CommentArray:PI}=$f(),{assign:RI}=Wo();Ib.exports={parse:kI,stringify:AI,tokenize:FI,CommentArray:PI,assign:RI}});var Je=M(rn=>{"use strict";var ah=Symbol.for("yaml.alias"),Nb=Symbol.for("yaml.document"),cu=Symbol.for("yaml.map"),Ob=Symbol.for("yaml.pair"),ch=Symbol.for("yaml.scalar"),uu=Symbol.for("yaml.seq"),Qi=Symbol.for("yaml.node.type"),II=t=>!!t&&typeof t=="object"&&t[Qi]===ah,MI=t=>!!t&&typeof t=="object"&&t[Qi]===Nb,NI=t=>!!t&&typeof t=="object"&&t[Qi]===cu,OI=t=>!!t&&typeof t=="object"&&t[Qi]===Ob,Lb=t=>!!t&&typeof t=="object"&&t[Qi]===ch,LI=t=>!!t&&typeof t=="object"&&t[Qi]===uu;function qb(t){if(t&&typeof t=="object")switch(t[Qi]){case cu:case uu:return!0}return!1}function qI(t){if(t&&typeof t=="object")switch(t[Qi]){case ah:case cu:case ch:case uu:return!0}return!1}var UI=t=>(Lb(t)||qb(t))&&!!t.anchor;rn.ALIAS=ah;rn.DOC=Nb;rn.MAP=cu;rn.NODE_TYPE=Qi;rn.PAIR=Ob;rn.SCALAR=ch;rn.SEQ=uu;rn.hasAnchor=UI;rn.isAlias=II;rn.isCollection=qb;rn.isDocument=MI;rn.isMap=NI;rn.isNode=qI;rn.isPair=OI;rn.isScalar=Lb;rn.isSeq=LI});var Jo=M(uh=>{"use strict";var Wt=Je(),Nn=Symbol("break visit"),Ub=Symbol("skip children"),Oi=Symbol("remove node");function lu(t,e){let n=Bb(e);Wt.isDocument(t)?Ls(null,t.contents,n,Object.freeze([t]))===Oi&&(t.contents=null):Ls(null,t,n,Object.freeze([]))}lu.BREAK=Nn;lu.SKIP=Ub;lu.REMOVE=Oi;function Ls(t,e,n,i){let r=Kb(t,e,n,i);if(Wt.isNode(r)||Wt.isPair(r))return jb(t,i,r),Ls(t,r,n,i);if(typeof r!="symbol"){if(Wt.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=Ls(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===Nn)return Nn;o===Oi&&(e.items.splice(s,1),s-=1)}}}else if(Wt.isPair(e)){i=Object.freeze(i.concat(e));let s=Ls("key",e.key,n,i);if(s===Nn)return Nn;s===Oi&&(e.key=null);let o=Ls("value",e.value,n,i);if(o===Nn)return Nn;o===Oi&&(e.value=null)}}return r}async function du(t,e){let n=Bb(e);Wt.isDocument(t)?await qs(null,t.contents,n,Object.freeze([t]))===Oi&&(t.contents=null):await qs(null,t,n,Object.freeze([]))}du.BREAK=Nn;du.SKIP=Ub;du.REMOVE=Oi;async function qs(t,e,n,i){let r=await Kb(t,e,n,i);if(Wt.isNode(r)||Wt.isPair(r))return jb(t,i,r),qs(t,r,n,i);if(typeof r!="symbol"){if(Wt.isCollection(e)){i=Object.freeze(i.concat(e));for(let s=0;s<e.items.length;++s){let o=await qs(s,e.items[s],n,i);if(typeof o=="number")s=o-1;else{if(o===Nn)return Nn;o===Oi&&(e.items.splice(s,1),s-=1)}}}else if(Wt.isPair(e)){i=Object.freeze(i.concat(e));let s=await qs("key",e.key,n,i);if(s===Nn)return Nn;s===Oi&&(e.key=null);let o=await qs("value",e.value,n,i);if(o===Nn)return Nn;o===Oi&&(e.value=null)}}return r}function Bb(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Kb(t,e,n,i){if(typeof n=="function")return n(t,e,i);if(Wt.isMap(e))return n.Map?.(t,e,i);if(Wt.isSeq(e))return n.Seq?.(t,e,i);if(Wt.isPair(e))return n.Pair?.(t,e,i);if(Wt.isScalar(e))return n.Scalar?.(t,e,i);if(Wt.isAlias(e))return n.Alias?.(t,e,i)}function jb(t,e,n){let i=e[e.length-1];if(Wt.isCollection(i))i.items[t]=n;else if(Wt.isPair(i))t==="key"?i.key=n:i.value=n;else if(Wt.isDocument(i))i.contents=n;else{let r=Wt.isAlias(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}}uh.visit=lu;uh.visitAsync=du});var lh=M(Wb=>{"use strict";var $b=Je(),BI=Jo(),KI={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},jI=t=>t.replace(/[!,[\]{}]/g,e=>KI[e]),Xo=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let i=e.trim().split(/[ \t]+/),r=i.shift();switch(r){case"%TAG":{if(i.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),i.length<2))return!1;let[s,o]=i;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,i.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=i;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${r}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,i,r]=e.match(/^(.*!)([^!]*)$/);r||n(`The ${e} tag has no suffix`);let s=this.tags[i];return s?s+decodeURIComponent(r):i==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,i]of Object.entries(this.tags))if(e.startsWith(i))return n+jI(e.substring(i.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],i=Object.entries(this.tags),r;if(e&&i.length>0&&$b.isNode(e.contents)){let s={};BI.visit(e.contents,(o,a)=>{$b.isNode(a)&&a.tag&&(s[a.tag]=!0)}),r=Object.keys(s)}else r=[];for(let[s,o]of i)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||r.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};Xo.defaultYaml={explicit:!1,version:"1.2"};Xo.defaultTags={"!!":"tag:yaml.org,2002:"};Wb.Directives=Xo});var fu=M(Yo=>{"use strict";var Hb=Je(),$I=Jo();function WI(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Vb(t){let e=new Set;return $I.visit(t,{Value(n,i){i.anchor&&e.add(i.anchor)}}),e}function zb(t,e){for(let n=1;;++n){let i=`${t}${n}`;if(!e.has(i))return i}}function HI(t,e){let n=[],i=new Map,r=null;return{onAnchor:s=>{n.push(s),r||(r=Vb(t));let o=zb(e,r);return r.add(o),o},setAnchors:()=>{for(let s of n){let o=i.get(s);if(typeof o=="object"&&o.anchor&&(Hb.isScalar(o.node)||Hb.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:i}}Yo.anchorIsValid=WI;Yo.anchorNames=Vb;Yo.createNodeAnchors=HI;Yo.findNewAnchor=zb});var dh=M(Gb=>{"use strict";function Qo(t,e,n,i){if(i&&typeof i=="object")if(Array.isArray(i))for(let r=0,s=i.length;r<s;++r){let o=i[r],a=Qo(t,i,String(r),o);a===void 0?delete i[r]:a!==o&&(i[r]=a)}else if(i instanceof Map)for(let r of Array.from(i.keys())){let s=i.get(r),o=Qo(t,i,r,s);o===void 0?i.delete(r):o!==s&&i.set(r,o)}else if(i instanceof Set)for(let r of Array.from(i)){let s=Qo(t,i,r,r);s===void 0?i.delete(r):s!==r&&(i.delete(r),i.add(s))}else for(let[r,s]of Object.entries(i)){let o=Qo(t,i,r,s);o===void 0?delete i[r]:o!==s&&(i[r]=o)}return t.call(e,n,i)}Gb.applyReviver=Qo});var br=M(Xb=>{"use strict";var VI=Je();function Jb(t,e,n){if(Array.isArray(t))return t.map((i,r)=>Jb(i,String(r),n));if(t&&typeof t.toJSON=="function"){if(!n||!VI.hasAnchor(t))return t.toJSON(e,n);let i={aliasCount:0,count:1,res:void 0};n.anchors.set(t,i),n.onCreate=s=>{i.res=s,delete n.onCreate};let r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return typeof t=="bigint"&&!n?.keep?Number(t):t}Xb.toJS=Jb});var hu=M(Qb=>{"use strict";var zI=dh(),Yb=Je(),GI=br(),fh=class{constructor(e){Object.defineProperty(this,Yb.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:i,onAnchor:r,reviver:s}={}){if(!Yb.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},a=GI.toJS(this,"",o);if(typeof r=="function")for(let{count:c,res:d}of o.anchors.values())r(d,c);return typeof s=="function"?zI.applyReviver(s,{"":a},"",a):a}};Qb.NodeBase=fh});var Zo=M(e0=>{"use strict";var JI=fu(),Zb=Jo(),pu=Je(),XI=hu(),YI=br(),hh=class extends XI.NodeBase{constructor(e){super(pu.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Zb.visit(e,{Node:(i,r)=>{if(r===this)return Zb.visit.BREAK;r.anchor===this.source&&(n=r)}}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:i,doc:r,maxAliasCount:s}=n,o=this.resolve(r);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=i.get(o);if(a||(YI.toJS(o,null,n),a=i.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=gu(r,o,i)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,i){let r=`*${this.source}`;if(e){if(JI.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${r} `}return r}};function gu(t,e,n){if(pu.isAlias(e)){let i=e.resolve(t),r=n&&i&&n.get(i);return r?r.count*r.aliasCount:0}else if(pu.isCollection(e)){let i=0;for(let r of e.items){let s=gu(t,r,n);s>i&&(i=s)}return i}else if(pu.isPair(e)){let i=gu(t,e.key,n),r=gu(t,e.value,n);return Math.max(i,r)}return 1}e0.Alias=hh});var Rt=M(ph=>{"use strict";var QI=Je(),ZI=hu(),eM=br(),tM=t=>!t||typeof t!="function"&&typeof t!="object",wr=class extends ZI.NodeBase{constructor(e){super(QI.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:eM.toJS(this.value,e,n)}toString(){return String(this.value)}};wr.BLOCK_FOLDED="BLOCK_FOLDED";wr.BLOCK_LITERAL="BLOCK_LITERAL";wr.PLAIN="PLAIN";wr.QUOTE_DOUBLE="QUOTE_DOUBLE";wr.QUOTE_SINGLE="QUOTE_SINGLE";ph.Scalar=wr;ph.isScalarValue=tM});var ea=M(n0=>{"use strict";var nM=Zo(),ts=Je(),t0=Rt(),iM="tag:yaml.org,2002:";function rM(t,e,n){if(e){let i=n.filter(s=>s.tag===e),r=i.find(s=>!s.format)??i[0];if(!r)throw new Error(`Tag ${e} not found`);return r}return n.find(i=>i.identify?.(t)&&!i.format)}function sM(t,e,n){if(ts.isDocument(t)&&(t=t.contents),ts.isNode(t))return t;if(ts.isPair(t)){let m=n.schema[ts.MAP].createNode?.(n.schema,null,n);return m.items.push(t),m}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:i,onAnchor:r,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(i&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=r(t)),new nM.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=iM+e.slice(2));let d=rM(t,e,o.tags);if(!d){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let m=new t0.Scalar(t);return c&&(c.node=m),m}d=t instanceof Map?o[ts.MAP]:Symbol.iterator in Object(t)?o[ts.SEQ]:o[ts.MAP]}s&&(s(d),delete n.onTagObj);let p=d?.createNode?d.createNode(n.schema,t,n):typeof d?.nodeClass?.from=="function"?d.nodeClass.from(n.schema,t,n):new t0.Scalar(t);return e?p.tag=e:d.default||(p.tag=d.tag),c&&(c.node=p),p}n0.createNode=sM});var ta=M(yu=>{"use strict";var oM=ea(),Li=Je(),aM=hu();function gh(t,e,n){let i=n;for(let r=e.length-1;r>=0;--r){let s=e[r];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=i,i=o}else i=new Map([[s,i]])}return oM.createNode(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var i0=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,mu=class extends aM.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(i=>Li.isNode(i)||Li.isPair(i)?i.clone(e):i),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(i0(e))this.add(n);else{let[i,...r]=e,s=this.get(i,!0);if(Li.isCollection(s))s.addIn(r,n);else if(s===void 0&&this.schema)this.set(i,gh(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}deleteIn(e){let[n,...i]=e;if(i.length===0)return this.delete(n);let r=this.get(n,!0);if(Li.isCollection(r))return r.deleteIn(i);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}getIn(e,n){let[i,...r]=e,s=this.get(i,!0);return r.length===0?!n&&Li.isScalar(s)?s.value:s:Li.isCollection(s)?s.getIn(r,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Li.isPair(n))return!1;let i=n.value;return i==null||e&&Li.isScalar(i)&&i.value==null&&!i.commentBefore&&!i.comment&&!i.tag})}hasIn(e){let[n,...i]=e;if(i.length===0)return this.has(n);let r=this.get(n,!0);return Li.isCollection(r)?r.hasIn(i):!1}setIn(e,n){let[i,...r]=e;if(r.length===0)this.set(i,n);else{let s=this.get(i,!0);if(Li.isCollection(s))s.setIn(r,n);else if(s===void 0&&this.schema)this.set(i,gh(this.schema,r,n));else throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}}};mu.maxFlowStringSingleLineLength=60;yu.Collection=mu;yu.collectionFromPath=gh;yu.isEmptyPath=i0});var na=M(vu=>{"use strict";var cM=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function mh(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var uM=(t,e,n)=>t.endsWith(`
`)?mh(n,e):n.includes(`
`)?`
`+mh(n,e):(t.endsWith(" ")?"":" ")+n;vu.indentComment=mh;vu.lineComment=uM;vu.stringifyComment=cM});var s0=M(ia=>{"use strict";var lM="flow",yh="block",Cu="quoted";function dM(t,e,n="flow",{indentAtStart:i,lineWidth:r=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!r||r<0)return t;let c=Math.max(1+s,1+r-e.length);if(t.length<=c)return t;let d=[],p={},m=r-e.length;typeof i=="number"&&(i>r-Math.max(2,s)?d.push(0):m=r-i);let f,u,l=!1,h=-1,y=-1,S=-1;n===yh&&(h=r0(t,h),h!==-1&&(m=h+c));for(let x;x=t[h+=1];){if(n===Cu&&x==="\\"){switch(y=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}S=h}if(x===`
`)n===yh&&(h=r0(t,h)),m=h+c,f=void 0;else{if(x===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){let F=t[h+1];F&&F!==" "&&F!==`
`&&F!=="	"&&(f=h)}if(h>=m)if(f)d.push(f),m=f+c,f=void 0;else if(n===Cu){for(;u===" "||u==="	";)u=x,x=t[h+=1],l=!0;let F=h>S+1?h-2:y-1;if(p[F])return t;d.push(F),p[F]=!0,m=F+c,f=void 0}else l=!0}u=x}if(l&&a&&a(),d.length===0)return t;o&&o();let D=t.slice(0,d[0]);for(let x=0;x<d.length;++x){let F=d[x],A=d[x+1]||t.length;F===0?D=`
${e}${t.slice(0,A)}`:(n===Cu&&p[F]&&(D+=`${t[F]}\\`),D+=`
${e}${t.slice(F+1,A)}`)}return D}function r0(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}ia.FOLD_BLOCK=yh;ia.FOLD_FLOW=lM;ia.FOLD_QUOTED=Cu;ia.foldFlowLines=dM});var sa=M(o0=>{"use strict";var qi=Rt(),Tr=s0(),Du=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),bu=t=>/^(%|---|\.\.\.)/m.test(t);function fM(t,e,n){if(!e||e<0)return!1;let i=e-n,r=t.length;if(r<=i)return!1;for(let s=0,o=0;s<r;++s)if(t[s]===`
`){if(s-o>i)return!0;if(o=s+1,r-o<=i)return!1}return!0}function ra(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:i}=e,r=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(bu(t)?"  ":""),o="",a=0;for(let c=0,d=n[c];d;d=n[++c])if(d===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,d="\\"),d==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let p=n.substr(c+2,4);switch(p){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:p.substr(0,2)==="00"?o+="\\x"+p.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(i||n[c+2]==='"'||n.length<r)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,i?o:Tr.foldFlowLines(o,s,Tr.FOLD_QUOTED,Du(e,!1))}function vh(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return ra(t,e);let n=e.indent||(bu(t)?"  ":""),i="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?i:Tr.foldFlowLines(i,n,Tr.FOLD_FLOW,Du(e,!1))}function Us(t,e){let{singleQuote:n}=e.options,i;if(n===!1)i=ra;else{let r=t.includes('"'),s=t.includes("'");r&&!s?i=vh:s&&!r?i=ra:i=n?vh:ra}return i(t,e)}var Ch;try{Ch=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Ch=/\n+(?!\n|$)/g}function Su({comment:t,type:e,value:n},i,r,s){let{blockQuote:o,commentString:a,lineWidth:c}=i.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Us(n,i);let d=i.indent||(i.forceBlockIndent||bu(n)?"  ":""),p=o==="literal"?!0:o==="folded"||e===qi.Scalar.BLOCK_FOLDED?!1:e===qi.Scalar.BLOCK_LITERAL?!0:!fM(n,c,d.length);if(!n)return p?`|
`:`>
`;let m,f;for(f=n.length;f>0;--f){let N=n[f-1];if(N!==`
`&&N!=="	"&&N!==" ")break}let u=n.substring(f),l=u.indexOf(`
`);l===-1?m="-":n===u||l!==u.length-1?(m="+",s&&s()):m="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(Ch,`$&${d}`));let h=!1,y,S=-1;for(y=0;y<n.length;++y){let N=n[y];if(N===" ")h=!0;else if(N===`
`)S=y;else break}let D=n.substring(0,S<y?S+1:y);D&&(n=n.substring(D.length),D=D.replace(/\n+/g,`$&${d}`));let F=(p?"|":">")+(h?d?"2":"1":"")+m;if(t&&(F+=" "+a(t.replace(/ ?[\r\n]+/g," ")),r&&r()),p)return n=n.replace(/\n+/g,`$&${d}`),`${F}
${d}${D}${n}${u}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);let A=Tr.foldFlowLines(`${D}${n}${u}`,d,Tr.FOLD_BLOCK,Du(i,!0));return`${F}
${d}${A}`}function hM(t,e,n,i){let{type:r,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:d,inFlow:p}=e;if(a&&s.includes(`
`)||p&&/[[\]{},]/.test(s))return Us(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||p||!s.includes(`
`)?Us(s,e):Su(t,e,n,i);if(!a&&!p&&r!==qi.Scalar.PLAIN&&s.includes(`
`))return Su(t,e,n,i);if(bu(s)){if(c==="")return e.forceBlockIndent=!0,Su(t,e,n,i);if(a&&c===d)return Us(s,e)}let m=s.replace(/\n+/g,`$&
${c}`);if(o){let f=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(m),{compat:u,tags:l}=e.doc.schema;if(l.some(f)||u?.some(f))return Us(s,e)}return a?m:Tr.foldFlowLines(m,c,Tr.FOLD_FLOW,Du(e,!1))}function pM(t,e,n,i){let{implicitKey:r,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==qi.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=qi.Scalar.QUOTE_DOUBLE);let c=p=>{switch(p){case qi.Scalar.BLOCK_FOLDED:case qi.Scalar.BLOCK_LITERAL:return r||s?Us(o.value,e):Su(o,e,n,i);case qi.Scalar.QUOTE_DOUBLE:return ra(o.value,e);case qi.Scalar.QUOTE_SINGLE:return vh(o.value,e);case qi.Scalar.PLAIN:return hM(o,e,n,i);default:return null}},d=c(a);if(d===null){let{defaultKeyType:p,defaultStringType:m}=e.options,f=r&&p||m;if(d=c(f),d===null)throw new Error(`Unsupported default string type ${f}`)}return d}o0.stringifyString=pM});var oa=M(Sh=>{"use strict";var gM=fu(),Er=Je(),mM=na(),yM=sa();function vM(t,e){let n=Object.assign({blockQuote:!0,commentString:mM.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),i;switch(n.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:i,options:n}}function CM(t,e){if(e.tag){let r=t.filter(s=>s.tag===e.tag);if(r.length>0)return r.find(s=>s.format===e.format)??r[0]}let n,i;if(Er.isScalar(e)){i=e.value;let r=t.filter(s=>s.identify?.(i));n=r.find(s=>s.format===e.format)??r.find(s=>!s.format)}else i=e,n=t.find(r=>r.nodeClass&&i instanceof r.nodeClass);if(!n){let r=i?.constructor?.name??typeof i;throw new Error(`Tag not resolved for ${r} value`)}return n}function SM(t,e,{anchors:n,doc:i}){if(!i.directives)return"";let r=[],s=(Er.isScalar(t)||Er.isCollection(t))&&t.anchor;s&&gM.anchorIsValid(s)&&(n.add(s),r.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&r.push(i.directives.tagString(o)),r.join(" ")}function DM(t,e,n,i){if(Er.isPair(t))return t.toString(e,n,i);if(Er.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r,s=Er.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>r=c});r||(r=CM(e.doc.schema.tags,s));let o=SM(s,r,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof r.stringify=="function"?r.stringify(s,e,n,i):Er.isScalar(s)?yM.stringifyString(s,e,n,i):s.toString(e,n,i);return o?Er.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}Sh.createStringifyContext=vM;Sh.stringify=DM});var l0=M(u0=>{"use strict";var xr=Je(),a0=Rt(),c0=oa(),aa=na();function bM({key:t,value:e},n,i,r){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:d,indentSeq:p,simpleKeys:m}}=n,f=xr.isNode(t)&&t.comment||null;if(m){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(xr.isCollection(t)){let q="With simple keys, collection cannot be used as a key value";throw new Error(q)}}let u=!m&&(!t||f&&e==null&&!n.inFlow||xr.isCollection(t)||(xr.isScalar(t)?t.type===a0.Scalar.BLOCK_FOLDED||t.type===a0.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(m||!s),indent:a+c});let l=!1,h=!1,y=c0.stringify(t,n,()=>l=!0,()=>h=!0);if(!u&&!n.inFlow&&y.length>1024){if(m)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(s||e==null)return l&&i&&i(),y===""?"?":u?`? ${y}`:y}else if(s&&!m||e==null&&u)return y=`? ${y}`,f&&!l?y+=aa.lineComment(y,n.indent,d(f)):h&&r&&r(),y;l&&(f=null),u?(f&&(y+=aa.lineComment(y,n.indent,d(f))),y=`? ${y}
${a}:`):(y=`${y}:`,f&&(y+=aa.lineComment(y,n.indent,d(f))));let S,D,x;xr.isNode(e)?(S=!!e.spaceBefore,D=e.commentBefore,x=e.comment):(S=!1,D=null,x=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!u&&!f&&xr.isScalar(e)&&(n.indentAtStart=y.length+1),h=!1,!p&&c.length>=2&&!n.inFlow&&!u&&xr.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let F=!1,A=c0.stringify(e,n,()=>F=!0,()=>h=!0),N=" ";if(f||S||D){if(N=S?`
`:"",D){let q=d(D);N+=`
${aa.indentComment(q,n.indent)}`}A===""&&!n.inFlow?N===`
`&&(N=`

`):N+=`
${n.indent}`}else if(!u&&xr.isCollection(e)){let q=A[0],$=A.indexOf(`
`),J=$!==-1,Z=n.inFlow??e.flow??e.items.length===0;if(J||!Z){let le=!1;if(J&&(q==="&"||q==="!")){let ce=A.indexOf(" ");q==="&"&&ce!==-1&&ce<$&&A[ce+1]==="!"&&(ce=A.indexOf(" ",ce+1)),(ce===-1||$<ce)&&(le=!0)}le||(N=`
${n.indent}`)}}else(A===""||A[0]===`
`)&&(N="");return y+=N+A,n.inFlow?F&&i&&i():x&&!F?y+=aa.lineComment(y,n.indent,d(x)):h&&r&&r(),y}u0.stringifyPair=bM});var bh=M(Dh=>{"use strict";function wM(t,...e){t==="debug"&&console.log(...e)}function TM(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}Dh.debug=wM;Dh.warn=TM});var Eh=M(f0=>{"use strict";var EM=bh(),xM=oa(),Bs=Je(),_M=Rt(),wh=br(),d0="<<";function kM(t,e,{key:n,value:i}){if(t?.doc.schema.merge&&FM(n))if(i=Bs.isAlias(i)?i.resolve(t.doc):i,Bs.isSeq(i))for(let r of i.items)Th(t,e,r);else if(Array.isArray(i))for(let r of i)Th(t,e,r);else Th(t,e,i);else{let r=wh.toJS(n,"",t);if(e instanceof Map)e.set(r,wh.toJS(i,r,t));else if(e instanceof Set)e.add(r);else{let s=AM(n,r,t),o=wh.toJS(i,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}var FM=t=>t===d0||Bs.isScalar(t)&&t.value===d0&&(!t.type||t.type===_M.Scalar.PLAIN);function Th(t,e,n){let i=t&&Bs.isAlias(n)?n.resolve(t.doc):n;if(!Bs.isMap(i))throw new Error("Merge sources must be maps or map aliases");let r=i.toJSON(null,t,Map);for(let[s,o]of r)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function AM(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(Bs.isNode(t)&&n?.doc){let i=xM.createStringifyContext(n.doc,{});i.anchors=new Set;for(let s of n.anchors.keys())i.anchors.add(s.anchor);i.inFlow=!0,i.inStringifyKey=!0;let r=t.toString(i);if(!n.mapKeyWarned){let s=JSON.stringify(r);s.length>40&&(s=s.substring(0,36)+'..."'),EM.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return r}return JSON.stringify(e)}f0.addPairToJSMap=kM});var _r=M(xh=>{"use strict";var h0=ea(),PM=l0(),RM=Eh(),wu=Je();function IM(t,e,n){let i=h0.createNode(t,void 0,n),r=h0.createNode(e,void 0,n);return new Tu(i,r)}var Tu=class t{constructor(e,n=null){Object.defineProperty(this,wu.NODE_TYPE,{value:wu.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:i}=this;return wu.isNode(n)&&(n=n.clone(e)),wu.isNode(i)&&(i=i.clone(e)),new t(n,i)}toJSON(e,n){let i=n?.mapAsMap?new Map:{};return RM.addPairToJSMap(n,i,this)}toString(e,n,i){return e?.doc?PM.stringifyPair(this,e,n,i):JSON.stringify(this)}};xh.Pair=Tu;xh.createPair=IM});var _h=M(g0=>{"use strict";var MM=ta(),ns=Je(),p0=oa(),ca=na();function NM(t,e,n){return(e.inFlow??t.flow?LM:OM)(t,e,n)}function OM({comment:t,items:e},n,{blockItemPrefix:i,flowChars:r,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:d}}=n,p=Object.assign({},n,{indent:s,type:null}),m=!1,f=[];for(let l=0;l<e.length;++l){let h=e[l],y=null;if(ns.isNode(h))!m&&h.spaceBefore&&f.push(""),Eu(n,f,h.commentBefore,m),h.comment&&(y=h.comment);else if(ns.isPair(h)){let D=ns.isNode(h.key)?h.key:null;D&&(!m&&D.spaceBefore&&f.push(""),Eu(n,f,D.commentBefore,m))}m=!1;let S=p0.stringify(h,p,()=>y=null,()=>m=!0);y&&(S+=ca.lineComment(S,s,d(y))),m&&y&&(m=!1),f.push(i+S)}let u;if(f.length===0)u=r.start+r.end;else{u=f[0];for(let l=1;l<f.length;++l){let h=f[l];u+=h?`
${c}${h}`:`
`}}return t?(u+=`
`+ca.indentComment(d(t),c),a&&a()):m&&o&&o(),u}function LM({comment:t,items:e},n,{flowChars:i,itemIndent:r,onComment:s}){let{indent:o,indentStep:a,flowCollectionPadding:c,options:{commentString:d}}=n;r+=a;let p=Object.assign({},n,{indent:r,inFlow:!0,type:null}),m=!1,f=0,u=[];for(let S=0;S<e.length;++S){let D=e[S],x=null;if(ns.isNode(D))D.spaceBefore&&u.push(""),Eu(n,u,D.commentBefore,!1),D.comment&&(x=D.comment);else if(ns.isPair(D)){let A=ns.isNode(D.key)?D.key:null;A&&(A.spaceBefore&&u.push(""),Eu(n,u,A.commentBefore,!1),A.comment&&(m=!0));let N=ns.isNode(D.value)?D.value:null;N?(N.comment&&(x=N.comment),N.commentBefore&&(m=!0)):D.value==null&&A?.comment&&(x=A.comment)}x&&(m=!0);let F=p0.stringify(D,p,()=>x=null);S<e.length-1&&(F+=","),x&&(F+=ca.lineComment(F,r,d(x))),!m&&(u.length>f||F.includes(`
`))&&(m=!0),u.push(F),f=u.length}let l,{start:h,end:y}=i;if(u.length===0)l=h+y;else if(m||(m=u.reduce((D,x)=>D+x.length+2,2)>MM.Collection.maxFlowStringSingleLineLength),m){l=h;for(let S of u)l+=S?`
${a}${o}${S}`:`
`;l+=`
${o}${y}`}else l=`${h}${c}${u.join(" ")}${c}${y}`;return t&&(l+=ca.lineComment(l,o,d(t)),s&&s()),l}function Eu({indent:t,options:{commentString:e}},n,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){let s=ca.indentComment(e(i),t);n.push(s.trimStart())}}g0.stringifyCollection=NM});var Fr=M(Fh=>{"use strict";var qM=_h(),UM=Eh(),BM=ta(),kr=Je(),xu=_r(),KM=Rt();function ua(t,e){let n=kr.isScalar(e)?e.value:e;for(let i of t)if(kr.isPair(i)&&(i.key===e||i.key===n||kr.isScalar(i.key)&&i.key.value===n))return i}var kh=class extends BM.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(kr.MAP,e),this.items=[]}static from(e,n,i){let{keepUndefined:r,replacer:s}=i,o=new this(e),a=(c,d)=>{if(typeof s=="function")d=s.call(n,c,d);else if(Array.isArray(s)&&!s.includes(c))return;(d!==void 0||r)&&o.items.push(xu.createPair(c,d,i))};if(n instanceof Map)for(let[c,d]of n)a(c,d);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let i;kr.isPair(e)?i=e:!e||typeof e!="object"||!("key"in e)?i=new xu.Pair(e,e?.value):i=new xu.Pair(e.key,e.value);let r=ua(this.items,i.key),s=this.schema?.sortMapEntries;if(r){if(!n)throw new Error(`Key ${i.key} already set`);kr.isScalar(r.value)&&KM.isScalarValue(i.value)?r.value.value=i.value:r.value=i.value}else if(s){let o=this.items.findIndex(a=>s(i,a)<0);o===-1?this.items.push(i):this.items.splice(o,0,i)}else this.items.push(i)}delete(e){let n=ua(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let r=ua(this.items,e)?.value;return(!n&&kr.isScalar(r)?r.value:r)??void 0}has(e){return!!ua(this.items,e)}set(e,n){this.add(new xu.Pair(e,n),!0)}toJSON(e,n,i){let r=i?new i:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(r);for(let s of this.items)UM.addPairToJSMap(n,r,s);return r}toString(e,n,i){if(!e)return JSON.stringify(this);for(let r of this.items)if(!kr.isPair(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),qM.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:i,onComment:n})}};Fh.YAMLMap=kh;Fh.findPair=ua});var Ks=M(y0=>{"use strict";var jM=Je(),m0=Fr(),$M={collection:"map",default:!0,nodeClass:m0.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return jM.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>m0.YAMLMap.from(t,e,n)};y0.map=$M});var Ar=M(v0=>{"use strict";var WM=ea(),HM=_h(),VM=ta(),ku=Je(),zM=Rt(),GM=br(),Ah=class extends VM.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(ku.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=_u(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let i=_u(e);if(typeof i!="number")return;let r=this.items[i];return!n&&ku.isScalar(r)?r.value:r}has(e){let n=_u(e);return typeof n=="number"&&n<this.items.length}set(e,n){let i=_u(e);if(typeof i!="number")throw new Error(`Expected a valid index, not ${e}.`);let r=this.items[i];ku.isScalar(r)&&zM.isScalarValue(n)?r.value=n:this.items[i]=n}toJSON(e,n){let i=[];n?.onCreate&&n.onCreate(i);let r=0;for(let s of this.items)i.push(GM.toJS(s,String(r++),n));return i}toString(e,n,i){return e?HM.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:i,onComment:n}):JSON.stringify(this)}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof r=="function"){let c=n instanceof Set?a:String(o++);a=r.call(n,c,a)}s.items.push(WM.createNode(a,void 0,i))}}return s}};function _u(t){let e=ku.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}v0.YAMLSeq=Ah});var js=M(S0=>{"use strict";var JM=Je(),C0=Ar(),XM={collection:"seq",default:!0,nodeClass:C0.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return JM.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>C0.YAMLSeq.from(t,e,n)};S0.seq=XM});var la=M(D0=>{"use strict";var YM=sa(),QM={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,i){return e=Object.assign({actualString:!0},e),YM.stringifyString(t,e,n,i)}};D0.string=QM});var Fu=M(T0=>{"use strict";var b0=Rt(),w0={identify:t=>t==null,createNode:()=>new b0.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new b0.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&w0.test.test(t)?t:e.options.nullStr};T0.nullTag=w0});var Ph=M(x0=>{"use strict";var ZM=Rt(),E0={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new ZM.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&E0.test.test(t)){let i=t[0]==="t"||t[0]==="T";if(e===i)return t}return e?n.options.trueStr:n.options.falseStr}};x0.boolTag=E0});var $s=M(_0=>{"use strict";function eN({format:t,minFractionDigits:e,tag:n,value:i}){if(typeof i=="bigint")return String(i);let r=typeof i=="number"?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let s=JSON.stringify(i);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}_0.stringifyNumber=eN});var Ih=M(Au=>{"use strict";var tN=Rt(),Rh=$s(),nN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Rh.stringifyNumber},iN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():Rh.stringifyNumber(t)}},rN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new tN.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Rh.stringifyNumber};Au.float=rN;Au.floatExp=iN;Au.floatNaN=nN});var Nh=M(Ru=>{"use strict";var k0=$s(),Pu=t=>typeof t=="bigint"||Number.isInteger(t),Mh=(t,e,n,{intAsBigInt:i})=>i?BigInt(t):parseInt(t.substring(e),n);function F0(t,e,n){let{value:i}=t;return Pu(i)&&i>=0?n+i.toString(e):k0.stringifyNumber(t)}var sN={identify:t=>Pu(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>Mh(t,2,8,n),stringify:t=>F0(t,8,"0o")},oN={identify:Pu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>Mh(t,0,10,n),stringify:k0.stringifyNumber},aN={identify:t=>Pu(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>Mh(t,2,16,n),stringify:t=>F0(t,16,"0x")};Ru.int=oN;Ru.intHex=aN;Ru.intOct=sN});var P0=M(A0=>{"use strict";var cN=Ks(),uN=Fu(),lN=js(),dN=la(),fN=Ph(),Oh=Ih(),Lh=Nh(),hN=[cN.map,lN.seq,dN.string,uN.nullTag,fN.boolTag,Lh.intOct,Lh.int,Lh.intHex,Oh.floatNaN,Oh.floatExp,Oh.float];A0.schema=hN});var M0=M(I0=>{"use strict";var pN=Rt(),gN=Ks(),mN=js();function R0(t){return typeof t=="bigint"||Number.isInteger(t)}var Iu=({value:t})=>JSON.stringify(t),yN=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Iu},{identify:t=>t==null,createNode:()=>new pN.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Iu},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:Iu},{identify:R0,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>R0(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Iu}],vN={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},CN=[gN.map,mN.seq].concat(yN,vN);I0.schema=CN});var Uh=M(N0=>{"use strict";var qh=Rt(),SN=sa(),DN={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},i,r,s){let o=n,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=qh.Scalar.BLOCK_LITERAL),e!==qh.Scalar.QUOTE_DOUBLE){let c=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),d=Math.ceil(a.length/c),p=new Array(d);for(let m=0,f=0;m<d;++m,f+=c)p[m]=a.substr(f,c);a=p.join(e===qh.Scalar.BLOCK_LITERAL?`
`:" ")}return SN.stringifyString({comment:t,type:e,value:a},i,r,s)}};N0.binary=DN});var Ou=M(Nu=>{"use strict";var Mu=Je(),Bh=_r(),bN=Rt(),wN=Ar();function O0(t,e){if(Mu.isSeq(t))for(let n=0;n<t.items.length;++n){let i=t.items[n];if(!Mu.isPair(i)){if(Mu.isMap(i)){i.items.length>1&&e("Each pair must have its own sequence indicator");let r=i.items[0]||new Bh.Pair(new bN.Scalar(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}
${r.key.commentBefore}`:i.commentBefore),i.comment){let s=r.value??r.key;s.comment=s.comment?`${i.comment}
${s.comment}`:i.comment}i=r}t.items[n]=Mu.isPair(i)?i:new Bh.Pair(i)}}else e("Expected a sequence for this tag");return t}function L0(t,e,n){let{replacer:i}=n,r=new wN.YAMLSeq(t);r.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof i=="function"&&(o=i.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let d=Object.keys(o);if(d.length===1)a=d[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${d.length} keys`)}else a=o;r.items.push(Bh.createPair(a,c,n))}return r}var TN={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:O0,createNode:L0};Nu.createPairs=L0;Nu.pairs=TN;Nu.resolvePairs=O0});var $h=M(jh=>{"use strict";var q0=Je(),Kh=br(),da=Fr(),EN=Ar(),U0=Ou(),is=class t extends EN.YAMLSeq{constructor(){super(),this.add=da.YAMLMap.prototype.add.bind(this),this.delete=da.YAMLMap.prototype.delete.bind(this),this.get=da.YAMLMap.prototype.get.bind(this),this.has=da.YAMLMap.prototype.has.bind(this),this.set=da.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let i=new Map;n?.onCreate&&n.onCreate(i);for(let r of this.items){let s,o;if(q0.isPair(r)?(s=Kh.toJS(r.key,"",n),o=Kh.toJS(r.value,s,n)):s=Kh.toJS(r,"",n),i.has(s))throw new Error("Ordered maps must not include duplicate keys");i.set(s,o)}return i}static from(e,n,i){let r=U0.createPairs(e,n,i),s=new this;return s.items=r.items,s}};is.tag="tag:yaml.org,2002:omap";var xN={collection:"seq",identify:t=>t instanceof Map,nodeClass:is,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=U0.resolvePairs(t,e),i=[];for(let{key:r}of n.items)q0.isScalar(r)&&(i.includes(r.value)?e(`Ordered maps must not include duplicate keys: ${r.value}`):i.push(r.value));return Object.assign(new is,n)},createNode:(t,e,n)=>is.from(t,e,n)};jh.YAMLOMap=is;jh.omap=xN});var W0=M(Wh=>{"use strict";var B0=Rt();function K0({value:t,source:e},n){return e&&(t?j0:$0).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var j0={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new B0.Scalar(!0),stringify:K0},$0={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new B0.Scalar(!1),stringify:K0};Wh.falseTag=$0;Wh.trueTag=j0});var H0=M(Lu=>{"use strict";var _N=Rt(),Hh=$s(),kN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Hh.stringifyNumber},FN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():Hh.stringifyNumber(t)}},AN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new _N.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let i=t.substring(n+1).replace(/_/g,"");i[i.length-1]==="0"&&(e.minFractionDigits=i.length)}return e},stringify:Hh.stringifyNumber};Lu.float=AN;Lu.floatExp=FN;Lu.floatNaN=kN});var z0=M(ha=>{"use strict";var V0=$s(),fa=t=>typeof t=="bigint"||Number.isInteger(t);function qu(t,e,n,{intAsBigInt:i}){let r=t[0];if((r==="-"||r==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),i){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return r==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return r==="-"?-1*s:s}function Vh(t,e,n){let{value:i}=t;if(fa(i)){let r=i.toString(e);return i<0?"-"+n+r.substr(1):n+r}return V0.stringifyNumber(t)}var PN={identify:fa,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>qu(t,2,2,n),stringify:t=>Vh(t,2,"0b")},RN={identify:fa,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>qu(t,1,8,n),stringify:t=>Vh(t,8,"0")},IN={identify:fa,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>qu(t,0,10,n),stringify:V0.stringifyNumber},MN={identify:fa,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>qu(t,2,16,n),stringify:t=>Vh(t,16,"0x")};ha.int=IN;ha.intBin=PN;ha.intHex=MN;ha.intOct=RN});var Gh=M(zh=>{"use strict";var Ku=Je(),Uu=_r(),Bu=Fr(),rs=class t extends Bu.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;Ku.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Uu.Pair(e.key,null):n=new Uu.Pair(e,null),Bu.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let i=Bu.findPair(this.items,e);return!n&&Ku.isPair(i)?Ku.isScalar(i.key)?i.key.value:i.key:i}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let i=Bu.findPair(this.items,e);i&&!n?this.items.splice(this.items.indexOf(i),1):!i&&n&&this.items.push(new Uu.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,i){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,i);throw new Error("Set items must all have null values")}static from(e,n,i){let{replacer:r}=i,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof r=="function"&&(o=r.call(n,o,o)),s.items.push(Uu.createPair(o,null,i));return s}};rs.tag="tag:yaml.org,2002:set";var NN={collection:"map",identify:t=>t instanceof Set,nodeClass:rs,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>rs.from(t,e,n),resolve(t,e){if(Ku.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new rs,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};zh.YAMLSet=rs;zh.set=NN});var Xh=M(ju=>{"use strict";var ON=$s();function Jh(t,e){let n=t[0],i=n==="-"||n==="+"?t.substring(1):t,r=o=>e?BigInt(o):Number(o),s=i.replace(/_/g,"").split(":").reduce((o,a)=>o*r(60)+r(a),r(0));return n==="-"?r(-1)*s:s}function G0(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return ON.stringifyNumber(t);let i="";e<0&&(i="-",e*=n(-1));let r=n(60),s=[e%r];return e<60?s.unshift(0):(e=(e-s[0])/r,s.unshift(e%r),e>=60&&(e=(e-s[0])/r,s.unshift(e))),i+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var LN={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Jh(t,n),stringify:G0},qN={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Jh(t,!1),stringify:G0},J0={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(J0.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,i,r,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,d=Date.UTC(n,i-1,r,s||0,o||0,a||0,c),p=e[8];if(p&&p!=="Z"){let m=Jh(p,!1);Math.abs(m)<30&&(m*=60),d-=6e4*m}return new Date(d)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};ju.floatTime=qN;ju.intTime=LN;ju.timestamp=J0});var Q0=M(Y0=>{"use strict";var UN=Ks(),BN=Fu(),KN=js(),jN=la(),$N=Uh(),X0=W0(),Yh=H0(),$u=z0(),WN=$h(),HN=Ou(),VN=Gh(),Qh=Xh(),zN=[UN.map,KN.seq,jN.string,BN.nullTag,X0.trueTag,X0.falseTag,$u.intBin,$u.intOct,$u.int,$u.intHex,Yh.floatNaN,Yh.floatExp,Yh.float,$N.binary,WN.omap,HN.pairs,VN.set,Qh.intTime,Qh.floatTime,Qh.timestamp];Y0.schema=zN});var cw=M(tp=>{"use strict";var nw=Ks(),GN=Fu(),iw=js(),JN=la(),XN=Ph(),Zh=Ih(),ep=Nh(),YN=P0(),QN=M0(),rw=Uh(),sw=$h(),ow=Ou(),Z0=Q0(),aw=Gh(),Wu=Xh(),ew=new Map([["core",YN.schema],["failsafe",[nw.map,iw.seq,JN.string]],["json",QN.schema],["yaml11",Z0.schema],["yaml-1.1",Z0.schema]]),tw={binary:rw.binary,bool:XN.boolTag,float:Zh.float,floatExp:Zh.floatExp,floatNaN:Zh.floatNaN,floatTime:Wu.floatTime,int:ep.int,intHex:ep.intHex,intOct:ep.intOct,intTime:Wu.intTime,map:nw.map,null:GN.nullTag,omap:sw.omap,pairs:ow.pairs,seq:iw.seq,set:aw.set,timestamp:Wu.timestamp},ZN={"tag:yaml.org,2002:binary":rw.binary,"tag:yaml.org,2002:omap":sw.omap,"tag:yaml.org,2002:pairs":ow.pairs,"tag:yaml.org,2002:set":aw.set,"tag:yaml.org,2002:timestamp":Wu.timestamp};function eO(t,e){let n=ew.get(e);if(!n)if(Array.isArray(t))n=[];else{let i=Array.from(ew.keys()).filter(r=>r!=="yaml11").map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${i} or define customTags array`)}if(Array.isArray(t))for(let i of t)n=n.concat(i);else typeof t=="function"&&(n=t(n.slice()));return n.map(i=>{if(typeof i!="string")return i;let r=tw[i];if(r)return r;let s=Object.keys(tw).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${i}"; use one of ${s}`)})}tp.coreKnownTags=ZN;tp.getTags=eO});var rp=M(uw=>{"use strict";var np=Je(),tO=Ks(),nO=js(),iO=la(),Hu=cw(),rO=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,ip=class t{constructor({compat:e,customTags:n,merge:i,resolveKnownTags:r,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Hu.getTags(e,"compat"):e?Hu.getTags(null,e):null,this.merge=!!i,this.name=typeof s=="string"&&s||"core",this.knownTags=r?Hu.coreKnownTags:{},this.tags=Hu.getTags(n,this.name),this.toStringOptions=a??null,Object.defineProperty(this,np.MAP,{value:tO.map}),Object.defineProperty(this,np.SCALAR,{value:iO.string}),Object.defineProperty(this,np.SEQ,{value:nO.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?rO:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};uw.Schema=ip});var dw=M(lw=>{"use strict";var sO=Je(),sp=oa(),pa=na();function oO(t,e){let n=[],i=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),i=!0):t.directives.docStart&&(i=!0)}i&&n.push("---");let r=sp.createStringifyContext(t,e),{commentString:s}=r.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(pa.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(sO.isNode(t.contents)){if(t.contents.spaceBefore&&i&&n.push(""),t.contents.commentBefore){let p=s(t.contents.commentBefore);n.push(pa.indentComment(p,""))}r.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,d=sp.stringify(t.contents,r,()=>a=null,c);a&&(d+=pa.lineComment(d,"",s(a))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(sp.stringify(t.contents,r));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(pa.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(pa.indentComment(s(c),"")))}return n.join(`
`)+`
`}lw.stringifyDocument=oO});var ga=M(fw=>{"use strict";var aO=Zo(),Ws=ta(),oi=Je(),cO=_r(),uO=br(),lO=rp(),dO=dw(),op=fu(),fO=dh(),hO=ea(),ap=lh(),cp=class t{constructor(e,n,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,oi.NODE_TYPE,{value:oi.DOC});let r=null;typeof n=="function"||Array.isArray(n)?r=n:i===void 0&&n&&(i=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},i);this.options=s;let{version:o}=s;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new ap.Directives({version:o}),this.setSchema(o,i),this.contents=e===void 0?null:this.createNode(e,r,i)}clone(){let e=Object.create(t.prototype,{[oi.NODE_TYPE]:{value:oi.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=oi.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Hs(this.contents)&&this.contents.add(e)}addIn(e,n){Hs(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let i=op.anchorNames(this);e.anchor=!n||i.has(n)?op.findNewAnchor(n||"a",i):n}return new aO.Alias(e.anchor)}createNode(e,n,i){let r;if(typeof n=="function")e=n.call({"":e},"",e),r=n;else if(Array.isArray(n)){let y=D=>typeof D=="number"||D instanceof String||D instanceof Number,S=n.filter(y).map(String);S.length>0&&(n=n.concat(S)),r=n}else i===void 0&&n&&(i=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:d,tag:p}=i??{},{onAnchor:m,setAnchors:f,sourceObjects:u}=op.createNodeAnchors(this,o||"a"),l={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:m,onTagObj:d,replacer:r,schema:this.schema,sourceObjects:u},h=hO.createNode(e,p,l);return a&&oi.isCollection(h)&&(h.flow=!0),f(),h}createPair(e,n,i={}){let r=this.createNode(e,null,i),s=this.createNode(n,null,i);return new cO.Pair(r,s)}delete(e){return Hs(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Ws.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Hs(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return oi.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Ws.isEmptyPath(e)?!n&&oi.isScalar(this.contents)?this.contents.value:this.contents:oi.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return oi.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Ws.isEmptyPath(e)?this.contents!==void 0:oi.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Ws.collectionFromPath(this.schema,[e],n):Hs(this.contents)&&this.contents.set(e,n)}setIn(e,n){Ws.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=Ws.collectionFromPath(this.schema,Array.from(e),n):Hs(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let i;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new ap.Directives({version:"1.1"}),i={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new ap.Directives({version:e}),i={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{let r=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(i)this.schema=new lO.Schema(Object.assign(i,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:i,maxAliasCount:r,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:i===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},c=uO.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:d,res:p}of a.anchors.values())s(p,d);return typeof o=="function"?fO.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return dO.stringifyDocument(this,e)}};function Hs(t){if(oi.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}fw.Document=cp});var va=M(ya=>{"use strict";var ma=class extends Error{constructor(e,n,i,r){super(),this.name=e,this.code=i,this.message=r,this.pos=n}},up=class extends ma{constructor(e,n,i){super("YAMLParseError",e,n,i)}},lp=class extends ma{constructor(e,n,i){super("YAMLWarning",e,n,i)}},pO=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:i,col:r}=n.linePos[0];n.message+=` at line ${i}, column ${r}`;let s=r-1,o=t.substring(e.lineStarts[i-1],e.lineStarts[i]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[i-2],e.lineStarts[i-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===i&&c.col>r&&(a=Math.max(1,Math.min(c.col-r,80-s)));let d=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${d}
`}};ya.YAMLError=ma;ya.YAMLParseError=up;ya.YAMLWarning=lp;ya.prettifyError=pO});var Ca=M(hw=>{"use strict";function gO(t,{flow:e,indicator:n,next:i,offset:r,onError:s,startOnNewline:o}){let a=!1,c=o,d=o,p="",m="",f=!1,u=!1,l=!1,h=null,y=null,S=null,D=null,x=null;for(let N of t)switch(l&&(N.type!=="space"&&N.type!=="newline"&&N.type!=="comma"&&s(N.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),l=!1),N.type){case"space":!e&&c&&n!=="doc-start"&&N.source[0]==="	"&&s(N,"TAB_AS_INDENT","Tabs are not allowed as indentation"),d=!0;break;case"comment":{d||s(N,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let q=N.source.substring(1)||" ";p?p+=m+q:p=q,m="",c=!1;break}case"newline":c?p?p+=N.source:a=!0:m+=N.source,c=!0,f=!0,(h||y)&&(u=!0),d=!0;break;case"anchor":h&&s(N,"MULTIPLE_ANCHORS","A node can have at most one anchor"),N.source.endsWith(":")&&s(N.offset+N.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),h=N,x===null&&(x=N.offset),c=!1,d=!1,l=!0;break;case"tag":{y&&s(N,"MULTIPLE_TAGS","A node can have at most one tag"),y=N,x===null&&(x=N.offset),c=!1,d=!1,l=!0;break}case n:(h||y)&&s(N,"BAD_PROP_ORDER",`Anchors and tags must be after the ${N.source} indicator`),D&&s(N,"UNEXPECTED_TOKEN",`Unexpected ${N.source} in ${e??"collection"}`),D=N,c=!1,d=!1;break;case"comma":if(e){S&&s(N,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),S=N,c=!1,d=!1;break}default:s(N,"UNEXPECTED_TOKEN",`Unexpected ${N.type} token`),c=!1,d=!1}let F=t[t.length-1],A=F?F.offset+F.source.length:r;return l&&i&&i.type!=="space"&&i.type!=="newline"&&i.type!=="comma"&&(i.type!=="scalar"||i.source!=="")&&s(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:S,found:D,spaceBefore:a,comment:p,hasNewline:f,hasNewlineAfterProp:u,anchor:h,tag:y,end:A,start:x??A}}hw.resolveProps=gO});var Vu=M(pw=>{"use strict";function dp(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(dp(e.key)||dp(e.value))return!0}return!1;default:return!0}}pw.containsNewline=dp});var fp=M(gw=>{"use strict";var mO=Vu();function yO(t,e,n){if(e?.type==="flow-collection"){let i=e.end[0];i.indent===t&&(i.source==="]"||i.source==="}")&&mO.containsNewline(e)&&n(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}gw.flowIndentCheck=yO});var hp=M(yw=>{"use strict";var mw=Je();function vO(t,e,n){let{uniqueKeys:i}=t.options;if(i===!1)return!1;let r=typeof i=="function"?i:(s,o)=>s===o||mw.isScalar(s)&&mw.isScalar(o)&&s.value===o.value&&!(s.value==="<<"&&t.schema.merge);return e.some(s=>r(s.key,n))}yw.mapIncludes=vO});var ww=M(bw=>{"use strict";var vw=_r(),CO=Fr(),Cw=Ca(),SO=Vu(),Sw=fp(),DO=hp(),Dw="All mapping items must start at the same column";function bO({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??CO.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=i.offset,d=null;for(let p of i.items){let{start:m,key:f,sep:u,value:l}=p,h=Cw.resolveProps(m,{indicator:"explicit-key-ind",next:f??u?.[0],offset:c,onError:r,startOnNewline:!0}),y=!h.found;if(y){if(f&&(f.type==="block-seq"?r(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==i.indent&&r(c,"BAD_INDENT",Dw)),!h.anchor&&!h.tag&&!u){d=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.hasNewlineAfterProp||SO.containsNewline(f))&&r(f??m[m.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==i.indent&&r(c,"BAD_INDENT",Dw);let S=h.end,D=f?t(n,f,h,r):e(n,S,m,null,h,r);n.schema.compat&&Sw.flowIndentCheck(i.indent,f,r),DO.mapIncludes(n,a.items,D)&&r(S,"DUPLICATE_KEY","Map keys must be unique");let x=Cw.resolveProps(u??[],{indicator:"map-value-ind",next:l,offset:D.range[2],onError:r,startOnNewline:!f||f.type==="block-scalar"});if(c=x.end,x.found){y&&(l?.type==="block-map"&&!x.hasNewline&&r(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<x.found.offset-1024&&r(D.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let F=l?t(n,l,x,r):e(n,c,u,null,x,r);n.schema.compat&&Sw.flowIndentCheck(i.indent,l,r),c=F.range[2];let A=new vw.Pair(D,F);n.options.keepSourceTokens&&(A.srcToken=p),a.items.push(A)}else{y&&r(D.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(D.comment?D.comment+=`
`+x.comment:D.comment=x.comment);let F=new vw.Pair(D);n.options.keepSourceTokens&&(F.srcToken=p),a.items.push(F)}}return d&&d<c&&r(d,"IMPOSSIBLE","Map comment with trailing content"),a.range=[i.offset,c,d??c],a}bw.resolveBlockMap=bO});var Ew=M(Tw=>{"use strict";var wO=Ar(),TO=Ca(),EO=fp();function xO({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=s?.nodeClass??wO.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=i.offset,d=null;for(let{start:p,value:m}of i.items){let f=TO.resolveProps(p,{indicator:"seq-item-ind",next:m,offset:c,onError:r,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||m)m&&m.type==="block-seq"?r(f.end,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator");else{d=f.end,f.comment&&(a.comment=f.comment);continue}let u=m?t(n,m,f,r):e(n,f.end,p,null,f,r);n.schema.compat&&EO.flowIndentCheck(i.indent,m,r),c=u.range[2],a.items.push(u)}return a.range=[i.offset,c,d??c],a}Tw.resolveBlockSeq=xO});var Vs=M(xw=>{"use strict";function _O(t,e,n,i){let r="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:d}=a;switch(d){case"space":s=!0;break;case"comment":{n&&!s&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let p=c.substring(1)||" ";r?r+=o+p:r=p,o="";break}case"newline":r&&(o+=c),s=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}e+=c.length}}return{comment:r,offset:e}}xw.resolveEnd=_O});var Aw=M(Fw=>{"use strict";var kO=Je(),FO=_r(),_w=Fr(),AO=Ar(),PO=Vs(),kw=Ca(),RO=Vu(),IO=hp(),pp="Block collections are not allowed within flow collections",gp=t=>t&&(t.type==="block-map"||t.type==="block-seq");function MO({composeNode:t,composeEmptyNode:e},n,i,r,s){let o=i.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?_w.YAMLMap:AO.YAMLSeq),d=new c(n.schema);d.flow=!0;let p=n.atRoot;p&&(n.atRoot=!1);let m=i.offset+i.start.source.length;for(let y=0;y<i.items.length;++y){let S=i.items[y],{start:D,key:x,sep:F,value:A}=S,N=kw.resolveProps(D,{flow:a,indicator:"explicit-key-ind",next:x??F?.[0],offset:m,onError:r,startOnNewline:!1});if(!N.found){if(!N.anchor&&!N.tag&&!F&&!A){y===0&&N.comma?r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):y<i.items.length-1&&r(N.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),N.comment&&(d.comment?d.comment+=`
`+N.comment:d.comment=N.comment),m=N.end;continue}!o&&n.options.strict&&RO.containsNewline(x)&&r(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(y===0)N.comma&&r(N.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(N.comma||r(N.start,"MISSING_CHAR",`Missing , between ${a} items`),N.comment){let q="";e:for(let $ of D)switch($.type){case"comma":case"space":break;case"comment":q=$.source.substring(1);break e;default:break e}if(q){let $=d.items[d.items.length-1];kO.isPair($)&&($=$.value??$.key),$.comment?$.comment+=`
`+q:$.comment=q,N.comment=N.comment.substring(q.length+1)}}if(!o&&!F&&!N.found){let q=A?t(n,A,N,r):e(n,N.end,F,null,N,r);d.items.push(q),m=q.range[2],gp(A)&&r(q.range,"BLOCK_IN_FLOW",pp)}else{let q=N.end,$=x?t(n,x,N,r):e(n,q,D,null,N,r);gp(x)&&r($.range,"BLOCK_IN_FLOW",pp);let J=kw.resolveProps(F??[],{flow:a,indicator:"map-value-ind",next:A,offset:$.range[2],onError:r,startOnNewline:!1});if(J.found){if(!o&&!N.found&&n.options.strict){if(F)for(let ce of F){if(ce===J.found)break;if(ce.type==="newline"){r(ce,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}N.start<J.found.offset-1024&&r(J.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else A&&("source"in A&&A.source&&A.source[0]===":"?r(A,"MISSING_CHAR",`Missing space after : in ${a}`):r(J.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let Z=A?t(n,A,J,r):J.found?e(n,J.end,F,null,J,r):null;Z?gp(A)&&r(Z.range,"BLOCK_IN_FLOW",pp):J.comment&&($.comment?$.comment+=`
`+J.comment:$.comment=J.comment);let le=new FO.Pair($,Z);if(n.options.keepSourceTokens&&(le.srcToken=S),o){let ce=d;IO.mapIncludes(n,ce.items,$)&&r(q,"DUPLICATE_KEY","Map keys must be unique"),ce.items.push(le)}else{let ce=new _w.YAMLMap(n.schema);ce.flow=!0,ce.items.push(le),d.items.push(ce)}m=Z?Z.range[2]:J.end}}let f=o?"}":"]",[u,...l]=i.end,h=m;if(u&&u.source===f)h=u.offset+u.source.length;else{let y=a[0].toUpperCase()+a.substring(1),S=p?`${y} must end with a ${f}`:`${y} in block collection must be sufficiently indented and end with a ${f}`;r(m,p?"MISSING_CHAR":"BAD_INDENT",S),u&&u.source.length!==1&&l.unshift(u)}if(l.length>0){let y=PO.resolveEnd(l,h,n.options.strict,r);y.comment&&(d.comment?d.comment+=`
`+y.comment:d.comment=y.comment),d.range=[i.offset,h,y.offset]}else d.range=[i.offset,h,h];return d}Fw.resolveFlowCollection=MO});var Rw=M(Pw=>{"use strict";var NO=Je(),OO=Rt(),LO=Fr(),qO=Ar(),UO=ww(),BO=Ew(),KO=Aw();function mp(t,e,n,i,r,s){let o=n.type==="block-map"?UO.resolveBlockMap(t,e,n,i,s):n.type==="block-seq"?BO.resolveBlockSeq(t,e,n,i,s):KO.resolveFlowCollection(t,e,n,i,s),a=o.constructor;return r==="!"||r===a.tagName?(o.tag=a.tagName,o):(r&&(o.tag=r),o)}function jO(t,e,n,i,r){let s=i?e.directives.tagName(i.source,m=>r(i,"TAG_RESOLVE_FAILED",m)):null,o=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!i||!s||s==="!"||s===LO.YAMLMap.tagName&&o==="map"||s===qO.YAMLSeq.tagName&&o==="seq"||!o)return mp(t,e,n,r,s);let a=e.schema.tags.find(m=>m.tag===s&&m.collection===o);if(!a){let m=e.schema.knownTags[s];if(m&&m.collection===o)e.schema.tags.push(Object.assign({},m,{default:!1})),a=m;else return m?.collection?r(i,"BAD_COLLECTION_TYPE",`${m.tag} used for ${o} collection, but expects ${m.collection}`,!0):r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),mp(t,e,n,r,s)}let c=mp(t,e,n,r,s,a),d=a.resolve?.(c,m=>r(i,"TAG_RESOLVE_FAILED",m),e.options)??c,p=NO.isNode(d)?d:new OO.Scalar(d);return p.range=c.range,p.tag=s,a?.format&&(p.format=a.format),p}Pw.composeCollection=jO});var vp=M(Iw=>{"use strict";var yp=Rt();function $O(t,e,n){let i=t.offset,r=WO(t,e,n);if(!r)return{value:"",type:null,comment:"",range:[i,i,i]};let s=r.mode===">"?yp.Scalar.BLOCK_FOLDED:yp.Scalar.BLOCK_LITERAL,o=t.source?HO(t.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let y=o[h][1];if(y===""||y==="\r")a=h;else break}if(a===0){let h=r.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",y=i+r.length;return t.source&&(y+=t.source.length),{value:h,type:s,comment:r.comment,range:[i,y,y]}}let c=t.indent+r.indent,d=t.offset+r.length,p=0;for(let h=0;h<a;++h){let[y,S]=o[h];if(S===""||S==="\r")r.indent===0&&y.length>c&&(c=y.length);else{if(y.length<c){let D="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(d+y.length,"MISSING_CHAR",D)}r.indent===0&&(c=y.length),p=h;break}d+=y.length+S.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>c&&(a=h+1);let m="",f="",u=!1;for(let h=0;h<p;++h)m+=o[h][0].slice(c)+`
`;for(let h=p;h<a;++h){let[y,S]=o[h];d+=y.length+S.length+1;let D=S[S.length-1]==="\r";if(D&&(S=S.slice(0,-1)),S&&y.length<c){let F=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(d-S.length-(D?2:1),"BAD_INDENT",F),y=""}s===yp.Scalar.BLOCK_LITERAL?(m+=f+y.slice(c)+S,f=`
`):y.length>c||S[0]==="	"?(f===" "?f=`
`:!u&&f===`
`&&(f=`

`),m+=f+y.slice(c)+S,f=`
`,u=!0):S===""?f===`
`?m+=`
`:f=`
`:(m+=f+S,f=" ",u=!1)}switch(r.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)m+=`
`+o[h][0].slice(c);m[m.length-1]!==`
`&&(m+=`
`);break;default:m+=`
`}let l=i+r.length+t.source.length;return{value:m,type:s,comment:r.comment,range:[i,l,l]}}function WO({offset:t,props:e},n,i){if(e[0].type!=="block-scalar-header")return i(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:r}=e[0],s=r[0],o=0,a="",c=-1;for(let f=1;f<r.length;++f){let u=r[f];if(!a&&(u==="-"||u==="+"))a=u;else{let l=Number(u);!o&&l?o=l:c===-1&&(c=t+f)}}c!==-1&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let d=!1,p="",m=r.length;for(let f=1;f<e.length;++f){let u=e[f];switch(u.type){case"space":d=!0;case"newline":m+=u.source.length;break;case"comment":n&&!d&&i(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),m+=u.source.length,p=u.source.substring(1);break;case"error":i(u,"UNEXPECTED_TOKEN",u.message),m+=u.source.length;break;default:{let l=`Unexpected token in block scalar header: ${u.type}`;i(u,"UNEXPECTED_TOKEN",l);let h=u.source;h&&typeof h=="string"&&(m+=h.length)}}}return{mode:s,indent:o,chomp:a,comment:p,length:m}}function HO(t){let e=t.split(/\n( *)/),n=e[0],i=n.match(/^( *)/),s=[i?.[1]?[i[1],n.slice(i[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}Iw.resolveBlockScalar=$O});var Sp=M(Nw=>{"use strict";var Cp=Rt(),VO=Vs();function zO(t,e,n){let{offset:i,type:r,source:s,end:o}=t,a,c,d=(f,u,l)=>n(i+f,u,l);switch(r){case"scalar":a=Cp.Scalar.PLAIN,c=GO(s,d);break;case"single-quoted-scalar":a=Cp.Scalar.QUOTE_SINGLE,c=JO(s,d);break;case"double-quoted-scalar":a=Cp.Scalar.QUOTE_DOUBLE,c=XO(s,d);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[i,i+s.length,i+s.length]}}let p=i+s.length,m=VO.resolveEnd(o,p,e,n);return{value:c,type:a,comment:m.comment,range:[i,p,m.offset]}}function GO(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Mw(t)}function JO(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Mw(t.slice(1,-1)).replace(/''/g,"'")}function Mw(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=e.exec(t);if(!i)return t;let r=i[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;i=n.exec(t);)i[1]===""?s===`
`?r+=s:s=`
`:(r+=s+i[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,i=a.exec(t),r+s+(i?.[1]??"")}function XO(t,e){let n="";for(let i=1;i<t.length-1;++i){let r=t[i];if(!(r==="\r"&&t[i+1]===`
`))if(r===`
`){let{fold:s,offset:o}=YO(t,i);n+=s,i=o}else if(r==="\\"){let s=t[++i],o=QO[s];if(o)n+=o;else if(s===`
`)for(s=t[i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="\r"&&t[i+1]===`
`)for(s=t[++i+1];s===" "||s==="	";)s=t[++i+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=ZO(t,i+1,a,e),i+=a}else{let a=t.substr(i-1,2);e(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(r===" "||r==="	"){let s=i,o=t[i+1];for(;o===" "||o==="	";)o=t[++i+1];o!==`
`&&!(o==="\r"&&t[i+2]===`
`)&&(n+=i>s?t.slice(s,i+1):r)}else n+=r}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function YO(t,e){let n="",i=t[e+1];for(;(i===" "||i==="	"||i===`
`||i==="\r")&&!(i==="\r"&&t[e+2]!==`
`);)i===`
`&&(n+=`
`),e+=1,i=t[e+1];return n||(n=" "),{fold:n,offset:e}}var QO={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function ZO(t,e,n,i){let r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return i(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}Nw.resolveFlowScalar=zO});var qw=M(Lw=>{"use strict";var zs=Je(),Ow=Rt(),eL=vp(),tL=Sp();function nL(t,e,n,i){let{value:r,type:s,comment:o,range:a}=e.type==="block-scalar"?eL.resolveBlockScalar(e,t.options.strict,i):tL.resolveFlowScalar(e,t.options.strict,i),c=n?t.directives.tagName(n.source,m=>i(n,"TAG_RESOLVE_FAILED",m)):null,d=n&&c?iL(t.schema,r,c,n,i):e.type==="scalar"?rL(t,r,e,i):t.schema[zs.SCALAR],p;try{let m=d.resolve(r,f=>i(n??e,"TAG_RESOLVE_FAILED",f),t.options);p=zs.isScalar(m)?m:new Ow.Scalar(m)}catch(m){let f=m instanceof Error?m.message:String(m);i(n??e,"TAG_RESOLVE_FAILED",f),p=new Ow.Scalar(r)}return p.range=a,p.source=r,s&&(p.type=s),c&&(p.tag=c),d.format&&(p.format=d.format),o&&(p.comment=o),p}function iL(t,e,n,i,r){if(n==="!")return t[zs.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[zs.SCALAR])}function rL({directives:t,schema:e},n,i,r){let s=e.tags.find(o=>o.default&&o.test?.test(n))||e[zs.SCALAR];if(e.compat){let o=e.compat.find(a=>a.default&&a.test?.test(n))??e[zs.SCALAR];if(s.tag!==o.tag){let a=t.tagString(s.tag),c=t.tagString(o.tag),d=`Value may be parsed as either ${a} or ${c}`;r(i,"TAG_RESOLVE_FAILED",d,!0)}}return s}Lw.composeScalar=nL});var Bw=M(Uw=>{"use strict";function sL(t,e,n){if(e){n===null&&(n=e.length);for(let i=n-1;i>=0;--i){let r=e[i];switch(r.type){case"space":case"comment":case"newline":t-=r.source.length;continue}for(r=e[++i];r?.type==="space";)t+=r.source.length,r=e[++i];break}}return t}Uw.emptyScalarPosition=sL});var $w=M(bp=>{"use strict";var oL=Zo(),aL=Rw(),Kw=qw(),cL=Vs(),uL=Bw(),lL={composeNode:jw,composeEmptyNode:Dp};function jw(t,e,n,i){let{spaceBefore:r,comment:s,anchor:o,tag:a}=n,c,d=!0;switch(e.type){case"alias":c=dL(t,e,i),(o||a)&&i(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Kw.composeScalar(t,e,a,i),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=aL.composeCollection(lL,t,e,a,i),o&&(c.anchor=o.source.substring(1));break;default:{let p=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;i(e,"UNEXPECTED_TOKEN",p),c=Dp(t,e.offset,void 0,null,n,i),d=!1}}return o&&c.anchor===""&&i(o,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(c.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?c.comment=s:c.commentBefore=s),t.options.keepSourceTokens&&d&&(c.srcToken=e),c}function Dp(t,e,n,i,{spaceBefore:r,comment:s,anchor:o,tag:a,end:c},d){let p={type:"scalar",offset:uL.emptyScalarPosition(e,n,i),indent:-1,source:""},m=Kw.composeScalar(t,p,a,d);return o&&(m.anchor=o.source.substring(1),m.anchor===""&&d(o,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(m.spaceBefore=!0),s&&(m.comment=s,m.range[2]=c),m}function dL({options:t},{offset:e,source:n,end:i},r){let s=new oL.Alias(n.substring(1));s.source===""&&r(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=cL.resolveEnd(i,o,t.strict,r);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}bp.composeEmptyNode=Dp;bp.composeNode=jw});var Vw=M(Hw=>{"use strict";var fL=ga(),Ww=$w(),hL=Vs(),pL=Ca();function gL(t,e,{offset:n,start:i,value:r,end:s},o){let a=Object.assign({_directives:e},t),c=new fL.Document(void 0,a),d={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},p=pL.resolveProps(i,{indicator:"doc-start",next:r??s?.[0],offset:n,onError:o,startOnNewline:!0});p.found&&(c.directives.docStart=!0,r&&(r.type==="block-map"||r.type==="block-seq")&&!p.hasNewline&&o(p.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?Ww.composeNode(d,r,p,o):Ww.composeEmptyNode(d,p.end,i,null,p,o);let m=c.contents.range[2],f=hL.resolveEnd(s,m,!1,o);return f.comment&&(c.comment=f.comment),c.range=[n,m,f.offset],c}Hw.composeDoc=gL});var Tp=M(Jw=>{"use strict";var mL=lh(),yL=ga(),Sa=va(),zw=Je(),vL=Vw(),CL=Vs();function Da(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function Gw(t){let e="",n=!1,i=!1;for(let r=0;r<t.length;++r){let s=t[r];switch(s[0]){case"#":e+=(e===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":t[r+1]?.[0]!=="#"&&(r+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:e,afterEmptyLine:i}}var wp=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,i,r,s)=>{let o=Da(n);s?this.warnings.push(new Sa.YAMLWarning(o,i,r)):this.errors.push(new Sa.YAMLParseError(o,i,r))},this.directives=new mL.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:i,afterEmptyLine:r}=Gw(this.prelude);if(i){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${i}`:i;else if(r||e.directives.docStart||!s)e.commentBefore=i;else if(zw.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];zw.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${i}
${a}`:i}else{let o=s.commentBefore;s.commentBefore=o?`${i}
${o}`:i}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Gw(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,i=-1){for(let r of e)yield*this.next(r);yield*this.end(n,i)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,i,r)=>{let s=Da(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",i,r)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=vL.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,i=new Sa.YAMLParseError(Da(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){let i="Unexpected doc-end without preceding document";this.errors.push(new Sa.YAMLParseError(Da(e),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;let n=CL.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let i=this.doc.comment;this.doc.comment=i?`${i}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Sa.YAMLParseError(Da(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let i=Object.assign({_directives:this.directives},this.options),r=new yL.Document(void 0,i);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,n,n],this.decorate(r,!1),yield r}}};Jw.Composer=wp});var Qw=M(zu=>{"use strict";var SL=vp(),DL=Sp(),bL=va(),Xw=sa();function wL(t,e=!0,n){if(t){let i=(r,s,o)=>{let a=typeof r=="number"?r:Array.isArray(r)?r[0]:r.offset;if(n)n(a,s,o);else throw new bL.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return DL.resolveFlowScalar(t,e,i);case"block-scalar":return SL.resolveBlockScalar(t,e,i)}}return null}function TL(t,e){let{implicitKey:n=!1,indent:i,inFlow:r=!1,offset:s=-1,type:o="PLAIN"}=e,a=Xw.stringifyString({type:o,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:i,source:`
`}];switch(a[0]){case"|":case">":{let d=a.indexOf(`
`),p=a.substring(0,d),m=a.substring(d+1)+`
`,f=[{type:"block-scalar-header",offset:s,indent:i,source:p}];return Yw(f,c)||f.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:f,source:m}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:a,end:c};default:return{type:"scalar",offset:s,indent:i,source:a,end:c}}}function EL(t,e,n={}){let{afterKey:i=!1,implicitKey:r=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(i&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let d=t.props[0];if(d.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=d.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=Xw.stringifyString({type:o,value:e},{implicitKey:r||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":xL(t,c);break;case'"':Ep(t,c,"double-quoted-scalar");break;case"'":Ep(t,c,"single-quoted-scalar");break;default:Ep(t,c,"scalar")}}function xL(t,e){let n=e.indexOf(`
`),i=e.substring(0,n),r=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=i,t.source=r}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:i}];Yw(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:r})}}function Yw(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function Ep(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let i=t.props.slice(1),r=e.length;t.props[0].type==="block-scalar-header"&&(r-=t.props[0].source.length);for(let s of i)s.offset+=r;delete t.props,Object.assign(t,{type:n,source:e,end:i});break}case"block-map":case"block-seq":{let r={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[r]});break}default:{let i="indent"in t?t.indent:-1,r="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:i,source:e,end:r})}}}zu.createScalarToken=TL;zu.resolveAsScalar=wL;zu.setScalarValue=EL});var eT=M(Zw=>{"use strict";var _L=t=>"type"in t?Ju(t):Gu(t);function Ju(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=Ju(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=Gu(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=Gu(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=Gu(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function Gu({start:t,key:e,sep:n,value:i}){let r="";for(let s of t)r+=s.source;if(e&&(r+=Ju(e)),n)for(let s of n)r+=s.source;return i&&(r+=Ju(i)),r}Zw.stringify=_L});var rT=M(iT=>{"use strict";var xp=Symbol("break visit"),kL=Symbol("skip children"),tT=Symbol("remove item");function ss(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),nT(Object.freeze([]),t,e)}ss.BREAK=xp;ss.SKIP=kL;ss.REMOVE=tT;ss.itemAtPath=(t,e)=>{let n=t;for(let[i,r]of e){let s=n?.[i];if(s&&"items"in s)n=s.items[r];else return}return n};ss.parentCollection=(t,e)=>{let n=ss.itemAtPath(t,e.slice(0,-1)),i=e[e.length-1][0],r=n?.[i];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};function nT(t,e,n){let i=n(e,t);if(typeof i=="symbol")return i;for(let r of["key","value"]){let s=e[r];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=nT(Object.freeze(t.concat([[r,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===xp)return xp;a===tT&&(s.items.splice(o,1),o-=1)}}typeof i=="function"&&r==="key"&&(i=i(e,t))}}return typeof i=="function"?i(e,t):i}iT.visit=ss});var Xu=M(On=>{"use strict";var _p=Qw(),FL=eT(),AL=rT(),kp="\uFEFF",Fp="",Ap="",Pp="",PL=t=>!!t&&"items"in t,RL=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function IL(t){switch(t){case kp:return"<BOM>";case Fp:return"<DOC>";case Ap:return"<FLOW_END>";case Pp:return"<SCALAR>";default:return JSON.stringify(t)}}function ML(t){switch(t){case kp:return"byte-order-mark";case Fp:return"doc-mode";case Ap:return"flow-error-end";case Pp:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}On.createScalarToken=_p.createScalarToken;On.resolveAsScalar=_p.resolveAsScalar;On.setScalarValue=_p.setScalarValue;On.stringify=FL.stringify;On.visit=AL.visit;On.BOM=kp;On.DOCUMENT=Fp;On.FLOW_END=Ap;On.SCALAR=Pp;On.isCollection=PL;On.isScalar=RL;On.prettyToken=IL;On.tokenType=ML});var Np=M(oT=>{"use strict";var ba=Xu();function ai(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var sT="0123456789ABCDEFabcdef".split(""),NL="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Rp=",[]{}".split(""),OL=` ,[]{}
\r	`.split(""),Ip=t=>!t||OL.includes(t),Mp=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!n;let i=this.next??"stream";for(;i&&(n||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let i=0;for(;n===" ";)n=this.buffer[++i+e];if(n==="\r"){let r=this.buffer[i+e+1];if(r===`
`||!r&&!this.atEnd)return e+i+1}return n===`
`||i>=this.indentNext||!n&&!this.atEnd?e+i:-1}if(n==="-"||n==="."){let i=this.buffer.substr(e,3);if((i==="---"||i==="...")&&ai(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===ba.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,i=e.indexOf("#");if(i!==-1){let s=e[i-1];(s===" "||s==="	")&&(n=i-1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let r=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield ba.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if(n==="---"&&ai(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&ai(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!ai(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&ai(n)){let i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ip),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,i=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=i=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let r=this.getLine();if(r===null)return this.setNext("flow");if((i!==-1&&i<this.indentNext&&r[0]!=="#"||i===0&&(r.startsWith("---")||r.startsWith("..."))&&ai(r[3]))&&!(i===this.indentNext-1&&this.flowLevel===1&&(r[0]==="]"||r[0]==="}")))return this.flowLevel=0,yield ba.FLOW_END,yield*this.parseLineStart();let s=0;for(;r[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),r[s]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ip),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||ai(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let i=this.buffer.substring(0,n),r=i.indexOf(`
`,this.pos);if(r!==-1){for(;r!==-1;){let s=this.continueScalar(r+1);if(s===-1)break;r=i.indexOf(`
`,s)}r!==-1&&(n=r-(i[r-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>ai(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,i;e:for(let r=this.pos;i=this.buffer[r];++r)switch(i){case" ":n+=1;break;case`
`:e=r,n=0;break;case"\r":{let s=this.buffer[r+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{let r=this.continueScalar(e+1);if(r===-1)break;e=this.buffer.indexOf(`
`,r)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let r=e-1,s=this.buffer[r];s==="\r"&&(s=this.buffer[--r]);let o=r;for(;s===" "||s==="	";)s=this.buffer[--r];if(s===`
`&&r>=this.pos&&r+1+n>o)e=r;else break}while(!0);return yield ba.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,i=this.pos-1,r;for(;r=this.buffer[++i];)if(r===":"){let s=this.buffer[i+1];if(ai(s)||e&&s===",")break;n=i}else if(ai(r)){let s=this.buffer[i+1];if(r==="\r"&&(s===`
`?(i+=1,r=`
`,s=this.buffer[i+1]):n=i),s==="#"||e&&Rp.includes(s))break;if(r===`
`){let o=this.continueScalar(i+1);if(o===-1)break;i=Math.max(i,o-2)}}else{if(e&&Rp.includes(r))break;n=i}return!r&&!this.atEnd?this.setNext("plain-scalar"):(yield ba.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let i=this.buffer.slice(this.pos,e);return i?(yield i,this.pos+=i.length,i.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ip))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(ai(n)||e&&Rp.includes(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!ai(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(NL.includes(n))n=this.buffer[++e];else if(n==="%"&&sT.includes(this.buffer[e+1])&&sT.includes(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,i;do i=this.buffer[++n];while(i===" "||e&&i==="	");let r=n-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=n),r}*pushUntil(e){let n=this.pos,i=this.buffer[n];for(;!e(i);)i=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};oT.Lexer=Mp});var Lp=M(aT=>{"use strict";var Op=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,i=this.lineStarts.length;for(;n<i;){let s=n+i>>1;this.lineStarts[s]<e?n=s+1:i=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let r=this.lineStarts[n-1];return{line:n,col:e-r+1}}}};aT.LineCounter=Op});var Up=M(fT=>{"use strict";var cT=Xu(),LL=Np();function yi(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function uT(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function dT(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Yu(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Gs(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function lT(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!yi(e.start,"explicit-key-ind")&&!yi(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,dT(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var qp=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new LL.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let i of this.lexer.lex(e,n))yield*this.next(i);n||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",cT.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=cT.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let i=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(n)if(this.stack.length===0)yield n;else{let i=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in i?i.indent:0:n.type==="flow-collection"&&i.type==="document"&&(n.indent=0),n.type==="flow-collection"&&lT(n),i.type){case"document":i.value=n;break;case"block-scalar":i.props.push(n);break;case"block-map":{let r=i.items[i.items.length-1];if(r.value){i.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(r.sep)r.value=n;else{Object.assign(r,{key:n,sep:[]}),this.onKeyLine=!yi(r.start,"explicit-key-ind");return}break}case"block-seq":{let r=i.items[i.items.length-1];r.value?i.items.push({start:[],value:n}):r.value=n;break}case"flow-collection":{let r=i.items[i.items.length-1];!r||r.value?i.items.push({start:[],key:n,sep:[]}):r.sep?r.value=n:Object.assign(r,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((i.type==="document"||i.type==="block-map"||i.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let r=n.items[n.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&uT(r.start)===-1&&(n.indent===0||r.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(i.type==="document"?i.end=r.start:i.items.push({start:r.start}),n.items.splice(-1,1))}}else{let i="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:i}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{uT(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=Yu(this.peek(2)),i=Gs(n),r;e.end?(r=e.end,r.push(this.sourceToken),delete e.end):r=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:i,key:e,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent&&n.sep,r=[];if(i&&n.sep&&!n.value){let s=[];for(let o=0;o<n.sep.length;++o){let a=n.sep[o];switch(a.type){case"newline":s.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(s.length=0);break;default:s.length=0}}s.length>=2&&(r=n.sep.splice(s[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(r.push(this.sourceToken),e.items.push({start:r}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!yi(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(r.push(this.sourceToken),e.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(yi(n.start,"explicit-key-ind"))if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(yi(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(dT(n.key)&&!yi(n.sep,"newline")){let s=Gs(n.start),o=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:o,sep:a}]})}else r.length>0?n.sep=n.sep.concat(r,this.sourceToken):n.sep.push(this.sourceToken);else if(yi(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let s=Gs(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:r,key:null,sep:[this.sourceToken]}):yi(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let s=this.flowScalar(this.type);i||n.value?(e.items.push({start:r,key:s,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(s):(Object.assign(n,{key:s,sep:[]}),this.onKeyLine=!0);return}default:{let s=this.startBlockValue(e);if(s){i&&s.type!=="block-seq"&&yi(n.start,"explicit-key-ind")&&e.items.push({start:r}),this.stack.push(s);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0;(Array.isArray(i)?i[i.length-1]:void 0)?.type==="comment"?i?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let r=e.items[e.items.length-2]?.value?.end;if(Array.isArray(r)){Array.prototype.push.apply(r,n.start),r.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||yi(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let i;do yield*this.pop(),i=this.peek(1);while(i&&i.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:r,sep:[]}):n.sep?this.stack.push(r):Object.assign(n,{key:r,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let i=this.startBlockValue(e);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{let i=this.peek(2);if(i.type==="block-map"&&(this.type==="map-value-ind"&&i.indent===e.indent||this.type==="newline"&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&i.type!=="flow-collection"){let r=Yu(i),s=Gs(r);lT(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=Yu(e),i=Gs(n);return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i}]}}case"map-value-ind":{this.onKeyLine=!0;let n=Yu(e),i=Gs(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(i=>i.type==="newline"||i.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};fT.Parser=qp});var yT=M(Ta=>{"use strict";var hT=Tp(),qL=ga(),wa=va(),UL=bh(),BL=Lp(),pT=Up();function gT(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new BL.LineCounter||null,prettyErrors:e}}function KL(t,e={}){let{lineCounter:n,prettyErrors:i}=gT(e),r=new pT.Parser(n?.addNewLine),s=new hT.Composer(e),o=Array.from(s.compose(r.parse(t)));if(i&&n)for(let a of o)a.errors.forEach(wa.prettifyError(t,n)),a.warnings.forEach(wa.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function mT(t,e={}){let{lineCounter:n,prettyErrors:i}=gT(e),r=new pT.Parser(n?.addNewLine),s=new hT.Composer(e),o=null;for(let a of s.compose(r.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new wa.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return i&&n&&(o.errors.forEach(wa.prettifyError(t,n)),o.warnings.forEach(wa.prettifyError(t,n))),o}function jL(t,e,n){let i;typeof e=="function"?i=e:n===void 0&&e&&typeof e=="object"&&(n=e);let r=mT(t,n);if(!r)return null;if(r.warnings.forEach(s=>UL.warn(r.options.logLevel,s)),r.errors.length>0){if(r.options.logLevel!=="silent")throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},n))}function $L(t,e,n){let i=null;if(typeof e=="function"||Array.isArray(e)?i=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let r=Math.round(n);n=r<1?void 0:r>8?{indent:8}:{indent:r}}if(t===void 0){let{keepUndefined:r}=n??e??{};if(!r)return}return new qL.Document(t,i,n).toString(n)}Ta.parse=jL;Ta.parseAllDocuments=KL;Ta.parseDocument=mT;Ta.stringify=$L});var CT=M(Ze=>{"use strict";var WL=Tp(),HL=ga(),VL=rp(),Bp=va(),zL=Zo(),Pr=Je(),GL=_r(),JL=Rt(),XL=Fr(),YL=Ar(),QL=Xu(),ZL=Np(),eq=Lp(),tq=Up(),Qu=yT(),vT=Jo();Ze.Composer=WL.Composer;Ze.Document=HL.Document;Ze.Schema=VL.Schema;Ze.YAMLError=Bp.YAMLError;Ze.YAMLParseError=Bp.YAMLParseError;Ze.YAMLWarning=Bp.YAMLWarning;Ze.Alias=zL.Alias;Ze.isAlias=Pr.isAlias;Ze.isCollection=Pr.isCollection;Ze.isDocument=Pr.isDocument;Ze.isMap=Pr.isMap;Ze.isNode=Pr.isNode;Ze.isPair=Pr.isPair;Ze.isScalar=Pr.isScalar;Ze.isSeq=Pr.isSeq;Ze.Pair=GL.Pair;Ze.Scalar=JL.Scalar;Ze.YAMLMap=XL.YAMLMap;Ze.YAMLSeq=YL.YAMLSeq;Ze.CST=QL;Ze.Lexer=ZL.Lexer;Ze.LineCounter=eq.LineCounter;Ze.Parser=tq.Parser;Ze.parse=Qu.parse;Ze.parseAllDocuments=Qu.parseAllDocuments;Ze.parseDocument=Qu.parseDocument;Ze.stringify=Qu.stringify;Ze.visit=vT.visit;Ze.visitAsync=vT.visitAsync});var $p=M(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.isErrnoException=Js.isErrorCodeException=void 0;var jp={string:!0,undefined:!0},nq={number:!0,undefined:!0};function iq(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}Js.isErrorCodeException=iq;function rq(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in nq&&typeof e.code in jp&&typeof e.path in jp&&typeof e.stack in jp}Js.isErrnoException=rq});var ST=M(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.LogFileConnection=Xs.LogFile=void 0;var sq=require("fs"),Zu=class{constructor(e){this.filename=e,this._buffer=[],this.pfh=sq.promises.open(e,"a").then(n=>this.fh=n).catch(n=>(console.error(this._error=n),void 0))}onReady(){return this.pfh.then(e=>!!(e&&this.fh)).catch(()=>!1)}getError(){return this._error}isReady(){return!!this.fh}log(e){return this._log("LOG",e),this}info(e){return this._log("INF",e),this}warn(e){return this._log("WRN",e),this}error(e){return this._log("ERR",e),this}close(){return this.fh=void 0,this.pfh.then(e=>e?.close()).catch(e=>console.error(e))}_log(e,n){let i=`${new Date().toISOString()} ${e}: `,r=" ".repeat(i.length),s=n.split(`
`).join(`
`+r);this._buffer.push(`${i}${s}
`),this.process()}process(){this._pending||(this._pending=this._processAsync())}async _processAsync(){let e=await this.pfh;for(let n=this._buffer;n.length;n=this._buffer){this._buffer=[];try{await e?.writeFile(n.join(""))}catch(i){this._error=i}}this._pending=void 0}};Xs.LogFile=Zu;var Wp=class{constructor(e){this.filename=e,this.onExitHandlers=[],this.console=new Zu(e)}onExit(e){this.onExitHandlers.push(e)}async close(){this.notifyOnExit(),await this.console.close()}notifyOnExit(){for(let e of this.onExitHandlers)try{e()}catch(n){console.error(n)}}};Xs.LogFileConnection=Wp});var Zi=M(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.uriToName=mt.cleanUri=mt.relativeToFile=mt.relativeTo=mt.toFileUri=mt.toUri=mt.isSupportedDoc=mt.isSupportedUri=mt.setOfSupportedSchemes=mt.supportedSchemes=void 0;var Hp=Ms();mt.supportedSchemes=["gist","repo","file","sftp","untitled"];mt.setOfSupportedSchemes=new Set(mt.supportedSchemes);function DT(t){return!!t&&mt.setOfSupportedSchemes.has(t.scheme)}mt.isSupportedUri=DT;function oq(t){return!!t&&!t.isClosed&&DT(t.uri)}mt.isSupportedDoc=oq;var aq=/^[\w.-]{2,}:/;function cq(t){return bT(t||void 0)}mt.toUri=cq;function bT(t){return typeof t=="string"?aq.test(t)?Hp.URI.parse(t):Hp.URI.file(t):t}mt.toFileUri=bT;function wT(t,e){let n=Vp(t),i=Vp(e),r=0;for(r=0;r<n.length&&r<i.length&&n[r]===i[r];++r);return("../".repeat(n.length-r)+i.slice(r).join("/")).replace(/\/$/,"")}mt.relativeTo=wT;function uq(t,e){return wT(Hp.Utils.dirname(t),e)}mt.relativeToFile=uq;function TT(t){return t.with({fragment:"",query:""})}mt.cleanUri=TT;function lq(t,e=2){return Vp(t).slice(-e).join("/")}mt.uriToName=lq;function Vp(t){return TT(t).toString().split("/").filter(e=>!!e)}});var Gp=M(vi=>{"use strict";var dq=vi&&vi.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),zp=vi&&vi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&dq(e,t,n)};Object.defineProperty(vi,"__esModule",{value:!0});vi.LogFileConnection=void 0;zp($p(),vi);var fq=ST();Object.defineProperty(vi,"LogFileConnection",{enumerable:!0,get:function(){return fq.LogFileConnection}});zp(Zi(),vi);zp(Zc(),vi)});var ui=M(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.asPromise=xt.thenable=xt.typedArray=xt.stringArray=xt.array=xt.func=xt.error=xt.number=xt.string=xt.boolean=void 0;function jq(t){return t===!0||t===!1}xt.boolean=jq;function LT(t){return typeof t=="string"||t instanceof String}xt.string=LT;function $q(t){return typeof t=="number"||t instanceof Number}xt.number=$q;function Wq(t){return t instanceof Error}xt.error=Wq;function qT(t){return typeof t=="function"}xt.func=qT;function UT(t){return Array.isArray(t)}xt.array=UT;function Hq(t){return UT(t)&&t.every(e=>LT(e))}xt.stringArray=Hq;function Vq(t,e){return Array.isArray(t)&&t.every(e)}xt.typedArray=Vq;function BT(t){return t&&qT(t.then)}xt.thenable=BT;function zq(t){return t instanceof Promise?t:BT(t)?new Promise((e,n)=>{t.then(i=>e(i),i=>n(i))}):Promise.resolve(t)}xt.asPromise=zq});var Qs=M(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.stringArray=hn.array=hn.func=hn.error=hn.number=hn.string=hn.boolean=void 0;function Gq(t){return t===!0||t===!1}hn.boolean=Gq;function KT(t){return typeof t=="string"||t instanceof String}hn.string=KT;function Jq(t){return typeof t=="number"||t instanceof Number}hn.number=Jq;function Xq(t){return t instanceof Error}hn.error=Xq;function Yq(t){return typeof t=="function"}hn.func=Yq;function jT(t){return Array.isArray(t)}hn.array=jT;function Qq(t){return jT(t)&&t.every(e=>KT(e))}hn.stringArray=Qq});var Ig=M(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.Message=me.NotificationType9=me.NotificationType8=me.NotificationType7=me.NotificationType6=me.NotificationType5=me.NotificationType4=me.NotificationType3=me.NotificationType2=me.NotificationType1=me.NotificationType0=me.NotificationType=me.RequestType9=me.RequestType8=me.RequestType7=me.RequestType6=me.RequestType5=me.RequestType4=me.RequestType3=me.RequestType2=me.RequestType1=me.RequestType=me.RequestType0=me.AbstractMessageSignature=me.ParameterStructures=me.ResponseError=me.ErrorCodes=void 0;var os=Qs(),$T;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})($T=me.ErrorCodes||(me.ErrorCodes={}));var lg=class t extends Error{constructor(e,n,i){super(n),this.code=os.number(e)?e:$T.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};me.ResponseError=lg;var Ln=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};me.ParameterStructures=Ln;Ln.auto=new Ln("auto");Ln.byPosition=new Ln("byPosition");Ln.byName=new Ln("byName");var ft=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Ln.auto}};me.AbstractMessageSignature=ft;var dg=class extends ft{constructor(e){super(e,0)}};me.RequestType0=dg;var fg=class extends ft{constructor(e,n=Ln.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.RequestType=fg;var hg=class extends ft{constructor(e,n=Ln.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.RequestType1=hg;var pg=class extends ft{constructor(e){super(e,2)}};me.RequestType2=pg;var gg=class extends ft{constructor(e){super(e,3)}};me.RequestType3=gg;var mg=class extends ft{constructor(e){super(e,4)}};me.RequestType4=mg;var yg=class extends ft{constructor(e){super(e,5)}};me.RequestType5=yg;var vg=class extends ft{constructor(e){super(e,6)}};me.RequestType6=vg;var Cg=class extends ft{constructor(e){super(e,7)}};me.RequestType7=Cg;var Sg=class extends ft{constructor(e){super(e,8)}};me.RequestType8=Sg;var Dg=class extends ft{constructor(e){super(e,9)}};me.RequestType9=Dg;var bg=class extends ft{constructor(e,n=Ln.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.NotificationType=bg;var wg=class extends ft{constructor(e){super(e,0)}};me.NotificationType0=wg;var Tg=class extends ft{constructor(e,n=Ln.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};me.NotificationType1=Tg;var Eg=class extends ft{constructor(e){super(e,2)}};me.NotificationType2=Eg;var xg=class extends ft{constructor(e){super(e,3)}};me.NotificationType3=xg;var _g=class extends ft{constructor(e){super(e,4)}};me.NotificationType4=_g;var kg=class extends ft{constructor(e){super(e,5)}};me.NotificationType5=kg;var Fg=class extends ft{constructor(e){super(e,6)}};me.NotificationType6=Fg;var Ag=class extends ft{constructor(e){super(e,7)}};me.NotificationType7=Ag;var Pg=class extends ft{constructor(e){super(e,8)}};me.NotificationType8=Pg;var Rg=class extends ft{constructor(e){super(e,9)}};me.NotificationType9=Rg;var Zq;(function(t){function e(r){let s=r;return s&&os.string(s.method)&&(os.string(s.id)||os.number(s.id))}t.isRequest=e;function n(r){let s=r;return s&&os.string(s.method)&&r.id===void 0}t.isNotification=n;function i(r){let s=r;return s&&(s.result!==void 0||!!s.error)&&(os.string(s.id)||os.number(s.id)||s.id===null)}t.isResponse=i})(Zq=me.Message||(me.Message={}))});var Ng=M(tr=>{"use strict";var WT;Object.defineProperty(tr,"__esModule",{value:!0});tr.LRUCache=tr.LinkedMap=tr.Touch=void 0;var wn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(wn=tr.Touch||(tr.Touch={}));var sl=class{constructor(){this[WT]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=wn.None){let i=this._map.get(e);if(i)return n!==wn.None&&this.touch(i,n),i.value}set(e,n,i=wn.None){let r=this._map.get(e);if(r)r.value=n,i!==wn.None&&this.touch(r,i);else{switch(r={key:e,value:n,next:void 0,previous:void 0},i){case wn.None:this.addItemLast(r);break;case wn.First:this.addItemFirst(r);break;case wn.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let i=this._state,r=this._head;for(;r;){if(n?e.bind(n)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.key,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}values(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:n.value,done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}entries(){let e=this._state,n=this._head,i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let r={value:[n.key,n.value],done:!1};return n=n.next,r}else return{value:void 0,done:!0}}};return i}[(WT=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,i=this.size;for(;n&&i>e;)this._map.delete(n.key),n=n.next,i--;this._head=n,this._size=i,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,i=e.previous;if(!n||!i)throw new Error("Invalid list");n.previous=i,i.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==wn.First&&n!==wn.Last)){if(n===wn.First){if(e===this._head)return;let i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===wn.Last){if(e===this._tail)return;let i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,i)=>{e.push([i,n])}),e}fromJSON(e){this.clear();for(let[n,i]of e)this.set(n,i)}};tr.LinkedMap=sl;var Mg=class extends sl{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=wn.AsNew){return super.get(e,n)}peek(e){return super.get(e,wn.None)}set(e,n){return super.set(e,n,wn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};tr.LRUCache=Mg});var HT=M(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.Disposable=void 0;var e2;(function(t){function e(n){return{dispose:n}}t.create=e})(e2=xa.Disposable||(xa.Disposable={}))});var Rr=M(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});var Og;function Lg(){if(Og===void 0)throw new Error("No runtime abstraction layer installed");return Og}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Og=n}t.install=e})(Lg||(Lg={}));qg.default=Lg});var Zs=M(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.Emitter=as.Event=void 0;var t2=Rr(),n2;(function(t){let e={dispose(){}};t.None=function(){return e}})(n2=as.Event||(as.Event={}));var Ug=class{add(e,n=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(i)&&i.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let i=!1;for(let r=0,s=this._callbacks.length;r<s;r++)if(this._callbacks[r]===e)if(this._contexts[r]===n){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else i=!0;if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],i=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=i.length;s<o;s++)try{n.push(i[s].apply(r[s],e))}catch(a){(0,t2.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},ol=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,i)=>{this._callbacks||(this._callbacks=new Ug),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),r.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};as.Emitter=ol;ol._noop=function(){}});var cl=M(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.CancellationTokenSource=cs.CancellationToken=void 0;var i2=Rr(),r2=Qs(),Bg=Zs(),Kg;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Bg.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Bg.Event.None});function e(n){let i=n;return i&&(i===t.None||i===t.Cancelled||r2.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}t.is=e})(Kg=cs.CancellationToken||(cs.CancellationToken={}));var s2=Object.freeze(function(t,e){let n=(0,i2.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),al=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s2:(this._emitter||(this._emitter=new Bg.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},jg=class{get token(){return this._token||(this._token=new al),this._token}cancel(){this._token?this._token.cancel():this._token=Kg.Cancelled}dispose(){this._token?this._token instanceof al&&this._token.dispose():this._token=Kg.None}};cs.CancellationTokenSource=jg});var VT=M(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.SharedArrayReceiverStrategy=eo.SharedArraySenderStrategy=void 0;var o2=cl(),_a;(function(t){t.Continue=0,t.Cancelled=1})(_a||(_a={}));var $g=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),i=new Int32Array(n,0,1);i[0]=_a.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let i=this.buffers.get(n);if(i===void 0)return;let r=new Int32Array(i,0,1);Atomics.store(r,0,_a.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};eo.SharedArraySenderStrategy=$g;var Wg=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===_a.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Hg=class{constructor(e){this.token=new Wg(e)}cancel(){}dispose(){}},Vg=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new o2.CancellationTokenSource:new Hg(n)}};eo.SharedArrayReceiverStrategy=Vg});var Gg=M(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.Semaphore=void 0;var a2=Rr(),zg=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,a2.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};ul.Semaphore=zg});var zT=M(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.ReadableStreamMessageReader=nr.AbstractMessageReader=nr.MessageReader=void 0;var Xg=Rr(),to=Qs(),Jg=Zs(),c2=Gg(),u2;(function(t){function e(n){let i=n;return i&&to.func(i.listen)&&to.func(i.dispose)&&to.func(i.onError)&&to.func(i.onClose)&&to.func(i.onPartialMessage)}t.is=e})(u2=nr.MessageReader||(nr.MessageReader={}));var ll=class{constructor(){this.errorEmitter=new Jg.Emitter,this.closeEmitter=new Jg.Emitter,this.partialMessageEmitter=new Jg.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${to.string(e.message)?e.message:"unknown"}`)}};nr.AbstractMessageReader=ll;var Yg;(function(t){function e(n){let i,r,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let d of n.contentDecoders)o.set(d.name,d);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let d of n.contentTypeDecoders)c.set(d.name,d)}return a===void 0&&(a=(0,Xg.default)().applicationJson.decoder,c.set(a.name,a)),{charset:i,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(Yg||(Yg={}));var Qg=class extends ll{constructor(e,n){super(),this.readable=e,this.options=Yg.fromOptions(n),this.buffer=(0,Xg.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new c2.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(i=>{this.onData(i)});return this.readable.onError(i=>this.fireError(i)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders(!0);if(!i)return;let r=i.get("content-length");if(!r){this.fireError(new Error("Header must provide a Content-Length property."));return}let s=parseInt(r);if(isNaN(s)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let i=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,r=await this.options.contentTypeDecoder.decode(i,this.options);this.callback(r)}).catch(i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Xg.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};nr.ReadableStreamMessageReader=Qg});var YT=M(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.WriteableStreamMessageWriter=ir.AbstractMessageWriter=ir.MessageWriter=void 0;var GT=Rr(),ka=Qs(),l2=Gg(),JT=Zs(),d2="Content-Length: ",XT=`\r
`,f2;(function(t){function e(n){let i=n;return i&&ka.func(i.dispose)&&ka.func(i.onClose)&&ka.func(i.onError)&&ka.func(i.write)}t.is=e})(f2=ir.MessageWriter||(ir.MessageWriter={}));var dl=class{constructor(){this.errorEmitter=new JT.Emitter,this.closeEmitter=new JT.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,i){this.errorEmitter.fire([this.asError(e),n,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ka.string(e.message)?e.message:"unknown"}`)}};ir.AbstractMessageWriter=dl;var Zg;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,GT.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,GT.default)().applicationJson.encoder}}t.fromOptions=e})(Zg||(Zg={}));var em=class extends dl{constructor(e,n){super(),this.writable=e,this.options=Zg.fromOptions(n),this.errorCount=0,this.writeSemaphore=new l2.Semaphore(1),this.writable.onError(i=>this.fireError(i)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(i=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(i):i).then(i=>{let r=[];return r.push(d2,i.byteLength.toString(),XT),r.push(XT),this.doWrite(e,r,i)},i=>{throw this.fireError(i),i}))}async doWrite(e,n,i){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(i)}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};ir.WriteableStreamMessageWriter=em});var QT=M(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.AbstractMessageBuffer=void 0;var h2=13,p2=10,g2=`\r
`,tm=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,i=0,r=0,s=0;e:for(;i<this._chunks.length;){let d=this._chunks[i];for(r=0;r<d.length;){switch(d[r]){case h2:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case p2:switch(n){case 1:n=2;break;case 3:n=4,r++;break e;default:n=0}break;default:n=0}r++}s+=d.byteLength,i++}if(n!==4)return;let o=this._read(s+r),a=new Map,c=this.toString(o,"ascii").split(g2);if(c.length<2)return a;for(let d=0;d<c.length-2;d++){let p=c[d],m=p.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");let f=p.substr(0,m),u=p.substr(m+1).trim();a.set(e?f.toLowerCase():f,u)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),i=0,r=0;for(;e>0;){let s=this._chunks[r];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,i),i+=e,this._chunks[r]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};fl.AbstractMessageBuffer=tm});var sE=M(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.createMessageConnection=pe.ConnectionOptions=pe.MessageStrategy=pe.CancellationStrategy=pe.CancellationSenderStrategy=pe.CancellationReceiverStrategy=pe.RequestCancellationReceiverStrategy=pe.IdCancellationReceiverStrategy=pe.ConnectionStrategy=pe.ConnectionError=pe.ConnectionErrors=pe.LogTraceNotification=pe.SetTraceNotification=pe.TraceFormat=pe.TraceValues=pe.Trace=pe.NullLogger=pe.ProgressType=pe.ProgressToken=void 0;var ZT=Rr(),Ct=Qs(),ve=Ig(),eE=Ng(),Fa=Zs(),nm=cl(),Pa;(function(t){t.type=new ve.NotificationType("$/cancelRequest")})(Pa||(Pa={}));var tE;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(tE=pe.ProgressToken||(pe.ProgressToken={}));var Aa;(function(t){t.type=new ve.NotificationType("$/progress")})(Aa||(Aa={}));var im=class{constructor(){}};pe.ProgressType=im;var rm;(function(t){function e(n){return Ct.func(n)}t.is=e})(rm||(rm={}));pe.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ot;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(ot=pe.Trace||(pe.Trace={}));var m2;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(m2=pe.TraceValues||(pe.TraceValues={}));(function(t){function e(i){if(!Ct.string(i))return t.Off;switch(i=i.toLowerCase(),i){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(i){switch(i){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ot=pe.Trace||(pe.Trace={}));var Ci;(function(t){t.Text="text",t.JSON="json"})(Ci=pe.TraceFormat||(pe.TraceFormat={}));(function(t){function e(n){return Ct.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Ci=pe.TraceFormat||(pe.TraceFormat={}));var nE;(function(t){t.type=new ve.NotificationType("$/setTrace")})(nE=pe.SetTraceNotification||(pe.SetTraceNotification={}));var sm;(function(t){t.type=new ve.NotificationType("$/logTrace")})(sm=pe.LogTraceNotification||(pe.LogTraceNotification={}));var hl;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(hl=pe.ConnectionErrors||(pe.ConnectionErrors={}));var no=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};pe.ConnectionError=no;var iE;(function(t){function e(n){let i=n;return i&&Ct.func(i.cancelUndispatched)}t.is=e})(iE=pe.ConnectionStrategy||(pe.ConnectionStrategy={}));var cm;(function(t){function e(n){let i=n;return i&&(i.kind===void 0||i.kind==="id")&&Ct.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Ct.func(i.dispose))}t.is=e})(cm=pe.IdCancellationReceiverStrategy||(pe.IdCancellationReceiverStrategy={}));var rE;(function(t){function e(n){let i=n;return i&&i.kind==="request"&&Ct.func(i.createCancellationTokenSource)&&(i.dispose===void 0||Ct.func(i.dispose))}t.is=e})(rE=pe.RequestCancellationReceiverStrategy||(pe.RequestCancellationReceiverStrategy={}));var om;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new nm.CancellationTokenSource}});function e(n){return cm.is(n)||rE.is(n)}t.is=e})(om=pe.CancellationReceiverStrategy||(pe.CancellationReceiverStrategy={}));var am;(function(t){t.Message=Object.freeze({sendCancellation(n,i){return n.sendNotification(Pa.type,{id:i})},cleanup(n){}});function e(n){let i=n;return i&&Ct.func(i.sendCancellation)&&Ct.func(i.cleanup)}t.is=e})(am=pe.CancellationSenderStrategy||(pe.CancellationSenderStrategy={}));var um;(function(t){t.Message=Object.freeze({receiver:om.Message,sender:am.Message});function e(n){let i=n;return i&&om.is(i.receiver)&&am.is(i.sender)}t.is=e})(um=pe.CancellationStrategy||(pe.CancellationStrategy={}));var lm;(function(t){function e(n){let i=n;return i&&Ct.func(i.handleMessage)}t.is=e})(lm=pe.MessageStrategy||(pe.MessageStrategy={}));var y2;(function(t){function e(n){let i=n;return i&&(um.is(i.cancellationStrategy)||iE.is(i.connectionStrategy)||lm.is(i.messageStrategy))}t.is=e})(y2=pe.ConnectionOptions||(pe.ConnectionOptions={}));var Si;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Si||(Si={}));function v2(t,e,n,i){let r=n!==void 0?n:pe.NullLogger,s=0,o=0,a=0,c="2.0",d,p=new Map,m,f=new Map,u=new Map,l,h=new eE.LinkedMap,y=new Map,S=new Set,D=new Map,x=ot.Off,F=Ci.Text,A,N=Si.New,q=new Fa.Emitter,$=new Fa.Emitter,J=new Fa.Emitter,Z=new Fa.Emitter,le=new Fa.Emitter,ce=i&&i.cancellationStrategy?i.cancellationStrategy:um.Message;function X(I){if(I===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+I.toString()}function H(I){return I===null?"res-unknown-"+(++a).toString():"res-"+I.toString()}function ee(){return"not-"+(++o).toString()}function re(I,V){ve.Message.isRequest(V)?I.set(X(V.id),V):ve.Message.isResponse(V)?I.set(H(V.id),V):I.set(ee(),V)}function we(I){}function de(){return N===Si.Listening}function ue(){return N===Si.Closed}function Ke(){return N===Si.Disposed}function nt(){(N===Si.New||N===Si.Listening)&&(N=Si.Closed,$.fire(void 0))}function je(I){q.fire([I,void 0,void 0])}function it(I){q.fire(I)}t.onClose(nt),t.onError(je),e.onClose(nt),e.onError(it);function rt(){l||h.size===0||(l=(0,ZT.default)().timer.setImmediate(()=>{l=void 0,Kt()}))}function Bt(I){ve.Message.isRequest(I)?ni(I):ve.Message.isNotification(I)?Kn(I):ve.Message.isResponse(I)?un(I):Mn(I)}function Kt(){if(h.size===0)return;let I=h.shift();try{let V=i?.messageStrategy;lm.is(V)?V.handleMessage(I,Bt):Bt(I)}finally{rt()}}let Cn=I=>{try{if(ve.Message.isNotification(I)&&I.method===Pa.type.method){let V=I.params.id,te=X(V),ae=h.get(te);if(ve.Message.isRequest(ae)){let Oe=i?.connectionStrategy,qe=Oe&&Oe.cancelUndispatched?Oe.cancelUndispatched(ae,we):void 0;if(qe&&(qe.error!==void 0||qe.result!==void 0)){h.delete(te),D.delete(V),qe.id=ae.id,Zt(qe,I.method,Date.now()),e.write(qe).catch(()=>r.error("Sending response for canceled message failed."));return}}let Ne=D.get(V);if(Ne!==void 0){Ne.cancel(),De(I);return}else S.add(V)}re(h,I)}finally{rt()}};function ni(I){if(Ke())return;function V(Te,Ae,w){let _={jsonrpc:c,id:I.id};Te instanceof ve.ResponseError?_.error=Te.toJson():_.result=Te===void 0?null:Te,Zt(_,Ae,w),e.write(_).catch(()=>r.error("Sending response failed."))}function te(Te,Ae,w){let _={jsonrpc:c,id:I.id,error:Te.toJson()};Zt(_,Ae,w),e.write(_).catch(()=>r.error("Sending response failed."))}function ae(Te,Ae,w){Te===void 0&&(Te=null);let _={jsonrpc:c,id:I.id,result:Te};Zt(_,Ae,w),e.write(_).catch(()=>r.error("Sending response failed."))}$n(I);let Ne=p.get(I.method),Oe,qe;Ne&&(Oe=Ne.type,qe=Ne.handler);let ze=Date.now();if(qe||d){let Te=I.id??String(Date.now()),Ae=cm.is(ce.receiver)?ce.receiver.createCancellationTokenSource(Te):ce.receiver.createCancellationTokenSource(I);I.id!==null&&S.has(I.id)&&Ae.cancel(),I.id!==null&&D.set(Te,Ae);try{let w;if(qe)if(I.params===void 0){if(Oe!==void 0&&Oe.numberOfParams!==0){te(new ve.ResponseError(ve.ErrorCodes.InvalidParams,`Request ${I.method} defines ${Oe.numberOfParams} params but received none.`),I.method,ze);return}w=qe(Ae.token)}else if(Array.isArray(I.params)){if(Oe!==void 0&&Oe.parameterStructures===ve.ParameterStructures.byName){te(new ve.ResponseError(ve.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by name but received parameters by position`),I.method,ze);return}w=qe(...I.params,Ae.token)}else{if(Oe!==void 0&&Oe.parameterStructures===ve.ParameterStructures.byPosition){te(new ve.ResponseError(ve.ErrorCodes.InvalidParams,`Request ${I.method} defines parameters by position but received parameters by name`),I.method,ze);return}w=qe(I.params,Ae.token)}else d&&(w=d(I.method,I.params,Ae.token));let _=w;w?_.then?_.then(L=>{D.delete(Te),V(L,I.method,ze)},L=>{D.delete(Te),L instanceof ve.ResponseError?te(L,I.method,ze):L&&Ct.string(L.message)?te(new ve.ResponseError(ve.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${L.message}`),I.method,ze):te(new ve.ResponseError(ve.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,ze)}):(D.delete(Te),V(w,I.method,ze)):(D.delete(Te),ae(w,I.method,ze))}catch(w){D.delete(Te),w instanceof ve.ResponseError?V(w,I.method,ze):w&&Ct.string(w.message)?te(new ve.ResponseError(ve.ErrorCodes.InternalError,`Request ${I.method} failed with message: ${w.message}`),I.method,ze):te(new ve.ResponseError(ve.ErrorCodes.InternalError,`Request ${I.method} failed unexpectedly without providing any details.`),I.method,ze)}}else te(new ve.ResponseError(ve.ErrorCodes.MethodNotFound,`Unhandled method ${I.method}`),I.method,ze)}function un(I){if(!Ke())if(I.id===null)I.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(I.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let V=I.id,te=y.get(V);if(_e(I,te),te!==void 0){y.delete(V);try{if(I.error){let ae=I.error;te.reject(new ve.ResponseError(ae.code,ae.message,ae.data))}else if(I.result!==void 0)te.resolve(I.result);else throw new Error("Should never happen.")}catch(ae){ae.message?r.error(`Response handler '${te.method}' failed with message: ${ae.message}`):r.error(`Response handler '${te.method}' failed unexpectedly.`)}}}}function Kn(I){if(Ke())return;let V,te;if(I.method===Pa.type.method){let ae=I.params.id;S.delete(ae),De(I);return}else{let ae=f.get(I.method);ae&&(te=ae.handler,V=ae.type)}if(te||m)try{if(De(I),te)if(I.params===void 0)V!==void 0&&V.numberOfParams!==0&&V.parameterStructures!==ve.ParameterStructures.byName&&r.error(`Notification ${I.method} defines ${V.numberOfParams} params but received none.`),te();else if(Array.isArray(I.params)){let ae=I.params;I.method===Aa.type.method&&ae.length===2&&tE.is(ae[0])?te({token:ae[0],value:ae[1]}):(V!==void 0&&(V.parameterStructures===ve.ParameterStructures.byName&&r.error(`Notification ${I.method} defines parameters by name but received parameters by position`),V.numberOfParams!==I.params.length&&r.error(`Notification ${I.method} defines ${V.numberOfParams} params but received ${ae.length} arguments`)),te(...ae))}else V!==void 0&&V.parameterStructures===ve.ParameterStructures.byPosition&&r.error(`Notification ${I.method} defines parameters by position but received parameters by name`),te(I.params);else m&&m(I.method,I.params)}catch(ae){ae.message?r.error(`Notification handler '${I.method}' failed with message: ${ae.message}`):r.error(`Notification handler '${I.method}' failed unexpectedly.`)}else J.fire(I)}function Mn(I){if(!I){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(I,null,4)}`);let V=I;if(Ct.string(V.id)||Ct.number(V.id)){let te=V.id,ae=y.get(te);ae&&ae.reject(new Error("The received response has neither a result nor an error property."))}}function lt(I){if(I!=null)switch(x){case ot.Verbose:return JSON.stringify(I,null,4);case ot.Compact:return JSON.stringify(I);default:return}}function jn(I){if(!(x===ot.Off||!A))if(F===Ci.Text){let V;(x===ot.Verbose||x===ot.Compact)&&I.params&&(V=`Params: ${lt(I.params)}

`),A.log(`Sending request '${I.method} - (${I.id})'.`,V)}else dt("send-request",I)}function Sn(I){if(!(x===ot.Off||!A))if(F===Ci.Text){let V;(x===ot.Verbose||x===ot.Compact)&&(I.params?V=`Params: ${lt(I.params)}

`:V=`No parameters provided.

`),A.log(`Sending notification '${I.method}'.`,V)}else dt("send-notification",I)}function Zt(I,V,te){if(!(x===ot.Off||!A))if(F===Ci.Text){let ae;(x===ot.Verbose||x===ot.Compact)&&(I.error&&I.error.data?ae=`Error data: ${lt(I.error.data)}

`:I.result?ae=`Result: ${lt(I.result)}

`:I.error===void 0&&(ae=`No result returned.

`)),A.log(`Sending response '${V} - (${I.id})'. Processing request took ${Date.now()-te}ms`,ae)}else dt("send-response",I)}function $n(I){if(!(x===ot.Off||!A))if(F===Ci.Text){let V;(x===ot.Verbose||x===ot.Compact)&&I.params&&(V=`Params: ${lt(I.params)}

`),A.log(`Received request '${I.method} - (${I.id})'.`,V)}else dt("receive-request",I)}function De(I){if(!(x===ot.Off||!A||I.method===sm.type.method))if(F===Ci.Text){let V;(x===ot.Verbose||x===ot.Compact)&&(I.params?V=`Params: ${lt(I.params)}

`:V=`No parameters provided.

`),A.log(`Received notification '${I.method}'.`,V)}else dt("receive-notification",I)}function _e(I,V){if(!(x===ot.Off||!A))if(F===Ci.Text){let te;if((x===ot.Verbose||x===ot.Compact)&&(I.error&&I.error.data?te=`Error data: ${lt(I.error.data)}

`:I.result?te=`Result: ${lt(I.result)}

`:I.error===void 0&&(te=`No result returned.

`)),V){let ae=I.error?` Request failed: ${I.error.message} (${I.error.code}).`:"";A.log(`Received response '${V.method} - (${I.id})' in ${Date.now()-V.timerStart}ms.${ae}`,te)}else A.log(`Received response ${I.id} without active response promise.`,te)}else dt("receive-response",I)}function dt(I,V){if(!A||x===ot.Off)return;let te={isLSPMessage:!0,type:I,message:V,timestamp:Date.now()};A.log(te)}function en(){if(ue())throw new no(hl.Closed,"Connection is closed.");if(Ke())throw new no(hl.Disposed,"Connection is disposed.")}function jt(){if(de())throw new no(hl.AlreadyListening,"Connection is already listening")}function Wn(){if(!de())throw new Error("Call listen() first.")}function zt(I){return I===void 0?null:I}function Hn(I){if(I!==null)return I}function ii(I){return I!=null&&!Array.isArray(I)&&typeof I=="object"}function Gt(I,V){switch(I){case ve.ParameterStructures.auto:return ii(V)?Hn(V):[zt(V)];case ve.ParameterStructures.byName:if(!ii(V))throw new Error("Received parameters by name but param is not an object literal.");return Hn(V);case ve.ParameterStructures.byPosition:return[zt(V)];default:throw new Error(`Unknown parameter structure ${I.toString()}`)}}function tn(I,V){let te,ae=I.numberOfParams;switch(ae){case 0:te=void 0;break;case 1:te=Gt(I.parameterStructures,V[0]);break;default:te=[];for(let Ne=0;Ne<V.length&&Ne<ae;Ne++)te.push(zt(V[Ne]));if(V.length<ae)for(let Ne=V.length;Ne<ae;Ne++)te.push(null);break}return te}let $t={sendNotification:(I,...V)=>{en();let te,ae;if(Ct.string(I)){te=I;let Oe=V[0],qe=0,ze=ve.ParameterStructures.auto;ve.ParameterStructures.is(Oe)&&(qe=1,ze=Oe);let Te=V.length,Ae=Te-qe;switch(Ae){case 0:ae=void 0;break;case 1:ae=Gt(ze,V[qe]);break;default:if(ze===ve.ParameterStructures.byName)throw new Error(`Received ${Ae} parameters for 'by Name' notification parameter structure.`);ae=V.slice(qe,Te).map(w=>zt(w));break}}else{let Oe=V;te=I.method,ae=tn(I,Oe)}let Ne={jsonrpc:c,method:te,params:ae};return Sn(Ne),e.write(Ne).catch(Oe=>{throw r.error("Sending notification failed."),Oe})},onNotification:(I,V)=>{en();let te;return Ct.func(I)?m=I:V&&(Ct.string(I)?(te=I,f.set(I,{type:void 0,handler:V})):(te=I.method,f.set(I.method,{type:I,handler:V}))),{dispose:()=>{te!==void 0?f.delete(te):m=void 0}}},onProgress:(I,V,te)=>{if(u.has(V))throw new Error(`Progress handler for token ${V} already registered`);return u.set(V,te),{dispose:()=>{u.delete(V)}}},sendProgress:(I,V,te)=>$t.sendNotification(Aa.type,{token:V,value:te}),onUnhandledProgress:Z.event,sendRequest:(I,...V)=>{en(),Wn();let te,ae,Ne;if(Ct.string(I)){te=I;let Te=V[0],Ae=V[V.length-1],w=0,_=ve.ParameterStructures.auto;ve.ParameterStructures.is(Te)&&(w=1,_=Te);let L=V.length;nm.CancellationToken.is(Ae)&&(L=L-1,Ne=Ae);let W=L-w;switch(W){case 0:ae=void 0;break;case 1:ae=Gt(_,V[w]);break;default:if(_===ve.ParameterStructures.byName)throw new Error(`Received ${W} parameters for 'by Name' request parameter structure.`);ae=V.slice(w,L).map(R=>zt(R));break}}else{let Te=V;te=I.method,ae=tn(I,Te);let Ae=I.numberOfParams;Ne=nm.CancellationToken.is(Te[Ae])?Te[Ae]:void 0}let Oe=s++,qe;Ne&&(qe=Ne.onCancellationRequested(()=>{let Te=ce.sender.sendCancellation($t,Oe);return Te===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${Oe}`),Promise.resolve()):Te.catch(()=>{r.log(`Sending cancellation messages for id ${Oe} failed`)})}));let ze={jsonrpc:c,id:Oe,method:te,params:ae};return jn(ze),typeof ce.sender.enableCancellation=="function"&&ce.sender.enableCancellation(ze),new Promise(async(Te,Ae)=>{let w=W=>{Te(W),ce.sender.cleanup(Oe),qe?.dispose()},_=W=>{Ae(W),ce.sender.cleanup(Oe),qe?.dispose()},L={method:te,timerStart:Date.now(),resolve:w,reject:_};try{await e.write(ze),y.set(Oe,L)}catch(W){throw r.error("Sending request failed."),L.reject(new ve.ResponseError(ve.ErrorCodes.MessageWriteError,W.message?W.message:"Unknown reason")),W}})},onRequest:(I,V)=>{en();let te=null;return rm.is(I)?(te=void 0,d=I):Ct.string(I)?(te=null,V!==void 0&&(te=I,p.set(I,{handler:V,type:void 0}))):V!==void 0&&(te=I.method,p.set(I.method,{type:I,handler:V})),{dispose:()=>{te!==null&&(te!==void 0?p.delete(te):d=void 0)}}},hasPendingResponse:()=>y.size>0,trace:async(I,V,te)=>{let ae=!1,Ne=Ci.Text;te!==void 0&&(Ct.boolean(te)?ae=te:(ae=te.sendNotification||!1,Ne=te.traceFormat||Ci.Text)),x=I,F=Ne,x===ot.Off?A=void 0:A=V,ae&&!ue()&&!Ke()&&await $t.sendNotification(nE.type,{value:ot.toString(I)})},onError:q.event,onClose:$.event,onUnhandledNotification:J.event,onDispose:le.event,end:()=>{e.end()},dispose:()=>{if(Ke())return;N=Si.Disposed,le.fire(void 0);let I=new ve.ResponseError(ve.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let V of y.values())V.reject(I);y=new Map,D=new Map,S=new Set,h=new eE.LinkedMap,Ct.func(e.dispose)&&e.dispose(),Ct.func(t.dispose)&&t.dispose()},listen:()=>{en(),jt(),N=Si.Listening,t.listen(Cn)},inspect:()=>{(0,ZT.default)().console.log("inspect")}};return $t.onNotification(sm.type,I=>{if(x===ot.Off||!A)return;let V=x===ot.Verbose||x===ot.Compact;A.log(I.message,V?I.verbose:void 0)}),$t.onNotification(Aa.type,I=>{let V=u.get(I.token);V?V(I.value):Z.fire(I)}),$t}pe.createMessageConnection=v2});var pl=M(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.ProgressType=z.ProgressToken=z.createMessageConnection=z.NullLogger=z.ConnectionOptions=z.ConnectionStrategy=z.AbstractMessageBuffer=z.WriteableStreamMessageWriter=z.AbstractMessageWriter=z.MessageWriter=z.ReadableStreamMessageReader=z.AbstractMessageReader=z.MessageReader=z.SharedArrayReceiverStrategy=z.SharedArraySenderStrategy=z.CancellationToken=z.CancellationTokenSource=z.Emitter=z.Event=z.Disposable=z.LRUCache=z.Touch=z.LinkedMap=z.ParameterStructures=z.NotificationType9=z.NotificationType8=z.NotificationType7=z.NotificationType6=z.NotificationType5=z.NotificationType4=z.NotificationType3=z.NotificationType2=z.NotificationType1=z.NotificationType0=z.NotificationType=z.ErrorCodes=z.ResponseError=z.RequestType9=z.RequestType8=z.RequestType7=z.RequestType6=z.RequestType5=z.RequestType4=z.RequestType3=z.RequestType2=z.RequestType1=z.RequestType0=z.RequestType=z.Message=z.RAL=void 0;z.MessageStrategy=z.CancellationStrategy=z.CancellationSenderStrategy=z.CancellationReceiverStrategy=z.ConnectionError=z.ConnectionErrors=z.LogTraceNotification=z.SetTraceNotification=z.TraceFormat=z.TraceValues=z.Trace=void 0;var ut=Ig();Object.defineProperty(z,"Message",{enumerable:!0,get:function(){return ut.Message}});Object.defineProperty(z,"RequestType",{enumerable:!0,get:function(){return ut.RequestType}});Object.defineProperty(z,"RequestType0",{enumerable:!0,get:function(){return ut.RequestType0}});Object.defineProperty(z,"RequestType1",{enumerable:!0,get:function(){return ut.RequestType1}});Object.defineProperty(z,"RequestType2",{enumerable:!0,get:function(){return ut.RequestType2}});Object.defineProperty(z,"RequestType3",{enumerable:!0,get:function(){return ut.RequestType3}});Object.defineProperty(z,"RequestType4",{enumerable:!0,get:function(){return ut.RequestType4}});Object.defineProperty(z,"RequestType5",{enumerable:!0,get:function(){return ut.RequestType5}});Object.defineProperty(z,"RequestType6",{enumerable:!0,get:function(){return ut.RequestType6}});Object.defineProperty(z,"RequestType7",{enumerable:!0,get:function(){return ut.RequestType7}});Object.defineProperty(z,"RequestType8",{enumerable:!0,get:function(){return ut.RequestType8}});Object.defineProperty(z,"RequestType9",{enumerable:!0,get:function(){return ut.RequestType9}});Object.defineProperty(z,"ResponseError",{enumerable:!0,get:function(){return ut.ResponseError}});Object.defineProperty(z,"ErrorCodes",{enumerable:!0,get:function(){return ut.ErrorCodes}});Object.defineProperty(z,"NotificationType",{enumerable:!0,get:function(){return ut.NotificationType}});Object.defineProperty(z,"NotificationType0",{enumerable:!0,get:function(){return ut.NotificationType0}});Object.defineProperty(z,"NotificationType1",{enumerable:!0,get:function(){return ut.NotificationType1}});Object.defineProperty(z,"NotificationType2",{enumerable:!0,get:function(){return ut.NotificationType2}});Object.defineProperty(z,"NotificationType3",{enumerable:!0,get:function(){return ut.NotificationType3}});Object.defineProperty(z,"NotificationType4",{enumerable:!0,get:function(){return ut.NotificationType4}});Object.defineProperty(z,"NotificationType5",{enumerable:!0,get:function(){return ut.NotificationType5}});Object.defineProperty(z,"NotificationType6",{enumerable:!0,get:function(){return ut.NotificationType6}});Object.defineProperty(z,"NotificationType7",{enumerable:!0,get:function(){return ut.NotificationType7}});Object.defineProperty(z,"NotificationType8",{enumerable:!0,get:function(){return ut.NotificationType8}});Object.defineProperty(z,"NotificationType9",{enumerable:!0,get:function(){return ut.NotificationType9}});Object.defineProperty(z,"ParameterStructures",{enumerable:!0,get:function(){return ut.ParameterStructures}});var dm=Ng();Object.defineProperty(z,"LinkedMap",{enumerable:!0,get:function(){return dm.LinkedMap}});Object.defineProperty(z,"LRUCache",{enumerable:!0,get:function(){return dm.LRUCache}});Object.defineProperty(z,"Touch",{enumerable:!0,get:function(){return dm.Touch}});var C2=HT();Object.defineProperty(z,"Disposable",{enumerable:!0,get:function(){return C2.Disposable}});var oE=Zs();Object.defineProperty(z,"Event",{enumerable:!0,get:function(){return oE.Event}});Object.defineProperty(z,"Emitter",{enumerable:!0,get:function(){return oE.Emitter}});var aE=cl();Object.defineProperty(z,"CancellationTokenSource",{enumerable:!0,get:function(){return aE.CancellationTokenSource}});Object.defineProperty(z,"CancellationToken",{enumerable:!0,get:function(){return aE.CancellationToken}});var cE=VT();Object.defineProperty(z,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return cE.SharedArraySenderStrategy}});Object.defineProperty(z,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return cE.SharedArrayReceiverStrategy}});var fm=zT();Object.defineProperty(z,"MessageReader",{enumerable:!0,get:function(){return fm.MessageReader}});Object.defineProperty(z,"AbstractMessageReader",{enumerable:!0,get:function(){return fm.AbstractMessageReader}});Object.defineProperty(z,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return fm.ReadableStreamMessageReader}});var hm=YT();Object.defineProperty(z,"MessageWriter",{enumerable:!0,get:function(){return hm.MessageWriter}});Object.defineProperty(z,"AbstractMessageWriter",{enumerable:!0,get:function(){return hm.AbstractMessageWriter}});Object.defineProperty(z,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return hm.WriteableStreamMessageWriter}});var S2=QT();Object.defineProperty(z,"AbstractMessageBuffer",{enumerable:!0,get:function(){return S2.AbstractMessageBuffer}});var sn=sE();Object.defineProperty(z,"ConnectionStrategy",{enumerable:!0,get:function(){return sn.ConnectionStrategy}});Object.defineProperty(z,"ConnectionOptions",{enumerable:!0,get:function(){return sn.ConnectionOptions}});Object.defineProperty(z,"NullLogger",{enumerable:!0,get:function(){return sn.NullLogger}});Object.defineProperty(z,"createMessageConnection",{enumerable:!0,get:function(){return sn.createMessageConnection}});Object.defineProperty(z,"ProgressToken",{enumerable:!0,get:function(){return sn.ProgressToken}});Object.defineProperty(z,"ProgressType",{enumerable:!0,get:function(){return sn.ProgressType}});Object.defineProperty(z,"Trace",{enumerable:!0,get:function(){return sn.Trace}});Object.defineProperty(z,"TraceValues",{enumerable:!0,get:function(){return sn.TraceValues}});Object.defineProperty(z,"TraceFormat",{enumerable:!0,get:function(){return sn.TraceFormat}});Object.defineProperty(z,"SetTraceNotification",{enumerable:!0,get:function(){return sn.SetTraceNotification}});Object.defineProperty(z,"LogTraceNotification",{enumerable:!0,get:function(){return sn.LogTraceNotification}});Object.defineProperty(z,"ConnectionErrors",{enumerable:!0,get:function(){return sn.ConnectionErrors}});Object.defineProperty(z,"ConnectionError",{enumerable:!0,get:function(){return sn.ConnectionError}});Object.defineProperty(z,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return sn.CancellationReceiverStrategy}});Object.defineProperty(z,"CancellationSenderStrategy",{enumerable:!0,get:function(){return sn.CancellationSenderStrategy}});Object.defineProperty(z,"CancellationStrategy",{enumerable:!0,get:function(){return sn.CancellationStrategy}});Object.defineProperty(z,"MessageStrategy",{enumerable:!0,get:function(){return sn.MessageStrategy}});var D2=Rr();z.RAL=D2.default});var dE=M(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});var uE=require("util"),rr=pl(),gl=class t extends rr.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new uE.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};gl.emptyBuffer=Buffer.allocUnsafe(0);var pm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),rr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),rr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),rr.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),rr.Disposable.create(()=>this.stream.off("data",e))}},gm=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),rr.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),rr.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),rr.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((i,r)=>{let s=o=>{o==null?i():r(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},lE=Object.freeze({messageBuffer:Object.freeze({create:t=>new gl(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new uE.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new pm(t),asWritableStream:t=>new gm(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let i=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let i=setInterval(t,e,...n);return{dispose:()=>clearInterval(i)}}})});function mm(){return lE}(function(t){function e(){rr.RAL.install(lE)}t.install=e})(mm||(mm={}));ym.default=mm});var ds=M(Ue=>{"use strict";var b2=Ue&&Ue.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),w2=Ue&&Ue.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&b2(e,t,n)};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createMessageConnection=Ue.createServerSocketTransport=Ue.createClientSocketTransport=Ue.createServerPipeTransport=Ue.createClientPipeTransport=Ue.generateRandomPipeName=Ue.StreamMessageWriter=Ue.StreamMessageReader=Ue.SocketMessageWriter=Ue.SocketMessageReader=Ue.PortMessageWriter=Ue.PortMessageReader=Ue.IPCMessageWriter=Ue.IPCMessageReader=void 0;var io=dE();io.default.install();var fE=require("path"),T2=require("os"),E2=require("crypto"),vl=require("net"),Yn=pl();w2(pl(),Ue);var vm=class extends Yn.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Yn.Disposable.create(()=>this.process.off("message",e))}};Ue.IPCMessageReader=vm;var Cm=class extends Yn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",i=>this.fireError(i)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ue.IPCMessageWriter=Cm;var Sm=class extends Yn.AbstractMessageReader{constructor(e){super(),this.onData=new Yn.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Ue.PortMessageReader=Sm;var Dm=class extends Yn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ue.PortMessageWriter=Dm;var us=class extends Yn.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,io.default)().stream.asReadableStream(e),n)}};Ue.SocketMessageReader=us;var ls=class extends Yn.WriteableStreamMessageWriter{constructor(e,n){super((0,io.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ue.SocketMessageWriter=ls;var ml=class extends Yn.ReadableStreamMessageReader{constructor(e,n){super((0,io.default)().stream.asReadableStream(e),n)}};Ue.StreamMessageReader=ml;var yl=class extends Yn.WriteableStreamMessageWriter{constructor(e,n){super((0,io.default)().stream.asWritableStream(e),n)}};Ue.StreamMessageWriter=yl;var hE=process.env.XDG_RUNTIME_DIR,x2=new Map([["linux",107],["darwin",103]]);function _2(){let t=(0,E2.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;hE?e=fE.join(hE,`vscode-ipc-${t}.sock`):e=fE.join(T2.tmpdir(),`vscode-${t}.sock`);let n=x2.get(process.platform);return n!==void 0&&e.length>n&&(0,io.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ue.generateRandomPipeName=_2;function k2(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,vl.createServer)(a=>{o.close(),n([new us(a,e),new ls(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ue.createClientPipeTransport=k2;function F2(t,e="utf-8"){let n=(0,vl.createConnection)(t);return[new us(n,e),new ls(n,e)]}Ue.createServerPipeTransport=F2;function A2(t,e="utf-8"){let n,i=new Promise((r,s)=>{n=r});return new Promise((r,s)=>{let o=(0,vl.createServer)(a=>{o.close(),n([new us(a,e),new ls(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),r({onConnected:()=>i})})})}Ue.createClientSocketTransport=A2;function P2(t,e="utf-8"){let n=(0,vl.createConnection)(t,"127.0.0.1");return[new us(n,e),new ls(n,e)]}Ue.createServerSocketTransport=P2;function R2(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function I2(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function M2(t,e,n,i){n||(n=Yn.NullLogger);let r=R2(t)?new ml(t):t,s=I2(e)?new yl(e):e;return Yn.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,Yn.createMessageConnection)(r,s,n,i)}Ue.createMessageConnection=M2});var bm=M((k4,pE)=>{"use strict";pE.exports=ds()});var Sl=M((gE,Cl)=>{(function(t){if(typeof Cl=="object"&&typeof Cl.exports=="object"){var e=t(require,gE);e!==void 0&&(Cl.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(T){function O(U){return typeof U=="string"}T.is=O})(n=e.DocumentUri||(e.DocumentUri={}));var i;(function(T){function O(U){return typeof U=="string"}T.is=O})(i=e.URI||(e.URI={}));var r;(function(T){T.MIN_VALUE=-2147483648,T.MAX_VALUE=2147483647;function O(U){return typeof U=="number"&&T.MIN_VALUE<=U&&U<=T.MAX_VALUE}T.is=O})(r=e.integer||(e.integer={}));var s;(function(T){T.MIN_VALUE=0,T.MAX_VALUE=2147483647;function O(U){return typeof U=="number"&&T.MIN_VALUE<=U&&U<=T.MAX_VALUE}T.is=O})(s=e.uinteger||(e.uinteger={}));var o;(function(T){function O(k,b){return k===Number.MAX_VALUE&&(k=s.MAX_VALUE),b===Number.MAX_VALUE&&(b=s.MAX_VALUE),{line:k,character:b}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&R.uinteger(b.line)&&R.uinteger(b.character)}T.is=U})(o=e.Position||(e.Position={}));var a;(function(T){function O(k,b,j,G){if(R.uinteger(k)&&R.uinteger(b)&&R.uinteger(j)&&R.uinteger(G))return{start:o.create(k,b),end:o.create(j,G)};if(o.is(k)&&o.is(b))return{start:k,end:b};throw new Error("Range#create called with invalid arguments[".concat(k,", ").concat(b,", ").concat(j,", ").concat(G,"]"))}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&o.is(b.start)&&o.is(b.end)}T.is=U})(a=e.Range||(e.Range={}));var c;(function(T){function O(k,b){return{uri:k,range:b}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&a.is(b.range)&&(R.string(b.uri)||R.undefined(b.uri))}T.is=U})(c=e.Location||(e.Location={}));var d;(function(T){function O(k,b,j,G){return{targetUri:k,targetRange:b,targetSelectionRange:j,originSelectionRange:G}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&a.is(b.targetRange)&&R.string(b.targetUri)&&a.is(b.targetSelectionRange)&&(a.is(b.originSelectionRange)||R.undefined(b.originSelectionRange))}T.is=U})(d=e.LocationLink||(e.LocationLink={}));var p;(function(T){function O(k,b,j,G){return{red:k,green:b,blue:j,alpha:G}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&R.numberRange(b.red,0,1)&&R.numberRange(b.green,0,1)&&R.numberRange(b.blue,0,1)&&R.numberRange(b.alpha,0,1)}T.is=U})(p=e.Color||(e.Color={}));var m;(function(T){function O(k,b){return{range:k,color:b}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&a.is(b.range)&&p.is(b.color)}T.is=U})(m=e.ColorInformation||(e.ColorInformation={}));var f;(function(T){function O(k,b,j){return{label:k,textEdit:b,additionalTextEdits:j}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&R.string(b.label)&&(R.undefined(b.textEdit)||A.is(b))&&(R.undefined(b.additionalTextEdits)||R.typedArray(b.additionalTextEdits,A.is))}T.is=U})(f=e.ColorPresentation||(e.ColorPresentation={}));var u;(function(T){T.Comment="comment",T.Imports="imports",T.Region="region"})(u=e.FoldingRangeKind||(e.FoldingRangeKind={}));var l;(function(T){function O(k,b,j,G,be,at){var Qe={startLine:k,endLine:b};return R.defined(j)&&(Qe.startCharacter=j),R.defined(G)&&(Qe.endCharacter=G),R.defined(be)&&(Qe.kind=be),R.defined(at)&&(Qe.collapsedText=at),Qe}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&R.uinteger(b.startLine)&&R.uinteger(b.startLine)&&(R.undefined(b.startCharacter)||R.uinteger(b.startCharacter))&&(R.undefined(b.endCharacter)||R.uinteger(b.endCharacter))&&(R.undefined(b.kind)||R.string(b.kind))}T.is=U})(l=e.FoldingRange||(e.FoldingRange={}));var h;(function(T){function O(k,b){return{location:k,message:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&c.is(b.location)&&R.string(b.message)}T.is=U})(h=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var y;(function(T){T.Error=1,T.Warning=2,T.Information=3,T.Hint=4})(y=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var S;(function(T){T.Unnecessary=1,T.Deprecated=2})(S=e.DiagnosticTag||(e.DiagnosticTag={}));var D;(function(T){function O(U){var k=U;return R.objectLiteral(k)&&R.string(k.href)}T.is=O})(D=e.CodeDescription||(e.CodeDescription={}));var x;(function(T){function O(k,b,j,G,be,at){var Qe={range:k,message:b};return R.defined(j)&&(Qe.severity=j),R.defined(G)&&(Qe.code=G),R.defined(be)&&(Qe.source=be),R.defined(at)&&(Qe.relatedInformation=at),Qe}T.create=O;function U(k){var b,j=k;return R.defined(j)&&a.is(j.range)&&R.string(j.message)&&(R.number(j.severity)||R.undefined(j.severity))&&(R.integer(j.code)||R.string(j.code)||R.undefined(j.code))&&(R.undefined(j.codeDescription)||R.string((b=j.codeDescription)===null||b===void 0?void 0:b.href))&&(R.string(j.source)||R.undefined(j.source))&&(R.undefined(j.relatedInformation)||R.typedArray(j.relatedInformation,h.is))}T.is=U})(x=e.Diagnostic||(e.Diagnostic={}));var F;(function(T){function O(k,b){for(var j=[],G=2;G<arguments.length;G++)j[G-2]=arguments[G];var be={title:k,command:b};return R.defined(j)&&j.length>0&&(be.arguments=j),be}T.create=O;function U(k){var b=k;return R.defined(b)&&R.string(b.title)&&R.string(b.command)}T.is=U})(F=e.Command||(e.Command={}));var A;(function(T){function O(j,G){return{range:j,newText:G}}T.replace=O;function U(j,G){return{range:{start:j,end:j},newText:G}}T.insert=U;function k(j){return{range:j,newText:""}}T.del=k;function b(j){var G=j;return R.objectLiteral(G)&&R.string(G.newText)&&a.is(G.range)}T.is=b})(A=e.TextEdit||(e.TextEdit={}));var N;(function(T){function O(k,b,j){var G={label:k};return b!==void 0&&(G.needsConfirmation=b),j!==void 0&&(G.description=j),G}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&R.string(b.label)&&(R.boolean(b.needsConfirmation)||b.needsConfirmation===void 0)&&(R.string(b.description)||b.description===void 0)}T.is=U})(N=e.ChangeAnnotation||(e.ChangeAnnotation={}));var q;(function(T){function O(U){var k=U;return R.string(k)}T.is=O})(q=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var $;(function(T){function O(j,G,be){return{range:j,newText:G,annotationId:be}}T.replace=O;function U(j,G,be){return{range:{start:j,end:j},newText:G,annotationId:be}}T.insert=U;function k(j,G){return{range:j,newText:"",annotationId:G}}T.del=k;function b(j){var G=j;return A.is(G)&&(N.is(G.annotationId)||q.is(G.annotationId))}T.is=b})($=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var J;(function(T){function O(k,b){return{textDocument:k,edits:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&ue.is(b.textDocument)&&Array.isArray(b.edits)}T.is=U})(J=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Z;(function(T){function O(k,b,j){var G={kind:"create",uri:k};return b!==void 0&&(b.overwrite!==void 0||b.ignoreIfExists!==void 0)&&(G.options=b),j!==void 0&&(G.annotationId=j),G}T.create=O;function U(k){var b=k;return b&&b.kind==="create"&&R.string(b.uri)&&(b.options===void 0||(b.options.overwrite===void 0||R.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||R.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||q.is(b.annotationId))}T.is=U})(Z=e.CreateFile||(e.CreateFile={}));var le;(function(T){function O(k,b,j,G){var be={kind:"rename",oldUri:k,newUri:b};return j!==void 0&&(j.overwrite!==void 0||j.ignoreIfExists!==void 0)&&(be.options=j),G!==void 0&&(be.annotationId=G),be}T.create=O;function U(k){var b=k;return b&&b.kind==="rename"&&R.string(b.oldUri)&&R.string(b.newUri)&&(b.options===void 0||(b.options.overwrite===void 0||R.boolean(b.options.overwrite))&&(b.options.ignoreIfExists===void 0||R.boolean(b.options.ignoreIfExists)))&&(b.annotationId===void 0||q.is(b.annotationId))}T.is=U})(le=e.RenameFile||(e.RenameFile={}));var ce;(function(T){function O(k,b,j){var G={kind:"delete",uri:k};return b!==void 0&&(b.recursive!==void 0||b.ignoreIfNotExists!==void 0)&&(G.options=b),j!==void 0&&(G.annotationId=j),G}T.create=O;function U(k){var b=k;return b&&b.kind==="delete"&&R.string(b.uri)&&(b.options===void 0||(b.options.recursive===void 0||R.boolean(b.options.recursive))&&(b.options.ignoreIfNotExists===void 0||R.boolean(b.options.ignoreIfNotExists)))&&(b.annotationId===void 0||q.is(b.annotationId))}T.is=U})(ce=e.DeleteFile||(e.DeleteFile={}));var X;(function(T){function O(U){var k=U;return k&&(k.changes!==void 0||k.documentChanges!==void 0)&&(k.documentChanges===void 0||k.documentChanges.every(function(b){return R.string(b.kind)?Z.is(b)||le.is(b)||ce.is(b):J.is(b)}))}T.is=O})(X=e.WorkspaceEdit||(e.WorkspaceEdit={}));var H=function(){function T(O,U){this.edits=O,this.changeAnnotations=U}return T.prototype.insert=function(O,U,k){var b,j;if(k===void 0?b=A.insert(O,U):q.is(k)?(j=k,b=$.insert(O,U,k)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(k),b=$.insert(O,U,j)),this.edits.push(b),j!==void 0)return j},T.prototype.replace=function(O,U,k){var b,j;if(k===void 0?b=A.replace(O,U):q.is(k)?(j=k,b=$.replace(O,U,k)):(this.assertChangeAnnotations(this.changeAnnotations),j=this.changeAnnotations.manage(k),b=$.replace(O,U,j)),this.edits.push(b),j!==void 0)return j},T.prototype.delete=function(O,U){var k,b;if(U===void 0?k=A.del(O):q.is(U)?(b=U,k=$.del(O,U)):(this.assertChangeAnnotations(this.changeAnnotations),b=this.changeAnnotations.manage(U),k=$.del(O,b)),this.edits.push(k),b!==void 0)return b},T.prototype.add=function(O){this.edits.push(O)},T.prototype.all=function(){return this.edits},T.prototype.clear=function(){this.edits.splice(0,this.edits.length)},T.prototype.assertChangeAnnotations=function(O){if(O===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},T}(),ee=function(){function T(O){this._annotations=O===void 0?Object.create(null):O,this._counter=0,this._size=0}return T.prototype.all=function(){return this._annotations},Object.defineProperty(T.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),T.prototype.manage=function(O,U){var k;if(q.is(O)?k=O:(k=this.nextId(),U=O),this._annotations[k]!==void 0)throw new Error("Id ".concat(k," is already in use."));if(U===void 0)throw new Error("No annotation provided for id ".concat(k));return this._annotations[k]=U,this._size++,k},T.prototype.nextId=function(){return this._counter++,this._counter.toString()},T}(),re=function(){function T(O){var U=this;this._textEditChanges=Object.create(null),O!==void 0?(this._workspaceEdit=O,O.documentChanges?(this._changeAnnotations=new ee(O.changeAnnotations),O.changeAnnotations=this._changeAnnotations.all(),O.documentChanges.forEach(function(k){if(J.is(k)){var b=new H(k.edits,U._changeAnnotations);U._textEditChanges[k.textDocument.uri]=b}})):O.changes&&Object.keys(O.changes).forEach(function(k){var b=new H(O.changes[k]);U._textEditChanges[k]=b})):this._workspaceEdit={}}return Object.defineProperty(T.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),T.prototype.getTextEditChange=function(O){if(ue.is(O)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var U={uri:O.uri,version:O.version},k=this._textEditChanges[U.uri];if(!k){var b=[],j={textDocument:U,edits:b};this._workspaceEdit.documentChanges.push(j),k=new H(b,this._changeAnnotations),this._textEditChanges[U.uri]=k}return k}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var k=this._textEditChanges[O];if(!k){var b=[];this._workspaceEdit.changes[O]=b,k=new H(b),this._textEditChanges[O]=k}return k}},T.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ee,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},T.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},T.prototype.createFile=function(O,U,k){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;N.is(U)||q.is(U)?b=U:k=U;var j,G;if(b===void 0?j=Z.create(O,k):(G=q.is(b)?b:this._changeAnnotations.manage(b),j=Z.create(O,k,G)),this._workspaceEdit.documentChanges.push(j),G!==void 0)return G},T.prototype.renameFile=function(O,U,k,b){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var j;N.is(k)||q.is(k)?j=k:b=k;var G,be;if(j===void 0?G=le.create(O,U,b):(be=q.is(j)?j:this._changeAnnotations.manage(j),G=le.create(O,U,b,be)),this._workspaceEdit.documentChanges.push(G),be!==void 0)return be},T.prototype.deleteFile=function(O,U,k){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var b;N.is(U)||q.is(U)?b=U:k=U;var j,G;if(b===void 0?j=ce.create(O,k):(G=q.is(b)?b:this._changeAnnotations.manage(b),j=ce.create(O,k,G)),this._workspaceEdit.documentChanges.push(j),G!==void 0)return G},T}();e.WorkspaceChange=re;var we;(function(T){function O(k){return{uri:k}}T.create=O;function U(k){var b=k;return R.defined(b)&&R.string(b.uri)}T.is=U})(we=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var de;(function(T){function O(k,b){return{uri:k,version:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&R.string(b.uri)&&R.integer(b.version)}T.is=U})(de=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ue;(function(T){function O(k,b){return{uri:k,version:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&R.string(b.uri)&&(b.version===null||R.integer(b.version))}T.is=U})(ue=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var Ke;(function(T){function O(k,b,j,G){return{uri:k,languageId:b,version:j,text:G}}T.create=O;function U(k){var b=k;return R.defined(b)&&R.string(b.uri)&&R.string(b.languageId)&&R.integer(b.version)&&R.string(b.text)}T.is=U})(Ke=e.TextDocumentItem||(e.TextDocumentItem={}));var nt;(function(T){T.PlainText="plaintext",T.Markdown="markdown";function O(U){var k=U;return k===T.PlainText||k===T.Markdown}T.is=O})(nt=e.MarkupKind||(e.MarkupKind={}));var je;(function(T){function O(U){var k=U;return R.objectLiteral(U)&&nt.is(k.kind)&&R.string(k.value)}T.is=O})(je=e.MarkupContent||(e.MarkupContent={}));var it;(function(T){T.Text=1,T.Method=2,T.Function=3,T.Constructor=4,T.Field=5,T.Variable=6,T.Class=7,T.Interface=8,T.Module=9,T.Property=10,T.Unit=11,T.Value=12,T.Enum=13,T.Keyword=14,T.Snippet=15,T.Color=16,T.File=17,T.Reference=18,T.Folder=19,T.EnumMember=20,T.Constant=21,T.Struct=22,T.Event=23,T.Operator=24,T.TypeParameter=25})(it=e.CompletionItemKind||(e.CompletionItemKind={}));var rt;(function(T){T.PlainText=1,T.Snippet=2})(rt=e.InsertTextFormat||(e.InsertTextFormat={}));var Bt;(function(T){T.Deprecated=1})(Bt=e.CompletionItemTag||(e.CompletionItemTag={}));var Kt;(function(T){function O(k,b,j){return{newText:k,insert:b,replace:j}}T.create=O;function U(k){var b=k;return b&&R.string(b.newText)&&a.is(b.insert)&&a.is(b.replace)}T.is=U})(Kt=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Cn;(function(T){T.asIs=1,T.adjustIndentation=2})(Cn=e.InsertTextMode||(e.InsertTextMode={}));var ni;(function(T){function O(U){var k=U;return k&&(R.string(k.detail)||k.detail===void 0)&&(R.string(k.description)||k.description===void 0)}T.is=O})(ni=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var un;(function(T){function O(U){return{label:U}}T.create=O})(un=e.CompletionItem||(e.CompletionItem={}));var Kn;(function(T){function O(U,k){return{items:U||[],isIncomplete:!!k}}T.create=O})(Kn=e.CompletionList||(e.CompletionList={}));var Mn;(function(T){function O(k){return k.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}T.fromPlainText=O;function U(k){var b=k;return R.string(b)||R.objectLiteral(b)&&R.string(b.language)&&R.string(b.value)}T.is=U})(Mn=e.MarkedString||(e.MarkedString={}));var lt;(function(T){function O(U){var k=U;return!!k&&R.objectLiteral(k)&&(je.is(k.contents)||Mn.is(k.contents)||R.typedArray(k.contents,Mn.is))&&(U.range===void 0||a.is(U.range))}T.is=O})(lt=e.Hover||(e.Hover={}));var jn;(function(T){function O(U,k){return k?{label:U,documentation:k}:{label:U}}T.create=O})(jn=e.ParameterInformation||(e.ParameterInformation={}));var Sn;(function(T){function O(U,k){for(var b=[],j=2;j<arguments.length;j++)b[j-2]=arguments[j];var G={label:U};return R.defined(k)&&(G.documentation=k),R.defined(b)?G.parameters=b:G.parameters=[],G}T.create=O})(Sn=e.SignatureInformation||(e.SignatureInformation={}));var Zt;(function(T){T.Text=1,T.Read=2,T.Write=3})(Zt=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var $n;(function(T){function O(U,k){var b={range:U};return R.number(k)&&(b.kind=k),b}T.create=O})($n=e.DocumentHighlight||(e.DocumentHighlight={}));var De;(function(T){T.File=1,T.Module=2,T.Namespace=3,T.Package=4,T.Class=5,T.Method=6,T.Property=7,T.Field=8,T.Constructor=9,T.Enum=10,T.Interface=11,T.Function=12,T.Variable=13,T.Constant=14,T.String=15,T.Number=16,T.Boolean=17,T.Array=18,T.Object=19,T.Key=20,T.Null=21,T.EnumMember=22,T.Struct=23,T.Event=24,T.Operator=25,T.TypeParameter=26})(De=e.SymbolKind||(e.SymbolKind={}));var _e;(function(T){T.Deprecated=1})(_e=e.SymbolTag||(e.SymbolTag={}));var dt;(function(T){function O(U,k,b,j,G){var be={name:U,kind:k,location:{uri:j,range:b}};return G&&(be.containerName=G),be}T.create=O})(dt=e.SymbolInformation||(e.SymbolInformation={}));var en;(function(T){function O(U,k,b,j){return j!==void 0?{name:U,kind:k,location:{uri:b,range:j}}:{name:U,kind:k,location:{uri:b}}}T.create=O})(en=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var jt;(function(T){function O(k,b,j,G,be,at){var Qe={name:k,detail:b,kind:j,range:G,selectionRange:be};return at!==void 0&&(Qe.children=at),Qe}T.create=O;function U(k){var b=k;return b&&R.string(b.name)&&R.number(b.kind)&&a.is(b.range)&&a.is(b.selectionRange)&&(b.detail===void 0||R.string(b.detail))&&(b.deprecated===void 0||R.boolean(b.deprecated))&&(b.children===void 0||Array.isArray(b.children))&&(b.tags===void 0||Array.isArray(b.tags))}T.is=U})(jt=e.DocumentSymbol||(e.DocumentSymbol={}));var Wn;(function(T){T.Empty="",T.QuickFix="quickfix",T.Refactor="refactor",T.RefactorExtract="refactor.extract",T.RefactorInline="refactor.inline",T.RefactorRewrite="refactor.rewrite",T.Source="source",T.SourceOrganizeImports="source.organizeImports",T.SourceFixAll="source.fixAll"})(Wn=e.CodeActionKind||(e.CodeActionKind={}));var zt;(function(T){T.Invoked=1,T.Automatic=2})(zt=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Hn;(function(T){function O(k,b,j){var G={diagnostics:k};return b!=null&&(G.only=b),j!=null&&(G.triggerKind=j),G}T.create=O;function U(k){var b=k;return R.defined(b)&&R.typedArray(b.diagnostics,x.is)&&(b.only===void 0||R.typedArray(b.only,R.string))&&(b.triggerKind===void 0||b.triggerKind===zt.Invoked||b.triggerKind===zt.Automatic)}T.is=U})(Hn=e.CodeActionContext||(e.CodeActionContext={}));var ii;(function(T){function O(k,b,j){var G={title:k},be=!0;return typeof b=="string"?(be=!1,G.kind=b):F.is(b)?G.command=b:G.edit=b,be&&j!==void 0&&(G.kind=j),G}T.create=O;function U(k){var b=k;return b&&R.string(b.title)&&(b.diagnostics===void 0||R.typedArray(b.diagnostics,x.is))&&(b.kind===void 0||R.string(b.kind))&&(b.edit!==void 0||b.command!==void 0)&&(b.command===void 0||F.is(b.command))&&(b.isPreferred===void 0||R.boolean(b.isPreferred))&&(b.edit===void 0||X.is(b.edit))}T.is=U})(ii=e.CodeAction||(e.CodeAction={}));var Gt;(function(T){function O(k,b){var j={range:k};return R.defined(b)&&(j.data=b),j}T.create=O;function U(k){var b=k;return R.defined(b)&&a.is(b.range)&&(R.undefined(b.command)||F.is(b.command))}T.is=U})(Gt=e.CodeLens||(e.CodeLens={}));var tn;(function(T){function O(k,b){return{tabSize:k,insertSpaces:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&R.uinteger(b.tabSize)&&R.boolean(b.insertSpaces)}T.is=U})(tn=e.FormattingOptions||(e.FormattingOptions={}));var $t;(function(T){function O(k,b,j){return{range:k,target:b,data:j}}T.create=O;function U(k){var b=k;return R.defined(b)&&a.is(b.range)&&(R.undefined(b.target)||R.string(b.target))}T.is=U})($t=e.DocumentLink||(e.DocumentLink={}));var I;(function(T){function O(k,b){return{range:k,parent:b}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&a.is(b.range)&&(b.parent===void 0||T.is(b.parent))}T.is=U})(I=e.SelectionRange||(e.SelectionRange={}));var V;(function(T){T.namespace="namespace",T.type="type",T.class="class",T.enum="enum",T.interface="interface",T.struct="struct",T.typeParameter="typeParameter",T.parameter="parameter",T.variable="variable",T.property="property",T.enumMember="enumMember",T.event="event",T.function="function",T.method="method",T.macro="macro",T.keyword="keyword",T.modifier="modifier",T.comment="comment",T.string="string",T.number="number",T.regexp="regexp",T.operator="operator",T.decorator="decorator"})(V=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var te;(function(T){T.declaration="declaration",T.definition="definition",T.readonly="readonly",T.static="static",T.deprecated="deprecated",T.abstract="abstract",T.async="async",T.modification="modification",T.documentation="documentation",T.defaultLibrary="defaultLibrary"})(te=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var ae;(function(T){function O(U){var k=U;return R.objectLiteral(k)&&(k.resultId===void 0||typeof k.resultId=="string")&&Array.isArray(k.data)&&(k.data.length===0||typeof k.data[0]=="number")}T.is=O})(ae=e.SemanticTokens||(e.SemanticTokens={}));var Ne;(function(T){function O(k,b){return{range:k,text:b}}T.create=O;function U(k){var b=k;return b!=null&&a.is(b.range)&&R.string(b.text)}T.is=U})(Ne=e.InlineValueText||(e.InlineValueText={}));var Oe;(function(T){function O(k,b,j){return{range:k,variableName:b,caseSensitiveLookup:j}}T.create=O;function U(k){var b=k;return b!=null&&a.is(b.range)&&R.boolean(b.caseSensitiveLookup)&&(R.string(b.variableName)||b.variableName===void 0)}T.is=U})(Oe=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var qe;(function(T){function O(k,b){return{range:k,expression:b}}T.create=O;function U(k){var b=k;return b!=null&&a.is(b.range)&&(R.string(b.expression)||b.expression===void 0)}T.is=U})(qe=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var ze;(function(T){function O(k,b){return{frameId:k,stoppedLocation:b}}T.create=O;function U(k){var b=k;return R.defined(b)&&a.is(k.stoppedLocation)}T.is=U})(ze=e.InlineValueContext||(e.InlineValueContext={}));var Te;(function(T){T.Type=1,T.Parameter=2;function O(U){return U===1||U===2}T.is=O})(Te=e.InlayHintKind||(e.InlayHintKind={}));var Ae;(function(T){function O(k){return{value:k}}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&(b.tooltip===void 0||R.string(b.tooltip)||je.is(b.tooltip))&&(b.location===void 0||c.is(b.location))&&(b.command===void 0||F.is(b.command))}T.is=U})(Ae=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var w;(function(T){function O(k,b,j){var G={position:k,label:b};return j!==void 0&&(G.kind=j),G}T.create=O;function U(k){var b=k;return R.objectLiteral(b)&&o.is(b.position)&&(R.string(b.label)||R.typedArray(b.label,Ae.is))&&(b.kind===void 0||Te.is(b.kind))&&b.textEdits===void 0||R.typedArray(b.textEdits,A.is)&&(b.tooltip===void 0||R.string(b.tooltip)||je.is(b.tooltip))&&(b.paddingLeft===void 0||R.boolean(b.paddingLeft))&&(b.paddingRight===void 0||R.boolean(b.paddingRight))}T.is=U})(w=e.InlayHint||(e.InlayHint={}));var _;(function(T){function O(U){var k=U;return R.objectLiteral(k)&&i.is(k.uri)&&R.string(k.name)}T.is=O})(_=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var L;(function(T){function O(j,G,be,at){return new W(j,G,be,at)}T.create=O;function U(j){var G=j;return!!(R.defined(G)&&R.string(G.uri)&&(R.undefined(G.languageId)||R.string(G.languageId))&&R.uinteger(G.lineCount)&&R.func(G.getText)&&R.func(G.positionAt)&&R.func(G.offsetAt))}T.is=U;function k(j,G){for(var be=j.getText(),at=b(G,function(Ri,Xi){var Yr=Ri.range.start.line-Xi.range.start.line;return Yr===0?Ri.range.start.character-Xi.range.start.character:Yr}),Qe=be.length,Dn=at.length-1;Dn>=0;Dn--){var nn=at[Dn],Vn=j.offsetAt(nn.range.start),Re=j.offsetAt(nn.range.end);if(Re<=Qe)be=be.substring(0,Vn)+nn.newText+be.substring(Re,be.length);else throw new Error("Overlapping edit");Qe=Vn}return be}T.applyEdits=k;function b(j,G){if(j.length<=1)return j;var be=j.length/2|0,at=j.slice(0,be),Qe=j.slice(be);b(at,G),b(Qe,G);for(var Dn=0,nn=0,Vn=0;Dn<at.length&&nn<Qe.length;){var Re=G(at[Dn],Qe[nn]);Re<=0?j[Vn++]=at[Dn++]:j[Vn++]=Qe[nn++]}for(;Dn<at.length;)j[Vn++]=at[Dn++];for(;nn<Qe.length;)j[Vn++]=Qe[nn++];return j}})(L=e.TextDocument||(e.TextDocument={}));var W=function(){function T(O,U,k,b){this._uri=O,this._languageId=U,this._version=k,this._content=b,this._lineOffsets=void 0}return Object.defineProperty(T.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),T.prototype.getText=function(O){if(O){var U=this.offsetAt(O.start),k=this.offsetAt(O.end);return this._content.substring(U,k)}return this._content},T.prototype.update=function(O,U){this._content=O.text,this._version=U,this._lineOffsets=void 0},T.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var O=[],U=this._content,k=!0,b=0;b<U.length;b++){k&&(O.push(b),k=!1);var j=U.charAt(b);k=j==="\r"||j===`
`,j==="\r"&&b+1<U.length&&U.charAt(b+1)===`
`&&b++}k&&U.length>0&&O.push(U.length),this._lineOffsets=O}return this._lineOffsets},T.prototype.positionAt=function(O){O=Math.max(Math.min(O,this._content.length),0);var U=this.getLineOffsets(),k=0,b=U.length;if(b===0)return o.create(0,O);for(;k<b;){var j=Math.floor((k+b)/2);U[j]>O?b=j:k=j+1}var G=k-1;return o.create(G,O-U[G])},T.prototype.offsetAt=function(O){var U=this.getLineOffsets();if(O.line>=U.length)return this._content.length;if(O.line<0)return 0;var k=U[O.line],b=O.line+1<U.length?U[O.line+1]:this._content.length;return Math.max(Math.min(k+O.character,b),k)},Object.defineProperty(T.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),T}(),R;(function(T){var O=Object.prototype.toString;function U(Re){return typeof Re<"u"}T.defined=U;function k(Re){return typeof Re>"u"}T.undefined=k;function b(Re){return Re===!0||Re===!1}T.boolean=b;function j(Re){return O.call(Re)==="[object String]"}T.string=j;function G(Re){return O.call(Re)==="[object Number]"}T.number=G;function be(Re,Ri,Xi){return O.call(Re)==="[object Number]"&&Ri<=Re&&Re<=Xi}T.numberRange=be;function at(Re){return O.call(Re)==="[object Number]"&&-2147483648<=Re&&Re<=2147483647}T.integer=at;function Qe(Re){return O.call(Re)==="[object Number]"&&0<=Re&&Re<=2147483647}T.uinteger=Qe;function Dn(Re){return O.call(Re)==="[object Function]"}T.func=Dn;function nn(Re){return Re!==null&&typeof Re=="object"}T.objectLiteral=nn;function Vn(Re,Ri){return Array.isArray(Re)&&Re.every(Ri)}T.typedArray=Vn})(R||(R={}))})});var St=M(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ProtocolNotificationType=Tn.ProtocolNotificationType0=Tn.ProtocolRequestType=Tn.ProtocolRequestType0=Tn.RegistrationType=Tn.MessageDirection=void 0;var ro=ds(),N2;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(N2=Tn.MessageDirection||(Tn.MessageDirection={}));var wm=class{constructor(e){this.method=e}};Tn.RegistrationType=wm;var Tm=class extends ro.RequestType0{constructor(e){super(e)}};Tn.ProtocolRequestType0=Tm;var Em=class extends ro.RequestType{constructor(e){super(e,ro.ParameterStructures.byName)}};Tn.ProtocolRequestType=Em;var xm=class extends ro.NotificationType0{constructor(e){super(e)}};Tn.ProtocolNotificationType0=xm;var _m=class extends ro.NotificationType{constructor(e){super(e,ro.ParameterStructures.byName)}};Tn.ProtocolNotificationType=_m});var Dl=M(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.objectLiteral=It.typedArray=It.stringArray=It.array=It.func=It.error=It.number=It.string=It.boolean=void 0;function O2(t){return t===!0||t===!1}It.boolean=O2;function mE(t){return typeof t=="string"||t instanceof String}It.string=mE;function L2(t){return typeof t=="number"||t instanceof Number}It.number=L2;function q2(t){return t instanceof Error}It.error=q2;function U2(t){return typeof t=="function"}It.func=U2;function yE(t){return Array.isArray(t)}It.array=yE;function B2(t){return yE(t)&&t.every(e=>mE(e))}It.stringArray=B2;function K2(t,e){return Array.isArray(t)&&t.every(e)}It.typedArray=K2;function j2(t){return t!==null&&typeof t=="object"}It.objectLiteral=j2});var CE=M(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.ImplementationRequest=void 0;var vE=St(),$2;(function(t){t.method="textDocument/implementation",t.messageDirection=vE.MessageDirection.clientToServer,t.type=new vE.ProtocolRequestType(t.method)})($2=Ra.ImplementationRequest||(Ra.ImplementationRequest={}))});var DE=M(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.TypeDefinitionRequest=void 0;var SE=St(),W2;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=SE.MessageDirection.clientToServer,t.type=new SE.ProtocolRequestType(t.method)})(W2=Ia.TypeDefinitionRequest||(Ia.TypeDefinitionRequest={}))});var bE=M(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DidChangeWorkspaceFoldersNotification=Ir.WorkspaceFoldersRequest=void 0;var bl=St(),H2;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=bl.MessageDirection.serverToClient,t.type=new bl.ProtocolRequestType0(t.method)})(H2=Ir.WorkspaceFoldersRequest||(Ir.WorkspaceFoldersRequest={}));var V2;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=bl.MessageDirection.clientToServer,t.type=new bl.ProtocolNotificationType(t.method)})(V2=Ir.DidChangeWorkspaceFoldersNotification||(Ir.DidChangeWorkspaceFoldersNotification={}))});var TE=M(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.ConfigurationRequest=void 0;var wE=St(),z2;(function(t){t.method="workspace/configuration",t.messageDirection=wE.MessageDirection.serverToClient,t.type=new wE.ProtocolRequestType(t.method)})(z2=Ma.ConfigurationRequest||(Ma.ConfigurationRequest={}))});var EE=M(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.ColorPresentationRequest=Mr.DocumentColorRequest=void 0;var wl=St(),G2;(function(t){t.method="textDocument/documentColor",t.messageDirection=wl.MessageDirection.clientToServer,t.type=new wl.ProtocolRequestType(t.method)})(G2=Mr.DocumentColorRequest||(Mr.DocumentColorRequest={}));var J2;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=wl.MessageDirection.clientToServer,t.type=new wl.ProtocolRequestType(t.method)})(J2=Mr.ColorPresentationRequest||(Mr.ColorPresentationRequest={}))});var _E=M(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.FoldingRangeRequest=void 0;var xE=St(),X2;(function(t){t.method="textDocument/foldingRange",t.messageDirection=xE.MessageDirection.clientToServer,t.type=new xE.ProtocolRequestType(t.method)})(X2=Na.FoldingRangeRequest||(Na.FoldingRangeRequest={}))});var FE=M(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.DeclarationRequest=void 0;var kE=St(),Y2;(function(t){t.method="textDocument/declaration",t.messageDirection=kE.MessageDirection.clientToServer,t.type=new kE.ProtocolRequestType(t.method)})(Y2=Oa.DeclarationRequest||(Oa.DeclarationRequest={}))});var PE=M(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.SelectionRangeRequest=void 0;var AE=St(),Q2;(function(t){t.method="textDocument/selectionRange",t.messageDirection=AE.MessageDirection.clientToServer,t.type=new AE.ProtocolRequestType(t.method)})(Q2=La.SelectionRangeRequest||(La.SelectionRangeRequest={}))});var RE=M(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.WorkDoneProgressCancelNotification=Di.WorkDoneProgressCreateRequest=Di.WorkDoneProgress=void 0;var Z2=ds(),Tl=St(),eU;(function(t){t.type=new Z2.ProgressType;function e(n){return n===t.type}t.is=e})(eU=Di.WorkDoneProgress||(Di.WorkDoneProgress={}));var tU;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Tl.MessageDirection.serverToClient,t.type=new Tl.ProtocolRequestType(t.method)})(tU=Di.WorkDoneProgressCreateRequest||(Di.WorkDoneProgressCreateRequest={}));var nU;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Tl.MessageDirection.clientToServer,t.type=new Tl.ProtocolNotificationType(t.method)})(nU=Di.WorkDoneProgressCancelNotification||(Di.WorkDoneProgressCancelNotification={}))});var IE=M(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.CallHierarchyOutgoingCallsRequest=bi.CallHierarchyIncomingCallsRequest=bi.CallHierarchyPrepareRequest=void 0;var so=St(),iU;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(iU=bi.CallHierarchyPrepareRequest||(bi.CallHierarchyPrepareRequest={}));var rU;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(rU=bi.CallHierarchyIncomingCallsRequest||(bi.CallHierarchyIncomingCallsRequest={}));var sU;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=so.MessageDirection.clientToServer,t.type=new so.ProtocolRequestType(t.method)})(sU=bi.CallHierarchyOutgoingCallsRequest||(bi.CallHierarchyOutgoingCallsRequest={}))});var ME=M(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.SemanticTokensRefreshRequest=Mt.SemanticTokensRangeRequest=Mt.SemanticTokensDeltaRequest=Mt.SemanticTokensRequest=Mt.SemanticTokensRegistrationType=Mt.TokenFormat=void 0;var sr=St(),oU;(function(t){t.Relative="relative"})(oU=Mt.TokenFormat||(Mt.TokenFormat={}));var El;(function(t){t.method="textDocument/semanticTokens",t.type=new sr.RegistrationType(t.method)})(El=Mt.SemanticTokensRegistrationType||(Mt.SemanticTokensRegistrationType={}));var aU;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=sr.MessageDirection.clientToServer,t.type=new sr.ProtocolRequestType(t.method),t.registrationMethod=El.method})(aU=Mt.SemanticTokensRequest||(Mt.SemanticTokensRequest={}));var cU;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=sr.MessageDirection.clientToServer,t.type=new sr.ProtocolRequestType(t.method),t.registrationMethod=El.method})(cU=Mt.SemanticTokensDeltaRequest||(Mt.SemanticTokensDeltaRequest={}));var uU;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=sr.MessageDirection.clientToServer,t.type=new sr.ProtocolRequestType(t.method),t.registrationMethod=El.method})(uU=Mt.SemanticTokensRangeRequest||(Mt.SemanticTokensRangeRequest={}));var lU;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=sr.MessageDirection.serverToClient,t.type=new sr.ProtocolRequestType0(t.method)})(lU=Mt.SemanticTokensRefreshRequest||(Mt.SemanticTokensRefreshRequest={}))});var OE=M(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.ShowDocumentRequest=void 0;var NE=St(),dU;(function(t){t.method="window/showDocument",t.messageDirection=NE.MessageDirection.serverToClient,t.type=new NE.ProtocolRequestType(t.method)})(dU=qa.ShowDocumentRequest||(qa.ShowDocumentRequest={}))});var qE=M(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.LinkedEditingRangeRequest=void 0;var LE=St(),fU;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=LE.MessageDirection.clientToServer,t.type=new LE.ProtocolRequestType(t.method)})(fU=Ua.LinkedEditingRangeRequest||(Ua.LinkedEditingRangeRequest={}))});var UE=M(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.WillDeleteFilesRequest=Dt.DidDeleteFilesNotification=Dt.DidRenameFilesNotification=Dt.WillRenameFilesRequest=Dt.DidCreateFilesNotification=Dt.WillCreateFilesRequest=Dt.FileOperationPatternKind=void 0;var li=St(),hU;(function(t){t.file="file",t.folder="folder"})(hU=Dt.FileOperationPatternKind||(Dt.FileOperationPatternKind={}));var pU;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolRequestType(t.method)})(pU=Dt.WillCreateFilesRequest||(Dt.WillCreateFilesRequest={}));var gU;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolNotificationType(t.method)})(gU=Dt.DidCreateFilesNotification||(Dt.DidCreateFilesNotification={}));var mU;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolRequestType(t.method)})(mU=Dt.WillRenameFilesRequest||(Dt.WillRenameFilesRequest={}));var yU;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolNotificationType(t.method)})(yU=Dt.DidRenameFilesNotification||(Dt.DidRenameFilesNotification={}));var vU;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolNotificationType(t.method)})(vU=Dt.DidDeleteFilesNotification||(Dt.DidDeleteFilesNotification={}));var CU;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=li.MessageDirection.clientToServer,t.type=new li.ProtocolRequestType(t.method)})(CU=Dt.WillDeleteFilesRequest||(Dt.WillDeleteFilesRequest={}))});var KE=M(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.MonikerRequest=wi.MonikerKind=wi.UniquenessLevel=void 0;var BE=St(),SU;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(SU=wi.UniquenessLevel||(wi.UniquenessLevel={}));var DU;(function(t){t.$import="import",t.$export="export",t.local="local"})(DU=wi.MonikerKind||(wi.MonikerKind={}));var bU;(function(t){t.method="textDocument/moniker",t.messageDirection=BE.MessageDirection.clientToServer,t.type=new BE.ProtocolRequestType(t.method)})(bU=wi.MonikerRequest||(wi.MonikerRequest={}))});var jE=M(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.TypeHierarchySubtypesRequest=Ti.TypeHierarchySupertypesRequest=Ti.TypeHierarchyPrepareRequest=void 0;var oo=St(),wU;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=oo.MessageDirection.clientToServer,t.type=new oo.ProtocolRequestType(t.method)})(wU=Ti.TypeHierarchyPrepareRequest||(Ti.TypeHierarchyPrepareRequest={}));var TU;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=oo.MessageDirection.clientToServer,t.type=new oo.ProtocolRequestType(t.method)})(TU=Ti.TypeHierarchySupertypesRequest||(Ti.TypeHierarchySupertypesRequest={}));var EU;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=oo.MessageDirection.clientToServer,t.type=new oo.ProtocolRequestType(t.method)})(EU=Ti.TypeHierarchySubtypesRequest||(Ti.TypeHierarchySubtypesRequest={}))});var $E=M(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.InlineValueRefreshRequest=Nr.InlineValueRequest=void 0;var xl=St(),xU;(function(t){t.method="textDocument/inlineValue",t.messageDirection=xl.MessageDirection.clientToServer,t.type=new xl.ProtocolRequestType(t.method)})(xU=Nr.InlineValueRequest||(Nr.InlineValueRequest={}));var _U;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=xl.MessageDirection.serverToClient,t.type=new xl.ProtocolRequestType0(t.method)})(_U=Nr.InlineValueRefreshRequest||(Nr.InlineValueRefreshRequest={}))});var WE=M(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.InlayHintRefreshRequest=Ei.InlayHintResolveRequest=Ei.InlayHintRequest=void 0;var ao=St(),kU;(function(t){t.method="textDocument/inlayHint",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(kU=Ei.InlayHintRequest||(Ei.InlayHintRequest={}));var FU;(function(t){t.method="inlayHint/resolve",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(FU=Ei.InlayHintResolveRequest||(Ei.InlayHintResolveRequest={}));var AU;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=ao.MessageDirection.serverToClient,t.type=new ao.ProtocolRequestType0(t.method)})(AU=Ei.InlayHintRefreshRequest||(Ei.InlayHintRefreshRequest={}))});var VE=M(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.DiagnosticRefreshRequest=on.WorkspaceDiagnosticRequest=on.DocumentDiagnosticRequest=on.DocumentDiagnosticReportKind=on.DiagnosticServerCancellationData=void 0;var HE=ds(),PU=Dl(),co=St(),RU;(function(t){function e(n){let i=n;return i&&PU.boolean(i.retriggerRequest)}t.is=e})(RU=on.DiagnosticServerCancellationData||(on.DiagnosticServerCancellationData={}));var IU;(function(t){t.Full="full",t.Unchanged="unchanged"})(IU=on.DocumentDiagnosticReportKind||(on.DocumentDiagnosticReportKind={}));var MU;(function(t){t.method="textDocument/diagnostic",t.messageDirection=co.MessageDirection.clientToServer,t.type=new co.ProtocolRequestType(t.method),t.partialResult=new HE.ProgressType})(MU=on.DocumentDiagnosticRequest||(on.DocumentDiagnosticRequest={}));var NU;(function(t){t.method="workspace/diagnostic",t.messageDirection=co.MessageDirection.clientToServer,t.type=new co.ProtocolRequestType(t.method),t.partialResult=new HE.ProgressType})(NU=on.WorkspaceDiagnosticRequest||(on.WorkspaceDiagnosticRequest={}));var OU;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=co.MessageDirection.serverToClient,t.type=new co.ProtocolRequestType0(t.method)})(OU=on.DiagnosticRefreshRequest||(on.DiagnosticRefreshRequest={}))});var JE=M(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.DidCloseNotebookDocumentNotification=We.DidSaveNotebookDocumentNotification=We.DidChangeNotebookDocumentNotification=We.NotebookCellArrayChange=We.DidOpenNotebookDocumentNotification=We.NotebookDocumentSyncRegistrationType=We.NotebookDocument=We.NotebookCell=We.ExecutionSummary=We.NotebookCellKind=void 0;var Ba=Sl(),xi=Dl(),Ui=St(),zE;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(zE=We.NotebookCellKind||(We.NotebookCellKind={}));var GE;(function(t){function e(r,s){let o={executionOrder:r};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(r){let s=r;return xi.objectLiteral(s)&&Ba.uinteger.is(s.executionOrder)&&(s.success===void 0||xi.boolean(s.success))}t.is=n;function i(r,s){return r===s?!0:r==null||s===null||s===void 0?!1:r.executionOrder===s.executionOrder&&r.success===s.success}t.equals=i})(GE=We.ExecutionSummary||(We.ExecutionSummary={}));var km;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return xi.objectLiteral(o)&&zE.is(o.kind)&&Ba.DocumentUri.is(o.document)&&(o.metadata===void 0||xi.objectLiteral(o.metadata))}t.is=n;function i(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!r(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!GE.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=i;function r(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++)if(!r(s[d],o[d]))return!1}if(xi.objectLiteral(s)&&xi.objectLiteral(o)){let d=Object.keys(s),p=Object.keys(o);if(d.length!==p.length||(d.sort(),p.sort(),!r(d,p)))return!1;for(let m=0;m<d.length;m++){let f=d[m];if(!r(s[f],o[f]))return!1}}return!0}})(km=We.NotebookCell||(We.NotebookCell={}));var LU;(function(t){function e(i,r,s,o){return{uri:i,notebookType:r,version:s,cells:o}}t.create=e;function n(i){let r=i;return xi.objectLiteral(r)&&xi.string(r.uri)&&Ba.integer.is(r.version)&&xi.typedArray(r.cells,km.is)}t.is=n})(LU=We.NotebookDocument||(We.NotebookDocument={}));var Ka;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.RegistrationType(t.method)})(Ka=We.NotebookDocumentSyncRegistrationType||(We.NotebookDocumentSyncRegistrationType={}));var qU;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method),t.registrationMethod=Ka.method})(qU=We.DidOpenNotebookDocumentNotification||(We.DidOpenNotebookDocumentNotification={}));var UU;(function(t){function e(i){let r=i;return xi.objectLiteral(r)&&Ba.uinteger.is(r.start)&&Ba.uinteger.is(r.deleteCount)&&(r.cells===void 0||xi.typedArray(r.cells,km.is))}t.is=e;function n(i,r,s){let o={start:i,deleteCount:r};return s!==void 0&&(o.cells=s),o}t.create=n})(UU=We.NotebookCellArrayChange||(We.NotebookCellArrayChange={}));var BU;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method),t.registrationMethod=Ka.method})(BU=We.DidChangeNotebookDocumentNotification||(We.DidChangeNotebookDocumentNotification={}));var KU;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method),t.registrationMethod=Ka.method})(KU=We.DidSaveNotebookDocumentNotification||(We.DidSaveNotebookDocumentNotification={}));var jU;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ui.MessageDirection.clientToServer,t.type=new Ui.ProtocolNotificationType(t.method),t.registrationMethod=Ka.method})(jU=We.DidCloseNotebookDocumentNotification||(We.DidCloseNotebookDocumentNotification={}))});var rx=M(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=void 0;var ie=St(),XE=Sl(),an=Dl(),$U=CE();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return $U.ImplementationRequest}});var WU=DE();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return WU.TypeDefinitionRequest}});var YE=bE();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return YE.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return YE.DidChangeWorkspaceFoldersNotification}});var HU=TE();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return HU.ConfigurationRequest}});var QE=EE();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return QE.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return QE.ColorPresentationRequest}});var VU=_E();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return VU.FoldingRangeRequest}});var zU=FE();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return zU.DeclarationRequest}});var GU=PE();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return GU.SelectionRangeRequest}});var Fm=RE();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return Fm.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Fm.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Fm.WorkDoneProgressCancelNotification}});var Am=IE();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Am.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Am.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Am.CallHierarchyPrepareRequest}});var uo=ME();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return uo.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return uo.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return uo.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return uo.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return uo.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return uo.SemanticTokensRegistrationType}});var JU=OE();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return JU.ShowDocumentRequest}});var XU=qE();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return XU.LinkedEditingRangeRequest}});var fs=UE();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return fs.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return fs.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return fs.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return fs.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return fs.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return fs.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return fs.WillDeleteFilesRequest}});var Pm=KE();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return Pm.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return Pm.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return Pm.MonikerRequest}});var Rm=jE();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Rm.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Rm.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Rm.TypeHierarchySupertypesRequest}});var ZE=$E();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return ZE.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ZE.InlineValueRefreshRequest}});var Im=WE();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return Im.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Im.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Im.InlayHintRefreshRequest}});var ja=VE();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ja.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ja.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ja.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ja.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ja.DiagnosticRefreshRequest}});var Bi=JE();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return Bi.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return Bi.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return Bi.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return Bi.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Bi.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Bi.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Bi.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Bi.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Bi.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Bi.DidCloseNotebookDocumentNotification}});var ex;(function(t){function e(n){let i=n;return an.string(i.language)||an.string(i.scheme)||an.string(i.pattern)}t.is=e})(ex=E.TextDocumentFilter||(E.TextDocumentFilter={}));var tx;(function(t){function e(n){let i=n;return an.objectLiteral(i)&&(an.string(i.notebookType)||an.string(i.scheme)||an.string(i.pattern))}t.is=e})(tx=E.NotebookDocumentFilter||(E.NotebookDocumentFilter={}));var nx;(function(t){function e(n){let i=n;return an.objectLiteral(i)&&(an.string(i.notebook)||tx.is(i.notebook))&&(i.language===void 0||an.string(i.language))}t.is=e})(nx=E.NotebookCellTextDocumentFilter||(E.NotebookCellTextDocumentFilter={}));var ix;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let i of n)if(!an.string(i)&&!ex.is(i)&&!nx.is(i))return!1;return!0}t.is=e})(ix=E.DocumentSelector||(E.DocumentSelector={}));var YU;(function(t){t.method="client/registerCapability",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolRequestType(t.method)})(YU=E.RegistrationRequest||(E.RegistrationRequest={}));var QU;(function(t){t.method="client/unregisterCapability",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolRequestType(t.method)})(QU=E.UnregistrationRequest||(E.UnregistrationRequest={}));var ZU;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(ZU=E.ResourceOperationKind||(E.ResourceOperationKind={}));var eB;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(eB=E.FailureHandlingKind||(E.FailureHandlingKind={}));var tB;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(tB=E.PositionEncodingKind||(E.PositionEncodingKind={}));var nB;(function(t){function e(n){let i=n;return i&&an.string(i.id)&&i.id.length>0}t.hasId=e})(nB=E.StaticRegistrationOptions||(E.StaticRegistrationOptions={}));var iB;(function(t){function e(n){let i=n;return i&&(i.documentSelector===null||ix.is(i.documentSelector))}t.is=e})(iB=E.TextDocumentRegistrationOptions||(E.TextDocumentRegistrationOptions={}));var rB;(function(t){function e(i){let r=i;return an.objectLiteral(r)&&(r.workDoneProgress===void 0||an.boolean(r.workDoneProgress))}t.is=e;function n(i){let r=i;return r&&an.boolean(r.workDoneProgress)}t.hasWorkDoneProgress=n})(rB=E.WorkDoneProgressOptions||(E.WorkDoneProgressOptions={}));var sB;(function(t){t.method="initialize",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(sB=E.InitializeRequest||(E.InitializeRequest={}));var oB;(function(t){t.unknownProtocolVersion=1})(oB=E.InitializeErrorCodes||(E.InitializeErrorCodes={}));var aB;(function(t){t.method="initialized",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(aB=E.InitializedNotification||(E.InitializedNotification={}));var cB;(function(t){t.method="shutdown",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType0(t.method)})(cB=E.ShutdownRequest||(E.ShutdownRequest={}));var uB;(function(t){t.method="exit",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType0(t.method)})(uB=E.ExitNotification||(E.ExitNotification={}));var lB;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(lB=E.DidChangeConfigurationNotification||(E.DidChangeConfigurationNotification={}));var dB;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(dB=E.MessageType||(E.MessageType={}));var fB;(function(t){t.method="window/showMessage",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolNotificationType(t.method)})(fB=E.ShowMessageNotification||(E.ShowMessageNotification={}));var hB;(function(t){t.method="window/showMessageRequest",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolRequestType(t.method)})(hB=E.ShowMessageRequest||(E.ShowMessageRequest={}));var pB;(function(t){t.method="window/logMessage",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolNotificationType(t.method)})(pB=E.LogMessageNotification||(E.LogMessageNotification={}));var gB;(function(t){t.method="telemetry/event",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolNotificationType(t.method)})(gB=E.TelemetryEventNotification||(E.TelemetryEventNotification={}));var mB;(function(t){t.None=0,t.Full=1,t.Incremental=2})(mB=E.TextDocumentSyncKind||(E.TextDocumentSyncKind={}));var yB;(function(t){t.method="textDocument/didOpen",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(yB=E.DidOpenTextDocumentNotification||(E.DidOpenTextDocumentNotification={}));var vB;(function(t){function e(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}t.isIncremental=e;function n(i){let r=i;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}t.isFull=n})(vB=E.TextDocumentContentChangeEvent||(E.TextDocumentContentChangeEvent={}));var CB;(function(t){t.method="textDocument/didChange",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(CB=E.DidChangeTextDocumentNotification||(E.DidChangeTextDocumentNotification={}));var SB;(function(t){t.method="textDocument/didClose",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(SB=E.DidCloseTextDocumentNotification||(E.DidCloseTextDocumentNotification={}));var DB;(function(t){t.method="textDocument/didSave",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(DB=E.DidSaveTextDocumentNotification||(E.DidSaveTextDocumentNotification={}));var bB;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(bB=E.TextDocumentSaveReason||(E.TextDocumentSaveReason={}));var wB;(function(t){t.method="textDocument/willSave",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(wB=E.WillSaveTextDocumentNotification||(E.WillSaveTextDocumentNotification={}));var TB;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(TB=E.WillSaveTextDocumentWaitUntilRequest||(E.WillSaveTextDocumentWaitUntilRequest={}));var EB;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolNotificationType(t.method)})(EB=E.DidChangeWatchedFilesNotification||(E.DidChangeWatchedFilesNotification={}));var xB;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(xB=E.FileChangeType||(E.FileChangeType={}));var _B;(function(t){function e(n){let i=n;return an.objectLiteral(i)&&(XE.URI.is(i.baseUri)||XE.WorkspaceFolder.is(i.baseUri))&&an.string(i.pattern)}t.is=e})(_B=E.RelativePattern||(E.RelativePattern={}));var kB;(function(t){t.Create=1,t.Change=2,t.Delete=4})(kB=E.WatchKind||(E.WatchKind={}));var FB;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolNotificationType(t.method)})(FB=E.PublishDiagnosticsNotification||(E.PublishDiagnosticsNotification={}));var AB;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(AB=E.CompletionTriggerKind||(E.CompletionTriggerKind={}));var PB;(function(t){t.method="textDocument/completion",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(PB=E.CompletionRequest||(E.CompletionRequest={}));var RB;(function(t){t.method="completionItem/resolve",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(RB=E.CompletionResolveRequest||(E.CompletionResolveRequest={}));var IB;(function(t){t.method="textDocument/hover",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(IB=E.HoverRequest||(E.HoverRequest={}));var MB;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(MB=E.SignatureHelpTriggerKind||(E.SignatureHelpTriggerKind={}));var NB;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(NB=E.SignatureHelpRequest||(E.SignatureHelpRequest={}));var OB;(function(t){t.method="textDocument/definition",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(OB=E.DefinitionRequest||(E.DefinitionRequest={}));var LB;(function(t){t.method="textDocument/references",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(LB=E.ReferencesRequest||(E.ReferencesRequest={}));var qB;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(qB=E.DocumentHighlightRequest||(E.DocumentHighlightRequest={}));var UB;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(UB=E.DocumentSymbolRequest||(E.DocumentSymbolRequest={}));var BB;(function(t){t.method="textDocument/codeAction",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(BB=E.CodeActionRequest||(E.CodeActionRequest={}));var KB;(function(t){t.method="codeAction/resolve",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(KB=E.CodeActionResolveRequest||(E.CodeActionResolveRequest={}));var jB;(function(t){t.method="workspace/symbol",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(jB=E.WorkspaceSymbolRequest||(E.WorkspaceSymbolRequest={}));var $B;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})($B=E.WorkspaceSymbolResolveRequest||(E.WorkspaceSymbolResolveRequest={}));var WB;(function(t){t.method="textDocument/codeLens",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(WB=E.CodeLensRequest||(E.CodeLensRequest={}));var HB;(function(t){t.method="codeLens/resolve",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(HB=E.CodeLensResolveRequest||(E.CodeLensResolveRequest={}));var VB;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolRequestType0(t.method)})(VB=E.CodeLensRefreshRequest||(E.CodeLensRefreshRequest={}));var zB;(function(t){t.method="textDocument/documentLink",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(zB=E.DocumentLinkRequest||(E.DocumentLinkRequest={}));var GB;(function(t){t.method="documentLink/resolve",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(GB=E.DocumentLinkResolveRequest||(E.DocumentLinkResolveRequest={}));var JB;(function(t){t.method="textDocument/formatting",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(JB=E.DocumentFormattingRequest||(E.DocumentFormattingRequest={}));var XB;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(XB=E.DocumentRangeFormattingRequest||(E.DocumentRangeFormattingRequest={}));var YB;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(YB=E.DocumentOnTypeFormattingRequest||(E.DocumentOnTypeFormattingRequest={}));var QB;(function(t){t.Identifier=1})(QB=E.PrepareSupportDefaultBehavior||(E.PrepareSupportDefaultBehavior={}));var ZB;(function(t){t.method="textDocument/rename",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(ZB=E.RenameRequest||(E.RenameRequest={}));var eK;(function(t){t.method="textDocument/prepareRename",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(eK=E.PrepareRenameRequest||(E.PrepareRenameRequest={}));var tK;(function(t){t.method="workspace/executeCommand",t.messageDirection=ie.MessageDirection.clientToServer,t.type=new ie.ProtocolRequestType(t.method)})(tK=E.ExecuteCommandRequest||(E.ExecuteCommandRequest={}));var nK;(function(t){t.method="workspace/applyEdit",t.messageDirection=ie.MessageDirection.serverToClient,t.type=new ie.ProtocolRequestType("workspace/applyEdit")})(nK=E.ApplyWorkspaceEditRequest||(E.ApplyWorkspaceEditRequest={}))});var ox=M(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.createProtocolConnection=void 0;var sx=ds();function iK(t,e,n,i){return sx.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,sx.createMessageConnection)(t,e,n,i)}_l.createProtocolConnection=iK});var ax=M(En=>{"use strict";var rK=En&&En.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),kl=En&&En.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&rK(e,t,n)};Object.defineProperty(En,"__esModule",{value:!0});En.LSPErrorCodes=En.createProtocolConnection=void 0;kl(ds(),En);kl(Sl(),En);kl(St(),En);kl(rx(),En);var sK=ox();Object.defineProperty(En,"createProtocolConnection",{enumerable:!0,get:function(){return sK.createProtocolConnection}});var oK;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(oK=En.LSPErrorCodes||(En.LSPErrorCodes={}))});var Ee=M(Ki=>{"use strict";var aK=Ki&&Ki.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),cx=Ki&&Ki.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&aK(e,t,n)};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.createProtocolConnection=void 0;var cK=bm();cx(bm(),Ki);cx(ax(),Ki);function uK(t,e,n,i){return(0,cK.createMessageConnection)(t,e,n,i)}Ki.createProtocolConnection=uK});var Fl=M(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.forEach=pn.mapAsync=pn.map=pn.clearTestMode=pn.setTestMode=pn.Semaphore=pn.Delayer=void 0;var Wa=Ee(),Mm=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(i=>{this.onSuccess=i}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var i=this.task();return this.task=void 0,i})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,Wa.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};pn.Delayer=Mm;var Nm=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,i)=>{this._waiting.push({thunk:e,resolve:n,reject:i}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Wa.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(i=>{this._active--,e.resolve(i),this.runNext()},i=>{this._active--,e.reject(i),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};pn.Semaphore=Nm;var Om=!1;function lK(){Om=!0}pn.setTestMode=lK;function dK(){Om=!1}pn.clearTestMode=dK;var ux=15,$a=class{constructor(e=ux){this.yieldAfter=Om===!0?Math.max(e,2):Math.max(e,ux),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function fK(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new $a(i?.yieldAfter);function o(c){s.start();for(let d=c;d<t.length;d++)if(r[d]=e(t[d]),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),d+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Wa.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}pn.map=fK;async function hK(t,e,n,i){if(t.length===0)return[];let r=new Array(t.length),s=new $a(i?.yieldAfter);async function o(c){s.start();for(let d=c;d<t.length;d++)if(r[d]=await e(t[d],n),s.shouldYield())return i?.yieldCallback&&i.yieldCallback(),d+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,Wa.RAL)().timer.setImmediate(()=>{c(o(a))})});return r}pn.mapAsync=hK;async function pK(t,e,n,i){if(t.length===0)return;let r=new $a(i?.yieldAfter);function s(a){r.start();for(let c=a;c<t.length;c++)if(e(t[c]),r.shouldYield())return i?.yieldCallback&&i.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,Wa.RAL)().timer.setImmediate(()=>{a(s(o))})})}pn.forEach=pK});var Um=M(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});var gK=require("vscode"),Lm=class extends gK.CompletionItem{constructor(e){super(e)}};qm.default=Lm});var jm=M(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});var mK=require("vscode"),Bm=class extends mK.CodeLens{constructor(e){super(e)}};Km.default=Bm});var Hm=M(Wm=>{"use strict";Object.defineProperty(Wm,"__esModule",{value:!0});var yK=require("vscode"),$m=class extends yK.DocumentLink{constructor(e,n){super(e,n)}};Wm.default=$m});var Gm=M(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});var vK=require("vscode"),Vm=class extends vK.CodeAction{constructor(e,n){super(e),this.data=n}};zm.default=Vm});var Ym=M(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.ProtocolDiagnostic=hs.DiagnosticCode=void 0;var CK=require("vscode"),Jm=ui(),SK;(function(t){function e(n){let i=n;return i!=null&&(Jm.number(i.value)||Jm.string(i.value))&&Jm.string(i.target)}t.is=e})(SK=hs.DiagnosticCode||(hs.DiagnosticCode={}));var Xm=class extends CK.Diagnostic{constructor(e,n,i,r){super(e,n,i),this.data=r,this.hasDiagnosticCode=!1}};hs.ProtocolDiagnostic=Xm});var ey=M(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});var DK=require("vscode"),Qm=class extends DK.CallHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};Zm.default=Qm});var iy=M(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});var bK=require("vscode"),ty=class extends bK.TypeHierarchyItem{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s,o),a!==void 0&&(this.data=a)}};ny.default=ty});var oy=M(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0});var Al=require("vscode"),ry=class extends Al.SymbolInformation{constructor(e,n,i,r,s){let o=!(r instanceof Al.Uri);super(e,n,i,o?r:new Al.Location(r,new Al.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};sy.default=ry});var uy=M(cy=>{"use strict";Object.defineProperty(cy,"__esModule",{value:!0});var wK=require("vscode"),ay=class extends wK.InlayHint{constructor(e,n,i){super(e,n,i)}};cy.default=ay});var fx=M(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.createConverter=void 0;var Nt=require("vscode"),Fe=Ee(),lo=ui(),lx=Fl(),TK=Um(),EK=jm(),xK=Hm(),_K=Gm(),dx=Ym(),kK=ey(),FK=iy(),AK=oy(),PK=uy(),ly;(function(t){function e(n){let i=n;return i&&!!i.inserting&&!!i.replacing}t.is=e})(ly||(ly={}));function RK(t){let n=t||(w=>w.toString());function i(w){return n(w)}function r(w){return{uri:n(w.uri)}}function s(w){return{uri:n(w.uri),languageId:w.languageId,version:w.version,text:w.getText()}}function o(w){return{uri:n(w.uri),version:w.version}}function a(w){return{textDocument:s(w)}}function c(w){let _=w;return!!_.document&&!!_.contentChanges}function d(w){let _=w;return!!_.uri&&!!_.version}function p(w,_,L){if(d(w))return{textDocument:{uri:n(w.uri),version:w.version},contentChanges:[{text:w.getText()}]};if(c(w)){let W=_,R=L;return{textDocument:{uri:n(W),version:R},contentChanges:w.contentChanges.map(O=>{let U=O.range;return{range:{start:{line:U.start.line,character:U.start.character},end:{line:U.end.line,character:U.end.character}},rangeLength:O.rangeLength,text:O.text}})}}else throw Error("Unsupported text document change parameter")}function m(w){return{textDocument:r(w)}}function f(w,_=!1){let L={textDocument:r(w)};return _&&(L.text=w.getText()),L}function u(w){switch(w){case Nt.TextDocumentSaveReason.Manual:return Fe.TextDocumentSaveReason.Manual;case Nt.TextDocumentSaveReason.AfterDelay:return Fe.TextDocumentSaveReason.AfterDelay;case Nt.TextDocumentSaveReason.FocusOut:return Fe.TextDocumentSaveReason.FocusOut}return Fe.TextDocumentSaveReason.Manual}function l(w){return{textDocument:r(w.document),reason:u(w.reason)}}function h(w){return{files:w.files.map(_=>({uri:n(_)}))}}function y(w){return{files:w.files.map(_=>({oldUri:n(_.oldUri),newUri:n(_.newUri)}))}}function S(w){return{files:w.files.map(_=>({uri:n(_)}))}}function D(w){return{files:w.files.map(_=>({uri:n(_)}))}}function x(w){return{files:w.files.map(_=>({oldUri:n(_.oldUri),newUri:n(_.newUri)}))}}function F(w){return{files:w.files.map(_=>({uri:n(_)}))}}function A(w,_){return{textDocument:r(w),position:ee(_)}}function N(w){switch(w){case Nt.CompletionTriggerKind.TriggerCharacter:return Fe.CompletionTriggerKind.TriggerCharacter;case Nt.CompletionTriggerKind.TriggerForIncompleteCompletions:return Fe.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Fe.CompletionTriggerKind.Invoked}}function q(w,_,L){return{textDocument:r(w),position:ee(_),context:{triggerKind:N(L.triggerKind),triggerCharacter:L.triggerCharacter}}}function $(w){switch(w){case Nt.SignatureHelpTriggerKind.Invoke:return Fe.SignatureHelpTriggerKind.Invoked;case Nt.SignatureHelpTriggerKind.TriggerCharacter:return Fe.SignatureHelpTriggerKind.TriggerCharacter;case Nt.SignatureHelpTriggerKind.ContentChange:return Fe.SignatureHelpTriggerKind.ContentChange}}function J(w){return{label:w.label}}function Z(w){return w.map(J)}function le(w){return{label:w.label,parameters:Z(w.parameters)}}function ce(w){return w.map(le)}function X(w){return w===void 0?w:{signatures:ce(w.signatures),activeSignature:w.activeSignature,activeParameter:w.activeParameter}}function H(w,_,L){return{textDocument:r(w),position:ee(_),context:{isRetrigger:L.isRetrigger,triggerCharacter:L.triggerCharacter,triggerKind:$(L.triggerKind),activeSignatureHelp:X(L.activeSignatureHelp)}}}function ee(w){return{line:w.line,character:w.character}}function re(w){return w==null?w:{line:w.line>Fe.uinteger.MAX_VALUE?Fe.uinteger.MAX_VALUE:w.line,character:w.character>Fe.uinteger.MAX_VALUE?Fe.uinteger.MAX_VALUE:w.character}}function we(w,_){return lx.map(w,re,_)}function de(w){return w==null?w:{start:re(w.start),end:re(w.end)}}function ue(w){return w==null?w:Fe.Location.create(i(w.uri),de(w.range))}function Ke(w){switch(w){case Nt.DiagnosticSeverity.Error:return Fe.DiagnosticSeverity.Error;case Nt.DiagnosticSeverity.Warning:return Fe.DiagnosticSeverity.Warning;case Nt.DiagnosticSeverity.Information:return Fe.DiagnosticSeverity.Information;case Nt.DiagnosticSeverity.Hint:return Fe.DiagnosticSeverity.Hint}}function nt(w){if(!w)return;let _=[];for(let L of w){let W=je(L);W!==void 0&&_.push(W)}return _.length>0?_:void 0}function je(w){switch(w){case Nt.DiagnosticTag.Unnecessary:return Fe.DiagnosticTag.Unnecessary;case Nt.DiagnosticTag.Deprecated:return Fe.DiagnosticTag.Deprecated;default:return}}function it(w){return{message:w.message,location:ue(w.location)}}function rt(w){return w.map(it)}function Bt(w){if(w!=null)return lo.number(w)||lo.string(w)?w:{value:w.value,target:i(w.target)}}function Kt(w){let _=Fe.Diagnostic.create(de(w.range),w.message),L=w instanceof dx.ProtocolDiagnostic?w:void 0;L!==void 0&&L.data!==void 0&&(_.data=L.data);let W=Bt(w.code);return dx.DiagnosticCode.is(W)?L!==void 0&&L.hasDiagnosticCode?_.code=W:(_.code=W.value,_.codeDescription={href:W.target}):_.code=W,lo.number(w.severity)&&(_.severity=Ke(w.severity)),Array.isArray(w.tags)&&(_.tags=nt(w.tags)),w.relatedInformation&&(_.relatedInformation=rt(w.relatedInformation)),w.source&&(_.source=w.source),_}function Cn(w,_){return w==null?w:lx.map(w,Kt,_)}function ni(w,_){switch(w){case"$string":return _;case Fe.MarkupKind.PlainText:return{kind:w,value:_};case Fe.MarkupKind.Markdown:return{kind:w,value:_.value};default:return`Unsupported Markup content received. Kind is: ${w}`}}function un(w){switch(w){case Nt.CompletionItemTag.Deprecated:return Fe.CompletionItemTag.Deprecated}}function Kn(w){if(w===void 0)return w;let _=[];for(let L of w){let W=un(L);W!==void 0&&_.push(W)}return _}function Mn(w,_){return _!==void 0?_:w+1}function lt(w,_=!1){let L,W;lo.string(w.label)?L=w.label:(L=w.label.label,_&&(w.label.detail!==void 0||w.label.description!==void 0)&&(W={detail:w.label.detail,description:w.label.description}));let R={label:L};W!==void 0&&(R.labelDetails=W);let T=w instanceof TK.default?w:void 0;w.detail&&(R.detail=w.detail),w.documentation&&(!T||T.documentationFormat==="$string"?R.documentation=w.documentation:R.documentation=ni(T.documentationFormat,w.documentation)),w.filterText&&(R.filterText=w.filterText),jn(R,w),lo.number(w.kind)&&(R.kind=Mn(w.kind,T&&T.originalItemKind)),w.sortText&&(R.sortText=w.sortText),w.additionalTextEdits&&(R.additionalTextEdits=$n(w.additionalTextEdits)),w.commitCharacters&&(R.commitCharacters=w.commitCharacters.slice()),w.command&&(R.command=Gt(w.command)),(w.preselect===!0||w.preselect===!1)&&(R.preselect=w.preselect);let O=Kn(w.tags);if(T){if(T.data!==void 0&&(R.data=T.data),T.deprecated===!0||T.deprecated===!1){if(T.deprecated===!0&&O!==void 0&&O.length>0){let U=O.indexOf(Nt.CompletionItemTag.Deprecated);U!==-1&&O.splice(U,1)}R.deprecated=T.deprecated}T.insertTextMode!==void 0&&(R.insertTextMode=T.insertTextMode)}return O!==void 0&&O.length>0&&(R.tags=O),R.insertTextMode===void 0&&w.keepWhitespace===!0&&(R.insertTextMode=Fe.InsertTextMode.adjustIndentation),R}function jn(w,_){let L=Fe.InsertTextFormat.PlainText,W,R;_.textEdit?(W=_.textEdit.newText,R=_.textEdit.range):_.insertText instanceof Nt.SnippetString?(L=Fe.InsertTextFormat.Snippet,W=_.insertText.value):W=_.insertText,_.range&&(R=_.range),w.insertTextFormat=L,_.fromEdit&&W!==void 0&&R!==void 0?w.textEdit=Sn(W,R):w.insertText=W}function Sn(w,_){return ly.is(_)?Fe.InsertReplaceEdit.create(w,de(_.inserting),de(_.replacing)):{newText:w,range:de(_)}}function Zt(w){return{range:de(w.range),newText:w.newText}}function $n(w){return w==null?w:w.map(Zt)}function De(w){return w<=Nt.SymbolKind.TypeParameter?w+1:Fe.SymbolKind.Property}function _e(w){return w}function dt(w){return w.map(_e)}function en(w,_,L){return{textDocument:r(w),position:ee(_),context:{includeDeclaration:L.includeDeclaration}}}async function jt(w,_){let L=Fe.CodeAction.create(w.title);if(w instanceof _K.default&&w.data!==void 0&&(L.data=w.data),w.kind!==void 0&&(L.kind=Hn(w.kind)),w.diagnostics!==void 0&&(L.diagnostics=await Cn(w.diagnostics,_)),w.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return w.command!==void 0&&(L.command=Gt(w.command)),w.isPreferred!==void 0&&(L.isPreferred=w.isPreferred),w.disabled!==void 0&&(L.disabled={reason:w.disabled.reason}),L}async function Wn(w,_){if(w==null)return w;let L;return w.only&&lo.string(w.only.value)&&(L=[w.only.value]),Fe.CodeActionContext.create(await Cn(w.diagnostics,_),L,zt(w.triggerKind))}function zt(w){switch(w){case Nt.CodeActionTriggerKind.Invoke:return Fe.CodeActionTriggerKind.Invoked;case Nt.CodeActionTriggerKind.Automatic:return Fe.CodeActionTriggerKind.Automatic;default:return}}function Hn(w){if(w!=null)return w.value}function ii(w){return w==null?w:Fe.InlineValueContext.create(w.frameId,de(w.stoppedLocation))}function Gt(w){let _=Fe.Command.create(w.title,w.command);return w.arguments&&(_.arguments=w.arguments),_}function tn(w){let _=Fe.CodeLens.create(de(w.range));return w.command&&(_.command=Gt(w.command)),w instanceof EK.default&&w.data&&(_.data=w.data),_}function $t(w,_){let L={tabSize:w.tabSize,insertSpaces:w.insertSpaces};return _.trimTrailingWhitespace&&(L.trimTrailingWhitespace=!0),_.trimFinalNewlines&&(L.trimFinalNewlines=!0),_.insertFinalNewline&&(L.insertFinalNewline=!0),L}function I(w){return{textDocument:r(w)}}function V(w){return{textDocument:r(w)}}function te(w){let _=Fe.DocumentLink.create(de(w.range));w.target&&(_.target=i(w.target)),w.tooltip!==void 0&&(_.tooltip=w.tooltip);let L=w instanceof xK.default?w:void 0;return L&&L.data&&(_.data=L.data),_}function ae(w){return{textDocument:r(w)}}function Ne(w){let _={name:w.name,kind:De(w.kind),uri:i(w.uri),range:de(w.range),selectionRange:de(w.selectionRange)};return w.detail!==void 0&&w.detail.length>0&&(_.detail=w.detail),w.tags!==void 0&&(_.tags=dt(w.tags)),w instanceof kK.default&&w.data!==void 0&&(_.data=w.data),_}function Oe(w){let _={name:w.name,kind:De(w.kind),uri:i(w.uri),range:de(w.range),selectionRange:de(w.selectionRange)};return w.detail!==void 0&&w.detail.length>0&&(_.detail=w.detail),w.tags!==void 0&&(_.tags=dt(w.tags)),w instanceof FK.default&&w.data!==void 0&&(_.data=w.data),_}function qe(w){let _=w instanceof AK.default?{name:w.name,kind:De(w.kind),location:w.hasRange?ue(w.location):{uri:n(w.location.uri)},data:w.data}:{name:w.name,kind:De(w.kind),location:ue(w.location)};return w.tags!==void 0&&(_.tags=dt(w.tags)),w.containerName!==""&&(_.containerName=w.containerName),_}function ze(w){let _=typeof w.label=="string"?w.label:w.label.map(Te),L=Fe.InlayHint.create(re(w.position),_);return w.kind!==void 0&&(L.kind=w.kind),w.textEdits!==void 0&&(L.textEdits=$n(w.textEdits)),w.tooltip!==void 0&&(L.tooltip=Ae(w.tooltip)),w.paddingLeft!==void 0&&(L.paddingLeft=w.paddingLeft),w.paddingRight!==void 0&&(L.paddingRight=w.paddingRight),w instanceof PK.default&&w.data!==void 0&&(L.data=w.data),L}function Te(w){let _=Fe.InlayHintLabelPart.create(w.value);return w.location!==void 0&&(_.location=ue(w.location)),w.command!==void 0&&(_.command=Gt(w.command)),w.tooltip!==void 0&&(_.tooltip=Ae(w.tooltip)),_}function Ae(w){return typeof w=="string"?w:{kind:Fe.MarkupKind.Markdown,value:w.value}}return{asUri:i,asTextDocumentIdentifier:r,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:p,asCloseTextDocumentParams:m,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:l,asDidCreateFilesParams:h,asDidRenameFilesParams:y,asDidDeleteFilesParams:S,asWillCreateFilesParams:D,asWillRenameFilesParams:x,asWillDeleteFilesParams:F,asTextDocumentPositionParams:A,asCompletionParams:q,asSignatureHelpParams:H,asWorkerPosition:ee,asRange:de,asPosition:re,asPositions:we,asLocation:ue,asDiagnosticSeverity:Ke,asDiagnosticTag:je,asDiagnostic:Kt,asDiagnostics:Cn,asCompletionItem:lt,asTextEdit:Zt,asSymbolKind:De,asSymbolTag:_e,asSymbolTags:dt,asReferenceParams:en,asCodeAction:jt,asCodeActionContext:Wn,asInlineValueContext:ii,asCommand:Gt,asCodeLens:tn,asFormattingOptions:$t,asDocumentSymbolParams:I,asCodeLensParams:V,asDocumentLink:te,asDocumentLinkParams:ae,asCallHierarchyItem:Ne,asTypeHierarchyItem:Oe,asInlayHint:ze,asWorkspaceSymbol:qe}}Pl.createConverter=RK});var gx=M(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.createConverter=void 0;var oe=require("vscode"),Ce=Ee(),di=ui(),Xe=Fl(),IK=Um(),MK=jm(),NK=Hm(),OK=Gm(),hx=Ym(),LK=ey(),qK=iy(),UK=oy(),BK=uy(),px=Ee(),Rl;(function(t){function e(n){let i=n;return i&&di.string(i.language)&&di.string(i.value)}t.is=e})(Rl||(Rl={}));function KK(t,e,n){let r=t||(v=>oe.Uri.parse(v));function s(v){return r(v)}function o(v){let B=[];for(let Y of v)if(typeof Y=="string")B.push(Y);else if(px.NotebookCellTextDocumentFilter.is(Y))if(typeof Y.notebook=="string")B.push({notebookType:Y.notebook,language:Y.language});else{let ge=Y.notebook.notebookType??"*";B.push({notebookType:ge,scheme:Y.notebook.scheme,pattern:Y.notebook.pattern,language:Y.language})}else px.TextDocumentFilter.is(Y)&&B.push({language:Y.language,scheme:Y.scheme,pattern:Y.pattern});return B}async function a(v,B){return Xe.map(v,d,B)}function c(v){let B=new Array(v.length);for(let Y=0;Y<v.length;Y++)B[Y]=d(v[Y]);return B}function d(v){let B=new hx.ProtocolDiagnostic(l(v.range),v.message,y(v.severity),v.data);if(v.code!==void 0){if(typeof v.code=="string"||typeof v.code=="number")Ce.CodeDescription.is(v.codeDescription)?B.code={value:v.code,target:s(v.codeDescription.href)}:B.code=v.code;else if(hx.DiagnosticCode.is(v.code)){B.hasDiagnosticCode=!0;let Y=v.code;B.code={value:Y.value,target:s(Y.target)}}}return v.source&&(B.source=v.source),v.relatedInformation&&(B.relatedInformation=p(v.relatedInformation)),Array.isArray(v.tags)&&(B.tags=m(v.tags)),B}function p(v){let B=new Array(v.length);for(let Y=0;Y<v.length;Y++){let ge=v[Y];B[Y]=new oe.DiagnosticRelatedInformation(je(ge.location),ge.message)}return B}function m(v){if(!v)return;let B=[];for(let Y of v){let ge=f(Y);ge!==void 0&&B.push(ge)}return B.length>0?B:void 0}function f(v){switch(v){case Ce.DiagnosticTag.Unnecessary:return oe.DiagnosticTag.Unnecessary;case Ce.DiagnosticTag.Deprecated:return oe.DiagnosticTag.Deprecated;default:return}}function u(v){return v?new oe.Position(v.line,v.character):void 0}function l(v){return v?new oe.Range(v.start.line,v.start.character,v.end.line,v.end.character):void 0}async function h(v,B){return Xe.map(v,Y=>new oe.Range(Y.start.line,Y.start.character,Y.end.line,Y.end.character),B)}function y(v){if(v==null)return oe.DiagnosticSeverity.Error;switch(v){case Ce.DiagnosticSeverity.Error:return oe.DiagnosticSeverity.Error;case Ce.DiagnosticSeverity.Warning:return oe.DiagnosticSeverity.Warning;case Ce.DiagnosticSeverity.Information:return oe.DiagnosticSeverity.Information;case Ce.DiagnosticSeverity.Hint:return oe.DiagnosticSeverity.Hint}return oe.DiagnosticSeverity.Error}function S(v){if(di.string(v))return x(v);if(Rl.is(v))return x().appendCodeblock(v.value,v.language);if(Array.isArray(v)){let B=[];for(let Y of v){let ge=x();Rl.is(Y)?ge.appendCodeblock(Y.value,Y.language):ge.appendMarkdown(Y),B.push(ge)}return B}else return x(v)}function D(v){if(di.string(v))return v;switch(v.kind){case Ce.MarkupKind.Markdown:return x(v.value);case Ce.MarkupKind.PlainText:return v.value;default:return`Unsupported Markup content received. Kind is: ${v.kind}`}}function x(v){let B;if(v===void 0||typeof v=="string")B=new oe.MarkdownString(v);else switch(v.kind){case Ce.MarkupKind.Markdown:B=new oe.MarkdownString(v.value);break;case Ce.MarkupKind.PlainText:B=new oe.MarkdownString,B.appendText(v.value);break;default:B=new oe.MarkdownString,B.appendText(`Unsupported Markup content received. Kind is: ${v.kind}`);break}return B.isTrusted=e,B.supportHtml=n,B}function F(v){if(v)return new oe.Hover(S(v.contents),l(v.range))}async function A(v,B,Y){if(!v)return;if(Array.isArray(v))return Xe.map(v,ri=>Z(ri,B),Y);let ge=v,{defaultRange:ln,commitCharacters:Pt}=N(ge,B),Ge=await Xe.map(ge.items,ri=>Z(ri,Pt,ln,ge.itemDefaults?.insertTextMode,ge.itemDefaults?.insertTextFormat,ge.itemDefaults?.data),Y);return new oe.CompletionList(Ge,ge.isIncomplete)}function N(v,B){let Y=v.itemDefaults?.editRange,ge=v.itemDefaults?.commitCharacters??B;return Ce.Range.is(Y)?{defaultRange:l(Y),commitCharacters:ge}:Y!==void 0?{defaultRange:{inserting:l(Y.insert),replacing:l(Y.replace)},commitCharacters:ge}:{defaultRange:void 0,commitCharacters:ge}}function q(v){return Ce.CompletionItemKind.Text<=v&&v<=Ce.CompletionItemKind.TypeParameter?[v-1,void 0]:[oe.CompletionItemKind.Text,v]}function $(v){switch(v){case Ce.CompletionItemTag.Deprecated:return oe.CompletionItemTag.Deprecated}}function J(v){if(v==null)return[];let B=[];for(let Y of v){let ge=$(Y);ge!==void 0&&B.push(ge)}return B}function Z(v,B,Y,ge,ln,Pt){let Ge=J(v.tags),ri=le(v),st=new IK.default(ri);v.detail&&(st.detail=v.detail),v.documentation&&(st.documentation=D(v.documentation),st.documentationFormat=di.string(v.documentation)?"$string":v.documentation.kind),v.filterText&&(st.filterText=v.filterText);let Qr=ce(v,Y,ln);if(Qr&&(st.insertText=Qr.text,st.range=Qr.range,st.fromEdit=Qr.fromEdit),di.number(v.kind)){let[_f,Lo]=q(v.kind);st.kind=_f,Lo&&(st.originalItemKind=Lo)}v.sortText&&(st.sortText=v.sortText),v.additionalTextEdits&&(st.additionalTextEdits=re(v.additionalTextEdits));let Bc=v.commitCharacters!==void 0?di.stringArray(v.commitCharacters)?v.commitCharacters:void 0:B;Bc&&(st.commitCharacters=Bc.slice()),v.command&&(st.command=dt(v.command)),(v.deprecated===!0||v.deprecated===!1)&&(st.deprecated=v.deprecated,v.deprecated===!0&&Ge.push(oe.CompletionItemTag.Deprecated)),(v.preselect===!0||v.preselect===!1)&&(st.preselect=v.preselect);let Kc=v.data??Pt;Kc!==void 0&&(st.data=Kc),Ge.length>0&&(st.tags=Ge);let Oo=v.insertTextMode??ge;return Oo!==void 0&&(st.insertTextMode=Oo,Oo===Ce.InsertTextMode.asIs&&(st.keepWhitespace=!0)),st}function le(v){return Ce.CompletionItemLabelDetails.is(v.labelDetails)?{label:v.label,detail:v.labelDetails.detail,description:v.labelDetails.description}:v.label}function ce(v,B,Y){let ge=v.insertTextFormat??Y;if(v.textEdit!==void 0||B!==void 0){let[ln,Pt]=v.textEdit!==void 0?X(v.textEdit):[B,v.textEditText??v.label];return ge===Ce.InsertTextFormat.Snippet?{text:new oe.SnippetString(Pt),range:ln,fromEdit:!0}:{text:Pt,range:ln,fromEdit:!0}}else return v.insertText?ge===Ce.InsertTextFormat.Snippet?{text:new oe.SnippetString(v.insertText),fromEdit:!1}:{text:v.insertText,fromEdit:!1}:void 0}function X(v){return Ce.InsertReplaceEdit.is(v)?[{inserting:l(v.insert),replacing:l(v.replace)},v.newText]:[l(v.range),v.newText]}function H(v){if(v)return new oe.TextEdit(l(v.range),v.newText)}async function ee(v,B){if(v)return Xe.map(v,H,B)}function re(v){if(!v)return;let B=new Array(v.length);for(let Y=0;Y<v.length;Y++)B[Y]=H(v[Y]);return B}async function we(v,B){if(!v)return;let Y=new oe.SignatureHelp;return di.number(v.activeSignature)?Y.activeSignature=v.activeSignature:Y.activeSignature=0,di.number(v.activeParameter)?Y.activeParameter=v.activeParameter:Y.activeParameter=0,v.signatures&&(Y.signatures=await de(v.signatures,B)),Y}async function de(v,B){return Xe.mapAsync(v,ue,B)}async function ue(v,B){let Y=new oe.SignatureInformation(v.label);return v.documentation!==void 0&&(Y.documentation=D(v.documentation)),v.parameters!==void 0&&(Y.parameters=await Ke(v.parameters,B)),v.activeParameter!==void 0&&(Y.activeParameter=v.activeParameter),Y}function Ke(v,B){return Xe.map(v,nt,B)}function nt(v){let B=new oe.ParameterInformation(v.label);return v.documentation&&(B.documentation=D(v.documentation)),B}function je(v){return v?new oe.Location(r(v.uri),l(v.range)):void 0}async function it(v,B){if(v)return Kt(v,B)}async function rt(v,B){if(v)return Kt(v,B)}function Bt(v){if(!v)return;let B={targetUri:r(v.targetUri),targetRange:l(v.targetRange),originSelectionRange:l(v.originSelectionRange),targetSelectionRange:l(v.targetSelectionRange)};if(!B.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return B}async function Kt(v,B){if(v)if(di.array(v)){if(v.length===0)return[];if(Ce.LocationLink.is(v[0])){let Y=v;return Xe.map(Y,Bt,B)}else{let Y=v;return Xe.map(Y,je,B)}}else return Ce.LocationLink.is(v)?[Bt(v)]:je(v)}async function Cn(v,B){if(v)return Xe.map(v,je,B)}async function ni(v,B){if(v)return Xe.map(v,un,B)}function un(v){let B=new oe.DocumentHighlight(l(v.range));return di.number(v.kind)&&(B.kind=Kn(v.kind)),B}function Kn(v){switch(v){case Ce.DocumentHighlightKind.Text:return oe.DocumentHighlightKind.Text;case Ce.DocumentHighlightKind.Read:return oe.DocumentHighlightKind.Read;case Ce.DocumentHighlightKind.Write:return oe.DocumentHighlightKind.Write}return oe.DocumentHighlightKind.Text}async function Mn(v,B){if(v)return Xe.map(v,Zt,B)}function lt(v){return v<=Ce.SymbolKind.TypeParameter?v-1:oe.SymbolKind.Property}function jn(v){switch(v){case Ce.SymbolTag.Deprecated:return oe.SymbolTag.Deprecated;default:return}}function Sn(v){if(v==null)return;let B=[];for(let Y of v){let ge=jn(Y);ge!==void 0&&B.push(ge)}return B.length===0?void 0:B}function Zt(v){let B=v.data,Y=v.location,ge=Y.range===void 0||B!==void 0?new UK.default(v.name,lt(v.kind),v.containerName??"",Y.range===void 0?r(Y.uri):new oe.Location(r(v.location.uri),l(Y.range)),B):new oe.SymbolInformation(v.name,lt(v.kind),v.containerName??"",new oe.Location(r(v.location.uri),l(Y.range)));return _e(ge,v),ge}async function $n(v,B){if(v!=null)return Xe.map(v,De,B)}function De(v){let B=new oe.DocumentSymbol(v.name,v.detail||"",lt(v.kind),l(v.range),l(v.selectionRange));if(_e(B,v),v.children!==void 0&&v.children.length>0){let Y=[];for(let ge of v.children)Y.push(De(ge));B.children=Y}return B}function _e(v,B){v.tags=Sn(B.tags),B.deprecated&&(v.tags?v.tags.includes(oe.SymbolTag.Deprecated)||(v.tags=v.tags.concat(oe.SymbolTag.Deprecated)):v.tags=[oe.SymbolTag.Deprecated])}function dt(v){let B={title:v.title,command:v.command};return v.arguments&&(B.arguments=v.arguments),B}async function en(v,B){if(v)return Xe.map(v,dt,B)}let jt=new Map;jt.set(Ce.CodeActionKind.Empty,oe.CodeActionKind.Empty),jt.set(Ce.CodeActionKind.QuickFix,oe.CodeActionKind.QuickFix),jt.set(Ce.CodeActionKind.Refactor,oe.CodeActionKind.Refactor),jt.set(Ce.CodeActionKind.RefactorExtract,oe.CodeActionKind.RefactorExtract),jt.set(Ce.CodeActionKind.RefactorInline,oe.CodeActionKind.RefactorInline),jt.set(Ce.CodeActionKind.RefactorRewrite,oe.CodeActionKind.RefactorRewrite),jt.set(Ce.CodeActionKind.Source,oe.CodeActionKind.Source),jt.set(Ce.CodeActionKind.SourceOrganizeImports,oe.CodeActionKind.SourceOrganizeImports);function Wn(v){if(v==null)return;let B=jt.get(v);if(B)return B;let Y=v.split(".");B=oe.CodeActionKind.Empty;for(let ge of Y)B=B.append(ge);return B}function zt(v){if(v!=null)return v.map(B=>Wn(B))}async function Hn(v,B){if(v==null)return;let Y=new OK.default(v.title,v.data);return v.kind!==void 0&&(Y.kind=Wn(v.kind)),v.diagnostics!==void 0&&(Y.diagnostics=c(v.diagnostics)),v.edit!==void 0&&(Y.edit=await $t(v.edit,B)),v.command!==void 0&&(Y.command=dt(v.command)),v.isPreferred!==void 0&&(Y.isPreferred=v.isPreferred),v.disabled!==void 0&&(Y.disabled={reason:v.disabled.reason}),Y}function ii(v,B){return Xe.mapAsync(v,async Y=>Ce.Command.is(Y)?dt(Y):Hn(Y,B),B)}function Gt(v){if(!v)return;let B=new MK.default(l(v.range));return v.command&&(B.command=dt(v.command)),v.data!==void 0&&v.data!==null&&(B.data=v.data),B}async function tn(v,B){if(v)return Xe.map(v,Gt,B)}async function $t(v,B){if(!v)return;let Y=new Map;if(v.changeAnnotations!==void 0){let Pt=v.changeAnnotations;await Xe.forEach(Object.keys(Pt),Ge=>{let ri=I(Pt[Ge]);Y.set(Ge,ri)},B)}let ge=Pt=>{if(Pt!==void 0)return Y.get(Pt)},ln=new oe.WorkspaceEdit;if(v.documentChanges){let Pt=v.documentChanges;await Xe.forEach(Pt,Ge=>{if(Ce.CreateFile.is(Ge))ln.createFile(r(Ge.uri),Ge.options,ge(Ge.annotationId));else if(Ce.RenameFile.is(Ge))ln.renameFile(r(Ge.oldUri),r(Ge.newUri),Ge.options,ge(Ge.annotationId));else if(Ce.DeleteFile.is(Ge))ln.deleteFile(r(Ge.uri),Ge.options,ge(Ge.annotationId));else if(Ce.TextDocumentEdit.is(Ge)){let ri=r(Ge.textDocument.uri);for(let st of Ge.edits)Ce.AnnotatedTextEdit.is(st)?ln.replace(ri,l(st.range),st.newText,ge(st.annotationId)):ln.replace(ri,l(st.range),st.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Ge,void 0,4)}`)},B)}else if(v.changes){let Pt=v.changes;await Xe.forEach(Object.keys(Pt),Ge=>{ln.set(r(Ge),re(Pt[Ge]))},B)}return ln}function I(v){if(v!==void 0)return{label:v.label,needsConfirmation:!!v.needsConfirmation,description:v.description}}function V(v){let B=l(v.range),Y=v.target?s(v.target):void 0,ge=new NK.default(B,Y);return v.tooltip!==void 0&&(ge.tooltip=v.tooltip),v.data!==void 0&&v.data!==null&&(ge.data=v.data),ge}async function te(v,B){if(v)return Xe.map(v,V,B)}function ae(v){return new oe.Color(v.red,v.green,v.blue,v.alpha)}function Ne(v){return new oe.ColorInformation(l(v.range),ae(v.color))}async function Oe(v,B){if(v)return Xe.map(v,Ne,B)}function qe(v){let B=new oe.ColorPresentation(v.label);return B.additionalTextEdits=re(v.additionalTextEdits),v.textEdit&&(B.textEdit=H(v.textEdit)),B}async function ze(v,B){if(v)return Xe.map(v,qe,B)}function Te(v){if(v)switch(v){case Ce.FoldingRangeKind.Comment:return oe.FoldingRangeKind.Comment;case Ce.FoldingRangeKind.Imports:return oe.FoldingRangeKind.Imports;case Ce.FoldingRangeKind.Region:return oe.FoldingRangeKind.Region}}function Ae(v){return new oe.FoldingRange(v.startLine,v.endLine,Te(v.kind))}async function w(v,B){if(v)return Xe.map(v,Ae,B)}function _(v){return new oe.SelectionRange(l(v.range),v.parent?_(v.parent):void 0)}async function L(v,B){return Array.isArray(v)?Xe.map(v,_,B):[]}function W(v){return Ce.InlineValueText.is(v)?new oe.InlineValueText(l(v.range),v.text):Ce.InlineValueVariableLookup.is(v)?new oe.InlineValueVariableLookup(l(v.range),v.variableName,v.caseSensitiveLookup):new oe.InlineValueEvaluatableExpression(l(v.range),v.expression)}async function R(v,B){return Array.isArray(v)?Xe.map(v,W,B):[]}async function T(v,B){let Y=typeof v.label=="string"?v.label:await Xe.map(v.label,O,B),ge=new BK.default(u(v.position),Y);return v.kind!==void 0&&(ge.kind=v.kind),v.textEdits!==void 0&&(ge.textEdits=await ee(v.textEdits,B)),v.tooltip!==void 0&&(ge.tooltip=U(v.tooltip)),v.paddingLeft!==void 0&&(ge.paddingLeft=v.paddingLeft),v.paddingRight!==void 0&&(ge.paddingRight=v.paddingRight),v.data!==void 0&&(ge.data=v.data),ge}function O(v){let B=new oe.InlayHintLabelPart(v.value);return v.location!==void 0&&(B.location=je(v.location)),v.tooltip!==void 0&&(B.tooltip=U(v.tooltip)),v.command!==void 0&&(B.command=dt(v.command)),B}function U(v){return typeof v=="string"?v:x(v)}async function k(v,B){if(Array.isArray(v))return Xe.mapAsync(v,T,B)}function b(v){if(v===null)return;let B=new LK.default(lt(v.kind),v.name,v.detail||"",s(v.uri),l(v.range),l(v.selectionRange),v.data);return v.tags!==void 0&&(B.tags=Sn(v.tags)),B}async function j(v,B){if(v!==null)return Xe.map(v,b,B)}async function G(v,B){return new oe.CallHierarchyIncomingCall(b(v.from),await h(v.fromRanges,B))}async function be(v,B){if(v!==null)return Xe.mapAsync(v,G,B)}async function at(v,B){return new oe.CallHierarchyOutgoingCall(b(v.to),await h(v.fromRanges,B))}async function Qe(v,B){if(v!==null)return Xe.mapAsync(v,at,B)}async function Dn(v,B){if(v!=null)return new oe.SemanticTokens(new Uint32Array(v.data),v.resultId)}function nn(v){return new oe.SemanticTokensEdit(v.start,v.deleteCount,v.data!==void 0?new Uint32Array(v.data):void 0)}async function Vn(v,B){if(v!=null)return new oe.SemanticTokensEdits(v.edits.map(nn),v.resultId)}function Re(v){return v}async function Ri(v,B){if(v!=null)return new oe.LinkedEditingRanges(await h(v.ranges,B),Xi(v.wordPattern))}function Xi(v){if(v!=null)return new RegExp(v)}function Yr(v){if(v===null)return;let B=new qK.default(lt(v.kind),v.name,v.detail||"",s(v.uri),l(v.range),l(v.selectionRange),v.data);return v.tags!==void 0&&(B.tags=Sn(v.tags)),B}async function Ef(v,B){if(v!==null)return Xe.map(v,Yr,B)}function xf(v){if(di.string(v))return v;if(Ce.RelativePattern.is(v)){if(Ce.URI.is(v.baseUri))return new oe.RelativePattern(s(v.baseUri),v.pattern);if(Ce.WorkspaceFolder.is(v.baseUri)){let B=oe.workspace.getWorkspaceFolder(s(v.baseUri.uri));return B!==void 0?new oe.RelativePattern(B,v.pattern):void 0}}}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:d,asRange:l,asRanges:h,asPosition:u,asDiagnosticSeverity:y,asDiagnosticTag:f,asHover:F,asCompletionResult:A,asCompletionItem:Z,asTextEdit:H,asTextEdits:ee,asSignatureHelp:we,asSignatureInformations:de,asSignatureInformation:ue,asParameterInformations:Ke,asParameterInformation:nt,asDeclarationResult:it,asDefinitionResult:rt,asLocation:je,asReferences:Cn,asDocumentHighlights:ni,asDocumentHighlight:un,asDocumentHighlightKind:Kn,asSymbolKind:lt,asSymbolTag:jn,asSymbolTags:Sn,asSymbolInformations:Mn,asSymbolInformation:Zt,asDocumentSymbols:$n,asDocumentSymbol:De,asCommand:dt,asCommands:en,asCodeAction:Hn,asCodeActionKind:Wn,asCodeActionKinds:zt,asCodeActionResult:ii,asCodeLens:Gt,asCodeLenses:tn,asWorkspaceEdit:$t,asDocumentLink:V,asDocumentLinks:te,asFoldingRangeKind:Te,asFoldingRange:Ae,asFoldingRanges:w,asColor:ae,asColorInformation:Ne,asColorInformations:Oe,asColorPresentation:qe,asColorPresentations:ze,asSelectionRange:_,asSelectionRanges:L,asInlineValue:W,asInlineValues:R,asInlayHint:T,asInlayHints:k,asSemanticTokensLegend:Re,asSemanticTokens:Dn,asSemanticTokensEdit:nn,asSemanticTokensEdits:Vn,asCallHierarchyItem:b,asCallHierarchyItems:j,asCallHierarchyIncomingCall:G,asCallHierarchyIncomingCalls:be,asCallHierarchyOutgoingCall:at,asCallHierarchyOutgoingCalls:Qe,asLinkedEditingRanges:Ri,asTypeHierarchyItem:Yr,asTypeHierarchyItems:Ef,asGlobPattern:xf}}Il.createConverter=KK});var bt=M(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.generateUuid=fi.parse=fi.isUUID=fi.v4=fi.empty=void 0;var Ha=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Va=class t extends Ha{constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}};Va._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Va._timeHighBits=["8","9","a","b"];fi.empty=new Ha("00000000-0000-0000-0000-000000000000");function mx(){return new Va}fi.v4=mx;var jK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function yx(t){return jK.test(t)}fi.isUUID=yx;function $K(t){if(!yx(t))throw new Error("invalid uuid");return new Ha(t)}fi.parse=$K;function WK(){return mx().asHex()}fi.generateUuid=WK});var fy=M(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ProgressPart=void 0;var vx=require("vscode"),Cx=Ee(),Sx=ui(),dy=class{constructor(e,n,i){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(Cx.WorkDoneProgress.type,this._token,r=>{switch(r.kind){case"begin":this.begin(r);break;case"report":this.report(r);break;case"end":this.done(),i&&i(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&vx.window.withProgress({location:vx.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,i)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=i,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(Cx.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((r,s)=>{this._resolve=r,this._reject=s})})}report(e){if(this._infinite&&Sx.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Sx.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),i=Math.max(0,n-this._reported);this._reported+=i,this._progress!==void 0&&this._progress.report({message:e.message,increment:i})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Ml.ProgressPart=dy});var $e=M(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.WorkspaceFeature=Ot.TextDocumentLanguageFeature=Ot.TextDocumentEventFeature=Ot.DynamicDocumentFeature=Ot.DynamicFeature=Ot.StaticFeature=Ot.ensure=Ot.LSPCancellationError=void 0;var ps=require("vscode"),hy=Ee(),xn=ui(),Dx=bt(),py=class extends ps.CancellationError{constructor(e){super(),this.data=e}};Ot.LSPCancellationError=py;function HK(t,e){return t[e]===void 0&&(t[e]={}),t[e]}Ot.ensure=HK;var VK;(function(t){function e(n){let i=n;return i!=null&&xn.func(i.fillClientCapabilities)&&xn.func(i.initialize)&&xn.func(i.getState)&&xn.func(i.dispose)&&(i.fillInitializeParams===void 0||xn.func(i.fillInitializeParams))}t.is=e})(VK=Ot.StaticFeature||(Ot.StaticFeature={}));var zK;(function(t){function e(n){let i=n;return i!=null&&xn.func(i.fillClientCapabilities)&&xn.func(i.initialize)&&xn.func(i.getState)&&xn.func(i.dispose)&&(i.fillInitializeParams===void 0||xn.func(i.fillInitializeParams))&&xn.func(i.register)&&xn.func(i.unregister)&&i.registrationType!==void 0}t.is=e})(zK=Ot.DynamicFeature||(Ot.DynamicFeature={}));var za=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let r of e){n++;for(let s of ps.workspace.textDocuments)if(ps.languages.match(r,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let i=n>0;return{kind:"document",id:this.registrationType.method,registrations:i,matches:!1}}};Ot.DynamicDocumentFeature=za;var gy=class extends za{constructor(e,n,i,r,s,o,a){super(e),this._event=n,this._type=i,this._middleware=r,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new ps.EventEmitter}static textDocumentFilter(e,n){for(let i of e)if(ps.languages.match(i,n)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(i=>{this._client.error(`Sending document notification ${this._type.method} failed.`,i)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async i=>{let r=this._createParams(i);await this._client.sendNotification(this._type,r),this.notificationSent(this.getTextDocument(i),this._type,r)};if(this.matches(e)){let i=this._middleware();return i?i(e,r=>n(r)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(ps.languages.match(n,e)>0)return{send:i=>this.callback(i)}}};Ot.TextDocumentEventFeature=gy;var my=class extends za{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(hy.TextDocumentRegistrationOptions.is(n)){let i=hy.StaticRegistrationOptions.hasId(n)?n.id:Dx.generateUuid(),r=n.documentSelector??e;if(r)return[i,Object.assign({},n,{documentSelector:r})]}else if(xn.boolean(n)&&n===!0||hy.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let i=xn.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[Dx.generateUuid(),i]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return xn.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let i=n.data.registerOptions.documentSelector;if(i!==null&&ps.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(i),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Ot.TextDocumentLanguageFeature=my;var yy=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Ot.WorkspaceFeature=yy});var wx=M((m6,bx)=>{var GK=typeof process=="object"&&process&&process.platform==="win32";bx.exports=GK?{sep:"\\"}:{sep:"/"}});var kx=M((y6,_x)=>{"use strict";_x.exports=Ex;function Ex(t,e,n){t instanceof RegExp&&(t=Tx(t,n)),e instanceof RegExp&&(e=Tx(e,n));var i=xx(t,e,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+t.length,i[1]),post:n.slice(i[1]+e.length)}}function Tx(t,e){var n=e.match(t);return n?n[0]:null}Ex.range=xx;function xx(t,e,n){var i,r,s,o,a,c=n.indexOf(t),d=n.indexOf(e,c+1),p=c;if(c>=0&&d>0){if(t===e)return[c,d];for(i=[],s=n.length;p>=0&&!a;)p==c?(i.push(p),c=n.indexOf(t,p+1)):i.length==1?a=[i.pop(),d]:(r=i.pop(),r<s&&(s=r,o=d),d=n.indexOf(e,p+1)),p=c<d&&c>=0?c:d;i.length&&(a=[s,o])}return a}});var Ox=M((v6,Nx)=>{var Fx=kx();Nx.exports=YK;var Ax="\0SLASH"+Math.random()+"\0",Px="\0OPEN"+Math.random()+"\0",Cy="\0CLOSE"+Math.random()+"\0",Rx="\0COMMA"+Math.random()+"\0",Ix="\0PERIOD"+Math.random()+"\0";function vy(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function JK(t){return t.split("\\\\").join(Ax).split("\\{").join(Px).split("\\}").join(Cy).split("\\,").join(Rx).split("\\.").join(Ix)}function XK(t){return t.split(Ax).join("\\").split(Px).join("{").split(Cy).join("}").split(Rx).join(",").split(Ix).join(".")}function Mx(t){if(!t)return[""];var e=[],n=Fx("{","}",t);if(!n)return t.split(",");var i=n.pre,r=n.body,s=n.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var a=Mx(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function YK(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ga(JK(t),!0).map(XK)):[]}function QK(t){return"{"+t+"}"}function ZK(t){return/^-?0\d/.test(t)}function ej(t,e){return t<=e}function tj(t,e){return t>=e}function Ga(t,e){var n=[],i=Fx("{","}",t);if(!i)return[t];var r=i.pre,s=i.post.length?Ga(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=r+"{"+i.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),p=c||d,m=i.body.indexOf(",")>=0;if(!p&&!m)return i.post.match(/,.*\}/)?(t=i.pre+"{"+i.body+Cy+i.post,Ga(t)):[t];var f;if(p)f=i.body.split(/\.\./);else if(f=Mx(i.body),f.length===1&&(f=Ga(f[0],!1).map(QK),f.length===1))return s.map(function(Z){return i.pre+f[0]+Z});var u;if(p){var l=vy(f[0]),h=vy(f[1]),y=Math.max(f[0].length,f[1].length),S=f.length==3?Math.abs(vy(f[2])):1,D=ej,x=h<l;x&&(S*=-1,D=tj);var F=f.some(ZK);u=[];for(var A=l;D(A,h);A+=S){var N;if(d)N=String.fromCharCode(A),N==="\\"&&(N="");else if(N=String(A),F){var q=y-N.length;if(q>0){var $=new Array(q+1).join("0");A<0?N="-"+$+N.slice(1):N=$+N}}u.push(N)}}else{u=[];for(var J=0;J<f.length;J++)u.push.apply(u,Ga(f[J],!1))}for(var J=0;J<u.length;J++)for(var o=0;o<s.length;o++){var a=r+u[J]+s[o];(!e||p||a)&&n.push(a)}}return n}});var Ol=M((S6,Ty)=>{var Qn=Ty.exports=(t,e,n={})=>(Nl(e),!n.nocomment&&e.charAt(0)==="#"?!1:new fo(e,n).match(t));Ty.exports=Qn;var by=wx();Qn.sep=by.sep;var _i=Symbol("globstar **");Qn.GLOBSTAR=_i;var nj=Ox(),Lx={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},wy="[^/]",Sy=wy+"*?",ij="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",rj="(?:(?!(?:\\/|^)\\.).)*?",Bx=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),qx=Bx("().*{}+?[]^$\\!"),sj=Bx("[.("),Ux=/\/+/;Qn.filter=(t,e={})=>(n,i,r)=>Qn(n,t,e);var Or=(t,e={})=>{let n={};return Object.keys(t).forEach(i=>n[i]=t[i]),Object.keys(e).forEach(i=>n[i]=e[i]),n};Qn.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Qn;let e=Qn,n=(i,r,s)=>e(i,r,Or(t,s));return n.Minimatch=class extends e.Minimatch{constructor(r,s){super(r,Or(t,s))}},n.Minimatch.defaults=i=>e.defaults(Or(t,i)).Minimatch,n.filter=(i,r)=>e.filter(i,Or(t,r)),n.defaults=i=>e.defaults(Or(t,i)),n.makeRe=(i,r)=>e.makeRe(i,Or(t,r)),n.braceExpand=(i,r)=>e.braceExpand(i,Or(t,r)),n.match=(i,r,s)=>e.match(i,r,Or(t,s)),n};Qn.braceExpand=(t,e)=>Kx(t,e);var Kx=(t,e={})=>(Nl(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:nj(t)),oj=1024*64,Nl=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>oj)throw new TypeError("pattern is too long")},Dy=Symbol("subparse");Qn.makeRe=(t,e)=>new fo(t,e||{}).makeRe();Qn.match=(t,e,n={})=>{let i=new fo(e,n);return t=t.filter(r=>i.match(r)),i.options.nonull&&!t.length&&t.push(e),t};var aj=t=>t.replace(/\\(.)/g,"$1"),cj=t=>t.replace(/\\([^-\]])/g,"$1"),uj=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),lj=t=>t.replace(/[[\]\\]/g,"\\$&"),fo=class{constructor(e,n){Nl(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let i=this.globSet=this.braceExpand();n.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,i),i=this.globParts=i.map(r=>r.split(Ux)),this.debug(this.pattern,i),i=i.map((r,s,o)=>r.map(this.parse,this)),this.debug(this.pattern,i),i=i.filter(r=>r.indexOf(!1)===-1),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,i=0;for(let r=0;r<e.length&&e.charAt(r)==="!";r++)n=!n,i++;i&&(this.pattern=e.slice(i)),this.negate=n}matchOne(e,n,i){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var d=n[o],p=e[s];if(this.debug(n,d,p),d===!1)return!1;if(d===_i){this.debug("GLOBSTAR",[n,d,p]);var m=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!r.dot&&e[s].charAt(0)===".")return!1;return!0}for(;m<a;){var u=e[m];if(this.debug(`
globstar while`,e,m,n,f,u),this.matchOne(e.slice(m),n.slice(f),i))return this.debug("globstar found match!",m,a,u),!0;if(u==="."||u===".."||!r.dot&&u.charAt(0)==="."){this.debug("dot detected!",e,m,n,f);break}this.debug("globstar swallow a segment, and continue"),m++}return!!(i&&(this.debug(`
>>> no match, partial?`,e,m,n,f),m===a))}var l;if(typeof d=="string"?(l=p===d,this.debug("string match",d,p,l)):(l=p.match(d),this.debug("pattern match",d,p,l)),!l)return!1}if(s===a&&o===c)return!0;if(s===a)return i;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return Kx(this.pattern,this.options)}parse(e,n){Nl(e);let i=this.options;if(e==="**")if(i.noglobstar)e="*";else return _i;if(e==="")return"";let r="",s=!1,o=!1,a=[],c=[],d,p=!1,m=-1,f=-1,u,l,h,y=e.charAt(0)===".",S=i.dot||y,D=()=>y?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",x=q=>q.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",F=()=>{if(d){switch(d){case"*":r+=Sy,s=!0;break;case"?":r+=wy,s=!0;break;default:r+="\\"+d;break}this.debug("clearStateChar %j %j",d,r),d=!1}};for(let q=0,$;q<e.length&&($=e.charAt(q));q++){if(this.debug("%s	%s %s %j",e,q,r,$),o){if($==="/")return!1;qx[$]&&(r+="\\"),r+=$,o=!1;continue}switch($){case"/":return!1;case"\\":if(p&&e.charAt(q+1)==="-"){r+=$;continue}F(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,q,r,$),p){this.debug("  in class"),$==="!"&&q===f+1&&($="^"),r+=$;continue}this.debug("call clearStateChar %j",d),F(),d=$,i.noext&&F();continue;case"(":{if(p){r+="(";continue}if(!d){r+="\\(";continue}let J={type:d,start:q-1,reStart:r.length,open:Lx[d].open,close:Lx[d].close};this.debug(this.pattern,"	",J),a.push(J),r+=J.open,J.start===0&&J.type!=="!"&&(y=!0,r+=x(e.slice(q+1))),this.debug("plType %j %j",d,r),d=!1;continue}case")":{let J=a[a.length-1];if(p||!J){r+="\\)";continue}a.pop(),F(),s=!0,l=J,r+=l.close,l.type==="!"&&c.push(Object.assign(l,{reEnd:r.length}));continue}case"|":{let J=a[a.length-1];if(p||!J){r+="\\|";continue}F(),r+="|",J.start===0&&J.type!=="!"&&(y=!0,r+=x(e.slice(q+1)));continue}case"[":if(F(),p){r+="\\"+$;continue}p=!0,f=q,m=r.length,r+=$;continue;case"]":if(q===f+1||!p){r+="\\"+$;continue}u=e.substring(f+1,q);try{RegExp("["+lj(cj(u))+"]"),r+=$}catch{r=r.substring(0,m)+"(?:$.)"}s=!0,p=!1;continue;default:F(),qx[$]&&!($==="^"&&p)&&(r+="\\"),r+=$;break}}for(p&&(u=e.slice(f+1),h=this.parse(u,Dy),r=r.substring(0,m)+"\\["+h[0],s=s||h[1]),l=a.pop();l;l=a.pop()){let q;q=r.slice(l.reStart+l.open.length),this.debug("setting tail",r,l),q=q.replace(/((?:\\{2}){0,64})(\\?)\|/g,(J,Z,le)=>(le||(le="\\"),Z+Z+le+"|")),this.debug(`tail=%j
   %s`,q,q,l,r);let $=l.type==="*"?Sy:l.type==="?"?wy:"\\"+l.type;s=!0,r=r.slice(0,l.reStart)+$+"\\("+q}F(),o&&(r+="\\\\");let A=sj[r.charAt(0)];for(let q=c.length-1;q>-1;q--){let $=c[q],J=r.slice(0,$.reStart),Z=r.slice($.reStart,$.reEnd-8),le=r.slice($.reEnd),ce=r.slice($.reEnd-8,$.reEnd)+le,X=J.split(")").length,H=J.split("(").length-X,ee=le;for(let we=0;we<H;we++)ee=ee.replace(/\)[+*?]?/,"");le=ee;let re=le===""&&n!==Dy?"(?:$|\\/)":"";r=J+Z+le+re+ce}if(r!==""&&s&&(r="(?=.)"+r),A&&(r=D()+r),n===Dy)return[r,s];if(i.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return aj(e);let N=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",N),{_glob:e,_src:r})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,i=n.noglobstar?Sy:n.dot?ij:rj,r=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?uj(a):a===_i?_i:a._src).reduce((a,c)=>(a[a.length-1]===_i&&c===_i||a.push(c),a),[]),o.forEach((a,c)=>{a!==_i||o[c-1]===_i||(c===0?o.length>1?o[c+1]="(?:\\/|"+i+"\\/)?"+o[c+1]:o[c]=i:c===o.length-1?o[c-1]+="(?:\\/|"+i+")?":(o[c-1]+="(?:\\/|\\/"+i+"\\/)"+o[c+1],o[c+1]=_i))}),o.filter(a=>a!==_i).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,r)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let i=this.options;by.sep!=="/"&&(e=e.split(by.sep).join("/")),e=e.split(Ux),this.debug(this.pattern,"split",e);let r=this.set;this.debug(this.pattern,"set",r);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<r.length;o++){let a=r[o],c=e;if(i.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return i.flipNegate?!0:!this.negate}return i.flipNegate?!1:this.negate}static defaults(e){return Qn.defaults(e).Minimatch}};Qn.Minimatch=fo});var Iy=M(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.DiagnosticFeature=ji.DiagnosticPullMode=ji.vsdiag=void 0;var dj=Ol(),Be=require("vscode"),_t=Ee(),fj=bt(),Ey=$e();function Ll(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ki;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(ki=ji.vsdiag||(ji.vsdiag={}));var xy;(function(t){t.onType="onType",t.onSave="onSave"})(xy=ji.DiagnosticPullMode||(ji.DiagnosticPullMode={}));var gn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(gn||(gn={}));var _y=class t{constructor(){this.open=new Set,this._onOpen=new Be.EventEmitter,this._onClose=new Be.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let i=this.open,r=new Set;t.fillTabResources(r);let s=new Set,o=new Set(r);for(let a of i.values())r.has(a)?o.delete(a):s.add(a);if(this.open=r,s.size>0){let a=new Set;for(let c of s)a.add(Be.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(Be.Uri.parse(c));this._onOpen.fire(a)}};Be.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Be.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Be.Uri?Be.window.activeTextEditor?.document.uri===e:Be.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof Be.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let i=e??new Set;for(let r of Be.window.tabGroups.all)for(let s of r.tabs){let o=s.input,a;o instanceof Be.TabInputText?a=o.uri:o instanceof Be.TabInputTextDiff&&(a=o.modified),a!==void 0&&!i.has(a.toString())&&(i.add(a.toString()),n!==void 0&&n.add(a))}}},Ht;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(Ht||(Ht={}));var or;(function(t){function e(n){return n instanceof Be.Uri?n.toString():n.uri.toString()}t.asKey=e})(or||(or={}));var ky=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,i){let r=e===Ht.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof Be.Uri?[n.toString(),n,i]:[n.uri.toString(),n.uri,n.version],c=r.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},r.set(s,c)),c}update(e,n,i,r){let s=e===Ht.document?this.documentPullStates:this.workspacePullStates,[o,a,c,d]=n instanceof Be.Uri?[n.toString(),n,i,r]:[n.uri.toString(),n.uri,n.version,i],p=s.get(o);p===void 0?(p={document:a,pulledVersion:c,resultId:d},s.set(o,p)):(p.pulledVersion=c,p.resultId=d)}unTrack(e,n){let i=or.asKey(n);(e===Ht.document?this.documentPullStates:this.workspacePullStates).delete(i)}tracks(e,n){let i=or.asKey(n);return(e===Ht.document?this.documentPullStates:this.workspacePullStates).has(i)}getResultId(e,n){let i=or.asKey(n);return(e===Ht.document?this.documentPullStates:this.workspacePullStates).get(i)?.resultId}getAllResultIds(){let e=[];for(let[n,i]of this.workspacePullStates)this.documentPullStates.has(n)&&(i=this.documentPullStates.get(n)),i.resultId!==void 0&&e.push({uri:n,value:i.resultId});return e}},Fy=class{constructor(e,n,i){this.client=e,this.tabs=n,this.options=i,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Be.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Be.languages.createDiagnosticCollection(i.identifier),this.openRequests=new Map,this.documentStates=new ky,this.workspaceErrorCounter=0}knows(e,n){let i=n instanceof Be.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(i.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let i=e instanceof Be.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},r=>{this.client.error(`Document pull failed for text document ${i.toString()}`,r,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let i=e instanceof Be.Uri,r=i?e:e.uri,s=r.toString();n=i?n:e.version;let o=this.openRequests.get(s),a=i?this.documentStates.track(Ht.document,e,n):this.documentStates.track(Ht.document,e);if(o===void 0){let c=new Be.CancellationTokenSource;this.openRequests.set(s,{state:gn.active,document:e,version:n,tokenSource:c});let d,p;try{d=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:ki.DocumentDiagnosticReportKind.full,items:[]}}catch(m){if(m instanceof Ey.LSPCancellationError&&_t.DiagnosticServerCancellationData.is(m.data)&&m.data.retriggerRequest===!1&&(p={state:gn.outDated,document:e}),p===void 0&&m instanceof Be.CancellationError)p={state:gn.reschedule,document:e};else throw m}if(p=p??this.openRequests.get(s),p===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(r);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(Ht.document,e);return}if(p.state===gn.outDated)return;d!==void 0&&(d.kind===ki.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,d.items),a.pulledVersion=n,a.resultId=d.resultId),p.state===gn.reschedule&&this.pull(e)}else o.state===gn.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:gn.reschedule,document:o.document})):o.state===gn.outDated&&this.openRequests.set(s,{state:gn.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof Be.Uri?e:e.uri,i=n.toString(),r=this.openRequests.get(i);this.options.workspaceDiagnostics?r!==void 0?this.openRequests.set(i,{state:gn.reschedule,document:e}):this.pull(e,()=>{this.forget(Ht.document,e)}):(r!==void 0&&(r.state===gn.active&&r.tokenSource.cancel(),this.openRequests.set(i,{state:gn.outDated,document:e})),this.diagnostics.delete(n),this.forget(Ht.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,_t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Ey.LSPCancellationError)&&!_t.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,_t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Be.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let i of n.items)i.kind===ki.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Ht.document,i.uri)||this.diagnostics.set(i.uri,i.items)),this.documentStates.update(Ht.workspace,i.uri,i.version??void 0,i.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,i,r)=>{let s=(a,c,d)=>{let p={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof Be.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:ki.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(_t.DocumentDiagnosticRequest.type,p,d).then(async m=>m==null||this.isDisposed||d.isCancellationRequested?{kind:ki.DocumentDiagnosticReportKind.full,items:[]}:m.kind===_t.DocumentDiagnosticReportKind.Full?{kind:ki.DocumentDiagnosticReportKind.full,resultId:m.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(m.items,d)}:{kind:ki.DocumentDiagnosticReportKind.unChanged,resultId:m.resultId},m=>this.client.handleFailedRequest(_t.DocumentDiagnosticRequest.type,d,m,{kind:ki.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,i,r,s):s(n,i,r)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,i,r)=>{let s=async d=>d.kind===_t.DocumentDiagnosticReportKind.Full?{kind:ki.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(d.uri),resultId:d.resultId,version:d.version,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,i)}:{kind:ki.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(d.uri),resultId:d.resultId,version:d.version},o=d=>{let p=[];for(let m of d)p.push({uri:this.client.code2ProtocolConverter.asUri(m.uri),value:m.value});return p},a=(d,p)=>{let m=(0,fj.generateUuid)(),f=this.client.onProgress(_t.WorkspaceDiagnosticRequest.partialResult,m,async l=>{if(l==null){r(null);return}let h={items:[]};for(let y of l.items)try{h.items.push(await s(y))}catch(S){this.client.error("Converting workspace diagnostics failed.",S)}r(h)}),u={identifier:this.options.identifier,previousResultIds:o(d),partialResultToken:m};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(_t.WorkspaceDiagnosticRequest.type,u,p).then(async l=>{if(p.isCancellationRequested)return{items:[]};let h={items:[]};for(let y of l.items)h.items.push(await s(y));return f.dispose(),r(h),{items:[]}},l=>(f.dispose(),this.client.handleFailedRequest(_t.DocumentDiagnosticRequest.type,p,l,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,i,r,a):a(n,i,r)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===gn.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:gn.outDated,document:n.document});this.diagnostics.dispose()}},Ay=class{constructor(e){this.diagnosticRequestor=e,this.documents=new _t.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=or.asKey(e);this.documents.has(n)||(this.documents.set(n,e,_t.Touch.Last),this.trigger())}remove(e){let n=or.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,_t.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=or.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,_t.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?or.asKey(this.endDocument):void 0}},Py=class{constructor(e,n,i){let r=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(i.documentSelector),o=[],a=l=>{let h=i.documentSelector;if(r.match!==void 0)return r.match(h,l);for(let y of h)if(_t.TextDocumentFilter.is(y)){if(typeof y=="string"||y.language!==void 0&&y.language!=="*"||y.scheme!==void 0&&y.scheme!=="*"&&y.scheme!==l.scheme)return!1;if(y.pattern!==void 0){let S=new dj.Minimatch(y.pattern,{noext:!0});if(!S.makeRe()||!S.match(l.fsPath))return!1}}return!0},c=l=>l instanceof Be.Uri?a(l):Be.languages.match(s,l)>0&&n.isVisible(l),d=l=>l instanceof Be.Uri?this.activeTextDocument?.uri.toString()===l.toString():this.activeTextDocument===l;this.diagnosticRequestor=new Fy(e,n,i),this.backgroundScheduler=new Ay(this.diagnosticRequestor);let p=l=>{!c(l)||!i.interFileDependencies||d(l)||this.backgroundScheduler.add(l)};this.activeTextDocument=Be.window.activeTextEditor?.document,Be.window.onDidChangeActiveTextEditor(l=>{let h=this.activeTextDocument;this.activeTextDocument=l?.document,h!==void 0&&p(h),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let m=e.getFeature(_t.DidOpenTextDocumentNotification.method);o.push(m.onNotificationSent(l=>{let h=l.textDocument;this.diagnosticRequestor.knows(Ht.document,h)||c(h)&&this.diagnosticRequestor.pull(h,()=>{p(h)})})),n.onOpen(l=>{for(let h of l){if(this.diagnosticRequestor.knows(Ht.document,h))continue;let y=h.toString(),S;for(let D of Be.workspace.textDocuments)if(y===D.uri.toString()){S=D;break}S!==void 0&&c(S)?this.diagnosticRequestor.pull(S,()=>{p(S)}):c(h)&&this.diagnosticRequestor.pull(h,()=>{p(h)})}});let f=new Set;for(let l of Be.workspace.textDocuments)c(l)&&(this.diagnosticRequestor.pull(l,()=>{p(l)}),f.add(l.uri.toString()));if(r.onTabs===!0)for(let l of n.getTabResources())!f.has(l.toString())&&c(l)&&this.diagnosticRequestor.pull(l,()=>{p(l)});if(r.onChange===!0){let l=e.getFeature(_t.DidChangeTextDocumentNotification.method);o.push(l.onNotificationSent(async h=>{let y=h.textDocument;(r.filter===void 0||!r.filter(y,xy.onType))&&this.diagnosticRequestor.knows(Ht.document,y)&&this.diagnosticRequestor.pull(y,()=>{this.backgroundScheduler.trigger()})}))}if(r.onSave===!0){let l=e.getFeature(_t.DidSaveTextDocumentNotification.method);o.push(l.onNotificationSent(h=>{let y=h.textDocument;(r.filter===void 0||!r.filter(y,xy.onSave))&&this.diagnosticRequestor.knows(Ht.document,y)&&this.diagnosticRequestor.pull(h.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let u=e.getFeature(_t.DidCloseTextDocumentNotification.method);o.push(u.onNotificationSent(l=>{this.cleanUpDocument(l.textDocument)})),n.onClose(l=>{for(let h of l)this.cleanUpDocument(h)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let l of Be.workspace.textDocuments)c(l)&&this.diagnosticRequestor.pull(l)}),i.workspaceDiagnostics===!0&&i.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Be.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Ht.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Ry=class extends Ey.TextDocumentLanguageFeature{constructor(e){super(e,_t.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=Ll(Ll(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,Ll(Ll(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(_t.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[r,s]=this.getRegistration(n,e.diagnosticProvider);!r||!s||this.register({id:r,registerOptions:s})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new _y);let n=new Py(this._client,this.tabs,e);return[n.disposable,n]}};ji.DiagnosticFeature=Ry});var Wx=M(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.NotebookDocumentSyncFeature=void 0;var mn=require("vscode"),hj=Ol(),ar=Ee(),pj=bt(),jx=ui();function $x(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var ho;(function(t){let e;(function(n){function i(f,u){return{version:f.version,uri:u.asUri(f.uri)}}n.asVersionedNotebookDocumentIdentifier=i;function r(f,u,l){let h=ar.NotebookDocument.create(l.asUri(f.uri),f.notebookType,f.version,s(u,l));return Object.keys(f.metadata).length>0&&(h.metadata=o(f.metadata)),h}n.asNotebookDocument=r;function s(f,u){return f.map(l=>a(l,u))}n.asNotebookCells=s;function o(f){return d(new Set,f)}n.asMetadata=o;function a(f,u){let l=ar.NotebookCell.create(c(f.kind),u.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(l.metadata=o(f.metadata)),f.executionSummary!==void 0&&jx.number(f.executionSummary.executionOrder)&&jx.boolean(f.executionSummary.success)&&(l.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),l}n.asNotebookCell=a;function c(f){switch(f){case mn.NotebookCellKind.Markup:return ar.NotebookCellKind.Markup;case mn.NotebookCellKind.Code:return ar.NotebookCellKind.Code}}function d(f,u){if(f.has(u))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(u)){let l=[];for(let h of u)if(h!==null&&typeof h=="object"||Array.isArray(h))l.push(d(f,h));else{if(h instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");l.push(h)}return l}else{let l=Object.keys(u),h=Object.create(null);for(let y of l){let S=u[y];if(S!==null&&typeof S=="object"||Array.isArray(S))h[y]=d(f,S);else{if(S instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h[y]=S}}return h}}function p(f,u){let l=u.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:l.textDocument,changes:l.contentChanges}}n.asTextContentChange=p;function m(f,u){let l=Object.create(null);if(f.metadata&&(l.metadata=t.c2p.asMetadata(f.metadata)),f.cells!==void 0){let h=Object.create(null),y=f.cells;y.structure&&(h.structure={array:{start:y.structure.array.start,deleteCount:y.structure.array.deleteCount,cells:y.structure.array.cells!==void 0?y.structure.array.cells.map(S=>t.c2p.asNotebookCell(S,u)):void 0},didOpen:y.structure.didOpen!==void 0?y.structure.didOpen.map(S=>u.asOpenTextDocumentParams(S.document).textDocument):void 0,didClose:y.structure.didClose!==void 0?y.structure.didClose.map(S=>u.asCloseTextDocumentParams(S.document).textDocument):void 0}),y.data!==void 0&&(h.data=y.data.map(S=>t.c2p.asNotebookCell(S,u))),y.textContent!==void 0&&(h.textContent=y.textContent.map(S=>t.c2p.asTextContentChange(S,u))),Object.keys(h).length>0&&(l.cells=h)}return l}n.asNotebookDocumentChangeEvent=m})(e=t.c2p||(t.c2p={}))})(ho||(ho={}));var My;(function(t){function e(a,c,d){let p=a.length,m=c.length,f=0;for(;f<m&&f<p&&n(a[f],c[f],d);)f++;if(f<m&&f<p){let u=p-1,l=m-1;for(;u>=0&&l>=0&&n(a[u],c[l],d);)u--,l--;let h=u+1-f,y=f===l+1?void 0:c.slice(f,l+1);return y!==void 0?{start:f,deleteCount:h,cells:y}:{start:f,deleteCount:h}}else return f<m?{start:f,deleteCount:0,cells:c.slice(f)}:f<p?{start:f,deleteCount:p-f}:void 0}t.computeDiff=e;function n(a,c,d=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!i(a.executionSummary,c.executionSummary)?!1:!d||d&&s(a.metadata,c.metadata)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&r(a.timing,c.timing)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let d=Array.isArray(a),p=Array.isArray(c);if(d!==p)return!1;if(d&&p){if(a.length!==c.length)return!1;for(let m=0;m<a.length;m++)if(!s(a[m],c[m]))return!1}if(o(a)&&o(c)){let m=Object.keys(a),f=Object.keys(c);if(m.length!==f.length||(m.sort(),f.sort(),!s(m,f)))return!1;for(let u=0;u<m.length;u++){let l=m[u];if(!s(a[l],c[l]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(My||(My={}));var Ny;(function(t){function e(n,i){if(typeof n=="string")return n==="*"||i.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&i.notebookType!==n.notebookType)return!1;let r=i.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&r.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new hj.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(r.fsPath))return!1}return!0}t.matchNotebook=e})(Ny||(Ny={}));var ql;(function(t){function e(i){let r=i.notebookSelector,s=[];for(let o of r){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,d=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let p of o.cells)s.push(n(a,c,d,p.language));else s.push(n(a,c,d,void 0))}return s}t.asDocumentSelector=e;function n(i,r,s,o){return r===void 0&&s===void 0?{notebook:i,language:o}:{notebook:{notebookType:i,scheme:r,pattern:s},language:o}}})(ql||(ql={}));var Ul;(function(t){function e(n){return{cells:n,uris:new Set(n.map(i=>i.document.uri.toString()))}}t.create=e})(Ul||(Ul={}));var po=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(ql.asDocumentSelector(n)),mn.workspace.onDidOpenNotebookDocument(i=>{this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i)},void 0,this.disposables);for(let i of mn.workspace.notebookDocuments)this.notebookDidOpen.add(i.uri.toString()),this.didOpen(i);mn.workspace.onDidChangeNotebookDocument(i=>this.didChangeNotebookDocument(i),void 0,this.disposables),this.options.save===!0&&mn.workspace.onDidSaveNotebookDocument(i=>this.didSave(i),void 0,this.disposables),mn.workspace.onDidCloseNotebookDocument(i=>{this.didClose(i),this.notebookDidOpen.delete(i.uri.toString())},void 0,this.disposables)}getState(){for(let e of mn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return mn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(mn.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let i=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,n);if(i!==void 0){let s=i.uris.has(n.document.uri.toString());if(r&&s||!r&&!s)return;if(r){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,i,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else r&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){mn.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let i=this.notebookSyncInfo.get(e.uri.toString());if(i===void 0)return;let r=n.document.uri,s=i.cells.findIndex(o=>o.document.uri.toString()===r.toString());if(s!==-1)if(s===0&&i.cells.length===1)this.doSendClose(e,i.cells).catch(()=>{});else{let o=i.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),i=this.notebookSyncInfo.get(e.uri.toString())){if(i!==void 0)if(n!==void 0){let r=this.asNotebookDocumentChangeEvent(e,void 0,i,n);r!==void 0&&this.doSendChange(r,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,i=this.notebookSyncInfo.get(n.uri.toString());if(i===void 0){if(e.contentChanges.length===0)return;let r=this.getMatchingCells(n);if(r===void 0)return;this.didOpen(n,r,i)}else{let r=this.getMatchingCells(n);if(r===void 0){this.didClose(n,i);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,i,r);s!==void 0&&this.doSendChange(s,r).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let i=e.getCells().filter(r=>n.uris.has(r.document.uri.toString()));this.doSendClose(e,i).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let i=async(s,o)=>{let a=ho.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(d=>this.client.code2ProtocolConverter.asTextDocumentItem(d.document));try{await this.client.sendNotification(ar.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(d){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",d),d}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Ul.create(n)),r?.didOpen!==void 0?r.didOpen(e,n,i):i(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let i=async s=>{try{await this.client.sendNotification(ar.DidChangeNotebookDocumentNotification.type,{notebookDocument:ho.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:ho.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},r=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Ul.create(n??[])),r?.didChange!==void 0?r?.didChange(e,i):i(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async r=>{try{await this.client.sendNotification(ar.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(r.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return i?.didSave!==void 0?i.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let i=async(s,o)=>{try{await this.client.sendNotification(ar.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),r?.didClose!==void 0?r.didClose(e,n,i):i(e,n)}asNotebookDocumentChangeEvent(e,n,i,r){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=ho.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(r.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&i!==void 0&&r!==void 0){let a=i.cells,c=r,d=My.computeDiff(a,c,!1),p,m;if(d!==void 0){p=d.cells===void 0?new Map:new Map(d.cells.map(l=>[l.document.uri.toString(),l])),m=d.deleteCount===0?new Map:new Map(a.slice(d.start,d.start+d.deleteCount).map(l=>[l.document.uri.toString(),l]));for(let l of Array.from(m.keys()))p.has(l)&&(m.delete(l),p.delete(l));s.cells=s.cells??{};let f=[],u=[];if(p.size>0||m.size>0){for(let l of p.values())f.push(l);for(let l of m.values())u.push(l)}s.cells.structure={array:d,didOpen:f,didClose:u}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let i of this.options.notebookSelector)if(i.notebook===void 0||Ny.matchNotebook(i.notebook,e)){let r=this.filterCells(e,n,i.cells);return r.length===0?void 0:r}}}cellMatches(e,n){let i=this.getMatchingCells(e,[n]);return i!==void 0&&i[0]===n}filterCells(e,n,i){let r=i!==void 0?n.filter(s=>{let o=s.document.languageId;return i.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}},Bl=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=ar.NotebookDocumentSyncRegistrationType.type,mn.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof po&&s.didOpenNotebookCellTextDocument(i,r)}),mn.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let i=n.document;if(i.uri.scheme!==t.CellScheme)return;let[r]=this.findNotebookDocumentAndCell(i);if(r!==void 0)for(let s of this.registrations.values())s instanceof po&&s.didChangeNotebookCellTextDocument(r,n)}),mn.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[i,r]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||r===void 0))for(let s of this.registrations.values())s instanceof po&&s.didCloseNotebookCellTextDocument(i,r)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=$x($x(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(ql.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let i=n.id??pj.generateUuid();this.register({id:i,registerOptions:n})}register(e){let n=new po(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&mn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let i of mn.workspace.notebookDocuments)for(let r of i.getCells())if(r.document.uri.toString()===n)return[i,r];return[void 0,void 0]}};Kl.NotebookDocumentSyncFeature=Bl;Bl.CellScheme="vscode-notebook-cell"});var Vx=M(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.SyncConfigurationFeature=Lr.toJSONObject=Lr.ConfigurationFeature=void 0;var go=require("vscode"),Ja=Ee(),gj=ui(),mj=bt(),Hx=$e(),Oy=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(Ja.ConfigurationRequest.type,(n,i)=>{let r=o=>{let a=[];for(let c of o.items){let d=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(d,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,i,r):r(n,i)})}getConfiguration(e,n){let i=null;if(n){let r=n.lastIndexOf(".");if(r===-1)i=gs(go.workspace.getConfiguration(void 0,e).get(n));else{let s=go.workspace.getConfiguration(n.substr(0,r),e);s&&(i=gs(s.get(n.substr(r+1))))}}else{let r=go.workspace.getConfiguration(void 0,e);i={};for(let s of Object.keys(r))r.has(s)&&(i[s]=gs(r.get(s)))}return i===void 0&&(i=null),i}dispose(){}};Lr.ConfigurationFeature=Oy;function gs(t){if(t){if(Array.isArray(t))return t.map(gs);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=gs(t[n]));return e}}return t}Lr.toJSONObject=gs;var Ly=class{constructor(e){this._client=e,this.isDisposed=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Ja.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Hx.ensure)((0,Hx.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:mj.generateUuid(),registerOptions:{section:e}})}register(e){let n=go.workspace.onDidChangeConfiguration(i=>{this.onDidChangeConfiguration(e.registerOptions.section,i)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isDisposed=!0}onDidChangeConfiguration(e,n){if(this.isDisposed)return;let i;if(gj.string(e)?i=[e]:i=e,i!==void 0&&n!==void 0&&!i.some(a=>n.affectsConfiguration(a)))return;let r=async o=>o===void 0?this._client.sendNotification(Ja.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(Ja.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(i,r):r(i)).catch(o=>{this._client.error(`Sending notification ${Ja.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let d=a[o[c]];d||(d=Object.create(null),a[o[c]]=d),a=d}return a}let i=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=go.workspace.getConfiguration(o.substr(0,a),i).get(o.substr(a+1)):c=go.workspace.getConfiguration(void 0,i).get(o),c){let d=e[s].split(".");n(r,d)[d[d.length-1]]=gs(c)}}return r}};Lr.SyncConfigurationFeature=Ly});var zx=M(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.DidSaveTextDocumentFeature=qn.WillSaveWaitUntilFeature=qn.WillSaveFeature=qn.DidChangeTextDocumentFeature=qn.DidCloseTextDocumentFeature=qn.DidOpenTextDocumentFeature=void 0;var Zn=require("vscode"),ct=Ee(),wt=$e(),mo=bt(),qy=class extends wt.TextDocumentEventFeature{constructor(e,n){super(e,Zn.workspace.onDidOpenTextDocument,ct.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,i=>e.code2ProtocolConverter.asOpenTextDocumentParams(i),i=>i,wt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:mo.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return ct.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);Zn.workspace.textDocuments.forEach(i=>{let r=i.uri.toString();if(!this._syncedDocuments.has(r)&&Zn.languages.match(n,i)>0&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(r,i)}})}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,i)}};qn.DidOpenTextDocumentFeature=qy;var Uy=class extends wt.TextDocumentEventFeature{constructor(e,n,i){super(e,Zn.workspace.onDidCloseTextDocument,ct.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,r=>e.code2ProtocolConverter.asCloseTextDocumentParams(r),r=>r,wt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=i}get registrationType(){return ct.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.openClose&&this.register({id:mo.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,i){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,i)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let i=this._selectors.values();this._syncedDocuments.forEach(r=>{if(Zn.languages.match(n,r)>0&&!this._selectorFilter(i,r)&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(r.uri.toString()),(s.didClose?s.didClose(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};qn.DidCloseTextDocumentFeature=Uy;var By=class extends wt.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new Zn.EventEmitter,this._onPendingChangeAdded=new Zn.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=ct.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return ct.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.change!==void 0&&i.change!==ct.TextDocumentSyncKind.None&&this.register({id:mo.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:i.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Zn.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,i=e.document.version,r=[];for(let s of this._changeData.values())if(Zn.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===ct.TextDocumentSyncKind.Incremental){let a=async c=>{let d=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,i);await this._client.sendNotification(ct.DidChangeTextDocumentNotification.type,d),this.notificationSent(c.document,ct.DidChangeTextDocumentNotification.type,d)};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===ct.TextDocumentSyncKind.Full){let a=async c=>{let d=c.document.uri.toString();this._pendingTextDocumentChanges.set(d,c.document),this._onPendingChangeAdded.fire()};r.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(r).then(void 0,s=>{throw this._client.error(`Sending document notification ${ct.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,i){this._onNotificationSent.fire({textDocument:e,type:n,params:i})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=ct.TextDocumentSyncKind.None;else{this._syncKind=ct.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===ct.TextDocumentSyncKind.Full)break}}dispose(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=ct.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let i of this._pendingTextDocumentChanges)e.has(i[0])||(n.push(i[1]),this._pendingTextDocumentChanges.delete(i[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(Zn.languages.match(n.documentSelector,e)>0)return{send:i=>this.callback(i)}}updateSyncKind(e){if(this._syncKind!==ct.TextDocumentSyncKind.Full)switch(e){case ct.TextDocumentSyncKind.Full:this._syncKind=e;break;case ct.TextDocumentSyncKind.Incremental:this._syncKind===ct.TextDocumentSyncKind.None&&(this._syncKind=ct.TextDocumentSyncKind.Incremental);break}}};qn.DidChangeTextDocumentFeature=By;var Ky=class extends wt.TextDocumentEventFeature{constructor(e){super(e,Zn.workspace.onWillSaveTextDocument,ct.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,i)=>wt.TextDocumentEventFeature.textDocumentFilter(n,i.document))}get registrationType(){return ct.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSave&&this.register({id:mo.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};qn.WillSaveFeature=Ky;var jy=class extends wt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return ct.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;n&&i&&i.willSaveWaitUntil&&this.register({id:mo.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=Zn.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(wt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,i=r=>this._client.sendRequest(ct.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(r)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,i):i(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};qn.WillSaveWaitUntilFeature=jy;var $y=class extends wt.TextDocumentEventFeature{constructor(e){super(e,Zn.workspace.onDidSaveTextDocument,ct.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,wt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return ct.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,wt.ensure)((0,wt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let i=e.resolvedTextDocumentSync;if(n&&i&&i.save){let r=typeof i.save=="boolean"?{includeText:!1}:{includeText:!!i.save.includeText};this.register({id:mo.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},r)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};qn.DidSaveTextDocumentFeature=$y});var Gx=M(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.CompletionItemFeature=void 0;var yj=require("vscode"),Le=Ee(),Wy=$e(),vj=bt(),Cj=[Le.CompletionItemKind.Text,Le.CompletionItemKind.Method,Le.CompletionItemKind.Function,Le.CompletionItemKind.Constructor,Le.CompletionItemKind.Field,Le.CompletionItemKind.Variable,Le.CompletionItemKind.Class,Le.CompletionItemKind.Interface,Le.CompletionItemKind.Module,Le.CompletionItemKind.Property,Le.CompletionItemKind.Unit,Le.CompletionItemKind.Value,Le.CompletionItemKind.Enum,Le.CompletionItemKind.Keyword,Le.CompletionItemKind.Snippet,Le.CompletionItemKind.Color,Le.CompletionItemKind.File,Le.CompletionItemKind.Reference,Le.CompletionItemKind.Folder,Le.CompletionItemKind.EnumMember,Le.CompletionItemKind.Constant,Le.CompletionItemKind.Struct,Le.CompletionItemKind.Event,Le.CompletionItemKind.Operator,Le.CompletionItemKind.TypeParameter],Hy=class extends Wy.TextDocumentLanguageFeature{constructor(e){super(e,Le.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,Wy.ensure)((0,Wy.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[Le.MarkupKind.Markdown,Le.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[Le.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[Le.InsertTextMode.asIs,Le.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=Le.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:Cj},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,n){let i=this.getRegistrationOptions(n,e.completionProvider);i&&this.register({id:vj.generateUuid(),registerOptions:i})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let i=e.triggerCharacters??[],r=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,d,p)=>{let m=this._client,f=this._client.middleware,u=(l,h,y,S)=>m.sendRequest(Le.CompletionRequest.type,m.code2ProtocolConverter.asCompletionParams(l,h,y),S).then(D=>S.isCancellationRequested?null:m.protocol2CodeConverter.asCompletionResult(D,r,S),D=>m.handleFailedRequest(Le.CompletionRequest.type,S,D,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,p,d,u):u(a,c,p,d)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let d=this._client,p=this._client.middleware,m=(f,u)=>d.sendRequest(Le.CompletionResolveRequest.type,d.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(n)),u).then(l=>u.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionItem(l),l=>d.handleFailedRequest(Le.CompletionResolveRequest.type,u,l,f));return p.resolveCompletionItem?p.resolveCompletionItem(a,c,m):m(a,c)}:void 0};return[yj.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...i),o]}};jl.CompletionItemFeature=Hy});var Jx=M($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.HoverFeature=void 0;var Sj=require("vscode"),Xa=Ee(),Vy=$e(),Dj=bt(),zy=class extends Vy.TextDocumentLanguageFeature{constructor(e){super(e,Xa.HoverRequest.type)}fillClientCapabilities(e){let n=(0,Vy.ensure)((0,Vy.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[Xa.MarkupKind.Markdown,Xa.MarkupKind.PlainText]}initialize(e,n){let i=this.getRegistrationOptions(n,e.hoverProvider);i&&this.register({id:Dj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideHover:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Xa.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(u),u=>a.handleFailedRequest(Xa.HoverRequest.type,f,u,null)),d=a.middleware;return d.provideHover?d.provideHover(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Sj.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};$l.HoverFeature=zy});var Xx=M(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.DefinitionFeature=void 0;var bj=require("vscode"),Gy=Ee(),Jy=$e(),wj=bt(),Xy=class extends Jy.TextDocumentLanguageFeature{constructor(e){super(e,Gy.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,Jy.ensure)((0,Jy.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.definitionProvider);i&&this.register({id:wj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDefinition:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Gy.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,f),u=>a.handleFailedRequest(Gy.DefinitionRequest.type,f,u,null)),d=a.middleware;return d.provideDefinition?d.provideDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return bj.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Wl.DefinitionFeature=Xy});var Qx=M(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.SignatureHelpFeature=void 0;var Yx=require("vscode"),Ya=Ee(),Yy=$e(),Tj=bt(),Qy=class extends Yy.TextDocumentLanguageFeature{constructor(e){super(e,Ya.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,Yy.ensure)((0,Yy.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[Ya.MarkupKind.Markdown,Ya.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.signatureHelpProvider);i&&this.register({id:Tj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n={provideSignatureHelp:(i,r,s,o)=>{let a=this._client,c=(p,m,f,u)=>a.sendRequest(Ya.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(p,m,f),u).then(l=>u.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(l,u),l=>a.handleFailedRequest(Ya.SignatureHelpRequest.type,u,l,null)),d=a.middleware;return d.provideSignatureHelp?d.provideSignatureHelp(i,r,o,s,c):c(i,r,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let i=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let r=e.triggerCharacters||[];return Yx.languages.registerSignatureHelpProvider(i,n,...r)}else{let r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return Yx.languages.registerSignatureHelpProvider(i,n,r)}}};Hl.SignatureHelpFeature=Qy});var Zx=M(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.DocumentHighlightFeature=void 0;var Ej=require("vscode"),Zy=Ee(),ev=$e(),xj=bt(),tv=class extends ev.TextDocumentLanguageFeature{constructor(e){super(e,Zy.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,ev.ensure)((0,ev.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentHighlightProvider);i&&this.register({id:xj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentHighlights:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Zy.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(u,f),u=>a.handleFailedRequest(Zy.DocumentHighlightRequest.type,f,u,null)),d=a.middleware;return d.provideDocumentHighlights?d.provideDocumentHighlights(r,s,o,c):c(r,s,o)}};return[Ej.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Vl.DocumentHighlightFeature=tv});var rv=M($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.DocumentSymbolFeature=$i.SupportedSymbolTags=$i.SupportedSymbolKinds=void 0;var _j=require("vscode"),Ye=Ee(),nv=$e(),kj=bt();$i.SupportedSymbolKinds=[Ye.SymbolKind.File,Ye.SymbolKind.Module,Ye.SymbolKind.Namespace,Ye.SymbolKind.Package,Ye.SymbolKind.Class,Ye.SymbolKind.Method,Ye.SymbolKind.Property,Ye.SymbolKind.Field,Ye.SymbolKind.Constructor,Ye.SymbolKind.Enum,Ye.SymbolKind.Interface,Ye.SymbolKind.Function,Ye.SymbolKind.Variable,Ye.SymbolKind.Constant,Ye.SymbolKind.String,Ye.SymbolKind.Number,Ye.SymbolKind.Boolean,Ye.SymbolKind.Array,Ye.SymbolKind.Object,Ye.SymbolKind.Key,Ye.SymbolKind.Null,Ye.SymbolKind.EnumMember,Ye.SymbolKind.Struct,Ye.SymbolKind.Event,Ye.SymbolKind.Operator,Ye.SymbolKind.TypeParameter];$i.SupportedSymbolTags=[Ye.SymbolTag.Deprecated];var iv=class extends nv.TextDocumentLanguageFeature{constructor(e){super(e,Ye.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,nv.ensure)((0,nv.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:$i.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:$i.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentSymbolProvider);i&&this.register({id:kj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(p,m)=>{try{let f=await a.sendRequest(Ye.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(p),m);if(m.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let u=f[0];return Ye.DocumentSymbol.is(u)?await a.protocol2CodeConverter.asDocumentSymbols(f,m):await a.protocol2CodeConverter.asSymbolInformations(f,m)}}catch(f){return a.handleFailedRequest(Ye.DocumentSymbolRequest.type,m,f,null)}},d=a.middleware;return d.provideDocumentSymbols?d.provideDocumentSymbols(s,o,c):c(s,o)}},r=e.label!==void 0?{label:e.label}:void 0;return[_j.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,r),i]}};$i.DocumentSymbolFeature=iv});var t_=M(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.WorkspaceSymbolFeature=void 0;var Fj=require("vscode"),Qa=Ee(),sv=$e(),e_=rv(),Aj=bt(),ov=class extends sv.WorkspaceFeature{constructor(e){super(e,Qa.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,sv.ensure)((0,sv.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:e_.SupportedSymbolKinds},n.tagSupport={valueSet:e_.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Aj.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(i,r)=>{let s=this._client,o=(c,d)=>s.sendRequest(Qa.WorkspaceSymbolRequest.type,{query:c},d).then(p=>d.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(p,d),p=>s.handleFailedRequest(Qa.WorkspaceSymbolRequest.type,d,p,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(i,r,o):o(i,r)},resolveWorkspaceSymbol:e.resolveProvider===!0?(i,r)=>{let s=this._client,o=(c,d)=>s.sendRequest(Qa.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),d).then(p=>d.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(p),p=>s.handleFailedRequest(Qa.WorkspaceSymbolResolveRequest.type,d,p,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(i,r,o):o(i,r)}:void 0};return[Fj.languages.registerWorkspaceSymbolProvider(n),n]}};zl.WorkspaceSymbolFeature=ov});var n_=M(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.ReferencesFeature=void 0;var Pj=require("vscode"),av=Ee(),cv=$e(),Rj=bt(),uv=class extends cv.TextDocumentLanguageFeature{constructor(e){super(e,av.ReferencesRequest.type)}fillClientCapabilities(e){(0,cv.ensure)((0,cv.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.referencesProvider);i&&this.register({id:Rj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideReferences:(r,s,o,a)=>{let c=this._client,d=(m,f,u,l)=>c.sendRequest(av.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(m,f,u),l).then(h=>l.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(h,l),h=>c.handleFailedRequest(av.ReferencesRequest.type,l,h,null)),p=c.middleware;return p.provideReferences?p.provideReferences(r,s,o,a,d):d(r,s,o,a)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Pj.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Gl.ReferencesFeature=uv});var i_=M(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.CodeActionFeature=void 0;var Ij=require("vscode"),ei=Ee(),Mj=bt(),lv=$e(),dv=class extends lv.TextDocumentLanguageFeature{constructor(e){super(e,ei.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,lv.ensure)((0,lv.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[ei.CodeActionKind.Empty,ei.CodeActionKind.QuickFix,ei.CodeActionKind.Refactor,ei.CodeActionKind.RefactorExtract,ei.CodeActionKind.RefactorInline,ei.CodeActionKind.RefactorRewrite,ei.CodeActionKind.Source,ei.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!1}initialize(e,n){let i=this.getRegistrationOptions(n,e.codeActionProvider);i&&this.register({id:Mj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideCodeActions:(r,s,o,a)=>{let c=this._client,d=async(m,f,u,l)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(m),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(u,l)};return c.sendRequest(ei.CodeActionRequest.type,h,l).then(y=>l.isCancellationRequested||y===null||y===void 0?null:c.protocol2CodeConverter.asCodeActionResult(y,l),y=>c.handleFailedRequest(ei.CodeActionRequest.type,l,y,null))},p=c.middleware;return p.provideCodeActions?p.provideCodeActions(r,s,o,a,d):d(r,s,o,a)},resolveCodeAction:e.resolveProvider?(r,s)=>{let o=this._client,a=this._client.middleware,c=async(d,p)=>o.sendRequest(ei.CodeActionResolveRequest.type,await o.code2ProtocolConverter.asCodeAction(d,p),p).then(m=>p.isCancellationRequested?d:o.protocol2CodeConverter.asCodeAction(m,p),m=>o.handleFailedRequest(ei.CodeActionResolveRequest.type,p,m,d));return a.resolveCodeAction?a.resolveCodeAction(r,s,c):c(r,s)}:void 0};return[Ij.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),i]}};Jl.CodeActionFeature=dv});var s_=M(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.CodeLensFeature=void 0;var r_=require("vscode"),yo=Ee(),Nj=bt(),Za=$e(),fv=class extends Za.TextDocumentLanguageFeature{constructor(e){super(e,yo.CodeLensRequest.type)}fillClientCapabilities(e){(0,Za.ensure)((0,Za.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Za.ensure)((0,Za.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(yo.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let r=this.getRegistrationOptions(n,e.codeLensProvider);r&&this.register({id:Nj.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new r_.EventEmitter,r={onDidChangeCodeLenses:i.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(p,m)=>a.sendRequest(yo.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(p),m).then(f=>m.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,m),f=>a.handleFailedRequest(yo.CodeLensRequest.type,m,f,null)),d=a.middleware;return d.provideCodeLenses?d.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(p,m)=>a.sendRequest(yo.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(p),m).then(f=>m.isCancellationRequested?p:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(yo.CodeLensResolveRequest.type,m,f,p)),d=a.middleware;return d.resolveCodeLens?d.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[r_.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),{provider:r,onDidChangeCodeLensEmitter:i}]}};Xl.CodeLensFeature=fv});var o_=M(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.DocumentOnTypeFormattingFeature=qr.DocumentRangeFormattingFeature=qr.DocumentFormattingFeature=void 0;var Yl=require("vscode"),cr=Ee(),mv=bt(),ur=$e(),ec;(function(t){function e(n){let i=Yl.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:i.get("trimTrailingWhitespace"),trimFinalNewlines:i.get("trimFinalNewlines"),insertFinalNewline:i.get("insertFinalNewline")}}t.fromConfiguration=e})(ec||(ec={}));var hv=class extends ur.TextDocumentLanguageFeature{constructor(e){super(e,cr.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,ur.ensure)((0,ur.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentFormattingProvider);i&&this.register({id:mv.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentFormattingEdits:(r,s,o)=>{let a=this._client,c=(p,m,f)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p),options:a.code2ProtocolConverter.asFormattingOptions(m,ec.fromConfiguration(p))};return a.sendRequest(cr.DocumentFormattingRequest.type,u,f).then(l=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(l,f),l=>a.handleFailedRequest(cr.DocumentFormattingRequest.type,f,l,null))},d=a.middleware;return d.provideDocumentFormattingEdits?d.provideDocumentFormattingEdits(r,s,o,c):c(r,s,o)}};return[Yl.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};qr.DocumentFormattingFeature=hv;var pv=class extends ur.TextDocumentLanguageFeature{constructor(e){super(e,cr.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,ur.ensure)((0,ur.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);i&&this.register({id:mv.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentRangeFormattingEdits:(r,s,o,a)=>{let c=this._client,d=(m,f,u,l)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(m),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(u,ec.fromConfiguration(m))};return c.sendRequest(cr.DocumentRangeFormattingRequest.type,h,l).then(y=>l.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(y,l),y=>c.handleFailedRequest(cr.DocumentRangeFormattingRequest.type,l,y,null))},p=c.middleware;return p.provideDocumentRangeFormattingEdits?p.provideDocumentRangeFormattingEdits(r,s,o,a,d):d(r,s,o,a)}};return[Yl.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};qr.DocumentRangeFormattingFeature=pv;var gv=class extends ur.TextDocumentLanguageFeature{constructor(e){super(e,cr.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,ur.ensure)((0,ur.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);i&&this.register({id:mv.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideOnTypeFormattingEdits:(s,o,a,c,d)=>{let p=this._client,m=(u,l,h,y,S)=>{let D={textDocument:p.code2ProtocolConverter.asTextDocumentIdentifier(u),position:p.code2ProtocolConverter.asPosition(l),ch:h,options:p.code2ProtocolConverter.asFormattingOptions(y,ec.fromConfiguration(u))};return p.sendRequest(cr.DocumentOnTypeFormattingRequest.type,D,S).then(x=>S.isCancellationRequested?null:p.protocol2CodeConverter.asTextEdits(x,S),x=>p.handleFailedRequest(cr.DocumentOnTypeFormattingRequest.type,S,x,null))},f=p.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(s,o,a,c,d,m):m(s,o,a,c,d)}},r=e.moreTriggerCharacter||[];return[Yl.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i,e.firstTriggerCharacter,...r),i]}};qr.DocumentOnTypeFormattingFeature=gv});var c_=M(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.RenameFeature=void 0;var Oj=require("vscode"),ms=Ee(),Lj=bt(),a_=ui(),yv=$e(),vv=class extends yv.TextDocumentLanguageFeature{constructor(e){super(e,ms.RenameRequest.type)}fillClientCapabilities(e){let n=(0,yv.ensure)((0,yv.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=ms.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.renameProvider);i&&(a_.boolean(e.renameProvider)&&(i.prepareProvider=!1),this.register({id:Lj.generateUuid(),registerOptions:i}))}registerLanguageProvider(e){let n=e.documentSelector,i={provideRenameEdits:(r,s,o,a)=>{let c=this._client,d=(m,f,u,l)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(m),position:c.code2ProtocolConverter.asPosition(f),newName:u};return c.sendRequest(ms.RenameRequest.type,h,l).then(y=>l.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(y,l),y=>c.handleFailedRequest(ms.RenameRequest.type,l,y,null,!1))},p=c.middleware;return p.provideRenameEdits?p.provideRenameEdits(r,s,o,a,d):d(r,s,o,a)},prepareRename:e.prepareProvider?(r,s,o)=>{let a=this._client,c=(p,m,f)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p),position:a.code2ProtocolConverter.asPosition(m)};return a.sendRequest(ms.PrepareRenameRequest.type,u,f).then(l=>f.isCancellationRequested?null:ms.Range.is(l)?a.protocol2CodeConverter.asRange(l):this.isDefaultBehavior(l)?l.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):l&&ms.Range.is(l.range)?{range:a.protocol2CodeConverter.asRange(l.range),placeholder:l.placeholder}:Promise.reject(new Error("The element can't be renamed.")),l=>{throw typeof l.message=="string"?new Error(l.message):new Error("The element can't be renamed.")})},d=a.middleware;return d.prepareRename?d.prepareRename(r,s,o,c):c(r,s,o)}:void 0};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Oj.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&a_.boolean(n.defaultBehavior)}};Ql.RenameFeature=vv});var u_=M(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.DocumentLinkFeature=void 0;var qj=require("vscode"),tc=Ee(),Cv=$e(),Uj=bt(),Sv=class extends Cv.TextDocumentLanguageFeature{constructor(e){super(e,tc.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,Cv.ensure)((0,Cv.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let i=this.getRegistrationOptions(n,e.documentLinkProvider);i&&this.register({id:Uj.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDocumentLinks:(r,s)=>{let o=this._client,a=(d,p)=>o.sendRequest(tc.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(d),p).then(m=>p.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(m,p),m=>o.handleFailedRequest(tc.DocumentLinkRequest.type,p,m,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(r,s,a):a(r,s)},resolveDocumentLink:e.resolveProvider?(r,s)=>{let o=this._client,a=(d,p)=>o.sendRequest(tc.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(d),p).then(m=>p.isCancellationRequested?d:o.protocol2CodeConverter.asDocumentLink(m),m=>o.handleFailedRequest(tc.DocumentLinkResolveRequest.type,p,m,d)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(r,s,a):a(r,s)}:void 0};return[qj.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};Zl.DocumentLinkFeature=Sv});var d_=M(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.ExecuteCommandFeature=void 0;var Bj=require("vscode"),Dv=Ee(),Kj=bt(),l_=$e(),bv=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Dv.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,l_.ensure)((0,l_.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Kj.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,i=n.middleware,r=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(Dv.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(Dv.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(Bj.commands.registerCommand(o,(...a)=>i.executeCommand?i.executeCommand(o,a,r):r(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(i=>i.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};ed.ExecuteCommandFeature=bv});var f_=M(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.FileSystemWatcherFeature=void 0;var jj=require("vscode"),ys=Ee(),td=$e(),wv=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return ys.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,td.ensure)((0,td.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,td.ensure)((0,td.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let i of e.registerOptions.watchers){let r=this._client.protocol2CodeConverter.asGlobPattern(i.globPattern);if(r===void 0)continue;let s=!0,o=!0,a=!0;i.kind!==void 0&&i.kind!==null&&(s=(i.kind&ys.WatchKind.Create)!==0,o=(i.kind&ys.WatchKind.Change)!==0,a=(i.kind&ys.WatchKind.Delete)!==0);let c=jj.workspace.createFileSystemWatcher(r,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let i=[];for(let r of n)this.hookListeners(r,!0,!0,!0,i);this._watchers.set(e,i)}hookListeners(e,n,i,r,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ys.FileChangeType.Created}),null,s),i&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ys.FileChangeType.Changed}),null,s),r&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:ys.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let i of n)i.dispose()}dispose(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};nd.FileSystemWatcherFeature=wv});var h_=M(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.ColorProviderFeature=void 0;var $j=require("vscode"),nc=Ee(),Tv=$e(),Ev=class extends Tv.TextDocumentLanguageFeature{constructor(e){super(e,nc.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Tv.ensure)((0,Tv.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.colorProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideColorPresentations:(r,s,o)=>{let a=this._client,c=(p,m,f)=>{let u={color:p,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(m.document),range:a.code2ProtocolConverter.asRange(m.range)};return a.sendRequest(nc.ColorPresentationRequest.type,u,f).then(l=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(l,f),l=>a.handleFailedRequest(nc.ColorPresentationRequest.type,f,l,null))},d=a.middleware;return d.provideColorPresentations?d.provideColorPresentations(r,s,o,c):c(r,s,o)},provideDocumentColors:(r,s)=>{let o=this._client,a=(d,p)=>{let m={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(d)};return o.sendRequest(nc.DocumentColorRequest.type,m,p).then(f=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,p),f=>o.handleFailedRequest(nc.DocumentColorRequest.type,p,f,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(r,s,a):a(r,s)}};return[$j.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};id.ColorProviderFeature=Ev});var p_=M(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.ImplementationFeature=void 0;var Wj=require("vscode"),xv=Ee(),_v=$e(),kv=class extends _v.TextDocumentLanguageFeature{constructor(e){super(e,xv.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,_v.ensure)((0,_v.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.implementationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideImplementation:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(xv.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,f),u=>a.handleFailedRequest(xv.ImplementationRequest.type,f,u,null)),d=a.middleware;return d.provideImplementation?d.provideImplementation(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Wj.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};rd.ImplementationFeature=kv});var g_=M(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.TypeDefinitionFeature=void 0;var Hj=require("vscode"),Fv=Ee(),ic=$e(),Av=class extends ic.TextDocumentLanguageFeature{constructor(e){super(e,Fv.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,ic.ensure)((0,ic.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,ic.ensure)((0,ic.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeDefinitionProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideTypeDefinition:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Fv.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(u,f),u=>a.handleFailedRequest(Fv.TypeDefinitionRequest.type,f,u,null)),d=a.middleware;return d.provideTypeDefinition?d.provideTypeDefinition(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Hj.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};sd.TypeDefinitionFeature=Av});var m_=M(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.WorkspaceFoldersFeature=vo.arrayDiff=void 0;var Vj=bt(),od=require("vscode"),rc=Ee();function Pv(t,e){if(t!=null)return t[e]}function Rv(t,e){return t.filter(n=>e.indexOf(n)<0)}vo.arrayDiff=Rv;var Iv=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return rc.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=od.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(i=>this.asProtocol(i))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(rc.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=od.workspace.workspaceFolders;return c===void 0?null:c.map(p=>this.asProtocol(p))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let i=Pv(Pv(Pv(e,"workspace"),"workspaceFolders"),"changeNotifications"),r;typeof i=="string"?r=i:i===!0&&(r=Vj.generateUuid()),r&&this.register({id:r,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let i=Rv(this._initialFolders,e),r=Rv(e,this._initialFolders);(r.length>0||i.length>0)&&(n=this.doSendEvent(r,i))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(i=>{this._client.error(`Sending notification ${rc.DidChangeWorkspaceFoldersNotification.type.method} failed`,i)})}doSendEvent(e,n){let i={event:{added:e.map(r=>this.asProtocol(r)),removed:n.map(r=>this.asProtocol(r))}};return this._client.sendNotification(rc.DidChangeWorkspaceFoldersNotification.type,i)}register(e){let n=e.id,i=this._client,r=od.workspace.onDidChangeWorkspaceFolders(s=>{let o=d=>this.doSendEvent(d.added,d.removed),a=i.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(d=>{this._client.error(`Sending notification ${rc.DidChangeWorkspaceFoldersNotification.type.method} failed`,d)})});this._listeners.set(n,r),this.sendInitialEvent(od.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};vo.WorkspaceFoldersFeature=Iv});var y_=M(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.FoldingRangeFeature=void 0;var zj=require("vscode"),Co=Ee(),Mv=$e(),Nv=class extends Mv.TextDocumentLanguageFeature{constructor(e){super(e,Co.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,Mv.ensure)((0,Mv.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Co.FoldingRangeKind.Comment,Co.FoldingRangeKind.Imports,Co.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1}}initialize(e,n){let[i,r]=this.getRegistration(n,e.foldingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideFoldingRanges:(r,s,o)=>{let a=this._client,c=(p,m,f)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p)};return a.sendRequest(Co.FoldingRangeRequest.type,u,f).then(l=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(l,f),l=>a.handleFailedRequest(Co.FoldingRangeRequest.type,f,l,null))},d=a.middleware;return d.provideFoldingRanges?d.provideFoldingRanges(r,s,o,c):c(r,s,o)}};return[zj.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),i]}};ad.FoldingRangeFeature=Nv});var v_=M(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.DeclarationFeature=void 0;var Gj=require("vscode"),Ov=Ee(),Lv=$e(),qv=class extends Lv.TextDocumentLanguageFeature{constructor(e){super(e,Ov.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,Lv.ensure)((0,Lv.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.declarationProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideDeclaration:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Ov.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(u,f),u=>a.handleFailedRequest(Ov.DeclarationRequest.type,f,u,null)),d=a.middleware;return d.provideDeclaration?d.provideDeclaration(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Gj.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};cd.DeclarationFeature=qv});var C_=M(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.SelectionRangeFeature=void 0;var Jj=require("vscode"),Uv=Ee(),Bv=$e(),Kv=class extends Bv.TextDocumentLanguageFeature{constructor(e){super(e,Uv.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,Bv.ensure)((0,Bv.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.selectionRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideSelectionRanges:(r,s,o)=>{let a=this._client,c=async(p,m,f)=>{let u={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p),positions:await a.code2ProtocolConverter.asPositions(m,f)};return a.sendRequest(Uv.SelectionRangeRequest.type,u,f).then(l=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(l,f),l=>a.handleFailedRequest(Uv.SelectionRangeRequest.type,f,l,null))},d=a.middleware;return d.provideSelectionRanges?d.provideSelectionRanges(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return Jj.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ud.SelectionRangeFeature=Kv});var D_=M(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.ProgressFeature=void 0;var S_=Ee(),Xj=fy();function Yj(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var jv=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:S_.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){Yj(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=r=>{this.activeParts.delete(r)},i=r=>{this.activeParts.add(new Xj.ProgressPart(this._client,r.token,n))};e.onRequest(S_.WorkDoneProgressCreateRequest.type,i)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};ld.ProgressFeature=jv});var b_=M(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.CallHierarchyFeature=void 0;var Qj=require("vscode"),vs=Ee(),$v=$e(),Wv=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,d)=>{let p=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(vs.CallHierarchyPrepareRequest.type,p,d).then(m=>d.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(m,d),m=>r.handleFailedRequest(vs.CallHierarchyPrepareRequest.type,d,m,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,i,o):o(e,n,i)}provideCallHierarchyIncomingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(vs.CallHierarchyIncomingCallsRequest.type,c,a).then(d=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyIncomingCalls(d,a),d=>i.handleFailedRequest(vs.CallHierarchyIncomingCallsRequest.type,a,d,null))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asCallHierarchyItem(o)};return i.sendRequest(vs.CallHierarchyOutgoingCallsRequest.type,c,a).then(d=>a.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyOutgoingCalls(d,a),d=>i.handleFailedRequest(vs.CallHierarchyOutgoingCallsRequest.type,a,d,null))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},Hv=class extends $v.TextDocumentLanguageFeature{constructor(e){super(e,vs.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,i=(0,$v.ensure)((0,$v.ensure)(n,"textDocument"),"callHierarchy");i.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.callHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new Wv(n);return[Qj.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};dd.CallHierarchyFeature=Hv});var w_=M(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.SemanticTokensFeature=void 0;var fd=require("vscode"),xe=Ee(),sc=$e(),Zj=ui(),Vv=class extends sc.TextDocumentLanguageFeature{constructor(e){super(e,xe.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,sc.ensure)((0,sc.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[xe.SemanticTokenTypes.namespace,xe.SemanticTokenTypes.type,xe.SemanticTokenTypes.class,xe.SemanticTokenTypes.enum,xe.SemanticTokenTypes.interface,xe.SemanticTokenTypes.struct,xe.SemanticTokenTypes.typeParameter,xe.SemanticTokenTypes.parameter,xe.SemanticTokenTypes.variable,xe.SemanticTokenTypes.property,xe.SemanticTokenTypes.enumMember,xe.SemanticTokenTypes.event,xe.SemanticTokenTypes.function,xe.SemanticTokenTypes.method,xe.SemanticTokenTypes.macro,xe.SemanticTokenTypes.keyword,xe.SemanticTokenTypes.modifier,xe.SemanticTokenTypes.comment,xe.SemanticTokenTypes.string,xe.SemanticTokenTypes.number,xe.SemanticTokenTypes.regexp,xe.SemanticTokenTypes.operator,xe.SemanticTokenTypes.decorator],n.tokenModifiers=[xe.SemanticTokenModifiers.declaration,xe.SemanticTokenModifiers.definition,xe.SemanticTokenModifiers.readonly,xe.SemanticTokenModifiers.static,xe.SemanticTokenModifiers.deprecated,xe.SemanticTokenModifiers.abstract,xe.SemanticTokenModifiers.async,xe.SemanticTokenModifiers.modification,xe.SemanticTokenModifiers.documentation,xe.SemanticTokenModifiers.defaultLibrary],n.formats=[xe.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,sc.ensure)((0,sc.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(xe.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[r,s]=this.getRegistration(n,e.semanticTokensProvider);!r||!s||this.register({id:r,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,i=Zj.boolean(e.full)?e.full:e.full!==void 0,r=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new fd.EventEmitter,o=i?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(u,l)=>{let h=this._client,y=h.middleware,S=(D,x)=>{let F={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(D)};return h.sendRequest(xe.SemanticTokensRequest.type,F,x).then(A=>x.isCancellationRequested?null:h.protocol2CodeConverter.asSemanticTokens(A,x),A=>h.handleFailedRequest(xe.SemanticTokensRequest.type,x,A,null))};return y.provideDocumentSemanticTokens?y.provideDocumentSemanticTokens(u,l,S):S(u,l)},provideDocumentSemanticTokensEdits:r?(u,l,h)=>{let y=this._client,S=y.middleware,D=(x,F,A)=>{let N={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(x),previousResultId:F};return y.sendRequest(xe.SemanticTokensDeltaRequest.type,N,A).then(async q=>A.isCancellationRequested?null:xe.SemanticTokens.is(q)?await y.protocol2CodeConverter.asSemanticTokens(q,A):await y.protocol2CodeConverter.asSemanticTokensEdits(q,A),q=>y.handleFailedRequest(xe.SemanticTokensDeltaRequest.type,A,q,null))};return S.provideDocumentSemanticTokensEdits?S.provideDocumentSemanticTokensEdits(u,l,h,D):D(u,l,h)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(u,l,h)=>{let y=this._client,S=y.middleware,D=(x,F,A)=>{let N={textDocument:y.code2ProtocolConverter.asTextDocumentIdentifier(x),range:y.code2ProtocolConverter.asRange(F)};return y.sendRequest(xe.SemanticTokensRangeRequest.type,N,A).then(q=>A.isCancellationRequested?null:y.protocol2CodeConverter.asSemanticTokens(q,A),q=>y.handleFailedRequest(xe.SemanticTokensRangeRequest.type,A,q,null))};return S.provideDocumentRangeSemanticTokens?S.provideDocumentRangeSemanticTokens(u,l,h,D):D(u,l,h)}}:void 0,d=[],p=this._client,m=p.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=p.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&d.push(fd.languages.registerDocumentSemanticTokensProvider(f,o,m)),c!==void 0&&d.push(fd.languages.registerDocumentRangeSemanticTokensProvider(f,c,m)),[new fd.Disposable(()=>d.forEach(u=>u.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};hd.SemanticTokensFeature=Vv});var x_=M(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.WillDeleteFilesFeature=Un.WillRenameFilesFeature=Un.WillCreateFilesFeature=Un.DidDeleteFilesFeature=Un.DidRenameFilesFeature=Un.DidCreateFilesFeature=void 0;var hi=require("vscode"),e$=Ol(),lr=Ee(),t$=bt();function T_(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function n$(t,e){return t[e]}function E_(t,e,n){t[e]=n}var oc=class t{constructor(e,n,i,r,s){this._client=e,this._event=n,this._registrationType=i,this._clientCapability=r,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=T_(T_(e,"workspace"),"fileOperations");E_(n,"dynamicRegistration",!0),E_(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,i=n!==void 0?n$(n,this._serverCapability):void 0;if(i?.filters!==void 0)try{this.register({id:t$.generateUuid(),registerOptions:{filters:i.filters}})}catch(r){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${r}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(i=>{let r=new e$.Minimatch(i.pattern.glob,t.asMinimatchOptions(i.pattern.options));if(!r.makeRe())throw new Error(`Invalid pattern ${i.pattern.glob}!`);return{scheme:i.scheme,matcher:r,kind:i.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let i=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let d of c)if(!(d.scheme!==void 0&&d.scheme!==o.scheme)){if(d.matcher.match(a)){if(d.kind===void 0)return!0;let p=await this.getFileType(o);if(p===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(p===hi.FileType.File&&d.kind===lr.FileOperationPatternKind.file||p===hi.FileType.Directory&&d.kind===lr.FileOperationPatternKind.folder)return!0}else if(d.kind===lr.FileOperationPatternKind.folder&&await t.getFileType(o)===hi.FileType.Directory&&d.matcher.match(`${a}/`))return!0}return!1})),r=e.files.filter((s,o)=>i[o]);return{...e,files:r}}static async getFileType(e){try{return(await hi.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},pd=class extends oc{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._notificationType=i,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=async r=>this._client.sendNotification(this._notificationType,this._createParams(r));return this.doSend(n,i)}}},gd=class extends pd{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let i=await oc.getFileType(e);return i&&this._fsPathFileTypes.set(n,i),i}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},zv=class extends pd{constructor(e){super(e,hi.workspace.onDidCreateFiles,lr.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.didCreateFiles?i.didCreateFiles(e,n):n(e)}};Un.DidCreateFilesFeature=zv;var Gv=class extends gd{constructor(e){super(e,hi.workspace.onDidRenameFiles,lr.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=hi.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didRenameFiles?i.didRenameFiles(e,n):n(e)}};Un.DidRenameFilesFeature=Gv;var Jv=class extends gd{constructor(e){super(e,hi.workspace.onDidDeleteFiles,lr.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=hi.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let i=this._client.middleware.workspace;return i?.didDeleteFiles?i.didDeleteFiles(e,n):n(e)}};Un.DidDeleteFilesFeature=Jv;var ac=class extends oc{constructor(e,n,i,r,s,o,a){super(e,n,i,r,s),this._requestType=i,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let i=r=>this._client.sendRequest(this._requestType,this._createParams(r),r.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,i)}else return}},Xv=class extends ac{constructor(e){super(e,hi.workspace.onWillCreateFiles,lr.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willCreateFiles?i.willCreateFiles(e,n):n(e)}};Un.WillCreateFilesFeature=Xv;var Yv=class extends ac{constructor(e){super(e,hi.workspace.onWillRenameFiles,lr.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willRenameFiles?i.willRenameFiles(e,n):n(e)}};Un.WillRenameFilesFeature=Yv;var Qv=class extends ac{constructor(e){super(e,hi.workspace.onWillDeleteFiles,lr.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let i=this._client.middleware.workspace;return i?.willDeleteFiles?i.willDeleteFiles(e,n):n(e)}};Un.WillDeleteFilesFeature=Qv});var __=M(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.LinkedEditingFeature=void 0;var i$=require("vscode"),Zv=Ee(),eC=$e(),tC=class extends eC.TextDocumentLanguageFeature{constructor(e){super(e,Zv.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,eC.ensure)((0,eC.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.linkedEditingRangeProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i={provideLinkedEditingRanges:(r,s,o)=>{let a=this._client,c=(p,m,f)=>a.sendRequest(Zv.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(p,m),f).then(u=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(u,f),u=>a.handleFailedRequest(Zv.LinkedEditingRangeRequest.type,f,u,null)),d=a.middleware;return d.provideLinkedEditingRange?d.provideLinkedEditingRange(r,s,o,c):c(r,s,o)}};return[this.registerProvider(n,i),i]}registerProvider(e,n){return i$.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};md.LinkedEditingFeature=tC});var k_=M(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.TypeHierarchyFeature=void 0;var r$=require("vscode"),Cs=Ee(),nC=$e(),iC=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,i){let r=this.client,s=this.middleware,o=(a,c,d)=>{let p=r.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return r.sendRequest(Cs.TypeHierarchyPrepareRequest.type,p,d).then(m=>d.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(m,d),m=>r.handleFailedRequest(Cs.TypeHierarchyPrepareRequest.type,d,m,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,i,o):o(e,n,i)}provideTypeHierarchySupertypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(Cs.TypeHierarchySupertypesRequest.type,c,a).then(d=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,a),d=>i.handleFailedRequest(Cs.TypeHierarchySupertypesRequest.type,a,d,null))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let i=this.client,r=this.middleware,s=(o,a)=>{let c={item:i.code2ProtocolConverter.asTypeHierarchyItem(o)};return i.sendRequest(Cs.TypeHierarchySubtypesRequest.type,c,a).then(d=>a.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,a),d=>i.handleFailedRequest(Cs.TypeHierarchySubtypesRequest.type,a,d,null))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},rC=class extends nC.TextDocumentLanguageFeature{constructor(e){super(e,Cs.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,nC.ensure)((0,nC.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[i,r]=this.getRegistration(n,e.typeHierarchyProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=this._client,i=new iC(n);return[r$.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),i),i]}};yd.TypeHierarchyFeature=rC});var A_=M(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});Cd.InlineValueFeature=void 0;var F_=require("vscode"),vd=Ee(),cc=$e(),sC=class extends cc.TextDocumentLanguageFeature{constructor(e){super(e,vd.InlineValueRequest.type)}fillClientCapabilities(e){(0,cc.ensure)((0,cc.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,cc.ensure)((0,cc.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(vd.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[i,r]=this.getRegistration(n,e.inlineValueProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new F_.EventEmitter,r={onDidChangeInlineValues:i.event,provideInlineValues:(s,o,a,c)=>{let d=this._client,p=(f,u,l,h)=>{let y={textDocument:d.code2ProtocolConverter.asTextDocumentIdentifier(f),range:d.code2ProtocolConverter.asRange(u),context:d.code2ProtocolConverter.asInlineValueContext(l)};return d.sendRequest(vd.InlineValueRequest.type,y,h).then(S=>h.isCancellationRequested?null:d.protocol2CodeConverter.asInlineValues(S,h),S=>d.handleFailedRequest(vd.InlineValueRequest.type,h,S,null))},m=d.middleware;return m.provideInlineValues?m.provideInlineValues(s,o,a,c,p):p(s,o,a,c)}};return[this.registerProvider(n,r),{provider:r,onDidChangeInlineValues:i}]}registerProvider(e,n){return F_.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Cd.InlineValueFeature=sC});var R_=M(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.InlayHintsFeature=void 0;var P_=require("vscode"),So=Ee(),uc=$e(),oC=class extends uc.TextDocumentLanguageFeature{constructor(e){super(e,So.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,uc.ensure)((0,uc.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,uc.ensure)((0,uc.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(So.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[i,r]=this.getRegistration(n,e.inlayHintProvider);!i||!r||this.register({id:i,registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,i=new P_.EventEmitter,r={onDidChangeInlayHints:i.event,provideInlayHints:(s,o,a)=>{let c=this._client,d=async(m,f,u)=>{let l={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(m),range:c.code2ProtocolConverter.asRange(f)};try{let h=await c.sendRequest(So.InlayHintRequest.type,l,u);return u.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(h,u)}catch(h){return c.handleFailedRequest(So.InlayHintRequest.type,u,h,null)}},p=c.middleware;return p.provideInlayHints?p.provideInlayHints(s,o,a,d):d(s,o,a)}};return r.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(p,m)=>{try{let f=await a.sendRequest(So.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(p),m);if(m.isCancellationRequested)return null;let u=a.protocol2CodeConverter.asInlayHint(f,m);return m.isCancellationRequested?null:u}catch(f){return a.handleFailedRequest(So.InlayHintResolveRequest.type,m,f,null)}},d=a.middleware;return d.resolveInlayHint?d.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,r),{provider:r,onDidChangeInlayHints:i}]}registerProvider(e,n){return P_.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Sd.InlayHintsFeature=oC});var lC=M(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.ProposedFeatures=ht.BaseLanguageClient=ht.MessageTransports=ht.SuspendMode=ht.State=ht.CloseAction=ht.ErrorAction=ht.RevealOutputChannelOn=void 0;var et=require("vscode"),ne=Ee(),s$=fx(),o$=gx(),Wi=ui(),Dd=Fl(),I_=bt(),a$=fy(),Fi=$e(),c$=Iy(),M_=Wx(),N_=Vx(),Do=zx(),u$=Gx(),l$=Jx(),d$=Xx(),f$=Qx(),h$=Zx(),p$=rv(),g$=t_(),m$=n_(),y$=i_(),v$=s_(),aC=o_(),C$=c_(),S$=u_(),D$=d_(),b$=f_(),w$=h_(),T$=p_(),E$=g_(),x$=m_(),_$=y_(),k$=v_(),F$=C_(),A$=D_(),P$=b_(),R$=w_(),bo=x_(),I$=__(),M$=k_(),N$=A_(),O$=R_(),lc;(function(t){t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(lc=ht.RevealOutputChannelOn||(ht.RevealOutputChannelOn={}));var wd;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(wd=ht.ErrorAction||(ht.ErrorAction={}));var Ss;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Ss=ht.CloseAction||(ht.CloseAction={}));var bd;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(bd=ht.State||(ht.State={}));var L$;(function(t){t.off="off",t.on="on"})(L$=ht.SuspendMode||(ht.SuspendMode={}));var cC=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,i){return i&&i<=3?{action:wd.Continue}:{action:wd.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Ss.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Ss.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Ss.Restart})}},Me;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(Me||(Me={}));var q$;(function(t){function e(n){return n&&ne.MessageReader.is(n.reader)&&ne.MessageWriter.is(n.writer)}t.is=e})(q$=ht.MessageTransports||(ht.MessageTransports={}));var dc=class t{constructor(e,n,i){this._traceFormat=ne.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new Dd.Semaphore(1),this._id=e,this._name=n,i=i||{};let r={isTrusted:!1,supportHtml:!1};i.markdown!==void 0&&(r.isTrusted=i.markdown.isTrusted===!0,r.supportHtml=i.markdown.supportHtml===!0),this._clientOptions={documentSelector:i.documentSelector??[],synchronize:i.synchronize??{},diagnosticCollectionName:i.diagnosticCollectionName,outputChannelName:i.outputChannelName??this._name,revealOutputChannelOn:i.revealOutputChannelOn??lc.Error,stdioEncoding:i.stdioEncoding??"utf8",initializationOptions:i.initializationOptions,initializationFailedHandler:i.initializationFailedHandler,progressOnInitialization:!!i.progressOnInitialization,errorHandler:i.errorHandler??this.createDefaultErrorHandler(i.connectionOptions?.maxRestartCount),middleware:i.middleware??{},uriConverters:i.uriConverters,workspaceFolder:i.workspaceFolder,connectionOptions:i.connectionOptions,markdown:r,diagnosticPullOptions:i.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:i.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Me.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,i.outputChannel?(this._outputChannel=i.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=i.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new Dd.Semaphore(1),this._pendingChangeDelayer=new Dd.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new Dd.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new ne.Emitter,this._stateChangeEmitter=new ne.Emitter,this._trace=ne.Trace.Off,this._tracer={log:(s,o)=>{Wi.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=s$.createConverter(i.uriConverters?i.uriConverters.code2Protocol:void 0),this._p2c=o$.createConverter(i.uriConverters?i.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=et.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let i=this.getPublicState();i!==n&&this._stateChangeEmitter.fire({oldState:n,newState:i})}getPublicState(){switch(this.$state){case Me.Starting:return bd.Starting;case Me.Running:return bd.Running;default:return bd.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===Me.StartFailed||this.$state===Me.Stopping||this.$state===Me.Stopped)return Promise.reject(new ne.ResponseError(ne.ErrorCodes.ConnectionInactive,"Client is not running"));let i=await this.$start();return this._didChangeTextDocumentFeature.syncKind===ne.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(i),i.sendRequest(e,...n)}onRequest(e,n){let i=typeof e=="string"?e:e.method;this._requestHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._requestDisposables.set(i,r.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}):(this._pendingRequestHandlers.set(i,n),s={dispose:()=>{this._pendingRequestHandlers.delete(i);let o=this._requestDisposables.get(i);o!==void 0&&(o.dispose(),this._requestDisposables.delete(i))}}),{dispose:()=>{this._requestHandlers.delete(i),s.dispose()}}}async sendNotification(e,n){if(this.$state===Me.StartFailed||this.$state===Me.Stopping||this.$state===Me.Stopped)return Promise.reject(new ne.ResponseError(ne.ErrorCodes.ConnectionInactive,"Client is not running"));let i=this._didChangeTextDocumentFeature.syncKind===ne.TextDocumentSyncKind.Full,r;i&&typeof e!="string"&&e.method===ne.DidOpenTextDocumentNotification.method&&(r=n?.textDocument.uri,this._pendingOpenNotifications.add(r));let s=await this.$start();return i&&await this.sendPendingFullTextDocumentChanges(s),r!==void 0&&this._pendingOpenNotifications.delete(r),s.sendNotification(e,n)}onNotification(e,n){let i=typeof e=="string"?e:e.method;this._notificationHandlers.set(i,n);let r=this.activeConnection(),s;return r!==void 0?(this._notificationDisposables.set(i,r.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}):(this._pendingNotificationHandlers.set(i,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(i);let o=this._notificationDisposables.get(i);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(i))}}),{dispose:()=>{this._notificationHandlers.delete(i),s.dispose()}}}async sendProgress(e,n,i){if(this.$state===Me.StartFailed||this.$state===Me.Stopping||this.$state===Me.Stopped)return Promise.reject(new ne.ResponseError(ne.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,i)}catch(r){throw this.error(`Sending progress for token ${n} failed.`,r),r}}onProgress(e,n,i){this._progressHandlers.set(n,{type:e,handler:i});let r=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=ne.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>i(c))}:i;return r!==void 0?(this._progressDisposables.set(n,r.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:i}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new cC(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof ne.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?Wi.string(e.stack)?e.stack:e.message:Wi.string(e)?e:e.toString()}info(e,n,i=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),n!=null&&this.outputChannel.appendLine(this.data2String(n)),i&&this._clientOptions.revealOutputChannelOn<=lc.Info&&this.showNotificationMessage(ne.MessageType.Info,e)}warn(e,n,i=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),n!=null&&this.outputChannel.appendLine(this.data2String(n)),i&&this._clientOptions.revealOutputChannelOn<=lc.Warn&&this.showNotificationMessage(ne.MessageType.Warning,e)}error(e,n,i=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),n!=null&&this.outputChannel.appendLine(this.data2String(n)),(i==="force"||i&&this._clientOptions.revealOutputChannelOn<=lc.Error)&&this.showNotificationMessage(ne.MessageType.Error,e)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===ne.MessageType.Error?et.window.showErrorMessage:e===ne.MessageType.Warning?et.window.showWarningMessage:et.window.showInformationMessage)(n,"Go to output").then(r=>{r!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Me.Initial||this.$state===Me.Stopping||this.$state===Me.Stopped}needsStop(){return this.$state===Me.Starting||this.$state===Me.Running}activeConnection(){return this.$state===Me.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===Me.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===Me.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,i]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?et.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):et.languages.createDiagnosticCollection());for(let[r,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(r)||this._pendingNotificationHandlers.set(r,s);for(let[r,s]of this._requestHandlers)this._pendingRequestHandlers.has(r)||this._pendingRequestHandlers.set(r,s);for(let[r,s]of this._progressHandlers)this._pendingProgressHandlers.has(r)||this._pendingProgressHandlers.set(r,s);this.$state=Me.Starting;try{let r=await this.createConnection();r.onNotification(ne.LogMessageNotification.type,s=>{switch(s.type){case ne.MessageType.Error:this.error(s.message,void 0,!1);break;case ne.MessageType.Warning:this.warn(s.message,void 0,!1);break;case ne.MessageType.Info:this.info(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),r.onNotification(ne.ShowMessageNotification.type,s=>{switch(s.type){case ne.MessageType.Error:et.window.showErrorMessage(s.message);break;case ne.MessageType.Warning:et.window.showWarningMessage(s.message);break;case ne.MessageType.Info:et.window.showInformationMessage(s.message);break;default:et.window.showInformationMessage(s.message)}}),r.onRequest(ne.ShowMessageRequest.type,s=>{let o;switch(s.type){case ne.MessageType.Error:o=et.window.showErrorMessage;break;case ne.MessageType.Warning:o=et.window.showWarningMessage;break;case ne.MessageType.Info:o=et.window.showInformationMessage;break;default:o=et.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),r.onNotification(ne.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),r.onRequest(ne.ShowDocumentRequest.type,async s=>{let o=async c=>{let d=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await et.env.openExternal(d)};{let p={};return c.selection!==void 0&&(p.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?p.preserveFocus=!0:c.takeFocus===!0&&(p.preserveFocus=!1),await et.window.showTextDocument(d,p),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),r.listen(),await this.initialize(r),n()}catch(r){this.$state=Me.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,r,"force"),i(r)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((r,s)=>{e=r,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[i,r]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:et.env.appName,version:et.version},locale:this.getLocale(),rootPath:i||null,rootUri:i?this._c2p.asUri(et.Uri.file(i)):null,capabilities:this.computeClientCapabilities(),initializationOptions:Wi.func(n)?n():n,trace:ne.Trace.toString(this._trace),workspaceFolders:r};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=I_.generateUuid(),a=new a$.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let i=await e.initialize(n);if(i.capabilities.positionEncoding!==void 0&&i.capabilities.positionEncoding!==ne.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${i.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=i,this.$state=Me.Running;let r;Wi.number(i.capabilities.textDocumentSync)?i.capabilities.textDocumentSync===ne.TextDocumentSyncKind.None?r={openClose:!1,change:ne.TextDocumentSyncKind.None,save:void 0}:r={openClose:!0,change:i.capabilities.textDocumentSync,save:{includeText:!1}}:i.capabilities.textDocumentSync!==void 0&&i.capabilities.textDocumentSync!==null&&(r=i.capabilities.textDocumentSync),this._capabilities=Object.assign({},i.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(ne.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(ne.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(ne.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(ne.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(ne.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),i}catch(i){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(i)?this.initialize(e):this.stop():i instanceof ne.ResponseError&&i.data&&i.data.retry?et.window.showErrorMessage(i.message,{title:"Retry",id:"retry"}).then(r=>{r&&r.id==="retry"?this.initialize(e):this.stop()}):(i&&i.message&&et.window.showErrorMessage(i.message),this.error("Server initialization failed.",i),this.stop()),i}}_clientGetRootPath(){let e=et.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===Me.Stopped||this.$state===Me.Initial)return;if(this.$state===Me.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let i=this.activeConnection();if(i===void 0||this.$state!==Me.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Me.Stopping,this.cleanUp(e);let r=new Promise(o=>{(0,ne.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(i);return this._onStop=Promise.race([r,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=Me.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let i of n)i.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let i of Array.from(this._features.entries()).map(r=>r[1]).reverse())i.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function i(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(ne.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,i):i(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let i of n){let r=this.code2ProtocolConverter.asChangeTextDocumentParams(i);await e.sendNotification(ne.DidChangeTextDocumentNotification.type,r),this._didChangeTextDocumentFeature.notificationSent(i,ne.DidChangeTextDocumentNotification.type,r)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,ne.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,i]=e.value;this._diagnosticQueue.delete(n);let r=new et.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:r},this._p2c.asDiagnostics(i,r.token).then(s=>{if(!r.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,d)=>this.setDiagnostics(c,d)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return et.env.language}async $start(){if(this.$state===Me.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(r,s,o)=>{this.handleConnectionError(r,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(r=>this.error("Handling connection close failed",r))},i=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=U$(i.reader,i.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Me.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Ss.DoNotRestart};if(this.$state!==Me.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Ss.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===Me.Starting?this.$state=Me.StartFailed:this.$state=Me.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Ss.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=Me.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,i){let r=await this._clientOptions.errorHandler.error(e,n,i);r.action===wd.Shutdown&&(this.error(r.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,r.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)}))}hookConfigurationChanged(e){this._listeners.push(et.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let i=et.workspace.getConfiguration(this._id),r=ne.Trace.Off,s=ne.TraceFormat.Text;if(i){let o=i.get("trace.server","off");typeof o=="string"?r=ne.Trace.fromString(o):(r=ne.Trace.fromString(i.get("trace.server.verbosity","off")),s=ne.TraceFormat.fromString(i.get("trace.server.format","text")))}this._trace=r,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let i;Wi.array(n)?i=n:i=[n],i&&this._dynamicFeatures.get(ne.DidChangeWatchedFilesNotification.type.method).registerRaw(I_.generateUuid(),i)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),Fi.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(ne.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof M_.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new N_.ConfigurationFeature(this)),this.registerFeature(new Do.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new Do.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Do.WillSaveFeature(this)),this.registerFeature(new Do.WillSaveWaitUntilFeature(this)),this.registerFeature(new Do.DidSaveTextDocumentFeature(this)),this.registerFeature(new Do.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new b$.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new u$.CompletionItemFeature(this)),this.registerFeature(new l$.HoverFeature(this)),this.registerFeature(new f$.SignatureHelpFeature(this)),this.registerFeature(new d$.DefinitionFeature(this)),this.registerFeature(new m$.ReferencesFeature(this)),this.registerFeature(new h$.DocumentHighlightFeature(this)),this.registerFeature(new p$.DocumentSymbolFeature(this)),this.registerFeature(new g$.WorkspaceSymbolFeature(this)),this.registerFeature(new y$.CodeActionFeature(this)),this.registerFeature(new v$.CodeLensFeature(this)),this.registerFeature(new aC.DocumentFormattingFeature(this)),this.registerFeature(new aC.DocumentRangeFormattingFeature(this)),this.registerFeature(new aC.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new C$.RenameFeature(this)),this.registerFeature(new S$.DocumentLinkFeature(this)),this.registerFeature(new D$.ExecuteCommandFeature(this)),this.registerFeature(new N_.SyncConfigurationFeature(this)),this.registerFeature(new E$.TypeDefinitionFeature(this)),this.registerFeature(new T$.ImplementationFeature(this)),this.registerFeature(new w$.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new x$.WorkspaceFoldersFeature(this)),this.registerFeature(new _$.FoldingRangeFeature(this)),this.registerFeature(new k$.DeclarationFeature(this)),this.registerFeature(new F$.SelectionRangeFeature(this)),this.registerFeature(new A$.ProgressFeature(this)),this.registerFeature(new P$.CallHierarchyFeature(this)),this.registerFeature(new R$.SemanticTokensFeature(this)),this.registerFeature(new I$.LinkedEditingFeature(this)),this.registerFeature(new bo.DidCreateFilesFeature(this)),this.registerFeature(new bo.DidRenameFilesFeature(this)),this.registerFeature(new bo.DidDeleteFilesFeature(this)),this.registerFeature(new bo.WillCreateFilesFeature(this)),this.registerFeature(new bo.WillRenameFilesFeature(this)),this.registerFeature(new bo.WillDeleteFilesFeature(this)),this.registerFeature(new M$.TypeHierarchyFeature(this)),this.registerFeature(new N$.InlineValueFeature(this)),this.registerFeature(new O$.InlayHintsFeature(this)),this.registerFeature(new c$.DiagnosticFeature(this)),this.registerFeature(new M_.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(O_.createAll(this))}fillInitializeParams(e){for(let n of this._features)Wi.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Fi.ensure)(e,"workspace").applyEdit=!0;let n=(0,Fi.ensure)((0,Fi.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[ne.ResourceOperationKind.Create,ne.ResourceOperationKind.Rename,ne.ResourceOperationKind.Delete],n.failureHandling=ne.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let i=(0,Fi.ensure)((0,Fi.ensure)(e,"textDocument"),"publishDiagnostics");i.relatedInformation=!0,i.versionSupport=!1,i.tagSupport={valueSet:[ne.DiagnosticTag.Unnecessary,ne.DiagnosticTag.Deprecated]},i.codeDescriptionSupport=!0,i.dataSupport=!0;let r=(0,Fi.ensure)(e,"window"),s=(0,Fi.ensure)(r,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,Fi.ensure)(r,"showDocument");o.support=!0;let a=(0,Fi.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let i of this._features)Wi.func(i.preInitialize)&&i.preInitialize(this._capabilities,n);for(let i of this._features)i.initialize(this._capabilities,n)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let i=this._dynamicFeatures.get(n.method);if(i===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let r=n.registerOptions??{};r.documentSelector=r.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:r};try{i.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let i=this._dynamicFeatures.get(n.method);if(!i)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));i.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,i=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),r=new Map;et.workspace.textDocuments.forEach(o=>r.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(ne.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=r.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):Wi.asPromise(et.workspace.applyEdit(i).then(o=>({applied:o})))}handleFailedRequest(e,n,i,r,s=!0){if(i instanceof ne.ResponseError){if(i.code===ne.ErrorCodes.PendingResponseRejected||i.code===ne.ErrorCodes.ConnectionInactive)return r;if(i.code===ne.LSPErrorCodes.RequestCancelled||i.code===ne.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return r;throw i.data!==void 0?new Fi.LSPCancellationError(i.data):new et.CancellationError}else if(i.code===ne.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new et.CancellationError;return r}}throw this.error(`Request ${e.method} failed.`,i,s),i}};ht.BaseLanguageClient=dc;dc.RequestsToCancelOnContentModified=new Set([ne.SemanticTokensRequest.method,ne.SemanticTokensRangeRequest.method,ne.SemanticTokensDeltaRequest.method]);dc.CancellableResolveCalls=new Set([ne.CompletionResolveRequest.method,ne.CodeLensResolveRequest.method,ne.CodeActionResolveRequest.method,ne.InlayHintResolveRequest.method,ne.DocumentLinkResolveRequest.method,ne.WorkspaceSymbolResolveRequest.method]);var uC=class{error(e){(0,ne.RAL)().console.error(e)}warn(e){(0,ne.RAL)().console.warn(e)}info(e){(0,ne.RAL)().console.info(e)}log(e){(0,ne.RAL)().console.log(e)}};function U$(t,e,n,i,r){let s=new uC,o=(0,ne.createProtocolConnection)(t,e,s,r);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(i),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,d,p)=>{let m={sendNotification:!1,traceFormat:ne.TraceFormat.Text};return p===void 0?o.trace(c,d,m):(Wi.boolean(p),o.trace(c,d,p))},initialize:c=>o.sendRequest(ne.InitializeRequest.type,c),shutdown:()=>o.sendRequest(ne.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(ne.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var O_;(function(t){function e(n){return[]}t.createAll=e})(O_=ht.ProposedFeatures||(ht.ProposedFeatures={}))});var q_=M(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.terminate=void 0;var L_=require("child_process"),B$=require("path"),K$=process.platform==="win32",j$=process.platform==="darwin",$$=process.platform==="linux";function W$(t,e){if(K$)try{let r={stdio:["pipe","pipe","ignore"]};return e&&(r.cwd=e),L_.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],r),!0}catch{return!1}else if($$||j$)try{var n=(0,B$.join)(__dirname,"terminateProcess.sh"),i=L_.spawnSync(n,[t.pid.toString()]);return!i.error}catch{return!1}else return t.kill("SIGKILL"),!0}Td.terminate=W$});var dC=M((i7,U_)=>{"use strict";U_.exports=Ee()});var fc=M((r7,B_)=>{var H$=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};B_.exports=H$});var Ed=M((s7,K_)=>{var V$="2.0.0",z$=Number.MAX_SAFE_INTEGER||9007199254740991,G$=16,J$=256-6,X$=["major","premajor","minor","preminor","patch","prepatch","prerelease"];K_.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:G$,MAX_SAFE_BUILD_LENGTH:J$,MAX_SAFE_INTEGER:z$,RELEASE_TYPES:X$,SEMVER_SPEC_VERSION:V$,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var xd=M((dr,j_)=>{var{MAX_SAFE_COMPONENT_LENGTH:fC,MAX_SAFE_BUILD_LENGTH:Y$,MAX_LENGTH:Q$}=Ed(),Z$=fc();dr=j_.exports={};var eW=dr.re=[],tW=dr.safeRe=[],fe=dr.src=[],he=dr.t={},nW=0,hC="[a-zA-Z0-9-]",iW=[["\\s",1],["\\d",Q$],[hC,Y$]],rW=t=>{for(let[e,n]of iW)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Pe=(t,e,n)=>{let i=rW(e),r=nW++;Z$(t,r,e),he[t]=r,fe[r]=e,eW[r]=new RegExp(e,n?"g":void 0),tW[r]=new RegExp(i,n?"g":void 0)};Pe("NUMERICIDENTIFIER","0|[1-9]\\d*");Pe("NUMERICIDENTIFIERLOOSE","\\d+");Pe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${hC}*`);Pe("MAINVERSION",`(${fe[he.NUMERICIDENTIFIER]})\\.(${fe[he.NUMERICIDENTIFIER]})\\.(${fe[he.NUMERICIDENTIFIER]})`);Pe("MAINVERSIONLOOSE",`(${fe[he.NUMERICIDENTIFIERLOOSE]})\\.(${fe[he.NUMERICIDENTIFIERLOOSE]})\\.(${fe[he.NUMERICIDENTIFIERLOOSE]})`);Pe("PRERELEASEIDENTIFIER",`(?:${fe[he.NUMERICIDENTIFIER]}|${fe[he.NONNUMERICIDENTIFIER]})`);Pe("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[he.NUMERICIDENTIFIERLOOSE]}|${fe[he.NONNUMERICIDENTIFIER]})`);Pe("PRERELEASE",`(?:-(${fe[he.PRERELEASEIDENTIFIER]}(?:\\.${fe[he.PRERELEASEIDENTIFIER]})*))`);Pe("PRERELEASELOOSE",`(?:-?(${fe[he.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[he.PRERELEASEIDENTIFIERLOOSE]})*))`);Pe("BUILDIDENTIFIER",`${hC}+`);Pe("BUILD",`(?:\\+(${fe[he.BUILDIDENTIFIER]}(?:\\.${fe[he.BUILDIDENTIFIER]})*))`);Pe("FULLPLAIN",`v?${fe[he.MAINVERSION]}${fe[he.PRERELEASE]}?${fe[he.BUILD]}?`);Pe("FULL",`^${fe[he.FULLPLAIN]}$`);Pe("LOOSEPLAIN",`[v=\\s]*${fe[he.MAINVERSIONLOOSE]}${fe[he.PRERELEASELOOSE]}?${fe[he.BUILD]}?`);Pe("LOOSE",`^${fe[he.LOOSEPLAIN]}$`);Pe("GTLT","((?:<|>)?=?)");Pe("XRANGEIDENTIFIERLOOSE",`${fe[he.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Pe("XRANGEIDENTIFIER",`${fe[he.NUMERICIDENTIFIER]}|x|X|\\*`);Pe("XRANGEPLAIN",`[v=\\s]*(${fe[he.XRANGEIDENTIFIER]})(?:\\.(${fe[he.XRANGEIDENTIFIER]})(?:\\.(${fe[he.XRANGEIDENTIFIER]})(?:${fe[he.PRERELEASE]})?${fe[he.BUILD]}?)?)?`);Pe("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[he.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[he.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[he.XRANGEIDENTIFIERLOOSE]})(?:${fe[he.PRERELEASELOOSE]})?${fe[he.BUILD]}?)?)?`);Pe("XRANGE",`^${fe[he.GTLT]}\\s*${fe[he.XRANGEPLAIN]}$`);Pe("XRANGELOOSE",`^${fe[he.GTLT]}\\s*${fe[he.XRANGEPLAINLOOSE]}$`);Pe("COERCE",`(^|[^\\d])(\\d{1,${fC}})(?:\\.(\\d{1,${fC}}))?(?:\\.(\\d{1,${fC}}))?(?:$|[^\\d])`);Pe("COERCERTL",fe[he.COERCE],!0);Pe("LONETILDE","(?:~>?)");Pe("TILDETRIM",`(\\s*)${fe[he.LONETILDE]}\\s+`,!0);dr.tildeTrimReplace="$1~";Pe("TILDE",`^${fe[he.LONETILDE]}${fe[he.XRANGEPLAIN]}$`);Pe("TILDELOOSE",`^${fe[he.LONETILDE]}${fe[he.XRANGEPLAINLOOSE]}$`);Pe("LONECARET","(?:\\^)");Pe("CARETTRIM",`(\\s*)${fe[he.LONECARET]}\\s+`,!0);dr.caretTrimReplace="$1^";Pe("CARET",`^${fe[he.LONECARET]}${fe[he.XRANGEPLAIN]}$`);Pe("CARETLOOSE",`^${fe[he.LONECARET]}${fe[he.XRANGEPLAINLOOSE]}$`);Pe("COMPARATORLOOSE",`^${fe[he.GTLT]}\\s*(${fe[he.LOOSEPLAIN]})$|^$`);Pe("COMPARATOR",`^${fe[he.GTLT]}\\s*(${fe[he.FULLPLAIN]})$|^$`);Pe("COMPARATORTRIM",`(\\s*)${fe[he.GTLT]}\\s*(${fe[he.LOOSEPLAIN]}|${fe[he.XRANGEPLAIN]})`,!0);dr.comparatorTrimReplace="$1$2$3";Pe("HYPHENRANGE",`^\\s*(${fe[he.XRANGEPLAIN]})\\s+-\\s+(${fe[he.XRANGEPLAIN]})\\s*$`);Pe("HYPHENRANGELOOSE",`^\\s*(${fe[he.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[he.XRANGEPLAINLOOSE]})\\s*$`);Pe("STAR","(<|>)?=?\\s*\\*");Pe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Pe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var _d=M((o7,$_)=>{var sW=Object.freeze({loose:!0}),oW=Object.freeze({}),aW=t=>t?typeof t!="object"?sW:t:oW;$_.exports=aW});var z_=M((a7,V_)=>{var W_=/^[0-9]+$/,H_=(t,e)=>{let n=W_.test(t),i=W_.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},cW=(t,e)=>H_(e,t);V_.exports={compareIdentifiers:H_,rcompareIdentifiers:cW}});var hc=M((c7,Y_)=>{var kd=fc(),{MAX_LENGTH:G_,MAX_SAFE_INTEGER:Fd}=Ed(),{safeRe:J_,t:X_}=xd(),uW=_d(),{compareIdentifiers:wo}=z_(),pC=class t{constructor(e,n){if(n=uW(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>G_)throw new TypeError(`version is longer than ${G_} characters`);kd("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?J_[X_.LOOSE]:J_[X_.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Fd||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Fd||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Fd||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let s=+r;if(s>=0&&s<Fd)return s}return r}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(kd("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),wo(this.major,e.major)||wo(this.minor,e.minor)||wo(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],r=e.prerelease[n];if(kd("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return wo(i,r)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],r=e.build[n];if(kd("prerelease compare",n,i,r),i===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(i===void 0)return-1;if(i===r)continue;return wo(i,r)}while(++n)}inc(e,n,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let r=Number(i)?1:0;if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[r];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(r)}}if(n){let s=[n,r];i===!1&&(s=[n]),wo(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Y_.exports=pC});var ek=M((u7,Z_)=>{var Q_=hc(),lW=(t,e,n=!1)=>{if(t instanceof Q_)return t;try{return new Q_(t,e)}catch(i){if(!n)return null;throw i}};Z_.exports=lW});var nk=M((l7,tk)=>{"use strict";tk.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var rk=M((d7,ik)=>{"use strict";ik.exports=He;He.Node=Ds;He.create=He;function He(t){var e=this;if(e instanceof He||(e=new He),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(r){e.push(r)});else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}He.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};He.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};He.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};He.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)fW(this,arguments[t]);return this.length};He.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)hW(this,arguments[t]);return this.length};He.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};He.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};He.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,i=0;n!==null;i++)t.call(e,n.value,i,this),n=n.next};He.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,i=this.length-1;n!==null;i--)t.call(e,n.value,i,this),n=n.prev};He.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};He.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};He.prototype.map=function(t,e){e=e||this;for(var n=new He,i=this.head;i!==null;)n.push(t.call(e,i.value,this)),i=i.next;return n};He.prototype.mapReverse=function(t,e){e=e||this;for(var n=new He,i=this.tail;i!==null;)n.push(t.call(e,i.value,this)),i=i.prev;return n};He.prototype.reduce=function(t,e){var n,i=this.head;if(arguments.length>1)n=e;else if(this.head)i=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=0;i!==null;r++)n=t(n,i.value,r),i=i.next;return n};He.prototype.reduceReverse=function(t,e){var n,i=this.tail;if(arguments.length>1)n=e;else if(this.tail)i=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var r=this.length-1;i!==null;r--)n=t(n,i.value,r),i=i.prev;return n};He.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};He.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};He.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new He;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,r=this.head;r!==null&&i<t;i++)r=r.next;for(;r!==null&&i<e;i++,r=r.next)n.push(r.value);return n};He.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new He;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,r=this.tail;r!==null&&i>e;i--)r=r.prev;for(;r!==null&&i>t;i--,r=r.prev)n.push(r.value);return n};He.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var i=0,r=this.head;r!==null&&i<t;i++)r=r.next;for(var s=[],i=0;r&&i<e;i++)s.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var i=0;i<n.length;i++)r=dW(this,r,n[i]);return s};He.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=e,this.tail=t,this};function dW(t,e,n){var i=e===t.head?new Ds(n,null,e,t):new Ds(n,e,e.next,t);return i.next===null&&(t.tail=i),i.prev===null&&(t.head=i),t.length++,i}function fW(t,e){t.tail=new Ds(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function hW(t,e){t.head=new Ds(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ds(t,e,n,i){if(!(this instanceof Ds))return new Ds(t,e,n,i);this.list=i,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{nk()(He)}catch{}});var uk=M((f7,ck)=>{"use strict";var pW=rk(),bs=Symbol("max"),hr=Symbol("length"),To=Symbol("lengthCalculator"),gc=Symbol("allowStale"),ws=Symbol("maxAge"),fr=Symbol("dispose"),sk=Symbol("noDisposeOnSet"),Xt=Symbol("lruList"),Ai=Symbol("cache"),ak=Symbol("updateAgeOnGet"),gC=()=>1,yC=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[bs]=e.max||1/0,i=e.length||gC;if(this[To]=typeof i!="function"?gC:i,this[gc]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[ws]=e.maxAge||0,this[fr]=e.dispose,this[sk]=e.noDisposeOnSet||!1,this[ak]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[bs]=e||1/0,pc(this)}get max(){return this[bs]}set allowStale(e){this[gc]=!!e}get allowStale(){return this[gc]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[ws]=e,pc(this)}get maxAge(){return this[ws]}set lengthCalculator(e){typeof e!="function"&&(e=gC),e!==this[To]&&(this[To]=e,this[hr]=0,this[Xt].forEach(n=>{n.length=this[To](n.value,n.key),this[hr]+=n.length})),pc(this)}get lengthCalculator(){return this[To]}get length(){return this[hr]}get itemCount(){return this[Xt].length}rforEach(e,n){n=n||this;for(let i=this[Xt].tail;i!==null;){let r=i.prev;ok(this,e,i,n),i=r}}forEach(e,n){n=n||this;for(let i=this[Xt].head;i!==null;){let r=i.next;ok(this,e,i,n),i=r}}keys(){return this[Xt].toArray().map(e=>e.key)}values(){return this[Xt].toArray().map(e=>e.value)}reset(){this[fr]&&this[Xt]&&this[Xt].length&&this[Xt].forEach(e=>this[fr](e.key,e.value)),this[Ai]=new Map,this[Xt]=new pW,this[hr]=0}dump(){return this[Xt].map(e=>Ad(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Xt]}set(e,n,i){if(i=i||this[ws],i&&typeof i!="number")throw new TypeError("maxAge must be a number");let r=i?Date.now():0,s=this[To](n,e);if(this[Ai].has(e)){if(s>this[bs])return Eo(this,this[Ai].get(e)),!1;let c=this[Ai].get(e).value;return this[fr]&&(this[sk]||this[fr](e,c.value)),c.now=r,c.maxAge=i,c.value=n,this[hr]+=s-c.length,c.length=s,this.get(e),pc(this),!0}let o=new vC(e,n,s,r,i);return o.length>this[bs]?(this[fr]&&this[fr](e,n),!1):(this[hr]+=o.length,this[Xt].unshift(o),this[Ai].set(e,this[Xt].head),pc(this),!0)}has(e){if(!this[Ai].has(e))return!1;let n=this[Ai].get(e).value;return!Ad(this,n)}get(e){return mC(this,e,!0)}peek(e){return mC(this,e,!1)}pop(){let e=this[Xt].tail;return e?(Eo(this,e),e.value):null}del(e){Eo(this,this[Ai].get(e))}load(e){this.reset();let n=Date.now();for(let i=e.length-1;i>=0;i--){let r=e[i],s=r.e||0;if(s===0)this.set(r.k,r.v);else{let o=s-n;o>0&&this.set(r.k,r.v,o)}}}prune(){this[Ai].forEach((e,n)=>mC(this,n,!1))}},mC=(t,e,n)=>{let i=t[Ai].get(e);if(i){let r=i.value;if(Ad(t,r)){if(Eo(t,i),!t[gc])return}else n&&(t[ak]&&(i.value.now=Date.now()),t[Xt].unshiftNode(i));return r.value}},Ad=(t,e)=>{if(!e||!e.maxAge&&!t[ws])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[ws]&&n>t[ws]},pc=t=>{if(t[hr]>t[bs])for(let e=t[Xt].tail;t[hr]>t[bs]&&e!==null;){let n=e.prev;Eo(t,e),e=n}},Eo=(t,e)=>{if(e){let n=e.value;t[fr]&&t[fr](n.key,n.value),t[hr]-=n.length,t[Ai].delete(n.key),t[Xt].removeNode(e)}},vC=class{constructor(e,n,i,r,s){this.key=e,this.value=n,this.length=i,this.now=r,this.maxAge=s||0}},ok=(t,e,n,i)=>{let r=n.value;Ad(t,r)&&(Eo(t,n),t[gc]||(r=void 0)),r&&e.call(i,r.value,r.key,t)};ck.exports=yC});var Ts=M((h7,dk)=>{var lk=hc(),gW=(t,e,n)=>new lk(t,n).compare(new lk(e,n));dk.exports=gW});var hk=M((p7,fk)=>{var mW=Ts(),yW=(t,e,n)=>mW(t,e,n)===0;fk.exports=yW});var gk=M((g7,pk)=>{var vW=Ts(),CW=(t,e,n)=>vW(t,e,n)!==0;pk.exports=CW});var yk=M((m7,mk)=>{var SW=Ts(),DW=(t,e,n)=>SW(t,e,n)>0;mk.exports=DW});var Ck=M((y7,vk)=>{var bW=Ts(),wW=(t,e,n)=>bW(t,e,n)>=0;vk.exports=wW});var Dk=M((v7,Sk)=>{var TW=Ts(),EW=(t,e,n)=>TW(t,e,n)<0;Sk.exports=EW});var wk=M((C7,bk)=>{var xW=Ts(),_W=(t,e,n)=>xW(t,e,n)<=0;bk.exports=_W});var Ek=M((S7,Tk)=>{var kW=hk(),FW=gk(),AW=yk(),PW=Ck(),RW=Dk(),IW=wk(),MW=(t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return kW(t,n,i);case"!=":return FW(t,n,i);case">":return AW(t,n,i);case">=":return PW(t,n,i);case"<":return RW(t,n,i);case"<=":return IW(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}};Tk.exports=MW});var Rk=M((D7,Pk)=>{var mc=Symbol("SemVer ANY"),DC=class t{static get ANY(){return mc}constructor(e,n){if(n=xk(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),SC("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===mc?this.value="":this.value=this.operator+this.semver.version,SC("comp",this)}parse(e){let n=this.options.loose?_k[kk.COMPARATORLOOSE]:_k[kk.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new Fk(i[2],this.options.loose):this.semver=mc}toString(){return this.value}test(e){if(SC("Comparator.test",e,this.options.loose),this.semver===mc||e===mc)return!0;if(typeof e=="string")try{e=new Fk(e,this.options)}catch{return!1}return CC(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Ak(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Ak(this.value,n).test(e.semver):(n=xk(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||CC(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||CC(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Pk.exports=DC;var xk=_d(),{safeRe:_k,t:kk}=xd(),CC=Ek(),SC=fc(),Fk=hc(),Ak=bC()});var bC=M((b7,Ok)=>{var wC=class t{constructor(e,n){if(n=OW(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof TC)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(r=>!Mk(r[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let r of this.set)if(r.length===1&&$W(r[0])){this.set=[r];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&KW)|(this.options.loose&&jW))+":"+e,r=Ik.get(i);if(r)return r;let s=this.options.loose,o=s?Bn[_n.HYPHENRANGELOOSE]:Bn[_n.HYPHENRANGE];e=e.replace(o,ZW(this.options.includePrerelease)),pt("hyphen replace",e),e=e.replace(Bn[_n.COMPARATORTRIM],qW),pt("comparator trim",e),e=e.replace(Bn[_n.TILDETRIM],UW),pt("tilde trim",e),e=e.replace(Bn[_n.CARETTRIM],BW),pt("caret trim",e);let a=e.split(" ").map(m=>WW(m,this.options)).join(" ").split(/\s+/).map(m=>QW(m,this.options));s&&(a=a.filter(m=>(pt("loose invalid filter",m,this.options),!!m.match(Bn[_n.COMPARATORLOOSE])))),pt("range list",a);let c=new Map,d=a.map(m=>new TC(m,this.options));for(let m of d){if(Mk(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let p=[...c.values()];return Ik.set(i,p),p}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>Nk(i,n)&&e.set.some(r=>Nk(r,n)&&i.every(s=>r.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new LW(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(e3(this.set[n],e,this.options))return!0;return!1}};Ok.exports=wC;var NW=uk(),Ik=new NW({max:1e3}),OW=_d(),TC=Rk(),pt=fc(),LW=hc(),{safeRe:Bn,t:_n,comparatorTrimReplace:qW,tildeTrimReplace:UW,caretTrimReplace:BW}=xd(),{FLAG_INCLUDE_PRERELEASE:KW,FLAG_LOOSE:jW}=Ed(),Mk=t=>t.value==="<0.0.0-0",$W=t=>t.value==="",Nk=(t,e)=>{let n=!0,i=t.slice(),r=i.pop();for(;n&&i.length;)n=i.every(s=>r.intersects(s,e)),r=i.pop();return n},WW=(t,e)=>(pt("comp",t,e),t=zW(t,e),pt("caret",t),t=HW(t,e),pt("tildes",t),t=JW(t,e),pt("xrange",t),t=YW(t,e),pt("stars",t),t),kn=t=>!t||t.toLowerCase()==="x"||t==="*",HW=(t,e)=>t.trim().split(/\s+/).map(n=>VW(n,e)).join(" "),VW=(t,e)=>{let n=e.loose?Bn[_n.TILDELOOSE]:Bn[_n.TILDE];return t.replace(n,(i,r,s,o,a)=>{pt("tilde",t,i,r,s,o,a);let c;return kn(r)?c="":kn(s)?c=`>=${r}.0.0 <${+r+1}.0.0-0`:kn(o)?c=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:a?(pt("replaceTilde pr",a),c=`>=${r}.${s}.${o}-${a} <${r}.${+s+1}.0-0`):c=`>=${r}.${s}.${o} <${r}.${+s+1}.0-0`,pt("tilde return",c),c})},zW=(t,e)=>t.trim().split(/\s+/).map(n=>GW(n,e)).join(" "),GW=(t,e)=>{pt("caret",t,e);let n=e.loose?Bn[_n.CARETLOOSE]:Bn[_n.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(r,s,o,a,c)=>{pt("caret",t,r,s,o,a,c);let d;return kn(s)?d="":kn(o)?d=`>=${s}.0.0${i} <${+s+1}.0.0-0`:kn(a)?s==="0"?d=`>=${s}.${o}.0${i} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.0${i} <${+s+1}.0.0-0`:c?(pt("replaceCaret pr",c),s==="0"?o==="0"?d=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:d=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(pt("no pr"),s==="0"?o==="0"?d=`>=${s}.${o}.${a}${i} <${s}.${o}.${+a+1}-0`:d=`>=${s}.${o}.${a}${i} <${s}.${+o+1}.0-0`:d=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),pt("caret return",d),d})},JW=(t,e)=>(pt("replaceXRanges",t,e),t.split(/\s+/).map(n=>XW(n,e)).join(" ")),XW=(t,e)=>{t=t.trim();let n=e.loose?Bn[_n.XRANGELOOSE]:Bn[_n.XRANGE];return t.replace(n,(i,r,s,o,a,c)=>{pt("xRange",t,i,r,s,o,a,c);let d=kn(s),p=d||kn(o),m=p||kn(a),f=m;return r==="="&&f&&(r=""),c=e.includePrerelease?"-0":"",d?r===">"||r==="<"?i="<0.0.0-0":i="*":r&&f?(p&&(o=0),a=0,r===">"?(r=">=",p?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):r==="<="&&(r="<",p?s=+s+1:o=+o+1),r==="<"&&(c="-0"),i=`${r+s}.${o}.${a}${c}`):p?i=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(i=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),pt("xRange return",i),i})},YW=(t,e)=>(pt("replaceStars",t,e),t.trim().replace(Bn[_n.STAR],"")),QW=(t,e)=>(pt("replaceGTE0",t,e),t.trim().replace(Bn[e.includePrerelease?_n.GTE0PRE:_n.GTE0],"")),ZW=t=>(e,n,i,r,s,o,a,c,d,p,m,f,u)=>(kn(i)?n="":kn(r)?n=`>=${i}.0.0${t?"-0":""}`:kn(s)?n=`>=${i}.${r}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,kn(d)?c="":kn(p)?c=`<${+d+1}.0.0-0`:kn(m)?c=`<${d}.${+p+1}.0-0`:f?c=`<=${d}.${p}.${m}-${f}`:t?c=`<${d}.${p}.${+m+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),e3=(t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(pt(t[i].semver),t[i].semver!==TC.ANY&&t[i].semver.prerelease.length>0){let r=t[i].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}});var qk=M((w7,Lk)=>{var t3=bC(),n3=(t,e,n)=>{try{e=new t3(e,n)}catch{return!1}return e.test(t)};Lk.exports=n3});var Bk=M(ti=>{"use strict";var i3=ti&&ti.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),EC=ti&&ti.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&i3(e,t,n)};Object.defineProperty(ti,"__esModule",{value:!0});ti.DiagnosticPullMode=ti.vsdiag=void 0;EC(Ee(),ti);EC($e(),ti);var Uk=Iy();Object.defineProperty(ti,"vsdiag",{enumerable:!0,get:function(){return Uk.vsdiag}});Object.defineProperty(ti,"DiagnosticPullMode",{enumerable:!0,get:function(){return Uk.DiagnosticPullMode}});EC(lC(),ti)});var Wk=M(Fn=>{"use strict";var r3=Fn&&Fn.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),$k=Fn&&Fn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&r3(e,t,n)};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.SettingMonitor=Fn.LanguageClient=Fn.TransportKind=void 0;var pr=require("child_process"),xC=require("fs"),_C=require("path"),Br=require("vscode"),yt=ui(),Kk=lC(),s3=q_(),Tt=dC(),o3=ek(),a3=qk();$k(dC(),Fn);$k(Bk(),Fn);var jk="^1.67.0",kt;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(kt=Fn.TransportKind||(Fn.TransportKind={}));var Ur;(function(t){function e(n){let i=n;return i&&i.kind===kt.socket&&yt.number(i.port)}t.isSocket=e})(Ur||(Ur={}));var kC;(function(t){function e(n){return yt.string(n.command)}t.is=e})(kC||(kC={}));var FC;(function(t){function e(n){return yt.string(n.module)}t.is=e})(FC||(FC={}));var AC;(function(t){function e(n){let i=n;return i&&i.writer!==void 0&&i.reader!==void 0}t.is=e})(AC||(AC={}));var PC;(function(t){function e(n){let i=n;return i&&i.process!==void 0&&typeof i.detached=="boolean"}t.is=e})(PC||(PC={}));var RC=class extends Kk.BaseLanguageClient{constructor(e,n,i,r,s){let o,a,c,d,p;yt.string(n)?(o=e,a=n,c=i,d=r,p=!!s):(o=e.toLowerCase(),a=e,c=n,d=i,p=r),p===void 0&&(p=!1),super(o,a,d),this._serverOptions=c,this._forceDebug=p,this._isInDebugMode=p;try{this.checkVersion()}catch(m){throw yt.string(m.message)&&this.outputChannel.appendLine(m.message),m}}checkVersion(){let e=o3(Br.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Br.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!a3(e,jk))throw new Error(`The language client requires VS Code version ${jk} but received version ${Br.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,s3.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(p,m){if(!p&&!m)return;let f=Object.create(null);return Object.keys(process.env).forEach(u=>f[u]=process.env[u]),m&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),p&&Object.keys(p).forEach(u=>f[u]=p[u]),f}let i=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let p=process.execArgv;return p?p.some(m=>i.some(f=>m.startsWith(f))||r.some(f=>m===f)):!1}function o(p){if(p.stdin===null||p.stdout===null||p.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(yt.func(a))return a().then(p=>{if(Kk.MessageTransports.is(p))return this._isDetached=!!p.detached,p;if(AC.is(p))return this._isDetached=!!p.detached,{reader:new Tt.StreamMessageReader(p.reader),writer:new Tt.StreamMessageWriter(p.writer)};{let m;return PC.is(p)?(m=p.process,this._isDetached=p.detached):(m=p,this._isDetached=!1),m.stderr.on("data",f=>this.outputChannel.append(yt.string(f)?f:f.toString(e))),{reader:new Tt.StreamMessageReader(m.stdout),writer:new Tt.StreamMessageWriter(m.stdin)}}});let c,d=a;return d.run||d.debug?this._forceDebug||s()?(c=d.debug,this._isInDebugMode=!0):(c=d.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(p=>{if(FC.is(c)&&c.module){let m=c,f=m.transport||kt.stdio;if(m.runtime){let u=[],l=m.options??Object.create(null);l.execArgv&&l.execArgv.forEach(D=>u.push(D)),u.push(m.module),m.args&&m.args.forEach(D=>u.push(D));let h=Object.create(null);h.cwd=p,h.env=n(l.env,!1);let y=this._getRuntimePath(m.runtime,p),S;if(f===kt.ipc?(h.stdio=[null,null,null,"ipc"],u.push("--node-ipc")):f===kt.stdio?u.push("--stdio"):f===kt.pipe?(S=(0,Tt.generateRandomPipeName)(),u.push(`--pipe=${S}`)):Ur.isSocket(f)&&u.push(`--socket=${f.port}`),u.push(`--clientProcessId=${process.pid.toString()}`),f===kt.ipc||f===kt.stdio){let D=pr.spawn(y,u,h);return!D||!D.pid?xo(D,`Launching server using runtime ${y} failed.`):(this._serverProcess=D,D.stderr.on("data",x=>this.outputChannel.append(yt.string(x)?x:x.toString(e))),f===kt.ipc?(D.stdout.on("data",x=>this.outputChannel.append(yt.string(x)?x:x.toString(e))),Promise.resolve({reader:new Tt.IPCMessageReader(D),writer:new Tt.IPCMessageWriter(D)})):Promise.resolve({reader:new Tt.StreamMessageReader(D.stdout),writer:new Tt.StreamMessageWriter(D.stdin)}))}else{if(f===kt.pipe)return(0,Tt.createClientPipeTransport)(S).then(D=>{let x=pr.spawn(y,u,h);return!x||!x.pid?xo(x,`Launching server using runtime ${y} failed.`):(this._serverProcess=x,x.stderr.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),x.stdout.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),D.onConnected().then(F=>({reader:F[0],writer:F[1]})))});if(Ur.isSocket(f))return(0,Tt.createClientSocketTransport)(f.port).then(D=>{let x=pr.spawn(y,u,h);return!x||!x.pid?xo(x,`Launching server using runtime ${y} failed.`):(this._serverProcess=x,x.stderr.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),x.stdout.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),D.onConnected().then(F=>({reader:F[0],writer:F[1]})))})}}else{let u;return new Promise((l,h)=>{let y=(m.args&&m.args.slice())??[];f===kt.ipc?y.push("--node-ipc"):f===kt.stdio?y.push("--stdio"):f===kt.pipe?(u=(0,Tt.generateRandomPipeName)(),y.push(`--pipe=${u}`)):Ur.isSocket(f)&&y.push(`--socket=${f.port}`),y.push(`--clientProcessId=${process.pid.toString()}`);let S=m.options??Object.create(null);if(S.env=n(S.env,!0),S.execArgv=S.execArgv||[],S.cwd=p,S.silent=!0,f===kt.ipc||f===kt.stdio){let D=pr.fork(m.module,y||[],S);o(D),this._serverProcess=D,D.stderr.on("data",x=>this.outputChannel.append(yt.string(x)?x:x.toString(e))),f===kt.ipc?(D.stdout.on("data",x=>this.outputChannel.append(yt.string(x)?x:x.toString(e))),l({reader:new Tt.IPCMessageReader(this._serverProcess),writer:new Tt.IPCMessageWriter(this._serverProcess)})):l({reader:new Tt.StreamMessageReader(D.stdout),writer:new Tt.StreamMessageWriter(D.stdin)})}else f===kt.pipe?(0,Tt.createClientPipeTransport)(u).then(D=>{let x=pr.fork(m.module,y||[],S);o(x),this._serverProcess=x,x.stderr.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),x.stdout.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),D.onConnected().then(F=>{l({reader:F[0],writer:F[1]})},h)},h):Ur.isSocket(f)&&(0,Tt.createClientSocketTransport)(f.port).then(D=>{let x=pr.fork(m.module,y||[],S);o(x),this._serverProcess=x,x.stderr.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),x.stdout.on("data",F=>this.outputChannel.append(yt.string(F)?F:F.toString(e))),D.onConnected().then(F=>{l({reader:F[0],writer:F[1]})},h)},h)})}}else if(kC.is(c)&&c.command){let m=c,f=c.args!==void 0?c.args.slice(0):[],u,l=c.transport;if(l===kt.stdio)f.push("--stdio");else if(l===kt.pipe)u=(0,Tt.generateRandomPipeName)(),f.push(`--pipe=${u}`);else if(Ur.isSocket(l))f.push(`--socket=${l.port}`);else if(l===kt.ipc)throw new Error("Transport kind ipc is not support for command executable");let h=Object.assign({},m.options);if(h.cwd=h.cwd||p,l===void 0||l===kt.stdio){let y=pr.spawn(m.command,f,h);return!y||!y.pid?xo(y,`Launching server using command ${m.command} failed.`):(y.stderr.on("data",S=>this.outputChannel.append(yt.string(S)?S:S.toString(e))),this._serverProcess=y,this._isDetached=!!h.detached,Promise.resolve({reader:new Tt.StreamMessageReader(y.stdout),writer:new Tt.StreamMessageWriter(y.stdin)}))}else{if(l===kt.pipe)return(0,Tt.createClientPipeTransport)(u).then(y=>{let S=pr.spawn(m.command,f,h);return!S||!S.pid?xo(S,`Launching server using command ${m.command} failed.`):(this._serverProcess=S,this._isDetached=!!h.detached,S.stderr.on("data",D=>this.outputChannel.append(yt.string(D)?D:D.toString(e))),S.stdout.on("data",D=>this.outputChannel.append(yt.string(D)?D:D.toString(e))),y.onConnected().then(D=>({reader:D[0],writer:D[1]})))});if(Ur.isSocket(l))return(0,Tt.createClientSocketTransport)(l.port).then(y=>{let S=pr.spawn(m.command,f,h);return!S||!S.pid?xo(S,`Launching server using command ${m.command} failed.`):(this._serverProcess=S,this._isDetached=!!h.detached,S.stderr.on("data",D=>this.outputChannel.append(yt.string(D)?D:D.toString(e))),S.stdout.on("data",D=>this.outputChannel.append(yt.string(D)?D:D.toString(e))),y.onConnected().then(D=>({reader:D[0],writer:D[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,n){if(_C.isAbsolute(e))return e;let i=this._mainGetRootPath();if(i!==void 0){let r=_C.join(i,e);if(xC.existsSync(r))return r}if(n!==void 0){let r=_C.join(n,e);if(xC.existsSync(r))return r}return e}_mainGetRootPath(){let e=Br.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(i=>{xC.lstat(n,(r,s)=>{i(!r&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};Fn.LanguageClient=RC;var IC=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Br.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Br.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,i=e>=0?this._setting.substr(e+1):void 0,r=i?Br.workspace.getConfiguration(n).get(i,!1):Br.workspace.getConfiguration(n);r&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!r&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};Fn.SettingMonitor=IC;function xo(t,e){return t===null?Promise.reject(e):new Promise((n,i)=>{t.on("error",r=>{i(`${e} ${r}`)}),setImmediate(()=>i(e))})}});var _o=M((x7,Hk)=>{"use strict";Hk.exports=Wk()});var Vk=M(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.ConfigFields=void 0;Pd.ConfigFields={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"}});var Gk=M(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.MessageTypes=ko.IssueType=void 0;var zk;(function(t){t[t.spelling=0]="spelling",t[t.directive=1]="directive"})(zk||(ko.IssueType=zk={}));ko.MessageTypes={Debug:"Debug",Info:"Info",Warning:"Warning"}});var Xk=M(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});Kr.MessageTypes=Kr.IssueType=Kr.ConfigFields=void 0;var c3=Vk();Object.defineProperty(Kr,"ConfigFields",{enumerable:!0,get:function(){return c3.ConfigFields}});var Jk=Gk();Object.defineProperty(Kr,"IssueType",{enumerable:!0,get:function(){return Jk.IssueType}});Object.defineProperty(Kr,"MessageTypes",{enumerable:!0,get:function(){return Jk.MessageTypes}})});var FF=M(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.codes=void 0;Jd.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]});var AF=M(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});Xd.scriptCodes=void 0;var X3=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`;Xd.scriptCodes=X3.split(`
`).map(t=>t.split("	"))});var LF=M(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.formatLangAndLocale=Lt.formatLocale=Lt.parseLocale=Lt.getScriptInfo=Lt.getCountryInfo=Lt.getLangInfo=Lt.lookupLocaleInfo=Lt.isValidCode=Lt.normalizeCode=void 0;var Y3=FF(),PF=AF(),RF=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,oS=new Map(Y3.codes.map(t=>{let[e,n,i=""]=t,r=e.match(RF)?.groups?.locale||"",s={code:e,language:n,country:i,locale:r,lang:e.replace(/-.*/,"")};return[e,s]})),aS=new Map([...oS.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));aS.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});aS.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var Q3=new Map([...oS.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),Z3=new Map(PF.scriptCodes.map(([t,e])=>[t,{script:t,scriptName:e}])),eH=new Map(PF.scriptCodes.map(([t])=>[t.toLowerCase(),t])),tH=Object.freeze({lang:"lorem",locale:"",script:""}),nH=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),iH=/^lorem(?:[-_]?ipsum)?$/i;function rH(t,e=!1){let n=cS(t);return n?uS(n):e?void 0:t}Lt.normalizeCode=rH;function sH(t){return oS.has(t)||!!IF(t)}Lt.isValidCode=sH;function IF(t){let e=cS(t);if(!e)return;let n=MF(e.lang),i=e.script?OF(e.script):{},r=e.locale?NF(e.locale):{locale:"",country:""};return n!==void 0&&i!==void 0&&r!==void 0&&{...n,...i,...r,code:uS(e)}||void 0}Lt.lookupLocaleInfo=IF;function MF(t){return aS.get(t.toLowerCase())}Lt.getLangInfo=MF;function NF(t){return Q3.get(t.toUpperCase())}Lt.getCountryInfo=NF;function OF(t){let e=eH.get(t.toLowerCase());return e&&Z3.get(e)||void 0}Lt.getScriptInfo=OF;function oH(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function cS(t){t=t.trim();let e=t.match(RF);if(!e)return aH(t);let{lang:n="",script:i="",locale:r=""}=e.groups||{};return{lang:n.toLowerCase(),script:oH(i),locale:r.toUpperCase()}}Lt.parseLocale=cS;function aH(t){return t.toLowerCase()==="lorem"?tH:iH.test(t)?nH:void 0}function uS({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}Lt.formatLocale=uS;function cH({lang:t,locale:e}){return t+(e&&"-"+e)}Lt.formatLangAndLocale=cH});var qF=M(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.parseLocale=gi.normalizeCode=gi.lookupLocaleInfo=gi.isValidCode=gi.formatLocale=void 0;var Fc=LF();Object.defineProperty(gi,"formatLocale",{enumerable:!0,get:function(){return Fc.formatLocale}});Object.defineProperty(gi,"isValidCode",{enumerable:!0,get:function(){return Fc.isValidCode}});Object.defineProperty(gi,"lookupLocaleInfo",{enumerable:!0,get:function(){return Fc.lookupLocaleInfo}});Object.defineProperty(gi,"normalizeCode",{enumerable:!0,get:function(){return Fc.normalizeCode}});Object.defineProperty(gi,"parseLocale",{enumerable:!0,get:function(){return Fc.parseLocale}})});var DA=M((gf,mf)=>{(function(t,e){typeof gf=="object"&&typeof mf<"u"?e(gf):typeof define=="function"&&define.amd?define(["exports"],e):e(t.Kefir=t.Kefir||{})})(gf,function(t){"use strict";function e(g){var C=function(){};return C.prototype=g,new C}function n(g){var C=arguments.length,P=void 0,K=void 0;for(P=1;P<C;P++)for(K in arguments[P])g[K]=arguments[P][K];return g}function i(g,C){var P=arguments.length,K=void 0;for(g.prototype=e(C.prototype),g.prototype.constructor=g,K=2;K<P;K++)n(g.prototype,arguments[K]);return g}var r=["<nothing>"],s="end",o="value",a="error",c="any";function d(g,C){var P=void 0,K=void 0,Q=void 0,se=void 0;if(g.length===0)return C;if(C.length===0)return g;for(se=0,P=new Array(g.length+C.length),K=g.length,Q=0;Q<K;Q++,se++)P[se]=g[Q];for(K=C.length,Q=0;Q<K;Q++,se++)P[se]=C[Q];return P}function p(g,C){var P=g.length,K=void 0;for(K=0;K<P;K++)if(g[K]===C)return K;return-1}function m(g,C){var P=g.length,K=void 0;for(K=0;K<P;K++)if(C(g[K]))return K;return-1}function f(g){var C=g.length,P=new Array(C),K=void 0;for(K=0;K<C;K++)P[K]=g[K];return P}function u(g,C){var P=g.length,K=void 0,Q=void 0,se=void 0;if(C>=0&&C<P){if(P===1)return[];for(K=new Array(P-1),Q=0,se=0;Q<P;Q++)Q!==C&&(K[se]=g[Q],se++);return K}else return g}function l(g,C){var P=g.length,K=new Array(P),Q=void 0;for(Q=0;Q<P;Q++)K[Q]=C(g[Q]);return K}function h(g,C){var P=g.length,K=void 0;for(K=0;K<P;K++)C(g[K])}function y(g,C){var P=g.length,K=void 0;for(K=0;K<P;K++)g[K]=C}function S(g,C){return p(g,C)!==-1}function D(g,C,P){var K=Math.min(P,g.length+1),Q=g.length-K+1,se=new Array(K),Ie=void 0;for(Ie=Q;Ie<K;Ie++)se[Ie-Q]=g[Ie];return se[K-1]=C,se}function x(g,C,P){g===c?C(P):g===P.type&&(g===o||g===a?C(P.value):C())}function F(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}n(F.prototype,{add:function(g,C){return this._items=d(this._items,[{type:g,fn:C}]),this._items.length},remove:function(g,C){var P=m(this._items,function(K){return K.type===g&&K.fn===C});return this._inLoop!==0&&P!==-1&&(this._removedItems===null&&(this._removedItems=[]),this._removedItems.push(this._items[P])),this._items=u(this._items,P),this._items.length},addSpy:function(g){return this._spies=d(this._spies,[g]),this._spies.length},removeSpy:function(g){return this._spies=u(this._spies,this._spies.indexOf(g)),this._spies.length},dispatch:function(g){this._inLoop++;for(var C=0,P=this._spies;this._spies!==null&&C<P.length;C++)P[C](g);for(var K=0,Q=this._items;K<Q.length&&this._items!==null;K++)this._removedItems!==null&&S(this._removedItems,Q[K])||x(Q[K].type,Q[K].fn,g);this._inLoop--,this._inLoop===0&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}});function A(){this._dispatcher=new F,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}n(A.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(g){this._active!==g&&(this._active=g,g?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(g,C){switch(g){case o:return this._emitValue(C);case a:return this._emitError(C);case s:return this._emitEnd()}},_emitValue:function(g){this._alive&&this._dispatcher.dispatch({type:o,value:g})},_emitError:function(g){this._alive&&this._dispatcher.dispatch({type:a,value:g})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:s}),this._clear())},_on:function(g,C){return this._alive?(this._dispatcher.add(g,C),this._setActive(!0)):x(g,C,{type:s}),this},_off:function(g,C){if(this._alive){var P=this._dispatcher.remove(g,C);P===0&&this._setActive(!1)}return this},onValue:function(g){return this._on(o,g)},onError:function(g){return this._on(a,g)},onEnd:function(g){return this._on(s,g)},onAny:function(g){return this._on(c,g)},offValue:function(g){return this._off(o,g)},offError:function(g){return this._off(a,g)},offEnd:function(g){return this._off(s,g)},offAny:function(g){return this._off(c,g)},observe:function(g,C,P){var K=this,Q=!1,se=!g||typeof g=="function"?{value:g,error:C,end:P}:g,Ie=function(gt){gt.type===s&&(Q=!0),gt.type===o&&se.value?se.value(gt.value):gt.type===a&&se.error?se.error(gt.value):gt.type===s&&se.end&&se.end(gt.value)};return this.onAny(Ie),{unsubscribe:function(){Q||(K.offAny(Ie),Q=!0)},get closed(){return Q}}},_ofSameType:function(g,C){return g.prototype.getType()===this.getType()?g:C},setName:function(g,C){return this._name=C?g._name+"."+C:g,this},log:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),C=void 0,P=function(K){var Q="<"+K.type+(C?":current":"")+">";K.type===s?console.log(g,Q):console.log(g,Q,K.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:g,handler:P})),C=!0,this.onAny(P),C=!1,this},offLog:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._logHandlers){var C=m(this._logHandlers,function(P){return P.name===g});C!==-1&&(this.offAny(this._logHandlers[C].handler),this._logHandlers.splice(C,1))}return this},spy:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString(),C=function(P){var K="<"+P.type+">";P.type===s?console.log(g,K):console.log(g,K,P.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:g,handler:C}),this._dispatcher.addSpy(C)),this},offSpy:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.toString();if(this._spyHandlers){var C=m(this._spyHandlers,function(P){return P.name===g});C!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[C].handler),this._spyHandlers.splice(C,1))}return this}}),A.prototype.toString=function(){return"["+this._name+"]"};function N(){A.call(this)}i(N,A,{_name:"stream",getType:function(){return"stream"}});function q(){A.call(this),this._currentEvent=null}i(q,A,{_name:"property",_emitValue:function(g){this._alive&&(this._currentEvent={type:o,value:g},this._activating||this._dispatcher.dispatch({type:o,value:g}))},_emitError:function(g){this._alive&&(this._currentEvent={type:a,value:g},this._activating||this._dispatcher.dispatch({type:a,value:g}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:s}),this._clear())},_on:function(g,C){return this._alive&&(this._dispatcher.add(g,C),this._setActive(!0)),this._currentEvent!==null&&x(g,C,this._currentEvent),this._alive||x(g,C,{type:s}),this},getType:function(){return"property"}});var $=new N;$._emitEnd(),$._name="never";function J(){return $}function Z(g){function C(P,K){var Q=this;N.call(this),this._wait=P,this._intervalId=null,this._$onTick=function(){return Q._onTick()},this._init(K)}return i(C,N,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){N.prototype._clear.call(this),this._$onTick=null,this._free()}},g),C}var le=Z({_name:"later",_init:function(g){var C=g.x;this._x=C},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});function ce(g,C){return new le(g,{x:C})}var X=Z({_name:"interval",_init:function(g){var C=g.x;this._x=C},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});function H(g,C){return new X(g,{x:C})}var ee=Z({_name:"sequentially",_init:function(g){var C=g.xs;this._xs=f(C)},_free:function(){this._xs=null},_onTick:function(){this._xs.length===1?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});function re(g,C){return C.length===0?J():new ee(g,{xs:C})}var we=Z({_name:"fromPoll",_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_onTick:function(){var g=this._fn;this._emitValue(g())}});function de(g,C){return new we(g,{fn:C})}function ue(g){function C(se){return g._emitValue(se),g._active}function P(se){return g._emitError(se),g._active}function K(){return g._emitEnd(),g._active}function Q(se){return g._emit(se.type,se.value),g._active}return{value:C,error:P,end:K,event:Q,emit:C,emitEvent:Q}}var Ke=Z({_name:"withInterval",_init:function(g){var C=g.fn;this._fn=C,this._emitter=ue(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var g=this._fn;g(this._emitter)}});function nt(g,C){return new Ke(g,{fn:C})}function je(g){N.call(this),this._fn=g,this._unsubscribe=null}i(je,N,{_name:"stream",_onActivation:function(){var g=this._fn,C=g(ue(this));this._unsubscribe=typeof C=="function"?C:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){this._unsubscribe!==null&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){N.prototype._clear.call(this),this._fn=null}});function it(g){return new je(g)}function rt(g){var C=!1;return it(function(P){C||(g(function(K){P.emit(K),P.end()}),C=!0)}).setName("fromCallback")}function Bt(g){var C=!1;return it(function(P){C||(g(function(K,Q){K?P.error(K):P.emit(Q),P.end()}),C=!0)}).setName("fromNodeCallback")}function Kt(g,C){switch(C){case 0:return function(){return g()};case 1:return function(P){return g(P[0])};case 2:return function(P){return g(P[0],P[1])};case 3:return function(P){return g(P[0],P[1],P[2])};case 4:return function(P){return g(P[0],P[1],P[2],P[3])};default:return function(P){return g.apply(null,P)}}}function Cn(g,C,P){var K=P?P.length:0;if(C==null)switch(K){case 0:return g();case 1:return g(P[0]);case 2:return g(P[0],P[1]);case 3:return g(P[0],P[1],P[2]);case 4:return g(P[0],P[1],P[2],P[3]);default:return g.apply(null,P)}else switch(K){case 0:return g.call(C);default:return g.apply(C,P)}}function ni(g,C,P){return it(function(K){var Q=P?function(){K.emit(Cn(P,this,arguments))}:function(se){K.emit(se)};return g(Q),function(){return C(Q)}}).setName("fromSubUnsub")}var un=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];function Kn(g,C,P){for(var K=void 0,Q=void 0,se=0;se<un.length;se++)if(typeof g[un[se][0]]=="function"&&typeof g[un[se][1]]=="function"){K=un[se][0],Q=un[se][1];break}if(K===void 0)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return ni(function(Ie){return g[K](C,Ie)},function(Ie){return g[Q](C,Ie)},P).setName("fromEvents")}function Mn(g){this._currentEvent={type:"value",value:g,current:!0}}i(Mn,q,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function lt(g){return new Mn(g)}function jn(g){this._currentEvent={type:"error",value:g,current:!0}}i(jn,q,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});function Sn(g){return new jn(g)}function Zt(g,C){return function(K,Q){var se=this;g.call(this),this._source=K,this._name=K._name+"."+C,this._init(Q),this._$handleAny=function(Ie){return se._handleAny(Ie)}}}function $n(g){return{_init:function(){},_free:function(){},_handleValue:function(C){this._emitValue(C)},_handleError:function(C){this._emitError(C)},_handleEnd:function(){this._emitEnd()},_handleAny:function(C){switch(C.type){case o:return this._handleValue(C.value);case a:return this._handleError(C.value);case s:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){g.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function De(g,C){var P=Zt(N,g);return i(P,N,$n(N),C),P}function _e(g,C){var P=Zt(q,g);return i(P,q,$n(q),C),P}var dt=_e("toProperty",{_init:function(g){var C=g.fn;this._getInitialCurrent=C},_onActivation:function(){if(this._getInitialCurrent!==null){var g=this._getInitialCurrent;this._emitValue(g())}this._source.onAny(this._$handleAny)}});function en(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(C!==null&&typeof C!="function")throw new Error("You should call toProperty() with a function or no arguments.");return new dt(g,{fn:C})}var jt=De("changes",{_handleValue:function(g){this._activating||this._emitValue(g)},_handleError:function(g){this._activating||this._emitError(g)}});function Wn(g){return new jt(g)}function zt(g){var C=!1,P=it(function(K){if(!C){var Q=function(gt){K.emit(gt),K.end()},se=function(gt){K.error(gt),K.end()},Ie=g.then(Q,se);Ie&&typeof Ie.done=="function"&&Ie.done(),C=!0}});return en(P,null).setName("fromPromise")}function Hn(){if(typeof Promise=="function")return Promise;throw new Error("There isn't default Promise, use shim or parameter")}var ii=function(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hn(),P=null;return new C(function(K,Q){g.onAny(function(se){se.type===s&&P!==null?((P.type===o?K:Q)(P.value),P=null):P=se})})};function Gt(g){var C,P=g.Symbol;return typeof P=="function"?P.observable?C=P.observable:(C=P("observable"),P.observable=C):C="@@observable",C}var tn;typeof self<"u"?tn=self:typeof window<"u"?tn=window:typeof global<"u"?tn=global:typeof mf<"u"?tn=mf:tn=Function("return this")();var $t=Gt(tn),I=$t.default?$t.default:$t;function V(g){var C=g[I]?g[I]():g;return it(function(P){var K=C.subscribe({error:function(Q){P.error(Q),P.end()},next:function(Q){P.emit(Q)},complete:function(){P.end()}});return K.unsubscribe?function(){K.unsubscribe()}:K}).setName("fromESObservable")}function te(g){this._observable=g.takeErrors(1)}n(te.prototype,{subscribe:function(g,C,P){var K=this,Q=typeof g=="function"?{next:g,error:C,complete:P}:g,se=function(zn){zn.type===s&&(Ie=!0),zn.type===o&&Q.next?Q.next(zn.value):zn.type===a&&Q.error?Q.error(zn.value):zn.type===s&&Q.complete&&Q.complete(zn.value)};this._observable.onAny(se);var Ie=!1,gt={unsubscribe:function(){Ie=!0,K._observable.offAny(se)},get closed(){return Ie}};return gt}}),te.prototype[I]=function(){return this};function ae(){return new te(this)}function Ne(g,C,P){for(var K in g)g.hasOwnProperty(K)&&(C.push(K),P.push(g[K]))}function Oe(g){for(var C=void 0,P=0;P<g.length;P++)g[P]!==void 0&&(C===void 0||C.index<g[P].index)&&(C=g[P]);return C.error}function qe(g,C,P){var K=this;N.call(this),this._activeCount=g.length,this._sources=d(g,C),this._combinator=P,this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),y(this._latestValues,r),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var Q=function(Ie){K._$handlers.push(function(gt){return K._handleAny(Ie,gt)})},se=0;se<this._sources.length;se++)Q(se)}i(qe,N,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var g=this._activeCount;g<this._sources.length;g++)this._sources[g].onAny(this._$handlers[g]);for(var C=0;C<this._activeCount;C++)this._sources[C].onAny(this._$handlers[C]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var g=this._sources.length,C=void 0;for(C=0;C<g;C++)this._sources[C].offAny(this._$handlers[C])},_emitIfFull:function(){for(var g=!0,C=!1,P=this._latestValues.length,K=new Array(P),Q=new Array(P),se=0;se<P;se++)K[se]=this._latestValues[se],Q[se]=this._latestErrors[se],K[se]===r&&(g=!1),Q[se]!==void 0&&(C=!0);if(g){var Ie=this._combinator;this._emitValue(Ie(K))}C&&this._emitError(Oe(Q))},_handleAny:function(g,C){C.type===o||C.type===a?(C.type===o&&(this._latestValues[g]=C.value,this._latestErrors[g]=void 0),C.type===a&&(this._latestValues[g]=r,this._latestErrors[g]={index:this._latestErrorIndex++,error:C.value}),g<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):g<this._activeCount&&(this._aliveCount--,this._aliveCount===0&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){N.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});function ze(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],P=arguments[2];if(!Array.isArray(C))throw new Error("Combine can only combine active and passive collections of the same type.");return P=P?Kt(P,g.length+C.length):function(K){return K},g.length===0?J():new qe(g,C,P)}function Te(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=arguments[2];if(typeof C!="object"||Array.isArray(C))throw new Error("Combine can only combine active and passive collections of the same type.");var K=[],Q=[],se=[];Ne(g,K,Q),Ne(C,K,se);var Ie=function(gt){for(var zn={},zc=gt.length-1;0<=zc;zc--)zn[K[zc]]=gt[zc];return P?P(zn):zn};return Q.length===0?J():new qe(Q,se,Ie)}function Ae(g,C,P){return typeof C=="function"&&(P=C,C=void 0),Array.isArray(g)?ze(g,C,P):Te(g,C,P)}var w={empty:function(){return J()},concat:function(g,C){return g.merge(C)},of:function(g){return lt(g)},map:function(g,C){return C.map(g)},bimap:function(g,C,P){return P.mapErrors(g).map(C)},ap:function(g,C){return Ae([g,C],function(P,K){return P(K)})},chain:function(g,C){return C.flatMap(g)}},_=Object.freeze({Observable:w}),L={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){var C=this._fn;this._emitValue(C(g))}},W=De("map",L),R=_e("map",L),T=function(g){return g};function O(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T;return new(g._ofSameType(W,R))(g,{fn:C})}var U={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){var C=this._fn;C(g)&&this._emitValue(g)}},k=De("filter",U),b=_e("filter",U),j=function(g){return g};function G(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j;return new(g._ofSameType(k,b))(g,{fn:C})}var be={_init:function(g){var C=g.n;this._n=C,C<=0&&this._emitEnd()},_handleValue:function(g){this._n!==0&&(this._n--,this._emitValue(g),this._n===0&&this._emitEnd())}},at=De("take",be),Qe=_e("take",be);function Dn(g,C){return new(g._ofSameType(at,Qe))(g,{n:C})}var nn={_init:function(g){var C=g.n;this._n=C,C<=0&&this._emitEnd()},_handleError:function(g){this._n!==0&&(this._n--,this._emitError(g),this._n===0&&this._emitEnd())}},Vn=De("takeErrors",nn),Re=_e("takeErrors",nn);function Ri(g,C){return new(g._ofSameType(Vn,Re))(g,{n:C})}var Xi={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){var C=this._fn;C(g)?this._emitValue(g):this._emitEnd()}},Yr=De("takeWhile",Xi),Ef=_e("takeWhile",Xi),xf=function(g){return g};function v(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xf;return new(g._ofSameType(Yr,Ef))(g,{fn:C})}var B={_init:function(){this._lastValue=r},_free:function(){this._lastValue=null},_handleValue:function(g){this._lastValue=g},_handleEnd:function(){this._lastValue!==r&&this._emitValue(this._lastValue),this._emitEnd()}},Y=De("last",B),ge=_e("last",B);function ln(g){return new(g._ofSameType(Y,ge))(g)}var Pt={_init:function(g){var C=g.n;this._n=Math.max(0,C)},_handleValue:function(g){this._n===0?this._emitValue(g):this._n--}},Ge=De("skip",Pt),ri=_e("skip",Pt);function st(g,C){return new(g._ofSameType(Ge,ri))(g,{n:C})}var Qr={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){var C=this._fn;this._fn!==null&&!C(g)&&(this._fn=null),this._fn===null&&this._emitValue(g)}},Bc=De("skipWhile",Qr),Kc=_e("skipWhile",Qr),Oo=function(g){return g};function _f(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo;return new(g._ofSameType(Bc,Kc))(g,{fn:C})}var Lo={_init:function(g){var C=g.fn;this._fn=C,this._prev=r},_free:function(){this._fn=null,this._prev=null},_handleValue:function(g){var C=this._fn;(this._prev===r||!C(this._prev,g))&&(this._prev=g,this._emitValue(g))}},YA=De("skipDuplicates",Lo),QA=_e("skipDuplicates",Lo),ZA=function(g,C){return g===C};function VS(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ZA;return new(g._ofSameType(YA,QA))(g,{fn:C})}var zS={_init:function(g){var C=g.fn,P=g.seed;this._fn=C,this._prev=P},_free:function(){this._prev=null,this._fn=null},_handleValue:function(g){if(this._prev!==r){var C=this._fn;this._emitValue(C(this._prev,g))}this._prev=g}},eP=De("diff",zS),tP=_e("diff",zS);function nP(g,C){return[g,C]}function iP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;return new(g._ofSameType(eP,tP))(g,{fn:C||nP,seed:P})}var rP=_e("scan",{_init:function(g){var C=g.fn,P=g.seed;this._fn=C,this._seed=P,P!==r&&this._emitValue(P)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(g){var C=this._fn;this._currentEvent===null||this._currentEvent.type===a?this._emitValue(this._seed===r?g:C(this._seed,g)):this._emitValue(C(this._currentEvent.value,g))}});function sP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;return new rP(g,{fn:C,seed:P})}var oP={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){for(var C=this._fn,P=C(g),K=0;K<P.length;K++)this._emitValue(P[K])}},aP=De("flatten",oP),cP=function(g){return g};function uP(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cP;return new aP(g,{fn:C})}var GS={},JS={_init:function(g){var C=this,P=g.wait;this._wait=Math.max(0,P),this._buff=[],this._$shiftBuff=function(){var K=C._buff.shift();K===GS?C._emitEnd():C._emitValue(K)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(g){this._activating?this._emitValue(g):(this._buff.push(g),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(GS),setTimeout(this._$shiftBuff,this._wait))}},lP=De("delay",JS),dP=_e("delay",JS);function fP(g,C){return new(g._ofSameType(lP,dP))(g,{wait:C})}var jc=Date.now?function(){return Date.now()}:function(){return new Date().getTime()},XS={_init:function(g){var C=this,P=g.wait,K=g.leading,Q=g.trailing;this._wait=Math.max(0,P),this._leading=K,this._trailing=Q,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return C._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(g){if(this._activating)this._emitValue(g);else{var C=jc();this._lastCallTime===0&&!this._leading&&(this._lastCallTime=C);var P=this._wait-(C-this._lastCallTime);P<=0?(this._cancelTrailing(),this._lastCallTime=C,this._emitValue(g)):this._trailing&&(this._cancelTrailing(),this._trailingValue=g,this._timeoutId=setTimeout(this._$trailingCall,P))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){this._timeoutId!==null&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?jc():0,this._endLater&&this._emitEnd()}},hP=De("throttle",XS),pP=_e("throttle",XS);function gP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=P.leading,Q=K===void 0?!0:K,se=P.trailing,Ie=se===void 0?!0:se;return new(g._ofSameType(hP,pP))(g,{wait:C,leading:Q,trailing:Ie})}var YS={_init:function(g){var C=this,P=g.wait,K=g.immediate;this._wait=Math.max(0,P),this._immediate=K,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return C._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(g){this._activating?this._emitValue(g):(this._lastAttempt=jc(),this._immediate&&!this._timeoutId&&this._emitValue(g),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=g))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var g=jc()-this._lastAttempt;if(g<this._wait&&g>=0)this._timeoutId=setTimeout(this._$later,this._wait-g);else{if(this._timeoutId=null,!this._immediate){var C=this._laterValue;this._laterValue=null,this._emitValue(C)}this._endLater&&this._emitEnd()}}},mP=De("debounce",YS),yP=_e("debounce",YS);function vP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=P.immediate,Q=K===void 0?!1:K;return new(g._ofSameType(mP,yP))(g,{wait:C,immediate:Q})}var QS={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleError:function(g){var C=this._fn;this._emitError(C(g))}},CP=De("mapErrors",QS),SP=_e("mapErrors",QS),DP=function(g){return g};function bP(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DP;return new(g._ofSameType(CP,SP))(g,{fn:C})}var ZS={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleError:function(g){var C=this._fn;C(g)&&this._emitError(g)}},wP=De("filterErrors",ZS),TP=_e("filterErrors",ZS),EP=function(g){return g};function xP(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:EP;return new(g._ofSameType(wP,TP))(g,{fn:C})}var eD={_handleValue:function(){}},_P=De("ignoreValues",eD),kP=_e("ignoreValues",eD);function FP(g){return new(g._ofSameType(_P,kP))(g)}var tD={_handleError:function(){}},AP=De("ignoreErrors",tD),PP=_e("ignoreErrors",tD);function RP(g){return new(g._ofSameType(AP,PP))(g)}var nD={_handleEnd:function(){}},IP=De("ignoreEnd",nD),MP=_e("ignoreEnd",nD);function NP(g){return new(g._ofSameType(IP,MP))(g)}var iD={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleEnd:function(){var g=this._fn;this._emitValue(g()),this._emitEnd()}},OP=De("beforeEnd",iD),LP=_e("beforeEnd",iD);function qP(g,C){return new(g._ofSameType(OP,LP))(g,{fn:C})}var rD={_init:function(g){var C=g.min,P=g.max;this._max=P,this._min=C,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(g){this._buff=D(this._buff,g,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},UP=De("slidingWindow",rD),BP=_e("slidingWindow",rD);function KP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return new(g._ofSameType(UP,BP))(g,{min:P,max:C})}var sD={_init:function(g){var C=g.fn,P=g.flushOnEnd;this._fn=C,this._flushOnEnd=P,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(g){this._buff.push(g);var C=this._fn;C(g)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},jP=De("bufferWhile",sD),$P=_e("bufferWhile",sD),WP=function(g){return g};function HP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=P.flushOnEnd,Q=K===void 0?!0:K;return new(g._ofSameType(jP,$P))(g,{fn:C||WP,flushOnEnd:Q})}var oD={_init:function(g){var C=g.count,P=g.flushOnEnd;this._count=C,this._flushOnEnd=P,this._buff=[]},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&this._buff.length!==0&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(g){this._buff.push(g),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},VP=De("bufferWithCount",oD),zP=_e("bufferWithCount",oD);function GP(g,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},K=P.flushOnEnd,Q=K===void 0?!0:K;return new(g._ofSameType(VP,zP))(g,{count:C,flushOnEnd:Q})}var aD={_init:function(g){var C=this,P=g.wait,K=g.count,Q=g.flushOnEnd;this._wait=P,this._count=K,this._flushOnEnd=Q,this._intervalId=null,this._$onTick=function(){return C._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(g){this._buff.push(g),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&this._buff.length!==0&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._intervalId!==null&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},JP=De("bufferWithTimeOrCount",aD),XP=_e("bufferWithTimeOrCount",aD);function YP(g,C,P){var K=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Q=K.flushOnEnd,se=Q===void 0?!0:Q;return new(g._ofSameType(JP,XP))(g,{wait:C,count:P,flushOnEnd:se})}function QP(g){return{"@@transducer/step":function(C,P){return g._emitValue(P),null},"@@transducer/result":function(){return g._emitEnd(),null}}}var cD={_init:function(g){var C=g.transducer;this._xform=C(QP(this))},_free:function(){this._xform=null},_handleValue:function(g){this._xform["@@transducer/step"](null,g)!==null&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},ZP=De("transduce",cD),eR=_e("transduce",cD);function tR(g,C){return new(g._ofSameType(ZP,eR))(g,{transducer:C})}var uD={_init:function(g){var C=g.fn;this._handler=C,this._emitter=ue(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(g){this._handler(this._emitter,g)}},nR=De("withHandler",uD),iR=_e("withHandler",uD);function rR(g,C){return new(g._ofSameType(nR,iR))(g,{fn:C})}var lD=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"};function dD(g,C){var P=this;N.call(this),this._buffers=l(g,function(se){return lD(se)?f(se):[]}),this._sources=l(g,function(se){return lD(se)?J():se}),this._combinator=C?Kt(C,this._sources.length):function(se){return se},this._aliveCount=0,this._$handlers=[];for(var K=function(se){P._$handlers.push(function(Ie){return P._handleAny(se,Ie)})},Q=0;Q<this._sources.length;Q++)K(Q)}i(dD,N,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var g=this._sources.length;this._aliveCount=g;for(var C=0;C<g&&this._active;C++)this._sources[C].onAny(this._$handlers[C])},_onDeactivation:function(){for(var g=0;g<this._sources.length;g++)this._sources[g].offAny(this._$handlers[g])},_emit:function(){for(var g=new Array(this._buffers.length),C=0;C<this._buffers.length;C++)g[C]=this._buffers[C].shift();var P=this._combinator;this._emitValue(P(g))},_isFull:function(){for(var g=0;g<this._buffers.length;g++)if(this._buffers[g].length===0)return!1;return!0},_handleAny:function(g,C){C.type===o&&(this._buffers[g].push(C.value),this._isFull()&&this._emit()),C.type===a&&this._emitError(C.value),C.type===s&&(this._aliveCount--,this._aliveCount===0&&this._emitEnd())},_clear:function(){N.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});function kf(g,C){return g.length===0?J():new dD(g,C)}var sR=function(g){return g};function Ii(){var g=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C.queueLim,K=P===void 0?0:P,Q=C.concurLim,se=Q===void 0?-1:Q,Ie=C.drop,gt=Ie===void 0?"new":Ie;N.call(this),this._queueLim=K<0?-1:K,this._concurLim=se<0?-1:se,this._drop=gt,this._queue=[],this._curSources=[],this._$handleSubAny=function(zn){return g._handleSubAny(zn)},this._$endHandlers=[],this._currentlyAdding=null,this._concurLim===0&&this._emitEnd()}i(Ii,N,{_name:"abstractPool",_add:function(g,C){C=C||sR,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(C(g)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(C(g)):this._drop==="old"&&(this._removeOldest(),this._add(g,C))},_addAll:function(g){var C=this;h(g,function(P){return C._add(P)})},_remove:function(g){this._removeCur(g)===-1&&this._removeQueue(g)},_addToQueue:function(g){this._queue=d(this._queue,[g])},_addToCur:function(g){if(this._active){if(!g._alive){g._currentEvent&&this._emit(g._currentEvent.type,g._currentEvent.value),this._active&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty());return}this._currentlyAdding=g,g.onAny(this._$handleSubAny),this._currentlyAdding=null,g._alive?(this._curSources=d(this._curSources,[g]),this._active&&this._subToEnd(g)):this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()}else this._curSources=d(this._curSources,[g])},_subToEnd:function(g){var C=this,P=function(){return C._removeCur(g)};this._$endHandlers.push({obs:g,handler:P}),g.onEnd(P)},_subscribe:function(g){g.onAny(this._$handleSubAny),this._active&&this._subToEnd(g)},_unsubscribe:function(g){g.offAny(this._$handleSubAny);var C=m(this._$endHandlers,function(P){return P.obs===g});C!==-1&&(g.offEnd(this._$endHandlers[C].handler),this._$endHandlers.splice(C,1))},_handleSubAny:function(g){g.type===o?this._emitValue(g.value):g.type===a&&this._emitError(g.value)},_removeQueue:function(g){var C=p(this._queue,g);return this._queue=u(this._queue,C),C},_removeCur:function(g){this._active&&this._unsubscribe(g);var C=p(this._curSources,g);return this._curSources=u(this._curSources,C),C!==-1&&(this._queue.length!==0?this._pullQueue():this._curSources.length===0&&this._onEmpty()),C},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){this._queue.length!==0&&(this._queue=f(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var g=0,C=this._curSources;g<C.length&&this._active;g++)this._subscribe(C[g])},_onDeactivation:function(){for(var g=0,C=this._curSources;g<C.length;g++)this._unsubscribe(C[g]);this._currentlyAdding!==null&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return this._curSources.length===0},_onEmpty:function(){},_clear:function(){N.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}});function fD(g){Ii.call(this),this._addAll(g),this._initialised=!0}i(fD,Ii,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}});function $c(g){return g.length===0?J():new fD(g)}function hD(g){var C=this;N.call(this),this._generator=g,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(P){return C._handleAny(P)}}i(hD,N,{_name:"repeat",_handleAny:function(g){g.type===s?(this._source=null,this._getSource()):this._emit(g.type,g.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var g=this._generator;this._source===null&&this._alive&&this._active;)this._source=g(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){N.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}});var Ff=function(g){return new hD(g)};function Af(g){return Ff(function(C){return g.length>C?g[C]:!1}).setName("concat")}function Wc(){Ii.call(this)}i(Wc,Ii,{_name:"pool",plug:function(g){return this._add(g),this},unplug:function(g){return this._remove(g),this}});function yr(g,C,P){var K=this;Ii.call(this,P),this._source=g,this._fn=C,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(Q){return K._handleMain(Q)}}i(yr,Ii,{_onActivation:function(){Ii.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Ii.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(g){if(g.type===o){var C=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===g.value;C||this._add(g.value,this._fn),this._lastCurrent=g.value,this._hadNoEvSinceDeact=!1}g.type===a&&this._emitError(g.value),g.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Ii.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}});function pD(g,C){yr.call(this,g,C)}i(pD,yr,{_handleMain:function(g){if(g.type===a){var C=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===g.value;C||this._add(g.value,this._fn),this._lastCurrent=g.value,this._hadNoEvSinceDeact=!1}g.type===o&&this._emitValue(g.value),g.type===s&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});function gD(g,C){return function(K,Q,se){var Ie=this;g.call(this),this._primary=K,this._secondary=Q,this._name=K._name+"."+C,this._lastSecondary=r,this._$handleSecondaryAny=function(gt){return Ie._handleSecondaryAny(gt)},this._$handlePrimaryAny=function(gt){return Ie._handlePrimaryAny(gt)},this._init(se)}}function mD(g){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(C){this._emitValue(C)},_handlePrimaryError:function(C){this._emitError(C)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(C){this._lastSecondary=C},_handleSecondaryError:function(C){this._emitError(C)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(C){switch(C.type){case o:return this._handlePrimaryValue(C.value);case a:return this._handlePrimaryError(C.value);case s:return this._handlePrimaryEnd(C.value)}},_handleSecondaryAny:function(C){switch(C.type){case o:return this._handleSecondaryValue(C.value);case a:return this._handleSecondaryError(C.value);case s:this._handleSecondaryEnd(C.value),this._removeSecondary()}},_removeSecondary:function(){this._secondary!==null&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){this._secondary!==null&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){g.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function qo(g,C){var P=gD(N,g);return i(P,N,mD(N),C),P}function Uo(g,C){var P=gD(q,g);return i(P,q,mD(q),C),P}var yD={_handlePrimaryValue:function(g){this._lastSecondary!==r&&this._lastSecondary&&this._emitValue(g)},_handleSecondaryEnd:function(){(this._lastSecondary===r||!this._lastSecondary)&&this._emitEnd()}},oR=qo("filterBy",yD),aR=Uo("filterBy",yD);function cR(g,C){return new(g._ofSameType(oR,aR))(g,C)}var uR=function(g,C){return C};function lR(g,C,P){var K=P?function(Q,se){return P(se,Q)}:uR;return Ae([C],[g],K).setName(g,"sampledBy")}var vD={_handlePrimaryValue:function(g){this._lastSecondary!==r&&this._emitValue(g)},_handleSecondaryEnd:function(){this._lastSecondary===r&&this._emitEnd()}},dR=qo("skipUntilBy",vD),fR=Uo("skipUntilBy",vD);function hR(g,C){return new(g._ofSameType(dR,fR))(g,C)}var CD={_handleSecondaryValue:function(){this._emitEnd()}},pR=qo("takeUntilBy",CD),gR=Uo("takeUntilBy",CD);function mR(g,C){return new(g._ofSameType(pR,gR))(g,C)}var SD={_init:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=g.flushOnEnd,P=C===void 0?!0:C;this._buff=[],this._flushOnEnd=P},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&this._secondary!==null&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(g){this._buff.push(g)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},yR=qo("bufferBy",SD),vR=Uo("bufferBy",SD);function CR(g,C,P){return new(g._ofSameType(yR,vR))(g,C,P)}var DD={_init:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=g.flushOnEnd,P=C===void 0?!0:C,K=g.flushOnChange,Q=K===void 0?!1:K;this._buff=[],this._flushOnEnd=P,this._flushOnChange=Q},_free:function(){this._buff=null},_flush:function(){this._buff!==null&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(g){this._buff.push(g),this._lastSecondary!==r&&!this._lastSecondary&&this._flush()},_handleSecondaryEnd:function(){!this._flushOnEnd&&(this._lastSecondary===r||this._lastSecondary)&&this._emitEnd()},_handleSecondaryValue:function(g){this._flushOnChange&&!g&&this._flush(),this._lastSecondary=g}},SR=qo("bufferWhileBy",DD),DR=Uo("bufferWhileBy",DD);function bR(g,C,P){return new(g._ofSameType(SR,DR))(g,C,P)}var bD=function(){return!1},wR=function(){return!0};function TR(g,C){var P=$c([O(g,wR),O(C,bD)]);return P=VS(P),P=en(P,bD),P.setName(g,"awaiting")}var wD={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleValue:function(g){var C=this._fn,P=C(g);P.convert?this._emitError(P.error):this._emitValue(g)}},ER=De("valuesToErrors",wD),xR=_e("valuesToErrors",wD),_R=function(g){return{convert:!0,error:g}};function kR(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_R;return new(g._ofSameType(ER,xR))(g,{fn:C})}var TD={_init:function(g){var C=g.fn;this._fn=C},_free:function(){this._fn=null},_handleError:function(g){var C=this._fn,P=C(g);P.convert?this._emitValue(P.value):this._emitError(g)}},FR=De("errorsToValues",TD),AR=_e("errorsToValues",TD),PR=function(g){return{convert:!0,value:g}};function RR(g){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PR;return new(g._ofSameType(FR,AR))(g,{fn:C})}var ED={_handleError:function(g){this._emitError(g),this._emitEnd()}},IR=De("endOnError",ED),MR=_e("endOnError",ED);function NR(g){return new(g._ofSameType(IR,MR))(g)}A.prototype.toProperty=function(g){return en(this,g)},A.prototype.changes=function(){return Wn(this)},A.prototype.toPromise=function(g){return ii(this,g)},A.prototype.toESObservable=ae,A.prototype[I]=ae,A.prototype.map=function(g){return O(this,g)},A.prototype.filter=function(g){return G(this,g)},A.prototype.take=function(g){return Dn(this,g)},A.prototype.takeErrors=function(g){return Ri(this,g)},A.prototype.takeWhile=function(g){return v(this,g)},A.prototype.last=function(){return ln(this)},A.prototype.skip=function(g){return st(this,g)},A.prototype.skipWhile=function(g){return _f(this,g)},A.prototype.skipDuplicates=function(g){return VS(this,g)},A.prototype.diff=function(g,C){return iP(this,g,C)},A.prototype.scan=function(g,C){return sP(this,g,C)},A.prototype.flatten=function(g){return uP(this,g)},A.prototype.delay=function(g){return fP(this,g)},A.prototype.throttle=function(g,C){return gP(this,g,C)},A.prototype.debounce=function(g,C){return vP(this,g,C)},A.prototype.mapErrors=function(g){return bP(this,g)},A.prototype.filterErrors=function(g){return xP(this,g)},A.prototype.ignoreValues=function(){return FP(this)},A.prototype.ignoreErrors=function(){return RP(this)},A.prototype.ignoreEnd=function(){return NP(this)},A.prototype.beforeEnd=function(g){return qP(this,g)},A.prototype.slidingWindow=function(g,C){return KP(this,g,C)},A.prototype.bufferWhile=function(g,C){return HP(this,g,C)},A.prototype.bufferWithCount=function(g,C){return GP(this,g,C)},A.prototype.bufferWithTimeOrCount=function(g,C,P){return YP(this,g,C,P)},A.prototype.transduce=function(g){return tR(this,g)},A.prototype.withHandler=function(g){return rR(this,g)},A.prototype.thru=function(g){return g(this)},A.prototype.combine=function(g,C){return Ae([this,g],C)},A.prototype.zip=function(g,C){return kf([this,g],C)},A.prototype.merge=function(g){return $c([this,g])},A.prototype.concat=function(g){return Af([this,g])};var xD=function(){return new Wc};A.prototype.flatMap=function(g){return new yr(this,g).setName(this,"flatMap")},A.prototype.flatMapLatest=function(g){return new yr(this,g,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},A.prototype.flatMapFirst=function(g){return new yr(this,g,{concurLim:1}).setName(this,"flatMapFirst")},A.prototype.flatMapConcat=function(g){return new yr(this,g,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},A.prototype.flatMapConcurLimit=function(g,C){return new yr(this,g,{queueLim:-1,concurLim:C}).setName(this,"flatMapConcurLimit")},A.prototype.flatMapErrors=function(g){return new pD(this,g).setName(this,"flatMapErrors")},A.prototype.filterBy=function(g){return cR(this,g)},A.prototype.sampledBy=function(g,C){return lR(this,g,C)},A.prototype.skipUntilBy=function(g){return hR(this,g)},A.prototype.takeUntilBy=function(g){return mR(this,g)},A.prototype.bufferBy=function(g,C){return CR(this,g,C)},A.prototype.bufferWhileBy=function(g,C){return bR(this,g,C)};var _D=!0;function OR(){_D=!1}function Hc(g){if(_D&&console&&typeof console.warn=="function"){var C=`
Here is an Error object for you containing the call stack:`;console.warn(g,C,new Error)}}A.prototype.awaiting=function(g){return Hc("You are using deprecated .awaiting() method, see https://github.com/kefirjs/kefir/issues/145"),TR(this,g)},A.prototype.valuesToErrors=function(g){return Hc("You are using deprecated .valuesToErrors() method, see https://github.com/kefirjs/kefir/issues/149"),kR(this,g)},A.prototype.errorsToValues=function(g){return Hc("You are using deprecated .errorsToValues() method, see https://github.com/kefirjs/kefir/issues/149"),RR(this,g)},A.prototype.endOnError=function(){return Hc("You are using deprecated .endOnError() method, see https://github.com/kefirjs/kefir/issues/150"),NR(this)};var Vc={Observable:A,Stream:N,Property:q,never:J,later:ce,interval:H,sequentially:re,fromPoll:de,withInterval:nt,fromCallback:rt,fromNodeCallback:Bt,fromEvents:Kn,stream:it,constant:lt,constantError:Sn,fromPromise:zt,fromESObservable:V,combine:Ae,zip:kf,merge:$c,concat:Af,Pool:Wc,pool:xD,repeat:Ff,staticLand:_};Vc.Kefir=Vc,t.dissableDeprecationWarnings=OR,t.Kefir=Vc,t.Observable=A,t.Stream=N,t.Property=q,t.never=J,t.later=ce,t.interval=H,t.sequentially=re,t.fromPoll=de,t.withInterval=nt,t.fromCallback=rt,t.fromNodeCallback=Bt,t.fromEvents=Kn,t.stream=it,t.constant=lt,t.constantError=Sn,t.fromPromise=zt,t.fromESObservable=V,t.combine=Ae,t.zip=kf,t.merge=$c,t.concat=Af,t.Pool=Wc,t.pool=xD,t.repeat=Ff,t.staticLand=_,t.default=Vc,Object.defineProperty(t,"__esModule",{value:!0})})});var MS=M(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.isMessageOf=tt.isOpenLinkMessage=tt.isSelectTabMessage=tt.isSelectFolderMessage=tt.isSelectFileMessage=tt.isRequestConfigurationMessage=tt.isEnableLocaleMessage=tt.isEnableLanguageIdMessage=tt.isConfigurationChangeMessage=tt.isMessage=void 0;function a8(t){return typeof t!="object"||!t||!("command"in t)?!1:typeof t.command=="string"}function c8(t){return a8(t)?bA(t):!1}tt.isMessage=c8;function Gr(t,e){return function(n){let i=n;return n.command===t&&e.reduce((r,[s,o])=>r&&o(i[s]),!0)}}tt.isConfigurationChangeMessage=Gr("ConfigurationChangeMessage",[["value",yf]]);tt.isEnableLanguageIdMessage=Gr("EnableLanguageIdMessage",[["value",yf]]);tt.isEnableLocaleMessage=Gr("EnableLocaleMessage",[["value",yf]]);tt.isRequestConfigurationMessage=Gr("RequestConfigurationMessage",[]);tt.isSelectFileMessage=Gr("SelectFileMessage",[["value",IS]]);tt.isSelectFolderMessage=Gr("SelectFolderMessage",[["value",IS]]);tt.isSelectTabMessage=Gr("SelectTabMessage",[["value",IS]]);tt.isOpenLinkMessage=Gr("OpenLinkMessage",[["value",yf]]);function yf(t){return typeof t=="object"&&t!==null}function IS(t){return typeof t=="string"}var u8={ConfigurationChangeMessage:tt.isConfigurationChangeMessage,EnableLanguageIdMessage:tt.isEnableLanguageIdMessage,EnableLocaleMessage:tt.isEnableLocaleMessage,RequestConfigurationMessage:tt.isRequestConfigurationMessage,SelectFileMessage:tt.isSelectFileMessage,SelectFolderMessage:tt.isSelectFolderMessage,SelectTabMessage:tt.isSelectTabMessage,OpenLinkMessage:tt.isOpenLinkMessage};function bA(t){let e=u8[t.command];return e?.(t)??!1}tt.isMessageOf=bA});var wA=M(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.MessageBus=void 0;var l8=OS(),d8=MS(),NS=class{constructor(e,n=console){Object.defineProperty(this,"vsCodeApi",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"logger",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.vsCodeApi.onmessage=i=>this.respondToMessage(i)}listenFor(e,n){function i(o){(0,l8.isMessageOf)(o)&&n(o)}let r={fn:i,cmd:e,dispose:()=>{this.listeners.get(e)?.delete(r)}};return this.listeners.set(e,this.listeners.get(e)||new Set),this.listeners.get(e)?.add(r),r}postMessage(e){this.vsCodeApi.postMessage(e)}respondToMessage(e){let n=e.data;if(!(0,d8.isMessage)(n)){this.logger.error("Unknown message: %o",e);return}let i=this.listeners.get(n.command);if(!i){this.logger.error("Unhandled message: %o",e);return}for(let r of i)r.fn(n)}};vf.MessageBus=NS});var OS=M(Jr=>{"use strict";var f8=Jr&&Jr.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),TA=Jr&&Jr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&f8(e,t,n)};Object.defineProperty(Jr,"__esModule",{value:!0});TA(MS(),Jr);TA(wA(),Jr)});var EA=M(Ps=>{"use strict";var h8=Ps&&Ps.__createBinding||(Object.create?function(t,e,n,i){i===void 0&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]}),p8=Ps&&Ps.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&h8(e,t,n)};Object.defineProperty(Ps,"__esModule",{value:!0});p8(OS(),Ps)});var $A=M(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.fileExists=void 0;var $8=require("fs/promises"),W8=$p(),H8={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0,ENOTFOUND:!0};async function V8(t){try{return await(0,$8.access)(t.fsPath),!0}catch(e){if(!(0,W8.isErrnoException)(e)||!e.code||!(e.code in H8))throw e;return!1}}Df.fileExists=V8});var hz={};jR(hz,{activate:()=>fz});module.exports=$R(hz);var In=ke(require("vscode")),XA=ke(Ms());var Ut=ke(require("vscode"));var WR={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0},HR=Object.keys(WR),Ko={};function kD(t,e){Object.defineProperty(Ko,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function bn(t){if(Object.getOwnPropertyDescriptor(Ko,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return Ko[t]}function Rf(t,e){Object.defineProperty(Ko,t,{value:e,configurable:!0,enumerable:!0})}function VR(t){Object.defineProperty(Ko,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function zR(){HR.forEach(VR)}zR();var NT=require("vscode");var vr="cSpell",Qc=vr;var Aq=require("vscode");var Ft={};Xc(Ft,ke(Zc()));var Ys=ke(Mb()),kT=require("vscode"),FT=ke(Ms()),nl=ke(CT());function Kp(t,e){let n={};for(let i of e)n[i]=t[i];return n}var ET=ke(Gp()),ci=require("vscode"),Jp=ci.workspace.fs,xT={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},hq=ci.FileSystemError.FileNotFound().code;xT[hq]=!0;async function pq(t){return await Jp.createDirectory(t)}async function gq(t,e,n="utf8"){let i=Xp(t);return i?mq(i,e):yq(t,e,n)}async function mq(t,e){let n=t.getText();if(n===e)return;let i=new ci.Range(t.positionAt(0),t.positionAt(n.length)),r=new ci.WorkspaceEdit;r.replace(t.uri,i,e),await ci.workspace.applyEdit(r),await t.save()}async function yq(t,e,n){return await Jp.writeFile(t,Buffer.from(e,n))}async function vq(t,e){return Buffer.from(await Jp.readFile(t)).toString(e)}async function Cq(t){try{return!!(await ci.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof ci.FileSystemError))throw e;return!1}}function Sq(t){return(0,ET.isErrorCodeException)(t)?t.code in xT:!1}function Xp(t){let e=t.toString(!0);return ci.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var Jt={createDirectory:pq,writeFile:gq,readFile:vq,fileExists:Cq,isFileNotFoundError:Sq};var AT=Symbol("format"),Dq=[{match:/package\.json$/i,handler:t=>new tg(t)},{match:/\.jsonc?$/i,handler:t=>new eg(t)},{match:/\.ya?ml$/i,handler:t=>new ng(t)}],bq=4,_T=2;function ig(t,e){return rg(t).write(e)}function rg(t){return wq(t)}function wq(t){let e=Tq(t);if(e)return e.handler(t);throw new tl(t)}function Tq(t){let n=t.with({fragment:"",query:""}).toString();for(let i of Dq)if(i.match.test(n))return i}var sg={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function PT(t,e){return t.catch(n=>{if(!Jt.isFileNotFoundError(n))throw n;return e})}var tl=class extends Error{constructor(e){super(`Unhandled file type: "${FT.Utils.basename(e)}"`)}},Yp=class extends Error{constructor(n,i,r){super(n);this.code=i;this.errno=r}},Qp=class extends Error{constructor(e){super(e)}};function el(t){let e=Fq(t),n=(0,Ys.parse)(t);if(n==null)return{};if(typeof n!="object")throw new Qp("Invalid cspell JSON file.");return Eq(n,e)}function Zp(t,e,n=!0){let i=xq(t);e=i?.spaces||e||bq;let r=i?.newlineAtEndOfFile??!0,s=n?(0,Ys.stringify)(t,null,e):JSON.stringify(t,null,e);return r?s+`
`:s}function Eq(t,e){return t==null||typeof t!="object"||(t[AT]=e),t}function xq(t){if(!(t==null||typeof t!="object"))return t[AT]}function _q(t){return/\n$/.test(t)}function kq(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function Fq(t){return{spaces:kq(t),newlineAtEndOfFile:_q(t)}}var Ea=class{constructor(e){this.uri=e}async read(e){return Kp(await this._read(),e)}update(e,n){return this._update(i=>e(Kp(i,n)))}async mkdir(){return await Jt.createDirectory(kT.Uri.joinPath(this.uri,".."))}},eg=class extends Ea{async _update(e){let n=await PT(this._read(),sg),i=(0,Ys.assign)(n,e(n));return this.write(i)}async write(e){await this.mkdir();let n=Zp(e),i=n[n.length-1]!==`
`?n+`
`:n;return Jt.writeFile(this.uri,i)}async _read(){let e=this.uri,n=await Jt.readFile(e,"utf8");return el(n)}},tg=class extends Ea{async _update(e){let n=await Jt.readFile(this.uri,"utf8"),i=el(n),r=i.cspell||{...sg};return i.cspell=Object.assign(r,e(r)),Jt.writeFile(this.uri,Zp(i,_T,!1))}async write(e){let n=await Jt.readFile(this.uri,"utf8"),i=el(n);return i.cspell=e,Jt.writeFile(this.uri,Zp(i,_T,!1))}async _read(){let e=await Jt.readFile(this.uri,"utf8"),n=el(e);if(!n.cspell||typeof n.cspell!="object")throw new Yp("`cspell` section missing from package.json","ENOENT");return n.cspell}},ng=class extends Ea{async _update(e){let n=await PT(this._read(),sg),i=Object.assign({},n,e(n));return this.write(i)}async write(e){return await this.mkdir(),Jt.writeFile(this.uri,(0,nl.stringify)(e))}async _read(){let e=await Jt.readFile(this.uri,"utf8");return(0,nl.parse)(e)}};var Pq="0.2";var RT=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],og=`**/{${RT.join(",")}}`;var il=".cspell",Rq=Object.freeze(new Set(RT)),IT=["cspell.json","cspell.config.yaml","package.json"],ag=Rq,r4=Object.freeze({version:Pq});var Iq=/[^\w\p{L}\p{M}_'’-]+/gu,Mq=/^[\w\p{L}\p{M}_'’-]+$/u;function MT(t){return Mq.test(t)}function er(t){return t=typeof t!="string"?t.join(" "):t,t.replace(Iq," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter((0,Ft.uniqueFilter)())}function Xn(t){return(t&&NT.languages.getDiagnostics(t)||[]).filter(i=>i.source===Qc)}function OT(t,e,n){return!t||!n?void 0:cg(t,e,n)?.map(r=>t.getText(r))}function cg(t,e,n){if(!t||!n)return;let i=e&&t.getText(e);return n.map(s=>s.range).map(s=>Nq(i,e,s)).filter(Ft.isDefined)}function Nq(t,e,n){if(!e||t===void 0||n.contains(e))return n;let i=e.intersection(n);if(!(!i||i.isEmpty))return MT(t)?e:n}var qt=require("vscode");var ug=require("vscode"),Oq={file:!0,untitled:!0},Lq={"vscode-notebook-cell":!0},qq={git:!0,output:!0,debug:!0,vscode:!0},Uq=Object.freeze(Object.assign(Object.create(null),Oq)),Bq=Object.freeze(Object.assign(Object.create(null),qq)),Kq=Object.freeze(Object.assign(Object.create(null),Lq));function rl(t){if(t===void 0||t.scheme in Bq)return;if(t.scheme in Uq)return t;let e=t.path;for(let n of ug.workspace.notebookDocuments){let i=n.uri;if(i.path===e)return i}for(let n of ug.workspace.textDocuments){let i=n.uri;if(i.path===e&&i.scheme==="file")return i}return t.scheme in Kq?t.with({scheme:"file",query:"",fragment:""}):t}var Ac=ke(Zi()),Qt=require("vscode"),cn=ke(_o()),Pc=ke(_o());var Fo={};Xc(Fo,ke(Xk(),1));var yn={...Fo.ConfigFields,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename",autoFormatConfigFile:"autoFormatConfigFile",allowedSchemas:"allowedSchemas",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",mapOfEnabledFileTypes:"mapOfEnabledFileTypes",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",noSuggestDictionaries:"noSuggestDictionaries",showAutocompleteSuggestions:"showAutocompleteSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",workspaceRootPath:"workspaceRootPath"};var ks=ke(require("vscode")),Io=require("vscode");var yc={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function MC(t){return e=>typeof e=="object"&&e.kind===t}var I7=MC(yc.Dictionary),M7=MC(yc.Cspell),N7=MC(yc.Vscode),Rd={user:1,workspace:2,folder:3,unknown:4};function u3(t,e){return Rd[t]-Rd[e]}function l3(t,e){return Rd[e]-Rd[t]}function vc(t,e=!0){let n=e?l3:u3;return[...t].sort(n)}var Yk=ke(Zi()),NC=require("vscode");function Ve(t){return typeof t=="string"?NC.Uri.from((0,Yk.toUri)(t)):t&&NC.Uri.from(t)||void 0}var tF=ke(Zi()),nF=ke(Zc()),iF=require("path"),Yt=require("vscode");function jr(t,e){let n=d3(t,e);return{updateFn:r=>({[t]:n(r[t])}),keys:[t]}}function OC(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function d3(t,e){return typeof e=="function"?e:()=>e}var Hi=require("vscode"),Qk={[Hi.ConfigurationTarget.Global]:"user",[Hi.ConfigurationTarget.Workspace]:"workspace",[Hi.ConfigurationTarget.WorkspaceFolder]:"folder"},f3={user:Hi.ConfigurationTarget.Global,workspace:Hi.ConfigurationTarget.Workspace,folder:Hi.ConfigurationTarget.WorkspaceFolder},LC=[Hi.ConfigurationTarget.Global,Hi.ConfigurationTarget.Workspace,Hi.ConfigurationTarget.WorkspaceFolder];function pi(t){return Qk[t]}function Id(t){return h3(t)}function h3(t){return f3[t]}function qC(t){return Qk[t]}function Zk(t){let e=[],n=LC.indexOf(t);if(n<0)return e;for(let i=n;i<LC.length;++i)e.push(qC(LC[i]));return e.push("unknown"),e}function eF(t,e,n){return new UC(t,e,n)}var UC=class{constructor(e,n,i){this.target=e;this.scope=n;this.useMerge=i;this.name=pi(e)}name;async read(e){return KC(this.target,this.scope,e,this.useMerge)}async write(e){await BC(this.target,this.scope,[],()=>e,!1)}async update(e,n){await BC(this.target,this.scope,n,e,this.useMerge)}};var Md=class{setValue(e,n){return this.update(jr(e,n))}updateValue(e,n){return this.update(jr(e,n))}};function Cc(t,e){let n=g3(t)?t:rg(t),i=!!Vi(yn.autoFormatConfigFile,n.uri);return new Es(n,e,i)}function Nd(t,e,n){let i=p3(t)?t:eF(t,e,!!n);return new Ao(i)}function p3(t){return typeof t=="object"&&!!t.read&&!!t.write}function g3(t){let e=t;return!!e.update&&!!e.uri}var Es=class t extends Md{constructor(n,i,r){super();this.configRW=n;this.formatConfig=r;this.name=i||(0,tF.uriToName)(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let i=this.formatConfig,r=this.configFileUri,s=Xp(r);if(s&&s.isDirty){let o=iF.posix.basename(r.path),a=await Yt.window.showInformationMessage(`Overwrite "${o}"?`,"Yes","No","Open");if(a==="Open"){await Yt.window.showTextDocument(s);return}if(a!=="Yes")return}await this.configRW.update(v3(n),n.keys),i&&await m3(r)}static isCSpellConfigRepository(n){return n instanceof t}};async function m3(t){let e=await Yt.workspace.openTextDocument(t),n=await Yt.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let i=new Yt.WorkspaceEdit;i.set(t,n),await Yt.workspace.applyEdit(i),await e.save()}var Ao=class t extends Md{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=pi(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return Yt.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return y3(n)?n:jC(n)?Yt.workspace.getWorkspaceFolder(n):C3(n)?Yt.workspace.getWorkspaceFolder(n.uri):Yt.workspace.workspaceFolders?.[0]}update(n){let{fn:i,keys:r}=this.mappers(n.keys,n.updateFn);return this.rw.update(i,r)}getValue(n){return this.rw.read([n])}mappers(n,i){if(this.target!==Yt.ConfigurationTarget.Global)return{fn:i,keys:n};let r=new Set(n);r.has(yn.words)&&r.add(yn.userWords);function s(c){let{userWords:d,words:p,...m}=c,f={...m};return(r.has(yn.userWords)||d||p)&&(f.words=d?.concat(p??[])??p),f}function o(c){let{words:d,userWords:p,...m}=c,f={...m};return Object.keys(c).includes(yn.words)&&(f.words=void 0,f.userWords=d?.concat(p||[])),f}return{fn:c=>o(i(s(c))),keys:[...r]}}static isVSCodeRepository(n){return n instanceof t}};function y3(t){if(!t)return!1;let e=t;return jC(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function v3(t){return e=>t.updateFn((0,nF.pick)(e,t.keys))}function C3(t){return typeof t!="object"?!1:jC(t.uri)}function jC(t){if(typeof t!="object")return!1;if(t instanceof Yt.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}var S3=new Set(["dictionary","cspell","vscode"]);function Sc(t){if(!S3.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return Cc(Ve(t.configUri),t.name);case"vscode":return Nd(Id(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function rF(t,e){let i=e.map(oF).map(r=>r.update(t));return Promise.all(i).then(()=>{})}function sF(t,e){let n=e.map(async i=>{let s=await oF(i).getValue(t);return[i,s]});return Promise.all(n)}function oF(t){let e=Sc(t);if(e===void 0)throw new $C(t);return e}var $C=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};var D3=ke(Zi()),WC=ke(require("vscode"));var b3={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var xs={dictionary:!0,cspell:!0,vscode:!0};var w3={cspell:!0},VC={vscode:!0},T3={dictionary:!0,cspell:!1,vscode:!1};var Dc={unknown:!0,folder:!0,workspace:!0,user:!0},E3={unknown:!0,folder:!0,workspace:!0,user:!1},aF={user:!0},cF={workspace:!0},uF={folder:!0};var x3=Object.freeze(Object.values(yc)),_3=Object.freeze(Object.values(b3)),Od=$r(xs,E3),lF=$r(xs,aF),dF=$r(xs,cF),fF=$r(xs,uF),hF=$r(w3,Dc),pF=$r(VC,aF),gF=$r(VC,cF),mF=$r(VC,uF),Ld=bc(N3(T3),Dc),rG=bc(xs,Dc);function k3(t,e){let n=[];for(let i of e)if(!(!t[i.kind]||!t[i.scope])){if(n.length&&(n[0].kind!==i.kind||n[0].scope!==i.scope))break;n.push(i)}return n}function $r(...t){let e=bc(...t);return F3(e)}function F3(t,e=!1){return async function(n){let i=k3(t,n);return qd(i,e)}}async function qd(t,e=!1){if(!t.length)throw new HC("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",i=t.map(o=>({label:o.name,_found:o})),r=e?await WC.window.showQuickPick(i,{title:n,canPickMany:!0}):await WC.window.showQuickPick(i,{title:n});return r?(Array.isArray(r)?r:[r]).map(o=>o._found):void 0}async function Ud(t){let e=await qd(t,!1);return e&&e[0]}function Bd(t,e){let n=typeof e=="function"?e:A3(e);return t.filter(n)}function A3(t){return e=>P3(e,t)}function P3(t,e){return!!e[t.kind]&&!!e[t.scope]}function bc(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=R3(e,n,_3);return e}function R3(t,e,n){let i=Object.assign({},t);for(let r of n){let s=e[r];s!==void 0&&(i[r]=s)}return i}function I3(t,e){let n={};for(let i of e)n[i]=M3(t[i]);return n}function M3(t){return t===void 0?void 0:!t}function N3(t){return I3(t,x3)}function yF(t,e,n){let i=pi(t);return{kind:"vscode",scope:i,name:i,docUri:Ve(e),configScope:n}}var HC=class extends Error{constructor(e){super(e)}};function Kd(t,e){return sF(e,t)}function wc(t,e,n,i){t=i?Bd(t,i):t;let r=jr(e,n);return rF(r,t)}function zC(t){let e=t.map(r=>r.scope),n=vc(e,!0),i=[];return n.map(r=>t.filter(s=>s.scope===r)).forEach(r=>r.forEach(s=>i.push(s))),i}async function Tc(t,e,n){let i=await qd(t);if(!(!i||!i.length))return wc(i,e,n)}function vF(t,e,n){let i;for(let[r,s]of[...t].reverse()){if(r===e)break;i??=s[n]}return i}function GC(t){let{targets:e,scopes:n}=t,i=new Set(vc(n)),r=zC(e),s=r.filter(o=>i.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:r,possibleTargets:s}}var Po="enabled";function _s(t,e){let{possibleTargets:n}=GC(t);return Tc(n,Po,e)}async function Ro(t){let{possibleTargets:e,orderedTargets:n}=GC(t),i=new Map(await Kd(n,Po)),r=e.filter(m=>i.get(m)?.[Po]!==void 0);if(!e.length)return;let s=r[r.length-1]??e[e.length-1],o=i.get(s)?.[Po],c=vF(i,s,Po)??!0,d=o??c,p=c!==d?void 0:!d;return wc([s],Po,()=>p)}async function $d(t,e,n,i){n=n.map(m=>({...m,useMerge:m.useMerge??m.kind==="vscode"}));let r=new Set(vc(i)),s=new Set(zC(n)),o=new Map(await Kd([...s],"language")),a=new Set([...s].filter(m=>r.has(m.scope)));if(!e)[...o].filter(([m,f])=>!q3(t,f.language)).forEach(([m])=>a.delete(m));else{let m=[...a],f=new Set([...o].filter(([l,h])=>U3(t,h.language)).map(([l])=>l)),u=!1;for(let l of a)u=u||f.has(l),u&&a.delete(l);a.size||m.filter(l=>!f.has(l)).forEach(l=>a.add(l))}let c=a.size>1?await Ud([...a]):[...a][0];if(!c)return;let d=B3("language",c,o);return wc([c],"language",e?m=>O3(t,m||d):m=>L3(t,m))}function Wr(t){return jd(t).split(",").filter(e=>!!e)}function O3(t,e){let n=Wr(t),i=new Set(Wr(e||""));return n.forEach(r=>i.add(r)),[...i].join(",")||void 0}function L3(t,e){let n=Wr(t),i=new Set(Wr(e||""));return n.forEach(r=>i.delete(r)),[...i].join(",")||void 0}function q3(t,e){if(!t||!e)return!1;let n=new Set(Wr(t)),i=Wr(e);for(let r of i)if(n.has(r))return!0;return!1}function U3(t,e){if(!t||!e)return!1;let n=new Set(Wr(e)),i=Wr(t);for(let r of i)if(!n.has(r))return!1;return!0}function B3(t,e,n){let i=[...n].reverse(),r;for(let[s,o]of i)if(r??=o[t],s===e)break;return r}function K3(t){return t&&ks.workspace.getWorkspaceFolder(t)||Io.workspace.workspaceFolders?.[0]}async function JC(t,e){await Ec(e,!0,t)}async function XC(t,e){await Ec(e,!1,t)}function YC(t,e){let n=er(e);return Tc(t,"ignoreWords",i=>(0,Ft.unique)(n.concat(i||[]).sort()))}function j3(t,e,n){let i=new Set(n||[]),r="!"+t;return e?i.has(r)?i.delete(r):i.add(t):i.has(t)?i.delete(t):i.add(r),i.size?[...i].sort():void 0}function Ec(t,e,n){return Tc(n,"enableFiletypes",r=>j3(t,e,r))}var $3={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function W3(t,e){if(!e&&await Jt.fileExists(t)){let n="Overwrite";if(await ks.window.showWarningMessage("Configuration file already exists.",{modal:!0},n)!==n)return}return await ig(t,$3),t}async function H3(t){let e=Io.Uri.joinPath(t,"package.json");try{return(await Io.workspace.fs.stat(e)).type===ks.FileType.File}catch{return!1}}function V3(t){return H3(t.uri)}var z3="Unable to determine location for configuration file.";async function QC(t,e){let n=K3(t);if(!n)throw new Error(z3);if(n.uri.scheme!=="file")throw new Error(`Unsupported scheme: ${n.uri.scheme}`);let i=new Set(IT);await V3(n)||i.delete("package.json");let r=await ks.window.showQuickPick([...i],{title:"Choose config file"});if(!r)return;let s=Io.Uri.joinPath(n.uri,r);return await W3(s,e),s}var CF=["asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","go","groovy","handlebars","html","ini","jade","java","javascript","javascriptreact","json","julia","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","ruby","rust","scss","shaderlab","shellscript","sql","swift","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var SF=require("vscode"),nS=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new SF.Disposable(()=>this.listeners.delete(e))}};function DF(){return new nS}var wF=require("util"),TF=require("vscode");function EF(t){if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Vd(t,e){return!xF(t)&&EF(t)?(console.error(sS(t,e)),kc(TF.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve()}function iS(t,e){return!xF(t)&&EF(t)&&console.log(sS(t,e)),Promise.resolve()}function rS(t,e){let n=sS(t,e);return Promise.resolve(void 0)}function An(t,e,n=Vd){return(typeof t=="function"?(async()=>t())():t).catch(J3(e,n))}function _c(t,e,n=Vd){return(...i)=>An(()=>t(...i),e,n)}function zi(t,e){return An(Promise.resolve(t),e,iS)}function kc(t,e){return An(Promise.resolve(t),e,rS)}function J3(t,e){return n=>e(n,t)}function sS(t,e){return(0,wF.format)("Error: context (%s): %o",e,t)}var bF="Canceled";function xF(t){return t instanceof Error&&t.name===bF&&t.message===bF}var zd=ke(require("assert"));var Gd=class{resolutionState=0;resolution;_resolve;_reject;promise;constructor(){this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n,(0,zd.default)(this.resolution===void 0,"Already Resolved")})}resolve(e){(0,zd.default)(this.resolution===void 0,"Already Resolved"),this.resolution={value:e},this._resolve?.(e),this.resolutionState=1}reject(e){(0,zd.default)(this.resolution===void 0,"Already Resolved"),this.resolution={reject:e},this._reject?.(e),this.resolutionState=2}isPending(){return this.resolutionState===0}isResolved(){return this.resolutionState===1}isRejected(){return this.resolutionState===2}};var Fs=ke(_o());async function _F(t,e){let n=Fs.CodeActionRequest.type;return await t.sendRequest(n,e)}function kF(t){async function e(o,a){let c=new Fs.RequestType(o);return await t.sendRequest(c,a)}function n(o,a){let c=new Fs.NotificationType(o);return t.onNotification(c,a)}function i(o,a){let c=new Fs.RequestType(o);return t.onRequest(c,a)}function r(o,...a){t.sendNotification(o,a)}return{isSpellCheckEnabled:o=>e("isSpellCheckEnabled",o),getConfigurationForDocument:o=>e("getConfigurationForDocument",o),splitTextIntoWords:o=>e("splitTextIntoWords",o),spellingSuggestions:o=>e("spellingSuggestions",o),notifyConfigChange:(...o)=>r("notifyConfigChange",...o),registerConfigurationFile:(...o)=>r("registerConfigurationFile",...o),onSpellCheckDocument:o=>n("onSpellCheckDocument",o),onWorkspaceConfigForDocumentRequest:o=>i("onWorkspaceConfigForDocumentRequest",o)}}var UF=ke(qF());function jd(t=""){return Array.isArray(t)&&(t=t.join(",")),uH(t).join(",")}function uH(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>(0,UF.normalizeCode)(e)).map(e=>e.trim()).filter(e=>!!e).filter((0,Ft.uniqueFilter)())}var lH=["--nolazy","--inspect=60048"],dH=Qc,fH=2e3,Yd=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=new Set;broadcasterOnSpellCheckDocument=DF();ready=new Gd;constructor(e,n){let i=e.asAbsolutePath("packages/_server/dist/main.cjs"),r=Wd("enabledLanguageIds",xc.Workspace);this.allowedSchemas=new Set(Wd("allowedSchemas",xc.Workspace)||Ac.supportedSchemes),Ac.setOfSupportedSchemes.clear(),this.allowedSchemas.forEach(f=>Ac.setOfSupportedSchemes.add(f)),this.languageIds=new Set(n.concat(r||[]).concat(CF));let s=[...this.languageIds],a={documentSelector:[...this.allowedSchemas].map(f=>s.map(u=>({language:u,scheme:f}))).reduce((f,u)=>f.concat(u)),diagnosticCollectionName:dH,synchronize:{configurationSection:[vn,"search"]},middleware:{handleDiagnostics(f,u,l){l(f,u)}}},c=this.calcServerArgs(),d={execArgv:c},p={execArgv:[...c,...lH]},m={run:{module:i,transport:Pc.TransportKind.ipc,options:d},debug:{module:i,transport:Pc.TransportKind.ipc,options:p}};this.client=new Pc.LanguageClient("cspell","Code Spell Checker",m,a),this.client.registerProposedFeatures(),this.serverApi=kF(this.client),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.resolve(this.client.start()),this.ready.promise}async isSpellCheckEnabled(e){let{uri:n,languageId:i=""}=e;return!n||!i?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:i}),uri:n}}getConfigurationForDocument=this.factoryGetConfigurationForDocument();async _getConfigurationForDocument(e){let{uri:n,languageId:i}=e||{},r=KF(n);return n?this.serverApi.getConfigurationForDocument({uri:n.toString(),languageId:i,workspaceConfig:r}):this.serverApi.getConfigurationForDocument({workspaceConfig:r})}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return e=>{let n=e?.uri?.toString(),i=this.cacheGetConfigurationForDocument.get(n);if(i)return i;let r=this._getConfigurationForDocument(e);return this.cacheGetConfigurationForDocument.set(n,r),setTimeout(()=>this.cacheGetConfigurationForDocument.delete(n),fH),r}}notifySettingsChanged(){return this.cacheGetConfigurationForDocument.clear(),setTimeout(()=>this.cacheGetConfigurationForDocument.clear(),250),kc(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return zi(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(Qt.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){for(let n of e)this.disposables.add(n)}dispose(){this.client.stop();let e=[...this.disposables];this.disposables.clear(),Qt.Disposable.from(...e).dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}async requestSpellingSuggestions(e,n,i){let r={textDocument:cn.TextDocumentIdentifier.create(e.uri.toString()),range:jF(n),context:cn.CodeActionContext.create(i.map(yH))},s=await _F(this.client,r);return s?s.filter(pH).map(gH):[]}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(hH))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e)))}};function hH(t){let{uri:e}=t,n=Qt.Uri.parse(e);return KF(n)}function KF(t){let e=rl(t),n=Hd(e,["words","userWords","ignoreWords"]),i=Qt.workspace.workspaceFile?.toString(),r=e&&Qt.workspace.getWorkspaceFolder(e)?.uri.toString(),s=i!==void 0,o=lS(n.userWords,s),a=lS(n.words,s),c=lS(n.ignoreWords,s);return a.user=o.user,{uri:t?.toString(),workspaceFile:i,workspaceFolder:r,words:a,ignoreWords:c}}function lS(t,e){if(!t)return{};let{globalValue:n,workspaceValue:i,workspaceFolderValue:r}=t;return{user:n!==void 0||void 0,workspace:i!==void 0||void 0,folder:e&&(r!==void 0||void 0)}}function pH(t){return cn.CodeAction.is(t)}function gH(t){let e=t.kind!==void 0&&Qt.CodeActionKind.Empty.append(t.kind)||void 0,n=new Qt.CodeAction(t.title,e);return n.command=t.command&&t.command,n}var mH={[Qt.DiagnosticSeverity.Error]:cn.DiagnosticSeverity.Error,[Qt.DiagnosticSeverity.Warning]:cn.DiagnosticSeverity.Warning,[Qt.DiagnosticSeverity.Information]:cn.DiagnosticSeverity.Information,[Qt.DiagnosticSeverity.Hint]:cn.DiagnosticSeverity.Hint};function yH(t){return cn.Diagnostic.create(jF(t.range),t.message,mH[t.severity],void 0,t.source)}function jF(t){let{start:e,end:n}=t;return cn.Range.create(BF(e),BF(n))}function BF(t){let{line:e,character:n}=t;return cn.Position.create(e,n)}var Vt=require("vscode"),vn=vr,p5=qt.ConfigurationTarget.Global,xc={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},WF=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],vH=new Map(WF.map((t,e)=>[t,e]));function Vi(t,e){return Rc(e).get(vn,{})[t]}function Wd(t,e){return CH(t,e).value}function CH(t,e){e=TH(e);let n=SH(t,e.resource);return xH(n,e.scope)}function SH(t,e){return fS(e,t)}function eS(t){return Rc(t).inspect(vn)||{key:vn}}function fS(t,e){let n=Rc(t),i=[vn,e].join(".");return n.inspect(i)||{key:i}}function DH(t,e){let n=[vn,e].join(".");return t.inspect(n)||{key:n}}function Hd(t,e){let n=Rc(t),i={};for(let r of e){let s={[r]:DH(n,r)};Object.assign(i,s)}return i}function bH(t){return typeof t=="object"&&t.target!==void 0}var g5={[qt.ConfigurationTarget.Global]:"globalValue",[qt.ConfigurationTarget.Workspace]:"workspaceValue",[qt.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},m5={[qt.ConfigurationTarget.Global]:"user",[qt.ConfigurationTarget.Workspace]:"workspace",[qt.ConfigurationTarget.WorkspaceFolder]:"folder"};function wH(t){return typeof t=="object"}function TH(t){return wH(t)?{scope:t.scope,resource:t.scope===xc.Folder?EH(t.resource):void 0}:{scope:t,resource:void 0}}function EH(t){if(t)return qt.workspace.getWorkspaceFolder(t)?.uri}function xH(t,e){for(let n=vH.get(e);n!==void 0&&n>=0;n-=1){let i=WF[n],r=t[i];if(r!==void 0)return{scope:i,value:r}}return{scope:"defaultValue",value:void 0}}function Rc(t){return qt.workspace.getConfiguration(void 0,PH(t))}function tS(t){return bH(t)?t:{target:t,uri:void 0}}function KC(t,e,n,i){let r={},s=Hd(e,n),o=i?_H:kH;for(let a of n)o(r,t,a,s);return r}function _H(t,e,n,i){let r=i[n],s=AH(e,r);s!==void 0&&(t[n]=s)}function kH(t,e,n,i){let r=i[n],s=FH(e,r);s!==void 0&&(t[n]=s)}function FH(t,e){if(e!==void 0)switch(t){case qt.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case qt.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case qt.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function AH(t,e){if(e===void 0)return;let n=dS(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===qt.ConfigurationTarget.Global||(n=dS(n,e.workspaceValue,e.workspaceLanguageValue),t===qt.ConfigurationTarget.Workspace))return n;if(n=dS(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==qt.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function dS(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function BC(t,e,n,i,r){let s=KC(t,e,n,r),o=i(s),a=Rc(e);await Object.entries(o).map(([c,d])=>a.update(`${vr}.${c}`,d,t))}function PH(t){return RH(t)?rl($F(t)):IH(t)?HF(t.uri)?t:{...t,uri:$F(t.uri)}:t}function $F(t){return HF(t)?t:qt.Uri.parse(t.toString())}function RH(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function HF(t){return t instanceof qt.Uri}function IH(t){return!t||typeof t!="object"?!1:t.uri!==void 0}var MH=new Set(["tex","bibtex","latex","latex-expl3","jlweave","rsweave","doctex"]);async function zF(t){let e=await BH();t.push(Ut.languages.registerCompletionItemProvider(e,VF,":"),Ut.languages.registerCompletionItemProvider(e,VF," "),Ut.languages.registerCompletionItemProvider(e,LH," "),Ut.languages.registerCompletionItemProvider(e,qH," "))}var VF={provideCompletionItems(t,e){let n=GF(Xn(t.uri),e,1),i=/cspell:\s?$/i,r=t.lineAt(e).text.substr(0,e.character);if(!i.test(r))return;let s={words:n.map(o=>t.getText(o.range))};return OH.map(o=>typeof o=="function"?o(s):o).map(NH)},resolveCompletionItem(t){return t}};function NH(t){let e=new Ut.CompletionItem(t.label,t.kind||Ut.CompletionItemKind.Text);return e.insertText=new Ut.SnippetString(t.insertText),e.documentation=t.description,e.sortText=t.sortText,e.commitCharacters=t.commitCharacters||[" "],e}var OH=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1",kind:Ut.CompletionItemKind.Snippet},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2",kind:Ut.CompletionItemKind.Snippet},{label:"ignoreRegExp",insertText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression."},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document.",kind:Ut.CompletionItemKind.Snippet},{label:"locale",insertText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:Ut.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function GF(t,e,n){function i(s){let o=s.range.start;return Math.abs(o.line-e.line)*1e3+o.character}return[...t].sort((s,o)=>i(s)-i(o)).slice(0,n)}var LH={async provideCompletionItems(t,e){let n=t.lineAt(e).text.substr(0,e.character);if(!/cspell:\s*dictionaries/i.test(n))return;let r=await bn("client").getConfigurationForDocument(t),s=r.docSettings||r.settings;if(!s)return;let o=new Set(s.dictionaries||[]);return(s.dictionaryDefinitions||[]).map(c=>c.name).filter(c=>!!c).filter(c=>!o.has(c)).map(c=>new Ut.CompletionItem(c,Ut.CompletionItemKind.Text)).map(c=>(c.commitCharacters=[" "],c))},resolveCompletionItem(t){return t}},qH={provideCompletionItems(t,e){let n=t.lineAt(e),i=n.text.substr(0,e.character);if(!/cspell:\s*(words|ignore)/i.test(i))return;let s=new Set(n.text.split(/[\s:.]/)),o=Xn(t.uri).filter(d=>!s.has(t.getText(d.range))),a=GF(o,e,10);return a.length?[...new Set(a.map(d=>t.getText(d.range)))].sort().map(d=>new Ut.CompletionItem(d,Ut.CompletionItemKind.Text)).map(d=>(d.commitCharacters=[" "],d)):void 0},resolveCompletionItem(t){return t}};function UH(){let t="showAutocompleteSuggestions",n=fS(void 0,t).languageIds??[],i=Vi(t,void 0)??!1,r=n.map(o=>[o,Vi(t,{languageId:o})]),s=new Map(r);return{value:i,byLangId:s}}async function BH(){let t=await Ut.languages.getLanguages(),{value:e,byLangId:n}=UH();return t.filter(r=>n.get(r)??(!MH.has(r)&&e))}var Se=require("vscode");function Qd(t,e){if(KH(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function KH(t){return t instanceof RegExp}var ZF=ke(Gp()),eA=ke(Zi()),tA=require("util"),Zd=require("vscode"),nA=ke(Ms());function JF(t){return jr("words",hS(t))}function XF(t){return jr("words",pS(t))}function hS(t=[]){return e=>YF([...new Set((e||[]).concat(t))])}function pS(t){return e=>{let n=new Set(e||[]);for(let i of t)n.delete(i);return YF([...n])}}function YF(t){return t.sort(jH)}function jH(t,e){return t.localeCompare(e)}var Hr=require("vscode");async function QF(t,e){let n=new Hr.WorkspaceEdit,i=new Hr.Range(t.positionAt(0),t.positionAt(t.getText().length)),r=Hr.TextEdit.replace(i,e);n.set(t.uri,[r]);let s=await Hr.workspace.applyEdit(n);return s&&await t.save(),s}var $H=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,gS=class{constructor(e,n){this.uri=e;this.name=n??(0,eA.uriToName)(e)}name;addWords(e){return HH(e,this)}removeWords(e){return iA(pS(e),this)}},mS=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(JF(e))}removeWords(e){return this.rep.update(XF(e))}};function ef(t,e){let{uri:n,name:i}=WH(t)?t:{uri:t,name:e};return new gS(n,i)}function WH(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function Ic(t){return new mS(t)}async function HH(t,e){return iA(hS(t),e)}async function iA(t,e){if($H.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${e.uri.fsPath}".`));try{await VH(e.uri);let n=await Zd.workspace.openTextDocument(e.uri),i=n.getText(),s=t(i.split(/\r?\n/g).filter(a=>!!a)).join(`
`).trim()+`
`;await QF(n,s)||await Zd.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let i=(0,ZF.isErrnoException)(n)?n.message:(0,tA.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${i}`))}}async function VH(t){await Jt.fileExists(t)||(await Jt.createDirectory(nA.Utils.dirname(t)),await Jt.writeFile(t,""))}function tf(t){switch(t.kind){case"vscode":return zH(t);case"cspell":return GH(t);case"dictionary":return JH(t)}}function zH(t){let{name:e,kind:n,scope:i,docUri:r}=t;return{name:e,kind:n,scope:i,docUri:Ve(r),configScope:void 0}}function GH(t){let{name:e,kind:n,scope:i,configUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Ve(s),configUri:Ve(r)}}function JH(t){let{name:e,kind:n,scope:i,dictionaryUri:r,docUri:s}=t;return{name:e,kind:n,scope:i,docUri:Ve(s),dictionaryUri:Ve(r)}}var XH="timeline_start",rA=process.hrtime(),yS=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(XH),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,i){let r=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(i)||this.startEvent,o=YH(r.startTime,s.startTime),a={name:e,startTime:process.hrtime(rA),duration:o};this.addEvent(a)}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(rA),duration:0}}};function YH(t,e){return nf(e)-nf(t)}function nf(t){return(t[0]+t[1]*1e-9)*1e3}var Vr=new yS;var rf=ke(require("vscode"));function sf(t,e){let n=t.document,i=n.getText().indexOf(e);if(i<0)return!1;let r=n.positionAt(i),s=new rf.Range(r.line,r.character,r.line,r.character+e.length);return s&&t.revealRange(s,rf.TextEditorRevealType.InCenterIfOutsideViewport),!0}var of=ke(require("vscode"));function QH(t){let e=t.toString();return of.window.visibleTextEditors.map(i=>i.document).filter(i=>!!i).filter(i=>i.uri.toString()===e)[0]}function af(t){let e=t.toString();return((of.workspace||{}).textDocuments||[]).filter(r=>r.uri.toString()===e)[0]||QH(t)}var ZH={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>sA(t,Cc(Ve(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>TV(t,ef(Ve(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let i=Id(n),r=Nd(i,Ve(e),!1);return sA(t,r)}},Pn=NV,As=(t,e=!1)=>_S(t,void 0,void 0,e),eV=Pn("Add Words to Folder Dictionary",EV),tV=Pn("Add Words to Workspace Dictionaries",vS),nV=Pn("Add Words to User Dictionary",CS),iV=Pn("Add Words to Folder Settings",gr(zr,mF)),rV=Pn("Add Words to Workspace Settings",gr(zr,gF)),sV=Pn("Add Words to User Settings",gr(zr,pF)),oV=Pn("Remove Words from Folder Dictionary",FV),aV=Pn("Remove Words from Workspace Dictionaries",AV),cV=Pn("Remove Words from Global Dictionary",PV),uV=Pn("Ignore Words",gr(uf,void 0)),lV=Pn("Ignore Words in Folder Settings",gr(uf,Vt.ConfigurationTarget.WorkspaceFolder)),dV=Pn("Ignore Words in Workspace Settings",gr(uf,Vt.ConfigurationTarget.Workspace)),fV=Pn("Ignore Words in User Settings",gr(uf,Vt.ConfigurationTarget.Global)),hV=Pn("Add Words to cSpell Configuration",gr(zr,hF)),pV=Pn("Add Words to Dictionary",gr(zr,Od)),gV={"cSpell.addWordToDictionary":pV,"cSpell.addWordToFolderDictionary":eV,"cSpell.addWordToWorkspaceDictionary":tV,"cSpell.addWordToUserDictionary":nV,"cSpell.addWordToFolderSettings":iV,"cSpell.addWordToWorkspaceSettings":rV,"cSpell.addWordToUserSettings":sV,"cSpell.removeWordFromFolderDictionary":oV,"cSpell.removeWordFromWorkspaceDictionary":aV,"cSpell.removeWordFromUserDictionary":cV,"cSpell.addIgnoreWord":uV,"cSpell.addIgnoreWordsToFolder":lV,"cSpell.addIgnoreWordsToWorkspace":dV,"cSpell.addIgnoreWordsToUser":fV,"cSpell.suggestSpellingCorrections":lA,"cSpell.goToNextSpellingIssue":()=>cf("next",!1),"cSpell.goToPreviousSpellingIssue":()=>cf("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>cf("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>cf("previous",!0),"cSpell.enableLanguage":DS,"cSpell.disableLanguage":bS,"cSpell.enableForGlobal":async()=>_s(await As(Vt.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>_s(await As(Vt.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>Ro(await As(Vt.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>_s(await As(Vt.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>_s(await As(Vt.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>Ro(await As(Vt.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>Ro(await As(Vt.ConfigurationTarget.Global)),"cSpell.enableCurrentLanguage":ES,"cSpell.disableCurrentLanguage":xS,"cSpell.editText":CV(),"cSpell.logPerfTimeline":LV,"cSpell.addWordToCSpellConfig":hV,"cSpell.addIssuesToDictionary":_V,"cSpell.createCustomDictionary":OV,"cSpell.createCSpellConfig":qV,"cSpell.openFileAtLine":KV};function Mc(t,e,n=rS){let i=Promise.resolve(t).then(()=>{});return An(i,e,n)}var mV="fixSpellingWithRenameProvider",yV="advanced.feature.useReferenceProviderWithRename",vV="advanced.feature.useReferenceProviderRemove";function CV(){return async function(e,n,i){let r=bn("client").client,s=Se.workspace.textDocuments.find(a=>a.uri.toString()===e);if(!s)return;if(s.version!==n)return Mc(Se.window.showInformationMessage("Spelling changes are outdated and cannot be applied to the document."),"handlerApplyTextEdits");if(i.length===1){let a=Se.workspace.getConfiguration(vn,s);if(a.get(mV)){let c=!!a.get(yV),d=$V(a.get(vV)),p=r.protocol2CodeConverter.asTextEdit(i[0]);if(await SV(s,p,{useReference:c,removeRegExp:d}))return}}return await DV(s.uri,i)?void 0:Mc(Se.window.showErrorMessage("Failed to apply spelling changes to the document."),"handlerApplyTextEdits2")}}async function SV(t,e,n){let{range:i,newText:r}=e;if(i.start.line!==i.end.line)return!1;let{useReference:s,removeRegExp:o}=n,a=await wV(t,i,s);if(!a||!a.contains(i))return!1;let c=a.start.character,d=i.start.character-c,p=i.end.character-c,m=t.getText(a),f=[m.slice(0,d),r,m.slice(p)].join(""),u=o?f.replace(o,""):f;try{let l=await Se.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,i.start,u).then(h=>h,h=>(console.log(h),!1));return!!l&&l.size>0&&await Se.workspace.applyEdit(l)}catch{return!1}}async function DV(t,e){let n=bn("client").client;function i(o){return n.protocol2CodeConverter.asTextEdit(o)}let r=new Se.WorkspaceEdit,s=e.map(i);r.set(t,s);try{return await Se.workspace.applyEdit(r)}catch{return!1}}async function bV(t,e){try{let n=await Se.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return Array.isArray(n)?n.find(i=>i.range.contains(e)&&i.uri.toString()===t.toString()):void 0}catch{return}}async function wV(t,e,n){if(n)return(await bV(t.uri,e))?.range;let i=t.getWordRangeAtPosition(e.start);if(!(!i||!i.contains(e)))return i}function sA(t,e){return An(bn("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function TV(t,e){return An(bn("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function oA(t,e){return Se.commands.registerCommand(t,_c(e,`Register command: ${t}`))}function uA(){let t=Object.entries(gV).map(([n,i])=>oA(n,i)),e=Object.entries(ZH).map(([n,i])=>oA(n,i));return[...t,...e]}function EV(t,e){return zr(t,fF,e)}function vS(t,e){return console.log("addWordToWorkspaceDictionary %o",arguments),zr(t,dF,e)}function CS(t){return zr(t,lF,void 0)}function zr(t,e,n){return An(xV(t,e,n),"addWordToTarget")}function xV(t,e,n){return n=Ve(n),bn("dictionaryHelper").addWordsToTargets(t,e,n)}function _V(){return An(bn("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function uf(t,e,n){return An(kV(t,e,n),df("addIgnoreWordsToTarget",void 0,n))}async function kV(t,e,n){n=Ve(n);let i=await kS(n),r=e?i.filter(s=>s.scope===pi(e)):i;return YC(r,t)}function FV(t,e){return SS(t,Vt.ConfigurationTarget.WorkspaceFolder,e)}function AV(t,e){return SS(t,Vt.ConfigurationTarget.Workspace,e)}function PV(t){return SS(t,Vt.ConfigurationTarget.Global,void 0)}function SS(t,e,n){return An(RV(t,e,n),df("removeWordFromTarget",e,n))}function RV(t,e,n){n=Ve(n);let i=yF(e,n,void 0);return bn("dictionaryHelper").removeWordsFromTargets(t,[i],n)}function DS(t,e){return lf(t,Ve(e),void 0,!0)}function bS(t,e){return lf(t,Ve(e),void 0,!1)}function lf(t,e,n,i){return An(async()=>{let r=await(n?IV(n,e):kS(e));return Ec(t,i,r)},df(`enableDisableLanguageId enable: ${i}`,n,e))}function wS(t,e,n,i,r){return An(async()=>{let{targets:s,scopes:o}=await _S(n||Vt.ConfigurationTarget.Global,e,i);return $d(t,r,s,o)},df(`enableDisableLocale enable: ${r}`,n,e))}function TS(t,e,n){let i=typeof t=="boolean"?t?Vt.ConfigurationTarget.Global:Vt.ConfigurationTarget.Workspace:t,r=tS(i);return wS(e,r.uri,r.target,r.configScope,n)}function ES(){return An(async()=>{let t=Se.window.activeTextEditor?.document;if(!t)return;let e=await Nc(t);return JC(e,t.languageId)},"enableCurrentLanguage")}function xS(){return An(async()=>{let t=Se.window.activeTextEditor?.document;if(!t)return;let e=await Nc(t);return XC(e,t.languageId)},"disableCurrentLanguage")}async function _S(t,e,n,i){let r=i?[qC(t)]:Zk(t),s=bc(xs,Dc,{dictionary:!1});return e=Ve(e),{targets:(await(e?kS(e,s):Nc(Se.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:r}}async function IV(t,e,n){let i=await _S(t,e,n),{targets:r,scopes:s}=i,o=new Set(s);return r.filter(a=>o.has(a.scope))}async function Nc(t,e=Ld){let{uri:n,languageId:i}=t||{},s=(await bn("client").getConfigurationForDocument({uri:n,languageId:i})).configTargets.map(tf);return Bd(s,e)}async function kS(t,e=Ld){t=Ve(t);let n=t?await MV(t):Se.window.activeTextEditor?.document;return Nc(n,e)}async function MV(t){let e=af(t);return e||((await Se.workspace.fs.stat(t)).type!==Se.FileType.File?{uri:t}:await Se.workspace.openTextDocument(t))}var aA=new Intl.Collator().compare;function NV(t,e){return async function(){let n=Se.window.activeTextEditor?.document,i=Se.window.activeTextEditor?.selection,r=i&&n?.getWordRangeAtPosition(i.active),s=n?Xn(n.uri):void 0,o=er(OT(n,i,s)||[]);if(o.length){let p=i?.anchor.isEqual(i.active)&&o.length===1?o:await cA(o.sort(aA),{title:t,placeHolder:"Choose words"});return p?e(p.join(" "),n?.uri):void 0}if(!r||!i||!n||!n.getText(r)){let p=await Se.window.showInputBox({title:t,prompt:t});return p?e(p,n?.uri):void 0}let a=i.contains(r)?n.getText(i):n.getText(r),c=er(a),d=c.length>1?await cA(c.sort(aA),{title:t,placeHolder:"Choose words"}):[await Se.window.showInputBox({title:t,prompt:t,value:c[0]})];if(d)return e(d.join(" "),n?.uri)}}async function cA(t,e){if(t.length<=1){let r=await Se.window.showInputBox({...e,value:t[0]});return r?[r]:void 0}let n=t.map(r=>({label:r,picked:!0}));return(await Se.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(r=>r.label)}function df(t,e,n){let i=e?pi(e):"";return i?`${t} ${i} ${Ve(n)}`:`${t} ${Ve(n)}`}async function lA(){let t=Se.window.activeTextEditor?.document,e=Se.window.activeTextEditor?.selection,n=e&&t?.getWordRangeAtPosition(e.active),i=t?Xn(t.uri):void 0,s=cg(t,e,i)?.[0]||n,o=s&&i?.filter(m=>!!m.range.intersection(s));if(!t||!e||!s||!o)return Mc(Se.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(Vi(yn.suggestionMenuType,t)==="quickFix")return await Se.commands.executeCommand("editor.action.quickFix");let c=await bn("client").requestSpellingSuggestions(t,s,o);if(!c||!c.length)return Mc(Se.window.showInformationMessage(`No Suggestions Found for ${t.getText(s)}`),"actionSuggestSpellingCorrections");let d=c.map(m=>({label:m.title,_action:m})),p=await Se.window.showQuickPick(d);if(p&&p._action.command){let{command:m,arguments:f=[]}=p._action.command;Se.commands.executeCommand(m,...f)}}async function OV(){let t=await Nc(Se.window.activeTextEditor?.document),e=await Ud(t);if(!e)return;let n=Sc(e);n&&await bn("dictionaryHelper").createCustomDictionary(n)}function LV(){Vr.getEntries().forEach(t=>{console.log(t.name,nf(t.startTime),t.duration)})}function gr(t,e){return(n,i)=>t(n,e,i)}async function qV(){let t=await QC(Se.window.activeTextEditor?.document.uri);if(t){let e=await Se.window.showTextDocument(t);sf(e,'"cspell":')}}function UV(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function BV(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function cf(t,e){let n=Se.window.activeTextEditor;if(!n)return;let i=n.document,r=n.selection,s=i?Xn(i.uri):void 0,o=s?t==="next"?UV(s,r):BV(s,r):void 0,a=o?.range;if(!i||!r||!a||!o)return Mc(Se.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,Se.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new Se.Selection(a.start,a.end),e)return lA()}async function KV(t,e){t=Ve(t);let n=e&&{selection:jV(e)}||void 0;await Se.window.showTextDocument(t,n)}function jV(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new Se.Position(t-1,0);return new Se.Range(e,e)}function $V(t,e="g"){if(t)try{return Qd(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}var ff=require("vscode");var HV=vr;function*fA(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,i]of Object.entries(e))yield*fA(`${t}.${n}`,i)}var dA=new Map,hA=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),pA=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),VV={output:!1};async function gA(t){let n=[...fA(HV,t)].filter(([r,s])=>s!==dA.get(r)),i=n.map(([r,s])=>ff.commands.executeCommand("setContext",r,s));n.forEach(([r,s])=>dA.set(r,s)),await Promise.all(i)}var FS=new WeakMap,zV=1e3;async function Oc(t,e){let n={documentConfigContext:{...hA},editorMenuContext:{...pA}};if(!e){await gA(n);return}if(VV[e.uri.scheme]===!1)return;let i=e,r=FS.get(i);if(r)return r.stale=!r.pending,r.value;let s={value:GV(t,i),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,zV)});function o(){FS.delete(i),s.stale&&Oc(t,i)}return FS.set(i,s),s.value}async function GV(t,e){let n={documentConfigContext:{...hA},editorMenuContext:{...pA}},i=t.getConfigurationForDocument(e),r=Xn(e.uri),s=await i,{agg:o,matrix:a,configFoundInWorkspace:c}=JV(s.configTargets),d=(o.dictionary||0)-(a.dictionary.user||0),p=!!o.cspell,m=d>0,f=r.length>0,u=r.length>1,l=!c||!o.cspell,h=!m,y=!!a.vscode.workspace,S=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:p,usesCustomDictionary:m,hasIssues:f,showCreateConfig:l,showCreateDictionary:h};let D=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=D&&f&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=D&&f&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=D&&f&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=D&&f&&S,n.editorMenuContext.addWordToWorkspaceSettings=D&&f&&y,n.editorMenuContext.addWordToUserSettings=D&&f&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=D&&f&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=D&&f&&p&&!m,n.editorMenuContext.addIssuesToDictionary=D&&f&&u,n.editorMenuContext.createCustomDictionary=D&&h,n.editorMenuContext.createCSpellConfig=D&&l,n.editorMenuContext.addIgnoreWord=D&&f,n.editorMenuContext.showSuggestions=(D||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&f,await gA(n)}function JV(t){let e={},n={vscode:{},cspell:{},dictionary:{}},i=!1;for(let r of t)e[r.kind]=(e[r.kind]||0)+1,e[r.scope]=(e[r.scope]||0)+1,n[r.kind][r.scope]=(n[r.kind][r.scope]||0)+1,i=i||r.kind==="cspell"&&!!ff.workspace.getWorkspaceFolder(Ve(r.configUri));return{agg:e,matrix:n,configFoundInWorkspace:i}}var CA=require("util"),vt=ke(require("vscode"));var Lc=ke(_o());var AS=ke(_o());function mA(t){async function e(i,r){let s=new AS.RequestType(i);return await t.sendRequest(s,r)}return{matchPatternsInDocument:i=>e("matchPatternsInDocument",i)}}var XV=["--nolazy","--inspect=60148"],YV=!1,hf=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),i={documentSelector:[{scheme:"file"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},r=[],s={execArgv:r},o={execArgv:[...r,...XV]},a={run:{module:n,transport:Lc.TransportKind.ipc,options:s},debug:{module:n,transport:Lc.TransportKind.ipc,options:o}};this.client=new Lc.LanguageClient("cspell-pattern-matcher",a,i),this.client.registerProposedFeatures(),this.serverApi=mA(this.client),zi(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,i){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:i})}dispose(){PS("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){PS("waiting initWhenReady"),await this.onReady(),PS("done initWhenReady")}},PS=(...t)=>{YV&&console.log(...t)};var Pi=ke(require("vscode")),pf=class{_onDidChangeTreeData=new Pi.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?QV(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function QV(t){let e={treeItem:new Pi.TreeItem("root",Pi.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>ZV(e,...n)),e}function ZV(t,e,n){return{parent:t,treeItem:new Pi.TreeItem(e,Pi.TreeItemCollapsibleState.Expanded),children:n.map(yA)}}function yA(t){let n={treeItem:new RS(t)};return n.children=t8(n),n}function e8(t){return t.length<=50?t:t.substr(0,50-1)+"\u2026"}function t8(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((i,r)=>({name:`${n}.${r}`,defs:[i]})).map(yA)}var RS=class extends Pi.TreeItem{constructor(n){super(e8(n.name),n.defs.length>1?Pi.TreeItemCollapsibleState.Expanded:Pi.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:i,errorMsg:r,toolTip:s,count:o}=n8(n),a=r?" "+r:"",c=[`${i}ms`,`(${o})`,a].filter(d=>!!d);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function n8(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),i=t.defs.map(o=>o.regexp.toString()),r=i.length>1?"Multi Pattern":i.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:r,count:s}}var i8=5;function SA(t,e){let n=new Set,i=new pf,r;vt.window.registerTreeDataProvider("cSpellRegExpView",i);let s,o=vt.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:vt.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=vA(),c=a?vt.window.activeTextEditor:void 0,d,p=[],m=_c(f,"updateDecorations",Vd);async function f(){if(!a||!c){l();return}let Z=c.document,le=Z.version,ce=await e.getConfigurationForDocument(Z),X=r8(ce.docSettings,p),H=X.map(de=>de.pattern),ee=d?0:-1,re=await $(),we={patterns:ce.docSettings?.patterns||ce.settings?.patterns||[]};await re.matchPatternsInDocument(Z,H,we).then(de=>{if(!vt.window.activeTextEditor||Z.version!==le||vt.window.activeTextEditor?.document!=Z||de.message)return;let ue=de&&new Map;de?.patternMatches.forEach((it,rt)=>{let Bt=X[rt].category,Kt=ue?.get(Bt)||[];Kt.push(it),ue?.set(Bt,Kt)}),i.refresh(ue);let Ke=vt.window.activeTextEditor,je=de.patternMatches.filter((it,rt)=>rt===ee).map(u).reduce((it,rt)=>it.concat(rt),[]).map(it=>{let{range:rt,message:Bt}=it,Kt=Ke.document.positionAt(rt[0]),Cn=Ke.document.positionAt(rt[1]);return{range:new vt.Range(Kt,Cn),hoverMessage:Bt}});Ke.setDecorations(o,je)})}function u(Z){let{name:le,defs:ce}=Z;return ce.map(X=>X.matches.map(H=>({range:H,elapsedTime:X.elapsedTime})).map(({range:H,elapsedTime:ee})=>({range:H,message:h(le,ee)}))).reduce((X,H)=>X.concat(H),[])}function l(){c?.setDecorations(o,[])}function h(Z,le){return new vt.MarkdownString().appendText(Z+" "+le.toFixed(2)+"ms")}function y(){s&&(clearTimeout(s),s=void 0),s=setTimeout(m,100)}c&&y(),vt.window.onDidChangeActiveTextEditor(Z=>{a&&(c=Z,Z&&y())},null,t.subscriptions),vt.workspace.onDidChangeTextDocument(Z=>{a&&c&&Z.document===c.document&&y()},null,t.subscriptions);function S(){}function D(Z){function le(X){try{Qd(X,"g")}catch(H){return(0,CA.format)(H)}}d=Z||d;let ce=vt.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:d?.toString(),validateInput:le}).then(X=>{d=X||void 0,F(d),y()});return zi(ce,"userTestRegExp")}function x(Z){return typeof Z=="string"&&!!Z}function F(Z){p=[...new Set([Z].concat(p))].filter(x),p.length=Math.min(p.length,i8)}function A(Z){d===Z?d=void 0:d=Z,F(d),y()}function N(Z){if(Z?.treeItem?.pattern){y();let{defs:le,name:ce}=Z.treeItem.pattern;D(le[0]?.regexp||ce)}}function q(){let Z=a;a=vA(),Z!=a&&(a?(c=vt.window.activeTextEditor,y()):l())}function $(){r||(r=hf.create(t));let Z=r;return Z.onReady().then(()=>Z)}function J(){for(let Z of n)Z.dispose();n.clear()}t.subscriptions.push({dispose:J},vt.commands.registerCommand("cSpellRegExpTester.testRegExp",_c(D,"testRegExp",iS)),vt.commands.registerCommand("cSpellRegExpTester.selectRegExp",A),vt.commands.registerCommand("cSpellRegExpTester.editRegExp",N),vt.workspace.onDidChangeConfiguration(q))}function r8(t,e){let n=[];return e.forEach(i=>n.push({category:"User Patterns",pattern:i})),t?.includeRegExpList?.forEach(i=>n.push({category:"Include Regexp List",pattern:i.toString()})),t?.ignoreRegExpList?.forEach(i=>n.push({category:"Exclude Regexp List",pattern:i.toString()})),t?.patterns?.forEach(i=>n.push({category:"Patterns",pattern:s8(i)})),n}function s8(t){let{name:e,pattern:n}=t;function i(s){return s.toString()}function r(s){return Array.isArray(s)?s.map(i):i(s)}return{name:e,pattern:r(n)}}function vA(){return!!vt.workspace.getConfiguration(vr)?.get("experimental.enableRegexpView")}var Rs=ke(DA()),Sf=require("util"),At=ke(require("vscode")),Ji=require("vscode"),qA=ke(EA());var qc="cSpell.displayCSpellInfo";var Cf=ke(Zi()),Mo=ke(require("vscode")),BS=require("vscode");function xA(t){return e=>e===void 0?t:e}function LS(t){return e=>e===void 0?void 0:t(e)}function _A(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let i of e)n=i(n);return n}return t}async function PA(t,e,n,i){let r=e||D8(),s=eS(r),o=await n.getConfigurationForDocument(t);return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:IA(o.settings),configs:m8(s,o,t,i),workspace:A8(n.allowedSchemas,Mo.workspace),activeFileUri:t&&t.uri.toString(),activeFolderUri:r?.toString()}}var kA={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},RA=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],g8=new Map(RA.map((t,e)=>[t,e]));function m8(t,e,n,i){return{user:US(1,t),workspace:US(2,t),folder:US(3,t),file:C8(e,n,i)}}function FA(t){return g8.get(t)||0}function y8(t,e){return FA(t)>FA(e)?t:e}function qS(t,e,n){for(let i=t;i>0;--i){let r=RA[i],s=n[r];if(s&&s[e])return r}return"defaultValue"}function US(t,e){let n=qS(t,"language",e),i=qS(t,"enabledLanguageIds",e),r=qS(t,"enableFiletypes",e),s=P8(e[i]?.enabledLanguageIds,e[r]?.enableFiletypes),o=y8(i,r);return{inherited:{locales:kA[n],languageIdsEnabled:kA[o]},locales:MA(e[n]?.language),languageIdsEnabled:s}}function v8(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&(0,Cf.uriToName)(Ve(e.configUri))}))}function C8(t,e,n){if(!e)return;let{uri:i,fileName:r,languageId:s,isUntitled:o}=e,{languageEnabled:a,docSettings:c,fileEnabled:d,fileIsExcluded:p,fileIsIncluded:m,gitignoreInfo:f,excludedBy:u}=t,l=new Set(c&&c.dictionaries||[]),h=IA(c).filter(x=>l.has(x.name));n(`extractFileConfig languageEnabled: ${a?"true":"false"}`);let y=Mo.workspace.getWorkspaceFolder(i);function S(){if(!f)return;let{glob:x,gitIgnoreFile:F,line:A,matched:N,root:q}=f,$=BS.Uri.file(F);return{matched:N,glob:x,line:A,root:q,gitignoreFileUri:$.toString(),gitignoreName:(0,Cf.uriToName)($)}}return{uri:i.toString(),fileName:r,isUntitled:o,languageId:s,dictionaries:h,languageEnabled:a,fileEnabled:d,configFiles:T8(t),fileIsExcluded:p,fileIsIncluded:m,fileIsInWorkspace:!!y||o,excludedBy:v8(u),gitignoreInfo:S(),blockedReason:t.blockedReason}}function S8(){return Mo.workspace.workspaceFolders?.[0]}function D8(){return S8()?.uri}function b8(t){return Mo.workspace.asRelativePath(t,!0)}function w8(t){return t.scheme==="file"?Mo.workspace.asRelativePath(t,!0):t.toString()}function T8(t){let{configFiles:e,configTargets:n}=t,i=n.filter(E8).map(({name:s,configUri:o})=>({name:s,uri:o}));return i.length?i:e.map(s=>({name:(0,Cf.uriToName)(Ve(s)),uri:s}))}function E8(t){return t.kind==="cspell"}var x8=/\.txt$/,_8=/(?:@|%40)cspell\//;function IA(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(k8).map(r=>[r.name,r]));return(t.languageSettings||[]).forEach(r=>{let s=MA(r.locale||r.local),o=NA(r.languageId);(r.dictionaries||[]).forEach(c=>{let d=n.get(c);d&&(d.locales=AA(d.locales,s),d.languageIds=AA(d.languageIds,o))})}),[...n.values()]}function k8(t){let e=F8(t),n=e?.toString(),i=n&&(t.addWords||x8.test(n)&&!_8.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:i?n:void 0,uriName:i&&e?w8(e):void 0}}function F8(t){if(!(!t.path&&!t.file))return BS.Uri.joinPath(Ve(t.path||""),t.file||"")}function MA(t){return NA(t)}function NA(t){return _A(t,LS(e=>typeof e=="string"?e:e.join(",")),LS(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),xA([]))}function AA(t,e){return t.concat(e).filter((0,Ft.uniqueFilter)())}function A8(t,e){function n(c){let{name:d,index:p}=c;return{uri:c.uri.toString(),name:d,index:p}}function i(c){let{fileName:d,languageId:p,isUntitled:m}=c;return{uri:c.uri.toString(),fileName:b8(d),languageId:p,isUntitled:m}}let{name:r,workspaceFolders:s,textDocuments:o}=e;return{name:r,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(i)}}function P8(t=[],e=[]){let n=new Set;return R8(t.concat(e)).map(I8).forEach(({enable:i,lang:r})=>{i?n.add(r):n.delete(r)}),[...n].sort()}function R8(t){return t.map(n=>n.replace(/!/g,"~")).sort().map(n=>n.replace(/~/g,"!"))}function I8(t){let[e,n]=M8(t);return{enable:!(e.length&1),lang:n}}function M8(t){let n=t.match(/^!*/)?.[0]||"";return[n,t.slice(n.length)]}var N8="packages/client/settingsViewer/webapp",UA="Spell Checker Preferences",O8=(0,Sf.promisify)(setTimeout),mr,BA=!1,OA={user:At.ConfigurationTarget.Global,workspace:At.ConfigurationTarget.Workspace,folder:At.ConfigurationTarget.WorkspaceFolder};function KA(t,e){t.subscriptions.push(At.commands.registerCommand(qc,async()=>{let n=At.window.activeTextEditor?.viewColumn||At.ViewColumn.Active;mr?mr.reveal(n):mr=await L8(t,n,e),mr.updateView()}),{dispose:()=>{if(mr){let n=mr;mr=void 0,n.dispose()}}})}var LA=500;async function L8(t,e,n){let i=t.asAbsolutePath(N8),r=await N(),s=t.extensionPath,o,a=[],c={enableScripts:!0,enableCommandUris:!0,localResourceRoots:[Ji.Uri.file(i),Ji.Uri.file(s)]},d=At.window.createWebviewPanel("cspellConfigViewer",UA,e,c),p=new qA.MessageBus(U8(d),console);async function m(q,$){let J=q&&af(q);return PA(J,$,n,Gi)}async function f(){Gi(`refreshState: uri "${r.activeDocumentUri}"`),await O8(500),r.settings=await m(r.activeDocumentUri,r.activeFolderUri)}function u(){o?.emit()}a.push(Rs.stream(q=>(o=q,()=>{o=void 0})).throttle(250).observe(()=>{let{activeTabName:q,settings:$}=r;Gi(`notifyView: tab ${q}`),p.postMessage({command:"ConfigurationChangeMessage",value:{activeTab:q,settings:$}})}));async function l(){BA=Vi("logLevel",void 0)==="Debug",Gi("refreshStateAndNotify"),await f(),await u()}function h(q){r.activeDocumentUri=F(q)||r.activeDocumentUri}function y(q){h(A(q))}return a.push(Rs.stream(q=>{At.workspace.onDidChangeConfiguration(()=>q.value({}),null,t.subscriptions)}).throttle(1e3).observe(()=>l())),At.window.onDidChangeActiveTextEditor(async q=>{q&&(y(q),await l())},null,t.subscriptions),p.listenFor("RequestConfigurationMessage",()=>l),p.listenFor("SelectTabMessage",q=>{Gi(`SelectTabMessage: tab ${q.value}`),r.activeTabName=q.value}),p.listenFor("SelectFolderMessage",q=>{Gi(`SelectFolderMessage: folder '${q.value}'`);let $=q.value,J=At.workspace.workspaceFolders&&At.workspace.workspaceFolders[0];return r.activeFolderUri=$&&Ji.Uri.parse($)||J&&J.uri,l()}),p.listenFor("SelectFileMessage",q=>{Gi(`SelectFolderMessage: folder '${q.value}'`);let $=q.value;return r.activeDocumentUri=$&&Ji.Uri.parse($)||r.activeDocumentUri,l()}),p.listenFor("ConfigurationChangeMessage",()=>{}),p.listenFor("OpenLinkMessage",q=>{let $=Ji.Uri.parse(q.value.uri);switch($.scheme){case"file":return At.window.showTextDocument($);case"command":return q8($)}throw new Error(`Unknown link: ${$.toString()}`)}),a.push(Rs.stream(q=>{p.listenFor("EnableLanguageIdMessage",$=>q.value($))}).debounce(20).map(q=>{let{target:$,languageId:J,enable:Z,uri:le}=q.value;Gi(`EnableLanguageIdMessage: ${$}, ${J}, ${Z?"enable":"disable"}`);let ce=le?Ji.Uri.parse(le):void 0;return lf(J,ce,$?OA[$]:void 0,Z)}).flatMap(x(LA)).observe(l)),a.push(Rs.stream(q=>{p.listenFor("EnableLocaleMessage",$=>q.value($))}).debounce(20).map(q=>{let{target:$,locale:J,enable:Z,uri:le}=q.value;Gi(`EnableLocaleMessage: ${$}, ${J}, ${Z?"enable":"disable"}`);let ce=le?Ji.Uri.parse(le):void 0,X=OA[$];return wS(J,Ve(le),X,ce,Z)}).flatMap(x(LA)).observe(l)),d.onDidDispose(D,null,t.subscriptions),d.onDidChangeViewState(()=>l(),void 0,t.subscriptions),{panel:d,async updateView(){await B8(d,i),l()},reveal(){return d.reveal()},dispose:D};function D(){mr=void 0,o=void 0,a.forEach(q=>q.unsubscribe()),a.length=0}function x(q){return $=>{let J=Rs.fromPromise($);return q?J.delay(q):J}}function F(q){return q&&n.allowedSchemas.has(q.scheme)?q:void 0}function A(q){return F(q&&q.document.uri)}async function N(){let q=A(At.window.activeTextEditor),$=q&&At.workspace.getWorkspaceFolder(q)||At.workspace.workspaceFolders&&At.workspace.workspaceFolders[0],J=$&&$.uri,Z=await m(q,J);return{activeTabName:q?"File":"User",activeDocumentUri:q,activeFolderUri:J,settings:Z}}}function q8(t){throw new Error("not implemented.")}function U8(t){let e,n=t.webview.onDidReceiveMessage(r=>{e&&e({data:r})}),i={set onmessage(r){e=r},postMessage(r){return t.webview.postMessage(r),i},disposable:n};return i}async function B8(t,e){Gi("updateView");let n=K8(t.webview,e);t.title=UA,t.webview.html=n}function K8(t,e){let n=Ji.Uri.file(e);return`
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CSpell Settings Viewer</title>
    </head>
    <body><div id="root">Root</div><script type="text/javascript" src="${t.asWebviewUri(Ji.Uri.joinPath(n,"index.bundle.js"))}"></script></body>
</html>
`}function Gi(...t){if(!BA)return;let e=(0,Sf.format)(...t);console.log(`${new Date().toISOString()} InfoView -- ${e}`)}function jA(){mr?.updateView()}var HA=ke($A()),Tf=ke(require("fs/promises")),VA=require("os"),mi=ke(require("vscode")),Uc=require("vscode"),HS=ke(Ms());function KS(t){return t.map(z8)}function z8(t){let e=Sc(t);if(e)return Ic(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return ef(t.dictionaryUri,t.name)}var WA="custom-dictionary",G8=`# Custom Dictionary Words
`,bf=class{constructor(e){this.client=e}async addWordsToTargets(e,n,i){let r=await this.resolveTargets(n,i);if(r)return this.addWordToDictionaries(e,r)}addWordsToConfigRep(e,n){let i=Ic(n);return this.addWordToDictionary(e,i)}addWordToDictionaries(e,n){return Promise.all(n.map(r=>this.addWordToDictionary(e,r))).then(()=>{})}async addWordToDictionary(e,n){e=er(e);try{await n.addWords(e)}catch(i){throw new WS(`Unable to add "${e}"`,n,e,i)}}async removeWordsFromTargets(e,n,i){e=er(e);let r=await this.resolveTargets(n,i);if(r)return this.removeWordFromDictionaries(e,r)}removeWordsFromConfigRep(e,n){let i=Ic(n);return this.removeWordFromDictionary(e,i)}removeWordFromDictionaries(e,n){return Promise.all(n.map(r=>this.removeWordFromDictionary(e,r))).then(()=>{})}async removeWordFromDictionary(e,n){e=er(e);try{await n.removeWords(e)}catch(i){throw new wf(`Unable to remove "${e}" from "${n.name}"`,n,i)}}async addIssuesToDictionary(e){if(e=e||mi.window.activeTextEditor?.document,!e)return;let n=J8(e)?e:await mi.workspace.openTextDocument(e),i=Xn(n.uri);if(!i.length)return;let r=new Set(i.map(s=>n.getText(s.range)));return this.addWordsToTargets([...r],Od,n.uri)}async createCustomDictionary(e,n){let i=await X8(e);if(!i)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,i.relPath,n||i.name,i.scope),Es.isCSpellConfigRepository(e)){let r=await mi.window.showTextDocument(e.configFileUri,{viewColumn:mi.ViewColumn.Active});sf(r,"dictionaryDefinitions")}await mi.window.showTextDocument(i.uri,{viewColumn:mi.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,i,r){let s={name:i,path:n,addWords:!0,scope:r??e.defaultDictionaryScope};return nz(e,s)}async getDocConfig(e){if(e){let n=await mi.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n)}return this.client.getConfigurationForDocument(void 0)}async resolveTargets(e,n){if(typeof e!="function")return KS(e);let r=(await this.getDocConfig(n)).configTargets.map(tf),s=await e(r);return s&&KS(s)}};function J8(t){return!!t.uri}async function X8(t){let e=Y8(t);if(e)return await tz(e.uri),e}function Y8(t){return Es.isCSpellConfigRepository(t)?Q8(t):Ao.isVSCodeRepository(t)?Z8(t):void 0}function Q8(t){let e=t.defaultDictionaryScope,n=$S(e),i=HS.Utils.dirname(t.configFileUri),r=`${il}/${n}.txt`,s=Uc.Uri.joinPath(i,r),o="./"+r;return{uri:s,relPath:o,name:n,scope:e}}function Z8(t){let e=pi(t.target);if(t.target===mi.ConfigurationTarget.Global){let c=$S(e),d=`${il}/${c}.txt`,p=Uc.Uri.file((0,VA.homedir)()),m=Uc.Uri.joinPath(p,d),f="~/"+d;return{uri:m,relPath:f,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let i=e==="folder"?"-"+ez(n.name):"",r=$S(pi(t.target))+i,s=`${il}/${r}.txt`,o=Uc.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:r,scope:e}}function $S(t){return t?`${WA}-${t}`:WA}function ez(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function tz(t,e=!1){e=e||!await(0,HA.fileExists)(t),e&&(await Tf.mkdir(HS.Utils.dirname(t).fsPath,{recursive:!0}),await Tf.writeFile(t.fsPath,G8,"utf8"))}async function nz(t,e){let n=Es.isCSpellConfigRepository(t)?iz(e):Ao.isVSCodeRepository(t)?rz(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function iz(t){let e=t.name;return OC([yn.dictionaries,yn.dictionaryDefinitions],n=>{let{dictionaries:i=[],dictionaryDefinitions:r=[]}=n,s=new Map(r.map(a=>[a.name,a])),o=new Set(i);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function rz(t){let e=t.name;return OC([yn.customDictionaries,yn.customFolderDictionaries,yn.customWorkspaceDictionaries,yn.customUserDictionaries],n=>{let{customDictionaries:i,...r}=sz(n);return i[e]=t,{...r,customDictionaries:i}})}function sz(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:i=[],customUserDictionaries:r=[]}=t;return{customDictionaries:{...[r.map(jS("user")),i.map(jS("workspace")),n.map(jS("folder"))].reduce(oz,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function jS(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function oz(t,e){return e.reduce(az,t)}function az(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}var wf=class extends Error{constructor(n,i,r){super(n);this.dictTarget=i;this.cause=r}},WS=class extends wf{constructor(n,i,r,s){super(n,i,s);this.words=r;this.cause=s}};function zA(){kD("dictionaryHelper",()=>new bf(bn("client")))}var Is=ke(Zi()),GA=ke(require("path")),Rn=require("vscode"),Xr=ke(require("vscode"));var lz="spell checker status id",No="Spell";function JA(t,e){let n=Rn.workspace.getConfiguration().get(vn),{showStatusAlignment:i}=n,r=m(i),s=Rn.window.createStatusBarItem(lz,r);s.name="Code Spell Checker";let o="",a;function c(D,x){if(a){a.stale=a.stale||!a.pending||a.document!==D,a.document=D,a.showClock=x;return}if((x??!0)&&(s.text=`$(clock) ${No}`,s.tooltip="cSpell waiting...",s.show()),!D)return;let F={document:D,showClock:x,value:d(D,x).catch(()=>{}),pending:!0,stale:!1};F.value.catch(()=>{}).finally(()=>{A(F,!0)});function A(N,q=!1){if(N.pending=!1,a===N){if(N.stale){a=void 0,c(N.document,N.showClock);return}q?setTimeout(()=>A(N),1e3):a=void 0}}a=F}async function d(D,x){if((x??!0)&&(s.text=`$(clock) ${No}`,s.tooltip="cSpell waiting...",s.show()),!D)return;let{uri:F,languageId:A=""}=D;o=F.toString();let N=await e.isSpellCheckEnabled(D),q=Rn.window.activeTextEditor?.document?.uri;if(q?.toString()===N.uri.toString()||!q||q.scheme!=="file"){let $=Xn(q),{languageEnabled:J=!0,fileEnabled:Z=!0}=N,ce=J&&Z?"is":"is NOT",X=J?"":`The "${A}" filetype is not enabled.`,H=p(N),ee=GA.basename(F.fsPath),re=`Issues: ${$.length}`;s.text=dz({languageEnabled:J,fileEnabled:Z,diags:$});let we=[re,`"${ee}" ${ce} spell checked.`,X,H].filter(de=>!!de).join(`
`);s.tooltip=we,s.command=qc,s.show()}}function p(D){if(D.blockedReason)return D.blockedReason.message;if(D.fileEnabled)return"";if(D.gitignored)return"The file is excluded by .gitignore.";if(!D.excludedBy?.length)return"The file path is excluded in settings.";let x=D.excludedBy[0],{glob:F,name:A,id:N}=x,q=x.configUri&&(0,Is.uriToName)(Xr.Uri.parse(x.configUri));return`File excluded by ${JSON.stringify(F)} in ${q||N||A||"settings"}`}function m(D){switch(D){case"Left":return Xr.StatusBarAlignment.Left;case"Right":return Xr.StatusBarAlignment.Right}return Xr.StatusBarAlignment.Left}function f(D,x){let F=(0,Is.isSupportedDoc)(D)?D:S(),N=Rn.workspace.getConfiguration(void 0,D).get(vn),{enabled:q,showStatus:$=!0}=N;if(!$){s.hide();return}q?c(F,x):(s.text=`$(stop) ${No}`,s.tooltip="Enable spell checking",s.command="cSpell.enableForGlobal",s.show())}function u(D){f(D?.document)}function l(D){for(let x of D.uris)if(x.toString()===o){setTimeout(()=>f(void 0,!1),250);break}}function h(D){let x=S();D.affectsConfiguration(vn,x?.uri)&&(setTimeout(()=>f(x,!1),250),setTimeout(()=>f(x,!1),2e3))}function y(D){if(!D)return!1;let x=D.document;return x?.uri&&(0,Is.isSupportedUri)(x.uri)}function S(){if(Rn.window.activeTextEditor&&y(Rn.window.activeTextEditor))return Rn.window.activeTextEditor.document;let D=Rn.workspace.textDocuments.filter(Is.isSupportedDoc);if(o){let x=D.find(F=>F.uri.toString()===o);if(x)return x}return D[0]}return s.text="$(clock)",s.show(),t.subscriptions.push(Rn.window.onDidChangeActiveTextEditor(u),Rn.workspace.onDidChangeConfiguration(h),Rn.workspace.onDidCloseTextDocument(f),Xr.languages.onDidChangeDiagnostics(l),s),Rn.window.activeTextEditor&&u(Rn.window.activeTextEditor),{refresh(){let D=S();setTimeout(()=>f(D,!1),250)}}}function dz({languageEnabled:t,fileEnabled:e,diags:n}){return!t||!e?`$(exclude) ${No}`:n.length?`$(warning) ${n.length} ${No}`:`$(check) ${No}`}Vr.mark("cspell_done_import");zA();async function fz(t){Vr.mark("cspell_activate_start");let e=await Yd.create(t);t.subscriptions.push(e),Rf("client",e),Rf("extensionContext",t),SA(t,e),await e.start();let n=JA(t,e);function i(F=0){setTimeout(r,F)}function r(){kc(e.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{jA(),n.refresh()}).catch(()=>{})}function s(){i()}let o=In.workspace.createFileSystemWatcher(og);t.subscriptions.push(o,o.onDidChange(s),o.onDidCreate(s),o.onDidDelete(s),In.workspace.onDidSaveTextDocument(c),In.workspace.onDidRenameFiles(d),In.workspace.onDidDeleteFiles(p),In.workspace.onDidCreateFiles(m),In.workspace.onDidOpenTextDocument(f),In.window.onDidChangeActiveTextEditor(u),In.window.onDidChangeVisibleTextEditors(l),In.languages.onDidChangeDiagnostics(h),...uA(),In.workspace.onDidChangeConfiguration(a)),zF(t.subscriptions).catch(()=>{});function a(F){F.affectsConfiguration(vn)&&i()}function c(F){y([F.uri])}function d(F){let A=F.files.map(N=>N.newUri).concat(F.files.map(N=>N.oldUri));y(A)}function p(F){y(F.files)}function m(F){y(F.files)}function f(F){y([F.uri])}function u(F){zi(Oc(e,F?.document),"handleOnDidChangeActiveTextEditor")}function l(F){zi(Oc(e,In.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function h(F){let A=In.window.activeTextEditor;if(!A)return;new Set(F.uris.map(q=>q.toString())).has(A.document.uri.toString())&&setTimeout(()=>{zi(Oc(e,A.document),"handleOnDidChangeDiagnostics")},10)}function y(F){for(let A of F)if(ag.has(XA.Utils.basename(A))){i();break}}KA(t,e);function S(F){e.registerConfiguration(F)}let D={enableLocale:(F,A)=>TS(F,A,!0),disableLocale:(F,A)=>TS(F,A,!1)},x={registerConfig:S,triggerGetSettings:i,enableLanguageId:DS,disableLanguageId:bS,enableCurrentLanguage:ES,disableCurrentLanguage:xS,addWordToUserDictionary:CS,addWordToWorkspaceDictionary:vS,enableLocale:D.enableLocale,disableLocale:D.disableLocale,updateSettings:()=>!1,cSpellClient:()=>e,getConfigurationForDocument:F=>e.getConfigurationForDocument(F),enableLocal:D.enableLocale,disableLocal:D.disableLocale};return Vr.mark("cspell_activate_end"),Vr.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),x}Vr.mark("cspell_done_load");0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

kefir/dist/kefir.js:
  (*! Kefir.js v3.8.8
   *  https://github.com/kefirjs/kefir
   *)
*/
//# sourceMappingURL=extension.js.map
