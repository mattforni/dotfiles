"use strict";var cne=Object.create;var xm=Object.defineProperty;var une=Object.getOwnPropertyDescriptor;var lne=Object.getOwnPropertyNames;var dne=Object.getPrototypeOf,fne=Object.prototype.hasOwnProperty;var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Iu=(t,e)=>{for(var n in e)xm(t,n,{get:e[n],enumerable:!0})},Sm=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lne(e))!fne.call(t,i)&&i!==n&&xm(t,i,{get:()=>e[i],enumerable:!(r=une(e,i))||r.enumerable});return t},Ot=(t,e,n)=>(Sm(t,e,"default"),n&&Sm(n,e,"default")),oe=(t,e,n)=>(n=t!=null?cne(dne(t)):{},Sm(e||!t||!t.__esModule?xm(n,"default",{value:t,enumerable:!0}):n,t)),pne=t=>Sm(xm({},"__esModule",{value:!0}),t);var YM=P(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.ConfigFields=void 0;Rm.ConfigFields={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enabledFileTypes:"enabledFileTypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"}});var ZM=P(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.MessageTypes=Mu.IssueType=void 0;var QM;(function(t){t[t.spelling=0]="spelling",t[t.directive=1]="directive"})(QM||(Mu.IssueType=QM={}));Mu.MessageTypes={Debug:"Debug",Info:"Info",Warning:"Warning"}});var eU=P(OD=>{"use strict";Object.defineProperty(OD,"__esModule",{value:!0});OD.defineConfig=Fne;function Fne(t){return t}});var nU=P(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.defineConfig=vs.MessageTypes=vs.IssueType=vs.ConfigFields=void 0;var Ane=YM();Object.defineProperty(vs,"ConfigFields",{enumerable:!0,get:function(){return Ane.ConfigFields}});var tU=ZM();Object.defineProperty(vs,"IssueType",{enumerable:!0,get:function(){return tU.IssueType}});Object.defineProperty(vs,"MessageTypes",{enumerable:!0,get:function(){return tU.MessageTypes}});var Pne=eU();Object.defineProperty(vs,"defineConfig",{enumerable:!0,get:function(){return Pne.defineConfig}})});var TU=P((bf,YD)=>{(function(e,n){typeof bf=="object"&&typeof YD=="object"?YD.exports=n():typeof define=="function"&&define.amd?define([],n):typeof bf=="object"?bf.esprima=n():e.esprima=n()})(bf,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),s=n(8),o=n(15);function a(f,d,h){var g=null,m=function(A,j){h&&h(A,j),g&&g.visit(A,j)},y=typeof h=="function"?m:null,C=!1;if(d){C=typeof d.comment=="boolean"&&d.comment;var x=typeof d.attachComment=="boolean"&&d.attachComment;(C||x)&&(g=new r.CommentHandler,g.attach=x,d.comment=!0,y=m)}var T=!1;d&&typeof d.sourceType=="string"&&(T=d.sourceType==="module");var E;d&&typeof d.jsx=="boolean"&&d.jsx?E=new i.JSXParser(f,d,y):E=new s.Parser(f,d,y);var k=T?E.parseModule():E.parseScript(),L=k;return C&&g&&(L.comments=g.comments),E.config.tokens&&(L.tokens=E.tokens),E.config.tolerant&&(L.errors=E.errorHandler.errors),L}e.parse=a;function c(f,d,h){var g=d||{};return g.sourceType="module",a(f,g,h)}e.parseModule=c;function u(f,d,h){var g=d||{};return g.sourceType="script",a(f,g,h)}e.parseScript=u;function l(f,d,h){var g=new o.Tokenizer(f,d),m;m=[];try{for(;;){var y=g.getNextToken();if(!y)break;h&&(y=h(y)),m.push(y)}}catch(C){g.errorHandler.tolerate(C)}return g.errorHandler.tolerant&&(m.errors=g.errors()),m}e.tokenize=l;var p=n(2);e.Syntax=p.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===r.Syntax.BlockStatement&&o.body.length===0){for(var c=[],u=this.leading.length-1;u>=0;--u){var l=this.leading[u];a.end.offset>=l.start&&(c.unshift(l.comment),this.leading.splice(u,1),this.trailing.splice(u,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var u=this.trailing[c];u.start>=o.end.offset&&a.unshift(u.comment)}return this.trailing.length=0,a}var l=this.stack[this.stack.length-1];if(l&&l.node.trailingComments){var p=l.node.trailingComments[0];p&&p.range[0]>=o.end.offset&&(a=l.node.trailingComments,delete l.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var u=this.stack[this.stack.length-1];if(u&&u.start>=o.start.offset)c=u.node,this.stack.pop();else break}if(c){for(var l=c.leadingComments?c.leadingComments.length:0,p=l-1;p>=0;--p){var f=c.leadingComments[p];f.range[1]<=o.start.offset&&(a.unshift(f),c.leadingComments.splice(p,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var p=this.leading.length-1;p>=0;--p){var u=this.leading[p];u.start<=o.start.offset&&(a.unshift(u.comment),this.leading.splice(p,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===r.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),u=this.findLeadingComments(a);u.length>0&&(o.leadingComments=u),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",u={type:c,value:o.value};if(o.range&&(u.range=o.range),o.loc&&(u.loc=o.loc),this.comments.push(u),this.attach){var l={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(l.comment.loc=o.loc),o.type=c,this.leading.push(l),this.trailing.push(l)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s}();e.CommentHandler=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)g.hasOwnProperty(m)&&(h[m]=g[m])};return function(h,g){d(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n(5),o=n(6),a=n(7),c=n(8),u=n(13),l=n(14);u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";function p(d){var h;switch(d.type){case o.JSXSyntax.JSXIdentifier:var g=d;h=g.name;break;case o.JSXSyntax.JSXNamespacedName:var m=d;h=p(m.namespace)+":"+p(m.name);break;case o.JSXSyntax.JSXMemberExpression:var y=d;h=p(y.object)+"."+p(y.property);break;default:break}return h}var f=function(d){r(h,d);function h(g,m,y){return d.call(this,g,m,y)||this}return h.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():d.prototype.parsePrimaryExpression.call(this)},h.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},h.prototype.finishJSX=function(){this.nextToken()},h.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},h.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},h.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},h.prototype.scanXHTMLEntity=function(g){for(var m="&",y=!0,C=!1,x=!1,T=!1;!this.scanner.eof()&&y&&!C;){var E=this.scanner.source[this.scanner.index];if(E===g)break;if(C=E===";",m+=E,++this.scanner.index,!C)switch(m.length){case 2:x=E==="#";break;case 3:x&&(T=E==="x",y=T||i.Character.isDecimalDigit(E.charCodeAt(0)),x=x&&!T);break;default:y=y&&!(x&&!i.Character.isDecimalDigit(E.charCodeAt(0))),y=y&&!(T&&!i.Character.isHexDigit(E.charCodeAt(0)));break}}if(y&&C&&m.length>2){var k=m.substr(1,m.length-2);x&&k.length>1?m=String.fromCharCode(parseInt(k.substr(1),10)):T&&k.length>2?m=String.fromCharCode(parseInt("0"+k.substr(1),16)):!x&&!T&&l.XHTMLEntities[k]&&(m=l.XHTMLEntities[k])}return m},h.prototype.lexJSX=function(){var g=this.scanner.source.charCodeAt(this.scanner.index);if(g===60||g===62||g===47||g===58||g===61||g===123||g===125){var m=this.scanner.source[this.scanner.index++];return{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(g===34||g===39){for(var y=this.scanner.index,C=this.scanner.source[this.scanner.index++],x="";!this.scanner.eof();){var T=this.scanner.source[this.scanner.index++];if(T===C)break;T==="&"?x+=this.scanXHTMLEntity(C):x+=T}return{type:8,value:x,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(g===46){var E=this.scanner.source.charCodeAt(this.scanner.index+1),k=this.scanner.source.charCodeAt(this.scanner.index+2),m=E===46&&k===46?"...":".",y=this.scanner.index;return this.scanner.index+=m.length,{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(g===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(g)&&g!==92){var y=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var T=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(T)&&T!==92)++this.scanner.index;else if(T===45)++this.scanner.index;else break}var L=this.scanner.source.slice(y,this.scanner.index);return{type:100,value:L,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}return this.scanner.lex()},h.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var g=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(g)),g},h.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var g=this.scanner.index,m="";!this.scanner.eof();){var y=this.scanner.source[this.scanner.index];if(y==="{"||y==="<")break;++this.scanner.index,m+=y,i.Character.isLineTerminator(y.charCodeAt(0))&&(++this.scanner.lineNumber,y==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var C={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:g,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(C)),C},h.prototype.peekJSXToken=function(){var g=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(g),m},h.prototype.expectJSX=function(g){var m=this.nextJSXToken();(m.type!==7||m.value!==g)&&this.throwUnexpectedToken(m)},h.prototype.matchJSX=function(g){var m=this.peekJSXToken();return m.type===7&&m.value===g},h.prototype.parseJSXIdentifier=function(){var g=this.createJSXNode(),m=this.nextJSXToken();return m.type!==100&&this.throwUnexpectedToken(m),this.finalize(g,new s.JSXIdentifier(m.value))},h.prototype.parseJSXElementName=function(){var g=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var y=m;this.expectJSX(":");var C=this.parseJSXIdentifier();m=this.finalize(g,new s.JSXNamespacedName(y,C))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var x=m;this.expectJSX(".");var T=this.parseJSXIdentifier();m=this.finalize(g,new s.JSXMemberExpression(x,T))}return m},h.prototype.parseJSXAttributeName=function(){var g=this.createJSXNode(),m,y=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=y;this.expectJSX(":");var x=this.parseJSXIdentifier();m=this.finalize(g,new s.JSXNamespacedName(C,x))}else m=y;return m},h.prototype.parseJSXStringLiteralAttribute=function(){var g=this.createJSXNode(),m=this.nextJSXToken();m.type!==8&&this.throwUnexpectedToken(m);var y=this.getTokenRaw(m);return this.finalize(g,new a.Literal(m.value,y))},h.prototype.parseJSXExpressionAttribute=function(){var g=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(g,new s.JSXExpressionContainer(m))},h.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},h.prototype.parseJSXNameValueAttribute=function(){var g=this.createJSXNode(),m=this.parseJSXAttributeName(),y=null;return this.matchJSX("=")&&(this.expectJSX("="),y=this.parseJSXAttributeValue()),this.finalize(g,new s.JSXAttribute(m,y))},h.prototype.parseJSXSpreadAttribute=function(){var g=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(g,new s.JSXSpreadAttribute(m))},h.prototype.parseJSXAttributes=function(){for(var g=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();g.push(m)}return g},h.prototype.parseJSXOpeningElement=function(){var g=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),y=this.parseJSXAttributes(),C=this.matchJSX("/");return C&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(g,new s.JSXOpeningElement(m,C,y))},h.prototype.parseJSXBoundaryElement=function(){var g=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(g,new s.JSXClosingElement(m))}var y=this.parseJSXElementName(),C=this.parseJSXAttributes(),x=this.matchJSX("/");return x&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(g,new s.JSXOpeningElement(y,x,C))},h.prototype.parseJSXEmptyExpression=function(){var g=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(g,new s.JSXEmptyExpression)},h.prototype.parseJSXExpressionContainer=function(){var g=this.createJSXNode();this.expectJSX("{");var m;return this.matchJSX("}")?(m=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),m=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(g,new s.JSXExpressionContainer(m))},h.prototype.parseJSXChildren=function(){for(var g=[];!this.scanner.eof();){var m=this.createJSXChildNode(),y=this.nextJSXText();if(y.start<y.end){var C=this.getTokenRaw(y),x=this.finalize(m,new s.JSXText(y.value,C));g.push(x)}if(this.scanner.source[this.scanner.index]==="{"){var T=this.parseJSXExpressionContainer();g.push(T)}else break}return g},h.prototype.parseComplexJSXElement=function(g){for(var m=[];!this.scanner.eof();){g.children=g.children.concat(this.parseJSXChildren());var y=this.createJSXChildNode(),C=this.parseJSXBoundaryElement();if(C.type===o.JSXSyntax.JSXOpeningElement){var x=C;if(x.selfClosing){var T=this.finalize(y,new s.JSXElement(x,[],null));g.children.push(T)}else m.push(g),g={node:y,opening:x,closing:null,children:[]}}if(C.type===o.JSXSyntax.JSXClosingElement){g.closing=C;var E=p(g.opening.name),k=p(g.closing.name);if(E!==k&&this.tolerateError("Expected corresponding JSX closing tag for %0",E),m.length>0){var T=this.finalize(g.node,new s.JSXElement(g.opening,g.children,g.closing));g=m[m.length-1],g.children.push(T),m.pop()}else break}}return g},h.prototype.parseJSXElement=function(){var g=this.createJSXNode(),m=this.parseJSXOpeningElement(),y=[],C=null;if(!m.selfClosing){var x=this.parseComplexJSXElement({node:g,opening:m,closing:C,children:y});y=x.children,C=x.closing}return this.finalize(g,new s.JSXElement(m,y,C))},h.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var g=this.parseJSXElement();return this.finishJSX(),g},h.prototype.isStartOfExpression=function(){return d.prototype.isStartOfExpression.call(this)||this.match("<")},h}(c.Parser);e.JSXParser=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(r){return r<65536?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10))+String.fromCharCode(56320+(r-65536&1023))},isWhiteSpace:function(r){return r===32||r===9||r===11||r===12||r===160||r>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(r)>=0},isLineTerminator:function(r){return r===10||r===13||r===8232||r===8233},isIdentifierStart:function(r){return r===36||r===95||r>=65&&r<=90||r>=97&&r<=122||r===92||r>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(r))},isIdentifierPart:function(r){return r===36||r===95||r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||r===92||r>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(r))},isDecimalDigit:function(r){return r>=48&&r<=57},isHexDigit:function(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102},isOctalDigit:function(r){return r>=48&&r<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(){function g(m){this.type=r.JSXSyntax.JSXClosingElement,this.name=m}return g}();e.JSXClosingElement=i;var s=function(){function g(m,y,C){this.type=r.JSXSyntax.JSXElement,this.openingElement=m,this.children=y,this.closingElement=C}return g}();e.JSXElement=s;var o=function(){function g(){this.type=r.JSXSyntax.JSXEmptyExpression}return g}();e.JSXEmptyExpression=o;var a=function(){function g(m){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=m}return g}();e.JSXExpressionContainer=a;var c=function(){function g(m){this.type=r.JSXSyntax.JSXIdentifier,this.name=m}return g}();e.JSXIdentifier=c;var u=function(){function g(m,y){this.type=r.JSXSyntax.JSXMemberExpression,this.object=m,this.property=y}return g}();e.JSXMemberExpression=u;var l=function(){function g(m,y){this.type=r.JSXSyntax.JSXAttribute,this.name=m,this.value=y}return g}();e.JSXAttribute=l;var p=function(){function g(m,y){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=m,this.name=y}return g}();e.JSXNamespacedName=p;var f=function(){function g(m,y,C){this.type=r.JSXSyntax.JSXOpeningElement,this.name=m,this.selfClosing=y,this.attributes=C}return g}();e.JSXOpeningElement=f;var d=function(){function g(m){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=m}return g}();e.JSXSpreadAttribute=d;var h=function(){function g(m,y){this.type=r.JSXSyntax.JSXText,this.value=m,this.raw=y}return g}();e.JSXText=h},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=function(){function $(z){this.type=r.Syntax.ArrayExpression,this.elements=z}return $}();e.ArrayExpression=i;var s=function(){function $(z){this.type=r.Syntax.ArrayPattern,this.elements=z}return $}();e.ArrayPattern=s;var o=function(){function $(z,ee,Ie){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=z,this.body=ee,this.generator=!1,this.expression=Ie,this.async=!1}return $}();e.ArrowFunctionExpression=o;var a=function(){function $(z,ee,Ie){this.type=r.Syntax.AssignmentExpression,this.operator=z,this.left=ee,this.right=Ie}return $}();e.AssignmentExpression=a;var c=function(){function $(z,ee){this.type=r.Syntax.AssignmentPattern,this.left=z,this.right=ee}return $}();e.AssignmentPattern=c;var u=function(){function $(z,ee,Ie){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=z,this.body=ee,this.generator=!1,this.expression=Ie,this.async=!0}return $}();e.AsyncArrowFunctionExpression=u;var l=function(){function $(z,ee,Ie){this.type=r.Syntax.FunctionDeclaration,this.id=z,this.params=ee,this.body=Ie,this.generator=!1,this.expression=!1,this.async=!0}return $}();e.AsyncFunctionDeclaration=l;var p=function(){function $(z,ee,Ie){this.type=r.Syntax.FunctionExpression,this.id=z,this.params=ee,this.body=Ie,this.generator=!1,this.expression=!1,this.async=!0}return $}();e.AsyncFunctionExpression=p;var f=function(){function $(z){this.type=r.Syntax.AwaitExpression,this.argument=z}return $}();e.AwaitExpression=f;var d=function(){function $(z,ee,Ie){var yn=z==="||"||z==="&&";this.type=yn?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=z,this.left=ee,this.right=Ie}return $}();e.BinaryExpression=d;var h=function(){function $(z){this.type=r.Syntax.BlockStatement,this.body=z}return $}();e.BlockStatement=h;var g=function(){function $(z){this.type=r.Syntax.BreakStatement,this.label=z}return $}();e.BreakStatement=g;var m=function(){function $(z,ee){this.type=r.Syntax.CallExpression,this.callee=z,this.arguments=ee}return $}();e.CallExpression=m;var y=function(){function $(z,ee){this.type=r.Syntax.CatchClause,this.param=z,this.body=ee}return $}();e.CatchClause=y;var C=function(){function $(z){this.type=r.Syntax.ClassBody,this.body=z}return $}();e.ClassBody=C;var x=function(){function $(z,ee,Ie){this.type=r.Syntax.ClassDeclaration,this.id=z,this.superClass=ee,this.body=Ie}return $}();e.ClassDeclaration=x;var T=function(){function $(z,ee,Ie){this.type=r.Syntax.ClassExpression,this.id=z,this.superClass=ee,this.body=Ie}return $}();e.ClassExpression=T;var E=function(){function $(z,ee){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=z,this.property=ee}return $}();e.ComputedMemberExpression=E;var k=function(){function $(z,ee,Ie){this.type=r.Syntax.ConditionalExpression,this.test=z,this.consequent=ee,this.alternate=Ie}return $}();e.ConditionalExpression=k;var L=function(){function $(z){this.type=r.Syntax.ContinueStatement,this.label=z}return $}();e.ContinueStatement=L;var A=function(){function $(){this.type=r.Syntax.DebuggerStatement}return $}();e.DebuggerStatement=A;var j=function(){function $(z,ee){this.type=r.Syntax.ExpressionStatement,this.expression=z,this.directive=ee}return $}();e.Directive=j;var H=function(){function $(z,ee){this.type=r.Syntax.DoWhileStatement,this.body=z,this.test=ee}return $}();e.DoWhileStatement=H;var F=function(){function $(){this.type=r.Syntax.EmptyStatement}return $}();e.EmptyStatement=F;var M=function(){function $(z){this.type=r.Syntax.ExportAllDeclaration,this.source=z}return $}();e.ExportAllDeclaration=M;var J=function(){function $(z){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=z}return $}();e.ExportDefaultDeclaration=J;var _=function(){function $(z,ee,Ie){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=z,this.specifiers=ee,this.source=Ie}return $}();e.ExportNamedDeclaration=_;var I=function(){function $(z,ee){this.type=r.Syntax.ExportSpecifier,this.exported=ee,this.local=z}return $}();e.ExportSpecifier=I;var W=function(){function $(z){this.type=r.Syntax.ExpressionStatement,this.expression=z}return $}();e.ExpressionStatement=W;var ue=function(){function $(z,ee,Ie){this.type=r.Syntax.ForInStatement,this.left=z,this.right=ee,this.body=Ie,this.each=!1}return $}();e.ForInStatement=ue;var ce=function(){function $(z,ee,Ie){this.type=r.Syntax.ForOfStatement,this.left=z,this.right=ee,this.body=Ie}return $}();e.ForOfStatement=ce;var ae=function(){function $(z,ee,Ie,yn){this.type=r.Syntax.ForStatement,this.init=z,this.test=ee,this.update=Ie,this.body=yn}return $}();e.ForStatement=ae;var fe=function(){function $(z,ee,Ie,yn){this.type=r.Syntax.FunctionDeclaration,this.id=z,this.params=ee,this.body=Ie,this.generator=yn,this.expression=!1,this.async=!1}return $}();e.FunctionDeclaration=fe;var be=function(){function $(z,ee,Ie,yn){this.type=r.Syntax.FunctionExpression,this.id=z,this.params=ee,this.body=Ie,this.generator=yn,this.expression=!1,this.async=!1}return $}();e.FunctionExpression=be;var Ue=function(){function $(z){this.type=r.Syntax.Identifier,this.name=z}return $}();e.Identifier=Ue;var st=function(){function $(z,ee,Ie){this.type=r.Syntax.IfStatement,this.test=z,this.consequent=ee,this.alternate=Ie}return $}();e.IfStatement=st;var ut=function(){function $(z,ee){this.type=r.Syntax.ImportDeclaration,this.specifiers=z,this.source=ee}return $}();e.ImportDeclaration=ut;var et=function(){function $(z){this.type=r.Syntax.ImportDefaultSpecifier,this.local=z}return $}();e.ImportDefaultSpecifier=et;var ie=function(){function $(z){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=z}return $}();e.ImportNamespaceSpecifier=ie;var qe=function(){function $(z,ee){this.type=r.Syntax.ImportSpecifier,this.local=z,this.imported=ee}return $}();e.ImportSpecifier=qe;var Ke=function(){function $(z,ee){this.type=r.Syntax.LabeledStatement,this.label=z,this.body=ee}return $}();e.LabeledStatement=Ke;var re=function(){function $(z,ee){this.type=r.Syntax.Literal,this.value=z,this.raw=ee}return $}();e.Literal=re;var pe=function(){function $(z,ee){this.type=r.Syntax.MetaProperty,this.meta=z,this.property=ee}return $}();e.MetaProperty=pe;var se=function(){function $(z,ee,Ie,yn,w){this.type=r.Syntax.MethodDefinition,this.key=z,this.computed=ee,this.value=Ie,this.kind=yn,this.static=w}return $}();e.MethodDefinition=se;var he=function(){function $(z){this.type=r.Syntax.Program,this.body=z,this.sourceType="module"}return $}();e.Module=he;var ze=function(){function $(z,ee){this.type=r.Syntax.NewExpression,this.callee=z,this.arguments=ee}return $}();e.NewExpression=ze;var ot=function(){function $(z){this.type=r.Syntax.ObjectExpression,this.properties=z}return $}();e.ObjectExpression=ot;var Xe=function(){function $(z){this.type=r.Syntax.ObjectPattern,this.properties=z}return $}();e.ObjectPattern=Xe;var tr=function(){function $(z,ee,Ie,yn,w,X){this.type=r.Syntax.Property,this.key=ee,this.computed=Ie,this.value=yn,this.kind=z,this.method=w,this.shorthand=X}return $}();e.Property=tr;var an=function(){function $(z,ee,Ie,yn){this.type=r.Syntax.Literal,this.value=z,this.raw=ee,this.regex={pattern:Ie,flags:yn}}return $}();e.RegexLiteral=an;var Fr=function(){function $(z){this.type=r.Syntax.RestElement,this.argument=z}return $}();e.RestElement=Fr;var Et=function(){function $(z){this.type=r.Syntax.ReturnStatement,this.argument=z}return $}();e.ReturnStatement=Et;var Jt=function(){function $(z){this.type=r.Syntax.Program,this.body=z,this.sourceType="script"}return $}();e.Script=Jt;var bn=function(){function $(z){this.type=r.Syntax.SequenceExpression,this.expressions=z}return $}();e.SequenceExpression=bn;var Gn=function(){function $(z){this.type=r.Syntax.SpreadElement,this.argument=z}return $}();e.SpreadElement=Gn;var mn=function(){function $(z,ee){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=z,this.property=ee}return $}();e.StaticMemberExpression=mn;var yr=function(){function $(){this.type=r.Syntax.Super}return $}();e.Super=yr;var Ar=function(){function $(z,ee){this.type=r.Syntax.SwitchCase,this.test=z,this.consequent=ee}return $}();e.SwitchCase=Ar;var Vn=function(){function $(z,ee){this.type=r.Syntax.SwitchStatement,this.discriminant=z,this.cases=ee}return $}();e.SwitchStatement=Vn;var Pr=function(){function $(z,ee){this.type=r.Syntax.TaggedTemplateExpression,this.tag=z,this.quasi=ee}return $}();e.TaggedTemplateExpression=Pr;var Xt=function(){function $(z,ee){this.type=r.Syntax.TemplateElement,this.value=z,this.tail=ee}return $}();e.TemplateElement=Xt;var b=function(){function $(z,ee){this.type=r.Syntax.TemplateLiteral,this.quasis=z,this.expressions=ee}return $}();e.TemplateLiteral=b;var O=function(){function $(){this.type=r.Syntax.ThisExpression}return $}();e.ThisExpression=O;var G=function(){function $(z){this.type=r.Syntax.ThrowStatement,this.argument=z}return $}();e.ThrowStatement=G;var Y=function(){function $(z,ee,Ie){this.type=r.Syntax.TryStatement,this.block=z,this.handler=ee,this.finalizer=Ie}return $}();e.TryStatement=Y;var De=function(){function $(z,ee){this.type=r.Syntax.UnaryExpression,this.operator=z,this.argument=ee,this.prefix=!0}return $}();e.UnaryExpression=De;var ve=function(){function $(z,ee,Ie){this.type=r.Syntax.UpdateExpression,this.operator=z,this.argument=ee,this.prefix=Ie}return $}();e.UpdateExpression=ve;var Pe=function(){function $(z,ee){this.type=r.Syntax.VariableDeclaration,this.declarations=z,this.kind=ee}return $}();e.VariableDeclaration=Pe;var _e=function(){function $(z,ee){this.type=r.Syntax.VariableDeclarator,this.id=z,this.init=ee}return $}();e.VariableDeclarator=_e;var ge=function(){function $(z,ee){this.type=r.Syntax.WhileStatement,this.test=z,this.body=ee}return $}();e.WhileStatement=ge;var Ee=function(){function $(z,ee){this.type=r.Syntax.WithStatement,this.object=z,this.body=ee}return $}();e.WithStatement=Ee;var ye=function(){function $(z,ee){this.type=r.Syntax.YieldExpression,this.argument=z,this.delegate=ee}return $}();e.YieldExpression=ye},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(10),s=n(11),o=n(7),a=n(12),c=n(2),u=n(13),l="ArrowParameterPlaceHolder",p=function(){function f(d,h,g){h===void 0&&(h={}),this.config={range:typeof h.range=="boolean"&&h.range,loc:typeof h.loc=="boolean"&&h.loc,source:null,tokens:typeof h.tokens=="boolean"&&h.tokens,comment:typeof h.comment=="boolean"&&h.comment,tolerant:typeof h.tolerant=="boolean"&&h.tolerant},this.config.loc&&h.source&&h.source!==null&&(this.config.source=String(h.source)),this.delegate=g,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(d,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return f.prototype.throwError=function(d){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];var m=Array.prototype.slice.call(arguments,1),y=d.replace(/%(\d)/g,function(E,k){return r.assert(k<m.length,"Message reference must be in range"),m[k]}),C=this.lastMarker.index,x=this.lastMarker.line,T=this.lastMarker.column+1;throw this.errorHandler.createError(C,x,T,y)},f.prototype.tolerateError=function(d){for(var h=[],g=1;g<arguments.length;g++)h[g-1]=arguments[g];var m=Array.prototype.slice.call(arguments,1),y=d.replace(/%(\d)/g,function(E,k){return r.assert(k<m.length,"Message reference must be in range"),m[k]}),C=this.lastMarker.index,x=this.scanner.lineNumber,T=this.lastMarker.column+1;this.errorHandler.tolerateError(C,x,T,y)},f.prototype.unexpectedTokenError=function(d,h){var g=h||s.Messages.UnexpectedToken,m;if(d?(h||(g=d.type===2?s.Messages.UnexpectedEOS:d.type===3?s.Messages.UnexpectedIdentifier:d.type===6?s.Messages.UnexpectedNumber:d.type===8?s.Messages.UnexpectedString:d.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,d.type===4&&(this.scanner.isFutureReservedWord(d.value)?g=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(d.value)&&(g=s.Messages.StrictReservedWord))),m=d.value):m="ILLEGAL",g=g.replace("%0",m),d&&typeof d.lineNumber=="number"){var y=d.start,C=d.lineNumber,x=this.lastMarker.index-this.lastMarker.column,T=d.start-x+1;return this.errorHandler.createError(y,C,T,g)}else{var y=this.lastMarker.index,C=this.lastMarker.line,T=this.lastMarker.column+1;return this.errorHandler.createError(y,C,T,g)}},f.prototype.throwUnexpectedToken=function(d,h){throw this.unexpectedTokenError(d,h)},f.prototype.tolerateUnexpectedToken=function(d,h){this.errorHandler.tolerate(this.unexpectedTokenError(d,h))},f.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var d=this.scanner.scanComments();if(d.length>0&&this.delegate)for(var h=0;h<d.length;++h){var g=d[h],m=void 0;m={type:g.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(g.slice[0],g.slice[1])},this.config.range&&(m.range=g.range),this.config.loc&&(m.loc=g.loc);var y={start:{line:g.loc.start.line,column:g.loc.start.column,offset:g.range[0]},end:{line:g.loc.end.line,column:g.loc.end.column,offset:g.range[1]}};this.delegate(m,y)}}},f.prototype.getTokenRaw=function(d){return this.scanner.source.slice(d.start,d.end)},f.prototype.convertToken=function(d){var h={type:u.TokenName[d.type],value:this.getTokenRaw(d)};if(this.config.range&&(h.range=[d.start,d.end]),this.config.loc&&(h.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),d.type===9){var g=d.pattern,m=d.flags;h.regex={pattern:g,flags:m}}return h},f.prototype.nextToken=function(){var d=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var h=this.scanner.lex();return this.hasLineTerminator=d.lineNumber!==h.lineNumber,h&&this.context.strict&&h.type===3&&this.scanner.isStrictModeReservedWord(h.value)&&(h.type=4),this.lookahead=h,this.config.tokens&&h.type!==2&&this.tokens.push(this.convertToken(h)),d},f.prototype.nextRegexToken=function(){this.collectComments();var d=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(d))),this.lookahead=d,this.nextToken(),d},f.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},f.prototype.startNode=function(d,h){h===void 0&&(h=0);var g=d.start-d.lineStart,m=d.lineNumber;return g<0&&(g+=h,m--),{index:d.start,line:m,column:g}},f.prototype.finalize=function(d,h){if(this.config.range&&(h.range=[d.index,this.lastMarker.index]),this.config.loc&&(h.loc={start:{line:d.line,column:d.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(h.loc.source=this.config.source)),this.delegate){var g={start:{line:d.line,column:d.column,offset:d.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(h,g)}return h},f.prototype.expect=function(d){var h=this.nextToken();(h.type!==7||h.value!==d)&&this.throwUnexpectedToken(h)},f.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var d=this.lookahead;d.type===7&&d.value===","?this.nextToken():d.type===7&&d.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(d)):this.tolerateUnexpectedToken(d,s.Messages.UnexpectedToken)}else this.expect(",")},f.prototype.expectKeyword=function(d){var h=this.nextToken();(h.type!==4||h.value!==d)&&this.throwUnexpectedToken(h)},f.prototype.match=function(d){return this.lookahead.type===7&&this.lookahead.value===d},f.prototype.matchKeyword=function(d){return this.lookahead.type===4&&this.lookahead.value===d},f.prototype.matchContextualKeyword=function(d){return this.lookahead.type===3&&this.lookahead.value===d},f.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var d=this.lookahead.value;return d==="="||d==="*="||d==="**="||d==="/="||d==="%="||d==="+="||d==="-="||d==="<<="||d===">>="||d===">>>="||d==="&="||d==="^="||d==="|="},f.prototype.isolateCoverGrammar=function(d){var h=this.context.isBindingElement,g=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=d.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=h,this.context.isAssignmentTarget=g,this.context.firstCoverInitializedNameError=m,y},f.prototype.inheritCoverGrammar=function(d){var h=this.context.isBindingElement,g=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=d.call(this);return this.context.isBindingElement=this.context.isBindingElement&&h,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&g,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,y},f.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},f.prototype.parsePrimaryExpression=function(){var d=this.createNode(),h,g,m;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),h=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(d,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),m=this.getTokenRaw(g),h=this.finalize(d,new o.Literal(g.value,m));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),m=this.getTokenRaw(g),h=this.finalize(d,new o.Literal(g.value==="true",m));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,g=this.nextToken(),m=this.getTokenRaw(g),h=this.finalize(d,new o.Literal(null,m));break;case 10:h=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,h=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":h=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":h=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,g=this.nextRegexToken(),m=this.getTokenRaw(g),h=this.finalize(d,new o.RegexLiteral(g.regex,m,g.pattern,g.flags));break;default:h=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?h=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?h=this.finalize(d,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?h=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),h=this.finalize(d,new o.ThisExpression)):this.matchKeyword("class")?h=this.parseClassExpression():h=this.throwUnexpectedToken(this.nextToken()));break;default:h=this.throwUnexpectedToken(this.nextToken())}return h},f.prototype.parseSpreadElement=function(){var d=this.createNode();this.expect("...");var h=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(d,new o.SpreadElement(h))},f.prototype.parseArrayInitializer=function(){var d=this.createNode(),h=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),h.push(null);else if(this.match("...")){var g=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),h.push(g)}else h.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(d,new o.ArrayExpression(h))},f.prototype.parsePropertyMethod=function(d){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&d.firstRestricted&&this.tolerateUnexpectedToken(d.firstRestricted,d.message),this.context.strict&&d.stricted&&this.tolerateUnexpectedToken(d.stricted,d.message),this.context.strict=h,this.context.allowStrictDirective=g,m},f.prototype.parsePropertyMethodFunction=function(){var d=!1,h=this.createNode(),g=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters(),y=this.parsePropertyMethod(m);return this.context.allowYield=g,this.finalize(h,new o.FunctionExpression(null,m.params,y,d))},f.prototype.parsePropertyMethodAsyncFunction=function(){var d=this.createNode(),h=this.context.allowYield,g=this.context.await;this.context.allowYield=!1,this.context.await=!0;var m=this.parseFormalParameters(),y=this.parsePropertyMethod(m);return this.context.allowYield=h,this.context.await=g,this.finalize(d,new o.AsyncFunctionExpression(null,m.params,y))},f.prototype.parseObjectPropertyKey=function(){var d=this.createNode(),h=this.nextToken(),g;switch(h.type){case 8:case 6:this.context.strict&&h.octal&&this.tolerateUnexpectedToken(h,s.Messages.StrictOctalLiteral);var m=this.getTokenRaw(h);g=this.finalize(d,new o.Literal(h.value,m));break;case 3:case 1:case 5:case 4:g=this.finalize(d,new o.Identifier(h.value));break;case 7:h.value==="["?(g=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):g=this.throwUnexpectedToken(h);break;default:g=this.throwUnexpectedToken(h)}return g},f.prototype.isPropertyKey=function(d,h){return d.type===c.Syntax.Identifier&&d.name===h||d.type===c.Syntax.Literal&&d.value===h},f.prototype.parseObjectProperty=function(d){var h=this.createNode(),g=this.lookahead,m,y=null,C=null,x=!1,T=!1,E=!1,k=!1;if(g.type===3){var L=g.value;this.nextToken(),x=this.match("["),k=!this.hasLineTerminator&&L==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),y=k?this.parseObjectPropertyKey():this.finalize(h,new o.Identifier(L))}else this.match("*")?this.nextToken():(x=this.match("["),y=this.parseObjectPropertyKey());var A=this.qualifiedPropertyName(this.lookahead);if(g.type===3&&!k&&g.value==="get"&&A)m="get",x=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,C=this.parseGetterMethod();else if(g.type===3&&!k&&g.value==="set"&&A)m="set",x=this.match("["),y=this.parseObjectPropertyKey(),C=this.parseSetterMethod();else if(g.type===7&&g.value==="*"&&A)m="init",x=this.match("["),y=this.parseObjectPropertyKey(),C=this.parseGeneratorMethod(),T=!0;else if(y||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!k)!x&&this.isPropertyKey(y,"__proto__")&&(d.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),d.value=!0),this.nextToken(),C=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))C=k?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),T=!0;else if(g.type===3){var L=this.finalize(h,new o.Identifier(g.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),E=!0;var j=this.isolateCoverGrammar(this.parseAssignmentExpression);C=this.finalize(h,new o.AssignmentPattern(L,j))}else E=!0,C=L}else this.throwUnexpectedToken(this.nextToken());return this.finalize(h,new o.Property(m,y,x,C,T,E))},f.prototype.parseObjectInitializer=function(){var d=this.createNode();this.expect("{");for(var h=[],g={value:!1};!this.match("}");)h.push(this.parseObjectProperty(g)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(d,new o.ObjectExpression(h))},f.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var d=this.createNode(),h=this.nextToken(),g=h.value,m=h.cooked;return this.finalize(d,new o.TemplateElement({raw:g,cooked:m},h.tail))},f.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var d=this.createNode(),h=this.nextToken(),g=h.value,m=h.cooked;return this.finalize(d,new o.TemplateElement({raw:g,cooked:m},h.tail))},f.prototype.parseTemplateLiteral=function(){var d=this.createNode(),h=[],g=[],m=this.parseTemplateHead();for(g.push(m);!m.tail;)h.push(this.parseExpression()),m=this.parseTemplateElement(),g.push(m);return this.finalize(d,new o.TemplateLiteral(g,h))},f.prototype.reinterpretExpressionAsPattern=function(d){switch(d.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:d.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(d.argument);break;case c.Syntax.ArrayExpression:d.type=c.Syntax.ArrayPattern;for(var h=0;h<d.elements.length;h++)d.elements[h]!==null&&this.reinterpretExpressionAsPattern(d.elements[h]);break;case c.Syntax.ObjectExpression:d.type=c.Syntax.ObjectPattern;for(var h=0;h<d.properties.length;h++)this.reinterpretExpressionAsPattern(d.properties[h].value);break;case c.Syntax.AssignmentExpression:d.type=c.Syntax.AssignmentPattern,delete d.operator,this.reinterpretExpressionAsPattern(d.left);break;default:break}},f.prototype.parseGroupExpression=function(){var d;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),d={type:l,params:[],async:!1};else{var h=this.lookahead,g=[];if(this.match("..."))d=this.parseRestElement(g),this.expect(")"),this.match("=>")||this.expect("=>"),d={type:l,params:[d],async:!1};else{var m=!1;if(this.context.isBindingElement=!0,d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var y=[];for(this.context.isAssignmentTarget=!1,y.push(d);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var C=0;C<y.length;C++)this.reinterpretExpressionAsPattern(y[C]);m=!0,d={type:l,params:y,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),y.push(this.parseRestElement(g)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var C=0;C<y.length;C++)this.reinterpretExpressionAsPattern(y[C]);m=!0,d={type:l,params:y,async:!1}}else y.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(d=this.finalize(this.startNode(h),new o.SequenceExpression(y)))}if(!m){if(this.expect(")"),this.match("=>")&&(d.type===c.Syntax.Identifier&&d.name==="yield"&&(m=!0,d={type:l,params:[d],async:!1}),!m)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),d.type===c.Syntax.SequenceExpression)for(var C=0;C<d.expressions.length;C++)this.reinterpretExpressionAsPattern(d.expressions[C]);else this.reinterpretExpressionAsPattern(d);var x=d.type===c.Syntax.SequenceExpression?d.expressions:[d];d={type:l,params:x,async:!1}}this.context.isBindingElement=!1}}}return d},f.prototype.parseArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var h=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(d.push(h),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},f.prototype.isIdentifierName=function(d){return d.type===3||d.type===4||d.type===1||d.type===5},f.prototype.parseIdentifierName=function(){var d=this.createNode(),h=this.nextToken();return this.isIdentifierName(h)||this.throwUnexpectedToken(h),this.finalize(d,new o.Identifier(h.value))},f.prototype.parseNewExpression=function(){var d=this.createNode(),h=this.parseIdentifierName();r.assert(h.name==="new","New expression must start with `new`");var g;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var m=this.parseIdentifierName();g=new o.MetaProperty(h,m)}else this.throwUnexpectedToken(this.lookahead);else{var y=this.isolateCoverGrammar(this.parseLeftHandSideExpression),C=this.match("(")?this.parseArguments():[];g=new o.NewExpression(y,C),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(d,g)},f.prototype.parseAsyncArgument=function(){var d=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,d},f.prototype.parseAsyncArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var h=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(d.push(h),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),d},f.prototype.parseLeftHandSideExpressionAllowCall=function(){var d=this.lookahead,h=this.matchContextualKeyword("async"),g=this.context.allowIn;this.context.allowIn=!0;var m;for(this.matchKeyword("super")&&this.context.inFunctionBody?(m=this.createNode(),this.nextToken(),m=this.finalize(m,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var y=this.parseIdentifierName();m=this.finalize(this.startNode(d),new o.StaticMemberExpression(m,y))}else if(this.match("(")){var C=h&&d.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var x=C?this.parseAsyncArguments():this.parseArguments();if(m=this.finalize(this.startNode(d),new o.CallExpression(m,x)),C&&this.match("=>")){for(var T=0;T<x.length;++T)this.reinterpretExpressionAsPattern(x[T]);m={type:l,params:x,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var y=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(this.startNode(d),new o.ComputedMemberExpression(m,y))}else if(this.lookahead.type===10&&this.lookahead.head){var E=this.parseTemplateLiteral();m=this.finalize(this.startNode(d),new o.TaggedTemplateExpression(m,E))}else break;return this.context.allowIn=g,m},f.prototype.parseSuper=function(){var d=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(d,new o.Super)},f.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var d=this.startNode(this.lookahead),h=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var g=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),h=this.finalize(d,new o.ComputedMemberExpression(h,g))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var g=this.parseIdentifierName();h=this.finalize(d,new o.StaticMemberExpression(h,g))}else if(this.lookahead.type===10&&this.lookahead.head){var m=this.parseTemplateLiteral();h=this.finalize(d,new o.TaggedTemplateExpression(h,m))}else break;return h},f.prototype.parseUpdateExpression=function(){var d,h=this.lookahead;if(this.match("++")||this.match("--")){var g=this.startNode(h),m=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&d.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var y=!0;d=this.finalize(g,new o.UpdateExpression(m.value,d,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(d=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&d.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=this.nextToken().value,y=!1;d=this.finalize(this.startNode(h),new o.UpdateExpression(C,d,y))}return d},f.prototype.parseAwaitExpression=function(){var d=this.createNode();this.nextToken();var h=this.parseUnaryExpression();return this.finalize(d,new o.AwaitExpression(h))},f.prototype.parseUnaryExpression=function(){var d;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var h=this.startNode(this.lookahead),g=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),d=this.finalize(h,new o.UnaryExpression(g.value,d)),this.context.strict&&d.operator==="delete"&&d.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?d=this.parseAwaitExpression():d=this.parseUpdateExpression();return d},f.prototype.parseExponentiationExpression=function(){var d=this.lookahead,h=this.inheritCoverGrammar(this.parseUnaryExpression);if(h.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var g=h,m=this.isolateCoverGrammar(this.parseExponentiationExpression);h=this.finalize(this.startNode(d),new o.BinaryExpression("**",g,m))}return h},f.prototype.binaryPrecedence=function(d){var h=d.value,g;return d.type===7?g=this.operatorPrecedence[h]||0:d.type===4?g=h==="instanceof"||this.context.allowIn&&h==="in"?7:0:g=0,g},f.prototype.parseBinaryExpression=function(){var d=this.lookahead,h=this.inheritCoverGrammar(this.parseExponentiationExpression),g=this.lookahead,m=this.binaryPrecedence(g);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var y=[d,this.lookahead],C=h,x=this.isolateCoverGrammar(this.parseExponentiationExpression),T=[C,g.value,x],E=[m];m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;T.length>2&&m<=E[E.length-1];){x=T.pop();var k=T.pop();E.pop(),C=T.pop(),y.pop();var L=this.startNode(y[y.length-1]);T.push(this.finalize(L,new o.BinaryExpression(k,C,x)))}T.push(this.nextToken().value),E.push(m),y.push(this.lookahead),T.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var A=T.length-1;h=T[A];for(var j=y.pop();A>1;){var H=y.pop(),F=j&&j.lineStart,L=this.startNode(H,F),k=T[A-1];h=this.finalize(L,new o.BinaryExpression(k,T[A-2],h)),A-=2,j=H}}return h},f.prototype.parseConditionalExpression=function(){var d=this.lookahead,h=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var g=this.context.allowIn;this.context.allowIn=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=g,this.expect(":");var y=this.isolateCoverGrammar(this.parseAssignmentExpression);h=this.finalize(this.startNode(d),new o.ConditionalExpression(h,m,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return h},f.prototype.checkPatternParam=function(d,h){switch(h.type){case c.Syntax.Identifier:this.validateParam(d,h,h.name);break;case c.Syntax.RestElement:this.checkPatternParam(d,h.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(d,h.left);break;case c.Syntax.ArrayPattern:for(var g=0;g<h.elements.length;g++)h.elements[g]!==null&&this.checkPatternParam(d,h.elements[g]);break;case c.Syntax.ObjectPattern:for(var g=0;g<h.properties.length;g++)this.checkPatternParam(d,h.properties[g].value);break;default:break}d.simple=d.simple&&h instanceof o.Identifier},f.prototype.reinterpretAsCoverFormalsList=function(d){var h=[d],g,m=!1;switch(d.type){case c.Syntax.Identifier:break;case l:h=d.params,m=d.async;break;default:return null}g={simple:!0,paramSet:{}};for(var y=0;y<h.length;++y){var C=h[y];C.type===c.Syntax.AssignmentPattern?C.right.type===c.Syntax.YieldExpression&&(C.right.argument&&this.throwUnexpectedToken(this.lookahead),C.right.type=c.Syntax.Identifier,C.right.name="yield",delete C.right.argument,delete C.right.delegate):m&&C.type===c.Syntax.Identifier&&C.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(g,C),h[y]=C}if(this.context.strict||!this.context.allowYield)for(var y=0;y<h.length;++y){var C=h[y];C.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(g.message===s.Messages.StrictParamDupe){var x=this.context.strict?g.stricted:g.firstRestricted;this.throwUnexpectedToken(x,g.message)}return{simple:g.simple,params:h,stricted:g.stricted,firstRestricted:g.firstRestricted,message:g.message}},f.prototype.parseAssignmentExpression=function(){var d;if(!this.context.allowYield&&this.matchKeyword("yield"))d=this.parseYieldExpression();else{var h=this.lookahead,g=h;if(d=this.parseConditionalExpression(),g.type===3&&g.lineNumber===this.lookahead.lineNumber&&g.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var m=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(m),d={type:l,params:[m],async:!0}}if(d.type===l||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var y=d.async,C=this.reinterpretAsCoverFormalsList(d);if(C){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var x=this.context.strict,T=this.context.allowStrictDirective;this.context.allowStrictDirective=C.simple;var E=this.context.allowYield,k=this.context.await;this.context.allowYield=!0,this.context.await=y;var L=this.startNode(h);this.expect("=>");var A=void 0;if(this.match("{")){var j=this.context.allowIn;this.context.allowIn=!0,A=this.parseFunctionSourceElements(),this.context.allowIn=j}else A=this.isolateCoverGrammar(this.parseAssignmentExpression);var H=A.type!==c.Syntax.BlockStatement;this.context.strict&&C.firstRestricted&&this.throwUnexpectedToken(C.firstRestricted,C.message),this.context.strict&&C.stricted&&this.tolerateUnexpectedToken(C.stricted,C.message),d=y?this.finalize(L,new o.AsyncArrowFunctionExpression(C.params,A,H)):this.finalize(L,new o.ArrowFunctionExpression(C.params,A,H)),this.context.strict=x,this.context.allowStrictDirective=T,this.context.allowYield=E,this.context.await=k}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&d.type===c.Syntax.Identifier){var F=d;this.scanner.isRestrictedWord(F.name)&&this.tolerateUnexpectedToken(g,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(F.name)&&this.tolerateUnexpectedToken(g,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(d):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),g=this.nextToken();var M=g.value,J=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(h),new o.AssignmentExpression(M,d,J)),this.context.firstCoverInitializedNameError=null}}return d},f.prototype.parseExpression=function(){var d=this.lookahead,h=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var g=[];for(g.push(h);this.lookahead.type!==2&&this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));h=this.finalize(this.startNode(d),new o.SequenceExpression(g))}return h},f.prototype.parseStatementListItem=function(){var d;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),d=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),d=this.parseImportDeclaration();break;case"const":d=this.parseLexicalDeclaration({inFor:!1});break;case"function":d=this.parseFunctionDeclaration();break;case"class":d=this.parseClassDeclaration();break;case"let":d=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:d=this.parseStatement();break}else d=this.parseStatement();return d},f.prototype.parseBlock=function(){var d=this.createNode();this.expect("{");for(var h=[];!this.match("}");)h.push(this.parseStatementListItem());return this.expect("}"),this.finalize(d,new o.BlockStatement(h))},f.prototype.parseLexicalBinding=function(d,h){var g=this.createNode(),m=[],y=this.parsePattern(m,d);this.context.strict&&y.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(y.name)&&this.tolerateError(s.Messages.StrictVarName);var C=null;return d==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!h.inFor&&y.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),C=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(g,new o.VariableDeclarator(y,C))},f.prototype.parseBindingList=function(d,h){for(var g=[this.parseLexicalBinding(d,h)];this.match(",");)this.nextToken(),g.push(this.parseLexicalBinding(d,h));return g},f.prototype.isLexicalDeclaration=function(){var d=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();return this.scanner.restoreState(d),h.type===3||h.type===7&&h.value==="["||h.type===7&&h.value==="{"||h.type===4&&h.value==="let"||h.type===4&&h.value==="yield"},f.prototype.parseLexicalDeclaration=function(d){var h=this.createNode(),g=this.nextToken().value;r.assert(g==="let"||g==="const","Lexical declaration must be either let or const");var m=this.parseBindingList(g,d);return this.consumeSemicolon(),this.finalize(h,new o.VariableDeclaration(m,g))},f.prototype.parseBindingRestElement=function(d,h){var g=this.createNode();this.expect("...");var m=this.parsePattern(d,h);return this.finalize(g,new o.RestElement(m))},f.prototype.parseArrayPattern=function(d,h){var g=this.createNode();this.expect("[");for(var m=[];!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else{if(this.match("...")){m.push(this.parseBindingRestElement(d,h));break}else m.push(this.parsePatternWithDefault(d,h));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(g,new o.ArrayPattern(m))},f.prototype.parsePropertyPattern=function(d,h){var g=this.createNode(),m=!1,y=!1,C=!1,x,T;if(this.lookahead.type===3){var E=this.lookahead;x=this.parseVariableIdentifier();var k=this.finalize(g,new o.Identifier(E.value));if(this.match("=")){d.push(E),y=!0,this.nextToken();var L=this.parseAssignmentExpression();T=this.finalize(this.startNode(E),new o.AssignmentPattern(k,L))}else this.match(":")?(this.expect(":"),T=this.parsePatternWithDefault(d,h)):(d.push(E),y=!0,T=k)}else m=this.match("["),x=this.parseObjectPropertyKey(),this.expect(":"),T=this.parsePatternWithDefault(d,h);return this.finalize(g,new o.Property("init",x,m,T,C,y))},f.prototype.parseObjectPattern=function(d,h){var g=this.createNode(),m=[];for(this.expect("{");!this.match("}");)m.push(this.parsePropertyPattern(d,h)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(g,new o.ObjectPattern(m))},f.prototype.parsePattern=function(d,h){var g;return this.match("[")?g=this.parseArrayPattern(d,h):this.match("{")?g=this.parseObjectPattern(d,h):(this.matchKeyword("let")&&(h==="const"||h==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),d.push(this.lookahead),g=this.parseVariableIdentifier(h)),g},f.prototype.parsePatternWithDefault=function(d,h){var g=this.lookahead,m=this.parsePattern(d,h);if(this.match("=")){this.nextToken();var y=this.context.allowYield;this.context.allowYield=!0;var C=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=y,m=this.finalize(this.startNode(g),new o.AssignmentPattern(m,C))}return m},f.prototype.parseVariableIdentifier=function(d){var h=this.createNode(),g=this.nextToken();return g.type===4&&g.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(g,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(g):g.type!==3?this.context.strict&&g.type===4&&this.scanner.isStrictModeReservedWord(g.value)?this.tolerateUnexpectedToken(g,s.Messages.StrictReservedWord):(this.context.strict||g.value!=="let"||d!=="var")&&this.throwUnexpectedToken(g):(this.context.isModule||this.context.await)&&g.type===3&&g.value==="await"&&this.tolerateUnexpectedToken(g),this.finalize(h,new o.Identifier(g.value))},f.prototype.parseVariableDeclaration=function(d){var h=this.createNode(),g=[],m=this.parsePattern(g,"var");this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(s.Messages.StrictVarName);var y=null;return this.match("=")?(this.nextToken(),y=this.isolateCoverGrammar(this.parseAssignmentExpression)):m.type!==c.Syntax.Identifier&&!d.inFor&&this.expect("="),this.finalize(h,new o.VariableDeclarator(m,y))},f.prototype.parseVariableDeclarationList=function(d){var h={inFor:d.inFor},g=[];for(g.push(this.parseVariableDeclaration(h));this.match(",");)this.nextToken(),g.push(this.parseVariableDeclaration(h));return g},f.prototype.parseVariableStatement=function(){var d=this.createNode();this.expectKeyword("var");var h=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(d,new o.VariableDeclaration(h,"var"))},f.prototype.parseEmptyStatement=function(){var d=this.createNode();return this.expect(";"),this.finalize(d,new o.EmptyStatement)},f.prototype.parseExpressionStatement=function(){var d=this.createNode(),h=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new o.ExpressionStatement(h))},f.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},f.prototype.parseIfStatement=function(){var d=this.createNode(),h,g=null;this.expectKeyword("if"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),h=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),g=this.parseIfClause())),this.finalize(d,new o.IfStatement(m,h,g))},f.prototype.parseDoWhileStatement=function(){var d=this.createNode();this.expectKeyword("do");var h=this.context.inIteration;this.context.inIteration=!0;var g=this.parseStatement();this.context.inIteration=h,this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(d,new o.DoWhileStatement(g,m))},f.prototype.parseWhileStatement=function(){var d=this.createNode(),h;this.expectKeyword("while"),this.expect("(");var g=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,h=this.parseStatement(),this.context.inIteration=m}return this.finalize(d,new o.WhileStatement(g,h))},f.prototype.parseForStatement=function(){var d=null,h=null,g=null,m=!0,y,C,x=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){d=this.createNode(),this.nextToken();var T=this.context.allowIn;this.context.allowIn=!1;var E=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=T,E.length===1&&this.matchKeyword("in")){var k=E[0];k.init&&(k.id.type===c.Syntax.ArrayPattern||k.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),d=this.finalize(d,new o.VariableDeclaration(E,"var")),this.nextToken(),y=d,C=this.parseExpression(),d=null}else E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(d=this.finalize(d,new o.VariableDeclaration(E,"var")),this.nextToken(),y=d,C=this.parseAssignmentExpression(),d=null,m=!1):(d=this.finalize(d,new o.VariableDeclaration(E,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){d=this.createNode();var L=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")d=this.finalize(d,new o.Identifier(L)),this.nextToken(),y=d,C=this.parseExpression(),d=null;else{var T=this.context.allowIn;this.context.allowIn=!1;var E=this.parseBindingList(L,{inFor:!0});this.context.allowIn=T,E.length===1&&E[0].init===null&&this.matchKeyword("in")?(d=this.finalize(d,new o.VariableDeclaration(E,L)),this.nextToken(),y=d,C=this.parseExpression(),d=null):E.length===1&&E[0].init===null&&this.matchContextualKeyword("of")?(d=this.finalize(d,new o.VariableDeclaration(E,L)),this.nextToken(),y=d,C=this.parseAssignmentExpression(),d=null,m=!1):(this.consumeSemicolon(),d=this.finalize(d,new o.VariableDeclaration(E,L)))}}else{var A=this.lookahead,T=this.context.allowIn;if(this.context.allowIn=!1,d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=T,this.matchKeyword("in"))(!this.context.isAssignmentTarget||d.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(d),y=d,C=this.parseExpression(),d=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||d.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(d),y=d,C=this.parseAssignmentExpression(),d=null,m=!1;else{if(this.match(",")){for(var j=[d];this.match(",");)this.nextToken(),j.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(A),new o.SequenceExpression(j))}this.expect(";")}}typeof y>"u"&&(this.match(";")||(h=this.parseExpression()),this.expect(";"),this.match(")")||(g=this.parseExpression()));var H;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),H=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var F=this.context.inIteration;this.context.inIteration=!0,H=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=F}return typeof y>"u"?this.finalize(x,new o.ForStatement(d,h,g,H)):m?this.finalize(x,new o.ForInStatement(y,C,H)):this.finalize(x,new o.ForOfStatement(y,C,H))},f.prototype.parseContinueStatement=function(){var d=this.createNode();this.expectKeyword("continue");var h=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var g=this.parseVariableIdentifier();h=g;var m="$"+g.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,g.name)}return this.consumeSemicolon(),h===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(d,new o.ContinueStatement(h))},f.prototype.parseBreakStatement=function(){var d=this.createNode();this.expectKeyword("break");var h=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var g=this.parseVariableIdentifier(),m="$"+g.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,g.name),h=g}return this.consumeSemicolon(),h===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(d,new o.BreakStatement(h))},f.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var d=this.createNode();this.expectKeyword("return");var h=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,g=h?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(d,new o.ReturnStatement(g))},f.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var d=this.createNode(),h;this.expectKeyword("with"),this.expect("(");var g=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),h=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),h=this.parseStatement()),this.finalize(d,new o.WithStatement(g,h))},f.prototype.parseSwitchCase=function(){var d=this.createNode(),h;this.matchKeyword("default")?(this.nextToken(),h=null):(this.expectKeyword("case"),h=this.parseExpression()),this.expect(":");for(var g=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)g.push(this.parseStatementListItem());return this.finalize(d,new o.SwitchCase(h,g))},f.prototype.parseSwitchStatement=function(){var d=this.createNode();this.expectKeyword("switch"),this.expect("(");var h=this.parseExpression();this.expect(")");var g=this.context.inSwitch;this.context.inSwitch=!0;var m=[],y=!1;for(this.expect("{");!this.match("}");){var C=this.parseSwitchCase();C.test===null&&(y&&this.throwError(s.Messages.MultipleDefaultsInSwitch),y=!0),m.push(C)}return this.expect("}"),this.context.inSwitch=g,this.finalize(d,new o.SwitchStatement(h,m))},f.prototype.parseLabelledStatement=function(){var d=this.createNode(),h=this.parseExpression(),g;if(h.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var m=h,y="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)&&this.throwError(s.Messages.Redeclaration,"Label",m.name),this.context.labelSet[y]=!0;var C=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),C=this.parseClassDeclaration();else if(this.matchKeyword("function")){var x=this.lookahead,T=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(x,s.Messages.StrictFunction):T.generator&&this.tolerateUnexpectedToken(x,s.Messages.GeneratorInLegacyContext),C=T}else C=this.parseStatement();delete this.context.labelSet[y],g=new o.LabeledStatement(m,C)}else this.consumeSemicolon(),g=new o.ExpressionStatement(h);return this.finalize(d,g)},f.prototype.parseThrowStatement=function(){var d=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var h=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new o.ThrowStatement(h))},f.prototype.parseCatchClause=function(){var d=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var h=[],g=this.parsePattern(h),m={},y=0;y<h.length;y++){var C="$"+h[y].value;Object.prototype.hasOwnProperty.call(m,C)&&this.tolerateError(s.Messages.DuplicateBinding,h[y].value),m[C]=!0}this.context.strict&&g.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(g.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var x=this.parseBlock();return this.finalize(d,new o.CatchClause(g,x))},f.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},f.prototype.parseTryStatement=function(){var d=this.createNode();this.expectKeyword("try");var h=this.parseBlock(),g=this.matchKeyword("catch")?this.parseCatchClause():null,m=this.matchKeyword("finally")?this.parseFinallyClause():null;return!g&&!m&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(d,new o.TryStatement(h,g,m))},f.prototype.parseDebuggerStatement=function(){var d=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(d,new o.DebuggerStatement)},f.prototype.parseStatement=function(){var d;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:d=this.parseExpressionStatement();break;case 7:var h=this.lookahead.value;h==="{"?d=this.parseBlock():h==="("?d=this.parseExpressionStatement():h===";"?d=this.parseEmptyStatement():d=this.parseExpressionStatement();break;case 3:d=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":d=this.parseBreakStatement();break;case"continue":d=this.parseContinueStatement();break;case"debugger":d=this.parseDebuggerStatement();break;case"do":d=this.parseDoWhileStatement();break;case"for":d=this.parseForStatement();break;case"function":d=this.parseFunctionDeclaration();break;case"if":d=this.parseIfStatement();break;case"return":d=this.parseReturnStatement();break;case"switch":d=this.parseSwitchStatement();break;case"throw":d=this.parseThrowStatement();break;case"try":d=this.parseTryStatement();break;case"var":d=this.parseVariableStatement();break;case"while":d=this.parseWhileStatement();break;case"with":d=this.parseWithStatement();break;default:d=this.parseExpressionStatement();break}break;default:d=this.throwUnexpectedToken(this.lookahead)}return d},f.prototype.parseFunctionSourceElements=function(){var d=this.createNode();this.expect("{");var h=this.parseDirectivePrologues(),g=this.context.labelSet,m=this.context.inIteration,y=this.context.inSwitch,C=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)h.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=g,this.context.inIteration=m,this.context.inSwitch=y,this.context.inFunctionBody=C,this.finalize(d,new o.BlockStatement(h))},f.prototype.validateParam=function(d,h,g){var m="$"+g;this.context.strict?(this.scanner.isRestrictedWord(g)&&(d.stricted=h,d.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(d.paramSet,m)&&(d.stricted=h,d.message=s.Messages.StrictParamDupe)):d.firstRestricted||(this.scanner.isRestrictedWord(g)?(d.firstRestricted=h,d.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(g)?(d.firstRestricted=h,d.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(d.paramSet,m)&&(d.stricted=h,d.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(d.paramSet,m,{value:!0,enumerable:!0,writable:!0,configurable:!0}):d.paramSet[m]=!0},f.prototype.parseRestElement=function(d){var h=this.createNode();this.expect("...");var g=this.parsePattern(d);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(h,new o.RestElement(g))},f.prototype.parseFormalParameter=function(d){for(var h=[],g=this.match("...")?this.parseRestElement(h):this.parsePatternWithDefault(h),m=0;m<h.length;m++)this.validateParam(d,h[m],h[m].value);d.simple=d.simple&&g instanceof o.Identifier,d.params.push(g)},f.prototype.parseFormalParameters=function(d){var h;if(h={simple:!0,params:[],firstRestricted:d},this.expect("("),!this.match(")"))for(h.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(h),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:h.simple,params:h.params,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},f.prototype.matchAsyncFunction=function(){var d=this.matchContextualKeyword("async");if(d){var h=this.scanner.saveState();this.scanner.scanComments();var g=this.scanner.lex();this.scanner.restoreState(h),d=h.lineNumber===g.lineNumber&&g.type===4&&g.value==="function"}return d},f.prototype.parseFunctionDeclaration=function(d){var h=this.createNode(),g=this.matchContextualKeyword("async");g&&this.nextToken(),this.expectKeyword("function");var m=g?!1:this.match("*");m&&this.nextToken();var y,C=null,x=null;if(!d||!this.match("(")){var T=this.lookahead;C=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(T.value)&&this.tolerateUnexpectedToken(T,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(T.value)?(x=T,y=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(T.value)&&(x=T,y=s.Messages.StrictReservedWord)}var E=this.context.await,k=this.context.allowYield;this.context.await=g,this.context.allowYield=!m;var L=this.parseFormalParameters(x),A=L.params,j=L.stricted;x=L.firstRestricted,L.message&&(y=L.message);var H=this.context.strict,F=this.context.allowStrictDirective;this.context.allowStrictDirective=L.simple;var M=this.parseFunctionSourceElements();return this.context.strict&&x&&this.throwUnexpectedToken(x,y),this.context.strict&&j&&this.tolerateUnexpectedToken(j,y),this.context.strict=H,this.context.allowStrictDirective=F,this.context.await=E,this.context.allowYield=k,g?this.finalize(h,new o.AsyncFunctionDeclaration(C,A,M)):this.finalize(h,new o.FunctionDeclaration(C,A,M,m))},f.prototype.parseFunctionExpression=function(){var d=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var g=h?!1:this.match("*");g&&this.nextToken();var m,y=null,C,x=this.context.await,T=this.context.allowYield;if(this.context.await=h,this.context.allowYield=!g,!this.match("(")){var E=this.lookahead;y=!this.context.strict&&!g&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(E.value)&&this.tolerateUnexpectedToken(E,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(E.value)?(C=E,m=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(E.value)&&(C=E,m=s.Messages.StrictReservedWord)}var k=this.parseFormalParameters(C),L=k.params,A=k.stricted;C=k.firstRestricted,k.message&&(m=k.message);var j=this.context.strict,H=this.context.allowStrictDirective;this.context.allowStrictDirective=k.simple;var F=this.parseFunctionSourceElements();return this.context.strict&&C&&this.throwUnexpectedToken(C,m),this.context.strict&&A&&this.tolerateUnexpectedToken(A,m),this.context.strict=j,this.context.allowStrictDirective=H,this.context.await=x,this.context.allowYield=T,h?this.finalize(d,new o.AsyncFunctionExpression(y,L,F)):this.finalize(d,new o.FunctionExpression(y,L,F,g))},f.prototype.parseDirective=function(){var d=this.lookahead,h=this.createNode(),g=this.parseExpression(),m=g.type===c.Syntax.Literal?this.getTokenRaw(d).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(h,m?new o.Directive(g,m):new o.ExpressionStatement(g))},f.prototype.parseDirectivePrologues=function(){for(var d=null,h=[];;){var g=this.lookahead;if(g.type!==8)break;var m=this.parseDirective();h.push(m);var y=m.directive;if(typeof y!="string")break;y==="use strict"?(this.context.strict=!0,d&&this.tolerateUnexpectedToken(d,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(g,s.Messages.IllegalLanguageModeDirective)):!d&&g.octal&&(d=g)}return h},f.prototype.qualifiedPropertyName=function(d){switch(d.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return d.value==="[";default:break}return!1},f.prototype.parseGetterMethod=function(){var d=this.createNode(),h=!1,g=this.context.allowYield;this.context.allowYield=!h;var m=this.parseFormalParameters();m.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var y=this.parsePropertyMethod(m);return this.context.allowYield=g,this.finalize(d,new o.FunctionExpression(null,m.params,y,h))},f.prototype.parseSetterMethod=function(){var d=this.createNode(),h=!1,g=this.context.allowYield;this.context.allowYield=!h;var m=this.parseFormalParameters();m.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):m.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var y=this.parsePropertyMethod(m);return this.context.allowYield=g,this.finalize(d,new o.FunctionExpression(null,m.params,y,h))},f.prototype.parseGeneratorMethod=function(){var d=this.createNode(),h=!0,g=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters();this.context.allowYield=!1;var y=this.parsePropertyMethod(m);return this.context.allowYield=g,this.finalize(d,new o.FunctionExpression(null,m.params,y,h))},f.prototype.isStartOfExpression=function(){var d=!0,h=this.lookahead.value;switch(this.lookahead.type){case 7:d=h==="["||h==="("||h==="{"||h==="+"||h==="-"||h==="!"||h==="~"||h==="++"||h==="--"||h==="/"||h==="/=";break;case 4:d=h==="class"||h==="delete"||h==="function"||h==="let"||h==="new"||h==="super"||h==="this"||h==="typeof"||h==="void"||h==="yield";break;default:break}return d},f.prototype.parseYieldExpression=function(){var d=this.createNode();this.expectKeyword("yield");var h=null,g=!1;if(!this.hasLineTerminator){var m=this.context.allowYield;this.context.allowYield=!1,g=this.match("*"),g?(this.nextToken(),h=this.parseAssignmentExpression()):this.isStartOfExpression()&&(h=this.parseAssignmentExpression()),this.context.allowYield=m}return this.finalize(d,new o.YieldExpression(h,g))},f.prototype.parseClassElement=function(d){var h=this.lookahead,g=this.createNode(),m="",y=null,C=null,x=!1,T=!1,E=!1,k=!1;if(this.match("*"))this.nextToken();else{x=this.match("["),y=this.parseObjectPropertyKey();var L=y;if(L.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(h=this.lookahead,E=!0,x=this.match("["),this.match("*")?this.nextToken():y=this.parseObjectPropertyKey()),h.type===3&&!this.hasLineTerminator&&h.value==="async"){var A=this.lookahead.value;A!==":"&&A!=="("&&A!=="*"&&(k=!0,h=this.lookahead,y=this.parseObjectPropertyKey(),h.type===3&&h.value==="constructor"&&this.tolerateUnexpectedToken(h,s.Messages.ConstructorIsAsync))}}var j=this.qualifiedPropertyName(this.lookahead);return h.type===3?h.value==="get"&&j?(m="get",x=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,C=this.parseGetterMethod()):h.value==="set"&&j&&(m="set",x=this.match("["),y=this.parseObjectPropertyKey(),C=this.parseSetterMethod()):h.type===7&&h.value==="*"&&j&&(m="init",x=this.match("["),y=this.parseObjectPropertyKey(),C=this.parseGeneratorMethod(),T=!0),!m&&y&&this.match("(")&&(m="init",C=k?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),T=!0),m||this.throwUnexpectedToken(this.lookahead),m==="init"&&(m="method"),x||(E&&this.isPropertyKey(y,"prototype")&&this.throwUnexpectedToken(h,s.Messages.StaticPrototype),!E&&this.isPropertyKey(y,"constructor")&&((m!=="method"||!T||C&&C.generator)&&this.throwUnexpectedToken(h,s.Messages.ConstructorSpecialMethod),d.value?this.throwUnexpectedToken(h,s.Messages.DuplicateConstructor):d.value=!0,m="constructor")),this.finalize(g,new o.MethodDefinition(y,x,C,m,E))},f.prototype.parseClassElementList=function(){var d=[],h={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():d.push(this.parseClassElement(h));return this.expect("}"),d},f.prototype.parseClassBody=function(){var d=this.createNode(),h=this.parseClassElementList();return this.finalize(d,new o.ClassBody(h))},f.prototype.parseClassDeclaration=function(d){var h=this.createNode(),g=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=d&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),y=null;this.matchKeyword("extends")&&(this.nextToken(),y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=g,this.finalize(h,new o.ClassDeclaration(m,y,C))},f.prototype.parseClassExpression=function(){var d=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var g=this.lookahead.type===3?this.parseVariableIdentifier():null,m=null;this.matchKeyword("extends")&&(this.nextToken(),m=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var y=this.parseClassBody();return this.context.strict=h,this.finalize(d,new o.ClassExpression(g,m,y))},f.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var d=this.createNode(),h=this.parseDirectivePrologues();this.lookahead.type!==2;)h.push(this.parseStatementListItem());return this.finalize(d,new o.Module(h))},f.prototype.parseScript=function(){for(var d=this.createNode(),h=this.parseDirectivePrologues();this.lookahead.type!==2;)h.push(this.parseStatementListItem());return this.finalize(d,new o.Script(h))},f.prototype.parseModuleSpecifier=function(){var d=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var h=this.nextToken(),g=this.getTokenRaw(h);return this.finalize(d,new o.Literal(h.value,g))},f.prototype.parseImportSpecifier=function(){var d=this.createNode(),h,g;return this.lookahead.type===3?(h=this.parseVariableIdentifier(),g=h,this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseVariableIdentifier())):(h=this.parseIdentifierName(),g=h,this.matchContextualKeyword("as")?(this.nextToken(),g=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(d,new o.ImportSpecifier(g,h))},f.prototype.parseNamedImports=function(){this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),d},f.prototype.parseImportDefaultSpecifier=function(){var d=this.createNode(),h=this.parseIdentifierName();return this.finalize(d,new o.ImportDefaultSpecifier(h))},f.prototype.parseImportNamespaceSpecifier=function(){var d=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var h=this.parseIdentifierName();return this.finalize(d,new o.ImportNamespaceSpecifier(h))},f.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var d=this.createNode();this.expectKeyword("import");var h,g=[];if(this.lookahead.type===8)h=this.parseModuleSpecifier();else{if(this.match("{")?g=g.concat(this.parseNamedImports()):this.match("*")?g.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(g.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?g.push(this.parseImportNamespaceSpecifier()):this.match("{")?g=g.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken(),h=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(d,new o.ImportDeclaration(g,h))},f.prototype.parseExportSpecifier=function(){var d=this.createNode(),h=this.parseIdentifierName(),g=h;return this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseIdentifierName()),this.finalize(d,new o.ExportSpecifier(h,g))},f.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var d=this.createNode();this.expectKeyword("export");var h;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var g=this.parseFunctionDeclaration(!0);h=this.finalize(d,new o.ExportDefaultDeclaration(g))}else if(this.matchKeyword("class")){var g=this.parseClassDeclaration(!0);h=this.finalize(d,new o.ExportDefaultDeclaration(g))}else if(this.matchContextualKeyword("async")){var g=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();h=this.finalize(d,new o.ExportDefaultDeclaration(g))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var g=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),h=this.finalize(d,new o.ExportDefaultDeclaration(g))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken();var y=this.parseModuleSpecifier();this.consumeSemicolon(),h=this.finalize(d,new o.ExportAllDeclaration(y))}else if(this.lookahead.type===4){var g=void 0;switch(this.lookahead.value){case"let":case"const":g=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":g=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}h=this.finalize(d,new o.ExportNamedDeclaration(g,[],null))}else if(this.matchAsyncFunction()){var g=this.parseFunctionDeclaration();h=this.finalize(d,new o.ExportNamedDeclaration(g,[],null))}else{var C=[],x=null,T=!1;for(this.expect("{");!this.match("}");)T=T||this.matchKeyword("default"),C.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),x=this.parseModuleSpecifier(),this.consumeSemicolon();else if(T){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}else this.consumeSemicolon();h=this.finalize(d,new o.ExportNamedDeclaration(null,C,x))}return h},f}();e.Parser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(r,i){if(!r)throw new Error("ASSERT: "+i)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){this.errors=[],this.tolerant=!1}return r.prototype.recordError=function(i){this.errors.push(i)},r.prototype.tolerate=function(i){if(this.tolerant)this.recordError(i);else throw i},r.prototype.constructError=function(i,s){var o=new Error(i);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},r.prototype.createError=function(i,s,o,a){var c="Line "+s+": "+a,u=this.constructError(c,o);return u.index=i,u.lineNumber=s,u.description=a,u},r.prototype.throwError=function(i,s,o,a){throw this.createError(i,s,o,a)},r.prototype.tolerateError=function(i,s,o,a){var c=this.createError(i,s,o,a);if(this.tolerant)this.recordError(c);else throw c},r}();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(4),s=n(11);function o(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function a(u){return"01234567".indexOf(u)}var c=function(){function u(l,p){this.source=l,this.errorHandler=p,this.trackComment=!1,this.isModule=!1,this.length=l.length,this.index=0,this.lineNumber=l.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return u.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},u.prototype.restoreState=function(l){this.index=l.index,this.lineNumber=l.lineNumber,this.lineStart=l.lineStart},u.prototype.eof=function(){return this.index>=this.length},u.prototype.throwUnexpectedToken=function(l){return l===void 0&&(l=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,l)},u.prototype.tolerateUnexpectedToken=function(l){l===void 0&&(l=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,l)},u.prototype.skipSingleLineComment=function(l){var p=[],f,d;for(this.trackComment&&(p=[],f=this.index-l,d={start:{line:this.lineNumber,column:this.index-this.lineStart-l},end:{}});!this.eof();){var h=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(h)){if(this.trackComment){d.end={line:this.lineNumber,column:this.index-this.lineStart-1};var g={multiLine:!1,slice:[f+l,this.index-1],range:[f,this.index-1],loc:d};p.push(g)}return h===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,p}}if(this.trackComment){d.end={line:this.lineNumber,column:this.index-this.lineStart};var g={multiLine:!1,slice:[f+l,this.index],range:[f,this.index],loc:d};p.push(g)}return p},u.prototype.skipMultiLineComment=function(){var l=[],p,f;for(this.trackComment&&(l=[],p=this.index-2,f={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(d))d===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(d===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!0,slice:[p+2,this.index-2],range:[p,this.index],loc:f};l.push(h)}return l}++this.index}else++this.index}if(this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!0,slice:[p+2,this.index],range:[p,this.index],loc:f};l.push(h)}return this.tolerateUnexpectedToken(),l},u.prototype.scanComments=function(){var l;this.trackComment&&(l=[]);for(var p=this.index===0;!this.eof();){var f=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(f))++this.index;else if(i.Character.isLineTerminator(f))++this.index,f===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,p=!0;else if(f===47)if(f=this.source.charCodeAt(this.index+1),f===47){this.index+=2;var d=this.skipSingleLineComment(2);this.trackComment&&(l=l.concat(d)),p=!0}else if(f===42){this.index+=2;var d=this.skipMultiLineComment();this.trackComment&&(l=l.concat(d))}else break;else if(p&&f===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var d=this.skipSingleLineComment(3);this.trackComment&&(l=l.concat(d))}else break;else if(f===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var d=this.skipSingleLineComment(4);this.trackComment&&(l=l.concat(d))}else break;else break}return l},u.prototype.isFutureReservedWord=function(l){switch(l){case"enum":case"export":case"import":case"super":return!0;default:return!1}},u.prototype.isStrictModeReservedWord=function(l){switch(l){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},u.prototype.isRestrictedWord=function(l){return l==="eval"||l==="arguments"},u.prototype.isKeyword=function(l){switch(l.length){case 2:return l==="if"||l==="in"||l==="do";case 3:return l==="var"||l==="for"||l==="new"||l==="try"||l==="let";case 4:return l==="this"||l==="else"||l==="case"||l==="void"||l==="with"||l==="enum";case 5:return l==="while"||l==="break"||l==="catch"||l==="throw"||l==="const"||l==="yield"||l==="class"||l==="super";case 6:return l==="return"||l==="typeof"||l==="delete"||l==="switch"||l==="export"||l==="import";case 7:return l==="default"||l==="finally"||l==="extends";case 8:return l==="function"||l==="continue"||l==="debugger";case 10:return l==="instanceof";default:return!1}},u.prototype.codePointAt=function(l){var p=this.source.charCodeAt(l);if(p>=55296&&p<=56319){var f=this.source.charCodeAt(l+1);if(f>=56320&&f<=57343){var d=p;p=(d-55296)*1024+f-56320+65536}}return p},u.prototype.scanHexEscape=function(l){for(var p=l==="u"?4:2,f=0,d=0;d<p;++d)if(!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index)))f=f*16+o(this.source[this.index++]);else return null;return String.fromCharCode(f)},u.prototype.scanUnicodeCodePointEscape=function(){var l=this.source[this.index],p=0;for(l==="}"&&this.throwUnexpectedToken();!this.eof()&&(l=this.source[this.index++],!!i.Character.isHexDigit(l.charCodeAt(0)));)p=p*16+o(l);return(p>1114111||l!=="}")&&this.throwUnexpectedToken(),i.Character.fromCodePoint(p)},u.prototype.getIdentifier=function(){for(var l=this.index++;!this.eof();){var p=this.source.charCodeAt(this.index);if(p===92)return this.index=l,this.getComplexIdentifier();if(p>=55296&&p<57343)return this.index=l,this.getComplexIdentifier();if(i.Character.isIdentifierPart(p))++this.index;else break}return this.source.slice(l,this.index)},u.prototype.getComplexIdentifier=function(){var l=this.codePointAt(this.index),p=i.Character.fromCodePoint(l);this.index+=p.length;var f;for(l===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),(f===null||f==="\\"||!i.Character.isIdentifierStart(f.charCodeAt(0)))&&this.throwUnexpectedToken()),p=f);!this.eof()&&(l=this.codePointAt(this.index),!!i.Character.isIdentifierPart(l));)f=i.Character.fromCodePoint(l),p+=f,this.index+=f.length,l===92&&(p=p.substr(0,p.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),(f===null||f==="\\"||!i.Character.isIdentifierPart(f.charCodeAt(0)))&&this.throwUnexpectedToken()),p+=f);return p},u.prototype.octalToDecimal=function(l){var p=l!=="0",f=a(l);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=!0,f=f*8+a(this.source[this.index++]),"0123".indexOf(l)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(f=f*8+a(this.source[this.index++]))),{code:f,octal:p}},u.prototype.scanIdentifier=function(){var l,p=this.index,f=this.source.charCodeAt(p)===92?this.getComplexIdentifier():this.getIdentifier();if(f.length===1?l=3:this.isKeyword(f)?l=4:f==="null"?l=5:f==="true"||f==="false"?l=1:l=3,l!==3&&p+f.length!==this.index){var d=this.index;this.index=p,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=d}return{type:l,value:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},u.prototype.scanPunctuator=function(){var l=this.index,p=this.source[this.index];switch(p){case"(":case"{":p==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,p="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:p=this.source.substr(this.index,4),p===">>>="?this.index+=4:(p=p.substr(0,3),p==="==="||p==="!=="||p===">>>"||p==="<<="||p===">>="||p==="**="?this.index+=3:(p=p.substr(0,2),p==="&&"||p==="||"||p==="=="||p==="!="||p==="+="||p==="-="||p==="*="||p==="/="||p==="++"||p==="--"||p==="<<"||p===">>"||p==="&="||p==="|="||p==="^="||p==="%="||p==="<="||p===">="||p==="=>"||p==="**"?this.index+=2:(p=this.source[this.index],"<>=!+-*%&|^/".indexOf(p)>=0&&++this.index)))}return this.index===l&&this.throwUnexpectedToken(),{type:7,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.scanHexLiteral=function(l){for(var p="";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return p.length===0&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+p,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.scanBinaryLiteral=function(l){for(var p="",f;!this.eof()&&(f=this.source[this.index],!(f!=="0"&&f!=="1"));)p+=this.source[this.index++];return p.length===0&&this.throwUnexpectedToken(),this.eof()||(f=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(f)||i.Character.isDecimalDigit(f))&&this.throwUnexpectedToken()),{type:6,value:parseInt(p,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.scanOctalLiteral=function(l,p){var f="",d=!1;for(i.Character.isOctalDigit(l.charCodeAt(0))?(d=!0,f="0"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];return!d&&f.length===0&&this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(f,8),octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},u.prototype.isImplicitOctalLiteral=function(){for(var l=this.index+1;l<this.length;++l){var p=this.source[l];if(p==="8"||p==="9")return!1;if(!i.Character.isOctalDigit(p.charCodeAt(0)))return!0}return!0},u.prototype.scanNumericLiteral=function(){var l=this.index,p=this.source[l];r.assert(i.Character.isDecimalDigit(p.charCodeAt(0))||p===".","Numeric literal must start with a decimal digit or a decimal point");var f="";if(p!=="."){if(f=this.source[this.index++],p=this.source[this.index],f==="0"){if(p==="x"||p==="X")return++this.index,this.scanHexLiteral(l);if(p==="b"||p==="B")return++this.index,this.scanBinaryLiteral(l);if(p==="o"||p==="O")return this.scanOctalLiteral(p,l);if(p&&i.Character.isOctalDigit(p.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(p,l)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];p=this.source[this.index]}if(p==="."){for(f+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];p=this.source[this.index]}if(p==="e"||p==="E")if(f+=this.source[this.index++],p=this.source[this.index],(p==="+"||p==="-")&&(f+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(f),lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.scanStringLiteral=function(){var l=this.index,p=this.source[l];r.assert(p==="'"||p==='"',"String literal must starts with a quote"),++this.index;for(var f=!1,d="";!this.eof();){var h=this.source[this.index++];if(h===p){p="";break}else if(h==="\\")if(h=this.source[this.index++],!h||!i.Character.isLineTerminator(h.charCodeAt(0)))switch(h){case"u":if(this.source[this.index]==="{")++this.index,d+=this.scanUnicodeCodePointEscape();else{var g=this.scanHexEscape(h);g===null&&this.throwUnexpectedToken(),d+=g}break;case"x":var m=this.scanHexEscape(h);m===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),d+=m;break;case"n":d+=`
`;break;case"r":d+="\r";break;case"t":d+="	";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;case"8":case"9":d+=h,this.tolerateUnexpectedToken();break;default:if(h&&i.Character.isOctalDigit(h.charCodeAt(0))){var y=this.octalToDecimal(h);f=y.octal||f,d+=String.fromCharCode(y.code)}else d+=h;break}else++this.lineNumber,h==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(i.Character.isLineTerminator(h.charCodeAt(0)))break;d+=h}}return p!==""&&(this.index=l,this.throwUnexpectedToken()),{type:8,value:d,octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.scanTemplate=function(){var l="",p=!1,f=this.index,d=this.source[f]==="`",h=!1,g=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if(m==="`"){g=1,h=!0,p=!0;break}else if(m==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,p=!0;break}l+=m}else if(m==="\\")if(m=this.source[this.index++],i.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(m){case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var y=this.index,C=this.scanHexEscape(m);C!==null?l+=C:(this.index=y,l+=m)}break;case"x":var x=this.scanHexEscape(m);x===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),l+=x;break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;default:m==="0"?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),l+="\0"):i.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):l+=m;break}else i.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,l+=`
`):l+=m}return p||this.throwUnexpectedToken(),d||this.curlyStack.pop(),{type:10,value:this.source.slice(f+1,this.index-g),cooked:l,head:d,tail:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.testRegExp=function(l,p){var f="\uFFFF",d=l,h=this;p.indexOf("u")>=0&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(g,m,y){var C=parseInt(m||y,16);return C>1114111&&h.throwUnexpectedToken(s.Messages.InvalidRegExp),C<=65535?String.fromCharCode(C):f}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f));try{RegExp(d)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(l,p)}catch{return null}},u.prototype.scanRegExpBody=function(){var l=this.source[this.index];r.assert(l==="/","Regular expression literal must start with a slash");for(var p=this.source[this.index++],f=!1,d=!1;!this.eof();)if(l=this.source[this.index++],p+=l,l==="\\")l=this.source[this.index++],i.Character.isLineTerminator(l.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),p+=l;else if(i.Character.isLineTerminator(l.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(f)l==="]"&&(f=!1);else if(l==="/"){d=!0;break}else l==="["&&(f=!0);return d||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),p.substr(1,p.length-2)},u.prototype.scanRegExpFlags=function(){for(var l="",p="";!this.eof();){var f=this.source[this.index];if(!i.Character.isIdentifierPart(f.charCodeAt(0)))break;if(++this.index,f==="\\"&&!this.eof())if(f=this.source[this.index],f==="u"){++this.index;var d=this.index,h=this.scanHexEscape("u");if(h!==null)for(p+=h,l+="\\u";d<this.index;++d)l+=this.source[d];else this.index=d,p+="u",l+="\\u";this.tolerateUnexpectedToken()}else l+="\\",this.tolerateUnexpectedToken();else p+=f,l+=f}return p},u.prototype.scanRegExp=function(){var l=this.index,p=this.scanRegExpBody(),f=this.scanRegExpFlags(),d=this.testRegExp(p,f);return{type:9,value:"",pattern:p,flags:f,regex:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:l,end:this.index}},u.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var l=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(l)?this.scanIdentifier():l===40||l===41||l===59?this.scanPunctuator():l===39||l===34?this.scanStringLiteral():l===46?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(l)?this.scanNumericLiteral():l===96||l===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():l>=55296&&l<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},u}();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(12),s=n(13),o=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(u){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(u)>=0},c.prototype.isRegexStart=function(){var u=this.values[this.values.length-1],l=u!==null;switch(u){case"this":case"]":l=!1;break;case")":var p=this.values[this.paren-1];l=p==="if"||p==="while"||p==="for"||p==="with";break;case"}":if(l=!1,this.values[this.curly-3]==="function"){var f=this.values[this.curly-4];l=f?!this.beforeFunctionExpression(f):!1}else if(this.values[this.curly-4]==="function"){var f=this.values[this.curly-5];l=f?!this.beforeFunctionExpression(f):!0}break;default:break}return l},c.prototype.push=function(u){u.type===7||u.type===4?(u.value==="{"?this.curly=this.values.length:u.value==="("&&(this.paren=this.values.length),this.values.push(u.value)):this.values.push(null)},c}(),a=function(){function c(u,l){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=l?typeof l.tolerant=="boolean"&&l.tolerant:!1,this.scanner=new i.Scanner(u,this.errorHandler),this.scanner.trackComment=l?typeof l.comment=="boolean"&&l.comment:!1,this.trackRange=l?typeof l.range=="boolean"&&l.range:!1,this.trackLoc=l?typeof l.loc=="boolean"&&l.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var u=this.scanner.scanComments();if(this.scanner.trackComment)for(var l=0;l<u.length;++l){var p=u[l],f=this.scanner.source.slice(p.slice[0],p.slice[1]),d={type:p.multiLine?"BlockComment":"LineComment",value:f};this.trackRange&&(d.range=p.range),this.trackLoc&&(d.loc=p.loc),this.buffer.push(d)}if(!this.scanner.eof()){var h=void 0;this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var g=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),m=g?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(m);var y={type:s.TokenName[m.type],value:this.scanner.source.slice(m.start,m.end)};if(this.trackRange&&(y.range=[m.start,m.end]),this.trackLoc&&(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},y.loc=h),m.type===9){var C=m.pattern,x=m.flags;y.regex={pattern:C,flags:x}}this.buffer.push(y)}}return this.buffer.shift()},c}();e.Tokenizer=a}])})});var jm=P(nr=>{function lre(t){return Array.isArray?Array.isArray(t):Wm(t)==="[object Array]"}nr.isArray=lre;function dre(t){return typeof t=="boolean"}nr.isBoolean=dre;function fre(t){return t===null}nr.isNull=fre;function pre(t){return t==null}nr.isNullOrUndefined=pre;function hre(t){return typeof t=="number"}nr.isNumber=hre;function gre(t){return typeof t=="string"}nr.isString=gre;function mre(t){return typeof t=="symbol"}nr.isSymbol=mre;function yre(t){return t===void 0}nr.isUndefined=yre;function Cre(t){return Wm(t)==="[object RegExp]"}nr.isRegExp=Cre;function Sre(t){return typeof t=="object"&&t!==null}nr.isObject=Sre;function xre(t){return Wm(t)==="[object Date]"}nr.isDate=xre;function bre(t){return Wm(t)==="[object Error]"||t instanceof Error}nr.isError=bre;function vre(t){return typeof t=="function"}nr.isFunction=vre;function wre(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}nr.isPrimitive=wre;nr.isBuffer=require("buffer").Buffer.isBuffer;function Wm(t){return Object.prototype.toString.call(t)}});var IU=P((e1e,_U)=>{var EU=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],Re,kU=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function RU(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let i=kU(t),s=kU(e),o=0;return i<s?(t*=EU[s-i-1],e/=10,o=-1):i>s&&(e*=EU[i-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),r=String(e);return n===r?0:n<r?-1:1}function Dre(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function FU(t,e,n,r){let i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;AU(t,e,i),AU(Re,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function AU(t,e,n){for(n--;e<n;){let r=t[e];t[e++]=t[n],t[n--]=r}}function PU(t,e,n,r,i){for(r===e&&r++;r<n;r++){let s=t[r],o=Re[r],a=e,c=r;for(;a<c;){let l=a+c>>>1;i(s,t[l])<0?c=l:a=l+1}let u=r-a;switch(u){case 3:t[a+3]=t[a+2],Re[a+3]=Re[a+2];case 2:t[a+2]=t[a+1],Re[a+2]=Re[a+1];case 1:t[a+1]=t[a],Re[a+1]=Re[a];break;default:for(;u>0;)t[a+u]=t[a+u-1],Re[a+u]=Re[a+u-1],u--}t[a]=s,Re[a]=o}}function QD(t,e,n,r,i,s){let o=0,a=0,c=1;if(s(t,e[n+i])>0){for(a=r-i;c<a&&s(t,e[n+i+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=i,c+=i}else{for(a=i+1;c<a&&s(t,e[n+i-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=i-c,c=i-u}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])>0?o=u+1:c=u}return c}function ZD(t,e,n,r,i,s){let o=0,a=0,c=1;if(s(t,e[n+i])<0){for(a=i+1;c<a&&s(t,e[n+i-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=i-c,c=i-u}else{for(a=r-i;c<a&&s(t,e[n+i+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=i,c+=i}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])<0?c=u:o=u+1}return c}var eT=class{constructor(e,n){this.array=e,this.compare=n;let{length:r}=e;this.length=r,this.minGallop=7,this.tmpStorageLength=r<2*256?r>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=r<120?5:r<1542?10:r<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:r}=this,i=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=ZD(r[o],r,i,s,0,n);i+=c,s-=c,s!==0&&(a=QD(r[i+s-1],r,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(i,s,o,a):this.mergeHigh(i,s,o,a)))}mergeLow(e,n,r,i){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<n;u++)a[u]=o[e+u],c[u]=Re[e+u];let l=0,p=r,f=e;if(o[f]=o[p],Re[f]=Re[p],f++,p++,--i===0){for(u=0;u<n;u++)o[f+u]=a[l+u],Re[f+u]=c[l+u];return}if(n===1){for(u=0;u<i;u++)o[f+u]=o[p+u],Re[f+u]=Re[p+u];o[f+i]=a[l],Re[f+i]=c[l];return}let{minGallop:d}=this;for(;;){let h=0,g=0,m=!1;do if(s(o[p],a[l])<0){if(o[f]=o[p],Re[f]=Re[p],f++,p++,g++,h=0,--i===0){m=!0;break}}else if(o[f]=a[l],Re[f]=c[l],f++,l++,h++,g=0,--n===1){m=!0;break}while((h|g)<d);if(m)break;do{if(h=ZD(o[p],a,l,n,0,s),h!==0){for(u=0;u<h;u++)o[f+u]=a[l+u],Re[f+u]=c[l+u];if(f+=h,l+=h,n-=h,n<=1){m=!0;break}}if(o[f]=o[p],Re[f]=Re[p],f++,p++,--i===0){m=!0;break}if(g=QD(a[l],o,p,i,0,s),g!==0){for(u=0;u<g;u++)o[f+u]=o[p+u],Re[f+u]=Re[p+u];if(f+=g,p+=g,i-=g,i===0){m=!0;break}}if(o[f]=a[l],Re[f]=c[l],f++,l++,--n===1){m=!0;break}d--}while(h>=7||g>=7);if(m)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),n===1){for(u=0;u<i;u++)o[f+u]=o[p+u],Re[f+u]=Re[p+u];o[f+i]=a[l],Re[f+i]=c[l]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(u=0;u<n;u++)o[f+u]=a[l+u],Re[f+u]=c[l+u]}}mergeHigh(e,n,r,i){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<i;u++)a[u]=o[r+u],c[u]=Re[r+u];let l=e+n-1,p=i-1,f=r+i-1,d=0,h=0;if(o[f]=o[l],Re[f]=Re[l],f--,l--,--n===0){for(d=f-(i-1),u=0;u<i;u++)o[d+u]=a[u],Re[d+u]=c[u];return}if(i===1){for(f-=n,l-=n,h=f+1,d=l+1,u=n-1;u>=0;u--)o[h+u]=o[d+u],Re[h+u]=Re[d+u];o[f]=a[p],Re[f]=c[p];return}let{minGallop:g}=this;for(;;){let m=0,y=0,C=!1;do if(s(a[p],o[l])<0){if(o[f]=o[l],Re[f]=Re[l],f--,l--,m++,y=0,--n===0){C=!0;break}}else if(o[f]=a[p],Re[f]=c[p],f--,p--,y++,m=0,--i===1){C=!0;break}while((m|y)<g);if(C)break;do{if(m=n-ZD(a[p],o,e,n,n-1,s),m!==0){for(f-=m,l-=m,n-=m,h=f+1,d=l+1,u=m-1;u>=0;u--)o[h+u]=o[d+u],Re[h+u]=Re[d+u];if(n===0){C=!0;break}}if(o[f]=a[p],Re[f]=c[p],f--,p--,--i===1){C=!0;break}if(y=i-QD(o[l],a,0,i,i-1,s),y!==0){for(f-=y,p-=y,i-=y,h=f+1,d=p+1,u=0;u<y;u++)o[h+u]=a[d+u],Re[h+u]=c[d+u];if(i<=1){C=!0;break}}if(o[f]=o[l],Re[f]=Re[l],f--,l--,--n===0){C=!0;break}g--}while(m>=7||y>=7);if(C)break;g<0&&(g=0),g+=2}if(this.minGallop=g,g<1&&(this.minGallop=1),i===1){for(f-=n,l-=n,h=f+1,d=l+1,u=n-1;u>=0;u--)o[h+u]=o[d+u],Re[h+u]=Re[d+u];o[f]=a[p],Re[f]=c[p]}else{if(i===0)throw new Error("mergeHigh preconditions were not respected");for(d=f-(i-1),u=0;u<i;u++)o[d+u]=a[u],Re[d+u]=c[u]}}};function Tre(t,e,n,r){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);Re=[];let{length:i}=t,s=0;for(;s<i;)Re[s]=s++;e?typeof e!="function"&&(r=n,n=e,e=RU):e=RU,n||(n=0),r||(r=i);let o=r-n;if(o<2)return Re;let a=0;if(o<32)return a=FU(t,n,r,e),PU(t,n,r,n+a,e),Re;let c=new eT(t,e),u=Dre(o);do{if(a=FU(t,n,r,e),a<u){let l=o;l>u&&(l=u),PU(t,n,n+l,n+a,e),a=l}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),Re}_U.exports={sort:Tre}});var LU=P((t1e,NU)=>{"use strict";var Ere=Object.prototype.hasOwnProperty;NU.exports=(t,e)=>Ere.call(t,e)});var wf=P((n1e,HU)=>{var rT=LU(),{isObject:OU,isArray:kre,isString:Rre,isNumber:Fre}=jm(),iT="before",UU="after-prop",qU="after-colon",WU="after-value",jU="after",BU="before-all",$U="after-all",Are="[",Pre="]",_re="{",Ire="}",Nre=",",Lre="",Ore="-",sT=[iT,UU,qU,WU,jU],Mre=[iT,BU,$U].map(Symbol.for),KU=":",MU=void 0,vf=(t,e)=>Symbol.for(t+KU+e),Bm=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),nT=(t,e,n,r,i,s)=>{let o=vf(i,r);if(!rT(e,o))return;let a=n===r?o:vf(i,n);Bm(t,a,e[o]),s&&delete e[o]},zU=(t,e,n,r,i)=>{sT.forEach(s=>{nT(t,e,n,r,s,i)})},Ure=(t,e,n)=>{e!==n&&sT.forEach(r=>{let i=vf(r,n);if(!rT(t,i)){nT(t,t,n,e,r,!0);return}let s=t[i];delete t[i],nT(t,t,n,e,r,!0),Bm(t,vf(r,e),s)})},tT=(t,e)=>{Mre.forEach(n=>{let r=e[n];r&&Bm(t,n,r)})},qre=(t,e,n)=>(n.forEach(r=>{!Rre(r)&&!Fre(r)||rT(e,r)&&(t[r]=e[r],zU(t,e,r,r))}),t);HU.exports={SYMBOL_PREFIXES:sT,PREFIX_BEFORE:iT,PREFIX_AFTER_PROP:UU,PREFIX_AFTER_COLON:qU,PREFIX_AFTER_VALUE:WU,PREFIX_AFTER:jU,PREFIX_BEFORE_ALL:BU,PREFIX_AFTER_ALL:$U,BRACKET_OPEN:Are,BRACKET_CLOSE:Pre,CURLY_BRACKET_OPEN:_re,CURLY_BRACKET_CLOSE:Ire,COLON:KU,COMMA:Nre,MINUS:Ore,EMPTY:Lre,UNDEFINED:MU,symbol:vf,define:Bm,copy_comments:zU,swap_comments:Ure,assign_non_prop_comments:tT,assign(t,e,n){if(!OU(t))throw new TypeError("Cannot convert undefined or null to object");if(!OU(e))return t;if(n===MU)n=Object.keys(e),tT(t,e);else if(kre(n))n.length===0&&tT(t,e);else throw new TypeError("keys must be array or undefined");return qre(t,e,n)}}});var aT=P((r1e,YU)=>{var{isArray:Wre}=jm(),{sort:jre}=IU(),{SYMBOL_PREFIXES:Bre,UNDEFINED:GU,symbol:$re,copy_comments:Kre,swap_comments:XU}=wf(),zre=t=>{let{length:e}=t,n=0,r=e/2;for(;n<r;n++)XU(t,n,e-n-1)},VU=(t,e,n,r,i)=>{Kre(t,e,n+r,n,i)},Wu=(t,e,n,r,i,s)=>{if(i>0){let a=r;for(;a-- >0;)VU(t,e,n+a,i,s);return}let o=0;for(;o<r;){let a=o++;VU(t,e,n+a,i,s)}},JU=(t,e)=>{Bre.forEach(n=>{let r=$re(n,e);delete t[r]})},Hre=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},oT=class t extends Array{splice(...e){let{length:n}=this,r=super.splice(...e),[i,s,...o]=e;i<0&&(i+=n),arguments.length===1?s=n-i:s=Math.min(n-i,s);let{length:a}=o,c=a-s,u=i+s,l=n-u;return Wu(this,this,u,l,c,!0),r}slice(...e){let{length:n}=this,r=super.slice(...e);if(!r.length)return new t;let[i,s]=e;return s===GU?s=n:s<0&&(s+=n),i<0?i+=n:i===GU&&(i=0),Wu(r,this,i,s-i,-i),r}unshift(...e){let{length:n}=this,r=super.unshift(...e),{length:i}=e;return i>0&&Wu(this,this,0,n,i,!0),r}shift(){let e=super.shift(),{length:n}=this;return JU(this,0),Wu(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),zre(this),this}pop(){let e=super.pop();return JU(this,this.length),e}concat(...e){let{length:n}=this,r=super.concat(...e);return e.length&&(Wu(r,this,0,this.length,0),e.forEach(i=>{let s=n;n+=Wre(i)?i.length:1,i instanceof t&&Wu(r,i,0,i.length,s)})),r}sort(...e){let n=jre(this,...e.slice(0,1)),r=Object.create(null);return n.forEach((i,s)=>{if(i===s)return;let o=Hre(r,i);o!==s&&(r[s]=o,XU(this,s,o))}),this}};YU.exports={CommentArray:oT}});var hq=P((i1e,pq)=>{var Gre=TU(),{CommentArray:Vre}=aT(),{PREFIX_BEFORE:Km,PREFIX_AFTER_PROP:Jre,PREFIX_AFTER_COLON:Xre,PREFIX_AFTER_VALUE:tq,PREFIX_AFTER:uT,PREFIX_BEFORE_ALL:Yre,PREFIX_AFTER_ALL:Qre,BRACKET_OPEN:Zre,BRACKET_CLOSE:QU,CURLY_BRACKET_OPEN:eie,CURLY_BRACKET_CLOSE:ZU,COLON:nq,COMMA:rq,MINUS:eq,EMPTY:tie,UNDEFINED:Gm,define:lT,assign_non_prop_comments:nie}=wf(),iq=t=>Gre.tokenize(t,{comment:!0,loc:!0}),dT=[],Mo=null,Ts=null,fT=[],Uo,sq=!1,oq=!1,Df=null,Tf=null,rr=null,aq,zm=null,cq=()=>{fT.length=dT.length=0,Tf=null,Uo=Gm},rie=()=>{cq(),Df.length=0,Ts=Mo=Df=Tf=rr=zm=null},pT=t=>Symbol.for(Uo!==Gm?t+nq+Uo:t),hT=(t,e)=>zm?zm(t,e):e,uq=()=>{let t=new SyntaxError(`Unexpected token ${rr.value.slice(0,1)}`);throw Object.assign(t,rr.loc.start),t},lq=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,Tf?Tf.loc.end:{line:1,column:0}),t},Di=()=>{let t=Df[++aq];oq=rr&&t&&rr.loc.end.line===t.loc.start.line||!1,Tf=rr,rr=t},cT=()=>(rr||lq(),rr.type==="Punctuator"?rr.value:rr.type),gc=t=>cT()===t,$m=t=>{gc(t)||uq()},gT=t=>{dT.push(Mo),Mo=t},mT=()=>{Mo=dT.pop()},dq=()=>{if(!Ts)return;let t=[];for(let n of Ts)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===Ts.length?Ts=null:Ts.splice(0,e),lT(Mo,pT(uT),t))},Oo=t=>{Ts&&(lT(Mo,pT(t),Ts),Ts=null)},Es=t=>{let e=[];for(;rr&&(gc("LineComment")||gc("BlockComment"));){let n={...rr,inline:oq};e.push(n),Di()}if(!sq&&e.length){if(t){lT(Mo,pT(t),e);return}Ts=e}},Hm=(t,e)=>{e&&fT.push(Uo),Uo=t},fq=()=>{Uo=fT.pop()},iie=()=>{let t={};gT(t),Hm(Gm,!0);let e=!1,n;for(Es();!gc(ZU)&&!(e&&(Oo(tq),$m(rq),Di(),Es(),dq(),gc(ZU)));)e=!0,$m("String"),n=JSON.parse(rr.value),Hm(n),Oo(Km),Di(),Es(Jre),$m(nq),Di(),Es(Xre),t[n]=hT(n,yT()),Es();return e&&Oo(uT),Di(),Uo=void 0,e||Oo(Km),mT(),fq(),t},sie=()=>{let t=new Vre;gT(t),Hm(Gm,!0);let e=!1,n=0;for(Es();!gc(QU)&&!(e&&(Oo(tq),$m(rq),Di(),Es(),dq(),gc(QU)));)e=!0,Hm(n),Oo(Km),t[n]=hT(n,yT()),n++,Es();return e&&Oo(uT),Di(),Uo=void 0,e||Oo(Km),mT(),fq(),t};function yT(){let t=cT();if(t===eie)return Di(),iie();if(t===Zre)return Di(),sie();let e=tie;t===eq&&(Di(),t=cT(),e=eq);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=rr.value,Di(),JSON.parse(e+n);default:}}var oie=t=>Object(t)===t,aie=(t,e,n)=>{cq(),Df=iq(t),zm=e,sq=n,Df.length||lq(),aq=-1,Di(),gT({}),Es(Yre);let r=yT();return Es(Qre),rr&&uq(),!n&&r!==null&&(oie(r)||(r=new Object(r)),nie(r,Mo)),mT(),r=hT("",r),rie(),r};pq.exports={parse:aie,tokenize:iq}});var mq=P((s1e,gq)=>{"use strict";var Xs="",CT;gq.exports=cie;function cie(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(CT!==t||typeof CT>"u")CT=t,Xs="";else if(Xs.length>=n)return Xs.substr(0,n);for(;n>Xs.length&&e>1;)e&1&&(Xs+=t),e>>=1,t+=t;return Xs+=t,Xs=Xs.substr(0,n),Xs}});var kq=P((o1e,Eq)=>{var{isArray:bT,isObject:yq,isFunction:xT,isNumber:uie,isString:lie}=jm(),die=mq(),{PREFIX_BEFORE_ALL:fie,PREFIX_BEFORE:Cq,PREFIX_AFTER_PROP:pie,PREFIX_AFTER_COLON:hie,PREFIX_AFTER_VALUE:gie,PREFIX_AFTER:vT,PREFIX_AFTER_ALL:mie,BRACKET_OPEN:yie,BRACKET_CLOSE:Cie,CURLY_BRACKET_OPEN:Sie,CURLY_BRACKET_CLOSE:xie,COLON:bie,COMMA:Sq,EMPTY:ti,UNDEFINED:vie}=wf(),ST=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,wT=" ",mc=`
`,xq="null",bq=t=>`${Cq}:${t}`,wie=t=>`${pie}:${t}`,Die=t=>`${hie}:${t}`,vq=t=>`${gie}:${t}`,wq=t=>`${vT}:${t}`,Tie={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},Eie=t=>(ST.lastIndex=0,ST.test(t)?t.replace(ST,e=>{let n=Tie[e];return typeof n=="string"?n:e}):t),Dq=t=>`"${Eie(t)}"`,kie=(t,e)=>e?`//${t}`:`/*${t}*/`,ei=(t,e,n,r)=>{let i=t[Symbol.for(e)];if(!i||!i.length)return ti;let s=!1,o=i.reduce((a,{inline:c,type:u,value:l})=>{let p=c?wT:mc+n;return s=u==="LineComment",a+p+kie(l,s)},ti);return r||s?o+mc+n:o},ju=null,kf=ti,Rie=()=>{ju=null,kf=ti},Ef=(t,e,n)=>t?e?t+e.trim()+mc+n:t.trimRight()+mc+n:e?e.trimRight()+mc+n:ti,Tq=(t,e,n)=>{let r=ei(e,Cq,n+kf,!0);return Ef(r,t,n)},Fie=(t,e)=>{let n=e+kf,{length:r}=t,i=ti,s=ti;for(let o=0;o<r;o++){o!==0&&(i+=Sq);let a=Ef(s,ei(t,bq(o),n),n);i+=a||mc+n,i+=DT(o,t,n)||xq,i+=ei(t,vq(o),n),s=ei(t,wq(o),n)}return i+=Ef(s,ei(t,vT,n),n),yie+Tq(i,t,e)+Cie},Aie=(t,e)=>{if(!t)return"null";let n=e+kf,r=ti,i=ti,s=!0,o=bT(ju)?ju:Object.keys(t),a=c=>{let u=DT(c,t,n);if(u===vie)return;s||(r+=Sq),s=!1;let l=Ef(i,ei(t,bq(c),n),n);r+=l||mc+n,r+=Dq(c)+ei(t,wie(c),n)+bie+ei(t,Die(c),n)+wT+u+ei(t,vq(c),n),i=ei(t,wq(c),n)};return o.forEach(a),r+=Ef(i,ei(t,vT,n),n),Sie+Tq(r,t,e)+xie};function DT(t,e,n){let r=e[t];switch(yq(r)&&xT(r.toJSON)&&(r=r.toJSON(t)),xT(ju)&&(r=ju.call(e,t,r)),typeof r){case"string":return Dq(r);case"number":return Number.isFinite(r)?String(r):xq;case"boolean":case"null":return String(r);case"object":return bT(r)?Fie(r,n):Aie(r,n);default:}}var Pie=t=>lie(t)?t:uie(t)?die(wT,t):ti,{toString:_ie}=Object.prototype,Iie=["[object Number]","[object String]","[object Boolean]"],Nie=t=>{if(typeof t!="object")return!1;let e=_ie.call(t);return Iie.includes(e)};Eq.exports=(t,e,n)=>{let r=Pie(n);if(!r)return JSON.stringify(t,e);!xT(e)&&!bT(e)&&(e=null),ju=e,kf=r;let i=Nie(t)?JSON.stringify(t):DT("",{"":t},ti);return Rie(),yq(t)?ei(t,fie,ti).trimLeft()+i+ei(t,mie,ti).trimRight():i}});var TT=P((a1e,Rq)=>{var{parse:Lie,tokenize:Oie}=hq(),Mie=kq(),{CommentArray:Uie}=aT(),{assign:qie}=wf();Rq.exports={parse:Lie,stringify:Mie,tokenize:Oie,CommentArray:Uie,assign:qie}});var gt=P(Yn=>{"use strict";var ET=Symbol.for("yaml.alias"),Fq=Symbol.for("yaml.document"),Vm=Symbol.for("yaml.map"),Aq=Symbol.for("yaml.pair"),kT=Symbol.for("yaml.scalar"),Jm=Symbol.for("yaml.seq"),Ys=Symbol.for("yaml.node.type"),Wie=t=>!!t&&typeof t=="object"&&t[Ys]===ET,jie=t=>!!t&&typeof t=="object"&&t[Ys]===Fq,Bie=t=>!!t&&typeof t=="object"&&t[Ys]===Vm,$ie=t=>!!t&&typeof t=="object"&&t[Ys]===Aq,Pq=t=>!!t&&typeof t=="object"&&t[Ys]===kT,Kie=t=>!!t&&typeof t=="object"&&t[Ys]===Jm;function _q(t){if(t&&typeof t=="object")switch(t[Ys]){case Vm:case Jm:return!0}return!1}function zie(t){if(t&&typeof t=="object")switch(t[Ys]){case ET:case Vm:case kT:case Jm:return!0}return!1}var Hie=t=>(Pq(t)||_q(t))&&!!t.anchor;Yn.ALIAS=ET;Yn.DOC=Fq;Yn.MAP=Vm;Yn.NODE_TYPE=Ys;Yn.PAIR=Aq;Yn.SCALAR=kT;Yn.SEQ=Jm;Yn.hasAnchor=Hie;Yn.isAlias=Wie;Yn.isCollection=_q;Yn.isDocument=jie;Yn.isMap=Bie;Yn.isNode=zie;Yn.isPair=$ie;Yn.isScalar=Pq;Yn.isSeq=Kie});var Rf=P(RT=>{"use strict";var _n=gt(),Ir=Symbol("break visit"),Iq=Symbol("skip children"),ks=Symbol("remove node");function Xm(t,e){let n=Nq(e);_n.isDocument(t)?Bu(null,t.contents,n,Object.freeze([t]))===ks&&(t.contents=null):Bu(null,t,n,Object.freeze([]))}Xm.BREAK=Ir;Xm.SKIP=Iq;Xm.REMOVE=ks;function Bu(t,e,n,r){let i=Lq(t,e,n,r);if(_n.isNode(i)||_n.isPair(i))return Oq(t,r,i),Bu(t,i,n,r);if(typeof i!="symbol"){if(_n.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=Bu(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Ir)return Ir;o===ks&&(e.items.splice(s,1),s-=1)}}}else if(_n.isPair(e)){r=Object.freeze(r.concat(e));let s=Bu("key",e.key,n,r);if(s===Ir)return Ir;s===ks&&(e.key=null);let o=Bu("value",e.value,n,r);if(o===Ir)return Ir;o===ks&&(e.value=null)}}return i}async function Ym(t,e){let n=Nq(e);_n.isDocument(t)?await $u(null,t.contents,n,Object.freeze([t]))===ks&&(t.contents=null):await $u(null,t,n,Object.freeze([]))}Ym.BREAK=Ir;Ym.SKIP=Iq;Ym.REMOVE=ks;async function $u(t,e,n,r){let i=await Lq(t,e,n,r);if(_n.isNode(i)||_n.isPair(i))return Oq(t,r,i),$u(t,i,n,r);if(typeof i!="symbol"){if(_n.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=await $u(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Ir)return Ir;o===ks&&(e.items.splice(s,1),s-=1)}}}else if(_n.isPair(e)){r=Object.freeze(r.concat(e));let s=await $u("key",e.key,n,r);if(s===Ir)return Ir;s===ks&&(e.key=null);let o=await $u("value",e.value,n,r);if(o===Ir)return Ir;o===ks&&(e.value=null)}}return i}function Nq(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Lq(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(_n.isMap(e))return n.Map?.(t,e,r);if(_n.isSeq(e))return n.Seq?.(t,e,r);if(_n.isPair(e))return n.Pair?.(t,e,r);if(_n.isScalar(e))return n.Scalar?.(t,e,r);if(_n.isAlias(e))return n.Alias?.(t,e,r)}function Oq(t,e,n){let r=e[e.length-1];if(_n.isCollection(r))r.items[t]=n;else if(_n.isPair(r))t==="key"?r.key=n:r.value=n;else if(_n.isDocument(r))r.contents=n;else{let i=_n.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}RT.visit=Xm;RT.visitAsync=Ym});var FT=P(Uq=>{"use strict";var Mq=gt(),Gie=Rf(),Vie={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Jie=t=>t.replace(/[!,[\]{}]/g,e=>Vie[e]),Ff=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;let[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);let s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+Jie(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags),i;if(e&&r.length>0&&Mq.isNode(e.contents)){let s={};Gie.visit(e.contents,(o,a)=>{Mq.isNode(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};Ff.defaultYaml={explicit:!1,version:"1.2"};Ff.defaultTags={"!!":"tag:yaml.org,2002:"};Uq.Directives=Ff});var Qm=P(Af=>{"use strict";var qq=gt(),Xie=Rf();function Yie(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function Wq(t){let e=new Set;return Xie.visit(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function jq(t,e){for(let n=1;;++n){let r=`${t}${n}`;if(!e.has(r))return r}}function Qie(t,e){let n=[],r=new Map,i=null;return{onAnchor:s=>{n.push(s),i||(i=Wq(t));let o=jq(e,i);return i.add(o),o},setAnchors:()=>{for(let s of n){let o=r.get(s);if(typeof o=="object"&&o.anchor&&(qq.isScalar(o.node)||qq.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}Af.anchorIsValid=Yie;Af.anchorNames=Wq;Af.createNodeAnchors=Qie;Af.findNewAnchor=jq});var AT=P(Bq=>{"use strict";function Pf(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){let o=r[i],a=Pf(t,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(let i of Array.from(r.keys())){let s=r.get(i),o=Pf(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(let i of Array.from(r)){let s=Pf(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(let[i,s]of Object.entries(r)){let o=Pf(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}Bq.applyReviver=Pf});var qo=P(Kq=>{"use strict";var Zie=gt();function $q(t,e,n){if(Array.isArray(t))return t.map((r,i)=>$q(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Zie.hasAnchor(t))return t.toJSON(e,n);let r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};let i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}Kq.toJS=$q});var Zm=P(Hq=>{"use strict";var ese=AT(),zq=gt(),tse=qo(),PT=class{constructor(e){Object.defineProperty(this,zq.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!zq.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=tse.toJS(this,"",o);if(typeof i=="function")for(let{count:c,res:u}of o.anchors.values())i(u,c);return typeof s=="function"?ese.applyReviver(s,{"":a},"",a):a}};Hq.NodeBase=PT});var _f=P(Vq=>{"use strict";var nse=Qm(),Gq=Rf(),ey=gt(),rse=Zm(),ise=qo(),_T=class extends rse.NodeBase{constructor(e){super(ey.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Gq.visit(e,{Node:(r,i)=>{if(i===this)return Gq.visit.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};let{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=r.get(o);if(a||(ise.toJS(o,null,n),a=r.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=ty(i,o,r)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,r){let i=`*${this.source}`;if(e){if(nse.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}};function ty(t,e,n){if(ey.isAlias(e)){let r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(ey.isCollection(e)){let r=0;for(let i of e.items){let s=ty(t,i,n);s>r&&(r=s)}return r}else if(ey.isPair(e)){let r=ty(t,e.key,n),i=ty(t,e.value,n);return Math.max(r,i)}return 1}Vq.Alias=_T});var En=P(IT=>{"use strict";var sse=gt(),ose=Zm(),ase=qo(),cse=t=>!t||typeof t!="function"&&typeof t!="object",Wo=class extends ose.NodeBase{constructor(e){super(sse.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:ase.toJS(this.value,e,n)}toString(){return String(this.value)}};Wo.BLOCK_FOLDED="BLOCK_FOLDED";Wo.BLOCK_LITERAL="BLOCK_LITERAL";Wo.PLAIN="PLAIN";Wo.QUOTE_DOUBLE="QUOTE_DOUBLE";Wo.QUOTE_SINGLE="QUOTE_SINGLE";IT.Scalar=Wo;IT.isScalarValue=cse});var If=P(Xq=>{"use strict";var use=_f(),yc=gt(),Jq=En(),lse="tag:yaml.org,2002:";function dse(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}function fse(t,e,n){if(yc.isDocument(t)&&(t=t.contents),yc.isNode(t))return t;if(yc.isPair(t)){let p=n.schema[yc.MAP].createNode?.(n.schema,null,n);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(r&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor||(c.anchor=i(t)),new use.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=lse+e.slice(2));let u=dse(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let p=new Jq.Scalar(t);return c&&(c.node=p),p}u=t instanceof Map?o[yc.MAP]:Symbol.iterator in Object(t)?o[yc.SEQ]:o[yc.MAP]}s&&(s(u),delete n.onTagObj);let l=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new Jq.Scalar(t);return e?l.tag=e:u.default||(l.tag=u.tag),c&&(c.node=l),l}Xq.createNode=fse});var ry=P(ny=>{"use strict";var pse=If(),Rs=gt(),hse=Zm();function NT(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return pse.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var Yq=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,LT=class extends hse.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Rs.isNode(r)||Rs.isPair(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(Yq(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(Rs.isCollection(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,NT(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){let[n,...r]=e;if(r.length===0)return this.delete(n);let i=this.get(n,!0);if(Rs.isCollection(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){let[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&Rs.isScalar(s)?s.value:s:Rs.isCollection(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Rs.isPair(n))return!1;let r=n.value;return r==null||e&&Rs.isScalar(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[n,...r]=e;if(r.length===0)return this.has(n);let i=this.get(n,!0);return Rs.isCollection(i)?i.hasIn(r):!1}setIn(e,n){let[r,...i]=e;if(i.length===0)this.set(r,n);else{let s=this.get(r,!0);if(Rs.isCollection(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,NT(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}};ny.Collection=LT;ny.collectionFromPath=NT;ny.isEmptyPath=Yq});var Nf=P(iy=>{"use strict";var gse=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function OT(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var mse=(t,e,n)=>t.endsWith(`
`)?OT(n,e):n.includes(`
`)?`
`+OT(n,e):(t.endsWith(" ")?"":" ")+n;iy.indentComment=OT;iy.lineComment=mse;iy.stringifyComment=gse});var Zq=P(Lf=>{"use strict";var yse="flow",MT="block",sy="quoted";function Cse(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<s&&(s=0);let c=Math.max(1+s,1+i-e.length);if(t.length<=c)return t;let u=[],l={},p=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):p=i-r);let f,d,h=!1,g=-1,m=-1,y=-1;n===MT&&(g=Qq(t,g,e.length),g!==-1&&(p=g+c));for(let x;x=t[g+=1];){if(n===sy&&x==="\\"){switch(m=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}y=g}if(x===`
`)n===MT&&(g=Qq(t,g,e.length)),p=g+e.length+c,f=void 0;else{if(x===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){let T=t[g+1];T&&T!==" "&&T!==`
`&&T!=="	"&&(f=g)}if(g>=p)if(f)u.push(f),p=f+c,f=void 0;else if(n===sy){for(;d===" "||d==="	";)d=x,x=t[g+=1],h=!0;let T=g>y+1?g-2:m-1;if(l[T])return t;u.push(T),l[T]=!0,p=T+c,f=void 0}else h=!0}d=x}if(h&&a&&a(),u.length===0)return t;o&&o();let C=t.slice(0,u[0]);for(let x=0;x<u.length;++x){let T=u[x],E=u[x+1]||t.length;T===0?C=`
${e}${t.slice(0,E)}`:(n===sy&&l[T]&&(C+=`${t[T]}\\`),C+=`
${e}${t.slice(T+1,E)}`)}return C}function Qq(t,e,n){let r=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,i=e+1,s=t[i]}return r}Lf.FOLD_BLOCK=MT;Lf.FOLD_FLOW=yse;Lf.FOLD_QUOTED=sy;Lf.foldFlowLines=Cse});var Mf=P(eW=>{"use strict";var Ji=En(),jo=Zq(),ay=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),cy=t=>/^(%|---|\.\.\.)/m.test(t);function Sse(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function Of(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(cy(t)?"  ":""),o="",a=0;for(let c=0,u=n[c];u;u=n[++c])if(u===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let l=n.substr(c+2,4);switch(l){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:l.substr(0,2)==="00"?o+="\\x"+l.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(r||n[c+2]==='"'||n.length<i)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,r?o:jo.foldFlowLines(o,s,jo.FOLD_QUOTED,ay(e,!1))}function UT(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Of(t,e);let n=e.indent||(cy(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:jo.foldFlowLines(r,n,jo.FOLD_FLOW,ay(e,!1))}function Ku(t,e){let{singleQuote:n}=e.options,r;if(n===!1)r=Of;else{let i=t.includes('"'),s=t.includes("'");i&&!s?r=UT:s&&!i?r=Of:r=n?UT:Of}return r(t,e)}var qT;try{qT=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{qT=/\n+(?!\n|$)/g}function oy({comment:t,type:e,value:n},r,i,s){let{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Ku(n,r);let u=r.indent||(r.forceBlockIndent||cy(n)?"  ":""),l=o==="literal"?!0:o==="folded"||e===Ji.Scalar.BLOCK_FOLDED?!1:e===Ji.Scalar.BLOCK_LITERAL?!0:!Sse(n,c,u.length);if(!n)return l?`|
`:`>
`;let p,f;for(f=n.length;f>0;--f){let E=n[f-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let d=n.substring(f),h=d.indexOf(`
`);h===-1?p="-":n===d||h!==d.length-1?(p="+",s&&s()):p="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(qT,`$&${u}`));let g=!1,m,y=-1;for(m=0;m<n.length;++m){let E=n[m];if(E===" ")g=!0;else if(E===`
`)y=m;else break}let C=n.substring(0,y<m?y+1:m);C&&(n=n.substring(C.length),C=C.replace(/\n+/g,`$&${u}`));let T=(g?u?"2":"1":"")+p;if(t&&(T+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!l){let E=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`),k=!1,L=ay(r,!0);o!=="folded"&&e!==Ji.Scalar.BLOCK_FOLDED&&(L.onOverflow=()=>{k=!0});let A=jo.foldFlowLines(`${C}${E}${d}`,u,jo.FOLD_BLOCK,L);if(!k)return`>${T}
${u}${A}`}return n=n.replace(/\n+/g,`$&${u}`),`|${T}
${u}${C}${n}${d}`}function xse(t,e,n,r){let{type:i,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:l}=e;if(a&&s.includes(`
`)||l&&/[[\]{},]/.test(s))return Ku(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||l||!s.includes(`
`)?Ku(s,e):oy(t,e,n,r);if(!a&&!l&&i!==Ji.Scalar.PLAIN&&s.includes(`
`))return oy(t,e,n,r);if(cy(s)){if(c==="")return e.forceBlockIndent=!0,oy(t,e,n,r);if(a&&c===u)return Ku(s,e)}let p=s.replace(/\n+/g,`$&
${c}`);if(o){let f=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(p),{compat:d,tags:h}=e.doc.schema;if(h.some(f)||d?.some(f))return Ku(s,e)}return a?p:jo.foldFlowLines(p,c,jo.FOLD_FLOW,ay(e,!1))}function bse(t,e,n,r){let{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Ji.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Ji.Scalar.QUOTE_DOUBLE);let c=l=>{switch(l){case Ji.Scalar.BLOCK_FOLDED:case Ji.Scalar.BLOCK_LITERAL:return i||s?Ku(o.value,e):oy(o,e,n,r);case Ji.Scalar.QUOTE_DOUBLE:return Of(o.value,e);case Ji.Scalar.QUOTE_SINGLE:return UT(o.value,e);case Ji.Scalar.PLAIN:return xse(o,e,n,r);default:return null}},u=c(a);if(u===null){let{defaultKeyType:l,defaultStringType:p}=e.options,f=i&&l||p;if(u=c(f),u===null)throw new Error(`Unsupported default string type ${f}`)}return u}eW.stringifyString=bse});var Uf=P(WT=>{"use strict";var vse=Qm(),Bo=gt(),wse=Nf(),Dse=Mf();function Tse(t,e){let n=Object.assign({blockQuote:!0,commentString:wse.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function Ese(t,e){if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let n,r;if(Bo.isScalar(e)){r=e.value;let i=t.filter(s=>s.identify?.(r));if(i.length>1){let s=i.filter(o=>o.test);s.length>0&&(i=s)}n=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return n}function kse(t,e,{anchors:n,doc:r}){if(!r.directives)return"";let i=[],s=(Bo.isScalar(t)||Bo.isCollection(t))&&t.anchor;s&&vse.anchorIsValid(s)&&(n.add(s),i.push(`&${s}`));let o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function Rse(t,e,n,r){if(Bo.isPair(t))return t.toString(e,n,r);if(Bo.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i,s=Bo.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i||(i=Ese(e.doc.schema.tags,s));let o=kse(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,e,n,r):Bo.isScalar(s)?Dse.stringifyString(s,e,n,r):s.toString(e,n,r);return o?Bo.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}WT.createStringifyContext=Tse;WT.stringify=Rse});var iW=P(rW=>{"use strict";var Qs=gt(),tW=En(),nW=Uf(),qf=Nf();function Fse({key:t,value:e},n,r,i){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:l,simpleKeys:p}}=n,f=Qs.isNode(t)&&t.comment||null;if(p){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Qs.isCollection(t)||!Qs.isNode(t)&&typeof t=="object"){let L="With simple keys, collection cannot be used as a key value";throw new Error(L)}}let d=!p&&(!t||f&&e==null&&!n.inFlow||Qs.isCollection(t)||(Qs.isScalar(t)?t.type===tW.Scalar.BLOCK_FOLDED||t.type===tW.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(p||!s),indent:a+c});let h=!1,g=!1,m=nW.stringify(t,n,()=>h=!0,()=>g=!0);if(!d&&!n.inFlow&&m.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(s||e==null)return h&&r&&r(),m===""?"?":d?`? ${m}`:m}else if(s&&!p||e==null&&d)return m=`? ${m}`,f&&!h?m+=qf.lineComment(m,n.indent,u(f)):g&&i&&i(),m;h&&(f=null),d?(f&&(m+=qf.lineComment(m,n.indent,u(f))),m=`? ${m}
${a}:`):(m=`${m}:`,f&&(m+=qf.lineComment(m,n.indent,u(f))));let y,C,x;Qs.isNode(e)?(y=!!e.spaceBefore,C=e.commentBefore,x=e.comment):(y=!1,C=null,x=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!f&&Qs.isScalar(e)&&(n.indentAtStart=m.length+1),g=!1,!l&&c.length>=2&&!n.inFlow&&!d&&Qs.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let T=!1,E=nW.stringify(e,n,()=>T=!0,()=>g=!0),k=" ";if(f||y||C){if(k=y?`
`:"",C){let L=u(C);k+=`
${qf.indentComment(L,n.indent)}`}E===""&&!n.inFlow?k===`
`&&(k=`

`):k+=`
${n.indent}`}else if(!d&&Qs.isCollection(e)){let L=E[0],A=E.indexOf(`
`),j=A!==-1,H=n.inFlow??e.flow??e.items.length===0;if(j||!H){let F=!1;if(j&&(L==="&"||L==="!")){let M=E.indexOf(" ");L==="&"&&M!==-1&&M<A&&E[M+1]==="!"&&(M=E.indexOf(" ",M+1)),(M===-1||A<M)&&(F=!0)}F||(k=`
${n.indent}`)}}else(E===""||E[0]===`
`)&&(k="");return m+=k+E,n.inFlow?T&&r&&r():x&&!T?m+=qf.lineComment(m,n.indent,u(x)):g&&i&&i(),m}rW.stringifyPair=Fse});var BT=P(jT=>{"use strict";function Ase(t,...e){t==="debug"&&console.log(...e)}function Pse(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}jT.debug=Ase;jT.warn=Pse});var fy=P(dy=>{"use strict";var Wf=gt(),sW=En(),uy="<<",ly={identify:t=>t===uy||typeof t=="symbol"&&t.description===uy,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new sW.Scalar(Symbol(uy)),{addToJSMap:oW}),stringify:()=>uy},_se=(t,e)=>(ly.identify(e)||Wf.isScalar(e)&&(!e.type||e.type===sW.Scalar.PLAIN)&&ly.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===ly.tag&&n.default);function oW(t,e,n){if(n=t&&Wf.isAlias(n)?n.resolve(t.doc):n,Wf.isSeq(n))for(let r of n.items)$T(t,e,r);else if(Array.isArray(n))for(let r of n)$T(t,e,r);else $T(t,e,n)}function $T(t,e,n){let r=t&&Wf.isAlias(n)?n.resolve(t.doc):n;if(!Wf.isMap(r))throw new Error("Merge sources must be maps or map aliases");let i=r.toJSON(null,t,Map);for(let[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}dy.addMergeToJSMap=oW;dy.isMergeKey=_se;dy.merge=ly});var zT=P(uW=>{"use strict";var Ise=BT(),aW=fy(),Nse=Uf(),cW=gt(),KT=qo();function Lse(t,e,{key:n,value:r}){if(cW.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(aW.isMergeKey(t,n))aW.addMergeToJSMap(t,e,r);else{let i=KT.toJS(n,"",t);if(e instanceof Map)e.set(i,KT.toJS(r,i,t));else if(e instanceof Set)e.add(i);else{let s=Ose(n,i,t),o=KT.toJS(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function Ose(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(cW.isNode(t)&&n?.doc){let r=Nse.createStringifyContext(n.doc,{});r.anchors=new Set;for(let s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;let i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Ise.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}uW.addPairToJSMap=Lse});var $o=P(HT=>{"use strict";var lW=If(),Mse=iW(),Use=zT(),py=gt();function qse(t,e,n){let r=lW.createNode(t,void 0,n),i=lW.createNode(e,void 0,n);return new hy(r,i)}var hy=class t{constructor(e,n=null){Object.defineProperty(this,py.NODE_TYPE,{value:py.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return py.isNode(n)&&(n=n.clone(e)),py.isNode(r)&&(r=r.clone(e)),new t(n,r)}toJSON(e,n){let r=n?.mapAsMap?new Map:{};return Use.addPairToJSMap(n,r,this)}toString(e,n,r){return e?.doc?Mse.stringifyPair(this,e,n,r):JSON.stringify(this)}};HT.Pair=hy;HT.createPair=qse});var GT=P(fW=>{"use strict";var Cc=gt(),dW=Uf(),gy=Nf();function Wse(t,e,n){return(e.inFlow??t.flow?Bse:jse)(t,e,n)}function jse({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:u}}=n,l=Object.assign({},n,{indent:s,type:null}),p=!1,f=[];for(let h=0;h<e.length;++h){let g=e[h],m=null;if(Cc.isNode(g))!p&&g.spaceBefore&&f.push(""),my(n,f,g.commentBefore,p),g.comment&&(m=g.comment);else if(Cc.isPair(g)){let C=Cc.isNode(g.key)?g.key:null;C&&(!p&&C.spaceBefore&&f.push(""),my(n,f,C.commentBefore,p))}p=!1;let y=dW.stringify(g,l,()=>m=null,()=>p=!0);m&&(y+=gy.lineComment(y,s,u(m))),p&&m&&(p=!1),f.push(r+y)}let d;if(f.length===0)d=i.start+i.end;else{d=f[0];for(let h=1;h<f.length;++h){let g=f[h];d+=g?`
${c}${g}`:`
`}}return t?(d+=`
`+gy.indentComment(u(t),c),a&&a()):p&&o&&o(),d}function Bse({items:t},e,{flowChars:n,itemIndent:r}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;r+=s;let c=Object.assign({},e,{indent:r,inFlow:!0,type:null}),u=!1,l=0,p=[];for(let h=0;h<t.length;++h){let g=t[h],m=null;if(Cc.isNode(g))g.spaceBefore&&p.push(""),my(e,p,g.commentBefore,!1),g.comment&&(m=g.comment);else if(Cc.isPair(g)){let C=Cc.isNode(g.key)?g.key:null;C&&(C.spaceBefore&&p.push(""),my(e,p,C.commentBefore,!1),C.comment&&(u=!0));let x=Cc.isNode(g.value)?g.value:null;x?(x.comment&&(m=x.comment),x.commentBefore&&(u=!0)):g.value==null&&C?.comment&&(m=C.comment)}m&&(u=!0);let y=dW.stringify(g,c,()=>m=null);h<t.length-1&&(y+=","),m&&(y+=gy.lineComment(y,r,a(m))),!u&&(p.length>l||y.includes(`
`))&&(u=!0),p.push(y),l=p.length}let{start:f,end:d}=n;if(p.length===0)return f+d;if(!u){let h=p.reduce((g,m)=>g+m.length+2,2);u=e.options.lineWidth>0&&h>e.options.lineWidth}if(u){let h=f;for(let g of p)h+=g?`
${s}${i}${g}`:`
`;return`${h}
${i}${d}`}else return`${f}${o}${p.join(" ")}${o}${d}`}function my({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){let s=gy.indentComment(e(r),t);n.push(s.trimStart())}}fW.stringifyCollection=Wse});var zo=P(JT=>{"use strict";var $se=GT(),Kse=zT(),zse=ry(),Ko=gt(),yy=$o(),Hse=En();function jf(t,e){let n=Ko.isScalar(e)?e.value:e;for(let r of t)if(Ko.isPair(r)&&(r.key===e||r.key===n||Ko.isScalar(r.key)&&r.key.value===n))return r}var VT=class extends zse.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ko.MAP,e),this.items=[]}static from(e,n,r){let{keepUndefined:i,replacer:s}=r,o=new this(e),a=(c,u)=>{if(typeof s=="function")u=s.call(n,c,u);else if(Array.isArray(s)&&!s.includes(c))return;(u!==void 0||i)&&o.items.push(yy.createPair(c,u,r))};if(n instanceof Map)for(let[c,u]of n)a(c,u);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;Ko.isPair(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new yy.Pair(e,e?.value):r=new yy.Pair(e.key,e.value);let i=jf(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Ko.isScalar(i.value)&&Hse.isScalarValue(r.value)?i.value.value=r.value:i.value=r.value}else if(s){let o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){let n=jf(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let i=jf(this.items,e)?.value;return(!n&&Ko.isScalar(i)?i.value:i)??void 0}has(e){return!!jf(this.items,e)}set(e,n){this.add(new yy.Pair(e,n),!0)}toJSON(e,n,r){let i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(let s of this.items)Kse.addPairToJSMap(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!Ko.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),$se.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}};JT.YAMLMap=VT;JT.findPair=jf});var zu=P(hW=>{"use strict";var Gse=gt(),pW=zo(),Vse={collection:"map",default:!0,nodeClass:pW.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return Gse.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>pW.YAMLMap.from(t,e,n)};hW.map=Vse});var Ho=P(gW=>{"use strict";var Jse=If(),Xse=GT(),Yse=ry(),Sy=gt(),Qse=En(),Zse=qo(),XT=class extends Yse.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Sy.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=Cy(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=Cy(e);if(typeof r!="number")return;let i=this.items[r];return!n&&Sy.isScalar(i)?i.value:i}has(e){let n=Cy(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=Cy(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[r];Sy.isScalar(i)&&Qse.isScalarValue(n)?i.value=n:this.items[r]=n}toJSON(e,n){let r=[];n?.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(Zse.toJS(s,String(i++),n));return r}toString(e,n,r){return e?Xse.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){let{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){let c=n instanceof Set?a:String(o++);a=i.call(n,c,a)}s.items.push(Jse.createNode(a,void 0,r))}}return s}};function Cy(t){let e=Sy.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}gW.YAMLSeq=XT});var Hu=P(yW=>{"use strict";var eoe=gt(),mW=Ho(),toe={collection:"seq",default:!0,nodeClass:mW.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return eoe.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>mW.YAMLSeq.from(t,e,n)};yW.seq=toe});var Bf=P(CW=>{"use strict";var noe=Mf(),roe={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),noe.stringifyString(t,e,n,r)}};CW.string=roe});var xy=P(bW=>{"use strict";var SW=En(),xW={identify:t=>t==null,createNode:()=>new SW.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new SW.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&xW.test.test(t)?t:e.options.nullStr};bW.nullTag=xW});var YT=P(wW=>{"use strict";var ioe=En(),vW={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new ioe.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&vW.test.test(t)){let r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};wW.boolTag=vW});var Gu=P(DW=>{"use strict";function soe({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);let i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}DW.stringifyNumber=soe});var ZT=P(by=>{"use strict";var ooe=En(),QT=Gu(),aoe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:QT.stringifyNumber},coe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():QT.stringifyNumber(t)}},uoe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new ooe.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:QT.stringifyNumber};by.float=uoe;by.floatExp=coe;by.floatNaN=aoe});var tE=P(wy=>{"use strict";var TW=Gu(),vy=t=>typeof t=="bigint"||Number.isInteger(t),eE=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function EW(t,e,n){let{value:r}=t;return vy(r)&&r>=0?n+r.toString(e):TW.stringifyNumber(t)}var loe={identify:t=>vy(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>eE(t,2,8,n),stringify:t=>EW(t,8,"0o")},doe={identify:vy,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>eE(t,0,10,n),stringify:TW.stringifyNumber},foe={identify:t=>vy(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>eE(t,2,16,n),stringify:t=>EW(t,16,"0x")};wy.int=doe;wy.intHex=foe;wy.intOct=loe});var RW=P(kW=>{"use strict";var poe=zu(),hoe=xy(),goe=Hu(),moe=Bf(),yoe=YT(),nE=ZT(),rE=tE(),Coe=[poe.map,goe.seq,moe.string,hoe.nullTag,yoe.boolTag,rE.intOct,rE.int,rE.intHex,nE.floatNaN,nE.floatExp,nE.float];kW.schema=Coe});var PW=P(AW=>{"use strict";var Soe=En(),xoe=zu(),boe=Hu();function FW(t){return typeof t=="bigint"||Number.isInteger(t)}var Dy=({value:t})=>JSON.stringify(t),voe=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Dy},{identify:t=>t==null,createNode:()=>new Soe.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Dy},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Dy},{identify:FW,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>FW(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Dy}],woe={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},Doe=[xoe.map,boe.seq].concat(voe,woe);AW.schema=Doe});var sE=P(_W=>{"use strict";var iE=En(),Toe=Mf(),Eoe={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){let o=n,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=iE.Scalar.BLOCK_LITERAL),e!==iE.Scalar.QUOTE_DOUBLE){let c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/c),l=new Array(u);for(let p=0,f=0;p<u;++p,f+=c)l[p]=a.substr(f,c);a=l.join(e===iE.Scalar.BLOCK_LITERAL?`
`:" ")}return Toe.stringifyString({comment:t,type:e,value:a},r,i,s)}};_W.binary=Eoe});var ky=P(Ey=>{"use strict";var Ty=gt(),oE=$o(),koe=En(),Roe=Ho();function IW(t,e){if(Ty.isSeq(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!Ty.isPair(r)){if(Ty.isMap(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");let i=r.items[0]||new oE.Pair(new koe.Scalar(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}t.items[n]=Ty.isPair(r)?r:new oE.Pair(r)}}else e("Expected a sequence for this tag");return t}function NW(t,e,n){let{replacer:r}=n,i=new Roe.YAMLSeq(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(oE.createPair(a,c,n))}return i}var Foe={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:IW,createNode:NW};Ey.createPairs=NW;Ey.pairs=Foe;Ey.resolvePairs=IW});var uE=P(cE=>{"use strict";var LW=gt(),aE=qo(),$f=zo(),Aoe=Ho(),OW=ky(),Sc=class t extends Aoe.YAMLSeq{constructor(){super(),this.add=$f.YAMLMap.prototype.add.bind(this),this.delete=$f.YAMLMap.prototype.delete.bind(this),this.get=$f.YAMLMap.prototype.get.bind(this),this.has=$f.YAMLMap.prototype.has.bind(this),this.set=$f.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let r=new Map;n?.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(LW.isPair(i)?(s=aE.toJS(i.key,"",n),o=aE.toJS(i.value,s,n)):s=aE.toJS(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){let i=OW.createPairs(e,n,r),s=new this;return s.items=i.items,s}};Sc.tag="tag:yaml.org,2002:omap";var Poe={collection:"seq",identify:t=>t instanceof Map,nodeClass:Sc,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=OW.resolvePairs(t,e),r=[];for(let{key:i}of n.items)LW.isScalar(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Sc,n)},createNode:(t,e,n)=>Sc.from(t,e,n)};cE.YAMLOMap=Sc;cE.omap=Poe});var jW=P(lE=>{"use strict";var MW=En();function UW({value:t,source:e},n){return e&&(t?qW:WW).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var qW={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new MW.Scalar(!0),stringify:UW},WW={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new MW.Scalar(!1),stringify:UW};lE.falseTag=WW;lE.trueTag=qW});var BW=P(Ry=>{"use strict";var _oe=En(),dE=Gu(),Ioe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:dE.stringifyNumber},Noe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():dE.stringifyNumber(t)}},Loe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new _oe.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:dE.stringifyNumber};Ry.float=Loe;Ry.floatExp=Noe;Ry.floatNaN=Ioe});var KW=P(zf=>{"use strict";var $W=Gu(),Kf=t=>typeof t=="bigint"||Number.isInteger(t);function Fy(t,e,n,{intAsBigInt:r}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return i==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return i==="-"?-1*s:s}function fE(t,e,n){let{value:r}=t;if(Kf(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return $W.stringifyNumber(t)}var Ooe={identify:Kf,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Fy(t,2,2,n),stringify:t=>fE(t,2,"0b")},Moe={identify:Kf,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Fy(t,1,8,n),stringify:t=>fE(t,8,"0")},Uoe={identify:Kf,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Fy(t,0,10,n),stringify:$W.stringifyNumber},qoe={identify:Kf,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Fy(t,2,16,n),stringify:t=>fE(t,16,"0x")};zf.int=Uoe;zf.intBin=Ooe;zf.intHex=qoe;zf.intOct=Moe});var hE=P(pE=>{"use strict";var _y=gt(),Ay=$o(),Py=zo(),xc=class t extends Py.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;_y.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new Ay.Pair(e.key,null):n=new Ay.Pair(e,null),Py.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=Py.findPair(this.items,e);return!n&&_y.isPair(r)?_y.isScalar(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=Py.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Ay.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){let{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(Ay.createPair(o,null,r));return s}};xc.tag="tag:yaml.org,2002:set";var Woe={collection:"map",identify:t=>t instanceof Set,nodeClass:xc,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>xc.from(t,e,n),resolve(t,e){if(_y.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new xc,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};pE.YAMLSet=xc;pE.set=Woe});var mE=P(Iy=>{"use strict";var joe=Gu();function gE(t,e){let n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function zW(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return joe.stringifyNumber(t);let r="";e<0&&(r="-",e*=n(-1));let i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var Boe={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>gE(t,n),stringify:zW},$oe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>gE(t,!1),stringify:zW},HW={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(HW.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,r,i,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(n,r-1,i,s||0,o||0,a||0,c),l=e[8];if(l&&l!=="Z"){let p=gE(l,!1);Math.abs(p)<30&&(p*=60),u-=6e4*p}return new Date(u)},stringify:({value:t})=>t.toISOString().replace(/(T00:00:00)?\.000Z$/,"")};Iy.floatTime=$oe;Iy.intTime=Boe;Iy.timestamp=HW});var JW=P(VW=>{"use strict";var Koe=zu(),zoe=xy(),Hoe=Hu(),Goe=Bf(),Voe=sE(),GW=jW(),yE=BW(),Ny=KW(),Joe=fy(),Xoe=uE(),Yoe=ky(),Qoe=hE(),CE=mE(),Zoe=[Koe.map,Hoe.seq,Goe.string,zoe.nullTag,GW.trueTag,GW.falseTag,Ny.intBin,Ny.intOct,Ny.int,Ny.intHex,yE.floatNaN,yE.floatExp,yE.float,Voe.binary,Joe.merge,Xoe.omap,Yoe.pairs,Qoe.set,CE.intTime,CE.floatTime,CE.timestamp];VW.schema=Zoe});var sj=P(bE=>{"use strict";var ZW=zu(),eae=xy(),ej=Hu(),tae=Bf(),nae=YT(),SE=ZT(),xE=tE(),rae=RW(),iae=PW(),tj=sE(),Hf=fy(),nj=uE(),rj=ky(),XW=JW(),ij=hE(),Ly=mE(),YW=new Map([["core",rae.schema],["failsafe",[ZW.map,ej.seq,tae.string]],["json",iae.schema],["yaml11",XW.schema],["yaml-1.1",XW.schema]]),QW={binary:tj.binary,bool:nae.boolTag,float:SE.float,floatExp:SE.floatExp,floatNaN:SE.floatNaN,floatTime:Ly.floatTime,int:xE.int,intHex:xE.intHex,intOct:xE.intOct,intTime:Ly.intTime,map:ZW.map,merge:Hf.merge,null:eae.nullTag,omap:nj.omap,pairs:rj.pairs,seq:ej.seq,set:ij.set,timestamp:Ly.timestamp},sae={"tag:yaml.org,2002:binary":tj.binary,"tag:yaml.org,2002:merge":Hf.merge,"tag:yaml.org,2002:omap":nj.omap,"tag:yaml.org,2002:pairs":rj.pairs,"tag:yaml.org,2002:set":ij.set,"tag:yaml.org,2002:timestamp":Ly.timestamp};function oae(t,e,n){let r=YW.get(e);if(r&&!t)return n&&!r.includes(Hf.merge)?r.concat(Hf.merge):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{let s=Array.from(YW.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(Hf.merge)),i.reduce((s,o)=>{let a=typeof o=="string"?QW[o]:o;if(!a){let c=JSON.stringify(o),u=Object.keys(QW).map(l=>JSON.stringify(l)).join(", ");throw new Error(`Unknown custom tag ${c}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}bE.coreKnownTags=sae;bE.getTags=oae});var DE=P(oj=>{"use strict";var vE=gt(),aae=zu(),cae=Hu(),uae=Bf(),Oy=sj(),lae=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,wE=class t{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Oy.getTags(e,"compat"):e?Oy.getTags(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Oy.coreKnownTags:{},this.tags=Oy.getTags(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,vE.MAP,{value:aae.map}),Object.defineProperty(this,vE.SCALAR,{value:uae.string}),Object.defineProperty(this,vE.SEQ,{value:cae.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?lae:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};oj.Schema=wE});var cj=P(aj=>{"use strict";var dae=gt(),TE=Uf(),Gf=Nf();function fae(t,e){let n=[],r=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");let i=TE.createStringifyContext(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(Gf.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(dae.isNode(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){let l=s(t.contents.commentBefore);n.push(Gf.indentComment(l,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,u=TE.stringify(t.contents,i,()=>a=null,c);a&&(u+=Gf.lineComment(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(TE.stringify(t.contents,i));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(Gf.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(Gf.indentComment(s(c),"")))}return n.join(`
`)+`
`}aj.stringifyDocument=fae});var Vf=P(uj=>{"use strict";var pae=_f(),Vu=ry(),Ti=gt(),hae=$o(),gae=qo(),mae=DE(),yae=cj(),EE=Qm(),Cae=AT(),Sae=If(),kE=FT(),RE=class t{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ti.NODE_TYPE,{value:Ti.DOC});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new kE.Directives({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){let e=Object.create(t.prototype,{[Ti.NODE_TYPE]:{value:Ti.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Ti.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ju(this.contents)&&this.contents.add(e)}addIn(e,n){Ju(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let r=EE.anchorNames(this);e.anchor=!n||r.has(n)?EE.findNewAnchor(n||"a",r):n}return new pae.Alias(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){let m=C=>typeof C=="number"||C instanceof String||C instanceof Number,y=n.filter(m).map(String);y.length>0&&(n=n.concat(y)),i=n}else r===void 0&&n&&(r=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:l}=r??{},{onAnchor:p,setAnchors:f,sourceObjects:d}=EE.createNodeAnchors(this,o||"a"),h={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:p,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:d},g=Sae.createNode(e,l,h);return a&&Ti.isCollection(g)&&(g.flow=!0),f(),g}createPair(e,n,r={}){let i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new hae.Pair(i,s)}delete(e){return Ju(this.contents)?this.contents.delete(e):!1}deleteIn(e){return Vu.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Ju(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return Ti.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return Vu.isEmptyPath(e)?!n&&Ti.isScalar(this.contents)?this.contents.value:this.contents:Ti.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return Ti.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return Vu.isEmptyPath(e)?this.contents!==void 0:Ti.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=Vu.collectionFromPath(this.schema,[e],n):Ju(this.contents)&&this.contents.set(e,n)}setIn(e,n){Vu.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=Vu.collectionFromPath(this.schema,Array.from(e),n):Ju(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new kE.Directives({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new kE.Directives({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new mae.Schema(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},c=gae.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:u,res:l}of a.anchors.values())s(l,u);return typeof o=="function"?Cae.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return yae.stringifyDocument(this,e)}};function Ju(t){if(Ti.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}uj.Document=RE});var Yf=P(Xf=>{"use strict";var Jf=class extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}},FE=class extends Jf{constructor(e,n,r){super("YAMLParseError",e,n,r)}},AE=class extends Jf{constructor(e,n,r){super("YAMLWarning",e,n,r)}},xae=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===r&&c.col>i&&(a=Math.max(1,Math.min(c.col-i,80-s)));let u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};Xf.YAMLError=Jf;Xf.YAMLParseError=FE;Xf.YAMLWarning=AE;Xf.prettifyError=xae});var Qf=P(lj=>{"use strict";function bae(t,{flow:e,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,u=a,l=a,p="",f="",d=!1,h=!1,g=null,m=null,y=null,C=null,x=null,T=null,E=null;for(let A of t)switch(h&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&s(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),g&&(u&&A.type!=="comment"&&A.type!=="newline"&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),A.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&A.source.includes("	")&&(g=A),l=!0;break;case"comment":{l||s(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let j=A.source.substring(1)||" ";p?p+=f+j:p=j,f="",u=!1;break}case"newline":u?p?p+=A.source:c=!0:f+=A.source,u=!0,d=!0,(m||y)&&(C=A),l=!0;break;case"anchor":m&&s(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&s(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=A,E===null&&(E=A.offset),u=!1,l=!1,h=!0;break;case"tag":{y&&s(A,"MULTIPLE_TAGS","A node can have at most one tag"),y=A,E===null&&(E=A.offset),u=!1,l=!1,h=!0;break}case n:(m||y)&&s(A,"BAD_PROP_ORDER",`Anchors and tags must be after the ${A.source} indicator`),T&&s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.source} in ${e??"collection"}`),T=A,u=n==="seq-item-ind"||n==="explicit-key-ind",l=!1;break;case"comma":if(e){x&&s(A,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),x=A,u=!1,l=!1;break}default:s(A,"UNEXPECTED_TOKEN",`Unexpected ${A.type} token`),u=!1,l=!1}let k=t[t.length-1],L=k?k.offset+k.source.length:i;return h&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(u&&g.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:x,found:T,spaceBefore:c,comment:p,hasNewline:d,anchor:m,tag:y,newlineAfterProp:C,end:L,start:E??L}}lj.resolveProps=bae});var My=P(dj=>{"use strict";function PE(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(PE(e.key)||PE(e.value))return!0}return!1;default:return!0}}dj.containsNewline=PE});var _E=P(fj=>{"use strict";var vae=My();function wae(t,e,n){if(e?.type==="flow-collection"){let r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&vae.containsNewline(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}fj.flowIndentCheck=wae});var IE=P(hj=>{"use strict";var pj=gt();function Dae(t,e,n){let{uniqueKeys:r}=t.options;if(r===!1)return!1;let i=typeof r=="function"?r:(s,o)=>s===o||pj.isScalar(s)&&pj.isScalar(o)&&s.value===o.value;return e.some(s=>i(s.key,n))}hj.mapIncludes=Dae});var xj=P(Sj=>{"use strict";var gj=$o(),Tae=zo(),mj=Qf(),Eae=My(),yj=_E(),kae=IE(),Cj="All mapping items must start at the same column";function Rae({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=s?.nodeClass??Tae.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=r.offset,u=null;for(let l of r.items){let{start:p,key:f,sep:d,value:h}=l,g=mj.resolveProps(p,{indicator:"explicit-key-ind",next:f??d?.[0],offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0}),m=!g.found;if(m){if(f&&(f.type==="block-seq"?i(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in f&&f.indent!==r.indent&&i(c,"BAD_INDENT",Cj)),!g.anchor&&!g.tag&&!d){u=g.end,g.comment&&(a.comment?a.comment+=`
`+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||Eae.containsNewline(f))&&i(f??p[p.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==r.indent&&i(c,"BAD_INDENT",Cj);n.atKey=!0;let y=g.end,C=f?t(n,f,g,i):e(n,y,p,null,g,i);n.schema.compat&&yj.flowIndentCheck(r.indent,f,i),n.atKey=!1,kae.mapIncludes(n,a.items,C)&&i(y,"DUPLICATE_KEY","Map keys must be unique");let x=mj.resolveProps(d??[],{indicator:"map-value-ind",next:h,offset:C.range[2],onError:i,parentIndent:r.indent,startOnNewline:!f||f.type==="block-scalar"});if(c=x.end,x.found){m&&(h?.type==="block-map"&&!x.hasNewline&&i(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&g.start<x.found.offset-1024&&i(C.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let T=h?t(n,h,x,i):e(n,c,d,null,x,i);n.schema.compat&&yj.flowIndentCheck(r.indent,h,i),c=T.range[2];let E=new gj.Pair(C,T);n.options.keepSourceTokens&&(E.srcToken=l),a.items.push(E)}else{m&&i(C.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(C.comment?C.comment+=`
`+x.comment:C.comment=x.comment);let T=new gj.Pair(C);n.options.keepSourceTokens&&(T.srcToken=l),a.items.push(T)}}return u&&u<c&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,c,u??c],a}Sj.resolveBlockMap=Rae});var vj=P(bj=>{"use strict";var Fae=Ho(),Aae=Qf(),Pae=_E();function _ae({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=s?.nodeClass??Fae.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset,u=null;for(let{start:l,value:p}of r.items){let f=Aae.resolveProps(l,{indicator:"seq-item-ind",next:p,offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!f.found)if(f.anchor||f.tag||p)p&&p.type==="block-seq"?i(f.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator");else{u=f.end,f.comment&&(a.comment=f.comment);continue}let d=p?t(n,p,f,i):e(n,f.end,l,null,f,i);n.schema.compat&&Pae.flowIndentCheck(r.indent,p,i),c=d.range[2],a.items.push(d)}return a.range=[r.offset,c,u??c],a}bj.resolveBlockSeq=_ae});var Xu=P(wj=>{"use strict";function Iae(t,e,n,r){let i="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let l=c.substring(1)||" ";i?i+=o+l:i=l,o="";break}case"newline":i&&(o+=c),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=c.length}}return{comment:i,offset:e}}wj.resolveEnd=Iae});var kj=P(Ej=>{"use strict";var Nae=gt(),Lae=$o(),Dj=zo(),Oae=Ho(),Mae=Xu(),Tj=Qf(),Uae=My(),qae=IE(),NE="Block collections are not allowed within flow collections",LE=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Wae({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=r.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?Dj.YAMLMap:Oae.YAMLSeq),u=new c(n.schema);u.flow=!0;let l=n.atRoot;l&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let p=r.offset+r.start.source.length;for(let m=0;m<r.items.length;++m){let y=r.items[m],{start:C,key:x,sep:T,value:E}=y,k=Tj.resolveProps(C,{flow:a,indicator:"explicit-key-ind",next:x??T?.[0],offset:p,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!k.found){if(!k.anchor&&!k.tag&&!T&&!E){m===0&&k.comma?i(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<r.items.length-1&&i(k.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),k.comment&&(u.comment?u.comment+=`
`+k.comment:u.comment=k.comment),p=k.end;continue}!o&&n.options.strict&&Uae.containsNewline(x)&&i(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)k.comma&&i(k.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(k.comma||i(k.start,"MISSING_CHAR",`Missing , between ${a} items`),k.comment){let L="";e:for(let A of C)switch(A.type){case"comma":case"space":break;case"comment":L=A.source.substring(1);break e;default:break e}if(L){let A=u.items[u.items.length-1];Nae.isPair(A)&&(A=A.value??A.key),A.comment?A.comment+=`
`+L:A.comment=L,k.comment=k.comment.substring(L.length+1)}}if(!o&&!T&&!k.found){let L=E?t(n,E,k,i):e(n,k.end,T,null,k,i);u.items.push(L),p=L.range[2],LE(E)&&i(L.range,"BLOCK_IN_FLOW",NE)}else{n.atKey=!0;let L=k.end,A=x?t(n,x,k,i):e(n,L,C,null,k,i);LE(x)&&i(A.range,"BLOCK_IN_FLOW",NE),n.atKey=!1;let j=Tj.resolveProps(T??[],{flow:a,indicator:"map-value-ind",next:E,offset:A.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(j.found){if(!o&&!k.found&&n.options.strict){if(T)for(let M of T){if(M===j.found)break;if(M.type==="newline"){i(M,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}k.start<j.found.offset-1024&&i(j.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else E&&("source"in E&&E.source&&E.source[0]===":"?i(E,"MISSING_CHAR",`Missing space after : in ${a}`):i(j.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let H=E?t(n,E,j,i):j.found?e(n,j.end,T,null,j,i):null;H?LE(E)&&i(H.range,"BLOCK_IN_FLOW",NE):j.comment&&(A.comment?A.comment+=`
`+j.comment:A.comment=j.comment);let F=new Lae.Pair(A,H);if(n.options.keepSourceTokens&&(F.srcToken=y),o){let M=u;qae.mapIncludes(n,M.items,A)&&i(L,"DUPLICATE_KEY","Map keys must be unique"),M.items.push(F)}else{let M=new Dj.YAMLMap(n.schema);M.flow=!0,M.items.push(F);let J=(H??A).range;M.range=[A.range[0],J[1],J[2]],u.items.push(M)}p=H?H.range[2]:j.end}}let f=o?"}":"]",[d,...h]=r.end,g=p;if(d&&d.source===f)g=d.offset+d.source.length;else{let m=a[0].toUpperCase()+a.substring(1),y=l?`${m} must end with a ${f}`:`${m} in block collection must be sufficiently indented and end with a ${f}`;i(p,l?"MISSING_CHAR":"BAD_INDENT",y),d&&d.source.length!==1&&h.unshift(d)}if(h.length>0){let m=Mae.resolveEnd(h,g,n.options.strict,i);m.comment&&(u.comment?u.comment+=`
`+m.comment:u.comment=m.comment),u.range=[r.offset,g,m.offset]}else u.range=[r.offset,g,g];return u}Ej.resolveFlowCollection=Wae});var Fj=P(Rj=>{"use strict";var jae=gt(),Bae=En(),$ae=zo(),Kae=Ho(),zae=xj(),Hae=vj(),Gae=kj();function OE(t,e,n,r,i,s){let o=n.type==="block-map"?zae.resolveBlockMap(t,e,n,r,s):n.type==="block-seq"?Hae.resolveBlockSeq(t,e,n,r,s):Gae.resolveFlowCollection(t,e,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function Vae(t,e,n,r,i){let s=r.tag,o=s?e.directives.tagName(s.source,f=>i(s,"TAG_RESOLVE_FAILED",f)):null;if(n.type==="block-seq"){let{anchor:f,newlineAfterProp:d}=r,h=f&&s?f.offset>s.offset?f:s:f??s;h&&(!d||d.offset<h.offset)&&i(h,"MISSING_CHAR","Missing newline after block sequence props")}let a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===$ae.YAMLMap.tagName&&a==="map"||o===Kae.YAMLSeq.tagName&&a==="seq")return OE(t,e,n,i,o);let c=e.schema.tags.find(f=>f.tag===o&&f.collection===a);if(!c){let f=e.schema.knownTags[o];if(f&&f.collection===a)e.schema.tags.push(Object.assign({},f,{default:!1})),c=f;else return f?.collection?i(s,"BAD_COLLECTION_TYPE",`${f.tag} used for ${a} collection, but expects ${f.collection}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),OE(t,e,n,i,o)}let u=OE(t,e,n,i,o,c),l=c.resolve?.(u,f=>i(s,"TAG_RESOLVE_FAILED",f),e.options)??u,p=jae.isNode(l)?l:new Bae.Scalar(l);return p.range=u.range,p.tag=o,c?.format&&(p.format=c.format),p}Rj.composeCollection=Vae});var UE=P(Aj=>{"use strict";var ME=En();function Jae(t,e,n){let r=e.offset,i=Xae(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};let s=i.mode===">"?ME.Scalar.BLOCK_FOLDED:ME.Scalar.BLOCK_LITERAL,o=e.source?Yae(e.source):[],a=o.length;for(let g=o.length-1;g>=0;--g){let m=o[g][1];if(m===""||m==="\r")a=g;else break}if(a===0){let g=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=r+i.length;return e.source&&(m+=e.source.length),{value:g,type:s,comment:i.comment,range:[r,m,m]}}let c=e.indent+i.indent,u=e.offset+i.length,l=0;for(let g=0;g<a;++g){let[m,y]=o[g];if(y===""||y==="\r")i.indent===0&&m.length>c&&(c=m.length);else{m.length<c&&n(u+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=m.length),l=g,c===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=m.length+y.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>c&&(a=g+1);let p="",f="",d=!1;for(let g=0;g<l;++g)p+=o[g][0].slice(c)+`
`;for(let g=l;g<a;++g){let[m,y]=o[g];u+=m.length+y.length+1;let C=y[y.length-1]==="\r";if(C&&(y=y.slice(0,-1)),y&&m.length<c){let T=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-y.length-(C?2:1),"BAD_INDENT",T),m=""}s===ME.Scalar.BLOCK_LITERAL?(p+=f+m.slice(c)+y,f=`
`):m.length>c||y[0]==="	"?(f===" "?f=`
`:!d&&f===`
`&&(f=`

`),p+=f+m.slice(c)+y,f=`
`,d=!0):y===""?f===`
`?p+=`
`:f=`
`:(p+=f+y,f=" ",d=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)p+=`
`+o[g][0].slice(c);p[p.length-1]!==`
`&&(p+=`
`);break;default:p+=`
`}let h=r+i.length+e.source.length;return{value:p,type:s,comment:i.comment,range:[r,h,h]}}function Xae({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],s=i[0],o=0,a="",c=-1;for(let f=1;f<i.length;++f){let d=i[f];if(!a&&(d==="-"||d==="+"))a=d;else{let h=Number(d);!o&&h?o=h:c===-1&&(c=t+f)}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,l="",p=i.length;for(let f=1;f<e.length;++f){let d=e[f];switch(d.type){case"space":u=!0;case"newline":p+=d.source.length;break;case"comment":n&&!u&&r(d,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),p+=d.source.length,l=d.source.substring(1);break;case"error":r(d,"UNEXPECTED_TOKEN",d.message),p+=d.source.length;break;default:{let h=`Unexpected token in block scalar header: ${d.type}`;r(d,"UNEXPECTED_TOKEN",h);let g=d.source;g&&typeof g=="string"&&(p+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:l,length:p}}function Yae(t){let e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}Aj.resolveBlockScalar=Jae});var WE=P(_j=>{"use strict";var qE=En(),Qae=Xu();function Zae(t,e,n){let{offset:r,type:i,source:s,end:o}=t,a,c,u=(f,d,h)=>n(r+f,d,h);switch(i){case"scalar":a=qE.Scalar.PLAIN,c=ece(s,u);break;case"single-quoted-scalar":a=qE.Scalar.QUOTE_SINGLE,c=tce(s,u);break;case"double-quoted-scalar":a=qE.Scalar.QUOTE_DOUBLE,c=nce(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}let l=r+s.length,p=Qae.resolveEnd(o,l,e,n);return{value:c,type:a,comment:p.comment,range:[r,l,p.offset]}}function ece(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),Pj(t)}function tce(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),Pj(t.slice(1,-1)).replace(/''/g,"'")}function Pj(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),i+s+(r?.[1]??"")}function nce(t,e){let n="";for(let r=1;r<t.length-1;++r){let i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){let{fold:s,offset:o}=rce(t,r);n+=s,r=o}else if(i==="\\"){let s=t[++r],o=ice[s];if(o)n+=o;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=sce(t,r+1,a,e),r+=a}else{let a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){let s=r,o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function rce(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}var ice={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function sce(t,e,n,r){let i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}_j.resolveFlowScalar=Zae});var Lj=P(Nj=>{"use strict";var bc=gt(),Ij=En(),oce=UE(),ace=WE();function cce(t,e,n,r){let{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?oce.resolveBlockScalar(t,e,r):ace.resolveFlowScalar(e,t.options.strict,r),c=n?t.directives.tagName(n.source,p=>r(n,"TAG_RESOLVE_FAILED",p)):null,u;t.options.stringKeys&&t.atKey?u=t.schema[bc.SCALAR]:c?u=uce(t.schema,i,c,n,r):e.type==="scalar"?u=lce(t,i,e,r):u=t.schema[bc.SCALAR];let l;try{let p=u.resolve(i,f=>r(n??e,"TAG_RESOLVE_FAILED",f),t.options);l=bc.isScalar(p)?p:new Ij.Scalar(p)}catch(p){let f=p instanceof Error?p.message:String(p);r(n??e,"TAG_RESOLVE_FAILED",f),l=new Ij.Scalar(i)}return l.range=a,l.source=i,s&&(l.type=s),c&&(l.tag=c),u.format&&(l.format=u.format),o&&(l.comment=o),l}function uce(t,e,n,r,i){if(n==="!")return t[bc.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[bc.SCALAR])}function lce({atKey:t,directives:e,schema:n},r,i,s){let o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[bc.SCALAR];if(n.compat){let a=n.compat.find(c=>c.default&&c.test?.test(r))??n[bc.SCALAR];if(o.tag!==a.tag){let c=e.tagString(o.tag),u=e.tagString(a.tag),l=`Value may be parsed as either ${c} or ${u}`;s(i,"TAG_RESOLVE_FAILED",l,!0)}}return o}Nj.composeScalar=cce});var Mj=P(Oj=>{"use strict";function dce(t,e,n){if(e){n===null&&(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}Oj.emptyScalarPosition=dce});var Wj=P(BE=>{"use strict";var fce=_f(),pce=gt(),hce=Fj(),Uj=Lj(),gce=Xu(),mce=Mj(),yce={composeNode:qj,composeEmptyNode:jE};function qj(t,e,n,r){let i=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:c}=n,u,l=!0;switch(e.type){case"alias":u=Cce(t,e,r),(a||c)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=Uj.composeScalar(t,e,c,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=hce.composeCollection(yce,t,e,n,r),a&&(u.anchor=a.source.substring(1));break;default:{let p=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",p),u=jE(t,e.offset,void 0,null,n,r),l=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!pce.isScalar(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(c??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&l&&(u.srcToken=e),u}function jE(t,e,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:c},u){let l={type:"scalar",offset:mce.emptyScalarPosition(e,n,r),indent:-1,source:""},p=Uj.composeScalar(t,l,a,u);return o&&(p.anchor=o.source.substring(1),p.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(p.spaceBefore=!0),s&&(p.comment=s,p.range[2]=c),p}function Cce({options:t},{offset:e,source:n,end:r},i){let s=new fce.Alias(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=gce.resolveEnd(r,o,t.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}BE.composeEmptyNode=jE;BE.composeNode=qj});var $j=P(Bj=>{"use strict";var Sce=Vf(),jj=Wj(),xce=Xu(),bce=Qf();function vce(t,e,{offset:n,start:r,value:i,end:s},o){let a=Object.assign({_directives:e},t),c=new Sce.Document(void 0,a),u={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},l=bce.resolveProps(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});l.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!l.hasNewline&&o(l.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?jj.composeNode(u,i,l,o):jj.composeEmptyNode(u,l.end,r,null,l,o);let p=c.contents.range[2],f=xce.resolveEnd(s,p,!1,o);return f.comment&&(c.comment=f.comment),c.range=[n,p,f.offset],c}Bj.composeDoc=vce});var KE=P(Hj=>{"use strict";var wce=FT(),Dce=Vf(),Zf=Yf(),Kj=gt(),Tce=$j(),Ece=Xu();function ep(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function zj(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){let s=t[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}var $E=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{let o=ep(n);s?this.warnings.push(new Zf.YAMLWarning(o,r,i)):this.errors.push(new Zf.YAMLParseError(o,r,i))},this.directives=new wce.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:r,afterEmptyLine:i}=zj(this.prelude);if(r){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(Kj.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];Kj.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{let o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:zj(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(let i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{let s=ep(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=Tce.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Zf.YAMLParseError(ep(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){let r="Unexpected doc-end without preceding document";this.errors.push(new Zf.YAMLParseError(ep(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;let n=Ece.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Zf.YAMLParseError(ep(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let r=Object.assign({_directives:this.directives},this.options),i=new Dce.Document(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}};Hj.Composer=$E});var Jj=P(Uy=>{"use strict";var kce=UE(),Rce=WE(),Fce=Yf(),Gj=Mf();function Ace(t,e=!0,n){if(t){let r=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,s,o);else throw new Fce.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return Rce.resolveFlowScalar(t,e,r);case"block-scalar":return kce.resolveBlockScalar({options:{strict:e}},t,r)}}return null}function Pce(t,e){let{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=Gj.stringifyString({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),l=a.substring(0,u),p=a.substring(u+1)+`
`,f=[{type:"block-scalar-header",offset:s,indent:r,source:l}];return Vj(f,c)||f.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:s,indent:r,props:f,source:p}}case'"':return{type:"double-quoted-scalar",offset:s,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:r,source:a,end:c};default:return{type:"scalar",offset:s,indent:r,source:a,end:c}}}function _ce(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(r&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=Gj.stringifyString({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":Ice(t,c);break;case'"':zE(t,c,"double-quoted-scalar");break;case"'":zE(t,c,"single-quoted-scalar");break;default:zE(t,c,"scalar")}}function Ice(t,e){let n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=r,t.source=i}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:r}];Vj(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function Vj(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function zE(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let r=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let s of r)s.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{let i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{let r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}Uy.createScalarToken=Pce;Uy.resolveAsScalar=Ace;Uy.setScalarValue=_ce});var Yj=P(Xj=>{"use strict";var Nce=t=>"type"in t?Wy(t):qy(t);function Wy(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=Wy(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=qy(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=qy(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=qy(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function qy({start:t,key:e,sep:n,value:r}){let i="";for(let s of t)i+=s.source;if(e&&(i+=Wy(e)),n)for(let s of n)i+=s.source;return r&&(i+=Wy(r)),i}Xj.stringify=Nce});var tB=P(eB=>{"use strict";var HE=Symbol("break visit"),Lce=Symbol("skip children"),Qj=Symbol("remove item");function vc(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),Zj(Object.freeze([]),t,e)}vc.BREAK=HE;vc.SKIP=Lce;vc.REMOVE=Qj;vc.itemAtPath=(t,e)=>{let n=t;for(let[r,i]of e){let s=n?.[r];if(s&&"items"in s)n=s.items[i];else return}return n};vc.parentCollection=(t,e)=>{let n=vc.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Zj(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(let i of["key","value"]){let s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=Zj(Object.freeze(t.concat([[i,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===HE)return HE;a===Qj&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}eB.visit=vc});var jy=P(Nr=>{"use strict";var GE=Jj(),Oce=Yj(),Mce=tB(),VE="\uFEFF",JE="",XE="",YE="",Uce=t=>!!t&&"items"in t,qce=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function Wce(t){switch(t){case VE:return"<BOM>";case JE:return"<DOC>";case XE:return"<FLOW_END>";case YE:return"<SCALAR>";default:return JSON.stringify(t)}}function jce(t){switch(t){case VE:return"byte-order-mark";case JE:return"doc-mode";case XE:return"flow-error-end";case YE:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}Nr.createScalarToken=GE.createScalarToken;Nr.resolveAsScalar=GE.resolveAsScalar;Nr.setScalarValue=GE.setScalarValue;Nr.stringify=Oce.stringify;Nr.visit=Mce.visit;Nr.BOM=VE;Nr.DOCUMENT=JE;Nr.FLOW_END=XE;Nr.SCALAR=YE;Nr.isCollection=Uce;Nr.isScalar=qce;Nr.prettyToken=Wce;Nr.tokenType=jce});var e0=P(rB=>{"use strict";var tp=jy();function Xi(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var nB=new Set("0123456789ABCDEFabcdef"),Bce=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),By=new Set(",[]{}"),$ce=new Set(` ,[]{}
\r	`),QE=t=>!t||$ce.has(t),ZE=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){let i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){let r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Xi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===tp.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){let s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield tp.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Xi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Xi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Xi(n)){let r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(QE),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Xi(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield tp.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(QE),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Xi(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let r=this.buffer.substring(0,n),i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Xi(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield tp.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){let s=this.buffer[r+1];if(Xi(s)||e&&By.has(s))break;n=r}else if(Xi(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&By.has(s))break;if(i===`
`){let o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&By.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield tp.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(QE))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(Xi(n)||e&&By.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Xi(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(Bce.has(n))n=this.buffer[++e];else if(n==="%"&&nB.has(this.buffer[e+1])&&nB.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");let i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};rB.Lexer=ZE});var n0=P(iB=>{"use strict";var t0=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){let s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}};iB.LineCounter=t0});var i0=P(uB=>{"use strict";var sB=jy(),Kce=e0();function wc(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function oB(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function cB(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function $y(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function Yu(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function aB(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!wc(e.start,"explicit-key-ind")&&!wc(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,cB(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var r0=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Kce.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",sB.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=sB.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&aB(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{let i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{let i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&oB(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{oB(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=$y(this.peek(2)),r=Yu(n),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&n.sep&&!n.value){let o=[];for(let a=0;a<n.sep.length;++a){let c=n.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(wc(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(cB(n.key)&&!wc(n.sep,"newline")){let o=Yu(n.start),a=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(wc(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let o=Yu(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):wc(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){r&&o.type!=="block-seq"&&e.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||wc(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{let r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){let i=$y(r),s=Yu(i);aB(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=$y(e),r=Yu(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=$y(e),r=Yu(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};uB.Parser=r0});var hB=P(rp=>{"use strict";var lB=KE(),zce=Vf(),np=Yf(),Hce=BT(),Gce=gt(),Vce=n0(),dB=i0();function fB(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Vce.LineCounter||null,prettyErrors:e}}function Jce(t,e={}){let{lineCounter:n,prettyErrors:r}=fB(e),i=new dB.Parser(n?.addNewLine),s=new lB.Composer(e),o=Array.from(s.compose(i.parse(t)));if(r&&n)for(let a of o)a.errors.forEach(np.prettifyError(t,n)),a.warnings.forEach(np.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function pB(t,e={}){let{lineCounter:n,prettyErrors:r}=fB(e),i=new dB.Parser(n?.addNewLine),s=new lB.Composer(e),o=null;for(let a of s.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new np.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(np.prettifyError(t,n)),o.warnings.forEach(np.prettifyError(t,n))),o}function Xce(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);let i=pB(t,n);if(!i)return null;if(i.warnings.forEach(s=>Hce.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function Yce(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=n??e??{};if(!i)return}return Gce.isDocument(t)&&!r?t.toString(n):new zce.Document(t,r,n).toString(n)}rp.parse=Xce;rp.parseAllDocuments=Jce;rp.parseDocument=pB;rp.stringify=Yce});var o0=P(kt=>{"use strict";var Qce=KE(),Zce=Vf(),eue=DE(),s0=Yf(),tue=_f(),Go=gt(),nue=$o(),rue=En(),iue=zo(),sue=Ho(),oue=jy(),aue=e0(),cue=n0(),uue=i0(),Ky=hB(),gB=Rf();kt.Composer=Qce.Composer;kt.Document=Zce.Document;kt.Schema=eue.Schema;kt.YAMLError=s0.YAMLError;kt.YAMLParseError=s0.YAMLParseError;kt.YAMLWarning=s0.YAMLWarning;kt.Alias=tue.Alias;kt.isAlias=Go.isAlias;kt.isCollection=Go.isCollection;kt.isDocument=Go.isDocument;kt.isMap=Go.isMap;kt.isNode=Go.isNode;kt.isPair=Go.isPair;kt.isScalar=Go.isScalar;kt.isSeq=Go.isSeq;kt.Pair=nue.Pair;kt.Scalar=rue.Scalar;kt.YAMLMap=iue.YAMLMap;kt.YAMLSeq=sue.YAMLSeq;kt.CST=oue;kt.Lexer=aue.Lexer;kt.LineCounter=cue.LineCounter;kt.Parser=uue.Parser;kt.parse=Ky.parse;kt.parseAllDocuments=Ky.parseAllDocuments;kt.parseDocument=Ky.parseDocument;kt.stringify=Ky.stringify;kt.visit=gB.visit;kt.visitAsync=gB.visitAsync});var Ei=P(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.asPromise=Cn.thenable=Cn.typedArray=Cn.stringArray=Cn.array=Cn.func=Cn.error=Cn.number=Cn.string=Cn.boolean=void 0;function Mue(t){return t===!0||t===!1}Cn.boolean=Mue;function EB(t){return typeof t=="string"||t instanceof String}Cn.string=EB;function Uue(t){return typeof t=="number"||t instanceof Number}Cn.number=Uue;function que(t){return t instanceof Error}Cn.error=que;function kB(t){return typeof t=="function"}Cn.func=kB;function RB(t){return Array.isArray(t)}Cn.array=RB;function Wue(t){return RB(t)&&t.every(e=>EB(e))}Cn.stringArray=Wue;function jue(t,e){return Array.isArray(t)&&t.every(e)}Cn.typedArray=jue;function FB(t){return t&&kB(t.then)}Cn.thenable=FB;function Bue(t){return t instanceof Promise?t:FB(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}Cn.asPromise=Bue});var el=P(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.stringArray=ir.array=ir.func=ir.error=ir.number=ir.string=ir.boolean=void 0;function $ue(t){return t===!0||t===!1}ir.boolean=$ue;function AB(t){return typeof t=="string"||t instanceof String}ir.string=AB;function Kue(t){return typeof t=="number"||t instanceof Number}ir.number=Kue;function zue(t){return t instanceof Error}ir.error=zue;function Hue(t){return typeof t=="function"}ir.func=Hue;function PB(t){return Array.isArray(t)}ir.array=PB;function Gue(t){return PB(t)&&t.every(e=>AB(e))}ir.stringArray=Gue});var z0=P(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.Message=Fe.NotificationType9=Fe.NotificationType8=Fe.NotificationType7=Fe.NotificationType6=Fe.NotificationType5=Fe.NotificationType4=Fe.NotificationType3=Fe.NotificationType2=Fe.NotificationType1=Fe.NotificationType0=Fe.NotificationType=Fe.RequestType9=Fe.RequestType8=Fe.RequestType7=Fe.RequestType6=Fe.RequestType5=Fe.RequestType4=Fe.RequestType3=Fe.RequestType2=Fe.RequestType1=Fe.RequestType=Fe.RequestType0=Fe.AbstractMessageSignature=Fe.ParameterStructures=Fe.ResponseError=Fe.ErrorCodes=void 0;var Dc=el(),b0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(b0||(Fe.ErrorCodes=b0={}));var v0=class t extends Error{constructor(e,n,r){super(n),this.code=Dc.number(e)?e:b0.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Fe.ResponseError=v0;var Lr=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Fe.ParameterStructures=Lr;Lr.auto=new Lr("auto");Lr.byPosition=new Lr("byPosition");Lr.byName=new Lr("byName");var Kt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Lr.auto}};Fe.AbstractMessageSignature=Kt;var w0=class extends Kt{constructor(e){super(e,0)}};Fe.RequestType0=w0;var D0=class extends Kt{constructor(e,n=Lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Fe.RequestType=D0;var T0=class extends Kt{constructor(e,n=Lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Fe.RequestType1=T0;var E0=class extends Kt{constructor(e){super(e,2)}};Fe.RequestType2=E0;var k0=class extends Kt{constructor(e){super(e,3)}};Fe.RequestType3=k0;var R0=class extends Kt{constructor(e){super(e,4)}};Fe.RequestType4=R0;var F0=class extends Kt{constructor(e){super(e,5)}};Fe.RequestType5=F0;var A0=class extends Kt{constructor(e){super(e,6)}};Fe.RequestType6=A0;var P0=class extends Kt{constructor(e){super(e,7)}};Fe.RequestType7=P0;var _0=class extends Kt{constructor(e){super(e,8)}};Fe.RequestType8=_0;var I0=class extends Kt{constructor(e){super(e,9)}};Fe.RequestType9=I0;var N0=class extends Kt{constructor(e,n=Lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Fe.NotificationType=N0;var L0=class extends Kt{constructor(e){super(e,0)}};Fe.NotificationType0=L0;var O0=class extends Kt{constructor(e,n=Lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Fe.NotificationType1=O0;var M0=class extends Kt{constructor(e){super(e,2)}};Fe.NotificationType2=M0;var U0=class extends Kt{constructor(e){super(e,3)}};Fe.NotificationType3=U0;var q0=class extends Kt{constructor(e){super(e,4)}};Fe.NotificationType4=q0;var W0=class extends Kt{constructor(e){super(e,5)}};Fe.NotificationType5=W0;var j0=class extends Kt{constructor(e){super(e,6)}};Fe.NotificationType6=j0;var B0=class extends Kt{constructor(e){super(e,7)}};Fe.NotificationType7=B0;var $0=class extends Kt{constructor(e){super(e,8)}};Fe.NotificationType8=$0;var K0=class extends Kt{constructor(e){super(e,9)}};Fe.NotificationType9=K0;var _B;(function(t){function e(i){let s=i;return s&&Dc.string(s.method)&&(Dc.string(s.id)||Dc.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&Dc.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Dc.string(s.id)||Dc.number(s.id)||s.id===null)}t.isResponse=r})(_B||(Fe.Message=_B={}))});var G0=P(Yo=>{"use strict";var IB;Object.defineProperty(Yo,"__esModule",{value:!0});Yo.LRUCache=Yo.LinkedMap=Yo.Touch=void 0;var sr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(sr||(Yo.Touch=sr={}));var tC=class{constructor(){this[IB]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=sr.None){let r=this._map.get(e);if(r)return n!==sr.None&&this.touch(r,n),r.value}set(e,n,r=sr.None){let i=this._map.get(e);if(i)i.value=n,r!==sr.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case sr.None:this.addItemLast(i);break;case sr.First:this.addItemFirst(i);break;case sr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(IB=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==sr.First&&n!==sr.Last)){if(n===sr.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===sr.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Yo.LinkedMap=tC;var H0=class extends tC{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=sr.AsNew){return super.get(e,n)}peek(e){return super.get(e,sr.None)}set(e,n){return super.set(e,n,sr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Yo.LRUCache=H0});var LB=P(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});nC.Disposable=void 0;var NB;(function(t){function e(n){return{dispose:n}}t.create=e})(NB||(nC.Disposable=NB={}))});var Qo=P(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0});var V0;function J0(){if(V0===void 0)throw new Error("No runtime abstraction layer installed");return V0}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");V0=n}t.install=e})(J0||(J0={}));X0.default=J0});var nl=P(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.Emitter=tl.Event=void 0;var Vue=Qo(),OB;(function(t){let e={dispose(){}};t.None=function(){return e}})(OB||(tl.Event=OB={}));var Y0=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){(0,Vue.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},rC=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Y0),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};tl.Emitter=rC;rC._noop=function(){}});var oC=P(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.CancellationTokenSource=rl.CancellationToken=void 0;var Jue=Qo(),Xue=el(),Q0=nl(),iC;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Q0.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Q0.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Xue.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(iC||(rl.CancellationToken=iC={}));var Yue=Object.freeze(function(t,e){let n=(0,Jue.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),sC=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Yue:(this._emitter||(this._emitter=new Q0.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Z0=class{get token(){return this._token||(this._token=new sC),this._token}cancel(){this._token?this._token.cancel():this._token=iC.Cancelled}dispose(){this._token?this._token instanceof sC&&this._token.dispose():this._token=iC.None}};rl.CancellationTokenSource=Z0});var MB=P(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.SharedArrayReceiverStrategy=il.SharedArraySenderStrategy=void 0;var Que=oC(),ap;(function(t){t.Continue=0,t.Cancelled=1})(ap||(ap={}));var ek=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=ap.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,ap.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};il.SharedArraySenderStrategy=ek;var tk=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ap.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},nk=class{constructor(e){this.token=new tk(e)}cancel(){}dispose(){}},rk=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new Que.CancellationTokenSource:new nk(n)}};il.SharedArrayReceiverStrategy=rk});var sk=P(aC=>{"use strict";Object.defineProperty(aC,"__esModule",{value:!0});aC.Semaphore=void 0;var Zue=Qo(),ik=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Zue.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};aC.Semaphore=ik});var qB=P(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ReadableStreamMessageReader=Zo.AbstractMessageReader=Zo.MessageReader=void 0;var ak=Qo(),sl=el(),ok=nl(),ele=sk(),UB;(function(t){function e(n){let r=n;return r&&sl.func(r.listen)&&sl.func(r.dispose)&&sl.func(r.onError)&&sl.func(r.onClose)&&sl.func(r.onPartialMessage)}t.is=e})(UB||(Zo.MessageReader=UB={}));var cC=class{constructor(){this.errorEmitter=new ok.Emitter,this.closeEmitter=new ok.Emitter,this.partialMessageEmitter=new ok.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${sl.string(e.message)?e.message:"unknown"}`)}};Zo.AbstractMessageReader=cC;var ck;(function(t){function e(n){let r,i,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,ak.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(ck||(ck={}));var uk=class extends cC{constructor(e,n){super(),this.readable=e,this.options=ck.fromOptions(n),this.buffer=(0,ak.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ele.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ak.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Zo.ReadableStreamMessageReader=uk});var KB=P(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.WriteableStreamMessageWriter=ea.AbstractMessageWriter=ea.MessageWriter=void 0;var WB=Qo(),cp=el(),tle=sk(),jB=nl(),nle="Content-Length: ",BB=`\r
`,$B;(function(t){function e(n){let r=n;return r&&cp.func(r.dispose)&&cp.func(r.onClose)&&cp.func(r.onError)&&cp.func(r.write)}t.is=e})($B||(ea.MessageWriter=$B={}));var uC=class{constructor(){this.errorEmitter=new jB.Emitter,this.closeEmitter=new jB.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${cp.string(e.message)?e.message:"unknown"}`)}};ea.AbstractMessageWriter=uC;var lk;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,WB.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,WB.default)().applicationJson.encoder}}t.fromOptions=e})(lk||(lk={}));var dk=class extends uC{constructor(e,n){super(),this.writable=e,this.options=lk.fromOptions(n),this.errorCount=0,this.writeSemaphore=new tle.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(nle,r.byteLength.toString(),BB),i.push(BB),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};ea.WriteableStreamMessageWriter=dk});var zB=P(lC=>{"use strict";Object.defineProperty(lC,"__esModule",{value:!0});lC.AbstractMessageBuffer=void 0;var rle=13,ile=10,sle=`\r
`,fk=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case rle:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case ile:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=u.byteLength,r++}if(n!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(sle);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],p=l.indexOf(":");if(p===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,p),d=l.substr(p+1).trim();a.set(e?f.toLowerCase():f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};lC.AbstractMessageBuffer=fk});var XB=P(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.createMessageConnection=He.ConnectionOptions=He.MessageStrategy=He.CancellationStrategy=He.CancellationSenderStrategy=He.CancellationReceiverStrategy=He.RequestCancellationReceiverStrategy=He.IdCancellationReceiverStrategy=He.ConnectionStrategy=He.ConnectionError=He.ConnectionErrors=He.LogTraceNotification=He.SetTraceNotification=He.TraceFormat=He.TraceValues=He.Trace=He.NullLogger=He.ProgressType=He.ProgressToken=void 0;var HB=Qo(),cn=el(),Le=z0(),GB=G0(),up=nl(),pk=oC(),fp;(function(t){t.type=new Le.NotificationType("$/cancelRequest")})(fp||(fp={}));var hk;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(hk||(He.ProgressToken=hk={}));var lp;(function(t){t.type=new Le.NotificationType("$/progress")})(lp||(lp={}));var gk=class{constructor(){}};He.ProgressType=gk;var mk;(function(t){function e(n){return cn.func(n)}t.is=e})(mk||(mk={}));He.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var vt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(vt||(He.Trace=vt={}));var VB;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(VB||(He.TraceValues=VB={}));(function(t){function e(r){if(!cn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(vt||(He.Trace=vt={}));var ni;(function(t){t.Text="text",t.JSON="json"})(ni||(He.TraceFormat=ni={}));(function(t){function e(n){return cn.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(ni||(He.TraceFormat=ni={}));var yk;(function(t){t.type=new Le.NotificationType("$/setTrace")})(yk||(He.SetTraceNotification=yk={}));var dC;(function(t){t.type=new Le.NotificationType("$/logTrace")})(dC||(He.LogTraceNotification=dC={}));var dp;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(dp||(He.ConnectionErrors=dp={}));var ol=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};He.ConnectionError=ol;var Ck;(function(t){function e(n){let r=n;return r&&cn.func(r.cancelUndispatched)}t.is=e})(Ck||(He.ConnectionStrategy=Ck={}));var fC;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&cn.func(r.createCancellationTokenSource)&&(r.dispose===void 0||cn.func(r.dispose))}t.is=e})(fC||(He.IdCancellationReceiverStrategy=fC={}));var Sk;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&cn.func(r.createCancellationTokenSource)&&(r.dispose===void 0||cn.func(r.dispose))}t.is=e})(Sk||(He.RequestCancellationReceiverStrategy=Sk={}));var pC;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new pk.CancellationTokenSource}});function e(n){return fC.is(n)||Sk.is(n)}t.is=e})(pC||(He.CancellationReceiverStrategy=pC={}));var hC;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(fp.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&cn.func(r.sendCancellation)&&cn.func(r.cleanup)}t.is=e})(hC||(He.CancellationSenderStrategy=hC={}));var gC;(function(t){t.Message=Object.freeze({receiver:pC.Message,sender:hC.Message});function e(n){let r=n;return r&&pC.is(r.receiver)&&hC.is(r.sender)}t.is=e})(gC||(He.CancellationStrategy=gC={}));var mC;(function(t){function e(n){let r=n;return r&&cn.func(r.handleMessage)}t.is=e})(mC||(He.MessageStrategy=mC={}));var JB;(function(t){function e(n){let r=n;return r&&(gC.is(r.cancellationStrategy)||Ck.is(r.connectionStrategy)||mC.is(r.messageStrategy))}t.is=e})(JB||(He.ConnectionOptions=JB={}));var Yi;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Yi||(Yi={}));function ole(t,e,n,r){let i=n!==void 0?n:He.NullLogger,s=0,o=0,a=0,c="2.0",u,l=new Map,p,f=new Map,d=new Map,h,g=new GB.LinkedMap,m=new Map,y=new Set,C=new Map,x=vt.Off,T=ni.Text,E,k=Yi.New,L=new up.Emitter,A=new up.Emitter,j=new up.Emitter,H=new up.Emitter,F=new up.Emitter,M=r&&r.cancellationStrategy?r.cancellationStrategy:gC.Message;function J(b){if(b===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+b.toString()}function _(b){return b===null?"res-unknown-"+(++a).toString():"res-"+b.toString()}function I(){return"not-"+(++o).toString()}function W(b,O){Le.Message.isRequest(O)?b.set(J(O.id),O):Le.Message.isResponse(O)?b.set(_(O.id),O):b.set(I(),O)}function ue(b){}function ce(){return k===Yi.Listening}function ae(){return k===Yi.Closed}function fe(){return k===Yi.Disposed}function be(){(k===Yi.New||k===Yi.Listening)&&(k=Yi.Closed,A.fire(void 0))}function Ue(b){L.fire([b,void 0,void 0])}function st(b){L.fire(b)}t.onClose(be),t.onError(Ue),e.onClose(be),e.onError(st);function ut(){h||g.size===0||(h=(0,HB.default)().timer.setImmediate(()=>{h=void 0,ie()}))}function et(b){Le.Message.isRequest(b)?Ke(b):Le.Message.isNotification(b)?pe(b):Le.Message.isResponse(b)?re(b):se(b)}function ie(){if(g.size===0)return;let b=g.shift();try{let O=r?.messageStrategy;mC.is(O)?O.handleMessage(b,et):et(b)}finally{ut()}}let qe=b=>{try{if(Le.Message.isNotification(b)&&b.method===fp.type.method){let O=b.params.id,G=J(O),Y=g.get(G);if(Le.Message.isRequest(Y)){let ve=r?.connectionStrategy,Pe=ve&&ve.cancelUndispatched?ve.cancelUndispatched(Y,ue):void 0;if(Pe&&(Pe.error!==void 0||Pe.result!==void 0)){g.delete(G),C.delete(O),Pe.id=Y.id,Xe(Pe,b.method,Date.now()),e.write(Pe).catch(()=>i.error("Sending response for canceled message failed."));return}}let De=C.get(O);if(De!==void 0){De.cancel(),an(b);return}else y.add(O)}W(g,b)}finally{ut()}};function Ke(b){if(fe())return;function O(ge,Ee,ye){let $={jsonrpc:c,id:b.id};ge instanceof Le.ResponseError?$.error=ge.toJson():$.result=ge===void 0?null:ge,Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}function G(ge,Ee,ye){let $={jsonrpc:c,id:b.id,error:ge.toJson()};Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}function Y(ge,Ee,ye){ge===void 0&&(ge=null);let $={jsonrpc:c,id:b.id,result:ge};Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}tr(b);let De=l.get(b.method),ve,Pe;De&&(ve=De.type,Pe=De.handler);let _e=Date.now();if(Pe||u){let ge=b.id??String(Date.now()),Ee=fC.is(M.receiver)?M.receiver.createCancellationTokenSource(ge):M.receiver.createCancellationTokenSource(b);b.id!==null&&y.has(b.id)&&Ee.cancel(),b.id!==null&&C.set(ge,Ee);try{let ye;if(Pe)if(b.params===void 0){if(ve!==void 0&&ve.numberOfParams!==0){G(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${b.method} defines ${ve.numberOfParams} params but received none.`),b.method,_e);return}ye=Pe(Ee.token)}else if(Array.isArray(b.params)){if(ve!==void 0&&ve.parameterStructures===Le.ParameterStructures.byName){G(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by name but received parameters by position`),b.method,_e);return}ye=Pe(...b.params,Ee.token)}else{if(ve!==void 0&&ve.parameterStructures===Le.ParameterStructures.byPosition){G(new Le.ResponseError(Le.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by position but received parameters by name`),b.method,_e);return}ye=Pe(b.params,Ee.token)}else u&&(ye=u(b.method,b.params,Ee.token));let $=ye;ye?$.then?$.then(z=>{C.delete(ge),O(z,b.method,_e)},z=>{C.delete(ge),z instanceof Le.ResponseError?G(z,b.method,_e):z&&cn.string(z.message)?G(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${z.message}`),b.method,_e):G(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,_e)}):(C.delete(ge),O(ye,b.method,_e)):(C.delete(ge),Y(ye,b.method,_e))}catch(ye){C.delete(ge),ye instanceof Le.ResponseError?O(ye,b.method,_e):ye&&cn.string(ye.message)?G(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${ye.message}`),b.method,_e):G(new Le.ResponseError(Le.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,_e)}}else G(new Le.ResponseError(Le.ErrorCodes.MethodNotFound,`Unhandled method ${b.method}`),b.method,_e)}function re(b){if(!fe())if(b.id===null)b.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(b.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let O=b.id,G=m.get(O);if(Fr(b,G),G!==void 0){m.delete(O);try{if(b.error){let Y=b.error;G.reject(new Le.ResponseError(Y.code,Y.message,Y.data))}else if(b.result!==void 0)G.resolve(b.result);else throw new Error("Should never happen.")}catch(Y){Y.message?i.error(`Response handler '${G.method}' failed with message: ${Y.message}`):i.error(`Response handler '${G.method}' failed unexpectedly.`)}}}}function pe(b){if(fe())return;let O,G;if(b.method===fp.type.method){let Y=b.params.id;y.delete(Y),an(b);return}else{let Y=f.get(b.method);Y&&(G=Y.handler,O=Y.type)}if(G||p)try{if(an(b),G)if(b.params===void 0)O!==void 0&&O.numberOfParams!==0&&O.parameterStructures!==Le.ParameterStructures.byName&&i.error(`Notification ${b.method} defines ${O.numberOfParams} params but received none.`),G();else if(Array.isArray(b.params)){let Y=b.params;b.method===lp.type.method&&Y.length===2&&hk.is(Y[0])?G({token:Y[0],value:Y[1]}):(O!==void 0&&(O.parameterStructures===Le.ParameterStructures.byName&&i.error(`Notification ${b.method} defines parameters by name but received parameters by position`),O.numberOfParams!==b.params.length&&i.error(`Notification ${b.method} defines ${O.numberOfParams} params but received ${Y.length} arguments`)),G(...Y))}else O!==void 0&&O.parameterStructures===Le.ParameterStructures.byPosition&&i.error(`Notification ${b.method} defines parameters by position but received parameters by name`),G(b.params);else p&&p(b.method,b.params)}catch(Y){Y.message?i.error(`Notification handler '${b.method}' failed with message: ${Y.message}`):i.error(`Notification handler '${b.method}' failed unexpectedly.`)}else j.fire(b)}function se(b){if(!b){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(b,null,4)}`);let O=b;if(cn.string(O.id)||cn.number(O.id)){let G=O.id,Y=m.get(G);Y&&Y.reject(new Error("The received response has neither a result nor an error property."))}}function he(b){if(b!=null)switch(x){case vt.Verbose:return JSON.stringify(b,null,4);case vt.Compact:return JSON.stringify(b);default:return}}function ze(b){if(!(x===vt.Off||!E))if(T===ni.Text){let O;(x===vt.Verbose||x===vt.Compact)&&b.params&&(O=`Params: ${he(b.params)}

`),E.log(`Sending request '${b.method} - (${b.id})'.`,O)}else Et("send-request",b)}function ot(b){if(!(x===vt.Off||!E))if(T===ni.Text){let O;(x===vt.Verbose||x===vt.Compact)&&(b.params?O=`Params: ${he(b.params)}

`:O=`No parameters provided.

`),E.log(`Sending notification '${b.method}'.`,O)}else Et("send-notification",b)}function Xe(b,O,G){if(!(x===vt.Off||!E))if(T===ni.Text){let Y;(x===vt.Verbose||x===vt.Compact)&&(b.error&&b.error.data?Y=`Error data: ${he(b.error.data)}

`:b.result?Y=`Result: ${he(b.result)}

`:b.error===void 0&&(Y=`No result returned.

`)),E.log(`Sending response '${O} - (${b.id})'. Processing request took ${Date.now()-G}ms`,Y)}else Et("send-response",b)}function tr(b){if(!(x===vt.Off||!E))if(T===ni.Text){let O;(x===vt.Verbose||x===vt.Compact)&&b.params&&(O=`Params: ${he(b.params)}

`),E.log(`Received request '${b.method} - (${b.id})'.`,O)}else Et("receive-request",b)}function an(b){if(!(x===vt.Off||!E||b.method===dC.type.method))if(T===ni.Text){let O;(x===vt.Verbose||x===vt.Compact)&&(b.params?O=`Params: ${he(b.params)}

`:O=`No parameters provided.

`),E.log(`Received notification '${b.method}'.`,O)}else Et("receive-notification",b)}function Fr(b,O){if(!(x===vt.Off||!E))if(T===ni.Text){let G;if((x===vt.Verbose||x===vt.Compact)&&(b.error&&b.error.data?G=`Error data: ${he(b.error.data)}

`:b.result?G=`Result: ${he(b.result)}

`:b.error===void 0&&(G=`No result returned.

`)),O){let Y=b.error?` Request failed: ${b.error.message} (${b.error.code}).`:"";E.log(`Received response '${O.method} - (${b.id})' in ${Date.now()-O.timerStart}ms.${Y}`,G)}else E.log(`Received response ${b.id} without active response promise.`,G)}else Et("receive-response",b)}function Et(b,O){if(!E||x===vt.Off)return;let G={isLSPMessage:!0,type:b,message:O,timestamp:Date.now()};E.log(G)}function Jt(){if(ae())throw new ol(dp.Closed,"Connection is closed.");if(fe())throw new ol(dp.Disposed,"Connection is disposed.")}function bn(){if(ce())throw new ol(dp.AlreadyListening,"Connection is already listening")}function Gn(){if(!ce())throw new Error("Call listen() first.")}function mn(b){return b===void 0?null:b}function yr(b){if(b!==null)return b}function Ar(b){return b!=null&&!Array.isArray(b)&&typeof b=="object"}function Vn(b,O){switch(b){case Le.ParameterStructures.auto:return Ar(O)?yr(O):[mn(O)];case Le.ParameterStructures.byName:if(!Ar(O))throw new Error("Received parameters by name but param is not an object literal.");return yr(O);case Le.ParameterStructures.byPosition:return[mn(O)];default:throw new Error(`Unknown parameter structure ${b.toString()}`)}}function Pr(b,O){let G,Y=b.numberOfParams;switch(Y){case 0:G=void 0;break;case 1:G=Vn(b.parameterStructures,O[0]);break;default:G=[];for(let De=0;De<O.length&&De<Y;De++)G.push(mn(O[De]));if(O.length<Y)for(let De=O.length;De<Y;De++)G.push(null);break}return G}let Xt={sendNotification:(b,...O)=>{Jt();let G,Y;if(cn.string(b)){G=b;let ve=O[0],Pe=0,_e=Le.ParameterStructures.auto;Le.ParameterStructures.is(ve)&&(Pe=1,_e=ve);let ge=O.length,Ee=ge-Pe;switch(Ee){case 0:Y=void 0;break;case 1:Y=Vn(_e,O[Pe]);break;default:if(_e===Le.ParameterStructures.byName)throw new Error(`Received ${Ee} parameters for 'by Name' notification parameter structure.`);Y=O.slice(Pe,ge).map(ye=>mn(ye));break}}else{let ve=O;G=b.method,Y=Pr(b,ve)}let De={jsonrpc:c,method:G,params:Y};return ot(De),e.write(De).catch(ve=>{throw i.error("Sending notification failed."),ve})},onNotification:(b,O)=>{Jt();let G;return cn.func(b)?p=b:O&&(cn.string(b)?(G=b,f.set(b,{type:void 0,handler:O})):(G=b.method,f.set(b.method,{type:b,handler:O}))),{dispose:()=>{G!==void 0?f.delete(G):p=void 0}}},onProgress:(b,O,G)=>{if(d.has(O))throw new Error(`Progress handler for token ${O} already registered`);return d.set(O,G),{dispose:()=>{d.delete(O)}}},sendProgress:(b,O,G)=>Xt.sendNotification(lp.type,{token:O,value:G}),onUnhandledProgress:H.event,sendRequest:(b,...O)=>{Jt(),Gn();let G,Y,De;if(cn.string(b)){G=b;let ge=O[0],Ee=O[O.length-1],ye=0,$=Le.ParameterStructures.auto;Le.ParameterStructures.is(ge)&&(ye=1,$=ge);let z=O.length;pk.CancellationToken.is(Ee)&&(z=z-1,De=Ee);let ee=z-ye;switch(ee){case 0:Y=void 0;break;case 1:Y=Vn($,O[ye]);break;default:if($===Le.ParameterStructures.byName)throw new Error(`Received ${ee} parameters for 'by Name' request parameter structure.`);Y=O.slice(ye,z).map(Ie=>mn(Ie));break}}else{let ge=O;G=b.method,Y=Pr(b,ge);let Ee=b.numberOfParams;De=pk.CancellationToken.is(ge[Ee])?ge[Ee]:void 0}let ve=s++,Pe;De&&(Pe=De.onCancellationRequested(()=>{let ge=M.sender.sendCancellation(Xt,ve);return ge===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ve}`),Promise.resolve()):ge.catch(()=>{i.log(`Sending cancellation messages for id ${ve} failed`)})}));let _e={jsonrpc:c,id:ve,method:G,params:Y};return ze(_e),typeof M.sender.enableCancellation=="function"&&M.sender.enableCancellation(_e),new Promise(async(ge,Ee)=>{let ye=ee=>{ge(ee),M.sender.cleanup(ve),Pe?.dispose()},$=ee=>{Ee(ee),M.sender.cleanup(ve),Pe?.dispose()},z={method:G,timerStart:Date.now(),resolve:ye,reject:$};try{await e.write(_e),m.set(ve,z)}catch(ee){throw i.error("Sending request failed."),z.reject(new Le.ResponseError(Le.ErrorCodes.MessageWriteError,ee.message?ee.message:"Unknown reason")),ee}})},onRequest:(b,O)=>{Jt();let G=null;return mk.is(b)?(G=void 0,u=b):cn.string(b)?(G=null,O!==void 0&&(G=b,l.set(b,{handler:O,type:void 0}))):O!==void 0&&(G=b.method,l.set(b.method,{type:b,handler:O})),{dispose:()=>{G!==null&&(G!==void 0?l.delete(G):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(b,O,G)=>{let Y=!1,De=ni.Text;G!==void 0&&(cn.boolean(G)?Y=G:(Y=G.sendNotification||!1,De=G.traceFormat||ni.Text)),x=b,T=De,x===vt.Off?E=void 0:E=O,Y&&!ae()&&!fe()&&await Xt.sendNotification(yk.type,{value:vt.toString(b)})},onError:L.event,onClose:A.event,onUnhandledNotification:j.event,onDispose:F.event,end:()=>{e.end()},dispose:()=>{if(fe())return;k=Yi.Disposed,F.fire(void 0);let b=new Le.ResponseError(Le.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let O of m.values())O.reject(b);m=new Map,C=new Map,y=new Set,g=new GB.LinkedMap,cn.func(e.dispose)&&e.dispose(),cn.func(t.dispose)&&t.dispose()},listen:()=>{Jt(),bn(),k=Yi.Listening,t.listen(qe)},inspect:()=>{(0,HB.default)().console.log("inspect")}};return Xt.onNotification(dC.type,b=>{if(x===vt.Off||!E)return;let O=x===vt.Verbose||x===vt.Compact;E.log(b.message,O?b.verbose:void 0)}),Xt.onNotification(lp.type,b=>{let O=d.get(b.token);O?O(b.value):H.fire(b)}),Xt}He.createMessageConnection=ole});var yC=P(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.ProgressType=Q.ProgressToken=Q.createMessageConnection=Q.NullLogger=Q.ConnectionOptions=Q.ConnectionStrategy=Q.AbstractMessageBuffer=Q.WriteableStreamMessageWriter=Q.AbstractMessageWriter=Q.MessageWriter=Q.ReadableStreamMessageReader=Q.AbstractMessageReader=Q.MessageReader=Q.SharedArrayReceiverStrategy=Q.SharedArraySenderStrategy=Q.CancellationToken=Q.CancellationTokenSource=Q.Emitter=Q.Event=Q.Disposable=Q.LRUCache=Q.Touch=Q.LinkedMap=Q.ParameterStructures=Q.NotificationType9=Q.NotificationType8=Q.NotificationType7=Q.NotificationType6=Q.NotificationType5=Q.NotificationType4=Q.NotificationType3=Q.NotificationType2=Q.NotificationType1=Q.NotificationType0=Q.NotificationType=Q.ErrorCodes=Q.ResponseError=Q.RequestType9=Q.RequestType8=Q.RequestType7=Q.RequestType6=Q.RequestType5=Q.RequestType4=Q.RequestType3=Q.RequestType2=Q.RequestType1=Q.RequestType0=Q.RequestType=Q.Message=Q.RAL=void 0;Q.MessageStrategy=Q.CancellationStrategy=Q.CancellationSenderStrategy=Q.CancellationReceiverStrategy=Q.ConnectionError=Q.ConnectionErrors=Q.LogTraceNotification=Q.SetTraceNotification=Q.TraceFormat=Q.TraceValues=Q.Trace=void 0;var jt=z0();Object.defineProperty(Q,"Message",{enumerable:!0,get:function(){return jt.Message}});Object.defineProperty(Q,"RequestType",{enumerable:!0,get:function(){return jt.RequestType}});Object.defineProperty(Q,"RequestType0",{enumerable:!0,get:function(){return jt.RequestType0}});Object.defineProperty(Q,"RequestType1",{enumerable:!0,get:function(){return jt.RequestType1}});Object.defineProperty(Q,"RequestType2",{enumerable:!0,get:function(){return jt.RequestType2}});Object.defineProperty(Q,"RequestType3",{enumerable:!0,get:function(){return jt.RequestType3}});Object.defineProperty(Q,"RequestType4",{enumerable:!0,get:function(){return jt.RequestType4}});Object.defineProperty(Q,"RequestType5",{enumerable:!0,get:function(){return jt.RequestType5}});Object.defineProperty(Q,"RequestType6",{enumerable:!0,get:function(){return jt.RequestType6}});Object.defineProperty(Q,"RequestType7",{enumerable:!0,get:function(){return jt.RequestType7}});Object.defineProperty(Q,"RequestType8",{enumerable:!0,get:function(){return jt.RequestType8}});Object.defineProperty(Q,"RequestType9",{enumerable:!0,get:function(){return jt.RequestType9}});Object.defineProperty(Q,"ResponseError",{enumerable:!0,get:function(){return jt.ResponseError}});Object.defineProperty(Q,"ErrorCodes",{enumerable:!0,get:function(){return jt.ErrorCodes}});Object.defineProperty(Q,"NotificationType",{enumerable:!0,get:function(){return jt.NotificationType}});Object.defineProperty(Q,"NotificationType0",{enumerable:!0,get:function(){return jt.NotificationType0}});Object.defineProperty(Q,"NotificationType1",{enumerable:!0,get:function(){return jt.NotificationType1}});Object.defineProperty(Q,"NotificationType2",{enumerable:!0,get:function(){return jt.NotificationType2}});Object.defineProperty(Q,"NotificationType3",{enumerable:!0,get:function(){return jt.NotificationType3}});Object.defineProperty(Q,"NotificationType4",{enumerable:!0,get:function(){return jt.NotificationType4}});Object.defineProperty(Q,"NotificationType5",{enumerable:!0,get:function(){return jt.NotificationType5}});Object.defineProperty(Q,"NotificationType6",{enumerable:!0,get:function(){return jt.NotificationType6}});Object.defineProperty(Q,"NotificationType7",{enumerable:!0,get:function(){return jt.NotificationType7}});Object.defineProperty(Q,"NotificationType8",{enumerable:!0,get:function(){return jt.NotificationType8}});Object.defineProperty(Q,"NotificationType9",{enumerable:!0,get:function(){return jt.NotificationType9}});Object.defineProperty(Q,"ParameterStructures",{enumerable:!0,get:function(){return jt.ParameterStructures}});var xk=G0();Object.defineProperty(Q,"LinkedMap",{enumerable:!0,get:function(){return xk.LinkedMap}});Object.defineProperty(Q,"LRUCache",{enumerable:!0,get:function(){return xk.LRUCache}});Object.defineProperty(Q,"Touch",{enumerable:!0,get:function(){return xk.Touch}});var ale=LB();Object.defineProperty(Q,"Disposable",{enumerable:!0,get:function(){return ale.Disposable}});var YB=nl();Object.defineProperty(Q,"Event",{enumerable:!0,get:function(){return YB.Event}});Object.defineProperty(Q,"Emitter",{enumerable:!0,get:function(){return YB.Emitter}});var QB=oC();Object.defineProperty(Q,"CancellationTokenSource",{enumerable:!0,get:function(){return QB.CancellationTokenSource}});Object.defineProperty(Q,"CancellationToken",{enumerable:!0,get:function(){return QB.CancellationToken}});var ZB=MB();Object.defineProperty(Q,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return ZB.SharedArraySenderStrategy}});Object.defineProperty(Q,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return ZB.SharedArrayReceiverStrategy}});var bk=qB();Object.defineProperty(Q,"MessageReader",{enumerable:!0,get:function(){return bk.MessageReader}});Object.defineProperty(Q,"AbstractMessageReader",{enumerable:!0,get:function(){return bk.AbstractMessageReader}});Object.defineProperty(Q,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return bk.ReadableStreamMessageReader}});var vk=KB();Object.defineProperty(Q,"MessageWriter",{enumerable:!0,get:function(){return vk.MessageWriter}});Object.defineProperty(Q,"AbstractMessageWriter",{enumerable:!0,get:function(){return vk.AbstractMessageWriter}});Object.defineProperty(Q,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vk.WriteableStreamMessageWriter}});var cle=zB();Object.defineProperty(Q,"AbstractMessageBuffer",{enumerable:!0,get:function(){return cle.AbstractMessageBuffer}});var Qn=XB();Object.defineProperty(Q,"ConnectionStrategy",{enumerable:!0,get:function(){return Qn.ConnectionStrategy}});Object.defineProperty(Q,"ConnectionOptions",{enumerable:!0,get:function(){return Qn.ConnectionOptions}});Object.defineProperty(Q,"NullLogger",{enumerable:!0,get:function(){return Qn.NullLogger}});Object.defineProperty(Q,"createMessageConnection",{enumerable:!0,get:function(){return Qn.createMessageConnection}});Object.defineProperty(Q,"ProgressToken",{enumerable:!0,get:function(){return Qn.ProgressToken}});Object.defineProperty(Q,"ProgressType",{enumerable:!0,get:function(){return Qn.ProgressType}});Object.defineProperty(Q,"Trace",{enumerable:!0,get:function(){return Qn.Trace}});Object.defineProperty(Q,"TraceValues",{enumerable:!0,get:function(){return Qn.TraceValues}});Object.defineProperty(Q,"TraceFormat",{enumerable:!0,get:function(){return Qn.TraceFormat}});Object.defineProperty(Q,"SetTraceNotification",{enumerable:!0,get:function(){return Qn.SetTraceNotification}});Object.defineProperty(Q,"LogTraceNotification",{enumerable:!0,get:function(){return Qn.LogTraceNotification}});Object.defineProperty(Q,"ConnectionErrors",{enumerable:!0,get:function(){return Qn.ConnectionErrors}});Object.defineProperty(Q,"ConnectionError",{enumerable:!0,get:function(){return Qn.ConnectionError}});Object.defineProperty(Q,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Qn.CancellationReceiverStrategy}});Object.defineProperty(Q,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Qn.CancellationSenderStrategy}});Object.defineProperty(Q,"CancellationStrategy",{enumerable:!0,get:function(){return Qn.CancellationStrategy}});Object.defineProperty(Q,"MessageStrategy",{enumerable:!0,get:function(){return Qn.MessageStrategy}});var ule=Qo();Q.RAL=ule.default});var n2=P(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});var e2=require("util"),eo=yC(),CC=class t extends eo.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new e2.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};CC.emptyBuffer=Buffer.allocUnsafe(0);var wk=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),eo.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),eo.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),eo.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),eo.Disposable.create(()=>this.stream.off("data",e))}},Dk=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),eo.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),eo.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),eo.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},t2=Object.freeze({messageBuffer:Object.freeze({create:t=>new CC(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new e2.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new wk(t),asWritableStream:t=>new Dk(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function Tk(){return t2}(function(t){function e(){eo.RAL.install(t2)}t.install=e})(Tk||(Tk={}));Ek.default=Tk});var kc=P(lt=>{"use strict";var lle=lt&&lt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),dle=lt&&lt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&lle(e,t,n)};Object.defineProperty(lt,"__esModule",{value:!0});lt.createMessageConnection=lt.createServerSocketTransport=lt.createClientSocketTransport=lt.createServerPipeTransport=lt.createClientPipeTransport=lt.generateRandomPipeName=lt.StreamMessageWriter=lt.StreamMessageReader=lt.SocketMessageWriter=lt.SocketMessageReader=lt.PortMessageWriter=lt.PortMessageReader=lt.IPCMessageWriter=lt.IPCMessageReader=void 0;var al=n2();al.default.install();var r2=require("path"),fle=require("os"),ple=require("crypto"),bC=require("net"),ri=yC();dle(yC(),lt);var kk=class extends ri.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),ri.Disposable.create(()=>this.process.off("message",e))}};lt.IPCMessageReader=kk;var Rk=class extends ri.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};lt.IPCMessageWriter=Rk;var Fk=class extends ri.AbstractMessageReader{constructor(e){super(),this.onData=new ri.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};lt.PortMessageReader=Fk;var Ak=class extends ri.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};lt.PortMessageWriter=Ak;var Tc=class extends ri.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,al.default)().stream.asReadableStream(e),n)}};lt.SocketMessageReader=Tc;var Ec=class extends ri.WriteableStreamMessageWriter{constructor(e,n){super((0,al.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};lt.SocketMessageWriter=Ec;var SC=class extends ri.ReadableStreamMessageReader{constructor(e,n){super((0,al.default)().stream.asReadableStream(e),n)}};lt.StreamMessageReader=SC;var xC=class extends ri.WriteableStreamMessageWriter{constructor(e,n){super((0,al.default)().stream.asWritableStream(e),n)}};lt.StreamMessageWriter=xC;var i2=process.env.XDG_RUNTIME_DIR,hle=new Map([["linux",107],["darwin",103]]);function gle(){let t=(0,ple.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;i2?e=r2.join(i2,`vscode-ipc-${t}.sock`):e=r2.join(fle.tmpdir(),`vscode-${t}.sock`);let n=hle.get(process.platform);return n!==void 0&&e.length>n&&(0,al.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}lt.generateRandomPipeName=gle;function mle(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,bC.createServer)(a=>{o.close(),n([new Tc(a,e),new Ec(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}lt.createClientPipeTransport=mle;function yle(t,e="utf-8"){let n=(0,bC.createConnection)(t);return[new Tc(n,e),new Ec(n,e)]}lt.createServerPipeTransport=yle;function Cle(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,bC.createServer)(a=>{o.close(),n([new Tc(a,e),new Ec(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}lt.createClientSocketTransport=Cle;function Sle(t,e="utf-8"){let n=(0,bC.createConnection)(t,"127.0.0.1");return[new Tc(n,e),new Ec(n,e)]}lt.createServerSocketTransport=Sle;function xle(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function ble(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function vle(t,e,n,r){n||(n=ri.NullLogger);let i=xle(t)?new SC(t):t,s=ble(e)?new xC(e):e;return ri.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ri.createMessageConnection)(i,s,n,r)}lt.createMessageConnection=vle});var Pk=P((uMe,s2)=>{"use strict";s2.exports=kc()});var wC=P((o2,vC)=>{(function(t){if(typeof vC=="object"&&typeof vC.exports=="object"){var e=t(require,o2);e!==void 0&&(vC.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(D){function U(q){return typeof q=="string"}D.is=U})(n||(e.DocumentUri=n={}));var r;(function(D){function U(q){return typeof q=="string"}D.is=U})(r||(e.URI=r={}));var i;(function(D){D.MIN_VALUE=-2147483648,D.MAX_VALUE=2147483647;function U(q){return typeof q=="number"&&D.MIN_VALUE<=q&&q<=D.MAX_VALUE}D.is=U})(i||(e.integer=i={}));var s;(function(D){D.MIN_VALUE=0,D.MAX_VALUE=2147483647;function U(q){return typeof q=="number"&&D.MIN_VALUE<=q&&q<=D.MAX_VALUE}D.is=U})(s||(e.uinteger=s={}));var o;(function(D){function U(R,v){return R===Number.MAX_VALUE&&(R=s.MAX_VALUE),v===Number.MAX_VALUE&&(v=s.MAX_VALUE),{line:R,character:v}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&K.uinteger(v.line)&&K.uinteger(v.character)}D.is=q})(o||(e.Position=o={}));var a;(function(D){function U(R,v,V,te){if(K.uinteger(R)&&K.uinteger(v)&&K.uinteger(V)&&K.uinteger(te))return{start:o.create(R,v),end:o.create(V,te)};if(o.is(R)&&o.is(v))return{start:R,end:v};throw new Error("Range#create called with invalid arguments[".concat(R,", ").concat(v,", ").concat(V,", ").concat(te,"]"))}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&o.is(v.start)&&o.is(v.end)}D.is=q})(a||(e.Range=a={}));var c;(function(D){function U(R,v){return{uri:R,range:v}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&a.is(v.range)&&(K.string(v.uri)||K.undefined(v.uri))}D.is=q})(c||(e.Location=c={}));var u;(function(D){function U(R,v,V,te){return{targetUri:R,targetRange:v,targetSelectionRange:V,originSelectionRange:te}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&a.is(v.targetRange)&&K.string(v.targetUri)&&a.is(v.targetSelectionRange)&&(a.is(v.originSelectionRange)||K.undefined(v.originSelectionRange))}D.is=q})(u||(e.LocationLink=u={}));var l;(function(D){function U(R,v,V,te){return{red:R,green:v,blue:V,alpha:te}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&K.numberRange(v.red,0,1)&&K.numberRange(v.green,0,1)&&K.numberRange(v.blue,0,1)&&K.numberRange(v.alpha,0,1)}D.is=q})(l||(e.Color=l={}));var p;(function(D){function U(R,v){return{range:R,color:v}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&a.is(v.range)&&l.is(v.color)}D.is=q})(p||(e.ColorInformation=p={}));var f;(function(D){function U(R,v,V){return{label:R,textEdit:v,additionalTextEdits:V}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&K.string(v.label)&&(K.undefined(v.textEdit)||E.is(v))&&(K.undefined(v.additionalTextEdits)||K.typedArray(v.additionalTextEdits,E.is))}D.is=q})(f||(e.ColorPresentation=f={}));var d;(function(D){D.Comment="comment",D.Imports="imports",D.Region="region"})(d||(e.FoldingRangeKind=d={}));var h;(function(D){function U(R,v,V,te,We,Yt){var It={startLine:R,endLine:v};return K.defined(V)&&(It.startCharacter=V),K.defined(te)&&(It.endCharacter=te),K.defined(We)&&(It.kind=We),K.defined(Yt)&&(It.collapsedText=Yt),It}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&K.uinteger(v.startLine)&&K.uinteger(v.startLine)&&(K.undefined(v.startCharacter)||K.uinteger(v.startCharacter))&&(K.undefined(v.endCharacter)||K.uinteger(v.endCharacter))&&(K.undefined(v.kind)||K.string(v.kind))}D.is=q})(h||(e.FoldingRange=h={}));var g;(function(D){function U(R,v){return{location:R,message:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&c.is(v.location)&&K.string(v.message)}D.is=q})(g||(e.DiagnosticRelatedInformation=g={}));var m;(function(D){D.Error=1,D.Warning=2,D.Information=3,D.Hint=4})(m||(e.DiagnosticSeverity=m={}));var y;(function(D){D.Unnecessary=1,D.Deprecated=2})(y||(e.DiagnosticTag=y={}));var C;(function(D){function U(q){var R=q;return K.objectLiteral(R)&&K.string(R.href)}D.is=U})(C||(e.CodeDescription=C={}));var x;(function(D){function U(R,v,V,te,We,Yt){var It={range:R,message:v};return K.defined(V)&&(It.severity=V),K.defined(te)&&(It.code=te),K.defined(We)&&(It.source=We),K.defined(Yt)&&(It.relatedInformation=Yt),It}D.create=U;function q(R){var v,V=R;return K.defined(V)&&a.is(V.range)&&K.string(V.message)&&(K.number(V.severity)||K.undefined(V.severity))&&(K.integer(V.code)||K.string(V.code)||K.undefined(V.code))&&(K.undefined(V.codeDescription)||K.string((v=V.codeDescription)===null||v===void 0?void 0:v.href))&&(K.string(V.source)||K.undefined(V.source))&&(K.undefined(V.relatedInformation)||K.typedArray(V.relatedInformation,g.is))}D.is=q})(x||(e.Diagnostic=x={}));var T;(function(D){function U(R,v){for(var V=[],te=2;te<arguments.length;te++)V[te-2]=arguments[te];var We={title:R,command:v};return K.defined(V)&&V.length>0&&(We.arguments=V),We}D.create=U;function q(R){var v=R;return K.defined(v)&&K.string(v.title)&&K.string(v.command)}D.is=q})(T||(e.Command=T={}));var E;(function(D){function U(V,te){return{range:V,newText:te}}D.replace=U;function q(V,te){return{range:{start:V,end:V},newText:te}}D.insert=q;function R(V){return{range:V,newText:""}}D.del=R;function v(V){var te=V;return K.objectLiteral(te)&&K.string(te.newText)&&a.is(te.range)}D.is=v})(E||(e.TextEdit=E={}));var k;(function(D){function U(R,v,V){var te={label:R};return v!==void 0&&(te.needsConfirmation=v),V!==void 0&&(te.description=V),te}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&K.string(v.label)&&(K.boolean(v.needsConfirmation)||v.needsConfirmation===void 0)&&(K.string(v.description)||v.description===void 0)}D.is=q})(k||(e.ChangeAnnotation=k={}));var L;(function(D){function U(q){var R=q;return K.string(R)}D.is=U})(L||(e.ChangeAnnotationIdentifier=L={}));var A;(function(D){function U(V,te,We){return{range:V,newText:te,annotationId:We}}D.replace=U;function q(V,te,We){return{range:{start:V,end:V},newText:te,annotationId:We}}D.insert=q;function R(V,te){return{range:V,newText:"",annotationId:te}}D.del=R;function v(V){var te=V;return E.is(te)&&(k.is(te.annotationId)||L.is(te.annotationId))}D.is=v})(A||(e.AnnotatedTextEdit=A={}));var j;(function(D){function U(R,v){return{textDocument:R,edits:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&ae.is(v.textDocument)&&Array.isArray(v.edits)}D.is=q})(j||(e.TextDocumentEdit=j={}));var H;(function(D){function U(R,v,V){var te={kind:"create",uri:R};return v!==void 0&&(v.overwrite!==void 0||v.ignoreIfExists!==void 0)&&(te.options=v),V!==void 0&&(te.annotationId=V),te}D.create=U;function q(R){var v=R;return v&&v.kind==="create"&&K.string(v.uri)&&(v.options===void 0||(v.options.overwrite===void 0||K.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||K.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||L.is(v.annotationId))}D.is=q})(H||(e.CreateFile=H={}));var F;(function(D){function U(R,v,V,te){var We={kind:"rename",oldUri:R,newUri:v};return V!==void 0&&(V.overwrite!==void 0||V.ignoreIfExists!==void 0)&&(We.options=V),te!==void 0&&(We.annotationId=te),We}D.create=U;function q(R){var v=R;return v&&v.kind==="rename"&&K.string(v.oldUri)&&K.string(v.newUri)&&(v.options===void 0||(v.options.overwrite===void 0||K.boolean(v.options.overwrite))&&(v.options.ignoreIfExists===void 0||K.boolean(v.options.ignoreIfExists)))&&(v.annotationId===void 0||L.is(v.annotationId))}D.is=q})(F||(e.RenameFile=F={}));var M;(function(D){function U(R,v,V){var te={kind:"delete",uri:R};return v!==void 0&&(v.recursive!==void 0||v.ignoreIfNotExists!==void 0)&&(te.options=v),V!==void 0&&(te.annotationId=V),te}D.create=U;function q(R){var v=R;return v&&v.kind==="delete"&&K.string(v.uri)&&(v.options===void 0||(v.options.recursive===void 0||K.boolean(v.options.recursive))&&(v.options.ignoreIfNotExists===void 0||K.boolean(v.options.ignoreIfNotExists)))&&(v.annotationId===void 0||L.is(v.annotationId))}D.is=q})(M||(e.DeleteFile=M={}));var J;(function(D){function U(q){var R=q;return R&&(R.changes!==void 0||R.documentChanges!==void 0)&&(R.documentChanges===void 0||R.documentChanges.every(function(v){return K.string(v.kind)?H.is(v)||F.is(v)||M.is(v):j.is(v)}))}D.is=U})(J||(e.WorkspaceEdit=J={}));var _=function(){function D(U,q){this.edits=U,this.changeAnnotations=q}return D.prototype.insert=function(U,q,R){var v,V;if(R===void 0?v=E.insert(U,q):L.is(R)?(V=R,v=A.insert(U,q,R)):(this.assertChangeAnnotations(this.changeAnnotations),V=this.changeAnnotations.manage(R),v=A.insert(U,q,V)),this.edits.push(v),V!==void 0)return V},D.prototype.replace=function(U,q,R){var v,V;if(R===void 0?v=E.replace(U,q):L.is(R)?(V=R,v=A.replace(U,q,R)):(this.assertChangeAnnotations(this.changeAnnotations),V=this.changeAnnotations.manage(R),v=A.replace(U,q,V)),this.edits.push(v),V!==void 0)return V},D.prototype.delete=function(U,q){var R,v;if(q===void 0?R=E.del(U):L.is(q)?(v=q,R=A.del(U,q)):(this.assertChangeAnnotations(this.changeAnnotations),v=this.changeAnnotations.manage(q),R=A.del(U,v)),this.edits.push(R),v!==void 0)return v},D.prototype.add=function(U){this.edits.push(U)},D.prototype.all=function(){return this.edits},D.prototype.clear=function(){this.edits.splice(0,this.edits.length)},D.prototype.assertChangeAnnotations=function(U){if(U===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},D}(),I=function(){function D(U){this._annotations=U===void 0?Object.create(null):U,this._counter=0,this._size=0}return D.prototype.all=function(){return this._annotations},Object.defineProperty(D.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),D.prototype.manage=function(U,q){var R;if(L.is(U)?R=U:(R=this.nextId(),q=U),this._annotations[R]!==void 0)throw new Error("Id ".concat(R," is already in use."));if(q===void 0)throw new Error("No annotation provided for id ".concat(R));return this._annotations[R]=q,this._size++,R},D.prototype.nextId=function(){return this._counter++,this._counter.toString()},D}(),W=function(){function D(U){var q=this;this._textEditChanges=Object.create(null),U!==void 0?(this._workspaceEdit=U,U.documentChanges?(this._changeAnnotations=new I(U.changeAnnotations),U.changeAnnotations=this._changeAnnotations.all(),U.documentChanges.forEach(function(R){if(j.is(R)){var v=new _(R.edits,q._changeAnnotations);q._textEditChanges[R.textDocument.uri]=v}})):U.changes&&Object.keys(U.changes).forEach(function(R){var v=new _(U.changes[R]);q._textEditChanges[R]=v})):this._workspaceEdit={}}return Object.defineProperty(D.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),D.prototype.getTextEditChange=function(U){if(ae.is(U)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var q={uri:U.uri,version:U.version},R=this._textEditChanges[q.uri];if(!R){var v=[],V={textDocument:q,edits:v};this._workspaceEdit.documentChanges.push(V),R=new _(v,this._changeAnnotations),this._textEditChanges[q.uri]=R}return R}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var R=this._textEditChanges[U];if(!R){var v=[];this._workspaceEdit.changes[U]=v,R=new _(v),this._textEditChanges[U]=R}return R}},D.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new I,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},D.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},D.prototype.createFile=function(U,q,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;k.is(q)||L.is(q)?v=q:R=q;var V,te;if(v===void 0?V=H.create(U,R):(te=L.is(v)?v:this._changeAnnotations.manage(v),V=H.create(U,R,te)),this._workspaceEdit.documentChanges.push(V),te!==void 0)return te},D.prototype.renameFile=function(U,q,R,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var V;k.is(R)||L.is(R)?V=R:v=R;var te,We;if(V===void 0?te=F.create(U,q,v):(We=L.is(V)?V:this._changeAnnotations.manage(V),te=F.create(U,q,v,We)),this._workspaceEdit.documentChanges.push(te),We!==void 0)return We},D.prototype.deleteFile=function(U,q,R){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v;k.is(q)||L.is(q)?v=q:R=q;var V,te;if(v===void 0?V=M.create(U,R):(te=L.is(v)?v:this._changeAnnotations.manage(v),V=M.create(U,R,te)),this._workspaceEdit.documentChanges.push(V),te!==void 0)return te},D}();e.WorkspaceChange=W;var ue;(function(D){function U(R){return{uri:R}}D.create=U;function q(R){var v=R;return K.defined(v)&&K.string(v.uri)}D.is=q})(ue||(e.TextDocumentIdentifier=ue={}));var ce;(function(D){function U(R,v){return{uri:R,version:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&K.string(v.uri)&&K.integer(v.version)}D.is=q})(ce||(e.VersionedTextDocumentIdentifier=ce={}));var ae;(function(D){function U(R,v){return{uri:R,version:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&K.string(v.uri)&&(v.version===null||K.integer(v.version))}D.is=q})(ae||(e.OptionalVersionedTextDocumentIdentifier=ae={}));var fe;(function(D){function U(R,v,V,te){return{uri:R,languageId:v,version:V,text:te}}D.create=U;function q(R){var v=R;return K.defined(v)&&K.string(v.uri)&&K.string(v.languageId)&&K.integer(v.version)&&K.string(v.text)}D.is=q})(fe||(e.TextDocumentItem=fe={}));var be;(function(D){D.PlainText="plaintext",D.Markdown="markdown";function U(q){var R=q;return R===D.PlainText||R===D.Markdown}D.is=U})(be||(e.MarkupKind=be={}));var Ue;(function(D){function U(q){var R=q;return K.objectLiteral(q)&&be.is(R.kind)&&K.string(R.value)}D.is=U})(Ue||(e.MarkupContent=Ue={}));var st;(function(D){D.Text=1,D.Method=2,D.Function=3,D.Constructor=4,D.Field=5,D.Variable=6,D.Class=7,D.Interface=8,D.Module=9,D.Property=10,D.Unit=11,D.Value=12,D.Enum=13,D.Keyword=14,D.Snippet=15,D.Color=16,D.File=17,D.Reference=18,D.Folder=19,D.EnumMember=20,D.Constant=21,D.Struct=22,D.Event=23,D.Operator=24,D.TypeParameter=25})(st||(e.CompletionItemKind=st={}));var ut;(function(D){D.PlainText=1,D.Snippet=2})(ut||(e.InsertTextFormat=ut={}));var et;(function(D){D.Deprecated=1})(et||(e.CompletionItemTag=et={}));var ie;(function(D){function U(R,v,V){return{newText:R,insert:v,replace:V}}D.create=U;function q(R){var v=R;return v&&K.string(v.newText)&&a.is(v.insert)&&a.is(v.replace)}D.is=q})(ie||(e.InsertReplaceEdit=ie={}));var qe;(function(D){D.asIs=1,D.adjustIndentation=2})(qe||(e.InsertTextMode=qe={}));var Ke;(function(D){function U(q){var R=q;return R&&(K.string(R.detail)||R.detail===void 0)&&(K.string(R.description)||R.description===void 0)}D.is=U})(Ke||(e.CompletionItemLabelDetails=Ke={}));var re;(function(D){function U(q){return{label:q}}D.create=U})(re||(e.CompletionItem=re={}));var pe;(function(D){function U(q,R){return{items:q||[],isIncomplete:!!R}}D.create=U})(pe||(e.CompletionList=pe={}));var se;(function(D){function U(R){return R.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}D.fromPlainText=U;function q(R){var v=R;return K.string(v)||K.objectLiteral(v)&&K.string(v.language)&&K.string(v.value)}D.is=q})(se||(e.MarkedString=se={}));var he;(function(D){function U(q){var R=q;return!!R&&K.objectLiteral(R)&&(Ue.is(R.contents)||se.is(R.contents)||K.typedArray(R.contents,se.is))&&(q.range===void 0||a.is(q.range))}D.is=U})(he||(e.Hover=he={}));var ze;(function(D){function U(q,R){return R?{label:q,documentation:R}:{label:q}}D.create=U})(ze||(e.ParameterInformation=ze={}));var ot;(function(D){function U(q,R){for(var v=[],V=2;V<arguments.length;V++)v[V-2]=arguments[V];var te={label:q};return K.defined(R)&&(te.documentation=R),K.defined(v)?te.parameters=v:te.parameters=[],te}D.create=U})(ot||(e.SignatureInformation=ot={}));var Xe;(function(D){D.Text=1,D.Read=2,D.Write=3})(Xe||(e.DocumentHighlightKind=Xe={}));var tr;(function(D){function U(q,R){var v={range:q};return K.number(R)&&(v.kind=R),v}D.create=U})(tr||(e.DocumentHighlight=tr={}));var an;(function(D){D.File=1,D.Module=2,D.Namespace=3,D.Package=4,D.Class=5,D.Method=6,D.Property=7,D.Field=8,D.Constructor=9,D.Enum=10,D.Interface=11,D.Function=12,D.Variable=13,D.Constant=14,D.String=15,D.Number=16,D.Boolean=17,D.Array=18,D.Object=19,D.Key=20,D.Null=21,D.EnumMember=22,D.Struct=23,D.Event=24,D.Operator=25,D.TypeParameter=26})(an||(e.SymbolKind=an={}));var Fr;(function(D){D.Deprecated=1})(Fr||(e.SymbolTag=Fr={}));var Et;(function(D){function U(q,R,v,V,te){var We={name:q,kind:R,location:{uri:V,range:v}};return te&&(We.containerName=te),We}D.create=U})(Et||(e.SymbolInformation=Et={}));var Jt;(function(D){function U(q,R,v,V){return V!==void 0?{name:q,kind:R,location:{uri:v,range:V}}:{name:q,kind:R,location:{uri:v}}}D.create=U})(Jt||(e.WorkspaceSymbol=Jt={}));var bn;(function(D){function U(R,v,V,te,We,Yt){var It={name:R,detail:v,kind:V,range:te,selectionRange:We};return Yt!==void 0&&(It.children=Yt),It}D.create=U;function q(R){var v=R;return v&&K.string(v.name)&&K.number(v.kind)&&a.is(v.range)&&a.is(v.selectionRange)&&(v.detail===void 0||K.string(v.detail))&&(v.deprecated===void 0||K.boolean(v.deprecated))&&(v.children===void 0||Array.isArray(v.children))&&(v.tags===void 0||Array.isArray(v.tags))}D.is=q})(bn||(e.DocumentSymbol=bn={}));var Gn;(function(D){D.Empty="",D.QuickFix="quickfix",D.Refactor="refactor",D.RefactorExtract="refactor.extract",D.RefactorInline="refactor.inline",D.RefactorRewrite="refactor.rewrite",D.Source="source",D.SourceOrganizeImports="source.organizeImports",D.SourceFixAll="source.fixAll"})(Gn||(e.CodeActionKind=Gn={}));var mn;(function(D){D.Invoked=1,D.Automatic=2})(mn||(e.CodeActionTriggerKind=mn={}));var yr;(function(D){function U(R,v,V){var te={diagnostics:R};return v!=null&&(te.only=v),V!=null&&(te.triggerKind=V),te}D.create=U;function q(R){var v=R;return K.defined(v)&&K.typedArray(v.diagnostics,x.is)&&(v.only===void 0||K.typedArray(v.only,K.string))&&(v.triggerKind===void 0||v.triggerKind===mn.Invoked||v.triggerKind===mn.Automatic)}D.is=q})(yr||(e.CodeActionContext=yr={}));var Ar;(function(D){function U(R,v,V){var te={title:R},We=!0;return typeof v=="string"?(We=!1,te.kind=v):T.is(v)?te.command=v:te.edit=v,We&&V!==void 0&&(te.kind=V),te}D.create=U;function q(R){var v=R;return v&&K.string(v.title)&&(v.diagnostics===void 0||K.typedArray(v.diagnostics,x.is))&&(v.kind===void 0||K.string(v.kind))&&(v.edit!==void 0||v.command!==void 0)&&(v.command===void 0||T.is(v.command))&&(v.isPreferred===void 0||K.boolean(v.isPreferred))&&(v.edit===void 0||J.is(v.edit))}D.is=q})(Ar||(e.CodeAction=Ar={}));var Vn;(function(D){function U(R,v){var V={range:R};return K.defined(v)&&(V.data=v),V}D.create=U;function q(R){var v=R;return K.defined(v)&&a.is(v.range)&&(K.undefined(v.command)||T.is(v.command))}D.is=q})(Vn||(e.CodeLens=Vn={}));var Pr;(function(D){function U(R,v){return{tabSize:R,insertSpaces:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&K.uinteger(v.tabSize)&&K.boolean(v.insertSpaces)}D.is=q})(Pr||(e.FormattingOptions=Pr={}));var Xt;(function(D){function U(R,v,V){return{range:R,target:v,data:V}}D.create=U;function q(R){var v=R;return K.defined(v)&&a.is(v.range)&&(K.undefined(v.target)||K.string(v.target))}D.is=q})(Xt||(e.DocumentLink=Xt={}));var b;(function(D){function U(R,v){return{range:R,parent:v}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&a.is(v.range)&&(v.parent===void 0||D.is(v.parent))}D.is=q})(b||(e.SelectionRange=b={}));var O;(function(D){D.namespace="namespace",D.type="type",D.class="class",D.enum="enum",D.interface="interface",D.struct="struct",D.typeParameter="typeParameter",D.parameter="parameter",D.variable="variable",D.property="property",D.enumMember="enumMember",D.event="event",D.function="function",D.method="method",D.macro="macro",D.keyword="keyword",D.modifier="modifier",D.comment="comment",D.string="string",D.number="number",D.regexp="regexp",D.operator="operator",D.decorator="decorator"})(O||(e.SemanticTokenTypes=O={}));var G;(function(D){D.declaration="declaration",D.definition="definition",D.readonly="readonly",D.static="static",D.deprecated="deprecated",D.abstract="abstract",D.async="async",D.modification="modification",D.documentation="documentation",D.defaultLibrary="defaultLibrary"})(G||(e.SemanticTokenModifiers=G={}));var Y;(function(D){function U(q){var R=q;return K.objectLiteral(R)&&(R.resultId===void 0||typeof R.resultId=="string")&&Array.isArray(R.data)&&(R.data.length===0||typeof R.data[0]=="number")}D.is=U})(Y||(e.SemanticTokens=Y={}));var De;(function(D){function U(R,v){return{range:R,text:v}}D.create=U;function q(R){var v=R;return v!=null&&a.is(v.range)&&K.string(v.text)}D.is=q})(De||(e.InlineValueText=De={}));var ve;(function(D){function U(R,v,V){return{range:R,variableName:v,caseSensitiveLookup:V}}D.create=U;function q(R){var v=R;return v!=null&&a.is(v.range)&&K.boolean(v.caseSensitiveLookup)&&(K.string(v.variableName)||v.variableName===void 0)}D.is=q})(ve||(e.InlineValueVariableLookup=ve={}));var Pe;(function(D){function U(R,v){return{range:R,expression:v}}D.create=U;function q(R){var v=R;return v!=null&&a.is(v.range)&&(K.string(v.expression)||v.expression===void 0)}D.is=q})(Pe||(e.InlineValueEvaluatableExpression=Pe={}));var _e;(function(D){function U(R,v){return{frameId:R,stoppedLocation:v}}D.create=U;function q(R){var v=R;return K.defined(v)&&a.is(R.stoppedLocation)}D.is=q})(_e||(e.InlineValueContext=_e={}));var ge;(function(D){D.Type=1,D.Parameter=2;function U(q){return q===1||q===2}D.is=U})(ge||(e.InlayHintKind=ge={}));var Ee;(function(D){function U(R){return{value:R}}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&(v.tooltip===void 0||K.string(v.tooltip)||Ue.is(v.tooltip))&&(v.location===void 0||c.is(v.location))&&(v.command===void 0||T.is(v.command))}D.is=q})(Ee||(e.InlayHintLabelPart=Ee={}));var ye;(function(D){function U(R,v,V){var te={position:R,label:v};return V!==void 0&&(te.kind=V),te}D.create=U;function q(R){var v=R;return K.objectLiteral(v)&&o.is(v.position)&&(K.string(v.label)||K.typedArray(v.label,Ee.is))&&(v.kind===void 0||ge.is(v.kind))&&v.textEdits===void 0||K.typedArray(v.textEdits,E.is)&&(v.tooltip===void 0||K.string(v.tooltip)||Ue.is(v.tooltip))&&(v.paddingLeft===void 0||K.boolean(v.paddingLeft))&&(v.paddingRight===void 0||K.boolean(v.paddingRight))}D.is=q})(ye||(e.InlayHint=ye={}));var $;(function(D){function U(q){return{kind:"snippet",value:q}}D.createSnippet=U})($||(e.StringValue=$={}));var z;(function(D){function U(q,R,v,V){return{insertText:q,filterText:R,range:v,command:V}}D.create=U})(z||(e.InlineCompletionItem=z={}));var ee;(function(D){function U(q){return{items:q}}D.create=U})(ee||(e.InlineCompletionList=ee={}));var Ie;(function(D){D.Invoked=0,D.Automatic=1})(Ie||(e.InlineCompletionTriggerKind=Ie={}));var yn;(function(D){function U(q,R){return{range:q,text:R}}D.create=U})(yn||(e.SelectedCompletionInfo=yn={}));var w;(function(D){function U(q,R){return{triggerKind:q,selectedCompletionInfo:R}}D.create=U})(w||(e.InlineCompletionContext=w={}));var X;(function(D){function U(q){var R=q;return K.objectLiteral(R)&&r.is(R.uri)&&K.string(R.name)}D.is=U})(X||(e.WorkspaceFolder=X={})),e.EOL=[`
`,`\r
`,"\r"];var xe;(function(D){function U(V,te,We,Yt){return new Ct(V,te,We,Yt)}D.create=U;function q(V){var te=V;return!!(K.defined(te)&&K.string(te.uri)&&(K.undefined(te.languageId)||K.string(te.languageId))&&K.uinteger(te.lineCount)&&K.func(te.getText)&&K.func(te.positionAt)&&K.func(te.offsetAt))}D.is=q;function R(V,te){for(var We=V.getText(),Yt=v(te,function(Cs,S){var B=Cs.range.start.line-S.range.start.line;return B===0?Cs.range.start.character-S.range.start.character:B}),It=We.length,_r=Yt.length-1;_r>=0;_r--){var Yr=Yt[_r],Vi=V.offsetAt(Yr.range.start),it=V.offsetAt(Yr.range.end);if(it<=It)We=We.substring(0,Vi)+Yr.newText+We.substring(it,We.length);else throw new Error("Overlapping edit");It=Vi}return We}D.applyEdits=R;function v(V,te){if(V.length<=1)return V;var We=V.length/2|0,Yt=V.slice(0,We),It=V.slice(We);v(Yt,te),v(It,te);for(var _r=0,Yr=0,Vi=0;_r<Yt.length&&Yr<It.length;){var it=te(Yt[_r],It[Yr]);it<=0?V[Vi++]=Yt[_r++]:V[Vi++]=It[Yr++]}for(;_r<Yt.length;)V[Vi++]=Yt[_r++];for(;Yr<It.length;)V[Vi++]=It[Yr++];return V}})(xe||(e.TextDocument=xe={}));var Ct=function(){function D(U,q,R,v){this._uri=U,this._languageId=q,this._version=R,this._content=v,this._lineOffsets=void 0}return Object.defineProperty(D.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),D.prototype.getText=function(U){if(U){var q=this.offsetAt(U.start),R=this.offsetAt(U.end);return this._content.substring(q,R)}return this._content},D.prototype.update=function(U,q){this._content=U.text,this._version=q,this._lineOffsets=void 0},D.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var U=[],q=this._content,R=!0,v=0;v<q.length;v++){R&&(U.push(v),R=!1);var V=q.charAt(v);R=V==="\r"||V===`
`,V==="\r"&&v+1<q.length&&q.charAt(v+1)===`
`&&v++}R&&q.length>0&&U.push(q.length),this._lineOffsets=U}return this._lineOffsets},D.prototype.positionAt=function(U){U=Math.max(Math.min(U,this._content.length),0);var q=this.getLineOffsets(),R=0,v=q.length;if(v===0)return o.create(0,U);for(;R<v;){var V=Math.floor((R+v)/2);q[V]>U?v=V:R=V+1}var te=R-1;return o.create(te,U-q[te])},D.prototype.offsetAt=function(U){var q=this.getLineOffsets();if(U.line>=q.length)return this._content.length;if(U.line<0)return 0;var R=q[U.line],v=U.line+1<q.length?q[U.line+1]:this._content.length;return Math.max(Math.min(R+U.character,v),R)},Object.defineProperty(D.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),D}(),K;(function(D){var U=Object.prototype.toString;function q(it){return typeof it<"u"}D.defined=q;function R(it){return typeof it>"u"}D.undefined=R;function v(it){return it===!0||it===!1}D.boolean=v;function V(it){return U.call(it)==="[object String]"}D.string=V;function te(it){return U.call(it)==="[object Number]"}D.number=te;function We(it,Cs,S){return U.call(it)==="[object Number]"&&Cs<=it&&it<=S}D.numberRange=We;function Yt(it){return U.call(it)==="[object Number]"&&-2147483648<=it&&it<=2147483647}D.integer=Yt;function It(it){return U.call(it)==="[object Number]"&&0<=it&&it<=2147483647}D.uinteger=It;function _r(it){return U.call(it)==="[object Function]"}D.func=_r;function Yr(it){return it!==null&&typeof it=="object"}D.objectLiteral=Yr;function Vi(it,Cs){return Array.isArray(it)&&it.every(Cs)}D.typedArray=Vi})(K||(K={}))})});var Qt=P(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.ProtocolNotificationType=Or.ProtocolNotificationType0=Or.ProtocolRequestType=Or.ProtocolRequestType0=Or.RegistrationType=Or.MessageDirection=void 0;var cl=kc(),a2;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(a2||(Or.MessageDirection=a2={}));var _k=class{constructor(e){this.method=e}};Or.RegistrationType=_k;var Ik=class extends cl.RequestType0{constructor(e){super(e)}};Or.ProtocolRequestType0=Ik;var Nk=class extends cl.RequestType{constructor(e){super(e,cl.ParameterStructures.byName)}};Or.ProtocolRequestType=Nk;var Lk=class extends cl.NotificationType0{constructor(e){super(e)}};Or.ProtocolNotificationType0=Lk;var Ok=class extends cl.NotificationType{constructor(e){super(e,cl.ParameterStructures.byName)}};Or.ProtocolNotificationType=Ok});var DC=P(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.objectLiteral=kn.typedArray=kn.stringArray=kn.array=kn.func=kn.error=kn.number=kn.string=kn.boolean=void 0;function wle(t){return t===!0||t===!1}kn.boolean=wle;function c2(t){return typeof t=="string"||t instanceof String}kn.string=c2;function Dle(t){return typeof t=="number"||t instanceof Number}kn.number=Dle;function Tle(t){return t instanceof Error}kn.error=Tle;function Ele(t){return typeof t=="function"}kn.func=Ele;function u2(t){return Array.isArray(t)}kn.array=u2;function kle(t){return u2(t)&&t.every(e=>c2(e))}kn.stringArray=kle;function Rle(t,e){return Array.isArray(t)&&t.every(e)}kn.typedArray=Rle;function Fle(t){return t!==null&&typeof t=="object"}kn.objectLiteral=Fle});var f2=P(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.ImplementationRequest=void 0;var l2=Qt(),d2;(function(t){t.method="textDocument/implementation",t.messageDirection=l2.MessageDirection.clientToServer,t.type=new l2.ProtocolRequestType(t.method)})(d2||(TC.ImplementationRequest=d2={}))});var g2=P(EC=>{"use strict";Object.defineProperty(EC,"__esModule",{value:!0});EC.TypeDefinitionRequest=void 0;var p2=Qt(),h2;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=p2.MessageDirection.clientToServer,t.type=new p2.ProtocolRequestType(t.method)})(h2||(EC.TypeDefinitionRequest=h2={}))});var C2=P(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.DidChangeWorkspaceFoldersNotification=ul.WorkspaceFoldersRequest=void 0;var kC=Qt(),m2;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=kC.MessageDirection.serverToClient,t.type=new kC.ProtocolRequestType0(t.method)})(m2||(ul.WorkspaceFoldersRequest=m2={}));var y2;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=kC.MessageDirection.clientToServer,t.type=new kC.ProtocolNotificationType(t.method)})(y2||(ul.DidChangeWorkspaceFoldersNotification=y2={}))});var b2=P(RC=>{"use strict";Object.defineProperty(RC,"__esModule",{value:!0});RC.ConfigurationRequest=void 0;var S2=Qt(),x2;(function(t){t.method="workspace/configuration",t.messageDirection=S2.MessageDirection.serverToClient,t.type=new S2.ProtocolRequestType(t.method)})(x2||(RC.ConfigurationRequest=x2={}))});var D2=P(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.ColorPresentationRequest=ll.DocumentColorRequest=void 0;var FC=Qt(),v2;(function(t){t.method="textDocument/documentColor",t.messageDirection=FC.MessageDirection.clientToServer,t.type=new FC.ProtocolRequestType(t.method)})(v2||(ll.DocumentColorRequest=v2={}));var w2;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=FC.MessageDirection.clientToServer,t.type=new FC.ProtocolRequestType(t.method)})(w2||(ll.ColorPresentationRequest=w2={}))});var k2=P(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.FoldingRangeRefreshRequest=dl.FoldingRangeRequest=void 0;var AC=Qt(),T2;(function(t){t.method="textDocument/foldingRange",t.messageDirection=AC.MessageDirection.clientToServer,t.type=new AC.ProtocolRequestType(t.method)})(T2||(dl.FoldingRangeRequest=T2={}));var E2;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=AC.MessageDirection.serverToClient,t.type=new AC.ProtocolRequestType0(t.method)})(E2||(dl.FoldingRangeRefreshRequest=E2={}))});var A2=P(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});PC.DeclarationRequest=void 0;var R2=Qt(),F2;(function(t){t.method="textDocument/declaration",t.messageDirection=R2.MessageDirection.clientToServer,t.type=new R2.ProtocolRequestType(t.method)})(F2||(PC.DeclarationRequest=F2={}))});var I2=P(_C=>{"use strict";Object.defineProperty(_C,"__esModule",{value:!0});_C.SelectionRangeRequest=void 0;var P2=Qt(),_2;(function(t){t.method="textDocument/selectionRange",t.messageDirection=P2.MessageDirection.clientToServer,t.type=new P2.ProtocolRequestType(t.method)})(_2||(_C.SelectionRangeRequest=_2={}))});var M2=P(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.WorkDoneProgressCancelNotification=ta.WorkDoneProgressCreateRequest=ta.WorkDoneProgress=void 0;var Ale=kc(),IC=Qt(),N2;(function(t){t.type=new Ale.ProgressType;function e(n){return n===t.type}t.is=e})(N2||(ta.WorkDoneProgress=N2={}));var L2;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=IC.MessageDirection.serverToClient,t.type=new IC.ProtocolRequestType(t.method)})(L2||(ta.WorkDoneProgressCreateRequest=L2={}));var O2;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=IC.MessageDirection.clientToServer,t.type=new IC.ProtocolNotificationType(t.method)})(O2||(ta.WorkDoneProgressCancelNotification=O2={}))});var j2=P(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.CallHierarchyOutgoingCallsRequest=na.CallHierarchyIncomingCallsRequest=na.CallHierarchyPrepareRequest=void 0;var fl=Qt(),U2;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=fl.MessageDirection.clientToServer,t.type=new fl.ProtocolRequestType(t.method)})(U2||(na.CallHierarchyPrepareRequest=U2={}));var q2;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=fl.MessageDirection.clientToServer,t.type=new fl.ProtocolRequestType(t.method)})(q2||(na.CallHierarchyIncomingCallsRequest=q2={}));var W2;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=fl.MessageDirection.clientToServer,t.type=new fl.ProtocolRequestType(t.method)})(W2||(na.CallHierarchyOutgoingCallsRequest=W2={}))});var G2=P(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.SemanticTokensRefreshRequest=Mr.SemanticTokensRangeRequest=Mr.SemanticTokensDeltaRequest=Mr.SemanticTokensRequest=Mr.SemanticTokensRegistrationType=Mr.TokenFormat=void 0;var to=Qt(),B2;(function(t){t.Relative="relative"})(B2||(Mr.TokenFormat=B2={}));var pp;(function(t){t.method="textDocument/semanticTokens",t.type=new to.RegistrationType(t.method)})(pp||(Mr.SemanticTokensRegistrationType=pp={}));var $2;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=to.MessageDirection.clientToServer,t.type=new to.ProtocolRequestType(t.method),t.registrationMethod=pp.method})($2||(Mr.SemanticTokensRequest=$2={}));var K2;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=to.MessageDirection.clientToServer,t.type=new to.ProtocolRequestType(t.method),t.registrationMethod=pp.method})(K2||(Mr.SemanticTokensDeltaRequest=K2={}));var z2;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=to.MessageDirection.clientToServer,t.type=new to.ProtocolRequestType(t.method),t.registrationMethod=pp.method})(z2||(Mr.SemanticTokensRangeRequest=z2={}));var H2;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=to.MessageDirection.serverToClient,t.type=new to.ProtocolRequestType0(t.method)})(H2||(Mr.SemanticTokensRefreshRequest=H2={}))});var X2=P(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});NC.ShowDocumentRequest=void 0;var V2=Qt(),J2;(function(t){t.method="window/showDocument",t.messageDirection=V2.MessageDirection.serverToClient,t.type=new V2.ProtocolRequestType(t.method)})(J2||(NC.ShowDocumentRequest=J2={}))});var Z2=P(LC=>{"use strict";Object.defineProperty(LC,"__esModule",{value:!0});LC.LinkedEditingRangeRequest=void 0;var Y2=Qt(),Q2;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Y2.MessageDirection.clientToServer,t.type=new Y2.ProtocolRequestType(t.method)})(Q2||(LC.LinkedEditingRangeRequest=Q2={}))});var a$=P(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.WillDeleteFilesRequest=or.DidDeleteFilesNotification=or.DidRenameFilesNotification=or.WillRenameFilesRequest=or.DidCreateFilesNotification=or.WillCreateFilesRequest=or.FileOperationPatternKind=void 0;var ki=Qt(),e$;(function(t){t.file="file",t.folder="folder"})(e$||(or.FileOperationPatternKind=e$={}));var t$;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(t$||(or.WillCreateFilesRequest=t$={}));var n$;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolNotificationType(t.method)})(n$||(or.DidCreateFilesNotification=n$={}));var r$;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(r$||(or.WillRenameFilesRequest=r$={}));var i$;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolNotificationType(t.method)})(i$||(or.DidRenameFilesNotification=i$={}));var s$;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolNotificationType(t.method)})(s$||(or.DidDeleteFilesNotification=s$={}));var o$;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=ki.MessageDirection.clientToServer,t.type=new ki.ProtocolRequestType(t.method)})(o$||(or.WillDeleteFilesRequest=o$={}))});var f$=P(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.MonikerRequest=ra.MonikerKind=ra.UniquenessLevel=void 0;var c$=Qt(),u$;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(u$||(ra.UniquenessLevel=u$={}));var l$;(function(t){t.$import="import",t.$export="export",t.local="local"})(l$||(ra.MonikerKind=l$={}));var d$;(function(t){t.method="textDocument/moniker",t.messageDirection=c$.MessageDirection.clientToServer,t.type=new c$.ProtocolRequestType(t.method)})(d$||(ra.MonikerRequest=d$={}))});var m$=P(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.TypeHierarchySubtypesRequest=ia.TypeHierarchySupertypesRequest=ia.TypeHierarchyPrepareRequest=void 0;var pl=Qt(),p$;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=pl.MessageDirection.clientToServer,t.type=new pl.ProtocolRequestType(t.method)})(p$||(ia.TypeHierarchyPrepareRequest=p$={}));var h$;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=pl.MessageDirection.clientToServer,t.type=new pl.ProtocolRequestType(t.method)})(h$||(ia.TypeHierarchySupertypesRequest=h$={}));var g$;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=pl.MessageDirection.clientToServer,t.type=new pl.ProtocolRequestType(t.method)})(g$||(ia.TypeHierarchySubtypesRequest=g$={}))});var S$=P(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.InlineValueRefreshRequest=hl.InlineValueRequest=void 0;var OC=Qt(),y$;(function(t){t.method="textDocument/inlineValue",t.messageDirection=OC.MessageDirection.clientToServer,t.type=new OC.ProtocolRequestType(t.method)})(y$||(hl.InlineValueRequest=y$={}));var C$;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=OC.MessageDirection.serverToClient,t.type=new OC.ProtocolRequestType0(t.method)})(C$||(hl.InlineValueRefreshRequest=C$={}))});var w$=P(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.InlayHintRefreshRequest=sa.InlayHintResolveRequest=sa.InlayHintRequest=void 0;var gl=Qt(),x$;(function(t){t.method="textDocument/inlayHint",t.messageDirection=gl.MessageDirection.clientToServer,t.type=new gl.ProtocolRequestType(t.method)})(x$||(sa.InlayHintRequest=x$={}));var b$;(function(t){t.method="inlayHint/resolve",t.messageDirection=gl.MessageDirection.clientToServer,t.type=new gl.ProtocolRequestType(t.method)})(b$||(sa.InlayHintResolveRequest=b$={}));var v$;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=gl.MessageDirection.serverToClient,t.type=new gl.ProtocolRequestType0(t.method)})(v$||(sa.InlayHintRefreshRequest=v$={}))});var A$=P(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.DiagnosticRefreshRequest=Ri.WorkspaceDiagnosticRequest=Ri.DocumentDiagnosticRequest=Ri.DocumentDiagnosticReportKind=Ri.DiagnosticServerCancellationData=void 0;var F$=kc(),Ple=DC(),ml=Qt(),D$;(function(t){function e(n){let r=n;return r&&Ple.boolean(r.retriggerRequest)}t.is=e})(D$||(Ri.DiagnosticServerCancellationData=D$={}));var T$;(function(t){t.Full="full",t.Unchanged="unchanged"})(T$||(Ri.DocumentDiagnosticReportKind=T$={}));var E$;(function(t){t.method="textDocument/diagnostic",t.messageDirection=ml.MessageDirection.clientToServer,t.type=new ml.ProtocolRequestType(t.method),t.partialResult=new F$.ProgressType})(E$||(Ri.DocumentDiagnosticRequest=E$={}));var k$;(function(t){t.method="workspace/diagnostic",t.messageDirection=ml.MessageDirection.clientToServer,t.type=new ml.ProtocolRequestType(t.method),t.partialResult=new F$.ProgressType})(k$||(Ri.WorkspaceDiagnosticRequest=k$={}));var R$;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=ml.MessageDirection.serverToClient,t.type=new ml.ProtocolRequestType0(t.method)})(R$||(Ri.DiagnosticRefreshRequest=R$={}))});var M$=P(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.DidCloseNotebookDocumentNotification=Sn.DidSaveNotebookDocumentNotification=Sn.DidChangeNotebookDocumentNotification=Sn.NotebookCellArrayChange=Sn.DidOpenNotebookDocumentNotification=Sn.NotebookDocumentSyncRegistrationType=Sn.NotebookDocument=Sn.NotebookCell=Sn.ExecutionSummary=Sn.NotebookCellKind=void 0;var hp=wC(),Qi=DC(),Ps=Qt(),Mk;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(Mk||(Sn.NotebookCellKind=Mk={}));var Uk;(function(t){function e(i,s){let o={executionOrder:i};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(i){let s=i;return Qi.objectLiteral(s)&&hp.uinteger.is(s.executionOrder)&&(s.success===void 0||Qi.boolean(s.success))}t.is=n;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=r})(Uk||(Sn.ExecutionSummary=Uk={}));var MC;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return Qi.objectLiteral(o)&&Mk.is(o.kind)&&hp.DocumentUri.is(o.document)&&(o.metadata===void 0||Qi.objectLiteral(o.metadata))}t.is=n;function r(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!Uk.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=r;function i(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],o[u]))return!1}if(Qi.objectLiteral(s)&&Qi.objectLiteral(o)){let u=Object.keys(s),l=Object.keys(o);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let p=0;p<u.length;p++){let f=u[p];if(!i(s[f],o[f]))return!1}}return!0}})(MC||(Sn.NotebookCell=MC={}));var P$;(function(t){function e(r,i,s,o){return{uri:r,notebookType:i,version:s,cells:o}}t.create=e;function n(r){let i=r;return Qi.objectLiteral(i)&&Qi.string(i.uri)&&hp.integer.is(i.version)&&Qi.typedArray(i.cells,MC.is)}t.is=n})(P$||(Sn.NotebookDocument=P$={}));var yl;(function(t){t.method="notebookDocument/sync",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.RegistrationType(t.method)})(yl||(Sn.NotebookDocumentSyncRegistrationType=yl={}));var _$;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolNotificationType(t.method),t.registrationMethod=yl.method})(_$||(Sn.DidOpenNotebookDocumentNotification=_$={}));var I$;(function(t){function e(r){let i=r;return Qi.objectLiteral(i)&&hp.uinteger.is(i.start)&&hp.uinteger.is(i.deleteCount)&&(i.cells===void 0||Qi.typedArray(i.cells,MC.is))}t.is=e;function n(r,i,s){let o={start:r,deleteCount:i};return s!==void 0&&(o.cells=s),o}t.create=n})(I$||(Sn.NotebookCellArrayChange=I$={}));var N$;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolNotificationType(t.method),t.registrationMethod=yl.method})(N$||(Sn.DidChangeNotebookDocumentNotification=N$={}));var L$;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolNotificationType(t.method),t.registrationMethod=yl.method})(L$||(Sn.DidSaveNotebookDocumentNotification=L$={}));var O$;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Ps.MessageDirection.clientToServer,t.type=new Ps.ProtocolNotificationType(t.method),t.registrationMethod=yl.method})(O$||(Sn.DidCloseNotebookDocumentNotification=O$={}))});var W$=P(UC=>{"use strict";Object.defineProperty(UC,"__esModule",{value:!0});UC.InlineCompletionRequest=void 0;var U$=Qt(),q$;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=U$.MessageDirection.clientToServer,t.type=new U$.ProtocolRequestType(t.method)})(q$||(UC.InlineCompletionRequest=q$={}))});var ZK=P(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.WorkspaceSymbolRequest=N.CodeActionResolveRequest=N.CodeActionRequest=N.DocumentSymbolRequest=N.DocumentHighlightRequest=N.ReferencesRequest=N.DefinitionRequest=N.SignatureHelpRequest=N.SignatureHelpTriggerKind=N.HoverRequest=N.CompletionResolveRequest=N.CompletionRequest=N.CompletionTriggerKind=N.PublishDiagnosticsNotification=N.WatchKind=N.RelativePattern=N.FileChangeType=N.DidChangeWatchedFilesNotification=N.WillSaveTextDocumentWaitUntilRequest=N.WillSaveTextDocumentNotification=N.TextDocumentSaveReason=N.DidSaveTextDocumentNotification=N.DidCloseTextDocumentNotification=N.DidChangeTextDocumentNotification=N.TextDocumentContentChangeEvent=N.DidOpenTextDocumentNotification=N.TextDocumentSyncKind=N.TelemetryEventNotification=N.LogMessageNotification=N.ShowMessageRequest=N.ShowMessageNotification=N.MessageType=N.DidChangeConfigurationNotification=N.ExitNotification=N.ShutdownRequest=N.InitializedNotification=N.InitializeErrorCodes=N.InitializeRequest=N.WorkDoneProgressOptions=N.TextDocumentRegistrationOptions=N.StaticRegistrationOptions=N.PositionEncodingKind=N.FailureHandlingKind=N.ResourceOperationKind=N.UnregistrationRequest=N.RegistrationRequest=N.DocumentSelector=N.NotebookCellTextDocumentFilter=N.NotebookDocumentFilter=N.TextDocumentFilter=void 0;N.MonikerRequest=N.MonikerKind=N.UniquenessLevel=N.WillDeleteFilesRequest=N.DidDeleteFilesNotification=N.WillRenameFilesRequest=N.DidRenameFilesNotification=N.WillCreateFilesRequest=N.DidCreateFilesNotification=N.FileOperationPatternKind=N.LinkedEditingRangeRequest=N.ShowDocumentRequest=N.SemanticTokensRegistrationType=N.SemanticTokensRefreshRequest=N.SemanticTokensRangeRequest=N.SemanticTokensDeltaRequest=N.SemanticTokensRequest=N.TokenFormat=N.CallHierarchyPrepareRequest=N.CallHierarchyOutgoingCallsRequest=N.CallHierarchyIncomingCallsRequest=N.WorkDoneProgressCancelNotification=N.WorkDoneProgressCreateRequest=N.WorkDoneProgress=N.SelectionRangeRequest=N.DeclarationRequest=N.FoldingRangeRefreshRequest=N.FoldingRangeRequest=N.ColorPresentationRequest=N.DocumentColorRequest=N.ConfigurationRequest=N.DidChangeWorkspaceFoldersNotification=N.WorkspaceFoldersRequest=N.TypeDefinitionRequest=N.ImplementationRequest=N.ApplyWorkspaceEditRequest=N.ExecuteCommandRequest=N.PrepareRenameRequest=N.RenameRequest=N.PrepareSupportDefaultBehavior=N.DocumentOnTypeFormattingRequest=N.DocumentRangesFormattingRequest=N.DocumentRangeFormattingRequest=N.DocumentFormattingRequest=N.DocumentLinkResolveRequest=N.DocumentLinkRequest=N.CodeLensRefreshRequest=N.CodeLensResolveRequest=N.CodeLensRequest=N.WorkspaceSymbolResolveRequest=void 0;N.InlineCompletionRequest=N.DidCloseNotebookDocumentNotification=N.DidSaveNotebookDocumentNotification=N.DidChangeNotebookDocumentNotification=N.NotebookCellArrayChange=N.DidOpenNotebookDocumentNotification=N.NotebookDocumentSyncRegistrationType=N.NotebookDocument=N.NotebookCell=N.ExecutionSummary=N.NotebookCellKind=N.DiagnosticRefreshRequest=N.WorkspaceDiagnosticRequest=N.DocumentDiagnosticRequest=N.DocumentDiagnosticReportKind=N.DiagnosticServerCancellationData=N.InlayHintRefreshRequest=N.InlayHintResolveRequest=N.InlayHintRequest=N.InlineValueRefreshRequest=N.InlineValueRequest=N.TypeHierarchySupertypesRequest=N.TypeHierarchySubtypesRequest=N.TypeHierarchyPrepareRequest=void 0;var de=Qt(),j$=wC(),jn=DC(),_le=f2();Object.defineProperty(N,"ImplementationRequest",{enumerable:!0,get:function(){return _le.ImplementationRequest}});var Ile=g2();Object.defineProperty(N,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Ile.TypeDefinitionRequest}});var JK=C2();Object.defineProperty(N,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return JK.WorkspaceFoldersRequest}});Object.defineProperty(N,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return JK.DidChangeWorkspaceFoldersNotification}});var Nle=b2();Object.defineProperty(N,"ConfigurationRequest",{enumerable:!0,get:function(){return Nle.ConfigurationRequest}});var XK=D2();Object.defineProperty(N,"DocumentColorRequest",{enumerable:!0,get:function(){return XK.DocumentColorRequest}});Object.defineProperty(N,"ColorPresentationRequest",{enumerable:!0,get:function(){return XK.ColorPresentationRequest}});var YK=k2();Object.defineProperty(N,"FoldingRangeRequest",{enumerable:!0,get:function(){return YK.FoldingRangeRequest}});Object.defineProperty(N,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return YK.FoldingRangeRefreshRequest}});var Lle=A2();Object.defineProperty(N,"DeclarationRequest",{enumerable:!0,get:function(){return Lle.DeclarationRequest}});var Ole=I2();Object.defineProperty(N,"SelectionRangeRequest",{enumerable:!0,get:function(){return Ole.SelectionRangeRequest}});var $k=M2();Object.defineProperty(N,"WorkDoneProgress",{enumerable:!0,get:function(){return $k.WorkDoneProgress}});Object.defineProperty(N,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return $k.WorkDoneProgressCreateRequest}});Object.defineProperty(N,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return $k.WorkDoneProgressCancelNotification}});var Kk=j2();Object.defineProperty(N,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Kk.CallHierarchyIncomingCallsRequest}});Object.defineProperty(N,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Kk.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(N,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Kk.CallHierarchyPrepareRequest}});var Cl=G2();Object.defineProperty(N,"TokenFormat",{enumerable:!0,get:function(){return Cl.TokenFormat}});Object.defineProperty(N,"SemanticTokensRequest",{enumerable:!0,get:function(){return Cl.SemanticTokensRequest}});Object.defineProperty(N,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Cl.SemanticTokensDeltaRequest}});Object.defineProperty(N,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Cl.SemanticTokensRangeRequest}});Object.defineProperty(N,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Cl.SemanticTokensRefreshRequest}});Object.defineProperty(N,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Cl.SemanticTokensRegistrationType}});var Mle=X2();Object.defineProperty(N,"ShowDocumentRequest",{enumerable:!0,get:function(){return Mle.ShowDocumentRequest}});var Ule=Z2();Object.defineProperty(N,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Ule.LinkedEditingRangeRequest}});var Rc=a$();Object.defineProperty(N,"FileOperationPatternKind",{enumerable:!0,get:function(){return Rc.FileOperationPatternKind}});Object.defineProperty(N,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Rc.DidCreateFilesNotification}});Object.defineProperty(N,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Rc.WillCreateFilesRequest}});Object.defineProperty(N,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Rc.DidRenameFilesNotification}});Object.defineProperty(N,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Rc.WillRenameFilesRequest}});Object.defineProperty(N,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Rc.DidDeleteFilesNotification}});Object.defineProperty(N,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Rc.WillDeleteFilesRequest}});var zk=f$();Object.defineProperty(N,"UniquenessLevel",{enumerable:!0,get:function(){return zk.UniquenessLevel}});Object.defineProperty(N,"MonikerKind",{enumerable:!0,get:function(){return zk.MonikerKind}});Object.defineProperty(N,"MonikerRequest",{enumerable:!0,get:function(){return zk.MonikerRequest}});var Hk=m$();Object.defineProperty(N,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Hk.TypeHierarchyPrepareRequest}});Object.defineProperty(N,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Hk.TypeHierarchySubtypesRequest}});Object.defineProperty(N,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Hk.TypeHierarchySupertypesRequest}});var QK=S$();Object.defineProperty(N,"InlineValueRequest",{enumerable:!0,get:function(){return QK.InlineValueRequest}});Object.defineProperty(N,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return QK.InlineValueRefreshRequest}});var Gk=w$();Object.defineProperty(N,"InlayHintRequest",{enumerable:!0,get:function(){return Gk.InlayHintRequest}});Object.defineProperty(N,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Gk.InlayHintResolveRequest}});Object.defineProperty(N,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Gk.InlayHintRefreshRequest}});var gp=A$();Object.defineProperty(N,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return gp.DiagnosticServerCancellationData}});Object.defineProperty(N,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return gp.DocumentDiagnosticReportKind}});Object.defineProperty(N,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return gp.DocumentDiagnosticRequest}});Object.defineProperty(N,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return gp.WorkspaceDiagnosticRequest}});Object.defineProperty(N,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return gp.DiagnosticRefreshRequest}});var _s=M$();Object.defineProperty(N,"NotebookCellKind",{enumerable:!0,get:function(){return _s.NotebookCellKind}});Object.defineProperty(N,"ExecutionSummary",{enumerable:!0,get:function(){return _s.ExecutionSummary}});Object.defineProperty(N,"NotebookCell",{enumerable:!0,get:function(){return _s.NotebookCell}});Object.defineProperty(N,"NotebookDocument",{enumerable:!0,get:function(){return _s.NotebookDocument}});Object.defineProperty(N,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return _s.NotebookDocumentSyncRegistrationType}});Object.defineProperty(N,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return _s.DidOpenNotebookDocumentNotification}});Object.defineProperty(N,"NotebookCellArrayChange",{enumerable:!0,get:function(){return _s.NotebookCellArrayChange}});Object.defineProperty(N,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return _s.DidChangeNotebookDocumentNotification}});Object.defineProperty(N,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return _s.DidSaveNotebookDocumentNotification}});Object.defineProperty(N,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return _s.DidCloseNotebookDocumentNotification}});var qle=W$();Object.defineProperty(N,"InlineCompletionRequest",{enumerable:!0,get:function(){return qle.InlineCompletionRequest}});var qk;(function(t){function e(n){let r=n;return jn.string(r)||jn.string(r.language)||jn.string(r.scheme)||jn.string(r.pattern)}t.is=e})(qk||(N.TextDocumentFilter=qk={}));var Wk;(function(t){function e(n){let r=n;return jn.objectLiteral(r)&&(jn.string(r.notebookType)||jn.string(r.scheme)||jn.string(r.pattern))}t.is=e})(Wk||(N.NotebookDocumentFilter=Wk={}));var jk;(function(t){function e(n){let r=n;return jn.objectLiteral(r)&&(jn.string(r.notebook)||Wk.is(r.notebook))&&(r.language===void 0||jn.string(r.language))}t.is=e})(jk||(N.NotebookCellTextDocumentFilter=jk={}));var Bk;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!jn.string(r)&&!qk.is(r)&&!jk.is(r))return!1;return!0}t.is=e})(Bk||(N.DocumentSelector=Bk={}));var B$;(function(t){t.method="client/registerCapability",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolRequestType(t.method)})(B$||(N.RegistrationRequest=B$={}));var $$;(function(t){t.method="client/unregisterCapability",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolRequestType(t.method)})($$||(N.UnregistrationRequest=$$={}));var K$;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(K$||(N.ResourceOperationKind=K$={}));var z$;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(z$||(N.FailureHandlingKind=z$={}));var H$;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(H$||(N.PositionEncodingKind=H$={}));var G$;(function(t){function e(n){let r=n;return r&&jn.string(r.id)&&r.id.length>0}t.hasId=e})(G$||(N.StaticRegistrationOptions=G$={}));var V$;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Bk.is(r.documentSelector))}t.is=e})(V$||(N.TextDocumentRegistrationOptions=V$={}));var J$;(function(t){function e(r){let i=r;return jn.objectLiteral(i)&&(i.workDoneProgress===void 0||jn.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&jn.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(J$||(N.WorkDoneProgressOptions=J$={}));var X$;(function(t){t.method="initialize",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(X$||(N.InitializeRequest=X$={}));var Y$;(function(t){t.unknownProtocolVersion=1})(Y$||(N.InitializeErrorCodes=Y$={}));var Q$;(function(t){t.method="initialized",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(Q$||(N.InitializedNotification=Q$={}));var Z$;(function(t){t.method="shutdown",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType0(t.method)})(Z$||(N.ShutdownRequest=Z$={}));var eK;(function(t){t.method="exit",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType0(t.method)})(eK||(N.ExitNotification=eK={}));var tK;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(tK||(N.DidChangeConfigurationNotification=tK={}));var nK;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(nK||(N.MessageType=nK={}));var rK;(function(t){t.method="window/showMessage",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolNotificationType(t.method)})(rK||(N.ShowMessageNotification=rK={}));var iK;(function(t){t.method="window/showMessageRequest",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolRequestType(t.method)})(iK||(N.ShowMessageRequest=iK={}));var sK;(function(t){t.method="window/logMessage",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolNotificationType(t.method)})(sK||(N.LogMessageNotification=sK={}));var oK;(function(t){t.method="telemetry/event",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolNotificationType(t.method)})(oK||(N.TelemetryEventNotification=oK={}));var aK;(function(t){t.None=0,t.Full=1,t.Incremental=2})(aK||(N.TextDocumentSyncKind=aK={}));var cK;(function(t){t.method="textDocument/didOpen",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(cK||(N.DidOpenTextDocumentNotification=cK={}));var uK;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(uK||(N.TextDocumentContentChangeEvent=uK={}));var lK;(function(t){t.method="textDocument/didChange",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(lK||(N.DidChangeTextDocumentNotification=lK={}));var dK;(function(t){t.method="textDocument/didClose",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(dK||(N.DidCloseTextDocumentNotification=dK={}));var fK;(function(t){t.method="textDocument/didSave",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(fK||(N.DidSaveTextDocumentNotification=fK={}));var pK;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(pK||(N.TextDocumentSaveReason=pK={}));var hK;(function(t){t.method="textDocument/willSave",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(hK||(N.WillSaveTextDocumentNotification=hK={}));var gK;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(gK||(N.WillSaveTextDocumentWaitUntilRequest=gK={}));var mK;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolNotificationType(t.method)})(mK||(N.DidChangeWatchedFilesNotification=mK={}));var yK;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(yK||(N.FileChangeType=yK={}));var CK;(function(t){function e(n){let r=n;return jn.objectLiteral(r)&&(j$.URI.is(r.baseUri)||j$.WorkspaceFolder.is(r.baseUri))&&jn.string(r.pattern)}t.is=e})(CK||(N.RelativePattern=CK={}));var SK;(function(t){t.Create=1,t.Change=2,t.Delete=4})(SK||(N.WatchKind=SK={}));var xK;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolNotificationType(t.method)})(xK||(N.PublishDiagnosticsNotification=xK={}));var bK;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(bK||(N.CompletionTriggerKind=bK={}));var vK;(function(t){t.method="textDocument/completion",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(vK||(N.CompletionRequest=vK={}));var wK;(function(t){t.method="completionItem/resolve",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(wK||(N.CompletionResolveRequest=wK={}));var DK;(function(t){t.method="textDocument/hover",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(DK||(N.HoverRequest=DK={}));var TK;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(TK||(N.SignatureHelpTriggerKind=TK={}));var EK;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(EK||(N.SignatureHelpRequest=EK={}));var kK;(function(t){t.method="textDocument/definition",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(kK||(N.DefinitionRequest=kK={}));var RK;(function(t){t.method="textDocument/references",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(RK||(N.ReferencesRequest=RK={}));var FK;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(FK||(N.DocumentHighlightRequest=FK={}));var AK;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(AK||(N.DocumentSymbolRequest=AK={}));var PK;(function(t){t.method="textDocument/codeAction",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(PK||(N.CodeActionRequest=PK={}));var _K;(function(t){t.method="codeAction/resolve",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(_K||(N.CodeActionResolveRequest=_K={}));var IK;(function(t){t.method="workspace/symbol",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(IK||(N.WorkspaceSymbolRequest=IK={}));var NK;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(NK||(N.WorkspaceSymbolResolveRequest=NK={}));var LK;(function(t){t.method="textDocument/codeLens",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(LK||(N.CodeLensRequest=LK={}));var OK;(function(t){t.method="codeLens/resolve",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(OK||(N.CodeLensResolveRequest=OK={}));var MK;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolRequestType0(t.method)})(MK||(N.CodeLensRefreshRequest=MK={}));var UK;(function(t){t.method="textDocument/documentLink",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(UK||(N.DocumentLinkRequest=UK={}));var qK;(function(t){t.method="documentLink/resolve",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(qK||(N.DocumentLinkResolveRequest=qK={}));var WK;(function(t){t.method="textDocument/formatting",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(WK||(N.DocumentFormattingRequest=WK={}));var jK;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(jK||(N.DocumentRangeFormattingRequest=jK={}));var BK;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(BK||(N.DocumentRangesFormattingRequest=BK={}));var $K;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})($K||(N.DocumentOnTypeFormattingRequest=$K={}));var KK;(function(t){t.Identifier=1})(KK||(N.PrepareSupportDefaultBehavior=KK={}));var zK;(function(t){t.method="textDocument/rename",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(zK||(N.RenameRequest=zK={}));var HK;(function(t){t.method="textDocument/prepareRename",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(HK||(N.PrepareRenameRequest=HK={}));var GK;(function(t){t.method="workspace/executeCommand",t.messageDirection=de.MessageDirection.clientToServer,t.type=new de.ProtocolRequestType(t.method)})(GK||(N.ExecuteCommandRequest=GK={}));var VK;(function(t){t.method="workspace/applyEdit",t.messageDirection=de.MessageDirection.serverToClient,t.type=new de.ProtocolRequestType("workspace/applyEdit")})(VK||(N.ApplyWorkspaceEditRequest=VK={}))});var tz=P(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.createProtocolConnection=void 0;var ez=kc();function Wle(t,e,n,r){return ez.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ez.createMessageConnection)(t,e,n,r)}qC.createProtocolConnection=Wle});var rz=P(Ur=>{"use strict";var jle=Ur&&Ur.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),WC=Ur&&Ur.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&jle(e,t,n)};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.LSPErrorCodes=Ur.createProtocolConnection=void 0;WC(kc(),Ur);WC(wC(),Ur);WC(Qt(),Ur);WC(ZK(),Ur);var Ble=tz();Object.defineProperty(Ur,"createProtocolConnection",{enumerable:!0,get:function(){return Ble.createProtocolConnection}});var nz;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(nz||(Ur.LSPErrorCodes=nz={}))});var Be=P(Is=>{"use strict";var $le=Is&&Is.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),iz=Is&&Is.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&$le(e,t,n)};Object.defineProperty(Is,"__esModule",{value:!0});Is.createProtocolConnection=void 0;var Kle=Pk();iz(Pk(),Is);iz(rz(),Is);function zle(t,e,n,r){return(0,Kle.createMessageConnection)(t,e,n,r)}Is.createProtocolConnection=zle});var jC=P(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.forEach=ar.mapAsync=ar.map=ar.clearTestMode=ar.setTestMode=ar.Semaphore=ar.Delayer=void 0;var yp=Be(),Vk=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,yp.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};ar.Delayer=Vk;var Jk=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,yp.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};ar.Semaphore=Jk;var Xk=!1;function Hle(){Xk=!0}ar.setTestMode=Hle;function Gle(){Xk=!1}ar.clearTestMode=Gle;var sz=15,mp=class{constructor(e=sz){this.yieldAfter=Xk===!0?Math.max(e,2):Math.max(e,sz),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Vle(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new mp(r?.yieldAfter);function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=e(t[u]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,yp.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}ar.map=Vle;async function Jle(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new mp(r?.yieldAfter);async function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=await e(t[u],n),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,yp.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}ar.mapAsync=Jle;async function Xle(t,e,n,r){if(t.length===0)return;let i=new mp(r?.yieldAfter);function s(a){i.start();for(let c=a;c<t.length;c++)if(e(t[c]),i.shouldYield())return r?.yieldCallback&&r.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,yp.RAL)().timer.setImmediate(()=>{a(s(o))})})}ar.forEach=Xle});var Zk=P(Qk=>{"use strict";Object.defineProperty(Qk,"__esModule",{value:!0});var Yle=require("vscode"),Yk=class extends Yle.CompletionItem{constructor(e){super(e)}};Qk.default=Yk});var nR=P(tR=>{"use strict";Object.defineProperty(tR,"__esModule",{value:!0});var Qle=require("vscode"),eR=class extends Qle.CodeLens{constructor(e){super(e)}};tR.default=eR});var sR=P(iR=>{"use strict";Object.defineProperty(iR,"__esModule",{value:!0});var Zle=require("vscode"),rR=class extends Zle.DocumentLink{constructor(e,n){super(e,n)}};iR.default=rR});var cR=P(aR=>{"use strict";Object.defineProperty(aR,"__esModule",{value:!0});var ede=require("vscode"),oR=class extends ede.CodeAction{constructor(e,n){super(e),this.data=n}};aR.default=oR});var dR=P(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.ProtocolDiagnostic=Sl.DiagnosticCode=void 0;var tde=require("vscode"),uR=Ei(),oz;(function(t){function e(n){let r=n;return r!=null&&(uR.number(r.value)||uR.string(r.value))&&uR.string(r.target)}t.is=e})(oz||(Sl.DiagnosticCode=oz={}));var lR=class extends tde.Diagnostic{constructor(e,n,r,i){super(e,n,r),this.data=i,this.hasDiagnosticCode=!1}};Sl.ProtocolDiagnostic=lR});var hR=P(pR=>{"use strict";Object.defineProperty(pR,"__esModule",{value:!0});var nde=require("vscode"),fR=class extends nde.CallHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};pR.default=fR});var yR=P(mR=>{"use strict";Object.defineProperty(mR,"__esModule",{value:!0});var rde=require("vscode"),gR=class extends rde.TypeHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};mR.default=gR});var xR=P(SR=>{"use strict";Object.defineProperty(SR,"__esModule",{value:!0});var BC=require("vscode"),CR=class extends BC.SymbolInformation{constructor(e,n,r,i,s){let o=!(i instanceof BC.Uri);super(e,n,r,o?i:new BC.Location(i,new BC.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};SR.default=CR});var wR=P(vR=>{"use strict";Object.defineProperty(vR,"__esModule",{value:!0});var ide=require("vscode"),bR=class extends ide.InlayHint{constructor(e,n,r){super(e,n,r)}};vR.default=bR});var lz=P($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});$C.createConverter=void 0;var Rn=require("vscode"),$e=Be(),Fc=Ei(),az=jC(),sde=Zk(),ode=nR(),ade=sR(),cz=cR(),uz=dR(),cde=hR(),ude=yR(),lde=xR(),dde=wR(),DR;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(DR||(DR={}));function fde(t){let n=t||(w=>w.toString());function r(w){return n(w)}function i(w){return{uri:n(w.uri)}}function s(w){return{uri:n(w.uri),languageId:w.languageId,version:w.version,text:w.getText()}}function o(w){return{uri:n(w.uri),version:w.version}}function a(w){return{textDocument:s(w)}}function c(w){let X=w;return!!X.document&&!!X.contentChanges}function u(w){let X=w;return!!X.uri&&!!X.version}function l(w,X,xe){if(u(w))return{textDocument:{uri:n(w.uri),version:w.version},contentChanges:[{text:w.getText()}]};if(c(w)){let Ct=X,K=xe;return{textDocument:{uri:n(Ct),version:K},contentChanges:w.contentChanges.map(U=>{let q=U.range;return{range:{start:{line:q.start.line,character:q.start.character},end:{line:q.end.line,character:q.end.character}},rangeLength:U.rangeLength,text:U.text}})}}else throw Error("Unsupported text document change parameter")}function p(w){return{textDocument:i(w)}}function f(w,X=!1){let xe={textDocument:i(w)};return X&&(xe.text=w.getText()),xe}function d(w){switch(w){case Rn.TextDocumentSaveReason.Manual:return $e.TextDocumentSaveReason.Manual;case Rn.TextDocumentSaveReason.AfterDelay:return $e.TextDocumentSaveReason.AfterDelay;case Rn.TextDocumentSaveReason.FocusOut:return $e.TextDocumentSaveReason.FocusOut}return $e.TextDocumentSaveReason.Manual}function h(w){return{textDocument:i(w.document),reason:d(w.reason)}}function g(w){return{files:w.files.map(X=>({uri:n(X)}))}}function m(w){return{files:w.files.map(X=>({oldUri:n(X.oldUri),newUri:n(X.newUri)}))}}function y(w){return{files:w.files.map(X=>({uri:n(X)}))}}function C(w){return{files:w.files.map(X=>({uri:n(X)}))}}function x(w){return{files:w.files.map(X=>({oldUri:n(X.oldUri),newUri:n(X.newUri)}))}}function T(w){return{files:w.files.map(X=>({uri:n(X)}))}}function E(w,X){return{textDocument:i(w),position:I(X)}}function k(w){switch(w){case Rn.CompletionTriggerKind.TriggerCharacter:return $e.CompletionTriggerKind.TriggerCharacter;case Rn.CompletionTriggerKind.TriggerForIncompleteCompletions:return $e.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return $e.CompletionTriggerKind.Invoked}}function L(w,X,xe){return{textDocument:i(w),position:I(X),context:{triggerKind:k(xe.triggerKind),triggerCharacter:xe.triggerCharacter}}}function A(w){switch(w){case Rn.SignatureHelpTriggerKind.Invoke:return $e.SignatureHelpTriggerKind.Invoked;case Rn.SignatureHelpTriggerKind.TriggerCharacter:return $e.SignatureHelpTriggerKind.TriggerCharacter;case Rn.SignatureHelpTriggerKind.ContentChange:return $e.SignatureHelpTriggerKind.ContentChange}}function j(w){return{label:w.label}}function H(w){return w.map(j)}function F(w){return{label:w.label,parameters:H(w.parameters)}}function M(w){return w.map(F)}function J(w){return w===void 0?w:{signatures:M(w.signatures),activeSignature:w.activeSignature,activeParameter:w.activeParameter}}function _(w,X,xe){return{textDocument:i(w),position:I(X),context:{isRetrigger:xe.isRetrigger,triggerCharacter:xe.triggerCharacter,triggerKind:A(xe.triggerKind),activeSignatureHelp:J(xe.activeSignatureHelp)}}}function I(w){return{line:w.line,character:w.character}}function W(w){return w==null?w:{line:w.line>$e.uinteger.MAX_VALUE?$e.uinteger.MAX_VALUE:w.line,character:w.character>$e.uinteger.MAX_VALUE?$e.uinteger.MAX_VALUE:w.character}}function ue(w,X){return az.map(w,W,X)}function ce(w){return w.map(W)}function ae(w){return w==null?w:{start:W(w.start),end:W(w.end)}}function fe(w){return w.map(ae)}function be(w){return w==null?w:$e.Location.create(r(w.uri),ae(w.range))}function Ue(w){switch(w){case Rn.DiagnosticSeverity.Error:return $e.DiagnosticSeverity.Error;case Rn.DiagnosticSeverity.Warning:return $e.DiagnosticSeverity.Warning;case Rn.DiagnosticSeverity.Information:return $e.DiagnosticSeverity.Information;case Rn.DiagnosticSeverity.Hint:return $e.DiagnosticSeverity.Hint}}function st(w){if(!w)return;let X=[];for(let xe of w){let Ct=ut(xe);Ct!==void 0&&X.push(Ct)}return X.length>0?X:void 0}function ut(w){switch(w){case Rn.DiagnosticTag.Unnecessary:return $e.DiagnosticTag.Unnecessary;case Rn.DiagnosticTag.Deprecated:return $e.DiagnosticTag.Deprecated;default:return}}function et(w){return{message:w.message,location:be(w.location)}}function ie(w){return w.map(et)}function qe(w){if(w!=null)return Fc.number(w)||Fc.string(w)?w:{value:w.value,target:r(w.target)}}function Ke(w){let X=$e.Diagnostic.create(ae(w.range),w.message),xe=w instanceof uz.ProtocolDiagnostic?w:void 0;xe!==void 0&&xe.data!==void 0&&(X.data=xe.data);let Ct=qe(w.code);return uz.DiagnosticCode.is(Ct)?xe!==void 0&&xe.hasDiagnosticCode?X.code=Ct:(X.code=Ct.value,X.codeDescription={href:Ct.target}):X.code=Ct,Fc.number(w.severity)&&(X.severity=Ue(w.severity)),Array.isArray(w.tags)&&(X.tags=st(w.tags)),w.relatedInformation&&(X.relatedInformation=ie(w.relatedInformation)),w.source&&(X.source=w.source),X}function re(w,X){return w==null?w:az.map(w,Ke,X)}function pe(w){return w==null?w:w.map(Ke)}function se(w,X){switch(w){case"$string":return X;case $e.MarkupKind.PlainText:return{kind:w,value:X};case $e.MarkupKind.Markdown:return{kind:w,value:X.value};default:return`Unsupported Markup content received. Kind is: ${w}`}}function he(w){switch(w){case Rn.CompletionItemTag.Deprecated:return $e.CompletionItemTag.Deprecated}}function ze(w){if(w===void 0)return w;let X=[];for(let xe of w){let Ct=he(xe);Ct!==void 0&&X.push(Ct)}return X}function ot(w,X){return X!==void 0?X:w+1}function Xe(w,X=!1){let xe,Ct;Fc.string(w.label)?xe=w.label:(xe=w.label.label,X&&(w.label.detail!==void 0||w.label.description!==void 0)&&(Ct={detail:w.label.detail,description:w.label.description}));let K={label:xe};Ct!==void 0&&(K.labelDetails=Ct);let D=w instanceof sde.default?w:void 0;w.detail&&(K.detail=w.detail),w.documentation&&(!D||D.documentationFormat==="$string"?K.documentation=w.documentation:K.documentation=se(D.documentationFormat,w.documentation)),w.filterText&&(K.filterText=w.filterText),tr(K,w),Fc.number(w.kind)&&(K.kind=ot(w.kind,D&&D.originalItemKind)),w.sortText&&(K.sortText=w.sortText),w.additionalTextEdits&&(K.additionalTextEdits=Et(w.additionalTextEdits)),w.commitCharacters&&(K.commitCharacters=w.commitCharacters.slice()),w.command&&(K.command=Y(w.command)),(w.preselect===!0||w.preselect===!1)&&(K.preselect=w.preselect);let U=ze(w.tags);if(D){if(D.data!==void 0&&(K.data=D.data),D.deprecated===!0||D.deprecated===!1){if(D.deprecated===!0&&U!==void 0&&U.length>0){let q=U.indexOf(Rn.CompletionItemTag.Deprecated);q!==-1&&U.splice(q,1)}K.deprecated=D.deprecated}D.insertTextMode!==void 0&&(K.insertTextMode=D.insertTextMode)}return U!==void 0&&U.length>0&&(K.tags=U),K.insertTextMode===void 0&&w.keepWhitespace===!0&&(K.insertTextMode=$e.InsertTextMode.adjustIndentation),K}function tr(w,X){let xe=$e.InsertTextFormat.PlainText,Ct,K;X.textEdit?(Ct=X.textEdit.newText,K=X.textEdit.range):X.insertText instanceof Rn.SnippetString?(xe=$e.InsertTextFormat.Snippet,Ct=X.insertText.value):Ct=X.insertText,X.range&&(K=X.range),w.insertTextFormat=xe,X.fromEdit&&Ct!==void 0&&K!==void 0?w.textEdit=an(Ct,K):w.insertText=Ct}function an(w,X){return DR.is(X)?$e.InsertReplaceEdit.create(w,ae(X.inserting),ae(X.replacing)):{newText:w,range:ae(X)}}function Fr(w){return{range:ae(w.range),newText:w.newText}}function Et(w){return w==null?w:w.map(Fr)}function Jt(w){return w<=Rn.SymbolKind.TypeParameter?w+1:$e.SymbolKind.Property}function bn(w){return w}function Gn(w){return w.map(bn)}function mn(w,X,xe){return{textDocument:i(w),position:I(X),context:{includeDeclaration:xe.includeDeclaration}}}async function yr(w,X){let xe=$e.CodeAction.create(w.title);if(w instanceof cz.default&&w.data!==void 0&&(xe.data=w.data),w.kind!==void 0&&(xe.kind=b(w.kind)),w.diagnostics!==void 0&&(xe.diagnostics=await re(w.diagnostics,X)),w.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return w.command!==void 0&&(xe.command=Y(w.command)),w.isPreferred!==void 0&&(xe.isPreferred=w.isPreferred),w.disabled!==void 0&&(xe.disabled={reason:w.disabled.reason}),xe}function Ar(w){let X=$e.CodeAction.create(w.title);if(w instanceof cz.default&&w.data!==void 0&&(X.data=w.data),w.kind!==void 0&&(X.kind=b(w.kind)),w.diagnostics!==void 0&&(X.diagnostics=pe(w.diagnostics)),w.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return w.command!==void 0&&(X.command=Y(w.command)),w.isPreferred!==void 0&&(X.isPreferred=w.isPreferred),w.disabled!==void 0&&(X.disabled={reason:w.disabled.reason}),X}async function Vn(w,X){if(w==null)return w;let xe;return w.only&&Fc.string(w.only.value)&&(xe=[w.only.value]),$e.CodeActionContext.create(await re(w.diagnostics,X),xe,Xt(w.triggerKind))}function Pr(w){if(w==null)return w;let X;return w.only&&Fc.string(w.only.value)&&(X=[w.only.value]),$e.CodeActionContext.create(pe(w.diagnostics),X,Xt(w.triggerKind))}function Xt(w){switch(w){case Rn.CodeActionTriggerKind.Invoke:return $e.CodeActionTriggerKind.Invoked;case Rn.CodeActionTriggerKind.Automatic:return $e.CodeActionTriggerKind.Automatic;default:return}}function b(w){if(w!=null)return w.value}function O(w){return w==null?w:$e.InlineValueContext.create(w.frameId,ae(w.stoppedLocation))}function G(w,X,xe){return{context:$e.InlineCompletionContext.create(xe.triggerKind,xe.selectedCompletionInfo),textDocument:i(w),position:W(X)}}function Y(w){let X=$e.Command.create(w.title,w.command);return w.arguments&&(X.arguments=w.arguments),X}function De(w){let X=$e.CodeLens.create(ae(w.range));return w.command&&(X.command=Y(w.command)),w instanceof ode.default&&w.data&&(X.data=w.data),X}function ve(w,X){let xe={tabSize:w.tabSize,insertSpaces:w.insertSpaces};return X.trimTrailingWhitespace&&(xe.trimTrailingWhitespace=!0),X.trimFinalNewlines&&(xe.trimFinalNewlines=!0),X.insertFinalNewline&&(xe.insertFinalNewline=!0),xe}function Pe(w){return{textDocument:i(w)}}function _e(w){return{textDocument:i(w)}}function ge(w){let X=$e.DocumentLink.create(ae(w.range));w.target&&(X.target=r(w.target)),w.tooltip!==void 0&&(X.tooltip=w.tooltip);let xe=w instanceof ade.default?w:void 0;return xe&&xe.data&&(X.data=xe.data),X}function Ee(w){return{textDocument:i(w)}}function ye(w){let X={name:w.name,kind:Jt(w.kind),uri:r(w.uri),range:ae(w.range),selectionRange:ae(w.selectionRange)};return w.detail!==void 0&&w.detail.length>0&&(X.detail=w.detail),w.tags!==void 0&&(X.tags=Gn(w.tags)),w instanceof cde.default&&w.data!==void 0&&(X.data=w.data),X}function $(w){let X={name:w.name,kind:Jt(w.kind),uri:r(w.uri),range:ae(w.range),selectionRange:ae(w.selectionRange)};return w.detail!==void 0&&w.detail.length>0&&(X.detail=w.detail),w.tags!==void 0&&(X.tags=Gn(w.tags)),w instanceof ude.default&&w.data!==void 0&&(X.data=w.data),X}function z(w){let X=w instanceof lde.default?{name:w.name,kind:Jt(w.kind),location:w.hasRange?be(w.location):{uri:n(w.location.uri)},data:w.data}:{name:w.name,kind:Jt(w.kind),location:be(w.location)};return w.tags!==void 0&&(X.tags=Gn(w.tags)),w.containerName!==""&&(X.containerName=w.containerName),X}function ee(w){let X=typeof w.label=="string"?w.label:w.label.map(Ie),xe=$e.InlayHint.create(W(w.position),X);return w.kind!==void 0&&(xe.kind=w.kind),w.textEdits!==void 0&&(xe.textEdits=Et(w.textEdits)),w.tooltip!==void 0&&(xe.tooltip=yn(w.tooltip)),w.paddingLeft!==void 0&&(xe.paddingLeft=w.paddingLeft),w.paddingRight!==void 0&&(xe.paddingRight=w.paddingRight),w instanceof dde.default&&w.data!==void 0&&(xe.data=w.data),xe}function Ie(w){let X=$e.InlayHintLabelPart.create(w.value);return w.location!==void 0&&(X.location=be(w.location)),w.command!==void 0&&(X.command=Y(w.command)),w.tooltip!==void 0&&(X.tooltip=yn(w.tooltip)),X}function yn(w){return typeof w=="string"?w:{kind:$e.MarkupKind.Markdown,value:w.value}}return{asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:p,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:h,asDidCreateFilesParams:g,asDidRenameFilesParams:m,asDidDeleteFilesParams:y,asWillCreateFilesParams:C,asWillRenameFilesParams:x,asWillDeleteFilesParams:T,asTextDocumentPositionParams:E,asCompletionParams:L,asSignatureHelpParams:_,asWorkerPosition:I,asRange:ae,asRanges:fe,asPosition:W,asPositions:ue,asPositionsSync:ce,asLocation:be,asDiagnosticSeverity:Ue,asDiagnosticTag:ut,asDiagnostic:Ke,asDiagnostics:re,asDiagnosticsSync:pe,asCompletionItem:Xe,asTextEdit:Fr,asSymbolKind:Jt,asSymbolTag:bn,asSymbolTags:Gn,asReferenceParams:mn,asCodeAction:yr,asCodeActionSync:Ar,asCodeActionContext:Vn,asCodeActionContextSync:Pr,asInlineValueContext:O,asCommand:Y,asCodeLens:De,asFormattingOptions:ve,asDocumentSymbolParams:Pe,asCodeLensParams:_e,asDocumentLink:ge,asDocumentLinkParams:Ee,asCallHierarchyItem:ye,asTypeHierarchyItem:$,asInlayHint:ee,asWorkspaceSymbol:z,asInlineCompletionParams:G}}$C.createConverter=fde});var pz=P(zC=>{"use strict";Object.defineProperty(zC,"__esModule",{value:!0});zC.createConverter=void 0;var me=require("vscode"),Oe=Be(),Fi=Ei(),yt=jC(),pde=Zk(),hde=nR(),gde=sR(),mde=cR(),dz=dR(),yde=hR(),Cde=yR(),Sde=xR(),xde=wR(),fz=Be(),KC;(function(t){function e(n){let r=n;return r&&Fi.string(r.language)&&Fi.string(r.value)}t.is=e})(KC||(KC={}));function bde(t,e,n){let i=t||(S=>me.Uri.parse(S));function s(S){return i(S)}function o(S){let B=[];for(let ne of S)if(typeof ne=="string")B.push(ne);else if(fz.NotebookCellTextDocumentFilter.is(ne))if(typeof ne.notebook=="string")B.push({notebookType:ne.notebook,language:ne.language});else{let we=ne.notebook.notebookType??"*";B.push({notebookType:we,scheme:ne.notebook.scheme,pattern:ne.notebook.pattern,language:ne.language})}else fz.TextDocumentFilter.is(ne)&&B.push({language:ne.language,scheme:ne.scheme,pattern:ne.pattern});return B}async function a(S,B){return yt.map(S,u,B)}function c(S){let B=new Array(S.length);for(let ne=0;ne<S.length;ne++)B[ne]=u(S[ne]);return B}function u(S){let B=new dz.ProtocolDiagnostic(h(S.range),S.message,m(S.severity),S.data);if(S.code!==void 0){if(typeof S.code=="string"||typeof S.code=="number")Oe.CodeDescription.is(S.codeDescription)?B.code={value:S.code,target:s(S.codeDescription.href)}:B.code=S.code;else if(dz.DiagnosticCode.is(S.code)){B.hasDiagnosticCode=!0;let ne=S.code;B.code={value:ne.value,target:s(ne.target)}}}return S.source&&(B.source=S.source),S.relatedInformation&&(B.relatedInformation=l(S.relatedInformation)),Array.isArray(S.tags)&&(B.tags=p(S.tags)),B}function l(S){let B=new Array(S.length);for(let ne=0;ne<S.length;ne++){let we=S[ne];B[ne]=new me.DiagnosticRelatedInformation(Ue(we.location),we.message)}return B}function p(S){if(!S)return;let B=[];for(let ne of S){let we=f(ne);we!==void 0&&B.push(we)}return B.length>0?B:void 0}function f(S){switch(S){case Oe.DiagnosticTag.Unnecessary:return me.DiagnosticTag.Unnecessary;case Oe.DiagnosticTag.Deprecated:return me.DiagnosticTag.Deprecated;default:return}}function d(S){return S?new me.Position(S.line,S.character):void 0}function h(S){return S?new me.Range(S.start.line,S.start.character,S.end.line,S.end.character):void 0}async function g(S,B){return yt.map(S,ne=>new me.Range(ne.start.line,ne.start.character,ne.end.line,ne.end.character),B)}function m(S){if(S==null)return me.DiagnosticSeverity.Error;switch(S){case Oe.DiagnosticSeverity.Error:return me.DiagnosticSeverity.Error;case Oe.DiagnosticSeverity.Warning:return me.DiagnosticSeverity.Warning;case Oe.DiagnosticSeverity.Information:return me.DiagnosticSeverity.Information;case Oe.DiagnosticSeverity.Hint:return me.DiagnosticSeverity.Hint}return me.DiagnosticSeverity.Error}function y(S){if(Fi.string(S))return x(S);if(KC.is(S))return x().appendCodeblock(S.value,S.language);if(Array.isArray(S)){let B=[];for(let ne of S){let we=x();KC.is(ne)?we.appendCodeblock(ne.value,ne.language):we.appendMarkdown(ne),B.push(we)}return B}else return x(S)}function C(S){if(Fi.string(S))return S;switch(S.kind){case Oe.MarkupKind.Markdown:return x(S.value);case Oe.MarkupKind.PlainText:return S.value;default:return`Unsupported Markup content received. Kind is: ${S.kind}`}}function x(S){let B;if(S===void 0||typeof S=="string")B=new me.MarkdownString(S);else switch(S.kind){case Oe.MarkupKind.Markdown:B=new me.MarkdownString(S.value);break;case Oe.MarkupKind.PlainText:B=new me.MarkdownString,B.appendText(S.value);break;default:B=new me.MarkdownString,B.appendText(`Unsupported Markup content received. Kind is: ${S.kind}`);break}return B.isTrusted=e,B.supportHtml=n,B}function T(S){if(S)return new me.Hover(y(S.contents),h(S.range))}async function E(S,B,ne){if(!S)return;if(Array.isArray(S))return yt.map(S,Ss=>H(Ss,B),ne);let we=S,{defaultRange:Un,commitCharacters:Jn}=k(we,B),_t=await yt.map(we.items,Ss=>H(Ss,Jn,Un,we.itemDefaults?.insertTextMode,we.itemDefaults?.insertTextFormat,we.itemDefaults?.data),ne);return new me.CompletionList(_t,we.isIncomplete)}function k(S,B){let ne=S.itemDefaults?.editRange,we=S.itemDefaults?.commitCharacters??B;return Oe.Range.is(ne)?{defaultRange:h(ne),commitCharacters:we}:ne!==void 0?{defaultRange:{inserting:h(ne.insert),replacing:h(ne.replace)},commitCharacters:we}:{defaultRange:void 0,commitCharacters:we}}function L(S){return Oe.CompletionItemKind.Text<=S&&S<=Oe.CompletionItemKind.TypeParameter?[S-1,void 0]:[me.CompletionItemKind.Text,S]}function A(S){switch(S){case Oe.CompletionItemTag.Deprecated:return me.CompletionItemTag.Deprecated}}function j(S){if(S==null)return[];let B=[];for(let ne of S){let we=A(ne);we!==void 0&&B.push(we)}return B}function H(S,B,ne,we,Un,Jn){let _t=j(S.tags),Ss=F(S),Lt=new pde.default(Ss);S.detail&&(Lt.detail=S.detail),S.documentation&&(Lt.documentation=C(S.documentation),Lt.documentationFormat=Fi.string(S.documentation)?"$string":S.documentation.kind),S.filterText&&(Lt.filterText=S.filterText);let Cm=M(S,ne,Un);if(Cm&&(Lt.insertText=Cm.text,Lt.range=Cm.range,Lt.fromEdit=Cm.fromEdit),Fi.number(S.kind)){let[ane,UM]=L(S.kind);Lt.kind=ane,UM&&(Lt.originalItemKind=UM)}S.sortText&&(Lt.sortText=S.sortText),S.additionalTextEdits&&(Lt.additionalTextEdits=W(S.additionalTextEdits));let OM=S.commitCharacters!==void 0?Fi.stringArray(S.commitCharacters)?S.commitCharacters:void 0:B;OM&&(Lt.commitCharacters=OM.slice()),S.command&&(Lt.command=Et(S.command)),(S.deprecated===!0||S.deprecated===!1)&&(Lt.deprecated=S.deprecated,S.deprecated===!0&&_t.push(me.CompletionItemTag.Deprecated)),(S.preselect===!0||S.preselect===!1)&&(Lt.preselect=S.preselect);let MM=S.data??Jn;MM!==void 0&&(Lt.data=MM),_t.length>0&&(Lt.tags=_t);let DD=S.insertTextMode??we;return DD!==void 0&&(Lt.insertTextMode=DD,DD===Oe.InsertTextMode.asIs&&(Lt.keepWhitespace=!0)),Lt}function F(S){return Oe.CompletionItemLabelDetails.is(S.labelDetails)?{label:S.label,detail:S.labelDetails.detail,description:S.labelDetails.description}:S.label}function M(S,B,ne){let we=S.insertTextFormat??ne;if(S.textEdit!==void 0||B!==void 0){let[Un,Jn]=S.textEdit!==void 0?J(S.textEdit):[B,S.textEditText??S.label];return we===Oe.InsertTextFormat.Snippet?{text:new me.SnippetString(Jn),range:Un,fromEdit:!0}:{text:Jn,range:Un,fromEdit:!0}}else return S.insertText?we===Oe.InsertTextFormat.Snippet?{text:new me.SnippetString(S.insertText),fromEdit:!1}:{text:S.insertText,fromEdit:!1}:void 0}function J(S){return Oe.InsertReplaceEdit.is(S)?[{inserting:h(S.insert),replacing:h(S.replace)},S.newText]:[h(S.range),S.newText]}function _(S){if(S)return new me.TextEdit(h(S.range),S.newText)}async function I(S,B){if(S)return yt.map(S,_,B)}function W(S){if(!S)return;let B=new Array(S.length);for(let ne=0;ne<S.length;ne++)B[ne]=_(S[ne]);return B}async function ue(S,B){if(!S)return;let ne=new me.SignatureHelp;return Fi.number(S.activeSignature)?ne.activeSignature=S.activeSignature:ne.activeSignature=0,Fi.number(S.activeParameter)?ne.activeParameter=S.activeParameter:ne.activeParameter=0,S.signatures&&(ne.signatures=await ce(S.signatures,B)),ne}async function ce(S,B){return yt.mapAsync(S,ae,B)}async function ae(S,B){let ne=new me.SignatureInformation(S.label);return S.documentation!==void 0&&(ne.documentation=C(S.documentation)),S.parameters!==void 0&&(ne.parameters=await fe(S.parameters,B)),S.activeParameter!==void 0&&(ne.activeParameter=S.activeParameter),ne}function fe(S,B){return yt.map(S,be,B)}function be(S){let B=new me.ParameterInformation(S.label);return S.documentation&&(B.documentation=C(S.documentation)),B}function Ue(S){return S?new me.Location(i(S.uri),h(S.range)):void 0}async function st(S,B){if(S)return ie(S,B)}async function ut(S,B){if(S)return ie(S,B)}function et(S){if(!S)return;let B={targetUri:i(S.targetUri),targetRange:h(S.targetRange),originSelectionRange:h(S.originSelectionRange),targetSelectionRange:h(S.targetSelectionRange)};if(!B.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return B}async function ie(S,B){if(S)if(Fi.array(S)){if(S.length===0)return[];if(Oe.LocationLink.is(S[0])){let ne=S;return yt.map(ne,et,B)}else{let ne=S;return yt.map(ne,Ue,B)}}else return Oe.LocationLink.is(S)?[et(S)]:Ue(S)}async function qe(S,B){if(S)return yt.map(S,Ue,B)}async function Ke(S,B){if(S)return yt.map(S,re,B)}function re(S){let B=new me.DocumentHighlight(h(S.range));return Fi.number(S.kind)&&(B.kind=pe(S.kind)),B}function pe(S){switch(S){case Oe.DocumentHighlightKind.Text:return me.DocumentHighlightKind.Text;case Oe.DocumentHighlightKind.Read:return me.DocumentHighlightKind.Read;case Oe.DocumentHighlightKind.Write:return me.DocumentHighlightKind.Write}return me.DocumentHighlightKind.Text}async function se(S,B){if(S)return yt.map(S,Xe,B)}function he(S){return S<=Oe.SymbolKind.TypeParameter?S-1:me.SymbolKind.Property}function ze(S){switch(S){case Oe.SymbolTag.Deprecated:return me.SymbolTag.Deprecated;default:return}}function ot(S){if(S==null)return;let B=[];for(let ne of S){let we=ze(ne);we!==void 0&&B.push(we)}return B.length===0?void 0:B}function Xe(S){let B=S.data,ne=S.location,we=ne.range===void 0||B!==void 0?new Sde.default(S.name,he(S.kind),S.containerName??"",ne.range===void 0?i(ne.uri):new me.Location(i(S.location.uri),h(ne.range)),B):new me.SymbolInformation(S.name,he(S.kind),S.containerName??"",new me.Location(i(S.location.uri),h(ne.range)));return Fr(we,S),we}async function tr(S,B){if(S!=null)return yt.map(S,an,B)}function an(S){let B=new me.DocumentSymbol(S.name,S.detail||"",he(S.kind),h(S.range),h(S.selectionRange));if(Fr(B,S),S.children!==void 0&&S.children.length>0){let ne=[];for(let we of S.children)ne.push(an(we));B.children=ne}return B}function Fr(S,B){S.tags=ot(B.tags),B.deprecated&&(S.tags?S.tags.includes(me.SymbolTag.Deprecated)||(S.tags=S.tags.concat(me.SymbolTag.Deprecated)):S.tags=[me.SymbolTag.Deprecated])}function Et(S){let B={title:S.title,command:S.command};return S.arguments&&(B.arguments=S.arguments),B}async function Jt(S,B){if(S)return yt.map(S,Et,B)}let bn=new Map;bn.set(Oe.CodeActionKind.Empty,me.CodeActionKind.Empty),bn.set(Oe.CodeActionKind.QuickFix,me.CodeActionKind.QuickFix),bn.set(Oe.CodeActionKind.Refactor,me.CodeActionKind.Refactor),bn.set(Oe.CodeActionKind.RefactorExtract,me.CodeActionKind.RefactorExtract),bn.set(Oe.CodeActionKind.RefactorInline,me.CodeActionKind.RefactorInline),bn.set(Oe.CodeActionKind.RefactorRewrite,me.CodeActionKind.RefactorRewrite),bn.set(Oe.CodeActionKind.Source,me.CodeActionKind.Source),bn.set(Oe.CodeActionKind.SourceOrganizeImports,me.CodeActionKind.SourceOrganizeImports);function Gn(S){if(S==null)return;let B=bn.get(S);if(B)return B;let ne=S.split(".");B=me.CodeActionKind.Empty;for(let we of ne)B=B.append(we);return B}function mn(S){if(S!=null)return S.map(B=>Gn(B))}async function yr(S,B){if(S==null)return;let ne=new mde.default(S.title,S.data);return S.kind!==void 0&&(ne.kind=Gn(S.kind)),S.diagnostics!==void 0&&(ne.diagnostics=c(S.diagnostics)),S.edit!==void 0&&(ne.edit=await Xt(S.edit,B)),S.command!==void 0&&(ne.command=Et(S.command)),S.isPreferred!==void 0&&(ne.isPreferred=S.isPreferred),S.disabled!==void 0&&(ne.disabled={reason:S.disabled.reason}),ne}function Ar(S,B){return yt.mapAsync(S,async ne=>Oe.Command.is(ne)?Et(ne):yr(ne,B),B)}function Vn(S){if(!S)return;let B=new hde.default(h(S.range));return S.command&&(B.command=Et(S.command)),S.data!==void 0&&S.data!==null&&(B.data=S.data),B}async function Pr(S,B){if(S)return yt.map(S,Vn,B)}async function Xt(S,B){if(!S)return;let ne=new Map;if(S.changeAnnotations!==void 0){let Jn=S.changeAnnotations;await yt.forEach(Object.keys(Jn),_t=>{let Ss=b(Jn[_t]);ne.set(_t,Ss)},B)}let we=Jn=>{if(Jn!==void 0)return ne.get(Jn)},Un=new me.WorkspaceEdit;if(S.documentChanges){let Jn=S.documentChanges;await yt.forEach(Jn,_t=>{if(Oe.CreateFile.is(_t))Un.createFile(i(_t.uri),_t.options,we(_t.annotationId));else if(Oe.RenameFile.is(_t))Un.renameFile(i(_t.oldUri),i(_t.newUri),_t.options,we(_t.annotationId));else if(Oe.DeleteFile.is(_t))Un.deleteFile(i(_t.uri),_t.options,we(_t.annotationId));else if(Oe.TextDocumentEdit.is(_t)){let Ss=i(_t.textDocument.uri);for(let Lt of _t.edits)Oe.AnnotatedTextEdit.is(Lt)?Un.replace(Ss,h(Lt.range),Lt.newText,we(Lt.annotationId)):Un.replace(Ss,h(Lt.range),Lt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(_t,void 0,4)}`)},B)}else if(S.changes){let Jn=S.changes;await yt.forEach(Object.keys(Jn),_t=>{Un.set(i(_t),W(Jn[_t]))},B)}return Un}function b(S){if(S!==void 0)return{label:S.label,needsConfirmation:!!S.needsConfirmation,description:S.description}}function O(S){let B=h(S.range),ne=S.target?s(S.target):void 0,we=new gde.default(B,ne);return S.tooltip!==void 0&&(we.tooltip=S.tooltip),S.data!==void 0&&S.data!==null&&(we.data=S.data),we}async function G(S,B){if(S)return yt.map(S,O,B)}function Y(S){return new me.Color(S.red,S.green,S.blue,S.alpha)}function De(S){return new me.ColorInformation(h(S.range),Y(S.color))}async function ve(S,B){if(S)return yt.map(S,De,B)}function Pe(S){let B=new me.ColorPresentation(S.label);return B.additionalTextEdits=W(S.additionalTextEdits),S.textEdit&&(B.textEdit=_(S.textEdit)),B}async function _e(S,B){if(S)return yt.map(S,Pe,B)}function ge(S){if(S)switch(S){case Oe.FoldingRangeKind.Comment:return me.FoldingRangeKind.Comment;case Oe.FoldingRangeKind.Imports:return me.FoldingRangeKind.Imports;case Oe.FoldingRangeKind.Region:return me.FoldingRangeKind.Region}}function Ee(S){return new me.FoldingRange(S.startLine,S.endLine,ge(S.kind))}async function ye(S,B){if(S)return yt.map(S,Ee,B)}function $(S){return new me.SelectionRange(h(S.range),S.parent?$(S.parent):void 0)}async function z(S,B){return Array.isArray(S)?yt.map(S,$,B):[]}function ee(S){return Oe.InlineValueText.is(S)?new me.InlineValueText(h(S.range),S.text):Oe.InlineValueVariableLookup.is(S)?new me.InlineValueVariableLookup(h(S.range),S.variableName,S.caseSensitiveLookup):new me.InlineValueEvaluatableExpression(h(S.range),S.expression)}async function Ie(S,B){return Array.isArray(S)?yt.map(S,ee,B):[]}async function yn(S,B){let ne=typeof S.label=="string"?S.label:await yt.map(S.label,w,B),we=new xde.default(d(S.position),ne);return S.kind!==void 0&&(we.kind=S.kind),S.textEdits!==void 0&&(we.textEdits=await I(S.textEdits,B)),S.tooltip!==void 0&&(we.tooltip=X(S.tooltip)),S.paddingLeft!==void 0&&(we.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(we.paddingRight=S.paddingRight),S.data!==void 0&&(we.data=S.data),we}function w(S){let B=new me.InlayHintLabelPart(S.value);return S.location!==void 0&&(B.location=Ue(S.location)),S.tooltip!==void 0&&(B.tooltip=X(S.tooltip)),S.command!==void 0&&(B.command=Et(S.command)),B}function X(S){return typeof S=="string"?S:x(S)}async function xe(S,B){if(Array.isArray(S))return yt.mapAsync(S,yn,B)}function Ct(S){if(S===null)return;let B=new yde.default(he(S.kind),S.name,S.detail||"",s(S.uri),h(S.range),h(S.selectionRange),S.data);return S.tags!==void 0&&(B.tags=ot(S.tags)),B}async function K(S,B){if(S!==null)return yt.map(S,Ct,B)}async function D(S,B){return new me.CallHierarchyIncomingCall(Ct(S.from),await g(S.fromRanges,B))}async function U(S,B){if(S!==null)return yt.mapAsync(S,D,B)}async function q(S,B){return new me.CallHierarchyOutgoingCall(Ct(S.to),await g(S.fromRanges,B))}async function R(S,B){if(S!==null)return yt.mapAsync(S,q,B)}async function v(S,B){if(S!=null)return new me.SemanticTokens(new Uint32Array(S.data),S.resultId)}function V(S){return new me.SemanticTokensEdit(S.start,S.deleteCount,S.data!==void 0?new Uint32Array(S.data):void 0)}async function te(S,B){if(S!=null)return new me.SemanticTokensEdits(S.edits.map(V),S.resultId)}function We(S){return S}async function Yt(S,B){if(S!=null)return new me.LinkedEditingRanges(await g(S.ranges,B),It(S.wordPattern))}function It(S){if(S!=null)return new RegExp(S)}function _r(S){if(S===null)return;let B=new Cde.default(he(S.kind),S.name,S.detail||"",s(S.uri),h(S.range),h(S.selectionRange),S.data);return S.tags!==void 0&&(B.tags=ot(S.tags)),B}async function Yr(S,B){if(S!==null)return yt.map(S,_r,B)}function Vi(S){if(Fi.string(S))return S;if(Oe.RelativePattern.is(S)){if(Oe.URI.is(S.baseUri))return new me.RelativePattern(s(S.baseUri),S.pattern);if(Oe.WorkspaceFolder.is(S.baseUri)){let B=me.workspace.getWorkspaceFolder(s(S.baseUri.uri));return B!==void 0?new me.RelativePattern(B,S.pattern):void 0}}}async function it(S,B){if(!S)return;if(Array.isArray(S))return yt.map(S,Un=>Cs(Un),B);let ne=S,we=await yt.map(ne.items,Un=>Cs(Un),B);return new me.InlineCompletionList(we)}function Cs(S){let B;typeof S.insertText=="string"?B=S.insertText:B=new me.SnippetString(S.insertText.value);let ne;S.command&&(ne=Et(S.command));let we=new me.InlineCompletionItem(B,h(S.range),ne);return S.filterText&&(we.filterText=S.filterText),we}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:h,asRanges:g,asPosition:d,asDiagnosticSeverity:m,asDiagnosticTag:f,asHover:T,asCompletionResult:E,asCompletionItem:H,asTextEdit:_,asTextEdits:I,asSignatureHelp:ue,asSignatureInformations:ce,asSignatureInformation:ae,asParameterInformations:fe,asParameterInformation:be,asDeclarationResult:st,asDefinitionResult:ut,asLocation:Ue,asReferences:qe,asDocumentHighlights:Ke,asDocumentHighlight:re,asDocumentHighlightKind:pe,asSymbolKind:he,asSymbolTag:ze,asSymbolTags:ot,asSymbolInformations:se,asSymbolInformation:Xe,asDocumentSymbols:tr,asDocumentSymbol:an,asCommand:Et,asCommands:Jt,asCodeAction:yr,asCodeActionKind:Gn,asCodeActionKinds:mn,asCodeActionResult:Ar,asCodeLens:Vn,asCodeLenses:Pr,asWorkspaceEdit:Xt,asDocumentLink:O,asDocumentLinks:G,asFoldingRangeKind:ge,asFoldingRange:Ee,asFoldingRanges:ye,asColor:Y,asColorInformation:De,asColorInformations:ve,asColorPresentation:Pe,asColorPresentations:_e,asSelectionRange:$,asSelectionRanges:z,asInlineValue:ee,asInlineValues:Ie,asInlayHint:yn,asInlayHints:xe,asSemanticTokensLegend:We,asSemanticTokens:v,asSemanticTokensEdit:V,asSemanticTokensEdits:te,asCallHierarchyItem:Ct,asCallHierarchyItems:K,asCallHierarchyIncomingCall:D,asCallHierarchyIncomingCalls:U,asCallHierarchyOutgoingCall:q,asCallHierarchyOutgoingCalls:R,asLinkedEditingRanges:Yt,asTypeHierarchyItem:_r,asTypeHierarchyItems:Yr,asGlobPattern:Vi,asInlineCompletionResult:it,asInlineCompletionItem:Cs}}zC.createConverter=bde});var Zt=P(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.generateUuid=Ai.parse=Ai.isUUID=Ai.v4=Ai.empty=void 0;var Cp=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Sp=class t extends Cp{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Sp._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Sp._timeHighBits=["8","9","a","b"];Ai.empty=new Cp("00000000-0000-0000-0000-000000000000");function hz(){return new Sp}Ai.v4=hz;var vde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function gz(t){return vde.test(t)}Ai.isUUID=gz;function wde(t){if(!gz(t))throw new Error("invalid uuid");return new Cp(t)}Ai.parse=wde;function Dde(){return hz().asHex()}Ai.generateUuid=Dde});var ER=P(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});HC.ProgressPart=void 0;var mz=require("vscode"),yz=Be(),Cz=Ei(),TR=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(yz.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&mz.window.withProgress({location:mz.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(yz.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})})}report(e){if(this._infinite&&Cz.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(Cz.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};HC.ProgressPart=TR});var mt=P(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.WorkspaceFeature=Bn.TextDocumentLanguageFeature=Bn.TextDocumentEventFeature=Bn.DynamicDocumentFeature=Bn.DynamicFeature=Bn.StaticFeature=Bn.ensure=Bn.LSPCancellationError=void 0;var Ac=require("vscode"),kR=Be(),Sr=Ei(),Sz=Zt(),RR=class extends Ac.CancellationError{constructor(e){super(),this.data=e}};Bn.LSPCancellationError=RR;function Tde(t,e){return t[e]===void 0&&(t[e]={}),t[e]}Bn.ensure=Tde;var xz;(function(t){function e(n){let r=n;return r!=null&&Sr.func(r.fillClientCapabilities)&&Sr.func(r.initialize)&&Sr.func(r.getState)&&Sr.func(r.clear)&&(r.fillInitializeParams===void 0||Sr.func(r.fillInitializeParams))}t.is=e})(xz||(Bn.StaticFeature=xz={}));var bz;(function(t){function e(n){let r=n;return r!=null&&Sr.func(r.fillClientCapabilities)&&Sr.func(r.initialize)&&Sr.func(r.getState)&&Sr.func(r.clear)&&(r.fillInitializeParams===void 0||Sr.func(r.fillInitializeParams))&&Sr.func(r.register)&&Sr.func(r.unregister)&&r.registrationType!==void 0}t.is=e})(bz||(Bn.DynamicFeature=bz={}));var xp=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let i of e){n++;for(let s of Ac.workspace.textDocuments)if(Ac.languages.match(i,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=n>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};Bn.DynamicDocumentFeature=xp;var FR=class extends xp{static textDocumentFilter(e,n){for(let r of e)if(Ac.languages.match(r,n)>0)return!0;return!1}constructor(e,n,r,i,s,o,a){super(e),this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Ac.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(r),this._type,i)};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>n(i)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(Ac.languages.match(n,e)>0)return{send:r=>this.callback(r)}}};Bn.TextDocumentEventFeature=FR;var AR=class extends xp{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(kR.TextDocumentRegistrationOptions.is(n)){let r=kR.StaticRegistrationOptions.hasId(n)?n.id:Sz.generateUuid(),i=n.documentSelector??e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(Sr.boolean(n)&&n===!0||kR.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=Sr.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[Sz.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return Sr.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&Ac.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Bn.TextDocumentLanguageFeature=AR;var PR=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};Bn.WorkspaceFeature=PR});var wz=P((QMe,vz)=>{var Ede=typeof process=="object"&&process&&process.platform==="win32";vz.exports=Ede?{sep:"\\"}:{sep:"/"}});var Rz=P((ZMe,kz)=>{"use strict";kz.exports=Tz;function Tz(t,e,n){t instanceof RegExp&&(t=Dz(t,n)),e instanceof RegExp&&(e=Dz(e,n));var r=Ez(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function Dz(t,e){var n=e.match(t);return n?n[0]:null}Tz.range=Ez;function Ez(t,e,n){var r,i,s,o,a,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){if(t===e)return[c,u];for(r=[],s=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(t,l+1)):r.length==1?a=[r.pop(),u]:(i=r.pop(),i<s&&(s=i,o=u),u=n.indexOf(e,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[s,o])}return a}});var Oz=P((eUe,Lz)=>{var Fz=Rz();Lz.exports=Fde;var Az="\0SLASH"+Math.random()+"\0",Pz="\0OPEN"+Math.random()+"\0",IR="\0CLOSE"+Math.random()+"\0",_z="\0COMMA"+Math.random()+"\0",Iz="\0PERIOD"+Math.random()+"\0";function _R(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function kde(t){return t.split("\\\\").join(Az).split("\\{").join(Pz).split("\\}").join(IR).split("\\,").join(_z).split("\\.").join(Iz)}function Rde(t){return t.split(Az).join("\\").split(Pz).join("{").split(IR).join("}").split(_z).join(",").split(Iz).join(".")}function Nz(t){if(!t)return[""];var e=[],n=Fz("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=Nz(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Fde(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),bp(kde(t),!0).map(Rde)):[]}function Ade(t){return"{"+t+"}"}function Pde(t){return/^-?0\d/.test(t)}function _de(t,e){return t<=e}function Ide(t,e){return t>=e}function bp(t,e){var n=[],r=Fz("{","}",t);if(!r)return[t];var i=r.pre,s=r.post.length?bp(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),l=c||u,p=r.body.indexOf(",")>=0;if(!l&&!p)return r.post.match(/,.*\}/)?(t=r.pre+"{"+r.body+IR+r.post,bp(t)):[t];var f;if(l)f=r.body.split(/\.\./);else if(f=Nz(r.body),f.length===1&&(f=bp(f[0],!1).map(Ade),f.length===1))return s.map(function(H){return r.pre+f[0]+H});var d;if(l){var h=_R(f[0]),g=_R(f[1]),m=Math.max(f[0].length,f[1].length),y=f.length==3?Math.abs(_R(f[2])):1,C=_de,x=g<h;x&&(y*=-1,C=Ide);var T=f.some(Pde);d=[];for(var E=h;C(E,g);E+=y){var k;if(u)k=String.fromCharCode(E),k==="\\"&&(k="");else if(k=String(E),T){var L=m-k.length;if(L>0){var A=new Array(L+1).join("0");E<0?k="-"+A+k.slice(1):k=A+k}}d.push(k)}}else{d=[];for(var j=0;j<f.length;j++)d.push.apply(d,bp(f[j],!1))}for(var j=0;j<d.length;j++)for(var o=0;o<s.length;o++){var a=i+d[j]+s[o];(!e||l||a)&&n.push(a)}}return n}});var VC=P((nUe,UR)=>{var ii=UR.exports=(t,e,n={})=>(GC(e),!n.nocomment&&e.charAt(0)==="#"?!1:new xl(e,n).match(t));UR.exports=ii;var OR=wz();ii.sep=OR.sep;var Zi=Symbol("globstar **");ii.GLOBSTAR=Zi;var Nde=Oz(),Mz={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},MR="[^/]",NR=MR+"*?",Lde="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ode="(?:(?!(?:\\/|^)\\.).)*?",Wz=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),Uz=Wz("().*{}+?[]^$\\!"),Mde=Wz("[.("),qz=/\/+/;ii.filter=(t,e={})=>(n,r,i)=>ii(n,t,e);var oa=(t,e={})=>{let n={};return Object.keys(t).forEach(r=>n[r]=t[r]),Object.keys(e).forEach(r=>n[r]=e[r]),n};ii.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return ii;let e=ii,n=(r,i,s)=>e(r,i,oa(t,s));return n.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,oa(t,s))}},n.Minimatch.defaults=r=>e.defaults(oa(t,r)).Minimatch,n.filter=(r,i)=>e.filter(r,oa(t,i)),n.defaults=r=>e.defaults(oa(t,r)),n.makeRe=(r,i)=>e.makeRe(r,oa(t,i)),n.braceExpand=(r,i)=>e.braceExpand(r,oa(t,i)),n.match=(r,i,s)=>e.match(r,i,oa(t,s)),n};ii.braceExpand=(t,e)=>jz(t,e);var jz=(t,e={})=>(GC(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Nde(t)),Ude=1024*64,GC=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>Ude)throw new TypeError("pattern is too long")},LR=Symbol("subparse");ii.makeRe=(t,e)=>new xl(t,e||{}).makeRe();ii.match=(t,e,n={})=>{let r=new xl(e,n);return t=t.filter(i=>r.match(i)),r.options.nonull&&!t.length&&t.push(e),t};var qde=t=>t.replace(/\\(.)/g,"$1"),Wde=t=>t.replace(/\\([^-\]])/g,"$1"),jde=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Bde=t=>t.replace(/[[\]\\]/g,"\\$&"),xl=class{constructor(e,n){GC(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();n.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,r),r=this.globParts=r.map(i=>i.split(qz)),this.debug(this.pattern,r),r=r.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=n[o],l=e[s];if(this.debug(n,u,l),u===!1)return!1;if(u===Zi){this.debug("GLOBSTAR",[n,u,l]);var p=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;p<a;){var d=e[p];if(this.debug(`
globstar while`,e,p,n,f,d),this.matchOne(e.slice(p),n.slice(f),r))return this.debug("globstar found match!",p,a,d),!0;if(d==="."||d===".."||!i.dot&&d.charAt(0)==="."){this.debug("dot detected!",e,p,n,f);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,p,n,f),p===a))}var h;if(typeof u=="string"?(h=l===u,this.debug("string match",u,l,h)):(h=l.match(u),this.debug("pattern match",u,l,h)),!h)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return jz(this.pattern,this.options)}parse(e,n){GC(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Zi;if(e==="")return"";let i="",s=!1,o=!1,a=[],c=[],u,l=!1,p=-1,f=-1,d,h,g,m=e.charAt(0)===".",y=r.dot||m,C=()=>m?"":y?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",x=L=>L.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",T=()=>{if(u){switch(u){case"*":i+=NR,s=!0;break;case"?":i+=MR,s=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1}};for(let L=0,A;L<e.length&&(A=e.charAt(L));L++){if(this.debug("%s	%s %s %j",e,L,i,A),o){if(A==="/")return!1;Uz[A]&&(i+="\\"),i+=A,o=!1;continue}switch(A){case"/":return!1;case"\\":if(l&&e.charAt(L+1)==="-"){i+=A;continue}T(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,L,i,A),l){this.debug("  in class"),A==="!"&&L===f+1&&(A="^"),i+=A;continue}this.debug("call clearStateChar %j",u),T(),u=A,r.noext&&T();continue;case"(":{if(l){i+="(";continue}if(!u){i+="\\(";continue}let j={type:u,start:L-1,reStart:i.length,open:Mz[u].open,close:Mz[u].close};this.debug(this.pattern,"	",j),a.push(j),i+=j.open,j.start===0&&j.type!=="!"&&(m=!0,i+=x(e.slice(L+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let j=a[a.length-1];if(l||!j){i+="\\)";continue}a.pop(),T(),s=!0,h=j,i+=h.close,h.type==="!"&&c.push(Object.assign(h,{reEnd:i.length}));continue}case"|":{let j=a[a.length-1];if(l||!j){i+="\\|";continue}T(),i+="|",j.start===0&&j.type!=="!"&&(m=!0,i+=x(e.slice(L+1)));continue}case"[":if(T(),l){i+="\\"+A;continue}l=!0,f=L,p=i.length,i+=A;continue;case"]":if(L===f+1||!l){i+="\\"+A;continue}d=e.substring(f+1,L);try{RegExp("["+Bde(Wde(d))+"]"),i+=A}catch{i=i.substring(0,p)+"(?:$.)"}s=!0,l=!1;continue;default:T(),Uz[A]&&!(A==="^"&&l)&&(i+="\\"),i+=A;break}}for(l&&(d=e.slice(f+1),g=this.parse(d,LR),i=i.substring(0,p)+"\\["+g[0],s=s||g[1]),h=a.pop();h;h=a.pop()){let L;L=i.slice(h.reStart+h.open.length),this.debug("setting tail",i,h),L=L.replace(/((?:\\{2}){0,64})(\\?)\|/g,(j,H,F)=>(F||(F="\\"),H+H+F+"|")),this.debug(`tail=%j
   %s`,L,L,h,i);let A=h.type==="*"?NR:h.type==="?"?MR:"\\"+h.type;s=!0,i=i.slice(0,h.reStart)+A+"\\("+L}T(),o&&(i+="\\\\");let E=Mde[i.charAt(0)];for(let L=c.length-1;L>-1;L--){let A=c[L],j=i.slice(0,A.reStart),H=i.slice(A.reStart,A.reEnd-8),F=i.slice(A.reEnd),M=i.slice(A.reEnd-8,A.reEnd)+F,J=j.split(")").length,_=j.split("(").length-J,I=F;for(let ue=0;ue<_;ue++)I=I.replace(/\)[+*?]?/,"");F=I;let W=F===""&&n!==LR?"(?:$|\\/)":"";i=j+H+F+W+M}if(i!==""&&s&&(i="(?=.)"+i),E&&(i=C()+i),n===LR)return[i,s];if(r.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return qde(e);let k=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",k),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,r=n.noglobstar?NR:n.dot?Lde:Ode,i=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?jde(a):a===Zi?Zi:a._src).reduce((a,c)=>(a[a.length-1]===Zi&&c===Zi||a.push(c),a),[]),o.forEach((a,c)=>{a!==Zi||o[c-1]===Zi||(c===0?o.length>1?o[c+1]="(?:\\/|"+r+"\\/)?"+o[c+1]:o[c]=r:c===o.length-1?o[c-1]+="(?:\\/|"+r+")?":(o[c-1]+="(?:\\/|\\/"+r+"\\/)"+o[c+1],o[c+1]=Zi))}),o.filter(a=>a!==Zi).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let r=this.options;OR.sep!=="/"&&(e=e.split(OR.sep).join("/")),e=e.split(qz),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],c=e;if(r.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return ii.defaults(e).Minimatch}};ii.Minimatch=xl});var HR=P(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.DiagnosticFeature=aa.DiagnosticPullMode=aa.vsdiag=void 0;var $de=VC(),at=require("vscode"),xn=Be(),Kde=Zt(),qR=mt();function JC(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Pi;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(Pi||(aa.vsdiag=Pi={}));var XC;(function(t){t.onType="onType",t.onSave="onSave"})(XC||(aa.DiagnosticPullMode=XC={}));var cr;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(cr||(cr={}));var WR=class t{constructor(){this.open=new Set,this._onOpen=new at.EventEmitter,this._onClose=new at.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let r=this.open,i=new Set;t.fillTabResources(i);let s=new Set,o=new Set(i);for(let a of r.values())i.has(a)?o.delete(a):s.add(a);if(this.open=i,s.size>0){let a=new Set;for(let c of s)a.add(at.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(at.Uri.parse(c));this._onOpen.fire(a)}};at.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=at.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof at.Uri?at.window.activeTextEditor?.document.uri===e:at.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof at.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let r=e??new Set;for(let i of at.window.tabGroups.all)for(let s of i.tabs){let o=s.input,a;o instanceof at.TabInputText?a=o.uri:o instanceof at.TabInputTextDiff?a=o.modified:o instanceof at.TabInputCustom&&(a=o.uri),a!==void 0&&!r.has(a.toString())&&(r.add(a.toString()),n!==void 0&&n.add(a))}}},In;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(In||(In={}));var no;(function(t){function e(n){return n instanceof at.Uri?n.toString():n.uri.toString()}t.asKey=e})(no||(no={}));var jR=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,r){let i=e===In.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof at.Uri?[n.toString(),n,r]:[n.uri.toString(),n.uri,n.version],c=i.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},i.set(s,c)),c}update(e,n,r,i){let s=e===In.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=n instanceof at.Uri?[n.toString(),n,r,i]:[n.uri.toString(),n.uri,n.version,r],l=s.get(o);l===void 0?(l={document:a,pulledVersion:c,resultId:u},s.set(o,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,n){let r=no.asKey(n);(e===In.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,n){let r=no.asKey(n);return(e===In.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,n){let r=no.asKey(n);return(e===In.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[n,r]of this.workspacePullStates)this.documentPullStates.has(n)&&(r=this.documentPullStates.get(n)),r.resultId!==void 0&&e.push({uri:n,value:r.resultId});return e}},BR=class{constructor(e,n,r){this.client=e,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new at.EventEmitter,this.provider=this.createProvider(),this.diagnostics=at.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new jR,this.workspaceErrorCounter=0}knows(e,n){let r=n instanceof at.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(r.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let r=e instanceof at.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let r=e instanceof at.Uri,i=r?e:e.uri,s=i.toString();n=r?n:e.version;let o=this.openRequests.get(s),a=r?this.documentStates.track(In.document,e,n):this.documentStates.track(In.document,e);if(o===void 0){let c=new at.CancellationTokenSource;this.openRequests.set(s,{state:cr.active,document:e,version:n,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Pi.DocumentDiagnosticReportKind.full,items:[]}}catch(p){if(p instanceof qR.LSPCancellationError&&xn.DiagnosticServerCancellationData.is(p.data)&&p.data.retriggerRequest===!1&&(l={state:cr.outDated,document:e}),l===void 0&&p instanceof at.CancellationError)l={state:cr.reschedule,document:e};else throw p}if(l=l??this.openRequests.get(s),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(In.document,e);return}if(l.state===cr.outDated)return;u!==void 0&&(u.kind===Pi.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=n,a.resultId=u.resultId),l.state===cr.reschedule&&this.pull(e)}else o.state===cr.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:cr.reschedule,document:o.document})):o.state===cr.outDated&&this.openRequests.set(s,{state:cr.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof at.Uri?e:e.uri,r=n.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(r,{state:cr.reschedule,document:e}):this.pull(e,()=>{this.forget(In.document,e)}):(i!==void 0&&(i.state===cr.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:cr.outDated,document:e})),this.diagnostics.delete(n),this.forget(In.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,xn.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof qR.LSPCancellationError)&&!xn.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,xn.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new at.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let r of n.items)r.kind===Pi.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(In.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(In.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,r,i)=>{let s=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof at.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Pi.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(xn.DocumentDiagnosticRequest.type,l,u).then(async p=>p==null||this.isDisposed||u.isCancellationRequested?{kind:Pi.DocumentDiagnosticReportKind.full,items:[]}:p.kind===xn.DocumentDiagnosticReportKind.Full?{kind:Pi.DocumentDiagnosticReportKind.full,resultId:p.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(p.items,u)}:{kind:Pi.DocumentDiagnosticReportKind.unChanged,resultId:p.resultId},p=>this.client.handleFailedRequest(xn.DocumentDiagnosticRequest.type,u,p,{kind:Pi.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,r,i,s):s(n,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,r,i)=>{let s=async u=>u.kind===xn.DocumentDiagnosticReportKind.Full?{kind:Pi.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,r)}:{kind:Pi.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let l=[];for(let p of u)l.push({uri:this.client.code2ProtocolConverter.asUri(p.uri),value:p.value});return l},a=(u,l)=>{let p=(0,Kde.generateUuid)(),f=this.client.onProgress(xn.WorkspaceDiagnosticRequest.partialResult,p,async h=>{if(h==null){i(null);return}let g={items:[]};for(let m of h.items)try{g.items.push(await s(m))}catch(y){this.client.error("Converting workspace diagnostics failed.",y)}i(g)}),d={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:p};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(xn.WorkspaceDiagnosticRequest.type,d,l).then(async h=>{if(l.isCancellationRequested)return{items:[]};let g={items:[]};for(let m of h.items)g.items.push(await s(m));return f.dispose(),i(g),{items:[]}},h=>(f.dispose(),this.client.handleFailedRequest(xn.DocumentDiagnosticRequest.type,l,h,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,r,i,a):a(n,r,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===cr.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:cr.outDated,document:n.document});this.diagnostics.dispose()}},$R=class{constructor(e){this.diagnosticRequestor=e,this.documents=new xn.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=no.asKey(e);this.documents.has(n)||(this.documents.set(n,e,xn.Touch.Last),this.trigger())}remove(e){let n=no.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,xn.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=no.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,xn.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?no.asKey(this.endDocument):void 0}},KR=class{constructor(e,n,r){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),o=[],a=h=>{let g=r.documentSelector;if(i.match!==void 0)return i.match(g,h);for(let m of g)if(xn.TextDocumentFilter.is(m)){if(typeof m=="string"||m.language!==void 0&&m.language!=="*"||m.scheme!==void 0&&m.scheme!=="*"&&m.scheme!==h.scheme)return!1;if(m.pattern!==void 0){let y=new $de.Minimatch(m.pattern,{noext:!0});if(!y.makeRe()||!y.match(h.fsPath))return!1}}return!0},c=h=>h instanceof at.Uri?a(h):at.languages.match(s,h)>0&&n.isVisible(h),u=h=>h instanceof at.Uri?this.activeTextDocument?.uri.toString()===h.toString():this.activeTextDocument===h;this.diagnosticRequestor=new BR(e,n,r),this.backgroundScheduler=new $R(this.diagnosticRequestor);let l=h=>{!c(h)||!r.interFileDependencies||u(h)||this.backgroundScheduler.add(h)};this.activeTextDocument=at.window.activeTextEditor?.document,at.window.onDidChangeActiveTextEditor(h=>{let g=this.activeTextDocument;this.activeTextDocument=h?.document,g!==void 0&&l(g),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let p=e.getFeature(xn.DidOpenTextDocumentNotification.method);o.push(p.onNotificationSent(h=>{let g=h.textDocument;this.diagnosticRequestor.knows(In.document,g)||c(g)&&this.diagnosticRequestor.pull(g,()=>{l(g)})})),o.push(n.onOpen(h=>{for(let g of h){if(this.diagnosticRequestor.knows(In.document,g))continue;let m=g.toString(),y;for(let C of at.workspace.textDocuments)if(m===C.uri.toString()){y=C;break}y!==void 0&&c(y)&&this.diagnosticRequestor.pull(y,()=>{l(y)})}}));let f=new Set;for(let h of at.workspace.textDocuments)c(h)&&(this.diagnosticRequestor.pull(h,()=>{l(h)}),f.add(h.uri.toString()));if(i.onTabs===!0)for(let h of n.getTabResources())!f.has(h.toString())&&c(h)&&this.diagnosticRequestor.pull(h,()=>{l(h)});if(i.onChange===!0){let h=e.getFeature(xn.DidChangeTextDocumentNotification.method);o.push(h.onNotificationSent(async g=>{let m=g.textDocument;(i.filter===void 0||!i.filter(m,XC.onType))&&this.diagnosticRequestor.knows(In.document,m)&&this.diagnosticRequestor.pull(m,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let h=e.getFeature(xn.DidSaveTextDocumentNotification.method);o.push(h.onNotificationSent(g=>{let m=g.textDocument;(i.filter===void 0||!i.filter(m,XC.onSave))&&this.diagnosticRequestor.knows(In.document,m)&&this.diagnosticRequestor.pull(g.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let d=e.getFeature(xn.DidCloseTextDocumentNotification.method);o.push(d.onNotificationSent(h=>{this.cleanUpDocument(h.textDocument)})),n.onClose(h=>{for(let g of h)this.cleanUpDocument(g)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let h of at.workspace.textDocuments)c(h)&&this.diagnosticRequestor.pull(h)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=at.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(In.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},zR=class extends qR.TextDocumentLanguageFeature{constructor(e){super(e,xn.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=JC(JC(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,JC(JC(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest(xn.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[i,s]=this.getRegistration(n,e.diagnosticProvider);!i||!s||this.register({id:i,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new WR);let n=new KR(this._client,this.tabs,e);return[n.disposable,n]}};aa.DiagnosticFeature=zR});var Kz=P(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.NotebookDocumentSyncFeature=void 0;var ur=require("vscode"),zde=VC(),ro=Be(),Hde=Zt(),Bz=Ei();function $z(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var bl;(function(t){let e;(function(n){function r(f,d){return{version:f.version,uri:d.asUri(f.uri)}}n.asVersionedNotebookDocumentIdentifier=r;function i(f,d,h){let g=ro.NotebookDocument.create(h.asUri(f.uri),f.notebookType,f.version,s(d,h));return Object.keys(f.metadata).length>0&&(g.metadata=o(f.metadata)),g}n.asNotebookDocument=i;function s(f,d){return f.map(h=>a(h,d))}n.asNotebookCells=s;function o(f){return u(new Set,f)}n.asMetadata=o;function a(f,d){let h=ro.NotebookCell.create(c(f.kind),d.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(h.metadata=o(f.metadata)),f.executionSummary!==void 0&&Bz.number(f.executionSummary.executionOrder)&&Bz.boolean(f.executionSummary.success)&&(h.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),h}n.asNotebookCell=a;function c(f){switch(f){case ur.NotebookCellKind.Markup:return ro.NotebookCellKind.Markup;case ur.NotebookCellKind.Code:return ro.NotebookCellKind.Code}}function u(f,d){if(f.has(d))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(d)){let h=[];for(let g of d)if(g!==null&&typeof g=="object"||Array.isArray(g))h.push(u(f,g));else{if(g instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h.push(g)}return h}else{let h=Object.keys(d),g=Object.create(null);for(let m of h){let y=d[m];if(y!==null&&typeof y=="object"||Array.isArray(y))g[m]=u(f,y);else{if(y instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");g[m]=y}}return g}}function l(f,d){let h=d.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:h.textDocument,changes:h.contentChanges}}n.asTextContentChange=l;function p(f,d){let h=Object.create(null);if(f.metadata&&(h.metadata=t.c2p.asMetadata(f.metadata)),f.cells!==void 0){let g=Object.create(null),m=f.cells;m.structure&&(g.structure={array:{start:m.structure.array.start,deleteCount:m.structure.array.deleteCount,cells:m.structure.array.cells!==void 0?m.structure.array.cells.map(y=>t.c2p.asNotebookCell(y,d)):void 0},didOpen:m.structure.didOpen!==void 0?m.structure.didOpen.map(y=>d.asOpenTextDocumentParams(y.document).textDocument):void 0,didClose:m.structure.didClose!==void 0?m.structure.didClose.map(y=>d.asCloseTextDocumentParams(y.document).textDocument):void 0}),m.data!==void 0&&(g.data=m.data.map(y=>t.c2p.asNotebookCell(y,d))),m.textContent!==void 0&&(g.textContent=m.textContent.map(y=>t.c2p.asTextContentChange(y,d))),Object.keys(g).length>0&&(h.cells=g)}return h}n.asNotebookDocumentChangeEvent=p})(e=t.c2p||(t.c2p={}))})(bl||(bl={}));var GR;(function(t){function e(a,c,u){let l=a.length,p=c.length,f=0;for(;f<p&&f<l&&n(a[f],c[f],u);)f++;if(f<p&&f<l){let d=l-1,h=p-1;for(;d>=0&&h>=0&&n(a[d],c[h],u);)d--,h--;let g=d+1-f,m=f===h+1?void 0:c.slice(f,h+1);return m!==void 0?{start:f,deleteCount:g,cells:m}:{start:f,deleteCount:g}}else return f<p?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}t.computeDiff=e;function n(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!r(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let p=0;p<a.length;p++)if(!s(a[p],c[p]))return!1}if(o(a)&&o(c)){let p=Object.keys(a),f=Object.keys(c);if(p.length!==f.length||(p.sort(),f.sort(),!s(p,f)))return!1;for(let d=0;d<p.length;d++){let h=p[d];if(!s(a[h],c[h]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(GR||(GR={}));var VR;(function(t){function e(n,r){if(typeof n=="string")return n==="*"||r.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&r.notebookType!==n.notebookType)return!1;let i=r.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&i.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new zde.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(VR||(VR={}));var YC;(function(t){function e(r){let i=r.notebookSelector,s=[];for(let o of i){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let l of o.cells)s.push(n(a,c,u,l.language));else s.push(n(a,c,u,void 0))}return s}t.asDocumentSelector=e;function n(r,i,s,o){return i===void 0&&s===void 0?{notebook:r,language:o}:{notebook:{notebookType:r,scheme:i,pattern:s},language:o}}})(YC||(YC={}));var QC;(function(t){function e(n){return{cells:n,uris:new Set(n.map(r=>r.document.uri.toString()))}}t.create=e})(QC||(QC={}));var vl=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(YC.asDocumentSelector(n)),ur.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of ur.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);ur.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&ur.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),ur.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of ur.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return ur.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(ur.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,n);if(r!==void 0){let s=r.uris.has(n.document.uri.toString());if(i&&s||!i&&!s)return;if(i){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,r,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else i&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){ur.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=n.document.uri,s=r.cells.findIndex(o=>o.document.uri.toString()===i.toString());if(s!==-1)if(s===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let o=r.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(n!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,n);i!==void 0&&this.doSendChange(i,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,r=this.notebookSyncInfo.get(n.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(n);if(i===void 0)return;this.didOpen(n,i,r)}else{let i=this.getMatchingCells(n);if(i===void 0){this.didClose(n,r);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);s!==void 0&&this.doSendChange(s,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let r=e.getCells().filter(i=>n.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let r=async(s,o)=>{let a=bl.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(ro.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),QC.create(n)),i?.didOpen!==void 0?i.didOpen(e,n,r):r(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let r=async s=>{try{await this.client.sendNotification(ro.DidChangeNotebookDocumentNotification.type,{notebookDocument:bl.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:bl.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),QC.create(n??[])),i?.didChange!==void 0?i?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async i=>{try{await this.client.sendNotification(ro.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let r=async(s,o)=>{try{await this.client.sendNotification(ro.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,n,r):r(e,n)}asNotebookDocumentChangeEvent(e,n,r,i){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=bl.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(i.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&r!==void 0&&i!==void 0){let a=r.cells,c=i,u=GR.computeDiff(a,c,!1),l,p;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(h=>[h.document.uri.toString(),h])),p=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(h=>[h.document.uri.toString(),h]));for(let h of Array.from(p.keys()))l.has(h)&&(p.delete(h),l.delete(h));s.cells=s.cells??{};let f=[],d=[];if(l.size>0||p.size>0){for(let h of l.values())f.push(h);for(let h of p.values())d.push(h)}s.cells.structure={array:u,didOpen:f,didClose:d}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||VR.matchNotebook(r.notebook,e)){let i=this.filterCells(e,n,r.cells);return i.length===0?void 0:i}}}cellMatches(e,n){let r=this.getMatchingCells(e,[n]);return r!==void 0&&r[0]===n}filterCells(e,n,r){let i=r!==void 0?n.filter(s=>{let o=s.document.languageId;return r.some(a=>a.language==="*"||o===a.language)}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},ZC=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=ro.NotebookDocumentSyncRegistrationType.type,ur.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof vl&&s.didOpenNotebookCellTextDocument(r,i)}),ur.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let r=n.document;if(r.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let s of this.registrations.values())s instanceof vl&&s.didChangeNotebookCellTextDocument(i,n)}),ur.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof vl&&s.didCloseNotebookCellTextDocument(r,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=$z($z(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(YC.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let r=n.id??Hde.generateUuid();this.register({id:r,registerOptions:n})}register(e){let n=new vl(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&ur.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let r of ur.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===n)return[r,i];return[void 0,void 0]}};eS.NotebookDocumentSyncFeature=ZC;ZC.CellScheme="vscode-notebook-cell"});var Hz=P(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.SyncConfigurationFeature=ca.toJSONObject=ca.ConfigurationFeature=void 0;var wl=require("vscode"),vp=Be(),Gde=Ei(),Vde=Zt(),zz=mt(),JR=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(vp.ConfigurationRequest.type,(n,r)=>{let i=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=Pc(wl.workspace.getConfiguration(void 0,e).get(n));else{let s=wl.workspace.getConfiguration(n.substr(0,i),e);s&&(r=Pc(s.get(n.substr(i+1))))}}else{let i=wl.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=Pc(i.get(s)))}return r===void 0&&(r=null),r}clear(){}};ca.ConfigurationFeature=JR;function Pc(t){if(t){if(Array.isArray(t))return t.map(Pc);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Pc(t[n]));return e}}return t}ca.toJSONObject=Pc;var XR=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return vp.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,zz.ensure)((0,zz.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:Vde.generateUuid(),registerOptions:{section:e}})}register(e){let n=wl.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let r;if(Gde.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(a=>n.affectsConfiguration(a)))return;let i=async o=>o===void 0?this._client.sendNotification(vp.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(vp.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(r,i):i(r)).catch(o=>{this._client.error(`Sending notification ${vp.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=wl.workspace.getConfiguration(o.substr(0,a),r).get(o.substr(a+1)):c=wl.workspace.getConfiguration(void 0,r).get(o),c){let u=e[s].split(".");n(i,u)[u[u.length-1]]=Pc(c)}}return i}};ca.SyncConfigurationFeature=XR});var Gz=P(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.DidSaveTextDocumentFeature=qr.WillSaveWaitUntilFeature=qr.WillSaveFeature=qr.DidChangeTextDocumentFeature=qr.DidCloseTextDocumentFeature=qr.DidOpenTextDocumentFeature=void 0;var si=require("vscode"),Mt=Be(),un=mt(),Dl=Zt(),YR=class extends un.TextDocumentEventFeature{constructor(e,n){super(e,si.workspace.onDidOpenTextDocument,Mt.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,un.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:Dl.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return Mt.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);si.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&si.languages.match(n,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,r)}})}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,r)}};qr.DidOpenTextDocumentFeature=YR;var QR=class extends un.TextDocumentEventFeature{constructor(e,n,r){super(e,si.workspace.onDidCloseTextDocument,Mt.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,un.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=r}get registrationType(){return Mt.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:Dl.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,r)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(si.languages.match(n,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(s.didClose?s.didClose(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};qr.DidCloseTextDocumentFeature=QR;var ZR=class extends un.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new si.EventEmitter,this._onPendingChangeAdded=new si.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=Mt.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Mt.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==Mt.TextDocumentSyncKind.None&&this.register({id:Dl.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=si.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,r=e.document.version,i=[];for(let s of this._changeData.values())if(si.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===Mt.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,r);await this._client.sendNotification(Mt.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Mt.DidChangeTextDocumentNotification.type,u)};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===Mt.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,s=>{throw this._client.error(`Sending document notification ${Mt.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Mt.TextDocumentSyncKind.None;else{this._syncKind=Mt.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===Mt.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Mt.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(n.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(si.languages.match(n.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==Mt.TextDocumentSyncKind.Full)switch(e){case Mt.TextDocumentSyncKind.Full:this._syncKind=e;break;case Mt.TextDocumentSyncKind.Incremental:this._syncKind===Mt.TextDocumentSyncKind.None&&(this._syncKind=Mt.TextDocumentSyncKind.Incremental);break}}};qr.DidChangeTextDocumentFeature=ZR;var eF=class extends un.TextDocumentEventFeature{constructor(e){super(e,si.workspace.onWillSaveTextDocument,Mt.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,r)=>un.TextDocumentEventFeature.textDocumentFilter(n,r.document))}get registrationType(){return Mt.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:Dl.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};qr.WillSaveFeature=eF;var tF=class extends un.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Mt.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:Dl.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=si.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(un.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,r=i=>this._client.sendRequest(Mt.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};qr.WillSaveWaitUntilFeature=tF;var nF=class extends un.TextDocumentEventFeature{constructor(e){super(e,si.workspace.onDidSaveTextDocument,Mt.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,un.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Mt.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,un.ensure)((0,un.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:Dl.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};qr.DidSaveTextDocumentFeature=nF});var Vz=P(tS=>{"use strict";Object.defineProperty(tS,"__esModule",{value:!0});tS.CompletionItemFeature=void 0;var Jde=require("vscode"),ct=Be(),rF=mt(),Xde=Zt(),Yde=[ct.CompletionItemKind.Text,ct.CompletionItemKind.Method,ct.CompletionItemKind.Function,ct.CompletionItemKind.Constructor,ct.CompletionItemKind.Field,ct.CompletionItemKind.Variable,ct.CompletionItemKind.Class,ct.CompletionItemKind.Interface,ct.CompletionItemKind.Module,ct.CompletionItemKind.Property,ct.CompletionItemKind.Unit,ct.CompletionItemKind.Value,ct.CompletionItemKind.Enum,ct.CompletionItemKind.Keyword,ct.CompletionItemKind.Snippet,ct.CompletionItemKind.Color,ct.CompletionItemKind.File,ct.CompletionItemKind.Reference,ct.CompletionItemKind.Folder,ct.CompletionItemKind.EnumMember,ct.CompletionItemKind.Constant,ct.CompletionItemKind.Struct,ct.CompletionItemKind.Event,ct.CompletionItemKind.Operator,ct.CompletionItemKind.TypeParameter],iF=class extends rF.TextDocumentLanguageFeature{constructor(e){super(e,ct.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,rF.ensure)((0,rF.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[ct.MarkupKind.Markdown,ct.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[ct.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[ct.InsertTextMode.asIs,ct.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=ct.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:Yde},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:Xde.generateUuid(),registerOptions:r})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,l)=>{let p=this._client,f=this._client.middleware,d=(h,g,m,y)=>p.sendRequest(ct.CompletionRequest.type,p.code2ProtocolConverter.asCompletionParams(h,g,m),y).then(C=>y.isCancellationRequested?null:p.protocol2CodeConverter.asCompletionResult(C,i,y),C=>p.handleFailedRequest(ct.CompletionRequest.type,y,C,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,d):d(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,p=(f,d)=>u.sendRequest(ct.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(n)),d).then(h=>d.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(h),h=>u.handleFailedRequest(ct.CompletionResolveRequest.type,d,h,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,p):p(a,c)}:void 0};return[Jde.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...r),o]}};tS.CompletionItemFeature=iF});var Jz=P(nS=>{"use strict";Object.defineProperty(nS,"__esModule",{value:!0});nS.HoverFeature=void 0;var Qde=require("vscode"),wp=Be(),sF=mt(),Zde=Zt(),oF=class extends sF.TextDocumentLanguageFeature{constructor(e){super(e,wp.HoverRequest.type)}fillClientCapabilities(e){let n=(0,sF.ensure)((0,sF.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[wp.MarkupKind.Markdown,wp.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:Zde.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideHover:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(wp.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(d),d=>a.handleFailedRequest(wp.HoverRequest.type,f,d,null)),u=a.middleware;return u.provideHover?u.provideHover(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return Qde.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};nS.HoverFeature=oF});var Xz=P(rS=>{"use strict";Object.defineProperty(rS,"__esModule",{value:!0});rS.DefinitionFeature=void 0;var efe=require("vscode"),aF=Be(),cF=mt(),tfe=Zt(),uF=class extends cF.TextDocumentLanguageFeature{constructor(e){super(e,aF.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,cF.ensure)((0,cF.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:tfe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDefinition:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(aF.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(d,f),d=>a.handleFailedRequest(aF.DefinitionRequest.type,f,d,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return efe.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};rS.DefinitionFeature=uF});var Qz=P(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0});iS.SignatureHelpFeature=void 0;var Yz=require("vscode"),Dp=Be(),lF=mt(),nfe=Zt(),dF=class extends lF.TextDocumentLanguageFeature{constructor(e){super(e,Dp.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,lF.ensure)((0,lF.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[Dp.MarkupKind.Markdown,Dp.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:nfe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(r,i,s,o)=>{let a=this._client,c=(l,p,f,d)=>a.sendRequest(Dp.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,p,f),d).then(h=>d.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(h,d),h=>a.handleFailedRequest(Dp.SignatureHelpRequest.type,d,h,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(r,i,o,s,c):c(r,i,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return Yz.languages.registerSignatureHelpProvider(r,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return Yz.languages.registerSignatureHelpProvider(r,n,i)}}};iS.SignatureHelpFeature=dF});var Zz=P(sS=>{"use strict";Object.defineProperty(sS,"__esModule",{value:!0});sS.DocumentHighlightFeature=void 0;var rfe=require("vscode"),fF=Be(),pF=mt(),ife=Zt(),hF=class extends pF.TextDocumentLanguageFeature{constructor(e){super(e,fF.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,pF.ensure)((0,pF.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:ife.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentHighlights:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(fF.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(d,f),d=>a.handleFailedRequest(fF.DocumentHighlightRequest.type,f,d,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,s,o,c):c(i,s,o)}};return[rfe.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};sS.DocumentHighlightFeature=hF});var yF=P(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DocumentSymbolFeature=Ns.SupportedSymbolTags=Ns.SupportedSymbolKinds=void 0;var sfe=require("vscode"),wt=Be(),gF=mt(),ofe=Zt();Ns.SupportedSymbolKinds=[wt.SymbolKind.File,wt.SymbolKind.Module,wt.SymbolKind.Namespace,wt.SymbolKind.Package,wt.SymbolKind.Class,wt.SymbolKind.Method,wt.SymbolKind.Property,wt.SymbolKind.Field,wt.SymbolKind.Constructor,wt.SymbolKind.Enum,wt.SymbolKind.Interface,wt.SymbolKind.Function,wt.SymbolKind.Variable,wt.SymbolKind.Constant,wt.SymbolKind.String,wt.SymbolKind.Number,wt.SymbolKind.Boolean,wt.SymbolKind.Array,wt.SymbolKind.Object,wt.SymbolKind.Key,wt.SymbolKind.Null,wt.SymbolKind.EnumMember,wt.SymbolKind.Struct,wt.SymbolKind.Event,wt.SymbolKind.Operator,wt.SymbolKind.TypeParameter];Ns.SupportedSymbolTags=[wt.SymbolTag.Deprecated];var mF=class extends gF.TextDocumentLanguageFeature{constructor(e){super(e,wt.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,gF.ensure)((0,gF.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Ns.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Ns.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:ofe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(l,p)=>{try{let f=await a.sendRequest(wt.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),p);if(p.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let d=f[0];return wt.DocumentSymbol.is(d)?await a.protocol2CodeConverter.asDocumentSymbols(f,p):await a.protocol2CodeConverter.asSymbolInformations(f,p)}}catch(f){return a.handleFailedRequest(wt.DocumentSymbolRequest.type,p,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},i=e.label!==void 0?{label:e.label}:void 0;return[sfe.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,i),r]}};Ns.DocumentSymbolFeature=mF});var tH=P(oS=>{"use strict";Object.defineProperty(oS,"__esModule",{value:!0});oS.WorkspaceSymbolFeature=void 0;var afe=require("vscode"),Tp=Be(),CF=mt(),eH=yF(),cfe=Zt(),SF=class extends CF.WorkspaceFeature{constructor(e){super(e,Tp.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,CF.ensure)((0,CF.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:eH.SupportedSymbolKinds},n.tagSupport={valueSet:eH.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:cfe.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(Tp.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(l,u),l=>s.handleFailedRequest(Tp.WorkspaceSymbolRequest.type,u,l,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,o):o(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(Tp.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(l),l=>s.handleFailedRequest(Tp.WorkspaceSymbolResolveRequest.type,u,l,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(r,i,o):o(r,i)}:void 0};return[afe.languages.registerWorkspaceSymbolProvider(n),n]}};oS.WorkspaceSymbolFeature=SF});var nH=P(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0});aS.ReferencesFeature=void 0;var ufe=require("vscode"),xF=Be(),bF=mt(),lfe=Zt(),vF=class extends bF.TextDocumentLanguageFeature{constructor(e){super(e,xF.ReferencesRequest.type)}fillClientCapabilities(e){(0,bF.ensure)((0,bF.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:lfe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideReferences:(i,s,o,a)=>{let c=this._client,u=(p,f,d,h)=>c.sendRequest(xF.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(p,f,d),h).then(g=>h.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(g,h),g=>c.handleFailedRequest(xF.ReferencesRequest.type,h,g,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,s,o,a,u):u(i,s,o,a)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return ufe.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};aS.ReferencesFeature=vF});var rH=P(cS=>{"use strict";Object.defineProperty(cS,"__esModule",{value:!0});cS.CodeActionFeature=void 0;var dfe=require("vscode"),oi=Be(),ffe=Zt(),wF=mt(),DF=class extends wF.TextDocumentLanguageFeature{constructor(e){super(e,oi.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,wF.ensure)((0,wF.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[oi.CodeActionKind.Empty,oi.CodeActionKind.QuickFix,oi.CodeActionKind.Refactor,oi.CodeActionKind.RefactorExtract,oi.CodeActionKind.RefactorInline,oi.CodeActionKind.RefactorRewrite,oi.CodeActionKind.Source,oi.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:ffe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideCodeActions:(i,s,o,a)=>{let c=this._client,u=async(p,f,d,h)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(d)};return c.sendRequest(oi.CodeActionRequest.type,g,h).then(m=>h.isCancellationRequested||m===null||m===void 0?null:c.protocol2CodeConverter.asCodeActionResult(m,h),m=>c.handleFailedRequest(oi.CodeActionRequest.type,h,m,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,s,o,a,u):u(i,s,o,a)},resolveCodeAction:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.middleware,c=async(u,l)=>o.sendRequest(oi.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),l).then(p=>l.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(p,l),p=>o.handleFailedRequest(oi.CodeActionResolveRequest.type,l,p,u));return a.resolveCodeAction?a.resolveCodeAction(i,s,c):c(i,s)}:void 0};return[dfe.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};cS.CodeActionFeature=DF});var sH=P(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.CodeLensFeature=void 0;var iH=require("vscode"),Tl=Be(),pfe=Zt(),Ep=mt(),TF=class extends Ep.TextDocumentLanguageFeature{constructor(e){super(e,Tl.CodeLensRequest.type)}fillClientCapabilities(e){(0,Ep.ensure)((0,Ep.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Ep.ensure)((0,Ep.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Tl.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);i&&this.register({id:pfe.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new iH.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(l,p)=>a.sendRequest(Tl.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),p).then(f=>p.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,p),f=>a.handleFailedRequest(Tl.CodeLensRequest.type,p,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(l,p)=>a.sendRequest(Tl.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),p).then(f=>p.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(Tl.CodeLensResolveRequest.type,p,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[iH.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};uS.CodeLensFeature=TF});var oH=P(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.DocumentOnTypeFormattingFeature=ua.DocumentRangeFormattingFeature=ua.DocumentFormattingFeature=void 0;var lS=require("vscode"),es=Be(),FF=Zt(),io=mt(),El;(function(t){function e(n){let r=lS.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(El||(El={}));var EF=class extends io.TextDocumentLanguageFeature{constructor(e){super(e,es.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,io.ensure)((0,io.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:FF.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentFormattingEdits:(i,s,o)=>{let a=this._client,c=(l,p,f)=>{let d={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(p,El.fromConfiguration(l))};return a.sendRequest(es.DocumentFormattingRequest.type,d,f).then(h=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(h,f),h=>a.handleFailedRequest(es.DocumentFormattingRequest.type,f,h,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,s,o,c):c(i,s,o)}};return[lS.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};ua.DocumentFormattingFeature=EF;var kF=class extends io.TextDocumentLanguageFeature{constructor(e){super(e,es.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,io.ensure)((0,io.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:FF.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,s,o,a)=>{let c=this._client,u=(p,f,d,h)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(d,El.fromConfiguration(p))};return c.sendRequest(es.DocumentRangeFormattingRequest.type,g,h).then(m=>h.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,h),m=>c.handleFailedRequest(es.DocumentRangeFormattingRequest.type,h,m,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,s,o,a,u):u(i,s,o,a)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(i,s,o,a)=>{let c=this._client,u=(p,f,d,h)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(d,El.fromConfiguration(p))};return c.sendRequest(es.DocumentRangesFormattingRequest.type,g,h).then(m=>h.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,h),m=>c.handleFailedRequest(es.DocumentRangesFormattingRequest.type,h,m,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,s,o,a,u):u(i,s,o,a)}),[lS.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};ua.DocumentRangeFormattingFeature=kF;var RF=class extends io.TextDocumentLanguageFeature{constructor(e){super(e,es.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,io.ensure)((0,io.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:FF.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let l=this._client,p=(d,h,g,m,y)=>{let C={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(d),position:l.code2ProtocolConverter.asPosition(h),ch:g,options:l.code2ProtocolConverter.asFormattingOptions(m,El.fromConfiguration(d))};return l.sendRequest(es.DocumentOnTypeFormattingRequest.type,C,y).then(x=>y.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(x,y),x=>l.handleFailedRequest(es.DocumentOnTypeFormattingRequest.type,y,x,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(s,o,a,c,u,p):p(s,o,a,c,u)}},i=e.moreTriggerCharacter||[];return[lS.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.firstTriggerCharacter,...i),r]}};ua.DocumentOnTypeFormattingFeature=RF});var cH=P(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.RenameFeature=void 0;var hfe=require("vscode"),_c=Be(),gfe=Zt(),aH=Ei(),AF=mt(),PF=class extends AF.TextDocumentLanguageFeature{constructor(e){super(e,_c.RenameRequest.type)}fillClientCapabilities(e){let n=(0,AF.ensure)((0,AF.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=_c.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(aH.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:gfe.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n=e.documentSelector,r={provideRenameEdits:(i,s,o,a)=>{let c=this._client,u=(p,f,d,h)=>{let g={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),position:c.code2ProtocolConverter.asPosition(f),newName:d};return c.sendRequest(_c.RenameRequest.type,g,h).then(m=>h.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(m,h),m=>c.handleFailedRequest(_c.RenameRequest.type,h,m,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,s,o,a,u):u(i,s,o,a)},prepareRename:e.prepareProvider?(i,s,o)=>{let a=this._client,c=(l,p,f)=>{let d={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(p)};return a.sendRequest(_c.PrepareRenameRequest.type,d,f).then(h=>f.isCancellationRequested?null:_c.Range.is(h)?a.protocol2CodeConverter.asRange(h):this.isDefaultBehavior(h)?h.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):h&&_c.Range.is(h.range)?{range:a.protocol2CodeConverter.asRange(h.range),placeholder:h.placeholder}:Promise.reject(new Error("The element can't be renamed.")),h=>{throw typeof h.message=="string"?new Error(h.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,s,o,c):c(i,s,o)}:void 0};return[this.registerProvider(n,r),r]}registerProvider(e,n){return hfe.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&aH.boolean(n.defaultBehavior)}};dS.RenameFeature=PF});var uH=P(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.DocumentLinkFeature=void 0;var mfe=require("vscode"),kp=Be(),_F=mt(),yfe=Zt(),IF=class extends _F.TextDocumentLanguageFeature{constructor(e){super(e,kp.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,_F.ensure)((0,_F.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:yfe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentLinks:(i,s)=>{let o=this._client,a=(u,l)=>o.sendRequest(kp.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),l).then(p=>l.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(p,l),p=>o.handleFailedRequest(kp.DocumentLinkRequest.type,l,p,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,s,a):a(i,s)},resolveDocumentLink:e.resolveProvider?(i,s)=>{let o=this._client,a=(u,l)=>o.sendRequest(kp.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),l).then(p=>l.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(p),p=>o.handleFailedRequest(kp.DocumentLinkResolveRequest.type,l,p,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,s,a):a(i,s)}:void 0};return[mfe.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};fS.DocumentLinkFeature=IF});var dH=P(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.ExecuteCommandFeature=void 0;var Cfe=require("vscode"),NF=Be(),Sfe=Zt(),lH=mt(),LF=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return NF.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,lH.ensure)((0,lH.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Sfe.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.middleware,i=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(NF.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(NF.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(Cfe.commands.registerCommand(o,(...a)=>r.executeCommand?r.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};pS.ExecuteCommandFeature=LF});var fH=P(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.FileSystemWatcherFeature=void 0;var xfe=require("vscode"),Ic=Be(),hS=mt(),OF=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Ic.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,hS.ensure)((0,hS.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,hS.ensure)((0,hS.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let s=!0,o=!0,a=!0;r.kind!==void 0&&r.kind!==null&&(s=(r.kind&Ic.WatchKind.Create)!==0,o=(r.kind&Ic.WatchKind.Change)!==0,a=(r.kind&Ic.WatchKind.Delete)!==0);let c=xfe.workspace.createFileSystemWatcher(i,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ic.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ic.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Ic.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};gS.FileSystemWatcherFeature=OF});var pH=P(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.ColorProviderFeature=void 0;var bfe=require("vscode"),Rp=Be(),MF=mt(),UF=class extends MF.TextDocumentLanguageFeature{constructor(e){super(e,Rp.DocumentColorRequest.type)}fillClientCapabilities(e){(0,MF.ensure)((0,MF.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideColorPresentations:(i,s,o)=>{let a=this._client,c=(l,p,f)=>{let d={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(p.document),range:a.code2ProtocolConverter.asRange(p.range)};return a.sendRequest(Rp.ColorPresentationRequest.type,d,f).then(h=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(h,f),h=>a.handleFailedRequest(Rp.ColorPresentationRequest.type,f,h,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,s,o,c):c(i,s,o)},provideDocumentColors:(i,s)=>{let o=this._client,a=(u,l)=>{let p={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(Rp.DocumentColorRequest.type,p,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>o.handleFailedRequest(Rp.DocumentColorRequest.type,l,f,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,s,a):a(i,s)}};return[bfe.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};mS.ColorProviderFeature=UF});var hH=P(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.ImplementationFeature=void 0;var vfe=require("vscode"),qF=Be(),WF=mt(),jF=class extends WF.TextDocumentLanguageFeature{constructor(e){super(e,qF.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,WF.ensure)((0,WF.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideImplementation:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(qF.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(d,f),d=>a.handleFailedRequest(qF.ImplementationRequest.type,f,d,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return vfe.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};yS.ImplementationFeature=jF});var gH=P(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.TypeDefinitionFeature=void 0;var wfe=require("vscode"),BF=Be(),Fp=mt(),$F=class extends Fp.TextDocumentLanguageFeature{constructor(e){super(e,BF.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,Fp.ensure)((0,Fp.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,Fp.ensure)((0,Fp.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideTypeDefinition:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(BF.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(d,f),d=>a.handleFailedRequest(BF.TypeDefinitionRequest.type,f,d,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return wfe.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};CS.TypeDefinitionFeature=$F});var mH=P(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.WorkspaceFoldersFeature=kl.arrayDiff=void 0;var Dfe=Zt(),SS=require("vscode"),Ap=Be();function KF(t,e){if(t!=null)return t[e]}function zF(t,e){return t.filter(n=>e.indexOf(n)<0)}kl.arrayDiff=zF;var HF=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Ap.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=SS.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Ap.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=SS.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let r=KF(KF(KF(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=Dfe.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let r=zF(this._initialFolders,e),i=zF(e,this._initialFolders);(i.length>0||r.length>0)&&(n=this.doSendEvent(i,r))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(r=>{this._client.error(`Sending notification ${Ap.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};return this._client.sendNotification(Ap.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=SS.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=r.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${Ap.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(n,i),this.sendInitialEvent(SS.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};kl.WorkspaceFoldersFeature=HF});var CH=P(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.FoldingRangeFeature=void 0;var yH=require("vscode"),Nc=Be(),Pp=mt(),GF=class extends Pp.TextDocumentLanguageFeature{constructor(e){super(e,Nc.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,Pp.ensure)((0,Pp.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[Nc.FoldingRangeKind.Comment,Nc.FoldingRangeKind.Imports,Nc.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,Pp.ensure)((0,Pp.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(Nc.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new yH.EventEmitter,i={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(p,f,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p)};return c.sendRequest(Nc.FoldingRangeRequest.type,h,d).then(g=>d.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(g,d),g=>c.handleFailedRequest(Nc.FoldingRangeRequest.type,d,g,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return[yH.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeFoldingRange:r}]}};xS.FoldingRangeFeature=GF});var SH=P(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.DeclarationFeature=void 0;var Tfe=require("vscode"),VF=Be(),JF=mt(),XF=class extends JF.TextDocumentLanguageFeature{constructor(e){super(e,VF.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,JF.ensure)((0,JF.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDeclaration:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(VF.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(d,f),d=>a.handleFailedRequest(VF.DeclarationRequest.type,f,d,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return Tfe.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};bS.DeclarationFeature=XF});var xH=P(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.SelectionRangeFeature=void 0;var Efe=require("vscode"),YF=Be(),QF=mt(),ZF=class extends QF.TextDocumentLanguageFeature{constructor(e){super(e,YF.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,QF.ensure)((0,QF.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideSelectionRanges:(i,s,o)=>{let a=this._client,c=async(l,p,f)=>{let d={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(p,f)};return a.sendRequest(YF.SelectionRangeRequest.type,d,f).then(h=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(h,f),h=>a.handleFailedRequest(YF.SelectionRangeRequest.type,f,h,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return Efe.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};vS.SelectionRangeFeature=ZF});var vH=P(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.ProgressFeature=void 0;var bH=Be(),kfe=ER();function Rfe(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var eA=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:bH.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){Rfe(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new kfe.ProgressPart(this._client,i.token,n))};e.onRequest(bH.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};wS.ProgressFeature=eA});var wH=P(DS=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.CallHierarchyFeature=void 0;var Ffe=require("vscode"),Lc=Be(),tA=mt(),nA=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Lc.CallHierarchyPrepareRequest.type,l,u).then(p=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(p,u),p=>i.handleFailedRequest(Lc.CallHierarchyPrepareRequest.type,u,p,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,o):o(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Lc.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>r.handleFailedRequest(Lc.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(Lc.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>r.handleFailedRequest(Lc.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},rA=class extends tA.TextDocumentLanguageFeature{constructor(e){super(e,Lc.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,r=(0,tA.ensure)((0,tA.ensure)(n,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new nA(n);return[Ffe.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};DS.CallHierarchyFeature=rA});var DH=P(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.SemanticTokensFeature=void 0;var TS=require("vscode"),Ge=Be(),_p=mt(),Afe=Ei(),iA=class extends _p.TextDocumentLanguageFeature{constructor(e){super(e,Ge.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,_p.ensure)((0,_p.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Ge.SemanticTokenTypes.namespace,Ge.SemanticTokenTypes.type,Ge.SemanticTokenTypes.class,Ge.SemanticTokenTypes.enum,Ge.SemanticTokenTypes.interface,Ge.SemanticTokenTypes.struct,Ge.SemanticTokenTypes.typeParameter,Ge.SemanticTokenTypes.parameter,Ge.SemanticTokenTypes.variable,Ge.SemanticTokenTypes.property,Ge.SemanticTokenTypes.enumMember,Ge.SemanticTokenTypes.event,Ge.SemanticTokenTypes.function,Ge.SemanticTokenTypes.method,Ge.SemanticTokenTypes.macro,Ge.SemanticTokenTypes.keyword,Ge.SemanticTokenTypes.modifier,Ge.SemanticTokenTypes.comment,Ge.SemanticTokenTypes.string,Ge.SemanticTokenTypes.number,Ge.SemanticTokenTypes.regexp,Ge.SemanticTokenTypes.operator,Ge.SemanticTokenTypes.decorator],n.tokenModifiers=[Ge.SemanticTokenModifiers.declaration,Ge.SemanticTokenModifiers.definition,Ge.SemanticTokenModifiers.readonly,Ge.SemanticTokenModifiers.static,Ge.SemanticTokenModifiers.deprecated,Ge.SemanticTokenModifiers.abstract,Ge.SemanticTokenModifiers.async,Ge.SemanticTokenModifiers.modification,Ge.SemanticTokenModifiers.documentation,Ge.SemanticTokenModifiers.defaultLibrary],n.formats=[Ge.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,_p.ensure)((0,_p.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ge.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=Afe.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new TS.EventEmitter,o=r?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(d,h)=>{let g=this._client,m=g.middleware,y=(C,x)=>{let T={textDocument:g.code2ProtocolConverter.asTextDocumentIdentifier(C)};return g.sendRequest(Ge.SemanticTokensRequest.type,T,x).then(E=>x.isCancellationRequested?null:g.protocol2CodeConverter.asSemanticTokens(E,x),E=>g.handleFailedRequest(Ge.SemanticTokensRequest.type,x,E,null))};return m.provideDocumentSemanticTokens?m.provideDocumentSemanticTokens(d,h,y):y(d,h)},provideDocumentSemanticTokensEdits:i?(d,h,g)=>{let m=this._client,y=m.middleware,C=(x,T,E)=>{let k={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(x),previousResultId:T};return m.sendRequest(Ge.SemanticTokensDeltaRequest.type,k,E).then(async L=>E.isCancellationRequested?null:Ge.SemanticTokens.is(L)?await m.protocol2CodeConverter.asSemanticTokens(L,E):await m.protocol2CodeConverter.asSemanticTokensEdits(L,E),L=>m.handleFailedRequest(Ge.SemanticTokensDeltaRequest.type,E,L,null))};return y.provideDocumentSemanticTokensEdits?y.provideDocumentSemanticTokensEdits(d,h,g,C):C(d,h,g)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(d,h,g)=>{let m=this._client,y=m.middleware,C=(x,T,E)=>{let k={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(x),range:m.code2ProtocolConverter.asRange(T)};return m.sendRequest(Ge.SemanticTokensRangeRequest.type,k,E).then(L=>E.isCancellationRequested?null:m.protocol2CodeConverter.asSemanticTokens(L,E),L=>m.handleFailedRequest(Ge.SemanticTokensRangeRequest.type,E,L,null))};return y.provideDocumentRangeSemanticTokens?y.provideDocumentRangeSemanticTokens(d,h,g,C):C(d,h,g)}}:void 0,u=[],l=this._client,p=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&u.push(TS.languages.registerDocumentSemanticTokensProvider(f,o,p)),c!==void 0&&u.push(TS.languages.registerDocumentRangeSemanticTokensProvider(f,c,p)),[new TS.Disposable(()=>u.forEach(d=>d.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};ES.SemanticTokensFeature=iA});var kH=P(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.WillDeleteFilesFeature=Wr.WillRenameFilesFeature=Wr.WillCreateFilesFeature=Wr.DidDeleteFilesFeature=Wr.DidRenameFilesFeature=Wr.DidCreateFilesFeature=void 0;var _i=require("vscode"),Pfe=VC(),so=Be(),_fe=Zt();function TH(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function Ife(t,e){return t[e]}function EH(t,e,n){t[e]=n}var Ip=class t{constructor(e,n,r,i,s){this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=TH(TH(e,"workspace"),"fileOperations");EH(n,"dynamicRegistration",!0),EH(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,r=n!==void 0?Ife(n,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:_fe.generateUuid(),registerOptions:{filters:r.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new Pfe.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(o);if(l===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(l===_i.FileType.File&&u.kind===so.FileOperationPatternKind.file||l===_i.FileType.Directory&&u.kind===so.FileOperationPatternKind.folder)return!0}else if(u.kind===so.FileOperationPatternKind.folder&&await t.getFileType(o)===_i.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((s,o)=>r[o]);return{...e,files:i}}static async getFileType(e){try{return(await _i.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},kS=class extends Ip{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._notificationType=r,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(n,r)}}},RS=class extends kS{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let r=await Ip.getFileType(e);return r&&this._fsPathFileTypes.set(n,r),r}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},sA=class extends kS{constructor(e){super(e,_i.workspace.onDidCreateFiles,so.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,n):n(e)}};Wr.DidCreateFilesFeature=sA;var oA=class extends RS{constructor(e){super(e,_i.workspace.onDidRenameFiles,so.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=_i.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,n):n(e)}};Wr.DidRenameFilesFeature=oA;var aA=class extends RS{constructor(e){super(e,_i.workspace.onDidDeleteFiles,so.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=_i.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,n):n(e)}};Wr.DidDeleteFilesFeature=aA;var Np=class extends Ip{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._requestType=r,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},cA=class extends Np{constructor(e){super(e,_i.workspace.onWillCreateFiles,so.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,n):n(e)}};Wr.WillCreateFilesFeature=cA;var uA=class extends Np{constructor(e){super(e,_i.workspace.onWillRenameFiles,so.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,n):n(e)}};Wr.WillRenameFilesFeature=uA;var lA=class extends Np{constructor(e){super(e,_i.workspace.onWillDeleteFiles,so.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,n):n(e)}};Wr.WillDeleteFilesFeature=lA});var RH=P(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0});FS.LinkedEditingFeature=void 0;var Nfe=require("vscode"),dA=Be(),fA=mt(),pA=class extends fA.TextDocumentLanguageFeature{constructor(e){super(e,dA.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,fA.ensure)((0,fA.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideLinkedEditingRanges:(i,s,o)=>{let a=this._client,c=(l,p,f)=>a.sendRequest(dA.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,p),f).then(d=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(d,f),d=>a.handleFailedRequest(dA.LinkedEditingRangeRequest.type,f,d,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return Nfe.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};FS.LinkedEditingFeature=pA});var FH=P(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.TypeHierarchyFeature=void 0;var Lfe=require("vscode"),Oc=Be(),hA=mt(),gA=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Oc.TypeHierarchyPrepareRequest.type,l,u).then(p=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(p,u),p=>i.handleFailedRequest(Oc.TypeHierarchyPrepareRequest.type,u,p,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,r,o):o(e,n,r)}provideTypeHierarchySupertypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Oc.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Oc.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Oc.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Oc.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},mA=class extends hA.TextDocumentLanguageFeature{constructor(e){super(e,Oc.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,hA.ensure)((0,hA.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new gA(n);return[Lfe.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};AS.TypeHierarchyFeature=mA});var PH=P(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0});_S.InlineValueFeature=void 0;var AH=require("vscode"),PS=Be(),Lp=mt(),yA=class extends Lp.TextDocumentLanguageFeature{constructor(e){super(e,PS.InlineValueRequest.type)}fillClientCapabilities(e){(0,Lp.ensure)((0,Lp.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,Lp.ensure)((0,Lp.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(PS.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[r,i]=this.getRegistration(n,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new AH.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,l=(f,d,h,g)=>{let m={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(d),context:u.code2ProtocolConverter.asInlineValueContext(h)};return u.sendRequest(PS.InlineValueRequest.type,m,g).then(y=>g.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(y,g),y=>u.handleFailedRequest(PS.InlineValueRequest.type,g,y,null))},p=u.middleware;return p.provideInlineValues?p.provideInlineValues(s,o,a,c,l):l(s,o,a,c)}};return[this.registerProvider(n,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,n){return AH.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};_S.InlineValueFeature=yA});var IH=P(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.InlayHintsFeature=void 0;var _H=require("vscode"),Rl=Be(),Op=mt(),CA=class extends Op.TextDocumentLanguageFeature{constructor(e){super(e,Rl.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,Op.ensure)((0,Op.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,Op.ensure)((0,Op.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest(Rl.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[r,i]=this.getRegistration(n,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new _H.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(p,f,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(p),range:c.code2ProtocolConverter.asRange(f)};try{let g=await c.sendRequest(Rl.InlayHintRequest.type,h,d);return d.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(g,d)}catch(g){return c.handleFailedRequest(Rl.InlayHintRequest.type,d,g,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(s,o,a,u):u(s,o,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(l,p)=>{try{let f=await a.sendRequest(Rl.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),p);if(p.isCancellationRequested)return null;let d=a.protocol2CodeConverter.asInlayHint(f,p);return p.isCancellationRequested?null:d}catch(f){return a.handleFailedRequest(Rl.InlayHintResolveRequest.type,p,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,n){return _H.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};IS.InlayHintsFeature=CA});var NH=P(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.InlineCompletionItemFeature=void 0;var Ofe=require("vscode"),SA=Be(),xA=mt(),Mfe=Zt(),bA=class extends xA.TextDocumentLanguageFeature{constructor(e){super(e,SA.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,xA.ensure)((0,xA.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.inlineCompletionProvider);r&&this.register({id:Mfe.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideInlineCompletionItems:(i,s,o,a)=>{let c=this._client,u=this._client.middleware,l=(p,f,d,h)=>c.sendRequest(SA.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(p,f,d),h).then(g=>h.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(g,h),g=>c.handleFailedRequest(SA.InlineCompletionRequest.type,h,g,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,s,o,a,l):l(i,s,o,a)}};return[Ofe.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};NS.InlineCompletionItemFeature=bA});var kA=P($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.ProposedFeatures=$n.BaseLanguageClient=$n.MessageTransports=$n.SuspendMode=$n.State=$n.CloseAction=$n.ErrorAction=$n.RevealOutputChannelOn=void 0;var Rt=require("vscode"),le=Be(),Ufe=lz(),qfe=pz(),ns=Ei(),LS=jC(),LH=Zt(),Wfe=ER(),ts=mt(),jfe=HR(),OH=Kz(),MH=Hz(),Fl=Gz(),Bfe=Vz(),$fe=Jz(),Kfe=Xz(),zfe=Qz(),Hfe=Zz(),Gfe=yF(),Vfe=tH(),Jfe=nH(),Xfe=rH(),Yfe=sH(),vA=oH(),Qfe=cH(),Zfe=uH(),epe=dH(),tpe=fH(),npe=pH(),rpe=hH(),ipe=gH(),spe=mH(),ope=CH(),ape=SH(),cpe=xH(),upe=vH(),lpe=wH(),dpe=DH(),Al=kH(),fpe=RH(),ppe=FH(),hpe=PH(),gpe=IH(),mpe=NH(),Mc;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(Mc||($n.RevealOutputChannelOn=Mc={}));var Up;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(Up||($n.ErrorAction=Up={}));var la;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(la||($n.CloseAction=la={}));var Mp;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(Mp||($n.State=Mp={}));var UH;(function(t){t.off="off",t.on="on"})(UH||($n.SuspendMode=UH={}));var wA;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&ns.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(wA||(wA={}));var DA=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?{action:Up.Continue}:{action:Up.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:la.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:la.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:la.Restart})}},nt;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(nt||(nt={}));var qH;(function(t){function e(n){return n&&le.MessageReader.is(n.reader)&&le.MessageWriter.is(n.writer)}t.is=e})(qH||($n.MessageTransports=qH={}));var qp=class t{constructor(e,n,r){this._traceFormat=le.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new LS.Semaphore(1),this._id=e,this._name=n,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=wA.sanitizeIsTrusted(r.markdown.isTrusted),i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??Mc.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=nt.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new LS.Semaphore(1),this._pendingChangeDelayer=new LS.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new LS.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new le.Emitter,this._stateChangeEmitter=new le.Emitter,this._trace=le.Trace.Off,this._tracer={log:(s,o)=>{ns.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=Ufe.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=qfe.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Rt.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){switch(this.$state){case nt.Starting:return Mp.Starting;case nt.Running:return Mp.Running;default:return Mp.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===nt.StartFailed||this.$state===nt.Stopping||this.$state===nt.Stopped)return Promise.reject(new le.ResponseError(le.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===le.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let s,o;return n.length===1?le.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),i(e,s,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),r.sendRequest(a,...l)})}else return r.sendRequest(e,...n)}onRequest(e,n){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,n),s={dispose:()=>{this._pendingRequestHandlers.delete(r);let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),s.dispose()}}}async sendNotification(e,n){if(this.$state===nt.StartFailed||this.$state===nt.Stopping||this.$state===nt.Stopped)return Promise.reject(new le.ResponseError(le.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===le.TextDocumentSyncKind.Full,i;r&&typeof e!="string"&&e.method===le.DidOpenTextDocumentNotification.method&&(i=n?.textDocument.uri,this._pendingOpenNotifications.add(i));let s=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._pendingOpenNotifications.delete(i);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(r);let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),s.dispose()}}}async sendProgress(e,n,r){if(this.$state===nt.StartFailed||this.$state===nt.Stopping||this.$state===nt.Stopped)return Promise.reject(new le.ResponseError(le.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}onProgress(e,n,r){this._progressHandlers.set(n,{type:e,handler:r});let i=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=le.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>r(c))}:r;return i!==void 0?(this._progressDisposables.set(n,i.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:r}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new DA(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof le.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ns.string(e.stack)?e.stack:e.message:ns.string(e)?e:e.toString()}debug(e,n,r=!0){this.logOutputMessage(le.MessageType.Debug,Mc.Debug,"Debug",e,n,r)}info(e,n,r=!0){this.logOutputMessage(le.MessageType.Info,Mc.Info,"Info",e,n,r)}warn(e,n,r=!0){this.logOutputMessage(le.MessageType.Warning,Mc.Warn,"Warn",e,n,r)}error(e,n,r=!0){this.logOutputMessage(le.MessageType.Error,Mc.Error,"Error",e,n,r)}logOutputMessage(e,n,r,i,s,o){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===le.MessageType.Error?Rt.window.showErrorMessage:e===le.MessageType.Warning?Rt.window.showWarningMessage:Rt.window.showInformationMessage)(n,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===nt.Initial||this.$state===nt.Stopping||this.$state===nt.Stopped}needsStop(){return this.$state===nt.Starting||this.$state===nt.Running}activeConnection(){return this.$state===nt.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===nt.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===nt.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Rt.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Rt.languages.createDiagnosticCollection());for(let[i,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,s);for(let[i,s]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,s);for(let[i,s]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,s);this.$state=nt.Starting;try{let i=await this.createConnection();i.onNotification(le.LogMessageNotification.type,s=>{switch(s.type){case le.MessageType.Error:this.error(s.message,void 0,!1);break;case le.MessageType.Warning:this.warn(s.message,void 0,!1);break;case le.MessageType.Info:this.info(s.message,void 0,!1);break;case le.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),i.onNotification(le.ShowMessageNotification.type,s=>{switch(s.type){case le.MessageType.Error:Rt.window.showErrorMessage(s.message);break;case le.MessageType.Warning:Rt.window.showWarningMessage(s.message);break;case le.MessageType.Info:Rt.window.showInformationMessage(s.message);break;default:Rt.window.showInformationMessage(s.message)}}),i.onRequest(le.ShowMessageRequest.type,s=>{let o;switch(s.type){case le.MessageType.Error:o=Rt.window.showErrorMessage;break;case le.MessageType.Warning:o=Rt.window.showWarningMessage;break;case le.MessageType.Info:o=Rt.window.showInformationMessage;break;default:o=Rt.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),i.onNotification(le.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),i.onRequest(le.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await Rt.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await Rt.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),i.listen(),await this.initialize(i),n()}catch(i){this.$state=nt.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((i,s)=>{e=i,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:Rt.env.appName,version:Rt.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(Rt.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ns.func(n)?n():n,trace:le.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=LH.generateUuid(),a=new Wfe.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let r=await e.initialize(n);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==le.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=nt.Running;let i;ns.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===le.TextDocumentSyncKind.None?i={openClose:!1,change:le.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(le.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(le.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(le.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(le.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(le.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof le.ResponseError&&r.data&&r.data.retry?Rt.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&Rt.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=Rt.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===nt.Stopped||this.$state===nt.Initial)return;if(this.$state===nt.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==nt.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=nt.Stopping,this.cleanUp(e);let i=new Promise(o=>{(0,le.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(r);return this._onStop=Promise.race([i,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=nt.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let r of n)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function r(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(le.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let r of n){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(le.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(r,le.DidChangeTextDocumentNotification.type,i)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,le.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,r]=e.value;this._diagnosticQueue.delete(n);let i=new Rt.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(s=>{if(!i.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return Rt.env.language}async $start(){if(this.$state===nt.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,s,o)=>{this.handleConnectionError(i,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=ype(r.reader,r.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===nt.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:la.DoNotRestart};if(this.$state!==nt.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===la.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===nt.Starting?this.$state=nt.StartFailed:this.$state=nt.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===la.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=nt.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,r){let i=await this._clientOptions.errorHandler.error(e,n,r);i.action===Up.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Rt.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let r=Rt.workspace.getConfiguration(this._id),i=le.Trace.Off,s=le.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=le.Trace.fromString(o):(i=le.Trace.fromString(r.get("trace.server.verbosity","off")),s=le.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;ns.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(le.DidChangeWatchedFilesNotification.type.method).registerRaw(LH.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),ts.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(le.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof OH.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new MH.ConfigurationFeature(this)),this.registerFeature(new Fl.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new Fl.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Fl.WillSaveFeature(this)),this.registerFeature(new Fl.WillSaveWaitUntilFeature(this)),this.registerFeature(new Fl.DidSaveTextDocumentFeature(this)),this.registerFeature(new Fl.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new tpe.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new Bfe.CompletionItemFeature(this)),this.registerFeature(new $fe.HoverFeature(this)),this.registerFeature(new zfe.SignatureHelpFeature(this)),this.registerFeature(new Kfe.DefinitionFeature(this)),this.registerFeature(new Jfe.ReferencesFeature(this)),this.registerFeature(new Hfe.DocumentHighlightFeature(this)),this.registerFeature(new Gfe.DocumentSymbolFeature(this)),this.registerFeature(new Vfe.WorkspaceSymbolFeature(this)),this.registerFeature(new Xfe.CodeActionFeature(this)),this.registerFeature(new Yfe.CodeLensFeature(this)),this.registerFeature(new vA.DocumentFormattingFeature(this)),this.registerFeature(new vA.DocumentRangeFormattingFeature(this)),this.registerFeature(new vA.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new Qfe.RenameFeature(this)),this.registerFeature(new Zfe.DocumentLinkFeature(this)),this.registerFeature(new epe.ExecuteCommandFeature(this)),this.registerFeature(new MH.SyncConfigurationFeature(this)),this.registerFeature(new ipe.TypeDefinitionFeature(this)),this.registerFeature(new rpe.ImplementationFeature(this)),this.registerFeature(new npe.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new spe.WorkspaceFoldersFeature(this)),this.registerFeature(new ope.FoldingRangeFeature(this)),this.registerFeature(new ape.DeclarationFeature(this)),this.registerFeature(new cpe.SelectionRangeFeature(this)),this.registerFeature(new upe.ProgressFeature(this)),this.registerFeature(new lpe.CallHierarchyFeature(this)),this.registerFeature(new dpe.SemanticTokensFeature(this)),this.registerFeature(new fpe.LinkedEditingFeature(this)),this.registerFeature(new Al.DidCreateFilesFeature(this)),this.registerFeature(new Al.DidRenameFilesFeature(this)),this.registerFeature(new Al.DidDeleteFilesFeature(this)),this.registerFeature(new Al.WillCreateFilesFeature(this)),this.registerFeature(new Al.WillRenameFilesFeature(this)),this.registerFeature(new Al.WillDeleteFilesFeature(this)),this.registerFeature(new ppe.TypeHierarchyFeature(this)),this.registerFeature(new hpe.InlineValueFeature(this)),this.registerFeature(new gpe.InlayHintsFeature(this)),this.registerFeature(new jfe.DiagnosticFeature(this)),this.registerFeature(new OH.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(EA.createAll(this))}fillInitializeParams(e){for(let n of this._features)ns.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,ts.ensure)(e,"workspace").applyEdit=!0;let n=(0,ts.ensure)((0,ts.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[le.ResourceOperationKind.Create,le.ResourceOperationKind.Rename,le.ResourceOperationKind.Delete],n.failureHandling=le.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,ts.ensure)((0,ts.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[le.DiagnosticTag.Unnecessary,le.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0,ts.ensure)(e,"window"),s=(0,ts.ensure)(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,ts.ensure)(i,"showDocument");o.support=!0;let a=(0,ts.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)ns.func(r.preInitialize)&&r.preInitialize(this._capabilities,n);for(let r of this._features)r.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let r=this._dynamicFeatures.get(n.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let i=n.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:i};try{r.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let r=this._dynamicFeatures.get(n.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));r.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),i=new Map;Rt.workspace.textDocuments.forEach(o=>i.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(le.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):ns.asPromise(Rt.workspace.applyEdit(r).then(o=>({applied:o})))}handleFailedRequest(e,n,r,i,s=!0){if(r instanceof le.ResponseError){if(r.code===le.ErrorCodes.PendingResponseRejected||r.code===le.ErrorCodes.ConnectionInactive)return i;if(r.code===le.LSPErrorCodes.RequestCancelled||r.code===le.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return i;throw r.data!==void 0?new ts.LSPCancellationError(r.data):new Rt.CancellationError}else if(r.code===le.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new Rt.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,s),r}};$n.BaseLanguageClient=qp;qp.RequestsToCancelOnContentModified=new Set([le.SemanticTokensRequest.method,le.SemanticTokensRangeRequest.method,le.SemanticTokensDeltaRequest.method]);qp.CancellableResolveCalls=new Set([le.CompletionResolveRequest.method,le.CodeLensResolveRequest.method,le.CodeActionResolveRequest.method,le.InlayHintResolveRequest.method,le.DocumentLinkResolveRequest.method,le.WorkspaceSymbolResolveRequest.method]);var TA=class{error(e){(0,le.RAL)().console.error(e)}warn(e){(0,le.RAL)().console.warn(e)}info(e){(0,le.RAL)().console.info(e)}log(e){(0,le.RAL)().console.log(e)}};function ype(t,e,n,r,i){let s=new TA,o=(0,le.createProtocolConnection)(t,e,s,i);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,l)=>{let p={sendNotification:!1,traceFormat:le.TraceFormat.Text};return l===void 0?o.trace(c,u,p):(ns.boolean(l),o.trace(c,u,l))},initialize:c=>o.sendRequest(le.InitializeRequest.type,c),shutdown:()=>o.sendRequest(le.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(le.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var EA;(function(t){function e(n){return[new mpe.InlineCompletionItemFeature(n)]}t.createAll=e})(EA||($n.ProposedFeatures=EA={}))});var jH=P(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.terminate=void 0;var WH=require("child_process"),Cpe=require("path"),Spe=process.platform==="win32",xpe=process.platform==="darwin",bpe=process.platform==="linux";function vpe(t,e){if(Spe)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),WH.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(bpe||xpe)try{var n=(0,Cpe.join)(__dirname,"terminateProcess.sh"),r=WH.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}OS.terminate=vpe});var RA=P((WUe,BH)=>{"use strict";BH.exports=Be()});var Wp=P((jUe,$H)=>{var wpe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};$H.exports=wpe});var MS=P((BUe,KH)=>{var Dpe="2.0.0",Tpe=Number.MAX_SAFE_INTEGER||9007199254740991,Epe=16,kpe=250,Rpe=["major","premajor","minor","preminor","patch","prepatch","prerelease"];KH.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Epe,MAX_SAFE_BUILD_LENGTH:kpe,MAX_SAFE_INTEGER:Tpe,RELEASE_TYPES:Rpe,SEMVER_SPEC_VERSION:Dpe,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var US=P((oo,zH)=>{var{MAX_SAFE_COMPONENT_LENGTH:FA,MAX_SAFE_BUILD_LENGTH:Fpe,MAX_LENGTH:Ape}=MS(),Ppe=Wp();oo=zH.exports={};var _pe=oo.re=[],Ipe=oo.safeRe=[],Ce=oo.src=[],Se=oo.t={},Npe=0,AA="[a-zA-Z0-9-]",Lpe=[["\\s",1],["\\d",Ape],[AA,Fpe]],Ope=t=>{for(let[e,n]of Lpe)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Ve=(t,e,n)=>{let r=Ope(e),i=Npe++;Ppe(t,i,e),Se[t]=i,Ce[i]=e,_pe[i]=new RegExp(e,n?"g":void 0),Ipe[i]=new RegExp(r,n?"g":void 0)};Ve("NUMERICIDENTIFIER","0|[1-9]\\d*");Ve("NUMERICIDENTIFIERLOOSE","\\d+");Ve("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${AA}*`);Ve("MAINVERSION",`(${Ce[Se.NUMERICIDENTIFIER]})\\.(${Ce[Se.NUMERICIDENTIFIER]})\\.(${Ce[Se.NUMERICIDENTIFIER]})`);Ve("MAINVERSIONLOOSE",`(${Ce[Se.NUMERICIDENTIFIERLOOSE]})\\.(${Ce[Se.NUMERICIDENTIFIERLOOSE]})\\.(${Ce[Se.NUMERICIDENTIFIERLOOSE]})`);Ve("PRERELEASEIDENTIFIER",`(?:${Ce[Se.NUMERICIDENTIFIER]}|${Ce[Se.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASEIDENTIFIERLOOSE",`(?:${Ce[Se.NUMERICIDENTIFIERLOOSE]}|${Ce[Se.NONNUMERICIDENTIFIER]})`);Ve("PRERELEASE",`(?:-(${Ce[Se.PRERELEASEIDENTIFIER]}(?:\\.${Ce[Se.PRERELEASEIDENTIFIER]})*))`);Ve("PRERELEASELOOSE",`(?:-?(${Ce[Se.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Ce[Se.PRERELEASEIDENTIFIERLOOSE]})*))`);Ve("BUILDIDENTIFIER",`${AA}+`);Ve("BUILD",`(?:\\+(${Ce[Se.BUILDIDENTIFIER]}(?:\\.${Ce[Se.BUILDIDENTIFIER]})*))`);Ve("FULLPLAIN",`v?${Ce[Se.MAINVERSION]}${Ce[Se.PRERELEASE]}?${Ce[Se.BUILD]}?`);Ve("FULL",`^${Ce[Se.FULLPLAIN]}$`);Ve("LOOSEPLAIN",`[v=\\s]*${Ce[Se.MAINVERSIONLOOSE]}${Ce[Se.PRERELEASELOOSE]}?${Ce[Se.BUILD]}?`);Ve("LOOSE",`^${Ce[Se.LOOSEPLAIN]}$`);Ve("GTLT","((?:<|>)?=?)");Ve("XRANGEIDENTIFIERLOOSE",`${Ce[Se.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ve("XRANGEIDENTIFIER",`${Ce[Se.NUMERICIDENTIFIER]}|x|X|\\*`);Ve("XRANGEPLAIN",`[v=\\s]*(${Ce[Se.XRANGEIDENTIFIER]})(?:\\.(${Ce[Se.XRANGEIDENTIFIER]})(?:\\.(${Ce[Se.XRANGEIDENTIFIER]})(?:${Ce[Se.PRERELEASE]})?${Ce[Se.BUILD]}?)?)?`);Ve("XRANGEPLAINLOOSE",`[v=\\s]*(${Ce[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ce[Se.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Ce[Se.XRANGEIDENTIFIERLOOSE]})(?:${Ce[Se.PRERELEASELOOSE]})?${Ce[Se.BUILD]}?)?)?`);Ve("XRANGE",`^${Ce[Se.GTLT]}\\s*${Ce[Se.XRANGEPLAIN]}$`);Ve("XRANGELOOSE",`^${Ce[Se.GTLT]}\\s*${Ce[Se.XRANGEPLAINLOOSE]}$`);Ve("COERCEPLAIN",`(^|[^\\d])(\\d{1,${FA}})(?:\\.(\\d{1,${FA}}))?(?:\\.(\\d{1,${FA}}))?`);Ve("COERCE",`${Ce[Se.COERCEPLAIN]}(?:$|[^\\d])`);Ve("COERCEFULL",Ce[Se.COERCEPLAIN]+`(?:${Ce[Se.PRERELEASE]})?(?:${Ce[Se.BUILD]})?(?:$|[^\\d])`);Ve("COERCERTL",Ce[Se.COERCE],!0);Ve("COERCERTLFULL",Ce[Se.COERCEFULL],!0);Ve("LONETILDE","(?:~>?)");Ve("TILDETRIM",`(\\s*)${Ce[Se.LONETILDE]}\\s+`,!0);oo.tildeTrimReplace="$1~";Ve("TILDE",`^${Ce[Se.LONETILDE]}${Ce[Se.XRANGEPLAIN]}$`);Ve("TILDELOOSE",`^${Ce[Se.LONETILDE]}${Ce[Se.XRANGEPLAINLOOSE]}$`);Ve("LONECARET","(?:\\^)");Ve("CARETTRIM",`(\\s*)${Ce[Se.LONECARET]}\\s+`,!0);oo.caretTrimReplace="$1^";Ve("CARET",`^${Ce[Se.LONECARET]}${Ce[Se.XRANGEPLAIN]}$`);Ve("CARETLOOSE",`^${Ce[Se.LONECARET]}${Ce[Se.XRANGEPLAINLOOSE]}$`);Ve("COMPARATORLOOSE",`^${Ce[Se.GTLT]}\\s*(${Ce[Se.LOOSEPLAIN]})$|^$`);Ve("COMPARATOR",`^${Ce[Se.GTLT]}\\s*(${Ce[Se.FULLPLAIN]})$|^$`);Ve("COMPARATORTRIM",`(\\s*)${Ce[Se.GTLT]}\\s*(${Ce[Se.LOOSEPLAIN]}|${Ce[Se.XRANGEPLAIN]})`,!0);oo.comparatorTrimReplace="$1$2$3";Ve("HYPHENRANGE",`^\\s*(${Ce[Se.XRANGEPLAIN]})\\s+-\\s+(${Ce[Se.XRANGEPLAIN]})\\s*$`);Ve("HYPHENRANGELOOSE",`^\\s*(${Ce[Se.XRANGEPLAINLOOSE]})\\s+-\\s+(${Ce[Se.XRANGEPLAINLOOSE]})\\s*$`);Ve("STAR","(<|>)?=?\\s*\\*");Ve("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ve("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var qS=P(($Ue,HH)=>{var Mpe=Object.freeze({loose:!0}),Upe=Object.freeze({}),qpe=t=>t?typeof t!="object"?Mpe:t:Upe;HH.exports=qpe});var XH=P((KUe,JH)=>{var GH=/^[0-9]+$/,VH=(t,e)=>{let n=GH.test(t),r=GH.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},Wpe=(t,e)=>VH(e,t);JH.exports={compareIdentifiers:VH,rcompareIdentifiers:Wpe}});var jp=P((zUe,e3)=>{var WS=Wp(),{MAX_LENGTH:YH,MAX_SAFE_INTEGER:jS}=MS(),{safeRe:QH,t:ZH}=US(),jpe=qS(),{compareIdentifiers:Pl}=XH(),PA=class t{constructor(e,n){if(n=jpe(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>YH)throw new TypeError(`version is longer than ${YH} characters`);WS("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?QH[ZH.LOOSE]:QH[ZH.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>jS||this.major<0)throw new TypeError("Invalid major version");if(this.minor>jS||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>jS||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<jS)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(WS("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Pl(this.major,e.major)||Pl(this.minor,e.minor)||Pl(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(WS("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Pl(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(WS("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Pl(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Pl(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};e3.exports=PA});var r3=P((HUe,n3)=>{var t3=jp(),Bpe=(t,e,n=!1)=>{if(t instanceof t3)return t;try{return new t3(t,e)}catch(r){if(!n)return null;throw r}};n3.exports=Bpe});var s3=P((GUe,i3)=>{var _A=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};i3.exports=_A});var Uc=P((VUe,a3)=>{var o3=jp(),$pe=(t,e,n)=>new o3(t,n).compare(new o3(e,n));a3.exports=$pe});var u3=P((JUe,c3)=>{var Kpe=Uc(),zpe=(t,e,n)=>Kpe(t,e,n)===0;c3.exports=zpe});var d3=P((XUe,l3)=>{var Hpe=Uc(),Gpe=(t,e,n)=>Hpe(t,e,n)!==0;l3.exports=Gpe});var p3=P((YUe,f3)=>{var Vpe=Uc(),Jpe=(t,e,n)=>Vpe(t,e,n)>0;f3.exports=Jpe});var g3=P((QUe,h3)=>{var Xpe=Uc(),Ype=(t,e,n)=>Xpe(t,e,n)>=0;h3.exports=Ype});var y3=P((ZUe,m3)=>{var Qpe=Uc(),Zpe=(t,e,n)=>Qpe(t,e,n)<0;m3.exports=Zpe});var S3=P((eqe,C3)=>{var ehe=Uc(),the=(t,e,n)=>ehe(t,e,n)<=0;C3.exports=the});var b3=P((tqe,x3)=>{var nhe=u3(),rhe=d3(),ihe=p3(),she=g3(),ohe=y3(),ahe=S3(),che=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return nhe(t,n,r);case"!=":return rhe(t,n,r);case">":return ihe(t,n,r);case">=":return she(t,n,r);case"<":return ohe(t,n,r);case"<=":return ahe(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};x3.exports=che});var R3=P((nqe,k3)=>{var Bp=Symbol("SemVer ANY"),LA=class t{static get ANY(){return Bp}constructor(e,n){if(n=v3(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),NA("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Bp?this.value="":this.value=this.operator+this.semver.version,NA("comp",this)}parse(e){let n=this.options.loose?w3[D3.COMPARATORLOOSE]:w3[D3.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new T3(r[2],this.options.loose):this.semver=Bp}toString(){return this.value}test(e){if(NA("Comparator.test",e,this.options.loose),this.semver===Bp||e===Bp)return!0;if(typeof e=="string")try{e=new T3(e,this.options)}catch{return!1}return IA(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new E3(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new E3(this.value,n).test(e.semver):(n=v3(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||IA(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||IA(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};k3.exports=LA;var v3=qS(),{safeRe:w3,t:D3}=US(),IA=b3(),NA=Wp(),T3=jp(),E3=OA()});var OA=P((rqe,_3)=>{var uhe=/\s+/g,MA=class t{constructor(e,n){if(n=dhe(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof UA)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(uhe," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!A3(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Che(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&mhe)|(this.options.loose&&yhe))+":"+e,i=F3.get(r);if(i)return i;let s=this.options.loose,o=s?jr[xr.HYPHENRANGELOOSE]:jr[xr.HYPHENRANGE];e=e.replace(o,Rhe(this.options.includePrerelease)),zt("hyphen replace",e),e=e.replace(jr[xr.COMPARATORTRIM],phe),zt("comparator trim",e),e=e.replace(jr[xr.TILDETRIM],hhe),zt("tilde trim",e),e=e.replace(jr[xr.CARETTRIM],ghe),zt("caret trim",e);let a=e.split(" ").map(p=>She(p,this.options)).join(" ").split(/\s+/).map(p=>khe(p,this.options));s&&(a=a.filter(p=>(zt("loose invalid filter",p,this.options),!!p.match(jr[xr.COMPARATORLOOSE])))),zt("range list",a);let c=new Map,u=a.map(p=>new UA(p,this.options));for(let p of u){if(A3(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return F3.set(r,l),l}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>P3(r,n)&&e.set.some(i=>P3(i,n)&&r.every(s=>i.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new fhe(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Fhe(this.set[n],e,this.options))return!0;return!1}};_3.exports=MA;var lhe=s3(),F3=new lhe,dhe=qS(),UA=R3(),zt=Wp(),fhe=jp(),{safeRe:jr,t:xr,comparatorTrimReplace:phe,tildeTrimReplace:hhe,caretTrimReplace:ghe}=US(),{FLAG_INCLUDE_PRERELEASE:mhe,FLAG_LOOSE:yhe}=MS(),A3=t=>t.value==="<0.0.0-0",Che=t=>t.value==="",P3=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},She=(t,e)=>(zt("comp",t,e),t=vhe(t,e),zt("caret",t),t=xhe(t,e),zt("tildes",t),t=Dhe(t,e),zt("xrange",t),t=Ehe(t,e),zt("stars",t),t),br=t=>!t||t.toLowerCase()==="x"||t==="*",xhe=(t,e)=>t.trim().split(/\s+/).map(n=>bhe(n,e)).join(" "),bhe=(t,e)=>{let n=e.loose?jr[xr.TILDELOOSE]:jr[xr.TILDE];return t.replace(n,(r,i,s,o,a)=>{zt("tilde",t,r,i,s,o,a);let c;return br(i)?c="":br(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:br(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(zt("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,zt("tilde return",c),c})},vhe=(t,e)=>t.trim().split(/\s+/).map(n=>whe(n,e)).join(" "),whe=(t,e)=>{zt("caret",t,e);let n=e.loose?jr[xr.CARETLOOSE]:jr[xr.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,c)=>{zt("caret",t,i,s,o,a,c);let u;return br(s)?u="":br(o)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:br(a)?s==="0"?u=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?(zt("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(zt("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),zt("caret return",u),u})},Dhe=(t,e)=>(zt("replaceXRanges",t,e),t.split(/\s+/).map(n=>The(n,e)).join(" ")),The=(t,e)=>{t=t.trim();let n=e.loose?jr[xr.XRANGELOOSE]:jr[xr.XRANGE];return t.replace(n,(r,i,s,o,a,c)=>{zt("xRange",t,r,i,s,o,a,c);let u=br(s),l=u||br(o),p=l||br(a),f=p;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&f?(l&&(o=0),a=0,i===">"?(i=">=",l?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",l?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):l?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:p&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),zt("xRange return",r),r})},Ehe=(t,e)=>(zt("replaceStars",t,e),t.trim().replace(jr[xr.STAR],"")),khe=(t,e)=>(zt("replaceGTE0",t,e),t.trim().replace(jr[e.includePrerelease?xr.GTE0PRE:xr.GTE0],"")),Rhe=t=>(e,n,r,i,s,o,a,c,u,l,p,f)=>(br(r)?n="":br(i)?n=`>=${r}.0.0${t?"-0":""}`:br(s)?n=`>=${r}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,br(u)?c="":br(l)?c=`<${+u+1}.0.0-0`:br(p)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${p}-${f}`:t?c=`<${u}.${l}.${+p+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),Fhe=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(zt(t[r].semver),t[r].semver!==UA.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var N3=P((iqe,I3)=>{var Ahe=OA(),Phe=(t,e,n)=>{try{e=new Ahe(e,n)}catch{return!1}return e.test(t)};I3.exports=Phe});var O3=P(ai=>{"use strict";var _he=ai&&ai.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),qA=ai&&ai.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&_he(e,t,n)};Object.defineProperty(ai,"__esModule",{value:!0});ai.DiagnosticPullMode=ai.vsdiag=void 0;qA(Be(),ai);qA(mt(),ai);var L3=HR();Object.defineProperty(ai,"vsdiag",{enumerable:!0,get:function(){return L3.vsdiag}});Object.defineProperty(ai,"DiagnosticPullMode",{enumerable:!0,get:function(){return L3.DiagnosticPullMode}});qA(kA(),ai)});var W3=P(Br=>{"use strict";var Ihe=Br&&Br.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),q3=Br&&Br.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ihe(e,t,n)};Object.defineProperty(Br,"__esModule",{value:!0});Br.SettingMonitor=Br.LanguageClient=Br.TransportKind=void 0;var ao=require("child_process"),WA=require("fs"),jA=require("path"),fa=require("vscode"),en=Ei(),M3=kA(),Nhe=jH(),ln=RA(),Lhe=r3(),Ohe=N3();q3(RA(),Br);q3(O3(),Br);var U3="^1.82.0",dn;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(dn||(Br.TransportKind=dn={}));var da;(function(t){function e(n){let r=n;return r&&r.kind===dn.socket&&en.number(r.port)}t.isSocket=e})(da||(da={}));var BA;(function(t){function e(n){return en.string(n.command)}t.is=e})(BA||(BA={}));var $A;(function(t){function e(n){return en.string(n.module)}t.is=e})($A||($A={}));var KA;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(KA||(KA={}));var zA;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(zA||(zA={}));var HA=class extends M3.BaseLanguageClient{constructor(e,n,r,i,s){let o,a,c,u,l;en.string(n)?(o=e,a=n,c=r,u=i,l=!!s):(o=e.toLowerCase(),a=e,c=n,u=r,l=i),l===void 0&&(l=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(p){throw en.string(p.message)&&this.outputChannel.appendLine(p.message),p}}checkVersion(){let e=Lhe(fa.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${fa.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!Ohe(e,U3))throw new Error(`The language client requires VS Code version ${U3} but received version ${fa.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,Nhe.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(l,p){if(!l&&!p)return;let f=Object.create(null);return Object.keys(process.env).forEach(d=>f[d]=process.env[d]),p&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(d=>f[d]=l[d]),f}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let l=process.execArgv;return l?l.some(p=>r.some(f=>p.startsWith(f))||i.some(f=>p===f)):!1}function o(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(en.func(a))return a().then(l=>{if(M3.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(KA.is(l))return this._isDetached=!!l.detached,{reader:new ln.StreamMessageReader(l.reader),writer:new ln.StreamMessageWriter(l.writer)};{let p;return zA.is(l)?(p=l.process,this._isDetached=l.detached):(p=l,this._isDetached=!1),p.stderr.on("data",f=>this.outputChannel.append(en.string(f)?f:f.toString(e))),{reader:new ln.StreamMessageReader(p.stdout),writer:new ln.StreamMessageWriter(p.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if($A.is(c)&&c.module){let p=c,f=p.transport||dn.stdio;if(p.runtime){let d=[],h=p.options??Object.create(null);h.execArgv&&h.execArgv.forEach(C=>d.push(C)),d.push(p.module),p.args&&p.args.forEach(C=>d.push(C));let g=Object.create(null);g.cwd=l,g.env=n(h.env,!1);let m=this._getRuntimePath(p.runtime,l),y;if(f===dn.ipc?(g.stdio=[null,null,null,"ipc"],d.push("--node-ipc")):f===dn.stdio?d.push("--stdio"):f===dn.pipe?(y=(0,ln.generateRandomPipeName)(),d.push(`--pipe=${y}`)):da.isSocket(f)&&d.push(`--socket=${f.port}`),d.push(`--clientProcessId=${process.pid.toString()}`),f===dn.ipc||f===dn.stdio){let C=ao.spawn(m,d,g);return!C||!C.pid?_l(C,`Launching server using runtime ${m} failed.`):(this._serverProcess=C,C.stderr.on("data",x=>this.outputChannel.append(en.string(x)?x:x.toString(e))),f===dn.ipc?(C.stdout.on("data",x=>this.outputChannel.append(en.string(x)?x:x.toString(e))),Promise.resolve({reader:new ln.IPCMessageReader(C),writer:new ln.IPCMessageWriter(C)})):Promise.resolve({reader:new ln.StreamMessageReader(C.stdout),writer:new ln.StreamMessageWriter(C.stdin)}))}else{if(f===dn.pipe)return(0,ln.createClientPipeTransport)(y).then(C=>{let x=ao.spawn(m,d,g);return!x||!x.pid?_l(x,`Launching server using runtime ${m} failed.`):(this._serverProcess=x,x.stderr.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),x.stdout.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),C.onConnected().then(T=>({reader:T[0],writer:T[1]})))});if(da.isSocket(f))return(0,ln.createClientSocketTransport)(f.port).then(C=>{let x=ao.spawn(m,d,g);return!x||!x.pid?_l(x,`Launching server using runtime ${m} failed.`):(this._serverProcess=x,x.stderr.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),x.stdout.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),C.onConnected().then(T=>({reader:T[0],writer:T[1]})))})}}else{let d;return new Promise((h,g)=>{let m=(p.args&&p.args.slice())??[];f===dn.ipc?m.push("--node-ipc"):f===dn.stdio?m.push("--stdio"):f===dn.pipe?(d=(0,ln.generateRandomPipeName)(),m.push(`--pipe=${d}`)):da.isSocket(f)&&m.push(`--socket=${f.port}`),m.push(`--clientProcessId=${process.pid.toString()}`);let y=p.options??Object.create(null);if(y.env=n(y.env,!0),y.execArgv=y.execArgv||[],y.cwd=l,y.silent=!0,f===dn.ipc||f===dn.stdio){let C=ao.fork(p.module,m||[],y);o(C),this._serverProcess=C,C.stderr.on("data",x=>this.outputChannel.append(en.string(x)?x:x.toString(e))),f===dn.ipc?(C.stdout.on("data",x=>this.outputChannel.append(en.string(x)?x:x.toString(e))),h({reader:new ln.IPCMessageReader(this._serverProcess),writer:new ln.IPCMessageWriter(this._serverProcess)})):h({reader:new ln.StreamMessageReader(C.stdout),writer:new ln.StreamMessageWriter(C.stdin)})}else f===dn.pipe?(0,ln.createClientPipeTransport)(d).then(C=>{let x=ao.fork(p.module,m||[],y);o(x),this._serverProcess=x,x.stderr.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),x.stdout.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),C.onConnected().then(T=>{h({reader:T[0],writer:T[1]})},g)},g):da.isSocket(f)&&(0,ln.createClientSocketTransport)(f.port).then(C=>{let x=ao.fork(p.module,m||[],y);o(x),this._serverProcess=x,x.stderr.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),x.stdout.on("data",T=>this.outputChannel.append(en.string(T)?T:T.toString(e))),C.onConnected().then(T=>{h({reader:T[0],writer:T[1]})},g)},g)})}}else if(BA.is(c)&&c.command){let p=c,f=c.args!==void 0?c.args.slice(0):[],d,h=c.transport;if(h===dn.stdio)f.push("--stdio");else if(h===dn.pipe)d=(0,ln.generateRandomPipeName)(),f.push(`--pipe=${d}`);else if(da.isSocket(h))f.push(`--socket=${h.port}`);else if(h===dn.ipc)throw new Error("Transport kind ipc is not support for command executable");let g=Object.assign({},p.options);if(g.cwd=g.cwd||l,h===void 0||h===dn.stdio){let m=ao.spawn(p.command,f,g);return!m||!m.pid?_l(m,`Launching server using command ${p.command} failed.`):(m.stderr.on("data",y=>this.outputChannel.append(en.string(y)?y:y.toString(e))),this._serverProcess=m,this._isDetached=!!g.detached,Promise.resolve({reader:new ln.StreamMessageReader(m.stdout),writer:new ln.StreamMessageWriter(m.stdin)}))}else{if(h===dn.pipe)return(0,ln.createClientPipeTransport)(d).then(m=>{let y=ao.spawn(p.command,f,g);return!y||!y.pid?_l(y,`Launching server using command ${p.command} failed.`):(this._serverProcess=y,this._isDetached=!!g.detached,y.stderr.on("data",C=>this.outputChannel.append(en.string(C)?C:C.toString(e))),y.stdout.on("data",C=>this.outputChannel.append(en.string(C)?C:C.toString(e))),m.onConnected().then(C=>({reader:C[0],writer:C[1]})))});if(da.isSocket(h))return(0,ln.createClientSocketTransport)(h.port).then(m=>{let y=ao.spawn(p.command,f,g);return!y||!y.pid?_l(y,`Launching server using command ${p.command} failed.`):(this._serverProcess=y,this._isDetached=!!g.detached,y.stderr.on("data",C=>this.outputChannel.append(en.string(C)?C:C.toString(e))),y.stdout.on("data",C=>this.outputChannel.append(en.string(C)?C:C.toString(e))),m.onConnected().then(C=>({reader:C[0],writer:C[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(l,p)=>{l!==null&&this.error(`Server process exited with code ${l}.`,void 0,!1),p!==null&&this.error(`Server process exited with signal ${p}.`,void 0,!1)})})}_getRuntimePath(e,n){if(jA.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=jA.join(r,e);if(WA.existsSync(i))return i}if(n!==void 0){let i=jA.join(n,e);if(WA.existsSync(i))return i}return e}_mainGetRootPath(){let e=fa.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{WA.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};Br.LanguageClient=HA;var GA=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return fa.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new fa.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?fa.workspace.getConfiguration(n).get(r,!1):fa.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};Br.SettingMonitor=GA;function _l(t,e){return t===null?Promise.reject(e):new Promise((n,r)=>{t.on("error",i=>{r(`${e} ${i}`)}),setImmediate(()=>r(e))})}});var Il=P((aqe,j3)=>{"use strict";j3.exports=W3()});var pG=P((pqe,fG)=>{"use strict";var QA=Object.defineProperty,Uhe=Object.getOwnPropertyDescriptor,qhe=Object.getOwnPropertyNames,Whe=Object.prototype.hasOwnProperty,jhe=(t,e)=>{for(var n in e)QA(t,n,{get:e[n],enumerable:!0})},Bhe=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of qhe(e))!Whe.call(t,i)&&i!==n&&QA(t,i,{get:()=>e[i],enumerable:!(r=Uhe(e,i))||r.enumerable});return t},$he=t=>Bhe(QA({},"__esModule",{value:!0}),t),Y3={};jhe(Y3,{FileType:()=>lG,createClientSideApi:()=>Qhe,createServerSideApi:()=>Yhe});fG.exports=$he(Y3);Symbol.dispose??=Symbol("Symbol.dispose");var Q3=Symbol("Disposable Name"),Z3=Symbol("Disposable Timestamp"),YA=Symbol("Disposable Is Disposed"),Ls,Hp=0,zp=0;function ZA(t,e,n){let r=!1,i=!1,s={dispose:o,[Symbol.dispose]:o,[Z3]:performance.now(),[Q3]:n||void 0,[YA]:!1};return++zp,Ls?.debug(Nl()+"Created: %s, active: %i",KS(s),zp),s;function o(){try{if(Ls?.debug(Nl()+"Dispose Start -> %s Active %i",KS(s),zp),++Hp,r){s[YA]=!0,Ls?.warn("Already disposed %s",KS(s));return}--zp,s[YA]=r=!0,e?t.call(e):t()}catch(a){throw i=!0,a}finally{--Hp,Ls?.debug(Nl()+"Dispose End   -> %s Active %i%s",KS(s),zp,i?" ** with errors ** ":"")}}}function KS(t){let e=zhe(t)||"",n=Hhe(t)?.toFixed(4);return e+" "+n}function eG(t,e,n){return Object.assign(t,ZA(e,t,n))}function tG(t,e=""){let n=!1,r=performance.now().toFixed(4);Ls&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),Ls?.debug(Nl()+"Create: %s %s",e,r);let i=0;function s(){try{Ls?.debug(Nl()+"Dispose Start -> %s %s",e,r),++Hp;let o;if(n&&(Ls?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{Khe(a)}catch(c){++i,o??=c}if(o)throw Ls?.warn(o),o}finally{--Hp,Ls?.debug(Nl()+"Dispose End   -> %s %s%s",e,r,i?` *** with ${i} errors ***`:"")}}return s}function Khe(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function zhe(t){return t[Q3]}function Hhe(t){return t[Z3]}function Nl(){return" ".repeat(Hp)}var nG={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function Ghe(t,e,n,r=nG){let i=[],s=aG(e.serverRequests,n),o=cG(e.serverNotifications,n);rG(t,r.serverRequests,s,i,n),iG(t,r.serverNotifications,o,i,n);let a=sG(t,r.clientRequests,e.clientRequests,n),c=oG(t,r.clientNotifications,e.clientNotifications,n);return eG({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},tG(i))}function Vhe(t,e,n,r=nG){let i=[],s=aG(e.clientRequests,n),o=cG(e.clientNotifications,n);rG(t,r.clientRequests,s,i,n),iG(t,r.clientNotifications,o,i,n);let a=sG(t,r.serverRequests,e.serverRequests,n),c=oG(t,r.serverNotifications,e.serverNotifications,n);return eG({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},tG(i))}function rG(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;r.push(t.onRequest(c,u=>(i?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function iG(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;r.push(t.onNotification(a,u=>(i?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function sG(t,e,n,r){let i=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...a)=>{let c=++i;return r?.log(`send request "${s}" %o: Params: %o`,c,a),t.sendRequest(o,a).then(u=>(r?.log(`send request "${s}" %o: Response: %o`,c,u),u))}]}))}function oG(t,e,n,r){return Object.fromEntries(Object.entries(n).map(([i])=>{let s=e+i;return[i,(...o)=>(r?.log(`send notification "${i}" %o`,o),t.sendNotification(s,o))]}))}function aG(t,e){function n([r,i]){if(!i)return;let s=Xhe(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(uG))}function cG(t,e){function n([r,i]){if(!i)return;let s=Jhe(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(uG))}function Jhe(t,e){let n=new Set;async function r(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function i(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),ZA(()=>n.delete(s))}return{publish:r,subscribe:i}}function Xhe(t,e){let n;async function r(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function i(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),ZA(()=>{n===s&&(n=void 0)})}return{publish:r,subscribe:i}}function uG(t){return t!==void 0}var lG=(t=>(t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t))(lG||{}),zS="_",dG={serverNotifications:zS,serverRequests:zS,clientNotifications:zS,clientRequests:zS};function Yhe(t,e,n){return Ghe(t,e,n,dG)}function Qhe(t,e,n){return Vhe(t,e,n,dG)}});var vG=P(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.codes=void 0;GS.codes=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]]});var wG=P(VS=>{"use strict";Object.defineProperty(VS,"__esModule",{value:!0});VS.scriptCodes=void 0;var ige=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`;VS.scriptCodes=ige.split(`
`).map(t=>t.split("	"))});var AG=P(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.normalizeCode=fge;rs.isValidCode=pge;rs.lookupLocaleInfo=EG;rs.getLangInfo=kG;rs.getCountryInfo=RG;rs.getScriptInfo=FG;rs.parseLocale=nP;rs.formatLocale=rP;rs.formatLangAndLocale=mge;var sge=vG(),DG=wG(),TG=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,eP=new Map(sge.codes.map(t=>{let[e,n,r=""]=t,i=e.match(TG)?.groups?.locale||"",s={code:e,language:n,country:r,locale:i,lang:e.replace(/-.*/,"")};return[e,s]})),tP=new Map([...eP.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));tP.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});tP.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var oge=new Map([...eP.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),age=new Map(DG.scriptCodes.map(([t,e])=>[t,{script:t,scriptName:e}])),cge=new Map(DG.scriptCodes.map(([t])=>[t.toLowerCase(),t])),uge=Object.freeze({lang:"lorem",locale:"",script:""}),lge=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),dge=/^lorem(?:[-_]?ipsum)?$/i;function fge(t,e=!1){let n=nP(t);return n?rP(n):e?void 0:t}function pge(t){return eP.has(t)||!!EG(t)}function EG(t){let e=nP(t);if(!e)return;let n=kG(e.lang),r=e.script?FG(e.script):{},i=e.locale?RG(e.locale):{locale:"",country:""};return n!==void 0&&r!==void 0&&i!==void 0&&{...n,...r,...i,code:rP(e)}||void 0}function kG(t){return tP.get(t.toLowerCase())}function RG(t){return oge.get(t.toUpperCase())}function FG(t){let e=cge.get(t.toLowerCase());return e&&age.get(e)||void 0}function hge(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function nP(t){t=t.trim();let e=t.match(TG);if(!e)return gge(t);let{lang:n="",script:r="",locale:i=""}=e.groups||{};return{lang:n.toLowerCase(),script:hge(r),locale:i.toUpperCase()}}function gge(t){return t.toLowerCase()==="lorem"?uge:dge.test(t)?lge:void 0}function rP({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}function mge({lang:t,locale:e}){return t+(e&&"-"+e)}});var PG=P(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.parseLocale=Ni.normalizeCode=Ni.lookupLocaleInfo=Ni.isValidCode=Ni.formatLocale=void 0;var Gp=AG();Object.defineProperty(Ni,"formatLocale",{enumerable:!0,get:function(){return Gp.formatLocale}});Object.defineProperty(Ni,"isValidCode",{enumerable:!0,get:function(){return Gp.isValidCode}});Object.defineProperty(Ni,"lookupLocaleInfo",{enumerable:!0,get:function(){return Gp.lookupLocaleInfo}});Object.defineProperty(Ni,"normalizeCode",{enumerable:!0,get:function(){return Gp.normalizeCode}});Object.defineProperty(Ni,"parseLocale",{enumerable:!0,get:function(){return Gp.parseLocale}})});var F6=P(iI=>{"use strict";Object.defineProperty(iI,"__esModule",{value:!0});iI.requireResolve=dve;function dve(t,e){try{return require.resolve(t,e?{paths:e}:void 0)}catch{return}}});var N6=P((MGe,I6)=>{var{hasOwnProperty:sI}=Object.prototype,oI=(t,e={})=>{typeof e=="string"&&(e={section:e}),e.align=e.align===!0,e.newline=e.newline===!0,e.sort=e.sort===!0,e.whitespace=e.whitespace===!0||e.align===!0,e.platform=e.platform||typeof process<"u"&&process.platform,e.bracketedArray=e.bracketedArray!==!1;let n=e.platform==="win32"?`\r
`:`
`,r=e.whitespace?" = ":"=",i=[],s=e.sort?Object.keys(t).sort():Object.keys(t),o=0;e.align&&(o=So(s.filter(u=>t[u]===null||Array.isArray(t[u])||typeof t[u]!="object").map(u=>Array.isArray(t[u])?`${u}[]`:u).concat([""]).reduce((u,l)=>So(u).length>=So(l).length?u:l)).length);let a="",c=e.bracketedArray?"[]":"";for(let u of s){let l=t[u];if(l&&Array.isArray(l))for(let p of l)a+=So(`${u}${c}`).padEnd(o," ")+r+So(p)+n;else l&&typeof l=="object"?i.push(u):a+=So(u).padEnd(o," ")+r+So(l)+n}e.section&&a.length&&(a="["+So(e.section)+"]"+(e.newline?n+n:n)+a);for(let u of i){let l=P6(u,".").join("\\."),p=(e.section?e.section+".":"")+l,f=oI(t[u],{...e,section:p});a.length&&f.length&&(a+=n),a+=f}return a};function P6(t,e){var n=0,r=0,i=0,s=[];do if(i=t.indexOf(e,n),i!==-1){if(n=i+e.length,i>0&&t[i-1]==="\\")continue;s.push(t.slice(r,i)),r=i+e.length}while(i!==-1);return s.push(t.slice(r)),s}var A6=(t,e={})=>{e.bracketedArray=e.bracketedArray!==!1;let n=Object.create(null),r=n,i=null,s=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,o=t.split(/[\r\n]+/g),a={};for(let u of o){if(!u||u.match(/^\s*[;#]/)||u.match(/^\s*$/))continue;let l=u.match(s);if(!l)continue;if(l[1]!==void 0){if(i=Tb(l[1]),i==="__proto__"){r=Object.create(null);continue}r=n[i]=n[i]||Object.create(null);continue}let p=Tb(l[2]),f;e.bracketedArray?f=p.length>2&&p.slice(-2)==="[]":(a[p]=(a?.[p]||0)+1,f=a[p]>1);let d=f?p.slice(0,-2):p;if(d==="__proto__")continue;let h=l[3]?Tb(l[4]):!0,g=h==="true"||h==="false"||h==="null"?JSON.parse(h):h;f&&(sI.call(r,d)?Array.isArray(r[d])||(r[d]=[r[d]]):r[d]=[]),Array.isArray(r[d])?r[d].push(g):r[d]=g}let c=[];for(let u of Object.keys(n)){if(!sI.call(n,u)||typeof n[u]!="object"||Array.isArray(n[u]))continue;let l=P6(u,".");r=n;let p=l.pop(),f=p.replace(/\\\./g,".");for(let d of l)d!=="__proto__"&&((!sI.call(r,d)||typeof r[d]!="object")&&(r[d]=Object.create(null)),r=r[d]);r===n&&f===p||(r[f]=n[u],c.push(u))}for(let u of c)delete n[u];return n},_6=t=>t.startsWith('"')&&t.endsWith('"')||t.startsWith("'")&&t.endsWith("'"),So=t=>typeof t!="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&_6(t)||t!==t.trim()?JSON.stringify(t):t.split(";").join("\\;").split("#").join("\\#"),Tb=(t,e)=>{if(t=(t||"").trim(),_6(t)){t.charAt(0)==="'"&&(t=t.slice(1,-1));try{t=JSON.parse(t)}catch{}}else{let n=!1,r="";for(let i=0,s=t.length;i<s;i++){let o=t.charAt(i);if(n)"\\;#".indexOf(o)!==-1?r+=o:r+="\\"+o,n=!1;else{if(";#".indexOf(o)!==-1)break;o==="\\"?n=!0:r+=o}}return n&&(r+="\\"),r.trim()}return t};I6.exports={parse:A6,decode:A6,stringify:oI,encode:oI,safe:So,unsafe:Tb}});var DI=P((uVe,wI)=>{"use strict";var p9=require("path"),h9=require("module"),cwe=require("fs"),g9=(t,e,n)=>{if(typeof t!="string")throw new TypeError(`Expected \`fromDir\` to be of type \`string\`, got \`${typeof t}\``);if(typeof e!="string")throw new TypeError(`Expected \`moduleId\` to be of type \`string\`, got \`${typeof e}\``);try{t=cwe.realpathSync(t)}catch(s){if(s.code==="ENOENT")t=p9.resolve(t);else{if(n)return;throw s}}let r=p9.join(t,"noop.js"),i=()=>h9._resolveFilename(e,{id:r,filename:r,paths:h9._nodeModulePaths(t)});if(n)try{return i()}catch{return}return i()};wI.exports=(t,e)=>g9(t,e);wI.exports.silent=(t,e)=>g9(t,e,!0)});var hv=P(Wi=>{"use strict";Wi.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Wi.find=(t,e)=>t.nodes.find(n=>n.type===e);Wi.exceedsLimit=(t,e,n=1,r)=>r===!1||!Wi.isInteger(t)||!Wi.isInteger(e)?!1:(Number(e)-Number(t))/Number(n)>=r;Wi.escapeNode=(t,e=0,n)=>{let r=t.nodes[e];r&&(n&&r.type===n||r.type==="open"||r.type==="close")&&r.escaped!==!0&&(r.value="\\"+r.value,r.escaped=!0)};Wi.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);Wi.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Wi.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Wi.reduce=t=>t.reduce((e,n)=>(n.type==="text"&&e.push(n.value),n.type==="range"&&(n.type="text"),e),[]);Wi.flatten=(...t)=>{let e=[],n=r=>{for(let i=0;i<r.length;i++){let s=r[i];if(Array.isArray(s)){n(s);continue}s!==void 0&&e.push(s)}return e};return n(t),e}});var gv=P((N9e,$5)=>{"use strict";var B5=hv();$5.exports=(t,e={})=>{let n=(r,i={})=>{let s=e.escapeInvalid&&B5.isInvalidBrace(i),o=r.invalid===!0&&e.escapeInvalid===!0,a="";if(r.value)return(s||o)&&B5.isOpenOrClose(r)?"\\"+r.value:r.value;if(r.value)return r.value;if(r.nodes)for(let c of r.nodes)a+=n(c);return a};return n(t)}});var z5=P((L9e,K5)=>{"use strict";K5.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var e7=P((O9e,Z5)=>{"use strict";var H5=z5(),du=(t,e,n)=>{if(H5(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(H5(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let r={relaxZeros:!0,...n};typeof r.strictZeros=="boolean"&&(r.relaxZeros=r.strictZeros===!1);let i=String(r.relaxZeros),s=String(r.shorthand),o=String(r.capture),a=String(r.wrap),c=t+":"+e+"="+i+s+o+a;if(du.cache.hasOwnProperty(c))return du.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(Math.abs(u-l)===1){let g=t+"|"+e;return r.capture?`(${g})`:r.wrap===!1?g:`(?:${g})`}let p=Q5(t)||Q5(e),f={min:t,max:e,a:u,b:l},d=[],h=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),u<0){let g=l<0?Math.abs(l):1;h=G5(g,Math.abs(u),f,r),u=f.a=0}return l>=0&&(d=G5(u,l,f,r)),f.negatives=h,f.positives=d,f.result=HTe(h,d,r),r.capture===!0?f.result=`(${f.result})`:r.wrap!==!1&&d.length+h.length>1&&(f.result=`(?:${f.result})`),du.cache[c]=f,f.result};function HTe(t,e,n){let r=dN(t,e,"-",!1,n)||[],i=dN(e,t,"",!1,n)||[],s=dN(t,e,"-?",!0,n)||[];return r.concat(s).concat(i).join("|")}function GTe(t,e){let n=1,r=1,i=J5(t,n),s=new Set([e]);for(;t<=i&&i<=e;)s.add(i),n+=1,i=J5(t,n);for(i=X5(e+1,r)-1;t<i&&i<=e;)s.add(i),r+=1,i=X5(e+1,r)-1;return s=[...s],s.sort(XTe),s}function VTe(t,e,n){if(t===e)return{pattern:t,count:[],digits:0};let r=JTe(t,e),i=r.length,s="",o=0;for(let a=0;a<i;a++){let[c,u]=r[a];c===u?s+=c:c!=="0"||u!=="9"?s+=YTe(c,u,n):o++}return o&&(s+=n.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function G5(t,e,n,r){let i=GTe(t,e),s=[],o=t,a;for(let c=0;c<i.length;c++){let u=i[c],l=VTe(String(o),String(u),r),p="";if(!n.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Y5(a.count),o=u+1;continue}n.isPadded&&(p=QTe(u,n,r)),l.string=p+l.pattern+Y5(l.count),s.push(l),o=u+1,a=l}return s}function dN(t,e,n,r,i){let s=[];for(let o of t){let{string:a}=o;!r&&!V5(e,"string",a)&&s.push(n+a),r&&V5(e,"string",a)&&s.push(n+a)}return s}function JTe(t,e){let n=[];for(let r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}function XTe(t,e){return t>e?1:e>t?-1:0}function V5(t,e,n){return t.some(r=>r[e]===n)}function J5(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function X5(t,e){return t-t%Math.pow(10,e)}function Y5(t){let[e=0,n=""]=t;return n||e>1?`{${e+(n?","+n:"")}}`:""}function YTe(t,e,n){return`[${t}${e-t===1?"":"-"}${e}]`}function Q5(t){return/^-?(0+)\d/.test(t)}function QTe(t,e,n){if(!e.isPadded)return t;let r=Math.abs(e.maxLen-String(t).length),i=n.relaxZeros!==!1;switch(r){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${r}}`:`0{${r}}`}}du.cache={};du.clearCache=()=>du.cache={};Z5.exports=du});var hN=P((M9e,a7)=>{"use strict";var ZTe=require("util"),n7=e7(),t7=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),eEe=t=>e=>t===!0?Number(e):String(e),fN=t=>typeof t=="number"||typeof t=="string"&&t!=="",dg=t=>Number.isInteger(+t),pN=t=>{let e=`${t}`,n=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++n]==="0";);return n>0},tEe=(t,e,n)=>typeof t=="string"||typeof e=="string"?!0:n.stringify===!0,nEe=(t,e,n)=>{if(e>0){let r=t[0]==="-"?"-":"";r&&(t=t.slice(1)),t=r+t.padStart(r?e-1:e,"0")}return n===!1?String(t):t},yv=(t,e)=>{let n=t[0]==="-"?"-":"";for(n&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return n?"-"+t:t},rEe=(t,e,n)=>{t.negatives.sort((a,c)=>a<c?-1:a>c?1:0),t.positives.sort((a,c)=>a<c?-1:a>c?1:0);let r=e.capture?"":"?:",i="",s="",o;return t.positives.length&&(i=t.positives.map(a=>yv(String(a),n)).join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.map(a=>yv(String(a),n)).join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,e.wrap?`(${r}${o})`:o},r7=(t,e,n,r)=>{if(n)return n7(t,e,{wrap:!1,...r});let i=String.fromCharCode(t);if(t===e)return i;let s=String.fromCharCode(e);return`[${i}-${s}]`},i7=(t,e,n)=>{if(Array.isArray(t)){let r=n.wrap===!0,i=n.capture?"":"?:";return r?`(${i}${t.join("|")})`:t.join("|")}return n7(t,e,n)},s7=(...t)=>new RangeError("Invalid range arguments: "+ZTe.inspect(...t)),o7=(t,e,n)=>{if(n.strictRanges===!0)throw s7([t,e]);return[]},iEe=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},sEe=(t,e,n=1,r={})=>{let i=Number(t),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(r.strictRanges===!0)throw s7([t,e]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(t),c=String(e),u=String(n);n=Math.max(Math.abs(n),1);let l=pN(a)||pN(c)||pN(u),p=l?Math.max(a.length,c.length,u.length):0,f=l===!1&&tEe(t,e,r)===!1,d=r.transform||eEe(f);if(r.toRegex&&n===1)return r7(yv(t,p),yv(e,p),!0,r);let h={negatives:[],positives:[]},g=C=>h[C<0?"negatives":"positives"].push(Math.abs(C)),m=[],y=0;for(;o?i>=s:i<=s;)r.toRegex===!0&&n>1?g(i):m.push(nEe(d(i,y),p,f)),i=o?i-n:i+n,y++;return r.toRegex===!0?n>1?rEe(h,r,p):i7(m,null,{wrap:!1,...r}):m},oEe=(t,e,n=1,r={})=>{if(!dg(t)&&t.length>1||!dg(e)&&e.length>1)return o7(t,e,r);let i=r.transform||(f=>String.fromCharCode(f)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,c=Math.min(s,o),u=Math.max(s,o);if(r.toRegex&&n===1)return r7(c,u,!1,r);let l=[],p=0;for(;a?s>=o:s<=o;)l.push(i(s,p)),s=a?s-n:s+n,p++;return r.toRegex===!0?i7(l,null,{wrap:!1,options:r}):l},mv=(t,e,n,r={})=>{if(e==null&&fN(t))return[t];if(!fN(t)||!fN(e))return o7(t,e,r);if(typeof n=="function")return mv(t,e,1,{transform:n});if(t7(n))return mv(t,e,0,n);let i={...r};return i.capture===!0&&(i.wrap=!0),n=n||i.step||1,dg(n)?dg(t)&&dg(e)?sEe(t,e,n,i):oEe(t,e,Math.max(Math.abs(n),1),i):n!=null&&!t7(n)?iEe(n,i):mv(t,e,1,n)};a7.exports=mv});var l7=P((U9e,u7)=>{"use strict";var aEe=hN(),c7=hv(),cEe=(t,e={})=>{let n=(r,i={})=>{let s=c7.isInvalidBrace(i),o=r.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(r.isOpen===!0)return c+r.value;if(r.isClose===!0)return console.log("node.isClose",c,r.value),c+r.value;if(r.type==="open")return a?c+r.value:"(";if(r.type==="close")return a?c+r.value:")";if(r.type==="comma")return r.prev.type==="comma"?"":a?r.value:"|";if(r.value)return r.value;if(r.nodes&&r.ranges>0){let l=c7.reduce(r.nodes),p=aEe(...l,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(r.nodes)for(let l of r.nodes)u+=n(l,r);return u};return n(t)};u7.exports=cEe});var p7=P((q9e,f7)=>{"use strict";var uEe=hN(),d7=gv(),pd=hv(),fu=(t="",e="",n=!1)=>{let r=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return n?pd.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let s of i)r.push(fu(s,e,n));else for(let s of e)n===!0&&typeof s=="string"&&(s=`{${s}}`),r.push(Array.isArray(s)?fu(i,s,n):i+s);return pd.flatten(r)},lEe=(t,e={})=>{let n=e.rangeLimit===void 0?1e3:e.rangeLimit,r=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(fu(a.pop(),d7(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(fu(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=pd.reduce(i.nodes);if(pd.exceedsLimit(...p,e.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=uEe(...p,e);f.length===0&&(f=d7(i,e)),a.push(fu(a.pop(),f)),i.nodes=[];return}let c=pd.encloseBrace(i),u=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<i.nodes.length;p++){let f=i.nodes[p];if(f.type==="comma"&&i.type==="brace"){p===1&&u.push(""),u.push("");continue}if(f.type==="close"){a.push(fu(a.pop(),u,c));continue}if(f.value&&f.type!=="open"){u.push(fu(u.pop(),f.value));continue}f.nodes&&r(f,i)}return u};return pd.flatten(r(t))};f7.exports=lEe});var g7=P((W9e,h7)=>{"use strict";h7.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var x7=P((j9e,S7)=>{"use strict";var dEe=gv(),{MAX_LENGTH:m7,CHAR_BACKSLASH:gN,CHAR_BACKTICK:fEe,CHAR_COMMA:pEe,CHAR_DOT:hEe,CHAR_LEFT_PARENTHESES:gEe,CHAR_RIGHT_PARENTHESES:mEe,CHAR_LEFT_CURLY_BRACE:yEe,CHAR_RIGHT_CURLY_BRACE:CEe,CHAR_LEFT_SQUARE_BRACKET:y7,CHAR_RIGHT_SQUARE_BRACKET:C7,CHAR_DOUBLE_QUOTE:SEe,CHAR_SINGLE_QUOTE:xEe,CHAR_NO_BREAK_SPACE:bEe,CHAR_ZERO_WIDTH_NOBREAK_SPACE:vEe}=g7(),wEe=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let n=e||{},r=typeof n.maxLength=="number"?Math.min(m7,n.maxLength):m7;if(t.length>r)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${r})`);let i={type:"root",input:t,nodes:[]},s=[i],o=i,a=i,c=0,u=t.length,l=0,p=0,f,d=()=>t[l++],h=g=>{if(g.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&g.type==="text"){a.value+=g.value;return}return o.nodes.push(g),g.parent=o,g.prev=a,a=g,g};for(h({type:"bos"});l<u;)if(o=s[s.length-1],f=d(),!(f===vEe||f===bEe)){if(f===gN){h({type:"text",value:(e.keepEscaping?f:"")+d()});continue}if(f===C7){h({type:"text",value:"\\"+f});continue}if(f===y7){c++;let g;for(;l<u&&(g=d());){if(f+=g,g===y7){c++;continue}if(g===gN){f+=d();continue}if(g===C7&&(c--,c===0))break}h({type:"text",value:f});continue}if(f===gEe){o=h({type:"paren",nodes:[]}),s.push(o),h({type:"text",value:f});continue}if(f===mEe){if(o.type!=="paren"){h({type:"text",value:f});continue}o=s.pop(),h({type:"text",value:f}),o=s[s.length-1];continue}if(f===SEe||f===xEe||f===fEe){let g=f,m;for(e.keepQuotes!==!0&&(f="");l<u&&(m=d());){if(m===gN){f+=m+d();continue}if(m===g){e.keepQuotes===!0&&(f+=m);break}f+=m}h({type:"text",value:f});continue}if(f===yEe){p++;let m={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};o=h(m),s.push(o),h({type:"open",value:f});continue}if(f===CEe){if(o.type!=="brace"){h({type:"text",value:f});continue}let g="close";o=s.pop(),o.close=!0,h({type:g,value:f}),p--,o=s[s.length-1];continue}if(f===pEe&&p>0){if(o.ranges>0){o.ranges=0;let g=o.nodes.shift();o.nodes=[g,{type:"text",value:dEe(o)}]}h({type:"comma",value:f}),o.commas++;continue}if(f===hEe&&p>0&&o.commas===0){let g=o.nodes;if(p===0||g.length===0){h({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){g.pop();let m=g[g.length-1];m.value+=a.value+f,a=m,o.ranges--;continue}h({type:"dot",value:f});continue}h({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(y=>{y.nodes||(y.type==="open"&&(y.isOpen=!0),y.type==="close"&&(y.isClose=!0),y.nodes||(y.type="text"),y.invalid=!0)});let g=s[s.length-1],m=g.nodes.indexOf(o);g.nodes.splice(m,1,...o.nodes)}while(s.length>0);return h({type:"eos"}),i};S7.exports=wEe});var w7=P((B9e,v7)=>{"use strict";var b7=gv(),DEe=l7(),TEe=p7(),EEe=x7(),pi=(t,e={})=>{let n=[];if(Array.isArray(t))for(let r of t){let i=pi.create(r,e);Array.isArray(i)?n.push(...i):n.push(i)}else n=[].concat(pi.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(n=[...new Set(n)]),n};pi.parse=(t,e={})=>EEe(t,e);pi.stringify=(t,e={})=>b7(typeof t=="string"?pi.parse(t,e):t,e);pi.compile=(t,e={})=>(typeof t=="string"&&(t=pi.parse(t,e)),DEe(t,e));pi.expand=(t,e={})=>{typeof t=="string"&&(t=pi.parse(t,e));let n=TEe(t,e);return e.noempty===!0&&(n=n.filter(Boolean)),e.nodupes===!0&&(n=[...new Set(n)]),n};pi.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?pi.compile(t,e):pi.expand(t,e);v7.exports=pi});var fg=P(($9e,R7)=>{"use strict";var kEe=require("path"),$s="\\\\/",D7=`[^${$s}]`,Do="\\.",REe="\\+",FEe="\\?",Cv="\\/",AEe="(?=.)",T7="[^/]",mN=`(?:${Cv}|$)`,E7=`(?:^|${Cv})`,yN=`${Do}{1,2}${mN}`,PEe=`(?!${Do})`,_Ee=`(?!${E7}${yN})`,IEe=`(?!${Do}{0,1}${mN})`,NEe=`(?!${yN})`,LEe=`[^.${Cv}]`,OEe=`${T7}*?`,k7={DOT_LITERAL:Do,PLUS_LITERAL:REe,QMARK_LITERAL:FEe,SLASH_LITERAL:Cv,ONE_CHAR:AEe,QMARK:T7,END_ANCHOR:mN,DOTS_SLASH:yN,NO_DOT:PEe,NO_DOTS:_Ee,NO_DOT_SLASH:IEe,NO_DOTS_SLASH:NEe,QMARK_NO_DOT:LEe,STAR:OEe,START_ANCHOR:E7},MEe={...k7,SLASH_LITERAL:`[${$s}]`,QMARK:D7,STAR:`${D7}*?`,DOTS_SLASH:`${Do}{1,2}(?:[${$s}]|$)`,NO_DOT:`(?!${Do})`,NO_DOTS:`(?!(?:^|[${$s}])${Do}{1,2}(?:[${$s}]|$))`,NO_DOT_SLASH:`(?!${Do}{0,1}(?:[${$s}]|$))`,NO_DOTS_SLASH:`(?!${Do}{1,2}(?:[${$s}]|$))`,QMARK_NO_DOT:`[^.${$s}]`,START_ANCHOR:`(?:^|[${$s}])`,END_ANCHOR:`(?:[${$s}]|$)`},UEe={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};R7.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:UEe,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:kEe.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?MEe:k7}}});var pg=P(Jr=>{"use strict";var qEe=require("path"),WEe=process.platform==="win32",{REGEX_BACKSLASH:jEe,REGEX_REMOVE_BACKSLASH:BEe,REGEX_SPECIAL_CHARS:$Ee,REGEX_SPECIAL_CHARS_GLOBAL:KEe}=fg();Jr.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Jr.hasRegexChars=t=>$Ee.test(t);Jr.isRegexChar=t=>t.length===1&&Jr.hasRegexChars(t);Jr.escapeRegex=t=>t.replace(KEe,"\\$1");Jr.toPosixSlashes=t=>t.replace(jEe,"/");Jr.removeBackslashes=t=>t.replace(BEe,e=>e==="\\"?"":e);Jr.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Jr.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:WEe===!0||qEe.sep==="\\";Jr.escapeLast=(t,e,n)=>{let r=t.lastIndexOf(e,n);return r===-1?t:t[r-1]==="\\"?Jr.escapeLast(t,e,r-1):`${t.slice(0,r)}\\${t.slice(r)}`};Jr.removePrefix=(t,e={})=>{let n=t;return n.startsWith("./")&&(n=n.slice(2),e.prefix="./"),n};Jr.wrapOutput=(t,e={},n={})=>{let r=n.contains?"":"^",i=n.contains?"":"$",s=`${r}(?:${t})${i}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var O7=P((z9e,L7)=>{"use strict";var F7=pg(),{CHAR_ASTERISK:CN,CHAR_AT:zEe,CHAR_BACKWARD_SLASH:hg,CHAR_COMMA:HEe,CHAR_DOT:SN,CHAR_EXCLAMATION_MARK:xN,CHAR_FORWARD_SLASH:N7,CHAR_LEFT_CURLY_BRACE:bN,CHAR_LEFT_PARENTHESES:vN,CHAR_LEFT_SQUARE_BRACKET:GEe,CHAR_PLUS:VEe,CHAR_QUESTION_MARK:A7,CHAR_RIGHT_CURLY_BRACE:JEe,CHAR_RIGHT_PARENTHESES:P7,CHAR_RIGHT_SQUARE_BRACKET:XEe}=fg(),_7=t=>t===N7||t===hg,I7=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},YEe=(t,e)=>{let n=e||{},r=t.length-1,i=n.parts===!0||n.scanToEnd===!0,s=[],o=[],a=[],c=t,u=-1,l=0,p=0,f=!1,d=!1,h=!1,g=!1,m=!1,y=!1,C=!1,x=!1,T=!1,E=!1,k=0,L,A,j={value:"",depth:0,isGlob:!1},H=()=>u>=r,F=()=>c.charCodeAt(u+1),M=()=>(L=A,c.charCodeAt(++u));for(;u<r;){A=M();let ue;if(A===hg){C=j.backslashes=!0,A=M(),A===bN&&(y=!0);continue}if(y===!0||A===bN){for(k++;H()!==!0&&(A=M());){if(A===hg){C=j.backslashes=!0,M();continue}if(A===bN){k++;continue}if(y!==!0&&A===SN&&(A=M())===SN){if(f=j.isBrace=!0,h=j.isGlob=!0,E=!0,i===!0)continue;break}if(y!==!0&&A===HEe){if(f=j.isBrace=!0,h=j.isGlob=!0,E=!0,i===!0)continue;break}if(A===JEe&&(k--,k===0)){y=!1,f=j.isBrace=!0,E=!0;break}}if(i===!0)continue;break}if(A===N7){if(s.push(u),o.push(j),j={value:"",depth:0,isGlob:!1},E===!0)continue;if(L===SN&&u===l+1){l+=2;continue}p=u+1;continue}if(n.noext!==!0&&(A===VEe||A===zEe||A===CN||A===A7||A===xN)===!0&&F()===vN){if(h=j.isGlob=!0,g=j.isExtglob=!0,E=!0,A===xN&&u===l&&(T=!0),i===!0){for(;H()!==!0&&(A=M());){if(A===hg){C=j.backslashes=!0,A=M();continue}if(A===P7){h=j.isGlob=!0,E=!0;break}}continue}break}if(A===CN){if(L===CN&&(m=j.isGlobstar=!0),h=j.isGlob=!0,E=!0,i===!0)continue;break}if(A===A7){if(h=j.isGlob=!0,E=!0,i===!0)continue;break}if(A===GEe){for(;H()!==!0&&(ue=M());){if(ue===hg){C=j.backslashes=!0,M();continue}if(ue===XEe){d=j.isBracket=!0,h=j.isGlob=!0,E=!0;break}}if(i===!0)continue;break}if(n.nonegate!==!0&&A===xN&&u===l){x=j.negated=!0,l++;continue}if(n.noparen!==!0&&A===vN){if(h=j.isGlob=!0,i===!0){for(;H()!==!0&&(A=M());){if(A===vN){C=j.backslashes=!0,A=M();continue}if(A===P7){E=!0;break}}continue}break}if(h===!0){if(E=!0,i===!0)continue;break}}n.noext===!0&&(g=!1,h=!1);let J=c,_="",I="";l>0&&(_=c.slice(0,l),c=c.slice(l),p-=l),J&&h===!0&&p>0?(J=c.slice(0,p),I=c.slice(p)):h===!0?(J="",I=c):J=c,J&&J!==""&&J!=="/"&&J!==c&&_7(J.charCodeAt(J.length-1))&&(J=J.slice(0,-1)),n.unescape===!0&&(I&&(I=F7.removeBackslashes(I)),J&&C===!0&&(J=F7.removeBackslashes(J)));let W={prefix:_,input:t,start:l,base:J,glob:I,isBrace:f,isBracket:d,isGlob:h,isExtglob:g,isGlobstar:m,negated:x,negatedExtglob:T};if(n.tokens===!0&&(W.maxDepth=0,_7(A)||o.push(j),W.tokens=o),n.parts===!0||n.tokens===!0){let ue;for(let ce=0;ce<s.length;ce++){let ae=ue?ue+1:l,fe=s[ce],be=t.slice(ae,fe);n.tokens&&(ce===0&&l!==0?(o[ce].isPrefix=!0,o[ce].value=_):o[ce].value=be,I7(o[ce]),W.maxDepth+=o[ce].depth),(ce!==0||be!=="")&&a.push(be),ue=fe}if(ue&&ue+1<t.length){let ce=t.slice(ue+1);a.push(ce),n.tokens&&(o[o.length-1].value=ce,I7(o[o.length-1]),W.maxDepth+=o[o.length-1].depth)}W.slashes=s,W.parts=a}return W};L7.exports=YEe});var q7=P((H9e,U7)=>{"use strict";var Sv=fg(),hi=pg(),{MAX_LENGTH:xv,POSIX_REGEX_SOURCE:QEe,REGEX_NON_SPECIAL_CHARS:ZEe,REGEX_SPECIAL_CHARS_BACKREF:e0e,REPLACEMENTS:M7}=Sv,t0e=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let n=`[${t.join("-")}]`;try{new RegExp(n)}catch{return t.map(i=>hi.escapeRegex(i)).join("..")}return n},hd=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,wN=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=M7[t]||t;let n={...e},r=typeof n.maxLength=="number"?Math.min(xv,n.maxLength):xv,i=t.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);let s={type:"bos",value:"",output:n.prepend||""},o=[s],a=n.capture?"":"?:",c=hi.isWindows(e),u=Sv.globChars(c),l=Sv.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:d,ONE_CHAR:h,DOTS_SLASH:g,NO_DOT:m,NO_DOT_SLASH:y,NO_DOTS_SLASH:C,QMARK:x,QMARK_NO_DOT:T,STAR:E,START_ANCHOR:k}=u,L=re=>`(${a}(?:(?!${k}${re.dot?g:p}).)*?)`,A=n.dot?"":m,j=n.dot?x:T,H=n.bash===!0?L(n):E;n.capture&&(H=`(${H})`),typeof n.noext=="boolean"&&(n.noextglob=n.noext);let F={input:t,index:-1,start:0,dot:n.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=hi.removePrefix(t,F),i=t.length;let M=[],J=[],_=[],I=s,W,ue=()=>F.index===i-1,ce=F.peek=(re=1)=>t[F.index+re],ae=F.advance=()=>t[++F.index]||"",fe=()=>t.slice(F.index+1),be=(re="",pe=0)=>{F.consumed+=re,F.index+=pe},Ue=re=>{F.output+=re.output!=null?re.output:re.value,be(re.value)},st=()=>{let re=1;for(;ce()==="!"&&(ce(2)!=="("||ce(3)==="?");)ae(),F.start++,re++;return re%2===0?!1:(F.negated=!0,F.start++,!0)},ut=re=>{F[re]++,_.push(re)},et=re=>{F[re]--,_.pop()},ie=re=>{if(I.type==="globstar"){let pe=F.braces>0&&(re.type==="comma"||re.type==="brace"),se=re.extglob===!0||M.length&&(re.type==="pipe"||re.type==="paren");re.type!=="slash"&&re.type!=="paren"&&!pe&&!se&&(F.output=F.output.slice(0,-I.output.length),I.type="star",I.value="*",I.output=H,F.output+=I.output)}if(M.length&&re.type!=="paren"&&(M[M.length-1].inner+=re.value),(re.value||re.output)&&Ue(re),I&&I.type==="text"&&re.type==="text"){I.value+=re.value,I.output=(I.output||"")+re.value;return}re.prev=I,o.push(re),I=re},qe=(re,pe)=>{let se={...l[pe],conditions:1,inner:""};se.prev=I,se.parens=F.parens,se.output=F.output;let he=(n.capture?"(":"")+se.open;ut("parens"),ie({type:re,value:pe,output:F.output?"":h}),ie({type:"paren",extglob:!0,value:ae(),output:he}),M.push(se)},Ke=re=>{let pe=re.close+(n.capture?")":""),se;if(re.type==="negate"){let he=H;if(re.inner&&re.inner.length>1&&re.inner.includes("/")&&(he=L(n)),(he!==H||ue()||/^\)+$/.test(fe()))&&(pe=re.close=`)$))${he}`),re.inner.includes("*")&&(se=fe())&&/^\.[^\\/.]+$/.test(se)){let ze=wN(se,{...e,fastpaths:!1}).output;pe=re.close=`)${ze})${he})`}re.prev.type==="bos"&&(F.negatedExtglob=!0)}ie({type:"paren",extglob:!0,value:W,output:pe}),et("parens")};if(n.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let re=!1,pe=t.replace(e0e,(se,he,ze,ot,Xe,tr)=>ot==="\\"?(re=!0,se):ot==="?"?he?he+ot+(Xe?x.repeat(Xe.length):""):tr===0?j+(Xe?x.repeat(Xe.length):""):x.repeat(ze.length):ot==="."?p.repeat(ze.length):ot==="*"?he?he+ot+(Xe?H:""):H:he?se:`\\${se}`);return re===!0&&(n.unescape===!0?pe=pe.replace(/\\/g,""):pe=pe.replace(/\\+/g,se=>se.length%2===0?"\\\\":se?"\\":"")),pe===t&&n.contains===!0?(F.output=t,F):(F.output=hi.wrapOutput(pe,F,e),F)}for(;!ue();){if(W=ae(),W==="\0")continue;if(W==="\\"){let se=ce();if(se==="/"&&n.bash!==!0||se==="."||se===";")continue;if(!se){W+="\\",ie({type:"text",value:W});continue}let he=/^\\+/.exec(fe()),ze=0;if(he&&he[0].length>2&&(ze=he[0].length,F.index+=ze,ze%2!==0&&(W+="\\")),n.unescape===!0?W=ae():W+=ae(),F.brackets===0){ie({type:"text",value:W});continue}}if(F.brackets>0&&(W!=="]"||I.value==="["||I.value==="[^")){if(n.posix!==!1&&W===":"){let se=I.value.slice(1);if(se.includes("[")&&(I.posix=!0,se.includes(":"))){let he=I.value.lastIndexOf("["),ze=I.value.slice(0,he),ot=I.value.slice(he+2),Xe=QEe[ot];if(Xe){I.value=ze+Xe,F.backtrack=!0,ae(),!s.output&&o.indexOf(I)===1&&(s.output=h);continue}}}(W==="["&&ce()!==":"||W==="-"&&ce()==="]")&&(W=`\\${W}`),W==="]"&&(I.value==="["||I.value==="[^")&&(W=`\\${W}`),n.posix===!0&&W==="!"&&I.value==="["&&(W="^"),I.value+=W,Ue({value:W});continue}if(F.quotes===1&&W!=='"'){W=hi.escapeRegex(W),I.value+=W,Ue({value:W});continue}if(W==='"'){F.quotes=F.quotes===1?0:1,n.keepQuotes===!0&&ie({type:"text",value:W});continue}if(W==="("){ut("parens"),ie({type:"paren",value:W});continue}if(W===")"){if(F.parens===0&&n.strictBrackets===!0)throw new SyntaxError(hd("opening","("));let se=M[M.length-1];if(se&&F.parens===se.parens+1){Ke(M.pop());continue}ie({type:"paren",value:W,output:F.parens?")":"\\)"}),et("parens");continue}if(W==="["){if(n.nobracket===!0||!fe().includes("]")){if(n.nobracket!==!0&&n.strictBrackets===!0)throw new SyntaxError(hd("closing","]"));W=`\\${W}`}else ut("brackets");ie({type:"bracket",value:W});continue}if(W==="]"){if(n.nobracket===!0||I&&I.type==="bracket"&&I.value.length===1){ie({type:"text",value:W,output:`\\${W}`});continue}if(F.brackets===0){if(n.strictBrackets===!0)throw new SyntaxError(hd("opening","["));ie({type:"text",value:W,output:`\\${W}`});continue}et("brackets");let se=I.value.slice(1);if(I.posix!==!0&&se[0]==="^"&&!se.includes("/")&&(W=`/${W}`),I.value+=W,Ue({value:W}),n.literalBrackets===!1||hi.hasRegexChars(se))continue;let he=hi.escapeRegex(I.value);if(F.output=F.output.slice(0,-I.value.length),n.literalBrackets===!0){F.output+=he,I.value=he;continue}I.value=`(${a}${he}|${I.value})`,F.output+=I.value;continue}if(W==="{"&&n.nobrace!==!0){ut("braces");let se={type:"brace",value:W,output:"(",outputIndex:F.output.length,tokensIndex:F.tokens.length};J.push(se),ie(se);continue}if(W==="}"){let se=J[J.length-1];if(n.nobrace===!0||!se){ie({type:"text",value:W,output:W});continue}let he=")";if(se.dots===!0){let ze=o.slice(),ot=[];for(let Xe=ze.length-1;Xe>=0&&(o.pop(),ze[Xe].type!=="brace");Xe--)ze[Xe].type!=="dots"&&ot.unshift(ze[Xe].value);he=t0e(ot,n),F.backtrack=!0}if(se.comma!==!0&&se.dots!==!0){let ze=F.output.slice(0,se.outputIndex),ot=F.tokens.slice(se.tokensIndex);se.value=se.output="\\{",W=he="\\}",F.output=ze;for(let Xe of ot)F.output+=Xe.output||Xe.value}ie({type:"brace",value:W,output:he}),et("braces"),J.pop();continue}if(W==="|"){M.length>0&&M[M.length-1].conditions++,ie({type:"text",value:W});continue}if(W===","){let se=W,he=J[J.length-1];he&&_[_.length-1]==="braces"&&(he.comma=!0,se="|"),ie({type:"comma",value:W,output:se});continue}if(W==="/"){if(I.type==="dot"&&F.index===F.start+1){F.start=F.index+1,F.consumed="",F.output="",o.pop(),I=s;continue}ie({type:"slash",value:W,output:d});continue}if(W==="."){if(F.braces>0&&I.type==="dot"){I.value==="."&&(I.output=p);let se=J[J.length-1];I.type="dots",I.output+=W,I.value+=W,se.dots=!0;continue}if(F.braces+F.parens===0&&I.type!=="bos"&&I.type!=="slash"){ie({type:"text",value:W,output:p});continue}ie({type:"dot",value:W,output:p});continue}if(W==="?"){if(!(I&&I.value==="(")&&n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){qe("qmark",W);continue}if(I&&I.type==="paren"){let he=ce(),ze=W;if(he==="<"&&!hi.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(I.value==="("&&!/[!=<:]/.test(he)||he==="<"&&!/<([!=]|\w+>)/.test(fe()))&&(ze=`\\${W}`),ie({type:"text",value:W,output:ze});continue}if(n.dot!==!0&&(I.type==="slash"||I.type==="bos")){ie({type:"qmark",value:W,output:T});continue}ie({type:"qmark",value:W,output:x});continue}if(W==="!"){if(n.noextglob!==!0&&ce()==="("&&(ce(2)!=="?"||!/[!=<:]/.test(ce(3)))){qe("negate",W);continue}if(n.nonegate!==!0&&F.index===0){st();continue}}if(W==="+"){if(n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){qe("plus",W);continue}if(I&&I.value==="("||n.regex===!1){ie({type:"plus",value:W,output:f});continue}if(I&&(I.type==="bracket"||I.type==="paren"||I.type==="brace")||F.parens>0){ie({type:"plus",value:W});continue}ie({type:"plus",value:f});continue}if(W==="@"){if(n.noextglob!==!0&&ce()==="("&&ce(2)!=="?"){ie({type:"at",extglob:!0,value:W,output:""});continue}ie({type:"text",value:W});continue}if(W!=="*"){(W==="$"||W==="^")&&(W=`\\${W}`);let se=ZEe.exec(fe());se&&(W+=se[0],F.index+=se[0].length),ie({type:"text",value:W});continue}if(I&&(I.type==="globstar"||I.star===!0)){I.type="star",I.star=!0,I.value+=W,I.output=H,F.backtrack=!0,F.globstar=!0,be(W);continue}let re=fe();if(n.noextglob!==!0&&/^\([^?]/.test(re)){qe("star",W);continue}if(I.type==="star"){if(n.noglobstar===!0){be(W);continue}let se=I.prev,he=se.prev,ze=se.type==="slash"||se.type==="bos",ot=he&&(he.type==="star"||he.type==="globstar");if(n.bash===!0&&(!ze||re[0]&&re[0]!=="/")){ie({type:"star",value:W,output:""});continue}let Xe=F.braces>0&&(se.type==="comma"||se.type==="brace"),tr=M.length&&(se.type==="pipe"||se.type==="paren");if(!ze&&se.type!=="paren"&&!Xe&&!tr){ie({type:"star",value:W,output:""});continue}for(;re.slice(0,3)==="/**";){let an=t[F.index+4];if(an&&an!=="/")break;re=re.slice(3),be("/**",3)}if(se.type==="bos"&&ue()){I.type="globstar",I.value+=W,I.output=L(n),F.output=I.output,F.globstar=!0,be(W);continue}if(se.type==="slash"&&se.prev.type!=="bos"&&!ot&&ue()){F.output=F.output.slice(0,-(se.output+I.output).length),se.output=`(?:${se.output}`,I.type="globstar",I.output=L(n)+(n.strictSlashes?")":"|$)"),I.value+=W,F.globstar=!0,F.output+=se.output+I.output,be(W);continue}if(se.type==="slash"&&se.prev.type!=="bos"&&re[0]==="/"){let an=re[1]!==void 0?"|$":"";F.output=F.output.slice(0,-(se.output+I.output).length),se.output=`(?:${se.output}`,I.type="globstar",I.output=`${L(n)}${d}|${d}${an})`,I.value+=W,F.output+=se.output+I.output,F.globstar=!0,be(W+ae()),ie({type:"slash",value:"/",output:""});continue}if(se.type==="bos"&&re[0]==="/"){I.type="globstar",I.value+=W,I.output=`(?:^|${d}|${L(n)}${d})`,F.output=I.output,F.globstar=!0,be(W+ae()),ie({type:"slash",value:"/",output:""});continue}F.output=F.output.slice(0,-I.output.length),I.type="globstar",I.output=L(n),I.value+=W,F.output+=I.output,F.globstar=!0,be(W);continue}let pe={type:"star",value:W,output:H};if(n.bash===!0){pe.output=".*?",(I.type==="bos"||I.type==="slash")&&(pe.output=A+pe.output),ie(pe);continue}if(I&&(I.type==="bracket"||I.type==="paren")&&n.regex===!0){pe.output=W,ie(pe);continue}(F.index===F.start||I.type==="slash"||I.type==="dot")&&(I.type==="dot"?(F.output+=y,I.output+=y):n.dot===!0?(F.output+=C,I.output+=C):(F.output+=A,I.output+=A),ce()!=="*"&&(F.output+=h,I.output+=h)),ie(pe)}for(;F.brackets>0;){if(n.strictBrackets===!0)throw new SyntaxError(hd("closing","]"));F.output=hi.escapeLast(F.output,"["),et("brackets")}for(;F.parens>0;){if(n.strictBrackets===!0)throw new SyntaxError(hd("closing",")"));F.output=hi.escapeLast(F.output,"("),et("parens")}for(;F.braces>0;){if(n.strictBrackets===!0)throw new SyntaxError(hd("closing","}"));F.output=hi.escapeLast(F.output,"{"),et("braces")}if(n.strictSlashes!==!0&&(I.type==="star"||I.type==="bracket")&&ie({type:"maybe_slash",value:"",output:`${d}?`}),F.backtrack===!0){F.output="";for(let re of F.tokens)F.output+=re.output!=null?re.output:re.value,re.suffix&&(F.output+=re.suffix)}return F};wN.fastpaths=(t,e)=>{let n={...e},r=typeof n.maxLength=="number"?Math.min(xv,n.maxLength):xv,i=t.length;if(i>r)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${r}`);t=M7[t]||t;let s=hi.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:d,START_ANCHOR:h}=Sv.globChars(s),g=n.dot?p:l,m=n.dot?f:l,y=n.capture?"":"?:",C={negated:!1,prefix:""},x=n.bash===!0?".*?":d;n.capture&&(x=`(${x})`);let T=A=>A.noglobstar===!0?x:`(${y}(?:(?!${h}${A.dot?u:o}).)*?)`,E=A=>{switch(A){case"*":return`${g}${c}${x}`;case".*":return`${o}${c}${x}`;case"*.*":return`${g}${x}${o}${c}${x}`;case"*/*":return`${g}${x}${a}${c}${m}${x}`;case"**":return g+T(n);case"**/*":return`(?:${g}${T(n)}${a})?${m}${c}${x}`;case"**/*.*":return`(?:${g}${T(n)}${a})?${m}${x}${o}${c}${x}`;case"**/.*":return`(?:${g}${T(n)}${a})?${o}${c}${x}`;default:{let j=/^(.*?)\.(\w+)$/.exec(A);if(!j)return;let H=E(j[1]);return H?H+o+j[2]:void 0}}},k=hi.removePrefix(t,C),L=E(k);return L&&n.strictSlashes!==!0&&(L+=`${a}?`),L};U7.exports=wN});var j7=P((G9e,W7)=>{"use strict";var n0e=require("path"),r0e=O7(),DN=q7(),TN=pg(),i0e=fg(),s0e=t=>t&&typeof t=="object"&&!Array.isArray(t),Tn=(t,e,n=!1)=>{if(Array.isArray(t)){let l=t.map(f=>Tn(f,e,n));return f=>{for(let d of l){let h=d(f);if(h)return h}return!1}}let r=s0e(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!r)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},s=TN.isWindows(e),o=r?Tn.compileRe(t,e):Tn.makeRe(t,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=Tn(i.ignore,l,n)}let u=(l,p=!1)=>{let{isMatch:f,match:d,output:h}=Tn.test(l,o,e,{glob:t,posix:s}),g={glob:t,state:a,regex:o,posix:s,input:l,output:h,match:d,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,p?g:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return n&&(u.state=a),u};Tn.test=(t,e,n,{glob:r,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=n||{},o=s.format||(i?TN.toPosixSlashes:null),a=t===r,c=a&&o?o(t):t;return a===!1&&(c=o?o(t):t,a=c===r),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=Tn.matchBase(t,e,n,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};Tn.matchBase=(t,e,n,r=TN.isWindows(n))=>(e instanceof RegExp?e:Tn.makeRe(e,n)).test(n0e.basename(t));Tn.isMatch=(t,e,n)=>Tn(e,n)(t);Tn.parse=(t,e)=>Array.isArray(t)?t.map(n=>Tn.parse(n,e)):DN(t,{...e,fastpaths:!1});Tn.scan=(t,e)=>r0e(t,e);Tn.compileRe=(t,e,n=!1,r=!1)=>{if(n===!0)return t.output;let i=e||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Tn.toRegex(a,e);return r===!0&&(c.state=t),c};Tn.makeRe=(t,e={},n=!1,r=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=DN.fastpaths(t,e)),i.output||(i=DN(t,e)),Tn.compileRe(i,e,n,r)};Tn.toRegex=(t,e)=>{try{let n=e||{};return new RegExp(t,n.flags||(n.nocase?"i":""))}catch(n){if(e&&e.debug===!0)throw n;return/$^/}};Tn.constants=i0e;W7.exports=Tn});var $7=P((V9e,B7)=>{"use strict";B7.exports=j7()});var J7=P((J9e,V7)=>{"use strict";var z7=require("util"),H7=w7(),Ks=$7(),EN=pg(),K7=t=>t===""||t==="./",G7=t=>{let e=t.indexOf("{");return e>-1&&t.indexOf("}",e)>-1},Gt=(t,e,n)=>{e=[].concat(e),t=[].concat(t);let r=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),n&&n.onResult&&n.onResult(l)};for(let l=0;l<e.length;l++){let p=Ks(String(e[l]),{...n,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&o++;for(let d of t){let h=p(d,!0);(f?!h.isMatch:h.isMatch)&&(f?r.add(h.output):(r.delete(h.output),i.add(h.output)))}}let u=(o===e.length?[...s]:[...i]).filter(l=>!r.has(l));if(n&&u.length===0){if(n.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(n.nonull===!0||n.nullglob===!0)return n.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};Gt.match=Gt;Gt.matcher=(t,e)=>Ks(t,e);Gt.isMatch=(t,e,n)=>Ks(e,n)(t);Gt.any=Gt.isMatch;Gt.not=(t,e,n={})=>{e=[].concat(e).map(String);let r=new Set,i=[],s=a=>{n.onResult&&n.onResult(a),i.push(a.output)},o=new Set(Gt(t,e,{...n,onResult:s}));for(let a of i)o.has(a)||r.add(a);return[...r]};Gt.contains=(t,e,n)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${z7.inspect(t)}"`);if(Array.isArray(e))return e.some(r=>Gt.contains(t,r,n));if(typeof e=="string"){if(K7(t)||K7(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return Gt.isMatch(t,e,{...n,contains:!0})};Gt.matchKeys=(t,e,n)=>{if(!EN.isObject(t))throw new TypeError("Expected the first argument to be an object");let r=Gt(Object.keys(t),e,n),i={};for(let s of r)i[s]=t[s];return i};Gt.some=(t,e,n)=>{let r=[].concat(t);for(let i of[].concat(e)){let s=Ks(String(i),n);if(r.some(o=>s(o)))return!0}return!1};Gt.every=(t,e,n)=>{let r=[].concat(t);for(let i of[].concat(e)){let s=Ks(String(i),n);if(!r.every(o=>s(o)))return!1}return!0};Gt.all=(t,e,n)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${z7.inspect(t)}"`);return[].concat(e).every(r=>Ks(r,n)(t))};Gt.capture=(t,e,n)=>{let r=EN.isWindows(n),s=Ks.makeRe(String(t),{...n,capture:!0}).exec(r?EN.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};Gt.makeRe=(...t)=>Ks.makeRe(...t);Gt.scan=(...t)=>Ks.scan(...t);Gt.parse=(t,e)=>{let n=[];for(let r of[].concat(t||[]))for(let i of H7(String(r),e))n.push(Ks.parse(i,e));return n};Gt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!G7(t)?[t]:H7(t,e)};Gt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return Gt.braces(t,{...e,expand:!0})};Gt.hasBraces=G7;V7.exports=Gt});var sL=P((hJe,iL)=>{"use strict";var cX=()=>{let t=Error.prepareStackTrace;Error.prepareStackTrace=(n,r)=>r;let e=new Error().stack.slice(1);return Error.prepareStackTrace=t,e};iL.exports=cX;iL.exports.default=cX});var lX=P((gJe,uX)=>{"use strict";var xke=sL();uX.exports=t=>{let e=xke();if(!t)return e[2].getFileName();let n=!1;e.shift();for(let r of e){let i=r.getFileName();if(typeof i=="string"){if(i===t){n=!0;continue}if(i!=="module.js"&&n&&i!==t)return i}}}});var mX=P((mJe,gX)=>{"use strict";var dX=require("path"),fX=DI(),pX=lX(),hX=t=>{try{return fX(dX.dirname(pX(__filename)),t)}catch{}},Dd=t=>{if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);let e=hX(t);if(e){if(require.cache[e]&&require.cache[e].parent){let n=require.cache[e].parent.children.length;for(;n--;)require.cache[e].parent.children[n].id===e&&require.cache[e].parent.children.splice(n,1)}if(require.cache[e]){let n=require.cache[e].children.map(r=>r.id);delete require.cache[e];for(let r of n)Dd(r)}}};Dd.all=()=>{let t=dX.dirname(pX(__filename));for(let e of Object.keys(require.cache))delete require.cache[fX(t,e)]};Dd.match=t=>{for(let e of Object.keys(require.cache))t.test(e)&&Dd(e)};Dd.single=t=>{if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);delete require.cache[hX(t)]};gX.exports=Dd});var xX=P((yJe,oL)=>{"use strict";var yX=require("path"),CX=require("module"),bke=require("fs"),SX=(t,e,n)=>{if(typeof t!="string")throw new TypeError(`Expected \`fromDir\` to be of type \`string\`, got \`${typeof t}\``);if(typeof e!="string")throw new TypeError(`Expected \`moduleId\` to be of type \`string\`, got \`${typeof e}\``);try{t=bke.realpathSync(t)}catch(s){if(s.code==="ENOENT")t=yX.resolve(t);else{if(n)return null;throw s}}let r=yX.join(t,"noop.js"),i=()=>CX._resolveFilename(e,{id:r,filename:r,paths:CX._nodeModulePaths(t)});if(n)try{return i()}catch{return null}return i()};oL.exports=(t,e)=>SX(t,e);oL.exports.silent=(t,e)=>SX(t,e,!0)});var vX=P((CJe,bX)=>{"use strict";var vke=sL();bX.exports=t=>{let e=vke();if(!t)return e[2].getFileName();let n=!1;e.shift();for(let r of e){let i=r.getFileName();if(typeof i=="string"){if(i===t){n=!0;continue}if(i!=="module.js"&&n&&i!==t)return i}}}});var DX=P((SJe,wX)=>{"use strict";var wke=require("path"),Dke=xX(),Tke=vX();wX.exports=t=>{if(typeof t!="string")throw new TypeError("Expected a string");let e=Tke(__filename),n=e?wke.dirname(e):__dirname,r=Dke(n,t),i=require.cache[r];if(i&&i.parent){let o=i.parent.children.length;for(;o--;)i.parent.children[o].id===r&&i.parent.children.splice(o,1)}delete require.cache[r];let s=require.cache[e];return s===void 0?require(r):s.require(r)}});var kZ=P((nrt,EZ)=>{"use strict";EZ.exports=function(t){return typeof t=="string"?TZ(t):M1(t)};function M1(t){return!t||typeof t!="object"||wPe(t)||DPe(t)?t:vPe(t)?kPe(t,M1):RPe(EPe(t),function(e,n){var r=TZ(n);return e[r]=M1(t[n]),e},{})}function TZ(t){return t.replace(/[_.-](\w|$)/g,function(e,n){return n.toUpperCase()})}var vPe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},wPe=function(t){return Object.prototype.toString.call(t)==="[object Date]"},DPe=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},TPe=Object.prototype.hasOwnProperty,EPe=Object.keys||function(t){var e=[];for(var n in t)TPe.call(t,n)&&e.push(n);return e};function kPe(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function RPe(t,e,n){if(t.reduce)return t.reduce(e,n);for(var r=0;r<t.length;r++)n=e(n,t[r],r);return n}});var uee=P((Vrt,Y1)=>{"use strict";var k_e=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),c;!(i=(c=a.next()).done)&&(r.push(c.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Uw="[\x1B\x9B][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",cee="\0-\b\v-\x1B\x9B\xAD\u200B\u2028\u2029\uFEFF\uFE00-\uFE0F",X1=`
`+cee,R_e=new RegExp("(?:"+Uw+")|["+cee+"]","g"),V1=new RegExp("(?:"+Uw+")|["+X1+"]","g"),J1=new RegExp("((?:"+Uw+")|[	"+X1+"])?([^	"+X1+"]*)","g");Y1.exports={zeroWidthCharacters:V1,ansiEscapeCodes:new RegExp(Uw,"g"),strlen:t=>Array.from(t.replace(V1,"")).length,isBlank:t=>t.replace(V1,"").replace(/\s/g,"").length===0,blank:t=>Array.from(t.replace(R_e,"")).map(e=>e==="	"||e===`
`?e:" ").join(""),partition(t){for(var e,n=[];J1.lastIndex!==t.length&&(e=J1.exec(t));)n.push([e[1]||"",e[2]]);return J1.lastIndex=0,n},first(t,e){let n="",r=0;for(let s of Y1.exports.partition(t)){var i=k_e(s,2);let o=i[0],a=i[1],c=Array.from(a).slice(0,e-r);n+=o+c.join(""),r+=c.length}return n}}});var hee=P((Jrt,pee)=>{"use strict";function Kd(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var qw=Object,dee=uee(),F_e=dee.first,Ww=dee.strlen,A_e=(t,e)=>F_e(t,e-1)+"\u2026",lee=(t,e)=>{let n=(h,g)=>h.reduce((m,y)=>y.map((C,x)=>[].concat(Kd(m[x]||[]),[C])),[]).map(m=>g.apply(void 0,Kd(m))),r=t.map(h=>h.map(g=>g.replace(/\n/g,"\\n"))),i=r.map(h=>h.map(Ww)),s=n(i,Math.max),o=qw.assign({delimiter:"  ",minColumnWidths:s.map(h=>0),maxTotalWidth:0},e),a=Ww(o.delimiter),c=s.reduce((h,g)=>h+g,0),u=s.map(h=>h/c),l=o.maxTotalWidth-a*(s.length-1),p=Math.max(0,c-l),f=n([o.minColumnWidths,s,u],(h,g,m)=>Math.max(h,Math.floor(g-p*m))),d=i.map(h=>n([f,h],(g,m)=>g-m));return n([r,d],(h,g)=>n([h,g],(m,y)=>y>=0?o.right?" ".repeat(y)+m:m+" ".repeat(y):A_e(m,Ww(m)+y)).join(o.delimiter))},fee=t=>qw.assign(e=>{var n;if(e[0]&&Array.isArray(e[0]))return lee(e.map(o=>o.map((a,c)=>a===void 0?"":t.print(a,c))),t).join(`
`);let r=[].concat(Kd(new Set((n=[]).concat.apply(n,Kd(e.map(qw.keys)))))),i=[r.map(t.title)].concat(Kd(e.map(o=>r.map(a=>o[a]===void 0?"":t.print(o[a],a))))),s=lee(i,t);return(t.dash?[s[0],t.dash.repeat(Ww(s[0]))].concat(Kd(s.slice(1))):s).join(`
`)},t,{configure:e=>fee(qw.assign({},t,e))});pee.exports=fee({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1})});var uO=P(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.symbolIsDisposed=Pt.symbolDisposableTs=Pt.symbolDisposableName=void 0;Pt.createDisposable=zd;Pt.injectDisposable=G_e;Pt.createDisposableFromList=V_e;Pt.createDisposeMethodFromList=Iee;Pt.disposeOf=Nee;Pt.makeDisposable=J_e;Pt.setDisposableName=X_e;Pt.getDisposableName=Lee;Pt.getDisposableTs=Oee;Pt.isDisposed=Y_e;Pt.setLogger=Q_e;Pt.isDisposableHybrid=Mee;Symbol.dispose??=Symbol("Symbol.dispose");Pt.symbolDisposableName=Symbol("Disposable Name");Pt.symbolDisposableTs=Symbol("Disposable Timestamp");Pt.symbolIsDisposed=Symbol("Disposable Is Disposed");var ms,rm=0,nm=0;function zd(t,e,n){let r=!1,i=!1,s={dispose:o,[Symbol.dispose]:o,[Pt.symbolDisposableTs]:performance.now(),[Pt.symbolDisposableName]:n||void 0,[Pt.symbolIsDisposed]:!1};return++nm,ms?.debug(Hd()+"Created: %s, active: %i",zw(s),nm),s;function o(){try{if(ms?.debug(Hd()+"Dispose Start -> %s Active %i",zw(s),nm),++rm,r){s[Pt.symbolIsDisposed]=!0,ms?.warn("Already disposed %s",zw(s));return}--nm,s[Pt.symbolIsDisposed]=r=!0,e?t.call(e):t()}catch(a){throw i=!0,a}finally{--rm,ms?.debug(Hd()+"Dispose End   -> %s Active %i%s",zw(s),nm,i?" ** with errors ** ":"")}}}function zw(t){let e=Lee(t)||"",n=Oee(t)?.toFixed(4);return e+" "+n}function G_e(t,e,n){return Object.assign(t,zd(e,t,n))}function V_e(t,e="createDisposableFromList"){return zd(Iee(t),void 0,e)}function Iee(t,e=""){let n=!1,r=performance.now().toFixed(4);ms&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),ms?.debug(Hd()+"Create: %s %s",e,r);let i=0;function s(){try{ms?.debug(Hd()+"Dispose Start -> %s %s",e,r),++rm;let o;if(n&&(ms?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{Nee(a)}catch(c){++i,o??=c}if(o)throw ms?.warn(o),o}finally{--rm,ms?.debug(Hd()+"Dispose End   -> %s %s%s",e,r,i?` *** with ${i} errors ***`:"")}}return s}function Nee(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function J_e(t,e="makeDisposable"){return Mee(t)?t:Symbol.dispose in t?zd(t[Symbol.dispose],t,e):"dispose"in t?zd(t.dispose,t,e):zd(t,void 0,e)}function X_e(t,e){return t[Pt.symbolDisposableName]=e,t}function Lee(t){return t[Pt.symbolDisposableName]}function Oee(t){return t[Pt.symbolDisposableTs]}function Y_e(t){return t[Pt.symbolIsDisposed]}function Q_e(t){ms=t}function Mee(t){return!t||typeof t!="object"?!1:Pt.symbolIsDisposed in t}function Hd(){return" ".repeat(rm)}});var Uee=P(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.DisposableList=Gs.InheritableDisposable=Gs.noop=void 0;Gs.createDisposableList=eIe;var Hw=uO(),Z_e=()=>{};Gs.noop=Z_e;var Gw=class{dispose;[Symbol.dispose]=Gs.noop;[Hw.symbolIsDisposed]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let r=(0,Hw.createDisposeMethodFromList)(this._disposables,n),i=()=>{this.isDisposed()||(this[Hw.symbolIsDisposed]=!0,r(),Object.freeze(this._disposables))};this.dispose=i,this[Symbol.dispose]=i}isDisposed(){return this[Hw.symbolIsDisposed]}};Gs.InheritableDisposable=Gw;var Vw=class extends Gw{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let r of e)this.add(r)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};Gs.DisposableList=Vw;function eIe(t,e){return new Vw(t,e)}});var qee=P(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.InheritableDisposable=on.DisposableList=on.createDisposableList=on.setLogger=on.makeDisposable=on.injectDisposable=on.getDisposableTs=on.disposeOf=on.createDisposeMethodFromList=on.createDisposableFromList=on.createDisposable=void 0;var ec=uO();Object.defineProperty(on,"createDisposable",{enumerable:!0,get:function(){return ec.createDisposable}});Object.defineProperty(on,"createDisposableFromList",{enumerable:!0,get:function(){return ec.createDisposableFromList}});Object.defineProperty(on,"createDisposeMethodFromList",{enumerable:!0,get:function(){return ec.createDisposeMethodFromList}});Object.defineProperty(on,"disposeOf",{enumerable:!0,get:function(){return ec.disposeOf}});Object.defineProperty(on,"getDisposableTs",{enumerable:!0,get:function(){return ec.getDisposableTs}});Object.defineProperty(on,"injectDisposable",{enumerable:!0,get:function(){return ec.injectDisposable}});Object.defineProperty(on,"makeDisposable",{enumerable:!0,get:function(){return ec.makeDisposable}});Object.defineProperty(on,"setLogger",{enumerable:!0,get:function(){return ec.setLogger}});var lO=Uee();Object.defineProperty(on,"createDisposableList",{enumerable:!0,get:function(){return lO.createDisposableList}});Object.defineProperty(on,"DisposableList",{enumerable:!0,get:function(){return lO.DisposableList}});Object.defineProperty(on,"InheritableDisposable",{enumerable:!0,get:function(){return lO.InheritableDisposable}})});var Gee=P(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.defaultApiPrefix=void 0;tc.createServerApi=tIe;tc.createClientApi=nIe;var Gd=qee();tc.defaultApiPrefix={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function tIe(t,e,n,r=tc.defaultApiPrefix){let i=[],s=Kee(e.serverRequests,n),o=zee(e.serverNotifications,n);Wee(t,r.serverRequests,s,i,n),jee(t,r.serverNotifications,o,i,n);let a=Bee(t,r.clientRequests,e.clientRequests,n),c=$ee(t,r.clientNotifications,e.clientNotifications,n);return(0,Gd.injectDisposable)({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},(0,Gd.createDisposeMethodFromList)(i))}function nIe(t,e,n,r=tc.defaultApiPrefix){let i=[],s=Kee(e.clientRequests,n),o=zee(e.clientNotifications,n);Wee(t,r.clientRequests,s,i,n),jee(t,r.clientNotifications,o,i,n);let a=Bee(t,r.serverRequests,e.serverRequests,n),c=$ee(t,r.serverNotifications,e.serverNotifications,n);return(0,Gd.injectDisposable)({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},(0,Gd.createDisposeMethodFromList)(i))}function Wee(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;r.push(t.onRequest(c,u=>(i?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function jee(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;r.push(t.onNotification(a,u=>(i?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function Bee(t,e,n,r){let i=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++i;return r?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(l=>(r?.log(`send request "${s}" %o: Response: %o`,u,l),l))}]}))}function $ee(t,e,n,r){return Object.fromEntries(Object.entries(n).map(([i])=>{let s=e+i;return[i,(...a)=>(r?.log(`send notification "${i}" %o`,a),t.sendNotification(s,a))]}))}function Kee(t,e){function n([r,i]){if(!i)return;let s=iIe(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(Hee))}function zee(t,e){function n([r,i]){if(!i)return;let s=rIe(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(Hee))}function rIe(t,e){let n=new Set;async function r(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function i(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),(0,Gd.createDisposable)(()=>n.delete(s))}return{publish:r,subscribe:i}}function iIe(t,e){let n;async function r(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function i(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),(0,Gd.createDisposable)(()=>{n===s&&(n=void 0)})}return{publish:r,subscribe:i}}function Hee(t){return t!==void 0}});var Jee=P(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.createServerApi=Vd.createClientApi=void 0;var Vee=Gee();Object.defineProperty(Vd,"createClientApi",{enumerable:!0,get:function(){return Vee.createClientApi}});Object.defineProperty(Vd,"createServerApi",{enumerable:!0,get:function(){return Vee.createServerApi}})});var Yee=P(Jw=>{"use strict";Object.defineProperty(Jw,"__esModule",{value:!0});Jw.createServerSideSpellInfoWebviewApi=sIe;Jw.createClientSideSpellInfoWebviewApi=oIe;var Xee=Jee();function sIe(t,e,n){return(0,Xee.createServerApi)(t,e,n)}function oIe(t,e,n){return(0,Xee.createClientApi)(t,e,n)}});var Qee=P(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.supportedViewsByName=Fu.namedViews=void 0;Fu.namedViews=["todo","hello-world","cspell-info"];Fu.supportedViewsByName=Object.freeze(Object.fromEntries(Fu.namedViews.map(t=>[t,t])))});var im=P(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.supportedViewsByName=nc.createServerSideSpellInfoWebviewApi=nc.createClientSideSpellInfoWebviewApi=void 0;var Zee=Yee();Object.defineProperty(nc,"createClientSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return Zee.createClientSideSpellInfoWebviewApi}});Object.defineProperty(nc,"createServerSideSpellInfoWebviewApi",{enumerable:!0,get:function(){return Zee.createServerSideSpellInfoWebviewApi}});var aIe=Qee();Object.defineProperty(nc,"supportedViewsByName",{enumerable:!0,get:function(){return aIe.supportedViewsByName}})});var dte=P((Jit,lte)=>{"use strict";lte.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var Yd=P(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.stringArray=gr.array=gr.func=gr.error=gr.number=gr.string=gr.boolean=void 0;function UIe(t){return t===!0||t===!1}gr.boolean=UIe;function xte(t){return typeof t=="string"||t instanceof String}gr.string=xte;function qIe(t){return typeof t=="number"||t instanceof Number}gr.number=qIe;function WIe(t){return t instanceof Error}gr.error=WIe;function jIe(t){return typeof t=="function"}gr.func=jIe;function bte(t){return Array.isArray(t)}gr.array=bte;function BIe(t){return bte(t)&&t.every(e=>xte(e))}gr.stringArray=BIe});var zO=P(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Message=Ae.NotificationType9=Ae.NotificationType8=Ae.NotificationType7=Ae.NotificationType6=Ae.NotificationType5=Ae.NotificationType4=Ae.NotificationType3=Ae.NotificationType2=Ae.NotificationType1=Ae.NotificationType0=Ae.NotificationType=Ae.RequestType9=Ae.RequestType8=Ae.RequestType7=Ae.RequestType6=Ae.RequestType5=Ae.RequestType4=Ae.RequestType3=Ae.RequestType2=Ae.RequestType1=Ae.RequestType=Ae.RequestType0=Ae.AbstractMessageSignature=Ae.ParameterStructures=Ae.ResponseError=Ae.ErrorCodes=void 0;var Au=Yd(),bO;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(bO||(Ae.ErrorCodes=bO={}));var vO=class t extends Error{constructor(e,n,r){super(n),this.code=Au.number(e)?e:bO.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Ae.ResponseError=vO;var Xr=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Ae.ParameterStructures=Xr;Xr.auto=new Xr("auto");Xr.byPosition=new Xr("byPosition");Xr.byName=new Xr("byName");var Vt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Xr.auto}};Ae.AbstractMessageSignature=Vt;var wO=class extends Vt{constructor(e){super(e,0)}};Ae.RequestType0=wO;var DO=class extends Vt{constructor(e,n=Xr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ae.RequestType=DO;var TO=class extends Vt{constructor(e,n=Xr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ae.RequestType1=TO;var EO=class extends Vt{constructor(e){super(e,2)}};Ae.RequestType2=EO;var kO=class extends Vt{constructor(e){super(e,3)}};Ae.RequestType3=kO;var RO=class extends Vt{constructor(e){super(e,4)}};Ae.RequestType4=RO;var FO=class extends Vt{constructor(e){super(e,5)}};Ae.RequestType5=FO;var AO=class extends Vt{constructor(e){super(e,6)}};Ae.RequestType6=AO;var PO=class extends Vt{constructor(e){super(e,7)}};Ae.RequestType7=PO;var _O=class extends Vt{constructor(e){super(e,8)}};Ae.RequestType8=_O;var IO=class extends Vt{constructor(e){super(e,9)}};Ae.RequestType9=IO;var NO=class extends Vt{constructor(e,n=Xr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ae.NotificationType=NO;var LO=class extends Vt{constructor(e){super(e,0)}};Ae.NotificationType0=LO;var OO=class extends Vt{constructor(e,n=Xr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};Ae.NotificationType1=OO;var MO=class extends Vt{constructor(e){super(e,2)}};Ae.NotificationType2=MO;var UO=class extends Vt{constructor(e){super(e,3)}};Ae.NotificationType3=UO;var qO=class extends Vt{constructor(e){super(e,4)}};Ae.NotificationType4=qO;var WO=class extends Vt{constructor(e){super(e,5)}};Ae.NotificationType5=WO;var jO=class extends Vt{constructor(e){super(e,6)}};Ae.NotificationType6=jO;var BO=class extends Vt{constructor(e){super(e,7)}};Ae.NotificationType7=BO;var $O=class extends Vt{constructor(e){super(e,8)}};Ae.NotificationType8=$O;var KO=class extends Vt{constructor(e){super(e,9)}};Ae.NotificationType9=KO;var vte;(function(t){function e(i){let s=i;return s&&Au.string(s.method)&&(Au.string(s.id)||Au.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&Au.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Au.string(s.id)||Au.number(s.id)||s.id===null)}t.isResponse=r})(vte||(Ae.Message=vte={}))});var GO=P(ic=>{"use strict";var wte;Object.defineProperty(ic,"__esModule",{value:!0});ic.LRUCache=ic.LinkedMap=ic.Touch=void 0;var mr;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(mr||(ic.Touch=mr={}));var Yw=class{constructor(){this[wte]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=mr.None){let r=this._map.get(e);if(r)return n!==mr.None&&this.touch(r,n),r.value}set(e,n,r=mr.None){let i=this._map.get(e);if(i)i.value=n,r!==mr.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case mr.None:this.addItemLast(i);break;case mr.First:this.addItemFirst(i);break;case mr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(wte=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==mr.First&&n!==mr.Last)){if(n===mr.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===mr.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};ic.LinkedMap=Yw;var HO=class extends Yw{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=mr.AsNew){return super.get(e,n)}peek(e){return super.get(e,mr.None)}set(e,n){return super.set(e,n,mr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ic.LRUCache=HO});var Tte=P(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.Disposable=void 0;var Dte;(function(t){function e(n){return{dispose:n}}t.create=e})(Dte||(Qw.Disposable=Dte={}))});var sc=P(XO=>{"use strict";Object.defineProperty(XO,"__esModule",{value:!0});var VO;function JO(){if(VO===void 0)throw new Error("No runtime abstraction layer installed");return VO}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");VO=n}t.install=e})(JO||(JO={}));XO.default=JO});var Zd=P(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.Emitter=Qd.Event=void 0;var $Ie=sc(),Ete;(function(t){let e={dispose(){}};t.None=function(){return e}})(Ete||(Qd.Event=Ete={}));var YO=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){(0,$Ie.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Zw=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new YO),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Qd.Emitter=Zw;Zw._noop=function(){}});var nD=P(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.CancellationTokenSource=ef.CancellationToken=void 0;var KIe=sc(),zIe=Yd(),QO=Zd(),eD;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:QO.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:QO.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||zIe.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(eD||(ef.CancellationToken=eD={}));var HIe=Object.freeze(function(t,e){let n=(0,KIe.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),tD=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?HIe:(this._emitter||(this._emitter=new QO.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ZO=class{get token(){return this._token||(this._token=new tD),this._token}cancel(){this._token?this._token.cancel():this._token=eD.Cancelled}dispose(){this._token?this._token instanceof tD&&this._token.dispose():this._token=eD.None}};ef.CancellationTokenSource=ZO});var kte=P(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.SharedArrayReceiverStrategy=tf.SharedArraySenderStrategy=void 0;var GIe=nD(),um;(function(t){t.Continue=0,t.Cancelled=1})(um||(um={}));var eM=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=um.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,um.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};tf.SharedArraySenderStrategy=eM;var tM=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===um.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},nM=class{constructor(e){this.token=new tM(e)}cancel(){}dispose(){}},rM=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new GIe.CancellationTokenSource:new nM(n)}};tf.SharedArrayReceiverStrategy=rM});var sM=P(rD=>{"use strict";Object.defineProperty(rD,"__esModule",{value:!0});rD.Semaphore=void 0;var VIe=sc(),iM=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,VIe.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};rD.Semaphore=iM});var Fte=P(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.ReadableStreamMessageReader=oc.AbstractMessageReader=oc.MessageReader=void 0;var aM=sc(),nf=Yd(),oM=Zd(),JIe=sM(),Rte;(function(t){function e(n){let r=n;return r&&nf.func(r.listen)&&nf.func(r.dispose)&&nf.func(r.onError)&&nf.func(r.onClose)&&nf.func(r.onPartialMessage)}t.is=e})(Rte||(oc.MessageReader=Rte={}));var iD=class{constructor(){this.errorEmitter=new oM.Emitter,this.closeEmitter=new oM.Emitter,this.partialMessageEmitter=new oM.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${nf.string(e.message)?e.message:"unknown"}`)}};oc.AbstractMessageReader=iD;var cM;(function(t){function e(n){let r,i,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,aM.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(cM||(cM={}));var uM=class extends iD{constructor(e,n){super(),this.readable=e,this.options=cM.fromOptions(n),this.buffer=(0,aM.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new JIe.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,aM.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};oc.ReadableStreamMessageReader=uM});var Nte=P(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.WriteableStreamMessageWriter=ac.AbstractMessageWriter=ac.MessageWriter=void 0;var Ate=sc(),lm=Yd(),XIe=sM(),Pte=Zd(),YIe="Content-Length: ",_te=`\r
`,Ite;(function(t){function e(n){let r=n;return r&&lm.func(r.dispose)&&lm.func(r.onClose)&&lm.func(r.onError)&&lm.func(r.write)}t.is=e})(Ite||(ac.MessageWriter=Ite={}));var sD=class{constructor(){this.errorEmitter=new Pte.Emitter,this.closeEmitter=new Pte.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${lm.string(e.message)?e.message:"unknown"}`)}};ac.AbstractMessageWriter=sD;var lM;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Ate.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Ate.default)().applicationJson.encoder}}t.fromOptions=e})(lM||(lM={}));var dM=class extends sD{constructor(e,n){super(),this.writable=e,this.options=lM.fromOptions(n),this.errorCount=0,this.writeSemaphore=new XIe.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(YIe,r.byteLength.toString(),_te),i.push(_te),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};ac.WriteableStreamMessageWriter=dM});var Lte=P(oD=>{"use strict";Object.defineProperty(oD,"__esModule",{value:!0});oD.AbstractMessageBuffer=void 0;var QIe=13,ZIe=10,eNe=`\r
`,fM=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case QIe:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case ZIe:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=u.byteLength,r++}if(n!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(eNe);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],p=l.indexOf(":");if(p===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,p),d=l.substr(p+1).trim();a.set(e?f.toLowerCase():f,d)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};oD.AbstractMessageBuffer=fM});var Wte=P(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.createMessageConnection=Je.ConnectionOptions=Je.MessageStrategy=Je.CancellationStrategy=Je.CancellationSenderStrategy=Je.CancellationReceiverStrategy=Je.RequestCancellationReceiverStrategy=Je.IdCancellationReceiverStrategy=Je.ConnectionStrategy=Je.ConnectionError=Je.ConnectionErrors=Je.LogTraceNotification=Je.SetTraceNotification=Je.TraceFormat=Je.TraceValues=Je.Trace=Je.NullLogger=Je.ProgressType=Je.ProgressToken=void 0;var Ote=sc(),gn=Yd(),Me=zO(),Mte=GO(),dm=Zd(),pM=nD(),hm;(function(t){t.type=new Me.NotificationType("$/cancelRequest")})(hm||(hm={}));var hM;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(hM||(Je.ProgressToken=hM={}));var fm;(function(t){t.type=new Me.NotificationType("$/progress")})(fm||(fm={}));var gM=class{constructor(){}};Je.ProgressType=gM;var mM;(function(t){function e(n){return gn.func(n)}t.is=e})(mM||(mM={}));Je.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Tt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Tt||(Je.Trace=Tt={}));var Ute;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(Ute||(Je.TraceValues=Ute={}));(function(t){function e(r){if(!gn.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(Tt||(Je.Trace=Tt={}));var Si;(function(t){t.Text="text",t.JSON="json"})(Si||(Je.TraceFormat=Si={}));(function(t){function e(n){return gn.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Si||(Je.TraceFormat=Si={}));var yM;(function(t){t.type=new Me.NotificationType("$/setTrace")})(yM||(Je.SetTraceNotification=yM={}));var aD;(function(t){t.type=new Me.NotificationType("$/logTrace")})(aD||(Je.LogTraceNotification=aD={}));var pm;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(pm||(Je.ConnectionErrors=pm={}));var rf=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Je.ConnectionError=rf;var CM;(function(t){function e(n){let r=n;return r&&gn.func(r.cancelUndispatched)}t.is=e})(CM||(Je.ConnectionStrategy=CM={}));var cD;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&gn.func(r.createCancellationTokenSource)&&(r.dispose===void 0||gn.func(r.dispose))}t.is=e})(cD||(Je.IdCancellationReceiverStrategy=cD={}));var SM;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&gn.func(r.createCancellationTokenSource)&&(r.dispose===void 0||gn.func(r.dispose))}t.is=e})(SM||(Je.RequestCancellationReceiverStrategy=SM={}));var uD;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new pM.CancellationTokenSource}});function e(n){return cD.is(n)||SM.is(n)}t.is=e})(uD||(Je.CancellationReceiverStrategy=uD={}));var lD;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(hm.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&gn.func(r.sendCancellation)&&gn.func(r.cleanup)}t.is=e})(lD||(Je.CancellationSenderStrategy=lD={}));var dD;(function(t){t.Message=Object.freeze({receiver:uD.Message,sender:lD.Message});function e(n){let r=n;return r&&uD.is(r.receiver)&&lD.is(r.sender)}t.is=e})(dD||(Je.CancellationStrategy=dD={}));var fD;(function(t){function e(n){let r=n;return r&&gn.func(r.handleMessage)}t.is=e})(fD||(Je.MessageStrategy=fD={}));var qte;(function(t){function e(n){let r=n;return r&&(dD.is(r.cancellationStrategy)||CM.is(r.connectionStrategy)||fD.is(r.messageStrategy))}t.is=e})(qte||(Je.ConnectionOptions=qte={}));var ys;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(ys||(ys={}));function tNe(t,e,n,r){let i=n!==void 0?n:Je.NullLogger,s=0,o=0,a=0,c="2.0",u,l=new Map,p,f=new Map,d=new Map,h,g=new Mte.LinkedMap,m=new Map,y=new Set,C=new Map,x=Tt.Off,T=Si.Text,E,k=ys.New,L=new dm.Emitter,A=new dm.Emitter,j=new dm.Emitter,H=new dm.Emitter,F=new dm.Emitter,M=r&&r.cancellationStrategy?r.cancellationStrategy:dD.Message;function J(b){if(b===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+b.toString()}function _(b){return b===null?"res-unknown-"+(++a).toString():"res-"+b.toString()}function I(){return"not-"+(++o).toString()}function W(b,O){Me.Message.isRequest(O)?b.set(J(O.id),O):Me.Message.isResponse(O)?b.set(_(O.id),O):b.set(I(),O)}function ue(b){}function ce(){return k===ys.Listening}function ae(){return k===ys.Closed}function fe(){return k===ys.Disposed}function be(){(k===ys.New||k===ys.Listening)&&(k=ys.Closed,A.fire(void 0))}function Ue(b){L.fire([b,void 0,void 0])}function st(b){L.fire(b)}t.onClose(be),t.onError(Ue),e.onClose(be),e.onError(st);function ut(){h||g.size===0||(h=(0,Ote.default)().timer.setImmediate(()=>{h=void 0,ie()}))}function et(b){Me.Message.isRequest(b)?Ke(b):Me.Message.isNotification(b)?pe(b):Me.Message.isResponse(b)?re(b):se(b)}function ie(){if(g.size===0)return;let b=g.shift();try{let O=r?.messageStrategy;fD.is(O)?O.handleMessage(b,et):et(b)}finally{ut()}}let qe=b=>{try{if(Me.Message.isNotification(b)&&b.method===hm.type.method){let O=b.params.id,G=J(O),Y=g.get(G);if(Me.Message.isRequest(Y)){let ve=r?.connectionStrategy,Pe=ve&&ve.cancelUndispatched?ve.cancelUndispatched(Y,ue):void 0;if(Pe&&(Pe.error!==void 0||Pe.result!==void 0)){g.delete(G),C.delete(O),Pe.id=Y.id,Xe(Pe,b.method,Date.now()),e.write(Pe).catch(()=>i.error("Sending response for canceled message failed."));return}}let De=C.get(O);if(De!==void 0){De.cancel(),an(b);return}else y.add(O)}W(g,b)}finally{ut()}};function Ke(b){if(fe())return;function O(ge,Ee,ye){let $={jsonrpc:c,id:b.id};ge instanceof Me.ResponseError?$.error=ge.toJson():$.result=ge===void 0?null:ge,Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}function G(ge,Ee,ye){let $={jsonrpc:c,id:b.id,error:ge.toJson()};Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}function Y(ge,Ee,ye){ge===void 0&&(ge=null);let $={jsonrpc:c,id:b.id,result:ge};Xe($,Ee,ye),e.write($).catch(()=>i.error("Sending response failed."))}tr(b);let De=l.get(b.method),ve,Pe;De&&(ve=De.type,Pe=De.handler);let _e=Date.now();if(Pe||u){let ge=b.id??String(Date.now()),Ee=cD.is(M.receiver)?M.receiver.createCancellationTokenSource(ge):M.receiver.createCancellationTokenSource(b);b.id!==null&&y.has(b.id)&&Ee.cancel(),b.id!==null&&C.set(ge,Ee);try{let ye;if(Pe)if(b.params===void 0){if(ve!==void 0&&ve.numberOfParams!==0){G(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${b.method} defines ${ve.numberOfParams} params but received none.`),b.method,_e);return}ye=Pe(Ee.token)}else if(Array.isArray(b.params)){if(ve!==void 0&&ve.parameterStructures===Me.ParameterStructures.byName){G(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by name but received parameters by position`),b.method,_e);return}ye=Pe(...b.params,Ee.token)}else{if(ve!==void 0&&ve.parameterStructures===Me.ParameterStructures.byPosition){G(new Me.ResponseError(Me.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by position but received parameters by name`),b.method,_e);return}ye=Pe(b.params,Ee.token)}else u&&(ye=u(b.method,b.params,Ee.token));let $=ye;ye?$.then?$.then(z=>{C.delete(ge),O(z,b.method,_e)},z=>{C.delete(ge),z instanceof Me.ResponseError?G(z,b.method,_e):z&&gn.string(z.message)?G(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${z.message}`),b.method,_e):G(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,_e)}):(C.delete(ge),O(ye,b.method,_e)):(C.delete(ge),Y(ye,b.method,_e))}catch(ye){C.delete(ge),ye instanceof Me.ResponseError?O(ye,b.method,_e):ye&&gn.string(ye.message)?G(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${ye.message}`),b.method,_e):G(new Me.ResponseError(Me.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,_e)}}else G(new Me.ResponseError(Me.ErrorCodes.MethodNotFound,`Unhandled method ${b.method}`),b.method,_e)}function re(b){if(!fe())if(b.id===null)b.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(b.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let O=b.id,G=m.get(O);if(Fr(b,G),G!==void 0){m.delete(O);try{if(b.error){let Y=b.error;G.reject(new Me.ResponseError(Y.code,Y.message,Y.data))}else if(b.result!==void 0)G.resolve(b.result);else throw new Error("Should never happen.")}catch(Y){Y.message?i.error(`Response handler '${G.method}' failed with message: ${Y.message}`):i.error(`Response handler '${G.method}' failed unexpectedly.`)}}}}function pe(b){if(fe())return;let O,G;if(b.method===hm.type.method){let Y=b.params.id;y.delete(Y),an(b);return}else{let Y=f.get(b.method);Y&&(G=Y.handler,O=Y.type)}if(G||p)try{if(an(b),G)if(b.params===void 0)O!==void 0&&O.numberOfParams!==0&&O.parameterStructures!==Me.ParameterStructures.byName&&i.error(`Notification ${b.method} defines ${O.numberOfParams} params but received none.`),G();else if(Array.isArray(b.params)){let Y=b.params;b.method===fm.type.method&&Y.length===2&&hM.is(Y[0])?G({token:Y[0],value:Y[1]}):(O!==void 0&&(O.parameterStructures===Me.ParameterStructures.byName&&i.error(`Notification ${b.method} defines parameters by name but received parameters by position`),O.numberOfParams!==b.params.length&&i.error(`Notification ${b.method} defines ${O.numberOfParams} params but received ${Y.length} arguments`)),G(...Y))}else O!==void 0&&O.parameterStructures===Me.ParameterStructures.byPosition&&i.error(`Notification ${b.method} defines parameters by position but received parameters by name`),G(b.params);else p&&p(b.method,b.params)}catch(Y){Y.message?i.error(`Notification handler '${b.method}' failed with message: ${Y.message}`):i.error(`Notification handler '${b.method}' failed unexpectedly.`)}else j.fire(b)}function se(b){if(!b){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(b,null,4)}`);let O=b;if(gn.string(O.id)||gn.number(O.id)){let G=O.id,Y=m.get(G);Y&&Y.reject(new Error("The received response has neither a result nor an error property."))}}function he(b){if(b!=null)switch(x){case Tt.Verbose:return JSON.stringify(b,null,4);case Tt.Compact:return JSON.stringify(b);default:return}}function ze(b){if(!(x===Tt.Off||!E))if(T===Si.Text){let O;(x===Tt.Verbose||x===Tt.Compact)&&b.params&&(O=`Params: ${he(b.params)}

`),E.log(`Sending request '${b.method} - (${b.id})'.`,O)}else Et("send-request",b)}function ot(b){if(!(x===Tt.Off||!E))if(T===Si.Text){let O;(x===Tt.Verbose||x===Tt.Compact)&&(b.params?O=`Params: ${he(b.params)}

`:O=`No parameters provided.

`),E.log(`Sending notification '${b.method}'.`,O)}else Et("send-notification",b)}function Xe(b,O,G){if(!(x===Tt.Off||!E))if(T===Si.Text){let Y;(x===Tt.Verbose||x===Tt.Compact)&&(b.error&&b.error.data?Y=`Error data: ${he(b.error.data)}

`:b.result?Y=`Result: ${he(b.result)}

`:b.error===void 0&&(Y=`No result returned.

`)),E.log(`Sending response '${O} - (${b.id})'. Processing request took ${Date.now()-G}ms`,Y)}else Et("send-response",b)}function tr(b){if(!(x===Tt.Off||!E))if(T===Si.Text){let O;(x===Tt.Verbose||x===Tt.Compact)&&b.params&&(O=`Params: ${he(b.params)}

`),E.log(`Received request '${b.method} - (${b.id})'.`,O)}else Et("receive-request",b)}function an(b){if(!(x===Tt.Off||!E||b.method===aD.type.method))if(T===Si.Text){let O;(x===Tt.Verbose||x===Tt.Compact)&&(b.params?O=`Params: ${he(b.params)}

`:O=`No parameters provided.

`),E.log(`Received notification '${b.method}'.`,O)}else Et("receive-notification",b)}function Fr(b,O){if(!(x===Tt.Off||!E))if(T===Si.Text){let G;if((x===Tt.Verbose||x===Tt.Compact)&&(b.error&&b.error.data?G=`Error data: ${he(b.error.data)}

`:b.result?G=`Result: ${he(b.result)}

`:b.error===void 0&&(G=`No result returned.

`)),O){let Y=b.error?` Request failed: ${b.error.message} (${b.error.code}).`:"";E.log(`Received response '${O.method} - (${b.id})' in ${Date.now()-O.timerStart}ms.${Y}`,G)}else E.log(`Received response ${b.id} without active response promise.`,G)}else Et("receive-response",b)}function Et(b,O){if(!E||x===Tt.Off)return;let G={isLSPMessage:!0,type:b,message:O,timestamp:Date.now()};E.log(G)}function Jt(){if(ae())throw new rf(pm.Closed,"Connection is closed.");if(fe())throw new rf(pm.Disposed,"Connection is disposed.")}function bn(){if(ce())throw new rf(pm.AlreadyListening,"Connection is already listening")}function Gn(){if(!ce())throw new Error("Call listen() first.")}function mn(b){return b===void 0?null:b}function yr(b){if(b!==null)return b}function Ar(b){return b!=null&&!Array.isArray(b)&&typeof b=="object"}function Vn(b,O){switch(b){case Me.ParameterStructures.auto:return Ar(O)?yr(O):[mn(O)];case Me.ParameterStructures.byName:if(!Ar(O))throw new Error("Received parameters by name but param is not an object literal.");return yr(O);case Me.ParameterStructures.byPosition:return[mn(O)];default:throw new Error(`Unknown parameter structure ${b.toString()}`)}}function Pr(b,O){let G,Y=b.numberOfParams;switch(Y){case 0:G=void 0;break;case 1:G=Vn(b.parameterStructures,O[0]);break;default:G=[];for(let De=0;De<O.length&&De<Y;De++)G.push(mn(O[De]));if(O.length<Y)for(let De=O.length;De<Y;De++)G.push(null);break}return G}let Xt={sendNotification:(b,...O)=>{Jt();let G,Y;if(gn.string(b)){G=b;let ve=O[0],Pe=0,_e=Me.ParameterStructures.auto;Me.ParameterStructures.is(ve)&&(Pe=1,_e=ve);let ge=O.length,Ee=ge-Pe;switch(Ee){case 0:Y=void 0;break;case 1:Y=Vn(_e,O[Pe]);break;default:if(_e===Me.ParameterStructures.byName)throw new Error(`Received ${Ee} parameters for 'by Name' notification parameter structure.`);Y=O.slice(Pe,ge).map(ye=>mn(ye));break}}else{let ve=O;G=b.method,Y=Pr(b,ve)}let De={jsonrpc:c,method:G,params:Y};return ot(De),e.write(De).catch(ve=>{throw i.error("Sending notification failed."),ve})},onNotification:(b,O)=>{Jt();let G;return gn.func(b)?p=b:O&&(gn.string(b)?(G=b,f.set(b,{type:void 0,handler:O})):(G=b.method,f.set(b.method,{type:b,handler:O}))),{dispose:()=>{G!==void 0?f.delete(G):p=void 0}}},onProgress:(b,O,G)=>{if(d.has(O))throw new Error(`Progress handler for token ${O} already registered`);return d.set(O,G),{dispose:()=>{d.delete(O)}}},sendProgress:(b,O,G)=>Xt.sendNotification(fm.type,{token:O,value:G}),onUnhandledProgress:H.event,sendRequest:(b,...O)=>{Jt(),Gn();let G,Y,De;if(gn.string(b)){G=b;let ge=O[0],Ee=O[O.length-1],ye=0,$=Me.ParameterStructures.auto;Me.ParameterStructures.is(ge)&&(ye=1,$=ge);let z=O.length;pM.CancellationToken.is(Ee)&&(z=z-1,De=Ee);let ee=z-ye;switch(ee){case 0:Y=void 0;break;case 1:Y=Vn($,O[ye]);break;default:if($===Me.ParameterStructures.byName)throw new Error(`Received ${ee} parameters for 'by Name' request parameter structure.`);Y=O.slice(ye,z).map(Ie=>mn(Ie));break}}else{let ge=O;G=b.method,Y=Pr(b,ge);let Ee=b.numberOfParams;De=pM.CancellationToken.is(ge[Ee])?ge[Ee]:void 0}let ve=s++,Pe;De&&(Pe=De.onCancellationRequested(()=>{let ge=M.sender.sendCancellation(Xt,ve);return ge===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ve}`),Promise.resolve()):ge.catch(()=>{i.log(`Sending cancellation messages for id ${ve} failed`)})}));let _e={jsonrpc:c,id:ve,method:G,params:Y};return ze(_e),typeof M.sender.enableCancellation=="function"&&M.sender.enableCancellation(_e),new Promise(async(ge,Ee)=>{let ye=ee=>{ge(ee),M.sender.cleanup(ve),Pe?.dispose()},$=ee=>{Ee(ee),M.sender.cleanup(ve),Pe?.dispose()},z={method:G,timerStart:Date.now(),resolve:ye,reject:$};try{m.set(ve,z),await e.write(_e)}catch(ee){throw m.delete(ve),z.reject(new Me.ResponseError(Me.ErrorCodes.MessageWriteError,ee.message?ee.message:"Unknown reason")),i.error("Sending request failed."),ee}})},onRequest:(b,O)=>{Jt();let G=null;return mM.is(b)?(G=void 0,u=b):gn.string(b)?(G=null,O!==void 0&&(G=b,l.set(b,{handler:O,type:void 0}))):O!==void 0&&(G=b.method,l.set(b.method,{type:b,handler:O})),{dispose:()=>{G!==null&&(G!==void 0?l.delete(G):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(b,O,G)=>{let Y=!1,De=Si.Text;G!==void 0&&(gn.boolean(G)?Y=G:(Y=G.sendNotification||!1,De=G.traceFormat||Si.Text)),x=b,T=De,x===Tt.Off?E=void 0:E=O,Y&&!ae()&&!fe()&&await Xt.sendNotification(yM.type,{value:Tt.toString(b)})},onError:L.event,onClose:A.event,onUnhandledNotification:j.event,onDispose:F.event,end:()=>{e.end()},dispose:()=>{if(fe())return;k=ys.Disposed,F.fire(void 0);let b=new Me.ResponseError(Me.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let O of m.values())O.reject(b);m=new Map,C=new Map,y=new Set,g=new Mte.LinkedMap,gn.func(e.dispose)&&e.dispose(),gn.func(t.dispose)&&t.dispose()},listen:()=>{Jt(),bn(),k=ys.Listening,t.listen(qe)},inspect:()=>{(0,Ote.default)().console.log("inspect")}};return Xt.onNotification(aD.type,b=>{if(x===Tt.Off||!E)return;let O=x===Tt.Verbose||x===Tt.Compact;E.log(b.message,O?b.verbose:void 0)}),Xt.onNotification(fm.type,b=>{let O=d.get(b.token);O?O(b.value):H.fire(b)}),Xt}Je.createMessageConnection=tNe});var pD=P(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.ProgressType=Z.ProgressToken=Z.createMessageConnection=Z.NullLogger=Z.ConnectionOptions=Z.ConnectionStrategy=Z.AbstractMessageBuffer=Z.WriteableStreamMessageWriter=Z.AbstractMessageWriter=Z.MessageWriter=Z.ReadableStreamMessageReader=Z.AbstractMessageReader=Z.MessageReader=Z.SharedArrayReceiverStrategy=Z.SharedArraySenderStrategy=Z.CancellationToken=Z.CancellationTokenSource=Z.Emitter=Z.Event=Z.Disposable=Z.LRUCache=Z.Touch=Z.LinkedMap=Z.ParameterStructures=Z.NotificationType9=Z.NotificationType8=Z.NotificationType7=Z.NotificationType6=Z.NotificationType5=Z.NotificationType4=Z.NotificationType3=Z.NotificationType2=Z.NotificationType1=Z.NotificationType0=Z.NotificationType=Z.ErrorCodes=Z.ResponseError=Z.RequestType9=Z.RequestType8=Z.RequestType7=Z.RequestType6=Z.RequestType5=Z.RequestType4=Z.RequestType3=Z.RequestType2=Z.RequestType1=Z.RequestType0=Z.RequestType=Z.Message=Z.RAL=void 0;Z.MessageStrategy=Z.CancellationStrategy=Z.CancellationSenderStrategy=Z.CancellationReceiverStrategy=Z.ConnectionError=Z.ConnectionErrors=Z.LogTraceNotification=Z.SetTraceNotification=Z.TraceFormat=Z.TraceValues=Z.Trace=void 0;var $t=zO();Object.defineProperty(Z,"Message",{enumerable:!0,get:function(){return $t.Message}});Object.defineProperty(Z,"RequestType",{enumerable:!0,get:function(){return $t.RequestType}});Object.defineProperty(Z,"RequestType0",{enumerable:!0,get:function(){return $t.RequestType0}});Object.defineProperty(Z,"RequestType1",{enumerable:!0,get:function(){return $t.RequestType1}});Object.defineProperty(Z,"RequestType2",{enumerable:!0,get:function(){return $t.RequestType2}});Object.defineProperty(Z,"RequestType3",{enumerable:!0,get:function(){return $t.RequestType3}});Object.defineProperty(Z,"RequestType4",{enumerable:!0,get:function(){return $t.RequestType4}});Object.defineProperty(Z,"RequestType5",{enumerable:!0,get:function(){return $t.RequestType5}});Object.defineProperty(Z,"RequestType6",{enumerable:!0,get:function(){return $t.RequestType6}});Object.defineProperty(Z,"RequestType7",{enumerable:!0,get:function(){return $t.RequestType7}});Object.defineProperty(Z,"RequestType8",{enumerable:!0,get:function(){return $t.RequestType8}});Object.defineProperty(Z,"RequestType9",{enumerable:!0,get:function(){return $t.RequestType9}});Object.defineProperty(Z,"ResponseError",{enumerable:!0,get:function(){return $t.ResponseError}});Object.defineProperty(Z,"ErrorCodes",{enumerable:!0,get:function(){return $t.ErrorCodes}});Object.defineProperty(Z,"NotificationType",{enumerable:!0,get:function(){return $t.NotificationType}});Object.defineProperty(Z,"NotificationType0",{enumerable:!0,get:function(){return $t.NotificationType0}});Object.defineProperty(Z,"NotificationType1",{enumerable:!0,get:function(){return $t.NotificationType1}});Object.defineProperty(Z,"NotificationType2",{enumerable:!0,get:function(){return $t.NotificationType2}});Object.defineProperty(Z,"NotificationType3",{enumerable:!0,get:function(){return $t.NotificationType3}});Object.defineProperty(Z,"NotificationType4",{enumerable:!0,get:function(){return $t.NotificationType4}});Object.defineProperty(Z,"NotificationType5",{enumerable:!0,get:function(){return $t.NotificationType5}});Object.defineProperty(Z,"NotificationType6",{enumerable:!0,get:function(){return $t.NotificationType6}});Object.defineProperty(Z,"NotificationType7",{enumerable:!0,get:function(){return $t.NotificationType7}});Object.defineProperty(Z,"NotificationType8",{enumerable:!0,get:function(){return $t.NotificationType8}});Object.defineProperty(Z,"NotificationType9",{enumerable:!0,get:function(){return $t.NotificationType9}});Object.defineProperty(Z,"ParameterStructures",{enumerable:!0,get:function(){return $t.ParameterStructures}});var xM=GO();Object.defineProperty(Z,"LinkedMap",{enumerable:!0,get:function(){return xM.LinkedMap}});Object.defineProperty(Z,"LRUCache",{enumerable:!0,get:function(){return xM.LRUCache}});Object.defineProperty(Z,"Touch",{enumerable:!0,get:function(){return xM.Touch}});var nNe=Tte();Object.defineProperty(Z,"Disposable",{enumerable:!0,get:function(){return nNe.Disposable}});var jte=Zd();Object.defineProperty(Z,"Event",{enumerable:!0,get:function(){return jte.Event}});Object.defineProperty(Z,"Emitter",{enumerable:!0,get:function(){return jte.Emitter}});var Bte=nD();Object.defineProperty(Z,"CancellationTokenSource",{enumerable:!0,get:function(){return Bte.CancellationTokenSource}});Object.defineProperty(Z,"CancellationToken",{enumerable:!0,get:function(){return Bte.CancellationToken}});var $te=kte();Object.defineProperty(Z,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return $te.SharedArraySenderStrategy}});Object.defineProperty(Z,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return $te.SharedArrayReceiverStrategy}});var bM=Fte();Object.defineProperty(Z,"MessageReader",{enumerable:!0,get:function(){return bM.MessageReader}});Object.defineProperty(Z,"AbstractMessageReader",{enumerable:!0,get:function(){return bM.AbstractMessageReader}});Object.defineProperty(Z,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return bM.ReadableStreamMessageReader}});var vM=Nte();Object.defineProperty(Z,"MessageWriter",{enumerable:!0,get:function(){return vM.MessageWriter}});Object.defineProperty(Z,"AbstractMessageWriter",{enumerable:!0,get:function(){return vM.AbstractMessageWriter}});Object.defineProperty(Z,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return vM.WriteableStreamMessageWriter}});var rNe=Lte();Object.defineProperty(Z,"AbstractMessageBuffer",{enumerable:!0,get:function(){return rNe.AbstractMessageBuffer}});var er=Wte();Object.defineProperty(Z,"ConnectionStrategy",{enumerable:!0,get:function(){return er.ConnectionStrategy}});Object.defineProperty(Z,"ConnectionOptions",{enumerable:!0,get:function(){return er.ConnectionOptions}});Object.defineProperty(Z,"NullLogger",{enumerable:!0,get:function(){return er.NullLogger}});Object.defineProperty(Z,"createMessageConnection",{enumerable:!0,get:function(){return er.createMessageConnection}});Object.defineProperty(Z,"ProgressToken",{enumerable:!0,get:function(){return er.ProgressToken}});Object.defineProperty(Z,"ProgressType",{enumerable:!0,get:function(){return er.ProgressType}});Object.defineProperty(Z,"Trace",{enumerable:!0,get:function(){return er.Trace}});Object.defineProperty(Z,"TraceValues",{enumerable:!0,get:function(){return er.TraceValues}});Object.defineProperty(Z,"TraceFormat",{enumerable:!0,get:function(){return er.TraceFormat}});Object.defineProperty(Z,"SetTraceNotification",{enumerable:!0,get:function(){return er.SetTraceNotification}});Object.defineProperty(Z,"LogTraceNotification",{enumerable:!0,get:function(){return er.LogTraceNotification}});Object.defineProperty(Z,"ConnectionErrors",{enumerable:!0,get:function(){return er.ConnectionErrors}});Object.defineProperty(Z,"ConnectionError",{enumerable:!0,get:function(){return er.ConnectionError}});Object.defineProperty(Z,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return er.CancellationReceiverStrategy}});Object.defineProperty(Z,"CancellationSenderStrategy",{enumerable:!0,get:function(){return er.CancellationSenderStrategy}});Object.defineProperty(Z,"CancellationStrategy",{enumerable:!0,get:function(){return er.CancellationStrategy}});Object.defineProperty(Z,"MessageStrategy",{enumerable:!0,get:function(){return er.MessageStrategy}});var iNe=sc();Z.RAL=iNe.default});var Hte=P(EM=>{"use strict";Object.defineProperty(EM,"__esModule",{value:!0});var Kte=require("util"),Io=pD(),hD=class t extends Io.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Kte.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};hD.emptyBuffer=Buffer.allocUnsafe(0);var wM=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Io.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Io.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Io.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Io.Disposable.create(()=>this.stream.off("data",e))}},DM=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Io.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Io.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Io.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},zte=Object.freeze({messageBuffer:Object.freeze({create:t=>new hD(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Kte.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new wM(t),asWritableStream:t=>new DM(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function TM(){return zte}(function(t){function e(){Io.RAL.install(zte)}t.install=e})(TM||(TM={}));EM.default=TM});var Jte=P(pt=>{"use strict";var sNe=pt&&pt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),oNe=pt&&pt.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&sNe(e,t,n)};Object.defineProperty(pt,"__esModule",{value:!0});pt.createMessageConnection=pt.createServerSocketTransport=pt.createClientSocketTransport=pt.createServerPipeTransport=pt.createClientPipeTransport=pt.generateRandomPipeName=pt.StreamMessageWriter=pt.StreamMessageReader=pt.SocketMessageWriter=pt.SocketMessageReader=pt.PortMessageWriter=pt.PortMessageReader=pt.IPCMessageWriter=pt.IPCMessageReader=void 0;var sf=Hte();sf.default.install();var Gte=require("path"),aNe=require("os"),cNe=require("crypto"),yD=require("net"),xi=pD();oNe(pD(),pt);var kM=class extends xi.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),xi.Disposable.create(()=>this.process.off("message",e))}};pt.IPCMessageReader=kM;var RM=class extends xi.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};pt.IPCMessageWriter=RM;var FM=class extends xi.AbstractMessageReader{constructor(e){super(),this.onData=new xi.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};pt.PortMessageReader=FM;var AM=class extends xi.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};pt.PortMessageWriter=AM;var Pu=class extends xi.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,sf.default)().stream.asReadableStream(e),n)}};pt.SocketMessageReader=Pu;var _u=class extends xi.WriteableStreamMessageWriter{constructor(e,n){super((0,sf.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};pt.SocketMessageWriter=_u;var gD=class extends xi.ReadableStreamMessageReader{constructor(e,n){super((0,sf.default)().stream.asReadableStream(e),n)}};pt.StreamMessageReader=gD;var mD=class extends xi.WriteableStreamMessageWriter{constructor(e,n){super((0,sf.default)().stream.asWritableStream(e),n)}};pt.StreamMessageWriter=mD;var Vte=process.env.XDG_RUNTIME_DIR,uNe=new Map([["linux",107],["darwin",103]]);function lNe(){let t=(0,cNe.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Vte?e=Gte.join(Vte,`vscode-ipc-${t}.sock`):e=Gte.join(aNe.tmpdir(),`vscode-${t}.sock`);let n=uNe.get(process.platform);return n!==void 0&&e.length>n&&(0,sf.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}pt.generateRandomPipeName=lNe;function dNe(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,yD.createServer)(a=>{o.close(),n([new Pu(a,e),new _u(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}pt.createClientPipeTransport=dNe;function fNe(t,e="utf-8"){let n=(0,yD.createConnection)(t);return[new Pu(n,e),new _u(n,e)]}pt.createServerPipeTransport=fNe;function pNe(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,yD.createServer)(a=>{o.close(),n([new Pu(a,e),new _u(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}pt.createClientSocketTransport=pNe;function hNe(t,e="utf-8"){let n=(0,yD.createConnection)(t,"127.0.0.1");return[new Pu(n,e),new _u(n,e)]}pt.createServerSocketTransport=hNe;function gNe(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function mNe(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function yNe(t,e,n,r){n||(n=xi.NullLogger);let i=gNe(t)?new gD(t):t,s=mNe(e)?new mD(e):e;return xi.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,xi.createMessageConnection)(i,s,n,r)}pt.createMessageConnection=yNe});var Yte=P((Lst,Xte)=>{"use strict";Xte.exports=Jte()});var bNe={};Iu(bNe,{activate:()=>SNe});module.exports=pne(bNe);var Qe;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(Qe||(Qe={}));var hne=[[Qe[Qe.NONE],Qe.NONE],[Qe[Qe.ERROR],Qe.ERROR],[Qe[Qe.WARNING],Qe.WARNING],[Qe[Qe.INFO],Qe.INFO],[Qe[Qe.DEBUG],Qe.DEBUG],["INFORMATION",Qe.INFO]],gne=new Map(hne),Vs=()=>{},bm=class{logLevel;_connection;seq=0;logs=[];loggers={[Qe.NONE]:Vs,[Qe.ERROR]:Vs,[Qe.WARNING]:Vs,[Qe.INFO]:Vs,[Qe.DEBUG]:Vs};logTime=!0;logSequence=!0;constructor(e=Qe.DEBUG,n){this.logLevel=e,n&&this.setConnection(n)}writeLog(e){if(!this._connection)this.logs.push(e);else{if(e.level>this.logLevel)return;let n=this.logSequence?`${e.seq}	`:"",r=this.logTime?`${e.ts.toISOString()}	`:"",i=`${n}${r}${e.msg}`,s=this.loggers[e.level];s?s(i):console.error(`Unknown log level: ${e.level}; msg: ${e.msg}`)}}get connection(){return this._connection}logMessage(e,n){let i={seq:++this.seq,level:e,ts:new Date,msg:n};this.writeLog(i)}set level(e){this.logLevel=mne(e)}get level(){return this.logLevel}setConnection(e){this._connection=e,this._connection.onExit(()=>{this._connection=void 0,this.loggers[Qe.ERROR]=Vs,this.loggers[Qe.WARNING]=Vs,this.loggers[Qe.INFO]=Vs,this.loggers[Qe.DEBUG]=Vs}),this.loggers[Qe.ERROR]=n=>{e.console.error(n)},this.loggers[Qe.WARNING]=n=>{e.console.warn(n)},this.loggers[Qe.INFO]=n=>{e.console.info(n)},this.loggers[Qe.DEBUG]=n=>{e.console.log(n)},this.logs.forEach(n=>this.writeLog(n)),this.logs.length=0}error(e){this.logMessage(Qe.ERROR,e)}warn(e){this.logMessage(Qe.WARNING,e)}info(e){this.logMessage(Qe.INFO,e)}debug(e){this.logMessage(Qe.DEBUG,e)}log(e){this.debug(e)}getPendingEntries(){return this.logs}clearPendingEntries(){this.logs=[]}};function mne(t){let e=typeof t=="string"?gne.get(t.toUpperCase())||Qe.NONE:t;return typeof e!="number"||e<Qe.NONE||e>Qe.DEBUG?Qe.DEBUG:e}var yne="";var Qr=new bm;function af(t,e){Qr.error(Cne(t,e))}function Cne(t,e){let n=Array.isArray(e)?e:[e];return t+"	"+n.map(Sne).join(`
			`)}function Sne(t){if(!t)return"";let e=xne(t,yne);return e?t.replace(e,"..."):t}function xne(t,e){let n=bne(t,e);return t.slice(0,n)}function bne(t,e){let n="/",r=t.split(n),i=e.split(n),s=Math.min(r.length,i.length),o=0;for(;o<s&&r[o]===i[o];)++o;return r.slice(0,o).join(n).length}Symbol.dispose??=Symbol("Symbol.dispose");var qM=Symbol("Disposable Name"),WM=Symbol("Disposable Timestamp"),No=Symbol("Disposable Is Disposed"),xs,uf=0,cf=0;function bi(t,e,n){let r=!1,i=!1,s={dispose:o,[Symbol.dispose]:o,[WM]:performance.now(),[qM]:n||void 0,[No]:!1};return++cf,xs?.debug(Nu()+"Created: %s, active: %i",vm(s),cf),s;function o(){try{if(xs?.debug(Nu()+"Dispose Start -> %s Active %i",vm(s),cf),++uf,r){s[No]=!0,xs?.warn("Already disposed %s",vm(s));return}--cf,s[No]=r=!0,e?t.call(e):t()}catch(a){throw i=!0,a}finally{--uf,xs?.debug(Nu()+"Dispose End   -> %s Active %i%s",vm(s),cf,i?" ** with errors ** ":"")}}}function vm(t){let e=vne(t)||"",n=jM(t)?.toFixed(4);return e+" "+n}function lf(t,e,n){return Object.assign(t,bi(e,t,n))}function wm(t,e="createDisposableFromList"){return bi(Dm(t),void 0,e)}function Dm(t,e=""){let n=!1,r=performance.now().toFixed(4);xs&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),xs?.debug(Nu()+"Create: %s %s",e,r);let i=0;function s(){try{xs?.debug(Nu()+"Dispose Start -> %s %s",e,r),++uf;let o;if(n&&(xs?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{qn(a)}catch(c){++i,o??=c}if(o)throw xs?.warn(o),o}finally{--uf,xs?.debug(Nu()+"Dispose End   -> %s %s%s",e,r,i?` *** with ${i} errors ***`:"")}}return s}function qn(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function Lu(t,e="makeDisposable"){return wne(t)?t:Symbol.dispose in t?bi(t[Symbol.dispose],t,e):"dispose"in t?bi(t.dispose,t,e):bi(t,void 0,e)}function vne(t){return t[qM]}function jM(t){return t[WM]}function wne(t){return!t||typeof t!="object"?!1:No in t}function Nu(){return" ".repeat(uf)}var Dne=()=>{},Ou=class{dispose;[Symbol.dispose]=Dne;[No]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let r=Dm(this._disposables,n),i=()=>{this.isDisposed()||(this[No]=!0,r(),Object.freeze(this._disposables))};this.dispose=i,this[Symbol.dispose]=i}isDisposed(){return this[No]}},Tm=class extends Ou{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let r of e)this.add(r)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};function St(t,e){return new Tm(t,e)}var Mn=oe(require("vscode"),1);var BM;(()=>{"use strict";var t={470:i=>{function s(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function o(c,u){for(var l,p="",f=0,d=-1,h=0,g=0;g<=c.length;++g){if(g<c.length)l=c.charCodeAt(g);else{if(l===47)break;l=47}if(l===47){if(!(d===g-1||h===1))if(d!==g-1&&h===2){if(p.length<2||f!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var m=p.lastIndexOf("/");if(m!==p.length-1){m===-1?(p="",f=0):f=(p=p.slice(0,m)).length-1-p.lastIndexOf("/"),d=g,h=0;continue}}else if(p.length===2||p.length===1){p="",f=0,d=g,h=0;continue}}u&&(p.length>0?p+="/..":p="..",f=2)}else p.length>0?p+="/"+c.slice(d+1,g):p=c.slice(d+1,g),f=g-d-1;d=g,h=0}else l===46&&h!==-1?++h:h=-1}return p}var a={resolve:function(){for(var c,u="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var f;p>=0?f=arguments[p]:(c===void 0&&(c=process.cwd()),f=c),s(f),f.length!==0&&(u=f+"/"+u,l=f.charCodeAt(0)===47)}return u=o(u,!l),l?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(s(c),c.length===0)return".";var u=c.charCodeAt(0)===47,l=c.charCodeAt(c.length-1)===47;return(c=o(c,!u)).length!==0||u||(c="."),c.length>0&&l&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var l=arguments[u];s(l),l.length>0&&(c===void 0?c=l:c+="/"+l)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(s(c),s(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var l=1;l<c.length&&c.charCodeAt(l)===47;++l);for(var p=c.length,f=p-l,d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var h=u.length-d,g=f<h?f:h,m=-1,y=0;y<=g;++y){if(y===g){if(h>g){if(u.charCodeAt(d+y)===47)return u.slice(d+y+1);if(y===0)return u.slice(d+y)}else f>g&&(c.charCodeAt(l+y)===47?m=y:y===0&&(m=0));break}var C=c.charCodeAt(l+y);if(C!==u.charCodeAt(d+y))break;C===47&&(m=y)}var x="";for(y=l+m+1;y<=p;++y)y!==p&&c.charCodeAt(y)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+u.slice(d+m):(d+=m,u.charCodeAt(d)===47&&++d,u.slice(d))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var u=c.charCodeAt(0),l=u===47,p=-1,f=!0,d=c.length-1;d>=1;--d)if((u=c.charCodeAt(d))===47){if(!f){p=d;break}}else f=!1;return p===-1?l?"/":".":l&&p===1?"//":c.slice(0,p)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');s(c);var l,p=0,f=-1,d=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var h=u.length-1,g=-1;for(l=c.length-1;l>=0;--l){var m=c.charCodeAt(l);if(m===47){if(!d){p=l+1;break}}else g===-1&&(d=!1,g=l+1),h>=0&&(m===u.charCodeAt(h)?--h==-1&&(f=l):(h=-1,f=g))}return p===f?f=g:f===-1&&(f=c.length),c.slice(p,f)}for(l=c.length-1;l>=0;--l)if(c.charCodeAt(l)===47){if(!d){p=l+1;break}}else f===-1&&(d=!1,f=l+1);return f===-1?"":c.slice(p,f)},extname:function(c){s(c);for(var u=-1,l=0,p=-1,f=!0,d=0,h=c.length-1;h>=0;--h){var g=c.charCodeAt(h);if(g!==47)p===-1&&(f=!1,p=h+1),g===46?u===-1?u=h:d!==1&&(d=1):u!==-1&&(d=-1);else if(!f){l=h+1;break}}return u===-1||p===-1||d===0||d===1&&u===p-1&&u===l+1?"":c.slice(u,p)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,l){var p=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return p?p===l.root?p+f:p+"/"+f:f}(0,c)},parse:function(c){s(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var l,p=c.charCodeAt(0),f=p===47;f?(u.root="/",l=1):l=0;for(var d=-1,h=0,g=-1,m=!0,y=c.length-1,C=0;y>=l;--y)if((p=c.charCodeAt(y))!==47)g===-1&&(m=!1,g=y+1),p===46?d===-1?d=y:C!==1&&(C=1):d!==-1&&(C=-1);else if(!m){h=y+1;break}return d===-1||g===-1||C===0||C===1&&d===g-1&&d===h+1?g!==-1&&(u.base=u.name=h===0&&f?c.slice(1,g):c.slice(h,g)):(h===0&&f?(u.name=c.slice(1,d),u.base=c.slice(1,g)):(u.name=c.slice(h,d),u.base=c.slice(h,g)),u.ext=c.slice(d,g)),h>0?u.dir=c.slice(0,h-1):f&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},e={};function n(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>f,Utils:()=>H}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function c(F,M){if(!F.scheme&&M)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${F.authority}", path: "${F.path}", query: "${F.query}", fragment: "${F.fragment}"}`);if(F.scheme&&!s.test(F.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(F.path){if(F.authority){if(!o.test(F.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(F.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(M){return M instanceof f||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"}scheme;authority;path;query;fragment;constructor(M,J,_,I,W,ue=!1){typeof M=="object"?(this.scheme=M.scheme||u,this.authority=M.authority||u,this.path=M.path||u,this.query=M.query||u,this.fragment=M.fragment||u):(this.scheme=function(ce,ae){return ce||ae?ce:"file"}(M,ue),this.authority=J||u,this.path=function(ce,ae){switch(ce){case"https":case"http":case"file":ae?ae[0]!==l&&(ae=l+ae):ae=l}return ae}(this.scheme,_||u),this.query=I||u,this.fragment=W||u,c(this,ue))}get fsPath(){return C(this,!1)}with(M){if(!M)return this;let{scheme:J,authority:_,path:I,query:W,fragment:ue}=M;return J===void 0?J=this.scheme:J===null&&(J=u),_===void 0?_=this.authority:_===null&&(_=u),I===void 0?I=this.path:I===null&&(I=u),W===void 0?W=this.query:W===null&&(W=u),ue===void 0?ue=this.fragment:ue===null&&(ue=u),J===this.scheme&&_===this.authority&&I===this.path&&W===this.query&&ue===this.fragment?this:new h(J,_,I,W,ue)}static parse(M,J=!1){let _=p.exec(M);return _?new h(_[2]||u,k(_[4]||u),k(_[5]||u),k(_[7]||u),k(_[9]||u),J):new h(u,u,u,u,u)}static file(M){let J=u;if(i&&(M=M.replace(/\\/g,l)),M[0]===l&&M[1]===l){let _=M.indexOf(l,2);_===-1?(J=M.substring(2),M=l):(J=M.substring(2,_),M=M.substring(_)||l)}return new h("file",J,M,u,u)}static from(M){let J=new h(M.scheme,M.authority,M.path,M.query,M.fragment);return c(J,!0),J}toString(M=!1){return x(this,M)}toJSON(){return this}static revive(M){if(M){if(M instanceof f)return M;{let J=new h(M);return J._formatted=M.external,J._fsPath=M._sep===d?M.fsPath:null,J}}return M}}let d=i?1:void 0;class h extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=C(this,!1)),this._fsPath}toString(M=!1){return M?x(this,!0):(this._formatted||(this._formatted=x(this,!1)),this._formatted)}toJSON(){let M={$mid:1};return this._fsPath&&(M.fsPath=this._fsPath,M._sep=d),this._formatted&&(M.external=this._formatted),this.path&&(M.path=this.path),this.scheme&&(M.scheme=this.scheme),this.authority&&(M.authority=this.authority),this.query&&(M.query=this.query),this.fragment&&(M.fragment=this.fragment),M}}let g={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(F,M,J){let _,I=-1;for(let W=0;W<F.length;W++){let ue=F.charCodeAt(W);if(ue>=97&&ue<=122||ue>=65&&ue<=90||ue>=48&&ue<=57||ue===45||ue===46||ue===95||ue===126||M&&ue===47||J&&ue===91||J&&ue===93||J&&ue===58)I!==-1&&(_+=encodeURIComponent(F.substring(I,W)),I=-1),_!==void 0&&(_+=F.charAt(W));else{_===void 0&&(_=F.substr(0,W));let ce=g[ue];ce!==void 0?(I!==-1&&(_+=encodeURIComponent(F.substring(I,W)),I=-1),_+=ce):I===-1&&(I=W)}}return I!==-1&&(_+=encodeURIComponent(F.substring(I))),_!==void 0?_:F}function y(F){let M;for(let J=0;J<F.length;J++){let _=F.charCodeAt(J);_===35||_===63?(M===void 0&&(M=F.substr(0,J)),M+=g[_]):M!==void 0&&(M+=F[J])}return M!==void 0?M:F}function C(F,M){let J;return J=F.authority&&F.path.length>1&&F.scheme==="file"?`//${F.authority}${F.path}`:F.path.charCodeAt(0)===47&&(F.path.charCodeAt(1)>=65&&F.path.charCodeAt(1)<=90||F.path.charCodeAt(1)>=97&&F.path.charCodeAt(1)<=122)&&F.path.charCodeAt(2)===58?M?F.path.substr(1):F.path[1].toLowerCase()+F.path.substr(2):F.path,i&&(J=J.replace(/\//g,"\\")),J}function x(F,M){let J=M?y:m,_="",{scheme:I,authority:W,path:ue,query:ce,fragment:ae}=F;if(I&&(_+=I,_+=":"),(W||I==="file")&&(_+=l,_+=l),W){let fe=W.indexOf("@");if(fe!==-1){let be=W.substr(0,fe);W=W.substr(fe+1),fe=be.lastIndexOf(":"),fe===-1?_+=J(be,!1,!1):(_+=J(be.substr(0,fe),!1,!1),_+=":",_+=J(be.substr(fe+1),!1,!0)),_+="@"}W=W.toLowerCase(),fe=W.lastIndexOf(":"),fe===-1?_+=J(W,!1,!0):(_+=J(W.substr(0,fe),!1,!0),_+=W.substr(fe))}if(ue){if(ue.length>=3&&ue.charCodeAt(0)===47&&ue.charCodeAt(2)===58){let fe=ue.charCodeAt(1);fe>=65&&fe<=90&&(ue=`/${String.fromCharCode(fe+32)}:${ue.substr(3)}`)}else if(ue.length>=2&&ue.charCodeAt(1)===58){let fe=ue.charCodeAt(0);fe>=65&&fe<=90&&(ue=`${String.fromCharCode(fe+32)}:${ue.substr(2)}`)}_+=J(ue,!0,!1)}return ce&&(_+="?",_+=J(ce,!1,!1)),ae&&(_+="#",_+=M?ae:m(ae,!1,!1)),_}function T(F){try{return decodeURIComponent(F)}catch{return F.length>3?F.substr(0,3)+T(F.substr(3)):F}}let E=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function k(F){return F.match(E)?F.replace(E,M=>T(M)):F}var L=n(470);let A=L.posix||L,j="/";var H;(function(F){F.joinPath=function(M,...J){return M.with({path:A.join(M.path,...J)})},F.resolvePath=function(M,...J){let _=M.path,I=!1;_[0]!==j&&(_=j+_,I=!0);let W=A.resolve(_,...J);return I&&W[0]===j&&!M.authority&&(W=W.substring(1)),M.with({path:W})},F.dirname=function(M){if(M.path.length===0||M.path===j)return M;let J=A.dirname(M.path);return J.length===1&&J.charCodeAt(0)===46&&(J=""),M.with({path:J})},F.basename=function(M){return A.basename(M.path)},F.extname=function(M){return A.extname(M.path)}})(H||(H={}))})(),BM=r})();var{URI:Zr,Utils:Cr}=BM;function uc(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}var Em=class{map=new Map;get(e,n){return n?uc(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function TD(){return new Em}var ED={string:!0,undefined:!0},Tne={number:!0,undefined:!0};function $M(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}function KM(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in Tne&&typeof e.code in ED&&typeof e.path in ED&&typeof e.stack in ED}function lc(t){return new kD(t)}var kD=class{name;#e=new Set;#t=!1;constructor(e){this.name=e}event=e=>{Ene(!this.#t,"EventEmitter is disposed");let r={fn:e};return this.#e.add(r),{dispose:()=>{this.#e.delete(r)}}};fire=e=>{for(let n of this.#e)try{n.fn(e)}catch{}};dispose=()=>{this.#t=!0,this.#e.clear()};get isDisposed(){return this.#t}numListeners(){return this.#e.size}};function Ene(t,e="assertion failed"){if(!t)throw new Error(e)}function zM(t,e){let n,r=0,i;return s=>o=>{let a=n??=lc(),c=a.event(o);return i??=s(u=>t(u,a.fire)),++r,{dispose(){if(r&&(--r,c.dispose(),!r))try{e?.dispose(),n?.dispose(),i?.dispose()}finally{n=void 0,i=void 0}}}}}var RD=Symbol("not set");function FD(t){let e=RD,n;function r(){e=RD,n=void 0}return zM((i,s)=>{e=i,clearTimeout(n),n=setTimeout(o,t);function o(){let a=e;r(),a!==RD&&s(a)}},{dispose(){clearTimeout(n),r()}})}function AD(t,...e){let n="event"in t?s=>t.event(s):t,r,i=()=>{if(r)return r;let s=n;for(let o of e)s=o(s);return r=s};return s=>i()(s)}function PD(t,e){let n=new Map;for(let r of t){let i=r[e],s=n.get(i)||[];s.push(r),n.set(i,s)}return n}var HM=require("url");var ID=["file","gist","repo","sftp","untitled","vscode-notebook-cell","vscode-scm","vscode-userdata","comment"],ND=new Set(ID);var GM=/^[\w._-]{2,}:/;function km(t){return kne(t)}function kne(t){if(typeof t=="string")return GM.test(t)?Zr.parse(t):Zr.parse((0,HM.pathToFileURL)(t).toString());if(t)return t instanceof URL?Zr.parse(t.toString()):t}function Rne(t,e){if(t.scheme!==e.scheme)return VM(e).toString();let n=_D(t),r=_D(e),i=0;for(i=0;i<n.length&&i<r.length;++i){let o=n[i],a=r[i];if(o===a)continue;let c=decodeURIComponent(o).toLowerCase(),u=decodeURIComponent(a).toLowerCase();if(!(c.endsWith(":")&&c==u&&c.length==2))break}return("../".repeat(n.length-i)+r.slice(i).join("/")).replace(/\/$/,"")}function VM(t){return t.with({fragment:"",query:""})}function bs(t,e={}){let{segments:n=2,relativeTo:r}=e;if(r){let s=Rne(km(r),t);if(!GM.test(s))return s.split("/").slice(-n).join("/")}return _D(t).slice(-n).join("/")}function _D(t){return VM(t).toString().split("/").filter(e=>!!e)}function JM(t){let e=Zr.isUri(t)?t:km(t.toString());return e.scheme==="file"?e.fsPath:e.toString()}function LD(t){return[...new Set(t)]}function dc(t){let e=new Set;return t?n=>{let r=t(n);return!e.has(r)&&(e.add(r),!0)}:n=>!e.has(n)&&(e.add(n),!0)}function Xn(t){return t!=null}function XM(t,e){let n={};for(let r of e)n[r]=t[r];return n}var je={};Ot(je,oe(nU(),1));var Ye={...je.ConfigFields,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename","experimental.symbols":"experimental.symbols",autoFormatConfigFile:"autoFormatConfigFile",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",diagnosticLevelFlaggedWords:"diagnosticLevelFlaggedWords",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",mergeCSpellSettings:"mergeCSpellSettings",mergeCSpellSettingsFields:"mergeCSpellSettingsFields",noSuggestDictionaries:"noSuggestDictionaries",reportUnknownWords:"reportUnknownWords",showAutocompleteDirectiveSuggestions:"showAutocompleteDirectiveSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useLocallyInstalledCSpellDictionaries:"useLocallyInstalledCSpellDictionaries",workspaceRootPath:"workspaceRootPath",trustedWorkspace:"trustedWorkspace",allowedSchemas:"allowedSchemas",enabledFileTypes:"enabledFileTypes",enabledLanguageIds:"enabledLanguageIds",enabledSchemes:"enabledSchemes",hideIssuesWhileTyping:"hideIssuesWhileTyping",revealIssuesAfterDelayMS:"revealIssuesAfterDelayMS",useCustomDecorations:"useCustomDecorations",doNotUseCustomDecorationForScheme:"doNotUseCustomDecorationForScheme",textDecoration:"textDecoration",textDecorationLine:"textDecorationLine",textDecorationStyle:"textDecorationStyle",textDecorationThickness:"textDecorationThickness",textDecorationColor:"textDecorationColor",textDecorationColorFlagged:"textDecorationColorFlagged",textDecorationColorSuggestion:"textDecorationColorSuggestion",overviewRulerColor:"overviewRulerColor",dark:"dark",light:"light"};var _ne={git:!1,output:!1,debug:!1},Ine={gist:!0,repo:!0,file:!0,sftp:!0,untitled:!0,"vscode-notebook-cell":!0,"vscode-vfs":!0,vsls:!0,..._ne};function Nne(t,e){if(e.allowedSchemas){let n=Object.fromEntries(e.allowedSchemas.map(r=>[r,!0]));t={...t,...n}}return e.enabledSchemes&&(t={...t,...e.enabledSchemes}),t}function iU(...t){let e={...Ine};return t.reduce(Nne,e)}function MD(...t){let e=iU(...t);return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}function rU(t,e){if(!e)return t;let n=Object.fromEntries(Mne(e).map(r=>r.startsWith("!")?[r.slice(1),!1]:[r,!0]));return t={...t,...n},t}function Lne(t,e){return e?{...t,...e}:t}function One(t,e){return t=rU(t,e.enabledLanguageIds),t=rU(t,e.enableFiletypes),t=Lne(t,e.enabledFileTypes),t}function Fm(t,e={}){return One(e,t)}function UD(t){return Object.keys(Fm(t)).sort()}function Mne(t){return t.map(n=>n.replace(/!/g,"~")).sort().map(n=>n.replace(/~/g,"!")).map(n=>n.replace(/^(!!)+/,""))}var fr=oe(require("vscode"),1);var gV=require("util"),Ze=require("vscode");var Une={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0,issueTracker:void 0,eventLogger:void 0},qne=Object.keys(Une),Uu={};function df(){return Uu}function sU(t,e){Object.defineProperty(Uu,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function xt(t){if(Object.getOwnPropertyDescriptor(Uu,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return Uu[t]}function fc(){return xt("client")}function qD(){return xt("extensionContext")}function WD(){return xt("issueTracker")}function ff(t,e){Object.defineProperty(Uu,t,{value:e,configurable:!0,enumerable:!0})}function Wne(t){Object.defineProperty(Uu,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function jne(){qne.forEach(Wne)}jne();var zD=oe(require("vscode"),1);var jD=require("vscode");function ht(t){return typeof t=="string"?jD.Uri.from(km(t)):t&&jD.Uri.from(t)||void 0}var pf={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function BD(t){return e=>typeof e=="object"&&e.kind===t}var _Le=BD(pf.Dictionary),ILe=BD(pf.Cspell),NLe=BD(pf.Vscode),Am={user:1,workspace:2,folder:3,unknown:4};function Bne(t,e){return Am[t]-Am[e]}function $ne(t,e){return Am[e]-Am[t]}function hf(t,e=!0){let n=e?$ne:Bne;return[...t].sort(n)}var ws=require("vscode"),oU={[ws.ConfigurationTarget.Global]:"user",[ws.ConfigurationTarget.Workspace]:"workspace",[ws.ConfigurationTarget.WorkspaceFolder]:"folder"},Kne={user:ws.ConfigurationTarget.Global,workspace:ws.ConfigurationTarget.Workspace,folder:ws.ConfigurationTarget.WorkspaceFolder},$D=[ws.ConfigurationTarget.Global,ws.ConfigurationTarget.Workspace,ws.ConfigurationTarget.WorkspaceFolder];function wi(t){return oU[t]}function Pm(t){return zne(t)}function zne(t){return Kne[t]}function KD(t){return oU[t]}function aU(t){let e=[],n=$D.indexOf(t);if(n<0)return e;for(let r=n;r<$D.length;++r)e.push(KD($D[r]));return e.push("unknown"),e}var Hne={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var pc={dictionary:!0,cspell:!0,vscode:!0};var Gne={cspell:!0},GD={vscode:!0},Vne={dictionary:!0,cspell:!1,vscode:!1};var gf={unknown:!0,folder:!0,workspace:!0,user:!0},Jne={unknown:!0,folder:!0,workspace:!0,user:!1},cU={user:!0},uU={workspace:!0},lU={folder:!0};var Xne=Object.freeze(Object.values(pf)),Yne=Object.freeze(Object.values(Hne)),_m=Lo(pc,Jne),dU=Lo(pc,cU),fU=Lo(pc,uU),pU=Lo(pc,lU),hU=Lo(Gne,gf),gU=Lo(GD,cU),mU=Lo(GD,uU),yU=Lo(GD,lU),Im=mf(sre(Vne),gf),KLe=mf(pc,gf);function Qne(t,e){let n=[];for(let r of e)if(!(!t[r.kind]||!t[r.scope])){if(n.length&&(n[0].kind!==r.kind||n[0].scope!==r.scope))break;n.push(r)}return n}function Lo(...t){let e=mf(...t);return Zne(e)}function Zne(t,e=!1){return async function(n){let r=Qne(t,n);return Nm(r,e)}}async function Nm(t,e=!1){if(!t.length)throw new HD("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",r=t.map(o=>({label:o.name,_found:o})),i=e?await zD.window.showQuickPick(r,{title:n,canPickMany:!0}):await zD.window.showQuickPick(r,{title:n});return i?(Array.isArray(i)?i:[i]).map(o=>o._found):void 0}async function Lm(t){let e=await Nm(t,!1);return e&&e[0]}function Om(t,e){let n=typeof e=="function"?e:ere(e);return t.filter(n)}function CU(t,e){return t.filter(n=>n.kind!=="cspell"||e in je.ConfigFields)}function ere(t){return e=>tre(e,t)}function tre(t,e){return!!e[t.kind]&&!!e[t.scope]}function mf(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=nre(e,n,Yne);return e}function nre(t,e,n){let r=Object.assign({},t);for(let i of n){let s=e[i];s!==void 0&&(r[i]=s)}return r}function rre(t,e){let n={};for(let r of e)n[r]=ire(t[r]);return n}function ire(t){return t===void 0?void 0:!t}function sre(t){return rre(t,Xne)}function SU(t,e,n){let r=wi(t);return{kind:"vscode",scope:r,name:r,docUri:ht(e),configScope:n}}var HD=class extends Error{};var VD=require("util"),bU=require("vscode");function yf(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Cf(t,e){return!wU(t)&&yf(t)?(console.error(XD(t,e)),hc(bU.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve(void 0)}function Sf(t,e){return!wU(t)&&yf(t)&&console.log(XD(t,e)),Promise.resolve(void 0)}function JD(t,e){let n=XD(t,e);return Promise.resolve(void 0)}function bt(t,e,n=Cf){return(typeof t=="function"?(async()=>t())():t).catch(ore(e,n))}function xf(t,e,n=Cf){return(...r)=>bt(()=>t(...r),e,n)}function Wn(t,e){return bt(Promise.resolve(t),e,Sf)}function hc(t,e){return bt(Promise.resolve(t),e,JD)}function vU(t,e){return bt(Promise.resolve(t),e,Cf)}function ore(t,e){return n=>e(n,t)}function XD(t,e){return(0,VD.format)("Error: context (%s): %o",e,t)}var xU="Canceled";function wU(t){return t instanceof Error&&t.name===xU&&t.message===xU}function qu(t){if(yf(t))return t;let e=new Error((0,VD.format)("Error: %o",t));return e.cause=t,e}function DU(t,e){return Js(t,pU,e)}function Mm(t,e){return Js(t,fU,e)}function Um(t){return Js(t,dU,void 0)}function Js(t,e,n){return bt(are(t,e,n),"addWordToTarget")}function are(t,e,n){return n=ht(n),xt("dictionaryHelper").addWordsToTargets(t,e,n)}function Ds(t,e){return(n,r)=>t(n,e,r)}var dr=require("vscode");function qm(t,e){if(ure(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function ure(t){return t instanceof RegExp}var Eue=require("vscode");var Qu=oe(TT(),1),SB=require("vscode");var Vy=oe(o0(),1);var Fs=require("vscode");var zy=require("vscode");async function mB(t){try{return!!(await zy.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof zy.FileSystemError))throw e;return!1}}var a0=Fs.workspace.fs,yB={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},lue=Fs.FileSystemError.FileNotFound().code;yB[lue]=!0;async function due(t){return await a0.createDirectory(t)}async function fue(t,e,n="utf8"){let r=c0(t);return r?pue(r,e):hue(t,e,n)}async function pue(t,e){let n=t.getText();if(n===e)return;let r=new Fs.Range(t.positionAt(0),t.positionAt(n.length)),i=new Fs.WorkspaceEdit;i.replace(t.uri,r,e),await Fs.workspace.applyEdit(i),await t.save()}async function hue(t,e,n){return await a0.writeFile(t,Buffer.from(e,n))}async function gue(t,e){return Buffer.from(await a0.readFile(t)).toString(e)}function mue(t){return $M(t)?t.code in yB:!1}function c0(t){let e=t.toString(!0);return Fs.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var vn={createDirectory:due,writeFile:fue,readFile:gue,fileExists:mB,isFileNotFoundError:mue};function u0(t,e){let n={};for(let r of e)n[r]=t[r];return n}var xB=Symbol("format"),yue=[{match:/package\.json$/i,handler:t=>new h0(t)},{match:/\.jsonc?$/i,handler:t=>new p0(t)},{match:/\.ya?ml$/i,handler:t=>new g0(t)}],Cue=4,CB=2;async function m0(t,e){try{return await Jy(t)._read()}catch(n){return vn.isFileNotFoundError(n)?Promise.resolve(e):Promise.reject(n)}}function y0(t,e){return Jy(t).write(e)}function Jy(t){return Sue(t)}function Sue(t){let e=xue(t);if(e)return e.handler(t);throw new Gy(t)}function xue(t){let n=t.with({fragment:"",query:""}).toString();for(let r of yue)if(r.match.test(n))return r}var C0={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function bB(t,e){return t.catch(n=>{if(!vn.isFileNotFoundError(n))throw n;return e})}var Gy=class extends Error{constructor(e){super(`Unhandled file type: "${Cr.basename(e)}"`)}},l0=class extends Error{constructor(n,r,i){super(n);this.code=r;this.errno=i}},d0=class extends Error{};function Hy(t){let e=Tue(t),n=(0,Qu.parse)(t);if(n==null)return{};if(typeof n!="object")throw new d0("Invalid cspell JSON file.");return bue(n,e)}function f0(t,e,n=!0){let r=vue(t);e=r?.spaces||e||Cue;let i=r?.newlineAtEndOfFile??!0,s=n?(0,Qu.stringify)(t,null,e):JSON.stringify(t,null,e);return i?s+`
`:s}function bue(t,e){return t==null||typeof t!="object"||(t[xB]=e),t}function vue(t){if(!(t==null||typeof t!="object"))return t[xB]}function wue(t){return/\n$/.test(t)}function Due(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function Tue(t){return{spaces:Due(t),newlineAtEndOfFile:wue(t)}}var ip=class{constructor(e){this.uri=e}async read(e){return u0(await this._read(),e)}update(e,n){return this._update(r=>e(u0(r,n)))}async mkdir(){return await vn.createDirectory(SB.Uri.joinPath(this.uri,".."))}},p0=class extends ip{async _update(e){let n=await bB(this._read(),C0),r=(0,Qu.assign)(n,e(n));return this.write(r)}async write(e){await this.mkdir();let n=f0(e),r=n[n.length-1]!==`
`?n+`
`:n;return vn.writeFile(this.uri,r)}async _read(){let e=this.uri,n=await vn.readFile(e,"utf8");return Hy(n)}},h0=class extends ip{async _update(e){let n=await vn.readFile(this.uri,"utf8"),r=Hy(n),i=r.cspell||{...C0};return r.cspell=Object.assign(i,e(i)),vn.writeFile(this.uri,f0(r,CB,!1))}async write(e){let n=await vn.readFile(this.uri,"utf8"),r=Hy(n);return r.cspell=e,vn.writeFile(this.uri,f0(r,CB,!1))}async _read(){let e=await vn.readFile(this.uri,"utf8"),n=Hy(e);if(!n.cspell||typeof n.cspell!="object")throw new l0("`cspell` section missing from package.json","ENOENT");return n.cspell}},g0=class extends ip{async _update(e){let n=await bB(this._read(),C0),r=Object.assign({},n,e(n));return this.write(r)}async write(e){return await this.mkdir(),vn.writeFile(this.uri,(0,Vy.stringify)(e))}async _read(){let e=await vn.readFile(this.uri,"utf8");return(0,Vy.parse)(e)}};var kue="0.2";var Rue=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs","cspell.config.mjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],vB=new Set(Rue.map(t=>t.split("/").slice(-1)[0])),S0=Object.freeze(vB),Fue=`**/{${[...vB].join(",")}}`;var Xy=".cspell",wB=["cspell.json","cspell.config.yaml","package.json"],qOe=Object.freeze({version:kue});var Aue=/[^\w\p{L}\p{M}_'-]+/gu,Pue=/^[\w\p{L}\p{M}_'-]+$/u;function DB(t){return Pue.test(t)}function Zs(t){return t=typeof t!="string"?t.join(" "):t,t.replace(Aue," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter(dc())}var Sa=oe(require("vscode"),1),ql=require("vscode");var qG=require("path"),wn=require("vscode");function Vo(t,e){let n=_ue(t,e);return{updateFn:i=>({[t]:n(i[t])}),keys:[t]}}function x0(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function _ue(t,e){return typeof e=="function"?e:()=>e}var Fn=require("vscode");var Jo="cSpell",Yy=Jo;var Zu=require("vscode");var sp=require("vscode");function Xo(t){if(!t)return sp.window.activeTextEditor;let e=t.toString();for(let n of sp.window.visibleTextEditors)if(n.document.uri.toString()===e)return n}function As(t){if(!t)return;let e=t.toString();for(let n of sp.workspace.textDocuments)if(n.uri.toString()===e)return n}var Iue={git:!0,output:!0,debug:!0,vscode:!0},Nue=Object.freeze(Object.assign(Object.create(null),Iue));function Qy(t){if(t===void 0||t.scheme in Nue)return;let e=Lue(t);if(e){let n=Zy(t);return n?{uri:n.notebook.uri,languageId:n.document.languageId}:e}if(t.scheme==="file")return t}function Lue(t){let e=As(t);if(e)return e;let n=new Set(Zu.workspace.workspaceFolders?.map(s=>s.uri.scheme)).add("file"),r,i=t.path;for(let s of Zu.workspace.textDocuments){let o=s.uri;if(o.path===i&&(r=s,n.has(o.scheme)))return s}return r}function Oue(t){return t.scheme==="vscode-notebook-cell"}function op(t){return Zy(t.uri)}function Zy(t){if(Oue(t))for(let e of Zu.workspace.notebookDocuments){let r=e.getCells().find(i=>i.document.uri.toString()===t.toString());if(r)return r}}function eC(t){let e=op(t);return e?e.notebook:t}function TB(t){if(t){if(t instanceof Zu.Uri)return t;if("uri"in t)return t.uri}}var ma=require("vscode");var Ii=require("vscode"),pa=oe(Il());var $p=require("vscode"),Kp=oe(Il()),B3={[$p.DiagnosticSeverity.Error]:Kp.DiagnosticSeverity.Error,[$p.DiagnosticSeverity.Warning]:Kp.DiagnosticSeverity.Warning,[$p.DiagnosticSeverity.Information]:Kp.DiagnosticSeverity.Information,[$p.DiagnosticSeverity.Hint]:Kp.DiagnosticSeverity.Hint};function K3(t){return pa.CodeAction.is(t)}function z3(t){let e=t.kind!==void 0&&Ii.CodeActionKind.Empty.append(t.kind)||void 0,n=new Ii.CodeAction(t.title,e);return n.command=t.command&&t.command,n}function H3(t){return pa.Diagnostic.create(VA(t.range),t.message,B3[t.severity],void 0,t.source)}function VA(t){let{start:e,end:n}=t;return pa.Range.create($3(e),$3(n))}function $3(t){let{line:e,character:n}=t;return pa.Position.create(e,n)}function BS(t){return t instanceof Ii.Position?t:Array.isArray(t)?new Ii.Position(t[0],t[1]):new Ii.Position(t.line,t.character)}function G3(t){return t instanceof Ii.Range?t:Array.isArray(t)?new Ii.Range(BS(t[0]),BS(t[1])):new Ii.Range(BS(t.start),BS(t.end))}var V3=["al","asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","github-actions-workflow","go","graphql","groovy","handlebars","haskell","html","ini","jade","java","javascript","javascriptreact","json","jsonc","julia","jupyter","latex","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","restructuredtext","ruby","rust","scala","scminput","scss","shaderlab","shellscript","sql","swift","text","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var J3=require("vscode"),JA=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new J3.Disposable(()=>this.listeners.delete(e))}};function XA(){return new JA}var X3=oe(require("assert"));var $S=class{_attached=void 0;_resolve=()=>{};_reject=()=>{};_promise;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}attach(e){this._attached!==e&&((0,X3.default)(this._attached===void 0,"Already Resolved"),this._attached=e,this._attached.then(this._resolve,this._reject).catch(()=>{}))}isPending(){return!this._attached}isResolved(){return!this.isPending()}};var CG=oe(pG(),1);var lr=oe(Il());var ha=require("vscode");async function hG(t){let e=ha.Uri.parse(t);return await ha.workspace.fs.stat(e)}async function gG(t){let e=ha.Uri.parse(t);return await ha.workspace.fs.readDirectory(e)}async function mG(t){let e=ha.Uri.parse(t),n=await ha.workspace.fs.readFile(e);return{uri:t,encoding:"base64",content:Buffer.from(n).toString("base64")}}async function SG(t,e){let n=lr.CodeActionRequest.type;return await t.sendRequest(n,e)}function xG(t){let n=(0,CG.createClientSideApi)(t,{serverRequests:{isSpellCheckEnabled:!0,getConfigurationForDocument:!0,getConfigurationTargets:!0,getSpellCheckingOffsets:!0,spellingSuggestions:!0,splitTextIntoWords:!0,traceWord:!0,checkDocument:!0},serverNotifications:{notifyConfigChange:!0,registerConfigurationFile:!0},clientNotifications:{onSpellCheckDocument:!0,onDiagnostics:!0,onDocumentConfigChange:!0},clientRequests:{onWorkspaceConfigForDocumentRequest:!0,vfsReadDirectory:gG,vfsReadFile:mG,vfsStat:hG}},{log:()=>{}}),{serverNotification:r,serverRequest:i,clientNotification:s,clientRequest:o}=n;return{isSpellCheckEnabled:co(i.isSpellCheckEnabled,"isSpellCheckEnabled"),getConfigurationForDocument:co(i.getConfigurationForDocument,"getConfigurationForDocument"),getConfigurationTargets:co(i.getConfigurationTargets,"getConfigurationTargets"),getSpellCheckingOffsets:co(i.getSpellCheckingOffsets,"getSpellCheckingOffsets"),spellingSuggestions:co(i.spellingSuggestions,"spellingSuggestions"),notifyConfigChange:co(r.notifyConfigChange,"notifyConfigChange"),registerConfigurationFile:co(r.registerConfigurationFile,"registerConfigurationFile"),traceWord:co(i.traceWord,"traceWord"),checkDocument:co(i.checkDocument,"checkDocument"),onSpellCheckDocument:c=>s.onSpellCheckDocument.subscribe(HS(c,"onSpellCheckDocument")),onDocumentConfigChange:c=>s.onDocumentConfigChange.subscribe(HS(c,"onDocumentConfigChange")),onDiagnostics:c=>s.onDiagnostics.subscribe(HS(c,"onDiagnostics")),onWorkspaceConfigForDocumentRequest:c=>o.onWorkspaceConfigForDocumentRequest.subscribe(HS(c,"onWorkspaceConfigForDocumentRequest")),dispose:n.dispose}}var Zhe=0,yG=!1,ege=!0,tge=!0;function co(t,e){return(...n)=>nge(n,t(...n),e)}function nge(t,e,n){return bG("Server R/N",t,e,n,ege)}function HS(t,e){return(...n)=>rge(n,t(...n),e)}function rge(t,e,n){return bG("Client R/N",t,e,n,tge)}async function bG(t,e,n,r,i){let s=++Zhe,o;i&&yG&&console.log("%s %i Start %s: %s(%o)",new Date().toISOString(),s,t,r,e);try{return o=await n,o}finally{i&&yG&&console.log("%s %i End   %s: %s, %o",new Date().toISOString(),s,t,r,o)}}var _G=oe(PG(),1);function JS(t=""){return Array.isArray(t)&&(t=t.join(",")),yge(t).join(",")}function yge(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>(0,_G.normalizeCode)(e)).map(e=>e.trim()).filter(e=>!!e).filter(dc())}var Cge=["--nolazy","--inspect=60048"],Sge=Yy,IG="||",XS=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=St();broadcasterOnSpellCheckDocument=XA();broadcasterOnDocumentConfigChange=XA();ready=new $S;constructor(e,n){let r=e.asAbsolutePath("packages/_server/dist/main.cjs"),i={enabledLanguageIds:qc(Ye.enabledLanguageIds,ga.Workspace),enableFiletypes:qc(Ye.enableFiletypes,ga.Workspace),enabledFileTypes:qc(Ye.enabledFileTypes,ga.Workspace),allowedSchemas:qc(Ye.allowedSchemas,ga.Workspace)||ID,enabledSchemes:qc(Ye.enabledSchemes,ga.Workspace)};this.allowedSchemas=new Set(MD(i)),ND.clear(),this.allowedSchemas.forEach(f=>ND.add(f)),this.languageIds=new Set([...n,...V3,...UD(i)]);let s=[...this.languageIds],a={documentSelector:[...this.allowedSchemas].flatMap(f=>s.map(d=>({language:d,scheme:f}))),diagnosticCollectionName:Sge,synchronize:{configurationSection:[ci,"search"]},middleware:{handleDiagnostics(f,d,h){h(f,d)}}},c=this.calcServerArgs(),u={execArgv:c},l={execArgv:[...c,...Cge]},p={run:{module:r,transport:lr.TransportKind.ipc,options:u},debug:{module:r,transport:lr.TransportKind.ipc,options:l}};this.registerDisposable(this.broadcasterOnDocumentConfigChange.listen(f=>this.clearCacheGetConfigurationForDocument(f.uris))),this.client=new lr.LanguageClient("cspell","Code Spell Checker Server",p,a),this.client.registerProposedFeatures(),this.serverApi=xG(this.client),e.subscriptions.push(this.serverApi),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.attach(this.client.start()),this.ready.promise}async restart(){try{Qr.log("Restarting the server"),await this.client.restart(),Qr.log("Server restarted")}catch(e){Qr.error(`Failed to restart the server: ${qu(e).message}`)}}async isSpellCheckEnabled(e){let{uri:n,languageId:r=""}=e;return!n||!r?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:r}),uri:n}}async getConfigurationTargets(e){let{uri:n,languageId:r}=e||{},i={configTargets:[]};try{let s=sP(n);return!n||!s.uri?await this.serverApi.getConfigurationTargets({workspaceConfig:s}):await this.serverApi.getConfigurationTargets({uri:n.toString(),languageId:r,workspaceConfig:s})}catch(s){return console.error(`Failed to get configuration for document: ${n} ${r} ${s}`),i}}#e=this.factoryGetConfigurationForDocument();getConfigurationForDocument(e,n){return this.#e(e,n)}async _getConfigurationForDocument(e,n){let{uri:r,languageId:i}=e||{},s={enabled:void 0,enabledVSCode:void 0,configFiles:[],configTargets:[],fileEnabled:!1,fileIsIncluded:!1,fileIsExcluded:!1};try{let o=sP(r);return!r||!o.uri?await this.serverApi.getConfigurationForDocument({workspaceConfig:o,fields:n}):await this.serverApi.getConfigurationForDocument({uri:r.toString(),languageId:i,workspaceConfig:o,fields:n})}catch(o){return console.error(`Failed to get configuration for document: ${r} ${i} ${o}`),s}}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return(e,n)=>{let r=e?.uri?.toString()+IG+Object.keys(n).sort().join(","),i=this.cacheGetConfigurationForDocument.get(r);if(i)return i;let s=this._getConfigurationForDocument(e,n);return this.cacheGetConfigurationForDocument.set(r,s),s}}clearCacheGetConfigurationForDocument(e){if(!e){this.cacheGetConfigurationForDocument.clear();return}let n=new Set(e.map(r=>ma.Uri.parse(r).toString()));for(let r of this.cacheGetConfigurationForDocument.keys()){if(!r)continue;let i=r?.split(IG)[0];n.has(i)&&this.cacheGetConfigurationForDocument.delete(r)}}notifySettingsChanged(){return this.clearCacheGetConfigurationForDocument(),setTimeout(()=>this.clearCacheGetConfigurationForDocument(),250),hc(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return Wn(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),await e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(ma.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){this.disposables.push(...e)}dispose(){this.client.stop(),this.disposables.dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}onDocumentConfigChangeNotification(e){return this.broadcasterOnDocumentConfigChange.listen(e)}async requestSpellingSuggestionsCodeActions(e,n,r){let i={textDocument:lr.TextDocumentIdentifier.create(e.uri.toString()),range:VA(n),context:lr.CodeActionContext.create(r.map(H3))},s=await SG(this.client,i);return s?s.filter(K3).map(z3):[]}async requestSpellingSuggestions(e,n){let r={uri:n.uri.toString()};return this.serverApi.spellingSuggestions(e,r)}onDiagnostics(e){return this.serverApi.onDiagnostics(n=>{let r=this.client.protocol2CodeConverter,s={uri:r.asUri(n.uri),version:n.version,diagnostics:n.diagnostics.map(o=>r.asDiagnostic(o))};return e(s)})}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(xge))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e))),this.registerDisposable(this.serverApi.onDocumentConfigChange(e=>this.broadcasterOnDocumentConfigChange.send(e)))}};function xge(t){let{uri:e}=t,n=ma.Uri.parse(e);return sP(n)}function sP(t){let e=Qy(t),n=TB(e),r=YS(e,["words","userWords","ignoreWords"]),i=ma.workspace.workspaceFile?.toString(),s=n&&ma.workspace.getWorkspaceFolder(n)?.uri.toString(),o=i!==void 0,a=iP(r.userWords,o),c=iP(r.words,o),u=iP(r.ignoreWords,o);return c.user=a.user,{uri:n?.toString(),workspaceFile:i,workspaceFolder:s,words:c,ignoreWords:u}}function iP(t,e){if(!t)return{};let{globalValue:n,workspaceValue:r,workspaceFolderValue:i}=t;return{user:n!==void 0||void 0,workspace:r!==void 0||void 0,folder:e&&(i!==void 0||void 0)}}var Vp=class{constructor(e,n=1e3,r=5e3){this.getConfigurationForDocument=e;this.staleTimeMs=n;this.maxAgeMs=r;this.configs=new Map}configs=new Map;get(e){let n=this.configs.get(e.toString());if(!n||!n.config||this.isTooOld(n)){this.fetch(e);return}return this.isState(n)||this.fetch(e),n.config}set(e,n){let r=e.toString(),i=this.configs.get(r)||{config:n,timestamp:performance.now(),pending:void 0};i.config=n,this.configs.set(r,i)}delete(e){let n=e.toString();return this.configs.delete(n)}clear(){this.configs.clear()}async fetchAsync(e,n){try{let r=await this.getConfigurationForDocument(e);return n.config=r,n.timestamp=performance.now(),n.pending=void 0,r}finally{n.pending=void 0,this.cleanup()}}fetch(e){let n=e.toString(),r=this.configs.get(n)||{config:void 0,timestamp:performance.now(),pending:void 0};if(r.pending)return r.pending;this.configs.set(n,r);let i=this.fetchAsync(e,r);return r.pending=i,i}isState(e){return e.timestamp+this.staleTimeMs>performance.now()}isTooOld(e){return e.timestamp+this.maxAgeMs<performance.now()}cleanup(){for(let[e,n]of this.configs)!n.pending&&this.isTooOld(n)&&this.configs.delete(e)}};var Nn=require("vscode"),ci=Jo,Yqe=Fn.ConfigurationTarget.Global,ga={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},LG=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],bge=new Map(LG.map((t,e)=>[t,e]));function OG(t){return[ci,t].filter(e=>!!e).join(".")}function uo(t,e){return Jp(e).get(ci,{})[t]}function qc(t,e){return vge(t,e).value}function vge(t,e){e=Rge(e);let n=wge(t,e.resource);return Age(n,e.scope)}function wge(t,e){return Dge(e,t)}function cP(t){return Jp(t).inspect(ci)||{key:ci}}function Dge(t,e){let n=Jp(t),r=[ci,e].join(".");return n.inspect(r)||{key:r}}function Tge(t,e){let n=[ci,e].join(".");return t.inspect(n)||{key:n}}function YS(t,e){let n=Jp(t),r={};for(let i of e){let s={[i]:Tge(n,i)};Object.assign(r,s)}return r}function Ege(t){return typeof t=="object"&&t.target!==void 0}var Qqe={[Fn.ConfigurationTarget.Global]:"globalValue",[Fn.ConfigurationTarget.Workspace]:"workspaceValue",[Fn.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},Zqe={[Fn.ConfigurationTarget.Global]:"user",[Fn.ConfigurationTarget.Workspace]:"workspace",[Fn.ConfigurationTarget.WorkspaceFolder]:"folder"};function kge(t){return typeof t=="object"}function Rge(t){return kge(t)?{scope:t.scope,resource:t.scope===ga.Folder?Fge(t.resource):void 0}:{scope:t,resource:void 0}}function Fge(t){if(t)return Fn.workspace.getWorkspaceFolder(t)?.uri}function Age(t,e){for(let n=bge.get(e);n!==void 0&&n>=0;n-=1){let r=LG[n],i=t[r];if(i!==void 0)return{scope:r,value:i}}return{scope:"defaultValue",value:void 0}}function Jp(t){return Fn.workspace.getConfiguration(void 0,Lge(t))}function uP(t){return Ege(t)?t:{target:t,uri:void 0}}function lP(t,e,n,r){let i={},s=YS(e,n),o=r?Pge:_ge;for(let a of n)o(i,t,a,s);return i}function Pge(t,e,n,r){let i=r[n],s=Nge(e,i);s!==void 0&&(t[n]=s)}function _ge(t,e,n,r){let i=r[n],s=Ige(e,i);s!==void 0&&(t[n]=s)}function Ige(t,e){if(e!==void 0)switch(t){case Fn.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case Fn.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case Fn.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function Nge(t,e){if(e===void 0)return;let n=aP(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===Fn.ConfigurationTarget.Global||(n=aP(n,e.workspaceValue,e.workspaceLanguageValue),t===Fn.ConfigurationTarget.Workspace))return n;if(n=aP(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==Fn.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function aP(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function dP(t,e,n,r,i){let s=lP(t,e,n,i),o=r(s),a=Jp(e);await Object.entries(o).map(([c,u])=>a.update(`${Jo}.${c}`,u,t))}function Lge(t){return Oge(t)?Qy(NG(t)):Mge(t)?MG(t.uri)?t:{...t,uri:NG(t.uri)}:t}function NG(t){return MG(t)?t:Fn.Uri.parse(t.toString())}function Oge(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function MG(t){return t instanceof Fn.Uri}function Mge(t){return!t||typeof t!="object"?!1:t.uri!==void 0}function UG(t,e,n){return new fP(t,e,n)}var fP=class{constructor(e,n,r){this.target=e;this.scope=n;this.useMerge=r;this.name=wi(e)}name;async read(e){return lP(this.target,this.scope,e,this.useMerge)}async write(e){await dP(this.target,this.scope,[],()=>e,!1)}async update(e,n){await dP(this.target,this.scope,n,e,this.useMerge)}};var QS=class{setValue(e,n){return this.update(Vo(e,n))}updateValue(e,n){return this.update(Vo(e,n))}};function Xp(t,e){let n=qge(t)?t:Jy(t),r=!!uo(Ye.autoFormatConfigFile,n.uri);return new Wc(n,e,r)}function ZS(t,e,n){let r=Uge(t)?t:UG(t,e,!!n);return new Ll(r)}function Uge(t){return typeof t=="object"&&!!t.read&&!!t.write}function qge(t){let e=t;return!!e.update&&!!e.uri}var Wc=class t extends QS{constructor(n,r,i){super();this.configRW=n;this.formatConfig=i;this.name=r||bs(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let r=this.formatConfig,i=this.configFileUri,s=c0(i);if(s&&s.isDirty){let o=qG.posix.basename(i.path),a=await wn.window.showInformationMessage(`Save "${o}"?`,"Yes","No","Open");if(a==="Open"){await wn.window.showTextDocument(s);return}if(a!=="Yes")return;await s.save(),await wn.workspace.save(s.uri)}await this.configRW.update(Bge(n),n.keys),r&&await Wge(i)}static isCSpellConfigRepository(n){return n instanceof t}};async function Wge(t){let e=await wn.workspace.openTextDocument(t),n=await wn.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let r=new wn.WorkspaceEdit;r.set(t,n),await wn.workspace.applyEdit(r),await wn.workspace.save(e.uri),await Kge(1e3),e.isDirty&&await wn.workspace.save(e.uri)}var Ll=class t extends QS{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=wi(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return wn.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return jge(n)?n:pP(n)?wn.workspace.getWorkspaceFolder(n):$ge(n)?wn.workspace.getWorkspaceFolder(n.uri):wn.workspace.workspaceFolders?.[0]}update(n){let{fn:r,keys:i}=this.mappers(n.keys,n.updateFn);return this.rw.update(r,i)}getValue(n){return this.rw.read([n])}mappers(n,r){if(this.target!==wn.ConfigurationTarget.Global)return{fn:r,keys:n};let i=new Set(n);i.has(Ye.words)&&i.add(Ye.userWords);function s(c){let{userWords:u,words:l,...p}=c,f={...p};return(i.has(Ye.userWords)||u||l)&&(f.words=u?.concat(l??[])??l),f}function o(c){let{words:u,userWords:l,...p}=c,f={...p};return Object.keys(c).includes(Ye.words)&&(f.words=void 0,f.userWords=u?.concat(l||[])),f}return{fn:c=>o(r(s(c))),keys:[...i]}}static isVSCodeRepository(n){return n instanceof t}};function jge(t){if(!t)return!1;let e=t;return pP(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function Bge(t){return e=>t.updateFn(XM(e,t.keys))}function $ge(t){return typeof t!="object"?!1:pP(t.uri)}function pP(t){if(typeof t!="object")return!1;if(t instanceof wn.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}function Kge(t){return new Promise(e=>setTimeout(e,t))}var zge=new Set(["dictionary","cspell","vscode"]);function Yp(t){if(!zge.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return Xp(ht(t.configUri),t.name);case"vscode":return ZS(Pm(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function WG(t,e){let r=e.map(BG).map(i=>i.update(t));return Promise.all(r).then(()=>{})}function jG(t,e){let n=e.map(async r=>{let s=await BG(r).getValue(t);return[r,s]});return Promise.all(n)}function BG(t){let e=Yp(t);if(e===void 0)throw new hP(t);return e}var hP=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};function ex(t,e){return jG(e,t)}function Qp(t,e,n,r){t=r?Om(t,r):t;let i=Vo(e,n);return WG(i,t)}function gP(t){let e=t.map(i=>i.scope),n=hf(e,!0),r=[];return n.map(i=>t.filter(s=>s.scope===i)).forEach(i=>i.forEach(s=>r.push(s))),r}async function Ol(t,e,n){t=CU(t,e);let r=await Nm(t);if(!(!r||!r.length))return Qp(r,e,n)}function $G(t,e,n){let r;for(let[i,s]of[...t].reverse()){if(i===e)break;r??=s[n]}return r}function mP(t){let{targets:e,scopes:n}=t,r=new Set(hf(n)),i=gP(e),s=i.filter(o=>r.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:i,possibleTargets:s}}var ya=require("vscode");var tx=oe(require("vscode"),1);function Hge(t){let e=t.toString();return tx.window.visibleTextEditors.map(r=>r.document).filter(r=>!!r).filter(r=>r.uri.toString()===e)[0]}function KG(t){let e=t.toString();return((tx.workspace||{}).textDocuments||[]).filter(i=>i.uri.toString()===e)[0]||Hge(t)}function nx(t){switch(t.kind){case"vscode":return Gge(t);case"cspell":return Vge(t);case"dictionary":return Jge(t)}}function Gge(t){let{name:e,kind:n,scope:r,docUri:i}=t;return{name:e,kind:n,scope:r,docUri:ht(i),configScope:void 0}}function Vge(t){let{name:e,kind:n,scope:r,configUri:i,docUri:s}=t;return{name:e,kind:n,scope:r,docUri:ht(s),configUri:ht(i)}}function Jge(t){let{name:e,kind:n,scope:r,dictionaryUri:i,docUri:s}=t;return{name:e,kind:n,scope:r,docUri:ht(s),dictionaryUri:ht(i)}}async function rx(t,e,n,r){let i=r?[KD(t)]:aU(t),s=mf(pc,gf,{dictionary:!1});return e=ht(e),{targets:(await(e?jc(e,s):ix(ya.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:i}}async function zG(t,e,n){let r=await rx(t,e,n),{targets:i,scopes:s}=r,o=new Set(s);return i.filter(a=>o.has(a.scope))}async function ix(t,e=Im){let{uri:n,languageId:r}=t||{},s=(await xt("client").getConfigurationForDocument({uri:n,languageId:r},{})).configTargets.map(nx);return Om(s,e)}async function jc(t,e=Im){t=ht(t);let n=t?await Xge(t):ya.window.activeTextEditor?.document;return ix(n,e)}async function Xge(t){let e=KG(t);return e||((await ya.workspace.fs.stat(t)).type!==ya.FileType.File?{uri:t}:await ya.workspace.openTextDocument(t))}var Ml="enabled";function Bc(t,e){let{possibleTargets:n}=mP(t);return Ol(n,Ml,e)}async function Ul(t){let{possibleTargets:e,orderedTargets:n}=mP(t),r=new Map(await ex(n,Ml)),i=e.filter(p=>r.get(p)?.[Ml]!==void 0);if(!e.length)return;let s=i[i.length-1]??e[e.length-1],o=r.get(s)?.[Ml],c=$G(r,s,Ml)??!0,u=o??c,l=c!==u?void 0:!u;return Qp([s],Ml,()=>l)}async function sx(t,e,n,r){n=n.map(p=>({...p,useMerge:p.useMerge??p.kind==="vscode"}));let i=new Set(hf(r)),s=new Set(gP(n)),o=new Map(await ex([...s],"language")),a=new Set([...s].filter(p=>i.has(p.scope)));if(!e)[...o].filter(([p,f])=>!Zge(t,f.language)).forEach(([p])=>a.delete(p));else{let p=[...a],f=new Set([...o].filter(([h,g])=>eme(t,g.language)).map(([h])=>h)),d=!1;for(let h of a)d=d||f.has(h),d&&a.delete(h);a.size||p.filter(h=>!f.has(h)).forEach(h=>a.add(h))}let c=a.size>1?await Lm([...a]):[...a][0];if(!c)return;let u=tme("language",c,o);return Qp([c],"language",e?p=>Yge(t,p||u):p=>Qge(t,p))}function Ca(t){return JS(t).split(",").filter(e=>!!e)}function Yge(t,e){let n=Ca(t),r=new Set(Ca(e||""));return n.forEach(i=>r.add(i)),[...r].join(",")||void 0}function Qge(t,e){let n=Ca(t),r=new Set(Ca(e||""));return n.forEach(i=>r.delete(i)),[...r].join(",")||void 0}function Zge(t,e){if(!t||!e)return!1;let n=new Set(Ca(t)),r=Ca(e);for(let i of r)if(n.has(i))return!0;return!1}function eme(t,e){if(!t||!e)return!1;let n=new Set(Ca(e)),r=Ca(t);for(let i of r)if(!n.has(i))return!1;return!0}function tme(t,e,n){let r=[...n].reverse(),i;for(let[s,o]of r)if(i??=o[t],s===e)break;return i}function nme(t){return t&&Sa.workspace.getWorkspaceFolder(t)||ql.workspace.workspaceFolders?.[0]}function yP(t,e){let n=Zs(e);return Ol(t,"ignoreWords",r=>LD(n.concat(r||[]).sort()))}function HG(t,e){return{...e,...t}}function ox(t,e){return Ol(e,"enabledFileTypes",r=>HG(t,r))}var rme={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function ime(t,e){let n=await m0(t);if(!e&&n&&Object.keys(n).length>1){let r="Overwrite",i="Open";switch(await Sa.window.showWarningMessage("Configuration file already exists.",{modal:!0},r,i)){case r:break;case i:await Sa.window.showTextDocument(t);return;default:return}}return await y0(t,rme),t}async function sme(t){let e=ql.Uri.joinPath(t,"package.json");try{return(await ql.workspace.fs.stat(e)).type===Sa.FileType.File}catch{return!1}}function ome(t){return sme(t.uri)}var ame="Unable to determine location for configuration file.";async function CP(t,e){let n=nme(t);if(!n)throw new Error(ame);let r=new Set(wB);await ome(n)||r.delete("package.json");let i=await Sa.window.showQuickPick([...r],{title:"Choose config file"});if(!i)return;let s=ql.Uri.joinPath(n.uri,i);return await ime(s,e),s}async function xa(t,e){let n=await jc(e);return ox(t,n)}function cme(t,e){return Ol(e,"enabledSchemes",r=>HG(t,r))}async function GG(t,e){let n=await jc(e);return cme(t,n)}var SP=require("vscode");function ba(t,e,n=JD){let r=Promise.resolve(t).then(()=>{});return bt(r,e,n)}function ax(t){return ba(SP.window.showErrorMessage(t),"showErrorMessage helper")}function ume(...t){return hc(SP.window.showInformationMessage(...t),"pvShowInformationMessage")}function xP(t){return ba(ume(t),"pvShowInformationMessage")}var lme=Ye.fixSpellingWithRenameProvider,dme=Ye["advanced.feature.useReferenceProviderWithRename"],fme=Ye["advanced.feature.useReferenceProviderRemove"];function pme(t,e,n){let r=e.toString();return t.filter(i=>(!n||i.range.contains(n))&&i.uri.toString()===r)}async function hme(t,e){try{let n=await dr.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return!Array.isArray(n)||!n.length?void 0:n}catch{return}}async function gme(t,e,n){if(n){let i=await hme(t.uri,e);if(i!==void 0)return{locations:i,refUsed:!0}}let r=t.getWordRangeAtPosition(e.start);if(!(!r||!r.contains(e)))return{locations:[new dr.Location(t.uri,r)],refUsed:!1}}async function mme(t,e,n){let r=await gme(t,e,n);if(!r)return;let i=pme(r.locations,t.uri,e)[0];if(i)return{range:i.range,referenced:r.refUsed}}function yme(t,e){function n(r){return t.asTextEdit(r)}return e.map(n)}function Cme(t,e){let n=new dr.WorkspaceEdit;return n.set(t,e),n}async function Sme(t,e,n){let{range:r,newText:i}=e;if(r.start.line!==r.end.line)return;let{useReference:s,removeRegExp:o}=n,a=await mme(t,r,s);if(!a||!a.range.contains(r)||!a.referenced)return;let c=a.range,u=c.start.character,l=r.start.character-u,p=r.end.character-u,f=t.getText(c),d=[f.slice(0,l),i,f.slice(p)].join(""),h=o?d.replace(o,""):d,g=await Wn(dr.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,r.start,h),"attemptRename");return g?.size&&g||void 0}async function VG(t,e,n){let r=xt("client").client.protocol2CodeConverter;return console.warn("handleApplyTextEdits %o",{uri:t,documentVersion:e,edits:n}),bme(t,yme(r,n),e)}function bP(t){let e=dr.workspace.getConfiguration(ci,t),n=!!e.get(lme),r=!!e.get(dme),i=wme(e.get(fme));return{useRename:n,useReference:r,removeRegExp:i}}async function xme(t,e,n){if(e.length===1&&n.useRename){let r=e[0],i=await Sme(t,r,n);if(i)return i}return Cme(t.uri,e)}async function bme(t,e,n){let r=As(t);if(!r)return ax(`Unable to find document: ${t}`);if(n&&r.version!==n)return ax("Spelling changes are outdated and cannot be applied to the document.");let i=bP(r),s=await vP(r,e,i);await YG(s,"Failed to apply spelling changes to the document.")}async function vme(t,e){return await vU(dr.workspace.applyEdit(t),e)}function wme(t,e="g"){if(t)try{return qm(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}async function JG(t,e,n,r){let i=As(t);if(!i)return cx("Unable to find document.");for(let a of r)if(i.getText(a)!==e)return cx();let s=r.map(a=>new dr.TextEdit(a,n));return await vP(i,s,bP(i))?void 0:cx()}async function ux(t){t??=dr.window.activeTextEditor?.document.uri;let e=Xo(t)?.document||As(t);if(!t||!e)return xP("Unable to fix spelling issues in current document, document not found.");let r=xt("issueTracker").getSpellingIssues(t)?.map(s=>({issue:s,suggestions:s.providedSuggestions()})).filter(({issue:s,suggestions:o})=>o?.[0]?.isPreferred&&!o?.[1]?.isPreferred&&s.word&&s.isIssueTypeSpelling()&&!s.isSuggestion()).filter(({issue:s})=>e.getText(s.range)===s.word).map(({issue:s})=>{let o=s.providedSuggestions()?.[0].word;return XG(o!==void 0),new dr.TextEdit(s.range,o)});if(!r?.length){let s=bs(t);return xP(`No auto fixable spelling issues found in ${s}.`)}let i=await vP(e,r,bP(e));await YG(i,"Failed to apply spelling changes to the document.")}function XG(t,e="A truthy value is expected."){if(!t)throw Error(e)}function Dme(t){return t.sort((e,n)=>e.range.start.line-n.range.start.line||e.range.start.character-n.range.start.character)}function Tme(t,e){let n=[];for(let r of e)r.range.intersection(t)&&n.push(r);return n}function Eme(t,e,n){let r=t.get(e.uri);if(!r)return[];let i=new Set(n),s=new Set;for(let o of r){let a=Tme(o.range,i);for(let c of a)s.add(c),i.delete(c)}return[...s]}function kme(t,e){for(let[n,r]of e)t.set(n,r)}async function Rme(t,e,n){let r=new Set(Dme(e)),i=new dr.WorkspaceEdit;for(;r.size;){let s=r.size,o=r.values().next();if(o.done)break;let a=o.value,c=await xme(t,[a],n);kme(i,c.entries());let u=Eme(c,t,e);for(let l of u)r.delete(l);XG(s>r.size,"No progress was made.")}return i}async function vP(t,e,n){let r=xt("eventLogger");for(let s of e){let o=t.getText(s.range);o!==s.newText&&o&&s.newText&&r.logReplace(o,s.newText)}let i=await Rme(t,e,n);return vme(i,"applyTextEditsToDocumentWithRename")}async function YG(t,e){return t||await cx(e),t}function cx(t){return ax(t||"Failed to apply spelling changes to the document.")}var lo=require("vscode");var lx=oe(require("vscode"),1);function Li(t,e){let n=df().issueTracker;if(!t)return[];let r=n.rawIssues(t);return(e!==void 0?r?.filter(s=>s.isIssueType(e)):r)?.map(s=>s.diag)||[]}function QG(t,e=Yy){return t.filter(n=>n.source===e)}function ZG(t,e,n){return!t||!n?void 0:wP(t,e,n)?.map(i=>t.getText(i))}function wP(t,e,n){if(!t||!n)return;let r=e&&t.getText(e);return n.map(s=>s.range).map(s=>Fme(r,e,s)).filter(Xn)}function Fme(t,e,n){if(!e||t===void 0||n.contains(e))return n;let r=e.intersection(n);if(!(!r||r.isEmpty))return DB(t)?e:n}function eV(t,e){let n=St(),r=df().issueTracker,i=lx.default.languages.createDiagnosticCollection("cSpell"),s,o=!0;function a(){let l=lx.default.workspace.getConfiguration("cSpell");o=!l.get(Ye.useCustomDecorations),s=l.get(Ye.doNotUseCustomDecorationForScheme)}function c(l){let p=l.scheme,f=s?.[p];return f?!!f:o}function u(l){if(!t){i.clear();return}l||(i.clear(),l=r.getUrisWithIssues()),i.forEach(p=>{c(p)||i.delete(p)});for(let p of l){if(!c(p))continue;let f=r.getSpellingIssues(p);i.set(p,f?.map(d=>d.diag))}}return n.push(i,e(l=>{t=l,u()}),lx.default.workspace.onDidChangeConfiguration(a),r.onDidChangeDiagnostics(({uris:l})=>u(l))),a(),n}async function DP(t,e,n){let r=Xo(t),i=r?.document,s=r?.selection,o=e&&G3(e),a=o||s&&i?.getWordRangeAtPosition(s.active),c=i?Li(i.uri):void 0,u=wP(i,s,c),l=o||u?.[0]||a,p=l&&c?.filter(m=>!!m.range.intersection(l));if(!i||!s||!l||!p)return ba(lo.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(uo(Ye.suggestionMenuType,i)==="quickFix"&&r)return o&&(r.selection=new lo.Selection(o.start,o.end)),await lo.commands.executeCommand("editor.action.quickFix");let d=await TP(i,l,p);if(!d||!d.length)return ba(lo.window.showInformationMessage(`No Suggestions Found for ${i.getText(l)}`),"actionSuggestSpellingCorrections");let h=d.map(m=>({label:m.title,_action:m})),g=await lo.window.showQuickPick(h);if(g&&g._action.command){let{command:m,arguments:y=[]}=g._action.command;lo.commands.executeCommand(m,...y)}}function TP(t,e,n){return xt("client").requestSpellingSuggestionsCodeActions(t,e,n)}var Os=require("vscode");var tV=new Intl.Collator().compare;function rV(t,e){return async function(n,r){let i=await Ame(t,n,r);if(!i)return;let s=Os.window.activeTextEditor;await e(i.text,i.uri),await(s?.document&&Os.window.showTextDocument(s.document))}}async function Ame(t,e,n){if(n=n?ht(n):e instanceof Os.Uri?e:void 0,typeof e=="string"&&e)return{text:e,uri:n||Os.window.activeTextEditor?.document.uri};let r=Xo(n),i=r?.document,s=r?.selection,o=s&&i?.getWordRangeAtPosition(s.active),a=i?Li(i.uri):void 0,c=Zs(ZG(i,s,a)||[]);if(c.length){let f=s?.anchor.isEqual(s.active)&&c.length===1?c:await nV(c.sort(tV),{title:t,placeHolder:"Choose words"});return f?{text:f.join(" "),uri:i?.uri}:void 0}if(!o||!s||!i||!i.getText(o)){let f=await Os.window.showInputBox({title:t,prompt:t});return f?{text:f,uri:i?.uri}:void 0}let u=s.contains(o)?i.getText(s):i.getText(o),l=Zs(u),p=l.length>1?await nV(l.sort(tV),{title:t,placeHolder:"Choose words"}):[await Os.window.showInputBox({title:t,prompt:t,value:l[0]})];if(p)return{text:p.join(" "),uri:i.uri}}async function nV(t,e){if(t.length<=1){let i=await Os.window.showInputBox({...e,value:t[0]});return i?[i]:void 0}let n=t.map(i=>({label:i,picked:!0}));return(await Os.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(i=>i.label)}var cV=require("util"),dx=require("vscode");function iV(t){return Vo("words",EP(t))}function sV(t){return Vo("words",kP(t))}function EP(t=[]){return e=>oV([...new Set((e||[]).concat(t))])}function kP(t){return e=>{let n=new Set(e||[]);for(let r of t)n.delete(r);return oV([...n])}}function oV(t){return t.sort(Pme)}function Pme(t,e){return t.localeCompare(e)}var va=require("vscode");async function aV(t,e){let n=new va.WorkspaceEdit,r=new va.Range(t.positionAt(0),t.positionAt(t.getText().length)),i=va.TextEdit.replace(r,e);n.set(t.uri,[i]);let s=await va.workspace.applyEdit(n);return s&&await t.save(),s}var _me=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,RP=class{constructor(e,n){this.uri=e;this.name=n??bs(e)}name;addWords(e){return Nme(e,this)}removeWords(e){return uV(kP(e),this)}},FP=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(iV(e))}removeWords(e){return this.rep.update(sV(e))}};function fx(t,e){let{uri:n,name:r}=Ime(t)?t:{uri:t,name:e};return new RP(n,r)}function Ime(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function Zp(t){return new FP(t)}async function Nme(t,e){return uV(EP(t),e)}async function uV(t,e){if(_me.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${JM(e.uri)}".`));try{await Lme(e.uri);let n=await dx.workspace.openTextDocument(e.uri),r=n.getText(),s=t(r.split(/\r?\n/g).filter(a=>!!a)).join(`
`).trim()+`
`;await aV(n,s)||await dx.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let r=KM(n)?n.message:(0,cV.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${r}`))}}async function Lme(t){await vn.fileExists(t)||(await vn.createDirectory(Cr.dirname(t)),await vn.writeFile(t,""))}var Kn=require("vscode");var lV=require("vscode");async function px(t){return lV.env.openExternal(t.toString())}var Ome=`# Feedback

Thank you for providing feedback on the Spell Checker. Your feedback is important to us.

## How can the Spell Checker be improved?

<!-- Please provide details on how the Spell Checker can be improved. -->

## What issues are you experiencing?

<!-- Please provide details on the issues you are experiencing. -->

`;async function AP(){await px(Mme())}function Mme(){return Ume({title:"Feedback",body:Ome,labels:["feedback"]})}function Ume(t){let e=new URL("https://github.com/streetsidesoftware/vscode-spell-checker/issues/new"),n=e.searchParams;return t?.title&&n.set("title",t.title),t?.body&&n.set("body",t.body),t?.labels&&n.set("labels",t.labels.join(",")),e}async function PP(){let t=Kn.Uri.joinPath(qD().extensionUri,"resources/pages/About the Spell Checker.md");return Kn.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}function _P(){return OP("resources/pages/Spell Checker Support Request.md")}function IP(){return OP("resources/pages/Spell Checker Report Issue.md")}function hx(){return px("https://streetsidesoftware.com/sponsor/")}async function NP(){let t=["\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F"],e=await Kn.window.showInformationMessage("How would you rate the Spell Checker?",...t);if(!e)return;let r=4-t.indexOf(e);if(r===1)return await Kn.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?AP():void 0;if(r===2){await Kn.window.showInformationMessage("Thank you for your feedback.","Close");return}switch(await Kn.window.showInformationMessage("Does the Spell Checker help you avoid spelling mistakes and get things done?","Yes","No")){case"Yes":{switch(await Kn.window.showInformationMessage("Thank you for your feedback. The Spell Checker needs your support to continue to improve. Would you consider sponsoring the Spell Checker?","Open Sponsor Page","Ask me Later","No")){case"Open Sponsor Page":await hx();return;case"Ask me Later":await Kn.window.showInformationMessage("Thank you. We will ask again in about a month.","Close");return;case"No":{if(await Kn.window.showInformationMessage("Are you already a sponsor?","Yes","No")==="Yes"){await Kn.window.showInformationMessage("Thank you for your support!","Close");return}await Kn.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now");return}}return}case"No":return await Kn.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?AP():void 0}await Kn.window.showInformationMessage("Thank you for your feedback.","Close")}function LP(){return OP("resources/pages/Spell Checker Release Notes.md")}async function OP(t){return typeof t=="string"&&(t=Kn.Uri.joinPath(qD().extensionUri,t)),Kn.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}var $P=require("vscode");var $c=require("vscode");async function MP(t){try{return await $c.commands.executeCommand("vscode.executeDocumentSymbolProvider",t)||void 0}catch{return}}async function UP(t){try{return await $c.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",`query=${t}`)||void 0}catch{return}}async function qP(t,e){try{return await $c.commands.executeCommand("vscode.executeReferenceProvider",t,e)||void 0}catch{return}}async function WP(t,e){try{return await $c.commands.executeCommand("vscode.executeDefinitionProvider",t,e)||void 0}catch{return}}async function jP(t,e){try{return await $c.commands.executeCommand("vscode.executeTypeDefinitionProvider",t,e)||void 0}catch{return}}async function BP(t,e){try{return await $c.commands.executeCommand("vscode.executeImplementationProvider",t,e)||void 0}catch{return}}async function KP(){let t=$P.window.activeTextEditor?.document,e=t?.uri,n=$P.window.activeTextEditor?.selection.active,r=await MP(e);if(console.log("docSym %o",r),t&&n){let i=t.getWordRangeAtPosition(n),s=t.getText(i),o=s&&await UP(s);console.log("workspaceSym %s %o",s,o)}if(e&&n){let i={fetchReferences:qP,fetchDefinitions:WP,fetchTypeDefinitions:jP,fetchImplementation:BP};await Promise.all(Object.entries(i).map(async([s,o])=>{let a=await o(e,n);console.log(`${s} %o`,a)}))}}var qme="timeline_start",dV=process.hrtime(),zP=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(qme),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,r){let i=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(r)||this.startEvent,o=Wme(i.startTime,s.startTime),a={name:e,startTime:process.hrtime(dV),duration:o};this.addEvent(a)}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(dV),duration:0}}};function Wme(t,e){return gx(e)-gx(t)}function gx(t){return(t[0]+t[1]*1e-9)*1e3}var wa=new zP;var mx=oe(require("vscode"));function yx(t,e){let n=t.document,r=n.getText().indexOf(e);if(r<0)return!1;let i=n.positionAt(r),s=new mx.Range(i.line,i.character,i.line,i.character+e.length);return s&&t.revealRange(s,mx.TextEditorRevealType.InCenterIfOutsideViewport),!0}var jme={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>fV(t,Xp(ht(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>rye(t,fx(ht(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let r=Pm(n),i=ZS(r,ht(e),!1);return fV(t,i)}},vr=rV,Kc=(t,e=!1)=>rx(t,void 0,void 0,e),Bme=vr("Add Words to Folder Dictionary",DU),$me=vr("Add Words to Workspace Dictionaries",Mm),Kme=vr("Add Words to User Dictionary",Um),zme=vr("Add Words to Folder Settings",Ds(Js,yU)),Hme=vr("Add Words to Workspace Settings",Ds(Js,mU)),Gme=vr("Add Words to User Settings",Ds(Js,gU)),Vme=vr("Remove Words from Folder Dictionary",aye),Jme=vr("Remove Words from Workspace Dictionaries",cye),Xme=vr("Remove Words from Global Dictionary",uye),Yme=vr("Ignore Words",Ds(Sx,void 0)),Qme=vr("Ignore Words in Folder Settings",Ds(Sx,Nn.ConfigurationTarget.WorkspaceFolder)),Zme=vr("Ignore Words in Workspace Settings",Ds(Sx,Nn.ConfigurationTarget.Workspace)),eye=vr("Ignore Words in User Settings",Ds(Sx,Nn.ConfigurationTarget.Global)),tye=vr("Add Words to cSpell Configuration",Ds(Js,hU)),nye=vr("Add Words to Dictionary",Ds(Js,_m)),Wl={"cSpell.addWordToDictionary":nye,"cSpell.addWordToFolderDictionary":Bme,"cSpell.addWordToWorkspaceDictionary":$me,"cSpell.addWordToUserDictionary":Kme,"cSpell.addWordToFolderSettings":zme,"cSpell.addWordToWorkspaceSettings":Hme,"cSpell.addWordToUserSettings":Gme,"cSpell.removeWordFromFolderDictionary":Vme,"cSpell.removeWordFromWorkspaceDictionary":Jme,"cSpell.removeWordFromUserDictionary":Xme,"cSpell.addIgnoreWord":Yme,"cSpell.addIgnoreWordsToFolder":Qme,"cSpell.addIgnoreWordsToWorkspace":Zme,"cSpell.addIgnoreWordsToUser":eye,"cSpell.suggestSpellingCorrections":DP,"cSpell.goToNextSpellingIssue":()=>Cx("next",!1),"cSpell.goToPreviousSpellingIssue":()=>Cx("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>Cx("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>Cx("previous",!0),"cSpell.enableForGlobal":async()=>Bc(await Kc(Nn.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>Bc(await Kc(Nn.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>Ul(await Kc(Nn.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>Bc(await Kc(Nn.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>Bc(await Kc(Nn.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>Ul(await Kc(Nn.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>Ul(await Kc(Nn.ConfigurationTarget.Global)),"cSpell.enableCurrentFileType":eh,"cSpell.disableCurrentFileType":th,"cSpell.editText":VG,"cSpell.logPerfTimeline":pye,"cSpell.addWordToCSpellConfig":tye,"cSpell.addIssuesToDictionary":sye,"cSpell.createCustomDictionary":fye,"cSpell.createCSpellConfig":hye,"cSpell.openFileAtLine":yye,"cSpell.selectRange":bye,"cSpell.fixSpellingIssue":JG,"cSpell.autoFixSpellingIssues":ux,"cSpell.issueViewer.item.openSuggestionsForIssue":Oi,"cSpell.issueViewer.item.autoFixSpellingIssues":Oi,"cSpell.issueViewer.item.addWordToDictionary":Oi,"cSpell.issuesViewByFile.item.autoFixSpellingIssues":Oi,"cSpell.issuesViewByFile.item.addWordToDictionary":Oi,"cSpell.insertDisableNextLineDirective":vye,"cSpell.insertDisableLineDirective":wye,"cSpell.insertIgnoreWordsDirective":Dye,"cSpell.insertWordsDirective":Tye,"cSpell.toggleTraceMode":Oi,"cSpell.toggleVisible":Oi,"cSpell.show":Oi,"cSpell.hide":Oi,"cSpell.createCSpellTerminal":Oi,"cspell.showActionsMenu":Oi,"cSpell.openIssuesPanel":HP("cSpellIssuesViewByFile.focus"),"cSpell.openFileInfoView":HP("cSpellInfoView.focus"),"cSpell.displayCSpellInfo":HP("cSpellInfoView.focus"),"cSpell.experimental.executeDocumentSymbolProvider":Rye,"cSpell.restart":Eye,"cSpell.reload":kye,"cSpell.supportRequest":_P,"cSpell.reportIssue":IP,"cSpell.about":PP,"cSpell.sponsor":hx,"cSpell.rateTheSpellChecker":NP,"cSpell.releaseNotes":LP,"cSpell.enableLanguage":VP,"cSpell.disableLanguage":JP,"cSpell.enableCurrentLanguage":eh,"cSpell.disableCurrentLanguage":th},$r=Object.fromEntries(Object.keys(Wl).map(t=>[t,t]));function mV(t){let e=new Set,n=Object.entries({...Wl,...t}).filter(([i])=>!e.has(i)).map(([i,s])=>pV(i,s)),r=Object.entries(jme).map(([i,s])=>pV(i,s));return[...n,...r]}function Oi(){}function fV(t,e){return bt(xt("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function rye(t,e){return bt(xt("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function iye(){}function pV(t,e){return e===Oi?{dispose:iye}:Ze.commands.registerCommand(t,xf(e,`Register command: ${t}`))}function sye(){return bt(xt("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function Sx(t,e,n){return bt(oye(t,e,n),xx("addIgnoreWordsToTarget",void 0,n))}async function oye(t,e,n){n=ht(n);let r=await jc(n),i=e?r.filter(s=>s.scope===wi(e)):r;return yP(i,t)}function aye(t,e){return GP(t,Nn.ConfigurationTarget.WorkspaceFolder,e)}function cye(t,e){return GP(t,Nn.ConfigurationTarget.Workspace,e)}function uye(t){return GP(t,Nn.ConfigurationTarget.Global,void 0)}function GP(t,e,n){return bt(lye(t,e,n),xx("removeWordFromTarget",e,n))}function lye(t,e,n){n=ht(n);let r=SU(e,n,void 0);return xt("dictionaryHelper").removeWordsFromTargets(t,[r],n)}function VP(t,e){return yV(t,ht(e),void 0,!0)}function JP(t,e){return yV(t,ht(e),void 0,!1)}function yV(t,e,n,r){return bt(async()=>{let i=await(n?zG(n,e):jc(e));return ox({[t]:r},i)},xx(`enableDisableLanguageId enable: ${r}`,n,e))}function dye(t,e,n,r,i){return bt(async()=>{let{targets:s,scopes:o}=await rx(n||Nn.ConfigurationTarget.Global,e,r);return sx(t,i,s,o)},xx(`enableDisableLocale enable: ${i}`,n,e))}function XP(t,e,n){let r=typeof t=="boolean"?t?Nn.ConfigurationTarget.Global:Nn.ConfigurationTarget.Workspace:t,i=uP(r);return dye(e,i.uri,i.target,i.configScope,n)}function eh(t,e){let n=CV(t,e);return bt(async()=>{let{languageId:r,uri:i}=n;if(!(!i||!r))return xa({[r]:!0},i)},"enableCurrentFileType")}function th(t,e){let n=CV(t,e);return bt(async()=>{let{languageId:r,uri:i}=n;if(!(!i||!r))return xa({[r]:!1},i)},"disableCurrentFileType")}function CV(t,e){t=typeof t=="string"?t:void 0,e=typeof e=="string"||e instanceof Ze.Uri?e:void 0;let n=Ze.window.activeTextEditor?.document;return e??=n?.uri,t??=n?.languageId,{languageId:t,uri:e}}function xx(t,e,n){let r=e?wi(e):"";return r?`${t} ${r} ${ht(n)}`:`${t} ${ht(n)}`}async function fye(){let t=await ix(Ze.window.activeTextEditor?.document),e=await Lm(t);if(!e)return;let n=Yp(e);n&&await xt("dictionaryHelper").createCustomDictionary(n)}function pye(){wa.getEntries().forEach(t=>{console.log(t.name,gx(t.startTime),t.duration)})}async function hye(){let t=await CP(Ze.window.activeTextEditor?.document.uri);if(t){let e=await Ze.window.showTextDocument(t);yx(e,'"cspell":')}}function gye(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function mye(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function Cx(t,e){let n=Ze.window.activeTextEditor;if(!n)return;let r=n.document,i=n.selection,s=r?Li(r.uri):void 0,o=s?t==="next"?gye(s,i):mye(s,i):void 0,a=o?.range;if(!r||!i||!a||!o)return ba(Ze.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,Ze.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new Ze.Selection(a.start,a.end),e)return DP()}async function yye(t,e){t=ht(t);let n=e&&{selection:Cye(e)}||void 0;await Ze.window.showTextDocument(t,n)}function Cye(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new Ze.Position(t-1,0);return new Ze.Range(e,e)}function bx(t,e,n,r){let i=r.map(xye);return{title:t,command:"cSpell.editText",arguments:[e.toString(),n,i]}}function YP(t,...e){return typeof t=="string"?`command:${t}?${encodeURIComponent(JSON.stringify(e))}`:`command:${t.command}?${t.arguments?encodeURIComponent(JSON.stringify(t.arguments)):""}`}function hV(t){let{line:e,character:n}=t;return{line:e,character:n}}function Sye(t){return{start:hV(t.start),end:hV(t.end)}}function xye(t){let{range:e,newText:n}=t;return{range:Sye(e),newText:n}}async function bye(t,e,n){if(!(!t||!e))try{let r=Zy(t);if(r){let s=r.notebook;if(r.index<0)return;let o=new Ze.NotebookRange(r.index,r.index+1);await Ze.window.showNotebookDocument(s,{selections:[o]})}let i=await Ze.window.showTextDocument(t,{selection:e});i.selection=n?new Ze.Selection(e.end,e.start):new Ze.Selection(e.start,e.end)}catch(r){af((0,gV.format)("Error: handleSelectRange",r),t.toString())}}var vx="${BLOCK_COMMENT_START/^(<!--)$/$1-/}",wx="${BLOCK_COMMENT_END/^(-->)$/-$1/}";function vye(t,e){return bt(async()=>{let n=t||Ze.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ze.SnippetString(`${a}${vx} cspell:disable-next-line ${wx}`+c),new Ze.Range(o.range.start,o.range.start))},"handleInsertDisableNextLineDirective")}function wye(t,e){return bt(async()=>{let n=t||Ze.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.endsWith(" ")?"":" ";return await n.insertSnippet(new Ze.SnippetString(`${a}${vx} cspell:disable-line ${wx}
`),new Ze.Range(o.range.end,o.range.end))},"handleInsertDisableLineDirective")}function Dye(t,e){return bt(async()=>{let n=t||Ze.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ze.SnippetString(`${a}${vx} cspell:ignore \${0:$TM_CURRENT_WORD} ${wx}`+c),new Ze.Range(o.range.start,o.range.start))},"handleInsertIgnoreWordsDirective")}function Tye(t,e){return bt(async()=>{let n=t||Ze.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new Ze.SnippetString(`${a}${vx} cspell:words \${0:$TM_CURRENT_WORD} ${wx}`+c),new Ze.Range(o.range.start,o.range.start))},"handleInsertWordsDirective")}function HP(t,e){return async()=>{let n=e?.()||[];return Ze.commands.executeCommand(t,...n)}}function Eye(){return bt(fc().restart(),"handle restart server")}function kye(){return bt(fc().notifySettingsChanged(),"handle restart server")}function Rye(){return bt(KP(),"handleCmdExperimentalExecuteDocumentSymbolProvider")}var Aye=!1,is=Aye?console.log:()=>{};function SV(t){let e=St();return e.push(fr.default.commands.registerCommand("cspell.showActionsMenu",()=>Pye(t))),e}async function Pye(t){let e=fr.default.window.activeTextEditor?.document,n=await bt(e?fc().getConfigurationForDocument(e,{}):Promise.resolve(void 0),"Language Status"),r=[Oye(e?.uri,n?.languageId,n?.languageIdEnabled),Mye(e?.uri,n?.schemeIsAllowed),...Uye(n?.configFiles.map(i=>fr.default.Uri.parse(i))),{label:"",kind:fr.default.QuickPickItemKind.Separator},Lye(t),zc({title:"$(file) Show File Info...",command:$r["cSpell.openFileInfoView"]}),zc({title:"$(console) Open Spell Checker REPL Console.",command:$r["cSpell.createCSpellTerminal"]}),zc({title:"$(issues) Open Spelling Issues Panel.",command:"cSpell.openIssuesPanel"}),Nye(),zc({title:"$(keyboard) Edit Keyboard Shortcuts...",command:"workbench.action.openGlobalKeybindings",arguments:["Spell:"]}),zc({title:"$(gear) Edit Settings...",command:"workbench.action.openSettings",arguments:["cSpell"]})].filter(Xn);return _ye({items:r,title:"Spell Checker Actions Menu"}).catch(()=>{})}async function _ye(t){t={...t};let e=!0;for(;e;)try{e=!1;let n=await Iye(t);if(n instanceof jl){t.selected=n,await n.action();continue}if(typeof n=="function"){await n();continue}return}catch(n){if(n===Da.back)throw is("Going back",t.title),Da.redraw;if(n===Da.cancel){is("Cancel",t.title);return}if(n===Da.redraw){is("Redraw",t.title),e=!0;continue}throw n}}async function Iye(t){let e=performance.now(),n=St();try{return await new Promise((r,i)=>{let s=fr.default.window.createQuickPick();n.push(s),s.title=t.title,s.items=t.items,t.enableBackButton&&(s.buttons=[fr.default.QuickInputButtons.Back]),t.selected&&(s.activeItems=[t.selected]),t.matchOnDescription!==void 0&&(s.matchOnDescription=t.matchOnDescription),t.matchOnDetail!==void 0&&(s.matchOnDetail=t.matchOnDetail),n.push(s.onDidChangeSelection(o=>{is("onDidChangeSelection",o)}),s.onDidChangeActive(o=>{is("onDidChangeActive",o)}),s.onDidTriggerButton(o=>{is("onDidTriggerButton",o),o===fr.default.QuickInputButtons.Back&&i(Da.back)}),s.onDidTriggerItemButton(o=>{is("onDidTriggerItemButton",o);let a=o.button;a instanceof Dx&&a.action&&r(a.action)}),s.onDidAccept(()=>{is("onDidAccept",s.selectedItems);let o=s.selectedItems[0];r(o)}),s.onDidHide(()=>{is(`onDidHide: ${t.title} - ${e}`),i(Da.cancel)})),is(`Showing menu: ${t.title} - ${e}`),s.show()})}finally{is(`Disposing of menu: ${t.title} - ${e}`),n.dispose()}}var Da=class t{static back=new t;static cancel=new t;static redraw=new t},Dx=class{constructor(e,n,r){this.iconPath=e;this.tooltip=n;this.action=r}},Tx=class extends Dx{constructor(n,r){super(new fr.default.ThemeIcon("gear"),r.tooltip??r.title,xV(r));this.iconPath=n;this.command=r}},jl=class{constructor(e,n,r){this.label=e;this.description=n;this.#e=r||(()=>Promise.resolve(void 0))}#e;kind;detail;picked;iconPath;alwaysShow;buttons;resourceUri;get action(){return this.#e}set action(e){this.#e=e}},nh=class extends jl{constructor(n,r){super(n.title,r,xV(n));this.command=n;this.description=r}};function zc(t,e){return new nh(t,e)}function Nye(){return{label:"",kind:fr.default.QuickPickItemKind.Separator}}function Lye(t){let e=t.areIssuesVisible();return zc(e?{title:"$(eye-closed) Hide Spelling Issues",command:"cSpell.hide"}:{title:"$(eye) Show Spelling Issues",command:"cSpell.show"})}function Oye(t,e,n){if(!e||n===void 0)return;let r="$(code)",i=()=>xa({[e]:!n},t),s=new jl(`${r} ${n?"Disable":"Enable"} File Type:`,e,i);return s.detail=`File Type: "${e}" is currently ${n?"enabled":"disabled"}.`,s.buttons=[new Tx(new fr.default.ThemeIcon("gear"),{title:"Edit Enable File Type in Settings",command:"workbench.action.openSettings",arguments:[Ye.enabledFileTypes]})],s}function Mye(t,e){if(!t)return;let n=new jl(`$(code) ${e?"Exclude":"Allow"} Scheme:`,t.scheme);return n.detail=`Scheme: "${t.scheme}" is currently ${e?"allowed":"excluded"}.`,n.action=()=>GG({[t.scheme]:!e},t),n.buttons=[new Tx(new fr.default.ThemeIcon("gear"),{title:"Edit Enable Scheme in Settings",command:"workbench.action.openSettings",arguments:[Ye.enabledSchemes]})],n}function Uye(t){return t?.length?t.map(e=>{let n=new nh({title:"Open Config File:",command:"vscode.open",arguments:[e]},fr.default.workspace.asRelativePath(e));return n.iconPath=fr.default.ThemeIcon.File,n.detail=fr.default.workspace.asRelativePath(e,!0),n.resourceUri=e,n}):[new nh({title:"$(new-file) Create Config...",command:$r["cSpell.createCSpellConfig"]})]}async function qye(t){await fr.default.commands.executeCommand(t.command,...t.arguments||[])}function xV(t){return()=>qye(t)}async function Ex(t,e){return xt("client").serverApi.checkDocument(t,e)}var Hc=oe(require("vscode"),1),pr=require("vscode");var Wye=/\b(?:spell-?checker|c?spell|LocalWords)::?(.*)/gi,ZP=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)\s*(.*)/i,jye=[{pfx:"cspell:",min:3},{pfx:"cSpell:",min:2},{pfx:"spell:",min:5},{pfx:"spell-checker:",min:5},{pfx:"spellchecker:",min:5},{pfx:"LocalWords:",min:6}];async function vV(t){t.push(Hc.languages.registerInlineCompletionItemProvider({pattern:"**"},Xye))}var Bye=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1"},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2"},{label:"ignoreRegExp",insertText:"ignoreRegExp",snippetText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression.",kind:Hc.CompletionItemKind.Snippet},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document."},{label:"locale",insertText:"locale",snippetText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:Hc.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function $ye(t){let e="showAutocompleteDirectiveSuggestions";try{return uo(e,t)??!0}catch{return!1}}var Kye={dictionaryDefinitions:!0,dictionaries:!0},QP=class{cacheConfig;cacheDocDictionaries=TD();constructor(){this.cacheConfig=new Vp(e=>xt("client").getConfigurationForDocument({uri:e},Kye))}provideInlineCompletionItems(e,n,r,i){if(!$ye(e.uri)||!this.getConfigForDocument(e))return;let a=e.lineAt(n.line).text,c=a.slice(0,n.character),u=c.match(Wye);if(!u)return zye(c,n);let l={items:[]},p=new RegExp(ZP),f=u.index||0;p.lastIndex=f;let d=p.exec(c);if(!d){let x="LocalWords:";return u[0].startsWith(x)?bV(e,n,a,f+x.length):void 0}let h=d[1],g=(d.index||0)+d[0].length-h.length;if(h.startsWith("dictionaries")||h.startsWith("dictionary"))return Gye(e,n,a,g,x=>this.getListOfDictionaries(x));if(h.startsWith("words")||h.startsWith("ignore"))return bV(e,n,a,Vye(a,g));let m=h.split(/\s+/);if(m.length>1)return;let y=new Hc.Range(n.line,g,n.line,n.character),C=Bye.filter(x=>x.insertText.startsWith(m[0])).map(x=>Hye(x,y));return l.items.push(...C),l}getConfigForDocument(e){return this.cacheConfig.get(e.uri)}getListOfDictionaries(e){let n=this.getConfigForDocument(e),r=e.uri.toString(),i=this.cacheDocDictionaries.get(r,()=>({available:void 0,enabled:void 0}));if(!n||!(n.docSettings||n.settings))return i;let o=Yye(n);return this.cacheDocDictionaries.set(r,o),o}};function zye(t,e){let n={items:[]},i=t.lastIndexOf(" ")+1,s=t.slice(i),o=s.length,a=jye.filter(l=>l.pfx.startsWith(s)&&o>=l.min).map(l=>l.pfx);if(!a.length)return;let c=new pr.Range(e.line,i,e.line,e.character),u=a.map(l=>new pr.InlineCompletionItem(l,c));return n.items.push(...u),n}function Hye(t,e){if(t.snippetText){let r=new pr.SnippetString(t.snippetText),i=new pr.InlineCompletionItem(r,e);i.filterText=t.insertText}return new pr.InlineCompletionItem(t.insertText,e)}function Gye(t,e,n,r,i){let s=new RegExp(ZP,"s");s.lastIndex=r;let o=s.exec(n);if(!o)return;let a=o[1],c=(o.index||0)+o[0].length-a.length,u=e.character,l=wV(n,c);if(l<u)return;let p=i(t);if(!p.available)return;let f=/\s|$/ms;f.lastIndex=u;let d=f.exec(n)?"":" ",h=n.lastIndexOf(" ",u-1)+1,g=h<=c?" ":"",m=/[\s,]+/g,y=n.slice(c,h).split(m),C=n.slice(u,l).split(m),x=new Set([...p.enabled||[],...y,...C]),T=p.available.filter(k=>!x.has(k));if(!T.length)return;let E=new pr.Range(e.line,h,e.line,u);return new pr.InlineCompletionList(T.map(k=>new pr.InlineCompletionItem(g+k+d,E)))}function bV(t,e,n,r){let i=e.character;if(wV(n,r)<i)return;let o=Qye(t);if(!o.length)return;let a=/\s|$/ms;a.lastIndex=i;let c=a.exec(n)?"":" ",u=n.lastIndexOf(" ",i-1)+1,l=u<=r?" ":"",p=n.slice(l?i:u,i),f=Jye(t,e,o,p),d=new pr.Range(e.line,u,e.line,i);return new pr.InlineCompletionList(f.map(h=>new pr.InlineCompletionItem(l+h+c,d)))}function Vye(t,e){let n=new RegExp(ZP,"s");n.lastIndex=e;let r=n.exec(t);if(!r)return 0;let i=r[1];return(r.index||0)+r[0].length-i.length}function Jye(t,e,n,r){let s=e.line,o=new pr.Range(Math.max(s-3,0),0,s+3,0),a=n.filter(u=>o.contains(u.range)).filter(u=>t.getText(u.range).startsWith(r));if(a.length)return a.sort((l,p)=>Math.abs(l.range.start.line-s)-Math.abs(p.range.start.line-s)),[...new Set(a.map(l=>t.getText(l.range)))];let c=[...new Set(n.map(u=>t.getText(u.range)))];return c.sort(),c}function wV(t,e){let n=/[^a-z0-9_\s,\p{L}-]/giu;n.lastIndex=e;let r=n.exec(t);return r?r.index:t.length}var Xye=new QP;function Yye(t){try{let e=(t.docSettings?.dictionaryDefinitions||[]).filter(r=>!!r).map(r=>r.name).filter(r=>!!r),n=t.docSettings?.dictionaries||[];return{available:e,enabled:n}}catch{return{available:void 0,enabled:void 0}}}function Qye(t){return Li(t.uri).filter(e=>!e.data?.issueType)}var Gc=require("vscode");var kx=class{constructor(e){this.issueTracker=e}static providedCodeActionKinds=[Gc.CodeActionKind.QuickFix];async provideCodeActions(e,n,r){if(QG(r.diagnostics).length)return[];let s=this.issueTracker.getSpellingIssues(e.uri)?.filter(a=>a.range.contains(n));if(s?.length!==1)return[];let o=s.map(a=>this.diagToAction(e,a));return(await Promise.all(o)).flatMap(a=>a)}async diagToAction(e,n){let r=n.providedSuggestions();return r?.length?r.map(i=>Zye(e,n.range,i)):await TP(e,n.range,[n.diag])}};function Zye(t,e,n){let r=`Replace with: ${n.word}`,i=new Gc.CodeAction(r,Gc.CodeActionKind.QuickFix);return i.isPreferred=n.isPreferred,i.command=bx(r,t.uri,t.version,[{range:e,newText:n.word}]),i}function DV(t){return Gc.languages.registerCodeActionsProvider("*",new kx(t),{providedCodeActionKinds:kx.providedCodeActionKinds})}function*e_(t){try{let e;for(;!(e=t.next()).done;)yield e.value}catch(e){if(t.throw)return t.throw(e);throw e}finally{t.return?.()}}function fo(...t){function*e(n){yield*n;for(let r of t)yield*r}return e}function Bl(...t){function e(n){for(let r of t)n=r(n);return n}return e}function fn(t){function e(n){function r(){let i=n[Symbol.iterator](),s;function o(){for(;;){if(s){let{done:u,value:l}=s.next();if(!u)return{value:l};s=void 0}let{done:a,value:c}=i.next();if(a)return{done:a,value:void 0};s=t(c)[Symbol.iterator]()}}return{next:o}}return{[Symbol.iterator]:r}}return e}function Ut(t){function e(n){function r(){let i=n[Symbol.iterator]();function s(){for(;;){let{done:o,value:a}=i.next();if(o)return{done:o,value:void 0};if(t(a))return{value:a}}}return{next:s}}return{[Symbol.iterator]:r}}return e}function Zn(){function*t(e){for(let n of e)yield*n}return t}function Ne(t){function e(n){function r(){let i=n[Symbol.iterator]();function s(){let{done:o,value:a}=i.next();return o?{done:o,value:void 0}:{value:t(a)}}return{next:s}}return{[Symbol.iterator]:r}}return e}function rh(t,e){function*n(i,s){for(let o of s)i=t(i,o);yield i}function*r(i){let s=e===void 0?tCe(i):{head:e,tail:i};s&&(yield*n(s.head,s.tail))}return r}function tCe(t){let e=t[Symbol.iterator](),n=e.next();if(!n.done)return{head:n.value,tail:e_(e)}}function Rx(t){function*e(n){if(!(t<=0)){for(let r of n)if(yield r,--t<=0)return}}return e}function $l(t){function e(r){function*i(s){let o=new Set;for(let a of s){let c=r(a);o.has(c)||(o.add(c),yield a)}}return i}function*n(r){let i=new Set;for(let s of r)i.has(s)||(i.add(s),yield s)}return t?e(t):n}function Te(t,...e){return Bl(...e)(t)}function t_(t,e,n){return[...n===void 0?Te(t,rh(e)):Te(t,rh(e,n))][0]}var Wt={};Iu(Wt,{CompoundWordsMethod:()=>Ht,DocumentValidator:()=>Fo,ENV_CSPELL_GLOB_ROOT:()=>Ba,ExclusionHelper:()=>kN,FSCapabilityFlags:()=>pn,FeatureFlags:()=>gd,ImportError:()=>Va,IncludeExcludeFlag:()=>Ao,Link:()=>LL,SpellingDictionaryLoadError:()=>uu,SuggestionError:()=>Mg,Text:()=>o1,UnknownFeatureFlagError:()=>md,asyncIterableToArray:()=>TI,calcOverrideSettings:()=>Sg,checkFilenameMatchesGlob:()=>Sd,checkText:()=>pw,checkTextDocument:()=>jg,clearCachedFiles:()=>sN,clearCaches:()=>S5,combineTextAndLanguageSettings:()=>Og,constructSettingsForText:()=>Og,createConfigLoader:()=>jv,createPerfTimer:()=>Bi,createSpellingDictionary:()=>zn,createSpellingDictionaryCollection:()=>os,createTextDocument:()=>qa,currentSettingsFileVersion:()=>yd,defaultConfigFilenames:()=>Ed,defaultFileName:()=>Pg,defaultSettingsFilename:()=>Pg,determineFinalDocumentSettings:()=>VQ,extractDependencies:()=>MN,extractImportErrors:()=>Hv,fileToDocument:()=>uv,fileToTextDocument:()=>uN,finalizeSettings:()=>ji,getCachedFileSize:()=>zv,getDefaultBundledSettingsAsync:()=>IL,getDefaultConfigLoader:()=>Rd,getDefaultSettings:()=>Ya,getDictionary:()=>EJ,getGlobalSettings:()=>Kv,getGlobalSettingsAsync:()=>ko,getLanguageIdsForBaseFilename:()=>Bs,getLanguagesForExt:()=>rv,getLogger:()=>JJ,getSources:()=>yg,getSystemFeatureFlags:()=>RN,getVirtualFS:()=>cu,isBinaryFile:()=>sv,isSpellingDictionaryLoadError:()=>f5,loadConfig:()=>Su,loadPnP:()=>_g,mergeInDocSettings:()=>ON,mergeSettings:()=>Ft,readConfigFile:()=>Ig,readFile:()=>Gb,readFileSync:()=>Vb,readRawSettings:()=>Fd,readSettings:()=>Xa,readSettingsFiles:()=>Gv,refreshDictionaryCache:()=>Ua,resolveConfigFileImports:()=>$v,resolveFile:()=>fd,searchForConfig:()=>kd,sectionCSpell:()=>Wv,setLogger:()=>VJ,shouldCheckDocument:()=>n1,spellCheckDocument:()=>r1,spellCheckFile:()=>GQ,suggestionsForWord:()=>HL,suggestionsForWords:()=>TQ,traceWords:()=>JQ,traceWordsAsync:()=>s1,updateTextDocument:()=>cv,validateText:()=>fw,writeToFile:()=>Jh,writeToFileIterable:()=>vo,writeToFileIterableP:()=>vo});var TV=require("node:util");var iCe={string:!0,undefined:!0};function ih(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.stack in iCe}function ss(t,e=n_){return ih(t)?t:new e(t)}var n_=class extends Error{cause;constructor(e){super((0,TV.format)(e)),this.cause=e}};function r_(t,e){if(t!==void 0)return sCe(t,e)}async function sCe(t,e){try{return await t}catch(n){return e(n)}}var i_=class{name;#e=new Set;constructor(e){this.name=e}on=e=>(this.#e.add(e),{dispose:()=>{this.#e.delete(e)}});fire(e){let n;for(let r of this.#e)try{r(e)}catch(i){n=n??[],n.push(ss(i))}return n}dispose=()=>{this.#e.clear()}},s_=class t extends i_{constructor(){super(t.eventName)}static eventName="clear-cache"},EV=new s_;function po(t){return EV.on(t)}function o_(){EV.fire(void 0)}var a_=class{maxSize;hits=0;misses=0;swaps=0;constructor(e){this.maxSize=e}},c_=class extends a_{count=0;cache0=new Map;cache1=new Map;constructor(e){super(e)}get(e){let n=this.cache0,r=this.cache1,i=n.get(e);if(i!==void 0)return++this.hits,i;if(i=r.get(e),i!==void 0)return++this.hits,++this.count,n.set(e,i),i;++this.misses}set(e,n){if(this.count>=this.maxSize){let r=this.cache1;this.cache1=this.cache0,this.cache0=r,r.clear(),this.swaps++,this.count=0}return++this.count,this.cache0.set(e,n),this}};function oCe(t){return new c_(t)}function sh(t,e=100){let n=oCe(e),r=i;r.hits=0,r.misses=0,r.swaps=0;function i(s){let o=n.get(s);if(o!==void 0)return++r.hits,o;let a=t(s);return n.set(s,a),r.swaps=n.swaps,++r.misses,a}return r}function oh(t){let{hits:e,misses:n,swaps:r}=t;return{hits:e,misses:n,swaps:r}}var kV=Symbol("memorizeLastCall");function Fx(t){let e,n=kV;function r(i){return n!==kV&&e===i||(e=i,n=t(i)),n}return r}var RV=3,Ax={matchCase:!1,compoundMode:"compound",legacyMinCompoundLength:RV};Object.freeze(Ax);var aCe=["none","compound","legacy"],cCe=new Map(aCe.map(t=>[t,t])),FV={found:!1,compoundUsed:!1,caseMatched:!1,forbidden:void 0};Object.freeze(FV);function AV(t,e,n){return _V(t,e,n)}function PV(t,e,n){if(t.find){let i=t.find(e,n?.matchCase||!1);if(i)return i;if(!t.hasCompoundWords)return FV}let r=_V(t,e,n);return{found:r.found,compoundUsed:r.compoundUsed,caseMatched:r.caseMatched,forbidden:r.forbidden}}function _V(t,e,n){let r=t.info,i=n?.matchCase||!1,s=cCe.get(n?.compoundMode)||Ax.compoundMode,o=s==="compound"?r.compoundCharacter??t.compoundFix:"",a=i?"":r.stripCaseAndAccentsPrefix??t.caseInsensitivePrefix,c=n?.checkForbidden??!0;function u(){let p=lCe(t,e,o,a),f={...p};if(p.found!==!1&&p.compoundUsed){let d=p.caseMatched?t:Px(t,t.caseInsensitivePrefix);f.forbidden=c?_x(d,e,t.forbidPrefix):void 0}return f}function l(){let p=t.getNode?t.getNode(e):Px(t,e);return{found:IV(p)&&e,compoundUsed:!1,forbidden:c?_x(t,e,t.forbidPrefix):void 0,node:p,caseMatched:!0}}switch(s){case"none":return i?l():u();case"compound":return u();case"legacy":return u_(t,e,n)}}function u_(t,e,n){let r=[t];return n?.matchCase||r.push(Px(t,t.caseInsensitivePrefix)),fCe(r,e,n?.legacyMinCompoundLength||RV)}function uCe(t,e,n,r){let i=[{n:t,compoundPrefix:r,cr:void 0,caseMatched:!0}],s=n||r,o=r&&n?r+n:"",a=e.normalize(),c=[...a];function u(m){let y=m.compoundPrefix,C=t,x;for(x=0;x<y.length&&C;++x)C=C.get(y[x]);let T=m.caseMatched&&y[0]!==r;return{n:m.n,compoundPrefix:y===s?o:"",cr:C,caseMatched:T}}let l=!1,p=!0,f=0,d;for(;;){let m=i[f],y=c[f++],C=m.cr||m.n,x=y&&C?.get(y)||void 0;if(x&&f<e.length)p=m.caseMatched,i[f]={n:x,compoundPrefix:s,cr:void 0,caseMatched:p};else if(!x||!x.eow){for(d=d||x;--f>0;){let T=i[f];if(!(!T.compoundPrefix||!T.n?.hasChildren())&&T.n.get(n))break}if(f>=0&&i[f].compoundPrefix){l=f>0;let T=u(i[f]);if(i[f]=T,!T.cr||!f&&!T.caseMatched&&a!==a.toLowerCase())break}else break}else{d=x,p=m.caseMatched;break}}return{found:f===e.length&&e||!1,compoundUsed:l,node:d,forbidden:void 0,caseMatched:p}}function lCe(t,e,n,r){let{found:i,compoundUsed:s,node:o,caseMatched:a}=uCe(t,e,n,r);return!o||!o.eow?{found:!1,compoundUsed:s,node:o,forbidden:void 0,caseMatched:a}:{found:i,compoundUsed:s,node:o,forbidden:void 0,caseMatched:a}}function dCe(t,e){let n=t;return n?.findExact?n.findExact(e):IV(Px(t,e))}function IV(t){return!!t?.eow}function Px(t,e){let n=[...e],r=t,i=0;for(;r&&i<n.length;){let s=n[i++];r=r.get(s)}return r}function fCe(t,e,n){let r=t[0],i=t.length,s=[{n:r,usedRoots:1,subLength:0,isCompound:!1,cr:void 0,caseMatched:!0}],o=e,a=o.length,c=!1,u=!0,l=0,p;for(;;){let g=s[l],m=o[l++],C=(g.cr||g.n)?.get(m);if(C&&l<a)s[l]={n:C,usedRoots:0,subLength:g.subLength+1,isCompound:g.isCompound,cr:void 0,caseMatched:g.caseMatched};else if(!C||!C.eow||C.eow&&g.subLength<n-1){for(;--l>0;){let x=s[l];if(x.usedRoots<i&&x.n?.eow&&(x.subLength>=n||!x.subLength)&&a-l>=n)break}if(l>0||s[l].usedRoots<i){c=l>0;let x=s[l];x.cr=t[x.usedRoots++],x.subLength=0,x.isCompound=c,x.caseMatched=x.caseMatched&&x.usedRoots<=1}else break}else{p=C,u=g.caseMatched;break}}function f(){if(!e||l<e.length)return!1;let g=[],m=0;for(let y=0;y<l;++y){let{subLength:C}=s[y];C<m&&g.push("+"),g.push(e[y]),m=C}return g.join("")}return{found:f(),compoundUsed:c,node:p,forbidden:void 0,caseMatched:u}}function _x(t,e,n){let r=t;return r?.isForbidden?r.isForbidden(e):dCe(t?.get(n),e)}var NV=Fx(pCe);function pCe(t){if(!t)return Ax;let e=Ax;return{matchCase:t.matchCase??e.matchCase,compoundMode:t.compoundMode??e.compoundMode,legacyMinCompoundLength:t.legacyMinCompoundLength??e.legacyMinCompoundLength,checkForbidden:t.checkForbidden??e.checkForbidden}}var Kl="+",Ta=" ",Ht;(function(t){t[t.NONE=0]="NONE",t[t.SEPARATE_WORDS=1]="SEPARATE_WORDS",t[t.JOIN_WORDS=2]="JOIN_WORDS"})(Ht||(Ht={}));function*hCe(t,e){let n=Object.freeze([]),r={[Ht.NONE]:n,[Ht.JOIN_WORDS]:[[Kl,t]],[Ht.SEPARATE_WORDS]:[[Ta,t]]},i=r[e].length?r[e]:void 0;function s(c){if(c.hasChildren()){let u=c.entries(),l=Array.isArray(u)?u:[...u];return c.eow&&i?[...l,...i]:l}return c.eow?r[e]:n}let o=0,a=[];for(a[o]={t:"",c:s(t),ci:0};o>=0;){let c=a[o],u=c.t;for(;c.ci<c.c.length;){let[l,p]=c.c[c.ci++],f=u+l;((yield{text:f,node:p,depth:o})??!0)&&(o++,u=f,a[o]={t:f,c:s(p),ci:0}),c=a[o]}o-=1}}function*gCe(t){let e=0,n=[],r=t.entries();for(n[e]={t:"",n:t,c:Array.isArray(r)?r:[...r],ci:0};e>=0;){let i=n[e],s=i.t;for(;i.ci<i.c.length&&i.n;){let o=i.ci++,[a,c]=i.c[o],u=s+a;if((yield{text:u,node:c,depth:e})!==!1){e++,s=u;let p=n[e],f=c.entries(),d=Array.isArray(f)?f:[...f];p?(p.t=u,p.n=c,p.c=d,p.ci=0):n[e]={t:u,n:c,c:d,ci:0}}i=n[e]}e-=1}}function l_(t,e=Ht.NONE){return e===Ht.NONE?gCe(t):hCe(t,e)}function LV(t){return mCe(t)}function*mCe(t){let e=0,n=[],r=t.entries(),i=Array.isArray(r)?r:[...r];for(n[e]={t:"",n:t,c:i,ci:0};e>=0;){let s=n[e],o=s.t;for(;s.ci<s.c.length&&s.n;){let[a,c]=s.c[s.ci++];if(!c)continue;let u=o+a;c.eow&&(yield u),e++,o=u;let l=c.entries(),p=Array.isArray(l)?l:[...l];n[e]?(s=n[e],s.t=u,s.n=c,s.c=p,s.ci=0):n[e]={t:u,n:c,c:p,ci:0},s=n[e]}e-=1}}function d_(t){return LV(t)}function zl(t,e){for(let n=0;n<e.length;++n){let r=t.get(e[n]);if(!r)return;t=r}return t}function OV(t){let e=new Map;function n(r){let i=e.get(r.id);if(i!==void 0)return i;let s=r.eow?1:0;e.set(r,s);for(let o of r.values())s+=n(o);return e.set(r,s),s}return n(t)}function MV(t){return f_.toITrieNode(t)}function UV(t){return ah.toITrieNode(t)}var yCe=Object.freeze([]),CCe=Object.freeze([]),SCe=Object.freeze([]),ah=class t{node;id;_keys;constructor(e){this.node=e,this.id=e}get eow(){return!!this.node.f}get size(){return this.node.c?this.keys().length:0}keys(){if(this._keys)return this._keys;let e=this.node.c?Object.keys(this.node.c):yCe;return this._keys=e,e}values(){return this.node.c?Object.values(this.node.c).map(e=>t.toITrieNode(e)):CCe}entries(){return this.node.c?Object.entries(this.node.c).map(([e,n])=>[e,t.toITrieNode(n)]):SCe}get(e){let n=this.node.c?.[e];if(n)return t.toITrieNode(n)}getNode(e){return this.findNode(e)}has(e){let n=this.node.c;return n&&e in n||!1}child(e){let n=this.keys()[e],r=n&&this.get(n);if(!r)throw new Error("Index out of range.");return r}hasChildren(){return!!this.node.c}#e(e){let n=this.node;for(let r of e){if(!n)return;n=n.c?.[r]}return n}findNode(e){let n=this.#e(e);return n&&t.toITrieNode(n)}findExact(e){let n=this.#e(e);return!!n&&!!n.f}static toITrieNode(e){return new this(e)}},f_=class extends ah{root;info;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e){super(e),this.root=e;let{stripCaseAndAccentsPrefix:n,compoundCharacter:r,forbiddenWordPrefix:i,isCaseAware:s}=e;this.info={stripCaseAndAccentsPrefix:n,compoundCharacter:r,forbiddenWordPrefix:i,isCaseAware:s},this.hasForbiddenWords=!!e.c[i],this.hasCompoundWords=!!e.c[r],this.hasNonStrictWords=!!e.c[n]}get eow(){return!1}resolveId(e){let n=e;return new ah(n)}get forbidPrefix(){return this.root.forbiddenWordPrefix}get compoundFix(){return this.root.compoundCharacter}get caseInsensitivePrefix(){return this.root.stripCaseAndAccentsPrefix}static toITrieNode(e){return new this(e)}};var xCe=!1,qV=xCe?vCe:bCe;function*bCe(t){let e=[];function n(s){return s.c?Object.keys(s.c):e}let r=0,i=[];for(i[r]={t:"",n:t.c,c:n(t),ci:0};r>=0;){let s=i[r],o=s.t;for(;s.ci<s.c.length&&s.n;){let a=s.c[s.ci++],c=s.n[a],u=o+a;c.f&&(yield u),r++,o=u;let l=n(c);i[r]?(s=i[r],s.t=u,s.n=c.c,s.c=l,s.ci=0):i[r]={t:u,n:c.c,c:l,ci:0},s=i[r]}r-=1}}function vCe(t){return wCe(UV(t))}function*wCe(t){let e=0,n=[];for(n[e]={t:"",n:t,c:[...t.entries()],ci:0};e>=0;){let r=n[e],i=r.t;for(;r.ci<r.c.length&&r.n;){let[s,o]=r.c[r.ci++];if(!o)continue;let a=i+s;o.eow&&(yield a),e++,i=a;let c=[...o.entries()];n[e]?(r=n[e],r.t=a,r.n=o,r.c=c,r.ci=0):n[e]={t:a,n:o,c,ci:0},r=n[e]}e-=1}}var DCe={compoundMethod:Ht.NONE,ignoreCase:!0,changeLimit:5},TCe={...DCe,numSuggestions:8,includeTies:!0,timeout:5e3},ECe={changeLimit:"changeLimit",compoundMethod:"compoundMethod",ignoreCase:"ignoreCase",compoundSeparator:"compoundSeparator"},kCe={...ECe,filter:"filter",includeTies:"includeTies",numSuggestions:"numSuggestions",timeout:"timeout",weightMap:"weightMap"};function ch(...t){let e={...TCe},n=Object.keys(kCe);for(let r of t)for(let i of n)RCe(e,r,i);return e}function RCe(t,e,n){t[n]=e[n]??t[n]}var Vc=class{compare;_heap;_size=0;constructor(e){this.compare=e}add(e){return this._heap=ACe(this.compare,this._heap,e),++this._size,this}dequeue(){let e=this.next();if(!e.done)return e.value}append(e){for(let n of e)this.add(n);return this}next(){if(!this._heap)return{value:void 0,done:!0};let e=this._heap.v;return--this._size,this._heap=FCe(this.compare,this._heap),{value:e}}peek(){return this._heap?.v}[Symbol.iterator](){return this}get length(){return this._size}get size(){return this._size}};function FCe(t,e){if(!(!e||!e.c))return jV(t,e.c)}function ACe(t,e,n){let r={v:n,s:void 0,c:void 0};return!e||t(n,e.v)<=0?(r.c=e,r):(r.s=e.c,e.c=r,e)}function WV(t,e,n){return t(e.v,n.v)<=0?(e.s=void 0,n.s=e.c,e.c=n,e):(n.s=void 0,e.s=n.c,n.c=e,n)}function jV(t,e){if(!e.s)return e;let n=e.s,r=n.s,i=WV(t,e,n);return r?WV(t,i,jV(t,r)):i}var Ix="\u2219",ho={baseCost:100,swapCost:75,duplicateLetterCost:80,compound:1,visuallySimilar:1,firstLetterBias:5,wordBreak:99,wordLengthCostFactor:.5};var PCe=new Intl.Collator("en",{sensitivity:"base"}),v$e=PCe.compare,_Ce=[Bt("\u01CE\xE0\xE5\xC4\xC0A\xE3\xE2\xE1\u01DF\u1EB7\u1EAF\u1EA5\u0100\u0101\u0103\u0105a\xE4\xE6\u0250\u0251\u03B1\u0430\u1FB3")+"\u1FB3",Bt("Bb\u1E03\u0432\u044A\u044C"),Bt("\u010B\u010C\u010Dc\u0109\xE7C\xC7\u0107\u010A\u0421\u0441\u03C2"),Bt("\u1E0E\u1E0B\u1E0F\u1E11\u010F\u0111\u1E0DDd"),Bt("\u0113\xEB\xC8\xCA\xCB\u1EC1\xE9\xE8\u1EBF\u1EC7\u0115eE\u0112\u0117\u0119\u011B\xEA\u0259\u025B\u0451\u0401\u0435\u0292"),Bt("f\u1E1FF\uFB00"),Bt("\u0121\u0120\u011E\u01E7\u011D\u0123Gg\u0263"),Bt("\u0127\u0126\u0125\u1E25Hh\u1E24\u021F\u043D"),Bt("I\u012F\xEF\u0130\xCE\xCD\u012Bi\xCC\xEC\xED\xEE\u0131\u026A\u0268\u0457\u038A\u0399"),Bt("jJ\u0135"),Bt("\u0137Kk\u03BA\u043A\u045C"),Bt("\u1E37\u0142\u013E\u013CLl\u013A\u1E36\u03AF\u03B9"),Bt("M\u1E43\u1E41m"),Bt("n\u0146\xD1N\u1E47\u0148\u0147\xF1\u0144\u014B\u045D\u0438\u0439"),Bt("\xD2O\xF8\u022D\u014C\u014D\u0151\u1ECFo\xD6\xF2\u0231\u022F\xF3\xF4\xF5\xF6\u01A1\u0254\u03CC\u03B4\u043E"),Bt("P\u1E57p\u0440\u0420\u03C1"),Bt("Qq"),Bt("\u0159R\u1E5Br\u0155\u0157\u0453\u0433\u044F"),Bt("\u1E63\u0161\u0218\u1E62sS\u0160\u1E61\u015E\u015D\u015B\u0219\u0283\u03A3"),Bt("t\u021B\u021A\u0165T\u1E6D\u1E6C\u1E6B"),Bt("\xDC\xFC\xFB\u016A\u01B0\u016F\u016B\u0171\xFA\xDB\u016D\xD9\xF9u\u0173U"),Bt("Vv\u03BD"),Bt("\u0175wW\u1E83\u1E85\u1E81\u03C9\u0448"),Bt("xX\u0445"),Bt("\xFF\xFDY\u0177y\xDD\u1EF3\u0423\u045E\u0443"),Bt("Z\u1E93\u017E\u017D\u017C\u017B\u017Az")];function Bt(t){let e=t.normalize("NFC").replaceAll(/\p{M}/gu,""),n=e.normalize("NFD").replaceAll(/\p{M}/gu,"");return[...new Set(e+e.toLowerCase()+e.toUpperCase()+n+n.toLowerCase()+n.toUpperCase())].join("")}var BV=ICe(_Ce);function ICe(t){let e=Object.create(null);for(let n=0;n<t.length;++n){let r=1<<n,i=t[n];for(let s of i)e[s]=(e[s]||0)|r}return e}var ZV=oe(require("node:assert"),1);var NCe=/[+]/g;function HV(...t){let e=LCe();return JV(e,t),e}function GV(t,...e){return JV(t,e)}function VV(t,...e){for(let n of e)t.adjustments.set(n.id,n);return t}function JV(t,e){function n(r,i){BCe(t.insDel,r,i.insDel,i.penalty),KV(t.replace,r,i.replace,i.penalty),KV(t.swap,r,i.swap,i.penalty)}for(let r of e){let i=$Ce(r);WCe(i).forEach(o=>n(o,i))}return t}function LCe(){return{insDel:{},replace:{},swap:{},adjustments:new Map}}function OCe(t,e){return t===void 0?e:e===void 0||t<=e?t:e}function MCe(t,e){return t===void 0?e:e===void 0||t>=e?t:e}function $V(t){let e=new Set([t]);return e.add(t.normalize("NFC")),e.add(t.normalize("NFD")),e}function*UCe(t){let e="",n=0;for(let r of t){if(n&&r===")"){yield*$V(e),n=0;continue}if(n){e+=r;continue}if(r==="("){n=1,e="";continue}yield*$V(r)}}function qCe(t){return[...UCe(t)]}function WCe(t){let{map:e}=t;return e.split("|").map(qCe).filter(r=>r.length>0)}function XV(t,e,n,r){if(!e)return;let i=t;for(let s of e){let o=i.n=i.n||Object.create(null);i=o[s]=o[s]||Object.create(null)}i.c=OCe(i.c,n),i.p=MCe(i.p,r)}function jCe(t,e,n,r,i){let s=t;for(let a of e){let c=s.n=s.n||Object.create(null);s=c[a]=c[a]||Object.create(null)}let o=s.t=s.t||Object.create(null);XV(o,n,r,i)}function BCe(t,e,n,r){if(n!==void 0)for(let i of e)XV(t,i,n,r)}function KV(t,e,n,r){if(n!==void 0)for(let i of e)for(let s of e)i!==s&&jCe(t,i,s,n,r)}function*YV(t,e,n){let r=e.length;for(let i=t.n;n<r&&i;){let s=i[e[n]];if(!s)return;++n,yield{i:n,t:s},i=s.n}}function*Nx(t,e,n){for(let r of YV(t,e,n)){let{c:i,p:s}=r.t;i!==void 0&&(yield{i:r.i,c:i,p:s||0})}}function*zV(t,e,n){for(let r of YV(t,e,n)){let i=r.t.t;i!==void 0&&(yield{i:r.i,t:i})}}function QV(t){return new p_(t)}var p_=class{weightMap;constructor(e){this.weightMap=e}*calcInsDelCosts(e){let{a:n,ai:r,b:i,bi:s,c:o,p:a}=e;for(let c of Nx(this.weightMap.insDel,n,r))yield{a:n,b:i,ai:c.i,bi:s,c:o+c.c,p:a+c.p};for(let c of Nx(this.weightMap.insDel,i,s))yield{a:n,b:i,ai:r,bi:c.i,c:o+c.c,p:a+c.p}}*calcReplaceCosts(e){let{a:n,ai:r,b:i,bi:s,c:o,p:a}=e;for(let c of zV(this.weightMap.replace,n,r))for(let u of Nx(c.t,i,s))yield{a:n,b:i,ai:c.i,bi:u.i,c:o+u.c,p:a+u.p}}*calcSwapCosts(e){let{a:n,ai:r,b:i,bi:s,c:o,p:a}=e,c=this.weightMap.swap;for(let u of zV(c,n,r))for(let l of Nx(u.t,n,u.i)){let p=n.slice(u.i,l.i)+n.slice(r,u.i);if(i.slice(s).startsWith(p)){let f=p.length;yield{a:n,b:i,ai:r+f,bi:s+f,c:o+l.c,p:a+l.p}}}}calcAdjustment(e){let n=0;for(let r of this.weightMap.adjustments.values())if(r.regexp.global)for(let i of e.matchAll(r.regexp))n+=r.penalty;else r.regexp.test(e)&&(n+=r.penalty);return n}};function $Ce(t){let{map:e,...n}=t;return{...n,map:KCe(e)}}function KCe(t){return t.replaceAll(NCe,Ix)}function e8(t,e,n,r=100){let i=QV(n),s=zCe(t,e,i,r),o=i.calcAdjustment(e);return s.c+s.p+o}function zCe(t,e,n,r=100){let i="^"+t+"$",s="^"+e+"$",o=i.length,a=s.length,c=new h_(o,a);c.add({ai:0,bi:0,c:0,p:0,f:void 0});function u(g){let{ai:m,bi:y,c:C,p:x}=g;if(m<o&&y<a){let T=i[m]===s[y]?C:C+r;c.add({ai:m+1,bi:y+1,c:T,p:x,f:g})}}function l(g){let{ai:m,bi:y,c:C,p:x}=g;y<a&&c.add({ai:m,bi:y+1,c:C+r,p:x,f:g})}function p(g){let{ai:m,bi:y,c:C,p:x}=g;m<o&&c.add({ai:m+1,bi:y,c:C+r,p:x,f:g})}function f(g){let{ai:m,bi:y,c:C,p:x}=g;i[m]===s[y+1]&&i[m+1]===s[y]&&c.add({ai:m+2,bi:y+2,c:C+r,p:x,f:g})}function d(g){let{ai:m,bi:y,c:C,p:x}=g,T={a:i,b:s,ai:m,bi:y,c:C,p:x};[n.calcInsDelCosts(T),n.calcSwapCosts(T),n.calcReplaceCosts(T)].forEach(k=>{for(let L of k)c.add({...L,f:g})})}let h;for(;(h=c.next())&&!(h.ai===o&&h.bi===a);)f(h),l(h),p(h),d(h),u(h);return(0,ZV.default)(h),h}var h_=class{aN;bN;pool=new Vc(GCe);grid=[];constructor(e,n){this.aN=e,this.bN=n}next(){let e;for(;e=this.pool.dequeue();)if(!e.d)return e}add(e){let n=HCe(e.ai,e.bi,this.bN),r=this.grid[n];if(!r){this.grid[n]=e,this.pool.add(e);return}r.c<=e.c||(r.d=!0,this.grid[n]=e,this.pool.add(e))}};function HCe(t,e,n){return t*n+e}function GCe(t,e){return t.c-e.c||e.ai+e.bi-t.ai-t.bi}var VCe=100;function g_(t,e,n,r=VCe){return e8(t,e,n,r)}function m_(){let t=performance.now();return()=>performance.now()-t}function JCe(){let t=m_(),e=new Map,n=[{name:"start",at:0}];function r(f,d=t()){let h=d-f.at;return f.elapsed=(f.elapsed||0)+h,h}function i(f){let d=o(f||"start");return n.push(d),f&&e.set(f,d),()=>r(d)}function s(f){let d=f&&e.get(f);return d?r(d):a(f||"stop")}function o(f){return{name:f,at:t()}}function a(f){let d=o(f);return n.push(d),d.at}function c(){let f=[{name:"Event Name",at:"Time",elapsed:"Elapsed"},{name:"----------",at:"----",elapsed:"-------"},...d()];function d(){let C=[];return n.map(x=>{for(let E=C.pop();E;E=C.pop())if(E>=x.at+(x.elapsed||0)){C.push(E);break}let T=C.length;return x.elapsed&&C.push(x.at+x.elapsed),{name:"| ".repeat(T)+(x.name||"").replaceAll("	","  "),at:`${h(x.at)}`,elapsed:x.elapsed?`${h(x.elapsed)}`:"--"}})}function h(C){return C.toFixed(3)+"ms"}function g(C,x){return Math.max(C,x.length)}let m=f.reduce((C,x)=>({name:g(C.name,x.name),at:g(C.at,x.at),elapsed:g(C.elapsed,x.elapsed)}),{name:0,at:0,elapsed:0});return f.map(C=>`${C.at.padStart(m.at)}  ${C.name.padEnd(m.name)}  ${C.elapsed.padStart(m.elapsed)}`).join(`
`)}function u(f,d){let h=i(f),g=d();return h(),g}async function l(f,d){let h=i(f),g=await d();return h(),g}function p(f=console.log){f(c())}return{start:i,stop:s,mark:a,elapsed:t,report:p,formatReport:c,measureFn:u,measureAsyncFn:l}}var t8;function n8(){let t=t8||JCe();return t8=t,t}function Lx(t){return t!==void 0}function y_(t){let e={...t};return Hl(e)}function Hl(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function C_(t){return[...new Set(t)]}function S_(t){return t.replaceAll(/([[\]\-+(){},|*.\\])/g,"\\$1")}function Ox(t,e){let n=RegExp(S_(t),"g");return r=>r.replace(n,e)}var XCe=10,r8=100,s8=5,YCe=.5,QCe=1.03*YCe,ZCe=new Intl.Collator,eSe=new RegExp(`[${S_(Ta)}]`,"g"),tSe=[0,50,25,5,0],nSe=5,o8=1e3,i8=Symbol("Collector Stop Processing");function x_(t,e){let n=t.isPreferred&&-1||0,r=e.isPreferred&&-1||0;return n-r||t.cost-e.cost||t.word.length-e.word.length||ZCe.compare(t.word,e.word)}var b_=Object.freeze({numSuggestions:XCe,filter:()=>!0,changeLimit:s8,includeTies:!1,ignoreCase:!0,timeout:o8,weightMap:void 0,compoundSeparator:"",compoundMethod:void 0});function go(t,e){let{filter:n=()=>!0,changeLimit:r=s8,includeTies:i=!1,ignoreCase:s=!0,timeout:o=o8,weightMap:a,compoundSeparator:c=b_.compoundSeparator}=e,u=Math.max(e.numSuggestions,0)||0,l=a?u*2:u,p=new Map,f=r8*Math.min(t.length*QCe,r),d=c||(a?Ix:b_.compoundSeparator),h=!d||d===c?A=>A:Ox(d,"");d&&a&&GV(a,{map:d,insDel:50});let g=Hl({changeLimit:r,ignoreCase:s,compoundMethod:e.compoundMethod,compoundSeparator:d}),m=o;function y(){if(p.size<2||!u){p.clear();return}let A=[...p.values()].sort(x_),j=l-1;for(f=A[j].cost;j<A.length&&A[j].cost<=f;++j);for(;j<A.length;++j)p.delete(A[j].word)}function C(A){if(A.isPreferred)return A;let j=A.word.split(eSe),H=j.map(F=>tSe[F.length]||0).reduce((F,M)=>F+M,0)+(j.length-1)*nSe;return{word:A.word,cost:A.cost+H}}function x(A){let{word:j,cost:H,isPreferred:F}=C(A);if(H<=f&&n(A.word,H)){let M=p.get(j);M?(M.cost=Math.min(M.cost,H),M.isPreferred=M.isPreferred||F):(p.set(j,{word:j,cost:H,isPreferred:F}),H<f&&p.size>l&&y())}return f}function T(A,j,H){let F=!1;if(j=j??m,j=Math.min(j,m),j<0)return;let M=m_(),J;for(;!(J=A.next(F||f)).done;){M()>j&&(F=i8);let{value:_}=J;if(_&&a8(_)){(!H||H(_.word,_.cost))&&x(_);continue}}m-=M()}function E(A){let{word:j,cost:H}=A,F=h(j);return F!==j?{word:F,cost:H,compoundWord:j,isPreferred:void 0}:{...A}}function k(){if(u<1||!p.size)return[];let A="NFD",j=t.normalize(A),H=[...p.values()],M=(a?H.map(({word:ue,cost:ce,isPreferred:ae})=>({word:ue,cost:ae?ce:g_(j,ue.normalize(A),a,110),isPreferred:ae})):H).sort(x_).map(E),J=Math.min(M.length,u)-1,_=i?M.length:Math.min(M.length,u),I=M[J].cost,W=Math.min(I,a?r*r8-1:I);for(J=1;J<_&&M[J].cost<=W;++J);return M.length=J,M}return{collect:T,add:function(A){return x(A),this},get suggestions(){return k()},get maxCost(){return f},get word(){return t},get maxNumSuggestions(){return u},get changeLimit(){return r},includesTies:i,ignoreCase:s,symbolStopProcessing:i8,genSuggestionOptions:g}}function uh(t,e){let n=Object.create(t);return Object.defineProperty(n,"word",{value:e,writable:!1}),n}function a8(t){let e=t;return!!e&&typeof e=="object"&&e?.cost!==void 0&&e.word!=null}function rSe(t,e){return t.c/(t.i+1)-e.c/(e.i+1)+(e.i-t.i)}function v_(t,e,n={}){let r=ch(n),i=go(e,r);return i.collect(Ux(t,e,r)),i.suggestions}function*Ux(t,e,n={}){let{compoundMethod:r,changeLimit:i,ignoreCase:s,weightMap:o}=ch(n),a=BV,c=t.getRoot(),u=s&&c.get(c.info.stripCaseAndAccentsPrefix)||void 0,l=new Vc(rSe),p=new Vc(_),f={n:c,i:0,c:0,s:"",p:void 0,t:Mx()},d=ho.baseCost,h=ho.visuallySimilar,g=ho.duplicateLetterCost,m=r===Ht.JOIN_WORDS?Kl:Ta,y=uSe(t.info),C=t.info.compoundCharacter,x=c.get(C),T=u&&u.get(C),E=Object.create(null),k=[...e],L=d*Math.min(k.length*ho.wordLengthCostFactor,i);l.add(f),u&&l.add({n:u,i:0,c:0,s:"",p:void 0,t:Mx()});let A=l.dequeue(),j=l.size,H=0,F=0,M=1e3,J=1;for(;A;){if(++F>M){if(M+=1e3,H<J)break;J+=H}if(A.c>L){A=l.dequeue(),j=Math.max(j,l.size);continue}I(A);for(let ae of p){if(++H,ae.cost>L||ae.word in E&&E[ae.word]<=ae.cost)continue;let fe=yield ae;if(E[ae.word]=ae.cost,typeof fe=="number"&&(L=Math.min(fe,L)),typeof fe=="symbol")return}A=l.dequeue(),j=Math.max(j,l.size)}return;function _(ae,fe){let be=ae.isPreferred&&1||0;return(fe.isPreferred&&1||0)-be||ae.cost-fe.cost||Math.abs(ae.word.charCodeAt(0)-e.charCodeAt(0))-Math.abs(fe.word.charCodeAt(0)-e.charCodeAt(0))}function I(ae){let fe=k.length;if(ae.n.eow&&ae.i===fe){let Ue={word:cSe(ae),cost:ae.c};p.add(Ue)}W(ae)}function W(ae){let{n:fe,i:be,t:Ue}=ae,st=k[be],ut=a[st]||0,et=ae.c,ie=et+d+(be?0:ho.firstLetterBias),qe=et+h,Ke=et+ho.wordBreak,re=et+ho.compound;if(st){let pe=fe.get(st);pe&&ce(Ue,pe,be+1,et,st,ae,"=",st),o&&ue(ae,o);let se=k[be+1];st==se&&pe&&ce(Ue,pe,be+2,et+g,st,ae,"dd",st),ce(Ue,fe,be+1,ie,"",ae,"d","");for(let[he,ze]of fe.entries()){if(ze.id===pe?.id||he in y)continue;let ot=a[he]||0,Xe=ut&ot?qe:ie;ce(Ue,ze,be+1,Xe,he,ae,"r",he)}if(fe.eow&&be&&r&&ce(Ue,c,be,Ke,m,ae,"L",m),se){let ze=fe.get(se)?.get(st);if(ze){let ot=se+st;ce(Ue,ze,be+2,et+ho.swapCost,ot,ae,"s",ot)}}}if(x&&re<=L&&fe.get(C)&&(T&&ce(Ue,T,be,re,"",ae,"~+","~+"),ce(Ue,x,be,re,"",ae,"+","+")),ie<=L)for(let[pe,se]of fe.entries())pe in y||ce(Ue,se,be,ie,pe,ae,"i",pe)}function ue(ae,fe){iSe(ae,fe,k,ce),sSe(ae,fe,k,ce),oSe(ae,fe,k,ce)}function ce(ae,fe,be,Ue,st,ut,et,ie){let qe=aSe(ae,ie);qe.c[be]<=Ue||Ue>L||(qe.c[be]=Ue,l.add({n:fe,i:be,c:Ue,s:st,p:ut,t:qe,a:et}))}}function iSe(t,e,n,r){let{t:i,n:s}=t,o=e.insDel,a=t.i,c=t.c-t.i,u=n.length;for(let l=o.n;a<u&&l;){let p=l[n[a]];if(!p)return;++a,p.c!==void 0&&r(i,s,a,c+p.c,"",t,"d",""),l=p.n}}function sSe(t,e,n,r){let{t:i,i:s,c:o,n:a}=t,c=o;w_(e.insDel,a,(u,l,p)=>{l.c!==void 0&&r(i,p,s,c+l.c,u,t,"i",u)})}function oSe(t,e,n,r){let i=t.n,s=t.t,o=t.c,a=n.length,c=e.replace,u=t.i;for(let l=c.n;u<a&&l;){let p=l[n[u]];if(!p)return;++u;let f=p.t;f&&w_(f,i,(d,h,g)=>{let m=h.c;m!==void 0&&r(s,g,u,o+m+(h.p||0),d,t,"r",d)}),l=p.n}}function Mx(){return{c:[],t:Object.create(null)}}function aSe(t,e){if(e.length==1)return t.t[e]??=Mx();if(!e)return t;let n=t;for(let r of e)n=n.t[r]??=Mx();return n}function cSe(t){let e=[],n=t;for(;n;)e.push(n.s),n=n.p;return e.reverse(),e.join("")}function uSe(t){let e=Object.create(null);for(let n of Object.values(t))e[n]=!0;return e}function w_(t,e,n,r=""){let i=t.n;if(i)for(let[s,o]of e.entries()){let a=i[s];if(!a)continue;let c=r+s;n(c,a,o),a.n&&w_(a,o,n,c)}}var Jc=oe(require("node:assert"),1);var Gl="+",D_="*",Ea="~",Vl="!",c8="#",u8="=",Jl=Object.freeze({compoundCharacter:Gl,forbiddenWordPrefix:Vl,stripCaseAndAccentsPrefix:Ea,isCaseAware:!0,hasForbiddenWords:!1,hasCompoundWords:!1,hasNonStrictWords:!1});function qx(t,e){let n={...e};if(t)for(let[r,i]of Object.entries(t))r in n&&(n[r]=i??n[r]);return n}function Kr(...t){return t.reduce((e,n)=>qx(n,e),Jl)}function ka(t,e="-"){let n=new Set,r=0,i="";for(let s of t){if(r&&(lSe(i,s).forEach(o=>n.add(o)),r=0),s===e&&i){r=1;continue}n.add(s),i=s}return r&&n.add(e),n}function lSe(t,e){let n=[],r=e.codePointAt(0),i=t.codePointAt(0);if(!(i&&r))return n;for(let s=i;s<=r;++s)n.push(String.fromCodePoint(s));return n}function Xl(t,e){let n=new Set([t]);function r(i){n.add(i.toLocaleLowerCase(e)),n.add(i.toLocaleUpperCase(e))}return r(t),[...n].forEach(r),[...n].filter(i=>!!i)}function T_(t){return new Set([t,t.normalize("NFC"),t.normalize("NFD")])}function l8(t){return t.normalize("NFD").replaceAll(/\p{M}/gu,"")}function d8(t){return t.normalize("NFD").replaceAll(/[^\p{M}]/gu,"")}function dSe(t){let e=t.length,n=t.charCodeAt(0)&64512;return e===1&&(n&63488)!==55296||e===2&&(n&64512)===55296&&(t.charCodeAt(1)&64512)===56320}function f8(t){if(!dSe(t)){let e=t.length,n=fSe(t.slice(0,2)).map(i=>"0x"+("0000"+i.toString(16)).slice(-4)),r;throw e==1?r=`Invalid utf16 character, lone surrogate: ${n[0]}`:e==2?r=`Invalid utf16 character, not a valid surrogate pair: [${n.join(", ")}]`:r=`Invalid utf16 character, must be a single character, found: ${e}`,new Error(r)}}function fSe(t){let e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}function p8(t){return t<128?t:t<2048?49280|(t&1984)<<2|t&63:t<65536?14712960|(t&61440)<<4|(t&4032)<<2|t&63:4034953344+((t&1835008)<<6|(t&258048)<<4|(t&4032)<<2|t&63)}var zr=class t{remaining=0;value=0;decode(e){let n=this.remaining;if(e&-256)return this.reset();if(!(e&128))return n?this.reset():e;if(n){if((e&192)!==128)return this.reset();let r=this.value;return r=r<<6|e&63,this.value=r,n-=1,this.remaining=n,n?void 0:r}if((e&224)===192){this.value=e&31,this.remaining=1;return}if((e&240)===224){this.value=e&15,this.remaining=2;return}if((e&248)===240){this.value=e&7,this.remaining=3;return}return this.reset()}reset(){return this.remaining=0,this.value=0,65533}clone(e=new t){return e.remaining=this.remaining,e.value=this.value,e}static isMultiByte(e){return(e&128)!==0}static isSingleByte(e){return(e&128)===0}static create(){return new this}};function pSe(t,e,n=0){let r=n,i=t.length;for(let s=0;s<i;s++){let o=t.charCodeAt(s);if(o=(o&63488)===55296?t.codePointAt(s++)||0:o,o<128){e[r++]=o;continue}if(o<2048){let c=49280|(o&1984)<<2|o&63;e[r++]=c>>>8,e[r++]=c&255;continue}if(o<65536){let c=14712960|(o&61440)<<4|(o&4032)<<2|o&63;e[r++]=c>>>16,e[r++]=c>>>8&255,e[r++]=c&255;continue}let a=4034953344|((o&1835008)<<6|(o&258048)<<4|(o&4032)<<2|o&63);e[r++]=a>>>24&255,e[r++]=a>>>16&255,e[r++]=a>>>8&255,e[r++]=a&255}return r-n}function Wx(t){let e=new Array(t.length),n=pSe(t,e);return e.length!==n&&(e.length=n),e}var hSe=[0];Object.freeze(hSe);var lh=class{charIndex;#e;#t="";#n=[];#r;constructor(e){this.charIndex=e,this.#e=gSe(e),this.#r=[...this.#e.values()].some(n=>n.length>1)}getCharUtf8Seq(e){let n=this.#e.get(e);if(n)return n;let r=Wx(e);return this.#e.set(e,r),r}wordToUtf8Seq(e){if(this.#t===e)return this.#n;let n=Wx(e);return this.#t=e,this.#n=n,n}indexContainsMultiByteChars(){return this.#r}get size(){return this.charIndex.length}toJSON(){return{charIndex:this.charIndex}}};function gSe(t){let e=new Map;for(let n of t)e.set(n,Wx(n));return e}var jx=class{charIndex=[];charIndexMap=new Map;charIndexSeqMap=new Map;#e=new Map;constructor(){this.getUtf8Value("")}getUtf8Value(e){let n=this.charIndexMap.get(e);if(n!==void 0)return n;let r=e.normalize("NFC");this.charIndex.push(r);let i=p8(r.codePointAt(0)||0);return this.charIndexMap.set(e,i),this.charIndexMap.set(r,i),this.charIndexMap.set(e.normalize("NFD"),i),i}utf8ValueToUtf8Seq(e){let n=this.#e.get(e);if(n!==void 0)return n;let r=mSe(e);return this.#e.set(e,r),r}charToUtf8Seq(e){let n=this.getUtf8Value(e);return this.utf8ValueToUtf8Seq(n)}wordToUtf8Seq(e){let n=new Array(e.length),r=0;for(let i of e){let s=this.getUtf8Value(i),o=this.utf8ValueToUtf8Seq(s);if(typeof o=="number"){n[r++]=o;continue}for(let a of o)n[r++]=a}return n.length!==r&&(n.length=r),n}get size(){return this.charIndex.length}build(){return new lh(this.charIndex)}};function mSe(t){return t<=255?[t]:t<=65535?[t>>8&255,t&255]:t<=16777215?[t>>16&255,t>>8&255,t&255]:[t>>24&255,t>>16&255,t>>8&255,t&255].filter(e=>e)}function h8(t){let{NodeMaskEOW:e,NodeMaskChildCharIndex:n,NodeChildRefShift:r}=t;return{NodeMaskEOW:e,NodeMaskChildCharIndex:n,NodeChildRefShift:r}}var dh=class{nodes;charIndex;NodeMaskEOW;NodeMaskChildCharIndex;NodeChildRefShift;isIndexDecoderNeeded;info;constructor(e,n,r,i){this.nodes=e,this.charIndex=n;let{NodeMaskEOW:s,NodeMaskChildCharIndex:o,NodeChildRefShift:a}=r;this.NodeMaskEOW=s,this.NodeMaskChildCharIndex=o,this.NodeChildRefShift=a,this.isIndexDecoderNeeded=n.indexContainsMultiByteChars(),this.info=Kr(i)}},Bx=class extends dh{nodeFindNode;nodeFindExact;nodeGetChild;isForbidden;findExact;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n,r,i,s){super(e,n,r,i),this.nodeFindExact=s.nodeFindExact,this.nodeGetChild=s.nodeGetChild,this.isForbidden=s.isForbidden,this.findExact=s.findExact,this.nodeFindNode=s.nodeFindNode,this.hasForbiddenWords=s.hasForbiddenWords,this.hasCompoundWords=s.hasCompoundWords,this.hasNonStrictWords=s.hasNonStrictWords}};function $x(t,e){if(Object.isFrozen(t))return E_(t,e),t;for(let n=0;n<t.length;++n){let r=t[n];if(r.length>2){let i=Object.isFrozen(r);r=i?Uint32Array.from(r):r;let s=r[0];r[0]=0,r.sort((o,a)=>o?a?(o&e)-(a&e):1:-1),r[0]=s,i&&(t[n]=r,Object.freeze(r))}}return Object.freeze(t),t}function E_(t,e){for(let n=0;n<t.length;++n){let r=t[n];if(r.length>2){let i=-1;for(let s=1;s<r.length;++s){let o=r[s]&e;if(o<i)throw new Error(`Node ${n} is not sorted. ${i} > ${o}`);i=o}}}}var ySe=Object.freeze([]),CSe=Object.freeze([]),SSe=Object.freeze([]),Kx=class t{trie;nodeIdx;id;node;eow;_keys;_count;_size;_chained;_nodesEntries;_entries;_values;charToIdx;constructor(e,n){this.trie=e,this.nodeIdx=n;let r=e.nodes[n];this.node=r,this.eow=!!(r[0]&e.NodeMaskEOW),this._count=r.length-1,this.id=n,this.findExact=i=>e.nodeFindExact(n,i)}keys(){return this._keys?this._keys:this._count?(this._keys=this.getNodesEntries().map(([e])=>e),this._keys):ySe}values(){return this._count?this._values?this._values:(this._values=this.entries().map(([,e])=>e),this._values):CSe}entries(){if(this._entries)return this._entries;if(!this._count)return SSe;let e=this.getNodesEntries();return this._entries=e.map(([n,r])=>[n,new t(this.trie,r)]),this._entries}get(e){let n=this.trie.nodeGetChild(this.id,e);if(n!==void 0)return new t(this.trie,n)}getNode(e){let n=this.trie.nodeFindNode(this.id,e);if(n!==void 0)return new t(this.trie,n)}has(e){return this.trie.nodeGetChild(this.id,e)!==void 0}hasChildren(){return this._count>0}child(e){if(!this._values&&!this.containsChainedIndexes()){let r=this.node[e+1]>>>this.trie.NodeChildRefShift;return new t(this.trie,r)}return this.values()[e]}getCharToIdxMap(){let e=this.charToIdx;if(e)return e;let n=Object.create(null),r=this.keys();for(let i=0;i<r.length;++i)n[r[i]]=i;return this.charToIdx=n,n}findExact(e){return this.trie.nodeFindExact(this.id,e)}isForbidden(e){let n=this.trie.nodeGetChild(this.id,this.trie.info.forbiddenWordPrefix);return n===void 0?!1:this.trie.nodeFindExact(n,e)}findCaseInsensitive(e){let n=this.trie.nodeGetChild(this.id,this.trie.info.stripCaseAndAccentsPrefix);return n===void 0?!1:this.trie.nodeFindExact(n,e)}containsChainedIndexes(){if(this._chained!==void 0)return this._chained;if(!this._count||!this.trie.isIndexDecoderNeeded)return this._chained=!1,!1;let e=!1,n=this.trie.NodeMaskChildCharIndex,r=this._count,i=this.node;for(let s=1;s<=r&&!e;++s){let a=i[s]&n;e=zr.isMultiByte(a)}return this._chained=!!e,this._chained}getNodesEntries(){if(this._nodesEntries)return this._nodesEntries;if(!this.containsChainedIndexes()){let e=Array(this._count),n=this.node,r=this.trie.NodeMaskChildCharIndex,i=this.trie.NodeChildRefShift;for(let s=0;s<this._count;++s){let o=n[s+1],a=o&r;e[s]=[String.fromCodePoint(a),o>>>i]}return this._nodesEntries=e,e}return this._nodesEntries=this.walkChainedIndexes(),this._nodesEntries}walkChainedIndexes(){let e=this.trie.NodeMaskChildCharIndex,n=this.trie.NodeChildRefShift,r=this.trie.nodes,i=zr.create(),s=[{n:this.node,c:1,acc:i}],o=0,a=Array(this._count),c=0;for(;o>=0;){let u=s[o],{n:l,c:p}=u;if(p>=l.length){--o;continue}++u.c;let f=l[p],d=f&e,h=u.acc.clone(),g=h.decode(d);if(g!==void 0){let C=String.fromCodePoint(g),x=f>>>n;a[c++]=[C,x];continue}let m=f>>>n,y=s[++o];y?(y.n=r[m],y.c=1,y.acc=h):s[o]={n:r[m],c:1,acc:h}}return a}get size(){if(this._size===void 0){if(!this.containsChainedIndexes())return this._size=this._count,this._size;this._size=this.getNodesEntries().length}return this._size}},zx=class extends Kx{hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n){super(e,n),this.hasForbiddenWords=e.hasForbiddenWords,this.hasCompoundWords=e.hasCompoundWords,this.hasNonStrictWords=e.hasNonStrictWords}resolveId(e){return new Kx(this.trie,e)}find(e,n){let r=this.findExact(e);if(r)return{found:e,compoundUsed:!1,caseMatched:!0};if(!n)return r=this.findCaseInsensitive(e),r?{found:e,compoundUsed:!1,caseMatched:!1}:void 0}get info(){return this.trie.info}get forbidPrefix(){return this.trie.info.forbiddenWordPrefix}get compoundFix(){return this.trie.info.compoundCharacter}get caseInsensitivePrefix(){return this.trie.info.stripCaseAndAccentsPrefix}};var y8=require("node:os");var fh,Hx=class{nodes;charIndex;NodeMaskEOW;NodeMaskNumChildren;NodeMaskChildCharIndex;NodeChildRefShift;isIndexDecoderNeeded;nodeFindExact;isForbidden;findExact;nodeGetChild;nodeFindNode;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n,r,i){this.nodes=e,this.charIndex=n;let{NodeMaskEOW:s,NodeMaskChildCharIndex:o,NodeMaskNumChildren:a,NodeChildRefShift:c}=r;this.NodeMaskEOW=s,this.NodeMaskNumChildren=a,this.NodeMaskChildCharIndex=o,this.NodeChildRefShift=c,this.isIndexDecoderNeeded=n.indexContainsMultiByteChars(),this.nodeFindExact=i.nodeFindExact,this.isForbidden=i.isForbidden,this.findExact=i.findExact,this.nodeGetChild=i.nodeGetChild,this.nodeFindNode=i.nodeFindNode,this.hasForbiddenWords=i.hasForbiddenWords,this.hasCompoundWords=i.hasCompoundWords,this.hasNonStrictWords=i.hasNonStrictWords}},xSe=Object.freeze([]),bSe=Object.freeze([]),vSe=Object.freeze([]),ph=class{trie;nodeIdx;id;node;eow;_keys;_count;_size;_chained;_nodesEntries;_entries;_values;charToIdx;constructor(e,n){this.trie=e,this.nodeIdx=n;let r=e.nodes[n];this.node=r,this.eow=!!(r&e.NodeMaskEOW),this._count=r&e.NodeMaskNumChildren,this.id=n}keys(){return this._keys?this._keys:this._count?(this._keys=this.getNodesEntries().map(([e])=>e),this._keys):xSe}values(){return this._count?this._values?this._values:(this._values=this.entries().map(([,e])=>e),this._values):bSe}entries(){if(this._entries)return this._entries;if(!this._count)return vSe;let e=this.getNodesEntries();return this._entries=e.map(([n,r])=>[n,new fh(this.trie,r)]),this._entries}get(e){return this.#t(e)}has(e){return this.trie.nodeGetChild(this.nodeIdx,e)!==void 0}hasChildren(){return this._count>0}child(e){if(!this._values&&!this.containsChainedIndexes()){let r=this.trie.nodes[this.nodeIdx+e+1]>>>this.trie.NodeChildRefShift;return new fh(this.trie,r)}return this.values()[e]}#e(e){return this.trie.nodeGetChild(this.nodeIdx,e)}#t(e){if(this.charToIdx){let r=this.charToIdx[e];return r===void 0?void 0:this.child(r)}let n=this.#e(e);if(n!==void 0)return new fh(this.trie,n)}getCharToIdxMap(){let e=this.charToIdx;if(e)return e;let n=Object.create(null),r=this.keys();for(let i=0;i<r.length;++i)n[r[i]]=i;return this.charToIdx=n,n}getNode(e){let n=this.trie.nodeFindNode(this.nodeIdx,e);return n===void 0?void 0:new fh(this.trie,n)}findExact(e){return this.trie.nodeFindExact(this.nodeIdx,e)}containsChainedIndexes(){if(this._chained!==void 0)return this._chained;if(!this._count||!this.trie.isIndexDecoderNeeded)return this._chained=!1,!1;let e=!1,n=this.trie.NodeMaskChildCharIndex,r=this.nodeIdx+1,i=this.trie.nodes,s=this._count;for(let o=0;o<s&&!e;++o){let c=i[o+r]&n;e=zr.isMultiByte(c)}return this._chained=!!e,this._chained}getNodesEntries(){if(this._nodesEntries)return this._nodesEntries;if(!this.containsChainedIndexes()){let e=Array(this._count),n=this.trie.nodes,r=this.nodeIdx+1,i=this.trie.NodeMaskChildCharIndex,s=this.trie.NodeChildRefShift;for(let o=0;o<this._count;++o){let a=n[r+o],c=a&i;e[o]=[String.fromCodePoint(c),a>>>s]}return this._nodesEntries=e,e}return this._nodesEntries=this.walkChainedIndexes(),this._nodesEntries}walkChainedIndexes(){let e=this.trie.NodeMaskChildCharIndex,n=this.trie.NodeChildRefShift,r=this.trie.NodeMaskNumChildren,i=this.trie.nodes,s=zr.create(),o=[{nodeIdx:this.nodeIdx+1,lastIdx:this.nodeIdx+this._count,acc:s}],a=0,c=Array(this._count),u=0;for(;a>=0;){let l=o[a],{nodeIdx:p,lastIdx:f}=l;if(p>f){--a;continue}++l.nodeIdx;let d=i[p],h=d&e,g=l.acc.clone(),m=g.decode(h);if(m!==void 0){let T=String.fromCodePoint(m),E=d>>>n;c[u++]=[T,E];continue}let y=d>>>n,C=y+(i[y]&r),x=o[++a];x?(x.nodeIdx=y+1,x.lastIdx=C,x.acc=g):o[a]={nodeIdx:y+1,lastIdx:C,acc:g}}return c}get size(){if(this._size===void 0){if(!this.containsChainedIndexes())return this._size=this._count,this._size;this._size=this.getNodesEntries().length}return this._size}};fh=ph;var Gx=class extends ph{info;find;isForbidden;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n,r,i){super(e,n),this.info=r,this.find=i.find,this.isForbidden=e.isForbidden,this.hasForbiddenWords=e.hasForbiddenWords,this.hasCompoundWords=e.hasCompoundWords,this.hasNonStrictWords=e.hasNonStrictWords}resolveId(e){return new ph(this.trie,e)}get forbidPrefix(){return this.info.forbiddenWordPrefix}get compoundFix(){return this.info.compoundCharacter}get caseInsensitivePrefix(){return this.info.stripCaseAndAccentsPrefix}};var Hr,wSe=8,DSe=0,TSe=8,Vx=TSe*4,C8=0,S8=C8,x8=S8+8,b8=x8+4,v8=b8+4,w8=v8+4,D8=w8+4,ESe=D8+4,Mi={header:C8,sig:S8,version:b8,endian:x8,nodes:v8,nodesLen:w8,charIndex:D8,charIndexLen:ESe},Jx="TrieBlob",kSe="00.01.00",g8=67305985,dt=class{nodes;charIndex;info;#e;#t;#n;#r;#s;#i;#a=(0,y8.endianness)()==="BE"?3:0;wordToCharacters=e=>[...e];hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n,r){this.nodes=e,this.charIndex=n,ASe(e),this.info=Kr(r),this.#i=new Uint8Array(e.buffer,e.byteOffset+this.#a),this.#e=this._lookupNode(0,this.info.forbiddenWordPrefix),this.#t=this._lookupNode(0,this.info.compoundCharacter),this.#n=this._lookupNode(0,this.info.stripCaseAndAccentsPrefix),this.hasForbiddenWords=!!this.#e,this.hasCompoundWords=!!this.#t,this.hasNonStrictWords=!!this.#n}wordToUtf8Seq(e){return this.charIndex.wordToUtf8Seq(e)}letterToNodeCharIndexSequence(e){return this.charIndex.getCharUtf8Seq(e)}has(e){return this.#u(0,e)}isForbiddenWord(e){return!!this.#e&&this.#u(this.#e,e)}find(e,n){if(!this.hasCompoundWords)return this.#u(0,e)?{found:e,compoundUsed:!1,caseMatched:!0}:n||!this.#n?{found:!1,compoundUsed:!1,caseMatched:!1}:{found:this.#u(this.#n,e)&&e,compoundUsed:!1,caseMatched:!1}}getRoot(){return this.#s??=this._getRoot()}_getRoot(){let e=new Hx(this.nodes,this.charIndex,{NodeMaskEOW:Hr.NodeMaskEOW,NodeMaskNumChildren:Hr.NodeMaskNumChildren,NodeMaskChildCharIndex:Hr.NodeMaskChildCharIndex,NodeChildRefShift:Hr.NodeChildRefShift},{nodeFindExact:(n,r)=>this.#u(n,r),nodeGetChild:(n,r)=>this._lookupNode(n,r),nodeFindNode:(n,r)=>this.#c(n,r),isForbidden:n=>this.isForbiddenWord(n),findExact:n=>this.has(n),hasCompoundWords:this.hasCompoundWords,hasForbiddenWords:this.hasForbiddenWords,hasNonStrictWords:this.hasNonStrictWords});return new Gx(e,0,this.info,{find:(n,r)=>this.find(n,r)})}getNode(e){return zl(this.getRoot(),e)}#u(e,n){let r=this.#c(e,n);if(!r)return!1;let i=this.nodes[r],s=Hr.NodeMaskEOW;return(i&s)===s}#c(e,n){let r=this.wordToUtf8Seq(n);return this.#o(e,r)}#o(e,n){let r=Hr.NodeMaskNumChildren,i=Hr.NodeChildRefShift,s=this.nodes,o=this.#i,a=n,c=a.length,u=s[e];for(let l=0;l<c;++l,u=s[e]){let p=a[l],f=u&r,d=e<<2;if(f>15){let g=d+(f<<2),m=d+4,y=g;for(;y-m>=4;){let C=m+y>>1&-4;o[C]<p?m=C+4:y=C}if(m>g||o[m]!==p)return;e=s[m>>2]>>>i;continue}let h=d+f*4;for(;h>d&&o[h]!==p;h-=4);if(h<=d)return;e=s[h>>2]>>>i}return e}_lookupNode(e,n){let r=this.letterToNodeCharIndexSequence(n);return this.#o(e,r)}*words(){let e=Hr.NodeMaskNumChildren,n=Hr.NodeMaskEOW,r=Hr.NodeMaskChildCharIndex,i=Hr.NodeChildRefShift,s=this.nodes,o=[{nodeIdx:0,pos:0,word:"",acc:zr.create()}],a=0;for(;a>=0;){let{nodeIdx:c,pos:u,word:l,acc:p}=o[a],f=s[c];!u&&f&n&&(yield l);let d=f&e;if(u>=d){--a;continue}let h=++o[a].pos,g=s[c+h],m=p.clone(),y=m.decode(g&r),C=y&&String.fromCodePoint(y)||"";++a,o[a]={nodeIdx:g>>>i,pos:0,word:l+C,acc:m}}}get size(){if(this.#r)return this.#r;let e=Hr.NodeMaskNumChildren,n=this.nodes,r=0,i=0;for(;r<n.length;)++i,r+=(n[r]&e)+1;return this.#r=i,i}toJSON(){return{options:this.info,nodes:FSe(this.nodes),charIndex:this.charIndex}}encodeBin(){let e=Buffer.from(this.charIndex.charIndex.join(`
`)),n=e.byteLength+3&-4,r=Vx+n,i=r+this.nodes.length*4,s=m8(),o=Buffer.alloc(i),a=new DataView(o.buffer),c=new Uint8Array(this.nodes.buffer);return o.write(Jx,Mi.sig,"utf8"),o.write(kSe,Mi.version,"utf8"),a.setUint32(Mi.endian,g8,s),a.setUint32(Mi.nodes,r,s),a.setUint32(Mi.nodesLen,this.nodes.length,s),a.setUint32(Mi.charIndex,Vx,s),a.setUint32(Mi.charIndexLen,e.length,s),o.set(e,Vx),o.set(c,r),o}static decodeBin(e){if(!RSe(e))throw new Xx("Invalid TrieBlob Header");let n=new DataView(e.buffer),r=m8();if(n.getUint32(Mi.endian,r)!==g8)throw new Xx("Invalid TrieBlob Header");let i=n.getUint32(Mi.nodes,r),s=n.getUint32(Mi.nodesLen,r),o=n.getUint32(Mi.charIndex,r),a=n.getUint32(Mi.charIndexLen,r),c=Buffer.from(e.subarray(o,o+a)).toString("utf8").split(`
`),u=new Uint32Array(e.buffer,i,s);return new Hr(u,new lh(c),Jl)}static NodeMaskEOW=256;static NodeMaskNumChildren=(1<<wSe)-1&65535;static NodeMaskNumChildrenShift=DSe;static NodeChildRefShift=8;static NodeMaskChildCharIndex=255;static nodesView(e){return new Uint32Array(e.nodes)}};Hr=dt;function m8(){let t=new Uint8Array([1,2,3,4]);return new DataView(t.buffer).getUint32(0,!0)===67305985}function RSe(t){return!(t.length<Vx||Buffer.from(t,0,Jx.length).toString("utf8",0,Jx.length)!==Jx)}var Xx=class extends Error{constructor(e){super(e)}};function FSe(t){function e(i){let s=t[i],o=s&dt.NodeMaskNumChildren,a=!!(s&dt.NodeMaskEOW),c=[];for(let u=1;u<=o;++u)c.push({c:("00"+(t[i+u]&dt.NodeMaskChildCharIndex).toString(16)).slice(-2),o:t[i+u]>>>dt.NodeChildRefShift});return{id:i,eow:a,n:i+o+1,c}}let n=[],r=0;for(;r<t.length;){let i=e(r);n.push(i),r=i.n}return n}function ASe(t){let e=dt.NodeMaskNumChildren,n=dt.NodeMaskChildCharIndex,r=t.length,i=0,s=t[0],o=s&e;for(;i<r;i+=o+1,s=t[i],o=s&e){if(!o)continue;let a=i+1,c=a+o,u=0,l=a;for(;l<c;++l){let f=t[l]&n;if(u>=f)break;u=f}if(l===c)continue;t.slice(a,c).sort((f,d)=>(f&n)-(d&n)).forEach((f,d)=>t[a+d]=f)}}var PSe=!1,Yx=class t{nodes;_charIndex;bitMasksInfo;info;_readonly=!1;#e;#t;#n;_iTrieRoot;wordToCharacters;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n,r,i){this.nodes=e,this._charIndex=n,this.bitMasksInfo=r,this.info=i,this.wordToCharacters=s=>[...s],this.#e=this.#a(0,this.info.forbiddenWordPrefix)||0,this.#t=this.#a(0,this.info.compoundCharacter)||0,this.#n=this.#a(0,this.info.stripCaseAndAccentsPrefix)||0,this.hasForbiddenWords=!!this.#e,this.hasCompoundWords=!!this.#t,this.hasNonStrictWords=!!this.#n,PSe&&E_(this.nodes,r.NodeMaskChildCharIndex)}wordToUtf8Seq(e){return this._charIndex.wordToUtf8Seq(e)}letterToUtf8Seq(e){return this._charIndex.getCharUtf8Seq(e)}has(e){return this.#r(0,e)}hasCaseInsensitive(e){return this.#n?this.#r(this.#n,e):!1}#r(e,n){return this.#s(e,n)}#s(e,n){let r=this.wordToUtf8Seq(n),i=this.#i(e,r);return i===void 0?!1:!!(this.nodes[i][0]&this.bitMasksInfo.NodeMaskEOW)}#i(e,n){let r=this.bitMasksInfo.NodeMaskChildCharIndex,i=this.bitMasksInfo.NodeChildRefShift,s=this.nodes,o=n.length,a=s[e];for(let c=0;c<o;++c,a=s[e]){let u=n[c],l=a.length;if(l<2)return;let p=1,f=l-1,d=-1;for(;p<f;){let h=p+f>>1;d=a[h]&r,d<u?p=h+1:f=h}if(p>=l||(a[p]&r)!==u||(e=a[p]>>>i,!e))return}return e}*words(){let e=this.bitMasksInfo.NodeMaskChildCharIndex,n=this.bitMasksInfo.NodeChildRefShift,r=this.bitMasksInfo.NodeMaskEOW,i=this.nodes,o=[{nodeIdx:0,pos:0,word:"",accumulator:zr.create()}],a=0;for(;a>=0;){let{nodeIdx:c,pos:u,word:l,accumulator:p}=o[a],f=i[c];if(!u&&f[0]&r&&(yield l),u>=f.length-1){--a;continue}let d=++o[a].pos,h=f[d],g=h&e,m=p.clone(),y=m.decode(g),C=y&&String.fromCodePoint(y)||"";++a,o[a]={nodeIdx:h>>>n,pos:0,word:l+C,accumulator:m}}}toTrieBlob(){let e=this.bitMasksInfo.NodeMaskChildCharIndex,n=this.bitMasksInfo.NodeChildRefShift,r=this.nodes;function i(p){let f=0,d=Array(p.length+1);for(let h=0;h<p.length;++h)d[h]=f,f+=p[h].length;return d[p.length]=f,d}let s=i(r),o=s[s.length-1],a=new Uint32Array(o),c=dt.NodeMaskNumChildrenShift,u=dt.NodeChildRefShift,l=0;for(let p=0;p<r.length;++p){let f=r[p];a[l++]=f.length-1<<c|f[0];for(let d=1;d<f.length;++d){let h=f[d],g=h>>>n,m=h&e;a[l++]=s[g]<<u|m}}return new dt(a,this._charIndex,this.info)}isReadonly(){return this._readonly}freeze(){return this._readonly=!0,this}toJSON(){return{info:this.info,nodes:k_(this.nodes)}}static create(e){return new t(e.nodes,e.charIndex,h8(e),e.info)}static toITrieNodeRoot(e){return new zx(new Bx(e.nodes,e._charIndex,e.bitMasksInfo,e.info,{nodeFindNode:(n,r)=>e.#i(n,e.wordToUtf8Seq(r)),nodeFindExact:(n,r)=>e.#r(n,r),nodeGetChild:(n,r)=>e.#a(n,r),isForbidden:n=>e.isForbiddenWord(n),findExact:n=>e.has(n),hasForbiddenWords:e.hasForbiddenWords,hasCompoundWords:e.hasCompoundWords,hasNonStrictWords:e.hasNonStrictWords}),0)}static NodeMaskEOW=dt.NodeMaskEOW;static NodeChildRefShift=dt.NodeChildRefShift;static NodeMaskChildCharIndex=dt.NodeMaskChildCharIndex;static DefaultBitMaskInfo={NodeMaskEOW:t.NodeMaskEOW,NodeMaskChildCharIndex:t.NodeMaskChildCharIndex,NodeChildRefShift:t.NodeChildRefShift};get iTrieRoot(){return this._iTrieRoot??=t.toITrieNodeRoot(this)}getRoot(){return this.iTrieRoot}getNode(e){return zl(this.getRoot(),e)}isForbiddenWord(e){return!!this.#e&&this.#r(this.#e,e)}nodeInfo(e,n){let r=n??zr.create(),i=this.nodes[e],s=!!(i[0]&this.bitMasksInfo.NodeMaskEOW),o=[];o.length=i.length-1;for(let a=1;a<i.length;++a){let c=i[a],u=c&this.bitMasksInfo.NodeMaskChildCharIndex,p=r.clone().decode(u),f=p!==void 0?String.fromCodePoint(p):"\u220E",d=c>>>this.bitMasksInfo.NodeChildRefShift;o[a]={c:f,i:d,cIdx:u}}return{eow:s,children:o}}get size(){return this.nodes.length}#a(e,n){let r=this.letterToUtf8Seq(n);return this.#i(e,r)}get charIndex(){return[...this._charIndex.charIndex]}static fromTrieBlob(e){let n={NodeMaskEOW:dt.NodeMaskEOW,NodeMaskChildCharIndex:dt.NodeMaskChildCharIndex,NodeChildRefShift:dt.NodeChildRefShift},r=dt.nodesView(e),i=[];for(let a=0;a<r.length;a+=(r[a]&dt.NodeMaskNumChildren)+1)i.push(a);let s=new Map(i.map((a,c)=>[a,c])),o=Array.from({length:i.length});for(let a=0;a<o.length;++a){let c=i[a],u=r[c],l=u&dt.NodeMaskEOW,p=u&dt.NodeMaskNumChildren,f=new Uint32Array(p+1);f[0]=l,o[a]=f;for(let d=1;d<=p;++d){let h=r[c+d],g=h&dt.NodeMaskChildCharIndex,m=h>>>dt.NodeChildRefShift,y=s.get(m);if(y===void 0)throw new Error(`Invalid node index ${m}`);f[d]=y<<dt.NodeChildRefShift|g}}return new t($x(o,dt.NodeMaskChildCharIndex),e.charIndex,n,e.info)}static isFastTrieBlob(e){return e instanceof t}};function k_(t){let e=new Map;function n(r,i){if(r.length===1)return{i,w:!!(r[0]&dt.NodeMaskEOW)&&1||0};let s=e.get(r)||zr.create();function o(a){let c=a>>>dt.NodeChildRefShift,u=a&dt.NodeMaskChildCharIndex,l=s.clone(),p=l.decode(u);return p===void 0&&e.set(t[c],l),{i:c,c:p&&String.fromCodePoint(p),s:u.toString(16).padStart(2,"0")}}return{i,w:!!(r[0]&dt.NodeMaskEOW)&&1||0,c:[...r.slice(1)].map(o)}}return t.map((r,i)=>n(r,i))}function T8(t,e,n){let r=t.get(e);if(r!==void 0)return r;let i=n(e);return t.set(e,i),i}var Ra=class t{charIndex=new jx;nodes;_readonly=!1;IdxEOW;_cursor;_options;wordToCharacters=e=>[...e];bitMasksInfo;constructor(e,n=t.DefaultBitMaskInfo){this._options=Kr(e),this.bitMasksInfo=n,this.nodes=[[0],Object.freeze([t.NodeMaskEOW])],this.IdxEOW=1}setOptions(e){return this._options=Kr(this.options,e),this.options}get options(){return this._options}wordToUtf8Seq(e){return this.charIndex.wordToUtf8Seq(e)}letterToUtf8Seq(e){return this.charIndex.charToUtf8Seq(e)}insert(e){if(this.#e(),typeof e=="string")return this._insert(e);let n=e;for(let r of n)this._insert(r);return this}getCursor(){return this.#e(),this._cursor??=this.createCursor(),this._cursor}createCursor(){let e=this.bitMasksInfo.NodeChildRefShift,n=this.bitMasksInfo.NodeMaskEOW,r=this.bitMasksInfo.NodeMaskChildCharIndex,i=[0,1];function s(C,x){for(let T=1;T<C.length;++T)if((C[T]&r)===x)return T;return 0}(0,Jc.default)(this.nodes.length===2);let o=1,a=o<<e,c=this.nodes,u=[{nodeIdx:0,pos:0,pDepth:-1}],l=0,p=0,f=C=>{c[l]||i.push(l);let x=p,T=this.letterToUtf8Seq(C);for(let E=0;E<T.length;++E)d(T[E],x)},d=(C,x)=>{if(c[l]&&Object.isFrozen(c[l])){l=c.push([...c[l]])-1;let{pos:j,nodeIdx:H}=u[p],F=c[H];F[j]=F[j]&r|l<<e}let T=c[l]||[0];c[l]=T;let E=s(T,C),k=E?T[E]>>>e:c.length,L=E||T.push(k<<e|C)-1;++p;let A=u[p];A?(A.nodeIdx=l,A.pos=L,A.pDepth=x):u[p]={nodeIdx:l,pos:L,pDepth:x},l=k};return{insertChar:f,markEOW:()=>{if(l===o)return;let C=c[l];if(C)c[l]=C,C[0]|=n;else{let{pos:x,nodeIdx:T}=u[p],E=c[T];E[x]=E[x]&r|a}l=o},reference:C=>{let x=i[C];(0,Jc.default)(x!==void 0),(0,Jc.default)(c[l]===void 0),(0,Jc.default)(c[x]),Object.freeze(c[x]);let T=u[p];l=T.nodeIdx;let E=T.pos,k=c[l];k[E]=x<<e|k[E]&r},backStep:C=>{if(C){(0,Jc.default)(C<=p&&C>0);for(let x=C;x>0;--x)p=u[p].pDepth;l=u[p+1].nodeIdx}}}}_insert(e){if(e=e.trim(),!e)return this;let n=this.bitMasksInfo.NodeMaskChildCharIndex,r=this.bitMasksInfo.NodeChildRefShift,i=this.bitMasksInfo.NodeMaskEOW,s=this.IdxEOW,o=this.nodes,a=this.wordToUtf8Seq(e),c=a.length,u=0;for(let l=0;l<c;++l){let p=a[l],f=o[u],h=f.length-1;for(;h>0&&(f[h]&n)!==p;--h);if(h>0){u=f[h]>>>r,u===1&&l<c-1&&(u=this.nodes.push([i])-1,f[h]=u<<r|p);continue}u=l<c-1?this.nodes.push([0])-1:s,f.push(u<<r|p)}if(u>1){let l=o[u];l[0]|=i}return this}has(e){let n=this.bitMasksInfo.NodeMaskChildCharIndex,r=this.bitMasksInfo.NodeChildRefShift,i=this.bitMasksInfo.NodeMaskEOW,s=this.nodes,o=this.wordToUtf8Seq(e),a=o.length,c=0,u=s[c];for(let l=0;l<a;++l,u=s[c]){let p=o[l],d=u.length-1;for(;d>0&&(u[d]&n)!==p;--d);if(d<1)return!1;c=u[d]>>>r}return!!(u[0]&i)}isReadonly(){return this._readonly}freeze(){return this._readonly=!0,this}build(){return this._cursor=void 0,this._readonly=!0,this.freeze(),Yx.create(new dh($x(this.nodes.map(e=>Uint32Array.from(e)),this.bitMasksInfo.NodeMaskChildCharIndex),this.charIndex.build(),this.bitMasksInfo,this.options))}toJSON(){return{options:this.options,nodes:k_(this.nodes.map(e=>Uint32Array.from(e)))}}#e(){(0,Jc.default)(!this.isReadonly(),"FastTrieBlobBuilder is readonly")}static fromWordList(e,n){return new t(n).insert(e).build()}static fromTrieRoot(e){let n=t.DefaultBitMaskInfo,r=n.NodeChildRefShift,i=n.NodeMaskChildCharIndex,s=n.NodeMaskEOW,o=new t(void 0,n),a=o.IdxEOW,c=new Map([[e,0]]);function u(d){if(d.f&&!d.c)return a;let h=[d.f?s:0];return o.nodes.push(h)-1}function l(d){let h=c.get(d);if(h)return h;let g=T8(c,d,u),m=o.nodes[g];if(!d.c)return g;let y=Object.entries(d.c);for(let C=0;C<y.length;++C){let[x,T]=y[C];f(m,x,T)}return g}function p(d,h){let g=1;for(g=1;g<d.length&&(d[g]&i)!==h;++g);return g}function f(d,h,g){let m=o.letterToUtf8Seq(h);f8(h);for(let x of m.slice(0,-1)){let T=p(d,x);if(T<d.length)d=o.nodes[d[T]>>>r];else{let E=[0],k=o.nodes.push(E)-1;d[T]=k<<r|x,d=E}}let y=m[m.length-1],C=d.push(y)-1;d[C]=l(g)<<r|y}return l(e),o.build()}static NodeMaskEOW=dt.NodeMaskEOW;static NodeChildRefShift=dt.NodeChildRefShift;static NodeMaskChildCharIndex=dt.NodeMaskChildCharIndex;static DefaultBitMaskInfo={NodeMaskEOW:t.NodeMaskEOW,NodeMaskChildCharIndex:t.NodeMaskChildCharIndex,NodeChildRefShift:t.NodeChildRefShift}};function E8(t){let e={...t};for(let n of Object.keys(e))e[n]===void 0&&delete e[n];return e}var _Se=3,Yl=class t{data;numNodes;_info;root;count;weightMap;#e=this.createFindOptions({compoundMode:"compound"});hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e,n){this.data=e,this.numNodes=n,this.root=e.getRoot(),this._info=Kr(e.info),this.hasForbiddenWords=e.hasForbiddenWords,this.hasCompoundWords=e.hasCompoundWords,this.hasNonStrictWords=e.hasNonStrictWords}numWords(){return this.count??=OV(this.root),this.count}isNumWordsKnown(){return this.count!==void 0}get size(){return this.data.size}get info(){return this._info}get isCaseAware(){return this.info.isCaseAware??!0}find(e){return AV(this.data.getRoot(),e,this.#e).node}has(e,n){return this.hasWord(e,!1)?!0:n?!!this.findWord(e,{useLegacyWordCompounds:n}).found:!1}hasWord(e,n){return!!this.findWord(e,{caseSensitive:n,checkForbidden:!1}).found}findWord(e,n){if(n?.useLegacyWordCompounds){let r=n.useLegacyWordCompounds!==!0?n.useLegacyWordCompounds:_Se,i=this.createFindOptions({legacyMinCompoundLength:r,matchCase:n.caseSensitive||!1});return u_(this.root,e,i)}return PV(this.root,e,{matchCase:n?.caseSensitive,checkForbidden:n?.checkForbidden})}isForbiddenWord(e){return this.hasForbiddenWords&&_x(this.root,e,this.info.forbiddenWordPrefix)}completeWord(e){let n=this.find(e),r=this.info.compoundCharacter,i=Te(n?d_(n):[],Ut(s=>s[s.length-1]!==r),Ne(s=>e+s));return Te(n&&n.eow?[e]:[],fo(i))}suggest(e,n){return this.suggestWithCost(e,n).map(r=>r.word)}suggestWithCost(e,n){let r=n.compoundSeparator,i=n.weightMap||this.weightMap,s=r?Ox(r,""):u=>u,o=n.filter,c={...n,filter:o?(u,l)=>{let p=s(u);return!this.isForbiddenWord(p)&&o(p,l)}:u=>!this.isForbiddenWord(s(u)),weightMap:i};return v_(this.data,e,c)}genSuggestions(e,n){let r=o=>!this.isForbiddenWord(o),i=ch(E8({compoundMethod:n,...e.genSuggestionOptions})),s=Ux(this.data,e.word,i);e.collect(s,void 0,r)}words(){return d_(this.root)}iterate(){return l_(this.root)}static create(e,n){let r=new Ra(n);r.insert(e);let i=r.build();return new t(i,void 0)}createFindOptions(e){return NV(e)}};function hh(t,e={}){let n=new Ra(e);n.insert(t);let r=n.build();return new Yl(r.size>1e3?r.toTrieBlob():r)}function NSe(t,e={}){let n=[...t],r=e;for(let i=0;i<n.length;++i){let s=n[i],o=r.c||Object.create(null);r.c=o,r=o[s]||{},o[s]=r}return r.f=(r.f||0)|1,e}function R8(t){return qV(t)}function LSe(t){return{...Kr(t),c:Object.create(null)}}function R_(t,e){let n=LSe(e);for(let r of t)r.length&&NSe(r,n);return n}function F8(t){let e=new Set;function n(r){e.has(r)||(e.add(r),r.c&&Object.values(r.c).forEach(i=>n(i)))}return n(t),e.size}function OSe(t){let e=new Set,n=new Set;function r(i){if(e.has(i))return{isCircular:!1,allSeen:!0};if(n.has(i)){let o=[...n,i],a=MSe(o),c=o.indexOf(i);return{isCircular:!0,allSeen:!1,ref:{stack:o,word:a,pos:c}}}n.add(i);let s={isCircular:!1,allSeen:!0};return i.c&&(s=Object.values(i.c).reduce((o,a)=>{if(o.isCircular)return o;let c=r(a);return c.allSeen=c.allSeen&&o.allSeen,c},s)),s.allSeen&&e.add(i),n.delete(i),s}return r(t)}function k8(t){return t.c&&new Map(Object.entries(t.c).map(([e,n])=>[n,e]))}function MSe(t){let e="",n=k8(t[0]);for(let r=1;r<t.length;++r){let i=t[r],s=n?.get(i);s&&(e+=s),n=k8(i)}return e}function A8(t){return OSe(t).isCircular}function Fa(t,e){return{...Kr(e),c:t.c||Object.create(null)}}function P8(t){let e=0,n=new Map,r=new Map,i=new Map;if(A8(t))throw new Error("Trie is circular.");function s(p){let f=p.f?"*":"",d=p.c?JSON.stringify(Object.entries(p.c).map(([h,g])=>[h,r.get(g)])):"";return f+d}function o(p){if(p.f&&!p.c)return p;let f;if(p.c){for(let d of Object.values(p.c))if(f=o(d),f)break}return f}function a(p,f){for(let d of p)if(f[d[0]]!==d[1])return!1;return p.length===f.size}function c(p){let f=i.get(p);if(f)return f;let d=p;if(p.c){let m=Object.entries(p.c).map(y=>[y[0],c(y[1])]);a(m,p.c)||(p={f:p.f,c:Object.fromEntries(m)})}let h=s(p),g=n.get(h);return g?(i.set(d,g),g):(Object.freeze(p),n.set(h,p),r.set(p,e++),i.set(d,p),p)}function u(p){if(r.has(p))return p;if(Object.isFrozen(p))return i.get(p)||c(p);if(p.c){let h=Object.entries(p.c).sort((g,m)=>g[0]<m[0]?-1:1).map(([g,m])=>[g,u(m)]);p.c=Object.fromEntries(h)}let f=s(p),d=n.get(f);return d||(n.set(f,p),r.set(p,e++),p)}let l=o(t)||{f:1,c:void 0};return n.set(s(l),l),r.set(l,e++),Fa(u(t),t)}var USe=3,qSe={matchCase:!1,compoundMode:"compound",forbidPrefix:Vl,compoundFix:Gl,caseInsensitivePrefix:Ea,legacyMinCompoundLength:USe},WSe=["none","compound","legacy"],aze=new Map(WSe.map(t=>[t,t]));function F_(t,e){return jSe(BSe(t,e))}function jSe(t){return t?.f===1}function BSe(t,e){let n=[...e],r=t,i=0;for(;r&&i<n.length;){let s=n[i++];r=r.c?.[s]}return r}var cze=Fx($Se);function $Se(t){return qx(t,qSe)}var Xc=class t{root;_iTrieRoot;info;_size;hasForbiddenWords;hasCompoundWords;hasNonStrictWords;constructor(e){this.root=e,this.info=Kr(e),this.hasForbiddenWords=!!e.c[e.forbiddenWordPrefix],this.hasCompoundWords=!!e.c[e.compoundCharacter],this.hasNonStrictWords=!!e.c[e.stripCaseAndAccentsPrefix]}wordToCharacters=e=>[...e];get iTrieRoot(){return this._iTrieRoot||(this._iTrieRoot=MV(this.root))}getRoot(){return this.iTrieRoot}getNode(e){return zl(this.getRoot(),e)}words(){return R8(this.root)}has(e){return F_(this.root,e)}isForbiddenWord(e){return F_(this.root.c[this.root.forbiddenWordPrefix],e)}get size(){return this._size??=F8(this.root)}static createFromWords(e,n){let r=R_(e,n);return new t(r)}static createFromWordsAndConsolidate(e,n){let r=R_(e,n);return new t(P8(r))}};function*_8(t){yield*t}function*I8(t,e){for(let n of t)e(n)&&(yield n)}function*N8(t,e){let n=0;for(let r of t)n>=e&&(yield r),n+=1}function*L8(t,e){let n=0;if(e)for(let r of t){if(n>=e)break;yield r,n+=1}}function*O8(t,e){yield*t,yield*e}function*M8(t,e){for(let n of t)yield*e(n)}function*U8(t,e,n){let r=e[Symbol.iterator]();for(let i of t){let s=r.next().value;yield n(i,s)}}function q8(t,e){function*n(r,i){for(let s of r)yield i(s)}return n(t,e)}function*W8(t,e,n){let r=0;if(n===void 0){r=1;let s=t[Symbol.iterator](),o=s.next();o.done||(yield o.value),n=o.value,t=A_(s)}let i=n;for(let s of t){let o=e(i,s,r);yield o,i=o,r+=1}}function j8(t,e){for(let n of t)if(!e(n))return!1;return!0}function B8(t,e){for(let n of t)if(e(n))return!0;return!1}function $8(t){return mh(t,e=>e+1,0)}function K8(t,e,n){e=e||(()=>!0);for(let r of t)if(e(r))return r;return n}function z8(t,e){let n=0;for(let r of t)e(r,n),n+=1}function H8(t,e=n=>n){return mh(t,(n,r)=>e(r)>e(n)?r:n,void 0)}function G8(t,e=n=>n){return mh(t,(n,r)=>e(r)<e(n)?r:n,void 0)}function mh(t,e,n){let r=A_(t[Symbol.iterator]()),i=0;n===void 0&&(i=1,n=r.next().value);let s=n;for(let o of r)s=e(s,o,i),i+=1;return s}async function V8(t,e,n){let r=A_(t[Symbol.iterator]()),i=0;n===void 0&&(i=1,n=r.next().value);let s=await n;for(let o of r){let a=await o;s=await e(s,a,i),i+=1}return s}function A_(t){function*e(r){for(let i=r.next();!i.done;i=r.next())yield i.value}function*n(r){yield*r}return KSe(t)?zSe(t)?t:n(t):e(t)}function KSe(t){return!!t[Symbol.iterator]}function zSe(t){return typeof t.next=="function"}function J8(t){return e=>I8(e,t)}function X8(t){return e=>N8(e,t)}function Y8(t){return e=>L8(e,t)}function Q8(t){return e=>O8(e,t)}function Z8(t){return e=>M8(e,t)}function e4(t,e){return n=>U8(n,e,t)}function t4(t){return e=>q8(e,t)}function n4(t,e){return n=>W8(n,t,e)}function r4(t){return e=>j8(e,t)}function i4(t){return e=>B8(e,t)}function s4(){return t=>$8(t)}function o4(t,e){return n=>K8(n,t,e)}function a4(t){return e=>z8(e,t)}function c4(t){return e=>H8(e,t)}function u4(t){return e=>G8(e,t)}function P_(t,e){return n=>mh(n,t,e)}function l4(t,e){return n=>V8(n,t,e)}function d4(...t){return e=>{for(let n of t)e=n?n(e):e;return e}}var Qx=class t{i;_iterator;constructor(e){this.i=e}get iter(){return typeof this.i=="function"?this.i():this.i}get iterator(){return this._iterator||(this._iterator=this.iter[Symbol.iterator]()),this._iterator}inject(e){let n=this.i;return()=>e(typeof n=="function"?n():n)}chain(e){return new t(this.inject(e))}[Symbol.iterator](){return this.iter[Symbol.iterator]()}next(){return this.iterator.next()}filter(e){return this.chain(J8(e))}skip(e){return this.chain(X8(e))}take(e){return this.chain(Y8(e))}concat(e){return this.chain(Q8(e))}concatMap(e){return this.chain(Z8(e))}combine(e,n){return this.chain(e4(e,n))}map(e){return this.chain(t4(e))}scan(e,n){return this.chain(n4(e,n))}pipe(...e){return e.length?this.chain(d4.apply(null,e)):this}all(e){return r4(e)(this.iter)}any(e){return i4(e)(this.iter)}count(){return s4()(this.iter)}first(e,n){return o4(e,n)(this.iter)}forEach(e){return a4(e)(this.iter)}max(e){return c4(e)(this.iter)}min(e){return u4(e)(this.iter)}reduce(e,n){return P_(e,n)(this.iter)}reduceAsync(e,n){return l4(e,n)(this.iter)}reduceToSequence(e,n){return this.chain(P_(e,n))}toArray(){return[...this.iter]}toIterable(){return _8(this.iter)}};function Ql(t){return new Qx(t)}var f4="*",Zx=f4;function*GSe(t){yield*t}function __(t){let e=16,n=/^\s*#/,r=GSe(t);function i(d){let h=d.slice(0,2).join(`
`),g=/^TrieXv1\nbase=(\d+)$/;if(!g.test(h))throw new Error("Unknown file format");e=Number.parseInt(h.replace(g,"$1"),10)}function s(d){let h=[];for(;;){let g=d.next();if(g.done)break;let m=g.value.trim();if(!(!m||n.test(m))){if(m===Zx)break;h.push(m)}}i(h)}let o=/(^|[^\\]),/g,a=/__COMMA__/g,c=/[\\](.)/g,u={f:1};function l(d){return d.replaceAll(o,"$1__COMMA__").split(a).map(g=>g.replaceAll(c,"$1"))}function p(d,h){let g=d[0]===f4;d=g?d.slice(1):d;let m=g?u:{},y=l(d).filter(x=>!!x).map(x=>[x[0],Number.parseInt(x.slice(1)||"0",e)]).map(([x,T])=>[x,h[T]]);return{...y.length?{c:Object.fromEntries(y)}:{},...m}}s(r);let f=Ql([Zx]).concat(r).map(d=>d.replace(/\r?\n/,"")).filter(d=>!!d).reduce((d,h)=>{let{lines:g,nodes:m}=d,y=p(h,m);return m[g]=y,{lines:g+1,root:y,nodes:m}},{lines:0,nodes:[],root:{}});return Fa(f.root,{isCaseAware:!1})}var JSe="*",I_="__DATA__";function*XSe(t){yield*t}function p4(t){let e=16,n=/^\s*#/,r=XSe(t);function i(l){let p=l.slice(0,2).join(`
`),f=/^TrieXv2\nbase=(\d+)$/;if(!f.test(p))throw new Error("Unknown file format");e=Number.parseInt(p.replace(f,"$1"),10)}function s(l){let p=[];for(;;){let f=l.next();if(f.done)break;let d=f.value.trim();if(!(!d||n.test(d))){if(d===I_)break;p.push(d)}}i(p)}function o(l,p){let f=l[1]===JSe,d=f?2:1,h=l.slice(d).split(",").filter(g=>!!g).map(g=>Number.parseInt(g,p));return{letter:l[0],isWord:f,refs:h}}let a={f:1};function c(l,p){let{letter:f,isWord:d,refs:h}=o(l,e),g=d?a:{},m=h.map(C=>p[C]).sort((C,x)=>C.s<x.s?-1:1).map(C=>[C.s,C]),y=m.length?{c:Object.fromEntries(m)}:{};return{s:f,...y,...g}}s(r);let u=Ql(r).map(l=>l.replace(/\r?\n/,"")).filter(l=>!!l).reduce((l,p)=>{let{nodes:f}=l,d=c(p,f);return f.push(d),{root:d,nodes:f}},{nodes:[],root:{s:"",c:Object.create(null)}});return Fa(u.root,{isCaseAware:!1})}var yh="$",mo="<",Ch=`
`,Sh="\r",xh="#",eb="@",Zl=";",Aa="\\";var h4="[",g4="]",m4="/",Ize=bh([yh,mo,Ch,xh,eb,Zl,Aa,Sh,h4,g4,m4,..."0123456789",..."`~!@#$%^&*()_-+=[]{};:'\"<>,./?\\|"].join("")),y4=[[`
`,"\\n"],["\r","\\r"],["\\","\\\\"]],Nze=S4(y4),QSe=S4(y4.map(t=>[t[1],t[0]])),Lze=bh("~!");var ZSe="__DATA__";function C4(t){t=typeof t=="string"?t.split(/^/m):t;let e=10,n=/^\s*#/,r=nxe(Te(t,fn(a=>a.split(/^/m))));function i(a){let c=a.slice(0,2).join(`
`),u=/^TrieXv[34]\nbase=(\d+)$/;if(!u.test(c))throw new Error("Unknown file format");e=Number.parseInt(c.replace(u,"$1"),10)}function s(a){let c=[];for(let u of a){let l=u.trim();if(!(!l||n.test(l))){if(l===ZSe)break;c.push(l)}}i(c)}return s(r),txe(e,r)}var exe=bh("0123456789");function txe(t,e){let n=Object.freeze({f:1}),r=[],i=Fa({},{});function s(y,C){let x=C===eb,T="";function E(L,A){if(A===Zl||t===10&&!(A in exe)){let{root:j,nodes:H,stack:F}=L,M=Number.parseInt(T,t),J=F[F.length-1],_=F[F.length-2].node,I=x?r[M]:M;_.c&&(_.c[J.s]=H[I]);let W={root:j,nodes:H,stack:F,parser:void 0};return A===Zl?W:h(W,A)}return T=T+A,L}let{nodes:k}=y;return k.pop(),{...y,nodes:k,parser:E}}function o(y,C){let x="";return{...y,parser:function(E,k){return x?(k=QSe[x+k]||k,c({...E,parser:void 0},k)):k===Aa?(x=k,E):c({...E,parser:void 0},k)}}}function a(y,C){let x=C,T=!1;function E(k,L){return T?(T=!1,k):L===Aa?(T=!0,k):L===x?{...k,parser:void 0}:k}return{...y,parser:E}}function c(y,C){let{root:T,nodes:E,stack:k}=y,A=k[k.length-1].node,j=A.c??Object.create(null),H={f:void 0,c:void 0,n:E.length};return j[C]=H,A.c=j,k.push({node:H,s:C}),E.push(H),{root:T,nodes:E,stack:k,parser:void 0}}function u(y,C){let x=p,{root:T,nodes:E,stack:k}=y,L=k[k.length-1],A=L.node;if(A.f=1,!A.c){L.node=n;let j=k[k.length-2].node;j.c&&(j.c[L.s]=n),E.pop()}return k.pop(),{root:T,nodes:E,stack:k,parser:x}}let l=bh(mo+"23456789");function p(y,C){if(!(C in l))return h({...y,parser:void 0},C);let x=C===mo?1:Number.parseInt(C,10)-1,{stack:T}=y;for(;x-- >0;)T.pop();return{...y,parser:p}}function f(y,C){return y}let d=x4([[yh,u],[mo,p],[xh,s],[eb,s],[Aa,o],[Ch,f],[Sh,f],[m4,a]]);function h(y,C){return(y.parser??d[C]??c)(y,C)}let g=bh(` \r
	`);function m(y,C){let x="";function T(k,L){return L===h4?(x=x+L,{...k,parser:E}):L in g?k:h({...k,parser:void 0},L)}function E(k,L){return x=x+L,L===g4?(r=x.replaceAll(/[\s[\]]/g,"").split(",").map(A=>Number.parseInt(A,t)),{...k,parser:void 0}):k}return T({...y,parser:T},C)}return t_(Te(e,fn(y=>[...y])),h,{nodes:[i],root:i,stack:[{node:i,s:""}],parser:m}),i}function bh(t){let e=Object.create(null),n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function S4(t){return x4(t)}function x4(t){let e=Object.create(null),n=t.length;for(let r=0;r<n;++r)e[t[r][0]]=t[r][1];return e}function nxe(t){let e,n;function r(){return e&&e.done?{...e}:(n=n||t[Symbol.iterator](),e=n.next(),e)}function*i(){let s;for(;!(s=r()).done;)yield s.value}return{[Symbol.iterator]:i}}var ixe=new Map([[`
`,"\\n"],["\r","\\r"],["\\","\\\\"]]),sxe=new Map([...ixe].map(t=>[t[1],t[0]])),b4="__DATA__";function v4(t,e){let n=n8(),r=n.start("importTrieV3"),i=typeof e=="string"?e.split(`
`):Array.isArray(e)?e:[...e],s=16,o=/^\s*#/;function a(g){let m=g.slice(0,2).join(`
`),y=/^TrieXv3\nbase=(\d+)$/;if(!y.test(m))throw new Error("Unknown file format");s=Number.parseInt(m.replace(y,"$1"),10)}function c(g){for(let m=0;m<g.length;++m)if(g[m].includes(b4))return m;return-1}function u(g){let m=[];for(let y of g){let C=y.trim();if(!(!C||o.test(C))){if(C===b4)break;m.push(C)}}a(m)}let l=c(i);if(l<0)throw new Error("Unknown file format");u(i.slice(0,l));let f={cursor:t.getCursor(),parser:void 0},d=oxe(s),h=n.start("importTrieV3.parse");for(let g=l+1;g<i.length;++g){let m=i[g];for(let y of m)f=d(f,y)}return h(),r(),t.build()}function oxe(t){function e(l,p){let f="";function d(h,g){if(g===Zl){let{cursor:m}=h,y=Number.parseInt(f,t);return m.reference(y+1),h.parser=void 0,h}return f=f+g,h}return l.parser=d,l}function n(l,p){let f="",d=function(h,g){return f?(g=sxe.get(f+g)||g,h.parser=void 0,r(h,g)):g===Aa?(f=g,h):(h.parser=void 0,r(h,g))};return l.parser=d,l}function r(l,p){return l.cursor.insertChar(p),l.parser=void 0,l}function i(l,p){return l.parser=o,l.cursor.markEOW(),l.cursor.backStep(1),l}let s=axe(mo+"23456789");function o(l,p){if(!(p in s))return l.parser=void 0,u(l,p);let f=p===mo?1:Number.parseInt(p,10)-1;return l.cursor.backStep(f),l.parser=o,l}function a(l,p){return l}let c=new Map([[yh,i],[mo,o],[xh,e],[Aa,n],[Ch,a],[Sh,a]]);function u(l,p){return(l.parser??c.get(p)??r)(l,p)}return u}function axe(t){let e=Object.create(null),n=t.length;for(let r=0;r<n;++r)e[t[r]]=!0;return e}function w4(t){return v4(new Ra,t)}function N_(t){return cxe(typeof t=="string"?t:t.toString("utf8"))}function cxe(t){return dxe(t)}var uxe=[t=>new Xc(__(t)),t=>new Xc(__(t)),t=>new Xc(p4(t)),t=>w4(t),t=>new Xc(C4(t))],lxe=/^\s*TrieXv(\d+)/m;function dxe(t){let e=Array.isArray(t)?t:typeof t=="string"?t.split(`
`):[...t];function n(a){for(let c=0;c<a.length;++c){let u=a[c].match(lxe);if(u)return Number.parseInt(u[1],10)}throw new Error("Unknown file format")}function r(a){let c=[];for(let u of a){let l=u.trim();if(c.push(l),l===Zx||l===I_)break}return c}let i=r(e),s=n(i),o=uxe[s];if(!o)throw new Error(`Unsupported version: ${s}`);return o(e)}function L_(t){let e=N_(t);return new Yl(e)}var D4=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]];var O_,tb=class{_raw;_locale;constructor(e){this._raw=e,this._locale=gxe(e)}get locale(){return this._locale}localInfo(){return yxe(this._locale)}isValid(){return mxe(this._locale)}toJSON(){return this.locale}toString(){return this.locale}},fxe=/^[a-z]{2}$/i,pxe=/^([a-z]{2})[_-]?([a-z]{2,3})$/i,hxe=/^([a-z]{2})(?:-([A-Z]{2,3}))?$/;function gxe(t){if(t=t.trim(),fxe.test(t))return t.toLowerCase();let e=t.match(pxe);if(!e)return t;let n=e[1].toLowerCase(),r=e[2].toUpperCase();return`${n}-${r}`}function mxe(t){return hxe.test(t)}function yxe(t){return O_=O_||Cxe(),O_.get(t)}function Cxe(){let t=D4.map(([e,n,r])=>({locale:e,language:n,country:r}));return new Map(t.map(e=>[e.locale,e]))}function Sxe(t){return new tb(t)}function M_(t){return t=typeof t=="string"?t.split(","):t,t.map(Sxe)}var T4={accentCosts:1,baseCost:100,capsCosts:1,firstLetterPenalty:4,nonAlphabetCosts:110},xxe={...T4,ioConvertCost:30,keyboardCost:99,mapCost:25,replaceCosts:75,tryCharCost:100};function E4(t={}){return{...xxe,...y_(t)}}function k4(t={}){return{...T4,...y_(t)}}function Ms(t){return[...t].map(n=>n.length>1||!n.length?`(${n})`:n).join("")}function nb(t,e,n){let{cost:r,penalty:i}=t,s=ka(t.characters),o=[...Te(s,Ne(u=>Xl(u,e).sort()))],a=Ms([...Te(o,Zn(),Ne(u=>T_(u)),Zn(),$l())].sort());return[Hl({map:a,replace:r,insDel:r,swap:r,penalty:i}),bxe(t.characters,e,n),...rb(a,e,n)]}function bxe(t,e,n){let r=ka(t);return{map:[...Te(r,Ne(a=>Xl(a,e).sort()))].map(a=>Ms(a)).join("|"),replace:n.capsCosts}}function R4(t,e){return t.map(n=>U_(n,e))}function U_(t,e){let n=[...Te(ka(t.characters),$l(),Ne(s=>`(^${s})`))].sort().join("")+"(^)",r=e.firstLetterPenalty,i=t.cost-r;return{map:n,replace:i,penalty:r*2}}function F4(t,e){let{cost:n,penalty:r}=t,i=Ms([...Te(ka(t.characters),Ne(s=>d8(s)))]);if(i)return Hl({map:i,replace:n,insDel:n,penalty:r})}function rb(t,e,n){let r=[...Te(ib(t),Ne(l=>Xl(l,e)),Zn(),Ne(l=>[...T_(l)]),Ut(l=>l.length>1))],s=[...Te(r,Ne(l=>new Set([...l,...l.map(p=>l8(p))])),Ne(l=>[...l].sort()),Ut(l=>l.length>1),Ne(Ms),$l())].join("|"),o=n.accentCosts,a=s?[{map:s,replace:o}]:[],c=r.map(l=>l.sort()).map(Ms).join("|"),u=c?[{map:c,replace:0}]:[];return[...a,...u]}function*ib(t){let e="",n=0;for(let r of t){if(n&&r===")"){yield e,n=0;continue}if(n){e+=r;continue}if(r==="("){n=1,e="";continue}yield r}}function A4(t,e){let n=vxe(t.costs,e),r=[Axe,Pxe,wxe,Nxe,_xe,kxe,Fxe,Dxe,Ixe,Txe];function i(s,o){let a=/^(?:MAP|KEY|TRY|NO-TRY|ICONV|OCONV|REP)\s/,c=/^(?:MAP|KEY|TRY|ICONV|OCONV|REP)\s+\d+$/,u=s.split(`
`).map(p=>p.replace(/#.*/,"")).map(p=>p.trim()).filter(p=>a.test(p)).filter(p=>!c.test(p));return[...Te(u,Ne(p=>Te(r,Ne(f=>f(p,o)),Ne(Oxe),Zn())),Zn(),Ut(Lx))]}return i(t.aff,n)}function vxe(t={},e){let n=e?.length?e.map(s=>s.locale):void 0;return{...E4(t),locale:n}}var q_=/^(?:MAP)\s+(\S+)$/;function wxe(t,e){let n=t.match(q_);if(!n)return;let r=n[1],i=e.mapCost;return{map:r,replace:i,swap:i}}var W_=/^(?:TRY)\s+(\S+)$/;function Dxe(t,e){let n=t.match(W_);if(!n)return;let r=e.tryCharCost,s=n[1];return nb({characters:s,cost:r},e.locale,e)}function Txe(t,e){let n=t.match(W_);if(!n)return;let r=n[1],i=e.tryCharCost;return U_({characters:r,cost:i},e)}var Exe=/^NO-TRY\s+(\S+)$/;function kxe(t,e){let n=t.match(Exe);return n?{map:n[1],insDel:Math.max(e.nonAlphabetCosts-e.tryCharCost,0),penalty:e.nonAlphabetCosts+e.tryCharCost}:void 0}var Rxe=/^(?:REP|(?:I|O)CONV)\s+(\S+)\s+(\S+)$/;function Fxe(t,e){let n=t.match(Rxe);if(!n)return;let r=t.startsWith("REP")?e.replaceCosts:e.ioConvertCost,i=n[1],s=n[2];return s=s.replace(/^0$/,""),i.startsWith("^")&&!s.startsWith("^")&&(s="^"+s),i.endsWith("$")&&!s.endsWith("$")&&(s=s+"$"),{map:Ms([i,s]),replace:r}}var P4=/^(?:KEY)\s+(\S+)$/;function Axe(t,e){let n=t.match(P4);if(!n)return;let r=n[1],i=[...ib(r)].map(Lxe((c,u)=>({a:c.b,b:u}),{a:"|",b:"|"})).filter(c=>c.a!=="|"&&c.b!=="|").map(({a:c,b:u})=>Ms([c,u])),s=i.map(c=>c.toLocaleUpperCase(e.locale)),o=C_([...i,...s]).join("|"),a=e.keyboardCost;return{map:o,replace:a,swap:a}}function Pxe(t,e){let n=t.match(P4);if(n)return _4(n[1],e)}function _xe(t,e){let n=t.match(q_);if(n)return _4(n[1],e)}function Ixe(t,e){let n=t.match(W_);if(n)return rb(n[1],e.locale,e)}function Nxe(t,e){let n=t.match(q_);if(n)return rb(n[1],e.locale,e)}function _4(t,e){let n=e.locale,i=[...ib(t)].filter(a=>a!=="|").map(a=>Xl(a,n)).filter(a=>a.length>1).map(Ms),s=C_(i).join("|"),o=e.capsCosts;if(s)return{map:s,replace:o}}function Lxe(t,e){let n=e;return(r,i)=>n=t(n,r,i)}function Oxe(t){return Array.isArray(t)?t:[t]}function I4(t){let e=t.locale,n=e?M_(e).filter(a=>a.isValid()):void 0,r=n?.map(a=>a.locale),i=k4(t.costs),s=t.suggestionEditCosts||[],o=t.hunspellInformation?A4(t.hunspellInformation,n):[];return[...s,...Mxe(t.alphabet,r,i),...Uxe(t.accents,i),...o]}function Mxe(t,e,n){let r=N4(t,"a-zA-Z",n.baseCost);return[...Te(r,Ne(i=>nb(i,e,n)),Zn()),...R4(r,n)]}function N4(t,e,n,r){return t=t??e,t?(typeof t=="string"&&(t=[{characters:t,cost:n}]),r!==void 0&&t.forEach(i=>i.penalty=r),t):[]}function Uxe(t,e){return N4(t,"\u0300-\u0341",e.accentCosts).map(r=>F4(r,e)).filter(Lx)}function L4(t){return t.adjustments?t.adjustments.map(qxe):[]}function qxe(t){let{id:e,regexp:n,penalty:r}=t;return{id:e,regexp:new RegExp(n),penalty:r}}var Wxe=[{map:"1234567890-.",insDel:1,penalty:200}],jxe=[{id:"compound-case-change",regexp:/\p{Ll}\p{Lu}/gu,penalty:1e3},{id:"short-compounds-1",regexp:/^[^]{0,2}(?=)|[^]{0,2}(?=|$)/gm,penalty:100},{id:"short-compounds-3",regexp:/^[^]{3}(?=)|[^]{3}(?=|$)/gm,penalty:50}];function vh(t){let e=[...I4(t),...Wxe],n=L4(t),r=HV(...e);return VV(r,...jxe,...n),r}var O4=t=>t.normalize();var M4=t=>{let e=t.toLowerCase();return[e,e.normalize("NFD").replaceAll(/\p{M}/gu,"")]};var Bxe=/[\s,;]/g,wr={commentCharacter:c8,optionalCompoundCharacter:D_,compoundCharacter:Gl,forbiddenPrefix:Vl,caseInsensitivePrefix:Ea,keepExactPrefix:u8,stripCaseAndAccents:!0,stripCaseAndAccentsKeepDuplicate:!1,stripCaseAndAccentsOnForbidden:!1,split:!1,splitKeepBoth:!1,splitSeparator:Bxe,keepOptionalCompoundCharacter:!1},AHe=Object.freeze(wr),$xe="cspell-dictionary:";function U4(t){let e=t||wr,{commentCharacter:n=wr.commentCharacter,optionalCompoundCharacter:r=wr.optionalCompoundCharacter,compoundCharacter:i=wr.compoundCharacter,caseInsensitivePrefix:s=wr.caseInsensitivePrefix,forbiddenPrefix:o=wr.forbiddenPrefix,keepExactPrefix:a=wr.keepExactPrefix,splitSeparator:c=wr.splitSeparator,splitKeepBoth:u=wr.splitKeepBoth,stripCaseAndAccentsKeepDuplicate:l=wr.stripCaseAndAccentsKeepDuplicate,stripCaseAndAccentsOnForbidden:p=wr.stripCaseAndAccentsOnForbidden,keepOptionalCompoundCharacter:f=wr.keepOptionalCompoundCharacter}=e,{stripCaseAndAccents:d=wr.stripCaseAndAccents,split:h=wr.split}=e;function g(_){return typeof _=="string"}function m(_){return _.trim()}function y(_){let I=_.indexOf(n);if(I<0)return _;let W=_.indexOf($xe,I);if(W>=0){let ue=_.slice(W).split(/[\s,;]/g).map(ce=>ce.trim()).filter(ce=>!!ce);for(let ce of ue)switch(ce){case"split":{h=!0;break}case"no-split":{h=!1;break}case"no-generate-alternatives":{d=!1;break}case"generate-alternatives":{d=!0;break}}}return _.slice(0,I).trim()}function C(_){return!!_}function*x(_){if(_[0]===r){let I=_.slice(1);yield I,yield i+I}else yield _}function*T(_){if(_.slice(-1)===r){let I=_.slice(0,-1);yield I,yield I+i}else yield _}let E=Object.create(null);[s,a,'"'].forEach(_=>E[_]=!0),p||(E[o]=!0);function k(_){return _.startsWith(s+s)?_.slice(1):_}function L(_){return _=_.replaceAll(/"(.*?)"/g,"$1"),_[0]===a?_.slice(1):_}function A(_){return O4(L(_))}function*j(_){let I=A(_),W=new Set;if(W.add(I),d&&!(_[0]in E))for(let ue of M4(I))(l||ue!==I)&&W.add(s+ue);yield*W}function*H(_){for(let I of _){if(h){let W=I.includes('"')?I.replaceAll(/".*?"/g,ce=>" "+ce.replaceAll(/(\s)/g,"\\$1")+" "):I;if(yield*Vxe(W,c).map(ce=>ce.replaceAll("\\","")),!u)continue}yield I}}function*F(_){for(let I of _)yield*I.split(`
`)}let M=f?[]:[fn(x),fn(T)];return Bl(Ut(g),F,Ne(y),H,Ne(m),Ut(C),...M,fn(j),Ne(k))}function Yc(t,e){return U4(e)(typeof t=="string"?[t]:t)}var Kxe=/\\([\s,;])/g,zxe=/<<(%[\da-f]{2})>>/gi;function Hxe(t){return t.replaceAll(Kxe,(e,n)=>"<<"+encodeURIComponent(n)+">>")}function Gxe(t){return t.replaceAll(zxe,(e,n)=>"\\"+decodeURIComponent(n))}function Vxe(t,e){return Hxe(t).split(e).map(n=>Gxe(n))}var Jxe=/^(?:\p{Lu}\p{M}?)+$/u;var q4=/\p{M}/gu;function W4(t){return!!Jxe.test(t)}function j4(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function B4(t){return t.normalize("NFD").replaceAll(q4,"")}function j_(t){return t.replaceAll(q4,"")}var sb=10;function z4(t,e,n){let r=new Set;t=t.normalize("NFC");let i=t.toLowerCase();return n?e?r.add(i):(r.add(i),r.add(j_(i))):e?(r.add(t),r.add(i),W4(t)&&r.add(j4(i))):(r.add(i),r.add(j_(i))),r}function H4(t){return[...Xxe(t)]}function Xxe(t){t=t.normalize("NFC");let e=new Set([t]),n=t.toLowerCase();return e.add(n),e}var Yxe=Object.freeze({});function wh(t){return B_(t||Yxe)}var $4=new Map,K4=new WeakMap;function B_(t){let e=K4.get(t);if(e)return e;let{ignoreCase:n,useCompounds:r}=t,i=$4.get(n),s=i||new Map;i||$4.set(n,s);let o=s.get(r),a=o||Object.freeze({ignoreCase:n,useCompounds:r});return o||s.set(r,a),K4.set(t,a),a}function ob(t){return t?vh(t):void 0}var Qxe=0,ab=1e3,Zxe=!1,ebe=[],tbe=performance.now(),$_=class{dict;options;name;id=++Qxe;constructor(e,n){this.dict=e,this.options=n,this.name=e.name}#e=sh(e=>this.dict.has(e,this.options),ab);has=Zxe?e=>{let n=performance.now()-tbe,r=this.#e(e);return ebe.push({time:n,method:"has",word:e,value:r}),r}:this.#e;isNoSuggestWord=sh(e=>this.dict.isNoSuggestWord(e,this.options),ab);isForbidden=sh(e=>this.dict.isForbidden(e),ab);getPreferredSuggestions=sh(e=>this.dict.getPreferredSuggestions?.(e),ab);stats(){return{name:this.name,id:this.id,has:oh(this.#e),isNoSuggestWord:oh(this.isNoSuggestWord),isForbidden:oh(this.isForbidden),getPreferredSuggestions:oh(this.getPreferredSuggestions)}}},G4=new Map;function cb(t,e){e=B_(e);let n=G4.get(e);n||(n=new WeakMap,G4.set(e,n));let r=n.get(t);if(r)return r;let i=new $_(t,e);return n.set(t,i),i}function nbe(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}var K_=class{map=new WeakMap;get(e,n){return n?nbe(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}};function Us(){return new K_}function Qc(t){return t!==void 0}var d6=require("node:url");var rbe=Object.getOwnPropertyNames,ibe=Object.getOwnPropertySymbols,sbe=Object.prototype.hasOwnProperty;function V4(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function ub(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var c=t(n,r,i);return s.delete(n),s.delete(r),c}}function J4(t){return rbe(t).concat(ibe(t))}var n6=Object.hasOwn||function(t,e){return sbe.call(t,e)};function ed(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var r6="_owner",X4=Object.getOwnPropertyDescriptor,Y4=Object.keys;function obe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function abe(t,e){return ed(t.getTime(),e.getTime())}function Q4(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),s=0,o,a;(o=i.next())&&!o.done;){for(var c=e.entries(),u=!1,l=0;(a=c.next())&&!a.done;){var p=o.value,f=p[0],d=p[1],h=a.value,g=h[0],m=h[1];!u&&!r[l]&&(u=n.equals(f,g,s,l,t,e,n)&&n.equals(d,m,f,g,t,e,n))&&(r[l]=!0),l++}if(!u)return!1;s++}return!0}function cbe(t,e,n){var r=Y4(t),i=r.length;if(Y4(e).length!==i)return!1;for(var s;i-- >0;)if(s=r[i],s===r6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!n6(e,s)||!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function Dh(t,e,n){var r=J4(t),i=r.length;if(J4(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],s===r6&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!n6(e,s)||!n.equals(t[s],e[s],s,s,t,e,n)||(o=X4(t,s),a=X4(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function ube(t,e){return ed(t.valueOf(),e.valueOf())}function lbe(t,e){return t.source===e.source&&t.flags===e.flags}function Z4(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),s,o;(s=i.next())&&!s.done;){for(var a=e.values(),c=!1,u=0;(o=a.next())&&!o.done;)!c&&!r[u]&&(c=n.equals(s.value,o.value,s.value,o.value,t,e,n))&&(r[u]=!0),u++;if(!c)return!1}return!0}function dbe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var fbe="[object Arguments]",pbe="[object Boolean]",hbe="[object Date]",gbe="[object Map]",mbe="[object Number]",ybe="[object Object]",Cbe="[object RegExp]",Sbe="[object Set]",xbe="[object String]",bbe=Array.isArray,e6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,t6=Object.assign,vbe=Object.prototype.toString.call.bind(Object.prototype.toString);function wbe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,a=t.areSetsEqual,c=t.areTypedArraysEqual;return function(l,p,f){if(l===p)return!0;if(l==null||p==null||typeof l!="object"||typeof p!="object")return l!==l&&p!==p;var d=l.constructor;if(d!==p.constructor)return!1;if(d===Object)return i(l,p,f);if(bbe(l))return e(l,p,f);if(e6!=null&&e6(l))return c(l,p,f);if(d===Date)return n(l,p,f);if(d===RegExp)return o(l,p,f);if(d===Map)return r(l,p,f);if(d===Set)return a(l,p,f);var h=vbe(l);return h===hbe?n(l,p,f):h===Cbe?o(l,p,f):h===gbe?r(l,p,f):h===Sbe?a(l,p,f):h===ybe?typeof l.then!="function"&&typeof p.then!="function"&&i(l,p,f):h===fbe?i(l,p,f):h===pbe||h===mbe||h===xbe?s(l,p,f):!1}}function Dbe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Dh:obe,areDatesEqual:abe,areMapsEqual:r?V4(Q4,Dh):Q4,areObjectsEqual:r?Dh:cbe,arePrimitiveWrappersEqual:ube,areRegExpsEqual:lbe,areSetsEqual:r?V4(Z4,Dh):Z4,areTypedArraysEqual:r?Dh:dbe};if(n&&(i=t6({},i,n(i))),e){var s=ub(i.areArraysEqual),o=ub(i.areMapsEqual),a=ub(i.areObjectsEqual),c=ub(i.areSetsEqual);i=t6({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return i}function Tbe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function Ebe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(c,u){var l=r(),p=l.cache,f=p===void 0?e?new WeakMap:void 0:p,d=l.meta;return n(c,u,{cache:f,equals:i,meta:d,strict:s})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var i6=Pa(),n3e=Pa({strict:!0}),r3e=Pa({circular:!0}),i3e=Pa({circular:!0,strict:!0}),s3e=Pa({createInternalComparator:function(){return ed}}),o3e=Pa({strict:!0,createInternalComparator:function(){return ed}}),a3e=Pa({circular:!0,createInternalComparator:function(){return ed}}),c3e=Pa({circular:!0,createInternalComparator:function(){return ed},strict:!0});function Pa(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=Dbe(t),c=wbe(a),u=r?r(c):Tbe(c);return Ebe({circular:n,comparator:c,createState:i,equals:u,strict:o})}var z_=class{size;L0=new WeakMap;L1=new WeakMap;L2=new WeakMap;sizeL0=0;constructor(e){this.size=e}has(e){for(let n of this.caches())if(n.has(e))return!0;return!1}get(e){for(let n of this.caches()){let r=n.get(e);if(r)return n!==this.L0&&this._set(e,r),r.v}}set(e,n){this._set(e,{v:n})}_set(e,n){if(this.L0.has(e))return this.L0.set(e,n),this;this.sizeL0>=this.size&&this.rotate(),this.sizeL0+=1,this.L0.set(e,n)}caches(){return[this.L0,this.L1,this.L2]}rotate(){this.L2=this.L1,this.L1=this.L0,this.L0=new WeakMap,this.sizeL0=0}},lb=class extends z_{factory;constructor(e,n){super(n),this.factory=e}get(e){let n=super.get(e);if(n!==void 0)return n;let r=this.factory(e);return this.set(e,r),r}},db=class{size;L0=new Map;L1=new Map;L2=new Map;constructor(e){this.size=e}has(e){for(let n of this.caches())if(n.has(e))return!0;return!1}get(e){for(let n of this.caches()){let r=n.get(e);if(r)return n!==this.L0&&this._set(e,r),r.v}}set(e,n){this._set(e,{v:n})}_set(e,n){if(this.L0.has(e))return this.L0.set(e,n),this;this.L0.size>=this.size&&this.rotate(),this.L0.set(e,n)}caches(){return[this.L0,this.L1,this.L2]}rotate(){this.L2=this.L1,this.L1=this.L0,this.L0=new Map}};var fb=Object.freeze({weightMap:void 0});function s6(t){let e=t;for(let n of Object.keys(e))e[n]===void 0&&delete e[n];return e}function o6(t){return t.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&").replaceAll("-","\\x2d")}function a6(t,e){if(!t&&!e)return a=>a;t=t||[];let n=kbe(e);if(n&&(t=[...t,...n]),!t.filter(([a,c])=>!!a).length)return a=>a;let i=Abe(t),s=t.filter(([a,c])=>!!a).map(([a,c])=>c);function o(a,...c){let u=c.findIndex(l=>!!l);return 0<=u&&u<s.length?s[u]:a}return function(a){return a.replace(i,o)}}function kbe(t,e=""){if(t)return t.split("|").map(n=>`[${n.replaceAll(/[\][\\]/g,"\\$&")}]`).map(n=>[n,e])}function Rbe(t,e=""){if(t)return t.split("|").flatMap(n=>[...ka(n)]).map(n=>[n,e])}function Fbe(t){return t.flatMap(([e,n])=>e.split("|").map(r=>[r,n]))}function Abe(t){let e=t.filter(([i,s])=>!!i);if(!e.length)return/$^/;let n=e.map(([i,s])=>i).map(i=>{try{let s=/\(/.test(i)?i.replaceAll(/\((?=.*\))/g,"(?:").replaceAll("(?:?","(?"):i;new RegExp(s),i=s}catch{return o6(i)}return i}).map(i=>`(${i})`).join("|");return new RegExp(n,"g")}function c6(t,e){if(!t&&!e)return r=>[r];let n=Ibe(t,e);return r=>{let i=_be(n,r);return Pbe(r,i)}}function Pbe(t,e){if(!e.length)return[t];let n=[];for(let i=0;i<t.length;++i)n[i]={edits:[{b:i,e:i+1,r:t[i]}],suffixes:[]};n[t.length]={edits:[],suffixes:[""]};for(let i of e)n[i.b].edits.push(i);for(let i=t.length-1;i>=0;--i){let s=n[i],o=s.suffixes;for(let a of s.edits){let c=a.r,u=n[a.e].suffixes;for(let l of u)o.push(c+l)}}return[...new Set(n[0].suffixes)]}function _be(t,e){let n=[];function r(i,s,o){if(i.rep&&i.rep.forEach(c=>n.push({b:s,e:o,r:c})),o===e.length||!i.children)return;let a=i.children[e[o]];a&&r(a,s,o+1)}for(let i=0;i<e.length;++i)r(t,i,i);return n}function Ibe(t,e){let n=[t,Rbe(e)].filter(Qc).flat(),r=Fbe(n),i=Object.create(null);return r.forEach(([s,o])=>Nbe(i,s,o)),i}function Nbe(t,e,n){for(;e;){let i=t.children||(t.children=Object.create(null)),s=e[0];t=i[s]||(i[s]=Object.create(null)),e=e.slice(1)}let r=new Set(t.rep||[]);r.add(n),t.rep=[...r]}var Lbe=Object.freeze({caseSensitive:!0}),Obe=Object.freeze({caseSensitive:!1}),Zc=class{trie;name;options;source;_size=0;knownWords=new Set;unknownWords=new Set;mapWord;remapWord;type="SpellingDictionaryFromTrie";isDictionaryCaseSensitive;containsNoSuggestWords;weightMap;constructor(e,n,r,i="from trie",s){this.trie=e,this.name=n,this.options=r,this.source=i,this.mapWord=a6(r.repMap,r.dictionaryInformation?.ignore),this.remapWord=c6(r.repMap,r.dictionaryInformation?.ignore),this.isDictionaryCaseSensitive=r.caseSensitive??e.isCaseAware,this.containsNoSuggestWords=r.noSuggest||!1,this._size=s||0,this.weightMap=r.weightMap||ob(r.dictionaryInformation)}get size(){if(!this._size){let e=this.trie.iterate(),n=!0,r=0;for(let i=e.next();!i.done;i=e.next(n))r+=1,n=i.value.text.length<5;this._size=r}return this._size}has(e,n){let{useCompounds:r,ignoreCase:i}=this.resolveOptions(n),s=this._find(e,r,i);return!!s&&!s.forbidden&&!!s.found}find(e,n){let{useCompounds:r,ignoreCase:i}=this.resolveOptions(n),s=this._find(e,r,i),{forbidden:o=this.isForbidden(e)}=s||{};if(!s&&!o)return;let{found:a=o?e:!1}=s||{},c=a!==!1&&this.containsNoSuggestWords;return{found:a,forbidden:o,noSuggest:c}}resolveOptions(e){let{useCompounds:n=this.options.useCompounds,ignoreCase:r=!0}=wh(e);return{useCompounds:n,ignoreCase:r}}_find=(e,n,r)=>this.findAnyForm(e,n,r);findAnyForm(e,n,r){let i=Mbe(e,this.remapWord||(s=>[this.mapWord(s)]));for(let s of i){let o=this._findAnyForm(s,n,r);if(o)return o}}_findAnyForm(e,n,r){let i=r?Obe:Lbe,s=this.trie.findWord(e,i);if(s.found!==!1)return s;let o=z4(e,this.isDictionaryCaseSensitive,r);for(let a of o){let c=this.trie.findWord(a,i);if(c.found!==!1)return c}if(n){let a={...i,useLegacyWordCompounds:n};for(let c of o){let u=this.trie.findWord(c,a);if(u.found!==!1)return u}}}isNoSuggestWord(e,n){return this.containsNoSuggestWords?this.has(e,n):!1}isForbidden(e,n){return this.trie.isForbiddenWord(e)}suggest(e,n={}){return this._suggest(e,n)}_suggest(e,n){let{numSuggestions:r=sb,numChanges:i,includeTies:s,ignoreCase:o,timeout:a}=n;function c(l){return!0}let u=go(e,s6({numSuggestions:r,filter:c,changeLimit:i,includeTies:s,ignoreCase:o,timeout:a,weightMap:this.weightMap}));return this.genSuggestions(u,n),u.suggestions.map(l=>({...l,word:l.word}))}genSuggestions(e,n){if(this.options.noSuggest)return;let r=n.compoundMethod??(this.options.useCompounds?Ht.JOIN_WORDS:Ht.NONE);H4(e.word).forEach(i=>this.trie.genSuggestions(uh(e,i),r))}getErrors(){return[]}};function hb(t,e,n,r){let i=L_(t);return new Zc(i,e,r,n)}function*Mbe(t,e){let n=new Set,r=t,i=r;yield r,n.add(r),r=t.normalize("NFC"),r!==i&&(yield r,n.add(r)),r=t.normalize("NFD"),r!==i&&!n.has(r)&&(yield r,n.add(r));for(let s of n)for(let o of e(s))o!==i&&!n.has(o)&&(yield o,n.add(o))}var u6=new lb(f6,64),Ube=3,l6=new db(64);function zn(t,e,n,r){let i=[t,e,n.toString(),r];if(!Array.isArray(t))return f6(i);let s=l6.get(e)||new Set;for(let o of s)if(i6(i,o))return u6.get(o);return s.size>Ube&&s.clear(),s.add(i),l6.set(e,s),u6.get(i)}function f6(t){let[e,n,r,i]=t,s={stripCaseAndAccents:i?.supportNonStrictSearches??!0},o=Yc(e,s),a=hh(o),c={...i||fb};return c.weightMap===void 0&&c.dictionaryInformation&&(c.weightMap=ob(c.dictionaryInformation)),new Zc(a,n,c,r)}function gb(t,e,n,r){let i=typeof e=="string"?e:e.href,s=i.startsWith("file:")?(0,d6.fileURLToPath)(e):i;return r=r||{},{name:t,source:s,type:"error",containsNoSuggestWords:!1,has:()=>!1,find:()=>{},isNoSuggestWord:()=>!1,isForbidden:()=>!1,suggest:()=>[],mapWord:o=>o,genSuggestions:()=>{},size:0,options:r,isDictionaryCaseSensitive:!1,getErrors:()=>[n]}}function*mb(t){for(let e of t){let n=e.toLowerCase();yield n;let r=B4(n);n!==r&&(yield r)}}var Sb=oe(require("node:assert"),1);function p6(t){if(!t)return!1;if(typeof t=="string")return t;let e=[...new Set(t)];return e.length>1?e:e.length===1?e[0]:!1}function h6(t,e,n){let r=t[e];if(!r)return t[e]=p6(n),t;if(!n)return t;let i=Array.isArray(r)?r:[r];return Array.isArray(n)?i.push(...n):i.push(n),t[e]=p6(i),t}function qbe(t,e){for(let n of Object.keys(e))h6(t,n,e[n]);return t}function g6(t,e){if(!e)return t;if(typeof e=="string")return t[e]||(t[e]=!1),t;if(Array.isArray(e)){let[n,...r]=e.map(s=>s.trim());if(!n)return t;let i=r.map(s=>s.trim()).filter(s=>!!s);return h6(t,n,i)}return qbe(t,e)}function yb(t){let e=Object.create(null);if(!t)return e;for(let[n,r]of t)e[n]=Wbe(r)?r:!1;return e}function Cb(t){let e=Te(Object.values(t),Ut($be),fn(n=>Array.isArray(n)?n:[n]));return new Set(e)}function m6(t,e){let n=e.length;return new Set(Object.keys(t).filter(r=>r.startsWith(e)).map(r=>r.slice(n)))}function Wbe(t){return t!=null}function jbe(t){return typeof t=="string"}function Bbe(t){return Array.isArray(t)}function $be(t){return jbe(t)||Bbe(t)}function y6(t){return(0,Sb.default)(typeof t=="string","A string was expected."),!0}var Kbe=/[,]/,zbe=/:|->/,Hbe=/[\n;]/;function H_(t){return t.normalize()}function C6(t){return t.map(e=>e.trim()).filter(e=>!!e).map(H_)}function S6(t){let e=C6(t);return e.length===1?e[0]:e.length?e:!1}function x6(t){return S6(t.split(Kbe))}function b6(t){if(!t||typeof t!="object")return;let e=yb();for(let[n,r]of Object.entries(t)){let i=H_(n.trim());if(i){if(typeof r=="string"){e[i]=x6(r);continue}if(Array.isArray(r)){let s=S6(r.filter(y6));e[i]=s;continue}(0,Sb.default)(r===!1,"Unexpected suggestion type."),e[i]=!1}}return e}function Th(t){let e=Xbe(t)?Gbe(t):t,n=b6(e);return(0,Sb.default)(n),n}function Gbe(t){let e=yb();for(let n of t)g6(e,v6(n));return e}function v6(t){if(t){if(typeof t=="string"){let e=yb();for(let n of Vbe(t)){let[r,i]=Jbe(n),s=r.trim();if(!i)return s;let o=x6(i);e[s]=o}return e}if(Array.isArray(t)){let[e,...n]=t.filter(y6).map(r=>r.trim());return e?[e,...n]:void 0}return b6(t)}}function Vbe(t){return C6(H_(t).split(Hbe))}function Jbe(t){return t.split(zbe,2)}function Xbe(t){return Symbol.iterator in t}var G_=class{name;source;typosDef;containsNoSuggestWords;options={};type="typos";size;ignoreWords;suggestions;suggestionsLower;explicitIgnoreWords;constructor(e,n,r,i){this.name=e,this.source=n,this.typosDef=r,this.size=Object.keys(r).length,this.explicitIgnoreWords=m6(r,"!"),this.suggestions=Cb(r),this.ignoreWords=new Set(Te(this.explicitIgnoreWords,fo(i||[]))),this.suggestionsLower=new Set(Te(this.suggestions,mb)),this.containsNoSuggestWords=this.ignoreWords.size>0}has(e,n){return!1}find(e,n){let r=this._findForms(e,n?.ignoreCase??!0);if(r===!1)return;let{found:i,ignore:s}=r;return{found:i,forbidden:!s,noSuggest:s}}_findForms(e,n){let r=e.toLowerCase();if(this.ignoreWords.has(e))return{found:e,ignore:!0};if(this.suggestions.has(e))return!1;if(n){if(this.suggestionsLower.has(r))return!1;if(this.ignoreWords.has(r))return{found:r,ignore:!0}}return e in this.typosDef?{found:e,ignore:!1}:r in this.typosDef?{found:r,ignore:!1}:!1}isForbidden(e,n=!1){let r=this._findForms(e,n);return r!==!1&&!r.ignore}isNoSuggestWord(e,n){return this.find(e,n)?.noSuggest??!1}isSuggestedWord(e,n=!1){if(this.suggestions.has(e))return!0;let r=e.toLowerCase();return n&&(this.suggestions.has(r)||this.suggestionsLower.has(r))}suggest(e){return this.getPreferredSuggestions(e)}_suggest(e){if(this.ignoreWords.has(e))return[];if(!(e in this.typosDef))return;let n=this.typosDef[e],r=!0;return n?typeof n=="string"?[{word:n,cost:1,isPreferred:r}]:n.map((i,s)=>({word:i,cost:s+1,isPreferred:r})):[]}genSuggestions(e){this.suggest(e.word).forEach(r=>e.add(r))}getPreferredSuggestions(e){return this._suggest(e)||this._suggest(e.toLowerCase())||[]}mapWord(e){return e}isDictionaryCaseSensitive=!0;getErrors(){return[]}},Ybe=Us();function w6(t,e,n){return Ybe.get(t,()=>{let r=Th(t);return new G_(e,n,r)})}var V_=class extends Zc{name;source;containsNoSuggestWords=!1;options={};constructor(e,n,r){super(e,n,fb,r),this.name=n,this.source=r}has(e,n){return!1}find(e,n){let r=super.find(e,n);if(!(!r||!r.forbidden))return r}suggest(){return[]}genSuggestions(){}isDictionaryCaseSensitive=!0},J_=class{name;source;dictTypos;dictTrie;containsNoSuggestWords=!1;options={};type="flag-words";constructor(e,n,r,i){this.name=e,this.source=n,this.dictTypos=r,this.dictTrie=i}has(e,n){return this.dictTypos.has(e,n)||this.dictTrie?.has(e,n)||!1}find(e,n){let r=this.dictTypos.find(e,n);if(r)return r;let i=n?.ignoreCase??!0;if(!this.dictTypos.isSuggestedWord(e,i))return this.dictTrie?.find(e,n)}isForbidden(e,n=!1){return this.find(e,{ignoreCase:n})?.forbidden||!1}isNoSuggestWord(e,n){return this.dictTrie?.isNoSuggestWord(e,n)||this.dictTypos.isNoSuggestWord(e,n)}suggest(e,n={}){return this.dictTypos.suggest(e,n)}getPreferredSuggestions(e){return this.dictTypos.getPreferredSuggestions(e)}genSuggestions(){}mapWord(e){return e}get size(){return this.dictTypos.size+(this.dictTrie?.size||0)}isDictionaryCaseSensitive=!0;getErrors(){return[]}},Qbe=Us();function _a(t,e,n){return Qbe.get(t,()=>{let r=/[~*+]/,{t:i,f:s}=tve(Yc(t,{stripCaseAndAccents:!1}),c=>r.test(c)),o=i.size?eve(i,e,n):void 0,a=w6(s,e,n);return o?new J_(e,n,a,o):a})}var Zbe=/^(!!)+/;function eve(t,e,n){let r=hh(Te(t,Ne(i=>"!"+i),Ne(i=>i.replace(Zbe,""))));return new V_(r,e,n)}function tve(t,e){let n=new Set,r=new Set;for(let i of t)e(i)?n.add(i):r.add(i);return{t:n,f:r}}var X_="NFC",Y_=class{name;source;dict;dictNonStrict;containsNoSuggestWords=!0;options={};type="ignore";constructor(e,n,r){this.name=e,this.source=n,this.dict=new Set(r),this.dictNonStrict=new Set(Te(this.dict,Ut(i=>i.startsWith("~")),Ne(i=>i.slice(1))))}has(e,n){let r=e.normalize(X_);if(this.dict.has(r))return!0;let i=r.toLowerCase();return this.dict.has(i)?!0:(n?.ignoreCase??!0)&&(this.dictNonStrict.has(r)||this.dictNonStrict.has(i))}find(e,n){let r=e.normalize(X_);if(this.dict.has(r))return{found:r,forbidden:!1,noSuggest:!0};let i=r.toLowerCase();if(this.dict.has(i))return{found:i,forbidden:!1,noSuggest:!0};if(n?.ignoreCase??!0)return this.dictNonStrict.has(r)?{found:r,forbidden:!1,noSuggest:!0}:this.dictNonStrict.has(i)&&{found:i,forbidden:!1,noSuggest:!0}||void 0}isForbidden(e,n){return!1}isNoSuggestWord(e,n){return this.has(e,n)}suggest(){return[]}genSuggestions(){}mapWord(e){return e}get size(){return this.dict.size}isDictionaryCaseSensitive=!0;getErrors(){return[]}},nve=Us();function td(t,e,n){return nve.get(t,()=>{let r=/[*+]/,i=[...Yc(t,{stripCaseAndAccents:!0})].map(o=>o.normalize(X_));return i.some(o=>r.test(o))?zn(i,e,n,{caseSensitive:!0,noSuggest:!0,weightMap:void 0,supportNonStrictSearches:!0}):new Y_(e,n,i)})}function rve(t){return t}var Q_=class{dictionaries;name;options={weightMap:void 0};mapWord=rve;type="SpellingDictionaryCollection";source;isDictionaryCaseSensitive;containsNoSuggestWords;constructor(e,n,r){this.dictionaries=e,this.name=n,this.dictionaries=this.dictionaries.sort((i,s)=>s.size-i.size),this.source=r||e.map(i=>i.name).join(", "),this.isDictionaryCaseSensitive=this.dictionaries.reduce((i,s)=>i||s.isDictionaryCaseSensitive,!1),this.containsNoSuggestWords=this.dictionaries.reduce((i,s)=>i||s.containsNoSuggestWords,!1)}has(e,n){let r=wh(n);return!!ive(this.dictionaries,e,r)&&!this.isForbidden(e)}find(e,n){let r=wh(n);return sve(this.dictionaries,e,r)}isNoSuggestWord(e,n){return this._isNoSuggestWord(e,n)}isForbidden(e,n){let r=n??!1;return!!this._isForbiddenInDict(e,r)&&!this.isNoSuggestWord(e,{ignoreCase:r})}suggest(e,n={}){return this._suggest(e,n)}_suggest(e,n){let{numSuggestions:r=sb,numChanges:i,ignoreCase:s,includeTies:o,timeout:a}=n,c=Ea,p=go(e,{numSuggestions:r,filter:(f,d)=>(s||f[0]!==c)&&!this.isForbidden(f)&&!this.isNoSuggestWord(f,n),changeLimit:i,includeTies:o,ignoreCase:s,timeout:a});return this.genSuggestions(p,n),p.suggestions}get size(){return this.dictionaries.reduce((e,n)=>e+n.size,0)}getPreferredSuggestions(e){let n=this.dictionaries.flatMap(i=>i.getPreferredSuggestions?.(e)).filter(Qc);if(n.length<=1)return n;let r=new Set;return n.filter(i=>r.has(i.word)?!1:(r.add(i.word),!0))}genSuggestions(e,n){let r={...n},{compoundMethod:i=Ht.SEPARATE_WORDS}=n;r.compoundMethod=this.options.useCompounds?Ht.JOIN_WORDS:i,this.dictionaries.forEach(s=>s.genSuggestions(e,r))}getErrors(){return this.dictionaries.reduce((e,n)=>[...e,...n.getErrors?.()||[]],[])}_isForbiddenInDict(e,n){return ave(this.dictionaries,e,n)}_isNoSuggestWord=(e,n)=>this.containsNoSuggestWords?!!ove(this.dictionaries,e,n||{}):!1};function os(t,e,n){return new Q_(t,e,n)}function ive(t,e,n){return t.find(r=>r.has(e,n))}function sve(t,e,n){let r=t.map(i=>i.find(e,n)).filter(Qc);if(r.length)return r.reduce((i,s)=>({found:i.forbidden?i.found:s.forbidden?s.found:i.found||s.found,forbidden:i.forbidden||s.forbidden,noSuggest:i.noSuggest||s.noSuggest}))}function ove(t,e,n){return t.find(r=>r.isNoSuggestWord(e,n))}function ave(t,e,n){return t.find(r=>r.isForbidden(e,n))}var Z_=class{name;source;typosDef;containsNoSuggestWords=!1;options={};type="suggest";size;suggestions;suggestionsLower;constructor(e,n,r){this.name=e,this.source=n,this.typosDef=r,this.size=Object.keys(r).length,this.suggestions=Cb(r),this.suggestionsLower=new Set(Te(this.suggestions,mb))}has(e,n){return!1}find(e,n){}isForbidden(e,n){return!1}isNoSuggestWord(e,n){return!1}isSuggestedWord(e,n=!1){if(this.suggestions.has(e))return!0;let r=e.toLowerCase();return n&&(this.suggestions.has(r)||this.suggestionsLower.has(r))}suggest(e){return this.getPreferredSuggestions(e)}_suggest(e){if(!(e in this.typosDef))return;let n=this.typosDef[e],r=!0;return n?typeof n=="string"?[{word:n,cost:1,isPreferred:r}]:n.map((i,s)=>({word:i,cost:s+1,isPreferred:r})):[]}getPreferredSuggestions(e){return this._suggest(e)||this._suggest(e.toLowerCase())||[]}genSuggestions(e){this.suggest(e.word).forEach(r=>e.add(r))}mapWord(e){return e}isDictionaryCaseSensitive=!0;getErrors(){return[]}},cve=Us();function nd(t,e,n){return cve.get(t,()=>{let r=Th(t);return new Z_(e,n,r)})}var uve=Us();function Eh(t,e){return uve.get(t,()=>{let{words:n,flagWords:r,ignoreWords:i,suggestWords:s,name:o}=t,a=[n&&zn(n,o+"-words",e,t),r&&_a(r,o+"-flag-words",e),i&&td(i,o+"-ignore-words",e),s&&nd(s,o+"-suggest",e)].filter(Qc);return os(a,o,e)})}var Zb=oe(require("node:path"),1);var bb=lve;function lve(t){let e=new Set,n=t||(r=>r);return r=>{let i=n(r),s=!e.has(i);return e.add(i),s}}function qt(t){let e=t;for(let n of Object.keys(e))(e[n]===void 0||e[n]===null)&&delete e[n];return e}function eI(t,e){let n=e,r=!0;return function(i){return r&&n===void 0?(r=!1,n=i,n):(n=t(n,i),n)}}function Ui(t){return t!==void 0}async function D6(t){let e=[];for await(let n of t)e.push(n);return e}function T6(t,e){if(t===e)return!0;let n=t.length===e.length;for(let r=0;r<t.length&&n;++r)n=t[r]===e[r];return n}function E6(t,e){function n(r,i){for(let s of r)if(i.has(s))return!0;return!1}return t.size<=e.size?n(t,e):n(e,t)}var tI=Symbol("CSpellSettingsInternal");function wb(t){return t?Object.assign(qt(t),{[tI]:!0}):{[tI]:!0}}function yo(t){return wb({...t})}function k6(t){return!!t[tI]}function kh(t){if(t.path)return!1;let e=t;return!!(e.words||e.flagWords||e.ignoreWords||e.suggestWords)}function nI(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}var Db=class{hits=0;misses=0;resolved=0;deletes=0;sets=0;clears=0;disposals=0;stats(){return{hits:this.hits,misses:this.misses,resolved:this.resolved,deletes:this.deletes,sets:this.sets,clears:this.clears,disposals:this.disposals}}clear(){this.hits=0,this.misses=0,this.resolved=0,this.deletes=0,this.sets=0,++this.clears}},Co=class{map=new Map;get(e,n){return n?nI(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function rd(){return new Co}function id(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}var ui=class{_map=new WeakMap;_stats=new Db;get(e,n){let r=this._map,i=r.get(e);if(i!==void 0||r.has(e))return++this._stats.hits,i;if(++this._stats.misses,!n)return;++this._stats.resolved;let s=n(e);return r.set(e,s),s}get map(){return this._map}has(e){return this._map.has(e)}set(e,n){return++this._stats.sets,this._map.set(e,n),this}clear(){this._stats.clear(),this._map=new WeakMap}delete(e){return++this._stats.deletes,this._map.delete(e)}dispose(){++this._stats.disposals,this.clear()}stats(){return this._stats.stats()}};function rI(){return new ui}var Rh=class{_map=new WeakMap;_stats=new Db;get(e,n){let r=this._map,i=r.get(e),s=i?.deref();if(i!==void 0&&s)return++this._stats.hits,s;if(++this._stats.misses,!n){i&&r.delete(e);return}++this._stats.resolved;let o=n(e);return r.set(e,new WeakRef(o)),o}get map(){return this._map}has(e){return!!this._map.get(e)?.deref()}set(e,n){return++this._stats.sets,this._map.set(e,new WeakRef(n)),this}clear(){this._stats.clear(),this._map=new WeakMap}delete(e){return++this._stats.deletes,this._map.delete(e)}dispose(){++this._stats.disposals,this.clear()}stats(){return this._stats.stats()}};function R6(){return new Rh}var o5=require("node:module"),QI=oe(require("node:os"),1),Er=oe(require("node:path"),1),a5=require("node:url"),Qb=require("node:url");var An=oe(require("node:process"),1),Pn=oe(require("node:path"),1),Eb=oe(require("node:os"),1),Fh=oe(require("node:fs"),1),O6=oe(N6(),1),Ph=An.default.platform==="win32",L6=t=>{try{return O6.default.parse(Fh.default.readFileSync(t,"utf8")).prefix}catch{}},fve=()=>Object.keys(An.default.env).reduce((t,e)=>/^npm_config_prefix$/i.test(e)?An.default.env[e]:t,void 0),pve=()=>{if(Ph&&An.default.env.APPDATA)return Pn.default.join(An.default.env.APPDATA,"/npm/etc/npmrc");if(An.default.execPath.includes("/Cellar/node")){let t=An.default.execPath.slice(0,An.default.execPath.indexOf("/Cellar/node"));return Pn.default.join(t,"/lib/node_modules/npm/npmrc")}if(An.default.execPath.endsWith("/bin/node")){let t=Pn.default.dirname(Pn.default.dirname(An.default.execPath));return Pn.default.join(t,"/etc/npmrc")}},hve=()=>{if(Ph){let{APPDATA:t}=An.default.env;return t?Pn.default.join(t,"npm"):Pn.default.dirname(An.default.execPath)}return Pn.default.dirname(Pn.default.dirname(An.default.execPath))},gve=()=>{let t=fve();if(t)return t;let e=L6(Pn.default.join(Eb.default.homedir(),".npmrc"));if(e)return e;if(An.default.env.PREFIX)return An.default.env.PREFIX;let n=L6(pve());return n||hve()},Ah=Pn.default.resolve(gve()),M6=()=>{if(Ph&&An.default.env.LOCALAPPDATA){let t=Pn.default.join(An.default.env.LOCALAPPDATA,"Yarn");if(Fh.default.existsSync(t))return t}return!1},mve=()=>{if(An.default.env.PREFIX)return An.default.env.PREFIX;let t=M6();if(t)return t;let e=Pn.default.join(Eb.default.homedir(),".config/yarn");if(Fh.default.existsSync(e))return e;let n=Pn.default.join(Eb.default.homedir(),".yarn-config");return Fh.default.existsSync(n)?n:Ah},qs={};qs.npm={};qs.npm.prefix=Ah;qs.npm.packages=Pn.default.join(Ah,Ph?"node_modules":"lib/node_modules");qs.npm.binaries=Ph?Ah:Pn.default.join(Ah,"bin");var U6=Pn.default.resolve(mve());qs.yarn={};qs.yarn.prefix=U6;qs.yarn.packages=Pn.default.join(U6,M6()?"Data/global/node_modules":"global/node_modules");qs.yarn.binaries=Pn.default.join(qs.yarn.packages,".bin");var aI=qs;var q6=oe(F6(),1);function cI(t){let e=[aI.npm.packages,aI.yarn.packages];return(0,q6.requireResolve)(t,e)}var d9=require("node:fs"),f9=require("node:path"),bI=require("node:url");var yI=oe(require("node:assert"),1),Nh=require("node:fs"),Na=oe(require("node:process"),1),ke=require("node:url"),CI=oe(require("node:path"),1),Pb=require("node:module");var V6=require("node:url");var K6=oe(require("node:fs"),1),z6=oe(require("node:path"),1),kb=require("node:url");var j6=oe(require("node:v8"),1),Ia=oe(require("node:assert"),1);var sd=require("node:util"),yve={}.hasOwnProperty,Cve=/^([A-Z][a-z\d]*)+$/,Sve=new Set(["string","function","number","object","Function","Object","boolean","bigint","symbol"]),Dn={};function uI(t,e="and"){return t.length<3?t.join(` ${e} `):`${t.slice(0,-1).join(", ")}, ${e} ${t[t.length-1]}`}var B6=new Map,xve="__node_internal_",W6;Dn.ERR_INVALID_ARG_TYPE=qi("ERR_INVALID_ARG_TYPE",(t,e,n)=>{(0,Ia.default)(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let r="The ";if(t.endsWith(" argument"))r+=`${t} `;else{let a=t.includes(".")?"property":"argument";r+=`"${t}" ${a} `}r+="must be ";let i=[],s=[],o=[];for(let a of e)(0,Ia.default)(typeof a=="string","All expected entries have to be of type string"),Sve.has(a)?i.push(a.toLowerCase()):Cve.exec(a)===null?((0,Ia.default)(a!=="object",'The value "object" should be written as "Object"'),o.push(a)):s.push(a);if(s.length>0){let a=i.indexOf("object");a!==-1&&(i.slice(a,1),s.push("Object"))}return i.length>0&&(r+=`${i.length>1?"one of type":"of type"} ${uI(i,"or")}`,(s.length>0||o.length>0)&&(r+=" or ")),s.length>0&&(r+=`an instance of ${uI(s,"or")}`,o.length>0&&(r+=" or ")),o.length>0&&(o.length>1?r+=`one of ${uI(o,"or")}`:(o[0].toLowerCase()!==o[0]&&(r+="an "),r+=`${o[0]}`)),r+=`. Received ${Tve(n)}`,r},TypeError);Dn.ERR_INVALID_MODULE_SPECIFIER=qi("ERR_INVALID_MODULE_SPECIFIER",(t,e,n=void 0)=>`Invalid module "${t}" ${e}${n?` imported from ${n}`:""}`,TypeError);Dn.ERR_INVALID_PACKAGE_CONFIG=qi("ERR_INVALID_PACKAGE_CONFIG",(t,e,n)=>`Invalid package config ${t}${e?` while importing ${e}`:""}${n?`. ${n}`:""}`,Error);Dn.ERR_INVALID_PACKAGE_TARGET=qi("ERR_INVALID_PACKAGE_TARGET",(t,e,n,r=!1,i=void 0)=>{let s=typeof n=="string"&&!r&&n.length>0&&!n.startsWith("./");return e==="."?((0,Ia.default)(r===!1),`Invalid "exports" main target ${JSON.stringify(n)} defined in the package config ${t}package.json${i?` imported from ${i}`:""}${s?'; targets must start with "./"':""}`):`Invalid "${r?"imports":"exports"}" target ${JSON.stringify(n)} defined for '${e}' in the package config ${t}package.json${i?` imported from ${i}`:""}${s?'; targets must start with "./"':""}`},Error);Dn.ERR_MODULE_NOT_FOUND=qi("ERR_MODULE_NOT_FOUND",(t,e,n=!1)=>`Cannot find ${n?"module":"package"} '${t}' imported from ${e}`,Error);Dn.ERR_NETWORK_IMPORT_DISALLOWED=qi("ERR_NETWORK_IMPORT_DISALLOWED","import of '%s' by %s is not supported: %s",Error);Dn.ERR_PACKAGE_IMPORT_NOT_DEFINED=qi("ERR_PACKAGE_IMPORT_NOT_DEFINED",(t,e,n)=>`Package import specifier "${t}" is not defined${e?` in package ${e}package.json`:""} imported from ${n}`,TypeError);Dn.ERR_PACKAGE_PATH_NOT_EXPORTED=qi("ERR_PACKAGE_PATH_NOT_EXPORTED",(t,e,n=void 0)=>e==="."?`No "exports" main defined in ${t}package.json${n?` imported from ${n}`:""}`:`Package subpath '${e}' is not defined by "exports" in ${t}package.json${n?` imported from ${n}`:""}`,Error);Dn.ERR_UNSUPPORTED_DIR_IMPORT=qi("ERR_UNSUPPORTED_DIR_IMPORT","Directory import '%s' is not supported resolving ES modules imported from %s",Error);Dn.ERR_UNSUPPORTED_RESOLVE_REQUEST=qi("ERR_UNSUPPORTED_RESOLVE_REQUEST",'Failed to resolve module specifier "%s" from "%s": Invalid relative URL or base scheme is not hierarchical.',TypeError);Dn.ERR_UNKNOWN_FILE_EXTENSION=qi("ERR_UNKNOWN_FILE_EXTENSION",(t,e)=>`Unknown file extension "${t}" for ${e}`,TypeError);Dn.ERR_INVALID_ARG_VALUE=qi("ERR_INVALID_ARG_VALUE",(t,e,n="is invalid")=>{let r=(0,sd.inspect)(e);return r.length>128&&(r=`${r.slice(0,128)}...`),`The ${t.includes(".")?"property":"argument"} '${t}' ${n}. Received ${r}`},TypeError);function qi(t,e,n){return B6.set(t,e),bve(n,t)}function bve(t,e){return n;function n(...r){let i=Error.stackTraceLimit;lI()&&(Error.stackTraceLimit=0);let s=new t;lI()&&(Error.stackTraceLimit=i);let o=Dve(e,r,s);return Object.defineProperties(s,{message:{value:o,enumerable:!1,writable:!0,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},enumerable:!1,writable:!0,configurable:!0}}),wve(s),s.code=e,s}}function lI(){try{if(j6.default.startupSnapshot.isBuildingSnapshot())return!1}catch{}let t=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return t===void 0?Object.isExtensible(Error):yve.call(t,"writable")&&t.writable!==void 0?t.writable:t.set!==void 0}function vve(t){let e=xve+t.name;return Object.defineProperty(t,"name",{value:e}),t}var wve=vve(function(t){let e=lI();return e&&(W6=Error.stackTraceLimit,Error.stackTraceLimit=Number.POSITIVE_INFINITY),Error.captureStackTrace(t),e&&(Error.stackTraceLimit=W6),t});function Dve(t,e,n){let r=B6.get(t);if((0,Ia.default)(r!==void 0,"expected `message` to be found"),typeof r=="function")return(0,Ia.default)(r.length<=e.length,`Code: ${t}; The provided arguments length (${e.length}) does not match the required ones (${r.length}).`),Reflect.apply(r,n,e);let i=/%[dfijoOs]/g,s=0;for(;i.exec(r)!==null;)s++;return(0,Ia.default)(s===e.length,`Code: ${t}; The provided arguments length (${e.length}) does not match the required ones (${s}).`),e.length===0?r:(e.unshift(r),Reflect.apply(sd.format,null,e))}function Tve(t){if(t==null)return String(t);if(typeof t=="function"&&t.name)return`function ${t.name}`;if(typeof t=="object")return t.constructor&&t.constructor.name?`an instance of ${t.constructor.name}`:`${(0,sd.inspect)(t,{depth:-1})}`;let e=(0,sd.inspect)(t,{colors:!1});return e.length>28&&(e=`${e.slice(0,25)}...`),`type ${typeof t} (${e})`}var _h={}.hasOwnProperty,{ERR_INVALID_PACKAGE_CONFIG:Eve}=Dn,$6=new Map;function dI(t,{base:e,specifier:n}){let r=$6.get(t);if(r)return r;let i;try{i=K6.default.readFileSync(z6.default.toNamespacedPath(t),"utf8")}catch(o){let a=o;if(a.code!=="ENOENT")throw a}let s={exists:!1,pjsonPath:t,main:void 0,name:void 0,type:"none",exports:void 0,imports:void 0};if(i!==void 0){let o;try{o=JSON.parse(i)}catch(a){let c=a,u=new Eve(t,(e?`"${n}" from `:"")+(0,kb.fileURLToPath)(e||n),c.message);throw u.cause=c,u}s.exists=!0,_h.call(o,"name")&&typeof o.name=="string"&&(s.name=o.name),_h.call(o,"main")&&typeof o.main=="string"&&(s.main=o.main),_h.call(o,"exports")&&(s.exports=o.exports),_h.call(o,"imports")&&(s.imports=o.imports),_h.call(o,"type")&&(o.type==="commonjs"||o.type==="module")&&(s.type=o.type)}return $6.set(t,s),s}function Rb(t){let e=new URL("package.json",t);for(;!e.pathname.endsWith("node_modules/package.json");){let i=dI((0,kb.fileURLToPath)(e),{specifier:t});if(i.exists)return i;let s=e;if(e=new URL("../package.json",e),e.pathname===s.pathname)break}return{pjsonPath:(0,kb.fileURLToPath)(e),exists:!1,type:"none"}}function fI(t){return Rb(t).type}var{ERR_UNKNOWN_FILE_EXTENSION:kve}=Dn,Rve={}.hasOwnProperty,Fve={__proto__:null,".cjs":"commonjs",".js":"module",".json":"json",".mjs":"module"};function Ave(t){return t&&/\s*(text|application)\/javascript\s*(;\s*charset=utf-?8\s*)?/i.test(t)?"module":t==="application/json"?"json":null}var H6={__proto__:null,"data:":Pve,"file:":Ive,"http:":G6,"https:":G6,"node:"(){return"builtin"}};function Pve(t){let{1:e}=/^([^/]+\/[^;,]+)[^,]*?(;base64)?,/.exec(t.pathname)||[null,null,null];return Ave(e)}function _ve(t){let e=t.pathname,n=e.length;for(;n--;){let r=e.codePointAt(n);if(r===47)return"";if(r===46)return e.codePointAt(n-1)===47?"":e.slice(n)}return""}function Ive(t,e,n){let r=_ve(t);if(r===".js"){let o=fI(t);return o!=="none"?o:"commonjs"}if(r===""){let o=fI(t);return o==="none"||o==="commonjs"?"commonjs":"module"}let i=Fve[r];if(i)return i;if(n)return;let s=(0,V6.fileURLToPath)(t);throw new kve(r,s)}function G6(){}function pI(t,e){let n=t.protocol;return Rve.call(H6,n)&&H6[n](t,e,!0)||null}var{ERR_INVALID_ARG_VALUE:Nve}=Dn,J6=Object.freeze(["node","import"]),Lve=new Set(J6);function Ove(){return J6}function Mve(){return Lve}function X6(t){if(t!==void 0&&t!==Ove()){if(!Array.isArray(t))throw new Nve("conditions",t,"expected an array");return new Set(t)}return Mve()}var Fb=RegExp.prototype[Symbol.replace],{ERR_NETWORK_IMPORT_DISALLOWED:hI,ERR_INVALID_MODULE_SPECIFIER:_b,ERR_INVALID_PACKAGE_CONFIG:i9,ERR_INVALID_PACKAGE_TARGET:Uve,ERR_MODULE_NOT_FOUND:SI,ERR_PACKAGE_IMPORT_NOT_DEFINED:qve,ERR_PACKAGE_PATH_NOT_EXPORTED:Wve,ERR_UNSUPPORTED_DIR_IMPORT:jve,ERR_UNSUPPORTED_RESOLVE_REQUEST:Y6}=Dn,s9={}.hasOwnProperty,Q6=/(^|\\|\/)((\.|%2e)(\.|%2e)?|(n|%6e|%4e)(o|%6f|%4f)(d|%64|%44)(e|%65|%45)(_|%5f)(m|%6d|%4d)(o|%6f|%4f)(d|%64|%44)(u|%75|%55)(l|%6c|%4c)(e|%65|%45)(s|%73|%53))?(\\|\/|$)/i,Z6=/(^|\\|\/)((\.|%2e)(\.|%2e)?|(n|%6e|%4e)(o|%6f|%4f)(d|%64|%44)(e|%65|%45)(_|%5f)(m|%6d|%4d)(o|%6f|%4f)(d|%64|%44)(u|%75|%55)(l|%6c|%4c)(e|%65|%45)(s|%73|%53))(\\|\/|$)/i,Bve=/^\.|%|\\/,Ab=/\*/g,$ve=/%2f|%5c/i,e9=new Set,Kve=/[/\\]{2}/;function t9(t,e,n,r,i,s,o){if(Na.default.noDeprecation)return;let a=(0,ke.fileURLToPath)(r),c=Kve.exec(o?t:e)!==null;Na.default.emitWarning(`Use of deprecated ${c?"double slash":"leading or trailing slash matching"} resolving "${t}" for module request "${e}" ${e===n?"":`matched to "${n}" `}in the "${i?"imports":"exports"}" field module resolution of the package at ${a}${s?` imported from ${(0,ke.fileURLToPath)(s)}`:""}.`,"DeprecationWarning","DEP0166")}function n9(t,e,n,r){if(Na.default.noDeprecation||pI(t,{parentURL:n.href})!=="module")return;let s=(0,ke.fileURLToPath)(t.href),o=(0,ke.fileURLToPath)(new ke.URL(".",e)),a=(0,ke.fileURLToPath)(n);r?CI.default.resolve(o,r)!==s&&Na.default.emitWarning(`Package ${o} has a "main" field set to "${r}", excluding the full filename and extension to the resolved file at "${s.slice(o.length)}", imported from ${a}.
 Automatic extension resolution of the "main" field is deprecated for ES modules.`,"DeprecationWarning","DEP0151"):Na.default.emitWarning(`No "main" or "exports" field defined in the package.json for ${o} resolving the main entry point "${s.slice(o.length)}", imported from ${a}.
Default "index" lookups for the main are deprecated for ES modules.`,"DeprecationWarning","DEP0151")}function o9(t){try{return(0,Nh.statSync)(t)}catch{}}function gI(t){let e=(0,Nh.statSync)(t,{throwIfNoEntry:!1}),n=e?e.isFile():void 0;return n??!1}function zve(t,e,n){let r;if(e.main!==void 0){if(r=new ke.URL(e.main,t),gI(r))return r;let o=[`./${e.main}.js`,`./${e.main}.json`,`./${e.main}.node`,`./${e.main}/index.js`,`./${e.main}/index.json`,`./${e.main}/index.node`],a=-1;for(;++a<o.length&&(r=new ke.URL(o[a],t),!gI(r));)r=void 0;if(r)return n9(r,t,n,e.main),r}let i=["./index.js","./index.json","./index.node"],s=-1;for(;++s<i.length&&(r=new ke.URL(i[s],t),!gI(r));)r=void 0;if(r)return n9(r,t,n,e.main),r;throw new SI((0,ke.fileURLToPath)(new ke.URL(".",t)),(0,ke.fileURLToPath)(n))}function Hve(t,e,n){if($ve.exec(t.pathname)!==null)throw new _b(t.pathname,'must not include encoded "/" or "\\" characters',(0,ke.fileURLToPath)(e));let r;try{r=(0,ke.fileURLToPath)(t)}catch(s){let o=s;throw Object.defineProperty(o,"input",{value:String(t)}),Object.defineProperty(o,"module",{value:String(e)}),o}let i=o9(r.endsWith("/")?r.slice(-1):r);if(i&&i.isDirectory()){let s=new jve(r,(0,ke.fileURLToPath)(e));throw s.url=String(t),s}if(!i||!i.isFile()){let s=new SI(r||t.pathname,e&&(0,ke.fileURLToPath)(e),!0);throw s.url=String(t),s}if(!n){let s=(0,Nh.realpathSync)(r),{search:o,hash:a}=t;t=(0,ke.pathToFileURL)(s+(r.endsWith(CI.default.sep)?"/":"")),t.search=o,t.hash=a}return t}function Gve(t,e,n){return new qve(t,e&&(0,ke.fileURLToPath)(new ke.URL(".",e)),(0,ke.fileURLToPath)(n))}function mI(t,e,n){return new Wve((0,ke.fileURLToPath)(new ke.URL(".",e)),t,n&&(0,ke.fileURLToPath)(n))}function Vve(t,e,n,r,i){let s=`request is not a valid match in pattern "${e}" for the "${r?"imports":"exports"}" resolution of ${(0,ke.fileURLToPath)(n)}`;throw new _b(t,s,i&&(0,ke.fileURLToPath)(i))}function Ih(t,e,n,r,i){return e=typeof e=="object"&&e!==null?JSON.stringify(e,null,""):`${e}`,new Uve((0,ke.fileURLToPath)(new ke.URL(".",n)),t,e,r,i&&(0,ke.fileURLToPath)(i))}function Jve(t,e,n,r,i,s,o,a,c){if(e!==""&&!s&&t[t.length-1]!=="/")throw Ih(n,t,r,o,i);if(!t.startsWith("./")){if(o&&!t.startsWith("../")&&!t.startsWith("/")){let f=!1;try{new ke.URL(t),f=!0}catch{}if(!f){let d=s?Fb.call(Ab,t,()=>e):t+e;return c9(d,r,c)}}throw Ih(n,t,r,o,i)}if(Q6.exec(t.slice(2))!==null)if(Z6.exec(t.slice(2))===null){if(!a){let f=s?n.replace("*",()=>e):n+e,d=s?Fb.call(Ab,t,()=>e):t;t9(d,f,n,r,o,i,!0)}}else throw Ih(n,t,r,o,i);let u=new ke.URL(t,r),l=u.pathname,p=new ke.URL(".",r).pathname;if(!l.startsWith(p))throw Ih(n,t,r,o,i);if(e==="")return u;if(Q6.exec(e)!==null){let f=s?n.replace("*",()=>e):n+e;if(Z6.exec(e)===null){if(!a){let d=s?Fb.call(Ab,t,()=>e):t;t9(d,f,n,r,o,i,!1)}}else Vve(f,n,r,o,i)}return s?new ke.URL(Fb.call(Ab,u.href,()=>e)):new ke.URL(e,u)}function Xve(t){let e=Number(t);return`${e}`!==t?!1:e>=0&&e<4294967295}function od(t,e,n,r,i,s,o,a,c){if(typeof e=="string")return Jve(e,n,r,t,i,s,o,a,c);if(Array.isArray(e)){let u=e;if(u.length===0)return null;let l,p=-1;for(;++p<u.length;){let f=u[p],d;try{d=od(t,f,n,r,i,s,o,a,c)}catch(h){let g=h;if(l=g,g.code==="ERR_INVALID_PACKAGE_TARGET")continue;throw h}if(d!==void 0){if(d===null){l=null;continue}return d}}if(l==null)return null;throw l}if(typeof e=="object"&&e!==null){let u=Object.getOwnPropertyNames(e),l=-1;for(;++l<u.length;){let p=u[l];if(Xve(p))throw new i9((0,ke.fileURLToPath)(t),i,'"exports" cannot contain numeric property keys.')}for(l=-1;++l<u.length;){let p=u[l];if(p==="default"||c&&c.has(p)){let f=e[p],d=od(t,f,n,r,i,s,o,a,c);if(d===void 0)continue;return d}}return null}if(e===null)return null;throw Ih(r,e,t,o,i)}function Yve(t,e,n){if(typeof t=="string"||Array.isArray(t))return!0;if(typeof t!="object"||t===null)return!1;let r=Object.getOwnPropertyNames(t),i=!1,s=0,o=-1;for(;++o<r.length;){let a=r[o],c=a===""||a[0]!==".";if(s++===0)i=c;else if(i!==c)throw new i9((0,ke.fileURLToPath)(e),n,`"exports" cannot contain some keys starting with '.' and some not. The exports object must either be an object of package subpath keys or an object of main entry condition name keys only.`)}return i}function Qve(t,e,n){if(Na.default.noDeprecation)return;let r=(0,ke.fileURLToPath)(e);e9.has(r+"|"+t)||(e9.add(r+"|"+t),Na.default.emitWarning(`Use of deprecated trailing slash pattern mapping "${t}" in the "exports" field module resolution of the package at ${r}${n?` imported from ${(0,ke.fileURLToPath)(n)}`:""}. Mapping specifiers ending in "/" is no longer supported.`,"DeprecationWarning","DEP0155"))}function r9(t,e,n,r,i){let s=n.exports;if(Yve(s,t,r)&&(s={".":s}),s9.call(s,e)&&!e.includes("*")&&!e.endsWith("/")){let l=s[e],p=od(t,l,"",e,r,!1,!1,!1,i);if(p==null)throw mI(e,t,r);return p}let o="",a="",c=Object.getOwnPropertyNames(s),u=-1;for(;++u<c.length;){let l=c[u],p=l.indexOf("*");if(p!==-1&&e.startsWith(l.slice(0,p))){e.endsWith("/")&&Qve(e,t,r);let f=l.slice(p+1);e.length>=l.length&&e.endsWith(f)&&a9(o,l)===1&&l.lastIndexOf("*")===p&&(o=l,a=e.slice(p,e.length-f.length))}}if(o){let l=s[o],p=od(t,l,a,o,r,!0,!1,e.endsWith("/"),i);if(p==null)throw mI(e,t,r);return p}throw mI(e,t,r)}function a9(t,e){let n=t.indexOf("*"),r=e.indexOf("*"),i=n===-1?t.length:n+1,s=r===-1?e.length:r+1;return i>s?-1:s>i||n===-1?1:r===-1||t.length>e.length?-1:e.length>t.length?1:0}function Zve(t,e,n){if(t==="#"||t.startsWith("#/")||t.endsWith("/")){let s="is not a valid internal imports specifier name";throw new _b(t,s,(0,ke.fileURLToPath)(e))}let r,i=Rb(e);if(i.exists){r=(0,ke.pathToFileURL)(i.pjsonPath);let s=i.imports;if(s)if(s9.call(s,t)&&!t.includes("*")){let o=od(r,s[t],"",t,e,!1,!0,!1,n);if(o!=null)return o}else{let o="",a="",c=Object.getOwnPropertyNames(s),u=-1;for(;++u<c.length;){let l=c[u],p=l.indexOf("*");if(p!==-1&&t.startsWith(l.slice(0,-1))){let f=l.slice(p+1);t.length>=l.length&&t.endsWith(f)&&a9(o,l)===1&&l.lastIndexOf("*")===p&&(o=l,a=t.slice(p,t.length-f.length))}}if(o){let l=s[o],p=od(r,l,a,o,e,!0,!0,!1,n);if(p!=null)return p}}}throw Gve(t,r,e)}function ewe(t,e){let n=t.indexOf("/"),r=!0,i=!1;t[0]==="@"&&(i=!0,n===-1||t.length===0?r=!1:n=t.indexOf("/",n+1));let s=n===-1?t:t.slice(0,n);if(Bve.exec(s)!==null&&(r=!1),!r)throw new _b(t,"is not a valid package name",(0,ke.fileURLToPath)(e));let o="."+(n===-1?"":t.slice(n));return{packageName:s,packageSubpath:o,isScoped:i}}function c9(t,e,n){if(Pb.builtinModules.includes(t))return new ke.URL("node:"+t);let{packageName:r,packageSubpath:i,isScoped:s}=ewe(t,e),o=Rb(e);if(o.exists){let l=(0,ke.pathToFileURL)(o.pjsonPath);if(o.name===r&&o.exports!==void 0&&o.exports!==null)return r9(l,i,o,e,n)}let a=new ke.URL("./node_modules/"+r+"/package.json",e),c=(0,ke.fileURLToPath)(a),u;do{let l=o9(c.slice(0,-13));if(!l||!l.isDirectory()){u=c,a=new ke.URL((s?"../../../../node_modules/":"../../../node_modules/")+r+"/package.json",a),c=(0,ke.fileURLToPath)(a);continue}let p=dI(c,{base:e,specifier:t});return p.exports!==void 0&&p.exports!==null?r9(a,i,p,e,n):i==="."?zve(a,p,e):new ke.URL(i,a)}while(c.length!==u.length);throw new SI(r,(0,ke.fileURLToPath)(e),!1)}function twe(t){return t[0]==="."&&(t.length===1||t[1]==="/"||t[1]==="."&&(t.length===2||t[2]==="/"))}function xI(t){return t===""?!1:t[0]==="/"?!0:twe(t)}function nwe(t,e,n,r){let i=e.protocol,o=i==="data:"||i==="http:"||i==="https:",a;if(xI(t))try{a=new ke.URL(t,e)}catch(c){let u=new Y6(t,e);throw u.cause=c,u}else if(i==="file:"&&t[0]==="#")a=Zve(t,e,n);else try{a=new ke.URL(t)}catch(c){if(o&&!Pb.builtinModules.includes(t)){let u=new Y6(t,e);throw u.cause=c,u}a=c9(t,e,n)}return(0,yI.default)(a!==void 0,"expected to be defined"),a.protocol!=="file:"?a:Hve(a,e,r)}function rwe(t,e,n){if(n){let r=n.protocol;if(r==="http:"||r==="https:"){if(xI(t)){let i=e?.protocol;if(i&&i!=="https:"&&i!=="http:")throw new hI(t,n,"remote imports cannot import from a local location.");return{url:e?.href||""}}throw Pb.builtinModules.includes(t)?new hI(t,n,"remote imports cannot import from a local location."):new hI(t,n,"only relative and absolute specifiers are supported.")}}}function iwe(t){return!!(t&&typeof t=="object"&&"href"in t&&typeof t.href=="string"&&"protocol"in t&&typeof t.protocol=="string"&&t.href&&t.protocol)}function swe(t){if(t!==void 0&&typeof t!="string"&&!iwe(t))throw new Dn.ERR_INVALID_ARG_TYPE("parentURL",["string","URL"],t)}function u9(t,e={}){let{parentURL:n}=e;(0,yI.default)(n!==void 0,"expected `parentURL` to be defined"),swe(n);let r;if(n)try{r=new ke.URL(n)}catch{}let i,s;try{if(i=xI(t)?new ke.URL(t,r):new ke.URL(t),s=i.protocol,s==="data:")return{url:i.href,format:null}}catch{}let o=rwe(t,i,r);if(o)return o;if(s===void 0&&i&&(s=i.protocol),s==="node:")return{url:t};if(i&&i.protocol==="node:")return{url:t};let a=X6(e.conditions),c=nwe(t,new ke.URL(n),a,!1);return{url:c.href,format:pI(c,{parentURL:n})}}function l9(t,e){if(!e)throw new Error("Please pass `parent`: `import-meta-resolve` cannot ponyfill that");try{return u9(t,{parentURL:e}).url}catch(n){let r=n;if((r.code==="ERR_UNSUPPORTED_DIR_IMPORT"||r.code==="ERR_MODULE_NOT_FOUND")&&typeof r.url=="string")return r.url;throw n}}var owe=/^[a-z]:\\/i;function vI(t,e){let n=awe(t),r;for(let i of e)try{let s=typeof i=="string"?i.startsWith("file://")?new URL(i):(0,bI.pathToFileURL)(i+f9.sep):i,o=new URL(l9(n.toString(),s.toString()));try{if((0,d9.statSync)(o).isFile())return o}catch{let a=new Error(`Cannot find module ${t}`);a.code="ERR_MODULE_NOT_FOUND",r=a}}catch(s){r=s}throw r}function awe(t){return typeof t=="string"&&owe.test(t)?(0,bI.pathToFileURL)(t):t}var c5=oe(DI(),1);async function TI(t){let e=[];for await(let n of t)e.push(n);return e}var uwe=/^(\w[\w-]{1,63}:\/|data:|stdin:)/i;function Dr(t,e){return kI(t instanceof URL?t:new URL(t,e))}function eu(t){if(t=Dr(t),t.protocol==="data:")return t;let e=t.pathname.endsWith("/");if(!t.pathname.startsWith("/")){let r=t.pathname.split("/").slice(0,e?-2:-1).join("/");return r=r&&r+"/"||"",new URL(t.protocol+(t.host?"//"+t.host:"")+r+t.search+t.hash)}return new URL(e?"..":".",t)}function Ib(t){let e=t.endsWith("/")?2:0,n=t.lastIndexOf("/",t.length-e);return n>=0?t.slice(n+1):t}function Nt(t){return t instanceof URL||uwe.test(t)}function Lh(t,e){return e=e.endsWith(":")?e:e+":",typeof t=="string"?t.startsWith(e):t.protocol===e}function tu(t){if(t.pathname.endsWith("/"))return t;let e=new URL(t.href);return e.pathname+="/",e}function m9(t,e){let n=t.pathname,r=e.pathname;if(n===r)return"";if(n=n.endsWith("/")?n:new URL("./",t).pathname,r.startsWith(n))return decodeURIComponent(r.slice(n.length));let i=n,s=r;if(s.startsWith(i))return decodeURIComponent(i===s?"":s.slice(i.lastIndexOf("/")+1));let o=i.split("/").slice(0,-1),a=s.split("/"),c=0;for(c=0;c<o.length&&c<a.length-1&&o[c]===a[c];++c);let u="../".repeat(o.length-c)+a.slice(c).join("/");return decodeURIComponent(u.length<s.length?u:s)}var EI=/^[\\/]([a-zA-Z]:[\\/])/,lwe=/%3[aA]/g;function kI(t){if(t=typeof t=="string"?new URL(t):t,t.protocol==="file:"){let e=t.pathname.replaceAll(lwe,":").replace(EI,n=>n.toUpperCase());if(e!==t.pathname)return t=new URL(t),t.pathname=e,t}return t}var dwe=/filename=([^;,]*)/;function li(t){function e(n){let r=n.match(dwe);return r?r[1]:n.split(";",1)[0].replaceAll(/\W/g,".")}return t=Dr(t),t.protocol==="data:"?e(t.pathname.split(",",1)[0]):Ib(t.pathname)}function Oh(t){return Lh(t,"data:")}var S9=oe(require("node:assert"),1),xo=oe(require("node:path"),1),x9=require("node:url");var y9=require("node:url");function Ws(t){return Lh(t,"file:")}function tt(t){return Ws(t)?fwe(t):t.toString()}function fwe(t){return FI((0,y9.fileURLToPath)(t))}var RI=/^([a-zA-Z]):[\\/]/;function FI(t){return t.replace(RI,e=>e.toUpperCase())}var Nb=process.platform==="win32",pwe=RI,hwe=EI,gwe=/%/g,mwe=/\\/g,ywe=/\n/g,Cwe=/\r/g,Swe=/\t/g,xwe=/\?/g,bwe=/#/g,C9="file:",as=class{windows;path;cwd;constructor(e={}){let n=e.path?.sep;this.windows=e.windows??(n?n==="\\":void 0)??Nb,this.path=e.path??(this.windows?xo.default.win32:xo.default.posix),this.cwd=e.cwd??this.pathToFileURL(this.path.resolve()+"/",this.rootFileURL()),(0,S9.default)(this.path.sep===(this.windows?"\\":"/"),`Path separator should match OS type Windows: ${this.windows===!0?"true":(this.windows??"undefined")||"false"}, sep: ${this.path.sep}, options: `+JSON.stringify({isWindows:Nb,sep:`${n}`,windows:e.windows,pathSep:e.path?.sep,n:e.path?.normalize("path/file.txt"),cwd:e.cwd?.href,win32:this.path===xo.default.win32,posix:this.path===xo.default.posix,"win32.normalize":this.path.normalize===xo.default.win32.normalize,"posix.normalize":this.path.normalize===xo.default.posix.normalize}))}encodePathChars(e){return e=e.replaceAll(gwe,"%25"),!this.windows&&!Nb&&e.includes("\\")&&(e=e.replaceAll(mwe,"%5C")),e=e.replaceAll(ywe,"%0A"),e=e.replaceAll(Cwe,"%0D"),e=e.replaceAll(Swe,"%09"),e}normalizeFilePathForUrl(e){return e=this.encodePathChars(e),e=e.replaceAll(xwe,"%3F"),e=e.replaceAll(bwe,"%23"),e.replaceAll("\\","/").replace(pwe,r=>`/${r}`.toUpperCase())}toFileURL(e,n){return kI(this.#e(e,n))}#e(e,n){if(typeof e!="string")return e;if(Nt(e))return new URL(e);if(n??=this.cwd,Nb&&(e=e.replaceAll("\\","/")),Nt(n)){let s=this.normalizeFilePathForUrl(e);return new URL(s,n)}let r=e.endsWith("/")?"/":"",i=this.normalizeFilePathForUrl(this.path.resolve(n.toString(),e))+r;return this.pathToFileURL(i,this.cwd)}toFileDirURL(e,n){return tu(this.toFileURL(e,n))}urlToFilePathOrHref(e){return e=this.toFileURL(e),this.#t(e)}#t(e){if(e.protocol!==C9)return e.href;let n=this.path===xo.default?tt(e):decodeURIComponent(e.pathname.split("/").join(this.path.sep));return FI(n.replace(hwe,"$1"))}relative(e,n){if(e.protocol===n.protocol&&e.protocol===C9){if(e.href===n.href)return"";e=e.pathname.endsWith("/")?e:new URL("./",e);let r=e.pathname,i=n.pathname;if(i.startsWith(r))return decodeURIComponent(i.slice(r.length));let s=this.#t(e),o=this.#t(n),a=n.pathname.endsWith("/"),c=this.normalizeFilePathForUrl(this.path.relative(s,o));return a&&!c.endsWith("/")&&(c+="/"),decodeURIComponent(c)}return decodeURIComponent(m9(e,n))}urlDirname(e){return eu(this.toFileURL(e))}pathToFileURL(e,n){return new URL(this.normalizeFilePathForUrl(e),n||this.cwd)}rootFileURL(e){let n=this.path,r=n.parse(n.normalize(n.resolve(e??".")));return new URL(this.normalizeFilePathForUrl(r.root),this.#n())}#n(){if(this.path===xo.default)return(0,x9.pathToFileURL)("/");let e=this.path.resolve("/");return new URL(this.normalizeFilePathForUrl(e),"file:///")}isAbsolute(e){return Nt(e)||this.path.isAbsolute(e)}isUrlLike(e){return Nt(e)}};var vwe=new as;function ft(t,e){return vwe.toFileURL(t,e)}var Mh=class t{url;encoding;baseFilename;_;gz;constructor(e,n,r,i){this.url=e,this.encoding=n,this.baseFilename=r,this.gz=i??(r?.endsWith(".gz")||void 0)??(e.pathname.endsWith(".gz")||void 0)}static isCFileReference(e){return e instanceof t}static from(e,n,r,i){return t.isCFileReference(e)?e:e instanceof URL?new t(e,n,r,i):new t(e.url,e.encoding,e.baseFilename,e.gz)}toJson(){return{url:this.url.href,encoding:this.encoding,baseFilename:this.baseFilename,gz:this.gz}}};function nu(t,e,n,r){let i=typeof t=="string"?ft(t):t;return i instanceof URL?new Mh(i,e,n,r):Mh.from(i)}function AI(t){return Mh.isCFileReference(t)||!(t instanceof URL)&&typeof t!="string"}var Lb=class extends Error{method;constructor(e,n){super(`Method ${e} is not supported.`,n),this.method=e}},Ob=class extends Error{message;constructor(e,n){super(e,n),this.message=e}};function Uh(t,e){if(!t)throw new Ob(e??"Assertion failed")}var w9=require("node:zlib");function qh(t){return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function js(t){if(t instanceof Buffer)return t;let e=Buffer.from(t.buffer);return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?e:e.subarray(t.byteOffset,t.byteOffset+t.byteLength)}function Twe(t){return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}function Ewe(t){let e=new DataView(t.buffer,t.byteOffset,t.byteLength);for(let n=0;n<e.byteLength;n+=2)e.setUint16(n,e.getUint16(n,!1),!0);return t}function PI(t){return typeof Buffer<"u"?js(t).swap16():Ewe(t)}function b9(t){let e=Twe(t);return PI(e)}var LI=65279,D9=65534,v9=new TextDecoder("utf8"),T9=new TextDecoder("utf-16le"),kwe=Fwe();function _I(t){let e=qh(t),n=e[0]<<8|e[1];return T9.decode(n===D9?e.subarray(2):e)}function II(t){let e=qh(t),n=e[0]<<8|e[1];return kwe.decode(n===LI?e.subarray(2):e)}function E9(t,e){if(La(t))return E9(Awe(t),e);let n=qh(t),r=n[0]<<8|n[1];if(r===LI||n[0]===0&&n[1]!==0)return II(n);if(r===D9||n[0]!==0&&n[1]===0)return _I(n);if(!e)return v9.decode(n);switch(e){case"utf-16be":case"utf16be":return II(n);case"utf-16le":case"utf16le":return _I(n);case"utf-8":case"utf8":return v9.decode(n)}throw new NI(e)}function OI(t,e){switch(e){case"base64":case"base64url":case"hex":return js(t).toString(e)}return E9(t,e)}function Wh(t,e,n){switch(e){case"utf-16be":case"utf16be":return Rwe(t,n);case"utf-16le":case"utf16le":return k9(t,n)}return Buffer.from(t,e)}function k9(t,e=!0){let n=Buffer.from(t,"utf16le");if(e){let r=Buffer.alloc(n.length+2);return r.writeUint16LE(LI),n.copy(r,2),r}return n}function Rwe(t,e=!0){return PI(k9(t,e))}function Fwe(){try{return new TextDecoder("utf-16be")}catch{return{encoding:"utf-16be",fatal:!1,ignoreBOM:!1,decode:t=>T9.decode(b9(t))}}}var NI=class extends Error{constructor(e){super(`Unsupported encoding: ${e}`)}};function La(t){if(typeof t=="string")return!1;let e=qh(t);return e[0]===31&&e[1]===139}function Awe(t){if(!La(t))return t;let e=js(t);return(0,w9.gunzipSync)(e)}var cs=class t{url;content;encoding;_text;baseFilename;_gz;constructor(e,n,r,i,s){this.url=e,this.content=n,this.encoding=r,this.baseFilename=i??(e.protocol!=="data:"&&e.pathname.split("/").pop()||void 0),this._gz=s}get gz(){return this._gz!==void 0?this._gz:this.url.pathname.endsWith(".gz")?!0:typeof this.content=="string"?!1:La(this.content)}getText(e){if(this._text!==void 0)return this._text;let n=typeof this.content=="string"?this.content:OI(this.content,e??this.encoding);return this._text=n,n}toJson(){return{url:this.url.href,content:this.getText(),encoding:this.encoding,baseFilename:this.baseFilename,gz:this.gz}}static isCFileResource(e){return e instanceof t}static from(e,n,r,i,s){if(t.isCFileResource(e)){if(n){let{url:a,encoding:c,baseFilename:u,gz:l}=e;return new t(a,n,c,u,l)}return e}if(e instanceof URL)return Uh(n!==void 0),new t(e,n,r,i,s);if(n!==void 0){let a=e;return new t(a.url,n,a.encoding,a.baseFilename,a.gz)}Uh("content"in e&&e.content!==void 0);let o=e;return new t(o.url,o.content,o.encoding,o.baseFilename,o.gz)}};function Mb(t,e){return cs.from(e?{...t,encoding:e}:t)}function ad(t,e){if(t===e)return 0;if(t.eTag||e.eTag)return t.eTag===e.eTag?0:(t.eTag||"")<(e.eTag||"")?-1:1;let n=t.size-e.size||t.mtimeMs-e.mtimeMs;return n<0?-1:n>0?1:0}function cd(t){return t instanceof URL?t:t.url}var Ub=class extends Error{request;constructor(e){super(`Unhandled Request: ${e.type}`),this.request=e}},qb=class extends Error{request;depth;constructor(e,n){super(`Service Request Depth ${n} Exceeded: ${e.type}`),this.request=e,this.depth=n}},Wb=class extends Error{handlerName;handlerDescription;cause;constructor(e,n,r){super(`Unhandled Error in Handler: ${e}`),this.handlerName=e,this.handlerDescription=n,this.cause=r}};var MI=class{type;params;__r;constructor(e,n){this.type=e,this.params=n}},jh=class extends MI{constructor(e,n){super(e,n)}};function Tr(t,e){return{value:t}}function ru(t,e){return{error:e}}function us(t){return"value"in t&&t.error===void 0}var Pwe=10,Bh=class{handlers=[];constructor(e=[]){e.forEach(n=>this.addHandler(n))}addHandler(e,n="anonymous",r){let i=typeof e=="function"?{fn:e,name:n,description:r}:e,{fn:s,name:o,description:a}=i;return this.handlers.push({fn:s,name:o,description:a}),this}dispatch(e){let n=0,r={dispatch:s},i=this.reduceHandlers(this.handlers,e,r,this.defaultHandler);function s(o){if(++n,n>=Pwe)return ru(o,new qb(o,n));let a=i(o);return--n,a}return s(e)}defaultHandler(e){return ru(e,new Ub(e))}reduceHandlers(e,n,r,i){return e.map(a=>({...a,fn:a.fn(r)})).reduce((a,c)=>{let u=c.fn(a);return l=>{try{return u(l)}catch(p){return ru(n,new Wb(c.name,c.description,p))}}},i)}};function R9(t,e,n,r){return Iwe(t.is,e,n??t.type,r)}function _we(t,e){return n=>r=>i=>t(i)?e(i,r,n):r(i)}function Iwe(t,e,n,r){return{fn:_we(t,e),name:n,description:r}}function Gr(t){class e extends jh{static type=t;constructor(r){super(t,r)}static is(r){return r instanceof e&&r.type===t}static create(r){return new e(r)}static createRequestHandler(r,i,s){return R9(e,r,i,s)}static __request}return e}var bo=require("node:fs"),au=require("node:url"),M9=require("node:util"),Bb=require("node:zlib");function UI(t){return t instanceof Error?t:typeof t=="object"&&t&&"message"in t&&typeof t.message=="string"?new Error(t.message,{cause:t}):new Error(t&&t.toString())}var di;(function(t){t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink"})(di||(di={}));function Nwe(t,e,n){if(typeof t=="string")return Lwe(t,e,n);let r=A9(n||[]),i=js(t);return`data:${e}${r};base64,${i.toString("base64url")}`}function F9(t,e,n){return new URL(Nwe(t,e,n))}function Lwe(t,e,n){e=e||"text/plain",n=n||[];let r=encodeURIComponent(t),i=Buffer.from(t).toString("base64url"),s=i.length<r.length-7,o=s?i:r,a=new Map([["charset","utf-8"],...n]);a.set("charset","utf-8");let c=A9(a);return`data:${e}${c}${s?";base64":""},${o}`}function A9(t){return[...t].map(([e,n])=>`;${e}=${encodeURIComponent(n)}`).join("")}var Owe=/^data:(?<mediaType>[^;,]*)(?<attributes>(?:;[^=]+=[^;,]*)*)(?<base64>;base64)?$/;function P9(t){t=t.toString();let[e,n]=t.split(",",2);if(!e||n===void 0)throw new Error("Not a data url");let r=e.match(Owe);if(!r||!r.groups)throw new Error("Not a data url");let i=r.groups.mediaType||"",s=(r.groups.attributes||"").split(";").filter(l=>!!l).map(l=>l.split("=",2)).map(([l,p])=>[l,decodeURIComponent(p)]),o=new Map(s),a=o.get("charset"),u=!!r.groups.base64?Buffer.from(n,"base64url"):Buffer.from(decodeURIComponent(n));return{mediaType:i,data:u,encoding:a,attributes:o}}function _9(t){if(t.endsWith(".trie"))return{mimeType:"application/vnd.cspell.dictionary+trie",encoding:"utf-8"};if(t.endsWith(".trie.gz"))return{mimeType:"application/vnd.cspell.dictionary+trie.gz"};if(t.endsWith(".txt"))return{mimeType:"text/plain",encoding:"utf-8"};if(t.endsWith(".txt.gz"))return{mimeType:"application/gzip"};if(t.endsWith(".gz"))return{mimeType:"application/gzip"};if(t.endsWith(".json"))return{mimeType:"application/json",encoding:"utf-8"};if(t.endsWith(".yaml")||t.endsWith(".yml"))return{mimeType:"application/x-yaml",encoding:"utf-8"}}var qI=global.fetch;var iu=class t extends Error{code;status;url;constructor(e,n,r,i){super(e),this.code=n,this.status=r,this.url=i,this.name="FetchUrlError"}static create(e,n,r){return n===404?new t(r||"URL not found.","ENOENT",n,e):n>=400&&n<500?new t(r||"Permission denied.","EACCES",n,e):new t(r||"Fatal Error","ECONNREFUSED",n,e)}static fromError(e,n){let r=qwe(n);return r?new t(r.message,r.code,void 0,e):WI(n)?new t(n.message,n.code,void 0,e):new t(n.message,void 0,void 0,e)}};function WI(t){return!!(t instanceof Error&&"code"in t&&typeof t.code=="string"||t&&typeof t=="object"&&"code"in t&&typeof t.code=="string")}function Mwe(t){return t instanceof Error}function Uwe(t){return Mwe(t)&&(!("cause"in t)||WI(t.cause)||WI(t))}function qwe(t){return Uwe(t)?t.cause:void 0}function jI(t,e){return t instanceof iu?t:iu.fromError(e,Wwe(t))}function Wwe(t){return t instanceof Error?t:new Error("Unknown Error",{cause:t})}async function I9(t){let e=jwe(t);try{let n=await qI(e,{method:"HEAD"});if(!n.ok)throw iu.create(e,n.status);return n.headers}catch(n){throw jI(n,e)}}async function N9(t){try{let e=await qI(t);if(!e.ok)throw iu.create(t,e.status);return Buffer.from(await e.arrayBuffer())}catch(e){throw jI(e,t)}}function jwe(t){return typeof t=="string"?new URL(t):t}async function L9(t){let e=await I9(t),n=e.get("etag")||void 0,r=Number.parseInt(e.get("content-length")||"0",10);return{size:n?-1:r,mtimeMs:0,eTag:n}}var Bwe="fs:readFile",su=Gr(Bwe);var $we="fs:readFileSync",ou=Gr($we);var Kwe="fs:stat",ud=Gr(Kwe),zwe="fs:statSync",$h=Gr(zwe);var Hwe="fs:writeFile",Oa=Gr(Hwe);var Gwe="zlib:inflate",BI=Gr(Gwe);var Vwe="fs:readDir",jb=Gr(Vwe);var Jwe=/\.gz($|[?#])/;function O9(t){return Jwe.test(typeof t=="string"?t:t.pathname)}var Xwe=(0,M9.promisify)(Bb.gzip),Ywe=su.createRequestHandler(({params:t})=>{let e=li(t.url);return Tr(bo.promises.readFile((0,au.fileURLToPath)(t.url)).then(n=>cs.from(t.url,n,t.encoding,e)))},void 0,"Node: Read Binary File."),Qwe=ou.createRequestHandler(({params:t})=>Tr(cs.from({...t,content:(0,bo.readFileSync)((0,au.fileURLToPath)(t.url))})),void 0,"Node: Sync Read Binary File."),Zwe=jb.createRequestHandler(({params:t})=>Tr(bo.promises.readdir((0,au.fileURLToPath)(t.url),{withFileTypes:!0}).then(e=>gDe(t.url,e))),void 0,"Node: Read Directory."),eDe=BI.createRequestHandler(({params:t})=>Tr((0,Bb.gunzipSync)(js(t.data))),void 0,"Node: gz deflate."),U9={"http:":!0,"https:":!0},tDe=su.createRequestHandler((t,e)=>{let{url:n}=t.params;return n.protocol in U9?Tr(N9(n).then(r=>cs.from({...t.params,content:r}))):e(t)},void 0,"Node: Read Http(s) file."),nDe=ou.createRequestHandler((t,e)=>{let{url:n,encoding:r}=t.params;if(n.protocol!=="data:")return e(t);let i=P9(n);return Tr(cs.from({url:n,content:i.data,encoding:r,baseFilename:i.attributes.get("filename")}))},void 0,"Node: Read data: urls."),rDe=su.createRequestHandler((t,e,n)=>{let{url:r}=t.params;if(r.protocol!=="data:")return e(t);let i=n.dispatch(ou.create(t.params));return us(i)?Tr(Promise.resolve(i.value)):i},void 0,"Node: Read data: urls."),iDe=ud.createRequestHandler(({params:t})=>Tr(oDe(bo.promises.stat((0,au.fileURLToPath)(t.url)))),void 0,"Node: fs.stat.");function sDe(t){return{size:t.size,mtimeMs:t.mtimeMs,fileType:j9(t)}}function oDe(t){return t.then(sDe)}var aDe=$h.createRequestHandler(t=>{let{params:e}=t;try{return Tr((0,bo.statSync)((0,au.fileURLToPath)(e.url)))}catch(n){return ru(t,UI(n))}},void 0,"Node: fs.stat."),cDe=ud.createRequestHandler((t,e)=>{let{url:n}=t.params;return n.protocol in U9?Tr(L9(n)):e(t)},void 0,"Node: http get stat"),uDe=Oa.createRequestHandler(({params:t})=>Tr(lDe(t,t.content)),void 0,"Node: fs.writeFile");async function lDe(t,e){let n=La(e),{url:r,encoding:i,baseFilename:s}=t,o={url:r,encoding:i,baseFilename:s,gz:n};return await bo.promises.writeFile((0,au.fileURLToPath)(t.url),W9(t,e)),o}var dDe=Oa.createRequestHandler((t,e)=>{let n=t.params,{url:r}=t.params;if(r.protocol!=="data:")return e(t);let i=La(n.content),s=n.baseFilename||"file.txt"+(i?".gz":""),o=_9(s),a=o?.mimeType||"text/plain",c=F9(n.content,a,[["filename",s]]);return Tr(Promise.resolve({url:c,baseFilename:s,gz:i,encoding:o?.encoding}))},void 0,"Node: fs.writeFile DataUrl"),fDe=Oa.createRequestHandler((t,e,n)=>{let r=t.params;return!r.gz&&!O9(r.url)&&(!r.baseFilename||!O9(r.baseFilename))||typeof r.content!="string"&&La(r.content)?e(t):Tr(pDe(n,r,r.content))},void 0,"Node: fs.writeFile compressed");async function pDe(t,e,n){let r=await Xwe(W9(e,n)),i=t.dispatch(Oa.create({...e,content:r}));return Uh(us(i)),i.value}function q9(t){[Ywe,Qwe,uDe,dDe,fDe,tDe,rDe,nDe,Zwe,eDe,aDe,iDe,cDe].forEach(n=>t.addHandler(n))}function W9(t,e){return typeof e=="string"?[void 0,"utf8","utf-8"].includes(t.encoding)?e:js(Wh(e,t.encoding)):js(e)}function hDe(t){return e=>mDe(t,e)}function gDe(t,e){return e.map(hDe(t))}function mDe(t,e){return{name:e.name,dir:t,fileType:j9(e)}}function j9(t){let e=t.isFile()?di.File:t.isDirectory()?di.Directory:di.Unknown;return t.isSymbolicLink()?e|di.SymbolicLink:e}var $I,KI=class{serviceBus;constructor(e=new Bh){this.serviceBus=e,q9(e)}readFile(e,n){let r=nu(e,n),i=this.serviceBus.dispatch(su.create(r));if(!us(i))throw ld(i.error,"readFile");return i.value}readDirectory(e){let n=nu(e),r=this.serviceBus.dispatch(jb.create(n));if(!us(r))throw ld(r.error,"readDirectory");return r.value}readFileSync(e,n){let r=nu(e,n),i=this.serviceBus.dispatch(ou.create(r));if(!us(i))throw ld(i.error,"readFileSync");return i.value}writeFile(e,n){let r=nu(e),i=cs.from(r,n),s=this.serviceBus.dispatch(Oa.create(i));if(!us(s))throw ld(s.error,"writeFile");return s.value}getStat(e){let n=nu(e),r=this.serviceBus.dispatch(ud.create(n));if(!us(r))throw ld(r.error,"getStat");return r.value}getStatSync(e){let n=nu(e),r=this.serviceBus.dispatch($h.create(n));if(!us(r))throw ld(r.error,"getStatSync");return r.value}compareStats(e,n){return ad(e,n)}toURL(e,n){return AI(e)?e.url:Dr(e,n)}toFileURL(e,n){return AI(e)?e.url:ft(e,n)}urlBasename(e){return li(this.toURL(e))}urlDirname(e){return eu(this.toURL(e))}};function ld(t,e){return t||new Lb(e)}function Kh(){if($I)return $I;let t=new KI;return $I=t,t}async function B9(t,e,n){let{type:r="file",stopAt:i,fs:s}=n,o=new URL(".",e),a=new URL("/",o),c=yDe(s,t,r),u=i||a,l="";for(;o.href!==l;){let p=await c(o);if(p!==void 0)return p;if(l=o.href,o.href===a.href||o.href===u.href)break;o=new URL("..",o)}}function yDe(t,e,n){if(typeof e=="function")return e;let r=n==="file"||n==="!file"?"isFile":"isDirectory",i=!n.startsWith("!");function s(o,a){let c=new URL(a,o);return t.stat(c).then(u=>(u.isUnknown()||u[r]()===i)&&c||void 0).catch(()=>{})}return Array.isArray(e)?async o=>{let a=e.map(c=>s(o,c));for(let c of a){let u=await c;if(u)return u}}:o=>s(o,e)}var zh=class{#e;readFile;writeFile;stat;readDirectory;getCapabilities;constructor(e){this.#e=e,this.readFile=this.#e.readFile.bind(this.#e),this.writeFile=this.#e.writeFile.bind(this.#e),this.stat=this.#e.stat.bind(this.#e),this.readDirectory=this.#e.readDirectory.bind(this.#e),this.getCapabilities=this.#e.getCapabilities.bind(this.#e)}get providerInfo(){return this.#e.providerInfo}get hasProvider(){return this.#e.hasProvider}findUp(e,n,r={}){let i={...r,fs:this.#e};return B9(e,n,i)}};var pn;(function(t){t[t.None=0]="None",t[t.Stat=1]="Stat",t[t.Read=2]="Read",t[t.Write=4]="Write",t[t.ReadWrite=6]="ReadWrite",t[t.ReadDir=8]="ReadDir",t[t.WriteDir=16]="WriteDir",t[t.ReadWriteDir=24]="ReadWriteDir"})(pn||(pn={}));function $9(t){let e=pn.Stat|pn.ReadWrite|pn.ReadDir,n=e&~pn.Write&~pn.ReadDir,r={"file:":e,"http:":n,"https:":n},i="CSpellIO",s=new Set(["file:","http:","https:"]),o={providerInfo:{name:i},stat:a=>t.getStat(a),readFile:a=>t.readFile(a),readDirectory:a=>t.readDirectory(a),writeFile:a=>t.writeFile(a.url,a.content),dispose:()=>{},capabilities:e,getCapabilities(a){return K9(r[a.protocol]||pn.None)}};return{name:i,getFileSystem:(a,c)=>s.has(a.protocol)?o:void 0}}function $b(t){return t instanceof zb,t}var zb=class extends Error{constructor(e,n){super(e,n)}},Hh=class extends zb{request;parameters;url;constructor(e,n,r){super(`Unsupported request: ${e}`),this.request=e,this.parameters=r,this.url=n?.toString()}},zI=class{flags;constructor(e){this.flags=e}get readFile(){return!!(this.flags&pn.Read)}get writeFile(){return!!(this.flags&pn.Write)}get readDirectory(){return!!(this.flags&pn.ReadDir)}get writeDirectory(){return!!(this.flags&pn.WriteDir)}get stat(){return!!(this.flags&pn.Stat)}};function K9(t){return new zI(t)}var Gh=class t{fs;eventLogger;hasProvider;capabilities;providerInfo;_capabilities;constructor(e,n){this.fs=e,this.eventLogger=n,this.hasProvider=!!e,this.capabilities=e?.capabilities||pn.None,this._capabilities=K9(this.capabilities),this.providerInfo=e?.providerInfo||{name:"unknown"}}logEvent(e,n,r,i,s){this.eventLogger({method:e,event:n,url:i,traceID:r,ts:performance.now(),message:s})}getCapabilities(e){return this.fs?.getCapabilities?this.fs.getCapabilities(e):this._capabilities}async stat(e){let n=performance.now(),r=cd(e);this.logEvent("stat","start",n,r);try{return Kb(this.fs,this.capabilities,pn.Stat,"stat",r),new HI(await this.fs.stat(e))}catch(i){throw this.logEvent("stat","error",n,r,i instanceof Error?i.message:""),$b(i)}finally{this.logEvent("stat","end",n,r)}}async readFile(e,n){let r=performance.now(),i=cd(e);this.logEvent("readFile","start",r,i);try{return Kb(this.fs,this.capabilities,pn.Read,"readFile",i),Mb(await this.fs.readFile(e),n)}catch(s){throw this.logEvent("readFile","error",r,i,s instanceof Error?s.message:""),$b(s)}finally{this.logEvent("readFile","end",r,i)}}async readDirectory(e){let n=performance.now();this.logEvent("readDir","start",n,e);try{return Kb(this.fs,this.capabilities,pn.ReadDir,"readDirectory",e),(await this.fs.readDirectory(e)).map(r=>new Vh(r))}catch(r){throw this.logEvent("readDir","error",n,e,r instanceof Error?r.message:""),$b(r)}finally{this.logEvent("readDir","end",n,e)}}async writeFile(e){let n=performance.now(),r=e.url;this.logEvent("writeFile","start",n,r);try{return Kb(this.fs,this.capabilities,pn.Write,"writeFile",e.url),await this.fs.writeFile(e)}catch(i){throw this.logEvent("writeFile","error",n,r,i instanceof Error?i.message:""),$b(i)}finally{this.logEvent("writeFile","end",n,r)}}static disposeOf(e){e instanceof t&&e.fs?.dispose()}};function Kb(t,e,n,r,i){if(!(e&n))throw new Hh(r,i)}var Hb=class{fileType;constructor(e){this.fileType=e}isFile(){return this.fileType===di.File}isDirectory(){return this.fileType===di.Directory}isUnknown(){return!this.fileType}isSymbolicLink(){return!!(this.fileType&di.SymbolicLink)}},HI=class extends Hb{stat;constructor(e){super(e.fileType||di.Unknown),this.stat=e}get size(){return this.stat.size}get mtimeMs(){return this.stat.mtimeMs}get eTag(){return this.stat.eTag}},Vh=class extends Hb{entry;_url;constructor(e){super(e.fileType),this.entry=e}get name(){return this.entry.name}get dir(){return this.entry.dir}get url(){return this._url?this._url:(this._url=new URL(this.entry.name,this.entry.dir),this._url)}toJSON(){return{name:this.name,dir:this.dir,fileType:this.fileType}}};function z9(t){if(!t)return"";let e=t.href,n=e.split("/"),r=n.indexOf("node_modules");if(r>0){let i=n.slice(Math.max(n.length-3,r+1));return n.slice(0,r+1).join("/")+"/\u2026/"+i.join("/")}return e}function H9(t,e,n=" "){return t.padEnd(e,n)}var VI=class{providers=new Set;cachedFs=new Map;revCacheFs=new Map;fsc;fs;loggingEnabled=!1;constructor(){this.fsc=CDe(e=>this._getFS(e)),this.fs=new zh(this.fsc)}enableLogging(e){this.loggingEnabled=e??!0}log=console.log;logEvent=e=>{if(this.loggingEnabled){let n=e.traceID.toFixed(13).replaceAll(/\d{4}(?=\d)/g,"$&."),r=e.message?`
		${e.message}`:"",i=H9(`${e.method}-${e.event}`,16);this.log(`${i} ID:${n} ts:${e.ts.toFixed(13)} ${z9(e.url)}${r}`)}};registerFileSystemProvider(...e){return e.forEach(n=>this.providers.add(n)),this.reset(),{dispose:()=>{for(let n of e){for(let r of this.revCacheFs.get(n)||[])this.cachedFs.delete(r);this.providers.delete(n)}this.reset()}}}getFS(e){return new zh(this._getFS(e))}_getFS(e){let n=`${e.protocol}${e.hostname}`,r=this.cachedFs.get(n);if(r)return r;let i=(a,c)=>u=>{let l=!1,p=a.getFileSystem(u,f=>(l=l||u===f,c(f)));if(p){let f=this.revCacheFs.get(a)||new Set;return f.add(n),this.revCacheFs.set(a,f),p}if(!l)return c(u)},s=a=>{};for(let a of this.providers)s=i(a,s);let o=new Gh(s(e),this.logEvent);return this.cachedFs.set(n,o),o}reset(){this.disposeOfCachedFs()}disposeOfCachedFs(){for(let[e,n]of[...this.cachedFs].reverse()){try{Gh.disposeOf(n)}catch{}this.cachedFs.delete(e)}this.cachedFs.clear(),this.revCacheFs.clear()}dispose(){this.disposeOfCachedFs();let e=[...this.providers].reverse();for(let n of e)try{n.dispose?.()}catch{}}};function CDe(t){function e(n,r){let i=cd(n),s=t(i);if(!s.hasProvider)throw new Hh(r,i,n instanceof URL?void 0:{url:n.url.toString(),encoding:n.encoding});return s}return{providerInfo:{name:"default"},hasProvider:!0,stat:async n=>e(n,"stat").stat(n),readFile:async n=>e(n,"readFile").readFile(n),writeFile:async n=>e(n,"writeFile").writeFile(n),readDirectory:async n=>e(n,"readDirectory").readDirectory(n).then(r=>r.map(i=>new Vh(i))),getCapabilities:n=>e(n,"getCapabilities").getCapabilities(n)}}function G9(t){let e=t||Kh(),n=new VI;return n.registerFileSystemProvider($9(e)),n}var GI;function JI(){return GI||(GI=G9()),GI}var J9=oe(require("node:fs"),1),dd=oe(require("node:stream"),1),X9=require("node:util"),Y9=oe(require("node:zlib"),1);function V9(t,e){return bDe(t)?xDe(t,e):SDe(t,e)}function*SDe(t,e){let n=!0;for(let r of t)yield Wh(r,e,n),n=!1}async function*xDe(t,e){let n=!0;for await(let r of t)yield Wh(r,e,n),n=!1}function bDe(t){return t&&typeof t=="object"&&!!t[Symbol.asyncIterator]}var vDe=(0,X9.promisify)(dd.pipeline);function Jh(t,e,n){return vo(t,typeof e=="string"?[e]:e,n)}function vo(t,e,n){let r=dd.Readable.from(V9(e,n)),i=/\.gz$/.test(t)?Y9.createGzip():new dd.PassThrough;return vDe(r,i,J9.createWriteStream(t))}async function Gb(t,e){return(await Kh().readFile(t,e)).getText()}function Vb(t,e){return Kh().readFileSync(t,e).getText()}function cu(){return JI()}function Jb(){return cu().fs}var Z9=require("node:url"),EDe={},Q9=EDe.url;function TDe(){try{return __dirname}catch{return Q9?(0,Z9.fileURLToPath)(new URL("./",Q9)):process.cwd()}}var Ma=TDe();function e5(t,e){let n="${",r=n.length,i="}",s=[],o=0,a=t.indexOf(n,o);if(a<0)return t;for(;a>=0;){s.push(t.substring(o,a)),o=a;let c=t.indexOf(i,a);if(c<0)break;let u=t.substring(a+r,c);u in e?s.push(e[u]||""):s.push(t.substring(a,c+1)),o=c+1,a=t.indexOf(n,o)}return s.push(t.substring(o)),s.join("")}function Xh(t){let e={};for(let[n,r]of Object.entries(t))e[`env:${n}`]=r||"";return e}var t5=oe(require("node:path"),1),XI=require("node:url");function n5(){return(0,XI.pathToFileURL)(t5.default.join(Ma,"/"))}function Yh(){return(0,XI.pathToFileURL)("./")}function Vr(t){return ft(t,Yh())}function r5(t){return tt(t)}var kDe=/^([a-zA-Z]):[\\]/;function i5(t){return t.replace(kDe,e=>e.toUpperCase())}var Xb=/^node_modules[/\\]/,Qh=class{fs;templateReplacements;constructor(e,n){this.fs=e,this.templateReplacements=n}async resolveFile(e,n){if(e instanceof URL)return{filename:tt(e),relativeTo:n.toString(),found:await this.doesExist(e),method:"url"};let r=await this._resolveFile(e,n),i=e.match(Xb);return i&&(r.warning??=`Import of '${e}' should not start with '${i[0]}' in '${tt(n)}'. Use '${e.replace(Xb,"")}' or a relative path instead.`),r}async _resolveFile(e,n){e=u5(e,this.templateReplacements);let r=[{filename:e,fn:this.tryUrlRel},{filename:e,fn:this.tryCreateRequire},{filename:e,fn:this.tryNodeRequireResolve},{filename:e,fn:this.tryImportResolve},{filename:e,fn:this.tryResolveExists},{filename:e,fn:this.tryNodeResolveDefaultPaths},{filename:e,fn:this.tryResolveFrom},{filename:e,fn:this.tryResolveGlobal},{filename:e,fn:this.tryLegacyResolve}];for(let s of r){let o=await s.fn(s.filename,n);if(o?.found)return o}return await this.tryUrl(e,n)||{filename:Yb(e)?RDe(e,n):e.toString(),relativeTo:n.toString(),found:!1,method:"not found"}}async doesExist(e){try{let n=await this.fs.stat(e);return n.isFile()||n.isUnknown()}catch{return!1}}tryUrlRel=async(e,n)=>{if(Nt(e)){let r=Dr(e);return{filename:tt(r),relativeTo:void 0,found:await this.doesExist(r),method:"tryUrl"}}if(Yb(e)&&Nt(n)&&!Oh(n)){let r=Dr(n),i=ft(e,r);return{filename:tt(i),relativeTo:tt(r),found:await this.doesExist(i),method:"tryUrl"}}};tryUrl=async(e,n)=>{if(Nt(n)&&!Oh(n)){let r=Dr(n),i=ft(e,r);return{filename:tt(i),relativeTo:tt(r),found:await this.doesExist(i),method:"tryUrl"}}};tryCreateRequire=(e,n)=>{if(e instanceof URL)return;let r=!Nt(n)||Ws(n)?n:(0,a5.pathToFileURL)("./"),i=(0,o5.createRequire)(r);try{return{filename:i.resolve(e),relativeTo:r.toString(),found:!0,method:"tryCreateRequire"}}catch{return}};tryNodeResolveDefaultPaths=e=>{try{return{filename:require.resolve(e),relativeTo:void 0,found:!0,method:"tryNodeResolveDefaultPaths"}}catch{return}};tryNodeRequireResolve=(e,n)=>{if(Nt(n)&&!Ws(n))return;let r=r5(e),i=YI(n),s=QI.homedir();function o(c){let u=[c];if(Yb(r))return u;for(;c&&Er.dirname(c)!==c&&c!==s;c=Er.dirname(c))u.push(c);return u}let a=o(Er.resolve(i));try{return{filename:require.resolve(r,{paths:a}),relativeTo:i,found:!0,method:"tryNodeRequireResolve"}}catch{return}};tryImportResolve=(e,n)=>{try{let r=Yb(e)?[n]:[n,Ma];return{filename:(0,Qb.fileURLToPath)(vI(e,r)),relativeTo:n.toString(),found:!0,method:"tryImportResolve"}}catch{return}};tryResolveGlobal=e=>{let n=cI(e);return n&&{filename:n,relativeTo:void 0,found:!0,method:"tryResolveGlobal"}||void 0};tryResolveExists=async(e,n)=>{if(e instanceof URL||Nt(e)||Nt(n)&&!Ws(n))return;n=YI(n);let r=[{filename:e},{filename:Er.resolve(n,e),relativeTo:n}];for(let{filename:i,relativeTo:s}of r){let o=Er.isAbsolute(i)&&await this.doesExist(Vr(i));if(o)return{filename:i,relativeTo:s?.toString(),found:o,method:"tryResolveExists"}}return e=Er.resolve(e),{filename:e,relativeTo:Er.resolve("."),found:await this.doesExist(Vr(e)),method:"tryResolveExists"}};tryResolveFrom=(e,n)=>{if(!(n instanceof URL))try{return{filename:(0,c5.default)(YI(n),e),relativeTo:n,found:!0,method:"tryResolveFrom"}}catch{return}};tryLegacyResolve=(e,n)=>{if(e instanceof URL||Nt(e)||Nt(n)&&!Ws(n))return;let r=Nt(n)?(0,Qb.fileURLToPath)(new URL("./",n)):n.toString();if(e.match(Xb)){let s=e.replace(Xb,""),o=this.tryImportResolve(s,r)||this.tryResolveFrom(s,r);if(o?.found)return o.method="tryLegacyResolve",o}}};function u5(t,e){let n={cwd:process.cwd(),pathSeparator:Er.sep,userHome:QI.homedir()};return t=t.replace(/^~(?=[/\\])/,n.userHome),t=e5(t,{...n,...e}),t}function l5(t,e,n=Xh(process.env)){if(t instanceof URL)return t;t=u5(t,n);let r=Vr(e);return ft(t,r)}function Yb(t){return t instanceof URL||Nt(t)?!1:!!(t.startsWith("./")||t.startsWith("../")||t.startsWith("."+Er.sep)||t.startsWith(".."+Er.sep))}function RDe(t,e){return e instanceof URL||Nt(e)?tt(new URL(t,e)):Er.resolve(e,t)}function YI(t){return t instanceof URL||Nt(t)?(0,Qb.fileURLToPath)(new URL("./",t)):t}var s5=new WeakMap;function FDe(t,e=Xh(process.env)){let n=s5.get(t);return n||(n=new Qh(t,e),s5.set(t,n)),n}async function fd(t,e,n=Jb()){return FDe(n).resolveFile(t,e)}function eN(t){return new ZI(t)}var ZI=class{dictionaries;collection;constructor(e){this.dictionaries=e,this.collection=ADe(e)}isEnabled(e){let n=this.collection[e];return n===void 0?void 0:!!(n&1)}isBlocked(e){let n=this.collection[e];return n===void 0?void 0:!(n&1)}enabled(){return this.dictionaryIds.filter(e=>this.isEnabled(e))}blocked(){return this.dictionaryIds.filter(e=>this.isBlocked(e))}get dictionaryIds(){return Object.keys(this.collection)}};function ADe(t){let e=t.map(PDe).map(_De),n={};for(let r of e)n[r.name]=Math.max(r.weight,n[r.name]||0);return n}function PDe(t){return t.normalize().trim()}function _De(t){let e=t.replace(/^!+/,""),n=t.length-e.length+1;return{name:e.trim(),weight:n}}function IDe(t,e){let n=e.filter(({name:r})=>t.isEnabled(r)).map(NDe);return[...new Map(n.map(r=>[r.name,r])).values()]}function NDe(t){if(t instanceof Zh)return t;let e=d5(t.path,t.file);return{...t,file:void 0,path:e}}function d5(t,e){let n=[t||"",e||""].filter(r=>!!r);return n.length>1?Zb.join(...n):n[0]||""}function eg(t,e){return t?.map(n=>ODe(n,e))}var LDe=R6();function ODe(t,e){return LDe.get(t,n=>MDe(n,e))}function MDe(t,e){if(qDe(t))return t;let n=e.href;return kh(t)?{...t,__source:n}:new Zh(t,e)}function UDe(t,e){return e.name||Zb.basename(t)}function ev(t){let{dictionaries:e=[],dictionaryDefinitions:n=[],noSuggestDictionaries:r=[]}=t,i=eN(r),s=eN([...e,...i.enabled()]),o=n.map(a=>{let c=i.isEnabled(a.name);return c===void 0?a:{...a,noSuggest:c}});return IDe(s,o)}function qDe(t){return WDe(t)||jDe(t)}function WDe(t){return t instanceof Zh}function jDe(t){return kh(t)&&!!t.__source}var Zh=class{sourceURL;_weightMap;name;path;addWords;description;dictionaryInformation;type;file;repMap;useCompounds;noSuggest;scope;__source;ddi;constructor(e,n){this.sourceURL=n,this.__source=n.href;let r=e,{path:i="",file:s="",addWords:o,description:a,dictionaryInformation:c,type:u,repMap:l,noSuggest:p,scope:f,useCompounds:d}=r,h=n,g=d5(i,s),m=UDe(g,e),y=tt(l5(g,h)),C={name:m,file:void 0,path:y,addWords:o,description:a,dictionaryInformation:c,type:u,repMap:l,noSuggest:p,scope:f,useCompounds:d};Object.assign(this,qt(C)),this.ddi=C,this.name=C.name,this.file=C.file,this.path=C.path,this._weightMap=this.dictionaryInformation?vh(this.dictionaryInformation):void 0}get weightMap(){return this._weightMap}toJSON(){return this.ddi}};var tg=class{map;constructor(e){this.map=new Map(e?.map(([n,r])=>[n,new WeakRef(r)]))}clear(){this.map.clear()}delete(e){return this.map.delete(e)}forEach(e,n){n&&(e=e.bind(n));for(let[r,i]of this)e(i,r,this)}get(e){let n=this.map.get(e);if(!n)return;let r=n.deref();if(!r){this.map.delete(e);return}return r}autoGet(e,n){let r=this.get(e);if(r)return r;let i=n(e);return this.set(e,i),i}has(e){return!!this.get(e)}set(e,n){return this.map.set(e,new WeakRef(n)),this}get size(){return this.map.size}[Symbol.iterator](){return this.entries()}*entries(){for(let e of this.map.keys()){let n=this.get(e);n&&(yield[e,n])}}keys(){return this.map.keys()}*values(){for(let[e,n]of this)yield n}cleanKeys(){let e=[];for(let[n,r]of this.map.entries())r.deref()||e.push(n);for(let n of e)this.map.delete(n);return this}[Symbol.toStringTag]="StrongWeakMap"};var ng=class{size;L0=new Map;L1=new Map;L2=new Map;constructor(e){this.size=e}has(e){for(let n of this.caches())if(n.has(e))return!0;return!1}get(e){for(let n of this.caches()){let r=n.get(e);if(r)return n!==this.L0&&this._set(e,r),r.v}}set(e,n){this._set(e,{v:n})}delete(e){let n=!1;for(let r of this.caches())n=r.delete(e)||n;return n}_set(e,n){if(this.L0.has(e))return this.L0.set(e,n),this;this.L0.size>=this.size&&this.rotate(),this.L0.set(e,n)}caches(){return[this.L0,this.L1,this.L2]}rotate(){let e=this.L2;this.L2=this.L1,this.L1=this.L0,this.L0=e,this.L0.clear()}},tv=class extends ng{factory;constructor(e,n){super(n),this.factory=e}get(e){let n=super.get(e);if(n!==void 0)return n;let r=this.factory(e);return this.set(e,r),r}};var uu=class extends Error{uri;options;cause;name;constructor(e,n,r,i){super(i),this.uri=e,this.options=n,this.cause=r,this.name=n.name}};function f5(t){return t instanceof uu}var BDe=1e4,nN={S:p5,C:HDe,W:VDe,T:XDe,default:p5},rg;(function(t){t[t.Loaded=0]="Loaded",t[t.Loading=1]="Loading"})(rg||(rg={}));var ig=class{fs;dictionaryCache=new tg;inlineDictionaryCache=new ui;dictionaryCacheByDef=new Rh;reader;keepAliveCache;constructor(e,n=10){this.fs=e,this.reader=$De(e),this.keepAliveCache=new ng(n)}loadDictionary(e){if(kh(e))return Promise.resolve(this.loadInlineDict(e));let{key:n,entry:r}=this.getCacheEntry(e);if(r)return r.pending.then(([s])=>s);let i=this.loadEntry(e.path,e);return this.setCacheEntry(n,i,e),this.keepAliveCache.set(e,i),i.pending.then(([s])=>s)}async refreshCacheEntries(e=BDe,n=Date.now()){await Promise.all([...this.dictionaryCache.values()].map(r=>this.refreshEntry(r,e,n)))}getCacheEntry(e){let n=this.dictionaryCacheByDef.get(e);if(n)return this.keepAliveCache.get(e),n;let r=this.calcKey(e),i=this.dictionaryCache.get(r);return i&&(i.options=e,this.keepAliveCache.set(e,i)),{key:r,entry:i}}setCacheEntry(e,n,r){this.dictionaryCache.set(e,n),this.dictionaryCacheByDef.set(r,{key:e,entry:n})}async refreshEntry(e,n,r){if(r-e.ts>=n){let i=r+Math.random();e.sig=i,e.ts=r;let s=this.getStat(e.uri),[o]=await Promise.all([s,e.pending]),a=!this.isEqual(o,e.stat);if(e.sig===i&&a){e.loadingState=rg.Loading;let u=this.calcKey(e.options),l=this.loadEntry(e.uri,e.options);this.dictionaryCache.set(u,l),this.dictionaryCacheByDef.set(e.options,{key:u,entry:l})}}}loadEntry(e,n,r=Date.now()){let i=ft(e);n=this.normalizeOptions(i,n);let s=zDe(this.reader,ft(e),n).catch(l=>gb(n.name,e,new uu(i.href,n,l,"failed to load"),n)),o=this.getStat(e),a=Promise.all([s,o]),c=r+Math.random(),u={uri:i.href,options:n,ts:r,stat:void 0,dictionary:void 0,pending:a,loadingState:rg.Loading,sig:c};return a.then(([l,p])=>{u.stat=p,u.dictionary=l,u.loadingState=rg.Loaded}).catch(()=>{}),u}getStat(e){return this.fs.stat(ft(e)).catch(ss)}isEqual(e,n){return n?tN(e)?tN(n)&&e.message===n.message&&e.name===n.name:!tN(n)&&!ad(e,n):!1}normalizeOptions(e,n){return n.name?n:{...n,name:li(e)}}loadInlineDict(e){return this.inlineDictionaryCache.get(e,n=>Eh(n,n.__source||"memory"))}calcKey(e){let n=e.path,r=h5(ft(n),e),i=KDe.map(o=>e[o]?.toString()||"");return[n,r,...i].join("|")}};function $De(t){async function e(n){return(await t.readFile(n)).getText()}return{read:e,readLines:async n=>YDe(await e(n))}}var KDe=["name","noSuggest","useCompounds","type"];function tN(t){return!!t.message}function h5(t,e){let r=e.type&&e.type in nN&&e.type||"S",i=t.pathname.endsWith(".trie.gz")?"T":r;return/\.trie\b/i.test(t.pathname)?"T":i}function zDe(t,e,n){let r=h5(e,n);return(nN[r]||nN.default)(t,e,n)}async function HDe(t,e,n){let r=await t.readLines(e);return GDe(r,e,n)}function GDe(t,e,n){let r=Te(t,Ne(i=>i.replaceAll(/#.*/g,"")),fn(i=>i.split(/[^\w\p{L}\p{M}']+/gu)),Ut(i=>!!i));return zn(r,n.name,e.toString(),n)}async function VDe(t,e,n){let r=await t.readLines(e);return JDe(r,e.toString(),n)}function JDe(t,e,n){let r=Te(t,Ne(i=>i.replaceAll(/#.*/g,"")),fn(i=>i.split(/\s+/gu)),Ut(i=>!!i));return zn(r,n.name,e,n)}async function p5(t,e,n){let r=await t.readLines(e);return zn(r,n.name,e.href,n)}async function XDe(t,e,n){let r=await t.read(e);return hb(r,n.name,e.href,n)}function YDe(t){return t.split(/\n|\r\n|\r/)}var rN;function g5(t){return rN||(rN=new ig(t||Jb()))}function m5(t){return g5().loadDictionary(t)}async function y5(t,e){return g5().refreshCacheEntries(t,e)}function QDe(t){return t.map(m5)}function Ua(t){return y5(t)}var sg=Object.freeze([]);async function fi(t){let e=await Promise.all(QDe(ev(t)));return ZDe(t,e)}var og={words:"[words]",userWords:"[userWords]",flagWords:"[flagWords]",ignoreWords:"[ignoreWords]",suggestWords:"[suggestWords]"},C5=new Map(Object.entries(og).map(([t,e])=>[e,t]));function iN(t){let{words:e=sg,userWords:n=sg,flagWords:r=sg,ignoreWords:i=sg,suggestWords:s=sg}=t,o=zn(e,og.words,"From Settings `words`",{caseSensitive:!0,weightMap:void 0}),a=n.length?zn(n,og.userWords,"From Settings `userWords`",{caseSensitive:!0,weightMap:void 0}):void 0,c=td(i,og.ignoreWords,"From Settings `ignoreWords`"),u=_a(r,og.flagWords,"From Settings `flagWords`"),l=nd(s,"[suggestWords]","From Settings `suggestWords`");return[o,a,c,u,l].filter(Ui)}function ZDe(t,e){let n=[...e,...iN(t)];return os(n,"dictionary collection")}function sN(){return eTe()}function eTe(){return o_(),Ua(0).then(()=>{})}function S5(){sN().catch(()=>{})}var ag=[{id:"ada",extensions:[".adb",".ads"]},{id:"apiblueprint",extensions:[".apib",".apiblueprint"]},{id:"argdown",extensions:[".ad",".adown",".argdn",".argdown"]},{id:"asciidoc",extensions:[".adoc",".asc",".asciidoc"]},{id:"bat",extensions:[".bat",".cmd"]},{id:"bazel",extensions:[".bazel",".bzl"]},{id:"bibtex",extensions:[".bib"]},{id:"bicep",extensions:[".bicep"]},{id:"c",extensions:[".c",".i"]},{id:"cache_files",extensions:[],filenames:[".DS_Store",".cspellcache",".eslintcache"]},{id:"clojure",extensions:[".clj",".cljc",".cljs",".cljx",".clojure",".edn"]},{id:"cmake",extensions:[".cmake"],filenames:["CMakeLists.txt"]},{id:"coffeescript",extensions:[".coffee",".cson",".iced"]},{id:"cpp",extensions:[".c++",".c++m",".cc",".ccm",".cpp",".cppm",".cxx",".cxxm",".h",".h++",".h.in",".hh",".hpp",".hpp.in",".hxx",".ii",".inl",".ino",".ipp",".ixx",".mm",".tpp",".txx"]},{id:"cpp_embedded_latex",extensions:[]},{id:"csharp",extensions:[".cake",".cs",".csx"]},{id:"css",extensions:[".css"]},{id:"cuda-cpp",extensions:[".cu",".cuh"]},{id:"dart",extensions:[".dart"]},{id:"dhall",extensions:[".dhall"]},{id:"diff",extensions:[".diff",".patch",".rej"]},{id:"dockercompose",extensions:[],filenames:["*docker*compose*.yaml","*docker*compose*.yml","compose.*.yaml","compose.*.yml","compose.yaml","compose.yml"]},{id:"dockerfile",extensions:[".containerfile",".dockerfile"],filenames:["*.Dockerfile.*","Containerfile","Containerfile.*","Dockerfile","Dockerfile.*","Dockerfile.dev","dockerfile"]},{id:"elisp",extensions:[".el"]},{id:"elixir",extensions:[".ex",".exs"]},{id:"elm",extensions:[".elm"]},{id:"erb",extensions:[".erb",".html.erb",".rhtml"]},{id:"fsharp",extensions:[".fs",".fsi",".fsscript",".fsx"]},{id:"git-commit",extensions:[],filenames:["COMMIT_EDITMSG","MERGE_MSG"]},{id:"git-rebase",extensions:[],filenames:["git-rebase-todo"]},{id:"github-issues",extensions:[".github-issues"]},{id:"go",extensions:[".go"]},{id:"godot",extensions:[".gd",".godot",".tres",".tscn"]},{id:"gradle",extensions:[".gradle"]},{id:"groovy",extensions:[".gradle",".groovy",".gvy",".jenkinsfile",".nf"],filenames:["Jenkinsfile","Jenkinsfile*"]},{id:"haml",extensions:[".haml"]},{id:"handlebars",extensions:[".handlebars",".hbs",".hjs"]},{id:"haskell",extensions:[".hs",".lhs"]},{id:"haxe",extensions:[".hx"]},{id:"hlsl",extensions:[".cginc",".compute",".fx",".fxh",".hlsl",".hlsli",".psh",".vsh"]},{id:"html",extensions:[".asp",".aspx",".ejs",".htm",".html",".jshtm",".jsp",".mdoc",".rhtml",".shtml",".volt",".vue",".xht",".xhtml"]},{id:"ignore",extensions:[".git-blame-ignore-revs",".gitignore",".gitignore_global",".npmignore"],filenames:[".vscodeignore"]},{id:"ini",extensions:[".conf",".ini"]},{id:"jade",extensions:[".jade",".pug"]},{id:"java",extensions:[".jav",".java"]},{id:"javascript",extensions:[".cjs",".es6",".js",".mjs",".pac"],filenames:["jakefile"]},{id:"javascriptreact",extensions:[".jsx"]},{id:"jinja",extensions:[".jinja"]},{id:"json",extensions:[".babelrc",".bowerrc",".code-profile",".css.map",".eslintrc",".geojson",".har",".ipynb",".js.map",".jscsrc",".jshintrc",".jslintrc",".json",".jsonc",".jsonld",".ts.map",".tsbuildinfo",".vuerc",".webmanifest"],filenames:[".watchmanconfig","composer.lock"]},{id:"jsonc",extensions:[".babelrc",".code-workspace",".color-theme.json",".eslintrc",".eslintrc.json",".hintrc",".icon-theme.json",".jsfmtrc",".jshintrc",".jsonc",".language-configuration.json",".swcrc"],filenames:[".babelrc.json",".code-workspace",".devcontainer.json",".ember-cli","argv.json","babel.config.json","devcontainer.json","extensions.json","jsconfig-*.json","jsconfig.*.json","jsconfig.json","keybindings.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig-*.json","tsconfig.*.json","tsconfig.json","typedoc.json"]},{id:"jsonl",extensions:[".jsonl"]},{id:"jsx-tags",extensions:[]},{id:"julia",extensions:[".jl"]},{id:"juliamarkdown",extensions:[".jmd"]},{id:"jungle",extensions:[".jungle"]},{id:"kotlin",extensions:[".kt"]},{id:"latex",extensions:[".ctx",".ltx",".tex"]},{id:"less",extensions:[".less"]},{id:"lisp",extensions:[".fasl",".l",".lisp",".lsp"]},{id:"literate haskell",extensions:[".lhs"]},{id:"lock",extensions:[".lock"],filenames:["Cargo.lock","berksfile.lock","composer.lock","package-lock.json"]},{id:"log",extensions:[".log"],filenames:["*.log.?"]},{id:"lua",extensions:[".lua"]},{id:"makefile",extensions:[".mak",".mk"],filenames:["GNUmakefile","Makefile","OCamlMakefile","makefile"]},{id:"map",extensions:[".map",".css.map",".ts.map",".js.map"]},{id:"markdown",extensions:[".markdn",".markdown",".md",".mdown",".mdtext",".mdtxt",".mdwn",".mkd",".workbook"]},{id:"markdown_latex_combined",extensions:[]},{id:"markdown-math",extensions:[]},{id:"mdx",extensions:[".mdx"]},{id:"monkeyc",extensions:[".mb",".mc"]},{id:"mustache",extensions:[".mst",".mu",".mustache",".stache"]},{id:"nix",extensions:[".nix"]},{id:"nunjucks",extensions:[".nj",".njk",".nunj",".nunjs",".nunjucks",".tmpl",".tpl"]},{id:"objective-c",extensions:[".m"]},{id:"objective-cpp",extensions:[".mm"]},{id:"ocaml",extensions:[".eliom",".eliomi",".ml",".mli",".mll",".mly"]},{id:"pdf",extensions:[".pdf"]},{id:"pem",extensions:[".pem",".private-key.pem"]},{id:"pem-private-key",extensions:[".private-key.pem"]},{id:"perl",extensions:[".PL",".pl",".pm",".pod",".psgi",".t"]},{id:"perl6",extensions:[".nqp",".p6",".pl6",".pm6"]},{id:"php",extensions:[".ctp",".php",".php4",".php5",".phtml"]},{id:"plaintext",extensions:[".txt"]},{id:"powershell",extensions:[".ps1",".psd1",".psm1",".psrc",".pssc"]},{id:"properties",extensions:[".cfg",".conf",".directory",".editorconfig",".gitattributes",".gitconfig",".gitmodules",".npmrc",".properties",".repo"],filenames:[".env","gitconfig"]},{id:"puppet",extensions:[".puppet"]},{id:"purescript",extensions:[".purs"]},{id:"python",extensions:[".cpy",".gyp",".gypi",".ipy",".py",".pyi",".pyt",".pyw",".rpy"],filenames:["SConscript","SConstruct"]},{id:"r",extensions:[".R",".r",".rhistory",".rprofile",".rt"]},{id:"raku",extensions:[".nqp",".p6",".pl6",".pm6",".raku",".rakudoc",".rakumod",".rakutest"]},{id:"razor",extensions:[".cshtml",".razor"]},{id:"rescript",extensions:[".res",".resi"]},{id:"restructuredtext",extensions:[".rst"]},{id:"rsa",extensions:[".pub"],filenames:["id_rsa","id_rsa.pub"]},{id:"ruby",extensions:[".erb",".gemspec",".podspec",".rake",".rb",".rbi",".rbx",".rjs",".ru"],filenames:["Gemfile","appfile","appraisals","berksfile","berksfile.lock","brewfile","capfile","cheffile","dangerfile","deliverfile","fastfile","gemfile","guardfile","gymfile","hobofile","matchfile","podfile","puppetfile","rakefile","rantfile","scanfile","snapfile","thorfile","vagrantfile"]},{id:"rust",extensions:[".rs"]},{id:"sass",extensions:[".sass"]},{id:"scala",extensions:[".sbt",".sc",".scala"]},{id:"scss",extensions:[".scss"]},{id:"search-result",extensions:[".code-search"]},{id:"shaderlab",extensions:[".cginc",".shader"]},{id:"shellscript",extensions:[".Xsession",".bash",".bash_aliases",".bash_login",".bash_logout",".bash_profile",".bashrc",".csh",".cshrc",".ebuild",".eclass",".fish",".install",".ksh",".profile",".sh",".tcshrc",".xprofile",".xsession",".xsessionrc",".yash_profile",".yashrc",".zlogin",".zlogout",".zprofile",".zsh",".zsh-theme",".zshenv",".zshrc"],filenames:[".env.*",".envrc",".hushlogin","APKBUILD","PKGBUILD","bashrc_Apple_Terminal","zlogin","zlogout","zprofile","zshenv","zshrc","zshrc_Apple_Terminal"]},{id:"snippets",extensions:[".code-snippets"]},{id:"sql",extensions:[".dsql",".sql"]},{id:"stylus",extensions:[".styl"]},{id:"svelte",extensions:[".svelte"]},{id:"swift",extensions:[".swift"]},{id:"terraform",extensions:[".hcl",".tf",".tf.json",".tfvars"]},{id:"tex",extensions:[".bbx",".cbx",".cls",".sty"]},{id:"tfvars",extensions:[".tfvars"],description:"Terraform Variables"},{id:"todo",extensions:[],filenames:["todo"]},{id:"toml",extensions:[".toml"],filenames:["Cargo.lock","Cargo.toml"]},{id:"typescript",extensions:[".cts",".mts",".ts"]},{id:"typescriptreact",extensions:[".tsx"]},{id:"typst",extensions:[".typst"]},{id:"vala",extensions:[".vala"]},{id:"vb",extensions:[".bas",".brs",".vb",".vba",".vbs"]},{id:"vue",extensions:[".vue"]},{id:"xml",extensions:[".ascx",".atom",".axaml",".axml",".bpmn",".config",".cpt",".csl",".csproj",".csproj.user",".dita",".ditamap",".dtd",".dtml",".ent",".fsproj",".fxml",".iml",".isml",".jmx",".launch",".menu",".mod",".mxml",".nuspec",".opml",".owl",".proj",".props",".pt",".publishsettings",".pubxml",".pubxml.user",".rbxlx",".rbxmx",".rdf",".rng",".rss",".shproj",".storyboard",".svg",".targets",".tld",".tmx",".vbproj",".vbproj.user",".vcxproj",".vcxproj.filters",".wsdl",".wxi",".wxl",".wxs",".xaml",".xbl",".xib",".xlf",".xliff",".xml",".xoml",".xpdl",".xsd",".xul"]},{id:"xsl",extensions:[".xsl",".xslt"]},{id:"yaml",extensions:[".cff",".eyaml",".eyml",".yaml",".yaml-tmlanguage",".yaml-tmpreferences",".yaml-tmtheme",".yml"]},{id:"binary",extensions:[".bin",".cur",".dll",".eot",".exe",".gz",".lib",".o",".obj",".phar",".zip"],format:"Binary"},{id:"dll",extensions:[".dll"],format:"Binary"},{id:"exe",extensions:[".exe"],format:"Binary"},{id:"fonts",extensions:[".ttf",".woff",".woff2"],format:"Binary"},{id:"gzip",extensions:[".gz"],format:"Binary"},{id:"image",extensions:[".bmp",".exr",".gif",".heic",".ico",".jpeg",".jpg",".pbm",".pgm",".png",".ppm",".ras",".sgi",".tiff",".webp",".xbm"],format:"Binary",description:"Some image extensions"},{id:"jar",extensions:[".jar"],format:"Binary"},{id:"mdb",extensions:[".mdb"],format:"Binary",description:"Microsoft Access DB"},{id:"object-file",extensions:[".o",".obj"],format:"Binary"},{id:"spv",extensions:[".spv"],format:"Binary",description:"SPSS Output Document"},{id:"trie",extensions:[".trie"],format:"Binary",description:"CSpell dictionary file."},{id:"video",extensions:[".avi",".flv",".mkv",".mov",".mp4",".mpeg",".mpg",".wmv"],format:"Binary"},{id:"webm",extensions:[".webm"],format:"Binary",description:"WebM is an audiovisual media file format."},{id:"wheel",extensions:[".whl"],format:"Binary"}];var tTe=ag.filter(t=>t.format==="Binary").map(t=>t.id),nTe=new Set(["binary","image","video","fonts",...tTe]),rTe=new Set([...nTe,"map","lock","pdf","cache_files","rsa","pem","trie","log"]),e9e=ag.map(({id:t})=>t),iTe=aTe(ag),nv=cTe(iTe),sTe=ag.map(gTe).filter(t=>!!t);function cg(t){return oTe(rTe,t)}function oTe(t,e){if(typeof e=="string")return t.has(e);for(let n of e)if(t.has(n))return!0;return!1}function aTe(t){return t.reduce((e,n)=>{function r(i){dTe(e,i,()=>new Set).add(n.id)}return n.extensions.forEach(r),n.filenames?.forEach(i=>typeof i=="string"?r(i):void 0),e},new Map)}function cTe(t){return new Map([...t].map(([e,n])=>[e,[...n]]))}function x5(t){return nv.get(t)||nv.get("."+t)}function rv(t){return x5(t)||x5(t.toLowerCase())||[]}function uTe(t){return sTe.filter(({regexp:e})=>e.test(t)).map(({id:e})=>e)}function b5(t){let e=nv.get(t);if(e)return e;let n=uTe(t);if(n.length)return n;for(let r=t.indexOf(".");r>=0;r=t.indexOf(".",r+1)){let i=nv.get(t.slice(r));if(i)return i}}function Bs(t){return t=lTe(t),b5(t)||b5(t.toLowerCase())||[]}var v5=/[\\/]/g;function lTe(t){return v5.test(t)?t.split(v5).slice(-1).join(""):t}function dTe(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}function fTe(t){return t.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&").replaceAll("-","\\x2d")}function pTe(t){return t.includes("*")?hTe(t):t}function hTe(t){t=t.replaceAll("**","*");let e="";for(let n of t)switch(n){case"?":{e+=".";break}case"*":{e+=".*";break}default:e+=fTe(n)}return new RegExp(e)}function gTe(t){if(!t.filenames)return;let e=t.filenames.map(pTe).map(r=>r instanceof RegExp?r:void 0).filter(r=>!!r);return e.length?{regexp:new RegExp(e.map(r=>r.source).join("|")),id:t.id}:void 0}var w5=oe(require("node:assert"),1),D5=require("node:url");var oN="stdin:";function kr(t){return ls.isUri(t)?t:Zr.isUri(t)?ls.from(t):t instanceof URL?ls.parse(t.toString()):CTe(t)?ls.parse(t.href):STe(t)?ls.from(t):Nt(t)?ls.parse(t):ls.file(E5(t))}var mTe=process.platform==="win32",T5=/^[a-zA-Z]:[\\/]/,yTe=(0,D5.pathToFileURL)("/");function wo(t){let e=lu(t);return e=e.protocol==="stdin:"?new URL(e.pathname,yTe):e,tt(e)}function E5(t){return T5.test(t)?t[0].toUpperCase()+t.slice(1):t}function CTe(t){return!!t&&typeof t=="object"&&typeof t.href=="string"||!1}function STe(t){if(!t||typeof t!="object")return!1;if(ls.isUri(t)||Zr.isUri(t))return!0;let e=t;return typeof e.path=="string"&&typeof e.scheme=="string"}function iv(t){return Cr.basename(Zr.from(t))}function xTe(t,...e){return ls.from(t,...e)}var bTe=["scheme","authority","path","query","fragment"],ls=class t extends Zr{constructor(e){super(e.scheme,e.authority,e.path,e.query,e.fragment)}toString(){let e=encodeURI(this.path||"").replaceAll(/[#?]/g,o=>`%${(o.codePointAt(0)||0).toString(16)}`),n=`${this.scheme}://${this.authority||""}${e}`,r=this.query&&`?${this.query}`||"",i=this.fragment&&`#${this.fragment}`||"";return n+r+i}toJSON(){let{scheme:e,authority:n,path:r,query:i,fragment:s}=this;return{scheme:e,authority:n,path:r,query:i,fragment:s}}with(e){let{scheme:n,authority:r,path:i,query:s,fragment:o}=this,a={scheme:n,authority:r,path:i,query:s,fragment:o};for(let c of bTe)e[c]&&typeof e[c]=="string"&&(a[c]=e[c]);return new t(a)}static isUri(e){return e instanceof t}static from(e,...n){let r=new t(e);for(let i of n)r=r.with(i);return r}static parse(e){if(e.startsWith(oN))return t.from(wTe(e));let n=Zr.parse(e);return t.from(n)}static file(e){!mTe&&T5.test(e)&&(e="/"+e.replaceAll("\\","/"));let n=ft(e);return t.parse(n.href)}static stdin(e=""){return t.from(t.file(e),{scheme:"stdin"})}};function vTe(t){return E5(t.replaceAll("\\","/"))}function wTe(t){(0,w5.default)(t.startsWith(oN));let e=oN.length,n=e;for(;t[n]==="/";++n);let r=n,i=t.indexOf("#",r),s=i>0?i:t.length,o=t.indexOf("?",r),a=o>0&&o<s?o:s,c=a,u=t.slice(r,c),l=a<s?t.slice(a+1,s):"",p=t.slice(s+1);return{scheme:"stdin",path:(n-e>2?"/":"")+vTe(decodeURI(u)),query:decodeURI(l),fragment:decodeURI(p)}}function lu(t){return Dr(t instanceof URL?t:typeof t=="string"?ft(t):new URL(xTe(t).toString()))}function k5(t){return(Array.isArray(t)?t.join(","):t).split(",").map(e=>e.trim())}function aN(t){return sv(kr(t.uri),t.languageId,t.text)}function sv(t,e,n){let r=kr(t);if(e){let o=k5(e);if(o.length)return cg(o)}let i=iv(r),s=Bs(i);return s.length?cg(s):n?.slice(0,1024).includes("\0")||!1}var N5=require("node:fs/promises");var P5=oe(require("node:assert"),1);var ov=class t{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){for(let r of e)if(t.isIncremental(r)){let i=A5(r.range),s=this.offsetAt(i.start),o=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(o,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=R5(r.text,!1,s);if(c-a===l.length)for(let f=0,d=l.length;f<d;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let p=r.text.length-(o-s);if(p!==0)for(let f=a+1+l.length,d=u.length;f<d;f++)u[f]=u[f]+p}else if(t.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=R5(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return{line:0,character:e};for(;r<i;){let o=Math.floor((r+i)/2);n[o]>e?i=o:r=o+1}let s=r-1;return e=this.ensureBeforeEOL(e,n[s]),{line:s,character:e-n[s]}}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line];if(e.character<=0)return r;let i=e.line+1<n.length?n[e.line+1]:this._content.length,s=Math.min(r+e.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(e,n){for(;e>n&&F5(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let n=e;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(e){let n=e;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}},ug;(function(t){function e(i,s,o,a){return new ov(i,s,o,a)}t.create=e;function n(i,s,o){if(i instanceof ov)return i.update(s,o),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=n;function r(i,s){let o=i.getText(),a=cN(s.map(TTe),(l,p)=>{let f=l.range.start.line-p.range.start.line;return f===0?l.range.start.character-p.range.start.character:f}),c=0,u=[];for(let l of a){let p=i.offsetAt(l.range.start);if(p<c)throw new Error("Overlapping edit");p>c&&u.push(o.substring(c,p)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(o.substr(c)),u.join("")}t.applyEdits=r})(ug||(ug={}));function cN(t,e){if(t.length<=1)return t;let n=t.length/2|0,r=t.slice(0,n),i=t.slice(n);cN(r,e),cN(i,e);let s=0,o=0,a=0;for(;s<r.length&&o<i.length;)e(r[s],i[o])<=0?t[a++]=r[s++]:t[a++]=i[o++];for(;s<r.length;)t[a++]=r[s++];for(;o<i.length;)t[a++]=i[o++];return t}function R5(t,e,n=0){let r=e?[n]:[];for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);F5(s)&&(s===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function F5(t){return t===13||t===10}function A5(t){let e=t.start,n=t.end;return e.line>n.line||e.line===n.line&&e.character>n.character?{start:n,end:e}:t}function TTe(t){let e=A5(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var av=class{languageId;locale;vsTextDoc;uri;constructor(e,n,r,i,s){this.languageId=r,this.locale=i;let o=typeof r=="string"?r:r[0]||"plaintext";this.vsTextDoc=ug.create(e.toString(),o,s,n),this.uri=lu(e)}get version(){return this.vsTextDoc.version}get text(){return this.vsTextDoc.getText()}positionAt(e){return this.vsTextDoc.positionAt(e)}offsetAt(e){return this.vsTextDoc.offsetAt(e)}lineAt(e){let n=this.vsTextDoc.positionAt(e);return this.getLine(n.line)}getLine(e){let n={line:e,character:0},r={line:e+1,character:0},i={start:n,end:r},s=this.vsTextDoc.offsetAt(n);return{text:this.vsTextDoc.getText(i),offset:s,position:n}}*getLines(){let e={start:{line:0,character:0},end:{line:1,character:0}};for(;this.vsTextDoc.offsetAt(e.end)>this.vsTextDoc.offsetAt(e.start);){let n=this.vsTextDoc.offsetAt(e.start);yield{text:this.vsTextDoc.getText(e),offset:n,position:e.start},++e.start.line,++e.end.line}}update(e,n){n=n??this.version+1;for(let r of e){let i=r.range?{range:{start:this.positionAt(r.range[0]),end:this.positionAt(r.range[1])},text:r.text}:r;ug.update(this.vsTextDoc,[i],n)}return this}};function qa({uri:t,content:e,languageId:n,locale:r,version:i}){return i=i??1,t=kr(t),n=n??Bs(iv(t)),n=n.length===0?"text":n,new av(t,e,n,r,i)}function cv(t,e,n){return(0,P5.default)(_5(t),"Unknown TextDocument type"),t.update(e,n)}function _5(t){return t instanceof av}var I5=_5;var ETe="utf8";function uv(t,e,n,r){return qt({uri:kr(t).toString(),text:e,languageId:n,locale:r})}async function uN(t){return lv(await dv(uv(t)))}function lv(t){let{uri:e,text:n,languageId:r,locale:i}=t;return qa({uri:e,content:n,languageId:r,locale:i})}async function L5(t){return lv(await dv(t))}async function kTe(t,e=ETe){let n=await(0,N5.readFile)(t,e);return{uri:kr(t).toString(),text:n}}function dv(t,e){if(RTe(t))return Promise.resolve(t);let n=kr(t.uri);if(n.scheme!=="file")throw new Error(`Unsupported schema: "${n.scheme}", open "${n.toString()}"`);return kTe(wo(n),e)}function RTe(t){return t.text!==void 0}var kN={};Iu(kN,{extractGlobsFromExcludeFilesGlobMap:()=>f0e,generateExclusionFunctionForFiles:()=>Q7,generateExclusionFunctionForUri:()=>g0e});var lg=oe(require("node:path"),1);var{posix:O5}=lg,FTe=/^!*[*]{2}/;var ATe=new as,Wa={cwd:"${cwd}"},M5={suffixAny:"/**",suffixDir:"/**/*",prefixAny:"**/"};function PTe(t){return typeof t!="string"&&typeof t.glob=="string"}function U5(t){return typeof t=="string"?!1:typeof t.root=="string"&&"isGlobalPattern"in t}function q5(t){if(!U5(t))return!1;let e=t;return"rawGlob"in e&&"rawRoot"in e&&typeof e.rawGlob=="string"}function _Te(t,e){return q5(t)?t.root===e.root:!1}function W5(t=lg){return t===lg?ATe:new as({path:t})}function ITe(t,e){t=t.replace(/^(!!)+/,"");let n=t.startsWith("!"),r=n?"!":"";return t=n?t.slice(1):t,(e?NTe(t):LTe(t)).map(s=>r+s)}function NTe(t){if(!t.includes("/"))return t==="**"?["**"]:["**/"+t,"**/"+t+"/**"];let e=t.startsWith("/");return t=e?t.slice(1):t,t.endsWith("/")?e||t.slice(0,-1).includes("/")?[t+"**/*"]:["**/"+t+"**/*"]:t.endsWith("**")?[t]:[t,t+"/**"]}function LTe(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t+"**/*":t,[t]}function j5(t,e){function*n(){for(let r of t){if(q5(r)){yield _Te(r,e)?r:lN(r,e.root,e.nodePath||lg);continue}yield*OTe(r,e)}}return[...n()]}function OTe(t,e){let{root:n,nodePath:r=lg,nested:i}=e,s=W5(r),o=e.cwd??r.resolve(),a=s.toFileDirURL(o),c=s.toFileDirURL(n,a),u=U5(t)?t.isGlobalPattern:void 0;t=PTe(t)?t:{glob:t};let l={...t,root:t.root??n},p=l.root,f=t.glob;if(l.glob=UTe(t.glob),l.glob.startsWith(Wa.cwd)&&(l.glob=l.glob.replace(Wa.cwd,""),l.root=Wa.cwd),l.root.startsWith(Wa.cwd)){let g=l.root.replace(Wa.cwd,"./"),m=s.toFileDirURL(g,a);m.pathname=O5.normalize(m.pathname),l.root=s.urlToFilePathOrHref(m)}let d=u??$Te(l.glob);return l.root=s.urlToFilePathOrHref(s.toFileDirURL(l.root,c)),ITe(l.glob,i).map(g=>({...l,glob:g,rawGlob:f,rawRoot:p,isGlobalPattern:d}))}function lN(t,e,n){let r=W5(n);t={...t},zTe(t,r);let i=r.toFileDirURL(e);if(e=r.urlToFilePathOrHref(i),t.root===e)return t;let s=r.toFileDirURL(t.root),o=r.relative(i,s);if(!o)return t;if(t.isGlobalPattern)return{...t,root:e};let a=r.relative(s,i),c=pv(o),u=pv(a);if(!c&&!u)return t;let l=t.glob.startsWith("!"),p=l?t.glob.slice(1):t.glob,f=l?"!":"";if(c){let h=o;return{...t,glob:f+O5.join(h,p),root:e}}let d=MTe(p,fv(o),fv(a));return d?{...t,glob:f+d,root:e}:t}function fv(t){return t.endsWith("/")?t:t+"/"}function pv(t){return!t||!(t===".."||t.startsWith("../")||t.startsWith("/"))}function MTe(t,e,n){if(!n||n==="/"||e.startsWith("../")&&!n.startsWith("../")&&t.startsWith("**"))return t;e=fv(e),n=fv(n);let r=e.split("/"),i=n.split("/");if(t.startsWith(n)&&e==="../".repeat(r.length-1))return t.slice(n.length);let s=r.findIndex(c=>c!==".."),o=s<0?r.length:s,a=[...r.slice(o).filter(c=>c),...t.split("/")];if(r.length=o,e.startsWith("../")&&i.length!==r.length+1)return e+(t.startsWith("/")?t.slice(1):t);for(let c=0;c<i.length&&c<a.length;++c){let u=i[c],l=a[c];if(!u||l==="**")return a.slice(c).join("/");if(u!==l&&l!=="*")break}return e+(t.startsWith("/")?t.slice(1):t)}function UTe(t){return t=qTe(t),t=BTe(t),t=jTe(t),t}function qTe(t){return t.replace(/(?<=^|\s)#.*/,"")}var WTe={" ":!0,"	":!0,"\n":!0,"\r":!0};function jTe(t){let n=t.length-1;for(;n>=0&&t[n]in WTe;)--n;return t[n]==="\\"&&++n,++n,n?t.slice(0,n):""}function BTe(t){return t.trimStart()}function $Te(t){return FTe.test(t)}function KTe(t,e){return t.startsWith(Wa.cwd)?new URL(e.normalizeFilePathForUrl(t.replace(Wa.cwd,".")),e.cwd):e.toFileDirURL(t)}function zTe(t,e){return t.root.startsWith(Wa.cwd)||(t.root=e.urlToFilePathOrHref(KTe(t.root,e))),t}var o0e=oe(require("node:path"),1);var X7=oe(J7(),1);var a0e=!1,c0e=0,ja=class{matchEx;path;patterns;patternsNormalizedToRoot;root;dot;options;id;constructor(e,n,r){this.id=c0e++;let i=typeof n=="string"||n instanceof URL?{root:n.toString()}:n??{},s=i.mode??"exclude",o=s!=="include",a=i.nodePath??r??o0e;this.path=a;let c=i.cwd??a.resolve(),u=i.dot??o,l=i.nested??o,p=i.nobrace,f=i.root??a.resolve(),d=new as({path:a}),h=d.toFileDirURL(f),g=d.urlToFilePathOrHref(h);this.options={root:g,dot:u,nodePath:a,nested:l,mode:s,nobrace:p,cwd:c},e=Array.isArray(e)?e:typeof e=="string"?e.split(/\r?\n/g):[e];let m=j5(e,this.options);this.patternsNormalizedToRoot=m.map(y=>lN(y,g,a)).filter(y=>d.relative(d.toFileDirURL(y.root),h)===""),this.patterns=m,this.root=g,this.dot=u,this.matchEx=u0e(this.id,this.patterns,this.options)}match(e){return this.matchEx(e).matched}};function u0e(t,e,n){let{nodePath:r,dot:i,nobrace:s}=n,o=new as({path:r}),a={dot:i,nobrace:s},c=M5.suffixDir,u=e.map((h,g)=>({pattern:h,index:g})).filter(h=>!!h.pattern.glob).filter(h=>!h.pattern.glob.startsWith("#")).map(({pattern:h,index:g})=>{let m=h.glob.match(/^!/),y=h.glob.replace(/^!/,""),C=m&&m[0].length&1&&!0||!1,x=X7.default.makeRe(y,a),T=h.glob.endsWith(c)?E=>x.test(E)||E.endsWith("/")&&x.test(E+" "):E=>x.test(E);return{pattern:h,index:g,isNeg:C,fn:T,reg:x}}),l=u.filter(h=>h.isNeg),p=u.filter(h=>!h.isNeg),f=new Map;return h=>{let g=o.toFileURL(h),m=o.relative(new URL("file:///"),g),y=new URL("placeHolder://"),C="";function x(L){let A=f.get(L);if(A)return A;let j=o.toFileDirURL(L);return f.set(L,j),j}function T(L){return L.href!==y.href&&(y=L,C=o.relative(L,g)),C}function E(L,A){for(let j of L){let H=j.pattern,F=H.root,M=x(F),J=!H.isGlobalPattern,_=m;if(J){let I=T(M);if(!pv(I))continue;_=I}if(j.fn(_))return{matched:A,glob:H.glob,root:F,pattern:H,index:j.index,isNeg:j.isNeg}}}let k=E(l,!1)||E(p,!0)||{matched:!1};return a0e&&l0e(t,h,k),k}}function l0e(t,e,n){console.warn("%s;%d;%s",e,t,JSON.stringify(n.matched))}var d0e=new Set(["file","untitled"]);function f0e(t){return Object.getOwnPropertyNames(t).filter(n=>t[n])}var p0e=/^\*\*\/([^/*{}]+)$/;function Y7(t){return t.replace(p0e,"**/{$1,$1/**}")}function h0e(t){return t.map(e=>typeof e=="string"?Y7(e):{...e,glob:Y7(e.glob)})}function g0e(t,e,n=d0e){let r=h0e(t),i=Q7(r,e);function s(a){return n.has(a.scheme)?i(a.scheme==="file"||a.scheme==="stdin"?wo(a):a.path):!0}function o(a){let c=kr(a);return s(c)}return o}function Q7(t,e){let n=new ja(t,{root:e,dot:!0});return r=>n.match(r)}var Z7,gd=class{flags;flagValues=new Map;constructor(e=[]){this.flags=new Map(e.map(n=>[n.name,n]))}register(e,n){return typeof e=="string"?this.register({name:e,description:n||""}):(this.flags.set(e.name,e),this)}getFlag(e){return this.flagValues.get(e)}getFlagBool(e){return y0e(this.getFlag(e))}setFlag(e,n=!0){if(!this.flags.has(e))throw new md(e);return this.flagValues.set(e,n),this}getFlagInfo(e){return this.flags.get(e)}getFlags(){return[...this.flags.values()]}getFlagValues(){return new Map(this.flagValues)}reset(){return this.flagValues.clear(),this}},md=class extends Error{flag;constructor(e){super(`Unknown feature flag: ${e}`),this.flag=e}};function RN(){return Z7||(Z7=new gd)}var m0e={0:!1,1:!0,f:!1,false:!1,n:!1,no:!1,t:!0,true:!0,y:!0,yes:!0};function y0e(t){return typeof t!="string"?t:m0e[t.toLowerCase()]}var NN=oe(require("node:assert"),1);var bv="0.1",FN="0.2",yd=FN,Ba="CSPELL_GLOB_ROOT",vv="@cspell/cspell-bundled-dicts/cspell-default.json";var pu=class{map=new ui;_toDispose;constructor(){this._toDispose=po(()=>{this.clear()})}get(e,n,r){return this.map.get(e,()=>new ui).get(n,()=>r(e,n))}clear(){this.map.clear()}dispose(){this.map.dispose(),this._toDispose?.dispose(),this._toDispose=void 0}stats(){return this.map.stats()}};var eJ=new pu,tJ=new pu;function $a(t,e){if(!Array.isArray(t))return Array.isArray(e)?e:void 0;if(!Array.isArray(e)||!e.length)return t;if(!t.length)return e;let n=eJ.get(t,e,(r,i)=>[...new Set([...r,...i])]);return Object.freeze(t),Object.freeze(e),Object.freeze(n),n}function wv(t,e){if(!Array.isArray(t))return Array.isArray(e)?e:void 0;if(!Array.isArray(e))return t;if(!t.length)return e;if(!e.length)return t;let n=tJ.get(t,e,(r,i)=>[...r,...i]);return Object.freeze(t),Object.freeze(e),Object.freeze(n),n}function AN(){return{cacheMergeListUnique:eJ.stats(),cacheMergeLists:tJ.stats()}}var rJ=/(\p{Ll}\p{M}?)(\p{Lu})/gu,iJ=/(\p{Lu}\p{M}?)((\p{Lu}\p{M}?)\p{Ll})/gu,Dv=/(?<=\p{Ll}\p{M}?)(?=\p{Lu})|(?<=\p{Lu}\p{M}?)(?=\p{Lu}\p{M}?\p{Ll})(?!\p{Lu}\p{M}?(?:s|ing|ies|es|ings|ed|ning)(?!\p{Ll}))/gu;var sJ=/\p{L}\p{M}?(?:(?:\\?['])?\p{L}\p{M}?)*/gu,Tv=/[\p{L}\w'`.+-](?:(?:\\(?=[']))?[\p{L}\p{M}\w'`.+-])*/gu,Cd=/[\p{sc=Hiragana}\p{sc=Han}\p{sc=Katakana}\u30A0-\u30FF\p{sc=Hangul}]/gu,oJ=/^\p{Lu}\p{M}?\p{Ll}+$/u,PN=/^(?:\p{Lu}\p{M}?)+$/u,_N=/^(?:\p{Ll}\p{M}?)+$/u,aJ=/[-+_'`.\s]/g,C0e=/^\s*\/([\s\S]*?)\/([gimuxy]*)\s*$/,cJ=/\p{M}/gu,uJ=/(?<=\\)[anrvtbf]/gi,lJ=/(?<=(?:^|(?!\p{M})\P{L})(?:\p{L}\p{M}?)?)[']/gu,dJ=/(?<=(?:\p{Lu}\p{M}?){2})[']?(?:s|d|ings?|ies|e[ds]?|ning|th|nth)(?!\p{Ll})/gu,fJ=/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][-+]?\d+)?$/;function gg(t,e="gimu",n="g"){if(t instanceof RegExp)return t;try{let[,r,i]=[...t.match(C0e)||["",t.trim(),e],n];if(r){let s=i.includes("x")?S0e(r):r,o=[...new Set(n+i)].join("").replaceAll(/[^gimuy]/g,"");return new RegExp(s,o)}}catch{}}var nJ={" ":!0,"\n":!0,"\r":!0,"	":!0};function S0e(t){function e(c){if(t[c.idx]!=="\\")return;let l=t[++c.idx];return c.idx++,l==="#"?(c.result+="#",c):l in nJ?(c.result+=l,l==="\r"&&t[c.idx]===`
`&&(c.result+=`
`,c.idx++),c):(c.result+="\\"+l,c)}function n(c){let u=t[c.idx];if(u!=="[")return;c.result+=u,c.idx++;let l=0;for(;c.idx<t.length;){let p=t[c.idx];if(c.result+=p,c.idx++,p==="]"&&!(l&1))break;l=p==="\\"?l+1:0}return c}function r(c){if(t[c.idx]in nJ)return c.idx++,c}function i(c){if(t[c.idx]==="#"){for(;c.idx<t.length&&t[c.idx]!==`
`;)c.idx++;return c}}function s(c){let u=t[c.idx++];return c.result+=u,c}let o=[e,n,r,i,s],a={idx:0,result:""};for(;a.idx<t.length;)for(let c of o)if(c(a))break;return a.result}var x0e=[],b0e=[],v0e=new pu;function IN(t=x0e,e=b0e){return v0e.get(t,e,w0e)}function w0e(t,e){let n=new Map(e.map(c=>[c.name.toLowerCase(),c.pattern])),r=new Set;function i(c){if(!r.has(c))return r.add(c),n.get(c.toString().toLowerCase())||c}function*s(c){for(let u of c)Array.isArray(u)?yield*s(u.map(i).filter(Ui)):yield u}let o=t.map(i).filter(Ui),a=[...s(o)].map(D0e).filter(Ui);return Object.freeze(t),Object.freeze(e),Object.freeze(a),a}function D0e(t){return t instanceof RegExp?new RegExp(t):gg(t,"gim","g")}var Ev=require("node:url"),kv=class{#e;#t;#n;#r;constructor(){this.#n=process.cwd(),this.#r=(0,Ev.pathToFileURL)(this.#n),this.#e=this.#n,this.#t=this.#r}resolveUrl(e){return e=e||this.#n,e===this.#e?this.#t:e===this.#n?this.#r:(this.#e=e,this.#t=(0,Ev.pathToFileURL)(e),this.#t)}reset(e=process.cwd()){this.#n=e,this.#r=(0,Ev.pathToFileURL)(this.#n)}};var mJ=[];Object.freeze(mJ);var yJ=new ui,CJ=new ui,SJ=new ui,xJ=new ui,bJ=new Map,vJ=new kv,wJ=process.env[Ba];po(()=>{xJ.clear(),bJ.clear(),yJ.clear(),CJ.clear(),SJ.clear(),vJ.reset(),wJ=process.env[Ba]});function T0e(t,e){let n=id(yJ,t,()=>new WeakMap);return id(n,e,()=>[...t,...e])}function mg(t,e){return!Array.isArray(t)||!t.length?Array.isArray(e)?e.length?e:mJ:void 0:!Array.isArray(e)||!e.length?t:T0e(t,e)}function pJ(t,e){return!t||typeof t!="object"?!e||typeof e!="object"?void 0:e:!e||typeof e!="object"?t:{...t,...e}}function E0e(t=[],e=[]){let n=e.filter(r=>!!r);return n.length?n:t}function Ft(t,...e){let n=e.filter(Ui).reduce(k0e,gi(t));return qt(n)}function hJ(t){return!t||Object.keys(t).length===0}function k0e(t,e){let n=CJ.get(t,()=>new WeakMap);return id(n,e,()=>R0e(t,e))}function R0e(t,e){let n=gi(t),r=gi(e);if(t===e||hJ(e))return n;if(hJ(t)||F0e(n,r))return r;if(A0e(n,r))return n;let i=DJ(n.includeRegExpList,r.includeRegExpList),s=i?.length?{includeRegExpList:i}:{},o=N0e(n.version,r.version);return wb({...n,...r,...s,...{name:void 0,id:void 0,description:void 0,globRoot:void 0,import:void 0,__importRef:void 0},version:o,words:mg(n.words,r.words),userWords:mg(n.userWords,r.userWords),flagWords:mg(n.flagWords,r.flagWords),ignoreWords:mg(n.ignoreWords,r.ignoreWords),suggestWords:mg(n.suggestWords,r.suggestWords),enabledLanguageIds:E0e(n.enabledLanguageIds,r.enabledLanguageIds),enableFiletypes:wv(n.enableFiletypes,r.enableFiletypes),enabledFileTypes:pJ(n.enabledFileTypes,r.enabledFileTypes),ignoreRegExpList:$a(n.ignoreRegExpList,r.ignoreRegExpList),patterns:$a(n.patterns,r.patterns),dictionaryDefinitions:$a(n.dictionaryDefinitions,r.dictionaryDefinitions),dictionaries:$a(n.dictionaries,r.dictionaries),noSuggestDictionaries:$a(n.noSuggestDictionaries,r.noSuggestDictionaries),languageSettings:wv(n.languageSettings,r.languageSettings),enabled:r.enabled!==void 0?r.enabled:n.enabled,files:$a(n.files,r.files),ignorePaths:gJ(n.ignorePaths,r.ignorePaths,o),overrides:gJ(n.overrides,r.overrides,o),features:pJ(n.features,r.features),source:I0e(n,r),plugins:wv(n.plugins,r.plugins),__imports:TJ(n,r)})}function gJ(t,e,n){return n===bv?DJ(t,e):$a(t,e)}function F0e(t,e){return LN(e,t,0)}function A0e(t,e){return LN(t,e,1)}function LN(t,e,n){let r=t.source?.sources;if(!r)return!1;let i=n?r.length-1:0,s=r[i];return s===e||s&&LN(s,e,n)||!1}function ON(t,...e){let n=Ft(t,...e);return qt(n)}function DJ(t,e){return e?.length?e:t||e}function ji(t){return P0e(gi(t))}function P0e(t){let e={...t,finalized:!0,ignoreRegExpList:IN(t.ignoreRegExpList,t.patterns),includeRegExpList:IN(t.includeRegExpList,t.patterns),parserFn:O0e(t)};return e.name="Finalized "+(e.name||""),e.source={name:t.name||"src",sources:[t]},e}function gi(t){if(t!==void 0)return k6(t)?t:SJ.get(t,_0e)}function _0e(t){let{dictionaryDefinitions:e,...n}=t,r=e&&eg(e,t.source?.filename&&Vr(t.source?.filename)||L0e()),i=r?{...n,dictionaryDefinitions:r}:n;return wb(i)}function I0e(t,e){return{name:"merged",sources:[t,e]}}function N0e(t,e){return t==null?e:e==null||t>e?t:e}function yg(t){let e=new Set,n=[];function r(i){if(!(!i||e.has(i))){if(e.add(i),!i.source?.sources?.length){n.push(i);return}i.source.sources.forEach(r)}}return r(t),n}function TJ(t,e={}){let n=new Map(t.__imports||[]);t.__importRef&&n.set(t.__importRef.filename,t.__importRef),e.__importRef&&n.set(e.__importRef.filename,e.__importRef);let r=e.__imports?.values()||[];for(let i of r)n.set(i.filename,i);return n.size?n:void 0}function MN(t){let e=gi(t),n=[...TJ(e)||[]].map(([i])=>i),r=ev(e).map(i=>i.path).filter(i=>!!i);return{configFiles:n,dictionaryFiles:r}}function L0e(){return vJ.resolveUrl(wJ)}function O0e(t){if(!t.parser)return;if(typeof t.parser=="function")return t.parser;let e=t.parser;(0,NN.default)(typeof e=="string");let r=q0e(t.plugins).get(e);return(0,NN.default)(r,`Parser "${e}" not found.`),r}function*M0e(t){for(let e of t)if(e.parsers)for(let n of e.parsers)yield[n.name,n]}function U0e(t){return new Map(M0e(t))}function q0e(t){return!t||!t.length?bJ:xJ.get(t,U0e)}async function EJ(t){return fi(gi(t))}function Bi(t,e,n){return new UN(t,e,n)}var UN=class{name;onEnd;timeNowFn;_start=performance.now();_elapsed=void 0;_running=!0;constructor(e,n,r=performance.now){this.name=e,this.onEnd=n,this.timeNowFn=r}get startTime(){return this._start}get elapsed(){return this._elapsed??performance.now()-this._start}end(){if(!this._running)return;this._running=!1;let e=performance.now();this._elapsed=e-this._start,this.onEnd?.(this._elapsed,this.name)}start(){this._start=performance.now(),this._running=!0}};var qN=new Map,WN=new WeakMap;po(()=>{WN=new WeakMap,qN.clear()});var j0e=[];function Cg(t){return!t||Array.isArray(t)&&!t.length?kJ(j0e):typeof t=="string"?B0e(t):kJ(t)}function B0e(t){let e=qN.get(t);if(e)return e;let n=new ja(t);return qN.set(t,n),n}function kJ(t){let e=WN.get(t);if(e)return e;let n=new ja(t);return WN.set(t,n),n}function Sd(t,e){return Cg(e).match(t)}function Sg(t,e){let n=gi(t);return(n.overrides||[]).filter(s=>Sd(e,s.filename)).reduce((s,o)=>Ft(s,o),n)}var dL=oe(require("node:assert"),1),qX=oe(require("node:path"),1),Cu=require("node:url");var UJ=require("node:path/posix");var Ka=class{url;constructor(e){this.url=e}get readonly(){return this.settings.readonly||this.url.protocol!=="file:"}get virtual(){return!1}get remote(){return this.url.protocol!=="file:"}},$i=class extends Ka{url;settings;constructor(e,n){super(e),this.url=e,this.settings=n}addWords(e){if(this.readonly)throw new Error(`Config file is readonly: ${this.url.href}`);let n=this.settings.words||[];return this.settings.words=n,$0e(n,e),this}};function $0e(t,e){t.unshift(...e),t.sort();for(let n=1;n<t.length;++n)t[n]===t[n-1]&&(t.splice(n,1),--n)}var za=class extends $i{url;settings;constructor(e,n){super(e,n),this.url=e,this.settings=n}get virtual(){return!0}};var xg=class extends $i{url;settings;get readonly(){return!0}constructor(e,n){super(e,n),this.url=e,this.settings=n}addWords(e){throw new Error("Unable to add words to a JavaScript config file.")}};var Rv=oe(TT(),1);function bg(t){let e=t.match(/^[ \t]+/m);return e&&e[0]||"  "}function RJ(t){return bg(t).replaceAll("	","    ").replaceAll(/[^ ]/g,"").length}var To=class t extends $i{url;settings;indent=2;constructor(e,n){super(e,n),this.url=e,this.settings=n}serialize(){return(0,Rv.stringify)(this.settings,void 0,this.indent)+`
`}static parse(e){try{let n=(0,Rv.parse)(e.content);if(!K0e(n))throw new vg(e.url);let r=bg(e.content),i=new t(e.url,n);return i.indent=r,i}catch(n){throw n instanceof vg?n:new vg(e.url,void 0,{cause:n})}}};function FJ(t){return To.parse(t)}function K0e(t){return!(!t||typeof t!="object"||Array.isArray(t))}var vg=class extends Error{url;constructor(e,n,r){super(n||`Unable to parse ${e}`,r),this.url=e}};var xd=class extends $i{url;settings;serializer;constructor(e,n,r){super(e,n),this.url=e,this.settings=n,this.serializer=r}serialize(){return this.serializer(this.settings)}};function AJ(t){let{url:e,content:n}=t,r=JSON.parse(n);if(!r||typeof r!="object"||Array.isArray(r))throw new Error(`Unable to parse ${e}`);r.cspell=r.cspell||{};let i=r.cspell;if(typeof i!="object"||Array.isArray(i))throw new TypeError(`Unable to parse ${e}`);let s=bg(n);function o(a){return r.cspell=a,JSON.stringify(r,void 0,s)+`
`}return new xd(e,i,o)}var Fv=oe(o0(),1);var bd=class extends $i{url;settings;serializer;constructor(e,n,r){super(e,n),this.url=e,this.settings=n,this.serializer=r}serialize(){return this.serializer(this.settings)}};function PJ(t){let{url:e,content:n}=t,r=(0,Fv.parse)(n)||{};if(!r||typeof r!="object"||Array.isArray(r))throw new Error(`Unable to parse ${e}`);let i=RJ(n);function s(o){return(0,Fv.stringify)(o,{indent:i})}return new bd(e,r,s)}var _J=t=>{throw new Error(`Unable to parse config file: "${t.url}"`)},IJ=t=>{throw new Error(`Unable to serialize config file: "${t.url}"`)};function NJ(t){let e=_J;for(let n of t)e=z0e(n,e);return e}function LJ(t){let e=IJ;for(let n of t)e=H0e(n,e);return e}function z0e(t,e){return n=>t.deserialize(n,e)}function H0e(t,e){return n=>t.serialize(n,e)}function G0e(t,e){return n=>t.load(n,e)}async function V0e(t){let{io:e,deserialize:n}=t.context,r=t.url,i=await e.readFile(r);return n(i)}function OJ(t){let e=V0e;for(let n of t)e=G0e(n,e);return e}function MJ(t){return typeof t=="string"?new URL(t):t}var Av=class{io;middleware;loaders;constructor(e,n,r){this.io=e,this.middleware=n,this.loaders=r}_untrustedExtensions=new Set;_trustedUrls=[];get untrustedExtensions(){return[...this._untrustedExtensions]}get trustedUrls(){return[...this._trustedUrls].map(e=>new URL(e))}readConfig(e){let n=new URL(e);return J0e(n,this._trustedUrls,this._untrustedExtensions)?OJ(this.loaders)({url:MJ(e),context:{deserialize:this.getDeserializer(),io:this.io}}):Promise.reject(new jN(n))}toCSpellConfigFile(e){return e instanceof Ka?e:new za(e.url,e.settings)}getDeserializer(){return NJ(this.middleware)}serialize(e){return LJ(this.middleware)(e)}async writeConfig(e){if(e.readonly)throw new Error(`Config file is readonly: ${e.url.href}`);let n=this.serialize(e);return await this.io.writeFile({url:e.url,content:n}),{url:e.url}}setUntrustedExtensions(e){return this._untrustedExtensions.clear(),e.forEach(n=>this._untrustedExtensions.add(n.toLowerCase())),this}setTrustedUrls(e){return this._trustedUrls=[...new Set(e.map(n=>new URL(n).href))].sort(),this}clearCachedFiles(){for(let e of this.loaders)e.reset?.()}};function J0e(t,e,n){let r=t.pathname,i=(0,UJ.extname)(r).toLowerCase();if(!n.has(i))return!0;let s=t.href;return e.some(o=>s.startsWith(o))}var jN=class extends Error{constructor(e){super(`Untrusted URL: "${e.href}"`)}};var BN=require("node:fs"),qJ={readFile:X0e,writeFile:Y0e};async function X0e(t){let e=await BN.promises.readFile(t,"utf8");return{url:t,content:e}}async function Y0e(t){return await BN.promises.writeFile(t.url,t.content),{url:t.url}}var WJ=require("node:path/posix");var Q0e=!1,$N=Q0e?console.warn.bind(console):()=>{};async function Z0e(t,e){try{let n=new URL(t.href);n.hash=`${n.hash};loaderSuffix=${e}`,$N("importJavaScript: %o",{url:n.href});let r=await import(n.href),i=await(r.default??r),s=typeof i=="function"?await i():i;return new xg(t,s)}catch(n){throw $N("importJavaScript Error: %o",{url:t.href,error:n,hashSuffix:e}),n}finally{$N("importJavaScript Done: %o",{url:t.href,hashSuffix:e})}}var KN=class{hashSuffix=1;async _load(e,n){let{url:r}=e;switch((0,WJ.extname)(r.pathname).toLowerCase()){case".js":case".cjs":case".mjs":return Z0e(r,this.hashSuffix)}return n(e)}load=this._load.bind(this);reset(){this.hashSuffix+=1}},jJ=new KN;var BJ=[jJ];function eke(t,e){return tke(t.url.pathname)?FJ(t):e(t)}function tke(t){return t=t.toLowerCase(),t.endsWith(".json")||t.endsWith(".jsonc")}function nke(t,e){return t instanceof To?t.serialize():e(t)}var $J={deserialize:eke,serialize:nke};function rke(t,e){return ike(t.url.pathname)?PJ(t):e(t)}function ike(t){return t=t.toLowerCase(),t.endsWith(".yml")||t.endsWith(".yaml")}function ske(t,e){return t instanceof bd?t.serialize():e(t)}var KJ={deserialize:rke,serialize:ske};var oke=/\bpackage\.json$/i;function ake(t,e){return oke.test(t.url.pathname)?AJ(t):e(t)}function cke(t,e){return t instanceof xd?t.serialize():e(t)}var zJ={deserialize:ake,serialize:cke};var HJ=[$J,KJ,zJ];function zN(t=[],e=[],n=qJ){return new Av(n,[...HJ,...t],[...BJ,...e])}var wg=console;function HN(...t){wg.error(...t)}function GJ(...t){wg.warn(...t)}function VJ(t){let e=wg;return wg=t,e}function JJ(){return wg}var ZN=require("node:url");var _v=oe(require("node:fs/promises"),1),gu=oe(require("node:path"),1);var tn=oe(require("node:path"),1),GN=oe(require("node:os"),1),Pv=oe(require("node:process"),1),Ha=GN.default.homedir(),VN=GN.default.tmpdir(),{env:vd}=Pv.default,uke=t=>{let e=tn.default.join(Ha,"Library");return{data:tn.default.join(e,"Application Support",t),config:tn.default.join(e,"Preferences",t),cache:tn.default.join(e,"Caches",t),log:tn.default.join(e,"Logs",t),temp:tn.default.join(VN,t)}},lke=t=>{let e=vd.APPDATA||tn.default.join(Ha,"AppData","Roaming"),n=vd.LOCALAPPDATA||tn.default.join(Ha,"AppData","Local");return{data:tn.default.join(n,t,"Data"),config:tn.default.join(e,t,"Config"),cache:tn.default.join(n,t,"Cache"),log:tn.default.join(n,t,"Log"),temp:tn.default.join(VN,t)}},dke=t=>{let e=tn.default.basename(Ha);return{data:tn.default.join(vd.XDG_DATA_HOME||tn.default.join(Ha,".local","share"),t),config:tn.default.join(vd.XDG_CONFIG_HOME||tn.default.join(Ha,".config"),t),cache:tn.default.join(vd.XDG_CACHE_HOME||tn.default.join(Ha,".cache"),t),log:tn.default.join(vd.XDG_STATE_HOME||tn.default.join(Ha,".local","state"),t),temp:tn.default.join(VN,e,t)}};function JN(t,{suffix:e="nodejs"}={}){if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return e&&(t+=`-${e}`),Pv.default.platform==="darwin"?uke(t):Pv.default.platform==="win32"?lke(t):dke(t)}var YJ=oe(require("os"),1),Tg=oe(require("path"),1),Ga=YJ.default.homedir(),{env:hu}=process,XJ=hu.XDG_DATA_HOME||(Ga?Tg.default.join(Ga,".local","share"):void 0),Dg=hu.XDG_CONFIG_HOME||(Ga?Tg.default.join(Ga,".config"):void 0),K7e=hu.XDG_STATE_HOME||(Ga?Tg.default.join(Ga,".local","state"):void 0),z7e=hu.XDG_CACHE_HOME||(Ga?Tg.default.join(Ga,".cache"):void 0),H7e=hu.XDG_RUNTIME_DIR||void 0,fke=(hu.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":");XJ&&fke.unshift(XJ);var pke=(hu.XDG_CONFIG_DIRS||"/etc/xdg").split(":");Dg&&pke.unshift(Dg);var hke="cspell",gke=Dg?gu.default.join(Dg,"configstore"):void 0,Iv=JN(hke,{suffix:""}).config,XN="cspell.json",mke=[Iv,gke].filter(Ui),Eg=class{#e;#t;constructor(e=XN){this.#t=e}async#n(e){try{let n=await _v.default.readFile(e,"utf8");return{filename:e,config:JSON.parse(n)}}catch{return}}async readConfigFile(){if(this.#e){let r=await this.#n(this.#e);if(r)return r}let e=gu.default.resolve(Iv,this.#t),n=new Set([e,...mke.map(r=>gu.default.resolve(r,XN))]);for(let r of n){let i=await this.#n(r);if(i)return this.#e=i.filename,i}}async writeConfigFile(e){return this.#e??=gu.default.join(Iv,this.#t),await _v.default.mkdir(gu.default.dirname(this.#e),{recursive:!0}),await _v.default.writeFile(this.#e,JSON.stringify(e,void 0,2)+`
`),this.#e}get location(){return this.#e}static create(){return new this}static defaultLocation=gu.default.join(Iv,XN)};var QJ=require("node:os"),ZJ=require("node:url");function wd(t,e,n){if(t!==void 0){if(Array.isArray(t))return t.map(r=>wd(r,e,n));if(typeof t=="string"){let r={glob:t};return e!==void 0&&(r.root=e),wd(r,e,n)}return n?{...t,source:n}:t}}function eX(t){typeof t.version=="number"&&(t.version=t.version.toString()),t.import&&(t.import=kg(t.import))}function YN(t,e){let n=eg(t.dictionaryDefinitions,e),r=t.languageSettings?.map(i=>qt({...i,dictionaryDefinitions:eg(i.dictionaryDefinitions,e)}));return qt({dictionaryDefinitions:n,languageSettings:r})}function tX(t,e){let{globRoot:n=tt(new URL(".",e))}=t,r=t.overrides?.map(i=>{let s=wd(i.filename,n,tt(e)),{dictionaryDefinitions:o,languageSettings:a}=YN(i,e);return qt({...i,filename:s,dictionaryDefinitions:o,languageSettings:QN(a)})});return r?{overrides:r}:{}}async function nX(t,e){if(t.reporters===void 0)return{};async function n(i){if(i==="default")return i;let s=await fd(i,e);if(!s.found)throw new Error(`Not found: "${i}"`);return s.filename}async function r(i){if(typeof i=="string")return n(i);if(!Array.isArray(i)||typeof i[0]!="string")throw new Error("Invalid Reporter");let[s,...o]=i;return[await n(s),...o]}return{reporters:await Promise.all(t.reporters.map(r))}}function QN(t){if(!t)return;function e(n){let{local:r,...i}=n;return qt({locale:r,...i})}return t.map(e)}function rX(t,e){let{gitignoreRoot:n}=t;return n?{gitignoreRoot:(Array.isArray(n)?n:[n]).map(i=>yke(i,e))}:{}}function iX(t,e){let{globRoot:n}=t,r={};return t.ignorePaths&&(r.ignorePaths=wd(t.ignorePaths,n,tt(e))),t.files&&(r.files=wd(t.files,n,tt(e))),r}function sX(t,e){let{cache:n}=t;if(n===void 0)return{};let{cacheLocation:r}=n;return r===void 0?{cache:n}:{cache:{...n,cacheLocation:tt(oX(r,e))}}}function oX(t,e){let n=process.cwd();return ft(t.replace("${cwd}",n).replace(/^~/,(0,QJ.homedir)()),e)}function yke(t,e){let n=oX(t,e);return n.protocol==="file:"?(0,ZJ.fileURLToPath)(n):n.toString()}function kg(t){return typeof t=="string"?[t]:Array.isArray(t)?t:[]}function aX(t,e){let n=tt(e);return{__importRef:{filename:n,error:t},source:{name:n,filename:n}}}function mu(t){if(!t)return{};let e=t.url,n=tt(e),r={filename:n,error:void 0},i={name:t.settings.name||n,filename:t.virtual?void 0:n},s={...t.settings};s.import=kg(s.import),eX(s),s.source=i,t.virtual||(s.__importRef=r);let o=s.id||Cke(e),a=s.name||o;return s.id=o,s.name=t.settings.name||a,s}function Cke(t){return t.pathname.split("/").slice(-2).join("/")}var eL=new Eg;async function tL(){return mu(await nL())}async function nL(){let t="CSpell Configstore",e=Ske(),n=e?(0,ZN.pathToFileURL)(e):new URL("global-config.json",n5()),r={name:t,filename:tt(n)},i={source:r},s=!1,o=await eL.readConfigFile();if(o&&o.config&&o.filename){let u=o.config;n=(0,ZN.pathToFileURL)(o.filename),u&&Object.keys(u).length&&(Object.assign(i,u),i.source={name:t,filename:o.filename},s=Object.keys(u).length>0)}let a={...i,name:t,source:r},c=s?To:za;return new c(n,a)}async function rL(t){let e={import:t.import};await eL.writeConfigFile(e)}function Ske(){try{return eL.location||Eg.defaultLocation}catch{return}}var Va=class extends Error{cause;constructor(e,n){super(e),this.cause=ih(n)?n:void 0}};var Nv=class extends Error{constructor(e){super(e)}};var cL=require("node:url"),AX=oe(mX(),1),PX=oe(DX(),1);var EX=require("node:fs/promises"),Td=oe(require("node:path"),1),kX=require("node:url");async function RX(t,e={}){let{cwd:n=process.cwd(),type:r="file",stopAt:i}=e,s=Td.default.resolve(TX(n)),o=Td.default.parse(s).root,a=Eke(t,r),c=Td.default.resolve(TX(i||o));for(;s!==o&&s!==c;){let u=await a(s);if(u!==void 0)return u;s=Td.default.dirname(s)}}function Eke(t,e){if(typeof t=="function")return t;let n=e==="file"?"isFile":"isDirectory";function r(i,s){let o=Td.default.join(i,s);return(0,EX.stat)(o).then(a=>a[n]()&&o||void 0).catch(()=>{})}return Array.isArray(t)?async i=>{let s=t.map(o=>r(i,o));for(let o of s){let a=await o;if(a)return a}}:i=>r(i,t)}function TX(t){return t instanceof URL?(0,kX.fileURLToPath)(new URL(".",t)):t}var kke=[".pnp.cjs",".pnp.js"],Rke=new Set(["file:"]),Rg=new Map,yu,Fg=new Map,_X=new Map,aL=class{pnpFiles;cacheKeySuffix;constructor(e=kke){this.pnpFiles=e,this.cacheKeySuffix=":"+e.join(",")}async load(e){if(!FX(e))return;await yu;let n=this.calcKey(e),r=Rg.get(n);if(r)return r;let i=Fke(e,this.pnpFiles);Rg.set(n,i);let s=await i;return _X.set(n,s),s}async peek(e){if(!FX(e))return;await yu;let n=this.calcKey(e);return Rg.get(n)??Promise.resolve(void 0)}clearCache(){return _ke()}calcKey(e){return e.toString()+this.cacheKeySuffix}};function IX(t){return new aL(t)}async function Fke(t,e){let n=await RX(e,{cwd:(0,cL.fileURLToPath)(t)});return Ake(n)}function Ake(t){if(!t)return;let e=Fg.get(t);if(e||Fg.has(t))return e;let n=Pke(t);return Fg.set(t,n),n}function Pke(t){let e=(0,PX.default)(t);if(e.setup)return e.setup(),Vr(t);throw new Nv(`Unsupported pnp file: "${t}"`)}function _ke(){return yu||(yu=Ike().finally(()=>{yu=void 0}),yu)}async function Ike(){await Promise.all([...Rg.values()].map(Nke)),[...Fg.values()].forEach(e=>e&&AX.default.single((0,cL.fileURLToPath)(e))),Rg.clear(),_X.clear(),Fg.clear()}function Nke(t){return t.catch(()=>{})}function FX(t){return Rke.has(t.protocol)}var Lv=[".json",".jsonc",".yaml",".yml",".mjs",".cjs",".js"],Lke=new Set(["package.json",".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json",".cspell.config.json",".cspell.config.jsonc",".cspell.config.yaml",".cspell.config.yml","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml",...Ov("cspell.config",Lv),...Ov(".cspell.config",Lv),".cspell.yaml",".cspell.yml","cspell.yaml","cspell.yml",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",...Ov(".config/cspell.config",Lv),...Ov(".config/.cspell.config",Lv),".config/cspell.yaml",".config/cspell.yml"]),Mv=Object.freeze([...Lke]),Ed=Object.freeze([...Mv]);function Ov(t,e){return e.map(n=>t+n)}var LX=require("node:path/posix");async function NX(t,e,n={}){return(n.fs??cu().fs).findUp(t,e,n)}var Ag=class{searchPlaces;allowedExtensionsByProtocol;fs;searchCache=new Map;searchDirCache=new Map;searchPlacesByProtocol;constructor(e,n,r){this.searchPlaces=e,this.allowedExtensionsByProtocol=n,this.fs=r,this.searchPlacesByProtocol=Oke(e,n),this.searchPlaces=this.searchPlacesByProtocol.get("*")||e}searchForConfig(e){let n=new URL(".",e),r=n.href,i=this.searchCache,s=i.get(r);if(s)return s;let o=[],a=this.findUpConfigPath(n,l);this.searchCache.set(r,a);let c=this.searchDirCache;return(async()=>{try{await a;for(let f of o)c.set(f.href,c.get(f.href)||a),i.set(f.href,i.get(f.href)||a);let p=i.get(r)||a;i.set(r,p)}catch{}})(),a;function l(p){o.push(p)}}clearCache(){this.searchCache.clear(),this.searchDirCache.clear()}findUpConfigPath(e,n){let i=this.searchDirCache.get(e.href);return i||NX(s=>this.hasConfig(s,n),e,{type:"file"})}hasConfig(e,n){let r=this.searchDirCache.get(e.href);if(r)return r;n(e);let i=this.hasConfigDir(e);return this.searchDirCache.set(e.href,i),i}createHasFileDirSearch(){let e=rd();return async r=>{let i=new URL(".",r),o=new URL("..",i).href,a=e.get(o);if(a){let f=await a,d=li(i).slice(0,-1),h=f.get(d);if(!h?.isDirectory()&&!h?.isSymbolicLink())return!1}let c=i.href,u=await e.get(c,async()=>await this.readDir(i)),l=li(r),p=u.get(l);return p?.isFile()||p?.isSymbolicLink()||!1}}async readDir(e){try{let n=await this.fs.readDirectory(e);return new Map(n.map(r=>[r.name,r]))}catch{return new Map}}createHasFileStatCheck(){return async n=>!!(await this.fs.stat(n).catch(()=>{}))?.isFile()}async hasConfigDir(e){let n=this.fs.getCapabilities(e).readDirectory?this.createHasFileDirSearch():this.createHasFileStatCheck(),r=this.searchPlacesByProtocol.get(e.protocol)||this.searchPlaces;for(let i of r){let s=new URL(i,e);if(await n(s)&&(li(s)!=="package.json"||await Mke(this.fs,s)))return s}}};function Oke(t,e){return new Map([...e.entries()].map(([r,i])=>[r,new Set(i)]).map(([r,i])=>[r,t.filter(s=>i.has((0,LX.extname)(s)))]))}async function Mke(t,e){try{let n=await t.readFile(e);return typeof JSON.parse(n.getText()).cspell=="object"}catch{return!1}}var Uv=yo({id:"default",name:"default",version:yd});var Eo=Object.freeze({}),uL=Eo;function MX(t){if(OX(uL,t))return uL;if(OX(Eo,t))return Eo;let{usePnP:e,pnpFiles:n}=t;return uL=qt({usePnP:e,pnpFiles:n})}function OX(t,e){return t===e||t.usePnP===e.usePnP&&(t.pnpFiles===e.pnpFiles||t.pnpFiles?.join("|")===e.pnpFiles?.join("|"))}var Uke=[FN],aXe=Object.freeze(new Set(Uke)),Wv="cSpell",Pg="cspell.json",lL,fL=[".json",".yaml",".yml",".jsonc"],WX=[".js",".cjs",".mjs"],UX=new Map([["*",fL],["file:",[...fL,...WX]]]),qke=new Map([["*",fL]]),qv=class{fs;templateVariables;onReady;fileResolver;_isTrusted=!0;constructor(e,n=Xh(process.env)){this.fs=e,this.templateVariables=n,this.configSearch=new Ag(Mv,UX,e),this.cspellConfigFileReaderWriter=zN(void 0,void 0,Bke(e)),this.fileResolver=new Qh(e,this.templateVariables),this.onReady=this.init(),this.subscribeToEvents()}subscribeToEvents(){this.toDispose.push(po(()=>this.clearCachedSettingsFiles()))}cachedConfig=new Map;cachedConfigFiles=new Map;cachedPendingConfigFile=new Co;cachedMergedConfig=new WeakMap;cachedCSpellConfigFileInMemory=new WeakMap;globalSettings;cspellConfigFileReaderWriter;configSearch;toDispose=[];async readSettingsAsync(e,n,r){await this.onReady;let i=await this.resolveFilename(e,n||(0,Cu.pathToFileURL)("./"));return this.importSettings(i,r||Eo,[]).onReady}async readConfigFile(e,n){let r=await this.resolveFilename(e.toString(),n||(0,Cu.pathToFileURL)("./")),s=ft(r.filename).href;if(r.error)return new Va(`Failed to read config file: "${r.filename}"`,r.error);let o=this.cachedConfigFiles.get(s);return o||this.cachedPendingConfigFile.get(s,async()=>{try{let a=await this.cspellConfigFileReaderWriter.readConfig(s);return this.cachedConfigFiles.set(s,a),a}catch(a){return new Va(`Failed to read config file: "${r.filename}"`,a)}finally{setTimeout(()=>this.cachedPendingConfigFile.delete(s),1)}})}async searchForConfigFileLocation(e){let n=ft(e||Yh(),Yh());return typeof e=="string"&&!Nt(e)&&n.protocol==="file:"&&await $ke(this.fs,n)?this.configSearch.searchForConfig(tu(n)):this.configSearch.searchForConfig(n)}async searchForConfigFile(e){let n=await this.searchForConfigFileLocation(e);if(!n)return;let r=await this.readConfigFile(n);return r instanceof Error?void 0:r}async searchForConfig(e,n=Eo){let r=await this.searchForConfigFile(e);if(r)return this.mergeConfigFileWithImports(r,n)}getGlobalSettings(){return(0,dL.default)(this.globalSettings,"Global settings not loaded"),this.globalSettings}async getGlobalSettingsAsync(){if(!this.globalSettings){let e=await nL(),n=await this.mergeConfigFileWithImports(e,void 0);n.id??="global_config",this.globalSettings=n}return this.globalSettings}clearCachedSettingsFiles(){this.globalSettings=void 0,this.cachedConfig.clear(),this.cachedConfigFiles.clear(),this.configSearch.clearCache(),this.cachedPendingConfigFile.clear(),this.cspellConfigFileReaderWriter.clearCachedFiles(),this.cachedMergedConfig=new WeakMap,this.cachedCSpellConfigFileInMemory=new WeakMap,this.prefetchGlobalSettingsAsync()}resolveSettingsImports(e,n){let r=this.createCSpellConfigFile(n,e);return this.mergeConfigFileWithImports(r,e)}init(){return this.onReady=Promise.all([this.prefetchGlobalSettingsAsync(),this.resolveDefaultConfig()]).then(()=>{}),this.onReady}async prefetchGlobalSettingsAsync(){await this.getGlobalSettingsAsync().catch(e=>HN(e))}async resolveDefaultConfig(){let e=await this.fileResolver.resolveFile(vv,Ma),n=ft(e.filename);return this.cspellConfigFileReaderWriter.setTrustedUrls([new URL("../..",n)]),n}importSettings(e,n,r){let s=ft(e.filename).href,o=this.cachedConfig.get(s);if(o)return r.forEach(h=>o.referencedSet.add(h)),o;if(e.error){let h=yo({__importRef:e,source:{name:e.filename,filename:e.filename}}),g={href:s,fileRef:e,configFile:void 0,settings:h,isReady:!0,onReady:Promise.resolve(h),onConfigFileReady:Promise.resolve(e.error),referencedSet:new Set(r)};return this.cachedConfig.set(s,g),g}let a={name:e.filename,filename:e.filename},c=h=>h instanceof Error?(e.error=h,yo({__importRef:e,source:a})):this.mergeConfigFileWithImports(h,n,r),u=new Set(r),l=d(this.readConfigFile(e.filename)),p={href:s,fileRef:e,configFile:void 0,settings:void 0,isReady:!1,onReady:f(l.then(c)),onConfigFileReady:l,referencedSet:u};return this.cachedConfig.set(s,p),p;async function f(h){let g=await h;return g.source??=a,g.__importRef??=e,p.isReady=!0,p.settings=g,g}async function d(h){let g=await h;return g instanceof Error?(p.fileRef.error=g,g):(a.name=g.settings.name||a.name,p.configFile=g,g)}}async setupPnp(e,n){if(!n?.usePnP||n===Eo||e.url.protocol!=="file:")return;let{usePnP:r=n.usePnP,pnpFiles:i=n.pnpFiles}=e.settings,s=MX({usePnP:r,pnpFiles:i}),o=new URL(".",e.url);await _g(s,o)}mergeConfigFileWithImports(e,n,r){let i=this.toCSpellConfigFile(e),s=this.cachedMergedConfig.get(i);if(s&&s.pnpSettings===n&&s.referencedBy===r)return s.result;let o={usePnP:e.settings.usePnP??n?.usePnP??!!process.versions.pnp,pnpFiles:e.settings.pnpFiles??n?.pnpFiles},a=this._mergeConfigFileWithImports(i,o,r);return this.cachedMergedConfig.set(i,{pnpSettings:n,referencedBy:r,result:a}),a}async _mergeConfigFileWithImports(e,n,r=[]){await this.setupPnp(e,n);let i=e.url.href,s=new Set(r),o=kg(e.settings.import),c=(await Promise.all(o.map(f=>this.resolveFilename(f,e.url)))).map(f=>this.importSettings(f,n,[...r,i]));c.forEach(f=>{f.referencedSet.add(i)});let u=c.map(f=>s.has(f.href)?f.settings||mu(f.configFile):f.onReady),l=await Promise.all(u);return await this.mergeImports(e,l)}async mergeImports(e,n){let r=mu(e),i=e.url,s=r.__importRef,o=r.source;(0,dL.default)(o);let a={version:Uv.version,...r,globRoot:jke(r,e.url),languageSettings:QN(r.languageSettings)},c=YN(a,i),u=iX(a,i),l=tX(a,i),p=await nX(a,i),f=rX(a,i),d=sX(a,i),h=yo({...a,source:o,...c,...u,...l,...p,...f,...d});if(!n.length)return h;let g=n.reduce((y,C)=>Ft(y,C)),m=Ft(g,h);return m.name=a.name||m.name||"",m.id=a.id||m.id||"",s&&(m.__importRef=s),m}createCSpellConfigFile(e,n){let r=id(this.cachedCSpellConfigFileInMemory,n,()=>new Map);return nI(r,e,()=>this.cspellConfigFileReaderWriter.toCSpellConfigFile({url:ft(e),settings:n}))}toCSpellConfigFile(e){return e instanceof Ka?e:this.createCSpellConfigFile(e.url,e.settings)}dispose(){for(;this.toDispose.length;)try{this.toDispose.pop()?.dispose()}catch(e){HN(e)}}getStats(){return{...AN()}}async resolveConfigFileLocation(e,n){let r=await this.fileResolver.resolveFile(e,n);return r.found?ft(r.filename):void 0}async resolveFilename(e,n){if(e instanceof URL)return{filename:tt(e)};if(Nt(e))return{filename:tt(e)};let r=await this.fileResolver.resolveFile(e,n);return r.warning&&GJ(r.warning),{filename:r.filename.startsWith("file:/")?(0,Cu.fileURLToPath)(r.filename):r.filename,error:r.found?void 0:new gL(e,n)}}get isTrusted(){return this._isTrusted}setIsTrusted(e){this._isTrusted=e,this.clearCachedSettingsFiles(),this.configSearch=new Ag(Mv,e?UX:qke,this.fs),this.cspellConfigFileReaderWriter.setUntrustedExtensions(e?[]:WX)}},pL=class extends qv{constructor(e){super(e)}get _cachedFiles(){return this.cachedConfig}};function _g(t,e){return t.usePnP?IX(t.pnpFiles).load(e):Promise.resolve(void 0)}var Wke={".vscode":!0,".config":!0};function jke(t,e){let n=new URL(".",e),r=Zr.parse(n.href),i=Cr.basename(r),s=i in Wke,o=i===".vscode",a=(s?Cr.dirname(r):r).toString(),c=process.env[Ba],u=c??"${cwd}",l=t.globRoot??(t.version===bv||c&&!t.version||o&&!t.version?u:a),p=l.startsWith("${cwd}")?l:ft(l,new URL(a));return typeof p=="string"?p:p.protocol==="file:"?i5(qX.default.resolve((0,Cu.fileURLToPath)(p))):tu(p).href}function jX(t){return new pL(t??cu().fs)}function jv(t){return jX(t)}function mL(){return lL||(lL=jX())}function Bke(t){return{readFile:r=>t.readFile(r).then(i=>({url:i.url,content:i.getText()})),writeFile:r=>t.writeFile(r)}}async function $ke(t,e){try{return(await t.stat(e)).isDirectory()}catch{return!1}}var hL=class extends Error{configurationFile;relativeTo;constructor(e,n,r,i){super(e),this.configurationFile=n,this.relativeTo=r,this.name="Configuration Loader Error",i&&(this.cause=i)}},gL=class extends hL{configurationFile;relativeTo;constructor(e,n,r){let i=e.startsWith("file:/")?(0,Cu.fileURLToPath)(e):e,s=Kke(n),o=`Failed to resolve configuration file: "${i}" referenced from "${s}"`;super(o,e,n,r),this.configurationFile=e,this.relativeTo=n}};function Kke(t){let e=Vr(t),n=Yh().pathname.split("/").slice(0,-1),r=e.pathname.split("/");if(r[0]!==n[0])return tt(t);let i=0;for(;i<n.length&&n[i]===r[i];++i);let s=n.length-i;return s>3?tt(t):[[...".".repeat(s)].map(()=>"..").join("/")||".",...r.slice(i)].join("/")}var Ja=mL;function kd(t,e=Eo){return Ja().searchForConfig(t,e)}async function Su(t,e){return Ja().readSettingsAsync(t,void 0,e)}async function Bv(t,e){return Ja().resolveSettingsImports(t,e)}async function Ig(t,e){let n=await Ja().readConfigFile(t,e);if(n instanceof Error)throw n;return n}async function $v(t){return Ja().mergeConfigFileWithImports(t,t.settings)}function Kv(){return Ja().getGlobalSettings()}function ko(){return Ja().getGlobalSettingsAsync()}function zv(){return zke().size}function Rd(){return mL()}function zke(){return Ja()._cachedFiles}async function Fd(t,e){try{let n=await Ig(t,e);return mu(n)}catch(n){return aX(ss(n),Vr(t))}}function Hv(t){let e=Hke(t);return e?[...e.values()].filter(Gke):[]}function Hke(t,e={}){let n=new Map(t.__imports||[]);t.__importRef&&n.set(t.__importRef.filename,t.__importRef),e.__importRef&&n.set(e.__importRef.filename,e.__importRef);let r=e.__imports?.values()||[];for(let i of r)n.set(i.filename,i);return n.size?n:void 0}function Gke(t){return!!t.error}async function Xa(t,e,n){let r=Rd(),i=typeof e=="string"||e instanceof URL?e:void 0,s=n||(typeof e=="string"||e instanceof URL?void 0:e);return r.readSettingsAsync(t,i,s)}async function Gv(t){return(await Promise.all(t.map(n=>Xa(n)))).reduce((n,r)=>Ft(n,r),Uv)}function BX(t){return!!t.include}var $X={object:!0,string:!0},KX=$X,Jke={...KX,undefined:!0};function zX(t){let e=t;return!!e.match&&typeof e.match in $X}function HX(t){let e=t;return e.begin!==void 0&&typeof e.begin in KX&&typeof e.end in Jke}function GX(t){return Array.isArray(t.patterns)}function VX(t){let{matches:e,index:n,groups:r,input:i}=t,s=[],o=n;for(let c=0;c<e.length;++c){let u=e[c];if(!u)continue;let l=i.indexOf(u,o),p=l>=o?l:i.lastIndexOf(u,o);p<0||(s.push({match:u,index:p,groupNum:c,groupName:void 0}),o=p)}let a=new Map(s.map(c=>[c.match,c]));for(let[c,u]of Object.entries(r)){let l=u&&a.get(u);l&&(l.groupName=l.groupName?Array.isArray(l.groupName)?[...l.groupName,c]:[l.groupName,c]:c)}return s}function JX(t,e){let n=Object.create(null);t.groups&&Object.assign(n,t.groups);let r=t,i=t[0];return{index:t.index,input:t.input,match:i,matches:r,groups:n,lineNumber:e}}function yL(t,e,n,r){return{index:n,input:e,match:t,matches:[t],groups:Object.create(null),lineNumber:r}}var XX=oe(require("node:assert"),1),Vv=class t{value;parent;constructor(e,n){this.value=e,this.parent=n}toString(e=!1){return this.parent?e?this.parent.toString(e)+" "+this.value:this.value+" "+this.parent.toString(e):this.value}static isScope(e){return e instanceof t}},Ad=class{pool=new Map;getScope(e,n){let r=this.pool.get(e),i=r||new Map;i!==r&&this.pool.set(e,i);let s=i.get(n);if(s)return s.v;let o=new Vv(e,n);return i.set(n,{v:o}),o}parseScope(e,n=!1){if(Vv.isScope(e))return e;if(Xke(e)){let r=e.parent?this.parseScope(e.parent):void 0;return this.getScope(e.value,r)}return this.parseScopeString(e,n)}parseScopeString(e,n){e=Array.isArray(e)?e:e.split(" ");let r=n?e:e.reverse(),i;for(let s of r)i=this.getScope(s,i);return(0,XX.default)(i,"Empty scope is not allowed."),i}};function Xke(t){return typeof t=="object"&&!Array.isArray(t)&&t.value!==void 0}function YX(t){return new SL(t)}var Yke={$self:!0,$base:!0};function bL(t){return zX(t)?Qke(t):HX(t)?Zke(t):BX(t)?eRe(t):GX(t)?rRe(t):QX(t)}function Qke(t){let e=CL(t.match),n={...t,captures:Jv(t.captures),findMatch:r};function r(i,s){let o=e(i);return o?{rule:Xv(s,n),match:o,line:i}:void 0}return n}function Zke(t){let e=ZX(t.patterns),n={...t,captures:Jv(t.captures),beginCaptures:Jv(t.beginCaptures),endCaptures:Jv(t.endCaptures),patterns:e,findMatch:r};function r(c,u){let l=i(c);return l?{rule:Xv(u,n,o,a),match:l,line:c}:void 0}let i=CL(t.begin),s=t.end!==void 0?CL(t.end):()=>{};function o(c){return e&&vL(e,c,this)}function a(c){return s(c)}return n}function QX(t){let n={...t,patterns:void 0,findMatch:r};function r(i,s){let o=Xv(s,n),a=i.text.slice(i.offset),c=yL(a,a,i.offset,i.lineNumber);return{rule:o,match:c,line:i}}return n}function eRe(t){let{include:e}=t;return e.startsWith("#")||e in Yke?tRe(t):nRe(t)}function tRe(t){let{include:e,...n}=t,r=e.startsWith("#")?e.slice(1):e,i={...n,reference:r,findMatch:s};function s(o,a){let c=a.repository[r];if(c===void 0)throw new Error(`Unknown Include Reference ${e}`);return c.findMatch(o,a)}return i}function nRe(t){function e(r){}return{...t,findMatch:e}}function rRe(t){return new xL(t)}function vL(t,e,n){let r;for(let i of t){if(i.disabled)continue;let s=i.findMatch(e,n);s?.match!==void 0&&!s.rule.pattern.disabled&&(r=r&&r.match&&r.match.index<=s.match.index&&r||s)}return r}function ZX(t){if(t)return t.map(e=>typeof e=="string"?{include:e}:e).map(bL)}var iRe=Object.freeze(Object.create(null));function sRe(t){return t?oRe(t):iRe}function oRe(t){let e=Object.create(null);for(let[n,r]of Object.entries(t))e[n]=bL(r);return e}var aRe=0;function eY(t,e,n,r,i,s){let o=t?t.depth+1:0;return{id:aRe++,grammar:r,pattern:e,parent:t,repository:n,depth:o,findNext:i,end:s}}function Xv(t,e,n,r){return eY(t,e,t.repository,t.grammar,n,r)}function Jv(t){if(t===void 0)return;if(typeof t=="string")return{0:t};let e=Object.create(null);for(let[n,r]of Object.entries(t))e[n]=typeof r=="string"?r:QX(r).name;return e}function CL(t){return typeof t=="string"?cRe(t):uRe(t)}function cRe(t){return e=>{let n=e.text,r=n.indexOf(t,e.offset);if(!(r<0))return yL(t,n,r,e.lineNumber)}}function uRe(t){return e=>{let n=RegExp(t,"gm");n.lastIndex=e.offset;let r=n.exec(e.text);return(r&&JX(r,e.lineNumber))??void 0}}function Yv(t,e=!0){let n=[];for(let r=t;r;r=r.parent){let i=r.pattern,{name:s,contentName:o}=i;o&&e&&n.push(o),s!==void 0&&n.push(s),e=!0}return t.grammar.scopePool.parseScope(n)}var SL=class{scopeName;name;comment;disabled;patterns;repository;grammarName;self;scopePool;constructor(e){this.scopeName=e.scopeName,this.name=e.scopeName,this.comment=e.comment,this.disabled=e.disabled,this.grammarName=e.name;let n=bL({patterns:[{patterns:e.patterns}]}),r=sRe(e.repository);this.patterns=n.patterns,this.repository=r,this.self=n,this.scopePool=new Ad}begin(e){let n=this.patterns;function r(i,s,o){let a=Object.create(null);Object.assign(a,i.repository),a.$self=i.self,a.$base=a.$base||s.self;function c(l){return vL(n,l,this)}function u(l){}return eY(o,i,a,i,c,u)}return r(this,e?.grammar??this,e)}},xL=class{name;comment;disabled;patterns;constructor(e){let{name:n,comment:r,disabled:i,...s}=e;this.patterns=ZX(s.patterns),this.name=n,this.comment=r,this.disabled=i}findMatch(e,n){let r=this.patterns,i=Xv(n,this,s);function s(o){return vL(r,o,this)}return i.findNext?.(e)}};function tY(t){return YX(t)}var aY=oe(require("node:assert"),1);function wL(t){return t!=null}function nY(t){let{match:e,rule:n}=t,r=n.pattern,i=r.beginCaptures??r.captures;return iY(n,e,i)}function rY(t,e){let{pattern:n}=t,r=n,i=r.endCaptures??r.captures;return iY(t,e,i)}function iY(t,e,n){let r=Yv(t,!1),i=t.grammar.scopePool,s=e.match,o=e.input,a=[e.index,e.index+s.length,e.lineNumber];if(!s&&!n)return[];if(!n)return[{scope:r,text:s,range:a}];let c=new Map(Object.entries(n)),u=c.get("0");if(c.size===1&&u)return[{scope:t.grammar.scopePool.getScope(u,r),text:s,range:a}];let l=e.index,p=e.index+s.length;function f(x){let{index:T,match:E}=x,k=E.length;if(T>=l&&k<=p)return x;if(T>=p||k<l)return;let L=Math.max(T,l)-T,A=Math.min(k,p)-T,j=E.slice(L,A);return{...x,index:T+L,match:j}}let d=VX(e).map(f).filter(wL);function h(x){let T=x[0],E={a:T.index,b:T.index+T.match.length,s:{seg:T}},k;for(let L=1;L<x.length;++L){let A=x[L],j=A.index,H=j+A.match.length;for(k=k&&k.a<=j?k:E;k&&k.b<=j;)k=k.n;for(;k&&k.a<H;){if(k.a<j){let F={...k,a:j};k.n=F,k.b=j,k=F}if(k.b>H){let F={...k,a:H};k.b=H,k.n=F}k.s={seg:A,next:k.s},k=k.n}}return E}function g(x){function*T(k){for(;k;){let L=k.seg;L.groupName&&(Array.isArray(L.groupName)?yield*L.groupName:yield L.groupName),yield L.groupNum.toString(),k=k.next}}return[...T(x)].map(k=>c.get(k)).filter(wL).reverse().reduce((k,L)=>i.getScope(L,k),r)}let m=h(d);function*y(x){for(;x;)yield{text:o.slice(x.a,x.b),range:[x.a,x.b,e.lineNumber],scope:g(x.s)},x=x.n}return[...y(m)]}function cY(t,e){let n=t.text,r=t.text.length,i=[],s=oY({...t,offset:0,anchor:-1},e);for(;s.line.offset<=r;){let o=s.rule.end?.(s.line);for(;o?.index===s.line.offset;)i.push(...rY(s.rule,o)),s=fRe(s),s.line.offset=o.index+o.match.length,o=s.rule.end?.(s.line);if(s.line.offset>=r)break;let{line:a,rule:c}=s,u=a.offset,l=c.findNext?.(a),p=o?.index??r,f=l?Math.min(l.match.index,p):p;if(u<f){let d=Yv(c),h=u,g=f;i.push({scope:d,text:n.slice(h,g),range:[h,g,a.lineNumber]}),s.line.offset=f}!l||o&&o.index<=l.match.index||(i.push(...nY(l)),a.anchor=l.match.index+l.match.match.length,a.offset=a.anchor,s=dY(oY(a,l.rule)))}return lRe(t,s.rule,i)}function*uY(t,e){let n=t.split(/(?<=\r\n|\n|\r(?!\n))/),r=e.begin(),i=0,s=cY({text:n[0],lineNumber:0,documentOffset:i},r);i+=n[0].length,yield sY(s);for(let o=1;o<n.length;++o){let a={text:n[o],lineNumber:o,documentOffset:i};i+=a.text.length,s=s.parse(a),yield sY(s)}}function sY(t){let{tokens:e,line:n,offset:r}=t;return{tokens:e,line:n,offset:r}}function lRe(t,e,n){return{tokens:n,line:t,offset:t.documentOffset,parse:r=>cY(r,e)}}function oY(t,e){let n=dRe(e),i=n.length-1,s=n[i],a={line:t,rule:s};for(let c=i-1;c>=0;--c){let u=n[c];a={line:a.line,rule:u,parent:a}}return a}function dRe(t){let e=[],n=t;for(;n;)e.push(n),n=n.parent;return e}function lY(t,e="Must be defined"){return(0,aY.default)(t!=null,e),t}function fRe(t){return dY(lY(t.parent))}function dY(t){for(;!t.rule.end;)t=lY(t.parent);return t}var pRe={statements:{name:"code.ts",patterns:["#keyword","#regexp","#string","#comment","#braces","#punctuation","#space",{name:"identifier",match:/[^\s;,!|&:^%{}[\]()*/+=<>]+/}]},keyword:{patterns:["#keywordBase","#standardTypes","#standardLib"]},keywordBase:{name:"keyword.typescript.ts",match:/\b(?:any|as|async|await|bigint|boolean|break|case|catch|const|continue|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|in|instanceof|interface|import|let|map|module|new|new|null|number|of|package|private|public|require|return|set|static|string|super|switch|this|throw|true|try|type|typeof|unknown|undefined|var|void|while|yield)\b/},standardTypes:{name:"keyword.type.ts",match:/\b(?:Promise|Record|Omit|Extract|Exclude|BigInt|Array)\b/},standardLib:{name:"keyword.lib.ts",match:/\b(?:console|process|window)\b/},string:{patterns:["#string_q_single","#string_q_double","#string_template"]},string_q_single:{name:"string.quoted.single.ts",begin:"'",end:/'|((?:[^\\\n])$)/,captures:"punctuation.string.ts",patterns:[{include:"#string_character_escape"}]},string_q_double:{name:"string.quoted.double.ts",begin:'"',end:/"|((?:[^\\\n])$)/,captures:"punctuation.string.ts",patterns:[{include:"#string_character_escape"}]},string_template:{name:"string.template.ts",begin:"`",end:"`",captures:"punctuation.string.ts",patterns:[{name:"meta.template.expression.ts",contentName:"meta.embedded.line.ts",begin:"${",end:"}",patterns:["#statements"],captures:"punctuation.definition.template.expression.ts"},{include:"#string_character_escape"}]},string_character_escape:{name:"constant.character.escape.ts",match:/\\(x[0-9A-Fa-f]{2}|[0-3][0-7]{0,2}|[4-7][0-7]?|u[0-9A-Fa-f]{4}|.|\r?\n?$)/},braces:{patterns:[{begin:"(",end:")",captures:"punctuation.meta.brace.ts",patterns:["#statements"],name:"meta.brace.ts",contentName:"code.ts"},{begin:"{",end:"}",captures:"punctuation.meta.brace.ts",patterns:["#statements"],name:"meta.brace.ts",contentName:"code.ts"},{begin:"[",end:"]",captures:"punctuation.meta.brace.ts",patterns:["#statements"],name:"meta.brace.ts",contentName:"code.ts"}]},punctuation:{name:"punctuation.ts",match:/[-;:,!|&^%*/+=<>\n\r]/},space:{name:"punctuation.space.ts",match:/\s+/},comment:{patterns:[{name:"comment.line.ts",comment:"line comment",begin:"//",end:/(?=$)/,captures:"punctuation.definition.comment.ts"},{name:"comment.block.documentation.ts",comment:"DocBlock",begin:/\/\*\*(?!\/)/,captures:"punctuation.definition.comment.ts",end:"*/"},{name:"comment.block.ts",begin:"/*",end:"*/",captures:"punctuation.definition.comment.ts"}]},regexp:{name:"regexp.ts",begin:/\/(?![/*])/,end:/\/([a-z]*)/i,beginCaptures:"punctuation.begin.regexp.ts",endCaptures:"punctuation.end.regexp.ts",patterns:["#regexp_escape","#regexp_brace"]},regexp_escape:{name:"escape.regexp.ts",match:/\\./},regexp_brace:{name:"brace.regexp.ts",begin:"[",end:"]",contentName:"character-class.regexp.ts",patterns:["#regexp_escape"]}},fY={name:"TypeScript",scopeName:"source.ts",patterns:[{name:"comment.line.shebang.ts",match:/^#!.*(?=$)/},{include:"#statements"}],repository:pRe};var Ng=oe(require("node:assert"),1);function pY(t,e){if(!t.map&&!e.map)return{text:t.text+e.text};let n=t.text.length,r=e.text.length,i=[0,0,...t.map||[0,0,n,n]],s=[0,0,...e.map||[0,0,r,r]];return(0,Ng.default)(i[i.length-1]===n),(0,Ng.default)(s[s.length-1]===r),(0,Ng.default)((i.length&1)===0),(0,Ng.default)((s.length&1)===0),{text:t.text+e.text,map:hRe(i,s)}}function hRe(t,e){let n=t.length-1,r=[t[n-1],t[n]],i=[...t,...e.map((c,u)=>c+r[u&1])],s=[0,0],o=0,a=0;for(let c=0;c<i.length;c+=2){let u=i[c],l=i[c+1];u===o&&l===a||(s.push(u,l),o=u,a=l)}return s}var gRe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mRe={t:"	",n:`
`,r:"\r",b:"\b","\\":"\\",'"':'"',"'":"'","\n":""};function hY(t){let e=t.length,n="",r=[],i=/^[0-9a-fA-F]+$/,s,o;for(s=0,o=0;s<e;++s){let a,c=t[s];if(c==="\\"){r.push(s,o);let u=t[++s],l=mRe[u];if(l){n+=l,o+=l.length,r.push(s,o);continue}switch(u){case"u":{{let p,f;if(t[s+1]!=="{"){let d=t.slice(s+1,s+5);a=i.test(d)?Number.parseInt(d,16):Number.NaN,p=Number.isNaN(a)?"":String.fromCodePoint(a),f=s+4}else{for(f=s+2;t[f]in gRe;++f);if(t[f]!=="}")p="";else{let d=t.slice(s+2,f);a=i.test(d)?Number.parseInt(d,16):Number.NaN,p=Number.isNaN(a)?"":String.fromCodePoint(a)}}p?(n+=p,o+=p.length,s=f):(n+=u,o+=1)}break}case"x":{{let p=t.slice(s+1,s+3);a=i.test(p)?Number.parseInt(p,16):Number.NaN,Number.isNaN(a)?(n+=u,o+=1):(n+=String.fromCodePoint(a),s+=2,++o)}break}case"0":{n+="0",o+=1;break}case"\r":{s+=t[s+1]===`
`?1:0;break}case`
`:break;case void 0:break;default:{n+=u,++o;break}}r.push(s+1,o);continue}n+=c,++o}if(r.length){let a=r[r.length-2],c=r[r.length-1];(a!==s||c!==o)&&r.push(s,o)}return{text:n,map:r}}function yRe(t){return t.tokens.map(e=>({text:e.text,range:[t.offset+e.range[0],t.offset+e.range[1]],scope:e.scope}))}function CRe(t){return Te(t,Ne(yRe),Zn())}function gY(t,e,n=CRe){function r(i,s){let o=Te(uY(i,t),n);return{content:i,filename:s,parsedTexts:o}}return{name:e,parse:r}}var SRe=tY(fY),xRe=new Ad,mY=new WeakMap;function*bRe(t){for(let e of t){if(yY(e.scope,"constant.character.escape.ts")){let n=hY(e.text),r=e.scope?xRe.parseScope(e.scope):void 0;yield{text:n.text,scope:r?.parent,map:n.map,range:e.range};continue}yield e}}function*vRe(t){let e;for(let n of t){if(!yY(n.scope,"string.")){e&&(yield e,e=void 0),yield n;continue}if(!e){e=n;continue}if(n.scope!==e.scope||e.range[1]!==n.range[0]){yield e,e=n;continue}e=wRe(e,n)}e&&(yield e)}function wRe(t,e){let n=pY(t,e);return{text:n.text,scope:t.scope,range:[t.range[0],e.range[1]],map:n.map,delegate:t.delegate}}function DRe(t){let e=mY.get(t);if(e!==void 0)return e;let n=t.value,r=!n.startsWith("punctuation")&&!n.startsWith("keyword.");return mY.set(t,r),r}function TRe(t){return t.tokens.filter(e=>DRe(e.scope)).map(e=>({text:e.text,range:[t.offset+e.range[0],t.offset+e.range[1]],scope:e.scope}))}function ERe(t){return Te(t,Ne(TRe),Zn(),bRe,vRe)}var DL=gY(SRe,"typescript",ERe);function yY(t,e){return t?typeof t=="string"?t.startsWith(e):t.value.startsWith(e):!1}var TL=[DL];var xu=class extends RegExp{constructor(e){super(e)}toJSON(){return this.toString()}};var kRe="en",RRe=[];function CY(){return RRe}function FRe(t){return SY(t.replaceAll(/\s+/g,","))}function SY(t){return t.replaceAll(/[|;]/g,",").split(",").map(e=>e.trim()).filter(e=>!!e)}function xY(t){let e=rd();return n=>e.get(n,t)}var ARe=xY(PRe);function PRe(t){let e=SY(t);return new Set(e.map(n=>n.toLowerCase()))}function bY(t){return ARe(typeof t=="string"?t:t.join(","))}var _Re=xY(IRe);function IRe(t){let e=FRe(t);return new Set(e.map(n=>n.toLowerCase().replaceAll(/[^a-z]/g,"")))}function EL(t){return t=typeof t=="string"?t:t.join(","),_Re(t)}function vY(t){let e=[...EL(t)].map(n=>n.replace(/^([a-z]{2})-?([a-z]{2})$/,(r,i,s)=>s?`${i}-${s.toUpperCase()}`:i));return new Set(e)}function NRe(t,e){let n=EL(t);return E6(n,e)}var wY=/^[a-z]{2}(-[A-Z]{2})?$/,LRe=new RegExp(wY,"i");function kL(t,e=!1){if(typeof t=="string")return e?wY.test(t):LRe.test(t);for(let n of t)if(!kL(n,e))return!1;return t.length>0}var ORe=rI();function MRe(t,e,n){return ORe.get(t,()=>new Co).get(e,()=>new Co).get(n,()=>URe(t,e,n))}function URe(t,e,n){e=e.toLowerCase();let r=EL(n),i=t.filter(s=>WRe(s,e)).filter(s=>!s.locale||s.locale==="*"||NRe(s.locale,r)).map(s=>{let{languageId:o,locale:a,...c}=s;return c}).reduce((s,o)=>Ft(s,o),{});return i.languageId=e,i.locale=n,i}var qRe=rI();function WRe(t,e){return qRe.get(t,()=>new Co).get(e,()=>jRe(t,e))}function jRe(t,e){let n=t.languageId;if(!n||n==="*")return!0;let r=bY(n);return r.has(e)?!0:r.has("!"+e)?!1:[...r].filter(s=>s.startsWith("!")).length===r.size}function BRe(t,e){let{languageSettings:n=[],language:r=kRe,allowCompoundWords:i,enabled:s}=t,o={allowCompoundWords:i,enabled:s,...MRe(n,e,r)};return Ft(t,o)}function bu(t,e){return["*",...bY(e)].reduce((i,s)=>BRe(i,s),t)}var DY=/(?:https?|ftp):\/\/[^\s"]+/gi,TY=/\bhref\s*=\s*".*?"/gi,EY=/(?:#[0-9a-f]{3,8})|(?:0x[0-9a-f]+)|(?:\\u[0-9a-f]{4})|(?:\\x\{[0-9a-f]{4}\})/gi,kY=/\b(?![a-f]+\b)(?:0x)?[0-9a-f]{7,}\b/gi,RY=/\[[0-9a-f]{7,}\]/gi,FY=/\b0x[0-9a-f_]+\b/gi,AY=/#[0-9a-f]{3,8}\b/gi,PY=/\b[0-9a-fx]{8}-[0-9a-fx]{4}-[0-9a-fx]{4}-[0-9a-fx]{4}-[0-9a-fx]{12}\b/gi,_Y=/\bU\+[0-9a-f]{4,5}(?:-[0-9a-f]{4,5})?/gi,RL=/(\bc?spell(?:-?checker)?::?)\s*disable(?!-line|-next)\b(?!-)[\s\S]*?((?:\1\s*enable\b)|$)/gi,FL=/\bc?spell(?:-?checker)?::?\s*disable-next\b.*\s\s?.*/gi,AL=/^.*\bc?spell(?:-?checker)?::?\s*disable-line\b.*/gim,IY=/\bc?spell(?:-?checker)?::?\s*ignoreRegExp.*/gim,NY=/-{5}BEGIN\s+((?:RSA\s+)?PUBLIC\s+KEY)[\w=+\-/=\\\s]+?END\s+\1-{5}/g,LY=/-{5}BEGIN\s+(CERTIFICATE|(?:RSA\s+)?(?:PRIVATE|PUBLIC)\s+KEY)[\w=+\-/=\\\s]+?END\s+\1-{5}/g,OY=/ssh-rsa\s+[a-z0-9/+]{28,}={0,3}(?![a-z0-9/+=])/gi,MY=/\\(?:[anrvtbf]|[xu][a-f0-9]+)/gi,UY=/(?<![A-Za-z0-9/+])(?:[A-Za-z0-9/+]{40,})(?:\s^\s*[A-Za-z0-9/+]{40,})*(?:\s^\s*[A-Za-z0-9/+]+=*)?(?![A-Za-z0-9/+=])/gm,qY=/(?<=[^A-Za-z0-9/+_]|^)(?=[A-Za-z]{0,80}[0-9+/])(?=[A-Za-z0-9/+]{0,80}?[A-Z][a-z][A-Z])(?=[A-Za-z0-9/+]{0,80}?(?:[A-Z][0-9][A-Z]|[a-z][0-9][a-z]|[A-Z][0-9][a-z]|[a-z][0-9][A-Z]|[0-9][A-Za-z][0-9]))(?=[A-Za-z0-9/+]{0,80}?(?:[a-z]{3}|[A-Z]{3}))(?:[A-Za-z0-9/+]{40,})=*/gm;var WY=/(?<![A-Za-z0-9/+])["']?(?:[A-Za-z0-9/+]{40,})["']?(?:\s^\s*["']?[A-Za-z0-9/+]{40,}["']?)+(?:\s^\s*["']?[A-Za-z0-9/+]+={0,3}["']?)?(?![A-Za-z0-9/+=])/gm,jY=/<<<['"]?(\w+)['"]?[\s\S]+?^\1;/gm,BY=/(?:(['"]).*?(?<![^\\]\\(\\\\)*)\1)|(?:`[\s\S]*?(?<![^\\]\\(\\\\)*)`)/g,$Y=/(?<!\w:)(?:\/\/.*)|(?:\/\*[\s\S]*?\*\/)/g;var KY=/<?\b[\w.\-+]{1,128}@\w{1,63}(\.\w{1,63}){1,4}\b>?/gi,zY=/^(\w)\1{3,}$/i,HY=/\bsha\d+-[a-z0-9+/]{25,}={0,3}/gi,GY=/(?:\b(?:sha\d+|md5|base64|crypt|bcrypt|scrypt|security-token|assertion)[-,:$=]|#code[/])[-\w/+%.]{25,}={0,3}(?:(['"])\s*\+?\s*\1?[-\w/+%.]+={0,3})*(?![-\w/+=%.])/gi;var KRe=()=>YRe(vv),zRe=[new xu(RL),new xu(AL),new xu(FL)],HRe=[{name:"CommitHash",pattern:kY},{name:"CommitHashLink",pattern:RY},{name:"CStyleHexValue",pattern:FY},{name:"CSSHexValue",pattern:AY},{name:"Urls",pattern:DY},{name:"HexValues",pattern:EY},{name:"SpellCheckerDisable",pattern:zRe},{name:"PublicKey",pattern:NY},{name:"RsaCert",pattern:LY},{name:"SshRsa",pattern:OY},{name:"EscapeCharacters",pattern:MY},{name:"Base64",pattern:UY},{name:"Base64SingleLine",pattern:qY},{name:"Base64MultiLine",pattern:WY},{name:"Email",pattern:KY},{name:"SHA",pattern:HY},{name:"HashStrings",pattern:GY},{name:"UnicodeRef",pattern:_Y},{name:"UUID",pattern:PY},{name:"href",pattern:TY},{name:"SpellCheckerDisableBlock",pattern:RL},{name:"SpellCheckerDisableLine",pattern:AL},{name:"SpellCheckerDisableNext",pattern:FL},{name:"SpellCheckerIgnoreInDocSetting",pattern:IY},{name:"PhpHereDoc",pattern:jY},{name:"string",pattern:BY},{name:"CStyleComment",pattern:$Y},{name:"Everything",pattern:".*"}],GRe=[...HRe].map(QRe),VRe=["SpellCheckerDisable","SpellCheckerIgnoreInDocSetting","Urls","Email","RsaCert","SshRsa","Base64MultiLine","Base64SingleLine","CommitHash","CommitHashLink","CStyleHexValue","CSSHexValue","SHA","HashStrings","UnicodeRef","UUID"],JRe=VRe,JY=Object.freeze(yo({id:"static_defaults",language:"en",name:"Static Defaults",enabled:!0,enabledLanguageIds:[],maxNumberOfProblems:100,numSuggestions:10,suggestionsTimeout:500,suggestionNumChanges:3,words:[],userWords:[],ignorePaths:[],allowCompoundWords:!1,patterns:GRe,ignoreRegExpList:[],languageSettings:[],source:{name:"defaultSettings"},reporters:[],plugins:[{parsers:TL}]})),XRe=Object.freeze(yo({...JY,enabledLanguageIds:["ada","csharp","go","javascript","javascriptreact","json","markdown","mdx","php","plaintext","python","text","typescript","typescriptreact","haskell","html","css","less","scss","latex","ruby","rust","shellscript","toml"],ignoreRegExpList:JRe,languageSettings:CY()}));async function YRe(t){return(await fd(t,Ma)).filename}function QRe(t){let{name:e,pattern:n,description:r}=t;return n instanceof RegExp?{name:e,pattern:new xu(n),description:r}:t}var PL=class{settings=void 0;pending=void 0;constructor(){this.getDefaultSettingsAsync().catch(()=>{})}getDefaultSettingsAsync(e=!0){return e?this.settings?Promise.resolve(this.settings):this.pending?this.pending:(this.pending=(async()=>{let n=await KRe(),r=await Xa(n);return this.settings=Ft(XRe,r),r.name!==void 0?this.settings.name=r.name:delete this.settings.name,this.settings})(),this.pending):Promise.resolve(JY)}},_L=new PL;function Ya(t=!0){return _L.getDefaultSettingsAsync(t)}function IL(){return _L.getDefaultSettingsAsync()}var LL={};Iu(LL,{addPathsToGlobalImports:()=>YY,listGlobalImports:()=>NL,removePathsFromGlobalImports:()=>QY});var XY=oe(require("node:fs"),1),Ro=oe(require("node:path"),1);async function NL(){let t=await tL();return{list:(await tQ(t)).map(({filename:n,settings:r,error:i})=>({filename:n,error:i,id:r.id,name:r.name,dictionaryDefinitions:r.dictionaryDefinitions,languageSettings:r.languageSettings,package:tFe(Ro.dirname(n))})),globalSettings:t}}function eFe(t){return t!==void 0}async function YY(t){let e=await Promise.all(t.map(ZY));if(e.some(c=>!!c.error))return{success:!1,resolvedSettings:e,error:"Unable to resolve files."};let r=await tL(),i=await tQ(r),s=new Set(i.map(c=>c.resolvedToFilename||c.filename));e.map(c=>c.resolvedToFilename).filter(eFe).reduce((c,u)=>c.add(u),s);let o={import:[...s]},a;try{await rL(o)}catch(c){a=ss(c)}return{success:!a,error:a?.message,resolvedSettings:e}}async function QY(t){let e=await NL(),n=new Set;function r(u){return({package:l,id:p})=>u===l?.name||u===p}function i(u,l){if(u===l)return!0;if(!u.endsWith(l))return!1;let p=u[u.length-l.length-1];return p===Ro.sep||p===Ro.posix.sep}function s(u){return Ro.dirname(u)!="."?({filename:l})=>i(l,u):()=>!1}t.map(u=>u.trim()).filter(u=>!!u).forEach(u=>{let l=r(u),p=s(u),f=d=>l(d)||p(d);for(let d of e.list)f(d)&&n.add(d.filename)});let a={import:eQ(e.globalSettings.import).filter(u=>!n.has(u))},c=n.size>0?rL(a):void 0;return{success:!0,removed:[...n],error:c?.toString()}}async function ZY(t){let e=await Fd(t),n=e.__importRef,r=n?.filename,i=n?.error?.message||!r&&"File not Found"||void 0;return qt({filename:t,resolvedToFilename:r,error:i,settings:e})}function eQ(t){return typeof t=="string"?[t]:t||[]}function tQ(t){let e=eQ(t.import);return Promise.all(e.map(ZY))}function tFe(t){try{let e=Ro.join(t,"package.json"),n=JSON.parse(XY.readFileSync(e,"utf8"));return{filename:e,name:n.name}}catch{return}}function nQ(t,e,n,r){let i=Math.max(n??0,0),s=Math.min(r??t.length,t.length);for(;i<s;){let o=i+s>>1;t[o]<e?i=o+1:s=o}return i}function OL(t){return Qv(t.text).map(eI((e,n)=>({text:n,offset:e.offset+e.text.length}),{text:"",offset:t.offset}))}function Qv(t){return iQ(t,Dv)}function rQ(t,e){return iQ(t.text,e).map(eI((n,r)=>({text:r,offset:n.offset+n.text.length}),{text:"",offset:t.offset}))}function iQ(t,e){return t.split(e)}function Pd(t,e){return e?(t=t.global?t:new RegExp(t.source,t.flags+"g"),e.matchAll(t)):[]}function sQ(t,e){return Lg(t,{text:e,offset:0})}function Lg(t,e){let n=e.text,r=e.offset;return Te(Pd(t,n),Ne(i=>({text:i[0],offset:r+i.index})))}function*Zv(t){let e=0;for(let n=t.indexOf(`
`,e);n>=0;n=t.indexOf(`
`,e)){let r=n+1;yield{text:t.slice(e,r),offset:e},e=r}yield{text:t.slice(e,t.length),offset:e}}function oQ(t){return _d(nw(t))}function _d(t){let e=new RegExp(sJ);return Lg(e,UL(t))}function ML(t){return Cd.lastIndex=0,Cd.test(t)&&(t=t.replace(Cd,e=>" ".repeat(e.length))),t}function UL(t){return Cd.lastIndex=0,Cd.test(t.text)?{text:ML(t.text),offset:t.offset}:t}function ew(t){let e=new RegExp(Tv);return Lg(e,t)}function aQ(t){return qL(nw(t))}function qL(t){return Te(_d(t),fn(OL))}function WL(t){return PN.test(t)}function jL(t){return _N.test(t)}function BL(t){return WL(t.slice(0,1))}function $L(t){return jL(t.slice(0,1))}function tw(t){return t.slice(0,1).toUpperCase()+t.slice(1)}function KL(t){return t.slice(0,1).toLowerCase()+t.slice(1)}function cQ(t){return t.split("_").map(tw).join("")}function uQ(t){return Qv(t).join("_").toLowerCase()}function lQ(t,e){return oJ.test(t)?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():_N.test(t)?e.toLowerCase():PN.test(t)?e.toUpperCase():BL(t)?tw(e):$L(t)?KL(e):e}function nw(t,e=0){return{text:t,offset:e}}function rw(t,e,n){let{text:r,offset:i}=t,s=Math.max(e-i,0),o=Math.max(n-i,0);return r.slice(s,o)}function dQ(t,e,n){let r=[-1,...Te(Pd(/\n/g,e),Ne(f=>f.index)),e.length],i=-1,s=e.length+1,o=-1,a;function c(f){let d=nQ(r,f,f>=s?i:void 0),h=f-r[Math.max(0,d-1)];return s=f,i=d,[d,h]}function u(f){let d=r[f-1]+1;return{text:e.slice(d,r[f]+1),offset:d}}function l(f){let d=o===f?a:void 0;o=f;let h=d??u(f);return a=h,h}let p=kr(t).toString();return n.map(f=>{let[d,h]=c(f.offset);return{...f,row:d,col:h,doc:e,uri:p,line:l(d)}})}function fQ(t){return t.normalize("NFD").replace(cJ,"")}var nFe=/\/.*\/[gimuy]*/,rFe=/\b(?:spell-?checker|c?spell)::?(.*)/gi,iFe=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)(.*)/i,sFe=[rFe,/\b(LocalWords:?.*)/g],oFe=["enable","disable","disable-line","disable-next","disable-next-line","word","words","ignore","ignoreWord","ignoreWords","ignore-word","ignore-words","includeRegExp","ignoreRegExp","local","locale","language","dictionaries","dictionary","forbid","forbidWord","forbid-word","flag","flagWord","flag-word","enableCompoundWords","enableAllowCompoundWords","disableCompoundWords","disableAllowCompoundWords","enableCaseSensitive","disableCaseSensitive"],aFe=new Set(["local"]),cFe=["enable","disable","disable-line","disable-next-line","words","ignore","forbid","locale","dictionary","dictionaries","enableCaseSensitive","disableCaseSensitive"],mQ=new Set([...cFe,...oFe]),uFe=[...Te(mQ,Ne(t=>({word:t})))],lFe=zn(mQ,"Directives","Directive List",{supportNonStrictSearches:!1}),dFe=[];Object.freeze(dFe);var hQ="[in-document-dict]";function fFe(t){return[...xQ(t)].flatMap(n=>mFe(n))}var zL={id:"in-doc-settings"};Object.freeze(zL);function yQ(t){let e=fFe(t);if(!e.length)return{...zL};let n=CFe(e,{...zL}),{words:r,flagWords:i,ignoreWords:s,suggestWords:o,dictionaries:a=[],dictionaryDefinitions:c=[],...u}=n,l=(r||i||s||o)&&qt({name:hQ,words:r,flagWords:i,ignoreWords:s,suggestWords:o}),p=l?{dictionaries:[...a,hQ],dictionaryDefinitions:[...c,l]}:qt({dictionaries:a.length?a:void 0,dictionaryDefinitions:c.length?c:void 0});return{...u,...p}}function iw(t,e){return Te(xQ(t),Ne(hFe),Ut(Ui))}var CQ=[[/^(?:enable|disable)(?:allow)?CompoundWords\b(?!-)/i,SFe,"CompoundWords"],[/^(?:enable|disable)CaseSensitive\b(?!-)/i,xFe,"CaseSensitive"],[/^enable\b(?!-)/i,RFe,"Enable"],[/^disable(-line|-next(-line)?)?\b(?!-)/i,FFe,"Disable"],[/^words?\b(?!-)/i,vFe,"Words"],[/^ignore(?:-?words?)?\b(?!-)/i,wFe,"Ignore"],[/^(?:flag|forbid)(?:-?words?)?\b(?!-)/i,DFe,"Flag"],[/^ignore_?Reg_?Exp\s+.+$/i,TFe,"IgnoreRegExp"],[/^include_?Reg_?Exp\s+.+$/i,EFe,"IncludeRegExp"],[/^locale?\b(?!-)/i,gQ,"Locale"],[/^language\s\b(?!-)/i,gQ,"Locale"],[/^dictionar(?:y|ies)\b(?!-)/i,kFe,"Dictionaries"],[/^LocalWords:/,(t,e)=>ow(t,e.replaceAll(/^LocalWords:?/gi," "),"words"),"Words"]];var pFe={unknownDirective:"Unknown CSpell directive"};function hFe(t){let{fullDirective:e,offset:n}=t,r=e.match(iFe);if(!r)return;let i=r[1],s=i.trim();if(!s)return;let o=n+(r.index||0)+(i.length-i.trimStart().length),a=s.replace(/^([-\w]+)?.*/,"$1"),c=o+a.length;if(!a||CQ.filter(([g])=>g.test(s)).length>0)return;let l=lFe.suggest(a,{ignoreCase:!1}).map(({word:g,isPreferred:m})=>m?{word:g,isPreferred:m}:{word:g}).filter(g=>!aFe.has(g.word)),f=[...Te(l,fo(uFe),gFe)].slice(0,8),d=f.map(g=>g.word);return{range:[o,c],text:a,message:pFe.unknownDirective,suggestions:d,suggestionsEx:f}}function*gFe(t){let e=new Map;for(let n of t){let r=e.get(n.word);r&&n.isPreferred&&(r.isPreferred=!0),yield n}}function mFe(t){let{match:e}=t,n=e.trim();return CQ.filter(([r])=>r.test(n)).map(([,r,i])=>({...t,directive:i,fn:r}))}function yFe(t,e){return e.fn(t,e.match)}function CFe(t,e){for(let n of t)e=yFe(e,n);return e}function SFe(t,e){return t.allowCompoundWords=/enable/i.test(e),t}function xFe(t,e){return t.caseSensitive=/enable/i.test(e),t}function bFe(t){return t.split(/[,\s;]+/g).slice(1).filter(e=>!!e)}function sw(t,e){return t?e?[...t,...e]:t:e}function ow(t,e,n){let r=bFe(e);return r.length&&(t[n]=sw(t[n],r)),t}function vFe(t,e){return ow(t,e,"words")}function gQ(t,e){let r=e.trim().split(/[\s,]+/).slice(1).join(",");return r&&(t.language=r),t}function wFe(t,e){return ow(t,e,"ignoreWords")}function DFe(t,e){return ow(t,e,"flagWords")}function SQ(t){return[t.replace(/^[^\s]+\s+/,"")].map(n=>{let r=n.match(nFe);return r&&r[0]?r[0]:n.replace(/((?:[^\s]|\\ )+).*/,"$1")})}function TFe(t,e){let n=SQ(e);return n.length&&(t.ignoreRegExpList=sw(t.ignoreRegExpList,n)),t}function EFe(t,e){let n=SQ(e);return n.length&&(t.includeRegExpList=sw(t.includeRegExpList,n)),t}function kFe(t,e){let n=e.split(/[,\s]+/g).slice(1);return n.length&&(t.dictionaries=sw(t.dictionaries,n)),t}function xQ(t){return Te(sFe,Ne(e=>Pd(e,t)),Zn(),Ne(e=>({fullDirective:e[0],offset:e.index,match:e[1].trim()})))}function RFe(t,e){return t}function FFe(t,e){return t}function Og(t,e,n){if(!e)return gi(bu(t,n));let r=AFe(e),i=Ft(t,r),s=bu(i,n);return Ft(s,r)}function AFe(t){return yQ(t)}var bQ=oe(require("node:path"),1);async function Id(t,e){let n=wo(t.uri),r=Ft(await Ya(e.loadDefaultConfiguration??!0),await ko(),e),i=Sg(r,n),s=i?.languageId?.length?i.languageId:t.languageId?t.languageId:PFe(n);return t.locale&&(i.language=t.locale),Og(i,t.text,s)}function PFe(t){let e=bQ.basename(t);return Bs(e)}var HQ=oe(require("node:assert"),1);var Ln=oe(require("node:assert"),1),KQ=require("node:url");var DQ=oe(require("node:assert"),1);function vQ(t){let e;return(...n)=>{if(e&&T6(e.args,n))return e.value;let r=n,i=t(...r);return e={args:r,value:i},i}}var _Fe=Object.freeze({}),IFe=Object.freeze({});async function*TQ(t,e,n){for await(let r of t)yield await HL(r,e,n)}var NFe=vQ(LFe);function LFe(t,e){let n=rd();return r=>n.get(r,i=>OFe(i,t,e))}function HL(t,e=_Fe,n=IFe){return NFe(e,n)(t)}async function OFe(t,e,n){let{languageId:r,locale:i,includeDefaultConfig:s=!0,dictionaries:o}=e;async function a(p){let f=Ft(p,qt({language:i||p.language})),d=bu(f,r??f.languageId??"plaintext"),h=ji(d);h.dictionaries=o?.length?o:h.dictionaries||[],qFe(h,o);let g=await fi(h);h.dictionaries=h.dictionaryDefinitions?.map(y=>y.name)||[];let m=await fi(h);return{dictionaryCollection:g,allDictionaryCollection:m}}await Ua();let c=s?Ft(await Ya(n.loadDefaultConfiguration??!0),await ko(),n):n,{dictionaryCollection:u,allDictionaryCollection:l}=await a(c);return MFe(t,e,n,u,l)}async function MFe(t,e,n,r,i){let s=i||r,{locale:o,strict:a=!0,numChanges:c=4,numSuggestions:u=8,includeTies:l=!0,includeDefaultConfig:p=!0}=e,f=!a,d=p?Ft(await Ya(n.loadDefaultConfiguration??!0),await ko(),n):n,h={ignoreCase:f,numChanges:c,numSuggestions:u,includeTies:l},g=r.dictionaries.flatMap(E=>E.suggest(t,h).map(k=>({...k,dictName:E.name}))),m=EQ(o||d.language||void 0),y=Intl.Collator(m),C=wQ(UFe(g.sort((E,k)=>E.cost-k.cost||y.compare(E.word,k.word))),u,l),T=GL(t,C,m,f,s).map(E=>{let k=s.find(E.word);return{...E,forbidden:k?.forbidden||!1,noSuggest:k?.noSuggest||!1}});return{word:t,suggestions:wQ(T,u,l)}}function UFe(t){let e=new Map;for(let n of t){let{word:r,cost:i,dictName:s,...o}=n,a=e.get(r)||{word:r,cost:i,...o,dictionaries:[]};a.cost=Math.min(a.cost,i),a.dictionaries.push(s),a.dictionaries.sort(),e.set(r,a)}return[...e.values()]}function EQ(t){if(!t)return;let e=[...vY(t)].filter(n=>kL(n));if(e.length)return e.length===1?e[0]:e}function GL(t,e,n,r,i){n=EQ(n);let s=new Set(e.map(a=>a.word)),o={...jFe(t),locale:n,ignoreCase:r};return e.map(a=>{let c=WFe(a.word,!!a.isPreferred,o);if(c===a.word||s.has(c))return a;let u=i.find(c);return!u||!u.forbidden||!u.noSuggest?(s.add(c),{...a,wordAdjustedToMatchCase:c}):a})}function wQ(t,e,n){let r=t[0]?.cost,i=0;for(;i<t.length&&!(i>=e&&(!n||t[i].cost>r));++i)r=t[i].cost;return t.slice(0,i)}function qFe(t,e){if(!e?.length)return;let n=new Set(t.dictionaryDefinitions?.map(r=>r.name)||[]);for(let r of e)if(!n.has(r))throw new Mg(`Unknown dictionary: "${r}"`,"E_dictionary_unknown")}function WFe(t,e,n){let r=n.locale;return n.isMixedCaps?t:BFe(t)?n.isAllCaps?t.toLocaleUpperCase(r):!n.ignoreCase||n.hasCaps||e?t:$Fe(t)||KFe(t)?t.toLocaleLowerCase(r):t:n.hasCaps?n.isAllCaps?t.toLocaleUpperCase(r):((0,DQ.default)(n.isTitleCase),t.replace(/^\p{L}/u,i=>i.toLocaleUpperCase(r))):t}var kQ=/\p{Lu}/u,RQ=/^[\P{L}\p{Lu}]+$/u,FQ=/^\p{Lu}[\P{L}\p{Ll}]+$/u;function jFe(t){let e=kQ.test(t),n=e&&RQ.test(t),r=e&&!n&&FQ.test(t);return{hasCaps:e,isAllCaps:n,isMixedCaps:e&&!n&&!r,isTitleCase:r}}function BFe(t){return kQ.test(t)}function $Fe(t){return FQ.test(t)}function KFe(t){return RQ.test(t)}var Mg=class extends Error{code;constructor(e,n){super(e),this.code=n}};var UQ=oe(require("node:assert"),1);var aw=class{compare;_heap;_size=0;constructor(e){this.compare=e}add(e){return this._heap=HFe(this.compare,this._heap,e),++this._size,this}dequeue(){let e=this.next();if(!e.done)return e.value}append(e){for(let n of e)this.add(n);return this}next(){if(!this._heap)return{value:void 0,done:!0};let e=this._heap.v;return--this._size,this._heap=zFe(this.compare,this._heap),{value:e}}peek(){return this._heap?.v}[Symbol.iterator](){return this}get length(){return this._size}};function zFe(t,e){if(!(!e||!e.c))return PQ(t,e.c)}function HFe(t,e,n){let r={v:n,s:void 0,c:void 0};return!e||t(n,e.v)<=0?(r.c=e,r):(r.s=e.c,e.c=r,e)}function AQ(t,e,n){return t(e.v,n.v)<=0?(e.s=void 0,n.s=e.c,e.c=n,e):(n.s=void 0,e.s=n.c,n.c=e,n)}function PQ(t,e){if(!e.s)return e;let n=e.s,r=n.s,i=AQ(t,e,n);return r?AQ(t,i,PQ(t,r)):i}function _Q(t){return t.replaceAll(/[|\\{}()[\]^$+*?.]/g,"\\$&").replaceAll("-","\\x2d")}var Ug=Object.freeze([]);function cw(t,e,n,r={}){let i=IQ({text:t.text,offset:e-t.offset}),s=t.offset,o=new Map,a=/^[-.+\d_eE'`\\\s]+$/;if(!i.text){let d=l(i);return{line:t,offset:e,text:d,words:[],endOffset:d.offset+d.text.length}}let c={line:t,relStart:i.offset,relEnd:i.offset+i.text.length},u=GFe(c,r);if(!u.length){let d=l(i);return{line:t,offset:e,text:d,words:[{...d,isFound:n(d)}],endOffset:d.offset+d.text.length}}function l(d){return{...d,offset:d.offset+s}}function p(d){if(a.test(d.text))return!0;let h=d.offset,g=d.text.length,m=h+(g<<20);if(h<1<<20&&g<2048){let C=o.get(m);if(C!==void 0)return C}else m=-1;let y=n(l(d));return m>=0&&o.set(m,y),y}return u.push({offset:c.relEnd,breaks:[Ug]}),{line:t,offset:e,text:l(i),words:YFe(c,u,p).map(l),endOffset:s+c.relEnd}}function IQ({text:t,offset:e}){let n=new RegExp(Tv);n.lastIndex=e;let r=n.exec(t);return r?fJ.test(r[0])?IQ({text:t,offset:e+r[0].length}):{text:r[0],offset:r.index}:{text:"",offset:e+t.length}}function GFe(t,e){let n=VFe(t),r=XFe(t),i=JFe(t,e.optionalWordBreakCharacters);return QFe(...n,...r,...i)}function VL(t,e){let n=new RegExp(t);return n.lastIndex=e,n}function VFe(t){let e=[],n=t.line.text.slice(0,t.relEnd);for(let i of n.matchAll(VL(rJ,t.relStart))){if(i.index===void 0)break;let s=i.index+i[1].length;e.push({offset:i.index,breaks:[[s,s],Ug]})}let r=[];for(let i of n.matchAll(VL(iJ,t.relStart))){if(i.index===void 0)break;let s=i.index+i[1].length,o=s+i[3].length;r.push({offset:i.index,breaks:[[s,s],[o,o],Ug]})}return[e,r]}function Nd(t,e,n){let r=[],i=t.line.text.slice(0,t.relEnd);for(let s of i.matchAll(VL(e,t.relStart))){let o=n(s);o&&r.push(o)}return r}function JFe(t,e){function n(i){let s=i.index;if(s===void 0)return;let o=s+i[0].length;return{offset:s,breaks:[[s,o],Ug]}}let r=[Nd(t,lJ,n),Nd(t,dJ,n)];if(e){let i=new RegExp(`[${_Q(e)}]`,"gu");r.push(Nd(t,i,n))}return r}function XFe(t){function e(n){let r=n.index;if(r===void 0)return;let i=r+n[0].length;return{offset:r,breaks:[[r,i],[r,r],[i,i],Ug]}}return[Nd(t,aJ,e),Nd(t,/\d+/g,e),Nd(t,uJ,e)]}function YFe(t,e,n){let r=t.relEnd,i=1e3,s=new Map;function o(m,y,C,x){let T=r;for(;C<e.length&&e[C].offset<y;)C+=1;if(C>=e.length)return[];let E=e[C];function k(L){let A=L.length<2?T-y:(L[0]-y)*.5+T-L[1],j=x+A;return{p:m,i:y,bi:C,bp:L,c:x,ec:j,text:void 0}}return E.breaks.map(k)}function a(m,y){let C=n({text:m,offset:y});return{text:m,offset:y,isFound:C}}function c(m,y){return m.ec-y.ec||y.i-m.i}function u(m){let y=[];for(let C=m;C;C=C.n)C.text&&y.push(C.text);return y}function l(m,y){for(let C=m;C!==void 0;C=C.p){let x=C.text,T=C.i,E=(!x||x.isFound?0:x.text.length)+(y?.c??0),k=s.get(T);if(k&&k.c<=E)return;let L={n:y,i:T,c:E,text:x};s.set(T,L),y=L}return y}let p=t.relEnd-t.relStart,f=new aw(c),d=t.line.text;f.append(o(void 0,t.relStart,0,0));let h=0,g;for(;p&&f.length&&h++<i;){let m=f.dequeue();if(!(!m||m.c>=p)){if(m.bp.length){let y=m.bp[0],C=m.bp[1],x=y>m.i?a(d.slice(m.i,y),m.i):void 0,T=!x||x.isFound?0:x.text.length,E=r-C;m.c+=T,m.ec=m.c+E,m.text=x;let k=s.get(C);if(k){let L=l(m,k);g=!g||L&&L.c<g.c?L:g}else if(m.c<p){let L=o(x?m:m.p,C,m.bi+1,m.c);f.append(L)}}else{let y=o(m.p,m.i,m.bi+1,m.c);if(f.append(y),!y.length){let C=r>m.i?a(d.slice(m.i,r),m.i):void 0,x=!C||C.isFound?0:C.text.length;m.c+=x,m.ec=m.c,m.text=C;let T=C||m.p?.text||a("",m.i),E=C?{...m,text:T}:{...m,...m.p,text:T},k=l(E,void 0);g=!g||k&&k.c<g.c?k:g}}g&&g.c<p&&(p=g.c)}}return u(g)}function QFe(...t){return t.flat().sort((e,n)=>e.offset-n.offset)}function NQ(t,e){return e=e.includes("\\")?e.replaceAll("\\",""):e,t.has(e)}function JL(t,e,n){return NQ(t,e.text)||n.text[e.offset-n.offset-1]==="\\"&&NQ(t,e.text.slice(1))}var LQ=oe(require("node:assert"),1);function OQ(t,e){let{text:n,range:r,map:i}=t,[s,o]=r,a=Math.min(Math.max(e[0],s),o),c=Math.min(Math.max(e[1],s),o),u=a-s,l=c-s,p=[a,c];if(!i||!i.length||u===l)return{text:n.slice(u,l),range:p};(0,LQ.default)((i.length&1)===0,"Map must be pairs of values.");let f=i.length,d=i[f-2],h=i[f-1],g=n.length-h,m=!i[0]&&!i[1]?[]:[0,0],y=[d+g,h+g],C=[...m,...i,...y],x=0;for(;x<C.length&&u>=C[x];x+=2);let T=x;x-=2;let E=u-C[x],k=E+C[x+1];for(;x<C.length&&l>C[x];x+=2);let L=x,j=l-C[x]+C[x+1],H=n.slice(k,j);if(L===T)return{text:H,range:p};let F=[E,k],M=C.slice(T,L+2).map((J,_)=>J-F[_&1]);return{text:H,range:p,map:M}}function MQ(t,e){if(!e||!e.length)return t;let[n,r]=t,i=0,s=0,o=1;for(;o<e.length&&e[o]<n;)i=e[o-1],s=e[o],o+=2;let a=n-s+i;for(;o<e.length&&e[o]<r;)i=e[o-1],s=e[o],o+=2;let c=r-s+i;return[a,c]}function XL(t){let e=0;function*n(r){if(!t.length)return;let i=r.range,s=i[1],o=i[0];for(;e&&(e>=t.length||t[e].startPos>o);)e-=1;let a=t[e];if(s<=a.endPos&&o>=a.startPos){yield r;return}for(;o<s;){for(;t[e]&&t[e].endPos<=o;)e+=1;if(!t[e])break;let{startPos:c,endPos:u}=t[e];if(s<c)break;let l=Math.max(o,c),p=Math.min(s,u);l!==p&&(yield OQ(r,[l,p])),o=p}}return n}function YL(t,e){let{minWordLength:n=4,flagWords:r=[],allowCompoundWords:i=!1,ignoreCase:s=!0}=e,a=cb(t,{ignoreCase:s,useCompounds:i||void 0}),c=new Map,u=new Set(r),l=new Map,p=new Set,f=_=>I=>{let W=_(I);return W||p.add(I.text),W},d=_=>!p.has(_.text),h={has(_){let I=J(_);return I.isFound!==void 0?I.isFound:I.isFlagged?!0:I.isFlagged?!1:(I.isFound=a.has(_),I.isFound)}};function g(_){return _.isIgnored??=a.isNoSuggestWord(_.word),_.isIgnored}function m(_){if(_.isFlagged!==void 0)return _.isFlagged;let I=_.word;return _.isFlagged=(u.has(I)||u.has(I.toLowerCase())||a.isForbidden(I))&&!g(_),_.isFlagged}function y(_){return g(J(_))}function C(_){return a.getPreferredSuggestions(_)}function x(_){return m(J(_.text))}function T(_){return _.isFlagged=x(_),_}function E(_){let I=C(_.text);return I&&I.length&&(_.suggestionsEx=I),_}let k=_=>_.text.length>=n||!!_.isFlagged,L=f(_=>_.isFlagged||!_.isFound),A=f(_=>!zY.test(_.text));function j(_){let I=J(_.text);if(I.fin){let{isFlagged:ce,isFound:ae,isIgnored:fe}=I,be=_.isFlagged??(!fe&&ce);return _.isFlagged=be,_.isFound=be?void 0:ae,_}let W=g(I),ue=_.isFlagged??m(I);return I.isFound??=ue?!1:W||JL(h,_,_.line),I.isFlagged=!!ue,I.fin=!0,_.isFlagged=ue,_.isFound=ue?void 0:I.isFound,_}let H=/^([\p{Lu}\p{M}]{2,})[']?(?:s|ing|ies|es|ings|ize|ed|ning)$/u,F=/\p{L}/u,M=_=>{let I=_.line;function W(ie,qe=!1){if(ie.text.length>=n)return!1;let Ke=ie.offset-I.offset;UQ.default.equal(I.text.slice(Ke,Ke+ie.text.length),ie.text);let re=[...I.text.slice(Math.max(0,Ke-2),Ke)];if(!!re.length&&F.test(re[re.length-1]))return!1;if(qe)return!0;let se=[...I.text.slice(Ke+ie.text.length,Ke+ie.text.length+2)];return!(!!se.length&&F.test(se[0]))}function ue(ie){return p.has(ie.text)?!0:x(ie)?!1:JL(h,ie,_.line)||W(ie)?!0:ce(ie)}function ce(ie){if(!H.test(ie.text))return!1;let qe=ie.text.match(H);if(!qe)return!1;let re={offset:ie.offset,text:qe[1],line:I},pe=j(re);return pe.isFlagged?!1:!!(pe.isFound||W(re,!0))}function ae(ie){if(ie.isFlagged)return[ie];if(ce(ie))return[];if(y(ie.text)||j(ie).isFound)return f(Ke=>!1)(ie),[];if(ie.isFlagged)return[ie];let qe=fe(ie);return qe.length?qe:(f(Ke=>!1)(ie),[])}function fe(ie){return be(ie,Dv)}function be(ie,qe){let Ke=[];for(let re of rQ(ie,qe)){if(p.has(re.text))continue;let pe=re;pe.line=ie.line,pe.isFlagged=void 0,pe.isFound=void 0,T(pe),k(pe)&&(j(pe),!(!L(pe)||!A(pe))&&(pe.text=rw(_.segment,pe.offset,pe.offset+pe.text.length),Ke.push(pe)))}return Ke}function Ue(ie,qe){let{issues:Ke}=qe,re=ie.offset-qe.possibleWord.offset;return Ke.map(pe=>(pe={...pe},pe.offset+=re,pe.line=_.line,pe))}function st(ie){let qe=l.get(ie.text);if(qe)return qe.issues.length?Ue(ie,qe):qe.issues;let Ke=ut(ie).map(E);return l.set(ie.text,{possibleWord:ie,issues:Ke}),Ke}function ut(ie){if(x(ie))return[{...ie,line:_.line,isFlagged:!0}];let qe=[];for(let Ke of _d(ie)){if(p.has(Ke.text))continue;let re=Ke;if(re.line=_.line,T(re),!!k(re))for(let pe of ae(re))qe.push(pe)}if(qe.length){let re=cw(_.segment,ie.offset,ue).words.filter(pe=>!pe.isFound).filter(pe=>{let se=pe.text.match(H);if(!se)return!0;let he=j({...pe,text:se[1],line:_.line});return he.isFlagged||!he.isFound});if(re.length<qe.length)return re.map(pe=>({...pe,line:_.line})).map(T)}return qe}return Te(ew(_.segment),Ut(d),fn(st))};function J(_){let I=c.get(_);if(I)return I;let W={word:_,isFound:void 0,isFlagged:void 0,isIgnored:void 0,fin:!1};return c.set(_,W),W}return{fn:M,dict:a}}function QL(t,e){let n=YL(t,e),r=n.fn;function i(s){let{text:o,range:a,map:c}=s,u=a[0],l={text:o,offset:0},p={line:l,segment:l};function f(d){let{text:h,offset:g,isFlagged:m,isFound:y,suggestionsEx:C}=d,x=MQ([g,g+h.length],c),T=[x[0]+u,x[1]+u];return{text:h,range:T,isFlagged:m,isFound:y,suggestionsEx:C}}return[...r(p)].map(f)}return{validate:i,lineValidator:n}}function qg(t){return{...t,ignoreCase:!(t.caseSensitive??!1)}}function qQ(t){let e=t.index||0,n=t[0];return{startPos:e,endPos:e+n.length,text:n}}function ZFe(t,e){if(t.source===".*")return[{startPos:0,endPos:e.length}];let n=new RegExp(t);if(!n.global){let r=e.match(n);return r?[qQ(r)]:[]}return[...e.matchAll(n)].map(qQ)}function eAe(t,e){return t.startPos-e.startPos||t.endPos-e.endPos}function tAe(t){let e=ZL(t);if(t=e.values,!t.length)return e;let n=0,r=0,{startPos:i,endPos:s}=t[n++];for(;n<t.length;++n){let o=t[n];if(o.startPos>s){t[r++]={startPos:i,endPos:s},i=o.startPos,s=o.endPos;continue}s=Math.max(s,o.endPos)}return i<s&&(t[r++]={startPos:i,endPos:s}),t.length=r,e}function e1(t,e){let n=t.map(r=>ZFe(r,e));return tAe(rAe(n)).values}function WQ(t,e){return nAe(ZL(t),ZL(e))}function nAe(t,e){let n=t.values,r=e.values;if(!n.length||!r.length)return n;let i=[];i.length=n.length+r.length+1;let s=0,o=0,a=r.length;for(let c of n){let u=c.endPos,l=c.startPos;for(;o<a;++o){let p=r[o];if(p.startPos>=u)break;if(!(p.endPos<=l)&&(p.startPos>l&&(i[s++]={startPos:l,endPos:p.startPos}),l=p.endPos,l>=u))break}l<u&&(i[s++]={startPos:l,endPos:u})}return i.length=s,i}function ZL(t){return t.sort(eAe),{values:t}}function rAe(t){let e=0;for(let i=t.length-1;i>=0;--i)e+=t[i].length;let n=new Array(e),r=0;for(let i=0;i<t.length;++i){let s=t[i];for(let o=0;o<s.length;++o)n[r++]=s[o]}return n}function jQ(t,e,n){let{maxNumberOfProblems:r=200,maxDuplicateProblems:i=5}=n,s=new Map,o=uw(t,n),c=YL(e,n).fn;return Te(Zv(t),fn(aAe(o)),fn(c),Ut(l=>{let p=l.text,f=(s.get(p)||0)+1;return s.set(p,f),f<=i}),Rx(r))}function uw(t,e){let{ignoreRegExpList:n=[],includeRegExpList:r=[]}=e,i=r.filter(a=>!!a),s=i.length?i:[/.*/gim];return WQ(e1(s,t),e1(n,t))}function aAe(t){let e=cAe(t);return n=>e({line:n,segment:n})}function cAe(t){let e=0;return r=>{if(!t.length)return[];let i=[],{segment:s,line:o}=r,{text:a,offset:c,length:u}=s,l=c+(u??a.length),p=c;for(;e&&(e>=t.length||t[e].startPos>p);)e-=1;let f=t[e];if(l<=f.endPos&&p>=f.startPos)return[r];for(;p<l;){for(;t[e]&&t[e].endPos<=p;)e+=1;if(!t[e])break;let{startPos:d,endPos:h}=t[e];if(l<d)break;let g=Math.max(p,d),m=Math.min(l,h);g!==m&&i.push({line:o,segment:{offset:g,text:a.slice(g-c,m-c)}}),p=m}return i}}function lw(t,e,n){let r={ignoreCase:n.ignoreCase??!0,useCompounds:n.allowCompoundWords||!1},s=cw({text:t,offset:0},0,p).words.map(f=>({word:f.text,found:f.isFound})),o=bb(f=>f.word+"|"+f.found),a={word:t,found:e.has(t,r)},c=s.some(f=>f.word===t)?s:[a,...s],u=c.filter(o).map(f=>f.word).flatMap(f=>e.dictionaries.map(d=>({dict:d,word:f}))).map(({dict:f,word:d})=>({dict:f,findResult:f.find(d,r),word:d})).flatMap(f=>uAe(f,n)),l=new t1(...u);return l.splits=c,l;function p(f){return e.has(f.text,r)}}function uAe(t,e){let{word:n,dict:r,findResult:i}=t,s=$Q(r,n),o={word:n,found:!!i?.found,foundWord:i?.found||void 0,forbidden:i?.forbidden||!1,noSuggest:i?.noSuggest||!1,dictName:r.name,dictSource:r.source,configSource:void 0,preferredSuggestions:s,errors:BQ(r.getErrors?.())},a=C5.get(r.name);if(!i?.found||!a||!e.source)return[o];let c={ignoreCase:!0,useCompounds:e.allowCompoundWords||!1},u=yg(e),l=[];for(let p of u){if(!p[a]||!Array.isArray(p[a])||!p[a]?.length||!p.source?.filename)continue;let f=Vr(p.source.filename).href,d={[a]:p[a]},h=os(iN(d),r.name,f),g=h.find(n,c),m=$Q(h,n);if(!g?.found&&!m)continue;let y={word:n,found:!!g?.found,foundWord:g?.found||void 0,forbidden:g?.forbidden||!1,noSuggest:g?.noSuggest||!1,dictName:r.name,dictSource:f,configSource:f,preferredSuggestions:m,errors:BQ(r.getErrors?.())};l.push(y)}return l.length?l:[o]}function BQ(t){return t?.length?t:void 0}function $Q(t,e){let n=t.getPreferredSuggestions?.(e);return n?.length?n.filter(i=>i.isPreferred).map(i=>i.word):void 0}var t1=class extends Array{splits=[];constructor(...e){super(...e)}};var Ki="Validator Must be prepared before calling this function.",Fo=class{settings;_document;_ready=!1;errors=[];_prepared;_preparations;_preparationTime=-1;_suggestions=new tv(e=>this.genSuggestions(e),1e3);options;perfTiming={};skipValidation;constructor(e,n,r){this.settings=r,this._document=e,this.options={...n};let i=this.options.numSuggestions??r.numSuggestions;i!==void 0&&(this.options.numSuggestions=i),this.skipValidation=!!n.skipValidation}get ready(){return this._ready}prepare(){return this._ready?Promise.resolve():this._prepared?this._prepared:(this._prepared=this._prepareAsync(),this._prepared)}async _prepareAsync(){(0,Ln.default)(!this._ready);let e=Bi("_prepareAsync"),{options:n,settings:r}=this,i=ft(n.resolveImportsRelativeTo||(0,KQ.pathToFileURL)("./virtual.settings.json")),s=r.import?.length?await Bv(r,i):r,o=!n.noConfigSearch&&!s.noConfigSearch||n.noConfigSearch===!1,a=n.configFile?Su(n.configFile,s):o?dw(this.perfTiming,"__searchForDocumentConfig",zQ(this._document,s,s)):void 0;a&&dw(this.perfTiming,"_loadConfig",a);let c=await r_(a,L=>this.addPossibleError(L))||{};this.addPossibleError(c?.__importRef?.error);let u=Ft(s,c),l=await dw(this.perfTiming,"_determineTextDocumentSettings",Id(this._document,u)),p=await dw(this.perfTiming,"_getDictionaryInternal",fi(l)),f=Wg(this.perfTiming,"_GlobMatcher"),d=Cg(c?.ignorePaths),h=this._document.uri;f();let g=Wg(this.perfTiming,"_shouldCheck"),m=!d.match(wo(h))&&(l.enabled??!0);g();let y=Wg(this.perfTiming,"_finalizeSettings"),C=ji(l),x=qg(C),T=uw(this._document.text,x),E=XL(T),k=QL(p,x);y(),this._preparations={config:u,dictionary:p,docSettings:l,finalSettings:C,shouldCheck:m,validateOptions:x,includeRanges:T,segmenter:E,textValidator:k,localConfig:c,localConfigFilepath:c?.__importRef?.filename},this._ready=!0,this._preparationTime=e.elapsed,this.perfTiming.prepTime=this._preparationTime}async _updatePrep(){(0,Ln.default)(this._preparations,Ki);let e=Bi("_updatePrep"),n=this._preparations,r=await Id(this._document,n.config),i=await fi(r),s=r.enabled??!0,o=ji(r),a=qg(o),c=uw(this._document.text,a),u=XL(c),l=QL(i,a);this._preparations={...n,dictionary:i,docSettings:r,shouldCheck:s,validateOptions:a,includeRanges:c,segmenter:u,textValidator:l},this._preparationTime=e.elapsed}get prepTime(){return this._preparationTime}get validateDirectives(){return this.options.validateDirectives??this._preparations?.config.validateDirectives??!1}checkText(e,n,r){let i=this._document.text.slice(e[0],e[1]);return this.check({text:i,range:e,scope:r.join(" ")})}check(e){(0,Ln.default)(this._ready),(0,Ln.default)(this._preparations,Ki);let{segmenter:n,textValidator:r}=this._preparations,i=this._document,s;function o(u){let{range:l,text:p,isFlagged:f,isFound:d,suggestionsEx:h}=u,g=l[0],m=l[1]-l[0];return(0,Ln.default)(!s||s.offset<=g),(!s||s.offset+s.text.length<=g)&&(s=i.lineAt(g)),{text:p,offset:g,line:s,length:m,isFlagged:f,isFound:d,suggestionsEx:h}}let a=[...Te(n(e),fn(r.validate),Ne(o))];return this.options.generateSuggestions?a.map(u=>{let l=u.text,p=this.getSuggestions(l);return u.suggestionsEx=p,u.suggestions=p.map(f=>f.word),u}):a.map(u=>{if(!u.suggestionsEx)return u;let l=this.adjustSuggestions(u.text,u.suggestionsEx),p=l.map(f=>f.word);return{...u,suggestionsEx:l,suggestions:p}})}async checkDocumentAsync(e){return await this.prepare(),this.checkDocument(e)}checkDocument(e=!1){let n=Wg(this.perfTiming,"checkDocument");try{if(this.skipValidation)return[];(0,Ln.default)(this._ready),(0,Ln.default)(this._preparations,Ki);let r=e||this.shouldCheckDocument()?[...this._checkParsedText(this._parse())]:[],i=this.checkDocumentDirectives();return[...r,...i].sort((o,a)=>o.offset-a.offset)}finally{n()}}checkDocumentDirectives(e=!1){if((0,Ln.default)(this._ready),(0,Ln.default)(this._preparations,Ki),!(e||this.validateDirectives))return[];let r=this.document,i=je.IssueType.directive;function s(o){let{text:a,range:c,suggestions:u,suggestionsEx:l,message:p}=o,f=c[0],d=r.positionAt(f),h=r.getLine(d.line);return{text:a,offset:f,line:h,suggestions:u,suggestionsEx:l,message:p,issueType:i}}return[...iw(this.document.text,this._preparations.config)].map(s)}get document(){return this._document}async updateDocumentText(e){cv(this._document,[{text:e}]),await this._updatePrep()}getCheckedTextRanges(){return(0,Ln.default)(this._preparations,Ki),this._preparations.includeRanges}traceWord(e){return(0,Ln.default)(this._preparations,Ki),lw(e,this._preparations.dictionary,this._preparations.config)}defaultParser(){return Te(this.document.getLines(),Ne(e=>{let{text:n,offset:r}=e,i=[r,r+n.length];return{text:n,range:i}}))}*_checkParsedText(e){(0,Ln.default)(this._preparations,Ki);let{maxNumberOfProblems:n=200,maxDuplicateProblems:r=5}=this._preparations.validateOptions,i=0,s=new Map;for(let o of e)for(let a of this.check(o)){let{text:c}=a,u=(s.get(c)||0)+1;if(s.set(c,u),!(u>r)&&(yield a,++i>=n))return}}addPossibleError(e){e&&(e=this.errors.push(ss(e)))}_parse(){(0,Ln.default)(this._preparations,Ki);let e=this._preparations.finalSettings.parserFn;return typeof e!="object"?this.defaultParser():e.parse(this.document.text,tt(lu(this.document.uri))).parsedTexts}getSuggestions(e){return this._suggestions.get(e)}genSuggestions(e){(0,Ln.default)(this._preparations,Ki);let n=this._preparations.docSettings,r=this._preparations.dictionary,i={compoundMethod:0,numSuggestions:this.options.numSuggestions,includeTies:!1,ignoreCase:!(n.caseSensitive??!1),timeout:n.suggestionsTimeout,numChanges:n.suggestionNumChanges},s=r.suggest(e,i);return this.adjustSuggestions(e,s)}adjustSuggestions(e,n){(0,Ln.default)(this._preparations,Ki);let i=!(this._preparations.docSettings.caseSensitive??!1),s=this._preparations.config.language,o=this._preparations.dictionary;return GL(e,n.map(dAe),s,i,o).map(lAe)}getFinalizedDocSettings(){return(0,Ln.default)(this._ready),(0,Ln.default)(this._preparations,Ki),this._preparations.docSettings}shouldCheckDocument(){return(0,Ln.default)(this._preparations,Ki),this._preparations.shouldCheck}_getPreparations(){return this._preparations}};function lAe(t){let{word:e,isPreferred:n,wordAdjustedToMatchCase:r}=t;return n&&r?{word:e,wordAdjustedToMatchCase:r,isPreferred:n}:n?{word:e,isPreferred:n}:r?{word:e,wordAdjustedToMatchCase:r}:{word:e}}async function zQ(t,e,n){let r=lu(t.uri);try{return await kd(r,n).then(i=>i||e)}catch(i){if(r.protocol!=="file:")return e;throw i}}function dAe(t){return{cost:999,...t}}async function n1(t,e,n){let r=[];function i(o){o&&(o=r.push(ss(o)))}async function s(){let o=!e.noConfigSearch&&!n.noConfigSearch||e.noConfigSearch===!1,a=e.configFile?Su(e.configFile,n):o?zQ(t,n,n):void 0,c=await r_(a,i)||{};i(c?.__importRef?.error);let u=Ft(n,c),l=Cg(c?.ignorePaths),p=await Id(t,u);return!l.match(wo(t.uri))&&(p.enabled??!0)}return{errors:r,shouldCheck:await s()}}function Wg(t,e){let n=Bi(e,r=>t[e]=r);return()=>n.end()}function dw(t,e,n){return n.finally(Wg(t,e))}async function fw(t,e,n={}){let r=ji(e),i=await fi(r),s=[...jQ(t,i,qg(r))],o=n.validateDirectives||r.validateDirectives?iw(t,e):[],a=[...s,...fAe(t,o)];if(!n.generateSuggestions)return a;let c={numSuggestions:n.numSuggestions,compoundMethod:Ht.NONE,includeTies:!1,ignoreCase:!(e.caseSensitive??!1),timeout:e.suggestionsTimeout,numChanges:e.suggestionNumChanges};return a.map(l=>{let p=l.text,f=i.suggest(p,c).map(({word:d,isPreferred:h})=>h?{word:d,isPreferred:h}:{word:d});return l.suggestions=f.map(d=>d.word),l.suggestionsEx=f,l})}function fAe(t,e){let n=[...e];if(!n.length)return[];let r=qa({uri:"",content:t}),i=je.IssueType.directive;function s(o){let{text:a,range:c,suggestions:u,suggestionsEx:l,message:p}=o,f=c[0],d=r.positionAt(f),h=r.getLine(d.line);return{text:a,offset:f,line:h,suggestions:u,suggestionsEx:l,message:p,issueType:i}}return n.map(s)}async function pw(t,e){let n=e.languageId||"plaintext",r=qt({uri:"",text:t,languageId:Array.isArray(n)?n.join(","):n,locale:e.language});return jg(r,{noConfigSearch:!0},{loadDefaultConfiguration:!1,...e})}var Ao;(function(t){t.INCLUDE="I",t.EXCLUDE="E"})(Ao||(Ao={}));async function jg(t,e,n={}){return t=I5(t)?t:await L5(t),pAe(new Fo(t,e,n))}async function pAe(t){await t.prepare();let e=t.checkDocument(!0),n=t._getPreparations();return(0,HQ.default)(n),hAe(t.document.text,e,n.includeRanges)}function hAe(t,e,n){let r=[],i=0;for(let{startPos:o,endPos:a}of n)r.push({text:t.slice(i,o),startPos:i,endPos:o,flagIE:Ao.EXCLUDE},{text:t.slice(o,a),startPos:o,endPos:a,flagIE:Ao.INCLUDE}),i=a;r.push({text:t.slice(i),startPos:i,endPos:t.length,flagIE:Ao.EXCLUDE});function*s(){let o=0;for(let a of r){if(o>=e.length||e[o].offset>=a.endPos){yield a;continue}let c={...a};for(;o<e.length&&e[o].offset<c.endPos;){let u=e[o],l=u.offset,p=c.text.slice(0,l-c.startPos),f=u.offset+u.text.length;yield{...c,text:p,endPos:l},yield{...c,isError:!0,startPos:u.offset,endPos:f,text:u.text},c.text=c.text.slice(f-c.startPos),c.startPos=f,o+=1}yield c}}return{text:t,items:[...s()].filter(o=>o.startPos<o.endPos)}}function GQ(t,e,n){let r={uri:kr(t).toString()};return r1(r,e,n)}async function r1(t,e,n){if(aN(t))return{document:t,options:e,settingsUsed:n,localConfigFilepath:void 0,issues:[],checked:!1,errors:void 0};try{let r=Bi("loadFile"),i=await dv(t).finally(()=>r.end());if(aN(i))return{document:t,options:e,settingsUsed:n,localConfigFilepath:void 0,issues:[],checked:!1,errors:void 0};let s=await gAe(i,e,n),o=s.perf||{};return o.loadTimeMs=r.elapsed,s.perf=o,s}catch(r){let i=ih(r)?[r]:[];return{document:t,options:e,settingsUsed:n,localConfigFilepath:void 0,issues:[],checked:!1,errors:i}}}async function gAe(t,e,n){let r={},i=Bi("spellCheckFullDocument",d=>r.totalTimeMs=d),s=Bi("check",d=>r.checkTimeMs=d),o=Bi("prepare",d=>r.prepareTimeMs=d),a=lv(t),c=e,u=new Fo(a,c,n);await u.prepare().finally(()=>o.end()),Object.assign(r,Object.fromEntries(Object.entries(u.perfTiming).map(([d,h])=>["_"+d,h])));let l=u._getPreparations();if(u.errors.length)return{document:t,options:e,settingsUsed:l?.localConfig||n,localConfigFilepath:l?.localConfigFilepath,issues:[],checked:!1,errors:u.errors,perf:r};s.start();let p=u.checkDocument();s.end(),Object.assign(r,Object.fromEntries(Object.entries(u.perfTiming).map(([d,h])=>["_"+d,h])));let f={document:t,options:e,settingsUsed:u.getFinalizedDocSettings(),localConfigFilepath:l?.localConfigFilepath,issues:p,checked:u.shouldCheckDocument(),errors:void 0,perf:r};return i.end(),f}async function VQ(t,e){let n=qa({uri:t.uri,content:t.text,languageId:t.languageId,locale:t.locale});return{document:t,settings:await Id(n,e)}}async function JQ(t,e,n){let r=await D6(s1(t,e,n));return Ql(r).concatMap(s=>s).toArray()}async function*s1(t,e,n){let{languageId:r,locale:i,ignoreCase:s=!0,allowCompoundWords:o}=n||{};async function a(d){let h=Ft(d,qt({language:i||d.language,allowCompoundWords:o??d.allowCompoundWords})),g=bu(h,r??h.languageId??"plaintext"),m=ji(g),y=[...m.dictionaries||[],...(m.dictionaryDefinitions||[]).map(k=>k.name)].filter(bb),C=gi({...m,dictionaries:y}),x=await fi(m),T=await fi(C);return{activeDictionaries:x.dictionaries.map(k=>k.name),config:m,dicts:T}}await Ua();let{config:c,dicts:u,activeDictionaries:l}=await a(e),p=new Set(l);function f(d){let h=lw(d,u,{...c,ignoreCase:s}),g=h.map(y=>({...y,dictActive:p.has(y.dictName),dictSource:tt(y.dictSource),configSource:y.configSource||c.name||"",splits:h.splits})),m=new i1(...g);return h.splits&&m.splits.push(...h.splits),m}for await(let d of t)yield f(d)}var i1=class extends Array{splits=[];constructor(...e){super(...e)}};var o1={};Iu(o1,{calculateTextDocumentOffsets:()=>dQ,camelToSnake:()=>uQ,cleanText:()=>ML,cleanTextOffset:()=>UL,extractLinesOfText:()=>Zv,extractPossibleWordsFromTextOffset:()=>ew,extractText:()=>rw,extractWordsFromCode:()=>aQ,extractWordsFromCodeTextOffset:()=>qL,extractWordsFromText:()=>oQ,extractWordsFromTextOffset:()=>_d,isFirstCharacterLower:()=>$L,isFirstCharacterUpper:()=>BL,isLowerCase:()=>jL,isUpperCase:()=>WL,lcFirst:()=>KL,match:()=>Pd,matchCase:()=>lQ,matchStringToTextOffset:()=>sQ,matchToTextOffset:()=>Lg,removeAccents:()=>fQ,snakeToCamel:()=>cQ,splitCamelCaseWord:()=>Qv,splitCamelCaseWordWithOffset:()=>OL,stringToRegExp:()=>gg,textOffset:()=>nw,ucFirst:()=>tw});Ot(Wt,je);var Ld=oe(require("vscode"),1);function XQ(){return new a1}var mAe=new Set(["cspell.yml","cspell.yaml",".cspell.yml",".cspell.yaml"]),a1=class{#e=St(void 0,"ConfigWatcher");#t;#n=new Ld.EventEmitter;#r=SAe();constructor(){this.#e.push(this.#n)}dispose(){this.#e.dispose(),this.#t=void 0}get on(){return this.onDidChangeConfig}get onDidChangeConfig(){return this.#s(),this.#n.event}#s(){if(this.#t)return this.#t;let e=Ld.workspace.createFileSystemWatcher(`**/{${this.#r.join(",")}}`);return this.#e.push(e,e.onDidChange(this.#i),e.onDidCreate(this.#i),e.onDidDelete(this.#i)),this.#t=e,e}#i=e=>{this.#n.fire(e)};async scanWorkspaceForConfigFiles(e){let n=await Ld.workspace.findFiles(`**/{${this.#r.join(",")}}`,"**/node_modules/**",void 0,e),r=n.filter(o=>o.path.endsWith("/package.json")),i=n.filter(o=>!o.path.endsWith("/package.json")),s=Te(r,CAe(3),Ne(o=>({uri:o,hasConfig:yAe(o)})));for(let{uri:o,hasConfig:a}of s)await a&&i.push(o);return i}};async function yAe(t){if(!t.path.endsWith("/package.json"))return!0;try{let n=new TextDecoder().decode(await Ld.workspace.fs.readFile(t));return"cspell"in JSON.parse(n)}catch{return!1}}function CAe(t){function*e(n){let r=[];for(let i of n)if(r.push(i),r.length>=t-1){let s=r[0];r.shift(),yield s}yield*r}return e}function SAe(){let t=new Set;for(let e of Ed){let n=e.split("/");if(n.length===1){mAe.has(e)||t.add(e);continue}let r=n[n.length-1];t.has(r)||t.add(e)}return[...t]}var rt=oe(require("vscode"),1);var QQ=oe(require("node:assert"),1),hw=require("vscode");var xAe=Jo;function*ZQ(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,r]of Object.entries(e))yield*ZQ(`${t}.${n}`,r)}var YQ=new Map,eZ=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),tZ=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),bAe={output:!1};async function nZ(t){return gw(t,xAe)}async function gw(t,e="cSpell.context"){(0,QQ.default)(e.startsWith("cSpell"));let r=[...ZQ(e,t)].filter(([s,o])=>o!==YQ.get(s)),i=r.map(([s,o])=>hw.commands.executeCommand("setContext",s,o));r.forEach(([s,o])=>YQ.set(s,o)),await Promise.all(i)}var c1=new WeakMap,vAe=1e3;async function Od(t,e){let n={documentConfigContext:{...eZ},editorMenuContext:{...tZ}};if(!e){await nZ(n);return}if(bAe[e.uri.scheme]===!1)return;let r=e,i=c1.get(r);if(i)return i.stale=!i.pending,i.value;let s={value:wAe(t,r),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,vAe)});function o(){c1.delete(r),s.stale&&Od(t,r)}return c1.set(r,s),s.value}async function wAe(t,e){let n={documentConfigContext:{...eZ},editorMenuContext:{...tZ}},r=t.getConfigurationForDocument(e,{showCommandsInEditorContextMenu:!0,showSuggestionsLinkInEditorContextMenu:!0}),i=Li(e.uri),s=await r,{agg:o,matrix:a,configFoundInWorkspace:c}=DAe(s.configTargets),u=(o.dictionary||0)-(a.dictionary.user||0),l=!!o.cspell,p=u>0,f=i.length>0,d=i.length>1,h=!c||!o.cspell,g=!p,m=!!a.vscode.workspace,y=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:l,usesCustomDictionary:p,hasIssues:f,showCreateConfig:h,showCreateDictionary:g};let C=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=C&&f&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=C&&f&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=C&&f&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=C&&f&&y,n.editorMenuContext.addWordToWorkspaceSettings=C&&f&&m,n.editorMenuContext.addWordToUserSettings=C&&f&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=C&&f&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=C&&f&&l&&!p,n.editorMenuContext.addIssuesToDictionary=C&&f&&d,n.editorMenuContext.createCustomDictionary=C&&g,n.editorMenuContext.createCSpellConfig=C&&h,n.editorMenuContext.addIgnoreWord=C&&f,n.editorMenuContext.hasIssues=f,n.editorMenuContext.hasMultipleIssues=d,n.editorMenuContext.showSuggestions=(C||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&f,await nZ(n)}function DAe(t){let e={},n={vscode:{},cspell:{},dictionary:{}},r=!1;for(let i of t)e[i.kind]=(e[i.kind]||0)+1,e[i.scope]=(e[i.scope]||0)+1,n[i.kind][i.scope]=(n[i.kind][i.scope]||0)+1,r=r||i.kind==="cspell"&&!!hw.workspace.getWorkspaceFolder(ht(i.configUri));return{agg:e,matrix:n,configFoundInWorkspace:r}}var rZ="Word",iZ=1e3,TAe=!1,mw=TAe?console.log:()=>{},Bg=class t{constructor(e,n){this.context=e;this.issueTracker=n;this.getConfiguration();let r=this.createDecorators();this._visible=e.globalState.get(t.globalStateKey,!0),this.decorationTypeForIssues=r?.decoratorIssues,this.decorationTypeForFlagged=r?.decoratorFlagged,this.decorationTypeForSuggestions=r?.decoratorSuggestions,this.decorationTypeForDebug=r?.decoratorDebug,this.disposables.push(()=>this.clearDecoration(),rt.workspace.onDidChangeConfiguration(i=>this.#i(i)),rt.window.onDidChangeActiveColorTheme(()=>this.resetDecorator()),n.onDidChangeDiagnostics(i=>this.handleOnDidChangeDiagnostics(i)),rt.window.onDidChangeActiveTextEditor(i=>this.refreshEditor(i)),rt.window.onDidChangeVisibleTextEditors(i=>this.handleOnDidChangeVisibleTextEditors(i)),rt.window.onDidChangeTextEditorSelection(i=>this.#n(i)),rt.workspace.onDidChangeTextDocument(i=>this.#r(i)),rt.workspace.onDidCloseTextDocument(i=>this.docChanges.delete(i.uri.toString()))),this.setContext(this._visible)}decorationTypeForIssues;decorationTypeForFlagged;decorationTypeForSuggestions;decorationTypeForDebug;disposables=St();visibleEditors=new Set;_visible=!0;dispose=this.disposables.dispose;docChanges=new Map;refreshTimeout;urisToRefresh=new Set;hideIssuesWhileTyping=rZ;revealIssuesAfterDelayMS=iZ;emitterVisibility=new rt.default.EventEmitter;overrides={};handleOnDidChangeDiagnostics(e){this.refreshDiagnostics(e.uris)}handleOnDidChangeVisibleTextEditors(e){let n=e.filter(r=>!this.visibleEditors.has(r));this.visibleEditors.clear(),this.visibleEditors=new Set(e),this.refreshDiagnostics([...n].map(r=>r.document.uri))}refreshEditor(e){if(e??=rt.window.activeTextEditor,!!e)return this.refreshDiagnostics([e.document.uri])}refreshDiagnostics(e){e??=rt.window.visibleTextEditors.map(i=>i.document.uri);let n=new Set(e.map(i=>i.toString()));rt.window.visibleTextEditors.filter(i=>n.has(i.document.uri.toString())).forEach(i=>this.refreshDiagnosticsInEditor(i))}refreshDiagnosticsInEditor(e){if(!this.decorationTypeForIssues||!this.decorationTypeForFlagged||!this.decorationTypeForDebug||!this.decorationTypeForSuggestions)return;let n=e.document;if(!this.#s(n.uri)){e.setDecorations(this.decorationTypeForIssues,[]),e.setDecorations(this.decorationTypeForFlagged,[]),e.setDecorations(this.decorationTypeForSuggestions,[]);return}let r=this.revealIssuesAfterDelayMS,i=this.hideIssuesWhileTyping,s=n.validateRange(new rt.Range(n.positionAt(0),n.positionAt(n.getText().length))),o=i==="Word"?y=>oZ(y,n.getWordRangeAtPosition(y.start),n.getWordRangeAtPosition(y.end)):i==="Line"?y=>n.lineAt(y.start.line).range:y=>s,a=performance.now(),c=this.docChanges.get(n.uri.toString()),u=c&&r-(a-c.timestamp);mw("refreshDiagnosticsInEditor %o",{t:performance.now().toFixed(2),version:c?.version,delay:r,mode:i,delta:a-(c?.timestamp||a),toDelay:u});let l=(i!=="Off"&&c&&a-c.timestamp<r&&c.ranges||[]).map(o),p=e.selections.map(y=>{let C=l.filter(x=>x.intersection(y));if(C.length)return oZ(y,...C)}).filter(Xn),f=!1,d=(this.issueTracker.getSpellingIssues(n.uri)||[]).filter(y=>{let C=y.range,x=p.some(T=>T.intersection(C));return f||=x,!x});f&&this.#t(n.uri);let h=d.filter(y=>!y.isFlagged()&&!y.treatAsSuggestion()).map(y=>l1(y)).filter(Xn);e.setDecorations(this.decorationTypeForIssues,h);let g=d.filter(y=>y.treatAsSuggestion()).map(y=>l1(y)).filter(Xn);e.setDecorations(this.decorationTypeForSuggestions,g);let m=d.filter(y=>y.isFlagged()&&y.isIssueTypeSpelling()).map(y=>l1(y)).filter(Xn);e.setDecorations(this.decorationTypeForFlagged,m)}get visible(){return this.context.globalState.get(t.globalStateKey,this._visible)}set visible(e){this.setContext(e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}onDidChangeVisibility=this.emitterVisibility.event;setContext(e){this.context.globalState.update(t.globalStateKey,e),this.emitterVisibility.fire(e),Promise.resolve(gw({showDecorations:e})).catch(()=>{})}clearDecoration(){this.visibleEditors.clear(),this.decorationTypeForIssues?.dispose(),this.decorationTypeForIssues=void 0,this.decorationTypeForFlagged?.dispose(),this.decorationTypeForFlagged=void 0,this.decorationTypeForSuggestions?.dispose(),this.decorationTypeForSuggestions=void 0,this.decorationTypeForDebug?.dispose(),this.decorationTypeForDebug=void 0}getConfiguration(){let e=rt.workspace.getConfiguration("cSpell");this.hideIssuesWhileTyping=e.hideIssuesWhileTyping??rZ,this.revealIssuesAfterDelayMS=e.revealIssuesAfterDelayMS??iZ,this.overrides=e[Ye.doNotUseCustomDecorationForScheme]??this.overrides}resetDecorator(){this.docChanges.clear(),this.getConfiguration();let e=this.createDecorators();this.decorationTypeForIssues=e?.decoratorIssues,this.decorationTypeForFlagged=e?.decoratorFlagged,this.decorationTypeForSuggestions=e?.decoratorSuggestions,this.decorationTypeForDebug=e?.decoratorDebug,this.refreshDiagnostics()}createDecorators(){if(this.clearDecoration(),!(this.visible&&(rt.workspace.getConfiguration("cSpell").get("useCustomDecorations")??!0)))return;let n=EAe(rt.window.activeColorTheme.kind),r=rt.workspace.getConfiguration("cSpell"),i=r[n]?.overviewRulerColor||r.overviewRulerColor||void 0,s=rt.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:rt.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:rt.default.OverviewRulerLane.Right,overviewRulerColor:i,textDecoration:u1(r,n,"textDecorationColor")}),o=rt.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:rt.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:rt.default.OverviewRulerLane.Right,overviewRulerColor:i,textDecoration:u1(r,n,"textDecorationColorFlagged")}),a=rt.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:rt.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:rt.default.OverviewRulerLane.Right,overviewRulerColor:i,textDecoration:u1(r,n,"textDecorationColorSuggestion")}),c=rt.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:rt.default.DecorationRangeBehavior.ClosedClosed,backgroundColor:"rgba(255, 0, 0, 0.5)"});return{decoratorIssues:s,decoratorFlagged:o,decoratorSuggestions:a,decoratorDebug:c}}#e(){this.refreshTimeout||this.urisToRefresh.size<1||(this.refreshTimeout=setTimeout(()=>{this.refreshTimeout=void 0;let e=[...this.urisToRefresh];this.urisToRefresh.clear();let n=performance.now();e.forEach(i=>{let s=this.docChanges.get(i.toString());!s||n-s.timestamp>=this.revealIssuesAfterDelayMS||this.urisToRefresh.add(i)});let r=e.filter(i=>!this.urisToRefresh.has(i));this.refreshDiagnostics(r),this.#e()},100))}#t(e){this.urisToRefresh.add(e),this.#e()}#n(e){mw("onSelectionChange %o",{t:performance.now().toFixed(2),kind:e.kind,v:e.textEditor.document.version,sel:JSON.stringify(e.selections.map(n=>n.active)),uri:e.textEditor.document.uri.toString()})}#r(e){let{document:n,contentChanges:r}=e,i=n.uri.toString(),s=Xo(n.uri);if(!s){this.docChanges.delete(i);return}mw("onDocumentChange %o",{t:performance.now().toFixed(2),v:n.version,sel:JSON.stringify(s.selections.map(a=>a.active)),c:JSON.stringify(r.map(a=>({r:a.range,t:a.text}))),uri:n.uri.toString()});let o=RAe(r);if(!o.length){this.docChanges.delete(i);return}this.docChanges.set(i,{uri:n.uri,version:n.version,ranges:o,timestamp:performance.now()})}#s(e){return!this.overrides[e.scheme]}#i(e){e.affectsConfiguration("cSpell")&&this.resetDecorator()}clearActiveChanges(){this.docChanges.clear()}static globalStateKey="showDecorations"};function u1(t,e,n){let r=t[e]?.textDecoration||t.textDecoration||"",i=t[e]?.textDecorationLine||t.textDecorationLine||"underline",s=t[e]?.textDecorationStyle||t.textDecorationStyle||"wavy",o=t[e]?.textDecorationThickness||t.textDecorationThickness||"auto",a=t[e]?.[n]||t[n]||"#fc4";return r||`${i} ${s} ${a} ${o}`}function l1(t){let{range:e}=t,n=t.providedSuggestions(),r=t.isFlagged(),i=t.isKnown(),s=t.treatAsSuggestion(),o=t.word,a=t.document,c=YP("cSpell.suggestSpellingCorrections",a.uri,e,o),u=sZ("Suggestions $(chevron-right)",c,"Show suggestions."),l=r?"$(error)":s?"$(info)":i?"$(warning)":"$(issues)",p=new rt.MarkdownString(l+" ",!0);p.appendMarkdown("***").appendText(o).appendMarkdown("***: ");let f=r?"Forbidden word.":i?"Misspelled word.":"Unknown word.";if(t.isIssueTypeSpelling())t.isSuggestion()?(p.appendText("Has Suggestions."),n?.length||p.appendText(" ").appendMarkdown(u)):(p.appendText(f),p.appendText(" ").appendMarkdown(u));else if(t.isIssueTypeDirective())p.appendText("Unknown directive."),p.appendText(" ").appendMarkdown(u);else{mw("Unknown issue type: %o",t);return}if(n?.length)for(let d of n){let{word:h}=d,g=bx("fix",a.uri,a.version,[{range:e,newText:h}]);p.appendMarkdown(`
- `+sZ(h,YP(g),`Fix with ${h}`)+`
`)}return p.isTrusted=!0,{range:e,hoverMessage:p}}function sZ(t,e,n){let r=n?` "${n}"`:"";return`[${t}](${e}${r})`}function EAe(t){switch(t){case rt.ColorThemeKind.Dark:case rt.ColorThemeKind.HighContrast:return"dark";case rt.ColorThemeKind.HighContrastLight:case rt.ColorThemeKind.Light:return"light"}}function kAe(t){return t.range.with(void 0,t.range.start.with(void 0,t.text.length+t.range.start.character))}function RAe(t){return t.map(kAe)}function oZ(t,...e){return e.filter(Xn).reduce((n,r)=>n.union(r),t)}var mi=oe(require("vscode"),1);var Qa=class extends Ou{_subscriptions=new Set;_eventListeners=new Set;_isRunning=!1;_isNotifyBusy=!1;constructor(){super([()=>this.done(),()=>this._eventListeners.clear()],"AbstractSubscribable")}_hasSubscribers(){return!!this._subscriptions.size}_stop(){this._isRunning=!1,this.sendEvents({name:"onStop"})}_tryToStop(){this._hasSubscribers()||this._stop()}_markAsDone(e){typeof e!="function"&&e.done?.()}_markAllSubscriptionsAsDone(){for(let e of this._subscriptions)this._subscriptions.delete(e),this._markAsDone(e)}_unSub(e){this._subscriptions.delete(e),this._tryToStop()}_start(){this._isRunning||(this.sendEvents({name:"onStart"}),this._isRunning=!0)}_notifySubscriber(e,n){return typeof e=="function"?e(n):e.notify(n)}_notify(e){if(!this._isNotifyBusy)try{this._isNotifyBusy=!0;for(let n of this._subscriptions)this._notifySubscriber(n,e)}finally{this._isNotifyBusy=!1}}subscribe(e){return this._subscriptions.add(e),this._start(),bi(()=>this._unSub(e),void 0,"subscribe")}notify(e){this.sendEvents({name:"onNotify",value:e}),this._notify(e)}done(){this.sendEvents({name:"onDone"}),this._markAllSubscriptionsAsDone(),this._subscriptions.clear(),this._stop()}sendEvents(e){for(let n of this._eventListeners)n(e)}onEvent(e,n){if(typeof e=="function")return this._eventListeners.add(e),bi(()=>this._eventListeners.delete(e),void 0,"onEvent");let r=e,i=s=>{s.name===r&&n?.(s)};return this._eventListeners.add(i),bi(()=>this._eventListeners.delete(i),void 0,`onEvent ${r}`)}};var yw=class extends Qa{notify(e){super.notify(e)}done(){super.done()}};function aZ(t,e){return(typeof t=="function"?t:r=>t.subscribe(r))(e)??(()=>{})}var vu=class extends Qa{_source;_dispose;constructor(e){super(),this._source=e}_stop(){super._stop(),qn(this._dispose),this._dispose=void 0}_start(){super._start(),this._isRunning&&!this._dispose&&(this._dispose=aZ(this._source,{notify:e=>this.notify(e),done:()=>this.done()}))}};function ds(){return new yw}function Cw(t){return new vu(t)}function cZ(t){return typeof t!="function"?t:{notify:t}}function Md(t){return typeof t=="function"?t:e=>t.notify(e)}function wu(t,e){function n(r){let i=cZ(r),s=o=>i.notify(o);return t.subscribe({notify:o=>{e(o,s)},done:()=>i.done?.()})}return Cw(n)}var d1=Symbol("not set");function f1(t){let e=d1,n;return r=>{let i=wu(r,(s,o)=>{e=s,clearTimeout(n),n=setTimeout(a,t);function a(){let c=e;e=d1,n=void 0,c!==d1&&o(c)}});return i.onEvent("onStop",()=>clearTimeout(n)),i}}function p1(t){return e=>wu(e,(n,r)=>r(t(n)))}var h1=Symbol("not set");function $g(t){let e=h1,n;return r=>{let i=wu(r,(s,o)=>{if(e=s,n)return;function a(){let c=e;e=h1,n=void 0,c!==h1&&(n=setTimeout(a,t),o(c))}a()});return i.onEvent("onStop",()=>clearTimeout(n)),i}}function Du(t,...e){let n=t;for(let r of e)n=r(n);return n}function uZ(t){let e=ds(),n=!1,r=e.onEvent(i);function i(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}async function s(){try{for await(let o of t){if(n)break;e.notify(o)}}finally{qn(r),e.done()}}return e}function lZ(t){let e=ds(),n=!1,r=e.onEvent(i);function i(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}function s(){try{for(let o of t){if(n)break;e.notify(o)}}finally{qn(r),e.done()}}return e}function dZ(t){return typeof t=="function"?Cw(t):t}function Kg(t,...e){return Du(FAe(t),...e)}function FAe(t){return Symbol.iterator in t?lZ(t):Symbol.asyncIterator in t?uZ(t):dZ(t)}var Sw=Symbol("has been set"),g1=class extends vu{_value=Sw;constructor(e,n=!0){if(super(e),n){let r=this.subscribe({notify:()=>{},done:()=>(qn(r),r=void 0)})}}get value(){return this._value===Sw?void 0:this._value}notify(e){this._value=e,super.notify(e)}subscribe(e){let n=super.subscribe(e);return this._value!==Sw&&Md(e)(this._value),n}hasValue(){return this._value!==Sw}};function m1(t,e){return new g1(t,e)}var fZ={output:!0},zg=class t{constructor(e,n){this.context=e;this.client=n;this._visible=e.globalState.get(t.globalStateKey,!1),this.disposables.push(()=>this.clearDecoration(),mi.default.window.onDidChangeActiveTextEditor(r=>this.refreshEditor(r)),mi.default.workspace.onDidChangeConfiguration(r=>r.affectsConfiguration("cSpell")&&this.refreshEditor(void 0)),mi.default.workspace.onDidChangeTextDocument(r=>this.refreshDocument(r.document)),mi.default.languages.registerHoverProvider("*",this.getHoverProvider()),Du(this.eventEmitter,p1(r=>(r&&this._pendingUpdates.add(r),r)),$g(100)).subscribe(()=>this.handlePendingUpdates()))}decorationType;disposables=St();dispose=this.disposables.dispose;eventEmitter=ds();_visible=!1;_pendingUpdates=new Set;get visible(){return this._visible}set visible(e){this.context.globalState.update(t.globalStateKey,e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}refreshEditor(e){e??=mi.default.window.activeTextEditor,e&&this.eventEmitter.notify(e)}refreshDocument(e){if(!this.visible)return;let n=mi.default.window.visibleTextEditors.find(r=>r.document===e);n&&this.refreshEditor(n)}clearDecoration(){this.decorationType?.dispose(),this.decorationType=void 0}resetDecorator(){this.clearDecoration(),this.visible&&(this.createDecorator(),this.refreshEditor())}createDecorator(){this.decorationType?.dispose(),this.decorationType=mi.default.window.createTextEditorDecorationType({opacity:"0.5"})}async getOffsets(e){let n=e?.document;return n?n.uri.scheme in fZ?[]:(await this.client.serverApi.getSpellCheckingOffsets({uri:n.uri.toString()})).offsets:[]}handlePendingUpdates(){let e=[...this._pendingUpdates];this._pendingUpdates.clear();for(let n of e)this.updateDecorations(n)}async updateDecorations(e){if(!this.decorationType||!e)return;let n=new mi.default.MarkdownString("Excluded from spell checking");try{let r=e.document,i=[],s=await this.getOffsets(e);if(s.length<2)return;let o=0;for(let c=0;c<s.length-1;c+=2){let u=s[c];if(u<=o){o=s[c+1];continue}let l=new mi.default.Range(r.positionAt(o),r.positionAt(u));i.push({range:l,hoverMessage:n}),o=s[c+1]}let a=r.getText().length;if(o<a){let c=new mi.default.Range(r.positionAt(o),r.positionAt(a));i.push({range:c})}e.setDecorations(this.decorationType,i)}catch(r){e.setDecorations(this.decorationType,[]),Sf(r,"Failed to update decorations")}}getHoverProvider(){return{provideHover:async(e,n)=>{if(!this.visible||e.uri.scheme in fZ)return;let r=e.getWordRangeAtPosition(n);if(!r)return;let i=e.getText(r),s=await this.client.serverApi.traceWord({uri:e.uri.toString(),word:i}),o=new mi.default.MarkdownString;if(o.appendMarkdown(`### Trace:
`),o.isTrusted=!0,o.baseUri=e.uri,o.supportThemeIcons=!0,s.errors&&o.appendMarkdown("**Errors:** ").appendText(s.errors+`
`),s.traces)for(let c of s.traces){let u=c.traces.filter(p=>p.found),l=c.word;o.appendMarkdown(`**\`${l.replace(/`/g,"'")}\`:** ${c.found?"Found":"Not Found"}
`);for(let p of u)PAe(p.dictSource||"")&&!p.dictSource.includes("node_modules")?o.appendMarkdown("- $(book) [").appendText(p.dictName).appendMarkdown("](").appendText(p.dictSource).appendMarkdown(")"):o.appendMarkdown("- $(book) _").appendText(p.dictName).appendMarkdown("_"),p.foundWord&&p.foundWord!==l&&o.appendMarkdown(" **").appendText(p.foundWord.trim()).appendMarkdown("**"),o.appendMarkdown(`
`);o.appendMarkdown(`
`)}return o.appendMarkdown(`
[Disable Trace Mode](command:cSpell.toggleTraceMode)`),new mi.default.Hover(o,r)}}}static globalStateKey="showTrace"},AAe=/^([a-z-]{2,}):\/\//i;function PAe(t){return AAe.test(t)}var mZ=require("util"),nn=oe(require("vscode"),1);var Hg=oe(Il(),1);var y1=oe(Il(),1);function pZ(t){async function e(r,i){let s=new y1.RequestType(r);return await t.sendRequest(s,i)}return{matchPatternsInDocument:r=>e("matchPatternsInDocument",r)}}var _Ae=["--nolazy","--inspect=60148"],IAe=!1,xw=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),r={documentSelector:[{scheme:"file"},{scheme:"vscode-vfs"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},i=[],s={execArgv:i},o={execArgv:[...i,..._Ae]},a={run:{module:n,transport:Hg.TransportKind.ipc,options:s},debug:{module:n,transport:Hg.TransportKind.ipc,options:o}};this.client=new Hg.LanguageClient("cspell-pattern-matcher",a,r),this.client.registerProposedFeatures(),this.serverApi=pZ(this.client),Wn(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,r){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:r})}dispose(){C1("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){C1("waiting initWhenReady"),await this.onReady(),C1("done initWhenReady")}},C1=(...t)=>{IAe&&console.log(...t)};var fs=oe(require("vscode"),1),bw=class{_onDidChangeTreeData=new fs.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?NAe(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function NAe(t){let e={treeItem:new fs.TreeItem("root",fs.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>LAe(e,...n)),e}function LAe(t,e,n){return{parent:t,treeItem:new fs.TreeItem(e,fs.TreeItemCollapsibleState.Expanded),children:n.map(hZ)}}function hZ(t){let n={treeItem:new S1(t)};return n.children=MAe(n),n}function OAe(t){return t.length<=50?t:t.substr(0,49)+"\u2026"}function MAe(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((r,i)=>({name:`${n}.${i}`,defs:[r]})).map(hZ)}var S1=class extends fs.TreeItem{constructor(n){super(OAe(n.name),n.defs.length>1?fs.TreeItemCollapsibleState.Expanded:fs.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:r,errorMsg:i,toolTip:s,count:o}=UAe(n),a=i?" "+i:"",c=[`${r}ms`,`(${o})`,a].filter(u=>!!u);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function UAe(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),r=t.defs.map(o=>o.regexp.toString()),i=r.length>1?"Multi Pattern":r.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:i,count:s}}var qAe=5;function yZ(t,e){let n=new Set,r=new bw,i;n.add(nn.window.registerTreeDataProvider("cSpellRegExpView",r));let s,o=nn.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:nn.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=gZ(),c=a?nn.window.activeTextEditor:void 0,u,l=[],p=xf(f,"updateDecorations",Cf);async function f(){if(!a||!c){h();return}let H=c.document,F=H.version,M=await e.getConfigurationForDocument(H,{includeRegExpList:!0,ignoreRegExpList:!0,patterns:!0}),J=WAe(M.docSettings,l),_=J.map(ce=>ce.pattern),I=u?0:-1,W=await A(),ue={patterns:M.docSettings?.patterns||M.settings?.patterns||[]};await W.matchPatternsInDocument(H,_,ue).then(ce=>{if(!nn.window.activeTextEditor||H.version!==F||nn.window.activeTextEditor?.document!=H||ce.message)return;let ae=ce&&new Map;ce?.patternMatches.forEach((st,ut)=>{let et=J[ut].category,ie=ae?.get(et)||[];ie.push(st),ae?.set(et,ie)}),r.refresh(ae);let fe=nn.window.activeTextEditor,Ue=ce.patternMatches.filter((st,ut)=>ut===I).map(d).reduce((st,ut)=>st.concat(ut),[]).map(st=>{let{range:ut,message:et}=st,ie=fe.document.positionAt(ut[0]),qe=fe.document.positionAt(ut[1]);return{range:new nn.Range(ie,qe),hoverMessage:et}});fe.setDecorations(o,Ue)})}function d(H){let{name:F,defs:M}=H;return M.map(J=>J.matches.map(_=>({range:_,elapsedTime:J.elapsedTime})).map(({range:_,elapsedTime:I})=>({range:_,message:g(F,I)}))).reduce((J,_)=>J.concat(_),[])}function h(){c?.setDecorations(o,[])}function g(H,F){return new nn.MarkdownString().appendText(H+" "+F.toFixed(2)+"ms")}function m(){s&&(clearTimeout(s),s=void 0),s=setTimeout(p,100)}c&&m(),nn.window.onDidChangeActiveTextEditor(H=>{a&&(c=H,H&&m())},null,t.subscriptions),nn.workspace.onDidChangeTextDocument(H=>{a&&c&&H.document===c.document&&m()},null,t.subscriptions);function y(){}function C(H){function F(J){try{qm(J,"g")}catch(_){return yf(_)?_.message:(0,mZ.format)(_)}}u=H||u;let M=nn.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:u?.toString(),validateInput:F}).then(J=>{u=J||void 0,T(u),m()});return Wn(M,"userTestRegExp")}function x(H){return typeof H=="string"&&!!H}function T(H){l=[...new Set([H].concat(l))].filter(x),l.length=Math.min(l.length,qAe)}function E(H){u===H?u=void 0:u=H,T(u),m()}function k(H){if(H?.treeItem?.pattern){m();let{defs:F,name:M}=H.treeItem.pattern;C(F[0]?.regexp||M)}}function L(){let H=a;a=gZ(),H!=a&&(a?(c=nn.window.activeTextEditor,m()):h())}function A(){i||(i=xw.create(t));let H=i;return H.onReady().then(()=>H)}function j(){for(let H of n)H.dispose();n.clear()}t.subscriptions.push({dispose:j},nn.commands.registerCommand("cSpellRegExpTester.testRegExp",xf(C,"testRegExp",Sf)),nn.commands.registerCommand("cSpellRegExpTester.selectRegExp",E),nn.commands.registerCommand("cSpellRegExpTester.editRegExp",k),nn.workspace.onDidChangeConfiguration(L))}function WAe(t,e){let n=[];return e.forEach(r=>n.push({category:"User Patterns",pattern:r})),t?.includeRegExpList?.forEach(r=>n.push({category:"Include Regexp List",pattern:r.toString()})),t?.ignoreRegExpList?.forEach(r=>n.push({category:"Exclude Regexp List",pattern:r.toString()})),t?.patterns?.forEach(r=>n.push({category:"Patterns",pattern:jAe(r)})),n}function jAe(t){let{name:e,pattern:n}=t;function r(s){return s.toString()}function i(s){return Array.isArray(s)?s.map(r):r(s)}return{name:e,pattern:i(n)}}function gZ(){return!!nn.workspace.getConfiguration(Jo)?.get("experimental.enableRegexpView")}var CZ=require("vscode");var vw=class{constructor(e){this.client=e;this.disposables.push(e.onDiagnostics(n=>this.handleDiagsFromServer(n))),this.disposables.push(CZ.workspace.onDidCloseTextDocument(n=>this.handleDocClose(n)))}disposables=St();issues=new Map;subscribable=ds();cachedSuggestions=new Map;getSpellingIssues(e){return this.getIssues(e,n=>n.isIssueTypeSpelling())}getDirectiveIssues(e){return this.getIssues(e,n=>n.isIssueTypeDirective())}getIssues(e,n){let r=this.rawIssues(e);if(r)return n?new ww(r.filter(n)):new ww(r)}getSpellingIssueByFile(){return[...this.issues.values()].map(e=>({...e,issues:e.issues.filter(n=>n.isIssueTypeSpelling())}))}getIssuesByIssueType(e,n){return this.getIssues(n,r=>r.isIssueType(e))}getIssueCount(e,n=r=>r.isIssueTypeSpelling()){return e?this.issues.get(e.toString())?.issues.filter(n).length||0:[...this.issues.values()].reduce((r,i)=>r+i.issues.filter(n).length,0)}getUrisWithIssues(){return[...this.issues.values()].filter(e=>e.issues.length).map(e=>e.uri)}onDidChangeDiagnostics(e){return this.subscribable.subscribe(e)}getSuggestionsForIssue(e){let n=e.document.uri.toString(),r=uc(this.cachedSuggestions,n,()=>new Map);return uc(r,e.word,()=>this.fetchSuggestionsForIssue(e))}async fetchSuggestionsForIssue(e){return(await this.client.requestSpellingSuggestions(e.word,e.document)).suggestions}dispose=this.disposables.dispose;handleDiagsFromServer(e){let n=this.mapToFileIssues(e);if(!n)return;let r=n.uri.toString();this.cachedSuggestions.delete(r),this.issues.set(r,n),this.subscribable.notify({uris:[e.uri]})}handleDocClose(e){let n=e.uri.toString();this.cachedSuggestions.delete(n),this.issues.delete(n)}mapToFileIssues(e){let n=As(e.uri);if(!n){af(`Failed to find document for ${e.uri.toString()}`);return}return{uri:n.uri,document:n,issues:e.diagnostics.map(r=>x1.fromDiagnostic(n,r,e.version||n.version))}}rawIssues(e){return e?this.issues.get(e.toString())?.issues:[...this.issues.values()].flatMap(n=>n.issues)}getConfigurationTargets(e){return this.client.getConfigurationTargets({uri:e})}},x1=class t{constructor(e,n,r){this.document=e;this.diag=n;this.version=r;this.document=e}get uri(){return this.document.uri}isFlagged(){return this.diag.data?.isFlagged||!1}isKnown(){return this.diag.data?.isKnown||!1}isSuggestion(){return this.diag.data?.isSuggestion||!1}treatAsSuggestion(){return this.isSuggestion()||!this.applyStrictRules()&&!this.isFlagged()&&!this.isKnown()}applyStrictRules(){return this.diag.data?.strict??!0}hasPreferredSuggestions(){let e=this.providedSuggestions();return e?e.filter(n=>n.isPreferred).length===1:!1}getPreferredSuggestions(){let e=this.providedSuggestions();if(!e)return;let n=e.filter(r=>r.isPreferred);if(n.length===1)return n.map(r=>r.word)}get word(){let e=this.diag.data?.text;return e!==void 0?e:this.document.getText(this.diag.range)}isIssueTypeSpelling(){return!this.diag.data?.issueType}isIssueTypeDirective(){return this.diag.data?.issueType===je.IssueType.directive}isIssueType(e){return this.diag.data?.issueType===e}isStale(){return this.version!==this.document.version}get severity(){return this.diag.severity}get range(){return this.diag.range}providedSuggestions(){return this.diag.data?.suggestions}static fromDiagnostic(e,n,r){return new t(e,n,r)}},ww=class{constructor(e){this.issues=e;this.map=e.map.bind(e),this.filter=e.filter.bind(e),this.forEach=e.forEach.bind(e)}map;filter;forEach;get length(){return this.issues.length}getSpellingIssues(){return this.issues.filter(e=>e.isIssueTypeSpelling())}getDirectiveIssues(){return this.issues.filter(e=>e.isIssueTypeDirective())}getStats(){let e={spelling:0,directive:0,flagged:0,suggestions:0,haveSuggestions:0};for(let n of this.issues)n.isIssueTypeSpelling()?(e.spelling++,n.isFlagged()&&e.flagged++,n.isSuggestion()&&e.suggestions++,n.providedSuggestions()?.length&&e.haveSuggestions++):n.isIssueTypeDirective()&&e.directive++;return e}[Symbol.iterator](){return this.issues[Symbol.iterator]()}};var At=oe(require("vscode"),1),Vg=require("vscode");var Hn=()=>{};var yi=oe(require("vscode"),1),ps={issue:new yi.ThemeIcon("issues",new yi.ThemeColor("list.warningForeground")),info:new yi.ThemeIcon("info"),warning:new yi.ThemeIcon("warning",new yi.ThemeColor("list.warningForeground")),error:new yi.ThemeIcon("error",new yi.ThemeColor("list.errorForeground")),doc:new yi.ThemeIcon("go-to-file"),applySuggestion:new yi.ThemeIcon("pencil"),applySuggestionPreferred:new yi.ThemeIcon("pencil"),gear:new yi.ThemeIcon("gear")};function SZ(t){return b1({isFlagged:()=>t.isFlagged(),isKnown:()=>t.isKnown(),isSuggestion:()=>t.treatAsSuggestion()})}function b1(t){return t.isFlagged()?ps.error:t.isKnown()?ps.warning:t.isSuggestion()?ps.info:ps.issue}var v1=require("vscode");function Gg(t){let e=$Ae(t);return n=>e(n.uri)}function $Ae(t){if(!t)return()=>!0;let e=KAe(),n=new Set([...e.map(r=>r.uri.toString()),...v1.window.visibleTextEditors.map(r=>r.document.uri.toString())]);return r=>n.has(r.toString())}function KAe(){let t=[];for(let e of v1.window.tabGroups.all)for(let n of e.tabs){let{label:r,input:i}=n;zAe(i)&&t.push({label:r,uri:i.uri})}return t}function zAe(t){return!t||typeof t!="object"?!1:"uri"in t}var hr=class{};function Dw(t){return Tu(t).replace(/^`+/g,"").replace(/`+$/g,"")}function Tu(t){let e=[...t.matchAll(/`+/g)].map(r=>r[0].length).reduce((r,i)=>Math.max(r,i),0),n="`".repeat(e+1);return t=t.replace(/\t/g,"\u21E5").replace(/\r?\n/g,"\u23CE").replace(/\r/g,"\u23CE").replace(/\s/g," ").replace("`$","` ").replace("^`"," `"),n+t+n}var HAe=!1,Po=HAe?console.log:Hn,GAe=200;function E1(t,e){t.subscriptions.push(w1.register(e)),t.subscriptions.push(At.commands.registerCommand($r["cSpell.issuesViewByFile.item.autoFixSpellingIssues"],JAe),At.commands.registerCommand($r["cSpell.issuesViewByFile.item.addWordToDictionary"],XAe),At.commands.registerCommand("cSpell.issuesViewByFile.item.addWordToTarget",YAe))}var w1=class t{disposeList=St();treeView;treeDataProvider;uiEventFnEmitter=lc();constructor(e){let n=new D1({issueTracker:e,setDescription:r=>{this.treeView.description=r},setMessage:r=>{this.treeView.message=r},onDidUpdate:()=>this.onDidUpdate()});this.treeDataProvider=n,this.treeView=At.window.createTreeView(t.viewID,{treeDataProvider:n,showCollapseAll:!0}),this.disposeList.push(this.treeView,this.uiEventFnEmitter,AD(this.uiEventFnEmitter,FD(GAe))(r=>r()),At.window.onDidChangeActiveTextEditor(r=>this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(r))),At.window.onDidChangeActiveNotebookEditor(r=>this._emitUIEvent(()=>this.onDidChangeActiveNotebookEditor(r))),n.onDidChangeTreeData(r=>this.onDidChangeTreeData(r)),this.treeView.onDidChangeSelection(r=>this.onDidChangeSelection(r)),this.treeView.onDidChangeVisibility(r=>(Po("onDidChangeVisibility",r),this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(At.window.activeTextEditor))))),this.treeView.title="Spelling Issues",this.treeView.message="No open documents."}_emitUIEvent(e){this.uiEventFnEmitter.fire(e)}onDidChangeActiveTextEditor(e){e&&(Po("onDidChangeActiveTextEditor",e.document.uri.toString()),Wn(this.adjustRevel(e.document,e.visibleRanges),"onDidChangeActiveTextEditor"))}onDidChangeActiveNotebookEditor(e,n){if(!e)return;let r=e.notebook;n??=e.visibleRanges;let i=At.window.visibleTextEditors,s=PD(i,"document"),o=[];for(let u of n)for(let l=u.start;l<u.end;l++){let p=r.cellAt(l);if(!s.get(p.document))continue;let d=void 0;d&&o.push(d)}if(!o.length)return;let a=o.reduce((u,l)=>(u.top??=l.top,u.bottom=l.bottom??u.bottom,u.closest??=l.closest,u),{...o[0]}),c=o.map(u=>u.middle).filter(Xn);a.middle=c[Math.floor(c.length/2)]}onDidUpdate(){Po("IssueExplorerByFile.onDidUpdate",At.window.activeTextEditor?.document.uri.toString()),this.onDidChangeActiveTextEditor(At.window.activeTextEditor)}onDidChangeTreeData(e){Po("onDidChangeTreeData");let n=this.treeDataProvider.getIssueCount();this.treeView.badge=n?{tooltip:`Issues found: ${n}`,value:n}:void 0}onDidChangeSelection(e){Po("onDidChangeSelection",e.selection.length);let n=e.selection[0];n instanceof Ud&&Po("IssueExplorerByFile.onDidChangeSelection",n.issue.diag.message)}async adjustRevel(e,n){if(!this.treeView.visible)return;let r=this.treeDataProvider.findMatchingChild(e.uri);if(!r)return;let i=r.findMatchingIssues(n);return i?this.revealItems(i,!1):this.revealItems([r],!0)}async revealItems(e,n){if(Po("revealItems",e.length,this.treeView.visible),!this.treeView.visible||!e.length)return;let r=e[e.length-1],i=e[0];await this.treeView.reveal(r,{select:!1,focus:!1,expand:n}),await this.treeView.reveal(i,{select:!1,focus:!1,expand:n})}dispose=this.disposeList.dispose;static viewID="cSpellIssuesViewByFile";static register(e){return new t(e)}},D1=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,At.window.onDidChangeVisibleTextEditors(()=>this.updateChild())),e.issueTracker.then(n=>{this.issueTracker=n,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(r=>this.handleOnDidChangeDiagnostics(r))),this.updateChild()})}emitOnDidChange=new At.EventEmitter;disposeList=St();issueTracker;children;getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();if(this.children)return this.children;let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:r=>this.updateChild(r),requestSuggestions:r=>this.issueTracker?.getSuggestionsForIssue(r)||Promise.resolve([])};return this.children=VAe(n),this.updateMessage(this.children.length?void 0:"No issues found..."),setTimeout(()=>this.options.onDidUpdate(),10),this.children}getParent(e){if(e instanceof hr)return e.getParent()}onDidChangeTreeData=this.emitOnDidChange.event;handleOnDidChangeDiagnostics(e){Po("IssuesTreeDataProvider.handleOnDidChangeDiagnostics",e.uris.map(n=>n.toString(!0))),this.updateChild()}updateChild(e=void 0){e||(this.children=void 0),this.emitOnDidChange.fire(e)}updateMessage(e,n){this.options.setDescription(n),this.options.setMessage(e)}getIssueCount(){if(!this.issueTracker)return 0;let e=Gg(!0);return this.issueTracker.getIssueCount(void 0,n=>n.isIssueTypeSpelling()&&e(n))}findMatchingChild(e){return this.children?.find(n=>n.document.uri.toString()===e.toString())}dispose=this.disposeList.dispose},Tw=class extends hr{constructor(n,r,i){super();this.context=n;this.document=r;this.issues=i}children;targets;getTreeItem(){let n=At.workspace.asRelativePath(this.document.uri,!0),r=new Vg.TreeItem(n);r.resourceUri=this.document.uri,r.iconPath=At.ThemeIcon.File,r.description=`${this.issues.length}`;let i=this.issues.some(a=>a.hasPreferredSuggestions());r.contextValue=i?"issue.FileWithIssuesTreeItem.hasPreferred":"issue.FileWithIssuesTreeItem";let o=[At.window.activeTextEditor?.document.uri,At.window.activeNotebookEditor?.notebook.uri,...At.window.activeNotebookEditor?.notebook.getCells().map(a=>a.document.uri)||[]].includes(this.document.uri);return r.collapsibleState=this.issues.length?o?At.TreeItemCollapsibleState.Expanded:At.TreeItemCollapsibleState.Collapsed:void 0,r}getChildren(){return this.children?this.children:(this.children=this.issues.map(n=>new Ud(this.context,this,n,this.getTargets)).sort(Ud.compare),this.children)}getParent(){}findMatchingIssues(n){if(!n)return this.children;let r=this.children?.filter(i=>i.findMatchingIssues(n));return r?.length?r:void 0}getTargets=()=>this.targets?this.targets:(this.targets=this.context.issueTracker.getConfigurationTargets(this.document.uri).then(n=>({targets:n.configTargets})),this.targets)},Ud=class extends hr{constructor(n,r,i,s){super();this.context=n;this.file=r;this.issue=i;this.getTargets=s;this.cell=op(i.document),this.document=this.cell?.document??i.document,this.cellIndex=this.cell?this.cell.index:-1,this.range=i.range}children;pChildren;cell;document;cellIndex;range;getTreeItem(){let n=this.issue,r=new Vg.TreeItem(n.diag.message),i=n.range;r.id=[n.uri.toString(),i.start.line,i.start.character,i.end.line,i.end.character].join(":");let s=`${this.cellIndex>=0?`Cell ${this.cellIndex+1}, `:""}Ln ${this.range.start.line+1}, Col ${this.range.start.character+1}`,o=this.issue.getPreferredSuggestions(),a=o?` (fix with: ${o.join(", ")})`:"";r.description=s+a;let c=!!this.issue.diag.data?.isFlagged;return r.contextValue="issue.FileIssueTreeItem"+(c?".flagged":""),r.collapsibleState=!this.children||this.children.length?At.TreeItemCollapsibleState.Collapsed:At.TreeItemCollapsibleState.None,r.iconPath=SZ(this.issue),r.tooltip=this.tooltip(),r.command=this.getCommand(),r}getCommand(){return{title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.range,preserveFocus:!0}]}}getChildren(){if(this.children)return this.children;this.pChildren??=this.#e()}async#e(){if(this.children)return this.children;let n=await this.context.requestSuggestions(this.issue),r=await this.getTargets(this.issue.uri),i=this.children=[...n.map(s=>new T1(this,this.issue,s)),...r.targets.map(s=>new Ew(this,this.issue,s))];return this.pChildren=void 0,this.context.invalidate(this),i}getParent(){return this.file}findMatchingIssues(n){if(!n)return[this];for(let r of n)if(r.contains(this.range))return[this]}tooltip(){}static compare(n,r){let i=n.cellIndex-r.cellIndex;if(i)return i;let s=n.range.start.line-r.range.start.line;return s||n.range.start.character-r.range.start.character}},T1=class extends hr{constructor(n,r,i){super();this.parent=n;this.issue=r;this.suggestion=i}getTreeItem(){let n=this.issue,{word:r,isPreferred:i}=this.suggestion,s=new Vg.TreeItem(r);s.id=xZ(n.uri,n.range,r),s.iconPath=i?ps.applySuggestionPreferred:ps.applySuggestion,s.description=i&&"(preferred)";let o=Tu(r),c="Replace Issue with: "+Dw(r);return s.command={title:c,command:$r["cSpell.fixSpellingIssue"],arguments:[this.issue.uri,this.issue.word,r,[this.issue.range]]},s.tooltip=new At.MarkdownString().appendMarkdown(`Fix Issue with: ${o}`),s.accessibilityInformation={label:c},s.contextValue=i?"issue.suggestion-preferred":"issue.suggestion",s}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}},Ew=class extends hr{constructor(n,r,i){super();this.parent=n;this.issue=r;this.target=i}getTreeItem(){let n=this.issue,r=new Vg.TreeItem("Add to "+this.target.name);r.id=xZ(n.uri,n.range,this.target.name),r.iconPath=ps.gear,r.description="";let i=Tu(n.word),s=this.target.kind==="dictionary"?"dictionary":"configuration",o=`Add ${i} to ${this.target.name} ${s}.`;return r.tooltip=new At.MarkdownString().appendMarkdown(o),r.accessibilityInformation={label:o},r.command={title:o,command:"cSpell.issuesViewByFile.item.addWordToTarget",arguments:[this]},r}getChildren(){}getParent(){return this.parent}isPreferred(){return!1}applyFix(){return bt(xt("dictionaryHelper").addWordsToTargetServerConfigTarget(this.issue.word,this.target,this.issue.document.uri),"addWordsToConfig")}};function VAe(t){let e=Gg(!0),n=t.issueTracker.getSpellingIssueByFile().filter(e).map(a=>({...a,doc:As(a.uri)})),r=o(n),i=new Intl.Collator().compare;return[...r].filter(([a,c])=>c.length).map(([a,c])=>new Tw(t,a,c)).sort((a,c)=>i(a.document.uri.toString(!0),c.document.uri.toString(!0)));function o(a){let c=new Map;for(let l of a)u(l);return c;function u(l){if(!l.doc)return;let p=l.doc,f=eC(p),d=c.get(f)||[];d.push(...l.issues),c.set(f,d)}}}function JAe(t){if(t instanceof Tw)return ux(t.document.uri)}function XAe(t){if(!(t instanceof Ud))return;let e=t.document;return Wl["cSpell.addWordToDictionary"](t.issue.word,e.uri)}function YAe(t){if(t instanceof Ew)return Po("handleAddWordToTarget %o",{word:t.issue.word,target:t.target}),t.applyFix()}function xZ(t,e,...n){return[t.toString(),e.start.line,e.start.character,e.end.line,e.end.character,...n].join(":")}var On=oe(require("vscode"),1),qd=require("vscode");function _1(t,e){t.subscriptions.push(k1.register(e)),t.subscriptions.push(On.commands.registerCommand($r["cSpell.issueViewer.item.openSuggestionsForIssue"],tPe),On.commands.registerCommand($r["cSpell.issueViewer.item.autoFixSpellingIssues"],nPe),On.commands.registerCommand($r["cSpell.issueViewer.item.addWordToDictionary"],rPe))}var QAe=100,k1=class t{disposeList=St();treeView;uiEventFnEmitter=ds();treeDataProvider;constructor(e){this.treeDataProvider=new R1({issueTracker:void 0,setDescription:n=>{this.treeView.description=n},setMessage:n=>{this.treeView.message=n}}),e.then(n=>this.treeDataProvider.setIssuesTracker(n)),this.treeView=On.window.createTreeView(t.viewID,{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),this.disposeList.push(this.treeView,Kg(this.uiEventFnEmitter,f1(QAe)).subscribe(n=>n()),this.listenEvent(On.window.onDidChangeTextEditorSelection,n=>this.handleOnDidChangeTextEditorSelection(n)),this.listenEvent(On.window.onDidChangeActiveTextEditor,n=>this.handleTextEditorChange(n)),this.listenEvent(this.treeDataProvider.onDidChangeTreeData.bind(this.treeDataProvider),()=>this.handleTextEditorChange(On.window.activeTextEditor))),this.treeView.title="Words with Issues",this.treeView.message="No open documents."}dispose=this.disposeList.dispose;handleOnDidChangeTextEditorSelection(e){this.handleTextEditorChange(e.textEditor)}handleTextEditorChange(e){if(!this.treeView.visible||!e)return;let n=this.treeDataProvider.findRelatedIssue(e);n&&this.treeView.reveal(n,{select:!0,focus:!1})}listenEvent(e,n){return e(r=>this.uiEventFnEmitter.notify(()=>n(r)))}static viewID="cSpellIssuesViewByIssue";static register(e){return new t(e)}},R1=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,On.window.onDidChangeVisibleTextEditors(()=>this.refresh())),this.options.issueTracker&&this.setIssuesTracker(this.options.issueTracker)}emitOnDidChange=ds();disposeList=St();suggestions=new Map;issueTracker;children;setIssuesTracker(e){this.issueTracker=e,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(n=>this.handleOnDidChangeDiagnostics(n))),this.refresh()}getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:i=>this.emitOnDidChange.notify(i),requestSuggestions:i=>(Wn(this.fetchSuggestions(i),"IssuesTreeDataProvider requestSuggestions"),this.suggestions.get(i.word))},r=ZAe(n);return this.children=r,this.updateMessage(r.length?void 0:"No issues found..."),r}getParent(e){if(e instanceof hr)return e.getParent()}onDidChangeTreeData(e,n,r){this.children=void 0;let i=n?e.bind(n):e,s=this.emitOnDidChange.subscribe(o=>i(o));return r&&r.push(s),s}findRelatedIssue(e){return this.children?this.children.find(r=>r.intersectsActiveSelection(e)):void 0}handleOnDidChangeDiagnostics(e){this.refresh()}refresh(e){this.emitOnDidChange.notify(e)}async fetchSuggestions(e){if(!this.issueTracker)return;let{word:n}=e,r=await this.issueTracker.getSuggestionsForIssue(e);this.suggestions.set(n,r),e.onUpdate(r)}updateMessage(e){this.options.setMessage(e)}dispose=this.disposeList.dispose},Jg=class extends hr{constructor(n,r,i=[]){super();this.context=n;this.word=r;i.forEach(s=>this.addIssue(s))}suggestions;suggestionsByDocument=new Map;conicalDocuments=new Set;issues=[];addIssue(n){let r=n.document,i=this.context.requestSuggestions({word:this.word,document:r,onUpdate:s=>this.onUpdate(r,s)});return this.suggestionsByDocument.set(r,i||[]),this.conicalDocuments.add(eC(r)),this.issues.push(n)}getTreeItem(){let n=new qd.TreeItem(this.word),r=this.hasPreferred(),i=this.issues.some(c=>c.isFlagged()),s=this.issues.some(c=>c.isKnown());n.iconPath=b1({isFlagged:()=>i,isKnown:()=>s,isSuggestion:()=>this.issues.some(c=>c.treatAsSuggestion())}),n.description=`${bZ(this.issues.length,"issue","issues")} in ${bZ(this.conicalDocuments.size,"file","files")}${r?"*":""}`;let o=`Number of occurrences: ${this.issues.length}, files: ${this.conicalDocuments.size}`+(r?" (auto fix)":""),a=Tu(this.word);return n.tooltip=new On.MarkdownString().appendMarkdown((i?"Flagged":s?"Misspelled":"Unknown")+" word: "+a).appendText(`

`).appendText(o),n.collapsibleState=On.TreeItemCollapsibleState.Collapsed,n.contextValue=r?"issue.hasPreferred":"issue",n}getParent(){}getChildren(){let{context:n,word:r,issues:i,suggestions:s}=this;return[new F1(n,this,r,i),new A1(this,r,i,s)]}getRange(){}hasPreferred(){return this.suggestions?.filter(r=>r.isPreferred)?.length===1}getPreferred(){let n=this.suggestions?.filter(i=>i.isPreferred);if(n?.length!==1)return;let{word:r}=n[0];return{text:this.word,newText:r,ranges:this.issues.map(i=>i.range)}}intersectsActiveSelection(n){let{document:r,selection:i}=n,{issues:s}=this;return!!s.filter(a=>a.document===r).find(a=>a.range.intersection(i))}async addToDictionary(){let n=this.issues[0]?.document;return Wl["cSpell.addWordToDictionary"](this.word,n?.uri)}onUpdate(n,r){this.suggestionsByDocument.set(n,r),this.suggestions=iPe(this.suggestionsByDocument),this.context.invalidate(this)}},F1=class extends hr{constructor(n,r,i,s){super();this.context=n;this.parent=r;this.word=i;this.issues=s}getTreeItem(){let n=new qd.TreeItem("Locations:");return n.collapsibleState=On.TreeItemCollapsibleState.Collapsed,n}getChildren(){return this.issues.map(n=>new kw(this,n)).sort(kw.compare)}getParent(){return this.parent}},A1=class extends hr{constructor(n,r,i,s){super();this.parent=n;this.word=r;this.issues=i;this.suggestions=s}suggestions;getTreeItem(){return new qd.TreeItem("Fixes:",On.TreeItemCollapsibleState.Expanded)}getChildren(){return this.suggestions?.map(n=>new P1(this,this.word,n))}getParent(){return this.parent}},kw=class extends hr{constructor(n,r){super();this.parent=n;this.issue=r;this.cell=op(this.doc)}cell;get doc(){return this.issue.document}getTreeItem(){let n=this.issue.range,i=`${this.cell?`Cell ${this.cell.index+1} `:" "}Ln ${n.start.line+1} Col ${n.start.character+1}`,s=new qd.TreeItem("");return s.resourceUri=this.doc.uri,s.label=void 0,s.iconPath=On.ThemeIcon.File,s.description=i,s.command={title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.issue.range}]},s.contextValue="issue.location",s}getChildren(){}getParent(){return this.parent}getRange(){return this.issue.range}static compare(n,r){let i=n.cell?.document.uri||n.doc.uri,s=r.cell?.document.uri||r.doc.uri,o=i.toString().localeCompare(s.toString());if(o!==0)return o;if(n.cell?.index!==r.cell?.index)return(n.cell?.index||0)-(r.cell?.index||0);let a=n.issue.range,c=r.issue.range;return a.start.line-c.start.line||a.start.character-c.start.character}},P1=class extends hr{constructor(n,r,i){super();this.parent=n;this.word=r;this.suggestion=i}getTreeItem(){let{word:n,isPreferred:r}=this.suggestion,i=new qd.TreeItem(n);i.iconPath=r?ps.applySuggestionPreferred:ps.applySuggestion,i.description=r&&"(preferred)";let s=Tu(n),a="Find and Replace Issue with: "+Dw(n);return i.command={title:a,command:"workbench.action.findInFiles",arguments:[{query:this.word,replace:n,preserveCase:!0,triggerSearch:!0,isRegex:!1,isCaseSensitive:!1,onlyOpenEditors:!0}]},i.tooltip=new On.MarkdownString().appendMarkdown(`Fix Issue with: ${s}`),i.accessibilityInformation={label:a},i.contextValue=r?"issue.suggestion-preferred":"issue.suggestion",i}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}};function ZAe(t){let e=Gg(t.onlyVisible),n=(t.issueTracker.getSpellingIssues()||[]).filter(e),r=new Map,i=ePe(r,c=>new Jg(t,c));n.forEach(a);let s=new Intl.Collator().compare;return[...r.values()].sort((c,u)=>s(c.word,u.word));function a(c){i(c.word).addIssue(c)}}function ePe(t,e){return n=>{let r=t.get(n);if(r!==void 0)return r;let i=e(n);return t.set(n,i),i}}function tPe(t){t instanceof hr}function nPe(t){t instanceof Jg}function rPe(t){if(t instanceof Jg)return t.addToDictionary()}function bZ(t,e,n){return`${t} ${t===1?e:n}`}function iPe(t){let e=new Map;for(let s of t.values())for(let o of s){let a=e.get(o.word)||o.isPreferred;e.set(o.word,a)}let n=[...e.entries()].map(([s,o])=>({word:s,isPreferred:o})),r=n.filter(s=>s.isPreferred),i=n.filter(s=>!s.isPreferred);return[...r,...i]}var wZ=require("os"),zi=oe(require("vscode"),1),zs=require("vscode");function I1(t){return t.map(sPe)}function sPe(t){let e=Yp(t);if(e)return Zp(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return fx(t.dictionaryUri,t.name)}var vZ="custom-dictionary",oPe=`# Custom Dictionary Words
`,Rw=class{constructor(e){this.client=e}async addWordsToTargets(e,n,r){let i=await this.resolveTargets(n,r);if(i)return this.addWordToDictionaries(e,i)}addWordsToConfigRep(e,n){let r=Zp(n);return this.addWordToDictionary(e,r)}addWordToDictionaries(e,n){return Promise.all(n.map(i=>this.addWordToDictionary(e,i))).then(()=>{})}async addWordToDictionary(e,n){e=Zs(e);try{await n.addWords(e)}catch(r){throw new O1(`Unable to add "${e}"`,n,e,r)}}async removeWordsFromTargets(e,n,r){e=Zs(e);let i=await this.resolveTargets(n,r);if(i)return this.removeWordFromDictionaries(e,i)}removeWordsFromConfigRep(e,n){let r=Zp(n);return this.removeWordFromDictionary(e,r)}removeWordFromDictionaries(e,n){return Promise.all(n.map(i=>this.removeWordFromDictionary(e,i))).then(()=>{})}async removeWordFromDictionary(e,n){e=Zs(e);try{await n.removeWords(e)}catch(r){throw new Fw(`Unable to remove "${e}" from "${n.name}"`,n,r)}}async addIssuesToDictionary(e){if(e=e||zi.window.activeTextEditor?.document,!e)return;let n=aPe(e)?e:await zi.workspace.openTextDocument(e),r=Li(n.uri);if(!r.length)return;let i=new Set(r.map(s=>n.getText(s.range)));return this.addWordsToTargets([...i],_m,n.uri)}async createCustomDictionary(e,n){let r=await cPe(e);if(!r)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,r.relPath,n||r.name,r.scope),Wc.isCSpellConfigRepository(e)){let i=await zi.window.showTextDocument(e.configFileUri,{viewColumn:zi.ViewColumn.Active});yx(i,"dictionaryDefinitions")}await zi.window.showTextDocument(r.uri,{viewColumn:zi.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,r,i){let s={name:r,path:n,addWords:!0,scope:i??e.defaultDictionaryScope};return hPe(e,s)}async getDocConfig(e){if(e){let n=await zi.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n,{})}return this.client.getConfigurationForDocument(void 0,{})}async resolveTargets(e,n){if(typeof e!="function")return I1(e);let i=(await this.getDocConfig(n)).configTargets.map(nx),s=await e(i);return s&&I1(s)}addWordsToTargetServerConfigTarget(e,n,r){return r=r||n.docUri&&zs.Uri.parse(n.docUri)||void 0,this.addWordsToTargets(e,[xPe(n,r)],r)}};function aPe(t){return"uri"in t}async function cPe(t){let e=uPe(t);if(e)return await pPe(e.uri),e}function uPe(t){return Wc.isCSpellConfigRepository(t)?lPe(t):Ll.isVSCodeRepository(t)?dPe(t):void 0}function lPe(t){let e=t.defaultDictionaryScope,n=L1(e),r=Cr.dirname(t.configFileUri),i=`${Xy}/${n}.txt`,s=zs.Uri.joinPath(r,i),o="./"+i;return{uri:s,relPath:o,name:n,scope:e}}function dPe(t){let e=wi(t.target);if(t.target===zi.ConfigurationTarget.Global){let c=L1(e),u=`${Xy}/${c}.txt`,l=zs.Uri.file((0,wZ.homedir)()),p=zs.Uri.joinPath(l,u),f="~/"+u;return{uri:p,relPath:f,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let r=e==="folder"?"-"+fPe(n.name):"",i=L1(wi(t.target))+r,s=`${Xy}/${i}.txt`,o=zs.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:i,scope:e}}function L1(t){return t?`${vZ}-${t}`:vZ}function fPe(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function pPe(t,e=!1){e=e||!await vn.fileExists(t),e&&(await vn.createDirectory(Cr.dirname(t)),await vn.writeFile(t,oPe,"utf8"))}async function hPe(t,e){let n=Wc.isCSpellConfigRepository(t)?gPe(e):Ll.isVSCodeRepository(t)?mPe(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function gPe(t){let e=t.name;return x0([Ye.dictionaries,Ye.dictionaryDefinitions],n=>{let{dictionaries:r=[],dictionaryDefinitions:i=[]}=n,s=new Map(i.map(a=>[a.name,a])),o=new Set(r);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function mPe(t){let e=t.name;return x0([Ye.customDictionaries,Ye.customFolderDictionaries,Ye.customWorkspaceDictionaries,Ye.customUserDictionaries],n=>{let{customDictionaries:r,...i}=yPe(n);return r[e]=t,{...i,customDictionaries:r}})}function yPe(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:r=[],customUserDictionaries:i=[]}=t;return{customDictionaries:{...[i.map(N1("user")),r.map(N1("workspace")),n.map(N1("folder"))].reduce(CPe,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function N1(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function CPe(t,e){return e.reduce(SPe,t)}function SPe(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}function xPe(t,e){switch(t.kind){case"cspell":return{kind:t.kind,name:t.name,scope:"unknown",configUri:zs.Uri.parse(t.configUri)};case"vscode":return{kind:t.kind,name:t.name,scope:t.scope,docUri:t.docUri&&zs.Uri.parse(t.docUri)||e||void 0,configScope:e};case"dictionary":return{kind:t.kind,name:t.name,scope:"unknown",docUri:t.docUri&&zs.Uri.parse(t.docUri)||e||void 0,dictionaryUri:zs.Uri.parse(t.dictionaryUri)}}}var Fw=class extends Error{constructor(n,r,i){super(n);this.dictTarget=r;this.cause=i}},O1=class extends Fw{constructor(n,r,i,s){super(n,r,s);this.words=i;this.cause=s}};function DZ(){Qr.setConnection({console,onExit:()=>{}}),sU("dictionaryHelper",()=>new Rw(xt("client")))}var rO=oe(require("node:assert"),1),kee=oe(require("node:readline/promises"),1),iO=require("node:util"),Ree=oe(kZ(),1),sn=oe(require("vscode"),1);var hs={};Iu(hs,{beep:()=>e_e,clearScreen:()=>XPe,clearTerminal:()=>YPe,cursorBackward:()=>LPe,cursorDown:()=>IPe,cursorForward:()=>NPe,cursorGetPosition:()=>UPe,cursorHide:()=>jPe,cursorLeft:()=>AZ,cursorMove:()=>_Pe,cursorNextLine:()=>qPe,cursorPrevLine:()=>WPe,cursorRestorePosition:()=>MPe,cursorSavePosition:()=>OPe,cursorShow:()=>BPe,cursorTo:()=>PPe,cursorUp:()=>FZ,enterAlternativeScreen:()=>QPe,eraseDown:()=>HPe,eraseEndLine:()=>KPe,eraseLine:()=>PZ,eraseLines:()=>$Pe,eraseScreen:()=>U1,eraseStartLine:()=>zPe,eraseUp:()=>GPe,exitAlternativeScreen:()=>ZPe,iTerm:()=>r_e,image:()=>n_e,link:()=>t_e,scrollDown:()=>JPe,scrollUp:()=>VPe});var Pw=oe(require("node:process"),1);var Aw=globalThis.window?.document!==void 0,rrt=globalThis.process?.versions?.node!==void 0,irt=globalThis.process?.versions?.bun!==void 0,srt=globalThis.Deno?.version?.deno!==void 0,ort=globalThis.process?.versions?.electron!==void 0,art=globalThis.navigator?.userAgent?.includes("jsdom")===!0,crt=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,urt=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,lrt=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,drt=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Xg=globalThis.navigator?.userAgentData?.platform,frt=Xg==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",prt=Xg==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",hrt=Xg==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",grt=Xg==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),mrt=Xg==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var Dt="\x1B[",Qg="\x1B]",Wd="\x07",Yg=";",RZ=!Aw&&Pw.default.env.TERM_PROGRAM==="Apple_Terminal",FPe=!Aw&&Pw.default.platform==="win32",APe=Aw?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:Pw.default.cwd,PPe=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?Dt+(t+1)+"G":Dt+(e+1)+Yg+(t+1)+"H"},_Pe=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let n="";return t<0?n+=Dt+-t+"D":t>0&&(n+=Dt+t+"C"),e<0?n+=Dt+-e+"A":e>0&&(n+=Dt+e+"B"),n},FZ=(t=1)=>Dt+t+"A",IPe=(t=1)=>Dt+t+"B",NPe=(t=1)=>Dt+t+"C",LPe=(t=1)=>Dt+t+"D",AZ=Dt+"G",OPe=RZ?"\x1B7":Dt+"s",MPe=RZ?"\x1B8":Dt+"u",UPe=Dt+"6n",qPe=Dt+"E",WPe=Dt+"F",jPe=Dt+"?25l",BPe=Dt+"?25h",$Pe=t=>{let e="";for(let n=0;n<t;n++)e+=PZ+(n<t-1?FZ():"");return t&&(e+=AZ),e},KPe=Dt+"K",zPe=Dt+"1K",PZ=Dt+"2K",HPe=Dt+"J",GPe=Dt+"1J",U1=Dt+"2J",VPe=Dt+"S",JPe=Dt+"T",XPe="\x1Bc",YPe=FPe?`${U1}${Dt}0f`:`${U1}${Dt}3J${Dt}H`,QPe=Dt+"?1049h",ZPe=Dt+"?1049l",e_e=Wd,t_e=(t,e)=>[Qg,"8",Yg,Yg,e,Wd,t,Qg,"8",Yg,Yg,Wd].join(""),n_e=(t,e={})=>{let n=`${Qg}1337;File=inline=1`;return e.width&&(n+=`;width=${e.width}`),e.height&&(n+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(t).toString("base64")+Wd},r_e={setCwd:(t=APe())=>`${Qg}50;CurrentDir=${t}${Wd}`,annotation(t,e={}){let n=`${Qg}1337;`,r=e.x!==void 0,i=e.y!==void 0;if((r||i)&&!(r&&i&&e.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replaceAll("|",""),n+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?n+=(r?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):n+=t,n+Wd}};var _Z=(t=0)=>e=>`\x1B[${e+t}m`,IZ=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,NZ=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,rn={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},LZ=Object.keys(rn.modifier),i_e=Object.keys(rn.color),s_e=Object.keys(rn.bgColor),OZ=[...i_e,...s_e];function o_e(){let t=new Map;for(let[e,n]of Object.entries(rn)){for(let[r,i]of Object.entries(n))rn[r]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},n[r]=rn[r],t.set(i[0],i[1]);Object.defineProperty(rn,e,{value:n,enumerable:!1})}return Object.defineProperty(rn,"codes",{value:t,enumerable:!1}),rn.color.close="\x1B[39m",rn.bgColor.close="\x1B[49m",rn.color.ansi=_Z(),rn.color.ansi256=IZ(),rn.color.ansi16m=NZ(),rn.bgColor.ansi=_Z(10),rn.bgColor.ansi256=IZ(10),rn.bgColor.ansi16m=NZ(10),Object.defineProperties(rn,{rgbToAnsi256:{value:(e,n,r)=>e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));let i=Number.parseInt(r,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>rn.rgbToAnsi256(...rn.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,i;if(e>=232)n=((e-232)*10+8)/255,r=n,i=n;else{e-=16;let a=e%36;n=Math.floor(e/36)/5,r=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(n,r,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>rn.ansi256ToAnsi(rn.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>rn.ansi256ToAnsi(rn.hexToAnsi256(e)),enumerable:!1}}),rn}var a_e=o_e(),gs=a_e;var c_e=[...OZ,...LZ].map(t=>[t,e=>gs[t].open+e+gs[t].close]),hn=Object.fromEntries(c_e);function jd(t){return gs.green.open+t+gs.green.close}function _w(t){return gs.red.open+t+gs.red.close}function Zg(t){return gs.yellow.open+t+gs.yellow.close}function q1(t){return t.replace(/\n/g,`\r
`).replace(/\r+\r/g,"\r")}function MZ(t){return gs.dim.open+t+gs.dim.close}function UZ(t,...e){return n=>e.reduce((r,i)=>i(r),t(n))}function qZ(){return hs.clearScreen}function Iw(t){return t>0?hs.eraseEndLine:t<0?hs.eraseStartLine:hs.eraseLine}function WZ(){return hs.eraseDown}function jZ(t,e){return hs.cursorMove(t,e)}function BZ(t,e){return hs.cursorTo(t,e)}function W1(){return hs.eraseLine+"\r"}var KZ=require("node:util"),Nw=oe(require("assert"),1);function em(t,e){let n=[],r=u_e(t.replace(/\t/g,"    ")).flatMap(a=>a.split(/ /)),i=0,s="",o="";for(let a of r){if(a===`
`||a==="\r"){n.push(s),s="",o="",i=0;continue}s&&i+o.length+a.length>e&&(n.push(s),s="",o="",i=0),s+=o+a,i+=o.length+a.length,o=" "}return n.push(s),n.map(a=>a.trimEnd())}function u_e(t){return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.split(`
`).flatMap(n=>[n,`
`]).slice(0,-1)}var l_e=80,Rr=class{constructor(e,n,r,i,s){this.name=e;this.description=n;for(let[a,c]of Object.entries(r))this.#e.push(new B1(a,c));for(let[a,c]of Object.entries(i))this.#t.push(new Ow(a,c));this.#t.find(a=>a.name=="help")||this.#t.push(new Ow("help",{type:"boolean",description:"Show help",short:"h"})),this.#n=s}#e=[];#t=[];#n;handler(e){return this.#n=e,this}handles(e){return e[0]==this.name}parse(e){let n=p_e(this);(0,Nw.default)(e[0]==this.name,`Command name mismatch: ${e[0]} != ${this.name}`);let r=n(e.slice(1)),i=[],s={_:i},o=s,a={},c=a,u=this.arguments,l=0;for(let p of r)switch(p.kind){case"option":{let f=!1,d=this.#t.find(m=>m.name==p.name);if(d||p.name.startsWith("no-")&&(d=this.#t.find(m=>m.name==p.name.slice(3)),f=!0),!d)throw new Error(`Unknown option: ${p.name}`);let h=d.name,g=h_e(p.value,d.baseType);f&&typeof g=="boolean"&&(g=!g),c[h]=d.multiple?$Z(a[h],g):g}break;case"positional":{if(i.push(p.value),l>=u.length)throw new Error(`Unexpected argument: ${p.value}`);let f=u[l],d=p.value;o[f.name]=f.multiple?$Z(s[f.name],d):d,l+=f.multiple?0:1}break;case"option-terminator":break}return{args:s,options:a,argv:e}}async exec(e){(0,Nw.default)(this.#n,"handler not set"),(0,Nw.default)(e[0]==this.name);let n=this.parse(e);await this.#n(n)}getArgString(){return this.#e.join(" ")}get options(){return this.#t}get arguments(){return this.#e}},Lw=class{constructor(e,n="",r=""){this.name=e;this.description=n;this.usage=r}#e=new Map;displayWidth=l_e;addCommand(...e){for(let n of e)this.#e.set(n.name,n);return this}addCommands(e){return this.addCommand(...e)}getHelp(e,n){let r=e?this.#e.get(e):void 0;if(e&&!r)throw new Error(`Unknown command: ${e}`);return n=n||this.displayWidth,r?this.#n(r,n):this.#t(n)}getApplicationHeader(e=this.displayWidth){return this.#r(e)}#t(e){let n=[];n.push(this.#r(e));let r=[...this.#e.values()].sort((o,a)=>o.name.localeCompare(a.name)),i="  ",s=r.map(o=>d_e(o)).map(o=>[i+o.cmd+" "+o.args,o.description.trim()]);return n.push("Commands:"),n.push(j1(s,e,"  ")),n.join(`
`)}#n(e,n){let r=[],i=e.options.length?" [options]":"";r.push(`Usage: ${e.name}${i} ${e.getArgString()}`),r.push("",...em(e.description,n));let s="  ",o=e.arguments.map(c=>[s+c,c.description.trim()]);o.length&&(r.push(""),r.push("Arguments:"),r.push(j1(o,n,"  ")));let a=e.options.map(c=>[s+c,c.description.trim()]);return a.length&&(r.push(""),r.push("Options:"),r.push(j1(a,n,"  "))),r.join(`
`)}#r(e){let n=[];return n.push(this.name,""),this.description&&n.push(...em(this.description,e),""),this.usage&&n.push("Usage:",...em(this.usage,e),""),n.join(`
`)}getCommand(e){return this.#e.get(e)}parseArgs(e){let n=e[0],r=this.getCommand(n);if(!r)throw new Error(`Unknown command: ${n}`);return r.parse(e)}async exec(e,n){let r=e[0],i=this.getCommand(r);if(!i)throw new Error(`Unknown command: ${r}`);if(i.parse(e).options.help){n(this.#n(i,this.displayWidth));return}await i.exec(e)}getCommandNames(){return[...this.#e.keys()]}};function d_e(t){let e=t.getArgString();return{cmd:t.name,args:e,description:t.description}}var B1=class{constructor(e,n){this.name=e;this.description=n.description,this.type=n.type,this.required=n.required||!1,this.multiple=this.type.endsWith("[]")}multiple;description;type;required;toString(){let e=this.multiple?"...":"",n=`${this.name}${e}`;return this.required?`<${n}>`:`[${n}]`}},Ow=class{constructor(e,n){this.name=e;if(this.description=n.description,this.type=n.type,this.short=n.short||"",this.param=n.param||this.name,this.required=n.required??!0,this.baseType=f_e(this.type),this.multiple=this.type.endsWith("[]"),this.variadic=n.variadic||!1,this.variadic&&!this.multiple)throw new Error("variadic option must be multiple")}multiple;description;type;short;param;required;baseType;variadic;toString(){let e=this.short?`-${this.short}, `:"",n=this.param||this.name,r=this.variadic?"...":"",i=["boolean","boolean[]"].includes(this.type)?"":`${n}${r}`,s=i&&(this.required?` <${i}>`:` [${i}]`);return`${e}--${this.name}${s}`}};function Za(t,e,n,r){return{[t]:{type:e,description:n,required:r}}}function Eu(t,e,n,r){return{[t]:{type:e,description:n,short:r||void 0}}}function j1(t,e,n="  "){let r=[],i=Math.max(...t.map(([s])=>s.length),0);for(let[s,o]of t){let a=em(o,e-i-n.length);r.push(`${s.padEnd(i)}${n}${a[0]||""}`);for(let c of a.slice(1))r.push(" ".repeat(i)+n+c)}return r.join(`
`)}function f_e(t){return t.replace("[]","")}function $Z(...t){return t.flatMap(e=>e).filter(e=>e!==void 0)}function p_e(t){let e={};for(let n of t.options)e[n.name]={type:n.baseType!=="boolean"?"string":"boolean",multiple:n.multiple},n.short&&(e[n.name].short=n.short);return n=>(0,KZ.parseArgs)({args:n,options:e,allowPositionals:!0,tokens:!0,strict:!1}).tokens||[]}function h_e(t,e){switch(e){case"boolean":return g_e(t??!0);case"number":return m_e(t);case"string":return typeof t=="string"?t:`${t}`}}function g_e(t){if(t!==void 0){if(typeof t=="boolean")return t;if(typeof t=="number")return!!t;if(typeof t=="string"){let e=t.toLowerCase().trim();if(["true","t","yes","y","1","ok"].includes(e))return!0;if(["false","f","no","n","0",""].includes(e))return!1}throw new Error(`Invalid boolean value: ${t}`)}}function m_e(t){let e=Number(t);if(!Number.isNaN(e))return e;throw new Error(`Invalid number value: ${t}`)}var zZ=oe(require("vscode"),1),y_e=/^.*:/;function $1(t){let e=zZ.workspace.asRelativePath(t,!1);return y_e.test(e)?e:e.split("\\").join("/")}function HZ(t,e){let n=typeof t=="string"?t:t.path;if(n.length>e){let r=n.split("/"),i=0,s=r.length,o="",a="",c="\u2026";n=c;let u=n.length;for(;i<s;){let l=r[i],p=r[s-1];if(o.length+l.length<=a.length+p.length){if(u+l.length+1>e)break;u+=l.length+1,o+=l+"/",i++}else{if(u+p.length+1>e)break;u+=p.length+1,a="/"+p+a,s--}}n=o+c+a,n===c&&(a=r[r.length-1],n=c+a.slice(-e+1))}return n}var C_e=60;async function S_e(t){let{uri:e,options:n,index:r,count:i,result:s,startTs:o,endTs:a}=t,{output:c,log:u,width:l}=n,p=x_e(r,i);c(`${p}${hn.gray(HZ($1(e),Math.min(C_e,l-10-p.length)))}`);let f=await s,h=((a||performance.now())-o).toFixed(2)+"ms";if(f.skipped){u(` ${h} Skipped`);return}let g=[],m=f.issues?.filter(C=>!C.isSuggestion),y=!!(f.errors||m?.length);if(g.push(` ${h}${y?hn.red(" X"):""}`),!y){c(g.join("")+"\r"+Iw(0));return}if(f.errors&&g.push(`${hn.red("Errors: ")} ${f.errors}`),m)for(let C of m)g.push(b_e(e,C));u("%s",g.join(`
`))}function x_e(t,e){if(typeof t>"u"||typeof e>"u")return"";let n=e.toString();return`${(t+1).toString().padStart(n.length," ")}/${n} `}function b_e(t,e){let{range:n,text:r,suggestions:i,isFlagged:s}=e,o=`:${n.start.line+1}:${n.start.character+1}`,a=s?"Flagged word ":"Unknown word ",c=$1(t),u=i?` fix: (${i.map(l=>hn.yellow(l.word)).join(", ")})`:"";return`  ${hn.green(c)}${hn.yellow(o)} - ${a} (${hn.red(r)})${u}`}function GZ(t,e,n,r){let{forceCheck:i}=e,s=performance.now(),o=Ex({uri:t.toString()},{forceCheck:i}),a={index:n,count:r,uri:t,startTs:s,options:e,result:o};return o.finally(()=>a.endTs=performance.now()),a}var v_e=10;async function VZ(t,e){let n=t.length,r=[];try{let i=0;for(;i<v_e&&i<n;i++){let s=t[i];r.push(GZ(s,e,i,n))}for(;!e.cancellationToken.isCancellationRequested;)try{let s=r.shift();if(!s)break;if(await S_e(s),i<n){let o=t[i];r.push(GZ(o,e,i,n)),i++}}catch(s){e.error(s);break}Promise.all(r.map(s=>s.result)).catch(s=>e.error(s))}catch{return}}var tm=require("vscode");var ZZ=require("node:os"),eee=require("node:path/posix"),$d=require("vscode"),Hi=oe(require("vscode"),1);async function*JZ(t,e=10){function*n(){let r=!1,i=[],s=t[Symbol.iterator]();function o(){for(;i.length<e;){let a=s.next();if(r=!!a.done,r||a.done)return;i.push(Promise.resolve(a.value()))}}for(o();!r&&i.length;)yield i[0],i.shift(),o();yield*i}for await(let r of n())yield r}var YZ=require("node:os"),Bd=require("vscode");function K1(t,e){return new Bd.RelativePattern(e||ku(),t)}function z1(t){if(t)return typeof t=="string"?t:t.length>1?`{${t.join(",")}}`:t[0]}function QZ(t,e){if((t==="~"||t.startsWith("~/"))&&(e=Bd.Uri.file((0,YZ.homedir)()),t=t.slice(2)),!XZ(t))return["",Bd.Uri.joinPath(e,t)];let n=t.split("/"),r=0;for(;r<n.length&&!XZ(n[r]);++r)e=Bd.Uri.joinPath(e,n[r]);return[n.slice(r).join("/"),e]}function XZ(t){return/[*?{}[\]]/.test(t)}function ku(){return Hi.workspace.workspaceFolders?.[0].uri||D_e(w_e())||$d.Uri.file(".")}function w_e(){return Hi.window.activeTextEditor?.document.uri}function D_e(t){return t&&$d.Uri.joinPath(t,"..")}async function*tee(t,e){if(e?.isCancellationRequested)return[];let n=t.map(r=>async()=>[r,await Hi.workspace.fs.stat(r)]);for await(let r of JZ(n,10)){if(e?.isCancellationRequested)break;yield r}}async function Mw(t,e,n,r,i){let s=K1(t,e),o=await Hi.workspace.findFiles(s,n&&K1(n,e),r,i);return i?.isCancellationRequested&&Hn("globSearch cancelled"),o}function H1(t,e){return typeof t=="string"&&t.startsWith("~")&&(e=$d.Uri.file((0,ZZ.homedir)()),t=t.slice(2)),typeof t=="string"?$d.Uri.joinPath(e||ku(),t):t||ku()}async function nee(t,e){let n=H1(t,e);return await Hi.workspace.fs.readDirectory(n)}async function*G1(t,e=!1,n){if(!n?.isCancellationRequested)for await(let[r,i]of await Hi.workspace.fs.readDirectory(t)){if(n?.isCancellationRequested)return;let s=e?await Hi.workspace.fs.stat($d.Uri.joinPath(t,r)):{type:i};yield[r,s]}}function ree(t){if(!t)return;let e=t.toString().replace(/\/$/,""),n=Hi.workspace.workspaceFolders?.find(r=>r.uri.toString()===e);return n?n.name+"/":Hi.workspace.asRelativePath(t,!0)}function iee(t,e){return(0,eee.relative)(t.path,e.path)}async function see(t){try{return await Hi.workspace.fs.stat(t)}catch(e){return qu(e)}}var T_e=t=>t;async function oee(t,e){let{log:n,dirSuffix:r="/"}=e;for await(let i of E_e(t,e.cwd,e.cancellationToken)){let[s,o]=i;if(o instanceof Error){n(_w("Error: ")+`${Zg(s)}: No such file or directory`);continue}let c=o.type,u=c&tm.FileType.Directory?r:"",l=c&tm.FileType.SymbolicLink?Zg:c&tm.FileType.Directory?jd:T_e;s.startsWith(".")&&(l=UZ(l,MZ)),n(l(s+u))}}async function*E_e(t,e,n){let r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"variant"});if(!t?.length){yield*G1(e,!1,n);return}for(let i of t){if(n?.isCancellationRequested)return;let[s,o]=QZ(i,e);if(!s){let a=await see(o);if(a instanceof Error){yield[i,a];continue}if(a.type&tm.FileType.Directory){yield*G1(o,!1,n);continue}yield[i,a];continue}try{let a=await Mw(s,o,void 0,void 0,n);a.sort((c,u)=>r.compare(c.path,u.path));for await(let[c,u]of tee(a,n))yield[iee(e,c),u]}catch(a){yield[i,qu(a)]}}}async function aee(t,e){let i=(await xt("client").serverApi.spellingSuggestions(t,{uri:e.toString()})).suggestions,s=[];s.push(`Suggestions for "${t}":`),i||s.push(hn.yellow("  No suggestions"));for(let o of i){let a=o.isPreferred||o.word===t?hn.green(o.word):o.word;s.push(`  ${a}${o.isPreferred?hn.yellow("*"):""}`)}return s.join(`
`)}var gee=oe(hee(),1);async function mee(t,e,n){let{width:r}=n,s=await xt("client").serverApi.traceWord({word:t,uri:e.toString(),searchAllDictionaries:!0,languageId:n.filetype,allowCompoundWords:n.allowCompoundWords});if(!s)return"No trace results";let o=[];o.push(`Trace: "${s.word}"`),s.errors&&(o.push(hn.red("Errors:")),o.push(`  ${s.errors}`));let a=gee.default.configure({maxTotalWidth:r}),c=[n.all?void 0:l=>l.found||l.dictEnabled,n.onlyFound?l=>l.found:void 0,n.onlyEnabled?l=>l.dictEnabled:void 0].filter(Xn),u=P_e(c);for(let l of s.traces||[]){o.push(`${l.word}: ${l.found?"":hn.yellow("Not found")}`);let f=[...l.traces].filter(u).sort((d,h)=>d.dictName.localeCompare(h.dictName)).map(d=>{let h=hn.yellow(d.dictName);return{Word:__e(d.word,d.foundWord,d.found),F:d.found?hn.whiteBright("*"):hn.dim("-"),Dictionary:d.dictEnabled?h:hn.dim(h)}});o.push(a(f))}return o.join(`
`)}function P_e(t){return e=>t.every(n=>n(e))}function __e(t,e,n){e&&(e=e.split("+").map(hn.green).join(hn.gray("+")));let r=e||hn.green(t);return n?r:hn.dim(r)}var eO=oe(require("node:stream"),1);var I_e=!1,Gi=I_e?console.debug:()=>{};function yee(t){return new Q1(t)}var N_e={ascii:!0,utf8:!0,utf16le:!0,ucs2:!0,base64:!0,base64url:!0,latin1:!0,binary:!0,hex:!0,"utf-8":!0,"ucs-2":!0,"utf-16le":!0},Q1=class extends eO.default.Writable{#e={columns:80,rows:24};constructor(e){super({write:(n,r,i)=>{let s=r in N_e?r:void 0,o=n.toString(s);Gi("write: %o",See(o)),e.fire(o),setTimeout(i,0)}})}get dimensions(){return this.#e}set dimensions(e){this.#e=e}clearLine(e,n){return Gi("clearLine: %o",e),this.write(Iw(e),n)}clearScreenDown(e){return Gi("clearScreenDown"),this.write(WZ(),e)}cursorTo(e,n,r){return Gi("cursorTo: %o, %o",e,n),r=typeof n=="function"?n:r,n=typeof n=="number"?n:void 0,this.write(BZ(e,n),r)}moveCursor(e,n,r){return Gi("moveCursor: %o, %o",e,n),this.write(jZ(e,n),r)}getColorDepth(e){return Gi("getColorDepth"),256}hasColors(e,n){return Gi("hasColors: %o",e),typeof e!="number"||e<=256}getWindowSize(){return Gi("getWindowSize: %o",this.#e),[this.#e.columns,this.#e.rows]}get columns(){return Gi("columns: %o",this.#e.columns),this.#e.columns}get rows(){return Gi("rows: %o",this.#e.rows),this.#e.rows}get isTTY(){return Gi("isTTY"),!0}},Z1=class extends eO.default.Readable{buffer=[];paused=!0;disposable;constructor(e){super({}),this.disposable=e.event(n=>{this.buffer.push(n),this.pushBuffer()})}_read(){this.paused=!1,this.pushBuffer()}_destroy(){this.disposable.dispose()}pushBuffer(){if(!this.paused)for(let e=this.buffer.shift();e!==void 0&&!this.paused;e=this.buffer.shift())Gi("read: %o",See(e)),this.push(e)}};function Cee(t){return new Z1(t)}var L_e={"\x1B":"\u241B","\n":"\u21B5","\r":"\u21A4","	":"\u21E5"," ":"\u2423"};function See(t){return[...t].map(e=>L_e[e]||e).join("")}var jw=oe(require("node:assert"),1),xee={n:`
`,r:"\r",t:"	",f:"\f",'"':'"',"'":"'"};function nO(t){return Dee(vee(t))}var O_e=[" ","	",`
`,"\r"];function vee(t){let e=[],n=0,r=0,i;for(;n<t.length;){let l=t[n];switch(l){case`
`:case"\r":case"	":case" ":s(i),i=void 0,s(o(),!0);break;case"\\":if([`
`,"\r"].includes(t[n+1])){s(i),i=void 0,s(o(),!0);continue}i=(i||"")+a();break;case'"':case"'":case"`":s(i),i=void 0,s(u(),!1,l);break;default:i=(i||"")+l,++n;break}}return s(i),e;function s(l,p=!1,f=""){l!==void 0&&(e.push({i:n,value:l,original:t.slice(r,n),quote:f,separator:p}),r=n)}function o(){let l=t[n++];for(;n<t.length&&O_e.includes(t[n]);n++)l+=t[n];return l}function a(){return(0,jw.default)(t[n]==="\\"),++n,n>=t.length?"\\":t[n++]}function c(){if(n>=t.length)return"\\";let l=t[n++];return l===`
`||l==="\r"?(l==="\r"&&t[n]===`
`&&++n,""):l in xee?xee[l]:"\\"+l}function u(){let l=t[n++],p="";for(;n<t.length;){let f=t[n++];if(f==="\\")p+=c();else{if(f===l)return p;p+=f}}return p}}var wee={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\\":"\\\\"},M_e=[" ","&",";","|","<",">","`",'"',"'","\\"],U_e=Object.fromEntries(M_e.map(t=>[t,"\\"+t])),q_e={...wee,...U_e};function Dee(t){return Tee(t).map(n=>n.arg)}function Tee(t){let e=[],n;for(let[r,i]of t.entries()){if(i.separator){n!==void 0&&(e.push(n),n=void 0);continue}if(!n){n={arg:i.value,startTokenIndex:r,tokens:[i]};continue}n.arg+=i.value,n.tokens.push(i)}return n!==void 0&&e.push(n),e}function Eee(t){return new tO(vee(t))}var tO=class t{constructor(e=[]){this.tokens=e}get line(){return this.tokens.map(e=>e.original).join("")}get args(){return Dee(this.tokens)}setArg(e,n,r){let s=Tee(this.tokens)[e];(0,jw.default)(s,"Invalid index"),r??=s.tokens[0].quote,this.tokens.splice(s.startTokenIndex,s.tokens.length,{value:n,original:bee(n,r),quote:r,separator:!1})}pushArg(e,n=""){let r={value:e,original:bee(e,n),quote:n,separator:!1},i=this.tokens[this.tokens.length-1];i&&!i.separator&&this.pushSeparator(),this.tokens.push(r)}hasTrailingSeparator(){return this.tokens[this.tokens.length-1]?.separator||!1}pushSeparator(e=" "){this.tokens.push({value:e,original:e,quote:"",separator:!0})}clone(){return new t([...this.tokens])}};function bee(t,e=""){return t?e?W_e(t,e):j_e(t):e+e||'""'}function W_e(t,e){(0,jw.default)(e==='"'||e==="'","Invalid quote");let n="";for(let r of t){let i=wee[r]||r;i===e?n+="\\"+e:n+=i}return e+n+e}function j_e(t){if(!t)return'""';let e="";for(let n of t)e+=q_e[n]||n;return e}var B_e=80;function sO(){let t=new Bw;sn.window.createTerminal({name:"Spell Checker REPL",pty:t}).show()}function oO(){return sn.window.registerTerminalProfileProvider("cSpell.terminal-profile",{provideTerminalProfile:()=>new sn.TerminalProfile({name:"Spell Checker REPL",pty:new Bw})})}var Bw=class{#e=new sn.EventEmitter;#t=new sn.EventEmitter;#n=new sn.EventEmitter;onDidWrite=this.#t.event;onDidClose=this.#n.event;handleInput=e=>this.#e.fire(e);#r=yee(this.#t);#s=Cee(this.#e);#i=e=>this.#t.fire(e);#a=new AbortController;#u={signal:this.#a.signal};#c=ku();#o;#l;#f=!1;#d;#p;open(e){Hn("Repl.open"),(0,rO.default)(!this.#l,"Repl already open"),(0,rO.default)(!this.#f,"Repl already closed"),e&&(this.#d=e,this.#r.dimensions=e),this.#l=kee.default.createInterface({input:this.#s,output:this.#r,completer:this.completer,terminal:!0});let n=this.#l;n.on("SIGTSTP",()=>{}),n.on("SIGINT",this.#_),n.on("close",()=>(Hn("rl close"),this.close())),n.on("line",this.#b),this.#d=e,e&&(this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.#C())}setDimensions(e){this.#d=e,this.#r.dimensions=e,Hn("Repl.setDimensions %o",e),this.#S()}dispose=()=>{Hn("Repl.dispose"),this.close()};#b=e=>{e=e.trim(),Hn("Repl.processLine %o",{line:e,args:nO(e)});let n=async()=>{if(!e)return;if(e==="?"){this.showHelp();return}let r=nO(e);return this.#h().exec(r,this.log)};this.#C(n())};#h(){if(this.#p)return this.#p;let e=new Lw("CSpell REPL"),n=new Rr("check","Spell check the files matching the globs.",{...Za("globs","string[]","File glob patterns.")},{},g=>this.#v(g.args.globs)),r=new Rr("echo","Echo the values.",{...Za("values","string[]","Echo the values to the console.")},{},g=>this.#w(g.args.values)),i=new Rr("trace","Trace which dictionaries contain the word.",{...Za("word","string","The word to trace.",!0)},{...Eu("all","boolean","Show all dictionaries.",""),...Eu("only-found","boolean","Show only found dictionaries.","f"),...Eu("only-enabled","boolean","Show only enabled dictionaries.",""),...Eu("filetype","string","The file type to use. Example: `python`","t"),...Eu("allow-compound-words","boolean","Allow compound words.","")},g=>this.#R(g.args,g.options)),s=new Rr("suggestions","Generate suggestions for a word.",{...Za("word","string","The word to make suggestions.",!0)},{...Eu("max","number","The maximum number of suggestions to generate.","")},g=>this.#P(g.args.word,g.options)),o=new Rr("pwd","Print the current working directory.",{},{},()=>this.#x()),a=new Rr("cd","Change the current working directory.",{...Za("path","string","The path to change to.")},{},g=>this.#A(g.args.path)),c=new Rr("ls","List the directory contents.",{...Za("paths","string[]","The paths to list.")},{},g=>this.#F(g.args)),u=new Rr("env","Show environment variables.",{...Za("filter","string[]","Optional filter.")},{},g=>this.#k(g.args.filter)),l=new Rr("exit","Exit the REPL.",{},{},()=>{this.log("Exiting..."),this.close()}),p=new Rr("help","Show help.",{command:{type:"string",description:"Show Help",required:!1}},{},g=>this.showHelp(g.args.command)),f=new Rr("cls","Clear the screen.",{},{},()=>this.#i(qZ())),d=new Rr("info","Show information about the REPL.",{},{},()=>{this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.log("Working Directory: %s",jd(this.#c.toString(!0))),this.log("Dimensions: %o",this.#d)}),h=[n,r,i,o,a,c,u,l,p,f,d,s];return e.addCommands(h),this.#p=e,e}showHelp(e){this.log(this.#h().getHelp(e))}#C(e){(async()=>{try{if(await e,e)this.#o?.dispose(),this.#o=void 0;else if(this.#o)return}catch(r){r instanceof Error&&this.error(r.message)}if(this.#S(),this.#l?.prompt(),this.#l){let{cursor:r,line:i,terminal:s}=this.#l;Hn("cursor pos: %o",{cursorPos:this.#l.getCursorPos(),dim:this.#d,cursor:r,line:i,terminal:s})}})()}#S(){this.#l?.setPrompt(`cspell ${jd(ree(sn.Uri.joinPath(this.#c,"/"))||"")} > `)}async#v(e){Hn("Repl.cmdCheck");let{log:n,error:r}=this,i=this.#i,s=z1(e);if(s||(s=await this.#l?.question("File glob pattern: ",this.#u)),!s)return;i(W1()+"Gathering Files...");let o=sn.workspace.getConfiguration("search.exclude"),a=Object.keys(o).filter(l=>o[l]===!0),c=z1(a),u=await Mw(s,ku(),c,void 0,this.#y());n(W1()+"Checking..."),await VZ(u,{log:n,error:r,output:i,cancellationToken:this.#y(),width:this.width})}async#w(e){Hn("Repl.cmdEcho"),this.log((e||[]).join(" "))}getCommandNames(){return this.#h().getCommandNames().sort()}completer=async e=>{let n=this.getCommandNames();if(!e.trim())return[n,""];let r=Eee(e),i=r.args;if(i.length===1&&e===i[0])return[this.#m(e,n).map(l=>l+" "),e];let s=i[0],o=r.hasTrailingSeparator()?0:i.length-1,a=o?i[o]:"";return[(await this.#D(s,a,i)).map(l=>{let p=r.clone();return o?p.setArg(o,l):p.pushArg(l),p.line}).filter(l=>l.startsWith(e)),e]};#D=async(e,n,r)=>{switch(console.error("Repl.cmdCompletion %o",{command:e,current:n}),e){case"check":return this.#T(n);case"cd":return this.#E(n,r);case"ls":return this.#g(n,!1);case"help":return this.#m(n,this.getCommandNames())}return[]};#T=async e=>this.#g(e,!1);#E=async(e,n)=>n.length>2||n.length===2&&n[1]!==e?[]:this.#g(e,!0);#g=async(e,n)=>{try{let r=await this.readDirEntryNames(e,n?sn.FileType.Directory:void 0);return this.#m(e,r.map(i=>i.startsWith("-")?`./${i}`:i))}catch{return[]}};#m=(e,n)=>{let r=n.filter(s=>s.startsWith(e)),i=K_e(r);return i&&i!==e?[i]:r};#x(){Hn("Repl.cmdPwd"),this.log(this.#c?.toString(!1)||"No Working Directory")}#k(e){Hn("Repl.cmdEnv"),this.log("Environment:");let n=Object.entries(process.env).filter(([r])=>!e||e.find(i=>r.toLowerCase().includes(i))).sort((r,i)=>r[0].localeCompare(i[0]));for(let[r,i]of n)this.log(`${jd(r)}${Zg("=")}${i}`)}async#R(e,n){Hn("Repl.cmdTrace %o",e);let{word:r}=e;if(!r){this.log("No word specified.");return}let i=await mee(r,this.#c,{...(0,Ree.default)(n),width:this.width});this.log("%s",i)}get width(){return this.#d?.columns||B_e}async#F(e){Hn("Repl.cmdLs %o",e),await oee(e.paths,{log:this.log,cwd:this.#c,cancellationToken:this.#y()})}async readDir(e){return nee(e,this.#c)}async readDirEntryNames(e,n){let r=e.split("/").slice(0,-1).join("/"),i=n?([,c])=>c&n:()=>!0,s=r?[]:[["..",sn.FileType.Directory]],o=r?r+"/":"";return[...s,...(await this.readDir(r)).map(([c,u])=>[o+c,u])].filter(i).map(([c,u])=>c+(u&sn.FileType.Directory?"/":""))}async#A(e){if(!e)return this.#x();try{let n=H1(e,this.#c);if((await sn.workspace.fs.stat(n)).type&sn.FileType.Directory)this.#c=n;else throw sn.FileSystemError.FileNotADirectory(n)}catch(n){if(n instanceof sn.FileSystemError){this.log(`"${e}" is not a valid directory.`);return}this.log("Error: %o",n)}}async#P(e,n){if(!e)return;let r=await aee(e,this.#c);this.log("%s",r)}close=()=>{Hn("Repl.close"),!this.#f&&(this.#f=!0,this.#o?.cancel(),this.#a.abort(),this.#l?.close(),this.#s.destroy(),this.#r.destroy(),this.#n.fire(),this.#o?.dispose(),this.#o=void 0)};log=(...e)=>this.#i(q1((0,iO.formatWithOptions)({colors:!0},...e)+`
`));error=(...e)=>this.#i(_w("Error: ")+q1((0,iO.formatWithOptions)({colors:!0},...e)+`
`));#_=()=>this.#o?.cancel();#I(){return this.#N().token}#y(){return this.#o?.token||this.#I()}#N(){this.#o?.dispose();let e=$_e(this.#a);return this.#o=e,e}};function $_e(t){let e=new sn.CancellationTokenSource;return t.signal.onabort=()=>e.cancel(),e}function K_e(t){if(!t.length)return"";let e=t[0];for(let n of t){let r=0;for(;r<e.length&&r<n.length&&e[r]===n[r];++r);if(e=e.slice(0,r),!e)return e}return e}var Ru=oe(require("vscode"),1);var z_e=!0;function Fee(t){let e=St();if(!z_e)return e;let n=new Map,r,i,s;return e.push(Ru.default.window.onDidChangeActiveTextEditor(u)),e.push(Ru.default.workspace.onDidChangeConfiguration(l=>{l.affectsConfiguration("cSpell")&&u()})),e.push(WD().onDidChangeDiagnostics(()=>c())),e.push(t.onDidChangeVisibility(()=>c(!1))),c(),e;function o(l){let p=uc(n,l,f=>Ru.default.languages.createLanguageStatusItem(f,{language:"*"}));return e.add(p),p}function a(l){let p="cspell-issues",{enabled:f,fileEnabled:d,languageIdEnabled:h,languageId:g=""}=l||{},m=f&&d&&h,y=Ru.default.window.activeTextEditor?.document,x=(y?WD().getSpellingIssues(y.uri):void 0)?.getStats()||{},T=o(p);T.name="Issues";let E=[],k=x.spelling||0,L=x.flagged||0,A=k-L;m===void 0&&E.push("$(repo-sync)"),m===!1&&E.push("$(exclude)"),m&&!t.areIssuesVisible()&&E.push("$(eye-closed)"),m&&!k&&E.push("$(check)"),m&&L&&E.push(`$(error) ${L}`),m&&A&&E.push(`$(warning) ${A}`);let j=E.join(" ");T.severity=Ru.default.LanguageStatusSeverity.Information,T.text=`${j} Spell`;let H=[];if(m===!1&&H.push("- Spell checking is NOT enabled for this file."),h===!1&&H.push(`- File Type: \`${g}\` is NOT enabled.`),l?.fileIsExcluded){let F=[];l.excludedBy?.forEach(M=>F.push(`- Excluded by ${M.name}`)),H.push(...F)}T.detail=H.length?H.join(`
`):void 0,T.command={command:$r["cspell.showActionsMenu"],title:"menu"}}function c(l=!0){if(l){let p=Ru.default.window.activeTextEditor?.document;p!==s&&(s=p,i=void 0),bt(p?fc().isSpellCheckEnabled(p):Promise.resolve(void 0),"Language Status").then(f=>a(i=f))}a(i)}function u(){r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,c()},100)}}var Kw=require("vscode");var Aee=oe(require("node:assert"),1);var Hs=require("vscode"),$w=class t{constructor(e,n){this.uri=e;this.#e=n?.data,this.#n=n?.signature,(0,Aee.default)(!n||n.id==="memento","Invalid memento data"),this.#t=lc(),this.#r=H_e(e,this.#s.bind(this))}#e;#t;#n;#r;keys(){return this.#e?Object.keys(this.#e):[]}get(e,n){return(this.#e?this.#e[e]:void 0)??n}async update(e,n){let r=[];if(typeof e=="string"){let i=e;this.#e=this.#e??{},n===void 0?delete this.#e[i]:this.#e[i]=n,r.push(i)}else{let i=e;r.push(...Object.keys(i)),this.#e={...this.#e,...i}}this.#n=`s${performance.now()}/${performance.now()}`,await t.#a(this.uri,{id:"memento",v:"v1",ts:Date.now(),signature:this.#n,data:this.#e}),this.#t.fire(r)}onDidChange(e){return this.#t.event(e)}dispose=()=>{this.#r.dispose()};#s(e){let n=e.path,r=this.uri.path;n!==r&&console.error(`Invalid file change: '${n}' !== '${r}'`),this.#i().catch(()=>{})}async#i(){let e=await t.#u(this.uri);if(!e){this.#e=void 0;return}e.signature!==this.#n&&(this.#e=e.data,this.#n=e.signature,this.#t.fire(void 0))}static async#a(e,n){let r=JSON.stringify(n,null,2);await Hs.workspace.fs.createDirectory(Hs.Uri.joinPath(e,"..")),await Hs.workspace.fs.writeFile(e,Buffer.from(r))}static async#u(e){try{let n=await Hs.workspace.fs.readFile(e),i=new TextDecoder().decode(n);return JSON.parse(i)}catch{return}}static async createMemento(e){let n=await t.#u(e);return new t(e,n)}};function H_e(t,e){let n=Hs.Uri.joinPath(t,".."),r=t.path.split("/").slice(-1).join(""),i=Hs.workspace.createFileSystemWatcher(new Hs.RelativePattern(n,r));return i.onDidChange(e),i.onDidCreate(e),i.onDidDelete(e),i}function Pee(t,e){return[Date.now(),0,"replace",1,t,e]}function _ee(){return[Date.now(),0,"activate",1]}var aO=class{constructor(e){this.uriStorageDir=e;this.#t=$w.createMemento(Kw.Uri.joinPath(e,"eventLog.json")),this.#t.then(n=>this.#e=n)}#e;#t;#n=[];#r=void 0;#s=void 0;log(e){this.#n.push(e),this.queueFlush()}logActivate(){this.log(_ee())}logReplace(e,n){this.log(Pee(e,n))}get eventLog(){return this.#e?this.#e.get("log",[]):[]}queueFlush(){this.#s||(this.#s=setTimeout(()=>{this.#s=void 0,Wn(this.flush(),"EventLogger.flush")},10))}flush(){let e=async()=>{if(!this.#n.length)return;let r=this.#e??await this.#t,i=r.get("machineId",Kw.env.machineId),s=Date.now(),o=[...r.get("log",[]),...this.#n];this.#n=[],await r.update({machineId:i,ts:s,log:o})},n=this.#r?this.#r.then(e):e();return this.#r=n,n.finally(()=>{this.#r===n&&(this.#r=void 0)}),n}dispose(){this.#e?this.#e.dispose():this.#t.then(e=>e.dispose())}};function cO(t){return new aO(t)}var wD=require("vscode"),nne=oe(im(),1);function dO(t){let e;return new Promise((n,r)=>{let i=!1;e=t.subscribe(s=>{if(!i){i=!0;try{n(s)}finally{qn(e)}}})})}var Ci;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=4]="info",t[t.warn=8]="warn",t[t.error=16]="error",t[t.everything=31]="everything"})(Ci||(Ci={}));var sm;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=3]="info",t[t.warn=4]="warn",t[t.error=5]="error"})(sm||(sm={}));var fO=class{logger;logLevelMask=0;constructor(e,n){this.logger=e,this.logLevelMask=cIe(n)}log=this.bindLogger("log",Ci.log);error=this.bindLogger("error",Ci.error);warn=this.bindLogger("warn",Ci.warn);info=this.bindLogger("info",Ci.info);debug=this.bindLogger("debug",Ci.debug);enableLog=this.bindEnable("log");enableError=this.bindEnable("error");enableWarn=this.bindEnable("warn");enableInfo=this.bindEnable("info");enableDebug=this.bindEnable("debug");isMethodEnabled(e){return!!(Ci[e]&this.logLevelMask)}setLogger(e){return this.logger=e,this}enableMethod(e,n=!0){let r=Ci[e];return n?this.logLevelMask|=r:this.logLevelMask&=~r,this}setLogLevelMask(e){return this.logLevelMask=e,this}bindLogger(e,n){return(...r)=>this.logLevelMask&n&&this.logger[e](...r)||void 0}bindEnable(e){return n=>this.enableMethod(e,n)}};function cIe(t){return t?Ci.everything&Ci.everything<<t-1:0}function ete(t=console,e=sm.log){return new fO(t,e)}var Xd=require("vscode");var _o=oe(require("vscode"),1),om=require("vscode");function tte(t){return e=>e===void 0?t:e}function pO(t){return e=>e===void 0?void 0:t(e)}function nte(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let r of e)n=r(n);return n}return t}async function ote(t,e,n,r){let i=e||mIe(t?.uri),s=cP(i),o=await n.getConfigurationForDocument(t,{enabledFileTypes:!0,enabledLanguageIds:!0,enableFiletypes:!0,dictionaries:!0,dictionaryDefinitions:!0,languageSettings:!0,language:!0});return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:cte(o.settings),configs:lIe(s,o,t,r),workspace:TIe(n.allowedSchemas,_o.workspace),activeFileUri:t?.uri.toString(),activeFolderUri:i?.toString()}}var rte={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},ate=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],uIe=new Map(ate.map((t,e)=>[t,e]));function lIe(t,e,n,r){return{user:hO(1,t),workspace:hO(2,t),folder:hO(3,t),file:pIe(e,n,r)}}function ite(t){return uIe.get(t)||0}function dIe(t,e){return ite(t)>ite(e)?t:e}function Xw(t,e,n){for(let r=t;r>0;--r){let i=ate[r],s=n[i];if(s&&s[e])return i}return"defaultValue"}function hO(t,e){let n=Xw(t,"language",e),r=Xw(t,Ye.enabledLanguageIds,e),i=Xw(t,Ye.enableFiletypes,e),s=Xw(t,Ye.enabledFileTypes,e),o=kIe(e[r],e[i],e[s]),a=dIe(r,i);return{inherited:{locales:rte[n],languageIdsEnabled:rte[a]},locales:gO(e[n]?.language),languageIdsEnabled:o}}function fIe(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&bs(ht(e.configUri))}))}function pIe(t,e,n){if(!e)return;let{uri:r,fileName:i,languageId:s,isUntitled:o}=e,{enabled:a,enabledVSCode:c,languageIdEnabled:u,docSettings:l,fileEnabled:p,fileIsExcluded:f,fileIsIncluded:d,gitignoreInfo:h,excludedBy:g,uriUsed:m,workspaceFolderUri:y}=t,C=new Set(l&&l.dictionaries||[]),x=cte(l).filter(A=>C.has(A.name)),T=m?om.Uri.parse(m):r,E=y&&_o.workspace.getWorkspaceFolder(om.Uri.parse(y))||_o.workspace.getWorkspaceFolder(T);function k(){if(!h)return;let{glob:A,gitIgnoreFile:j,line:H,matched:F,root:M}=h,J=om.Uri.file(j);return{matched:F,glob:A,line:H,root:M,gitignoreFileUri:J.toString(),gitignoreName:bs(J)}}return{enabled:a,enabledVSCode:c,uri:r.toString(),uriActual:T.toString(),fileName:i,name:T.path.split("/").slice(-1)[0],isUntitled:o,locales:gO(l?.language),languageId:s,dictionaries:x,languageIdEnabled:u,fileEnabled:p,configFiles:SIe(t),fileIsExcluded:f,fileIsIncluded:d,fileIsInWorkspace:!!E||!!y||o,excludedBy:fIe(g),gitignoreInfo:k(),blockedReason:t.blockedReason,workspaceFolder:hIe(E)}}function hIe(t){if(t)return{uri:t.uri.toString(),name:t.name,index:t.index}}function gIe(){return _o.workspace.workspaceFolders?.[0]}function mIe(t){return t&&_o.workspace.getWorkspaceFolder(t)?.uri||gIe()?.uri}function yIe(t){return _o.workspace.asRelativePath(t,!0)}function CIe(t){return t.scheme==="file"||_o.workspace.getWorkspaceFolder(t)?_o.workspace.asRelativePath(t,!0):t.toString(!0)}function SIe(t){let{configFiles:e,configTargets:n}=t,r=n.filter(xIe).map(({name:s,configUri:o})=>({name:s,uri:o}));return r.length?r:e.map(s=>({name:bs(ht(s)),uri:s}))}function xIe(t){return t.kind==="cspell"}var bIe=/\.txt$/,vIe=/(?:@|%40)cspell\//;function cte(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(wIe).map(i=>[i.name,i]));return(t.languageSettings||[]).forEach(i=>{let s=gO(i.locale||i.local),o=ute(i.languageId);(i.dictionaries||[]).forEach(c=>{let u=n.get(c);u&&(u.locales=ste(u.locales,s),u.languageIds=ste(u.languageIds,o))})}),[...n.values()]}function wIe(t){let e=DIe(t),n=e?.toString(),r=n&&(t.addWords||bIe.test(n)&&!vIe.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:r?n:void 0,uriName:r&&e?CIe(e):void 0}}function DIe(t){if(!(!t.path&&!t.file))return om.Uri.joinPath(ht(t.path||""),t.file||"")}function gO(t){return ute(t)}function ute(t){return nte(t,pO(e=>typeof e=="string"?e:e.join(",")),pO(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),tte([]))}function ste(t,e){return t.concat(e).filter(dc())}function TIe(t,e){function n(c){let{name:u,index:l}=c;return{uri:c.uri.toString(),name:u,index:l}}function r(c){let{fileName:u,languageId:l,isUntitled:p}=c;return{uri:c.uri.toString(),fileName:yIe(u),languageId:l,isUntitled:p}}let{name:i,workspaceFolders:s,textDocuments:o}=e;return{name:i,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(r)}}function EIe(...t){let e={};return t.reduce((n,r)=>Fm(r,n),e)}function kIe(...t){let e=EIe(...t.filter(Xn));return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}var fte=oe(dte());function yO(t){return new mO(t)}var mO=class extends Qa{_value;constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this.set(e)}set(e){this._value===e||(0,fte.default)(this._value,e)||(this._value=e,this.notify(e))}subscribe(e){let n=super.subscribe(e);return Md(e)(this._value),n}update(e){return this.set(e(this._value))}};var am=require("vscode"),gte=oe(im(),1);var pte=[{uuid:1,done:!1,text:"finish Svelte tutorial"},{uuid:2,done:!1,text:"build an app"},{uuid:3,done:!1,text:"world domination"}];function CO(t){return FIe(t,rc())}var RIe={...console},mte=ete(RIe,sm.none);function Jd(){return mte}function FIe(t,e){let n,r=new Set,i=St([()=>qn(n)],"bindApiAndStore"),s=i.dispose,a=(0,gte.createServerSideSpellInfoWebviewApi)(t,{serverRequests:{whatTimeIsIt:u,getLogDebug:()=>e.state.logDebug.value,getTodos:()=>hte(e.state.todos),getCurrentDocument:()=>hte(e.state.currentDocument),getDocSettings:SO,updateEnabledFileTypes:p=>xa(p.enabledFileTypes,p.url),setLogDebug:p=>e.state.logDebug.value=p,setTodos:p=>AIe(p,e.state.todos),watchFields:c,resetTodos:l},serverNotifications:{async showInformationMessage(p){await am.window.showInformationMessage("Show Message: "+p)},async openTextDocument(p){if(!p)return;let f=am.Uri.parse(p);await am.window.showTextDocument(f)}},clientRequests:{},clientNotifications:{onStateChange:!0}},mte);return i.push(Lu(a)),lf({...a},s,"bindApiAndStore");function c(p){qn(n),p.forEach(f=>r.add(f)),n=yte(r,f=>{a.clientNotification.onStateChange(f)})}function u(){return new Date().toString()}function l(){return xO(void 0,pte.map(p=>({...p})),e.state.todos)}}function AIe(t,e){return xO(t.seq,t.value,e)}function hte(t){return PIe(dO(t))}async function PIe(t){let e=await t;return _Ie(e)}function _Ie(t){return{seq:rc().seq,value:t}}var IIe=!1;IIe&&Jd().setLogLevelMask(Ci.everything);var cm;function rc(){if(cm)return cm;let t=Kg(NIe),e=Du(t,$g(500),m1);function n(){qn(t);let s=cm;cm=void 0,s&&Object.values(s.state).forEach(o=>qn(o))}let r={logDebug:yO(Jd().isMethodEnabled("debug")),todos:yO([])};return cm=lf({seq:1,state:{...r,currentDocument:e}},n,"getWebviewGlobalStore")}function NIe(t){let e=Md(t),n=[],r=wm(n);return i(Xd.window.activeTextEditor),n.push(Ste(Xd.window.onDidChangeActiveTextEditor(i,void 0))),n.push(Ste(Xd.window.onDidChangeTextEditorSelection(s=>s.textEditor===Xd.window.activeTextEditor&&i(s.textEditor),void 0))),r;function i(s){if(!s)return;let o=s.document,a={url:o.uri.toString(),version:o.version};e(a)}}async function SO(t){let e=t&&LIe(t)||void 0,n=df();return ote(e,void 0,n.client,console.log)}function xO(t,e,n){let r=rc();return t&&t!==r.seq?{seq:r.seq,value:n.value,success:!1}:(r.seq++,n.set(e),{seq:r.seq,value:n.value,success:!0})}function yte(t,e){let n=rc(),i=[...t].map(s=>({field:s,sub:n.state[s]})).map(s=>s.sub.subscribe(()=>e([s.field])));return wm(i)}function LIe(t){return OIe(t)?.document}function OIe(t){for(let e of Xd.window.visibleTextEditors)if(!MIe(e.document.uri,t))return e}function MIe(t,e){let n=Cte(t),r=Cte(e);return n===r?0:n<r?-1:1}function Cte(t){return decodeURIComponent(decodeURIComponent(t.toString())).normalize("NFC").replace(/^file:\/\/\/[a-z]:/i,n=>n.toLowerCase())}function Ste(t){return bi(()=>t.dispose(),void 0,"disposeClassic")}var gm=require("vscode");var ene=oe(im(),1);var NM=require("vscode");var of=oe(Yte(),1),PM=class extends of.AbstractMessageReader{webview;logger;constructor(e,n){super(),this.webview=e,this.logger=n}listen(e){return this.logger?.debug("start listening"),this.webview.onDidReceiveMessage(n=>{this.logger?.debug("listen: %o",n),e(n)})}},_M=class extends of.AbstractMessageWriter{webview;logger;errorCount;constructor(e,n){super(),this.webview=e,this.logger=n,this.errorCount=0}async write(e){try{await this.webview.postMessage(e),this.errorCount=0}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};function IM(t,e){return(0,of.createMessageConnection)(new PM(t,e),new _M(t,e),e)}function Qte(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var Zte=require("vscode");function CD(t,e,...n){return t.asWebviewUri(Zte.Uri.joinPath(e,...n))}var cc=class t{constructor(e,n,r){this.webview=e;this.extensionUri=n;this.viewName=r;e.options=this.calcOptions(),e.html=this._getWebviewContent();let i=IM(e,Jd());this._disposables.push(Lu(CO(i),"createApi")),i.listen(),this._disposables.push(Lu(i,"rpc"))}_disposables=St(void 0,"AppView");dispose=this._disposables.dispose;calcOptions(){let e=this.extensionUri;return{enableScripts:!0,localResourceRoots:[NM.Uri.joinPath(e,"out"),NM.Uri.joinPath(e,"packages/webview-ui/public")]}}_getWebviewContent(){let{webview:e,extensionUri:n,viewName:r}=this,i=CD(e,n,"packages/webview-ui/public/build/bundle.css"),s=CD(e,n,"packages/webview-ui/public/assets/css/codicon.css"),o=CD(e,n,"packages/webview-ui/public/build/bundle.js"),a=Qte();return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>Hello World</title>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <meta http-equiv="Content-Security-Policy" content="
            default-src 'none';
            font-src ${e.cspSource};
            style-src 'nonce-${a}';
            style-src-elem 'nonce-${a}';
            script-src 'nonce-${a}';
          ">
          <meta property="csp-nonce" content="${a}" />
          <meta property="view-name" content="${r}" />
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${i}">
          <link rel="stylesheet" type="text/css" nonce="${a}" href="${s}">
          <script nonce="${a}">
            var process = { env: { NODE_ENV: 'production' } };
          </script>
          <script defer nonce="${a}" src="${o}"></script>
        </head>
        <body>
        </body>
      </html>
    `}static bindView(e,n,r){return new t(e,n,r)}};var SD=class{static bindView(e,n){return new cc(e,n,ene.supportedViewsByName["hello-world"])}};var mm=class t{static currentPanel;_panel;_disposables=St(void 0,"HelloWorldPanel");constructor(e,n){this._panel=e,this._disposables.push(this._panel),this._disposables.push(this._panel.onDidDispose(()=>this.dispose())),this._disposables.push(SD.bindView(this._panel.webview,n))}static render(e){if(t.currentPanel){t.currentPanel._panel.reveal(gm.ViewColumn.One);return}let n=gm.window.createWebviewPanel("showHelloWorld","Hello World",gm.ViewColumn.One,{});t.currentPanel=new t(n,e)}dispose(){t.currentPanel===this&&(t.currentPanel=void 0),this._disposables.dispose()}};var tne=oe(im(),1);var xD=class{static bindView(e,n){return new cc(e,n,tne.supportedViewsByName.todo)}};var bD=class{constructor(e){this.extensionUri=e}viewType="cspell-info.todoView";_view;resolveWebviewView(e,n,r){this._view=e;let i=xD.bindView(e.webview,this.extensionUri);this._view.onDidDispose(()=>i.dispose())}};var vD=class{constructor(e,n,r){this.extensionUri=e;this.viewName=n;this.viewType=r}_view;resolveWebviewView(e,n,r){this._view=e;let i=cc.bindView(e.webview,this.extensionUri,this.viewName);this._view.onDidDispose(()=>i.dispose())}};var rne=["cspell-info.showHelloWorld"],CNe=Object.fromEntries(rne.map(t=>[t,t]));function LM(t){let{subscriptions:e,extensionUri:n}=t,r=[new bD(n),new vD(n,nne.supportedViewsByName["cspell-info"],"cSpellInfoView")];for(let s of r)e.push(wD.window.registerWebviewViewProvider(s.viewType,s));let i=wD.commands.registerCommand(CNe["cspell-info.showHelloWorld"],()=>{mm.render(t.extensionUri)});e.push(i,{dispose:()=>mm.currentPanel?.dispose()}),e.push(rc())}wa.mark("cspell_done_import");var sne=!1,ym;DZ();async function SNe(t){wa.mark("cspell_activate_start"),ff("extensionContext",t);let e=cO(t.globalStorageUri);ff("eventLogger",e),e.logActivate();let n=Mn.window.createOutputChannel("Code Spell Checker",{log:!0}),r=xNe(n);ine();let i=new Mn.EventEmitter,s=new Promise(_=>i.event(_));_1(t,s),E1(t,s);let o=await XS.create(t);if(t.subscriptions.push(o,n,r),ff("client",o),sne){let _=Mn.Uri.joinPath(t.globalStorageUri,"data.json");console.log('Extension "Code Spell Checker" is now active! %o',{extensionUri:t.extensionUri.toJSON(),globalStorageUri:t.globalStorageUri.toJSON(),dataFileUri:_.toJSON(),dataFileDirUri:Mn.Uri.joinPath(_,"..").toJSON(),workspaceState:t.workspaceState.keys(),globalState:t.globalState.keys()})}yZ(t,o),await o.start();let a=new vw(o);ff("issueTracker",a),i.fire(a),i.dispose();function c(_=0){setTimeout(u,_)}function u(){hc(o.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{}).catch(()=>{})}function l(_){Qr.log(`Configuration Change: ${_.toString()}`),ym=void 0,c()}let p=XQ(),f=new Bg(t,a),d=new zg(t,o),h={"cSpell.toggleTraceMode":()=>d.toggleVisible(),"cSpell.toggleVisible":()=>f.toggleVisible(),"cSpell.show":()=>f.visible=!0,"cSpell.hide":()=>f.visible=!1,"cSpell.createCSpellTerminal":sO};t.subscriptions.push(a,p,p.onDidChangeConfig(l),Mn.workspace.onDidSaveTextDocument(m),Mn.workspace.onDidRenameFiles(y),Mn.workspace.onDidDeleteFiles(C),Mn.workspace.onDidCreateFiles(x),Mn.workspace.onDidOpenTextDocument(T),Mn.workspace.onDidChangeConfiguration(E),Mn.window.onDidChangeActiveTextEditor(k),Mn.window.onDidChangeVisibleTextEditors(L),a.onDidChangeDiagnostics(A),f,d,DV(a),eV(f.visible,f.onDidChangeVisibility),oO(),...mV(h),Mn.workspace.onDidChangeConfiguration(g),Fee({areIssuesVisible:()=>f.visible,onDidChangeVisibility:f.onDidChangeVisibility}),SV({areIssuesVisible:()=>f.visible})),await vV(t.subscriptions).catch(()=>{});function g(_){_.affectsConfiguration(ci)&&c()}function m(_){j([_.uri])}function y(_){let I=_.files.map(W=>W.newUri).concat(_.files.map(W=>W.oldUri));j(I)}function C(_){j(_.files)}function x(_){j(_.files)}function T(_){}function E(_){_.affectsConfiguration(OG("logLevel"))&&ine()}function k(_){Wn(Od(o,_?.document),"handleOnDidChangeActiveTextEditor")}function L(_){Wn(Od(o,Mn.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function A(_){let I=Mn.window.activeTextEditor;if(!I)return;new Set(_.uris.map(ue=>ue.toString())).has(I.document.uri.toString())&&setTimeout(()=>{Wn(Od(o,I.document),"handleOnDidChangeDiagnostics")},10)}function j(_){for(let I of _)if(S0.has(Cr.basename(I))){c();break}}function H(_){o.registerConfiguration(_)}let F={enableLocale:(_,I)=>XP(_,I,!0),disableLocale:(_,I)=>XP(_,I,!1)},M=(_,I)=>o.getConfigurationForDocument(_,I),J={registerConfig:H,triggerGetSettings:c,enableLanguageId:VP,disableLanguageId:JP,enableCurrentFileType:eh,disableCurrentFileType:th,addWordToUserDictionary:Um,addWordToWorkspaceDictionary:Mm,enableLocale:F.enableLocale,disableLocale:F.disableLocale,updateSettings:()=>!1,cSpellClient:()=>o,getConfigurationForDocument:M,checkDocument:Ex,enableLocal:F.enableLocale,disableLocal:F.disableLocale,enableCurrentLanguage:eh,disableCurrentLanguage:th};return LM(t),wa.mark("cspell_activate_end"),wa.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),J}function xNe(t){let e=St(),n=one(),r={log:(...i)=>sne||n==="Debug"?t.info(...i):t.debug(...i),error:t.error.bind(t),info:t.info.bind(t),warn:t.warn.bind(t)};return Qr.setConnection({console:r,onExit:i=>e.push(i)}),Qr.logTime=!1,Qr.logSequence=!1,e}wa.mark("cspell_done_load");function one(){return ym||(ym=uo("logLevel",void 0)||"Error",ym)}function ine(t){let e=t??one();Qr.level=e}0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=extension.cjs.map
